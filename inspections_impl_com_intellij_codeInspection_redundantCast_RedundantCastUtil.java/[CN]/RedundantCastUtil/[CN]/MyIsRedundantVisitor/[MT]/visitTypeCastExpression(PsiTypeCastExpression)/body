{
  PsiExpression operand=typeCast.getOperand();
  if (operand == null)   return;
  PsiElement expr=deParenthesize(operand);
  if (expr instanceof PsiTypeCastExpression) {
    PsiType castType=((PsiTypeCastExpression)expr).getCastType().getType();
    if (!(castType instanceof PsiPrimitiveType)) {
      addToResults((PsiTypeCastExpression)expr);
    }
  }
 else {
    if (typeCast.getParent() instanceof PsiConditionalExpression) {
      if (typeCast.getManager().getEffectiveLanguageLevel().compareTo(LanguageLevel.JDK_1_5) < 0) {
        if (!operand.getType().equals(((PsiConditionalExpression)typeCast.getParent()).getType()))         return;
      }
    }
    processAlreadyHasTypeCast(typeCast);
  }
}
