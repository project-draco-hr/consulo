{
  final IdeaTestFixtureFactory fixtureFactory=IdeaTestFixtureFactory.getFixtureFactory();
  myTempDirFixture=fixtureFactory.createTempDirTestFixture();
  final File svnRoot=new File(myTempDirFixture.getTempDirPath(),"svnroot");
  svnRoot.mkdir();
  File pluginRoot=new File(PathManager.getHomePath(),"svnPlugins/svn4idea");
  if (!pluginRoot.isDirectory()) {
    Class aClass=SvnTestCase.class;
    String rootPath=PathManager.getResourceRoot(aClass,"/" + aClass.getName().replace('.','/') + ".class");
    pluginRoot=new File(rootPath).getParentFile().getParentFile().getParentFile();
  }
  myClientBinaryPath=new File(pluginRoot,"testData/svn/bin");
  verify(runSvnAdmin("create",svnRoot.getPath()));
  myWcRoot=new File(myTempDirFixture.getTempDirPath(),"wcroot");
  myWcRoot.mkdir();
  final String url="file:///" + FileUtil.toSystemIndependentName(svnRoot.getPath());
  verify(runSvn("co",url,"."));
  initProject(myWcRoot);
  activateVCS(SvnVcs.VCS_NAME);
}
