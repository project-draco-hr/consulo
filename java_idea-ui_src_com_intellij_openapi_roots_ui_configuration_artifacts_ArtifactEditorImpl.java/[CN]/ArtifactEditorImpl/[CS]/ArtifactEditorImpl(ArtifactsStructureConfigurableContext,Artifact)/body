{
  myContext=new ArtifactEditorContextImpl(context,this);
  myOriginalArtifact=artifact;
  myProject=context.getProject();
  mySourceItemsTree=new SourceItemsTree(myContext,this);
  myLayoutTreeComponent=new LayoutTreeComponent(this,mySubstitutionParameters,myContext,myOriginalArtifact);
  myPropertiesEditors=new ArtifactPropertiesEditors(myContext,myOriginalArtifact);
  Disposer.register(this,mySourceItemsTree);
  Disposer.register(this,myLayoutTreeComponent);
  myBuildOnMakeCheckBox.setSelected(artifact.isBuildOnMake());
  myClearOnRebuildCheckBox.setSelected(artifact.isClearOutputDirectoryOnRebuild());
  final String outputPath=artifact.getOutputPath();
  myOutputDirectoryField.addBrowseFolderListener(CompilerBundle.message("dialog.title.output.directory.for.artifact"),CompilerBundle.message("chooser.description.select.output.directory.for.0.artifact",getArtifact().getName()),myProject,FileChooserDescriptorFactory.createSingleFolderDescriptor());
  setOutputPath(outputPath);
  myValidationManager=new ArtifactValidationManagerImpl(this);
  myContext.setValidationManager(myValidationManager);
}
