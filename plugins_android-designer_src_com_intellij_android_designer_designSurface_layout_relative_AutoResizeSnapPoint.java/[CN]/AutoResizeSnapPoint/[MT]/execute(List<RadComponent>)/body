{
  ApplicationManager.getApplication().runWriteAction(new Runnable(){
    @Override public void run(){
      XmlTag tag=((RadViewComponent)components.get(0)).getTag();
      if (myMargin > 0) {
        String attribute=myHorizontal ? "Left" : "Top";
        tag.setAttribute("layout_alignParent" + attribute,SdkConstants.NS_RESOURCES,"true");
        tag.setAttribute("layout_margin" + attribute,SdkConstants.NS_RESOURCES,Integer.toString(myMargin) + "dp");
        ModelParser.deleteAttribute(tag,"layout_align" + attribute);
        if (myHorizontal) {
          ModelParser.deleteAttribute(tag,"layout_toRightOf");
        }
 else {
          ModelParser.deleteAttribute(tag,"layout_below");
        }
      }
 else {
        String attribute=myHorizontal ? "Right" : "Bottom";
        ModelParser.deleteAttribute(tag,"layout_alignParent" + attribute);
        ModelParser.deleteAttribute(tag,"layout_align" + attribute);
        if (myHorizontal) {
          ModelParser.deleteAttribute(tag,"layout_toLeftOf");
        }
 else {
          ModelParser.deleteAttribute(tag,"layout_above");
        }
      }
      tag.setAttribute("layout_" + (myHorizontal ? "width" : "height"),SdkConstants.NS_RESOURCES,Integer.toString(mySize) + "dp");
    }
  }
);
}
