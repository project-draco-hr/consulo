{
  updateVariablesByTemplateText();
  ArrayList newVariables=new ArrayList();
  for (int i=0; i < myVariables.size(); i++) {
    Variable variable=(Variable)myVariables.get(i);
    if (!TemplateImpl.INTERNAL_VARS_SET.contains(variable.getName())) {
      newVariables.add(variable.clone());
    }
  }
  EditVariableDialog editVariableDialog=new EditVariableDialog(myTemplateEditor,myEditVariablesButton,newVariables);
  editVariableDialog.show();
  if (!editVariableDialog.isOK())   return;
  myVariables=newVariables;
}
