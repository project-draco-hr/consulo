{
  ArrayList parsedVariables=new ArrayList();
  parseVariables(myTemplateEditor.getDocument().getCharsSequence(),parsedVariables);
  Hashtable oldVariableNames=new Hashtable();
  for (int j=0; j < myVariables.size(); j++) {
    Variable oldVariable=(Variable)myVariables.get(j);
    String name=oldVariable.getName();
    oldVariableNames.put(name,name);
  }
  Hashtable newVariableNames=new Hashtable();
  for (int j=0; j < parsedVariables.size(); j++) {
    Variable newVariable=(Variable)parsedVariables.get(j);
    String name=newVariable.getName();
    newVariableNames.put(name,name);
  }
  int oldVariableNumber=0;
  for (int i=0; i < parsedVariables.size(); i++) {
    Variable variable=(Variable)parsedVariables.get(i);
    String name=variable.getName();
    if (oldVariableNames.get(name) != null) {
      Variable oldVariable=null;
      for (; oldVariableNumber < myVariables.size(); oldVariableNumber++) {
        oldVariable=(Variable)myVariables.get(oldVariableNumber);
        if (newVariableNames.get(oldVariable.getName()) != null) {
          break;
        }
        oldVariable=null;
      }
      oldVariableNumber++;
      if (oldVariable != null) {
        parsedVariables.set(i,oldVariable);
      }
    }
  }
  myVariables=parsedVariables;
}
