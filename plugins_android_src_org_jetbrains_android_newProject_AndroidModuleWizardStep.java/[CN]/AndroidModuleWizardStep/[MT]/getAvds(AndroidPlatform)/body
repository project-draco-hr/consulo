{
  final AndroidSdkData sdkData=androidPlatform.getSdkData();
  final SdkManager sdkManager=sdkData.getSdkManager();
  try {
    final AvdManager avdManager=new AvdManager(sdkManager,new MessageBuildingSdkLog());
    final AvdInfo[] validAvds=avdManager.getValidAvds();
    final String[] avdNames=new String[validAvds.length];
    for (int i=0; i < validAvds.length; i++) {
      avdNames[i]=validAvds[i].getName();
    }
    return avdNames;
  }
 catch (  AndroidLocation.AndroidLocationException e) {
    LOG.info(e);
    return ArrayUtil.EMPTY_STRING_ARRAY;
  }
}
