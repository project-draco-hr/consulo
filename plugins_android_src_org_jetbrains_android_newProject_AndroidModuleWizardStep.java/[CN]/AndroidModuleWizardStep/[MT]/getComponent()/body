{
  myAppPropertiesEditor.getApplicationNameField().setText(myModuleBuilder.getName());
  Sdk selectedSdk=mySdkComboBoxWithBrowseButton.getSelectedSdk();
  final PropertiesComponent properties=PropertiesComponent.getInstance();
  if (selectedSdk == null) {
    String defaultPlatformName=properties.getValue(AndroidSdkUtils.DEFAULT_PLATFORM_NAME_PROPERTY);
    if (defaultPlatformName != null) {
      Sdk sdk=ProjectJdkTable.getInstance().findJdk(defaultPlatformName);
      if (sdk != null && sdk.getSdkType().equals(AndroidSdkType.getInstance())) {
        selectedSdk=sdk;
      }
    }
  }
  mySdkComboBoxWithBrowseButton.rebuildSdksListAndSelectSdk(selectedSdk);
  boolean shouldReset=myAvdCombo.getComboBox().getSelectedItem() == null;
  startUpdatingAvds();
  if (shouldReset) {
    final String targetAvd=properties.getValue(TARGET_AVD_FOR_NEW_MODULE_PROPERTY);
    if (targetAvd != null && targetAvd.length() > 0) {
      myAvdCombo.getComboBox().setSelectedItem(targetAvd);
    }
  }
  updateDeploymentTargetPanel();
  return myPanel;
}
