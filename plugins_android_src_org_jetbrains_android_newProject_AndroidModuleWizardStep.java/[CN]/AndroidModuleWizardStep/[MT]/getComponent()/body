{
  final String moduleName=myModuleBuilder.getName();
  if (moduleName != null) {
    myAppPropertiesEditor.getApplicationNameField().setText(moduleName);
    myAppPropertiesEditor.getPackageNameField().setText(AndroidAppPropertiesEditor.getDefaultPackageNameByModuleName(moduleName));
  }
  final PropertiesComponent properties=PropertiesComponent.getInstance();
  boolean shouldReset=myAvdCombo.getComboBox().getSelectedItem() == null;
  startUpdatingAvds();
  if (shouldReset) {
    final String targetAvd=properties.getValue(TARGET_AVD_FOR_NEW_MODULE_PROPERTY);
    if (targetAvd != null && targetAvd.length() > 0) {
      myAvdCombo.getComboBox().setSelectedItem(targetAvd);
    }
  }
  updateDeploymentTargetPanel();
  return myPanel;
}
