{
  final NavBarListener listener=(NavBarListener)panel.getClientProperty(LISTENER);
  panel.putClientProperty(LISTENER,null);
  if (listener != null) {
    final Project project=panel.getProject();
    KeyboardFocusManager.getCurrentKeyboardFocusManager().removePropertyChangeListener(listener);
    FileStatusManager.getInstance(project).removeFileStatusListener(listener);
    PsiManager.getInstance(project).removePsiTreeChangeListener(listener);
    WolfTheProblemSolver.getInstance(project).removeProblemListener(listener);
    final MessageBusConnection connection=(MessageBusConnection)panel.getClientProperty(BUS);
    panel.putClientProperty(BUS,null);
    if (connection != null) {
      connection.disconnect();
    }
  }
}
