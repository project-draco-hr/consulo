{
  if (!myOptimizedLineShiftCalculated) {
    myOptimizedLineShiftCalculated=true;
    if (myOldLength == 0) {
      int lineShift=countNewLines(myNewString);
      myOptimizedLineShift=lineShift != 0 ? lineShift : -1;
    }
  }
  return myOptimizedLineShift;
}
