{
  if (!myOptimizedOldLineShiftCalculated) {
    myOptimizedOldLineShiftCalculated=true;
    if (myNewLength == 0) {
      int lineShift=countNewLines(myOldString);
      myOptimizedOldLineShift=lineShift != 0 ? lineShift : -1;
    }
  }
  return myOptimizedOldLineShift;
}
