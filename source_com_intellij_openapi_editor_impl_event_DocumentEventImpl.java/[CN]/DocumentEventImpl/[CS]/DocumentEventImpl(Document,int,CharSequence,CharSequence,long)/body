{
  super(document);
  myOffset=offset;
  myOldString=oldString;
  if (myOldString == null)   myOldString="";
  myOldLength=myOldString.length();
  myNewString=newString;
  if (myNewString == null)   myNewString="";
  myNewLength=myNewString.length();
  myOldTimeStamp=oldTimeStamp;
  if (getDocument().getTextLength() == 0) {
    isOnlyOneLineChangedCalculated=true;
    isOnlyOneLineChanged=false;
  }
 else {
    myIsWholeDocReplaced=offset == 0 && document.getTextLength() == myOldLength;
  }
}
