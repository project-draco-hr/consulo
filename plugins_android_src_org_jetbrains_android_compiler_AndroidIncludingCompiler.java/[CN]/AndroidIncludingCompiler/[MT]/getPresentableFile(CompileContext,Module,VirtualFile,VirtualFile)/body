{
  String generatedFileRelativePath=VfsUtilCore.getRelativePath(generatedFile,outputRoot,'/');
  if (generatedFileRelativePath == null) {
    return null;
  }
  for (  AndroidFacet depFacet : AndroidUtils.getAllAndroidDependencies(module,true)) {
    String genSrcRootPath=AndroidRootUtil.getAptGenSourceRootPath(depFacet);
    VirtualFile genSrcRoot=genSrcRootPath != null ? LocalFileSystem.getInstance().findFileByPath(genSrcRootPath) : null;
    VirtualFile[] srcRoots=ModuleRootManager.getInstance(depFacet.getModule()).getSourceRoots();
    for (    VirtualFile depSourceRoot : srcRoots) {
      if (!Comparing.equal(depSourceRoot,genSrcRoot)) {
        VirtualFile file=depSourceRoot.findFileByRelativePath(generatedFileRelativePath);
        if (file != null) {
          return file;
        }
      }
    }
  }
  return null;
}
