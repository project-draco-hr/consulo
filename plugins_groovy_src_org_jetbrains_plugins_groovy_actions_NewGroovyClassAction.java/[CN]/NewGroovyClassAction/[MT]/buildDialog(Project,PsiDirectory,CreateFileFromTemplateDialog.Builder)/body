{
  builder.setTitle(GroovyBundle.message("newclass.dlg.title")).addKind("Class",GroovyIcons.CLASS,GROOVY_CLASS).addKind("Interface",GroovyIcons.INTERFACE,GROOVY_INTERFACE).addKind("Enum",GroovyIcons.ENUM,GROOVY_ENUM).addKind("Annotation",GroovyIcons.ANNOTATION_TYPE,GROOVY_ANNOTATION);
  for (  FileTemplate template : FileTemplateManager.getInstance().getAllTemplates()) {
    FileType fileType=FileTypeManagerEx.getInstanceEx().getFileTypeByExtension(template.getExtension());
    if (fileType.equals(GroovyFileType.GROOVY_FILE_TYPE) && JavaDirectoryService.getInstance().getPackage(directory) != null) {
      builder.addKind(template.getName(),GroovyIcons.CLASS,template.getName());
    }
  }
}
