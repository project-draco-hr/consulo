{
  if (lexer.getTokenType() != XML_ATTRIBUTE_VALUE_START_DELIMITER) {
    return -1;
  }
  CompositeElement value=ASTFactory.composite(XML_ATTRIBUTE_VALUE);
  parent.rawAddChildren(value);
  addToken(value,lexer);
  while (true) {
    if (lexer.getTokenType() == XML_ATTRIBUTE_VALUE_TOKEN) {
      addToken(value,lexer);
    }
 else     if (lexer.getTokenType() == XML_CHAR_ENTITY_REF) {
      addToken(value,lexer);
    }
 else     if (lexer.getTokenType() == XML_ENTITY_REF_TOKEN) {
      value.rawAddChildren(parseEntityRef(lexer));
    }
 else {
      break;
    }
  }
  if (lexer.getTokenType() != XML_ATTRIBUTE_VALUE_END_DELIMITER) {
    return -1;
  }
  int tokenEnd=lexer.getTokenEnd();
  addToken(value,lexer);
  return tokenEnd;
}
