{
  CompositeElement docType=ASTFactory.composite(XML_DOCTYPE);
  if (lexer.getTokenType() != XML_DOCTYPE_START) {
    return docType;
  }
  addToken(docType,lexer);
  if (lexer.getTokenType() != XML_NAME) {
    return docType;
  }
  addToken(docType,lexer);
  if (lexer.getTokenType() == XML_DOCTYPE_SYSTEM) {
    addToken(docType,lexer);
    if (lexer.getTokenType() == XML_ATTRIBUTE_VALUE_TOKEN) {
      addToken(docType,lexer);
    }
  }
 else   if (lexer.getTokenType() == XML_DOCTYPE_PUBLIC) {
    addToken(docType,lexer);
    if (lexer.getTokenType() == XML_ATTRIBUTE_VALUE_TOKEN) {
      addToken(docType,lexer);
    }
    if (lexer.getTokenType() == XML_ATTRIBUTE_VALUE_TOKEN) {
      addToken(docType,lexer);
    }
  }
  if (lexer.getTokenType() == XML_MARKUP_START) {
    docType.rawAddChildren(parseMarkupDecl(lexer));
  }
  if (lexer.getTokenType() != XML_DOCTYPE_END) {
    return docType;
  }
  addToken(docType,lexer);
  return docType;
}
