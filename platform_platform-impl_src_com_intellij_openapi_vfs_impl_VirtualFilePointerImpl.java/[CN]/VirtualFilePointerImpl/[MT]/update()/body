{
  if (disposed)   return null;
  long lastUpdated=myLastUpdated;
  String url=myUrl;
  VirtualFile file=myFile;
  long fsModCount=myVirtualFileManager.getModificationCount();
  if (lastUpdated == fsModCount)   return Pair.create(file,url);
  if (file != null && !file.isValid()) {
    url=file.getUrl();
    file=null;
  }
  if (file == null) {
    LOG.assertTrue(url != null,"Both file & url are null");
    file=myVirtualFileManager.findFileByUrl(url);
    if (file != null) {
      url=null;
    }
  }
  if (file != null && !file.exists()) {
    url=file.getUrl();
    file=null;
  }
  myFile=file;
  myUrl=url;
  myLastUpdated=fsModCount;
  return Pair.create(file,url);
}
