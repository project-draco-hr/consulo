{
  if (disposed) {
    throw new MyException("Punching the dead horse: URL=" + toString(),getUserData(CREATE_TRACE),getUserData(KILL_TRACE));
  }
  if (--useCount == 0) {
    if (TRACE_CREATION) {
      putUserData(KILL_TRACE,new Throwable());
    }
    disposed=true;
    final Pair<VirtualFile,String> pair=myFileAndUrl;
    if (pair.first != null) {
      ((VirtualFilePointerManagerImpl)VirtualFilePointerManager.getInstance()).clearPointerCaches(pair.first.getUrl(),myListener);
    }
    if (pair.second != null) {
      ((VirtualFilePointerManagerImpl)VirtualFilePointerManager.getInstance()).clearPointerCaches(pair.second,myListener);
    }
  }
}
