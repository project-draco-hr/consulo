{
  String name=library.getName();
  VirtualFile[] files=library.getFiles(BinariesOrderRootType.getInstance());
  if (name != null) {
    return name + (includeTableName ? getLibraryTableComment(library) : "");
  }
 else   if (files.length > 0) {
    return files[0].getName() + (includeTableName ? getLibraryTableComment(library) : "");
  }
 else {
    return ProjectBundle.message("library.empty.item");
  }
}
