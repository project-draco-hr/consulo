{
  if (element instanceof GenericDomValue) {
    final XmlElement valueElement=DomUtil.getValueElement(((GenericDomValue)element));
    if (valueElement != null) {
      checkReferences(valueElement,holder,element);
    }
  }
 else   if (element instanceof AntDomTypeDef) {
    final AntDomTypeDef typeDef=(AntDomTypeDef)element;
    if (typeDef.hasTypeLoadingErrors()) {
      holder.createProblem(typeDef,AntBundle.message("failed.to.load.types"));
    }
  }
 else   if (element instanceof AntDomCustomElement) {
    final AntDomCustomElement custom=(AntDomCustomElement)element;
    if (custom.getDefinitionClass() == null) {
      final AntDomNamedElement declaringElement=custom.getDeclaringElement();
      if (declaringElement instanceof AntDomTypeDef) {
        String failedMessage=AntBundle.message("using.definition.which.type.failed.to.load");
        final String error=custom.getLoadError();
        if (error != null) {
          failedMessage=failedMessage + ": " + error;
        }
        holder.createProblem(custom,failedMessage);
      }
    }
  }
}
