{
  final GrCommandArgumentList list=app.getArgumentList();
  final GrMethodCallExpression prototype=(GrMethodCallExpression)factory.createExpressionFromText("foo()");
  prototype.getInvokedExpression().replace(app.getInvokedExpression());
  final GrArgumentList pList=prototype.getArgumentList();
  LOG.assertTrue(pList != null);
  final PsiElement anchor=pList.getRightParen();
  for (PsiElement ch=list.getFirstChild(); ch != null; ch=ch.getNextSibling()) {
    pList.addBefore(ch,anchor);
  }
  return prototype;
}
