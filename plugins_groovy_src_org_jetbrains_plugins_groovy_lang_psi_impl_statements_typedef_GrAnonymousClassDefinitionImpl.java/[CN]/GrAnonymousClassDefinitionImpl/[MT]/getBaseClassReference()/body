{
  final GrCodeReferenceElement ref=getBaseClassReferenceGroovy();
  final PsiElement element=ref.resolve();
  final Project project=getProject();
  if (element instanceof PsiClass) {
    String qName=((PsiClass)element).getQualifiedName();
    if (qName != null) {
      return JavaPsiFacade.getElementFactory(project).createReferenceElementByFQClassName(qName,element.getResolveScope());
    }
  }
  String qName=ref.getReferenceName();
  return JavaPsiFacade.getElementFactory(project).createReferenceElementByFQClassName(qName,GlobalSearchScope.allScope(project));
}
