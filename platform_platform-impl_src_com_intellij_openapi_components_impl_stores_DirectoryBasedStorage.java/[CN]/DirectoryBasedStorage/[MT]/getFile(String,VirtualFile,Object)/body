{
  VirtualFile file=parentVirtualFile.findChild(fileName);
  if (file != null) {
    return file;
  }
  AccessToken token=ApplicationManager.getApplication().acquireWriteActionLock(DirectoryBasedStorage.class);
  try {
    return parentVirtualFile.createChildData(requestor,fileName);
  }
 catch (  IOException e) {
    throw new StateStorageException(e);
  }
 finally {
    token.finish();
  }
}
