{
  final VirtualFile resourceDir=myFacet.getLocalResourceManager().getResourceDir();
  if (resourceDir == null) {
    return;
  }
  final PsiDirectory psiResDir=PsiManager.getInstance(project).findDirectory(resourceDir);
  if (psiResDir == null) {
    return;
  }
  final String resDirName=myResourceType.getName();
  PsiDirectory resSubdir=psiResDir.findSubdirectory(resDirName);
  if (resSubdir == null) {
    resSubdir=ApplicationManager.getApplication().runWriteAction(new Computable<PsiDirectory>(){
      public PsiDirectory compute(){
        return psiResDir.createSubdirectory(resDirName);
      }
    }
);
  }
  try {
    AndroidResourceUtil.createFileResource(myResourceName,resSubdir,CreateTypedResourceFileAction.getDefaultRootTabByResourceType(ResourceFolderType.getFolderType(resDirName)),resDirName,false);
    UndoUtil.markPsiFileForUndo(myFile);
  }
 catch (  Exception e) {
    LOG.error(e);
  }
}
