{
  super(null,editor,project,title,occurrences,expr);
  myLocalVariable=localVariable;
  if (localVariable != null) {
    final PsiElement nameIdentifier=localVariable.getNameIdentifier();
    if (nameIdentifier != null) {
      myLocalMarker=editor.getDocument().createRangeMarker(nameIdentifier.getTextRange());
    }
  }
 else {
    myLocalMarker=null;
  }
  myExprText=expr != null ? expr.getText() : null;
  myLocalName=localVariable != null ? localVariable.getName() : null;
  myLabel.setBorder(BorderFactory.createEmptyBorder(0,5,5,0));
  myLabel.append("#########################");
  myWholePanel=new JPanel(new GridBagLayout());
  myWholePanel.setBorder(null);
  final Keymap keymap=KeymapManager.getInstance().getActiveKeymap();
  final Shortcut[] shortcuts=keymap.getShortcuts(getActionName());
  if (shortcuts.length > 0) {
    setAdvertisementText("Press " + shortcuts[0] + " to show dialog");
  }
}
