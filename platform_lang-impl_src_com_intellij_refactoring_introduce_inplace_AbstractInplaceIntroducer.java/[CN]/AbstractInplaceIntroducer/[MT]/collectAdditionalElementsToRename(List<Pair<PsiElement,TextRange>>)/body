{
  if (isReplaceAllOccurrences()) {
    for (    E expression : getOccurrences()) {
      stringUsages.add(Pair.<PsiElement,TextRange>create(expression,new TextRange(0,expression.getTextLength())));
    }
  }
 else   if (getExpr() != null) {
    correctExpression();
    stringUsages.add(Pair.<PsiElement,TextRange>create(getExpr(),new TextRange(0,getExpr().getTextLength())));
  }
  final V localVariable=getLocalVariable();
  if (localVariable != null) {
    final PsiElement nameIdentifier=localVariable.getNameIdentifier();
    if (nameIdentifier != null) {
      int length=nameIdentifier.getTextLength();
      stringUsages.add(Pair.<PsiElement,TextRange>create(nameIdentifier,new TextRange(0,length)));
    }
  }
}
