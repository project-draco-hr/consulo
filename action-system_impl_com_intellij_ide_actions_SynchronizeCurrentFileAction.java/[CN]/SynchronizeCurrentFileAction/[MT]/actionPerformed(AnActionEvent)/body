{
  final Project project=getProject(e);
  final VirtualFile[] files=getFiles(e);
  ApplicationManager.getApplication().runWriteAction(new Runnable(){
    public void run(){
      for (      VirtualFile f : files) {
        f.refresh(false,true);
      }
    }
  }
);
  VcsDirtyScopeManager dirtyScopeManager=VcsDirtyScopeManager.getInstance(project);
  for (  VirtualFile f : files) {
    if (f.isDirectory()) {
      dirtyScopeManager.dirDirtyRecursively(f,true);
    }
 else {
      dirtyScopeManager.fileDirty(f);
    }
  }
  String message=IdeBundle.message("action.sync.completed.successfully",getMessage(files));
  WindowManager.getInstance().getStatusBar(project).setInfo(message);
}
