{
  if (getTools() != null) {
    for (    Pair<NamedScope,InspectionTool> pair : getTools()) {
      if (element == null) {
        return pair.second;
      }
 else {
        final DependencyValidationManager validationManager=DependencyValidationManager.getInstance(element.getProject());
        if (pair.first != null && pair.first.getValue().contains(element.getContainingFile(),validationManager)) {
          return pair.second;
        }
      }
    }
    for (    Pair<NamedScope,InspectionTool> pair : getTools()) {
      if (pair.first == null) {
        return pair.second;
      }
    }
  }
  return getTool();
}
