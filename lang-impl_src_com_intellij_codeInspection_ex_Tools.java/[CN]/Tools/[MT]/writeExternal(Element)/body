{
  inspectionElement.setAttribute(InspectionProfileImpl.LEVEL_TAG,getLevel().toString());
  inspectionElement.setAttribute(InspectionProfileImpl.ENABLED_TAG,Boolean.toString(isEnabled()));
  if (myTools != null) {
    for (    ScopeToolState state : myTools) {
      final NamedScope namedScope=state.getScope();
      final Element scopeElement=new Element("scope");
      scopeElement.setAttribute("name",namedScope.getName());
      scopeElement.setAttribute(InspectionProfileImpl.LEVEL_TAG,state.getLevel().toString());
      scopeElement.setAttribute(InspectionProfileImpl.ENABLED_TAG,Boolean.toString(state.isEnabled()));
      InspectionProfileEntry inspectionTool=state.getTool();
      LOG.assertTrue(inspectionTool != null);
      inspectionTool.writeSettings(scopeElement);
      inspectionElement.addContent(scopeElement);
    }
  }
 else {
    myTool.writeSettings(inspectionElement);
  }
}
