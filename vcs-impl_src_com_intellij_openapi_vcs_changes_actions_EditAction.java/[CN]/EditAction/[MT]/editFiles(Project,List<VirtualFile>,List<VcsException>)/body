{
  ChangesUtil.processVirtualFilesByVcs(project,files,new ChangesUtil.PerVcsProcessor<VirtualFile>(){
    public void process(    final AbstractVcs vcs,    final List<VirtualFile> items){
      final EditFileProvider provider=vcs.getEditFileProvider();
      if (provider != null) {
        try {
          provider.editFiles(items.toArray(new VirtualFile[items.size()]));
        }
 catch (        VcsException e1) {
          exceptions.add(e1);
        }
        for (        VirtualFile file : items) {
          VcsDirtyScopeManager.getInstance(project).fileDirty(file);
          FileStatusManager.getInstance(project).fileStatusChanged(file);
        }
      }
    }
  }
);
}
