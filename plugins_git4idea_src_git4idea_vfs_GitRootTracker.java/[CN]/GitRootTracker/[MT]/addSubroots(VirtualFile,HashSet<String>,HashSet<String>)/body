{
  for (  VirtualFile child : directory.getChildren()) {
    if (!child.isDirectory()) {
      continue;
    }
    if (child.getName().equals(".git") && !mapped.contains(directory.getPath())) {
      toAdd.add(directory.getPath());
    }
 else {
      addSubroots(child,toAdd,mapped);
    }
  }
}
