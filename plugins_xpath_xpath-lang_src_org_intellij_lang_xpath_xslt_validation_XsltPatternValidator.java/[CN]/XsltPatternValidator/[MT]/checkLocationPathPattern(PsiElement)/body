{
  if (element instanceof XPathLocationPath) {
    final XPathLocationPath locationPath=(XPathLocationPath)element;
    final XPathExpression[] steps=getSteps(locationPath);
    if (locationPath.isAbsolute())     return checkRelativePath(steps,0);
    PsiElement child=skipWhitespace(locationPath.getFirstChild());
    if (child == null)     return true;
    if (steps.length > 0 && !checkIdKeyPattern(steps[0])) {
      return checkRelativePath(steps,0);
    }
    if ((child=skipWhitespace(child.getNextSibling())) == null)     return true;
    if (!checkPathOp(child))     return false;
    child=skipWhitespace(child.getNextSibling());
    if (child == null)     return false;
    if (!(child instanceof XPathStep))     return false;
    return checkRelativePath(steps,1);
  }
 else   if (element instanceof XPathFunctionCall) {
    return checkIdKeyPattern(element);
  }
  return false;
}
