{
  DateFormat[] formats=new DateFormat[4];
  boolean loaded=false;
  try {
    if (SystemInfo.isWin7OrNewer) {
      loaded=getWindowsFormats(formats);
    }
 else     if (SystemInfo.isMac) {
      loaded=getMacFormats(formats);
    }
 else     if (SystemInfo.isUnix) {
      loaded=getUnixFormats(formats);
    }
  }
 catch (  Throwable t) {
    LOG.error(t);
  }
  if (!loaded) {
    formats[0]=DateFormat.getDateInstance(DateFormat.SHORT);
    formats[1]=DateFormat.getTimeInstance(DateFormat.SHORT);
    formats[2]=DateFormat.getTimeInstance(DateFormat.MEDIUM);
    formats[3]=DateFormat.getDateTimeInstance(DateFormat.SHORT,DateFormat.SHORT);
  }
  SyncDateFormat[] synced=new SyncDateFormat[4];
  for (int i=0; i < formats.length; i++) {
    synced[i]=new SyncDateFormat(formats[i]);
  }
  return synced;
}
