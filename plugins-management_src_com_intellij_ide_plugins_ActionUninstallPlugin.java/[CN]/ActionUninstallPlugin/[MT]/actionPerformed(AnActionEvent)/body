{
  String message;
  IdeaPluginDescriptor[] selection=pluginTable.getSelectedObjects();
  if (selection.length == 1) {
    message=IdeBundle.message("prompt.uninstall.plugin",selection[0].getName());
  }
 else {
    message=IdeBundle.message("prompt.uninstall.several.plugins",selection.length);
  }
  if (Messages.showYesNoDialog(host.getMainPanel(),message,promptTitle,Messages.getQuestionIcon()) != 0)   return;
  for (  IdeaPluginDescriptor descriptor : selection) {
    IdeaPluginDescriptorImpl pluginDescriptor=(IdeaPluginDescriptorImpl)descriptor;
    boolean actualDelete=true;
    ArrayList<IdeaPluginDescriptorImpl> dependant=host.getDependentList(pluginDescriptor);
    if (dependant.size() > 0) {
      message=MessageFormat.format(IdeBundle.message("several.plugins.depend.on.0.continue.to.remove"),pluginDescriptor.getName());
      actualDelete=(Messages.showYesNoDialog(host.getMainPanel(),message,promptTitle,Messages.getQuestionIcon()) == 0);
    }
    if (actualDelete)     uninstallPlugin(pluginDescriptor);
  }
}
