{
synchronized (this) {
    append(fragment,attributes);
    if (myFragmentTags == null) {
      myFragmentTags=new ArrayList<Object>();
    }
    while (myFragmentTags.size() < myFragments.size() - 1) {
      myFragmentTags.add(null);
    }
    myFragmentTags.add(tag);
  }
  revalidateAndRepaint();
}
