{
  if (window != null) {
    final EditorWithProviderComposite[] composites=window.getEditors();
    for (int i=0; i < composites.length; i++) {
      final VirtualFile file=window.getFileAt(i);
      final boolean isPinned=window.isFilePinned(file);
      final EditorWithProviderComposite composite=composites[i];
      final EditorWithProviderComposite selectedEditor=window.getSelectedEditor();
      writeComposite(res,file,composite,isPinned,selectedEditor);
    }
  }
}
