{
  ArrayList<FilePath> paths=new ArrayList<FilePath>();
  FilePath rootPath=VcsUtil.getFilePath(myVcsRoot.getPath(),true);
  for (  FilePath p : myDirtyScope.getRecursivelyDirtyDirectories()) {
    addToPaths(rootPath,paths,p);
  }
  ArrayList<FilePath> candidatePaths=new ArrayList<FilePath>();
  candidatePaths.addAll(myDirtyScope.getDirtyFilesNoExpand());
  if (includeChanges) {
    try {
      ChangeListManager cm=ChangeListManager.getInstance(myProject);
      for (      Change c : cm.getChangesIn(myVcsRoot)) {
switch (c.getType()) {
case NEW:
case DELETED:
case MOVED:
          if (c.getAfterRevision() != null) {
            addToPaths(rootPath,paths,c.getAfterRevision().getFile());
          }
        if (c.getBeforeRevision() != null) {
          addToPaths(rootPath,paths,c.getBeforeRevision().getFile());
        }
case MODIFICATION:
default :
    }
  }
}
 catch (Exception t) {
}
}
for (FilePath p : candidatePaths) {
addToPaths(rootPath,paths,p);
}
return paths;
}
