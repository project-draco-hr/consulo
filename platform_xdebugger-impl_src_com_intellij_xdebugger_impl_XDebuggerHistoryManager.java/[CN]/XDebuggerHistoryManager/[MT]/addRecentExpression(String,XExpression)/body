{
  if (expression == null || StringUtil.isEmptyOrSpaces(expression.getExpression())) {
    return false;
  }
  LinkedList<XExpression> list=myRecentExpressions.get(id);
  if (list == null) {
    list=new LinkedList<XExpression>();
    myRecentExpressions.put(id,list);
  }
  if (list.size() == MAX_RECENT_EXPRESSIONS) {
    list.removeLast();
  }
  XExpression trimmedExpression=new XExpressionImpl(expression.getExpression().trim(),expression.getLanguage(),expression.getCustomInfo());
  list.remove(trimmedExpression);
  list.addFirst(trimmedExpression);
  return true;
}
