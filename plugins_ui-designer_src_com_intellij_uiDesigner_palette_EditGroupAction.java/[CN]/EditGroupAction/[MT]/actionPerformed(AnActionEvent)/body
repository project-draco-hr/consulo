{
  Project project=PlatformDataKeys.PROJECT.getData(e.getDataContext());
  GroupItem groupToBeEdited=GroupItem.DATA_KEY.getData(e.getDataContext());
  if (groupToBeEdited == null || project == null)   return;
  final String groupName=Messages.showInputDialog(project,UIDesignerBundle.message("edit.enter.group.name"),UIDesignerBundle.message("title.edit.group"),Messages.getQuestionIcon(),groupToBeEdited.getName(),null);
  if (groupName == null || groupName.equals(groupToBeEdited.getName())) {
    return;
  }
  Palette palette=Palette.getInstance(project);
  final ArrayList<GroupItem> groups=palette.getGroups();
  for (int i=groups.size() - 1; i >= 0; i--) {
    if (groupName.equals(groups.get(i).getName())) {
      Messages.showErrorDialog(project,UIDesignerBundle.message("error.group.name.unique"),CommonBundle.getErrorTitle());
      return;
    }
  }
  groupToBeEdited.setName(groupName);
  palette.fireGroupsChanged();
}
