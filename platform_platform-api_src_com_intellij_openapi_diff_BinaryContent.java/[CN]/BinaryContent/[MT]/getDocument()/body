{
  if (myDocument == null) {
    if (isBinary())     return null;
    String text=null;
    try {
      if (myCharset == null) {
        text=new String(myBytes);
      }
 else {
        text=new String(myBytes,myCharset.name());
      }
    }
 catch (    IllegalCharsetNameException e) {
    }
catch (    UnsupportedEncodingException e) {
    }
    if (text == null)     text=new String(myBytes);
    text=LineTokenizer.correctLineSeparators(text);
    myDocument=EditorFactory.getInstance().createDocument(text);
    myDocument.setReadOnly(true);
  }
  return myDocument;
}
