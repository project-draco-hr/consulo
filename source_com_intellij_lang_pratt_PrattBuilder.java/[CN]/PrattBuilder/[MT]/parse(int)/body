{
  IElementType tokenType=getTokenType();
  if (tokenType == null)   return null;
  PsiBuilder.Marker marker=myBuilder.mark();
  myBuilder.advanceLexer();
  IElementType left=tokenType instanceof PrattTokenType ? ((PrattTokenType)tokenType).parsePrefix(this) : null;
  while (left != null) {
    final PsiBuilder.Marker marker1=marker.precede();
    marker.done(left);
    marker=marker1;
    tokenType=myBuilder.getTokenType();
    if (tokenType == null || tokenType instanceof PrattTokenType && rightPriority >= ((PrattTokenType)tokenType).getPriority())     break;
    final PsiBuilder.Marker oldMarker=myPrevMarker;
    myPrevMarker=myBuilder.mark();
    try {
      myBuilder.advanceLexer();
      if (!(tokenType instanceof PrattTokenType))       break;
      left=((PrattTokenType)tokenType).parseInfix(left,this);
    }
  finally {
      myPrevMarker.drop();
      myPrevMarker=oldMarker;
    }
  }
  marker.drop();
  return left;
}
