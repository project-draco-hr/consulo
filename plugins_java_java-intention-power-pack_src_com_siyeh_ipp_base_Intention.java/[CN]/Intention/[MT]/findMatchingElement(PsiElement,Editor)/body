{
  while (element != null) {
    if (!JavaLanguage.INSTANCE.equals(element.getLanguage())) {
      break;
    }
    if (predicate instanceof PsiElementEditorPredicate) {
      if (((PsiElementEditorPredicate)predicate).satisfiedBy(element,editor)) {
        return element;
      }
    }
 else     if (predicate.satisfiedBy(element)) {
      return element;
    }
    element=element.getParent();
    if (element instanceof PsiFile) {
      break;
    }
  }
  return null;
}
