{
  PsiElement parent=getParent();
  if (parent instanceof GrCodeReferenceElement) {
    ReferenceKind parentKind=((GrCodeReferenceElementImpl)parent).getKind();
    if (parentKind == CLASS || parentKind == CONSTRUCTOR || parentKind == STATIC_MEMBER_FQ)     return CLASS_OR_PACKAGE;
    return parentKind;
  }
 else   if (parent instanceof GrPackageDefinition) {
    return PACKAGE_FQ;
  }
 else   if (parent instanceof GrImportStatement) {
    final GrImportStatement importStatement=(GrImportStatement)parent;
    if (!importStatement.isStatic() || importStatement.isOnDemand()) {
      return CLASS_OR_PACKAGE_FQ;
    }
    return STATIC_MEMBER_FQ;
  }
 else   if (parent instanceof GrNewExpression) {
    return CONSTRUCTOR;
  }
  return CLASS;
}
