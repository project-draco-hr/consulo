{
  PsiElement resolved=resolve();
  if (resolved instanceof PsiClass) {
    final String qname=((PsiClass)resolved).getQualifiedName();
    if (qname != null) {
      return qname;
    }
  }
  if (resolved instanceof PsiPackage) {
    return ((PsiPackage)resolved).getQualifiedName();
  }
  final GrCodeReferenceElement qualifier=getQualifier();
  final String referenceName=StringUtil.notNullize(getReferenceName());
  if (qualifier != null) {
    return qualifier.getCanonicalText() + "." + referenceName;
  }
  return referenceName;
}
