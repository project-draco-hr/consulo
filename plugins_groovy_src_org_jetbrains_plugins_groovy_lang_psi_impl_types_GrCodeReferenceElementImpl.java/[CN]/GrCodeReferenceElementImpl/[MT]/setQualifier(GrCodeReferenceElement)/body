{
  final GrCodeReferenceElement qualifier=getQualifier();
  if (newQualifier == null) {
    if (qualifier == null)     return;
    getNode().removeRange(getNode().getFirstChildNode(),getReferenceNameElement().getNode());
  }
 else {
    if (qualifier == null) {
      final ASTNode refNameNode=getReferenceNameElement().getNode();
      getNode().addChild(newQualifier.getNode(),refNameNode);
      getNode().addLeaf(GroovyTokenTypes.mDOT,".",refNameNode);
    }
 else {
      getNode().replaceChild(qualifier.getNode(),newQualifier.getNode());
    }
  }
}
