{
  final XmlAttribute context=PsiTreeUtil.getContextOfType(file,XmlAttribute.class,true);
  if (context != null) {
    if (XsltSupport.isPatternAttribute(context)) {
      XsltPatternValidator.validate(holder,file);
    }
    if (XsltSupport.isXsltAttribute(context) && !XsltSupport.mayBeAVT(context)) {
      final ASTNode node=file.getNode();
      if (node != null && node.findChildByType(XPathTokenTypes.LBRACE) != null) {
        holder.createErrorAnnotation(file,"Attribute Value Template is not allowed here");
      }
    }
  }
}
