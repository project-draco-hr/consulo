{
  MavenCore.getInstance(myProject).addConfigurableFactory(new MavenCore.ConfigurableFactory(){
    public Configurable createConfigurable(){
      return new MavenIndicesConfigurable(myProject);
    }
  }
);
  if (ApplicationManager.getApplication().isUnitTestMode()) {
    updateIndicesList();
  }
  getMavenProjectManager().addListener(new MavenProjectsManager.Listener(){
    public void activate(){
      updateIndicesList();
    }
    public void profilesChanged(    List<String> profiles){
    }
    public void setIgnored(    VirtualFile file,    boolean on){
    }
    public void projectAdded(    MavenProjectModel n){
      updateIndicesList();
    }
    public void beforeProjectUpdate(    MavenProjectModel n){
    }
    public void projectUpdated(    MavenProjectModel n){
      updateIndicesList();
    }
    public void projectRemoved(    MavenProjectModel n){
      updateIndicesList();
    }
  }
);
}
