{
  if (ApplicationManager.getApplication().isUnitTestMode()) {
    scheduleUpdateIndicesList();
  }
  getMavenProjectManager().addManagerListener(new MavenProjectsManager.Listener(){
    public void activated(){
      scheduleUpdateIndicesList();
    }
  }
);
  getMavenProjectManager().addProjectsTreeListener(new MavenProjectsTree.ListenerAdapter(){
    @Override public void projectsRead(    List<MavenProject> projects){
      scheduleUpdateIndicesList();
    }
    @Override public void projectRemoved(    MavenProject project){
      scheduleUpdateIndicesList();
    }
    @Override public void projectResolved(    boolean quickResolve,    MavenProject project,    org.apache.maven.project.MavenProject nativeMavenProject){
      scheduleUpdateIndicesList();
    }
  }
);
}
