{
  if (ApplicationManager.getApplication().isUnitTestMode()) {
    scheduleUpdateIndicesList();
  }
  getMavenProjectManager().addManagerListener(new MavenProjectsManager.Listener(){
    public void activated(){
      scheduleUpdateIndicesList();
    }
    public void projectsScheduled(){
    }
    @Override public void importAndResolveScheduled(){
    }
  }
);
  getMavenProjectManager().addProjectsTreeListener(new MavenProjectsTree.ListenerAdapter(){
    @Override public void projectsUpdated(    List<Pair<MavenProject,MavenProjectChanges>> updated,    List<MavenProject> deleted){
      scheduleUpdateIndicesList();
    }
    @Override public void projectResolved(    Pair<MavenProject,MavenProjectChanges> projectWithChanges,    NativeMavenProjectHolder nativeMavenProject){
      scheduleUpdateIndicesList();
    }
  }
);
}
