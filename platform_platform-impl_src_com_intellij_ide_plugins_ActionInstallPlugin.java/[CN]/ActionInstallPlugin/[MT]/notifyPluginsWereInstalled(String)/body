{
  final ApplicationEx app=ApplicationManagerEx.getApplicationEx();
  final boolean restartCapable=app.isRestartCapable();
  String message="<html>";
  message+=restartCapable ? IdeBundle.message("message.idea.restart.required",ApplicationNamesInfo.getInstance().getFullProductName()) : IdeBundle.message("message.idea.shutdown.required",ApplicationNamesInfo.getInstance().getFullProductName());
  message+="<br><a href=";
  message+=restartCapable ? "\"restart\">Restart now" : "\"shutdown\">Shutdown";
  message+="</a></html>";
  Notifications.Bus.notify(new Notification("Plugins Lifecycle Group",pluginName != null ? "Plugin \'" + pluginName + "\' was successfully installed" : "Plugins were installed",message,NotificationType.INFORMATION,new NotificationListener(){
    @Override public void hyperlinkUpdate(    @NotNull Notification notification,    @NotNull HyperlinkEvent event){
      notification.expire();
      if (restartCapable) {
        app.restart();
      }
 else {
        app.exit(true);
      }
    }
  }
));
}
