{
  myRightPanel.removeAll();
  JPanel p=new JPanel(new MigLayout("ins " + myToolbarDecorator.getActionsPanel().getHeight() + " 10 0 0, flowx"));
  final JButton renameButton=new JButton(ExecutionBundle.message("run.configuration.rename.folder",folderName));
  renameButton.addActionListener(new ActionListener(){
    @Override public void actionPerformed(    ActionEvent e){
      String name=editFolderName(folderName,type);
      if (name != null) {
        node.setUserObject(name);
        for (int i=0; i < node.getChildCount(); i++) {
          DefaultMutableTreeNode treeNode=(DefaultMutableTreeNode)node.getChildAt(i);
          if (treeNode.getUserObject() instanceof RunnerAndConfigurationSettings) {
            ((RunnerAndConfigurationSettings)treeNode.getUserObject()).setFolderName(name);
          }
 else {
            if (treeNode.getUserObject() instanceof SingleConfigurationConfigurable) {
              ((SingleConfigurationConfigurable)treeNode.getUserObject()).setFolderName(name);
            }
          }
          getRunManager().renameFolder(type,folderName,name);
        }
        myTreeModel.nodeChanged(node);
        myTree.revalidate();
        myTree.repaint();
        renameButton.setText(ExecutionBundle.message("run.configuration.rename.folder",name));
      }
    }
  }
);
  p.add(renameButton);
  myRightPanel.add(p);
  myRightPanel.revalidate();
  myRightPanel.repaint();
}
