{
  final SingleConfigurationConfigurable<RunConfiguration> configurationConfigurable=getSelectedConfiguration();
  LOG.assertTrue(configurationConfigurable != null);
  try {
    configurationConfigurable.apply();
  }
 catch (  ConfigurationException e1) {
  }
  final RunnerAndConfigurationSettings originalConfiguration=configurationConfigurable.getSettings();
  if (getRunManager().isTemporary(originalConfiguration)) {
    getRunManager().makeStable(originalConfiguration.getConfiguration());
    final DefaultMutableTreeNode treeNode=(DefaultMutableTreeNode)myTree.getSelectionPath().getLastPathComponent();
    MutableTreeNode parent=(MutableTreeNode)treeNode.getParent();
    int initialPosition=parent.getIndex(treeNode);
    int position=parent.getIndex(treeNode);
    DefaultMutableTreeNode node=treeNode.getPreviousSibling();
    while (node != null) {
      RunnerAndConfigurationSettings settings=getSettings(node);
      if (settings != null && settings.isTemporary()) {
        position--;
      }
 else {
        break;
      }
      node=node.getPreviousSibling();
    }
    for (int i=0; i < initialPosition - position; i++) {
      TreeUtil.moveSelectedRow(myTree,-1);
    }
  }
  myTree.repaint();
}
