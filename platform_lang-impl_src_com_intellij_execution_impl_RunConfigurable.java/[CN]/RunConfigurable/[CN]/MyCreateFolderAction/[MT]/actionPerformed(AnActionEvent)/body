{
  final ConfigurationType type=getSelectedConfigurationType();
  String folderName=editFolderName(null,type);
  if (folderName != null) {
    List<DefaultMutableTreeNode> folders=new ArrayList<DefaultMutableTreeNode>();
    collectNodesRecursively(getConfigurationTypeNode(type),folders,FOLDER);
    int index=folders.size();
    DefaultMutableTreeNode node=getSelectedConfigurationTypeNode();
    DefaultMutableTreeNode folderNode=new DefaultMutableTreeNode(folderName);
    myTreeModel.insertNodeInto(folderNode,node,index);
    TreeUtil.selectNode(myTree,folderNode);
  }
}
