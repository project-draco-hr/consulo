{
  final Presentation presentation=e.getPresentation();
  presentation.setEnabled(false);
  final TreePath selectionPath=myTree.getSelectionPath();
  if (selectionPath != null) {
    final DefaultMutableTreeNode treeNode=(DefaultMutableTreeNode)selectionPath.getLastPathComponent();
    if (!(treeNode.getUserObject() instanceof ConfigurationType) && !(treeNode.getUserObject() instanceof String)) {
      RunnerAndConfigurationSettings selectedSettings=getSettings(treeNode);
      if (selectedSettings == null)       return;
      RunnerAndConfigurationSettings siblingSettings=null;
      if (myDirection < 0) {
        siblingSettings=getSettings(treeNode.getPreviousSibling());
      }
 else {
        siblingSettings=getSettings(treeNode.getNextSibling());
      }
      if (siblingSettings != null) {
        presentation.setEnabled(siblingSettings.isTemporary() == selectedSettings.isTemporary());
      }
    }
  }
}
