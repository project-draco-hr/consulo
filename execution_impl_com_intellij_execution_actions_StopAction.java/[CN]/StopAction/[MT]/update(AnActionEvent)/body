{
  final Project project=DataKeys.PROJECT.getData(e.getDataContext());
  boolean enable=false;
  if (project != null) {
    final RunContentDescriptor selectedContent=ExecutionManager.getInstance(project).getContentManager().getSelectedContent();
    if (selectedContent != null) {
      final ProcessHandler selectedProcessHandler=selectedContent.getProcessHandler();
      if (selectedProcessHandler != null) {
        enable=!selectedProcessHandler.isProcessTerminating() && !selectedProcessHandler.isProcessTerminated();
      }
    }
  }
  e.getPresentation().setEnabled(enable);
}
