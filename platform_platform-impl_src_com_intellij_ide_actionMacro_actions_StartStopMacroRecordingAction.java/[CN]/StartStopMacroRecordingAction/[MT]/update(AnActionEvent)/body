{
  boolean editorAvailable=PlatformDataKeys.EDITOR.getData(e.getDataContext()) != null;
  boolean isRecording=ActionMacroManager.getInstance().isRecording();
  e.getPresentation().setEnabled(editorAvailable || isRecording);
  e.getPresentation().setText(isRecording ? IdeBundle.message("action.stop.macro.recording") : IdeBundle.message("action.start.macro.recording"));
}
