{
  boolean isRecording=ActionMacroManager.getInstance().isRecording();
  e.getPresentation().setText(isRecording ? IdeBundle.message("action.stop.macro.recording") : IdeBundle.message("action.start.macro.recording"));
  if (ActionPlaces.STATUS_BAR_PLACE.equals(e.getPlace())) {
    e.getPresentation().setIcon(isRecording ? AllIcons.Ide.Macro.Recording_stop : AllIcons.Ide.Macro.Recording_stop);
  }
 else {
    e.getPresentation().setIcon(null);
  }
}
