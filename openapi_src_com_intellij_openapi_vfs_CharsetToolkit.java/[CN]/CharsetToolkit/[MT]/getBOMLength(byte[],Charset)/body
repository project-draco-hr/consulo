{
  if (Patches.SUN_BUG_ID_4508058) {
    if (charset != null && charset.name().contains(UTF8) && hasUTF8Bom(content)) {
      return UTF8_BOM.length;
    }
  }
  if (hasUTF16LEBom(content)) {
    return UTF16LE_BOM.length;
  }
  if (hasUTF16BEBom(content)) {
    return UTF16BE_BOM.length;
  }
  return 0;
}
