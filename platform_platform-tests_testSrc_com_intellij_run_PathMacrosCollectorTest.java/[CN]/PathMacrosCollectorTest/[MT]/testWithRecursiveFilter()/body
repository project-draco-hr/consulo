{
  Element root=new Element("root");
  final Element configuration=new Element("configuration");
  configuration.setAttribute("value","some text$macro5$fdsjfhdskjfsd$MACRO$");
  root.addContent(configuration);
  final Set<String> macros=PathMacrosCollector.getMacroNames(root,new PathMacroFilter(){
    @Override public boolean recursePathMacros(    Attribute attribute){
      return "value".equals(attribute.getName());
    }
  }
,new PathMacrosImpl());
  assertEquals(2,macros.size());
  assertTrue(macros.contains("macro5"));
  assertTrue(macros.contains("MACRO"));
}
