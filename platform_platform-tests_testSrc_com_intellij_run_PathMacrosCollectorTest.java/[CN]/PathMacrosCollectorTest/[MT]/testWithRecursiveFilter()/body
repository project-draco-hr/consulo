{
  Element root=new Element("root");
  final Element configuration=new Element("configuration");
  configuration.setAttribute("value","some text$macro5$fdsjfhdskjfsd$MACRO$");
  root.addContent(configuration);
  final Set<String> macros=PathMacrosCollector.getMacroNames(root,null,new NotNullFunction<Object,Boolean>(){
    @Override @NotNull public Boolean fun(    Object o){
      return (o instanceof Attribute) && "value".equals(((Attribute)o).getName());
    }
  }
,new PathMacrosImpl());
  assertEquals(2,macros.size());
  assertTrue(macros.contains("macro5"));
  assertTrue(macros.contains("MACRO"));
}
