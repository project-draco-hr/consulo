{
  if (comp instanceof String) {
    addKeyword(set,tailType,comp,matcher,file,variant);
  }
 else {
    final CompletionContext context=position.getUserData(CompletionContext.COMPLETION_CONTEXT_KEY);
    if (comp instanceof ContextGetter) {
      final Object[] elements=((ContextGetter)comp).get(position,context);
      for (      Object element : elements) {
        addLookupItem(set,tailType,element,file,variant);
      }
    }
 else     if (comp instanceof KeywordChooser) {
      final String[] keywords=((KeywordChooser)comp).getKeywords(context,position);
      for (      String keyword : keywords) {
        addKeyword(set,tailType,keyword,matcher,file,variant);
      }
    }
  }
}
