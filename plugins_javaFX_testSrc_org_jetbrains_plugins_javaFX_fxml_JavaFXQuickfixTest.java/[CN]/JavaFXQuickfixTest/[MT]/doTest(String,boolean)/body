{
  configureByFiles(null,getTestName(true) + ".fxml",getTestName(false) + ".java");
  final List<HighlightInfo> infos=doHighlighting();
  findAndInvokeIntentionAction(infos,actionName,getEditor(),getFile());
  if (changeEditor) {
    final PsiElement targetMethod=TargetElementUtilBase.findTargetElement(getEditor(),TargetElementUtilBase.REFERENCED_ELEMENT_ACCEPTED);
    assertNotNull(targetMethod);
    final VirtualFile file=targetMethod.getContainingFile().getVirtualFile();
    assertNotNull(file);
    final Editor editor=FileEditorManager.getInstance(getProject()).openTextEditor(new OpenFileDescriptor(getProject(),file),true);
    assertNotNull(editor);
    setActiveEditor(editor);
  }
  checkResultByFile(getTestName(false) + "_after.java");
}
