{
  HgContentRevision beforeRevision=revisionBefore == null ? null : new HgContentRevision(project,new HgFile(root,new File(root.getPath(),fileBefore)),revisionBefore);
  if (revisionAfter == null) {
    ContentRevision currentRevision=CurrentContentRevision.create(new HgFile(root,new File(root.getPath(),fileBefore)).toFilePath());
    return new Change(beforeRevision,currentRevision,aStatus);
  }
  HgContentRevision afterRevision=new HgContentRevision(project,new HgFile(root,new File(root.getPath(),fileAfter)),revisionAfter);
  return new Change(beforeRevision,afterRevision,aStatus);
}
