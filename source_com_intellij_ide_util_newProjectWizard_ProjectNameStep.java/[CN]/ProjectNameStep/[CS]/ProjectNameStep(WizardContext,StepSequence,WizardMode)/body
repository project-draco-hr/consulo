{
  myWizardContext=wizardContext;
  mySequence=sequence;
  myMode=mode;
  myNamePathComponent=new NamePathComponent(IdeBundle.message("label.project.name"),IdeBundle.message("label.component.file.location",StringUtil.capitalize(wizardContext.getPresentationName())),'a','l',IdeBundle.message("title.select.project.file.directory",wizardContext.getPresentationName()),IdeBundle.message("description.select.project.file.directory",StringUtil.capitalize(wizardContext.getPresentationName())));
  final String baseDir=myWizardContext.getProject() == null ? myWizardContext.getProjectFileDirectory() : FileUtil.toSystemDependentName(myWizardContext.getProject().getBaseDir().getPath());
  final String initialProjectName=ProjectWizardUtil.findNonExistingFileName(baseDir,"untitled","");
  myNamePathComponent.setPath(baseDir + File.separator + initialProjectName);
  myNamePathComponent.setNameValue(initialProjectName);
  myPanel=new JPanel(new GridBagLayout());
  myPanel.setBorder(BorderFactory.createCompoundBorder(BorderFactory.createEtchedBorder(),BorderFactory.createEmptyBorder(10,10,10,10)));
  final ApplicationInfo info=ApplicationManager.getApplication().getComponent(ApplicationInfo.class);
  String appName=info.getVersionName();
  final JLabel promptLabel=new JLabel(IdeBundle.message("label.please.enter.project.name",appName,wizardContext.getPresentationName()));
  myPanel.add(promptLabel,new GridBagConstraints(0,GridBagConstraints.RELATIVE,1,1,1.0,0.0,GridBagConstraints.NORTHWEST,GridBagConstraints.HORIZONTAL,new Insets(8,0,8,0),0,0));
  myPanel.add(myNamePathComponent,new GridBagConstraints(0,GridBagConstraints.RELATIVE,1,1,1.0,0.0,GridBagConstraints.NORTHWEST,GridBagConstraints.HORIZONTAL,new Insets(8,0,8,0),0,0));
  myAdditionalContentPanel=new JPanel(new GridBagLayout());
  myPanel.add(myAdditionalContentPanel,new GridBagConstraints(0,GridBagConstraints.RELATIVE,1,1,1.0,1.0,GridBagConstraints.NORTHWEST,GridBagConstraints.BOTH,new Insets(8,0,8,0),0,0));
}
