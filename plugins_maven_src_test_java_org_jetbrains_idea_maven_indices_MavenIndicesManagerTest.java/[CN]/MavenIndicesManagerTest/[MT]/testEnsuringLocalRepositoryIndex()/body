{
  File dir1=myIndicesFixture.getRepositoryFixture().getTestData("dir/foo");
  File dir2=myIndicesFixture.getRepositoryFixture().getTestData("dir\\foo");
  File dir3=myIndicesFixture.getRepositoryFixture().getTestData("dir\\foo\\");
  File dir4=myIndicesFixture.getRepositoryFixture().getTestData("dir/bar");
  List<MavenIndex> indices1=myIndicesFixture.getIndicesManager().ensureIndicesExist(dir1,Collections.<String>emptySet());
  assertEquals(1,indices1.size());
  assertTrue(myIndicesFixture.getIndicesManager().getIndices().contains(indices1.get(0)));
  assertEquals(indices1,myIndicesFixture.getIndicesManager().ensureIndicesExist(dir2,Collections.<String>emptySet()));
  assertEquals(indices1,myIndicesFixture.getIndicesManager().ensureIndicesExist(dir3,Collections.<String>emptySet()));
  List<MavenIndex> indices2=myIndicesFixture.getIndicesManager().ensureIndicesExist(dir4,Collections.<String>emptySet());
  assertFalse(indices1.get(0).equals(indices2.get(0)));
}
