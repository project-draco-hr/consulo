{
  int displayStart=myHost.physicalToDisplay(rangeInsideHost.getStartOffset());
  int i=myHost.displayToPhysical(offsetInDecoded + displayStart);
  if (i < rangeInsideHost.getStartOffset())   i=rangeInsideHost.getStartOffset();
  if (i > rangeInsideHost.getEndOffset())   i=rangeInsideHost.getEndOffset();
  return i;
}
