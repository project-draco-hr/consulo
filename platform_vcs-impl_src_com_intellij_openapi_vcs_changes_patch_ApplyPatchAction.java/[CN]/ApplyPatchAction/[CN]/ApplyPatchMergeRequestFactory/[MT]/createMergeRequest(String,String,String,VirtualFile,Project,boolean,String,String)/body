{
  MergeRequest request;
  if (myReadOnly) {
    request=DiffRequestFactory.getInstance().create3WayDiffRequest(leftText,rightText,originalContent,project,null,null);
  }
 else {
    request=DiffRequestFactory.getInstance().createMergeRequest(reverse ? rightText : leftText,reverse ? leftText : rightText,originalContent,file,project,ActionButtonPresentation.APPLY,ActionButtonPresentation.CANCEL_WITH_PROMPT);
  }
  request.setVersionTitles(new String[]{leftPanelTitle == null ? VcsBundle.message("patch.apply.conflict.local.version") : leftPanelTitle,rightPanelTitle == null ? VcsBundle.message("patch.apply.conflict.merged.version") : rightPanelTitle,VcsBundle.message("patch.apply.conflict.patched.version")});
  request.setWindowTitle(VcsBundle.message("patch.apply.conflict.title",file.getPresentableUrl()));
  return request;
}
