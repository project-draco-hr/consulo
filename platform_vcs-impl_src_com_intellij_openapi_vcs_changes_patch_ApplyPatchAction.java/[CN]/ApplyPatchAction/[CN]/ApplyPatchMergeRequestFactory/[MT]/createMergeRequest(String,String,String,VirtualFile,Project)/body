{
  MergeRequest request;
  if (myReadOnly) {
    request=DiffRequestFactory.getInstance().create3WayDiffRequest(leftText,rightText,originalContent,project,null);
  }
 else {
    request=DiffRequestFactory.getInstance().createMergeRequest(leftText,rightText,originalContent,file,project,ActionButtonPresentation.createApplyButton());
  }
  request.setVersionTitles(new String[]{VcsBundle.message("patch.apply.conflict.local.version"),VcsBundle.message("patch.apply.conflict.merged.version"),VcsBundle.message("patch.apply.conflict.patched.version")});
  request.setWindowTitle(VcsBundle.message("patch.apply.conflict.title",file.getPresentableUrl()));
  return request;
}
