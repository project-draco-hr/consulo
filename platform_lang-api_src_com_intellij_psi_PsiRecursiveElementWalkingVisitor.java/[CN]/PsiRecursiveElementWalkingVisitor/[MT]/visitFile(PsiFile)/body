{
  if (myVisitAllFileRoots) {
    final FileViewProvider viewProvider=file.getViewProvider();
    final List<PsiFile> allFiles=viewProvider.getAllFiles();
    if (allFiles.size() > 1) {
      if (file == viewProvider.getPsi(viewProvider.getBaseLanguage())) {
        for (        PsiFile lFile : allFiles) {
          if (lFile == file) {
            lFile.acceptChildren(this);
          }
 else {
            lFile.accept(this);
          }
        }
        return;
      }
    }
  }
  super.visitFile(file);
}
