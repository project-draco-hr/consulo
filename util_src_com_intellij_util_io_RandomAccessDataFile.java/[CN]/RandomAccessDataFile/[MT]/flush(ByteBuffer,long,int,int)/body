{
  if (fileOffset + length > mySize) {
    length=(int)(mySize - fileOffset);
  }
  final RandomAccessFile file=getFile();
  try {
synchronized (file) {
      file.seek(fileOffset);
      totalWrites++;
      totalWriteBytes+=length;
      file.write(buf.array(),bufOffset,length);
    }
  }
  finally {
    releaseFile();
  }
}
