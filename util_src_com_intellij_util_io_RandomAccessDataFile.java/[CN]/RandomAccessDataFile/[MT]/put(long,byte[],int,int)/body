{
  mySize=Math.max(mySize,addr + len);
  if (len > Page.PAGE_SIZE) {
    try {
      ourPool.flushPagesInRange(this,addr,len);
      final FileChannel channel=getChannel();
      channel.write(ByteBuffer.wrap(bytes,off,len),addr);
      releaseChannel();
    }
 catch (    IOException e) {
      throw new RuntimeException(e);
    }
  }
 else {
    while (len > 0) {
      final Page page=ourPool.alloc(this,addr);
      int written=page.put(addr,bytes,off,len);
      len-=written;
      addr+=written;
      off+=written;
      ourPool.reclaim(page);
    }
  }
}
