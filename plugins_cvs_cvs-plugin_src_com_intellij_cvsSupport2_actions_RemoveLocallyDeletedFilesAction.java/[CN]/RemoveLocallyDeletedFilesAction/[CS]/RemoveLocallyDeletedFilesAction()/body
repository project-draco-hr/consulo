{
  CvsActionVisibility visibility=getVisibility();
  visibility.canBePerformedOnSeveralFiles();
  visibility.canBePerformedOnLocallyDeletedFile();
  visibility.addCondition(new CvsActionVisibility.Condition(){
    public boolean isPerformedOn(    CvsContext context){
      Collection<File> fileNames=getFilesToRemove(context);
      if (fileNames.isEmpty())       return false;
      for (Iterator<File> iterator=fileNames.iterator(); iterator.hasNext(); ) {
        File file=iterator.next();
        if (file.isDirectory())         return false;
        if (file.isFile())         return false;
        if (!CvsUtil.fileIsUnderCvs(file))         return false;
        if (!CvsUtil.fileIsUnderCvs(file.getParentFile()))         return false;
        if (CvsUtil.fileIsLocallyAdded(file))         return false;
        if (CvsUtil.fileIsLocallyRemoved(file))         return false;
      }
      return true;
    }
  }
);
}
