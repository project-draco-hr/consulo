{
  myInspectionTools=new ArrayList<Class>();
  myLocalInspectionTools=new ArrayList<Class>();
  if (!ApplicationManager.getApplication().isUnitTestMode()) {
    for (int i=0; i < providers.length; i++) {
      InspectionToolProvider provider=providers[i];
      Class[] classes=provider.getInspectionClasses();
      for (int j=0; j < classes.length; j++) {
        if (LocalInspectionTool.class.isAssignableFrom(classes[j])) {
          registerLocalInspection(classes[j]);
        }
 else {
          registerInspectionTool(classes[j]);
        }
      }
    }
  }
}
