{
  if (myChooseDifferentProfile) {
    myPanel.apply();
    final InspectionProfileImpl editedProfile=(InspectionProfileImpl)myPanel.getSelectedProfile().getParentProfile();
    InspectionProfileManager.getInstance().setRootProfile(editedProfile.getName());
    myInspectionProfile.copyFrom(editedProfile);
    InspectionProjectProfileManager.getInstance(myProject).initProfileWrapper(myInspectionProfile);
  }
 else {
    final InspectionProfileImpl editedProfile=(InspectionProfileImpl)myPanel.getSelectedProfile();
    myInspectionProfile.copyFrom(editedProfile);
    myInspectionProfile.save();
    myPanel.initDescriptors();
  }
}
