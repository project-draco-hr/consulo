{
  if (myProject.isDisposed()) {
    return;
  }
  final CmdlineRemoteProto.Message.BuilderMessage.CompileMessage.Kind kind=message.getKind();
  if (kind == CmdlineRemoteProto.Message.BuilderMessage.CompileMessage.Kind.PROGRESS) {
    final ProblemsView view=ProblemsView.SERVICE.getInstance(myProject);
    if (message.hasDone()) {
      view.setProgress(message.getText(),message.getDone());
    }
 else {
      view.setProgress(message.getText());
    }
  }
 else   if (kind == CmdlineRemoteProto.Message.BuilderMessage.CompileMessage.Kind.ERROR) {
    informWolf(myProject,message);
    final String sourceFilePath=message.hasSourceFilePath() ? message.getSourceFilePath() : null;
    final VirtualFile vFile=sourceFilePath != null ? LocalFileSystem.getInstance().findFileByPath(FileUtil.toSystemIndependentName(sourceFilePath)) : null;
    final long line=message.hasLine() ? message.getLine() : -1;
    final long column=message.hasColumn() ? message.getColumn() : -1;
    ProblemsView.SERVICE.getInstance(myProject).addMessage(new CompilerMessageImpl(myProject,CompilerMessageCategory.ERROR,message.getText(),vFile,(int)line,(int)column,null));
  }
}
