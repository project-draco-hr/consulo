{
  lock.lock();
  try {
    myRelPathsToEntries.clear();
    myZipFile=new SoftReference<ZipFile>(null);
    NewVirtualFile root=(NewVirtualFile)JarFileSystem.getInstance().findFileByPath(myBasePath + JarFileSystem.JAR_SEPARATOR);
    if (root != null) {
      root.markDirty();
      for (      VirtualFile child : root.getChildren()) {
        ManagingFS fs=ManagingFS.getInstance();
        fs.processEvents(Collections.singletonList(new VFileDeleteEvent(this,child,true)));
      }
      root.markDirtyRecursively();
      RefreshQueue.getInstance().refresh(false,true,null,root);
    }
  }
  finally {
    lock.unlock();
  }
}
