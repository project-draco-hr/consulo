{
  lock.lock();
  try {
    myRelPathsToEntries.clear();
    myZipFile=new SoftReference<ZipFile>(null);
    NewVirtualFile root=(NewVirtualFile)JarFileSystem.getInstance().findFileByPath(myBasePath + JarFileSystem.JAR_SEPARATOR);
    if (root != null) {
      root.markDirty();
      try {
        for (        VirtualFile child : root.getChildren()) {
          child.delete(this);
        }
        root.markDirtyRecursively();
        RefreshQueue.getInstance().refresh(false,true,null,root);
      }
 catch (      IOException e) {
        throw new RuntimeException(e);
      }
    }
  }
  finally {
    lock.unlock();
  }
}
