{
  if (!orXhtml && !(doc instanceof HtmlDocumentImpl)) {
    return false;
  }
  XmlProlog prolog=doc.getProlog();
  XmlDoctype doctype=prolog != null ? prolog.getDoctype() : null;
  if (doctype == null) {
    return XmlUtil.HTML5_SCHEMA_LOCATION.equals(ExternalResourceManagerEx.getInstanceEx().getDefaultHtmlDoctype(doc.getProject()));
  }
  return isHtml5Doctype(doctype);
}
