{
  final Project project=file.getProject();
  final String preferredEditorProviderId=computePreferredEditorForLayoutFiles(project);
  super.doNavigate(file);
  if (preferredEditorProviderId != null) {
    final FileEditorManager manager=FileEditorManager.getInstance(project);
    if (manager instanceof FileEditorManagerImpl) {
      final VirtualFile vFile=file.getVirtualFile();
      if (vFile != null) {
        ((FileEditorManagerImpl)manager).setSelectedEditor(vFile,preferredEditorProviderId);
      }
    }
  }
}
