{
  DebuggerTree tree=getTree(dataContext);
  if (tree == null)   return null;
  TreePath[] paths=tree.getSelectionPaths();
  if (paths == null || paths.length == 0) {
    return EMPTY_TREE_NODE_ARRAY;
  }
  List<DebuggerTreeNodeImpl> nodes=new ArrayList<DebuggerTreeNodeImpl>(paths.length);
  for (  TreePath path : paths) {
    Object component=path.getLastPathComponent();
    if (component instanceof DebuggerTreeNodeImpl) {
      nodes.add((DebuggerTreeNodeImpl)component);
    }
  }
  return nodes.toArray(new DebuggerTreeNodeImpl[nodes.size()]);
}
