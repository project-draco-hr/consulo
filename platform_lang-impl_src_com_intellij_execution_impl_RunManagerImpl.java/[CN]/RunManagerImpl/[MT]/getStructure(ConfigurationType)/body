{
  LinkedHashMap<String,List<RunnerAndConfigurationSettings>> map=new LinkedHashMap<>();
  List<RunnerAndConfigurationSettings> typeList=new ArrayList<>();
  List<RunnerAndConfigurationSettings> settings=getConfigurationSettingsList(type);
  for (  RunnerAndConfigurationSettings setting : settings) {
    String folderName=setting.getFolderName();
    if (folderName == null) {
      typeList.add(setting);
    }
 else {
      List<RunnerAndConfigurationSettings> list=map.get(folderName);
      if (list == null) {
        map.put(folderName,list=new ArrayList<>());
      }
      list.add(setting);
    }
  }
  LinkedHashMap<String,List<RunnerAndConfigurationSettings>> result=new LinkedHashMap<>();
  for (  Map.Entry<String,List<RunnerAndConfigurationSettings>> entry : map.entrySet()) {
    result.put(entry.getKey(),Collections.unmodifiableList(entry.getValue()));
  }
  result.put(null,Collections.unmodifiableList(typeList));
  return Collections.unmodifiableMap(result);
}
