{
  boolean shouldFire=settings != null && isConfigurationShared(settings) != shareConfiguration;
  if (shareConfiguration && settings.isTemporary())   makeStable(settings);
  mySharedConfigurations.put(settings.getUniqueID(),shareConfiguration);
  if (shouldFire)   fireRunConfigurationChanged(settings);
}
