{
  Arrays.sort(factories,new Comparator<ConfigurationType>(){
    @Override public int compare(    final ConfigurationType o1,    final ConfigurationType o2){
      return o1.getDisplayName().compareTo(o2.getDisplayName());
    }
  }
);
  final ArrayList<ConfigurationType> types=new ArrayList<ConfigurationType>(Arrays.asList(factories));
  types.add(UnknownConfigurationType.INSTANCE);
  myTypes=types.toArray(new ConfigurationType[types.size()]);
  for (  final ConfigurationType type : factories) {
    myTypesByName.put(type.getId(),type);
  }
  final UnknownConfigurationType broken=UnknownConfigurationType.INSTANCE;
  myTypesByName.put(broken.getId(),broken);
}
