{
  if (!aClass.isValid()) {
    aClass.putUserData(CLASS_KIND_KEY,null);
    return CLASS_KIND_CLASS;
  }
  CachedValue<Integer> value=aClass.getUserData(CLASS_KIND_KEY);
  if (value == null) {
    value=aClass.getManager().getCachedValuesManager().createCachedValue(new CachedValueProvider<Integer>(){
      public Result<Integer> compute(){
        return new Result<Integer>(new Integer(getClassKindImpl(aClass)),new Object[]{PsiModificationTracker.OUT_OF_CODE_BLOCK_MODIFICATION_COUNT});
      }
    }
,false);
    aClass.putUserData(CLASS_KIND_KEY,value);
  }
  return value.getValue().intValue();
}
