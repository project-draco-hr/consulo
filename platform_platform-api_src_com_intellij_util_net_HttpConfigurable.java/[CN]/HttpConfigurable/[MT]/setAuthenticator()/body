{
  if (USE_HTTP_PROXY) {
    System.setProperty("proxySet","true");
    System.setProperty("http.proxyHost",PROXY_HOST);
    System.setProperty("http.proxyPort",Integer.toString(PROXY_PORT));
    Authenticator.setDefault(getAuthenticator());
  }
 else   if (USE_PROXY_PAC) {
    ProxySearch proxySearch=ProxySearch.getDefaultProxySearch();
    ProxySelector proxySelector=proxySearch.getProxySelector();
    ProxySelector.setDefault(proxySelector);
    Authenticator.setDefault(proxySelector != null ? getAuthenticator() : null);
  }
 else {
    System.setProperty("proxySet","false");
    System.clearProperty("http.proxyHost");
    System.clearProperty("http.proxyPort");
    Authenticator.setDefault(null);
  }
}
