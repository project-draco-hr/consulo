{
  final Runnable throughSwing=new Runnable(){
    @Override public void run(){
      if (SwingUtilities.isEventDispatchThread()) {
        runnable.run();
        return;
      }
      try {
        SwingUtilities.invokeAndWait(runnable);
      }
 catch (      InterruptedException e) {
        LOG.info(e);
      }
catch (      InvocationTargetException e) {
        LOG.info(e);
      }
    }
  }
;
  if (ProgressManager.getInstance().getProgressIndicator() != null) {
    if (ProgressManager.getInstance().getProgressIndicator().isModal()) {
      WaitForProgressToShow.runOrInvokeAndWaitAboveProgress(runnable);
    }
 else {
      throughSwing.run();
    }
  }
 else {
    throughSwing.run();
  }
}
