{
  CommonProxy.isInstalledAssertion();
  XmlSerializer.serializeInto(getState(),element);
  if (USE_PROXY_PAC && USE_HTTP_PROXY && !ApplicationManager.getApplication().isDisposed()) {
    ApplicationManager.getApplication().invokeLater(new Runnable(){
      @Override public void run(){
        final IdeFrame frame=IdeFocusManager.findInstance().getLastFocusedFrame();
        if (frame != null) {
          USE_PROXY_PAC=false;
          Messages.showMessageDialog(frame.getComponent(),"Proxy: both 'use proxy' and 'autodetect proxy' settings were set." + "\nOnly one of these options should be selected.\nPlease re-configure.","Proxy setup",Messages.getWarningIcon());
          editConfigurable(frame.getComponent());
        }
      }
    }
,ModalityState.NON_MODAL);
  }
}
