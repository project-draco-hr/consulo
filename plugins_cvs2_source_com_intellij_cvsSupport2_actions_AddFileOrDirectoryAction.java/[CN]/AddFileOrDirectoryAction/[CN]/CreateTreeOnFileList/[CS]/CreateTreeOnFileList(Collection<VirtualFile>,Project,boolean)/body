{
  myFiles=files;
  myProject=project;
  myShouldIncludeAllRoots=shouldIncludeAllRoots;
  fillFileToInfoMap();
  setAllParents();
  if (!myShouldIncludeAllRoots) {
    for (Iterator each=files.iterator(); each.hasNext(); ) {
      VirtualFile virtualFile=(VirtualFile)each.next();
      if (CvsEntriesManager.getInstance().fileIsIgnored(virtualFile)) {
        myResult.get(virtualFile).setIncluded(false);
      }
    }
  }
  removeFromMapInfoWithParentAndResortAll();
}
