{
  Content content=null;
  if (descriptor != null) {
    if (descriptor.isContentReuseProhibited()) {
      return null;
    }
    final Content attachedContent=descriptor.getAttachedContent();
    if (attachedContent != null && attachedContent.isValid())     content=attachedContent;
  }
  if (content == null) {
    content=contentManager.getSelectedContent();
    if (content != null && content.isPinned())     content=null;
  }
  if (content == null || !isTerminated(content) || content.getUserData(MARKED_TO_BE_REUSED) != null) {
    return null;
  }
  final RunContentDescriptor oldDescriptor=getRunContentDescriptorByContent(content);
  if (oldDescriptor != null && !oldDescriptor.isContentReuseProhibited()) {
    return oldDescriptor;
  }
  return null;
}
