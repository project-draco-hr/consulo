{
  ArrayList<FilePath> added=new ArrayList<FilePath>();
  ArrayList<FilePath> removed=new ArrayList<FilePath>();
  boolean rc=true;
  for (  FilePath file : files) {
    if (file.getIOFile().exists()) {
      added.add(file);
    }
 else {
      removed.add(file);
    }
  }
  if (!added.isEmpty()) {
    try {
      GitSimpleHandler.addPaths(project,root,added).run();
    }
 catch (    VcsException ex) {
      exceptions.add(ex);
      rc=false;
    }
  }
  if (!removed.isEmpty()) {
    try {
      GitSimpleHandler.delete(project,root,removed).run();
    }
 catch (    VcsException ex) {
      exceptions.add(ex);
      rc=false;
    }
  }
  return rc;
}
