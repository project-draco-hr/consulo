{
  myCreatedFiles.add(file);
  String relativeFileName="/" + file.getName();
  if (parent == null) {
    return isDirectory ? DirectoryObject.createInstance(relativeFileName) : (AbstractFileObject)FileObject.createInstance(relativeFileName);
  }
 else {
    DirectoryObject parentObject=getDirectoryObjectFor(parent);
    return isDirectory ? DirectoryObject.createInstance(parentObject,relativeFileName) : (AbstractFileObject)FileObject.createInstance(parentObject,relativeFileName);
  }
}
