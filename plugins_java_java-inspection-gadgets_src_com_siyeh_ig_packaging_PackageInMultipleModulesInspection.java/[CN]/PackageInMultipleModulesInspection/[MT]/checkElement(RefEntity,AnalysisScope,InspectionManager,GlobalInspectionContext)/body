{
  if (!(refEntity instanceof RefPackage)) {
    return null;
  }
  final List<RefEntity> children=refEntity.getChildren();
  if (children == null) {
    return null;
  }
  final Set<RefModule> modules=new HashSet<RefModule>();
  for (  RefEntity child : children) {
    if (!(child instanceof RefClass)) {
      continue;
    }
    final RefClass refClass=(RefClass)child;
    final RefModule module=refClass.getModule();
    modules.add(module);
  }
  if (modules.size() <= 1) {
    return null;
  }
  final String errorString=InspectionGadgetsBundle.message("package.in.multiple.modules.problem.descriptor",refEntity.getQualifiedName());
  return new CommonProblemDescriptor[]{inspectionManager.createProblemDescriptor(errorString)};
}
