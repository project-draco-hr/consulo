{
  myBeforeUndoCheckpoint=LocalHistory.putCheckpoint(myProject);
  if (!myProcessDuringUndo)   return;
  try {
    myAfterActionCheckpoint.revertToPreviousState();
  }
 catch (  IOException e) {
    throw new UnexpectedUndoException(e.getMessage());
  }
}
