{
  if (!scope.contains(vFile))   return false;
  if (vFile.getFileType() == StdFileTypes.CLASS) {
    final VirtualFile root=ProjectRootManager.getInstance(myManager.getProject()).getFileIndex().getClassRootForFile(vFile);
    VirtualFile parent=vFile.getParent();
    final PsiNameHelper nameHelper=JavaPsiFacade.getInstance(myManager.getProject()).getNameHelper();
    while (parent != null && parent != root) {
      if (!nameHelper.isIdentifier(parent.getName()))       return false;
      parent=parent.getParent();
    }
  }
  return true;
}
