{
  DataContext dataContext=e.getDataContext();
  Editor editor=(Editor)dataContext.getData(DataConstants.EDITOR);
  Project project=(Project)dataContext.getData(DataConstants.PROJECT);
  boolean enabled=editor != null && project != null;
  if (enabled) {
    PsiFile file=PsiDocumentManager.getInstance(project).getPsiFile(editor.getDocument());
    if (file == null) {
      enabled=false;
    }
 else {
      PsiElement element=file.findElementAt(editor.getCaretModel().getOffset());
      PsiMember member=findMemberToCopy(element);
      enabled=member != null;
    }
  }
  e.getPresentation().setEnabled(enabled);
}
