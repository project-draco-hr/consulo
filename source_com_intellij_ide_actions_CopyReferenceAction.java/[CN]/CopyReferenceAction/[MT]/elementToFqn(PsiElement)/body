{
  final String fqn;
  if (element instanceof PsiClass) {
    fqn=((PsiClass)element).getQualifiedName();
  }
 else   if (element instanceof PsiMember) {
    final PsiMember member=(PsiMember)element;
    fqn=member.getContainingClass().getQualifiedName() + "#" + member.getName();
  }
 else   if (element instanceof PsiFile) {
    final PsiFile file=(PsiFile)element;
    final VirtualFile virtualFile=file.getVirtualFile();
    fqn=virtualFile == null ? file.getName() : FileUtil.toSystemDependentName(virtualFile.getPath());
  }
 else {
    fqn=element.getClass().getName();
  }
  return fqn;
}
