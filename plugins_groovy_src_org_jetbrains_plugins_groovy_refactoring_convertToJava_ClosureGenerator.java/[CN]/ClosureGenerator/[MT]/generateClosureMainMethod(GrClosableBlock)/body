{
  builder.append("public ");
  final PsiType returnType=block.getReturnType();
  writeType(builder,returnType,block);
  builder.append(" doCall");
  final GrParameter[] parameters=block.getAllParameters();
  GenerationUtil.writeParameterList(builder,parameters,new GeneratorClassNameProvider(),context);
  Collection<GrStatement> myExitPoints=ControlFlowUtils.collectReturns(block);
  boolean shouldInsertReturnNull=!(returnType instanceof PsiPrimitiveType) && MissingReturnInspection.methodMissesSomeReturns(block,MissingReturnInspection.ReturnStatus.shouldNotReturnValue);
  new CodeBlockGenerator(builder,context.extend(),myExitPoints).generateCodeBlock(block,shouldInsertReturnNull);
  builder.append('\n');
}
