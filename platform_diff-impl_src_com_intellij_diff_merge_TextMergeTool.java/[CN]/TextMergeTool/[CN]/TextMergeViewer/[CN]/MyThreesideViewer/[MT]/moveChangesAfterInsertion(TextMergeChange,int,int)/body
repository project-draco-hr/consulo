{
  LOG.assertTrue(myCurrentMergeCommand != null);
  if (change.getStartLine(ThreeSide.BASE) != newOutputStartLine || change.getEndLine(ThreeSide.BASE) != newOutputEndLine) {
    change.setStartLine(ThreeSide.BASE,newOutputStartLine);
    change.setEndLine(ThreeSide.BASE,newOutputEndLine);
    reinstallHighlighter(change);
  }
  boolean beforeChange=true;
  for (  TextMergeChange otherChange : getAllChanges()) {
    int startLine=otherChange.getStartLine(ThreeSide.BASE);
    int endLine=otherChange.getEndLine(ThreeSide.BASE);
    if (endLine < newOutputStartLine)     continue;
    if (startLine > newOutputEndLine)     break;
    if (otherChange == change) {
      beforeChange=false;
      continue;
    }
    int newStartLine=beforeChange ? Math.min(startLine,newOutputStartLine) : Math.max(startLine,newOutputEndLine);
    int newEndLine=beforeChange ? Math.min(endLine,newOutputStartLine) : Math.max(endLine,newOutputEndLine);
    if (startLine != newStartLine || endLine != newEndLine) {
      otherChange.setStartLine(ThreeSide.BASE,newStartLine);
      otherChange.setEndLine(ThreeSide.BASE,newEndLine);
      reinstallHighlighter(otherChange);
    }
  }
}
