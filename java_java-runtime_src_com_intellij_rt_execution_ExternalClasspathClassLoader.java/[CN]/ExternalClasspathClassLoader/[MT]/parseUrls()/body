{
  final List urls=new ArrayList();
  final File file=new File(System.getProperty("classpath.file"));
  try {
    final BufferedReader reader=new BufferedReader(new FileReader(file));
    try {
      while (reader.ready()) {
        final String fileName=reader.readLine();
        try {
          urls.add(new File(fileName).toURI().toURL());
        }
 catch (        NoSuchMethodError e) {
          urls.add(new File(fileName).toURL());
        }
      }
    }
  finally {
      reader.close();
    }
    return (URL[])urls.toArray(new URL[urls.size()]);
  }
 catch (  IOException e) {
    throw new RuntimeException("Cannot read classpath entries from file: " + e);
  }
 finally {
    file.delete();
  }
}
