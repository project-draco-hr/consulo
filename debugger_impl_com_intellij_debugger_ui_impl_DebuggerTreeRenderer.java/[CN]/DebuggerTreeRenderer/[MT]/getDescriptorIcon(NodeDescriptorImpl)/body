{
  Icon nodeIcon=null;
  if (descriptor instanceof ThreadGroupDescriptorImpl) {
    nodeIcon=(((ThreadGroupDescriptorImpl)descriptor).isCurrent() ? myCurrentThreadGroupIcon : myThreadGroupIcon);
  }
 else   if (descriptor instanceof ThreadDescriptorImpl) {
    ThreadDescriptorImpl threadDescriptor=(ThreadDescriptorImpl)descriptor;
    nodeIcon=threadDescriptor.getIcon();
  }
 else   if (descriptor instanceof StackFrameDescriptorImpl) {
    StackFrameDescriptorImpl stackDescriptor=(StackFrameDescriptorImpl)descriptor;
    nodeIcon=stackDescriptor.getIcon();
  }
 else   if (descriptor instanceof ValueDescriptorImpl) {
    ValueDescriptorImpl valueDescriptor=(ValueDescriptorImpl)descriptor;
    if (valueDescriptor instanceof FieldDescriptorImpl && ((FieldDescriptorImpl)valueDescriptor).isStatic()) {
      nodeIcon=myStaticFieldIcon;
    }
 else     if (valueDescriptor.isArray()) {
      nodeIcon=myArrayValueIcon;
    }
 else     if (valueDescriptor.isPrimitive()) {
      nodeIcon=myPrimitiveValueIcon;
    }
 else {
      if (valueDescriptor instanceof WatchItemDescriptor) {
        nodeIcon=myWatchedValueIcon;
      }
 else {
        nodeIcon=myValueIcon;
      }
    }
  }
 else   if (descriptor instanceof MessageDescriptor) {
    MessageDescriptor messageDescriptor=(MessageDescriptor)descriptor;
    if (messageDescriptor.getKind() == MessageDescriptor.ERROR) {
      nodeIcon=myErrorMessageIcon;
    }
 else     if (messageDescriptor.getKind() == MessageDescriptor.INFORMATION) {
      nodeIcon=myInformationMessageIcon;
    }
 else     if (messageDescriptor.getKind() == MessageDescriptor.SPECIAL) {
      nodeIcon=null;
    }
  }
 else   if (descriptor instanceof StaticDescriptorImpl) {
    nodeIcon=myStaticIcon;
  }
  return nodeIcon;
}
