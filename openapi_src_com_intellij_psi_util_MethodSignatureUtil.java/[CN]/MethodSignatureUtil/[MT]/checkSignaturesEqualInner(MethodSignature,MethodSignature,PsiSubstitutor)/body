{
  if (unifyingSubstitutor == null)   return false;
  PsiTypeParameter[] subTypeParameters=subSignature.getTypeParameters();
  PsiTypeParameter[] superTypeParameters=superSignature.getTypeParameters();
  if (subTypeParameters.length > superTypeParameters.length)   return false;
  for (int i=0; i < subTypeParameters.length; i++) {
    PsiType type1=unifyingSubstitutor.substitute(subTypeParameters[i]);
    PsiType type2=unifyingSubstitutor.substitute(superTypeParameters[i]);
    if (!Comparing.equal(type1,type2))     return false;
  }
  final PsiType[] subParameterTypes=subSignature.getParameterTypes();
  final PsiType[] superParameterTypes=superSignature.getParameterTypes();
  for (int i=0; i < subParameterTypes.length; i++) {
    PsiType type1=unifyingSubstitutor.substitute(subParameterTypes[i]);
    PsiType type2=unifyingSubstitutor.substitute(superParameterTypes[i]);
    if (!type1.equals(type2)) {
      if (subSignature.getTypeParameters().length > 0)       return false;
      return checkErasures(subParameterTypes,superParameterTypes);
    }
  }
  return true;
}
