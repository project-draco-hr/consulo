{
  PsiSubstitutor result=getSuperMethodSignatureSubstitutorImpl(methodSignature,superMethodSignature);
  if (result == null)   return null;
  PsiTypeParameter[] typeParameters1=methodSignature.getTypeParameters();
  PsiTypeParameter[] typeParameters2=superMethodSignature.getTypeParameters();
  PsiSubstitutor substitutor1=methodSignature.getSubstitutor();
  for (int i=0; i < typeParameters1.length; i++) {
    PsiTypeParameter typeParameter1=typeParameters1[i];
    PsiTypeParameter typeParameter2=typeParameters2[i];
    final PsiClassType[] supers1=typeParameter1.getSuperTypes();
    final PsiClassType[] supers2=typeParameter2.getSuperTypes();
    if (supers1.length != supers2.length)     return null;
    for (int j=0; j < supers1.length; j++) {
      PsiType type1=substitutor1.substitute(supers1[j]);
      PsiType type2=substitutor1.substitute(result.substitute(supers2[j]));
      if (!type1.equals(type2))       return null;
    }
  }
  return result;
}
