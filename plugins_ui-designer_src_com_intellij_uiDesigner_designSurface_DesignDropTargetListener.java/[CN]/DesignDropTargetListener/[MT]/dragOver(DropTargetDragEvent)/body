{
  try {
    if (myComponentDragObject == null) {
      dtde.rejectDrag();
      return;
    }
    final int dx=dtde.getLocation().x - myLastPoint.x;
    final int dy=dtde.getLocation().y - myLastPoint.y;
    if (myDraggedComponentsCopy != null && myDraggedComponentList != null) {
      for (      RadComponent aMySelection : myDraggedComponentsCopy) {
        aMySelection.shift(dx,dy);
      }
    }
    myLastPoint=dtde.getLocation();
    myEditor.getDragLayer().repaint();
    ComponentDropLocation location=myGridInsertProcessor.processDragEvent(dtde.getLocation(),myComponentDragObject);
    if (!location.canDrop(myComponentDragObject) || (myDraggedComponentList != null && FormEditingUtil.isDropOnChild(myDraggedComponentList,location))) {
      myComponentTree.setDropTargetComponent(null);
      dtde.rejectDrag();
    }
 else {
      myComponentTree.setDropTargetComponent(location.getContainer());
      dtde.acceptDrag(dtde.getDropAction());
    }
  }
 catch (  Exception e) {
    LOG.error(e);
  }
}
