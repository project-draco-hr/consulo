{
  myWidthInPixels=-1;
  int startVisualLine=myView.offsetToVisualLine(startOffset,false);
  int endVisualLine=myView.offsetToVisualLine(endOffset,true);
  int lineDiff=myEditor.getVisibleLineCount() - myLineWidths.size();
  if (lineDiff > 0) {
    int[] newEntries=new int[lineDiff];
    myLineWidths.insert(startVisualLine,newEntries);
  }
 else   if (lineDiff < 0) {
    myLineWidths.remove(startVisualLine,-lineDiff);
  }
  for (int i=startVisualLine; i <= endVisualLine && i < myLineWidths.size(); i++) {
    myLineWidths.set(i,-1);
  }
}
