{
  JScrollPane scrollPane=new JScrollPane(treeTable);
  treeTable.setSelectionMode(ListSelectionModel.SINGLE_SELECTION);
  scrollPane.setBorder(BorderFactory.createEmptyBorder(0,0,0,0));
  treeTable.setBorder(BorderFactory.createEmptyBorder(5,5,5,5));
  if (treeTable.getRowCount() >= 20) {
    scrollPane.getViewport().setPreferredSize(new Dimension(treeTable.getPreferredScrollableViewportSize().width,300));
  }
 else {
    scrollPane.getViewport().setPreferredSize(treeTable.getPreferredSize());
  }
  JPanel panel=new JPanel(new BorderLayout());
  panel.add(scrollPane,BorderLayout.CENTER);
  final JTextArea textArea=createTextArea();
  treeTable.getSelectionModel().addListSelectionListener(new ListSelectionListener(){
    public void valueChanged(    ListSelectionEvent e){
      final int index=treeTable.getSelectionModel().getMinSelectionIndex();
      if (index == -1) {
        textArea.setText("");
      }
 else {
        final VcsFileRevision revision=getRevisionAt(treeTable,index);
        textArea.setText(revision.getCommitMessage());
      }
    }
  }
);
  final JScrollPane textScrollPane=new JScrollPane(textArea);
  panel.add(textScrollPane,BorderLayout.SOUTH);
  textScrollPane.setBorder(BorderFactory.createTitledBorder(BorderFactory.createLineBorder(Color.lightGray),"Commit message:"));
  return panel;
}
