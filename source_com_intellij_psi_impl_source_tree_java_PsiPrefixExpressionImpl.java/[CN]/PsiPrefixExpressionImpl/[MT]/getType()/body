{
  PsiElementFactoryImpl factory=(PsiElementFactoryImpl)getManager().getElementFactory();
  PsiExpression operand=getOperand();
  if (operand == null)   return null;
  PsiType type=operand.getType();
  IElementType opCode=(SourceTreeToPsiMap.psiElementToTree(getOperationSign())).getElementType();
  if (opCode == PLUS || opCode == MINUS || opCode == TILDE) {
    if (type == null)     return null;
    if (type == PsiType.BYTE || type == PsiType.CHAR || type == PsiType.SHORT) {
      return PsiType.INT;
    }
 else {
      return type;
    }
  }
 else   if (opCode == PLUSPLUS || opCode == MINUSMINUS) {
    return type;
  }
 else   if (opCode == EXCL) {
    return PsiType.BOOLEAN;
  }
 else {
    LOG.assertTrue(false);
    return null;
  }
}
