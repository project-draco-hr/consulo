{
  final Collection<Change> oldChanges=new ArrayList<>();
  for (  LocalChangeList list : myMap.values()) {
    final Collection<Change> affectedChanges=((LocalChangeListImpl)list).startProcessingChanges(myProject,scope);
    if (!affectedChanges.isEmpty()) {
      oldChanges.addAll(affectedChanges);
    }
  }
  for (  Change change : oldChanges) {
    myIdx.changeRemoved(change);
  }
  correctScopeForMoves(scope,oldChanges);
  myLocallyDeleted.cleanAndAdjustScope(scope);
  mySwitchedHolder.cleanAndAdjustScope(scope);
}
