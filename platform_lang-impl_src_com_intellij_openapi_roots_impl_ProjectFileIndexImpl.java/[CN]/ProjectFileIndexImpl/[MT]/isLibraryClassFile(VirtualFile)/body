{
  if (file.isDirectory())   return false;
  if (file.getFileType() != StdFileTypes.CLASS)   return false;
  if (myFileTypeManager.isFileIgnored(file))   return false;
  VirtualFile parent=file.getParent();
  DirectoryInfo parentInfo=getInfoForDirectory(parent);
  return parentInfo != null && parentInfo.libraryClassRoot != null;
}
