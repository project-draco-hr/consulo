{
  myClassName=className;
  final PsiFile file=place.getContainingFile();
  if (file instanceof JavaCodeFragment) {
    if (((JavaCodeFragment)file).getVisibilityChecker() != null)     place=null;
  }
  myPlace=place;
  if (place instanceof PsiJavaCodeReferenceElement) {
    final PsiJavaCodeReferenceElement expression=(PsiJavaCodeReferenceElement)place;
    final PsiElement qualifierExpression=expression.getQualifier();
    if (qualifierExpression instanceof PsiExpression) {
      final PsiType type=((PsiExpression)qualifierExpression).getType();
      if (type instanceof PsiClassType) {
        myAccessClass=((PsiClassType)type).resolve();
      }
    }
 else     if (qualifierExpression instanceof PsiJavaCodeReferenceElement) {
      LOG.assertTrue(qualifierExpression.isValid());
      final PsiElement resolve=((PsiJavaCodeReferenceElement)qualifierExpression).resolve();
      if (resolve instanceof PsiClass) {
        myAccessClass=(PsiClass)resolve;
      }
    }
  }
}
