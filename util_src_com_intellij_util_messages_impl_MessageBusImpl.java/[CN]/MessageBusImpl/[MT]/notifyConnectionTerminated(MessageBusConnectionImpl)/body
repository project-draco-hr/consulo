{
  myConnections.remove(connection);
  for (  List<MessageBusConnectionImpl> topicSubscribers : mySubscribers.values()) {
    topicSubscribers.remove(connection);
  }
  final Iterator<DeliveryJob> i=myMessageQueue.iterator();
  while (i.hasNext()) {
    final DeliveryJob job=i.next();
    if (job.connection == connection) {
      i.remove();
    }
  }
}
