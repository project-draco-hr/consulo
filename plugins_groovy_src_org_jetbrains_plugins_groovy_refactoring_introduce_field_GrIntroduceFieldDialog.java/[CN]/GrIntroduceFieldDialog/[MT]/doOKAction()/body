{
  final GrTypeDefinition clazz=(GrTypeDefinition)myContext.scope;
  final String name=getName();
  String message=RefactoringBundle.message("field.exists",name,clazz.getQualifiedName());
  if (clazz.findFieldByName(name,true) != null && showYesNoDialog(myContext.project,message,REFACTORING_NAME,getWarningIcon()) != 0) {
    return;
  }
  GroovyApplicationSettings.getInstance().SPECIFY_VAR_TYPE_EXPLICITLY=getSelectedType() != null;
  super.doOKAction();
}
