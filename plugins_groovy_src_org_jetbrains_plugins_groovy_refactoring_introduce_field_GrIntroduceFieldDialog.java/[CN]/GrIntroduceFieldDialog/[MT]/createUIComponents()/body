{
  String[] possibleNames;
  final GroovyFieldValidator validator=new GroovyFieldValidator(myContext);
  final GrExpression expression=myContext.getExpression();
  final GrVariable var=myContext.getVar();
  if (expression != null) {
    possibleNames=GroovyNameSuggestionUtil.suggestVariableNames(expression,validator,true);
  }
 else {
    possibleNames=GroovyNameSuggestionUtil.suggestVariableNameByType(var.getType(),validator);
  }
  if (var != null) {
    String[] arr=new String[possibleNames.length + 1];
    arr[0]=var.getName();
    System.arraycopy(possibleNames,0,arr,1,possibleNames.length);
    possibleNames=arr;
  }
  myNameSuggestionsField=new NameSuggestionsField(possibleNames,myContext.getProject(),GroovyFileType.GROOVY_FILE_TYPE);
  if (expression == null) {
    myTypeComboBox=GrTypeComboBox.createTypeComboBoxWithDefType(var.getDeclaredType());
  }
 else {
    myTypeComboBox=GrTypeComboBox.createTypeComboBoxFromExpression(expression);
  }
}
