{
  visited.add(module);
  ModuleRootManager manager=ModuleRootManager.getInstance(module);
  Collections.addAll(result,manager.getSourceRoots());
  for (  OrderEntry entry : manager.getOrderEntries()) {
    if (entry instanceof ModuleOrderEntry) {
      ModuleOrderEntry moduleOrderEntry=(ModuleOrderEntry)entry;
      DependencyScope scope=moduleOrderEntry.getScope();
      if (scope == DependencyScope.COMPILE || scope == DependencyScope.TEST) {
        Module depModule=moduleOrderEntry.getModule();
        if (depModule != null && !visited.contains(depModule)) {
          fillSourceRoots(depModule,visited,result);
        }
      }
    }
  }
}
