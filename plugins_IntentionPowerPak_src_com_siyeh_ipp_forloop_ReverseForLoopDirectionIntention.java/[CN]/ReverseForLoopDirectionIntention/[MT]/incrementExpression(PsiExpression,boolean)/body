{
  if (expression instanceof PsiLiteralExpression) {
    final PsiLiteralExpression literalExpression=(PsiLiteralExpression)expression;
    final Number value=(Number)literalExpression.getValue();
    if (value == null) {
      return null;
    }
    if (positive) {
      return String.valueOf(value.longValue() + 1);
    }
 else {
      return String.valueOf(value.longValue() - 1);
    }
  }
 else {
    final String expressionText;
    if (ParenthesesUtils.getPrecedence(expression) > ParenthesesUtils.ADDITIVE_PRECEDENCE) {
      expressionText='(' + expression.getText() + ')';
    }
 else {
      expressionText=expression.getText();
    }
    if (positive) {
      return expressionText + "+1";
    }
 else {
      return expressionText + "-1";
    }
  }
}
