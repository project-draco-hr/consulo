{
  if (aClass.isInterface()) {
    return getManager().getElementFactory().createType(getManager().findClass("java.lang.Object",getResolveScope()));
  }
  if (aClass instanceof PsiAnonymousClass) {
    final PsiClassType baseClassType=((PsiAnonymousClass)aClass).getBaseClassType();
    final PsiClass psiClass=baseClassType.resolve();
    if (psiClass != null && !psiClass.isInterface()) {
      return baseClassType;
    }
    return PsiType.getJavaLangObject(getManager(),getResolveScope());
  }
  if ("java.lang.Object".equals(aClass.getQualifiedName()))   return null;
  PsiClassType[] superTypes=aClass.getExtendsListTypes();
  PsiReferenceList[] introducedExtendsList=new PsiReferenceList[1];
  PsiReferenceList[] introducedImplementsList=new PsiReferenceList[1];
  getManager().getAspectManager().getIntroducedParents(aClass,introducedExtendsList,introducedImplementsList);
  if (introducedExtendsList[0] != null)   superTypes=introducedExtendsList[0].getReferencedTypes();
  if (superTypes.length == 0) {
    final PsiClass javaLangObject=getManager().findClass("java.lang.Object",getResolveScope());
    if (javaLangObject != null) {
      return getManager().getElementFactory().createType(javaLangObject);
    }
 else {
      return null;
    }
  }
  return superTypes[0];
}
