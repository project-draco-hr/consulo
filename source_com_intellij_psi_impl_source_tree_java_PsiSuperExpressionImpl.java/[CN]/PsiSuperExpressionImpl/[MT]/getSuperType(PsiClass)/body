{
  if (aClass.isInterface()) {
    JavaPsiFacade facade=JavaPsiFacade.getInstance(getProject());
    return facade.getElementFactory().createType(facade.findClass("java.lang.Object",getResolveScope()));
  }
  if (aClass instanceof PsiAnonymousClass) {
    final PsiClassType baseClassType=((PsiAnonymousClass)aClass).getBaseClassType();
    final PsiClass psiClass=baseClassType.resolve();
    if (psiClass != null && !psiClass.isInterface()) {
      return baseClassType;
    }
    return PsiType.getJavaLangObject(getManager(),getResolveScope());
  }
  if ("java.lang.Object".equals(aClass.getQualifiedName()))   return null;
  PsiClassType[] superTypes=aClass.getExtendsListTypes();
  if (superTypes.length == 0) {
    JavaPsiFacade facade=JavaPsiFacade.getInstance(getProject());
    final PsiClass javaLangObject=facade.findClass("java.lang.Object",getResolveScope());
    if (javaLangObject != null) {
      return facade.getElementFactory().createType(javaLangObject);
    }
 else {
      return null;
    }
  }
  return superTypes[0];
}
