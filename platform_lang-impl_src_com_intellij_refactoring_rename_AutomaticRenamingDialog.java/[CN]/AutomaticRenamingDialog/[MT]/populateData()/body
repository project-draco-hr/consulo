{
  final Map<PsiNamedElement,String> renames=myRenamer.getRenames();
  List<PsiNamedElement> temp=new ArrayList<PsiNamedElement>();
  for (  final PsiNamedElement namedElement : renames.keySet()) {
    final String newName=renames.get(namedElement);
    if (newName != null)     temp.add(namedElement);
  }
  myRenames=temp.toArray(new PsiNamedElement[temp.size()]);
  Arrays.sort(myRenames,new Comparator<PsiNamedElement>(){
    @Override public int compare(    final PsiNamedElement e1,    final PsiNamedElement e2){
      return Comparing.compare(e1.getName(),e2.getName());
    }
  }
);
  myNewNames=new String[myRenames.length];
  for (int i=0; i < myNewNames.length; i++) {
    myNewNames[i]=renames.get(myRenames[i]);
  }
  myShouldRename=new boolean[myRenames.length];
  if (myRenamer.isSelectedByDefault()) {
    for (int i=0; i < myShouldRename.length; i++) {
      myShouldRename[i]=true;
    }
  }
}
