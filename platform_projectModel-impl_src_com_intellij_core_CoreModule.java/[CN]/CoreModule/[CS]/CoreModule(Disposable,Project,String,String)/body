{
  super(project.getPicoContainer(),parentDisposable);
  myLifetime=parentDisposable;
  myProject=project;
  myName=name;
  myDirUrl=dirUrl;
  Extensions.instantiateArea(ExtensionAreas.IDEA_MODULE,this,null);
  Disposer.register(parentDisposable,new Disposable(){
    @Override public void dispose(){
      Extensions.disposeArea(CoreModule.this);
    }
  }
);
  initModuleExtensions();
  final ModuleRootManagerImpl moduleRootManager=new ModuleRootManagerImpl(this){
    @Override public void loadState(    Element object){
      loadState(object,false);
    }
  }
;
  Disposer.register(parentDisposable,new Disposable(){
    @Override public void dispose(){
      moduleRootManager.disposeComponent();
    }
  }
);
  getPicoContainer().registerComponentInstance(ModuleRootManager.class,moduleRootManager);
  getPicoContainer().registerComponentInstance(PathMacroManager.class,new ModulePathMacroManager(PathMacros.getInstance(),this));
  getPicoContainer().registerComponentInstance(ModuleFileIndex.class,new ModuleFileIndexImpl(this,DirectoryIndex.getInstance(project)));
  myModuleScopeProvider=createModuleScopeProvider();
}
