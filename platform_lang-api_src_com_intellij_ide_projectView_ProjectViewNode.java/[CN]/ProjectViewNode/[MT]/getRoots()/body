{
  Value value=getValue();
  if (value instanceof RootsProvider) {
    return ((RootsProvider)value).getRoots();
  }
 else   if (value instanceof PsiFile) {
    PsiFile vFile=((PsiFile)value).getContainingFile();
    if (vFile != null && vFile.getVirtualFile() != null) {
      return Collections.singleton(vFile.getVirtualFile());
    }
  }
 else   if (value instanceof VirtualFile) {
    return Collections.singleton(((VirtualFile)value));
  }
 else   if (value instanceof PsiFileSystemItem) {
    return Collections.singleton(((PsiFileSystemItem)value).getVirtualFile());
  }
  return EMPTY_ROOTS;
}
