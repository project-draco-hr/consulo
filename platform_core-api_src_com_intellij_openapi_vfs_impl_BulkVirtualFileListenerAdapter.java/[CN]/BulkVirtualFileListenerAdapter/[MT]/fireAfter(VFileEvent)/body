{
  if (event instanceof VFileContentChangeEvent) {
    final VFileContentChangeEvent ce=(VFileContentChangeEvent)event;
    final VirtualFile file=ce.getFile();
    myAdapted.contentsChanged(new VirtualFileEvent(event.getRequestor(),file,file.getParent(),ce.getOldModificationStamp(),ce.getModificationStamp()));
  }
 else   if (event instanceof VFileCopyEvent) {
    final VFileCopyEvent ce=(VFileCopyEvent)event;
    final VirtualFile original=ce.getFile();
    final VirtualFile copy=ce.getNewParent().findChild(ce.getNewChildName());
    if (original != null && copy != null) {
      myAdapted.fileCopied(new VirtualFileCopyEvent(event.getRequestor(),original,copy));
    }
  }
 else   if (event instanceof VFileCreateEvent) {
    final VFileCreateEvent ce=(VFileCreateEvent)event;
    final VirtualFile newChild=ce.getFile();
    if (newChild != null) {
      myAdapted.fileCreated(new VirtualFileEvent(event.getRequestor(),newChild,ce.getChildName(),ce.getParent()));
    }
  }
 else   if (event instanceof VFileDeleteEvent) {
    final VFileDeleteEvent de=(VFileDeleteEvent)event;
    myAdapted.fileDeleted(new VirtualFileEvent(event.getRequestor(),de.getFile(),de.getFile().getParent(),0,0));
  }
 else   if (event instanceof VFileMoveEvent) {
    final VFileMoveEvent me=(VFileMoveEvent)event;
    myAdapted.fileMoved(new VirtualFileMoveEvent(event.getRequestor(),me.getFile(),me.getOldParent(),me.getNewParent()));
  }
 else   if (event instanceof VFilePropertyChangeEvent) {
    final VFilePropertyChangeEvent pce=(VFilePropertyChangeEvent)event;
    myAdapted.propertyChanged(new VirtualFilePropertyEvent(event.getRequestor(),pce.getFile(),pce.getPropertyName(),pce.getOldValue(),pce.getNewValue()));
  }
}
