{
  myEditorRow=selectedRow + 1;
  ArrangementEditorComponent editor=new ArrangementEditorComponent(this,myEditorRow,myEditor);
  Container parent=getParent();
  int width=getBounds().width;
  if (parent instanceof JViewport) {
    width-=((JScrollPane)parent.getParent()).getVerticalScrollBar().getWidth();
  }
  editor.applyAvailableWidth(width);
  myEditor.updateState(selectedRow);
  myComponents.shiftKeys(myEditorRow,1);
  mySkipSelectionChange=true;
  try {
    getModel().insertRow(myEditorRow,new Object[]{editor});
  }
  finally {
    mySkipSelectionChange=false;
  }
  Rectangle bounds=getRowsBounds(selectedRow,myEditorRow);
  if (bounds != null) {
    myRepresentationCallback.ensureVisible(bounds);
  }
  editor.expand();
  repaintRows(selectedRow,getModel().getRowCount() - 1,false);
  editCellAt(myEditorRow,0);
}
