{
  final String testDir=JavaTestUtil.getJavaTestDataPath() + "/find/" + folderName;
  ApplicationManager.getApplication().runWriteAction(new Runnable(){
    @Override public void run(){
      try {
        mySourceDirs=new VirtualFile[sourceDirs.length];
        for (int i=0; i < sourceDirs.length; i++) {
          String sourceDir=sourceDirs[i];
          mySourceDirs[i]=LocalFileSystem.getInstance().refreshAndFindFileByPath(new File(testDir + File.separatorChar + sourceDir).getCanonicalPath().replace(File.separatorChar,'/'));
        }
        VirtualFile projectDir=LocalFileSystem.getInstance().refreshAndFindFileByPath(new File(testDir).getCanonicalPath().replace(File.separatorChar,'/'));
        Sdk jdk=JavaSdkImpl.getMockJdk17();
        PsiTestUtil.removeAllRoots(myModule,jdk);
        PsiTestUtil.addContentRoot(myModule,projectDir);
        for (        VirtualFile sourceDir : mySourceDirs) {
          PsiTestUtil.addSourceRoot(myModule,sourceDir);
        }
      }
 catch (      Exception e) {
        throw new RuntimeException(e);
      }
    }
  }
);
}
