{
  initProject("findInClassHierarchy","src");
  FindModel findModel=new FindModel();
  findModel.setStringToFind("instanceof");
  findModel.setWholeWordsOnly(true);
  findModel.setFromCursor(false);
  findModel.setGlobal(true);
  findModel.setMultipleFiles(true);
  final JavaPsiFacade facade=JavaPsiFacade.getInstance(getProject());
  final PsiClass baseClass=facade.findClass("A",GlobalSearchScope.allScope(getProject()));
  final PsiClass implClass=facade.findClass("AImpl",GlobalSearchScope.allScope(getProject()));
  findModel.setCustomScope(new LocalSearchScope(new PsiElement[]{baseClass,implClass}));
  List<UsageInfo> usages=findUsages(findModel);
  assertEquals(2,usages.size());
}
