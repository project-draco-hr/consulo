{
  myProject=project;
  myHashMap=hashMap;
  myProviders=providers;
  myUserRegistry=userRegistry;
  myTopCommitsDetailsCache=topCommitsDetailsCache;
  myExceptionHandler=exceptionHandler;
  myRecentCommitCount=recentCommitsCount;
  Consumer<DataPack> dataPackUpdater=new Consumer<DataPack>(){
    @Override public void consume(    @NotNull DataPack dataPack){
      myDataPack=dataPack;
      dataPackUpdateHandler.consume(dataPack);
    }
  }
;
  mySingleTaskController=new SingleTaskController<RefreshRequest,DataPack>(dataPackUpdater){
    @Override protected void startNewBackgroundTask(){
      UIUtil.invokeLaterIfNeeded(new Runnable(){
        @Override public void run(){
          ((ProgressManagerImpl)ProgressManager.getInstance()).runProcessWithProgressAsynchronously(new MyRefreshTask(myDataPack));
        }
      }
);
    }
  }
;
}
