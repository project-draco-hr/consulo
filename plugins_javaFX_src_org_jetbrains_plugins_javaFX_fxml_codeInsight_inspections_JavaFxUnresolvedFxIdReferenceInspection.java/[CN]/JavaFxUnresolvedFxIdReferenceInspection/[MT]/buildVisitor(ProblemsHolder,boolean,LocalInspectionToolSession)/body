{
  return new XmlElementVisitor(){
    @Override public void visitXmlFile(    XmlFile file){
      if (!JavaFxFileTypeFactory.isFxml(file))       return;
      super.visitXmlFile(file);
    }
    @Override public void visitXmlAttribute(    XmlAttribute attribute){
      if (FxmlConstants.FX_ID.equals(attribute.getName())) {
        final XmlAttributeValue valueElement=attribute.getValueElement();
        if (valueElement != null) {
          final PsiClass controllerClass=JavaFxPsiUtil.getControllerClass(attribute.getContainingFile());
          if (controllerClass != null) {
            final PsiReference reference=valueElement.getReference();
            if (reference instanceof JavaFxFieldIdReferenceProvider.JavaFxControllerFieldRef && reference.resolve() == null) {
              final PsiClass fieldClass=checkContext(((JavaFxFieldIdReferenceProvider.JavaFxControllerFieldRef)reference).getXmlAttributeValue());
              if (fieldClass != null) {
                holder.registerProblem(reference.getElement(),reference.getRangeInElement(),"Unresolved fx:id reference",new CreateFieldFromUsageQuickFix(reference.getCanonicalText()));
              }
            }
          }
        }
      }
    }
  }
;
}
