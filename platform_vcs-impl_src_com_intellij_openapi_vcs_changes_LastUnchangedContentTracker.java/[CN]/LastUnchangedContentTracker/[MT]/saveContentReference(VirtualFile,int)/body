{
  if (contentId == 0) {
    return;
  }
  LOG.assertTrue(contentId > 0,contentId);
  if (ChangeListManagerImpl.DEBUG) {
    System.out.println("LastUnchangedContentTracker.saveContentReference");
    System.out.println("file = " + file);
  }
  long stamp=file.getModificationStamp();
  try {
    final DataOutputStream contentStream=ACQUIRED_CONTENT_ATTR.writeAttribute(file);
    try {
      contentStream.writeInt(contentId);
    }
  finally {
      contentStream.close();
    }
    final DataOutputStream tsStream=LAST_TS_ATTR.writeAttribute(file);
    try {
      tsStream.writeLong(stamp);
    }
  finally {
      tsStream.close();
    }
    file.putUserData(LAST_TS_KEY,stamp);
  }
 catch (  IOException e) {
    LOG.info(e);
  }
}
