{
  if (isTouched(file)) {
    return;
  }
  Long lastTs=getLastSavedStamp(file);
  final long stamp=file.getModificationStamp();
  if (lastTs != null && stamp == lastTs) {
    return;
  }
  Integer oldContentId=getSavedContentId(file);
  if (oldContentId != null && oldContentId > 0) {
    getFS().releaseContent(oldContentId);
  }
  saveContentReference(file,getFS().acquireContent(file));
  markTouched(file);
}
