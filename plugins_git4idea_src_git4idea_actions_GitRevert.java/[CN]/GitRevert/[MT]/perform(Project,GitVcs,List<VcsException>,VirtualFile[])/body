{
  final ChangeListManager changeListManager=ChangeListManager.getInstance(project);
  if (changeListManager.isFreezedWithNotification("Can not revert now"))   return true;
  final List<Change> changes=new ArrayList<Change>(affectedFiles.length);
  for (  VirtualFile f : affectedFiles) {
    Change ch=changeListManager.getChange(f);
    if (ch != null) {
      changes.add(ch);
    }
  }
  RollbackChangesDialog.rollbackChanges(project,changes);
  for (  GitRepository repository : GitUtil.getRepositoriesForFiles(project,Arrays.asList(affectedFiles))) {
    repository.update();
  }
  return false;
}
