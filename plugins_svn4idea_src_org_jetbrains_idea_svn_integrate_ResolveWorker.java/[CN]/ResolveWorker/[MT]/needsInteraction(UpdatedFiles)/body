{
  myConflictedVirtualFiles=new ArrayList<VirtualFile>();
  if (myChangesUnderProjectRoot) {
    refreshChangeListsFindConflicts(updatedFiles);
  }
 else {
    final FileGroup conflictedGroup=updatedFiles.getGroupById(FileGroup.MERGED_WITH_CONFLICT_ID);
    for (    String filename : conflictedGroup.getFiles()) {
      final VirtualFile vf=SvnUtil.getVirtualFile(filename);
      myConflictedVirtualFiles.add(vf);
    }
  }
  return ((!myConflictedVirtualFiles.isEmpty()) || (!haveUnresolvedConflicts(updatedFiles))) && (!SvnConfiguration.getInstanceChecked(myProject).MERGE_DRY_RUN);
}
