{
  myAlarm=new Alarm();
  myTreeBuilder=model.getTreeBuilder();
  model.addListener(new JUnitAdapter(){
    public void onTestChanged(    final TestEvent event){
      if (event instanceof StateChangedEvent) {
        final TestProxy test=event.getSource();
        if (test.isLeaf() && test.getState().getMagnitude() == PoolOfTestStates.RUNNING_INDEX)         setCurrentTestCase(test);
      }
    }
    public void onRunnerStateChanged(    final StateEvent event){
      if (!event.isRunning())       stopMovie();
    }
    public void doDispose(){
      setCurrentTestCase(null);
      disposeAlarm();
    }
  }
);
}
