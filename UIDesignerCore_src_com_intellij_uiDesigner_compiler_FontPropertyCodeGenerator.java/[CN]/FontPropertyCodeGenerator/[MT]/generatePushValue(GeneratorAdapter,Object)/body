{
  FontDescriptor descriptor=(FontDescriptor)value;
  final Font font=descriptor.getFont();
  if (font != null) {
    generator.newInstance(ourFontType);
    generator.dup();
    generator.push(font.getName());
    generator.push(font.getStyle());
    generator.push(font.getSize());
    generator.invokeConstructor(ourFontType,ourInitMethod);
  }
 else   if (descriptor.getSwingFont() != null) {
    generator.push(descriptor.getSwingFont());
    generator.invokeStatic(ourUIManagerType,ourGetFontMethod);
  }
 else {
    throw new IllegalStateException("Unknown font type");
  }
}
