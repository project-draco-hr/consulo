{
  myVirtualFile=containingFile.getVirtualFile();
  myType=anchorClass;
  TextRange range=anchor;
  LOG.assertTrue(range != null,anchor);
  range=getPersistentAnchorRange(range,containingFile);
  myProject=project;
  PsiDocumentManager documentManager=PsiDocumentManager.getInstance(myProject);
  Document document=documentManager.getDocument(containingFile);
  if (document == null || documentManager.isUncommited(document)) {
    mySyncMarkerIsValid=false;
    return;
  }
  mySyncMarkerIsValid=true;
  setRange(range);
}
