{
  try {
    final GitBranchesSearcher searcher=new GitBranchesSearcher(myProject,vcsRoot,true);
    if (searcher.getLocal() == null || searcher.getRemote() == null)     return Collections.emptyList();
    GitSimpleHandler handler=new GitSimpleHandler(myProject,vcsRoot,GitCommand.DIFF);
    handler.addParameters("--name-status","--diff-filter=ADCMRUX","-M","HEAD..." + searcher.getRemote().getFullName());
    handler.setNoSSH(true);
    handler.setSilent(true);
    handler.setStdoutSuppressed(true);
    handler.endOptions();
    final Collection<File> files=new ArrayList<File>(paths.size());
    for (    String path : paths) {
      files.add(new File(path));
    }
    handler.addRelativePathsForFiles(files);
    String output=handler.run();
    return GitChangeUtils.parseDiffForPaths(vcsRoot.getPath(),new StringScanner(output));
  }
 catch (  VcsException e) {
    LOG.info(e);
    return Collections.emptyList();
  }
}
