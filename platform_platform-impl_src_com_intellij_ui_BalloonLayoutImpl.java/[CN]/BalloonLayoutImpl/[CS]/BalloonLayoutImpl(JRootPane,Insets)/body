{
  myParent=parent;
  myLayeredPane=parent.getLayeredPane();
  myInsets=insets;
  myLayeredPane.addComponentListener(new ComponentAdapter(){
    @Override public void componentResized(    @NotNull ComponentEvent e){
      queueRelayout();
    }
  }
);
  UIUtil.addParentChangeListener(parent,new PropertyChangeListener(){
    @Override public void propertyChange(    PropertyChangeEvent event){
      if (event.getOldValue() != null && event.getNewValue() == null && myLafListener != null) {
        LafManager.getInstance().removeLafManagerListener(myLafListener);
        myLafListener=null;
      }
    }
  }
);
}
