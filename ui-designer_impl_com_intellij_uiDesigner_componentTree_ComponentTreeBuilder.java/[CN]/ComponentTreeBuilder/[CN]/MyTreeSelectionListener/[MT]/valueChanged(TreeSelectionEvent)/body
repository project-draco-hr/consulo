{
  if (myInsideChange > 0) {
    return;
  }
  final Set<ComponentPtr> selectedElements=getSelectedElements(ComponentPtr.class);
  myInsideChange++;
  try {
    FormEditingUtil.clearSelection(myEditor.getRootContainer());
    boolean hasComponentInTab=false;
    int count=0;
    for (    ComponentPtr ptr : selectedElements) {
      if (ptr.isValid()) {
        final RadComponent component=ptr.getComponent();
        LOG.assertTrue(component != null);
        if (!hasComponentInTab) {
          hasComponentInTab=FormEditingUtil.selectComponent(myEditor,component);
        }
 else {
          component.setSelected(true);
        }
        if (++count == selectedElements.size()) {
          myEditor.scrollComponentInView(component);
        }
      }
    }
    myEditor.fireSelectedComponentChanged();
  }
  finally {
    myInsideChange--;
  }
}
