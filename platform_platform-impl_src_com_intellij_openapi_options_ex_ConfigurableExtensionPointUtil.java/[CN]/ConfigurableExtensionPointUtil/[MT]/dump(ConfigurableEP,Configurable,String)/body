{
  Element element=new Element(name);
  if (ep != null) {
    element.setAttribute("instance",ep.instanceClass);
    String id=ep.id == null ? ((SearchableConfigurable)configurable).getId() : ep.id;
    element.setAttribute("id",id);
  }
 else {
    element.setAttribute("instance",configurable.getClass().getName());
    if (configurable instanceof SearchableConfigurable) {
      element.setAttribute("id",((SearchableConfigurable)configurable).getId());
    }
  }
  CommonBundle.lastKey=null;
  String displayName=configurable.getDisplayName();
  if (CommonBundle.lastKey != null) {
    element.setAttribute("key",CommonBundle.lastKey).setAttribute("bundle",CommonBundle.lastBundle);
  }
 else {
    element.setAttribute("displayName",displayName);
  }
  if (configurable instanceof NonDefaultProjectConfigurable) {
    element.setAttribute("nonDefaultProject","true");
  }
  return element;
}
