{
  JPanel optionsPanel=new JPanel();
  optionsPanel.setBorder(IdeBorderFactory.createTitledBorder(RefactoringBundle.message("inline.field.border.title")));
  optionsPanel.setLayout(new BoxLayout(optionsPanel,BoxLayout.Y_AXIS));
  myRbInlineAll=new JRadioButton();
  myRbInlineAll.setText(RefactoringBundle.message("all.references.and.remove.the.field"));
  myRbInlineAll.setSelected(true);
  myRbInlineThisOnly=new JRadioButton();
  myRbInlineThisOnly.setText(RefactoringBundle.message("this.reference.only.and.keep.the.field"));
  optionsPanel.add(myRbInlineAll);
  optionsPanel.add(myRbInlineThisOnly);
  ButtonGroup bg=new ButtonGroup();
  bg.add(myRbInlineAll);
  bg.add(myRbInlineThisOnly);
  myRbInlineThisOnly.setEnabled(myInvokedOnReference);
  final boolean writable=myField.isWritable();
  myRbInlineAll.setEnabled(writable);
  if (myInvokedOnReference) {
    if (writable) {
      final boolean inlineThis=RefactoringSettings.getInstance().INLINE_FIELD_THIS;
      myRbInlineThisOnly.setSelected(inlineThis);
      myRbInlineAll.setSelected(!inlineThis);
    }
 else {
      myRbInlineAll.setSelected(false);
      myRbInlineThisOnly.setSelected(true);
    }
  }
 else {
    myRbInlineAll.setSelected(true);
    myRbInlineThisOnly.setSelected(false);
  }
  getPreviewAction().setEnabled(myRbInlineAll.isSelected());
  myRbInlineAll.addItemListener(new ItemListener(){
    public void itemStateChanged(    ItemEvent e){
      boolean enabled=myRbInlineAll.isSelected();
      getPreviewAction().setEnabled(enabled);
    }
  }
);
  return optionsPanel;
}
