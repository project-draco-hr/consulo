{
  if (myElements == null)   return null;
  int validElementsCount=0;
  for (int i=0; i < myElements.length; i++) {
    PsiElement element=myElements[i];
    if (element.isValid()) {
      validElementsCount++;
    }
  }
  if (validElementsCount == myElements.length) {
    return myElements;
  }
  PsiElement[] validElements=new PsiElement[validElementsCount];
  int j=0;
  for (int i=0; i < myElements.length; i++) {
    PsiElement element=myElements[i];
    if (element.isValid()) {
      validElements[j++]=element;
    }
  }
  myElements=validElements;
  return myElements;
}
