{
  PsiElement[] elements=getValidSelectedElements();
  if (elements == null) {
    return;
  }
  for (int i=0; i < elements.length; i++) {
    if (!RefactoringMessageUtil.checkReadOnlyStatusRecursively(myProject,elements[i]))     return;
  }
  ((CopyPasteManagerEx)CopyPasteManager.getInstance()).setElements(elements,false);
  updateView();
}
