{
  final CompilerModuleExtension extension=CompilerModuleExtension.getInstance(module);
  if (extension == null) {
    return null;
  }
  final VirtualFile vOutFolder=extension.getCompilerOutputPath();
  if (vOutFolder == null) {
    return null;
  }
  final String[] segments=name.split("\\.");
  final File classFile=findClassFile(new File(vOutFolder.getPath()),segments,0);
  if (classFile == null || !classFile.exists()) {
    return null;
  }
  final DataInputStream fis;
  try {
    fis=new DataInputStream(new FileInputStream(classFile));
  }
 catch (  FileNotFoundException e) {
    LOG.error(e);
    return null;
  }
  try {
    byte[] data=new byte[(int)classFile.length()];
    try {
      fis.readFully(data);
    }
 catch (    IOException e) {
      data=null;
    }
    if (data != null) {
      final Class<?> aClass=defineClass(null,data,0,data.length);
      if (aClass != null) {
        return aClass;
      }
    }
  }
  finally {
    try {
      fis.close();
    }
 catch (    IOException e) {
      LOG.error(e);
    }
  }
  return null;
}
