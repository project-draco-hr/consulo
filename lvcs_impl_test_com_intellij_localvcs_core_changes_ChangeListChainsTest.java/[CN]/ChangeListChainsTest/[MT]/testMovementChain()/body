{
  Change c1=new CreateDirectoryChange(1,"dir1");
  Change c2=new CreateDirectoryChange(2,"dir2");
  Change c3=new CreateFileChange(3,"dir1/f",null,-1);
  applyAndAdd(c1,c2,c3);
  assertTrue(l.isInTheChain(c1,c3));
  assertFalse(l.isInTheChain(c2,c3));
  Change c4=new MoveChange("dir1/f","dir2");
  applyAndAdd(c4);
  assertTrue(l.isInTheChain(c1,c4));
  assertTrue(l.isInTheChain(c2,c3));
  assertTrue(l.isInTheChain(c2,c4));
  Change c5=new MoveChange("dir2","dir1");
  applyAndAdd(c5);
}
