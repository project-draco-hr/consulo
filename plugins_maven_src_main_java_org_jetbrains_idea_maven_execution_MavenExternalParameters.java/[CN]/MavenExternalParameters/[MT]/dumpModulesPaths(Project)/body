{
  ApplicationManager.getApplication().assertReadAccessAllowed();
  Properties res=new Properties();
  MavenProjectsManager manager=MavenProjectsManager.getInstance(project);
  for (  MavenProject mavenProject : manager.getProjects()) {
    res.setProperty(mavenProject.getMavenId().getGroupId() + ':' + mavenProject.getMavenId().getArtifactId()+ ":pom"+ ':'+ mavenProject.getMavenId().getVersion(),mavenProject.getFile().getPath());
    res.setProperty(mavenProject.getMavenId().getGroupId() + ':' + mavenProject.getMavenId().getArtifactId()+ ':'+ mavenProject.getPackaging()+ ':'+ mavenProject.getMavenId().getVersion(),mavenProject.getOutputDirectory());
  }
  File file=new File(PathManager.getSystemPath(),"Maven/idea-projects-state-" + project.getLocationHash() + ".properties");
  file.getParentFile().mkdirs();
  OutputStream out=new BufferedOutputStream(new FileOutputStream(file));
  try {
    res.store(out,null);
  }
  finally {
    out.close();
  }
  return file;
}
