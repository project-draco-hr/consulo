{
  if (coreSettings.isWorkOffline()) {
    cmdList.add("--offline");
  }
  if (!coreSettings.isUsePluginRegistry()) {
    String version=MavenUtil.getMavenVersion(mavenHome);
    if (version == null || version.compareTo("3.0.0") < 0) {
      cmdList.add("--no-plugin-registry");
    }
  }
  if (coreSettings.getOutputLevel() == MavenExecutionOptions.LoggingLevel.DEBUG) {
    cmdList.add("--debug");
  }
  if (coreSettings.isNonRecursive()) {
    cmdList.add("--non-recursive");
  }
  if (coreSettings.isPrintErrorStackTraces()) {
    cmdList.add("--errors");
  }
  addIfNotEmpty(cmdList,coreSettings.getFailureBehavior().getCommandLineOption());
  addIfNotEmpty(cmdList,coreSettings.getChecksumPolicy().getCommandLineOption());
  addIfNotEmpty(cmdList,coreSettings.getSnapshotUpdatePolicy().getCommandLineOption());
  addOption(cmdList,"s",coreSettings.getUserSettingsFile());
  if (!StringUtil.isEmptyOrSpaces(coreSettings.getLocalRepository())) {
    cmdList.addProperty("maven.repo.local",coreSettings.getLocalRepository());
  }
}
