{
synchronized (PsiLock.LOCK) {
    if (myDependsTargets == null) {
      final String depends=getSourceElement().getAttributeValue(AntFileImpl.DEPENDS_ATTR);
      if (depends == null || depends.length() == 0) {
        myDependsTargets=EMPTY_TARGETS;
      }
 else {
        final AntProject project=getAntProject();
        final List<AntTarget> targets=new ArrayList<AntTarget>();
        for (        final String name : depends.split(",|[\\s]+")) {
          final AntTarget antTarget=project.getTarget(name);
          if (antTarget != null) {
            targets.add(antTarget);
          }
        }
        myDependsTargets=targets.toArray(new AntTarget[targets.size()]);
      }
    }
    return myDependsTargets;
  }
}
