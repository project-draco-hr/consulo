{
  final KeymapManager mgr=getKeymapManager();
  if (mgr == null)   return;
  myActionId=ActionManager.getInstance().getId(myCopyFromAction);
  if (myPresentation == null) {
    myAction.copyFrom(myCopyFromAction);
  }
 else {
    myAction.getTemplatePresentation().copyFrom(myPresentation);
    myAction.copyShortcutFrom(myCopyFromAction);
  }
  unregisterAll();
  myKeymap=mgr.getActiveKeymap();
  myKeymap.addShortcutChangeListener(myKeymapListener);
  if (myActionId == null)   return;
  final Shortcut[] shortcuts=myKeymap.getShortcuts(myActionId);
  myShortcutSet=new CustomShortcutSet(shortcuts);
  myAction.registerCustomShortcutSet(myShortcutSet,myComponent);
}
