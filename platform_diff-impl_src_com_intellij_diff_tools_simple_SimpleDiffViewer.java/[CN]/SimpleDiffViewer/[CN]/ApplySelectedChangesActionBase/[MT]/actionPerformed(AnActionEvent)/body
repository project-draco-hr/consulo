{
  Editor editor=e.getRequiredData(CommonDataKeys.EDITOR);
  final Side side=Side.fromLeft(editor == getEditor(Side.LEFT));
  final List<SimpleDiffChange> selectedChanges=getSelectedChanges(side);
  Editor modifiedEditor=getEditor(side.other(myModifyOpposite));
  String title=e.getPresentation().getText() + " selected changes";
  DiffUtil.executeWriteCommand(modifiedEditor.getDocument(),e.getProject(),title,new Runnable(){
    @Override public void run(){
      apply(side,selectedChanges);
    }
  }
);
}
