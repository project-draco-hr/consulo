{
  return new Runnable(){
    @Override public void run(){
      myFoldingModel.updateContext(myRequest,getFoldingModelSettings());
      clearDiffPresentation();
      myIsContentsEqual=data.isContentsEqual();
      if (data.isContentsEqual())       myPanel.addNotification(DiffNotifications.createEqualContents());
      if (data.getFragments() != null) {
        for (        LineFragment fragment : data.getFragments()) {
          myDiffChanges.add(new SimpleDiffChange(SimpleDiffViewer.this,fragment));
        }
      }
      myFoldingModel.install(data.getFragments(),myRequest,getFoldingModelSettings());
      myInitialScrollHelper.onRediff();
      myContentPanel.repaintDivider();
      myStatusPanel.update();
    }
  }
;
}
