{
  final BitSet lines=DiffUtil.getSelectedLines(getEditor(side));
  List<SimpleDiffChange> affectedChanges=new ArrayList<>();
  for (int i=myDiffChanges.size() - 1; i >= 0; i--) {
    SimpleDiffChange change=myDiffChanges.get(i);
    int line1=change.getStartLine(side);
    int line2=change.getEndLine(side);
    if (DiffUtil.isSelectedByLine(lines,line1,line2)) {
      affectedChanges.add(change);
    }
  }
  return affectedChanges;
}
