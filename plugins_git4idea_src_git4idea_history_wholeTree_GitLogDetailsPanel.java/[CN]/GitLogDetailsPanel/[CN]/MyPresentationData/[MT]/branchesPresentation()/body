{
  final GitLogSettings settings=GitLogSettings.getInstance(myProject);
  final Set<String> locals=settings.getLocalBranchesCopy();
  final Set<String> remotes=settings.getRemoteBranchesCopy();
  final StringBuilder sb=new StringBuilder();
  if (myBranchesList != null && (!myBranchesList.isEmpty())) {
    for (int i=0; i < myBranchesList.size(); i++) {
      String s=myBranchesList.get(i);
      final boolean contained=locals.contains(s) || remotes.contains(s);
      if ((contained || settings.isHighlight()) && sb.length() > 0) {
        sb.append(", ");
      }
      if (contained) {
        if (settings.isHighlight()) {
          sb.append("<b>").append(s).append("</b>");
        }
 else {
          sb.append(s);
        }
      }
 else {
        if (settings.isHighlight()) {
          sb.append(s);
        }
      }
    }
    myBranches=sb.toString();
  }
 else   if (myBranchesList != null && myBranchesList.isEmpty()) {
    myBranches="<font color=gray>&lt;no branches&gt;</font><br/>";
  }
 else {
    myBranches="<font color=gray>Loading...</font><br/>";
  }
}
