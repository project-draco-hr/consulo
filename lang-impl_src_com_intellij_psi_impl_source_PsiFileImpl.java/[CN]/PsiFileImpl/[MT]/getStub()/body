{
  StubHolder stubHolder=myStub != null ? myStub.get() : null;
  if (stubHolder == null) {
    if (getTreeElement() != null)     return null;
    final VirtualFile vFile=getVirtualFile();
    stubHolder=StubHolder.readFromVFile(vFile,getProject());
    if (stubHolder == null) {
      return null;
    }
 else {
      myStub=new WeakReference<StubHolder>(stubHolder);
      ((PsiFileStubImpl)stubHolder.getRoot()).setPsi(this);
    }
  }
  return stubHolder.getRoot();
}
