{
  insideGettingRoots=true;
  final Set<VirtualFile> roots=new THashSet<VirtualFile>();
  final OrderEnumerator enumerator=ProjectRootManager.getInstance(project).orderEntries();
  ContainerUtil.addAll(roots,enumerator.getClassesRoots());
  ContainerUtil.addAll(roots,enumerator.getSourceRoots());
  insideGettingRoots=false;
  return VfsUtilCore.toVirtualFileArray(roots);
}
