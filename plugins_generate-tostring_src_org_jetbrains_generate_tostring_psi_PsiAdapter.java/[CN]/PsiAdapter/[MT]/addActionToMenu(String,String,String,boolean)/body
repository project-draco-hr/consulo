{
  ActionManager am=ActionManager.getInstance();
  AnAction group=am.getAction(menuId);
  if (group instanceof DefaultActionGroup) {
    DefaultActionGroup defGroup=(DefaultActionGroup)group;
    AnAction[] actions=defGroup.getChildren(null);
    for (    AnAction action : actions) {
      String id=am.getId(action);
      if (anchorId.equals(id)) {
        AnAction actionToAdd=am.getAction(actionId);
        defGroup.add(actionToAdd,new Constraints(afterAnchor ? Anchor.AFTER : Anchor.BEFORE,anchorId));
        return true;
      }
    }
  }
  return false;
}
