{
  final DropHandler dropHandler=getDropHandler(dtde.getDropAction());
  final TreeNode[] sourceNodes=getSourceNodes(dtde.getTransferable());
  if (sourceNodes != null && dropHandler.isValidSource(sourceNodes)) {
    dtde.acceptDrag(dtde.getDropAction());
  }
 else   if (dtde.getTransferable().isDataFlavorSupported(DataFlavor.javaFileListFlavor)) {
    dtde.acceptDrag(dtde.getDropAction());
  }
 else {
    dtde.rejectDrag();
  }
}
