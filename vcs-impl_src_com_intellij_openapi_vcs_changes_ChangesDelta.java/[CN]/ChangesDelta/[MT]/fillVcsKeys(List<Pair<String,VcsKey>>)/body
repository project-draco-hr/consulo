{
  List<Pair<String,VcsKey>> converted=null;
  for (int i=0; i < coll.size(); i++) {
    final Pair<String,VcsKey> pair=coll.get(i);
    if (pair.getSecond() == null) {
      final String fileKey=pair.getFirst();
      final VcsKey vcsKey=findVcs(fileKey);
      if (converted == null) {
        converted=new ArrayList<Pair<String,VcsKey>>(coll.size());
        for (int j=0; j < i; j++) {
          converted.add(coll.get(j));
        }
      }
      converted.add(new Pair<String,VcsKey>(fileKey,vcsKey));
    }
  }
  return converted != null ? converted : coll;
}
