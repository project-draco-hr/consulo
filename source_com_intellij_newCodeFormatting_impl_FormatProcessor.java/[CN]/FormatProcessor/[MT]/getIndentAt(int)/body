{
  processBlocksBefore(offset);
  AbstractBlockWrapper parent=getParentFor(offset,myCurrentBlock);
  if (parent == null)   return new IndentInfo(0,0,0);
  final int index=getNewChildPosition(parent,offset);
  ChildAttributes childAttributes=parent.getBlock().getChildAttributes(index);
  final IndentInfo result=adjustLineIndent(parent,childAttributes,index);
  return result;
}
