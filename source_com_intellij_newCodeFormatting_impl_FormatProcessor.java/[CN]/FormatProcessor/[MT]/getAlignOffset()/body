{
  BlockWrapper current=myCurrentBlock;
  while (true) {
    final AlignmentImpl alignment=(AlignmentImpl)current.getBlock().getAlignment();
    if (alignment != null && alignment.getCurrentOffset() >= 0) {
      return alignment.getCurrentOffset();
    }
 else {
      current=current.getParent();
      if (current == null)       return -1;
      if (current.getStartOffset() != myCurrentBlock.getStartOffset())       return -1;
    }
  }
}
