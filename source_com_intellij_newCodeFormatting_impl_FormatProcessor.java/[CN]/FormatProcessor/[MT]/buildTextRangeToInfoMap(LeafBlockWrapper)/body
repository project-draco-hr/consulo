{
  final TIntObjectHashMap<LeafBlockWrapper> result=new TIntObjectHashMap<LeafBlockWrapper>();
  LeafBlockWrapper current=first;
  while (current != null) {
    result.put(current.getTextRange().getStartOffset(),current);
    current=current.getNextBlock();
  }
  return result;
}
