{
  ArrayList<VirtualFile> result=new ArrayList<VirtualFile>();
  final Module[] modules=getModuleManager().getModules();
  for (int i=0; i < modules.length; i++) {
    final VirtualFile[] sourceRoots=ModuleRootManager.getInstance(modules[i]).getSourceRoots();
    result.addAll(Arrays.asList(sourceRoots));
  }
  return result.toArray(new VirtualFile[result.size()]);
}
