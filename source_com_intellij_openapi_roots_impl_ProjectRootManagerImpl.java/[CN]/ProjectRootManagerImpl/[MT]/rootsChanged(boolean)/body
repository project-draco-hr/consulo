{
  ApplicationManager.getApplication().assertWriteAccessAllowed();
  myRootsChangeCounter--;
  if (myRootsChangeCounter > 0)   return;
  if (myProject.isDisposed())   return;
  clearScopesCaches();
  myModificationCount++;
  myModuleRootEventDispatcher.getMulticaster().rootsChanged(new ModuleRootEventImpl(myProject,filetypes));
  doSynchronize();
  addRootsToWatch();
}
