{
  GlobalSearchScope scope=myLibraryScopes.get(modulesLibraryIsUsedIn);
  if (scope == null) {
    if (!modulesLibraryIsUsedIn.isEmpty()) {
      scope=new LibraryRuntimeClasspathScope(myProject,modulesLibraryIsUsedIn);
    }
 else {
      scope=new LibrariesOnlyScope(GlobalSearchScope.allScope(myProject));
    }
    myLibraryScopes.put(modulesLibraryIsUsedIn,scope);
  }
  return scope;
}
