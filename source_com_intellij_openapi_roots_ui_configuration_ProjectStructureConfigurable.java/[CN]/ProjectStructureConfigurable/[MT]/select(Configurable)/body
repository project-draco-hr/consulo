{
  if (mySelectedConfigurable == configurable)   return new ActionCallback.Done();
  saveSideProportion();
  removeSelected();
  if (configurable != null) {
    final JComponent c=configurable.createComponent();
    myDetails.setContent(c);
    JComponent toFocus=IdeFocusTraversalPolicy.getPreferredFocusedComponent(c);
    if (toFocus == null) {
      toFocus=c;
    }
    c.requestFocus();
  }
  mySelectedConfigurable=configurable;
  if (mySelectedConfigurable != null) {
    myUiState.lastEditedConfigurable=mySelectedConfigurable.getDisplayName();
  }
  if (configurable instanceof MasterDetailsComponent) {
    final MasterDetailsComponent masterDetails=(MasterDetailsComponent)configurable;
    if (myUiState.sideProportion > 0) {
      masterDetails.getSplitter().setProportion(myUiState.sideProportion);
    }
  }
  if (configurable instanceof DetailsComponent.Facade) {
    ((DetailsComponent.Facade)configurable).getDetailsComponent().setBannerMinHeight(myToolbarComponent.getPreferredSize().height);
  }
  myDetails.revalidate();
  myDetails.repaint();
  final Place place=myConfig2Place.get(configurable);
  if (!isHistoryNavigatedNow() && configurable != null) {
    getHistory().pushPlace(place);
  }
  mySidePanel.select(place);
  return new ActionCallback.Done();
}
