{
  if (command instanceof SuspendContextCommand) {
    SuspendContextCommand suspendContextCommand=((SuspendContextCommand)command);
    invokeLater(new SuspendContextCommandImpl((SuspendContextImpl)suspendContextCommand.getSuspendContext()){
      public void contextAction() throws Exception {
        command.action();
      }
      protected void commandCancelled(){
        command.commandCancelled();
      }
    }
);
  }
 else {
    invokeLater(new DebuggerCommandImpl(){
      protected void action() throws Exception {
        command.action();
      }
      protected void commandCancelled(){
        command.commandCancelled();
      }
    }
);
  }
}
