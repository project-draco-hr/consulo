{
  super(vertical);
  myProject=project;
  myTimeTrackingManager=TimeTrackingManager.getInstance(project);
  myTaskManager=TaskManager.getManager(project);
  myTable=new TableView<LocalTask>(createListModel());
  myTableModel=myTable.getListTableModel();
  updateTable();
  setContent(ScrollPaneFactory.createScrollPane(myTable,true));
  setToolbar(createToolbar());
  myTaskManager.addTaskListener(new TaskListenerAdapter(){
    @Override public void taskDeactivated(    final LocalTask task){
      updateTable();
    }
    @Override public void taskActivated(    final LocalTask task){
      updateTable();
    }
    @Override public void taskAdded(    final LocalTask task){
      updateTable();
    }
    @Override public void taskRemoved(    final LocalTask task){
      updateTable();
    }
  }
);
  myTimer=new Timer(TimeTrackingManager.TIME_TRACKING_TIME_UNIT,new ActionListener(){
    @Override public void actionPerformed(    final ActionEvent e){
      myTable.repaint();
    }
  }
);
  myTimer.start();
}
