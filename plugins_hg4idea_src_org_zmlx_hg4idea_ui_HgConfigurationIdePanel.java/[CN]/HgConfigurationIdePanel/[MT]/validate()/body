{
  String hgExecutable;
  if (autoRadioButton.isSelected()) {
    hgExecutable=HgGlobalSettings.getDefaultExecutable();
  }
 else {
    hgExecutable=pathSelector.getText();
  }
  HgVersionCommand command=new HgVersionCommand();
  if (!command.isValid(hgExecutable)) {
    throw new ConfigurationException(HgVcsMessages.message("hg4idea.configuration.executable.error",hgExecutable));
  }
}
