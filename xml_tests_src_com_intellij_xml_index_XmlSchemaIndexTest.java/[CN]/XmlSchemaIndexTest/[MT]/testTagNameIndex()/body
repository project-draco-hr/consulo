{
  myFixture.copyDirectoryToProject("","");
  final Project project=getProject();
  final Collection<String> tags=XmlTagNamesIndex.getAllTagNames(project);
  assertTrue(tags.size() > 26);
  final Collection<VirtualFile> files=XmlTagNamesIndex.getFilesByTagName("bean",project);
  assertEquals(1,files.size());
  final Collection<VirtualFile> files1=XmlTagNamesIndex.getFilesByTagName("schema",project);
  assertEquals(files1.toString(),2,files1.size());
  Collection<String> names=ContainerUtil.map(files1,new Function<VirtualFile,String>(){
    @Override public String fun(    VirtualFile virtualFile){
      return virtualFile.getName();
    }
  }
);
  List<String> expected=Arrays.asList("XMLSchema.xsd","XMLSchema.xsd");
  names.removeAll(expected);
  assertTrue(files1.toString(),names.isEmpty());
}
