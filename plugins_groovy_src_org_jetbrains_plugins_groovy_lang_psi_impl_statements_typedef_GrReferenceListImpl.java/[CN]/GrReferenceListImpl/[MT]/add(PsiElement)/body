{
  if (element instanceof GrCodeReferenceElement && findChildByClass(GrCodeReferenceElement.class) != null) {
    PsiElement lastChild=getLastChild();
    lastChild=PsiUtil.skipWhitespaces(lastChild,false);
    if (!lastChild.getNode().getElementType().equals(GroovyTokenTypes.mCOMMA)) {
      getNode().addLeaf(GroovyTokenTypes.mCOMMA,",",null);
    }
    return super.add(element);
  }
 else {
    return super.add(element);
  }
}
