{
  PackagingMethod method=getSelectedMethod();
  if (method != myLastSelectedMethod && method != null) {
    Map<ContainerElement,String> paths=new HashMap<ContainerElement,String>();
    for (    ContainerElement element : myElementsInfo.getElements()) {
      PackagingMethod oldMethod=element.getPackagingMethod();
      element.setPackagingMethod(method);
      paths.put(element,myEditorPolicy.suggestDefaultRelativePath(element));
      element.setPackagingMethod(oldMethod);
    }
    Pair<String,Map<ContainerElement,String>> pair=PackagingElementsToEditInfo.getPrefixAndSuffixes(paths,myEditorPolicy);
    if (pair != null) {
      myOutputPathField.setText(pair.getFirst());
      myPathTails=pair.getSecond();
    }
    myOutputPathField.setEnabled(pair != null);
    myLastSelectedMethod=method;
  }
}
