{
  myParentPopup=popup;
  DefaultActionGroup actionGroup=new DefaultActionGroup("go.to.file.filter",false);
  ToggleAction action=new ToggleAction("Filter","Filter files by type",FILTER_ICON){
    public boolean isSelected(    final AnActionEvent e){
      return myPopup != null;
    }
    public void setSelected(    final AnActionEvent e,    final boolean state){
      if (state) {
        createPopup();
      }
 else {
        close();
      }
    }
  }
;
  actionGroup.add(action);
  myToolbar=ActionManager.getInstance().createActionToolbar("gotfile.filter",actionGroup,true);
  myToolbar.getComponent().setFocusable(false);
  myProject=project;
  myChooser=createFileTypeChooser(gotoFileModel);
  myChooserPanel=createChooserPanel();
  popup.setToolArea(myToolbar.getComponent());
}
