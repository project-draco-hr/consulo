{
  ListCellRenderer intermediate=myGeneratorBeforeSeparator == null ? originalRenderer : new ListCellRenderer(){
    private final JSeparator mySeparator=new JSeparator(SwingConstants.HORIZONTAL);
    private final JPanel myComponentWithSeparator=new JPanel(new BorderLayout(0,0));
    @Override public Component getListCellRendererComponent(    JList list,    Object value,    int index,    boolean isSelected,    boolean cellHasFocus){
      Component original=originalRenderer.getListCellRendererComponent(list,value,index,isSelected,cellHasFocus);
      if (index != -1 && value == myGeneratorBeforeSeparator && value instanceof DirectoryProjectGenerator && original instanceof JLabel) {
        myComponentWithSeparator.removeAll();
        JLabel label=(JLabel)original;
        label.setText(((DirectoryProjectGenerator)value).getName());
        myComponentWithSeparator.add(label,BorderLayout.CENTER);
        myComponentWithSeparator.add(mySeparator,BorderLayout.SOUTH);
        myComponentWithSeparator.revalidate();
        myComponentWithSeparator.repaint();
        return myComponentWithSeparator;
      }
      return original;
    }
  }
;
  return new ListCellRendererWrapper(intermediate){
    @Override public void customize(    final JList list,    final Object value,    final int index,    final boolean selected,    final boolean cellHasFocus){
      if (value == null)       return;
      if (value == EMPTY_PROJECT_GENERATOR) {
        setText("Empty project");
      }
 else {
        setText(((DirectoryProjectGenerator)value).getName());
      }
    }
  }
;
}
