{
  String projectName=myProjectNameTextField.getText();
  if (projectName.trim().isEmpty()) {
    setOKActionEnabled(false);
    setErrorText("Project name can't be empty");
    return;
  }
  if (myLocationField.getText().indexOf('$') >= 0) {
    setOKActionEnabled(false);
    setErrorText("Project directory name must not contain the $ character");
    return;
  }
  DirectoryProjectGenerator generator=getProjectGenerator();
  if (generator != null) {
    String baseDirPath=myLocationField.getTextField().getText();
    ValidationResult validationResult=generator.validate(baseDirPath);
    if (!validationResult.isOk()) {
      setOKActionEnabled(false);
      setErrorText(validationResult.getErrorMessage());
      return;
    }
  }
  setOKActionEnabled(true);
  setErrorText(null);
}
