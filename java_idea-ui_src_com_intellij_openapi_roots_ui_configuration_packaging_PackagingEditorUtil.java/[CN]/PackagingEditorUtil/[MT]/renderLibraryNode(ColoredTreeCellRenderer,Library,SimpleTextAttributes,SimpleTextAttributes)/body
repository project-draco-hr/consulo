{
  String name=library.getName();
  if (name != null) {
    renderer.setIcon(Icons.LIBRARY_ICON);
    renderer.append(name,mainAttributes);
    renderer.append(LibraryElementPresentation.getLibraryTableComment(library),commentAttributes);
  }
 else {
    VirtualFile[] files=library.getFiles(OrderRootType.CLASSES);
    if (files.length > 0) {
      VirtualFile file=files[0];
      renderer.setIcon(file.getIcon());
      renderer.append(file.getName(),mainAttributes);
      renderer.append(LibraryElementPresentation.getLibraryTableComment(library),commentAttributes);
    }
 else {
      OrderEntryCellAppearanceUtils.forLibrary(library).customize(renderer);
    }
  }
}
