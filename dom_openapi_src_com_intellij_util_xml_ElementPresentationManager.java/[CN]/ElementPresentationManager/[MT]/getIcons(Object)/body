{
  final Object firstImpl=ModelMergerUtil.getFirstImplementation(o);
  o=firstImpl != null ? firstImpl : o;
  List<Icon> result=new ArrayList<Icon>();
  for (  final Function<Object,Icon> function : ourIconProviders) {
    final Icon icon=function.fun(o);
    if (icon != null) {
      result.add(icon);
    }
  }
  final Icon[] icons=getFromClassMap(ourIcons,o.getClass());
  if (icons != null) {
    result.addAll(Arrays.asList(icons));
  }
  return result.toArray(new Icon[result.size()]);
}
