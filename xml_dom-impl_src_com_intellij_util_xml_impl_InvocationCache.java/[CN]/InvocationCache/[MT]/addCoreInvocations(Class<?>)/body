{
  for (  final Method method : aClass.getDeclaredMethods()) {
    if ("equals".equals(method.getName())) {
      ourCoreInvocations.put(new JavaMethodSignature(method),new Invocation(){
        public Object invoke(        DomInvocationHandler<?> handler,        Object[] args) throws Throwable {
          final DomElement proxy=handler.getProxy();
          final Object arg=args[0];
          if (proxy == arg)           return true;
          if (arg == null)           return false;
          if (arg instanceof DomElement) {
            final DomInvocationHandler handler1=DomManagerImpl.getDomInvocationHandler(proxy);
            return handler1 != null && handler1.equals(DomManagerImpl.getDomInvocationHandler((DomElement)arg));
          }
          return false;
        }
      }
);
    }
 else     if ("hashCode".equals(method.getName())) {
      ourCoreInvocations.put(new JavaMethodSignature(method),new Invocation(){
        public Object invoke(        DomInvocationHandler<?> handler,        Object[] args) throws Throwable {
          return handler.hashCode();
        }
      }
);
    }
 else {
      ourCoreInvocations.put(new JavaMethodSignature(method),new Invocation(){
        public Object invoke(        DomInvocationHandler<?> handler,        Object[] args) throws Throwable {
          return method.invoke(handler,args);
        }
      }
);
    }
  }
}
