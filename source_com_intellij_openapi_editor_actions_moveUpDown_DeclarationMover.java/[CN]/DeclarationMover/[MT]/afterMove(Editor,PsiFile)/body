{
  super.afterMove(editor,file);
  final int line1=editor.offsetToLogicalPosition(myInsertStartAfterCut).line;
  final int line2=editor.offsetToLogicalPosition(myInsertEndAfterCut).line;
  PsiElement above;
  PsiElement hereStart;
  PsiElement hereEnd;
  PsiElement below;
  if (myIsDown) {
    above=findMemberOnLineEnd(line1 - 1,editor,file);
    hereStart=findMemberOnLineStart(line1,editor,file);
    hereEnd=findMemberOnLineEnd(line1,editor,file);
    below=findMemberOnLineStart(line2,editor,file);
  }
 else {
    above=findMemberOnLineEnd(line1,editor,file);
    hereStart=findMemberOnLineStart(line2,editor,file);
    hereEnd=findMemberOnLineEnd(line2,editor,file);
    below=hereEnd == null ? null : hereEnd.getNextSibling();
    if (below instanceof PsiWhiteSpace)     below=below.getNextSibling();
  }
  fixupWhiteSpaceBetween(above,hereStart);
  fixupWhiteSpaceBetween(hereEnd,below);
}
