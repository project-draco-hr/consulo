{
  ApplicationManager.getApplication().assertReadAccessAllowed();
  final PsiManager psiManager=PsiManager.getInstance(project);
  try {
    if (getArrayClass(className) != null) {
      return JavaPsiFacade.getInstance(psiManager.getProject()).getElementFactory().createTypeFromText(className,null);
    }
    if (project.isDefault()) {
      return null;
    }
    final PsiClass aClass=JavaPsiFacade.getInstance(psiManager.getProject()).findClass(className.replace('$','.'),GlobalSearchScope.allScope(project));
    return JavaPsiFacade.getInstance(psiManager.getProject()).getElementFactory().createType(aClass);
  }
 catch (  IncorrectOperationException e) {
    LOG.error(e);
  }
  return null;
}
