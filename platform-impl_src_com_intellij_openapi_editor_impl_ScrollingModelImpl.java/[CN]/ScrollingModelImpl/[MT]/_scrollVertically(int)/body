{
  assertIsDispatchThread();
  if (myEditor.getScrollPane() == null)   return;
  myEditor.validateSize();
  JScrollBar scrollbar=myEditor.getScrollPane().getVerticalScrollBar();
  if (scrollbar.getVisibleAmount() < Math.abs(scrollOffset - scrollbar.getValue()) + 50) {
    myEditor.stopOptimizedScrolling();
  }
  scrollbar.setValue(scrollOffset);
}
