{
  final Project project=e.getData(PlatformDataKeys.PROJECT);
  if (project != null) {
    final VirtualFile[] files=e.getData(PlatformDataKeys.VIRTUAL_FILE_ARRAY);
    if (files != null) {
      for (      VirtualFile file : files) {
        final GitRepository repositoryForFile=GitRepositoryManager.getInstance(project).getRepositoryForFile(file);
        if (repositoryForFile != null && repositoryForFile.getState() == GitRepository.State.REBASING) {
          return true;
        }
      }
    }
  }
  return false;
}
