{
  final GrControlFlowOwner flowOwner=ControlFlowUtils.findControlFlowOwner(position);
  if (flowOwner == null)   return null;
  final PsiElement parent=flowOwner.getParent();
  if (flowOwner instanceof GrClosableBlock && parent instanceof GrAnnotationNameValuePair) {
    final PsiClass aClass=ResolveUtil.resolveAnnotation(parent);
    if (aClass == null)     return null;
    final String name=getAttributeName((GrAnnotationNameValuePair)parent);
    final PsiMethod[] methods=aClass.findMethodsByName(name,false);
    if (methods.length != 0) {
      final PsiMethod method=methods[0];
      return method.getReturnType();
    }
  }
 else   if (flowOwner instanceof GrOpenBlock && parent instanceof GrMethod) {
    final GrMethod method=(GrMethod)parent;
    if (method.isConstructor())     return null;
    return method.getReturnType();
  }
  return null;
}
