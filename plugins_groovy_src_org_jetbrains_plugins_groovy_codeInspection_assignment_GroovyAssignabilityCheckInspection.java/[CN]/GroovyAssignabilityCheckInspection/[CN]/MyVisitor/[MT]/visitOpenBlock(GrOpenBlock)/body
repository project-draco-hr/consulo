{
  super.visitOpenBlock(block);
  final PsiElement element=block.getParent();
  if (!(element instanceof GrMethod))   return;
  GrMethod method=(GrMethod)element;
  final PsiType expectedType=method.getReturnType();
  if (expectedType == null || PsiType.VOID.equals(expectedType))   return;
  ControlFlowUtils.visitAllExitPoints(block,new ControlFlowUtils.ExitPointVisitor(){
    public boolean visit(    Instruction instruction){
      final PsiElement psiElement=instruction.getElement();
      if (psiElement instanceof GrExpression) {
        checkAssignability(expectedType,(GrExpression)psiElement,(GrExpression)psiElement);
      }
      return true;
    }
  }
);
}
