{
  if (type instanceof GrClosureType) {
    PsiType[] argumentTypes=PsiUtil.getArgumentTypes(place,true);
    if (argumentTypes == null)     return true;
    if (PsiUtil.isApplicable(argumentTypes,(GrClosureType)type,place))     return true;
    final String typesString=buildArgTypesList(argumentTypes);
    String message=GroovyBundle.message("cannot.apply.method.or.closure",place.getText(),typesString);
    PsiElement elementToHighlight=PsiUtil.getArgumentsList(place);
    if (elementToHighlight == null || elementToHighlight.getTextRange().getLength() == 0)     elementToHighlight=place;
    registerError(elementToHighlight,message);
    return false;
  }
 else   if (type != null) {
    final GroovyResolveResult[] calls=ResolveUtil.getMethodCandidates(type,"call",place,PsiUtil.getArgumentTypes(place,true));
    for (    GroovyResolveResult result : calls) {
      PsiElement resolved=result.getElement();
      if (resolved instanceof PsiMethod) {
        if (!checkMethodApplicability(result,place))         return false;
      }
    }
    return true;
  }
  return true;
}
