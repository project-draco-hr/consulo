{
  super.visitVariable(variable);
  PsiType varType=variable.getType();
  PsiElement parent=variable.getParent();
  if (parent instanceof GrVariableDeclaration && ((GrVariableDeclaration)parent).isTuple()) {
    GrVariableDeclaration tuple=(GrVariableDeclaration)parent;
    GrExpression initializer=tuple.getTupleInitializer();
    if (initializer == null)     return;
    if (!(initializer instanceof GrListOrMap)) {
      PsiType type=initializer.getType();
      if (type == null)       return;
      PsiType valueType=com.intellij.psi.util.PsiUtil.extractIterableTypeParameter(type,false);
      checkAssignability(varType,valueType,tuple,variable.getNameIdentifierGroovy());
      return;
    }
  }
 else   if (parent instanceof GrForInClause) {
    PsiType iteratedType=PsiUtil.extractIteratedType((GrForInClause)parent);
    if (iteratedType == null)     return;
    GrExpression iteratedExpression=((GrForInClause)parent).getIteratedExpression();
    checkAssignability(varType,iteratedType,iteratedExpression,variable.getNameIdentifierGroovy());
    return;
  }
  GrExpression initializer=variable.getInitializerGroovy();
  if (initializer == null)   return;
  PsiType rType=initializer.getType();
  if (rType == null)   return;
  if (isNewInstanceInitialingByTuple(initializer)) {
    return;
  }
  checkAssignability(varType,initializer);
}
