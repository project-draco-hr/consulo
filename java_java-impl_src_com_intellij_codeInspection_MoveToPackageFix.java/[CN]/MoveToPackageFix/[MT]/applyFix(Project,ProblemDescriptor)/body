{
  PsiElement element=descriptor.getPsiElement();
  if (element == null)   return;
  final PsiFile myFile=element.getContainingFile();
  if (!FileModificationService.getInstance().prepareFileForWrite(myFile))   return;
  ApplicationManager.getApplication().invokeLater(new Runnable(){
    @Override public void run(){
      chooseDirectoryAndMove(project,myFile);
    }
  }
);
}
