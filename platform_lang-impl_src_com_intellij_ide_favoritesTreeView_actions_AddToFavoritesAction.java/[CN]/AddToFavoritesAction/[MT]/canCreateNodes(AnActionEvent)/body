{
  DataContext dataContext=e.getDataContext();
  if (e.getProject() == null) {
    return false;
  }
  if (e.getPlace().equals(ActionPlaces.FAVORITES_VIEW_POPUP) && FavoritesTreeViewPanel.FAVORITES_LIST_NAME_DATA_KEY.getData(dataContext) == null) {
    return false;
  }
  final boolean inProjectView=e.getPlace().equals(ActionPlaces.J2EE_VIEW_POPUP) || e.getPlace().equals(ActionPlaces.STRUCTURE_VIEW_POPUP) || e.getPlace().equals(ActionPlaces.PROJECT_VIEW_POPUP);
  return getNodesToAdd(dataContext,inProjectView) != null;
}
