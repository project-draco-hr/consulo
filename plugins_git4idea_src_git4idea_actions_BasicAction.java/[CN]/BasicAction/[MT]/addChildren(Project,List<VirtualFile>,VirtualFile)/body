{
  VirtualFile[] children=file.getChildren();
  for (  VirtualFile child : children) {
    if (!child.isDirectory() && appliesTo(project,child)) {
      files.add(child);
    }
 else     if (child.isDirectory() && isRecursive()) {
      addChildren(project,files,child);
    }
  }
}
