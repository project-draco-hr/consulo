{
  final Ref<ArrangementNodeRenderer<?>> result=new Ref<ArrangementNodeRenderer<?>>();
  node.invite(new ArrangementSettingsNodeVisitor(){
    @Override public void visit(    @NotNull ArrangementSettingsAtomNode node){
      result.set(getRenderer(NodeType.ATOM));
    }
    @Override public void visit(    @NotNull ArrangementSettingsCompositeNode node){
      NodeType type=node.getOperator() == ArrangementSettingsCompositeNode.Operator.AND ? NodeType.AND : NodeType.OR;
      result.set(getRenderer(type));
    }
  }
);
  return (ArrangementNodeRenderer<T>)result.get();
}
