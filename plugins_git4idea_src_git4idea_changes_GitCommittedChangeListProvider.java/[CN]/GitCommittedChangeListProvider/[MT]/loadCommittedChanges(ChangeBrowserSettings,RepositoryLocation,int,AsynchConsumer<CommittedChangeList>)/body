{
  try {
    getCommittedChangesImpl(settings,location,maxCount,new Consumer<GitCommittedChangeList>(){
      @Override public void consume(      GitCommittedChangeList gitCommittedChangeList){
        consumer.consume(gitCommittedChangeList);
      }
    }
);
  }
  finally {
    consumer.finished();
  }
}
