{
  FileChooserDescriptor chooserDescriptor=new LibFileChooserDescriptor();
  VirtualFile[] files=FileChooser.chooseFiles(myProject,chooserDescriptor);
  if (files.length == 1 && files[0] != null) {
    VirtualFile selectedFile=files[0];
    if (selectedFile.isValid()) {
      if (selectedFile.isDirectory()) {
        if (myLibName.getText().isEmpty())         myLibName.setText(selectedFile.getName());
        addRecursively(selectedFile);
      }
 else {
        addSingleFile(selectedFile,true);
      }
    }
  }
}
