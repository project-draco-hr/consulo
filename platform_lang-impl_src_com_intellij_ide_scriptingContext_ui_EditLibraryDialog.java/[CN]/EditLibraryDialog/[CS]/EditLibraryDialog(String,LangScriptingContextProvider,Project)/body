{
  super(true);
  setTitle(title);
  myProvider=provider;
  mySourceTypeName=provider.getLibraryTypeName(OrderRootType.SOURCES);
  myCompactTypeName=provider.getLibraryTypeName(OrderRootType.CLASSES);
  myAddFileButton.addActionListener(new ActionListener(){
    @Override public void actionPerformed(    ActionEvent e){
      addFiles();
    }
  }
);
  myAttachFromButton.addActionListener(new ActionListener(){
    @Override public void actionPerformed(    ActionEvent e){
      attachFromDirectory();
    }
  }
);
  myFileTableModel=new FileTableModel();
  myFileTable.setModel(myFileTableModel);
  myRemoveFileButton.setEnabled(false);
  myRemoveFileButton.addActionListener(new ActionListener(){
    @Override public void actionPerformed(    ActionEvent e){
      removeSelected();
    }
  }
);
  myProject=project;
  myFileTable.getSelectionModel().addListSelectionListener(new ListSelectionListener(){
    @Override public void valueChanged(    ListSelectionEvent e){
      updateSelection();
    }
  }
);
  init();
  TableColumn typeCol=myFileTable.getColumnModel().getColumn(FILE_TYPE_COL);
  typeCol.setMaxWidth(80);
  MyTableCellEditor cellEditor=new MyTableCellEditor(new JComboBox(new String[]{mySourceTypeName,myCompactTypeName}),myFileTableModel);
  typeCol.setCellEditor(cellEditor);
}
