{
  VirtualFile[] sourceRoots=ModuleRootManager.getInstance(module).getSourceRoots();
  if (sourceRoots.length == 0) {
    Messages.showErrorDialog(module.getProject(),ProjectBundle.message("module.source.roots.not.configured.error",module.getName()),ProjectBundle.message("module.source.roots.not.configured.title"));
    ProjectSettingsService.getInstance(module.getProject()).showModuleConfigurationDialog(module.getName(),CommonContentEntriesEditor.NAME);
    sourceRoots=ModuleRootManager.getInstance(module).getSourceRoots();
    if (sourceRoots.length == 0) {
      return false;
    }
  }
  return true;
}
