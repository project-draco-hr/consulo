{
  MavenExecutionRequest result=new DefaultMavenExecutionRequest();
  try {
    getComponent(MavenExecutionRequestPopulator.class).populateFromSettings(result,myMavenSettings);
    result.setGoals(goals);
    result.setPom(file);
    getComponent(MavenExecutionRequestPopulator.class).populateDefaults(result);
    result.setSystemProperties(mySystemProperties);
    for (    String profile : activeProfiles) {
      result.addActiveProfile(profile);
    }
    for (    String profile : inactiveProfiles) {
      result.addInactiveProfile(profile);
    }
    return result;
  }
 catch (  MavenExecutionRequestPopulationException e) {
    throw new RuntimeException(e);
  }
}
