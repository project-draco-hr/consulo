{
  new CommonBackgroundTask(myProject,"Comparing with " + branchName,myCallInAwtAfterExecution){
    private GitCommitCompareInfo myCompareInfo;
    @Override public void execute(    @NotNull ProgressIndicator indicator){
      myCompareInfo=loadCommitsToCompare(myRepositories,branchName);
    }
    @Override public void onSuccess(){
      if (myCompareInfo == null) {
        LOG.error("The task to get compare info didn't finish. Repositories: \n" + myRepositories + "\nbranch name: "+ branchName);
        return;
      }
      displayCompareDialog(branchName,getCurrentBranchOrRev(),myCompareInfo);
    }
  }
.runInBackground();
}
