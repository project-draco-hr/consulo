{
  final List<Property> properties=getProperties();
  if (properties.size() != 0) {
    Property lastProperty=properties.get(properties.size() - 1);
    final PsiElement nextSibling=lastProperty.getNextSibling();
    if (nextSibling == null || nextSibling.getText().indexOf("\n") == -1) {
      String text="\n";
      LeafElement ws=Factory.createSingleLeafElement(TokenType.WHITE_SPACE,text.toCharArray(),0,text.length(),getTreeElement().getCharTable(),myManager);
      ChangeUtil.addChild(calcTreeElement(),ws,null);
    }
  }
  return super.add(element);
}
