{
  final XmlElement dtdUrlElement=getDtdUrlElement();
  final PsiElement docTypePublic=findChildByRoleAsPsiElement(XmlChildRole.XML_DOCTYPE_PUBLIC);
  PsiReference uriRefs[]=null;
  if (dtdUrlElement != null) {
    uriRefs=new PsiReference[1];
    uriRefs[0]=new URLReference(XmlDoctypeImpl.this){
      @NotNull public Object[] getVariants(){
        return (docTypePublic != null) ? super.getVariants() : EMPTY_ARRAY;
      }
      public String getCanonicalText(){
        return extractValue(dtdUrlElement);
      }
      public TextRange getRangeInElement(){
        return TextRange.from(dtdUrlElement.getTextRange().getStartOffset() - getTextRange().getStartOffset() + 1,Math.max(dtdUrlElement.getTextRange().getLength() - 2,0));
      }
    }
;
  }
  final PsiReference[] referencesFromProviders=ReferenceProvidersRegistry.getReferencesFromProviders(this,XmlDoctype.class);
  return ArrayUtil.mergeArrays(uriRefs != null ? uriRefs : PsiReference.EMPTY_ARRAY,referencesFromProviders,PsiReference.class);
}
