{
  final AsyncResult<String> result=new AsyncResult<String>();
  final Disposable connection=new Disposable(){
    @Override public void dispose(){
    }
  }
;
  result.doWhenProcessed(new Runnable(){
    @Override public void run(){
      Disposer.dispose(connection);
    }
  }
);
  ApplicationManager.getApplication().getMessageBus().connect(connection).subscribe(EditorHintListener.TOPIC,new EditorHintListener(){
    @Override public void hintShown(    Project project,    LightweightHint hint,    int flags){
      result.setDone();
    }
  }
);
  return result;
}
