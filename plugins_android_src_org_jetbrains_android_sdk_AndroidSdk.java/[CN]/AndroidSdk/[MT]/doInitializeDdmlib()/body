{
synchronized (myDdmsLock) {
    String adbPath=getAdbPath();
    if (!myDdmLibInitialized) {
      myDdmLibInitialized=true;
      DdmPreferences.setTimeOut(AndroidUtils.TIMEOUT);
      AndroidDebugBridge.init(AndroidEnableDdmsAction.isDdmsEnabled());
      LOG.info("DDMLib initialized");
      AndroidDebugBridge.createBridge(adbPath,true);
    }
 else {
      final AndroidDebugBridge bridge=AndroidDebugBridge.getBridge();
      final boolean forceRestart=myAdbCrashed || (bridge != null && !bridge.isConnected());
      AndroidDebugBridge.createBridge(adbPath,forceRestart);
    }
  }
}
