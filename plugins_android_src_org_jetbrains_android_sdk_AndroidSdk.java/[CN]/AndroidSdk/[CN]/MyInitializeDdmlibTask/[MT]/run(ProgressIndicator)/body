{
  indicator.setIndeterminate(true);
synchronized (myLock) {
    final long startTime=System.currentTimeMillis();
    final long timeout=7000;
    while (!myFinished && !myCanceled) {
      long wastedTime=System.currentTimeMillis() - startTime;
      if (wastedTime >= timeout) {
        break;
      }
      try {
        myLock.wait(timeout - wastedTime);
      }
 catch (      InterruptedException e) {
        break;
      }
    }
  }
}
