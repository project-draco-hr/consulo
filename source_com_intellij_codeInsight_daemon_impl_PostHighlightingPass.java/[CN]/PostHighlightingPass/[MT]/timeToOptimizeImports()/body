{
  if (!CodeInsightSettings.getInstance().OPTIMIZE_IMPORTS_ON_THE_FLY)   return false;
  DaemonCodeAnalyzerImpl codeAnalyzer=(DaemonCodeAnalyzerImpl)DaemonCodeAnalyzer.getInstance(myProject);
  PsiFile file=PsiDocumentManager.getInstance(myProject).getPsiFile(myDocument);
  if (file == null || !codeAnalyzer.isHighlightingAvailable(file))   return false;
  if (!codeAnalyzer.isErrorAnalyzingFinished(file))   return false;
  HighlightInfo[] errors=DaemonCodeAnalyzerImpl.getHighlights(myDocument,HighlightSeverity.ERROR,myProject);
  if (errors != null && errors.length != 0)   return false;
  if (fileHasUnchangedStatus())   return false;
  return true;
}
