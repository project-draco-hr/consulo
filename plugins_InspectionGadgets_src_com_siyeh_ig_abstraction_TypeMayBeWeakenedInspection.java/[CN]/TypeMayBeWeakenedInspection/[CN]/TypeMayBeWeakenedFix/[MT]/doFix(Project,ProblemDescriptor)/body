{
  final PsiElement element=descriptor.getPsiElement();
  final PsiVariable variable=(PsiVariable)element.getParent();
  final PsiTypeElement typeElement=variable.getTypeElement();
  if (typeElement == null) {
    return;
  }
  final PsiClassType type=TypeUtils.calculateWeakestTypeNecessary(variable);
  if (type == null) {
    return;
  }
  final PsiManager manager=variable.getManager();
  final PsiElementFactory factory=manager.getElementFactory();
  final PsiTypeElement newTypeElement=factory.createTypeElement(type);
  typeElement.replace(newTypeElement);
}
