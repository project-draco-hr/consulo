{
  final PsiElement element=descriptor.getPsiElement();
  final PsiElement parent=element.getParent();
  final PsiTypeElement typeElement;
  if (parent instanceof PsiVariable) {
    final PsiVariable variable=(PsiVariable)parent;
    typeElement=variable.getTypeElement();
  }
 else   if (parent instanceof PsiMethod) {
    final PsiMethod method=(PsiMethod)parent;
    typeElement=method.getReturnTypeElement();
  }
 else {
    return;
  }
  if (typeElement == null) {
    return;
  }
  final PsiManager manager=element.getManager();
  final PsiElementFactory factory=manager.getElementFactory();
  final PsiClassType type=factory.createTypeByFQClassName(fqClassName,element.getResolveScope());
  final PsiTypeElement newTypeElement=factory.createTypeElement(type);
  typeElement.replace(newTypeElement);
}
