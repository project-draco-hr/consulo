{
  super.visitLocalVariable(variable);
  final PsiClassType weakestType=TypeUtils.calculateWeakestTypeNecessary(variable);
  if (weakestType == null) {
    return;
  }
  final PsiType variableType=variable.getType();
  final String weakestTypeCanonicalText=weakestType.getInternalCanonicalText();
  final String variableTypeCanonicalText=variableType.getInternalCanonicalText();
  if (weakestTypeCanonicalText.equals(variableTypeCanonicalText)) {
    return;
  }
  final PsiClass weakestClass=weakestType.resolve();
  if (weakestClass == null) {
    return;
  }
  registerVariableError(variable,weakestClass);
}
