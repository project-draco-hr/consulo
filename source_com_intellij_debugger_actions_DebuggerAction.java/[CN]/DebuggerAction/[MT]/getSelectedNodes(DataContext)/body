{
  DebuggerTree tree=getTree(dataContext);
  if (tree == null)   return null;
  TreePath[] paths=tree.getSelectionPaths();
  if (paths == null || paths.length == 0) {
    return EMPTY_TREE_NODE_ARRAY;
  }
  List nodes=new ArrayList(paths.length);
  for (int idx=0; idx < paths.length; idx++) {
    Object component=paths[idx].getLastPathComponent();
    if (component instanceof DebuggerTreeNodeImpl) {
      nodes.add(component);
    }
  }
  return ((DebuggerTreeNodeImpl[])nodes.toArray(new DebuggerTreeNodeImpl[nodes.size()]));
}
