{
  myFilter.setName(myNameField.getText().trim());
  if (myFilter.getName().length() == 0) {
    Messages.showMessageDialog(myTable,"Filter name should be specified","Error",Messages.getErrorIcon());
    return;
  }
  for (int i=0; i < myFilters.size(); i++) {
    TodoFilter filter=myFilters.get(i);
    if (myFilterIndex != i && myFilter.getName().equals(filter.getName())) {
      Messages.showMessageDialog(myTable,"Filter with the same name already exists","Error",Messages.getErrorIcon());
      return;
    }
  }
  if (myFilter.isEmpty()) {
    Messages.showMessageDialog(myTable,"Filter should contain at least one pattern","Error",Messages.getErrorIcon());
    return;
  }
  super.doOKAction();
}
