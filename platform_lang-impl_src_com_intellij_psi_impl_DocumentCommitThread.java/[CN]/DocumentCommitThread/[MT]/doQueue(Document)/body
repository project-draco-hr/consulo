{
  boolean added;
synchronized (documentsToCommit) {
    added=documentsToCommit.add(document);
    documentsToCommit.notifyAll();
  }
  return added;
}
