{
  long start=System.currentTimeMillis();
  indicator.putUserData(RUNNING_COMMIT_DOCUMENT,document);
  try {
    final boolean[] success=new boolean[1];
    ((ProgressManagerImpl)ProgressManager.getInstance()).executeProcessUnderProgress(new Runnable(){
      @Override public void run(){
        success[0]=commitUnderProgress(project,document,excludeFile,indicator,synchronously);
      }
    }
,indicator);
    return success[0];
  }
  finally {
    long finish=System.currentTimeMillis();
    indicator.putUserData(RUNNING_COMMIT_DOCUMENT,null);
  }
}
