{
  final LocalChangeList changeList=myChangeListManager.addChangeList("another list","");
  myShelveChangesManager.unshelveChangeList(list,null,null,changeList);
  refreshChanges();
  final List<LocalChangeList> lists=myChangeListManager.getChangeLists();
  Assert.assertEquals(2,lists.size());
  LocalChangeList newList=null;
  final Set<String> listNames=new HashSet<String>();
  listNames.addAll(Arrays.asList("Default","another list"));
  for (  LocalChangeList localChangeList : lists) {
    listNames.remove(localChangeList.getName());
    if ("another list".equals(localChangeList.getName())) {
      newList=localChangeList;
    }
  }
  Assert.assertEquals(0,listNames.size());
  checkListContents(newList);
}
