{
  final CvsOperationExecutor executor=new CvsOperationExecutor(project);
  executor.setShowErrors(false);
  final CvsConfiguration cvsConfiguration=CvsConfiguration.getInstance(myProject);
  CvsHandler handler=CommandCvsHandler.createCommitHandler(roots,new File[]{},preparedComment,"Commit " + (roots.length > 1 ? "files" : "file"),CvsConfiguration.getInstance(project).MAKE_NEW_FILES_READONLY,myProject,cvsConfiguration.TAG_AFTER_FILE_COMMIT,cvsConfiguration.TAG_AFTER_FILE_COMMIT_NAME);
  executor.performActionSync(handler,CvsOperationExecutorCallback.EMPTY);
  return executor.getResult().getErrorsAndWarnings();
}
