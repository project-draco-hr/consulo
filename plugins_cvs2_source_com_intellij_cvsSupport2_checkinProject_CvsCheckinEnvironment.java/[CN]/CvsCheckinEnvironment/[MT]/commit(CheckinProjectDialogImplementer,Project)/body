{
  CheckinProjectPanel checkinProjectPanel=dialog.getCheckinProjectPanel();
  java.util.List<CvsCheckinFile> cvsCommitOprtations=new ArrayList<CvsCheckinFile>();
  java.util.List<VcsOperation> vcsOperations=checkinProjectPanel.getCheckinOperations(CvsVcs2.getInstance(myProject).getCheckinEnvironment());
  for (Iterator<VcsOperation> iterator=vcsOperations.iterator(); iterator.hasNext(); ) {
    cvsCommitOprtations.add((CvsCheckinFile)iterator.next());
  }
  CvsCheckinFile[] checkinOperations=cvsCommitOprtations.toArray(new CvsCheckinFile[cvsCommitOprtations.size()]);
  Collection<VirtualFile> files=new ArrayList<VirtualFile>();
  for (int i=0; i < checkinOperations.length; i++) {
    CvsVcsOperation checkinOperation=(CvsVcsOperation)checkinOperations[i];
    VirtualFile file=checkinOperation.getVirtualFile();
    if (file != null)     files.add(file);
  }
  CvsHandler checkinHandler=getCheckinHandler(checkinOperations,myProject,dialog.getPreparedComment(CvsVcs2.getInstance(myProject).getCheckinEnvironment()));
  final CvsOperationExecutor executor=new CvsOperationExecutor(project);
  executor.setShowErrors(false);
  executor.performActionSync(checkinHandler,new MyCvsOperationExecutorCallback(checkinHandler));
  return executor.getResult().getErrorsAndWarnings();
}
