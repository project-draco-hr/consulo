{
  if (resolveAsModule(artifact))   return;
  boolean shouldOpen=!isOnline && isResolvingParent(artifact);
  if (shouldOpen)   open();
  try {
    super.resolve(artifact,remoteRepositories,localRepository);
  }
  finally {
    if (shouldOpen)     close();
  }
}
