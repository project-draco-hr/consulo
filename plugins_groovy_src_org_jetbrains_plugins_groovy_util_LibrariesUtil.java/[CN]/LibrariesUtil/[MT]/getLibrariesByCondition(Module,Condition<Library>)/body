{
  if (module == null)   return new Library[0];
  final ArrayList<Library> libraries=new ArrayList<Library>();
  ApplicationManager.getApplication().runReadAction(new Runnable(){
    public void run(){
      populateOrderEntries(module,condition,libraries,false,new THashSet<Module>());
    }
  }
);
  return libraries.toArray(new Library[libraries.size()]);
}
