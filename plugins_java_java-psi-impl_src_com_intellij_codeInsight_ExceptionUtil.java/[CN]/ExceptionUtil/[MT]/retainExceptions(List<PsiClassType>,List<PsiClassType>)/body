{
  final List<PsiClassType> replacement=new ArrayList<PsiClassType>();
  for (Iterator<PsiClassType> iterator=ex.iterator(); iterator.hasNext(); ) {
    PsiClassType classType=iterator.next();
    boolean found=false;
    for (    PsiClassType psiClassType : thrownEx) {
      if (psiClassType.isAssignableFrom(classType)) {
        found=true;
        break;
      }
 else       if (classType.isAssignableFrom(psiClassType)) {
        replacement.add(psiClassType);
        iterator.remove();
        found=true;
        break;
      }
    }
    if (!found) {
      iterator.remove();
    }
  }
  ex.addAll(replacement);
}
