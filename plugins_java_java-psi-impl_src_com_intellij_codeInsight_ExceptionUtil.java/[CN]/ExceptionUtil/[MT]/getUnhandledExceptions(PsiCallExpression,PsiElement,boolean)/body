{
  final JavaResolveResult result=methodCall.resolveMethodGenerics();
  final PsiMethod method=(PsiMethod)result.getElement();
  if (!includeSelfCalls && method == PsiTreeUtil.getParentOfType(methodCall,PsiMethod.class)) {
    return Collections.emptyList();
  }
  final PsiSubstitutor substitutor=ApplicationManager.getApplication().runReadAction(new Computable<PsiSubstitutor>(){
    @Override public PsiSubstitutor compute(){
      return result.getSubstitutor();
    }
  }
);
  return getUnhandledExceptions(method,methodCall,topElement,substitutor);
}
