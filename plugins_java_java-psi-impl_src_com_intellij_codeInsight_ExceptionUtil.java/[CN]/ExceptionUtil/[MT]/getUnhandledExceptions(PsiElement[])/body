{
  final List<PsiClassType> array=ContainerUtil.newArrayList();
  final PsiElementVisitor visitor=new JavaRecursiveElementWalkingVisitor(){
    @Override public void visitCallExpression(    @NotNull PsiCallExpression expression){
      addExceptions(array,getUnhandledExceptions(expression,null));
      visitElement(expression);
    }
    @Override public void visitThrowStatement(    @NotNull PsiThrowStatement statement){
      addExceptions(array,getUnhandledExceptions(statement,null));
      visitElement(statement);
    }
    @Override public void visitMethodReferenceExpression(    @NotNull PsiMethodReferenceExpression expression){
      addExceptions(array,getUnhandledExceptions(expression,null));
      visitElement(expression);
    }
    @Override public void visitResourceVariable(    @NotNull PsiResourceVariable resourceVariable){
      addExceptions(array,getUnhandledCloserExceptions(resourceVariable,null));
      visitElement(resourceVariable);
    }
  }
;
  for (  PsiElement element : elements) {
    element.accept(visitor);
  }
  return array;
}
