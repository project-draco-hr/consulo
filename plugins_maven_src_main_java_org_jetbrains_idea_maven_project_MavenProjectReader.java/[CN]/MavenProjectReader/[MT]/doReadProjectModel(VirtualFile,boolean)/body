{
  Model result=new Model();
  LinkedHashSet<MavenProjectProblem> problems=createProblemsList();
  Set<String> alwaysOnProfiles=new THashSet<String>();
  Element xmlProject=readXml(file,problems,MavenProjectProblem.ProblemType.SYNTAX);
  if (xmlProject == null || !"project".equals(xmlProject.getName())) {
    return new RawModelReadResult(result,problems,alwaysOnProfiles);
  }
  result.setModelVersion(MavenJDOMUtil.findChildValueByPath(xmlProject,"modelVersion"));
  result.setGroupId(MavenJDOMUtil.findChildValueByPath(xmlProject,"groupId"));
  result.setArtifactId(MavenJDOMUtil.findChildValueByPath(xmlProject,"artifactId"));
  result.setVersion(MavenJDOMUtil.findChildValueByPath(xmlProject,"version"));
  if (headerOnly)   return new RawModelReadResult(result,problems,alwaysOnProfiles);
  result.setPackaging(MavenJDOMUtil.findChildValueByPath(xmlProject,"packaging"));
  result.setName(MavenJDOMUtil.findChildValueByPath(xmlProject,"name"));
  if (MavenJDOMUtil.hasChildByPath(xmlProject,"parent")) {
    Parent parent=new Parent();
    String groupId=MavenJDOMUtil.findChildValueByPath(xmlProject,"parent.groupId");
    String artifactId=MavenJDOMUtil.findChildValueByPath(xmlProject,"parent.artifactId");
    String version=MavenJDOMUtil.findChildValueByPath(xmlProject,"parent.version");
    parent.setGroupId(groupId);
    parent.setArtifactId(artifactId);
    parent.setVersion(version);
    parent.setRelativePath(MavenJDOMUtil.findChildValueByPath(xmlProject,"parent.relativePath"));
    result.setParent(parent);
  }
  result.setBuild(new Build());
  readModelAndBuild(result,result.getBuild(),xmlProject);
  result.setProfiles(collectProfiles(file,xmlProject,problems,alwaysOnProfiles));
  return new RawModelReadResult(result,problems,alwaysOnProfiles);
}
