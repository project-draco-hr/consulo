{
  File localRepository=MavenProjectsManager.getInstance(project).getLocalRepository();
  Pair<Model,List<Profile>> readResult=doReadProjectModelQuickly(project,file,localRepository,activeProfiles,new HashSet<VirtualFile>(),locator);
  File basedir=new File(file.getParent().getPath());
  Model model=expandProperties(readResult.first,basedir);
  alignModel(model,basedir);
  MavenProject mavenProject=new MavenProject(model);
  mavenProject.setFile(new File(file.getPath()));
  mavenProject.setActiveProfiles(readResult.second);
  MavenProjectHelper.setSourceRoots(mavenProject,Collections.singletonList(model.getBuild().getSourceDirectory()),Collections.singletonList(model.getBuild().getTestSourceDirectory()),Collections.singletonList(model.getBuild().getScriptSourceDirectory()));
  return new MavenProjectReaderResult(true,activeProfiles,Collections.EMPTY_LIST,Collections.EMPTY_SET,localRepository,mavenProject);
}
