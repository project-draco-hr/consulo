{
  Binding binding=XmlSerializerImpl.getTypeBinding(accessor.getGenericType(),accessor);
  if (binding instanceof JDOMElementBinding) {
    return binding;
  }
  Attribute attribute=accessor.getAnnotation(Attribute.class);
  if (attribute != null) {
    return new AttributeBinding(accessor,attribute);
  }
  Tag tag=accessor.getAnnotation(Tag.class);
  if (tag != null && !tag.value().isEmpty()) {
    return new TagBinding(accessor,tag);
  }
  Text text=accessor.getAnnotation(Text.class);
  if (text != null) {
    return new TextBinding(accessor);
  }
  boolean surroundWithTag=true;
  Property property=accessor.getAnnotation(Property.class);
  if (property != null) {
    surroundWithTag=property.surroundWithTag();
  }
  if (!surroundWithTag) {
    if (!Element.class.isAssignableFrom(binding.getBoundNodeType())) {
      throw new XmlSerializationException("Text-serializable properties can't be serialized without surrounding tags: " + accessor);
    }
    return new AccessorBindingWrapper(accessor,binding);
  }
  return new OptionTagBinding(accessor,accessor.getAnnotation(OptionTag.class));
}
