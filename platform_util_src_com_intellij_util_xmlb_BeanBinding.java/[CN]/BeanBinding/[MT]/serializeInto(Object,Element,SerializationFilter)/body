{
  for (  Binding binding : myBindings) {
    Accessor accessor=binding.getAccessor();
    if (filter instanceof SkipDefaultsSerializationFilter) {
      if (((SkipDefaultsSerializationFilter)filter).equal(binding,o)) {
        continue;
      }
    }
 else     if (!filter.accepts(accessor,o)) {
      continue;
    }
    Property property=accessor.getAnnotation(Property.class);
    if (property != null && property.filter() != SerializationFilter.class && !ReflectionUtil.newInstance(property.filter()).accepts(accessor,o)) {
      continue;
    }
    if (element == null) {
      element=new Element(myTagName);
    }
    Object node=binding.serialize(o,element,filter);
    if (node != null) {
      if (node instanceof org.jdom.Attribute) {
        element.setAttribute((org.jdom.Attribute)node);
      }
 else {
        JDOMUtil.addContent(element,node);
      }
    }
  }
  return element;
}
