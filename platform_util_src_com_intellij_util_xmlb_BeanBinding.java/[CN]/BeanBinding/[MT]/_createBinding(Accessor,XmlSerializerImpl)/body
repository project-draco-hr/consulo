{
  Property property=XmlSerializerImpl.findAnnotation(accessor.getAnnotations(),Property.class);
  Tag tag=XmlSerializerImpl.findAnnotation(accessor.getAnnotations(),Tag.class);
  Attribute attribute=XmlSerializerImpl.findAnnotation(accessor.getAnnotations(),Attribute.class);
  Text text=XmlSerializerImpl.findAnnotation(accessor.getAnnotations(),Text.class);
  final Binding binding=xmlSerializer.getTypeBinding(accessor.getGenericType(),accessor);
  if (binding instanceof JDOMElementBinding)   return binding;
  if (text != null)   return new TextBinding(accessor,xmlSerializer);
  if (attribute != null) {
    return new AttributeBinding(accessor,attribute,xmlSerializer);
  }
  if (tag != null) {
    if (tag.value().length() > 0)     return new TagBinding(accessor,tag,xmlSerializer);
  }
  boolean surroundWithTag=true;
  if (property != null) {
    surroundWithTag=property.surroundWithTag();
  }
  if (!surroundWithTag) {
    if (!Element.class.isAssignableFrom(binding.getBoundNodeType())) {
      throw new XmlSerializationException("Text-serializable properties can't be serialized without surrounding tags: " + accessor);
    }
    return new AccessorBindingWrapper(accessor,binding);
  }
  OptionTag optionTag=XmlSerializerImpl.findAnnotation(accessor.getAnnotations(),OptionTag.class);
  return new OptionTagBinding(accessor,xmlSerializer,optionTag);
}
