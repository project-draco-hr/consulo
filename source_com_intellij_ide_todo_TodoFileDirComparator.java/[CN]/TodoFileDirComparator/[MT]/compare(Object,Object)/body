{
  if ((obj1 instanceof PsiFileNode) && (obj2 instanceof PsiFileNode)) {
    return compareFiles(((PsiFileNode)obj1).getValue(),((PsiFileNode)obj2).getValue());
  }
 else   if ((obj1 instanceof PsiFileNode) && (obj2 instanceof PsiDirectoryNode)) {
    return 1;
  }
 else   if ((obj1 instanceof PsiDirectoryNode) && (obj2 instanceof PsiFileNode)) {
    return -1;
  }
 else   if ((obj1 instanceof PsiDirectoryNode) && (obj2 instanceof PsiDirectoryNode)) {
    PsiDirectory psiDirectory1=((PsiDirectoryNode)obj1).getValue();
    PsiPackage psiPackage1=psiDirectory1.getPackage();
    PsiDirectory psiDirectory2=((PsiDirectoryNode)obj2).getValue();
    PsiPackage psiPackage2=psiDirectory2.getPackage();
    if (psiPackage1 != null && psiPackage2 == null) {
      return -1;
    }
 else     if (psiPackage1 == null && psiPackage2 != null) {
      return 1;
    }
 else     if (psiPackage1 != null) {
      return psiPackage1.getQualifiedName().compareTo(psiPackage2.getQualifiedName());
    }
 else {
      String path1=psiDirectory1.getVirtualFile().getPath().toLowerCase();
      String path2=psiDirectory2.getVirtualFile().getPath().toLowerCase();
      return path1.compareTo(path2);
    }
  }
 else {
    throw new IllegalArgumentException(obj1.getClass().getName() + "," + obj2.getClass().getName());
  }
}
