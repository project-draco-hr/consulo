{
  myProject=project;
  myRoots=roots;
  myVcs=GitVcs.getInstance(project);
  myGit=ServiceManager.getService(Git.class);
  myUpdatedFiles=updatedFiles;
  myProgressIndicator=progressIndicator;
  myMerger=new GitMerger(myProject);
  mySaver=GitChangesSaver.getSaver(myProject,myGit,myProgressIndicator,"Uncommitted changes before update operation at " + DateFormatUtil.formatDateTime(Clock.getTime()));
  myUpdaters=new HashMap<VirtualFile,GitUpdater>();
  myRootsToSave=new HashSet<VirtualFile>(1);
}
