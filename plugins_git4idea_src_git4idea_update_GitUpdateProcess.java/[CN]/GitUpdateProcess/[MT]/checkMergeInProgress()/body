{
  final Collection<VirtualFile> mergingRoots=myMerger.getMergingRoots();
  if (mergingRoots.isEmpty()) {
    return false;
  }
  LOG.info("checkMergeInProgress mergingRoots: " + mergingRoots);
  return !new GitMergeConflictResolver(myProject,false,"You have unfinished merge. These conflicts must be resolved before update.","Can't update",""){
    @Override protected boolean proceedAfterAllMerged() throws VcsException {
      myMerger.mergeCommit(mergingRoots);
      return true;
    }
  }
.merge(mergingRoots);
}
