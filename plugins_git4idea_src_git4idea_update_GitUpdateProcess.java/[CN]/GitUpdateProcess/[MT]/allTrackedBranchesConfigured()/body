{
  for (  VirtualFile root : myRoots) {
    try {
      final GitBranch branch=GitBranch.current(myProject,root);
      if (branch == null) {
        notifyImportantError(myProject,"Can't update: no current branch","You are in 'detached HEAD' state, which means that you're not on any branch.<br/>" + "Checkout a branch to make update possible.");
        return false;
      }
      final String value=branch.getTrackedRemoteName(myProject,root);
      if (StringUtil.isEmpty(value)) {
        final String branchName=branch.getName();
        notifyImportantError(myProject,"Can't update: no tracked branch","No tracked branch configured for branch " + branchName + "<br/>To make your branch track a remote branch call, for example,<br/>"+ "<code>git branch --set-upstream "+ branchName+ " origin/"+ branchName+ "</code>");
        return false;
      }
    }
 catch (    VcsException e) {
      notifyImportantError(myProject,"Can't update: error identifying tracked branch",e.getLocalizedMessage());
      return false;
    }
  }
  return true;
}
