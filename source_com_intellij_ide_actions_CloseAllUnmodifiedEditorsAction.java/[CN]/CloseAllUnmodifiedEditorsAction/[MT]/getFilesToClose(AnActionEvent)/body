{
  final ArrayList<Pair<EditorComposite,EditorWindow>> res=new ArrayList<Pair<EditorComposite,EditorWindow>>();
  final Project project=(Project)event.getDataContext().getData(DataConstants.PROJECT);
  final FileEditorManagerEx editorManager=FileEditorManagerEx.getInstanceEx(project);
  final EditorWindow[] windows=editorManager.getWindows();
  final FileStatusManager fileStatusManager=FileStatusManager.getInstance(project);
  if (fileStatusManager != null) {
    for (int i=0; i != windows.length; ++i) {
      final EditorWindow window=windows[i];
      final EditorComposite[] editors=window.getEditors();
      for (int j=0; j < editors.length; j++) {
        final EditorComposite editor=editors[j];
        if (!editorManager.isChanged(editor)) {
          res.add(Pair.create(editor,window));
        }
      }
    }
  }
  return res;
}
