{
  if ((classPathType & JDK_ONLY) != 0) {
    if (jdk == null) {
      throw CantRunException.noJdkConfigured();
    }
    setJdk(jdk);
  }
  if ((classPathType & CLASSES_ONLY) == 0) {
    return;
  }
  setDefaultCharset(module.getProject());
  final PairFunction<OrderEntry,OrderRootType,VirtualFile[]> substitutor=computeSubstitutor(classPathType,jdk);
  configureEnumerator(OrderEnumerator.orderEntries(module).runtimeOnly().recursively().substituteFiles(substitutor),classPathType).classes().collectPaths(getClassPath());
}
