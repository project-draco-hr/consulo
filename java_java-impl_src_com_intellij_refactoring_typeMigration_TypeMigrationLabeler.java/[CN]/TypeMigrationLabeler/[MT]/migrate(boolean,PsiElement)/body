{
  myMigrationRoots=new LinkedList<Pair<TypeMigrationUsageInfo,PsiType>>();
  myTypeEvaluator=new TypeEvaluator(myMigrationRoots,this);
  final PsiType rootType=myRules.getMigrationRootType();
  for (  PsiElement victim : victims) {
    addMigrationRoot(victim,rootType,null,false,true,true);
  }
  if (autoMigrate) {
    while (myMigrationRoots.size() > 0) {
      iterate();
    }
  }
}
