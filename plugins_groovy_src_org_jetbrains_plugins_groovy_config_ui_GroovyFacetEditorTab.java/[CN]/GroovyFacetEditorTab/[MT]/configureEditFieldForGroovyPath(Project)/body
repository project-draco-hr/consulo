{
  myPathToGroovy.getButton().addActionListener(new ActionListener(){
    public void actionPerformed(    final ActionEvent e){
      final FileChooserDescriptor descriptor=new FileChooserDescriptor(false,true,false,false,false,false);
      final FileChooserDialog fileChooserDialog=FileChooserFactory.getInstance().createFileChooser(descriptor,project);
      final VirtualFile[] files=fileChooserDialog.choose(null,project);
      if (files.length > 0) {
        String path=files[0].getPath();
        myPathToGroovy.setText(path);
        ValidationResult validationResult=new MyFacetEditorValidator().check();
        if (validationResult == ValidationResult.OK) {
          ArrayList<String> versions=GroovyApplicationSettings.getInstance().GROOVY_VERSIONS;
          String version=GroovyConfigUtils.getGroovyVersion(path);
          boolean addVersion=!versions.contains(version) || Messages.showOkCancelDialog(GroovyBundle.message("ask.to.replace.groovy.lib",version),GroovyBundle.message("replace.groovy.lib"),GroovyIcons.BIG_ICON) == 0;
          if (addVersion && !GroovyConfigUtils.UNDEFINED_VERSION.equals(version)) {
            GroovyGrailsConfiguration.getInstance().createGroovyLibs(path);
            adjustVersionComboBox(versions.toArray(new String[versions.size()]),version);
          }
        }
      }
    }
  }
);
}
