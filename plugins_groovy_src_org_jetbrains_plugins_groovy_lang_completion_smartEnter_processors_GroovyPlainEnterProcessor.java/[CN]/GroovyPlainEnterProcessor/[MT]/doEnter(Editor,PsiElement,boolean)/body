{
  GrCodeBlock block=getControlStatementBlock(editor.getCaretModel().getOffset(),psiElement);
  if (block != null) {
    PsiElement firstElement=block.getFirstChild().getNextSibling();
    editor.getCaretModel().moveToOffset(firstElement != null ? firstElement.getTextRange().getStartOffset() - 1 : block.getTextRange().getEndOffset());
  }
  EditorActionManager.getInstance().getActionHandler(IdeActions.ACTION_EDITOR_START_NEW_LINE).execute(editor,((EditorEx)editor).getDataContext());
  return true;
}
