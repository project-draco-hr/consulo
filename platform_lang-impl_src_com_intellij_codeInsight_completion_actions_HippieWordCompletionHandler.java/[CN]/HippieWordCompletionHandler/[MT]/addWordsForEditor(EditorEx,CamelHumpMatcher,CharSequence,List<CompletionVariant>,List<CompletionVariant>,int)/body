{
  int startOffset=0;
  TokenProcessor processor=new TokenProcessor(){
    @Override public boolean processToken(    int start,    int end){
      if ((start > caretOffset || end < caretOffset) && end - start > matcher.getPrefix().length()) {
        final String word=chars.subSequence(start,end).toString();
        if (matcher.isStartMatch(word)) {
          CompletionVariant v=new CompletionVariant(editor,word,start);
          if (end > caretOffset) {
            afterWords.add(v);
          }
 else {
            words.add(v);
          }
        }
      }
      return true;
    }
  }
;
  processWords(editor,startOffset,processor);
}
