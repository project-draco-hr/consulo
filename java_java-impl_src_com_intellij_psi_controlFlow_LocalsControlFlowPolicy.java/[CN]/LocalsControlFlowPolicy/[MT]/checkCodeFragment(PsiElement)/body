{
  PsiElement codeFragement=ControlFlowUtil.findCodeFragment(refElement);
  if (refElement instanceof PsiParameter) {
    final PsiElement declarationScope=((PsiParameter)refElement).getDeclarationScope();
    if (declarationScope instanceof PsiMethod) {
      codeFragement=((PsiMethod)declarationScope).getBody();
    }
 else     if (declarationScope instanceof PsiLambdaExpression) {
      codeFragement=((PsiLambdaExpression)declarationScope).getBody();
    }
  }
  if (codeFragement == null)   return null;
  if (myCodeFragment.getContainingFile() == codeFragement.getContainingFile() && !myCodeFragment.equals(codeFragement))   return null;
  return (PsiVariable)refElement;
}
