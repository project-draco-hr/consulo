{
  mySearchField=new SearchTextFieldWithStoredHistory(getPropertiesKey() + ".searchHistory");
  mySearchField.addDocumentListener(new DocumentAdapter(){
    @Override protected void textChanged(    DocumentEvent e){
      scheduleRevisionsUpdate(new Consumer<DirectoryHistoryDialogModel>(){
        public void consume(        DirectoryHistoryDialogModel m){
          m.setFilter(mySearchField.getText());
        }
      }
);
    }
  }
);
  new AnAction(){
    @Override public void actionPerformed(    AnActionEvent e){
      mySearchField.requestFocusInWindow();
    }
  }
.registerCustomShortcutSet(CommonShortcuts.getFind(),mySplitter,this);
  return mySearchField;
}
