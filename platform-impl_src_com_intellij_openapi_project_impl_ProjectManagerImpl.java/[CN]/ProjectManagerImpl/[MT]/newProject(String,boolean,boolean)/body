{
  filePath=canonicalize(filePath);
  ProjectImpl project=null;
  try {
    project=createProject(filePath,false,isDummy,ApplicationManager.getApplication().isUnitTestMode(),null);
    if (useDefaultProjectSettings) {
      try {
        project.getStateStore().loadProjectFromTemplate((ProjectImpl)getDefaultProject());
      }
 catch (      Exception e) {
        reportError(e);
      }
    }
    project.init();
  }
 catch (  IOException e) {
    reportError(e);
  }
  return project;
}
