{
  filePath=canonicalize(filePath);
  ProjectImpl project;
  try {
    project=createProject(filePath,false,isDummy,ApplicationManager.getApplication().isUnitTestMode(),null);
    if (useDefaultProjectSettings) {
      project.getStateStore().loadProjectFromTemplate((ProjectImpl)getDefaultProject());
    }
    project.init();
  }
 catch (  final Exception e) {
    LOG.info(e);
    Messages.showErrorDialog(e.getMessage(),ProjectBundle.message("project.load.default.error"));
    return null;
  }
  return project;
}
