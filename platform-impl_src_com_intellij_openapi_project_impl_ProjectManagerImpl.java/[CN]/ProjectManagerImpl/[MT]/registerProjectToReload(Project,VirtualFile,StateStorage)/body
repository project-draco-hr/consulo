{
  if (project != null) {
    List<Pair<VirtualFile,StateStorage>> changedProjectFiles=myChangedProjectFiles.get(project);
    if (changedProjectFiles == null) {
      changedProjectFiles=new ArrayList<Pair<VirtualFile,StateStorage>>();
      myChangedProjectFiles.put(project,changedProjectFiles);
    }
    changedProjectFiles.add(new Pair<VirtualFile,StateStorage>(cause,storage));
  }
 else {
    myChangedApplicationFiles.add(new Pair<VirtualFile,StateStorage>(cause,storage));
  }
}
