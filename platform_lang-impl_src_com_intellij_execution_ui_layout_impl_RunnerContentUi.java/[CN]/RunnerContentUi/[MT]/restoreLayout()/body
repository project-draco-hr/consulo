{
  final RunnerContentUi[] children=myChildren.toArray(new RunnerContentUi[myChildren.size()]);
  final List<Content> contents=new ArrayList<Content>();
  Collections.addAll(contents,myManager.getContents());
  for (  RunnerContentUi child : children) {
    Collections.addAll(contents,child.myManager.getContents());
  }
  for (  AnAction action : myMinimizedViewActions.getChildren(null)) {
    final Content content=((RestoreViewAction)action).getContent();
    contents.add(content);
  }
  Content[] all=contents.toArray(new Content[contents.size()]);
  Arrays.sort(all,new Comparator<Content>(){
    @Override public int compare(    @NotNull Content content,    @NotNull Content content1){
      final int i=getStateFor(content).getTab().getDefaultIndex();
      final int i1=getStateFor(content1).getTab().getDefaultIndex();
      return i - i1;
    }
  }
);
  setStateIsBeingRestored(true,this);
  try {
    for (    RunnerContentUi child : children) {
      child.myManager.removeAllContents(false);
    }
    myManager.removeAllContents(false);
    myMinimizedViewActions.removeAll();
  }
  finally {
    setStateIsBeingRestored(false,this);
  }
  myLayoutSettings.resetToDefault();
  for (  Content each : all) {
    myManager.addContent(each);
  }
  updateTabsUI(true);
}
