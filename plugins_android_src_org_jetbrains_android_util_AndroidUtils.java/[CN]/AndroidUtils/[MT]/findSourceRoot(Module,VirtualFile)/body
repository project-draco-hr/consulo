{
  final Set<VirtualFile> sourceRoots=new HashSet<VirtualFile>();
  Collections.addAll(sourceRoots,ModuleRootManager.getInstance(module).getSourceRoots());
  while (file != null) {
    if (sourceRoots.contains(file)) {
      return file;
    }
    file=file.getParent();
  }
  return null;
}
