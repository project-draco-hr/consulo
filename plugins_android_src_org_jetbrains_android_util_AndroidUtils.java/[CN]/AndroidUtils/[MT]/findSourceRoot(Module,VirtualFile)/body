{
  ModuleRootManager rootManager=ModuleRootManager.getInstance(module);
  Set<VirtualFile> sourceRoots=new HashSet<VirtualFile>();
  Collections.addAll(sourceRoots,rootManager.getSourceRoots());
  while (file != null) {
    if (sourceRoots.contains(file)) {
      return file;
    }
    file=file.getParent();
  }
  return null;
}
