{
  String[] commands=commandLine.getCommands();
  String command=StringUtil.join(commands," ");
  LOG.info("Execute: " + command);
  StringBuilder messageBuilder=new StringBuilder();
  String result;
  boolean success=false;
  try {
    success=executeCommand(commandLine,messageBuilder);
    result=messageBuilder.toString();
  }
 catch (  ExecutionException e) {
    result=e.getMessage();
  }
  if (result != null) {
    if (printOutputToAndroidConsole) {
      final ConsoleViewContentType contentType=success ? ConsoleViewContentType.NORMAL_OUTPUT : ConsoleViewContentType.ERROR_OUTPUT;
      final String finalResult=result;
      UIUtil.invokeLaterIfNeeded(new Runnable(){
        @Override public void run(){
          printMessageToConsole(project,finalResult,contentType);
        }
      }
);
    }
 else     if (processHandler != null) {
      processHandler.notifyTextAvailable(result + '\n',ProcessOutputTypes.STDOUT);
    }
  }
}
