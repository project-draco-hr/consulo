{
  LOG.info(commandLine.getCommandLineString());
  OSProcessHandler handler=new OSProcessHandler(commandLine.createProcess(),"");
  final StringBuilder messageBuilder=new StringBuilder();
  handler.addProcessListener(new ProcessAdapter(){
    public void onTextAvailable(    final ProcessEvent event,    final Key outputType){
      messageBuilder.append(event.getText());
    }
  }
);
  handler.startNotify();
  try {
    handler.waitFor();
  }
 catch (  ProcessCanceledException e) {
    return null;
  }
  String message=messageBuilder.toString();
  LOG.info(message);
  int exitCode=handler.getProcess().exitValue();
  return exitCode != 0 ? message : null;
}
