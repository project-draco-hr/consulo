{
  return ApplicationManager.getApplication().runReadAction(new Computable<T>(){
    @Nullable public T compute(){
      if (module.isDisposed()) {
        return null;
      }
      Project project=module.getProject();
      if (project.isDisposed())       return null;
      PsiFile psiFile=PsiManager.getInstance(project).findFile(file);
      if (psiFile == null || !(psiFile instanceof XmlFile)) {
        return null;
      }
      DomManager domManager=DomManager.getDomManager(project);
      DomFileElement<T> element=domManager.getFileElement((XmlFile)psiFile,aClass);
      if (element == null)       return null;
      return element.getRootElement();
    }
  }
);
}
