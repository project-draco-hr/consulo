{
  LOG.info(commandLine.getCommandLineString());
  OSProcessHandler handler=new OSProcessHandler(commandLine.createProcess(),"");
  handler.addProcessListener(new ProcessAdapter(){
    public void onTextAvailable(    final ProcessEvent event,    final Key outputType){
      messageBuilder.append(event.getText());
    }
  }
);
  handler.startNotify();
  try {
    if (timeout != null) {
      if (timeout > 0) {
        handler.waitFor(timeout);
      }
    }
 else {
      handler.waitFor();
    }
  }
 catch (  ProcessCanceledException e) {
    return false;
  }
  if (!handler.isProcessTerminated()) {
    return true;
  }
  String message=messageBuilder.toString();
  LOG.info(message);
  int exitCode=handler.getProcess().exitValue();
  return exitCode == 0;
}
