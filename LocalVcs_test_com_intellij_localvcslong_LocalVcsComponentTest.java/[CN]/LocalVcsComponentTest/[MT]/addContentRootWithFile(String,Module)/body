{
  try {
    LocalFileSystem fs=LocalFileSystem.getInstance();
    File dir=createTempDirectory();
    if (fileName != null) {
      File f=new File(dir,fileName);
      f.createNewFile();
    }
    VirtualFile root=fs.findFileByIoFile(dir);
    ModuleRootManager rm=ModuleRootManager.getInstance(module);
    ModifiableRootModel m=rm.getModifiableModel();
    m.addContentEntry(root);
    m.commit();
    return root;
  }
 catch (  IOException e) {
    throw new RuntimeException(e);
  }
}
