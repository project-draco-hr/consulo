{
  String name=library.getName();
  if (name != null) {
    return normalOrRedWaved(name,PlatformIcons.LIBRARY_ICON,hasInvalidRoots);
  }
  String[] files=library.getUrls(OrderRootType.CLASSES);
  if (files.length == 0) {
    return SimpleTextCellAppearance.invalid(ProjectBundle.message("library.empty.library.item"),PlatformIcons.LIBRARY_ICON);
  }
  if (files.length == 1) {
    return forVirtualFilePointer(new LightFilePointer(files[0]));
  }
  String url=StringUtil.trimEnd(files[0],JarFileSystem.JAR_SEPARATOR);
  return SimpleTextCellAppearance.normal(PathUtil.getFileName(url),PlatformIcons.LIBRARY_ICON);
}
