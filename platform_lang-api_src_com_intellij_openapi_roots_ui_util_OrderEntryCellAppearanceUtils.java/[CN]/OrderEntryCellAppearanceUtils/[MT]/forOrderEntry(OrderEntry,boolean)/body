{
  if (orderEntry instanceof JdkOrderEntry) {
    JdkOrderEntry jdkLibraryEntry=(JdkOrderEntry)orderEntry;
    Sdk jdk=jdkLibraryEntry.getJdk();
    if (!orderEntry.isValid()) {
      final String oldJdkName=jdkLibraryEntry.getJdkName();
      return FileAppearanceService.getInstance().forInvalidUrl(oldJdkName != null ? oldJdkName : NO_JDK);
    }
    return forJdk(jdk,false,selected);
  }
 else   if (!orderEntry.isValid()) {
    return FileAppearanceService.getInstance().forInvalidUrl(orderEntry.getPresentableName());
  }
 else   if (orderEntry instanceof LibraryOrderEntry) {
    LibraryOrderEntry libraryOrderEntry=(LibraryOrderEntry)orderEntry;
    final Library library=libraryOrderEntry.getLibrary();
    if (!libraryOrderEntry.isValid()) {
      return FileAppearanceService.getInstance().forInvalidUrl(orderEntry.getPresentableName());
    }
    return forLibrary(library);
  }
 else   if (orderEntry.isSynthetic()) {
    String presentableName=orderEntry.getPresentableName();
    Icon icon=orderEntry instanceof ModuleSourceOrderEntry ? sourceFolderIcon(false) : null;
    return new SimpleTextCellAppearance(presentableName,icon,SimpleTextAttributes.SYNTHETIC_ATTRIBUTES);
  }
 else   if (orderEntry instanceof ModuleOrderEntry) {
    final Icon icon=ModuleType.get(((ModuleOrderEntry)orderEntry).getModule()).getNodeIcon(false);
    return SimpleTextCellAppearance.regular(orderEntry.getPresentableName(),icon);
  }
 else   return CompositeAppearance.single(orderEntry.getPresentableName());
}
