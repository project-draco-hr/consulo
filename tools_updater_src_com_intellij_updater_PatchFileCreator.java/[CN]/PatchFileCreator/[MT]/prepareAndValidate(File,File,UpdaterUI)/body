{
  Patch patch;
  ZipFile zipFile=new ZipFile(patchFile);
  try {
    InputStream in=Utils.getEntryInputStream(zipFile,PATCH_INFO_FILE_NAME);
    try {
      patch=new Patch(in);
    }
  finally {
      in.close();
    }
  }
  finally {
    zipFile.close();
  }
  List<ValidationResult> validationResults=patch.validate(toDir,ui);
  return new PreparationResult(patch,patchFile,toDir,validationResults);
}
