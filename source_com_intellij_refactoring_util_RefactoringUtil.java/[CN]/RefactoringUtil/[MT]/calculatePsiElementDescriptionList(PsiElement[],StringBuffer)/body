{
  if (elements.length == 1) {
    buffer.append(UsageViewUtil.getType(elements[0]));
    buffer.append(' ');
    buffer.append(UsageViewUtil.getDescriptiveName(elements[0]));
  }
 else {
    Map<String,Ref<Integer>> map=new HashMap<String,Ref<Integer>>();
    for (int i=0; i < elements.length; i++) {
      PsiElement element=elements[i];
      final String type=UsageViewUtil.getType(element);
      Ref<Integer> ref=map.get(type);
      if (ref == null) {
        ref=Ref.create(new Integer(0));
      }
      ref.set(new Integer(ref.get().intValue() + 1));
    }
    Set entries=map.entrySet();
    int index=0;
    for (Iterator iterator=entries.iterator(); iterator.hasNext(); index++) {
      Map.Entry entry=(Map.Entry)iterator.next();
      final String type=(String)entry.getKey();
      final int count=((Ref<Integer>)entry.getValue()).get().intValue();
      if (index > 0 && index + 1 < entries.size()) {
        buffer.append(" ,");
      }
 else       if (index > 0 && index == entries.size()) {
        buffer.append(" and ");
      }
      buffer.append(count);
      buffer.append(" ");
      buffer.append(count > 1 ? type : StringUtil.pluralize(type));
    }
  }
  return buffer.toString();
}
