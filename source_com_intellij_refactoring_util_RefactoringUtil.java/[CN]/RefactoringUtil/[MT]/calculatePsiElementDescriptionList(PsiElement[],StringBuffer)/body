{
  if (elements.length == 1) {
    buffer.append(UsageViewUtil.getType(elements[0]));
    buffer.append(' ');
    buffer.append(UsageViewUtil.getDescriptiveName(elements[0]));
  }
 else {
    Map<String,Ref<Integer>> map=new HashMap<String,Ref<Integer>>();
    for (    PsiElement element : elements) {
      final String type=UsageViewUtil.getType(element);
      Ref<Integer> ref=map.get(type);
      if (ref == null) {
        ref=Ref.create(new Integer(0));
      }
      ref.set(new Integer(ref.get().intValue() + 1));
    }
    final Set<Map.Entry<String,Ref<Integer>>> entries=map.entrySet();
    int index=0;
    for (    Map.Entry<String,Ref<Integer>> entry : entries) {
      final String type=entry.getKey();
      final int count=entry.getValue().get().intValue();
      if (index > 0 && index + 1 < entries.size()) {
        buffer.append(" ,");
      }
 else       if (index > 0 && index == entries.size()) {
        buffer.append(" and ");
      }
      buffer.append(count);
      buffer.append(" ");
      buffer.append(count > 1 ? type : StringUtil.pluralize(type));
    }
  }
  return buffer.toString();
}
