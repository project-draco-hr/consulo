{
  if (scope == null)   return conflicts;
  final VirtualFile vFile;
  if (!(target instanceof PsiDirectory)) {
    vFile=target.getContainingFile().getVirtualFile();
  }
 else {
    vFile=((PsiDirectory)target).getVirtualFile();
  }
  if (vFile == null)   return conflicts;
  return analyzeModuleConflicts(project,scope,vFile,conflicts);
}
