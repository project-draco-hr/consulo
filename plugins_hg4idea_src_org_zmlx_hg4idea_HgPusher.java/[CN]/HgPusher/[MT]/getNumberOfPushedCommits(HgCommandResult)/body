{
  if (!HgErrorUtil.isAbort(result)) {
    final List<String> outputLines=result.getOutputLines();
    for (    String outputLine : outputLines) {
      outputLine=outputLine.trim();
      final Matcher matcher=PUSH_COMMITS_PATTERN.matcher(outputLine);
      if (matcher.matches()) {
        try {
          return Integer.parseInt(matcher.group(1));
        }
 catch (        NumberFormatException e) {
          LOG.info("getNumberOfPushedCommits ",e);
          return -1;
        }
      }
 else       if (PUSH_NO_CHANGES.matcher(outputLine).matches()) {
        return 0;
      }
    }
  }
  return -1;
}
