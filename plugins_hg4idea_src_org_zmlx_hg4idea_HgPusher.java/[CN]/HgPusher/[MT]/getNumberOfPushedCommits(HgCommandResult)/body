{
  int numberOfCommitsInAllSubrepos=0;
  if (!HgErrorUtil.isAbort(result)) {
    final List<String> outputLines=result.getOutputLines();
    for (    String outputLine : outputLines) {
      outputLine=outputLine.trim();
      final Matcher matcher=PUSH_COMMITS_PATTERN.matcher(outputLine);
      if (matcher.matches()) {
        try {
          numberOfCommitsInAllSubrepos+=Integer.parseInt(matcher.group(1));
        }
 catch (        NumberFormatException e) {
          LOG.info("getNumberOfPushedCommits ",e);
          return -1;
        }
      }
    }
    return numberOfCommitsInAllSubrepos;
  }
  return -1;
}
