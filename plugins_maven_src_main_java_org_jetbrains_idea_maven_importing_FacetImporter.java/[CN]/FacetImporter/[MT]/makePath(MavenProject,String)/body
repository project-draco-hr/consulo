{
  StringBuilder tailBuff=new StringBuilder();
  for (  String e : elements) {
    if (tailBuff.length() > 0)     tailBuff.append("/");
    tailBuff.append(e);
  }
  String tail=tailBuff.toString();
  String result=new File(tail).isAbsolute() ? tail : new File(p.getDirectory(),tail).getPath();
  return FileUtil.toSystemIndependentName(PathUtil.getCanonicalPath(result));
}
