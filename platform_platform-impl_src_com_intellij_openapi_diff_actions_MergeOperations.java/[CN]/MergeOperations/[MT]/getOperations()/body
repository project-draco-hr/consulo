{
  Fragment fragment=getCurrentFragment();
  if (fragment == null)   return NO_OPERATIONS;
  ArrayList<Operation> operations=new ArrayList<Operation>(3);
  TextRange range=fragment.getRange(mySide);
  if (range.getLength() > 0) {
    if (isWritable(mySide))     operations.add(removeOperation(range,getDocument()));
    TextRange otherRange=fragment.getRange(mySide.otherSide());
    boolean otherIsWritable=isWritable(mySide.otherSide());
    if (otherIsWritable)     operations.add(insertOperation(range,otherRange.getEndOffset(),getDocument(),getOtherDocument()));
    if (otherRange.getLength() > 0 && otherIsWritable)     operations.add(replaceOperation(range,otherRange,getDocument(),getOtherDocument()));
  }
  return operations;
}
