{
  myWizardContext=context;
  mySequence=sequence;
  Messages.installHyperlinkSupport(myDescriptionPane);
  myFormatPanel=new ProjectFormatPanel();
  myNamePathComponent=initNamePathComponent(context);
  if (context.isCreatingNewProject()) {
    mySettingsPanel.add(myNamePathComponent,BorderLayout.NORTH);
    addExpertPanel(myModulePanel);
  }
 else {
    mySettingsPanel.add(myModulePanel,BorderLayout.NORTH);
  }
  bindModuleSettings();
  myExpertDecorator=new HideableDecorator(myExpertPlaceholder,"Mor&e Settings",false);
  myExpertPanel.setBorder(IdeBorderFactory.createEmptyBorder(0,IdeBorderFactory.TITLED_BORDER_INDENT,5,0));
  myExpertDecorator.setContentComponent(myExpertPanel);
  myList=new ProjectTypesList(myTemplatesList,mySearchField,map,context);
  myTemplatesList.getSelectionModel().addListSelectionListener(new ListSelectionListener(){
    @Override public void valueChanged(    ListSelectionEvent e){
      ProjectTemplate template=getSelectedTemplate();
      boolean loading=template instanceof LoadingProjectTemplate;
      myModuleBuilder=template == null || loading ? null : template.createModuleBuilder();
      setupPanels(template);
      mySequence.setType(myModuleBuilder == null ? null : myModuleBuilder.getBuilderId());
      myWizardContext.requestWizardButtonsUpdate();
    }
  }
);
  if (myWizardContext.isCreatingNewProject()) {
    addProjectFormat(myModulePanel);
  }
  mySplitter=new JBSplitter(false,0.3f,0.3f,0.6f);
  mySplitter.setSplitterProportionKey("select.template.proportion");
  myLeftPanel.setMinimumSize(new Dimension(200,200));
  mySplitter.setFirstComponent(myLeftPanel);
  mySplitter.setSecondComponent(myRightPanel);
}
