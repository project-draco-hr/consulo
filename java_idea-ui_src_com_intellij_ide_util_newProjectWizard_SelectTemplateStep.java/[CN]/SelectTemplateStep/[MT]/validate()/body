{
  ProjectTemplate template=getSelectedTemplate();
  if (template == null) {
    throw new ConfigurationException(StringUtil.capitalize(ProjectBundle.message("project.new.wizard.from.template.error",myWizardContext.getPresentationName())),"Error");
  }
  if (myWizardContext.isCreatingNewProject()) {
    if (!myNamePathComponent.validateNameAndPath(myWizardContext,myFormatPanel.isDefault()))     return false;
  }
  if (!validateModulePaths())   return false;
  if (!myWizardContext.isCreatingNewProject()) {
    validateExistingModuleName();
  }
  ValidationInfo info=template.validateSettings();
  if (info != null) {
    throw new ConfigurationException(info.message,"Error");
  }
  if (mySettingsStep != null) {
    return mySettingsStep.validate();
  }
  return true;
}
