{
  final FileType fileType=myFile.getFileType();
  if (fileType instanceof AbstractFileType) {
    return ((AbstractFileType)fileType).getCommenter();
  }
  int offset=myDocument.getLineStartOffset(line);
  offset=CharArrayUtil.shiftForward(myDocument.getCharsSequence(),offset," \t");
  Language language=PsiUtilBase.getLanguageAtOffset(myFile,offset);
  final Commenter commenter=LanguageCommenters.INSTANCE.forLanguage(language);
  return commenter == null ? LanguageCommenters.INSTANCE.forLanguage(myFile.getViewProvider().getBaseLanguage()) : commenter;
}
