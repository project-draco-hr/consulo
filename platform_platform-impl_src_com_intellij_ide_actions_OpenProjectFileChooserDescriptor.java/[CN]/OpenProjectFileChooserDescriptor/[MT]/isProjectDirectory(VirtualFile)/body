{
  if (virtualFile.getParent() == null)   return false;
  if (virtualFile.isDirectory() && virtualFile.isValid()) {
    final VirtualFile[] children=virtualFile.getChildren();
    if (children == null)     return false;
    for (    VirtualFile file : children) {
      if (file.getName().equals(Project.DIRECTORY_STORE_FOLDER))       return true;
      if (isIprFile(file)) {
        return true;
      }
      final ProjectOpenProcessor importProvider=ProjectOpenProcessor.getImportProvider(file);
      if (importProvider != null && importProvider.lookForProjectsInDirectory()) {
        return true;
      }
    }
  }
  return false;
}
