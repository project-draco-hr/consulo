{
  if (myVirtualParent != null && myVirtualParent.isValid()) {
    return new FilePathImpl(myVirtualParent);
  }
  final String path=myFile.getPath();
  int pos=path.lastIndexOf(File.separatorChar);
  if (pos < 0 || pos == path.indexOf(File.separatorChar)) {
    return null;
  }
  return new FilePathImpl(new File(path.substring(0,pos)));
}
