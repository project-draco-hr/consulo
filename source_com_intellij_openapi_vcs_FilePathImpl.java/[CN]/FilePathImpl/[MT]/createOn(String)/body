{
  File ioFile=new File(s);
  final LocalFileSystem localFileSystem=LocalFileSystem.getInstance();
  VirtualFile virtualFile=localFileSystem.findFileByIoFile(ioFile);
  if (virtualFile != null) {
    return new FilePathImpl(virtualFile);
  }
 else {
    VirtualFile virtualFileParent=localFileSystem.findFileByIoFile(ioFile.getParentFile());
    if (virtualFileParent != null) {
      return new FilePathImpl(virtualFileParent,ioFile.getName());
    }
 else {
      return null;
    }
  }
}
