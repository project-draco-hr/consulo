{
  if (ParameterInfoController.isAlreadyShown(editor,elementStart))   return;
  if (editor.isDisposed() || !editor.getComponent().isVisible())   return;
  final ParameterInfoComponent component=new ParameterInfoComponent(descriptors,editor,handler,requestFocus);
  component.setParameterOwner(element);
  component.setRequestFocus(requestFocus);
  if (highlighted != null) {
    component.setHighlightedParameter(highlighted);
  }
  component.update();
  final LightweightHint hint=new LightweightHint(component);
  hint.setSelectingHint(true);
  final HintManagerImpl hintManager=HintManagerImpl.getInstanceImpl();
  final ShowParameterInfoHandler.BestLocationPointProvider provider=new MyBestLocationPointProvider(editor);
  final Pair<Point,Short> pos=provider.getBestPointPosition(hint,element,elementStart,true,HintManager.UNDER);
  PsiDocumentManager.getInstance(project).performLaterWhenAllCommitted(new Runnable(){
    @Override public void run(){
      if (editor.isDisposed() || DumbService.isDumb(project))       return;
      final Document document=editor.getDocument();
      if (document.getTextLength() < elementStart)       return;
      HintHint hintHint=HintManagerImpl.createHintHint(editor,pos.getFirst(),hint,pos.getSecond());
      hintHint.setExplicitClose(true);
      hintHint.setRequestFocus(requestFocus);
      Editor editorToShow=editor instanceof EditorWindow ? ((EditorWindow)editor).getDelegate() : editor;
      hintManager.showEditorHint(hint,editorToShow,pos.getFirst(),HintManager.HIDE_BY_ESCAPE | HintManager.UPDATE_BY_SCROLLING,0,false,hintHint);
      new ParameterInfoController(project,editor,elementStart,hint,handler,provider);
    }
  }
);
}
