{
  final StringBuilder result=new StringBuilder();
  for (int i=0, n=s.length(); i < n; i++) {
    final char c=s.charAt(i);
    if (Character.isJavaIdentifierPart(c)) {
      if (i == 0 && !Character.isJavaIdentifierStart(c)) {
        result.append('_');
      }
      result.append(c);
    }
 else {
      result.append('_');
    }
  }
  return result.toString();
}
