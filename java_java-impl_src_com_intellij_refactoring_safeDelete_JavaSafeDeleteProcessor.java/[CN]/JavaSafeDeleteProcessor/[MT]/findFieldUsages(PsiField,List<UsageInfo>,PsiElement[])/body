{
  final Condition<PsiElement> isInsideDeleted=getUsageInsideDeletedFilter(allElementsToDelete);
  ReferencesSearch.search(psiField).forEach(new Processor<PsiReference>(){
    public boolean process(    final PsiReference reference){
      if (!isInsideDeleted.value(reference.getElement())) {
        final PsiElement element=reference.getElement();
        final PsiElement parent=element.getParent();
        if (parent instanceof PsiAssignmentExpression && element == ((PsiAssignmentExpression)parent).getLExpression()) {
          usages.add(new SafeDeleteFieldWriteReference((PsiAssignmentExpression)parent,psiField));
        }
 else {
          TextRange range=reference.getRangeInElement();
          usages.add(new SafeDeleteReferenceJavaDeleteUsageInfo(reference.getElement(),psiField,range.getStartOffset(),range.getEndOffset(),false,false));
        }
      }
      return true;
    }
  }
);
  return isInsideDeleted;
}
