{
  PsiTypeParameterListOwner owner=typeParameter.getOwner();
  if (owner != null) {
    final PsiTypeParameterList parameterList=owner.getTypeParameterList();
    if (parameterList != null) {
      final int paramsCount=parameterList.getTypeParameters().length;
      final int index=parameterList.getTypeParameterIndex(typeParameter);
      ReferencesSearch.search(owner).forEach(new Processor<PsiReference>(){
        public boolean process(        final PsiReference reference){
          if (reference instanceof PsiJavaCodeReferenceElement) {
            final PsiReferenceParameterList parameterList=((PsiJavaCodeReferenceElement)reference).getParameterList();
            if (parameterList != null) {
              PsiTypeElement[] typeArgs=parameterList.getTypeParameterElements();
              if (typeArgs.length > index) {
                if (typeArgs.length == 1 && paramsCount > 1 && typeArgs[0].getType() instanceof PsiDiamondType)                 return true;
                usages.add(new SafeDeleteReferenceJavaDeleteUsageInfo(typeArgs[index],typeParameter,true));
              }
            }
          }
          return true;
        }
      }
);
    }
  }
}
