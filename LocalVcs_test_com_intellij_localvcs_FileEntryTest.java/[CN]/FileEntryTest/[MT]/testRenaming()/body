{
  DirectoryEntry dir=new DirectoryEntry(null,"dir");
  FileEntry file=new FileEntry(33,"name","content");
  dir.addChild(file);
  Entry renamed=file.renamed("new name");
  assertEquals(33,renamed.getObjectId());
  assertEquals(p("new name"),renamed.getPath());
  assertEquals("content",renamed.getContent());
  assertNull(renamed.getParent());
}
