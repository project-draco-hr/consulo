{
  if (myOutOfCodeBlockModificationCount == myModificationTracker.getOutOfCodeBlockModificationCount()) {
    return;
  }
  try {
    ((SmartTreeStructure)getTreeStructure()).rebuildTree();
    myUpdater.addSubtreeToUpdate(myRootNode);
  }
  finally {
    myOutOfCodeBlockModificationCount=myModificationTracker.getOutOfCodeBlockModificationCount();
  }
  return;
}
