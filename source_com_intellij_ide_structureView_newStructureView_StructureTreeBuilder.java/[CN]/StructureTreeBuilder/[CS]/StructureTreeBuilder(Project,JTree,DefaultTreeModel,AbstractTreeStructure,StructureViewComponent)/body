{
  super(tree,treeModel,treeStructure,null);
  myStructureViewComponent=structureViewComponent;
  myProject=project;
  myPsiTreeChangeListener=new MyPsiTreeChangeListener();
  PsiManager.getInstance(myProject).addPsiTreeChangeListener(myPsiTreeChangeListener);
  myCopyPasteListener=new MyCopyPasteListener();
  CopyPasteManager.getInstance().addContentChangedListener(myCopyPasteListener);
  initRootNode();
  myUpdater.runAfterUpdate(new Runnable(){
    public void run(){
      if (myStateIsSaved) {
        try {
          myStructureViewComponent.restoreStructureViewState();
        }
  finally {
          myStateIsSaved=false;
        }
      }
    }
  }
);
}
