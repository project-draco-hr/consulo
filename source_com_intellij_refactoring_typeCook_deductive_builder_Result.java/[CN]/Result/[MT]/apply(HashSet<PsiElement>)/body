{
  for (final Iterator<PsiElement> e=victims.iterator(); e.hasNext(); ) {
    final PsiElement element=e.next();
    Util.changeType(element,getCookedType(element));
  }
  if (mySettings.dropObsoleteCasts()) {
    myCastsRemoved=0;
    for (final Iterator<PsiTypeCastExpression> c=myCasts.iterator(); c.hasNext(); ) {
      final PsiTypeCastExpression cast=c.next();
      if (cast.getType().equals(cast.getOperand().getType())) {
        try {
          cast.replace(cast.getOperand());
          myCastsRemoved++;
        }
 catch (        IncorrectOperationException e1) {
          LOG.error(e1);
        }
      }
    }
  }
}
