{
  if (!CodeInsightUtilBase.prepareFileForWrite(file))   return;
  PsiMethod wrapper=findWrapper(myExpression.getType(),myExpectedType);
  PsiElementFactory factory=JavaPsiFacade.getInstance(file.getProject()).getElementFactory();
  @NonNls String methodCallText="Foo." + wrapper.getName() + "()";
  PsiMethodCallExpression call=(PsiMethodCallExpression)factory.createExpressionFromText(methodCallText,null);
  call.getArgumentList().add(myExpression);
  ((PsiReferenceExpression)call.getMethodExpression().getQualifierExpression()).bindToElement(wrapper.getContainingClass());
  myExpression.replace(call);
}
