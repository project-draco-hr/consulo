{
  Set<String> result=new HashSet<String>();
  nextSorage:   for (  StateStorage storage : myStorages.values()) {
    final List<VirtualFile> virtualFiles=storage.getAllStorageFiles();
    for (    VirtualFile virtualFile : virtualFiles) {
      if (changedFiles.contains(virtualFile)) {
        final Set<String> s=myCompoundSaveSession.getSaveSession(storage).analyzeExternalChanges(changedFiles);
        if (s == null)         return null;
        result.addAll(s);
        continue nextSorage;
      }
    }
  }
  return result;
}
