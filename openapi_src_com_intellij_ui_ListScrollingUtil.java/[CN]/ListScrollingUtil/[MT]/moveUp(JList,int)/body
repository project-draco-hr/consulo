{
  int size=list.getModel().getSize();
  int index=list.getSelectedIndex();
  boolean cycleScrolling=UISettings.getInstance().CYCLE_SCROLLING;
  int indexToSelect;
  if (index > 0) {
    indexToSelect=index - 1;
  }
 else   if (cycleScrolling && index == 0) {
    indexToSelect=size - 1;
  }
 else {
    return;
  }
  ensureIndexIsVisible(list,indexToSelect,-1);
  if (list.getSelectionMode() == ListSelectionModel.SINGLE_SELECTION) {
    list.setSelectedIndex(indexToSelect);
  }
 else {
    final ListSelectionModel selectionModel=list.getSelectionModel();
    if ((modifiers & KeyEvent.SHIFT_DOWN_MASK) == 0) {
      selectionModel.removeSelectionInterval(selectionModel.getMinSelectionIndex(),selectionModel.getMaxSelectionIndex());
    }
    selectionModel.addSelectionInterval(indexToSelect,indexToSelect);
  }
}
