{
  if (editor == null)   return;
  CommandProcessor commandProcessor=CommandProcessor.getInstance();
  Runnable command=new Runnable(){
    public void run(){
      getHandler().execute(editor,getProjectAwareDataContext(editor,dataContext));
    }
  }
;
  String commandName=getTemplatePresentation().getText();
  if (commandName == null)   commandName="";
  commandProcessor.executeCommand(editor.getProject(),command,commandName,new Ref(editor.getDocument()),UndoConfirmationPolicy.DEFAULT,editor.getDocument());
}
