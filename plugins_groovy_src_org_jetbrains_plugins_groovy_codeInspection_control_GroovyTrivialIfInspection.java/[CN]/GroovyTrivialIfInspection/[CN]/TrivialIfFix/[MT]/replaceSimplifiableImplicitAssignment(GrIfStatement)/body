{
  final PsiElement prevStatement=PsiTreeUtil.skipSiblingsBackward(statement,PsiWhiteSpace.class);
  if (prevStatement == null) {
    return;
  }
  final GrExpression condition=(GrExpression)statement.getCondition();
  final String conditionText=condition.getText();
  final GrStatement thenBranch=statement.getThenBranch();
  final GrAssignmentExpression assignmentExpression=(GrAssignmentExpression)ConditionalUtils.stripBraces(thenBranch);
  final IElementType operator=assignmentExpression.getOperationToken();
  final GrExpression lhs=assignmentExpression.getLValue();
  final String lhsText=lhs.getText();
  replaceStatement(statement,lhsText + operator + conditionText+ ';');
  prevStatement.delete();
}
