{
  if (ifStatement.getElseBranch() != null) {
    return false;
  }
  GrStatement thenBranch=ifStatement.getThenBranch();
  thenBranch=ConditionalUtils.stripBraces(thenBranch);
  final PsiElement nextStatement=PsiTreeUtil.skipSiblingsBackward(ifStatement,PsiWhiteSpace.class);
  if (!(nextStatement instanceof GrStatement)) {
    return false;
  }
  GrStatement elseBranch=(GrStatement)nextStatement;
  elseBranch=ConditionalUtils.stripBraces(elseBranch);
  if (ConditionalUtils.isAssignment(thenBranch,"true") && ConditionalUtils.isAssignment(elseBranch,"false")) {
    final GrAssignmentExpression thenExpression=(GrAssignmentExpression)thenBranch;
    final GrAssignmentExpression elseExpression=(GrAssignmentExpression)elseBranch;
    final IElementType thenSign=thenExpression.getOperationTokenType();
    final IElementType elseSign=elseExpression.getOperationTokenType();
    if (!thenSign.equals(elseSign)) {
      return false;
    }
    final GrExpression thenLhs=thenExpression.getLValue();
    final GrExpression elseLhs=elseExpression.getLValue();
    return EquivalenceChecker.expressionsAreEquivalent(thenLhs,elseLhs);
  }
 else {
    return false;
  }
}
