{
  Icon icon=null;
  int logicalIndex=table.convertColumnIndexToModel(column);
  if ((logicalIndex) >= myModel.getColumnInfos().length) {
    setText("");
    return this;
  }
  final ColumnInfo columnInfo=myModel.getColumnInfos()[logicalIndex];
  String labelString=columnInfo.getName();
  final Icon columnIcon=columnInfo.getIcon();
  myLabel.setIcon(columnIcon);
  myLabel.setIconTextGap(10);
  setText(labelString);
  setIcon(icon);
  setToolTipText(columnInfo.getTooltipText());
  final boolean hasError=columnInfo.hasError();
  JTableHeader header=table.getTableHeader();
  final Color foreground=hasError ? Color.RED : header.getForeground();
  setForeground(foreground);
  myLabel.setForeground(foreground);
  setBackground(header.getBackground());
  myLabel.setFont(header.getFont());
  setBorder(myBorder);
  return this;
}
