{
  final File file=cvsFileSystem.getLocalFileSystem().getFile(fileObject);
  long length=file.length();
  writeLengthString(connectionStreams.getLoggedWriter(),length);
  final BufferedInputStream bis=new BufferedInputStream(new FileInputStream(file));
  try {
    final OutputStream outputStream=connectionStreams.getOutputStream();
    final byte[] chunk=new byte[CHUNK_SIZE];
    while (length > 0) {
      final int bytesToRead=(length >= CHUNK_SIZE) ? CHUNK_SIZE : (int)length;
      final int count=bis.read(chunk,0,bytesToRead);
      length-=count;
      outputStream.write(chunk,0,count);
    }
    outputStream.flush();
  }
  finally {
    try {
      bis.close();
    }
 catch (    IOException ex) {
    }
  }
}
