{
  if (location.getPosition() == null || !(element instanceof PsiClass)) {
    return null;
  }
  if (isTooGeneral((PsiClass)element))   return false;
  PsiClass contextClass=PLACE_CLASS.getValue(location);
  if (contextClass == null) {
    return false;
  }
  final PsiElement position=location.getPosition();
  if (position == null) {
    return false;
  }
  PsiClass placeClass=findPlaceClass(element,position);
  if (placeClass == null)   return false;
  while (contextClass != null) {
    PsiClass elementClass=placeClass;
    while (elementClass != null) {
      if (contextClass.isInheritor(elementClass,true))       return true;
      elementClass=elementClass.getContainingClass();
    }
    contextClass=contextClass.getContainingClass();
  }
  return false;
}
