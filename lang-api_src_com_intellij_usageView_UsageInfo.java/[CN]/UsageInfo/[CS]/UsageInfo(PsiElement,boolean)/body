{
  LOG.assertTrue(element.isValid());
  element=element.getNavigationElement();
  mySmartPointer=SmartPointerManager.getInstance(element.getProject()).createSmartPsiElementPointer(element);
  myVirtualFile=element.getContainingFile().getVirtualFile();
  TextRange range=element.getTextRange();
  if (range == null) {
    LOG.error("text range null for " + element + "; "+ element.getClass());
  }
  startOffset=element.getTextOffset() - range.getStartOffset();
  endOffset=range.getEndOffset() - range.getStartOffset();
  this.isNonCodeUsage=isNonCodeUsage;
}
