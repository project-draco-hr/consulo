{
  final File directory=cvsFileSystem.getAdminFileSystem().getFile(directoryObject);
  File rootFile;
  String repositoryDirs="";
  File dirFile=directory;
  while (true) {
    if (dirFile == null || dirFile.getName().length() == 0 || !dirFile.exists()) {
      throw new FileNotFoundException(SmartCvsSrcBundle.message("root.file.not.found.for.directory.err.rmessage",directory));
    }
    rootFile=new File(dirFile,CVS_ROOT_FILE_PATH);
    if (rootFile.exists()) {
      break;
    }
    repositoryDirs='/' + dirFile.getName() + repositoryDirs;
    dirFile=dirFile.getParentFile();
  }
  return FileUtils.readLineFromFile(rootFile).trim();
}
