{
  final File directory=cvsFileSystem.getAdminFileSystem().getFile(directoryObject);
  File repositoryFile;
  String repositoryDirs="";
  File dirFile=directory;
  while (true) {
    if (dirFile == null || dirFile.getName().length() == 0 || !dirFile.exists()) {
      throw new FileNotFoundException("Repository file not found for directory " + directory);
    }
    repositoryFile=new File(dirFile,"CVS/Repository");
    if (repositoryFile.exists()) {
      break;
    }
    repositoryDirs='/' + dirFile.getName() + repositoryDirs;
    dirFile=dirFile.getParentFile();
  }
  String fileRepository=FileUtils.readLineFromFile(repositoryFile);
  if (fileRepository == null) {
    fileRepository="";
  }
  fileRepository+=repositoryDirs;
  if (fileRepository.startsWith("/")) {
    return fileRepository;
  }
  return FileUtils.ensureTrailingSlash(repository) + fileRepository;
}
