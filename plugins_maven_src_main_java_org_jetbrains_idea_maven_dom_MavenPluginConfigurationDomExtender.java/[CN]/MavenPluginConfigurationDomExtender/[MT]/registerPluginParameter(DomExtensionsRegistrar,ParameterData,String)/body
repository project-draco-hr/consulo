{
  DomExtension e;
  if (isCollection(data.parameter)) {
    e=r.registerFixedNumberChildExtension(new XmlName(parameterName),MavenDomConfigurationParameter.class);
    e.addExtender(new DomExtender(){
      public void registerExtensions(      @NotNull DomElement domElement,      @NotNull DomExtensionsRegistrar registrar){
        for (        String each : collectPossibleNameForCollectionParameter(parameterName)) {
          DomExtension inner=registrar.registerCollectionChildrenExtension(new XmlName(each),MavenDomConfigurationParameter.class);
          inner.putUserData(DomExtension.KEY_DECLARATION,data.parameter);
        }
      }
    }
);
  }
 else {
    e=r.registerFixedNumberChildExtension(new XmlName(parameterName),MavenDomConfigurationParameter.class);
    addValueConverter(e,data.parameter);
    addRequiredAnnotation(e,data);
  }
  e.putUserData(DomExtension.KEY_DECLARATION,data.parameter);
  data.parameter.getXmlElement().putUserData(PLUGIN_PARAMETER_KEY,data);
}
