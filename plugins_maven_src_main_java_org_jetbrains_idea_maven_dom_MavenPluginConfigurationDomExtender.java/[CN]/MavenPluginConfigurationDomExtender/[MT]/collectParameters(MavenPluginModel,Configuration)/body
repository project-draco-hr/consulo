{
  List<String> selectedGoals=null;
  PluginExecution executionElement=config.getParentOfType(PluginExecution.class,false);
  if (executionElement != null) {
    selectedGoals=new ArrayList<String>();
    for (    GenericDomValue<String> goal : executionElement.getGoals().getGoals()) {
      selectedGoals.add(goal.getStringValue());
    }
  }
  Map<String,Parameter> namesWithParameters=new HashMap<String,Parameter>();
  for (  Mojo eachMojo : pluginModel.getMojos().getMojos()) {
    String goal=eachMojo.getGoal().getStringValue();
    if (goal == null)     continue;
    if (selectedGoals == null || selectedGoals.contains(goal)) {
      for (      Parameter eachParameter : eachMojo.getParameters().getParameters()) {
        if (!eachParameter.getEditable().getValue())         continue;
        String name=eachParameter.getName().getStringValue();
        if (name == null)         continue;
        if (namesWithParameters.containsKey(name))         continue;
        namesWithParameters.put(name,eachParameter);
      }
    }
  }
  return namesWithParameters.values();
}
