{
  DomExtension e;
  if (isCollection(parameter)) {
    e=r.registerFixedNumberChildExtension(new XmlName(parameterName),MavenDomConfigurationParameter.class);
    e.addExtender(new DomExtender(){
      public void registerExtensions(      @NotNull DomElement domElement,      @NotNull DomExtensionsRegistrar registrar){
        for (        String each : collectPossibleNameForCollectionParameter(parameterName)) {
          DomExtension inner=registrar.registerCollectionChildrenExtension(new XmlName(each),MavenDomConfigurationParameter.class);
          inner.putUserData(DomExtension.KEY_DECLARATION,parameter);
        }
      }
    }
);
  }
 else {
    e=r.registerFixedNumberChildExtension(new XmlName(parameterName),MavenDomConfigurationParameter.class);
    addValueConverter(e,parameter);
    addRequiredAnnotation(e,parameter);
  }
  e.putUserData(DomExtension.KEY_DECLARATION,parameter);
  parameter.getXmlElement().putUserData(PLUGIN_PARAMETER_KEY,parameter);
}
