{
  if (ourLock == null) {
    ourLock=new SocketLock();
  }
  SocketLock.ActivateStatus activateStatus=ourLock.lock(PathManager.getConfigPath(false),true,args);
  if (activateStatus == SocketLock.ActivateStatus.NO_INSTANCE) {
    activateStatus=ourLock.lock(PathManager.getSystemPath(),false);
  }
  if (activateStatus != SocketLock.ActivateStatus.NO_INSTANCE) {
    if (isHeadless()) {
      System.out.println("Only one instance of " + ApplicationNamesInfo.getInstance().getFullProductName() + " can be run at a time.");
      return false;
    }
    if (activateStatus == SocketLock.ActivateStatus.CANNOT_ACTIVATE) {
      JOptionPane.showMessageDialog(JOptionPane.getRootFrame(),"Only one instance of " + ApplicationNamesInfo.getInstance().getFullProductName() + " can be run at a time.","Error",JOptionPane.INFORMATION_MESSAGE);
    }
    return false;
  }
  return true;
}
