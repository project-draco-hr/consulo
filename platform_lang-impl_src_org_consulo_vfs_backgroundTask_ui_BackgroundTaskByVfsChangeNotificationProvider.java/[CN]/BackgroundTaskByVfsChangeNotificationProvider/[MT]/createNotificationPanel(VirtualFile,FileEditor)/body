{
  final PsiFile psiFile=PsiManager.getInstance(myProject).findFile(file);
  if (psiFile == null) {
    return null;
  }
  VirtualFile virtualFile=psiFile.getVirtualFile();
  if (virtualFile == null) {
    return null;
  }
  BackgroundTaskByVfsChangeProvider changeProvider=BackgroundTaskByVfsChangeProvider.EP.forFileType(psiFile.getFileType());
  if (changeProvider == null || !changeProvider.validate(myProject,virtualFile)) {
    return null;
  }
  return createPanel(myProject,virtualFile,changeProvider);
}
