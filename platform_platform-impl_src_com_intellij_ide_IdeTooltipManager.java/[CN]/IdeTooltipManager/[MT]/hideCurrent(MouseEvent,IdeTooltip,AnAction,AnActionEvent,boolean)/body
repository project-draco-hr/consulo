{
  if (myCurrentTooltip != null && me != null && myCurrentTooltip.isInside(RelativePoint.fromScreen(me.getLocationOnScreen()))) {
    if (me.getButton() == MouseEvent.NOBUTTON || myCurrentTipUi == null || myCurrentTipUi.isBlockClicks()) {
      return false;
    }
  }
  myShowRequest=null;
  myQueuedComponent=null;
  myQueuedTooltip=null;
  if (myCurrentTooltip == null)   return true;
  if (myCurrentTipUi != null) {
    RelativePoint target=me != null ? new RelativePoint(me) : null;
    boolean isInside=target != null && myCurrentTipUi.isInside(target);
    boolean isMovingForward=target != null && myCurrentTipUi.isMovingForward(target);
    boolean canAutoHide=myCurrentTooltip.canAutohideOn(new TooltipEvent(me,isInside || isMovingForward,action,event));
    boolean implicitMouseMove=me != null && (me.getID() == MouseEvent.MOUSE_MOVED || me.getID() == MouseEvent.MOUSE_EXITED || me.getID() == MouseEvent.MOUSE_ENTERED);
    if (!canAutoHide || (myCurrentTooltip.isExplicitClose() && implicitMouseMove) || (tooltipToShow != null && !tooltipToShow.isHint() && Comparing.equal(myCurrentTooltip,tooltipToShow))) {
      if (myHideRunnable != null) {
        myHideRunnable=null;
      }
      return false;
    }
  }
  myHideRunnable=new Runnable(){
    @Override public void run(){
      if (myHideRunnable != null) {
        hideCurrentNow(animationEnabled);
        myHideRunnable=null;
      }
    }
  }
;
  if (me != null && me.getButton() == MouseEvent.NOBUTTON) {
    myAlarm.addRequest(myHideRunnable,Registry.intValue("ide.tooltip.autoDismissDeadZone"));
  }
 else {
    myHideRunnable.run();
    myHideRunnable=null;
  }
  return true;
}
