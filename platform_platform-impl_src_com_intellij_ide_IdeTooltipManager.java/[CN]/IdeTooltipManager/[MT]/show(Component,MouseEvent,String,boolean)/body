{
  if (myCurrentComponent != c || !c.isShowing())   return;
  myTipLabel.setText(tooltipText);
  Color bg=new Color(100,100,100,230);
  BalloonBuilder builder=myPopupFactory.createBalloonBuilder(myTipLabel).setPreferredPosition(Balloon.Position.above).setFillColor(bg).setBorderColor(bg).setAnimationCycle(150).setShowCallout(true);
  myTipLabel.setForeground(Color.white);
  myTipLabel.setBorder(new EmptyBorder(0,2,0,2));
  Font font=UIManager.getFont("Label.font");
  myTipLabel.setFont(font.deriveFont(Font.PLAIN,font.getSize() - 2));
  myCurrentTip=builder.createBalloon();
  boolean toCenterX;
  boolean toCenterY;
  if (!toCenter) {
    Dimension size=c.getSize();
    toCenterX=size.width < 64;
    toCenterY=size.height < 64;
    toCenter=toCenterX || toCenterY;
  }
 else {
    toCenterX=true;
    toCenterY=true;
  }
  Point point=new Point(myX,myY);
  if (toCenter) {
    Rectangle bounds=e.getComponent().getBounds();
    point.x=toCenterX ? bounds.width / 2 : point.x;
    point.y=toCenterY ? (bounds.height / 2 - (bounds.height / 5)) : point.y;
  }
  myCurrentTip.show(new RelativePoint(c,point),Balloon.Position.above);
}
