{
  if (type == null)   return false;
  if (!type.isValid())   return false;
  if (type instanceof PsiClassType) {
    final PsiClassType psiClassType=(PsiClassType)type;
    if (psiClassType.resolve() == null)     return false;
    final PsiType[] types=psiClassType.getParameters();
    for (    PsiType paramType : types) {
      if (paramType instanceof PsiPrimitiveType || (paramType instanceof PsiWildcardType && ((PsiWildcardType)paramType).getBound() instanceof PsiPrimitiveType))       return false;
      if (!checkType(paramType))       return false;
    }
  }
  if (type instanceof PsiArrayType) {
    return checkType(type.getDeepComponentType());
  }
  return true;
}
