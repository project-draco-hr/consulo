{
  ControlFlowContext context=createContext(element,evaluateConstantIfCondition,policy);
  Reference<ControlFlow> reference=flows.get(context);
  ControlFlow flow=reference == null ? null : reference.get();
  if (flow == null) {
    myLock.lock();
    try {
      flow=new ControlFlowAnalyzer(element,policy,enableShortCircuit,evaluateConstantIfCondition).buildControlFlow();
      flows.put(context,new SoftReference<ControlFlow>(flow));
    }
  finally {
      myLock.unlock();
    }
  }
  return flow;
}
