{
  ControlFlowContext context=createContext(element,evaluateConstantIfCondition,policy);
  ControlFlow flow=flows.get(context);
  if (flow == null) {
    myLock.lock();
    try {
      flow=new ControlFlowAnalyzer(element,policy,enableShortCircuit,evaluateConstantIfCondition).buildControlFlow();
      flows.put(context,flow);
    }
  finally {
      myLock.unlock();
    }
  }
  return flow;
}
