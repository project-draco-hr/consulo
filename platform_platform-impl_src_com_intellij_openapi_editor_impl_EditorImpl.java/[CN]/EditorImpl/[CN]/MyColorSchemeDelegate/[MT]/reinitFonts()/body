{
  EditorColorsScheme delegate=getDelegate();
  String editorFontName=getEditorFontName();
  int editorFontSize=getEditorFontSize();
  updatePreferences(myFontPreferences,editorFontName,editorFontSize,delegate == null ? null : delegate.getFontPreferences());
  String consoleFontName=getConsoleFontName();
  int consoleFontSize=getConsoleFontSize();
  updatePreferences(myConsoleFontPreferences,consoleFontName,consoleFontSize,delegate == null ? null : delegate.getConsoleFontPreferences());
  myFontsMap=new EnumMap<EditorFontType,Font>(EditorFontType.class);
  myFontsMap.put(EditorFontType.PLAIN,new Font(editorFontName,Font.PLAIN,editorFontSize));
  myFontsMap.put(EditorFontType.BOLD,new Font(editorFontName,Font.BOLD,editorFontSize));
  myFontsMap.put(EditorFontType.ITALIC,new Font(editorFontName,Font.ITALIC,editorFontSize));
  myFontsMap.put(EditorFontType.BOLD_ITALIC,new Font(editorFontName,Font.BOLD | Font.ITALIC,editorFontSize));
  myFontsMap.put(EditorFontType.CONSOLE_PLAIN,new Font(consoleFontName,Font.PLAIN,consoleFontSize));
  myFontsMap.put(EditorFontType.CONSOLE_BOLD,new Font(consoleFontName,Font.BOLD,consoleFontSize));
  myFontsMap.put(EditorFontType.CONSOLE_ITALIC,new Font(consoleFontName,Font.ITALIC,consoleFontSize));
  myFontsMap.put(EditorFontType.CONSOLE_BOLD_ITALIC,new Font(consoleFontName,Font.BOLD | Font.ITALIC,consoleFontSize));
}
