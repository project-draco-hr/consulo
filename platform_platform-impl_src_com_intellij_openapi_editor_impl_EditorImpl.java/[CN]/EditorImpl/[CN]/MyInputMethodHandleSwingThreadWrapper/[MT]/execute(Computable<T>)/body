{
  if (ApplicationManager.getApplication().isDispatchThread()) {
    return computable.compute();
  }
 else {
    final Ref<T> ref=Ref.create();
    try {
      GuiUtils.invokeAndWait(new Runnable(){
        @Override public void run(){
          ref.set(computable.compute());
        }
      }
);
    }
 catch (    InterruptedException e) {
      LOG.error(e);
    }
catch (    InvocationTargetException e) {
      LOG.error(e);
    }
    return ref.get();
  }
}
