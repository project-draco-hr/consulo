{
  if (myCount != 0) {
    if (myCurrentFontType != myFontType) {
      myCurrentFontType=myFontType;
      g.setFont(myFontType.getFont());
    }
    Color currentColor=null;
    int whiteSpaceStrokeWidth=JBUI.scale(1);
    BasicStroke whiteSpaceStroke=new BasicStroke(whiteSpaceStrokeWidth);
    for (int i=0; i < myCount; i++) {
      if (!Comparing.equal(color[i],currentColor)) {
        currentColor=color[i] != null ? color[i] : JBColor.black;
        g.setColor(currentColor);
      }
      drawChars(g,data[i],starts[i],ends[i],x[i],y[i],whitespaceShown[i],whiteSpaceStroke,whiteSpaceStrokeWidth);
      color[i]=null;
      data[i]=null;
    }
    myCount=0;
    myLastData=null;
  }
}
