{
  ScrollBarUI barUI=getUI();
  Insets insets=getInsets();
  if (barUI instanceof BasicScrollBarUI) {
    try {
      Field increaseButtonField=BasicScrollBarUI.class.getDeclaredField(INCREASE_BUTTON_FIELD);
      increaseButtonField.setAccessible(true);
      JButton increaseButtonValue=(JButton)increaseButtonField.get(barUI);
      LOG.assertTrue(increaseButtonValue != null);
      return insets.bottom + increaseButtonValue.getHeight();
    }
 catch (    Exception exc) {
      throw new IllegalStateException(exc.getMessage());
    }
  }
 else   if (APPLE_LAF_AQUA_SCROLL_BAR_UI_CLASS.equals(barUI.getClass().getName())) {
    return insets.bottom + 30;
  }
 else {
    return insets.bottom + 15;
  }
}
