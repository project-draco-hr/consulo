{
  if (myDocument.getLineCount() == 0)   return;
  int startLine=yPositionToVisibleLine(clip.y);
  int endLine=yPositionToVisibleLine(clip.y + clip.height) + 1;
  final MarkupModel docMarkup=myDocument.getMarkupModel(myProject);
  RangeHighlighter[] segmentHighlighters=docMarkup.getAllHighlighters();
  for (  RangeHighlighter segmentHighlighter : segmentHighlighters) {
    paintSegmentHighlighterAfterEndOfLine(g,(RangeHighlighterEx)segmentHighlighter,startLine,endLine);
  }
  segmentHighlighters=getMarkupModel().getAllHighlighters();
  for (  RangeHighlighter segmentHighlighter : segmentHighlighters) {
    paintSegmentHighlighterAfterEndOfLine(g,(RangeHighlighterEx)segmentHighlighter,startLine,endLine);
  }
}
