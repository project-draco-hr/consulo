{
  position.x=drawBackground(g,backColor,getSoftWrapModel().getMinDrawingWidthInPixels(SoftWrapDrawingType.BEFORE_SOFT_WRAP_LINE_FEED),position,defaultBackground,clip);
  CharSequence softWrapText=softWrap.getText();
  int start=0;
  for (int end=CharArrayUtil.shiftForwardUntil(softWrapText,start,"\n"); start < softWrapText.length() && end < softWrapText.length(); end=CharArrayUtil.shiftForwardUntil(softWrapText,start,"\n")) {
    drawBackground(g,backColor,softWrapText.subSequence(start,end),position,fontType,defaultBackground,clip);
    start=end + 1;
    position.x=0;
    position.y+=getLineHeight();
  }
  if (start < softWrapText.length()) {
    position.x=drawBackground(g,backColor,softWrapText.subSequence(start,softWrapText.length()),position,fontType,defaultBackground,clip);
  }
  position.x=drawBackground(g,backColor,getSoftWrapModel().getMinDrawingWidthInPixels(SoftWrapDrawingType.AFTER_SOFT_WRAP),position,defaultBackground,clip);
}
