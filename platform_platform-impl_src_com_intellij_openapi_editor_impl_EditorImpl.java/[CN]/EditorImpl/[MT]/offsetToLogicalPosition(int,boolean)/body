{
  if (myUseNewRendering)   return myView.offsetToLogicalPosition(offset);
  if (softWrapAware) {
    return mySoftWrapModel.offsetToLogicalPosition(offset);
  }
  int line=offsetToLogicalLine(offset);
  int column=calcColumnNumber(offset,line,false,myDocument.getImmutableCharSequence());
  return new LogicalPosition(line,column);
}
