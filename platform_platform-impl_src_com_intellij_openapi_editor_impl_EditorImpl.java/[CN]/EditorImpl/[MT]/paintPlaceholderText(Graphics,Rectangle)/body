{
  CharSequence hintText=myPlaceholderText;
  if (myDocument.getTextLength() > 0 || hintText == null || hintText.length() == 0) {
    return;
  }
  if (KeyboardFocusManager.getCurrentKeyboardFocusManager().getFocusOwner() == myEditorComponent) {
    myLastBackgroundColor=getBackgroundColor();
    myLastBackgroundPosition=new Point(0,0);
    myLastBackgroundWidth=myLastPaintedPlaceholderWidth;
    flushBackground(g,clip);
  }
 else {
    myLastPaintedPlaceholderWidth=drawString(g,CharArrayUtil.fromSequence(hintText),0,hintText.length(),new Point(0,0),clip,null,null,Font.PLAIN,myFoldingModel.getPlaceholderAttributes().getForegroundColor());
    flushCachedChars(g);
  }
}
