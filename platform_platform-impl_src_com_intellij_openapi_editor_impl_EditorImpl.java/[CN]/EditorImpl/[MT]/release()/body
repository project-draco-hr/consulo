{
  assertIsDispatchThread();
  if (isReleased) {
    throwDisposalError("Double release of editor:");
  }
  myTraceableDisposable.kill(null);
  isReleased=true;
  clearSettingsCache();
  mySizeAdjustmentStrategy.cancelAllRequests();
  myFoldingModel.dispose();
  mySoftWrapModel.release();
  myMarkupModel.dispose();
  myScrollingModel.dispose();
  myGutterComponent.dispose();
  myMousePressedEvent=null;
  myMouseMovedEvent=null;
  Disposer.dispose(myCaretModel);
  Disposer.dispose(mySoftWrapModel);
  if (myUseNewRendering)   Disposer.dispose(myView);
  clearCaretThread();
  myFocusListeners.clear();
  myMouseListeners.clear();
  myMouseMotionListeners.clear();
  myEditorComponent.removeMouseListener(myMouseListener);
  myGutterComponent.removeMouseListener(myMouseListener);
  myEditorComponent.removeMouseMotionListener(myMouseMotionListener);
  myGutterComponent.removeMouseMotionListener(myMouseMotionListener);
  if (myBulkUpdateListener != null) {
    ((DocumentImpl)myDocument).removeInternalBulkModeListener(myBulkUpdateListener);
  }
  if (myDocument instanceof DocumentImpl && !myUseNewRendering) {
    ((DocumentImpl)myDocument).giveUpTabTracking();
  }
  Disposer.dispose(myDisposable);
}
