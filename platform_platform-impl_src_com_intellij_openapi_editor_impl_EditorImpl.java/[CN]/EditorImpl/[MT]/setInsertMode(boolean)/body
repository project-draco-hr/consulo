{
  assertIsDispatchThread();
  boolean oldValue=myIsInsertMode;
  myIsInsertMode=mode;
  myPropertyChangeSupport.firePropertyChange(PROP_INSERT_MODE,oldValue,mode);
  if (myCaretModel.supportsMultipleCarets()) {
    myCaretCursor.repaint();
  }
 else {
    LogicalPosition caretPosition=getCaretModel().getLogicalPosition();
    getCaretModel().moveToLogicalPosition(caretPosition);
  }
}
