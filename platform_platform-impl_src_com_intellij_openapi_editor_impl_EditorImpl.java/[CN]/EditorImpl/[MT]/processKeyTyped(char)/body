{
  IdeEventQueue queue=IdeEventQueue.getInstance();
  if (queue.shouldNotTypeInEditor() || ProgressManager.getInstance().hasModalProgressIndicator()) {
    return false;
  }
  FileDocumentManager manager=FileDocumentManager.getInstance();
  if (manager != null) {
    final VirtualFile file=manager.getFile(myDocument);
    if (file != null && !file.isValid()) {
      return false;
    }
  }
  ActionManagerEx actionManager=ActionManagerEx.getInstanceEx();
  DataContext dataContext=getDataContext();
  actionManager.fireBeforeEditorTyping(c,dataContext);
  EditorActionManager.getInstance().getTypedAction().actionPerformed(this,c,dataContext);
  return true;
}
