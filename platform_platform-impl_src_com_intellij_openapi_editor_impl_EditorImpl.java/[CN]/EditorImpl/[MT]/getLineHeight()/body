{
  assertReadAccess();
  int lineHeight=myLineHeight;
  if (lineHeight == -1) {
    FontMetrics fontMetrics=myEditorComponent.getFontMetrics(myScheme.getFont(EditorFontType.PLAIN));
    lineHeight=(int)(fontMetrics.getHeight() * (isOneLineMode() ? 1 : myScheme.getLineSpacing()));
    if (lineHeight == 0) {
      lineHeight=fontMetrics.getHeight();
      if (lineHeight == 0) {
        lineHeight=12;
      }
    }
    myLineHeight=lineHeight;
  }
  return lineHeight;
}
