{
  if (e.getSource() == myGutterComponent) {
    FoldRegion foldingAtCursor=myGutterComponent.findFoldingAnchorAt(e.getX(),e.getY());
    myGutterComponent.setActiveFoldRegion(foldingAtCursor);
    if (foldingAtCursor != null) {
      myGutterComponent.setCursor(Cursor.getPredefinedCursor(Cursor.HAND_CURSOR));
    }
 else {
      myGutterComponent.setCursor(Cursor.getPredefinedCursor(Cursor.DEFAULT_CURSOR));
    }
  }
 else {
    myGutterComponent.setActiveFoldRegion(null);
    if (getSelectionModel().hasSelection() && (e.getModifiersEx() & (InputEvent.BUTTON1_DOWN_MASK | InputEvent.BUTTON2_DOWN_MASK)) == 0) {
      int offset=logicalPositionToOffset(xyToLogicalPosition(e.getPoint()));
      if (getSelectionModel().getSelectionStart() <= offset && offset < getSelectionModel().getSelectionEnd()) {
        myEditorComponent.setCursor(Cursor.getPredefinedCursor(Cursor.DEFAULT_CURSOR));
        return;
      }
    }
    myEditorComponent.setCursor(Cursor.getPredefinedCursor(Cursor.TEXT_CURSOR));
  }
}
