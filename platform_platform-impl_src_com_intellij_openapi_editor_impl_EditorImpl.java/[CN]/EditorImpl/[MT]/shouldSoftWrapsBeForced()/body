{
  if (mySettings.isUseSoftWraps() || myProject != null && PsiDocumentManager.getInstance(myProject).isDocumentBlockedByPsi(myDocument)) {
    return false;
  }
  int lineWidthLimit=Registry.intValue("editor.soft.wrap.force.limit");
  for (int i=0; i < myDocument.getLineCount(); i++) {
    if (myDocument.getLineEndOffset(i) - myDocument.getLineStartOffset(i) > lineWidthLimit) {
      return true;
    }
  }
  return false;
}
