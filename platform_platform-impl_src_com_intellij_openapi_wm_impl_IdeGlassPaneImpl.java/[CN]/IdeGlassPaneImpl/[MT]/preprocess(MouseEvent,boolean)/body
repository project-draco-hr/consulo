{
  try {
    final MouseEvent event=convertEvent(e,myRootPane);
    for (    EventListener each : myMouseListeners) {
      if (motion && each instanceof MouseMotionListener) {
        fireMouseMotion((MouseMotionListener)each,event);
      }
 else       if (!motion && each instanceof MouseListener) {
        fireMouseEvent((MouseListener)each,event);
      }
      if (event.isConsumed()) {
        e.consume();
        return true;
      }
    }
    return false;
  }
  finally {
    Cursor cursor;
    if (!myListener2Cursor.isEmpty()) {
      cursor=myListener2Cursor.values().iterator().next();
      final Point point=SwingUtilities.convertPoint(e.getComponent(),e.getPoint(),myRootPane.getContentPane());
      final Component target=SwingUtilities.getDeepestComponentAt(myRootPane.getContentPane().getParent(),point.x,point.y);
      restoreLastComponent(target);
      if (target != null) {
        if (myLastCursorComponent != target) {
          myLastCursorComponent=target;
          if (target.isCursorSet()) {
            myLastOriginalCursor=target.getCursor();
          }
        }
        if (cursor != null && !cursor.equals(target.getCursor())) {
          target.setCursor(cursor);
        }
      }
      getRootPane().setCursor(cursor);
    }
 else {
      cursor=Cursor.getDefaultCursor();
      getRootPane().setCursor(cursor);
      restoreLastComponent(null);
      myLastOriginalCursor=null;
      myLastCursorComponent=null;
    }
    myListener2Cursor.clear();
  }
}
