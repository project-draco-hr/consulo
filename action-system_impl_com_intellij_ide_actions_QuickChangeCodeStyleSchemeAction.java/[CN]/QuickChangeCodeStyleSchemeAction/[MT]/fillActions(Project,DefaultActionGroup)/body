{
  final CodeStyleSettingsManager manager=CodeStyleSettingsManager.getInstance(project);
  if (manager.PER_PROJECT_SETTINGS != null) {
    group.add(new AnAction("<project>","",manager.USE_PER_PROJECT_SETTINGS ? ourCurrentAction : ourNotCurrentAction){
      public void actionPerformed(      AnActionEvent e){
        manager.USE_PER_PROJECT_SETTINGS=true;
      }
    }
);
  }
  final CodeStyleScheme[] schemes=CodeStyleSchemes.getInstance().getSchemes();
  final CodeStyleScheme currentScheme=CodeStyleSchemes.getInstance().getCurrentScheme();
  for (int i=0; i < schemes.length; i++) {
    final CodeStyleScheme scheme=schemes[i];
    group.add(new AnAction(scheme.getName(),"",scheme == currentScheme && !manager.USE_PER_PROJECT_SETTINGS ? ourCurrentAction : ourNotCurrentAction){
      public void actionPerformed(      AnActionEvent e){
        CodeStyleSchemes.getInstance().setCurrentScheme(scheme);
        manager.USE_PER_PROJECT_SETTINGS=false;
        EditorFactory.getInstance().refreshAllEditors();
      }
    }
);
  }
}
