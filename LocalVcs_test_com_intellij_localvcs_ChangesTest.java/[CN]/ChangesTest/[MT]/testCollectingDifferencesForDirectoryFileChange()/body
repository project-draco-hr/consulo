{
  root.doCreateDirectory(1,p("dir1"));
  root.doCreateDirectory(2,p("dir2"));
  Change c=new CreateDirectoryChange(3,p("dir2/dir3"));
  c.applyTo(root);
  List<Difference> d1=c.getDifferences(root,root.getEntry(p("dir1")));
  assertTrue(d1.isEmpty());
  List<Difference> d2=c.getDifferences(root,root.getEntry(p("dir2")));
  assertEquals(1,d2.size());
  assertTrue(d2.get(0).isCreated());
  List<Difference> d3=c.getDifferences(root,root.getEntry(p("dir2/dir3")));
  assertEquals(1,d3.size());
  assertTrue(d3.get(0).isCreated());
}
