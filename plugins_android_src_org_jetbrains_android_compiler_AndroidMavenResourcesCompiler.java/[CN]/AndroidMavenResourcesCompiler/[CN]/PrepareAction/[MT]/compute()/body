{
  if (myContext.getProject().isDisposed()) {
    return EMPTY_GENERATION_ITEM_ARRAY;
  }
  Module[] modules=myContext.getCompileScope().getAffectedModules();
  List<GenerationItem> items=new ArrayList<GenerationItem>();
  for (  Module module : modules) {
    MavenProjectsManager mavenProjectsManager=MavenProjectsManager.getInstance(myContext.getProject());
    if (mavenProjectsManager != null && mavenProjectsManager.isMavenizedModule(module)) {
      AndroidFacet facet=AndroidFacet.getInstance(module);
      if (facet != null && facet.getConfiguration().COPY_RESOURCES_FROM_ARTIFACTS) {
        Manifest manifest=facet.getManifest();
        String aPackage=manifest != null ? manifest.getPackage().getValue() : null;
        if (aPackage != null) {
          MavenProject mavenProject=mavenProjectsManager.findProject(module);
          if (mavenProject != null) {
            items.add(new MyGenerationItem(module,aPackage,mavenProject.getGeneratedSourcesDirectory(false) + "/r"));
          }
        }
      }
    }
  }
  return items.toArray(new GenerationItem[items.size()]);
}
