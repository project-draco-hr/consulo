{
  List<GenerationItem> results=new ArrayList<GenerationItem>(items.length);
  for (  GenerationItem item : items) {
    if (item instanceof MyGenerationItem) {
      final MyGenerationItem genItem=(MyGenerationItem)item;
      if (!AndroidCompileUtil.isModuleAffected(context,genItem.myModule)) {
        continue;
      }
      Map<CompilerMessageCategory,List<String>> messages=AndroidMavenExecutor.generateResources(genItem.myModule);
      AndroidCompileUtil.addMessages(context,messages,genItem.myModule);
      if (messages.get(CompilerMessageCategory.ERROR).isEmpty()) {
        results.add(genItem);
      }
      if (genItem.myGeneratedFile.exists()) {
        ApplicationManager.getApplication().runReadAction(new Runnable(){
          public void run(){
            String className=FileUtil.getNameWithoutExtension(genItem.myGeneratedFile);
            AndroidCompileUtil.removeDuplicatingClasses(genItem.myModule,genItem.myPackage,className,genItem.myGeneratedFile,genItem.mySourceRootPath);
          }
        }
);
      }
    }
  }
  return results.toArray(new GenerationItem[results.size()]);
}
