{
  final CompositeOperation compositeOperaton=new CompositeOperation();
  final CvsEntriesManager entriesManager=CvsEntriesManager.getInstance();
  for (  CvsLightweightFile cvsLightweightFile : cvsLightweightFiles) {
    final File root=cvsLightweightFile.getRoot();
    File workingDirectory=root;
    if (workingDirectory == null)     continue;
    if (cvsLightweightFile.getLocalFile().getParentFile().equals(workingDirectory)) {
      workingDirectory=workingDirectory.getParentFile();
    }
    final String alternativeCheckoutPath=getAlternativeCheckoutPath(cvsLightweightFile,workingDirectory);
    final CheckoutProjectOperation checkoutFileOperation=new CheckoutProjectOperation(new String[]{cvsLightweightFile.getModuleName()},entriesManager.getCvsConnectionSettingsFor(root),makeNewFilesReadOnly,workingDirectory,alternativeCheckoutPath,true,null);
    compositeOperaton.addOperation(checkoutFileOperation);
  }
  return new CommandCvsHandler(CvsBundle.message("action.name.get.file.from.repository"),compositeOperaton,FileSetToBeUpdated.allFiles(),true);
}
