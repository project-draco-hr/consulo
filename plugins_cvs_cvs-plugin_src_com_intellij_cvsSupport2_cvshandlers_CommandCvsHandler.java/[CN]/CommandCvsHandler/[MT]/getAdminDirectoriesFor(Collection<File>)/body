{
  final Collection<VirtualFile> result=new HashSet<VirtualFile>();
  for (  File file : files) {
    final File parentFile=file.getParentFile();
    final VirtualFile cvsAdminDirectory=CvsVfsUtil.findFileByIoFile(new File(parentFile,CvsUtil.CVS));
    if (cvsAdminDirectory != null)     result.add(cvsAdminDirectory);
  }
  return VfsUtilCore.toVirtualFileArray(result);
}
