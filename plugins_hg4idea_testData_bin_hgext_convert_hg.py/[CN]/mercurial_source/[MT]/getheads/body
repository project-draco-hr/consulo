def getheads(self):
    if self.rev:
        heads = [self.repo[self.rev].node()]
    else:
        heads = self.repo.heads()
    return [hex(h) for h in heads if self.keep(h)]
