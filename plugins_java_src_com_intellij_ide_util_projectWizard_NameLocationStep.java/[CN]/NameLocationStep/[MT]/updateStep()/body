{
  super.updateStep();
  if (!myFirstTimeInitializationDone) {
    if (myWizardContext.isCreatingNewProject()) {
      setSyncEnabled(false);
    }
 else {
      final VirtualFile baseDir=myWizardContext.getProject().getBaseDir();
      final String projectFileDirectory=baseDir != null ? VfsUtil.virtualToIoFile(baseDir).getPath() : null;
      if (projectFileDirectory != null) {
        final String name=ProjectWizardUtil.findNonExistingFileName(projectFileDirectory,suggestModuleName(myBuilder.getModuleType()),"");
        setModuleName(name);
        setContentEntryPath(projectFileDirectory + File.separatorChar + name);
      }
    }
  }
  if (myWizardContext.isCreatingNewProject()) {
    if (!isPathChangedByUser()) {
      setContentEntryPath(myWizardContext.getProjectFileDirectory().replace('/',File.separatorChar));
    }
    if (!isNameChangedByUser()) {
      setModuleName(myWizardContext.getProjectName());
    }
  }
  if (!myFirstTimeInitializationDone) {
    myNamePathComponent.getNameComponent().selectAll();
  }
  myFirstTimeInitializationDone=true;
}
