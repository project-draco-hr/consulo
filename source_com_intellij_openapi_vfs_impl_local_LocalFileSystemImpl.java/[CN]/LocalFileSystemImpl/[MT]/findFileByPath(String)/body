{
  if (File.separatorChar == '\\') {
    if (path.indexOf('\\') >= 0)     return null;
  }
  VirtualFile file=findFileByPath(path,true,false);
  if (file == null) {
    String canonicalPath=getCanonicalPath(new File(path.replace('/',File.separatorChar)));
    if (canonicalPath == null)     return null;
    String path1=canonicalPath.replace(File.separatorChar,'/');
    if (!path.equals(path1)) {
      return findFileByPath(path1,true,false);
    }
  }
  return file;
}
