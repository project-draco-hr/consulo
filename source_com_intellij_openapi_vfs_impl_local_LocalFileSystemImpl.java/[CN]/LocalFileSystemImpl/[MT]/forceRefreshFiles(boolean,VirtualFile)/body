{
  if (files.length == 0)   return;
  final Runnable runnable=new Runnable(){
    public void run(){
      final ModalityState modalityState=VirtualFileManagerImpl.calcModalityStateForRefreshEventsPosting(asynchronous);
      getManager().beforeRefreshStart(asynchronous,modalityState,null);
      for (      VirtualFile file : files) {
        LOG.assertTrue(!file.isDirectory());
        ((VirtualFileImpl)file).refreshInternal(false,modalityState,true,asynchronous,false);
      }
      getManager().afterRefreshFinish(asynchronous,modalityState);
    }
  }
;
  if (asynchronous) {
    submitAsynchronousTask(runnable);
  }
 else {
    runnable.run();
  }
}
