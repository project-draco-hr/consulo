{
  LOG.assertTrue(rootFile != null);
  if (rootFile.getFileSystem() != this)   return null;
synchronized (LOCK) {
    if (rootFile instanceof VirtualFileImpl) {
      final WatchRequestImpl result=new WatchRequestImpl(rootFile,toWatchRecursively);
      if (myRootsToWatch.add(result)) {
        setUpFileWatcher();
      }
      return result;
    }
    return null;
  }
}
