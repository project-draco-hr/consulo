{
  LOG.assertTrue(rootFile != null);
  if (rootFile.getFileSystem() != this)   return null;
  if (!rootFile.isDirectory()) {
    rootFile=rootFile.getParent();
    toWatchRecursively=false;
  }
synchronized (LOCK) {
    if (rootFile instanceof VirtualFileImpl) {
      final WatchRequestImpl result=new WatchRequestImpl(rootFile,toWatchRecursively);
      myRootsToWatch.add(result);
      setUpFileWatcher();
      return result;
    }
    return null;
  }
}
