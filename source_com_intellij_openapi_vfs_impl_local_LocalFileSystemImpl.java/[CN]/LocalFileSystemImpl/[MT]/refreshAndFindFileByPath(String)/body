{
  ApplicationManager.getApplication().assertWriteAccessAllowed();
  VirtualFile file=findFileByPath(path);
  if (file != null)   return file;
  if (!new File(path.replace('/',File.separatorChar)).exists())   return null;
  String parentPath=getParentPath(path);
  if (parentPath == null)   return null;
  VirtualFile parent=refreshAndFindFileByPath(parentPath);
  if (parent == null)   return null;
  if (FileWatcher.isAvailable()) {
synchronized (myRefreshStatusMap) {
      if (myRefreshStatusMap.get(parent) == null) {
        myRefreshStatusMap.put(parent,DIRTY_STATUS);
      }
    }
  }
  parent.refresh(false,false);
  file=findFileByPath(path);
  return file;
}
