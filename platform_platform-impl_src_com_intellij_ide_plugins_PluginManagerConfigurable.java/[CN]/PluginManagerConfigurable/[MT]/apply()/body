{
  final String applyMessage=myPluginManagerMain.apply();
  if (applyMessage != null) {
    throw new ConfigurationException(applyMessage);
  }
  if (myPluginManagerMain.isRequireShutdown()) {
    final ApplicationEx app=ApplicationManagerEx.getApplicationEx();
    int response=app.isRestartCapable() ? showRestartIDEADialog() : showShutDownIDEADialog();
    if (response == Messages.YES) {
      app.restart(true);
    }
 else {
      myPluginManagerMain.ignoreChanges();
    }
  }
}
