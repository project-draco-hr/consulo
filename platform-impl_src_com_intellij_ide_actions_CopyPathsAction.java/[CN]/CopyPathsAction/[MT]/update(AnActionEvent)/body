{
  final Collection<VirtualFile> files=getFiles(event);
  final Presentation presentation=event.getPresentation();
  final boolean enabled=!files.isEmpty();
  presentation.setEnabled(enabled);
  if (ActionPlaces.isPopupPlace(event.getPlace())) {
    presentation.setVisible(enabled);
  }
 else {
    presentation.setVisible(true);
  }
  presentation.setText((files.size() == 1) ? IdeBundle.message("action.copy.path") : IdeBundle.message("action.copy.paths"));
}
