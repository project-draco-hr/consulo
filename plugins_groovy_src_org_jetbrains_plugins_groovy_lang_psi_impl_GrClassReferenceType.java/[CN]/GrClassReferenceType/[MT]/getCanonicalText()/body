{
  PsiClass resolved=resolve();
  if (resolved == null)   return null;
  if (resolved instanceof PsiTypeParameter)   return ((PsiTypeParameter)resolved).getName();
  final String qName=resolved.getQualifiedName();
  if (isRaw())   return qName;
  final PsiType[] typeArgs=myReferenceElement.getTypeArguments();
  if (typeArgs.length == 0)   return qName;
  StringBuilder builder=new StringBuilder();
  builder.append(qName).append("<");
  for (int i=0; i < typeArgs.length; i++) {
    if (i > 0)     builder.append(",");
    final String typeArgCanonical=typeArgs[i].getCanonicalText();
    if (typeArgCanonical != null) {
      builder.append(typeArgCanonical);
    }
 else {
      return null;
    }
  }
  builder.append(">");
  return builder.toString();
}
