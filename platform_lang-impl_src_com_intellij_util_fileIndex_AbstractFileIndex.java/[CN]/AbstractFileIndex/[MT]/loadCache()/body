{
  final File cacheFile=getCacheLocation(getCachesDirName());
  if (!cacheFile.exists())   return false;
  clearMaps();
  DataInputStream input=null;
  final ProgressIndicator indicator=getProgressIndicator();
  try {
    input=new DataInputStream(new BufferedInputStream(new FileInputStream(cacheFile)));
    int version=input.readByte();
    if (version != getCurrentVersion()) {
      return false;
    }
    if (indicator != null) {
      indicator.pushState();
      indicator.setText(getLoadingIndicesMessage());
    }
    readHeader(input);
    int size=input.readInt();
    for (int i=0; i < size; i++) {
      if (indicator != null) {
        indicator.setFraction(((double)i) / size);
      }
      final String url=input.readUTF();
      putIndexEntry(url,createIndexEntry(input));
    }
    if (indicator != null) {
      indicator.popState();
    }
    input.close();
    return true;
  }
 catch (  IOException e) {
    LOG.debug(e);
  }
 finally {
    if (input != null) {
      try {
        input.close();
      }
 catch (      IOException e1) {
      }
    }
  }
  return false;
}
