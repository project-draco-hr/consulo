{
  if (myRefreshCacheUpdater != null) {
    Disposer.dispose(myRefreshCacheUpdater);
  }
  if (myRootsChangeCacheUpdater != null) {
    ProjectRootManagerEx.getInstanceEx(myProject).unregisterRootsChangeUpdater(myRootsChangeCacheUpdater);
  }
  if (ApplicationManager.getApplication().isUnitTestMode()) {
    getCacheLocation(getCachesDirName()).delete();
  }
 else {
    saveCache();
  }
  clearMaps();
}
