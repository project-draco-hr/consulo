{
  if (myRefreshCacheUpdater != null) {
    myRefreshCacheUpdater.dispose();
  }
  if (myRootsChangeCacheUpdater != null) {
    ProjectRootManagerEx.getInstanceEx(myProject).unregisterChangeUpdater(myRootsChangeCacheUpdater);
  }
  if (ApplicationManager.getApplication().isUnitTestMode()) {
    getCacheLocation(getCachesDirName()).delete();
  }
 else {
    saveCache();
  }
  clearMaps();
}
