{
  List<VirtualFile> result=new SmartList<VirtualFile>();
  for (  ContentEntry contentEntry : getContent()) {
    final SourceFolder[] sourceFolders=contentEntry.getSourceFolders();
    for (    SourceFolder sourceFolder : sourceFolders) {
      final VirtualFile file=sourceFolder.getFile();
      if (file != null && (includingTests || !sourceFolder.isTestSource())) {
        result.add(file);
      }
    }
  }
  return VfsUtilCore.toVirtualFileArray(result);
}
