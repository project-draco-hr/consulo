{
  final GrReferenceExpression newExpr=createRefExpression(field,occurrence);
  final PsiElement replaced;
  if (occurrence instanceof GrExpression) {
    replaced=((GrExpression)occurrence).replaceWithExpression(newExpr,false);
  }
 else {
    replaced=occurrence.replace(newExpr);
  }
  if (replaced instanceof GrQualifiedReference<?>) {
    GrReferenceAdjuster.shortenReference((GrQualifiedReference<?>)replaced);
  }
}
