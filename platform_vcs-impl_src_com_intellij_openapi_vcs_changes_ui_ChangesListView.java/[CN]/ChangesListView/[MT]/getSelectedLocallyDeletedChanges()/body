{
  Set<LocallyDeletedChange> files=new HashSet<LocallyDeletedChange>();
  final TreePath[] paths=getSelectionPaths();
  if (paths != null) {
    for (    TreePath path : paths) {
      if (path.getPathCount() > 1) {
        ChangesBrowserNode firstNode=(ChangesBrowserNode)path.getPathComponent(1);
        if (firstNode.getUserObject() == TreeModelBuilder.LOCALLY_DELETED_NODE) {
          ChangesBrowserNode<?> node=(ChangesBrowserNode)path.getLastPathComponent();
          final List<LocallyDeletedChange> objectsUnder=node.getAllObjectsUnder(LocallyDeletedChange.class);
          files.addAll(objectsUnder);
        }
      }
    }
  }
  return new ArrayList<LocallyDeletedChange>(files);
}
