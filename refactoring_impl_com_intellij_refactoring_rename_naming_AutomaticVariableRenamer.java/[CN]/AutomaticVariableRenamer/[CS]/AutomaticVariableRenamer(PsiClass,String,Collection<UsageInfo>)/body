{
  for (  final UsageInfo info : usages) {
    final PsiElement element=info.getElement();
    if (!(element instanceof PsiJavaCodeReferenceElement))     continue;
    final PsiDeclarationStatement statement=PsiTreeUtil.getParentOfType(element,PsiDeclarationStatement.class);
    if (statement != null) {
      for (      PsiElement declaredElement : statement.getDeclaredElements()) {
        if (declaredElement instanceof PsiVariable) {
          checkRenameVariable(element,(PsiVariable)declaredElement);
        }
      }
    }
 else {
      PsiVariable variable=PsiTreeUtil.getParentOfType(element,PsiVariable.class);
      if (variable != null) {
        checkRenameVariable(element,variable);
        if (variable instanceof PsiField) {
          for (          PsiField field : getFieldsInSameDeclaration((PsiField)variable)) {
            checkRenameVariable(element,field);
          }
        }
      }
    }
  }
  suggestAllNames(aClass.getName(),newClassName);
}
