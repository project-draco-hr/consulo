def lookup(repo, req):
    try:
        r = hex(repo.lookup(req.form['key'][0]))
        success = 1
    except Exception as inst:
        r = str(inst)
        success = 0
    resp = ('%s %s\n' % (success, r))
    req.respond(HTTP_OK, HGTYPE, length=len(resp))
    yield resp
