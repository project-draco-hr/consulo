{
  if (clearCountOnStart != myClearCount.intValue() && result != null)   return;
  PsiElement element=result instanceof ResolveResult ? ((ResolveResult)result).getElement() : null;
  LOG.assertTrue(element == null || element.isValid(),result);
  int index=getIndex(physical,incompleteCode);
  Map<? super TRef,Reference<TResult>> map=maps[index];
  Reference<TResult> cached=map.get(ref);
  if (cached != null && cached.get() == result) {
    return;
  }
  map.put(ref,new SoftReference<TResult>(result));
}
