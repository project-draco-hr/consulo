{
  if (commentText == null) {
    FileType ftype=FileTypeUtil.getInstance().getFileTypeByFile(root);
    LanguageOptions opts=CopyrightManager.getInstance(project).getOptions().getMergedOptions(ftype.getName());
    String base=EntityUtil.decode(myCopyrightProfile.getNotice());
    if (base.isEmpty()) {
      commentText="";
    }
 else {
      String expanded=VelocityHelper.evaluate(manager.findFile(root),project,module,base);
      String cmt=FileTypeUtil.buildComment(root.getFileType(),expanded,opts);
      commentText=StringUtil.convertLineSeparators(prefix + cmt + suffix);
    }
  }
  return commentText;
}
