{
  if (mySignatureArea == null)   return;
  StringBuffer buffer=new StringBuffer();
  final String visibilityString=VisibilityUtil.getVisibilityString(myVisibilityPanel.getVisibility());
  buffer.append(visibilityString);
  if (buffer.length() > 0) {
    buffer.append(" ");
  }
  if (isMakeStatic()) {
    buffer.append("static ");
  }
  if (myTypeParameterList != null) {
    buffer.append(myTypeParameterList.getText());
    buffer.append(" ");
  }
  buffer.append(PsiFormatUtil.formatType(myReturnType,0,PsiSubstitutor.EMPTY));
  buffer.append(" ");
  buffer.append(myTfName.getText());
  buffer.append("(");
  int count=0;
  final String INDENT="    ";
  for (int idx=0; idx < myVariableData.length; idx++) {
    ParameterTablePanel.VariableData data=myVariableData[idx];
    if (data.passAsParameter) {
      String type=PsiManager.getInstance(myProject).getElementFactory().createTypeElement(data.variable.getType()).getText();
      if (count > 0) {
        buffer.append(",");
      }
      buffer.append("\n");
      buffer.append(INDENT);
      buffer.append(type);
      buffer.append(" ");
      buffer.append(data.name);
      count++;
    }
  }
  if (count > 0) {
    buffer.append("\n");
  }
  buffer.append(")");
  if (myExceptions.length > 0) {
    buffer.append("\n");
    buffer.append("throws\n");
    for (int i=0; i < myExceptions.length; i++) {
      PsiType exception=myExceptions[i];
      buffer.append(INDENT);
      buffer.append(PsiFormatUtil.formatType(exception,0,PsiSubstitutor.EMPTY));
      buffer.append("\n");
    }
  }
  mySignatureArea.setText(buffer.toString());
}
