{
  Map<String,TemplateGroup> result=new LinkedHashMap<String,TemplateGroup>();
  for (  TemplateImpl template : templates) {
    final String name=template.getGroupName();
    if (!result.containsKey(name)) {
      result.put(name,new TemplateGroup(name));
    }
    result.get(name).addTemplate(template);
  }
  return result.values();
}
