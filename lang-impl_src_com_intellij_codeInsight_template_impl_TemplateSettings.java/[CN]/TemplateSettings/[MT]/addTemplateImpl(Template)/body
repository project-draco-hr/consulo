{
  if (!myTemplates.containsKey(template.getKey()) && !myTemplatesById.containsKey(template.getId())) {
    myTemplates.put(template.getKey(),template);
    final String id=template.getId();
    if (id != null) {
      myTemplatesById.put(id,template);
    }
    myMaxKeyLength=Math.max(myMaxKeyLength,template.getKey().length());
  }
}
