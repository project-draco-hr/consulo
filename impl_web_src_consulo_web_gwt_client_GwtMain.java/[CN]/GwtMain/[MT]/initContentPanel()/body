{
  FlowPanel flowPanel=new FlowPanel();
  Command cmd=new Command(){
    @Override public void execute(){
    }
  }
;
  MenuBar fileMenu=new MenuBar(true);
  fileMenu.addItem("Settings",cmd);
  fileMenu.addItem("Project Structure",cmd);
  MenuBar menu=new MenuBar();
  menu.addItem("File",fileMenu);
  final EditorColorSchemeService schemeService=GwtUtil.get(EditorColorSchemeService.KEY);
  EditorColorSchemeListService listService=GwtUtil.get(EditorColorSchemeListService.KEY);
  MenuBar schemeMenu=new MenuBar(true);
  for (  final String schemeName : listService.getSchemes()) {
    schemeMenu.addItem(schemeName,new Command(){
      @Override public void execute(){
        schemeService.setScheme(schemeName);
      }
    }
);
  }
  menu.addItem("Scheme",schemeMenu);
  flowPanel.add(menu);
  consulo.web.gwt.client.ui.HorizontalSplitPanel splitPanel=new consulo.web.gwt.client.ui.HorizontalSplitPanel();
  splitPanel.setSplitPosition("20%");
  final DoubleClickTree tree=new DoubleClickTree();
  GwtUtil.rpc().getProjectInfo("ignored",new ReportableCallable<GwtProjectInfo>(){
    @Override public void onSuccess(    GwtProjectInfo result){
      addNodes(tree,null,result);
    }
  }
);
  splitPanel.setLeftWidget(tree);
  final EditorTabPanel tabPanel=new EditorTabPanel();
  splitPanel.setRightWidget(tabPanel);
  tree.addDoubleClickHandler(new DoubleClickTreeHandler(){
    @Override public void onDoubleClick(    DoubleClickTreeEvent event){
      TreeItem selectedItem=event.getItem();
      GwtVirtualFile virtualFile=(GwtVirtualFile)selectedItem.getUserObject();
      if (virtualFile.isDirectory()) {
        boolean state=selectedItem.getState();
        selectedItem.setState(!state);
        return;
      }
      tabPanel.openFileInEditor(virtualFile,-1);
    }
  }
);
  flowPanel.add(splitPanel);
  RootPanel.get().add(flowPanel);
}
