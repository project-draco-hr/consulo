{
  GwtVirtualFile targetFile=virtualFile != null ? virtualFile : projectInfo.getBaseDirectory();
  HorizontalPanel panel=new HorizontalPanel();
  panel.add(GwtUtil.icon(targetFile.getIconLayers()));
  String rightIcon=targetFile.getRightIcon();
  if (rightIcon != null) {
    Widget rightIconWidget=GwtUtil.icon(Arrays.asList(rightIcon));
    panel.add(rightIconWidget);
  }
  Label label=new Label(targetFile.getName());
  label.addStyleName("textAfterIcon18");
  if (projectInfo.getModuleDirectoryUrls().contains(targetFile.getUrl())) {
    label.addStyleName("bolded");
  }
  panel.add(label);
  SuperTreeItem item=new SuperTreeItem(panel,1);
  item.addStyleName("noselectable");
  item.setUserObject(targetFile);
  for (  GwtVirtualFile child : targetFile.getChildren()) {
    addNodes(item,child,projectInfo);
  }
  if (parent instanceof Tree) {
    item.setState(true);
  }
  parent.addItem(item);
}
