{
  final List<Element> children=parentNode.getChildren(getExtensionRootAttr());
  final Map<String,T> extensions=ContainerUtil.newHashMap();
  for (  T extension : getApplicableExtensions(configuration)) {
    extensions.put(extension.getSerializationId(),extension);
  }
  boolean found=true;
  for (  Object o : children) {
    final Element element=(Element)o;
    final String extensionName=element.getAttributeValue(getIdAttrName());
    final T extension=extensions.remove(extensionName);
    if (extension != null) {
      extension.readExternal(configuration,element);
    }
 else {
      found=false;
    }
  }
  if (!found) {
    List<Element> copy=new ArrayList<Element>(children.size());
    for (    Element child : children) {
      Element clone=(Element)child.clone();
      JDOMUtil.internElement(clone,myInterner);
      copy.add(clone);
    }
    configuration.putCopyableUserData(RUN_EXTENSIONS,copy);
  }
}
