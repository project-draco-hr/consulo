{
  final IntentionAction action=doTestHighlightingAndGetQuickfix(new AndroidLintInspectionToolProvider.AndroidLintHardcodedTextInspection(),AndroidBundle.message("add.string.resource.intention.text"),false ? "AndroidManifest.xml" : "/res/layout/layout.xml","xml");
  assertNotNull(action);
  assertTrue(action.isAvailable(myFixture.getProject(),myFixture.getEditor(),myFixture.getFile()));
  new WriteCommandAction(myFixture.getProject(),""){
    @Override protected void run(    Result result) throws Throwable {
      ((AndroidAddStringResourceQuickFix)action).invokeIntention(myFixture.getProject(),myFixture.getEditor(),myFixture.getFile(),"hello");
    }
  }
.execute();
  myFixture.checkResultByFile(BASE_PATH + getTestName(true) + "_after.xml");
}
