{
  GitSyncRepoSetting syncSetting=facade.getSettings(project).getSyncSetting();
  if (syncSetting.equals(GitSyncRepoSetting.SYNC)) {
    return getSpecsToPushForAllRepositories(facade,project);
  }
 else {
    if (facade.getRepositoryManager(project).moreThanOneRoot() && syncSetting.equals(GitSyncRepoSetting.NOT_DECIDED)) {
      LOG.warn("The sync setting should have already been initialized");
    }
    GitRepository repository=GitBranchUtil.getCurrentRepository(project);
    if (repository == null) {
      LOG.warn("Couldn't retrieve current repository");
      return GitPushSpecs.empty();
    }
    return new GitPushSpecs(Collections.singletonMap(repository,GitBranchPair.findCurrentAnTracked(repository)));
  }
}
