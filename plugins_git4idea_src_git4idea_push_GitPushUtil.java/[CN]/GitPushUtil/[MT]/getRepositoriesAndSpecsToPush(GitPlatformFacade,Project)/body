{
  GitSyncRepoSetting syncSetting=facade.getSettings(project).getSyncSetting();
  if (syncSetting.equals(GitSyncRepoSetting.SYNC)) {
    return getSpecsForAllRepositories(facade,project,null);
  }
 else {
    if (facade.getRepositoryManager(project).moreThanOneRoot() && syncSetting.equals(GitSyncRepoSetting.NOT_DECIDED)) {
      LOG.warn("The sync setting should have already been initialized");
    }
    GitRepository repository=GitBranchUtil.getCurrentRepository(project);
    if (repository == null) {
      LOG.warn("Couldn't retrieve current repository");
    }
    return getSpecsForAllRepositories(facade,project,repository);
  }
}
