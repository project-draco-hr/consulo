{
  PsiElement element=TargetElementUtilBase.findTargetElement(editor,TargetElementUtilBase.ELEMENT_NAME_ACCEPTED | TargetElementUtilBase.LOOKUP_ITEM_ACCEPTED | TargetElementUtilBase.REFERENCED_ELEMENT_ACCEPTED);
  editor.getScrollingModel().scrollToCaret(ScrollType.MAKE_VISIBLE);
  if (!(element instanceof PsiLocalVariable)) {
    String message=RefactoringBundle.getCannotRefactorMessage(RefactoringBundle.message("error.wrong.caret.position.local.name"));
    CommonRefactoringUtil.showErrorHint(project,editor,message,REFACTORING_NAME,HelpID.REPLACE_TEMP_WITH_QUERY);
    return;
  }
  invokeOnVariable(file,project,(PsiLocalVariable)element,editor);
}
