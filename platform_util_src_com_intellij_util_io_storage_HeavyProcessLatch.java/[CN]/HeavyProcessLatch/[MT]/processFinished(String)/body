{
synchronized (myHeavyProcesses) {
    myHeavyProcesses.remove(operationName);
  }
  myEventDispatcher.getMulticaster().processFinished();
  List<Runnable> toRunNow;
synchronized (myHeavyProcesses) {
    if (isRunning()) {
      toRunNow=Collections.emptyList();
    }
 else {
      toRunNow=new ArrayList<Runnable>(toExecuteOutOfHeavyActivity);
      toExecuteOutOfHeavyActivity.clear();
    }
  }
  for (  Runnable runnable : toRunNow) {
    try {
      runnable.run();
    }
 catch (    Exception e) {
      LOG.error(e);
    }
  }
}
