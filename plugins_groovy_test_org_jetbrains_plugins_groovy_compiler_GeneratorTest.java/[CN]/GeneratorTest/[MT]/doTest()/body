{
  final String relTestPath=getTestName(true) + ".test";
  final List<String> data=TestUtils.readInput(getTestDataPath() + "/" + relTestPath);
  final StringBuilder builder=new StringBuilder();
  final String testName=StringUtil.trimEnd(relTestPath,".test");
  PsiFile psiFile=TestUtils.createPseudoPhysicalFile(getProject(),testName + ".groovy",data.get(0));
  final Map<String,CharSequence> map=new GroovyToJavaGenerator(getProject(),Collections.singleton(psiFile.getViewProvider().getVirtualFile())).generateStubs((GroovyFile)psiFile);
  for (  CharSequence stubText : map.values()) {
    builder.append(stubText);
    builder.append("\n");
    builder.append("---");
    builder.append("\n");
  }
  assertEquals(data.get(1).trim(),builder.toString().trim());
}
