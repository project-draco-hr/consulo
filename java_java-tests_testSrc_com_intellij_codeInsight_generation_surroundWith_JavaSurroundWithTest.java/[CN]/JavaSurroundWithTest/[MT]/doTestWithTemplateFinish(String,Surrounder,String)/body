{
  ((TemplateManagerImpl)TemplateManager.getInstance(getProject())).setTemplateTesting(true);
  configureByFile(BASE_PATH + fileName + ".java");
  SurroundWithHandler.invoke(getProject(),getEditor(),getFile(),surrounder);
  if (type != null) {
    type("var");
  }
  ((TemplateManagerImpl)TemplateManager.getInstance(getProject())).getTemplateState(getEditor()).nextTab();
  checkResultByFile(BASE_PATH + fileName + "_after.java");
}
