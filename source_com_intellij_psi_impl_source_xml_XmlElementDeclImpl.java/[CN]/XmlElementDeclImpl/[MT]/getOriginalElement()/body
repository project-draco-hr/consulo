{
  if (isPhysical())   return super.getOriginalElement();
  final PsiElement userData=getUserData(DEPENDING_ELEMENT);
  if (userData instanceof XmlFile) {
    final PsiMetaData metaData=((XmlFile)userData).getDocument().getMetaData();
    if (metaData instanceof XmlNSDescriptorImpl) {
      final XmlElementDescriptor elementDescriptor=((XmlNSDescriptorImpl)metaData).getElementDescriptor(getName());
      if (elementDescriptor != null && elementDescriptor.getDeclaration() instanceof XmlElementDecl) {
        return elementDescriptor.getDeclaration();
      }
    }
  }
  return this;
}
