{
  GenerationUtil.writeStatement(builder,context,expression,new StatementWriter(){
    @Override public void writeStatement(    StringBuilder builder,    ExpressionContext context){
      if (myExitPoints.contains(expression) && expression.getType() != PsiType.VOID) {
        builder.append("return ");
      }
      expression.accept(new ExpressionGenerator(builder,context));
      builder.append(";");
      if (myExitPoints.contains(expression) && expression.getType() == PsiType.VOID) {
        context.myStatements.add(builder.toString());
        builder.replace(0,builder.length(),"return null;");
      }
    }
  }
);
}
