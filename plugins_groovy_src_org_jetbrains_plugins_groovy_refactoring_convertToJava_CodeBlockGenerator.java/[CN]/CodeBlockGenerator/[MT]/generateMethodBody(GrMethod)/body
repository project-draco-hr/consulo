{
  context.searchForLocalVarsToWrap(method);
  final GrOpenBlock block=method.getBlock();
  boolean shouldInsertReturnNull=false;
  myExitPoints.clear();
  PsiType returnType=TypeProvider.getReturnType(method);
  if (!method.isConstructor() && returnType != PsiType.VOID) {
    myExitPoints.addAll(ControlFlowUtils.collectReturns(block));
    shouldInsertReturnNull=!(returnType instanceof PsiPrimitiveType) && MissingReturnInspection.methodMissesSomeReturns(block,method.getReturnTypeElementGroovy() != null);
  }
  if (block != null) {
    generateCodeBlock(block,shouldInsertReturnNull);
  }
}
