{
  final GrOpenBlock block=method.getBlock();
  boolean shouldInsertReturnNull=false;
  myExitPoints.clear();
  PsiType returnType=context.typeProvider.getReturnType(method);
  if (!method.isConstructor() && returnType != PsiType.VOID) {
    myExitPoints.addAll(ControlFlowUtils.collectReturns(block));
    shouldInsertReturnNull=!(returnType instanceof PsiPrimitiveType) && MissingReturnInspection.methodMissesSomeReturns(block,MissingReturnInspection.ReturnStatus.getReturnStatus(method));
  }
  if (block != null) {
    generateCodeBlock(block,shouldInsertReturnNull);
  }
}
