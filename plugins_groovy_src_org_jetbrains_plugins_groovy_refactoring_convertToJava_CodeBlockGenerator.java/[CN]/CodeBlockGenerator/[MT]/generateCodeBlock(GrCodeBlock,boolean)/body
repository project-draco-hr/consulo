{
  builder.append("{\n");
  GrParameter[] parameters;
  if (block.getParent() instanceof GrMethod) {
    GrMethod method=(GrMethod)block.getParent();
    parameters=method.getParameters();
  }
 else   if (block instanceof GrClosableBlock) {
    parameters=((GrClosableBlock)block).getAllParameters();
  }
 else {
    parameters=GrParameter.EMPTY_ARRAY;
  }
  for (  GrParameter parameter : parameters) {
    if (context.analyzedVars.toWrap(parameter)) {
      StringBuilder typeText=new StringBuilder().append(GroovyCommonClassNames.GROOVY_LANG_REFERENCE);
      writeTypeParameters(typeText,new PsiType[]{context.typeProvider.getParameterType(parameter)},parameter,new GeneratorClassNameProvider());
      builder.append("final ").append(typeText).append(' ').append(context.analyzedVars.toVarName(parameter)).append(" = new ").append(typeText).append('(').append(parameter.getName()).append(");\n");
    }
  }
  visitStatementOwner(block,shouldInsertReturnNull);
  builder.append("}\n");
}
