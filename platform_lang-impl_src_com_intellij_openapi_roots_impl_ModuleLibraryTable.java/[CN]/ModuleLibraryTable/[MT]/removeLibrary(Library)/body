{
  final Iterator<OrderEntry> orderIterator=myRootModel.getOrderIterator();
  while (orderIterator.hasNext()) {
    OrderEntry orderEntry=orderIterator.next();
    if (orderEntry instanceof LibraryOrderEntry) {
      final LibraryOrderEntry libraryOrderEntry=(LibraryOrderEntry)orderEntry;
      if (libraryOrderEntry.isModuleLevel()) {
        if (library.equals(libraryOrderEntry.getLibrary())) {
          myRootModel.removeOrderEntry(orderEntry);
          Disposer.dispose(library);
          return;
        }
      }
    }
  }
}
