{
  if (element instanceof PsiJavaPackage)   return element;
  if (element instanceof PsiDirectory) {
    final PsiJavaPackage psiPackage=JavaDirectoryService.getInstance().getPackage((PsiDirectory)element);
    if (psiPackage != null)     return psiPackage;
  }
  if (element != null && !(element instanceof PsiMember) && element.getParent() instanceof PsiMember) {
    return element.getParent();
  }
  return null;
}
