{
  final TableSorter sorter=this;
  final JTable tableView=table;
  tableView.setColumnSelectionAllowed(false);
  new ClickListener(){
    @Override public boolean onClick(    MouseEvent e,    int clickCount){
      TableColumnModel columnModel=tableView.getColumnModel();
      int viewColumn=columnModel.getColumnIndexAtX(e.getX());
      int column=tableView.convertColumnIndexToModel(viewColumn);
      if (clickCount == 1 && column != -1) {
        int shiftPressed=e.getModifiers() & InputEvent.SHIFT_MASK;
        boolean ascending=defaultSortOrderAscending(column) ^ (shiftPressed != 0);
        sorter.sortByColumn(column,ascending);
        return true;
      }
      return false;
    }
  }
.installOn(tableView.getTableHeader());
}
