{
  final TableSorter sorter=this;
  final JTable tableView=table;
  tableView.setColumnSelectionAllowed(false);
  MouseAdapter listMouseListener=new MouseAdapter(){
    public void mouseClicked(    MouseEvent e){
      TableColumnModel columnModel=tableView.getColumnModel();
      int viewColumn=columnModel.getColumnIndexAtX(e.getX());
      int column=tableView.convertColumnIndexToModel(viewColumn);
      if (e.getClickCount() == 1 && column != -1) {
        int shiftPressed=e.getModifiers() & InputEvent.SHIFT_MASK;
        boolean ascending=defaultSortOrderAscending(column) ^ (shiftPressed != 0);
        sorter.sortByColumn(column,ascending);
      }
    }
  }
;
  JTableHeader th=tableView.getTableHeader();
  th.addMouseListener(listMouseListener);
}
