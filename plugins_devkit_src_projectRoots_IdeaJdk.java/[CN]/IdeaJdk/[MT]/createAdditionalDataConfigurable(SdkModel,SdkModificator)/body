{
  sdkModel.addListener(new SdkModel.Listener(){
    public void sdkAdded(    Sdk sdk){
    }
    public void beforeSdkRemove(    Sdk sdk){
    }
    public void sdkChanged(    Sdk sdk){
    }
    public void sdkHomeSelected(    Sdk sdk,    String newSdkHome){
      if (sdk.getSdkType() instanceof IdeaJdk) {
        String jreHome;
        if (SystemInfo.isLinux || SystemInfo.isWindows) {
          jreHome=newSdkHome + File.separator + "jre";
          myInternalJavaSdk=JavaSdk.getInstance().createJdk("",jreHome);
        }
      }
    }
  }
);
  return new IdeaJdkConfigurable();
}
