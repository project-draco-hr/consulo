{
  @NonNls String rtPath;
  @NonNls final String rtJar="rt.jar";
  if (SystemInfo.isLinux || SystemInfo.isWindows) {
    rtPath=homePath + File.separator + JRE_DIR_NAME+ File.separator+ LIB_DIR_NAME+ File.separator+ rtJar;
    if (new File(rtPath).exists()) {
      return rtPath;
    }
  }
  final ProjectJdk jdk=getInternalJavaSdk(homePath);
  if (jdk.getVersionString() != null) {
    return jdk.getToolsPath();
  }
  return null;
}
