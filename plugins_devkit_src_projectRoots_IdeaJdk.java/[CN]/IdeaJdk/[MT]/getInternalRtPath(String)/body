{
  @NonNls String rtPath;
  @NonNls final String rtJar="rt.jar";
  if (SystemInfo.isLinux || SystemInfo.isWindows) {
    rtPath=homePath + File.separator + JRE_DIR_NAME+ File.separator+ LIB_DIR_NAME+ File.separator+ rtJar;
    if (new File(rtPath).exists()) {
      return rtPath;
    }
  }
  final String javaHome=System.getProperty(JAVA_HOME_PROPERTY);
  File rt=new File(new File(javaHome,LIB_DIR_NAME),rtJar);
  if (rt.exists()) {
    return rt.getPath();
  }
 else {
    rt=new File(new File(new File(javaHome,JRE_DIR_NAME),LIB_DIR_NAME),rtJar);
    if (rt.exists()) {
      return rt.getPath();
    }
  }
  return null;
}
