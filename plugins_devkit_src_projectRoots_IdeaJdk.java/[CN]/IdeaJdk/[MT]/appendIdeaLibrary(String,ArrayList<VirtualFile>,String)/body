{
  final JarFileSystem jfs=JarFileSystem.getInstance();
  final File lib=new File(path);
  if (lib.isDirectory()) {
    File[] jars=lib.listFiles();
    if (jars != null) {
      for (      File jar : jars) {
        @NonNls String name=jar.getName();
        if (jar.isFile() && Arrays.binarySearch(forbidden,name) < 0 && (name.endsWith(".jar") || name.endsWith(".zip"))) {
          result.add(jfs.findFileByPath(jar.getPath() + JarFileSystem.JAR_SEPARATOR));
        }
      }
    }
  }
}
