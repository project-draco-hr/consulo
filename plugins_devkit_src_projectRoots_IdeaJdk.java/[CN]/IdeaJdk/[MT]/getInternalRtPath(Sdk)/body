{
  if (SystemInfo.isLinux || SystemInfo.isWindows) {
    final @NonNls String rtJar="rt.jar";
    final String oldJrePath=sdk.getHomePath() + File.separator + JRE_DIR_NAME+ File.separator;
    final String pathSuffix=LIB_DIR_NAME + File.separator + rtJar;
    String rtPath=oldJrePath + pathSuffix;
    if (new File(rtPath).exists()) {
      return rtPath;
    }
    rtPath=oldJrePath + JRE_DIR_NAME + File.separator+ pathSuffix;
    if (new File(rtPath).exists()) {
      return rtPath;
    }
  }
  final ProjectJdk jdk=getInternalJavaSdk(sdk);
  if (jdk != null && jdk.getVersionString() != null) {
    return jdk.getRtLibraryPath();
  }
  return null;
}
