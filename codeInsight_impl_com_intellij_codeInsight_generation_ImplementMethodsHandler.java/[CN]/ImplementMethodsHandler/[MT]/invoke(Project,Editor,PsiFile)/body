{
  Document document=editor.getDocument();
  if (!file.isWritable()) {
    if (!FileDocumentManager.fileForDocumentCheckedOutSuccessfully(document,project)) {
      return;
    }
  }
  Language language=PsiUtil.getLanguageAtOffset(file,editor.getCaretModel().getOffset());
  final LanguageCodeInsightActionHandler codeInsightActionHandler=CodeInsightActions.IMPLEMENT_METHOD.forLanguage(language);
  if (codeInsightActionHandler != null) {
    codeInsightActionHandler.invoke(project,editor,file);
    return;
  }
  PsiClass aClass=OverrideImplementUtil.getContextClass(project,editor,file,false);
  if (aClass != null) {
    OverrideImplementUtil.chooseAndImplementMethods(project,editor,aClass);
  }
}
