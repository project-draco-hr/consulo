{
  if (myLeftOperand instanceof MulOperationNode || (myLeftOperand instanceof UnaryMulOperationNode && surroundedText != null)) {
    List<GenerationNode> result=new ArrayList<GenerationNode>();
    if (myLeftOperand instanceof MulOperationNode) {
      MulOperationNode mul=(MulOperationNode)myLeftOperand;
      for (int i=0; i < mul.getRightOperand(); i++) {
        List<GenerationNode> parentNodes=mul.getLeftOperand().expand(i,surroundedText);
        List<GenerationNode> innerNodes=myRightOperand.expand(i,surroundedText);
        for (        GenerationNode parentNode : parentNodes) {
          addChildrenToAllLeafs(parentNode,innerNodes);
        }
        result.addAll(parentNodes);
      }
    }
 else {
      UnaryMulOperationNode unaryMul=(UnaryMulOperationNode)myLeftOperand;
      String[] lines=LineTokenizer.tokenize(surroundedText,false);
      for (int i=0; i < lines.length; i++) {
        List<GenerationNode> parentNodes=unaryMul.getOperand().expand(i,lines[i]);
        List<GenerationNode> innerNodes=myRightOperand.expand(i,lines[i]);
        for (        GenerationNode parentNode : parentNodes) {
          addChildrenToAllLeafs(parentNode,innerNodes);
        }
        result.addAll(parentNodes);
      }
    }
    return result;
  }
  List<GenerationNode> leftGenNodes=myLeftOperand.expand(numberInIteration,surroundedText);
  for (  GenerationNode leftGenNode : leftGenNodes) {
    List<GenerationNode> rightGenNodes=myRightOperand.expand(numberInIteration,surroundedText);
    addChildrenToAllLeafs(leftGenNode,rightGenNodes);
  }
  return leftGenNodes;
}
