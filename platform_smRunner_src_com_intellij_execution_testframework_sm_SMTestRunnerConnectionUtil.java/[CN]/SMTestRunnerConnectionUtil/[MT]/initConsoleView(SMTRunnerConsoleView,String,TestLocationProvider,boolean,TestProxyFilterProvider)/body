{
  consoleView.addAttachToProcessListener(new AttachToProcessListener(){
    @Override public void onAttachToProcess(    @NotNull ProcessHandler processHandler){
      TestConsoleProperties properties=consoleView.getProperties();
      SMTestLocator testLocator=new CompositeTestLocationProvider(locator);
      TestProxyPrinterProvider printerProvider=null;
      if (filterProvider != null) {
        printerProvider=new TestProxyPrinterProvider(consoleView,filterProvider);
      }
      SMTestRunnerResultsForm resultsForm=consoleView.getResultsViewer();
      attachEventsProcessors(properties,resultsForm,resultsForm.getStatisticsPane(),processHandler,testFrameworkName,testLocator,idBasedTreeConstruction,printerProvider);
    }
  }
);
  consoleView.setHelpId("reference.runToolWindow.testResultsTab");
  consoleView.initUI();
}
