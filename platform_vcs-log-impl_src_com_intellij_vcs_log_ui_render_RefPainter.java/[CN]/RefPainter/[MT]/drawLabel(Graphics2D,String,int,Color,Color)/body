{
  setupGraphics(g2);
  FontMetrics metrics=g2.getFontMetrics();
  XAndWidth xAndWidth=getXAndWidth(label,paddingX,metrics);
  int x=xAndWidth.x;
  int width=xAndWidth.width;
  int y=RECTANGLE_Y_PADDING;
  int height=HEIGHT_CELL - 2 * RECTANGLE_Y_PADDING;
  RoundRectangle2D rectangle2D=new RoundRectangle2D.Double(x,y,width,height,ROUND_RADIUS,ROUND_RADIUS);
  g2.setColor(bgColor);
  g2.fill(rectangle2D);
  g2.setColor(myColorManager.getReferenceBorderColor());
  g2.draw(rectangle2D);
  g2.setColor(JBColor.BLACK);
  drawText(g2,label,paddingX + flagWidth());
  if (rootIndicatorColor != null && myColorManager.isMultipleRoots() && myDrawMultiRepoIndicator) {
    drawRootIndicator(g2,paddingX,y,height,rootIndicatorColor);
  }
  return new Rectangle(x,y,width,height);
}
