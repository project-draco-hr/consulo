{
  if (INSPECTION_PROFILE_WRAPPER == null) {
    return;
  }
  Project project=editor.getProject();
  if (project == null) {
    return;
  }
  PsiFile file=PsiDocumentManager.getInstance(project).getPsiFile(editor.getDocument());
  if (file == null) {
    return;
  }
  if (apply) {
    file.putUserData(InspectionProfileWrapper.KEY,INSPECTION_PROFILE_WRAPPER);
    editor.putUserData(IntentionManager.SHOW_INTENTION_OPTIONS_KEY,false);
  }
 else {
    file.putUserData(InspectionProfileWrapper.KEY,null);
  }
  DaemonCodeAnalyzer analyzer=DaemonCodeAnalyzer.getInstance(project);
  if (analyzer != null) {
    analyzer.restart(file);
  }
}
