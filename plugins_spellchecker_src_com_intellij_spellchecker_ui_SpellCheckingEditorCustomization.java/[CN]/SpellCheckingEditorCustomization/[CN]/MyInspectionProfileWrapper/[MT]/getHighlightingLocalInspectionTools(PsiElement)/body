{
  List<LocalInspectionToolWrapper> result=new ArrayList<LocalInspectionToolWrapper>(myDelegate.getHighlightingLocalInspectionTools(element));
  if (myUseSpellCheck) {
    Map<String,LocalInspectionToolWrapper> spellingTools=new HashMap<String,LocalInspectionToolWrapper>(SPELL_CHECK_TOOLS);
    for (    LocalInspectionToolWrapper tool : result) {
      spellingTools.remove(tool.getID());
    }
    result.addAll(spellingTools.values());
  }
 else {
    for (int i=result.size() - 1; i >= 0; i--) {
      LocalInspectionToolWrapper tool=result.get(i);
      if (SPELL_CHECK_TOOLS.containsKey(tool.getID())) {
        result.remove(i);
      }
    }
  }
  return result;
}
