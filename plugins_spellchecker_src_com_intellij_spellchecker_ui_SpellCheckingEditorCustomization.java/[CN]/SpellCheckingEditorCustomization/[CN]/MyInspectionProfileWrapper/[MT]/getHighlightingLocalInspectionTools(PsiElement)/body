{
  Set<LocalInspectionToolWrapper> result=new THashSet<LocalInspectionToolWrapper>(myDelegate.getHighlightingLocalInspectionTools(element),new TObjectHashingStrategy<LocalInspectionToolWrapper>(){
    @Override public int computeHashCode(    LocalInspectionToolWrapper object){
      return object.getShortName().hashCode();
    }
    @Override public boolean equals(    LocalInspectionToolWrapper o1,    LocalInspectionToolWrapper o2){
      return o1.getShortName().equals(o2.getShortName());
    }
  }
);
  if (myUseSpellCheck) {
    result.removeAll(SPELL_CHECK_TOOLS);
    result.addAll(SPELL_CHECK_TOOLS);
  }
 else {
    result.removeAll(SPELL_CHECK_TOOLS);
  }
  return new ArrayList<LocalInspectionToolWrapper>(result);
}
