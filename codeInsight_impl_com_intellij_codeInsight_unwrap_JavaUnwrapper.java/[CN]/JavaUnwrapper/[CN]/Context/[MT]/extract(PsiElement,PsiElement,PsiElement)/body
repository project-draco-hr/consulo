{
  if (first == null)   return;
  while (first != last && first instanceof PsiWhiteSpace) {
    first=first.getNextSibling();
  }
  while (last != first && last instanceof PsiWhiteSpace) {
    last=last.getPrevSibling();
  }
  if (first == last && last instanceof PsiWhiteSpace)   return;
  if (myIsEffective)   from.getParent().addRangeBefore(first,last,from);
  do {
    addElementToExtract(first);
    first=first.getNextSibling();
  }
 while (first != null && first.getPrevSibling() != last);
}
