{
  super.setUp();
  myTempDirectory=FileUtil.createTempDirectory(getTestName(true),"test",false);
  myFilesToDelete.add(myTempDirectory);
  final File testRoot=new File(getTestDataPath(),getTestPath());
  assertTrue(testRoot.getAbsolutePath(),testRoot.isDirectory());
  final File currentTestRoot=new File(testRoot,getTestDirectoryName());
  assertTrue(currentTestRoot.getAbsolutePath(),currentTestRoot.isDirectory());
  FileUtil.copyDir(currentTestRoot,new File(myTempDirectory,getTestDirectoryName()));
  ApplicationManager.getApplication().runWriteAction(new Runnable(){
    @Override public void run(){
      setupContentRoot();
    }
  }
);
}
