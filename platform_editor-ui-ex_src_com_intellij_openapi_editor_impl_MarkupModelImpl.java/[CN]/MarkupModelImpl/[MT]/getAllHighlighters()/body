{
  ApplicationManager.getApplication().assertIsDispatchThread();
  if (myCachedHighlighters == null) {
    int size=myHighlighterTree.size();
    if (size == 0)     return RangeHighlighter.EMPTY_ARRAY;
    List<RangeHighlighterEx> list=new ArrayList<RangeHighlighterEx>(size);
    myHighlighterTree.process(new CommonProcessors.CollectProcessor<RangeHighlighterEx>(list));
    myCachedHighlighters=list.toArray(new RangeHighlighter[list.size()]);
  }
  return myCachedHighlighters;
}
