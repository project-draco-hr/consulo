{
  if (myProject.isDisposed())   return;
  ApplicationManager.getApplication().assertWriteAccessAllowed();
  myRootsChangeCounter--;
  popRootsChangedStachTrace();
  if (myRootsChangeCounter > 0)   return;
  clearScopesCaches();
  myModificationCount++;
  myProject.getMessageBus().syncPublisher(ProjectTopics.PROJECT_ROOTS).rootsChanged(new ModuleRootEventImpl(myProject,filetypes));
  doSynchronize();
  addRootsToWatch();
}
