{
  List<ReadWriteVariableInstruction> result=new ArrayList<ReadWriteVariableInstruction>();
  TObjectIntHashMap<String> namesIndex=buildNamesIndex(flow);
  TIntHashSet[] definitelyAssigned=new TIntHashSet[flow.length];
  int[] postorder=postorder(flow);
  int[] invpostorder=invPostorder(postorder);
  findReadsBeforeWrites(flow,definitelyAssigned,result,namesIndex,postorder,invpostorder);
  return result.toArray(new ReadWriteVariableInstruction[result.size()]);
}
