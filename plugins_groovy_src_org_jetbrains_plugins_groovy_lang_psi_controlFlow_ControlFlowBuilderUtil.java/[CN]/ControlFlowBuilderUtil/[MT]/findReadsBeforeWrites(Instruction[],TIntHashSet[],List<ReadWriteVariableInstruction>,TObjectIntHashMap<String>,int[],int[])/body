{
  int start=0;
  while (invpostorder[start] != 0)   start++;
  for (int i=start; i < flow.length; i++) {
    int j=invpostorder[i];
    Instruction curr=flow[j];
    if (curr instanceof ReadWriteVariableInstruction) {
      ReadWriteVariableInstruction readWriteInsn=(ReadWriteVariableInstruction)curr;
      int idx=namesIndex.get(readWriteInsn.getVariableName());
      TIntHashSet vars=definitelyAssigned[j];
      if (!readWriteInsn.isWrite()) {
        if (vars == null || !vars.contains(idx)) {
          result.add(readWriteInsn);
        }
      }
 else {
        if (vars == null) {
          vars=new TIntHashSet();
          definitelyAssigned[j]=vars;
        }
        vars.add(idx);
      }
    }
    for (    Instruction succ : curr.allSuccessors()) {
      if (postorder[succ.num()] > postorder[curr.num()]) {
        TIntHashSet currDefinitelyAssigned=definitelyAssigned[curr.num()];
        TIntHashSet succDefinitelyAssigned=definitelyAssigned[succ.num()];
        if (currDefinitelyAssigned != null) {
          int[] currArray=currDefinitelyAssigned.toArray();
          if (succDefinitelyAssigned == null) {
            succDefinitelyAssigned=new TIntHashSet();
            succDefinitelyAssigned.addAll(currArray);
            definitelyAssigned[succ.num()]=succDefinitelyAssigned;
          }
 else {
            succDefinitelyAssigned.retainAll(currArray);
          }
        }
 else {
          if (succDefinitelyAssigned != null) {
            succDefinitelyAssigned.clear();
          }
 else {
            succDefinitelyAssigned=new TIntHashSet();
            definitelyAssigned[succ.num()]=succDefinitelyAssigned;
          }
        }
      }
    }
  }
}
