{
  final Module module=facet.getModule();
  final Project project=module.getProject();
  final Manifest manifest=facet.getManifest();
  if (manifest == null) {
    return Collections.emptyList();
  }
  final Set<PsiDirectory> dirs=new HashSet<PsiDirectory>();
  collectDirsForPackage(module,project,null,dirs,new HashSet<Module>(),onlyInOwnPackages);
  final List<PsiJavaFile> rJavaFiles=new ArrayList<PsiJavaFile>();
  for (  PsiDirectory dir : dirs) {
    final VirtualFile file=dir.getVirtualFile().findChild(AndroidCommonUtils.R_JAVA_FILENAME);
    if (file != null) {
      final PsiFile psiFile=PsiManager.getInstance(project).findFile(file);
      if (psiFile instanceof PsiJavaFile) {
        rJavaFiles.add((PsiJavaFile)psiFile);
      }
    }
  }
  return rJavaFiles;
}
