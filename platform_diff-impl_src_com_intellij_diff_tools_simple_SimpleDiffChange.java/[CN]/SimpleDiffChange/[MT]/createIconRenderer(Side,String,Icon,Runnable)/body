{
  if (!DiffUtil.isEditable(myViewer.getEditor(sourceSide.other())))   return null;
  return new GutterIconRenderer(){
    @NotNull @Override public Icon getIcon(){
      return icon;
    }
    public boolean isNavigateAction(){
      return true;
    }
    @Nullable @Override public AnAction getClickAction(){
      return new DumbAwareAction(){
        @Override public void actionPerformed(        AnActionEvent e){
          if (!myIsValid)           return;
          final Project project=e.getProject();
          final Document document=myViewer.getEditor(sourceSide.other()).getDocument();
          DiffUtil.executeWriteCommand(document,project,"Replace change",new Runnable(){
            @Override public void run(){
              perform.run();
            }
          }
);
        }
      }
;
    }
    @Override public boolean equals(    Object obj){
      return obj == this;
    }
    @Override public int hashCode(){
      return System.identityHashCode(this);
    }
    @Nullable @Override public String getTooltipText(){
      return tooltipText;
    }
    @Override public boolean isDumbAware(){
      return true;
    }
  }
;
}
