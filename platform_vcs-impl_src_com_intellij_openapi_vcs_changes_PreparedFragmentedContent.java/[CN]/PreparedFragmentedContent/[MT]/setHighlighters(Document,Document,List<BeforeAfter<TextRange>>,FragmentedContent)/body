{
  EditorHighlighter highlighter=createHighlighter(fragmentedContent.getFileTypeBefore(),fragmentedContent.getFileBefore(),fragmentedContent.getFileAfter(),myProject).createHighlighter();
  highlighter.setEditor(new LightHighlighterClient(oldDocument,myProject));
  highlighter.setText(oldDocument.getText());
  HighlighterIterator iterator=highlighter.createIterator(ranges.get(0).getBefore().getStartOffset());
  FragmentedEditorHighlighter beforeHighlighter=new FragmentedEditorHighlighter(iterator,getBeforeFragments(),1,true);
  setBeforeHighlighter(beforeHighlighter);
  EditorHighlighter highlighter1=createHighlighter(fragmentedContent.getFileTypeAfter(),fragmentedContent.getFileAfter(),fragmentedContent.getFileBefore(),myProject).createHighlighter();
  highlighter1.setEditor(new LightHighlighterClient(document,myProject));
  highlighter1.setText(document.getText());
  HighlighterIterator iterator1=highlighter1.createIterator(ranges.get(0).getAfter().getStartOffset());
  FragmentedEditorHighlighter afterHighlighter=new FragmentedEditorHighlighter(iterator1,getAfterFragments(),1,true);
  setAfterHighlighter(afterHighlighter);
}
