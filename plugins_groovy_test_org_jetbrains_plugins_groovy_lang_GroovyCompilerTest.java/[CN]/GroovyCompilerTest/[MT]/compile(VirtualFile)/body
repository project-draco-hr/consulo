{
  final Semaphore semaphore=new Semaphore();
  semaphore.down();
  final ErrorReportingCallback callback=new ErrorReportingCallback(semaphore);
  CompilerManager.getInstance(getProject()).compile(files,new ErrorReportingCallback(semaphore),false);
  semaphore.waitFor();
  callback.throwException();
}
