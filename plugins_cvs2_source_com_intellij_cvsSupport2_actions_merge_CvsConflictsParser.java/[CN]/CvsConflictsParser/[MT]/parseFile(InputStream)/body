{
  final InputStreamReader isr=new InputStreamReader(merged);
  final BufferedReader br=new BufferedReader(isr);
  String line;
  while ((line=br.readLine()) != null) {
    if (line.startsWith("<<<<<<<")) {
      processRightMarker(line);
    }
 else     if (line.startsWith("=======")) {
      processLeftMarker(line);
    }
 else     if (line.startsWith(">>>>>>>")) {
      processEndMarker(line);
    }
 else     if (myStateStack.isEmpty()) {
      appendLine(line);
    }
 else {
      appendToCurrentBuffer(line);
    }
  }
}
