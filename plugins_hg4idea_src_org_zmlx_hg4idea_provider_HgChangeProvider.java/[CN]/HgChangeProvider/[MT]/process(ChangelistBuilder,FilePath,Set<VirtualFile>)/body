{
  VirtualFile repo=VcsUtil.getVcsRootFor(myProject,filePath);
  if (repo == null || processedRoots.contains(repo)) {
    return;
  }
  Set<HgChange> hgChanges=new HgStatusCommand(myProject).execute(repo);
  if (hgChanges == null || hgChanges.isEmpty()) {
    return;
  }
  sendChanges(builder,hgChanges,new HgResolveCommand(myProject).list(repo),new HgWorkingCopyRevisionsCommand(myProject).identify(repo),new HgWorkingCopyRevisionsCommand(myProject).firstParent(repo));
  processedRoots.add(repo);
}
