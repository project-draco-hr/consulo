def push(self, force):
    c = self._repo['']
    subs = c.substate
    for s in sorted(subs):
        if (not c.sub(s).push(force)):
            return False
    self._repo.ui.status((_('pushing subrepo %s\n') % self._path))
    dsturl = _abssource(self._repo, True)
    other = hg.repository(self._repo.ui, dsturl)
    return self._repo.push(other, force)
