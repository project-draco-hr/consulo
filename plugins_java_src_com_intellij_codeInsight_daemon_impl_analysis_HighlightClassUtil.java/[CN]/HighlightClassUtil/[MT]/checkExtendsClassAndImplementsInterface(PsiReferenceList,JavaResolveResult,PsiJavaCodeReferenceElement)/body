{
  PsiClass aClass=(PsiClass)referenceList.getParent();
  boolean isImplements=referenceList.equals(aClass.getImplementsList());
  boolean isInterface=aClass.isInterface();
  if (isInterface && isImplements)   return null;
  boolean mustBeInterface=isImplements || isInterface;
  HighlightInfo errorResult=null;
  PsiClass extendFrom=(PsiClass)resolveResult.getElement();
  if (extendFrom.isInterface() != mustBeInterface) {
    String message=JavaErrorMessages.message(mustBeInterface ? "interface.expected" : "no.interface.expected");
    errorResult=HighlightInfo.newHighlightInfo(HighlightInfoType.ERROR).range(ref).descriptionAndTooltip(message).create();
    PsiClassType type=JavaPsiFacade.getInstance(aClass.getProject()).getElementFactory().createType(ref);
    QuickFixAction.registerQuickFixAction(errorResult,new ChangeExtendsToImplementsFix(aClass,type));
  }
  return errorResult;
}
