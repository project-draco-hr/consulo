{
  if (usedClasses.contains(aClass)) {
    return aClass;
  }
  try {
    usedClasses.add(aClass);
    PsiClass[] superTypes=aClass.getSupers();
    for (    PsiElement superType : superTypes) {
      while (superType instanceof PsiClass) {
        if (!CommonClassNames.JAVA_LANG_OBJECT.equals(((PsiClass)superType).getQualifiedName())) {
          PsiClass circularClass=getCircularClass((PsiClass)superType,usedClasses);
          if (circularClass != null)           return circularClass;
        }
        superType=superType.getParent();
      }
    }
  }
  finally {
    usedClasses.remove(aClass);
  }
  return null;
}
