{
  PsiFile file=aClass.getContainingFile();
  if (!(file instanceof PsiJavaFile))   return null;
  PsiJavaFile javaFile=(PsiJavaFile)file;
  if (aClass.getParent() != javaFile)   return null;
  PsiImportList importList=javaFile.getImportList();
  if (importList == null)   return null;
  PsiImportStatementBase[] importStatements=importList.getAllImportStatements();
  for (  PsiImportStatementBase importStatement : importStatements) {
    if (importStatement.isOnDemand())     continue;
    PsiElement resolved=importStatement.resolve();
    if (resolved instanceof PsiClass && !resolved.equals(aClass) && Comparing.equal(aClass.getName(),((PsiClass)resolved).getName(),true)) {
      String description=JavaErrorMessages.message("class.already.imported",HighlightUtil.formatClass(aClass,false));
      return HighlightInfo.newHighlightInfo(HighlightInfoType.ERROR).range(elementToHighlight).descriptionAndTooltip(description).create();
    }
  }
  return null;
}
