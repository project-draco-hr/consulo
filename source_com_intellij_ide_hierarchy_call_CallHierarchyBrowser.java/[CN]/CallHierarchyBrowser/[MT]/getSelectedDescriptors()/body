{
  JTree tree=getCurrentTree();
  if (tree == null)   return EMPTY_DESCRIPTORS;
  TreePath[] paths=tree.getSelectionPaths();
  final ArrayList<CallHierarchyNodeDescriptor> result=new ArrayList<CallHierarchyNodeDescriptor>();
  for (int i=0; i < paths.length; i++) {
    TreePath path=paths[i];
    Object node=path.getLastPathComponent();
    if (!(node instanceof DefaultMutableTreeNode))     continue;
    Object userObject=((DefaultMutableTreeNode)node).getUserObject();
    if (!(userObject instanceof CallHierarchyNodeDescriptor))     continue;
    result.add((CallHierarchyNodeDescriptor)userObject);
  }
  return result.toArray(new CallHierarchyNodeDescriptor[result.size()]);
}
