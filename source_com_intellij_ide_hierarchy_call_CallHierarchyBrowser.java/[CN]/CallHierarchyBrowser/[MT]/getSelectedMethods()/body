{
  JTree tree=getCurrentTree();
  if (tree == null)   return PsiMethod.EMPTY_ARRAY;
  TreePath[] paths=tree.getSelectionPaths();
  if (paths == null)   return PsiMethod.EMPTY_ARRAY;
  ArrayList<PsiMethod> psiMethods=new ArrayList<PsiMethod>();
  for (int i=0; i < paths.length; i++) {
    TreePath path=paths[i];
    Object node=path.getLastPathComponent();
    if (!(node instanceof DefaultMutableTreeNode))     continue;
    Object userObject=((DefaultMutableTreeNode)node).getUserObject();
    if (!(userObject instanceof CallHierarchyNodeDescriptor))     continue;
    PsiMember enclosingElement=((CallHierarchyNodeDescriptor)userObject).getEnclosingElement();
    if (!(enclosingElement instanceof PsiMethod))     continue;
    psiMethods.add((PsiMethod)enclosingElement);
  }
  return psiMethods.toArray(new PsiMethod[psiMethods.size()]);
}
