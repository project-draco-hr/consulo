{
  for (  VirtualFile root : myStashedRoots) {
    try {
      loadRoot(root);
    }
 catch (    VcsException e) {
      context.handleException(e);
    }
  }
  final List<File> files=ObjectsConvertor.fp2jiof(getChangedFiles());
  LocalFileSystem.getInstance().refreshIoFiles(files);
  if (restoreListsRunnable != null) {
    UIUtil.invokeLaterIfNeeded(new Runnable(){
      public void run(){
        myChangeManager.invokeAfterUpdate(restoreListsRunnable,InvokeAfterUpdateMode.BACKGROUND_NOT_CANCELLABLE,GitBundle.getString("update.restoring.change.lists"),ModalityState.NON_MODAL);
      }
    }
);
  }
}
