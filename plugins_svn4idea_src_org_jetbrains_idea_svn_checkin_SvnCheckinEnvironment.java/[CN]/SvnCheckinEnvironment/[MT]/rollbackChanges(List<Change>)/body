{
  final List<VcsException> exceptions=new ArrayList<VcsException>();
  for (  Change change : changes) {
    File beforePath=null;
    ContentRevision beforeRevision=change.getBeforeRevision();
    if (beforeRevision != null) {
      beforePath=beforeRevision.getFile().getIOFile();
      checkRevertFile(beforePath,exceptions);
    }
    ContentRevision afterRevision=change.getAfterRevision();
    if (afterRevision != null) {
      File afterPath=afterRevision.getFile().getIOFile();
      if (!afterPath.equals(beforePath)) {
        checkRevertFile(afterPath,exceptions);
        if (beforePath != null) {
          FileUtil.delete(afterPath);
        }
      }
    }
  }
  return exceptions;
}
