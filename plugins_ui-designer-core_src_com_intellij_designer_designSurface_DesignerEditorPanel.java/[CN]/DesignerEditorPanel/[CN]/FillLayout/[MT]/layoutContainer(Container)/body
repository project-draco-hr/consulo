{
  int leftWidth=0;
  int rightWidth=0;
  JComponent jParent=(JComponent)parent;
  JComponent left=(JComponent)jParent.getClientProperty("left");
  if (left != null) {
    leftWidth=MINIMIZE_WIDTH;
  }
  JComponent right=(JComponent)jParent.getClientProperty("right");
  if (right != null) {
    rightWidth=MINIMIZE_WIDTH;
  }
  int extraWidth=leftWidth + rightWidth;
  int width=parent.getWidth() - extraWidth;
  int height=parent.getHeight();
  Component toolbar=parent.getComponent(0);
  Dimension toolbarSize=toolbar.isVisible() ? toolbar.getPreferredSize() : new Dimension();
  toolbar.setBounds(leftWidth,0,width,toolbarSize.height);
  parent.getComponent(1).setBounds(leftWidth,toolbarSize.height,width,height - toolbarSize.height);
  if (left != null) {
    left.setBounds(0,0,leftWidth,height);
  }
  if (right != null) {
    right.setBounds(width + leftWidth,0,rightWidth,height);
  }
}
