{
  final DelegateColorScheme globalScheme=new DelegateColorScheme(EditorColorsManager.getInstance().getGlobalScheme()){
    @Override public String getEditorFontName(){
      return getConsoleFontName();
    }
    @Override public int getEditorFontSize(){
      return getConsoleFontSize();
    }
    @Override public String getConsoleFontName(){
      return NotificationsUtil.getFontName();
    }
    @Override public int getConsoleFontSize(){
      Pair<String,Integer> data=NotificationsUtil.getFontData();
      return data == null ? super.getConsoleFontSize() : data.second;
    }
    @Override public void setEditorFontName(    String fontName){
    }
    @Override public void setConsoleFontName(    String fontName){
    }
    @Override public void setEditorFontSize(    int fontSize){
    }
    @Override public void setConsoleFontSize(    int fontSize){
    }
  }
;
  EditorColorsManager.getInstance().addEditorColorsListener(new EditorColorsListener(){
    @Override public void globalSchemeChange(    EditorColorsScheme scheme){
      globalScheme.setDelegate(EditorColorsManager.getInstance().getGlobalScheme());
      editor.reinitSettings();
    }
  }
,myProjectModel);
  editor.setColorsScheme(ConsoleViewUtil.updateConsoleColorScheme(editor.createBoundColorSchemeDelegate(globalScheme)));
}
