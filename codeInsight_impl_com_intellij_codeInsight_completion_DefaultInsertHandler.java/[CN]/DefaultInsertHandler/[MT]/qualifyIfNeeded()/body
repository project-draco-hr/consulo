{
  try {
    if (myLookupItem.getObject() instanceof PsiField) {
      PsiDocumentManager.getInstance(myFile.getProject()).commitAllDocuments();
      PsiReference reference=myFile.findReferenceAt(myContext.getStartOffset());
      if (reference instanceof PsiReferenceExpression && !((PsiReferenceExpression)reference).isQualified()) {
        final PsiMember member=(PsiMember)myLookupItem.getObject();
        if (member.getManager().areElementsEquivalent(reference.resolve(),CompletionUtil.getOriginalElement(member)))         return;
        final PsiClass psiClass=member.getContainingClass();
        if (psiClass != null && StringUtil.isNotEmpty(psiClass.getName())) {
          myDocument.insertString(myContext.getStartOffset(),psiClass.getName() + ".");
        }
      }
    }
    addImportForItem(myFile,myContext.getStartOffset(),myLookupItem);
  }
 catch (  IncorrectOperationException e) {
    LOG.error(e);
  }
}
