{
  if (insertingAnnotation()) {
    final Document document=myContext.editor.getDocument();
    PsiDocumentManager.getInstance(myContext.project).commitDocument(document);
    PsiElement elementAt=myFile.findElementAt(myContext.startOffset);
    if (elementAt instanceof PsiIdentifier) {
      final PsiElement parent=PsiTreeUtil.getParentOfType(elementAt,PsiModifierListOwner.class,PsiCodeBlock.class);
      if (parent instanceof PsiModifierListOwner) {
        final PsiClass psiClass=(PsiClass)myLookupItem.getObject();
        for (        PsiMethod m : psiClass.getMethods()) {
          if (!(m instanceof PsiAnnotationMethod))           continue;
          final PsiAnnotationMemberValue defaultValue=((PsiAnnotationMethod)m).getDefaultValue();
          if (defaultValue == null)           return true;
        }
      }
    }
  }
  return false;
}
