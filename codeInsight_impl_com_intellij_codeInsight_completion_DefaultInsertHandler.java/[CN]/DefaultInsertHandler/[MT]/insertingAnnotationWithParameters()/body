{
  if (insertingAnnotation()) {
    final Document document=myContext.editor.getDocument();
    PsiDocumentManager.getInstance(myContext.project).commitDocument(document);
    final PsiElement elementAt=myFile.findElementAt(myStartOffset - 1);
    if (PsiTreeUtil.getParentOfType(elementAt,PsiImportStatement.class) == null) {
      final PsiClass psiClass=(PsiClass)myLookupItem.getObject();
      for (      PsiMethod m : psiClass.getMethods()) {
        if (!(m instanceof PsiAnnotationMethod))         continue;
        final PsiAnnotationMemberValue defaultValue=((PsiAnnotationMethod)m).getDefaultValue();
        if (defaultValue == null)         return true;
      }
    }
  }
  return false;
}
