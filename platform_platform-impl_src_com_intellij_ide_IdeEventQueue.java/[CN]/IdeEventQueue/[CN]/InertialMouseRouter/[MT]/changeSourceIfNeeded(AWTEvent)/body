{
  if (SystemInfo.isMac && Registry.is("ide.inertial.mouse.fix") && awtEvent instanceof MouseWheelEvent) {
    MouseWheelEvent mwe=(MouseWheelEvent)awtEvent;
    if (mwe.getWhen() - lastMouseWheel > MOUSE_WHEEL_RESTART_THRESHOLD) {
      wheelDestinationComponent=SwingUtilities.getDeepestComponentAt(mwe.getComponent(),mwe.getX(),mwe.getY());
    }
    lastMouseWheel=System.currentTimeMillis();
    MouseWheelEvent newMouseWheelEvent=new MouseWheelEvent(wheelDestinationComponent,mwe.getID(),lastMouseWheel,mwe.getModifiers(),mwe.getX(),mwe.getY(),mwe.getClickCount(),mwe.isPopupTrigger(),mwe.getScrollType(),mwe.getScrollAmount(),mwe.getWheelRotation());
    return newMouseWheelEvent;
  }
  return awtEvent;
}
