{
  if (SystemInfo.isMac && Registry.is("ide.inertial.mouse.fix") && awtEvent instanceof MouseWheelEvent) {
    MouseWheelEvent mwe=(MouseWheelEvent)awtEvent;
    if (mwe.getWhen() - lastMouseWheel > MOUSE_WHEEL_RESTART_THRESHOLD) {
      wheelDestinationComponent=SwingUtilities.getDeepestComponentAt(mwe.getComponent(),mwe.getX(),mwe.getY());
    }
    lastMouseWheel=System.currentTimeMillis();
    int modifiers=mwe.getModifiers() | mwe.getModifiersEx();
    return MouseEventAdapter.convert(mwe,wheelDestinationComponent,mwe.getID(),lastMouseWheel,modifiers,mwe.getX(),mwe.getY());
  }
  return awtEvent;
}
