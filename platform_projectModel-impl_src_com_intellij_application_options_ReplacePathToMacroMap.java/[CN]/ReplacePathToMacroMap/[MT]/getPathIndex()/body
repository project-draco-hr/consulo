{
  if (myPathsIndex == null || myPathsIndex.size() != size()) {
    List<Map.Entry<String,String>> entries=new ArrayList<Map.Entry<String,String>>(myMacroMap.entrySet());
    final TObjectIntHashMap<Map.Entry<String,String>> weights=new TObjectIntHashMap<Map.Entry<String,String>>();
    for (    Map.Entry<String,String> entry : entries) {
      weights.put(entry,getIndex(entry) * 512 + stripPrefix(entry.getKey()));
    }
    ContainerUtil.sort(entries,new Comparator<Map.Entry<String,String>>(){
      public int compare(      final Map.Entry<String,String> o1,      final Map.Entry<String,String> o2){
        return weights.get(o2) - weights.get(o1);
      }
    }
);
    myPathsIndex=ContainerUtil.map2List(entries,new Function<Map.Entry<String,String>,String>(){
      @Override public String fun(      Map.Entry<String,String> entry){
        return entry.getKey();
      }
    }
);
  }
  return myPathsIndex;
}
