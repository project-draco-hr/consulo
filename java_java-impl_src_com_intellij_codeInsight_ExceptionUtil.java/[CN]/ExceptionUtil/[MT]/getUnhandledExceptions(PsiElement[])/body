{
  final List<PsiClassType> array=new ArrayList<PsiClassType>();
  final PsiElementVisitor visitor=new JavaRecursiveElementWalkingVisitor(){
    @Override public void visitCallExpression(    PsiCallExpression expression){
      addExceptions(array,getUnhandledExceptions(expression,null));
      visitElement(expression);
    }
    @Override public void visitThrowStatement(    PsiThrowStatement statement){
      addExceptions(array,getUnhandledExceptions(statement,null));
      visitElement(statement);
    }
    @Override public void visitResourceVariable(    PsiResourceVariable resourceVariable){
      addExceptions(array,getUnhandledCloserExceptions(resourceVariable,null));
      visitElement(resourceVariable);
    }
  }
;
  for (  PsiElement element : elements) {
    element.accept(visitor);
  }
  return array;
}
