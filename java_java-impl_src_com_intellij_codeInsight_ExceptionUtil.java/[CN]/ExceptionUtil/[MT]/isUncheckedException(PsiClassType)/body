{
  final GlobalSearchScope searchScope=type.getResolveScope();
  final PsiClass aClass=type.resolve();
  if (aClass == null)   return false;
  final PsiClass runtimeExceptionClass=ApplicationManager.getApplication().runReadAction(new Computable<PsiClass>(){
    public PsiClass compute(){
      return JavaPsiFacade.getInstance(aClass.getProject()).findClass("java.lang.RuntimeException",searchScope);
    }
  }
);
  if (runtimeExceptionClass != null && InheritanceUtil.isInheritorOrSelf(aClass,runtimeExceptionClass,true)) {
    return true;
  }
  final PsiClass errorClass=ApplicationManager.getApplication().runReadAction(new Computable<PsiClass>(){
    public PsiClass compute(){
      return JavaPsiFacade.getInstance(aClass.getProject()).findClass("java.lang.Error",searchScope);
    }
  }
);
  return errorClass != null && InheritanceUtil.isInheritorOrSelf(aClass,errorClass,true);
}
