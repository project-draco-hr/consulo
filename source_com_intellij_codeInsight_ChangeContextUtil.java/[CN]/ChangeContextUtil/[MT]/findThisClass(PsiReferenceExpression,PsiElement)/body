{
  LOG.assertTrue(refExpr.getQualifierExpression() == null);
  if (!(refMember.getParent() instanceof PsiClass))   return null;
  final PsiClass refMemberClass=(PsiClass)refMember.getParent();
  PsiElement parent=refExpr.getContext();
  while (true) {
    if (parent instanceof PsiClass) {
      if (parent.equals(refMemberClass) || ((PsiClass)parent).isInheritor(refMemberClass,true)) {
        return (PsiClass)parent;
      }
    }
    parent=parent.getContext();
  }
}
