{
  final StringBuffer buffer=new StringBuffer(512);
  for (; ; ) {
    int value=reader.read();
    if (value < 0) {
      if (buffer.length() == 0) {
        continue;
      }
      break;
    }
    final char chr=(char)value;
    if (chr == '\n') {
      break;
    }
    buffer.append(chr);
  }
  return buffer.toString();
}
