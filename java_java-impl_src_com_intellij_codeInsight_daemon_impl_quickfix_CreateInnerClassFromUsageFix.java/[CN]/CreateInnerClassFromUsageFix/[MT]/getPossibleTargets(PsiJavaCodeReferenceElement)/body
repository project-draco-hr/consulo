{
  List<PsiClass> result=new ArrayList<PsiClass>();
  PsiElement run=element;
  PsiMember contextMember=PsiTreeUtil.getParentOfType(run,PsiMember.class);
  while (contextMember != null) {
    if (contextMember instanceof PsiClass && !(contextMember instanceof PsiTypeParameter)) {
      result.add((PsiClass)contextMember);
    }
    run=contextMember;
    contextMember=PsiTreeUtil.getParentOfType(run,PsiMember.class);
    if (contextMember != null && contextMember.hasModifierProperty(PsiModifier.STATIC)) {
      break;
    }
  }
  return result.isEmpty() ? PsiClass.EMPTY_ARRAY : result.toArray(new PsiClass[result.size()]);
}
