{
  if (myPickerFrame != null && myPickerFrame.isShowing()) {
    PointerInfo pointerInfo=MouseInfo.getPointerInfo();
    Point mouseLoc=pointerInfo.getLocation();
    myPickerFrame.setLocation(mouseLoc.x - myPickerFrame.getWidth() / 2,mouseLoc.y - myPickerFrame.getHeight() / 2);
    myPoint.x=mouseLoc.x + myPickOffset.x;
    myPoint.y=mouseLoc.y + myPickOffset.y;
    final Color c=myRobot.getPixelColor(myPoint.x,myPoint.y);
    if (!c.equals(myPreviousColor) || !mouseLoc.equals(myPreviousLocation)) {
      myPreviousColor=c;
      myPreviousLocation=mouseLoc;
      myCaptureRect.setLocation(mouseLoc.x - 2,mouseLoc.y - 2);
      myCaptureRect.setBounds(mouseLoc.x - 2,mouseLoc.y - 2,5,5);
      BufferedImage capture=myRobot.createScreenCapture(myCaptureRect);
      myGraphics.setComposite(AlphaComposite.Src);
      myGraphics.setColor(myTransparentColor);
      myGraphics.fillRect(0,0,myImage.getWidth(),myImage.getHeight());
      myGraphics.drawImage(capture,myZoomRect.x,myZoomRect.y,myZoomRect.width,myZoomRect.height,this);
      myGraphics.setComposite(AlphaComposite.getInstance(AlphaComposite.DST_OUT));
      myGraphics.drawImage(myMaskImage,myZoomRect.x,myZoomRect.y,myZoomRect.width,myZoomRect.height,this);
      myGraphics.setComposite(AlphaComposite.SrcOver);
      myGraphics.drawImage(myMagnifierImage,0,0,this);
      myPickerFrame.setCursor(myParent.getToolkit().createCustomCursor(myImage,myHotspot,"ColorPicker"));
      if (myColorListener != null) {
        myColorListenersNotifier.cancelAllRequests();
        myColorListenersNotifier.addRequest(new Runnable(){
          @Override public void run(){
            myColorListener.colorChanged(c,ColorPipette.this);
          }
        }
,300);
      }
    }
  }
}
