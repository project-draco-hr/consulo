{
  final NumberDocument doc=new NumberDocument(hex);
  final int lafFix=UIUtil.isUnderWindowsClassicLookAndFeel() || UIUtil.isUnderWindowsLookAndFeel() || UIUtil.isUnderDarcula() ? 1 : 0;
  final JTextField field=new JTextField(doc,"",(hex ? 6 : 3) + lafFix);
  field.setSize(50,-1);
  doc.setSource(field);
  field.getDocument().addDocumentListener(this);
  field.addFocusListener(new FocusAdapter(){
    @Override public void focusGained(    final FocusEvent e){
      field.selectAll();
    }
  }
);
  return field;
}
