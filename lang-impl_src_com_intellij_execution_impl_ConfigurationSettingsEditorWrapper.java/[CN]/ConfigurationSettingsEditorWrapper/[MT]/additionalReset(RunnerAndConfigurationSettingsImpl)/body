{
  RunConfiguration runConfiguration=settings.getConfiguration();
  RunManagerImpl runManager=RunManagerImpl.getInstanceImpl(runConfiguration.getProject());
  myStepsBeforeLaunch=runManager.getStepsBeforeRun(runConfiguration);
  final StepsBeforeRunProvider[] providers=Extensions.getExtensions(StepsBeforeRunProvider.EXTENSION_POINT_NAME,runConfiguration.getProject());
  myStepsPanel.removeAll();
  if (providers.length == 0) {
    myStepsPanel.setVisible(false);
  }
 else {
    myStepsPanel.setLayout(new GridLayout(providers.length,1));
    for (    StepsBeforeRunProvider provider : providers) {
      final StepBeforeLaunchRow stepRow=new StepBeforeLaunchRow(runConfiguration,myStepsBeforeLaunch,provider);
      myStepsPanel.add(stepRow);
    }
  }
  mySharedConfiguration=runManager.isConfigurationShared(settings);
  myCbStoreProjectConfiguration.setSelected(mySharedConfiguration);
  myCbStoreProjectConfiguration.addActionListener(new ActionListener(){
    public void actionPerformed(    ActionEvent e){
      mySharedConfiguration=myCbStoreProjectConfiguration.isSelected();
    }
  }
);
}
