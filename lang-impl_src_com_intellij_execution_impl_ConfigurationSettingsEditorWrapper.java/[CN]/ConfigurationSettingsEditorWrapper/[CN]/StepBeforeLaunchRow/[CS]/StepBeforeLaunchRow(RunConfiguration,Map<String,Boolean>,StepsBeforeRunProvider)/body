{
  super(new GridBagLayout());
  final Boolean checkedValue=methodsBeforeRun.get(provider.getStepName());
  boolean isChecked=checkedValue != null && checkedValue.booleanValue();
  myCheckBox=new JCheckBox(provider.getStepName(),isChecked);
  GridBagConstraints gc=new GridBagConstraints(GridBagConstraints.RELATIVE,0,1,1,0,1,GridBagConstraints.WEST,GridBagConstraints.NONE,new Insets(0,0,0,0),0,0);
  add(myCheckBox,gc);
  gc.weightx=1;
  if (provider.hasConfigurationButton()) {
    String descriptionByName=null;
    if (isChecked) {
      descriptionByName=provider.getStepDescription(runConfiguration);
    }
    myCheckBox.setText(getCheckboxText(descriptionByName,provider.getStepName()));
    myButton=new FixedSizeButton(20);
    add(myButton,gc);
    myButton.addActionListener(new ActionListener(){
      public void actionPerformed(      ActionEvent e){
        final String description=provider.configureStep(runConfiguration);
        myCheckBox.setText(getCheckboxText(description,provider.getStepName()));
      }
    }
);
  }
 else {
    add(Box.createHorizontalBox(),gc);
  }
  enableSettings();
  myCheckBox.addActionListener(new ActionListener(){
    public void actionPerformed(    ActionEvent e){
      methodsBeforeRun.put(provider.getStepName(),myCheckBox.isSelected());
      enableSettings();
    }
  }
);
}
