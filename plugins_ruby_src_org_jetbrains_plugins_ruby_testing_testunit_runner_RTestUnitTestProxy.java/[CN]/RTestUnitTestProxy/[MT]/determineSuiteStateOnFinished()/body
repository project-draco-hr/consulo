{
  final AbstractState state;
  if (isLeaf()) {
    state=SuiteFinishedState.EMPTY_SUITE;
  }
 else {
    if (isDefect()) {
      state=!containsErrorTests() ? SuiteFinishedState.FAILED_SUITE : SuiteFinishedState.ERROR_SUITE;
    }
 else {
      state=SuiteFinishedState.PASSED_SUITE;
    }
  }
  return state;
}
