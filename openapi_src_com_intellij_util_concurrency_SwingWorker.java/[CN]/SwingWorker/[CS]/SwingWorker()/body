{
  myModalityState=ModalityState.current();
  final Runnable doFinished=new Runnable(){
    public void run(){
      finished();
    }
  }
;
  Runnable doConstruct=new Runnable(){
    public void run(){
      try {
        setValue(construct());
        if (LOG.isDebugEnabled()) {
          LOG.debug("construct() terminated");
        }
      }
 catch (      Throwable e) {
        LOG.error(e);
        onThrowable();
        throw new RuntimeException(e);
      }
 finally {
        myThreadVar.clear();
      }
      if (LOG.isDebugEnabled()) {
        LOG.debug("invoking 'finished' action");
      }
      ApplicationManager.getApplication().invokeLater(doFinished,myModalityState);
    }
  }
;
  final Thread workerThread=new Thread(doConstruct,"SwingWorker work thread");
  workerThread.setPriority(Thread.NORM_PRIORITY);
  myThreadVar=new ThreadVar(workerThread);
}
