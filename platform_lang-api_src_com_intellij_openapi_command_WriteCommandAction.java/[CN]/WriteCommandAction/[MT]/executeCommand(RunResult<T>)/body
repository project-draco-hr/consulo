{
  final RunResult[] results={result};
  CommandProcessor.getInstance().executeCommand(myProject,new Runnable(){
    @Override public void run(){
      if (isGlobalUndoAction())       CommandProcessor.getInstance().markCurrentCommandAsGlobal(myProject);
      results[0].run();
      results[0]=null;
    }
  }
,getCommandName(),getGroupID(),getUndoConfirmationPolicy());
  return result;
}
