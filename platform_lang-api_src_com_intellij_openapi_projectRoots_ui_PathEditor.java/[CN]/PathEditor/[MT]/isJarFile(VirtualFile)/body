{
  return ApplicationManager.getApplication().runReadAction(new Computable<Boolean>(){
    @Override public Boolean compute(){
      VirtualFile tempFile=file;
      if ((file.getFileSystem() instanceof JarFileSystem) && file.getParent() == null) {
        String path=file.getPath().substring(0,file.getPath().length() - JarFileSystem.JAR_SEPARATOR.length());
        tempFile=LocalFileSystem.getInstance().findFileByPath(path);
      }
      if (tempFile != null && !tempFile.isDirectory()) {
        return Boolean.valueOf(tempFile.getFileType() instanceof ArchiveFileType);
      }
      return Boolean.FALSE;
    }
  }
).booleanValue();
}
