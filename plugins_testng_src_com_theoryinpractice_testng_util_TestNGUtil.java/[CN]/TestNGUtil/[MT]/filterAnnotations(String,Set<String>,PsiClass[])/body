{
  Collection<PsiClass> results=new HashSet<PsiClass>();
  Set<String> test=new HashSet<String>(1);
  test.add(TEST_ANNOTATION_FQN);
  test.addAll(Arrays.asList(CONFIG_ANNOTATIONS_FQN));
  for (  PsiClass psiClass : classes) {
    PsiAnnotation annotation=AnnotationUtil.findAnnotation(psiClass,test);
    if (annotation != null) {
      PsiNameValuePair[] pair=annotation.getParameterList().getAttributes();
      OUTER:       for (      PsiNameValuePair aPair : pair) {
        if (parameter.equals(aPair.getName())) {
          Collection<String> matches=extractValuesFromParameter(aPair);
          for (          String s : matches) {
            if (values.contains(s)) {
              results.add(psiClass);
              break OUTER;
            }
          }
        }
      }
    }
 else {
      Collection<String> matches=extractAnnotationValuesFromJavaDoc(getTextJavaDoc(psiClass),parameter);
      for (      String s : matches) {
        if (values.contains(s)) {
          results.add(psiClass);
          break;
        }
      }
    }
    if (results.contains(psiClass))     continue;
    PsiMethod[] methods=psiClass.getMethods();
    OUTER:     for (    PsiMethod method : methods) {
      annotation=AnnotationUtil.findAnnotation(method,test);
      if (annotation != null) {
        PsiNameValuePair[] pair=annotation.getParameterList().getAttributes();
        for (        PsiNameValuePair aPair : pair) {
          if (parameter.equals(aPair.getName())) {
            Collection<String> matches=extractValuesFromParameter(aPair);
            for (            String s : matches) {
              if (values.contains(s)) {
                results.add(psiClass);
                break OUTER;
              }
            }
          }
        }
      }
 else {
        Collection<String> matches=extractAnnotationValuesFromJavaDoc(getTextJavaDoc(psiClass),parameter);
        for (        String s : matches) {
          if (values.contains(s)) {
            results.add(psiClass);
            break OUTER;
          }
        }
      }
    }
  }
  return results.toArray(new PsiClass[(results.size())]);
}
