{
  final Set<String> test=new HashSet<String>(1);
  test.add(TEST_ANNOTATION_FQN);
  ContainerUtil.addAll(test,CONFIG_ANNOTATIONS_FQN);
  if (psiMethods != null) {
    for (    final PsiMethod psiMethod : psiMethods) {
      ApplicationManager.getApplication().runReadAction(new Runnable(){
        public void run(){
          appendAnnotationAttributeValues(parameter,results,AnnotationUtil.findAnnotation(psiMethod,test),psiMethod);
        }
      }
);
    }
  }
 else {
    for (    final PsiClass psiClass : classes) {
      ApplicationManager.getApplication().runReadAction(new Runnable(){
        public void run(){
          if (psiClass != null && hasTest(psiClass)) {
            appendAnnotationAttributeValues(parameter,results,AnnotationUtil.findAnnotation(psiClass,test),psiClass);
            PsiMethod[] methods=psiClass.getMethods();
            for (            PsiMethod method : methods) {
              if (method != null) {
                appendAnnotationAttributeValues(parameter,results,AnnotationUtil.findAnnotation(method,test),method);
              }
            }
          }
        }
      }
);
    }
  }
}
