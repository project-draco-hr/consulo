{
  JDialog tmpDialog=null;
  Dimension size=null;
  Point pos=null;
  boolean resize=false;
  createJHelp();
  String helpTitle=myHelpSet.getTitle();
  if (myModallyActivated) {
    Window owner=null;
    try {
      Method m=Window.class.getMethod("getOwner",null);
      if (m != null && myDialog != null) {
        owner=(Window)m.invoke(myDialog,null);
      }
    }
 catch (    NoSuchMethodError ex) {
    }
catch (    NoSuchMethodException ex) {
    }
catch (    java.lang.reflect.InvocationTargetException ex) {
    }
catch (    java.lang.IllegalAccessException ex) {
    }
    if (myDialog == null || owner != myOwnerWindow || modalDeactivated) {
      if (myFrame != null) {
        pos=myFrame.getLocation();
        size=myFrame.getSize();
        myFrame.dispose();
      }
      if (myDialog != null) {
        pos=myDialog.getLocation();
        size=myDialog.getSize();
        tmpDialog=myDialog;
      }
      myDialog=new JDialog((Dialog)myOwnerWindow,helpTitle);
      dl=new WindowAdapter(){
        public void windowClosing(        WindowEvent e){
          if (myDialog.isShowing()) {
            myDialog.hide();
          }
          if (myOwnerWindow != null) {
            myOwnerWindow.removeWindowListener(dl);
          }
          myOwnerWindow=null;
          modalDeactivated=true;
        }
      }
;
      myOwnerWindow.addWindowListener(dl);
      modalDeactivated=false;
      if (size != null) {
        myDialog.setSize(size);
      }
 else {
        myDialog.setSize(HELP_WIDTH,HELP_HEIGHT);
      }
      if (pos != null) {
        myDialog.setLocation(pos);
      }
      myDialog.getContentPane().add(jhelp);
      if (tmpDialog != null) {
        tmpDialog.dispose();
      }
    }
  }
 else {
    if (myFrame == null) {
      myFrame=new JFrame(helpTitle);
      resize=true;
      AppUIUtil.updateFrameIcon(myFrame);
      WindowListener l=new WindowAdapter(){
        public void windowClosing(        WindowEvent e){
          myFrame.setVisible(false);
        }
        public void windowClosed(        WindowEvent e){
          myFrame.setVisible(false);
        }
      }
;
      myFrame.addWindowListener(l);
    }
 else {
      pos=myFrame.getLocation();
    }
    if (myDialog != null) {
      pos=myDialog.getLocation();
      size=myDialog.getSize();
      myDialog.dispose();
      myDialog=null;
      myOwnerWindow=null;
    }
    if (size != null) {
      myFrame.setSize(size);
    }
 else     if (resize) {
      myFrame.setSize(HELP_WIDTH,HELP_HEIGHT);
    }
    if (pos != null) {
      myFrame.setLocation(pos);
    }
    myFrame.getContentPane().add(jhelp);
    myFrame.setTitle(myHelpSet.getTitle());
  }
}
