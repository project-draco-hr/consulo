{
  CommandProcessor.getInstance().runUndoTransparentAction(new Runnable(){
    public void run(){
      new WriteAction(){
        protected void run(        Result result) throws Throwable {
          final T component=getComponent();
          final Document document=getEditorTextField(component).getDocument();
          document.replaceString(0,document.getTextLength(),value == null ? "" : value);
        }
      }
.execute();
    }
  }
);
}
