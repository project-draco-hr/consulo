{
  final DataContext dataContext=e.getDataContext();
  Project project=PlatformDataKeys.PROJECT.getData(dataContext);
  if (project == null) {
    e.getPresentation().setEnabled(false);
    return;
  }
  final String listName=(String)dataContext.getData(FavoritesTreeViewPanel.FAVORITES_LIST_NAME);
  FavoritesTreeNodeDescriptor[] roots=(FavoritesTreeNodeDescriptor[])dataContext.getData(FavoritesTreeViewPanel.CONTEXT_FAVORITES_ROOTS);
  e.getPresentation().setEnabled(listName != null && roots != null && roots.length != 0);
}
