{
  if (!acceptFileType(file.getFileType())) {
    return null;
  }
  if (startOffsets.length != 1) {
    return null;
  }
  Document document=editor.getDocument();
  int selStartLine=document.getLineNumber(startOffsets[0]);
  for (int offset=startOffsets[0] - 1; offset >= document.getLineStartOffset(selStartLine); offset--) {
    if (!Character.isWhitespace(document.getCharsSequence().charAt(offset))) {
      return null;
    }
  }
  int tabSize=CodeStyleFacade.getInstance(file.getProject()).getTabSize(file.getFileType());
  int start=document.getLineStartOffset(selStartLine);
  int end=document.getLineEndOffset(selStartLine);
  int minIndent=getIndent(document.getCharsSequence(),start,end,tabSize);
  int firstNonSpaceChar=CharArrayUtil.shiftForward(document.getCharsSequence(),startOffsets[0]," \t");
  int firstLineLeadingSpaces=(firstNonSpaceChar <= document.getLineEndOffset(selStartLine)) ? firstNonSpaceChar - startOffsets[0] : 0;
  return new IndentTransferableData(minIndent,0,firstLineLeadingSpaces);
}
