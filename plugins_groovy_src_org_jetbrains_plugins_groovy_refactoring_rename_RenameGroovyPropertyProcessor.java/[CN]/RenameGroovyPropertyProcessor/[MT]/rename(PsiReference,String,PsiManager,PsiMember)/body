{
  final PsiElement renamed=ref.handleElementRename(newName);
  PsiElement newly_resolved=ref.resolve();
  if (!manager.areElementsEquivalent(newly_resolved,elementToResolve)) {
    if (newly_resolved instanceof PsiMethod) {
      newly_resolved=GroovyPropertyUtils.findFieldForAccessor((PsiMethod)newly_resolved,false);
    }
    if (!manager.areElementsEquivalent(newly_resolved,elementToResolve)) {
      qualify(elementToResolve,renamed,newName);
    }
  }
}
