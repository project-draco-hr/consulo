{
  if (changes.isEmpty()) {
    return;
  }
  int diff=0;
  for (  TextChangeImpl change : changes) {
    diff+=change.getDiff();
  }
  if (length + diff > data.length) {
    throw new IllegalArgumentException(String.format("Can't perform in-place changes merge. Reason: data array is not big enough to hold resulting text. Current size: %d, " + "minimum size: %d",data.length,length + diff));
  }
  for (Context context=new Context(changes,data,length,length + diff); !context.isComplete(); ) {
    if (!context.startGroup()) {
      return;
    }
    context.endGroup();
  }
}
