{
  final FacetTypeId typeId=facet.getTypeId();
  Integer count=myFacetCounts.get(typeId);
  if (count == null)   count=0;
  boolean firstFacet=count == 0;
  count++;
  myFacetCounts.put(typeId,count);
  final EventDispatcher<ProjectWideFacetListener> dispatcher=myDispatchers.get(typeId);
  if (dispatcher != null) {
    if (firstFacet) {
      dispatcher.getMulticaster().firstFacetAdded();
    }
    dispatcher.getMulticaster().facetAdded(facet);
  }
}
