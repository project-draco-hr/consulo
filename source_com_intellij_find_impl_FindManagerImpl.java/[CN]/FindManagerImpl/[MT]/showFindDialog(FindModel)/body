{
  FindDialog findDialog=new FindDialog(myProject,model);
  findDialog.show();
  if (!findDialog.isOK()) {
    return false;
  }
  findDialog.apply();
  String stringToFind=model.getStringToFind();
  if (stringToFind == null || stringToFind.length() == 0) {
    return false;
  }
  FindSettings.getInstance().addStringToFind(stringToFind);
  if (!model.isMultipleFiles()) {
    setFindWasPerformed();
  }
  if (model.isReplaceState()) {
    FindSettings.getInstance().addStringToReplace(model.getStringToReplace());
  }
  if (model.isMultipleFiles() && !model.isProjectScope()) {
    FindSettings.getInstance().addDirectory(model.getDirectoryName());
    if (model.getDirectoryName() != null) {
      myFindInProjectModel.setWithSubdirectories(model.isWithSubdirectories());
    }
  }
  return true;
}
