{
  String oldText=myDirectoryTextField.getText();
  super.onFileChoosen(chosenFile);
  final VcsDescriptor wrapper=(VcsDescriptor)myVCSComboBox.getSelectedItem();
  if (oldText.length() == 0 && (wrapper == null || wrapper.isNone())) {
    VcsDescriptor probableVcs=null;
    for (    VcsDescriptor vcs : myVcses.values()) {
      if (vcs.probablyUnderVcs(chosenFile)) {
        if (probableVcs != null) {
          probableVcs=null;
          break;
        }
        probableVcs=vcs;
      }
    }
    if (probableVcs != null) {
      myVCSComboBox.setSelectedItem(probableVcs);
    }
  }
}
