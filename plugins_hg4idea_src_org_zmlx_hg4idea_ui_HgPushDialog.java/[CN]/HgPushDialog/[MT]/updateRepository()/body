{
  ApplicationManager.getApplication().executeOnPooledThread(new Runnable(){
    @Override public void run(){
      final VirtualFile repo=hgRepositorySelectorComponent.getRepository();
      final HgShowConfigCommand configCommand=new HgShowConfigCommand(myProject);
      final String defaultPath=configCommand.getDefaultPushPath(repo);
      loadBranches(repo);
      ApplicationManager.getApplication().invokeLater(new Runnable(){
        @Override public void run(){
          repositoryTxt.setText(defaultPath);
          update();
        }
      }
,ModalityState.stateForComponent(getRootPane()));
    }
  }
);
}
