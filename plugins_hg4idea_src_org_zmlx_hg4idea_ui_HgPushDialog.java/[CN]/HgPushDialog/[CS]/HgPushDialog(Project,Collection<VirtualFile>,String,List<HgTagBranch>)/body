{
  super(project,false);
  myProject=project;
  hgRepositorySelectorComponent.setRoots(repos);
  updateBranchComboBox(branches);
  updateRepositoryUrlText(defaultPushPath);
  hgRepositorySelectorComponent.setTitle("Select repository to push from");
  hgRepositorySelectorComponent.addActionListener(new ActionListener(){
    public void actionPerformed(    ActionEvent e){
      updateRepository();
    }
  }
);
  final UpdatingListener updatingListener=new UpdatingListener();
  revisionCbx.addChangeListener(updatingListener);
  branchCheckBox.addChangeListener(updatingListener);
  repositoryTxt.getDocument().addDocumentListener(updatingListener);
  revisionTxt.getDocument().addDocumentListener(updatingListener);
  setTitle(HgVcsMessages.message("hg4idea.push.dialog.title"));
  setOKButtonText("Push");
  init();
}
