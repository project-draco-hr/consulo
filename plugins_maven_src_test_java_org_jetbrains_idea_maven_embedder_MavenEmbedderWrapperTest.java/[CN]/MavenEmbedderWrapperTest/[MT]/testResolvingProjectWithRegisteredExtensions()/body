{
  ComponentDescriptor desc=new ComponentDescriptor();
  desc.setRole(ArtifactHandler.ROLE);
  desc.setRoleHint("foo");
  desc.setImplementation(MyArtifactHandler.class.getName());
  myEmbedder.getContainer().addComponentDescriptor(desc);
  createProjectPom("<groupId>test</groupId>" + "<artifactId>project</artifactId>" + "<version>1</version>"+ "<dependencies>"+ "  <dependency>"+ "    <groupId>junit</groupId>"+ "    <artifactId>junit</artifactId>"+ "    <version>3.8.1</version>"+ "    <scope>test</scope>"+ "    <type>foo</type>"+ "  </dependency>"+ "</dependencies>");
  myEmbedder.customizeForResolve(new SoutMavenConsole(),EMPTY_MAVEN_PROCESS);
  MavenExecutionResult result=myEmbedder.resolveProject(myProjectPom,Collections.EMPTY_LIST);
  assertOrderedElementsAreEqual(result.getExceptions());
  assertOrderedElementsAreEqual(result.getUnresolvedArtifactIds());
  assertEquals(1,result.getMavenProject().getArtifacts().size());
  assertEquals("pom",((Artifact)result.getMavenProject().getArtifacts().iterator().next()).getArtifactHandler().getExtension());
}
