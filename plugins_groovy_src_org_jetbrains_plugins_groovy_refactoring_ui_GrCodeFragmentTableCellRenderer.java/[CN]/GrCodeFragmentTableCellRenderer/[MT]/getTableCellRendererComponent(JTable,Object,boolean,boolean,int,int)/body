{
  PsiCodeFragment codeFragment=(GroovyCodeFragment)value;
  final EditorTextField editorTextField;
  if (codeFragment != null) {
    Document document=PsiDocumentManager.getInstance(myProject).getDocument(codeFragment);
    editorTextField=new EditorTextField(document,myProject,GroovyFileType.GROOVY_FILE_TYPE){
      protected boolean shouldHaveBorder(){
        return false;
      }
    }
;
  }
 else {
    editorTextField=new EditorTextField("",myProject,GroovyFileType.GROOVY_FILE_TYPE){
      protected boolean shouldHaveBorder(){
        return false;
      }
    }
;
  }
  editorTextField.setBorder(hasFocus ? BorderFactory.createLineBorder(table.getForeground()) : null);
  return editorTextField;
}
