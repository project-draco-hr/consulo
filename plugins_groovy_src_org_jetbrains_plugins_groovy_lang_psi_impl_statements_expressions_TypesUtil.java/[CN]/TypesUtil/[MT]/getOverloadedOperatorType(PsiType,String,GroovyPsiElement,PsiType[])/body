{
  if (operatorName != null) {
    MethodResolverProcessor processor=new MethodResolverProcessor(operatorName,place,false,thisType,argumentTypes,PsiType.EMPTY_ARRAY);
    if (thisType instanceof PsiClassType) {
      final PsiClassType classtype=(PsiClassType)thisType;
      final PsiClassType.ClassResolveResult resolveResult=classtype.resolveGenerics();
      final PsiClass lClass=resolveResult.getElement();
      if (lClass != null) {
        lClass.processDeclarations(processor,ResolveState.initial().put(PsiSubstitutor.KEY,resolveResult.getSubstitutor()),null,place);
      }
    }
    ResolveUtil.processNonCodeMethods(thisType,processor,place.getProject(),place,false);
    final GroovyResolveResult[] candidates=processor.getCandidates();
    if (candidates.length == 1) {
      final PsiElement element=candidates[0].getElement();
      if (element instanceof PsiMethod) {
        return candidates[0].getSubstitutor().substitute(((PsiMethod)element).getReturnType());
      }
    }
  }
  return null;
}
