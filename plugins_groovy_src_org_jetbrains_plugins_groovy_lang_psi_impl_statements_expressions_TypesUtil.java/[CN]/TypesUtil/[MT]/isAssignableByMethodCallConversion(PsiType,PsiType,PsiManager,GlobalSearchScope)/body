{
  if (lType == null || rType == null)   return false;
  if (rType instanceof GrTupleType && ((GrTupleType)rType).getComponentTypes().length == 0) {
    if (lType instanceof PsiArrayType || InheritanceUtil.isInheritor(lType,JAVA_UTIL_LIST) || InheritanceUtil.isInheritor(lType,JAVA_UTIL_SET)) {
      return true;
    }
  }
  if (isClassType(rType,GROOVY_LANG_GSTRING)) {
    if (isAssignable(lType,GroovyPsiManager.getInstance(manager.getProject()).createTypeByFQClassName(JAVA_LANG_STRING,scope),manager,scope)) {
      return true;
    }
  }
  if (isNumericType(lType) && isNumericType(rType)) {
    lType=unboxPrimitiveTypeWrapper(lType);
    if (isClassType(lType,JAVA_MATH_BIG_DECIMAL))     lType=PsiType.DOUBLE;
    rType=unboxPrimitiveTypeWrapper(rType);
    if (isClassType(rType,JAVA_MATH_BIG_DECIMAL))     rType=PsiType.DOUBLE;
  }
 else {
    if (rType == PsiType.NULL && lType instanceof PsiPrimitiveType)     return false;
    rType=boxPrimitiveType(rType,manager,scope);
    lType=boxPrimitiveType(lType,manager,scope);
  }
  if (unboxPrimitiveTypeWrapper(lType) == PsiType.CHAR && (isClassType(rType,GROOVY_LANG_GSTRING) || isClassType(rType,JAVA_LANG_STRING))) {
    return true;
  }
  if (rType instanceof GrMapType || rType instanceof GrTupleType) {
    Boolean result=isAssignableForNativeTypes(lType,(PsiClassType)rType,manager,scope);
    if (result != null)     return result.booleanValue();
  }
  return TypeConversionUtil.isAssignable(lType,rType);
}
