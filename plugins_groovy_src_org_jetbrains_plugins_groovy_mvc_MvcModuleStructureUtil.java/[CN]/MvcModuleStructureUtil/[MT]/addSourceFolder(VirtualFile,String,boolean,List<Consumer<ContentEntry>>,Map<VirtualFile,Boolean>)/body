{
  final VirtualFile src=root.findFileByRelativePath(relativePath);
  if (src == null) {
    return;
  }
  Boolean existingFolderIsTest=sourceRoots.get(src);
  if (existingFolderIsTest != null) {
    if (isTest && !existingFolderIsTest) {
      actions.add(new Consumer<ContentEntry>(){
        @Override public void consume(        ContentEntry entry){
          for (          ContentFolder folder : entry.getFolders()) {
            if (Comparing.equal(folder.getFile(),src)) {
              entry.removeFolder(folder);
              entry.addFolder(src,ContentFolderType.TEST);
              break;
            }
          }
        }
      }
);
    }
    return;
  }
  actions.add(new Consumer<ContentEntry>(){
    public void consume(    ContentEntry contentEntry){
      contentEntry.addFolder(src,isTest ? ContentFolderType.TEST : ContentFolderType.PRODUCTION);
    }
  }
);
}
