{
  FutureTask<Boolean> task=preprocessFile(file,myProcessChangedTextOnly);
  task.run();
  try {
    if (!task.get() || task.isCancelled()) {
      myStopFormatting=true;
    }
  }
 catch (  InterruptedException e) {
    LOG.error("Got unexpected exception during formatting",e);
  }
catch (  ExecutionException e) {
    LOG.error("Got unexpected exception during formatting",e);
  }
}
