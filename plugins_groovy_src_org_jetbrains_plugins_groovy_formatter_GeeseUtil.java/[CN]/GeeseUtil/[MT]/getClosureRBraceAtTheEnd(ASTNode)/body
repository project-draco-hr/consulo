{
  IElementType elementType=node.getElementType();
  if (elementType == CLOSABLE_BLOCK) {
    PsiElement rBrace=((GrClosableBlock)node.getPsi()).getRBrace();
    return rBrace != null ? rBrace.getNode() : null;
  }
  ASTNode lastChild=node.getLastChildNode();
  while (lastChild != null && WHITE_SPACES_SET.contains(lastChild.getElementType())) {
    lastChild=lastChild.getTreePrev();
  }
  if (lastChild == null)   return null;
  return getClosureRBraceAtTheEnd(lastChild);
}
