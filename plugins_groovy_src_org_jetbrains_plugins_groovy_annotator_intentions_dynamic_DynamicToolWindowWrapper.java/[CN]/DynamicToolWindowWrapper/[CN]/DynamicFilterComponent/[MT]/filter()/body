{
  DefaultMutableTreeNode rootNode=new DefaultMutableTreeNode();
  buildTree(myProject,rootNode);
  String filterText;
  DefaultMutableTreeNode newContainingClassNode;
  TreeNode containingClassNode;
  try {
    containingClassNode=rootNode.getFirstChild();
  }
 catch (  Exception e) {
    return;
  }
  while (containingClassNode != null) {
    if (!(containingClassNode instanceof DefaultMutableTreeNode))     break;
    TreeNode child;
    try {
      child=((DefaultMutableTreeNode)containingClassNode).getFirstChild();
    }
 catch (    Exception e) {
      return;
    }
    DefaultMutableTreeNode newChild;
    while (child != null) {
      if (!(child instanceof DefaultMutableTreeNode))       break;
      final Object userObject=((DefaultMutableTreeNode)child).getUserObject();
      if (!(userObject instanceof DPropertyNode) && !(userObject instanceof DMethodNode))       break;
      filterText=getFilter();
      if (filterText == null || "".equals(filterText))       break;
      final String name=(((DItemNode)userObject)).getElement().getDynamicVirtualElement().getName();
      newChild=((DefaultMutableTreeNode)child).getNextSibling();
      if (!name.contains(filterText)) {
        final TreeNode parent=child.getParent();
        if (!(parent instanceof DefaultMutableTreeNode))         break;
        ((DefaultMutableTreeNode)parent).remove(((DefaultMutableTreeNode)child));
      }
 else {
        ((DItemNode)userObject).getElement().setHightlightedText(filterText);
      }
      child=newChild;
    }
    newContainingClassNode=((DefaultMutableTreeNode)containingClassNode).getNextSibling();
    if (containingClassNode.getChildCount() == 0) {
      final TreeNode parent=containingClassNode.getParent();
      if (!(parent instanceof DefaultMutableTreeNode))       break;
      ((DefaultMutableTreeNode)parent).remove(((DefaultMutableTreeNode)containingClassNode));
    }
    containingClassNode=newContainingClassNode;
  }
  rebuildTreeView(myProject,rootNode,true);
}
