{
  PsiDocumentManager.getInstance(myProject).commitAllDocuments();
  if (!isDynamicToolWindowShowing())   return;
  myTreeTablePanel.removeAll();
  final JScrollPane treeTable=createTable(root);
  if (expandAll) {
    TreeUtil.expandAll(myTreeTable.getTree());
  }
  boolean hadFocus=IJSwingUtilities.hasFocus2(myTreeTable);
  if (hadFocus) {
    JComponent focusedComponent=IdeFocusTraversalPolicy.getPreferredFocusedComponent(myTreeTable);
    if (focusedComponent != null) {
      focusedComponent.requestFocus();
    }
  }
  myTreeTablePanel.add(treeTable);
}
