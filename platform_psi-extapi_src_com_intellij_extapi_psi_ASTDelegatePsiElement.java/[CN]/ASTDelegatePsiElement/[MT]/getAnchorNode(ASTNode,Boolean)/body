{
  ASTNode anchorBefore;
  if (anchor != null) {
    anchorBefore=before.booleanValue() ? anchor : anchor.getTreeNext();
  }
 else {
    if (before != null && !before.booleanValue()) {
      anchorBefore=getNode().getFirstChildNode();
    }
 else {
      anchorBefore=null;
    }
  }
  return anchorBefore;
}
