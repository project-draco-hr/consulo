{
  boolean languageProviderFound=false;
  for (  LanguageCodeStyleSettingsProvider provider : Extensions.getExtensions(LanguageCodeStyleSettingsProvider.EP_NAME)) {
    if (provider.getLanguage().is(language)) {
      resetDefaultNames();
      provider.customizeSettings(this,getSettingsType());
      languageProviderFound=true;
      break;
    }
  }
  if (!languageProviderFound)   return false;
  myLanguage=language;
  setSkipPreviewHighlighting(true);
  try {
    onLanguageChange(language);
  }
  finally {
    setSkipPreviewHighlighting(false);
  }
  updatePreview();
  return true;
}
