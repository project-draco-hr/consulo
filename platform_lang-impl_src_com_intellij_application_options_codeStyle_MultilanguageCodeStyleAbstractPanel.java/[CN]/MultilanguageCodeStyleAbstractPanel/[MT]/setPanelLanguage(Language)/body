{
  myLanguage=language;
  for (  LanguageCodeStyleSettingsProvider provider : Extensions.getExtensions(LanguageCodeStyleSettingsProvider.EP_NAME)) {
    if (provider.getLanguage().is(language)) {
      provider.customizeSettings(this,getSettingsType());
    }
  }
  setSkipPreviewHighlighting(true);
  try {
    onLanguageChange(language);
  }
  finally {
    setSkipPreviewHighlighting(false);
  }
  updatePreview();
}
