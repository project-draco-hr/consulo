{
  if (getSettingsType() != LanguageCodeStyleSettingsProvider.SettingsType.LANGUAGE_SPECIFIC) {
    tabbedPane=new JBTabbedPane();
    tabbedPane.setTabLayoutPolicy(JTabbedPane.SCROLL_TAB_LAYOUT);
    Language[] langs=LanguageCodeStyleSettingsProvider.getLanguagesWithSharedPreview();
    if (langs.length == 0)     return;
    for (    Language lang : langs) {
      tabbedPane.addTab(getTabName(lang),createDummy());
    }
    tabbedPane.setComponentAt(0,getEditor().getComponent());
    myLangSelectionIndex=0;
    if (myLanguage == null) {
      setPanelLanguage(langs[0]);
    }
 else {
      updatePreview(true);
    }
    tabbedPane.addChangeListener(new ChangeListener(){
      @Override public void stateChanged(      ChangeEvent e){
        onTabSelection((JTabbedPane)e.getSource());
      }
    }
);
    previewPanel.add(tabbedPane,BorderLayout.CENTER);
    previewPanel.addAncestorListener(new AncestorListener(){
      @Override public void ancestorAdded(      AncestorEvent event){
        selectCurrentLanguageTab();
      }
      @Override public void ancestorRemoved(      AncestorEvent event){
      }
      @Override public void ancestorMoved(      AncestorEvent event){
      }
    }
);
  }
 else {
    previewPanel.add(getEditor().getComponent(),BorderLayout.CENTER);
    updatePreview(true);
  }
}
