{
  if (getSettingsType() != LanguageCodeStyleSettingsProvider.SettingsType.LANGUAGE_SPECIFIC) {
    tabbedPane=new JTabbedPane();
    tabbedPane.setTabLayoutPolicy(JTabbedPane.SCROLL_TAB_LAYOUT);
    Language[] langs=LanguageCodeStyleSettingsProvider.getLanguagesWithCodeStyleSettings();
    if (langs.length == 0)     return;
    for (    Language lang : langs) {
      tabbedPane.addTab(lang.getDisplayName(),createDummy());
    }
    tabbedPane.setComponentAt(0,getEditor().getComponent());
    myLangSelectionIndex=0;
    if (myLanguage == null) {
      setPanelLanguage(langs[0]);
    }
 else {
      updatePreviewEditor();
    }
    tabbedPane.addChangeListener(new ChangeListener(){
      public void stateChanged(      ChangeEvent e){
        onTabSelection((JTabbedPane)e.getSource());
      }
    }
);
    previewPanel.add(tabbedPane,BorderLayout.CENTER);
    previewPanel.addAncestorListener(new AncestorListener(){
      public void ancestorAdded(      AncestorEvent event){
        selectCurrentLanguageTab();
      }
      public void ancestorRemoved(      AncestorEvent event){
      }
      public void ancestorMoved(      AncestorEvent event){
      }
    }
);
  }
 else {
    previewPanel.add(getEditor().getComponent(),BorderLayout.CENTER);
    updatePreviewEditor();
  }
}
