{
  if (boundedComponent == null) {
    boundedComponent=new TextPanel();
  }
  final PsiCodeFragmentImpl psiFile=new PsiCodeFragmentImpl(project,ElementType.PLAIN_TEXT,true,"a.txt","");
  final Document document=PsiDocumentManager.getInstance(project).getDocument(psiFile);
  final TextPanel boundedComponent1=boundedComponent;
  final EditorTextField editorTextField=new EditorTextField(document,project,StdFileTypes.PLAIN_TEXT){
    protected EditorEx createEditor(){
      final EditorEx editor=super.createEditor();
      if (boundedComponent1 instanceof MultiLineTextPanel) {
        MultiLineTextPanel panel=(MultiLineTextPanel)boundedComponent1;
        editor.setOneLineMode(false);
        editor.getComponent().setPreferredSize(new JTextArea(panel.getRowCount(),50).getPreferredSize());
      }
      return editor;
    }
  }
;
  boundedComponent.add(editorTextField);
  return boundedComponent;
}
