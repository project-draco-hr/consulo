{
  final JBList list=new JBList(siblings);
  list.setDataProvider(new DataProvider(){
    @Override public Object getData(    @NonNls String dataId){
      return panel.getData(dataId);
    }
  }
);
  list.installCellRenderer(new NotNullFunction<Object,JComponent>(){
    @NotNull @Override public JComponent fun(    Object obj){
      return new NavBarItem(panel,obj);
    }
  }
);
  list.setBorder(IdeBorderFactory.createEmptyBorder(5,5,5,5));
  list.setSelectedIndex(selectedIndex);
  list.registerKeyboardAction(createMoveAction(panel,-1),KeyStroke.getKeyStroke(KeyEvent.VK_LEFT,0),JComponent.WHEN_FOCUSED);
  list.registerKeyboardAction(createMoveAction(panel,1),KeyStroke.getKeyStroke(KeyEvent.VK_RIGHT,0),JComponent.WHEN_FOCUSED);
  list.addFocusListener(new FocusAdapter(){
    @Override public void focusLost(    FocusEvent e){
      panel.cancelPopup();
    }
  }
);
  return list;
}
