{
  final JBListWithHintProvider list=new JBListWithHintProvider(siblings){
    @Override protected PsiElement getPsiElementForHint(    Object selectedValue){
      return selectedValue instanceof PsiElement ? (PsiElement)selectedValue : null;
    }
  }
;
  list.setDataProvider(new DataProvider(){
    @Override public Object getData(    @NonNls String dataId){
      return panel.getData(dataId);
    }
  }
);
  list.installCellRenderer(new NotNullFunction<Object,JComponent>(){
    @NotNull @Override public JComponent fun(    Object obj){
      final NavBarItem navBarItem=new NavBarItem(panel,obj);
      return navBarItem;
    }
  }
);
  list.setBorder(IdeBorderFactory.createEmptyBorder(5,5,5,5));
  installMoveAction(list,panel,-1,KeyEvent.VK_LEFT);
  installMoveAction(list,panel,1,KeyEvent.VK_RIGHT);
  installEnterAction(list,panel,KeyEvent.VK_ENTER);
  installEscapeAction(list,panel,KeyEvent.VK_ESCAPE);
  final JComponent component=ListWithFilter.wrap(list,new NavBarListWrapper(list),new Function<Object,String>(){
    @Override public String fun(    Object o){
      return NavBarPresentation.getPresentableText(o,panel.getWindow());
    }
  }
);
  component.putClientProperty(JBLIST_KEY,list);
  return component;
}
