{
  final RelativePoint point=new RelativePoint(item,new Point(0,item.getHeight()));
  final Point p=point.getPoint(myPanel);
  if (p.x == 0 && p.y == 0 && checkRepaint) {
    SwingUtilities.invokeLater(new Runnable(){
      @Override public void run(){
        myPanel.getUpdateQueue().rebuildUi();
        SwingUtilities.invokeLater(new Runnable(){
          @Override public void run(){
            show(item,false);
          }
        }
);
      }
    }
);
  }
 else {
    int offset=NavBarUIManager.getUI().getPopupOffset(item);
    show(myPanel,p.x - offset,p.y,myPanel,new HintHint(myPanel,p));
    final JBList list=getList();
    if (0 <= myIndex && myIndex < list.getItemsCount()) {
      ListScrollingUtil.selectItem(list,myIndex);
    }
  }
  if (myPanel.isInFloatingMode()) {
    final Window window=SwingUtilities.windowForComponent(getList());
    window.addWindowFocusListener(new WindowFocusListener(){
      @Override public void windowGainedFocus(      WindowEvent e){
      }
      @Override public void windowLostFocus(      WindowEvent e){
        final Window w=e.getOppositeWindow();
        if (w != null && DialogWrapper.findInstance(w.getComponent(0)) != null) {
          myPanel.hideHint();
        }
      }
    }
);
  }
}
