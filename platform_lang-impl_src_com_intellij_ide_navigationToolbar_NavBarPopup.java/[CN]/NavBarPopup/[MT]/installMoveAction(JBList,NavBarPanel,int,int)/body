{
  final AbstractAction action=new AbstractAction(){
    @Override public void actionPerformed(    ActionEvent e){
      panel.cancelPopup();
      panel.shiftFocus(direction);
      panel.restorePopup();
    }
  }
;
  list.registerKeyboardAction(action,KeyStroke.getKeyStroke(keyCode,0),JComponent.WHEN_FOCUSED);
}
