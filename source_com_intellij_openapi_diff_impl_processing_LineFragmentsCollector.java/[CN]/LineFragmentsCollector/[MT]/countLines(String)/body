{
  if (text == null)   return 0;
  int count=0;
  char[] chars=text.toCharArray();
  for (int i=0; i < chars.length; i++) {
    char aChar=chars[i];
    if (aChar == '\n')     count++;
  }
  if (chars[chars.length - 1] != '\n')   count++;
  return count;
}
