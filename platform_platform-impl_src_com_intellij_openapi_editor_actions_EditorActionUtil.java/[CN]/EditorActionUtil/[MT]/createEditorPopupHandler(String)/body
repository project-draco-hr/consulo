{
  return new EditorPopupHandler(){
    public void invokePopup(    final EditorMouseEvent event){
      if (!event.isConsumed() && event.getArea() == EditorMouseEventArea.EDITING_AREA) {
        ActionGroup group=(ActionGroup)CustomActionsSchema.getInstance().getCorrectedAction(groupId);
        ActionPopupMenu popupMenu=ActionManager.getInstance().createActionPopupMenu(ActionPlaces.EDITOR_POPUP,group);
        MouseEvent e=event.getMouseEvent();
        final Component c=e.getComponent();
        if (c != null && c.isShowing()) {
          popupMenu.getComponent().show(c,e.getX(),e.getY());
        }
        e.consume();
      }
    }
  }
;
}
