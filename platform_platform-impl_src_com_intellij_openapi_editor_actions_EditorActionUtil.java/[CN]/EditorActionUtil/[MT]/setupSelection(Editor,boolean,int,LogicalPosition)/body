{
  SelectionModel selectionModel=editor.getSelectionModel();
  CaretModelImpl caretModel=(CaretModelImpl)editor.getCaretModel();
  if (isWithSelection) {
    if (editor.isColumnMode()) {
      selectionModel.setBlockSelection(blockSelectionStart,caretModel.getLogicalPosition());
    }
 else {
      selectionModel.setSelection(selectionStart,caretModel.getVisualPosition(),caretModel.getOffset());
    }
  }
 else {
    selectionModel.removeSelection();
  }
  caretModel.selectNonexpandableFold();
}
