{
  SelectionModel selectionModel=editor.getSelectionModel();
  CaretModel caretModel=editor.getCaretModel();
  if (isWithSelection) {
    if (editor.isColumnMode() && !caretModel.supportsMultipleCarets()) {
      selectionModel.setBlockSelection(blockSelectionStart,caretModel.getLogicalPosition());
    }
 else {
      selectionModel.setSelection(selectionStart,caretModel.getVisualPosition(),caretModel.getOffset());
    }
  }
 else {
    selectionModel.removeSelection();
  }
  selectNonexpandableFold(editor);
}
