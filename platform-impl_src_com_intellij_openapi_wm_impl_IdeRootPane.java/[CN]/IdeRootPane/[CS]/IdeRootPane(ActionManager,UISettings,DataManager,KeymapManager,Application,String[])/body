{
  myActionManager=actionManager;
  myUISettings=uiSettings;
  updateToolbar();
  myContentPane.add(myNorthPanel,BorderLayout.NORTH);
  createStatusBar();
  updateStatusBarVisibility();
  myContentPane.add(myStatusBar,BorderLayout.SOUTH);
  myUISettingsListener=new MyUISettingsListenerImpl();
  setJMenuBar(new IdeMenuBar(myActionManager,dataManager,keymapManager));
  final Ref<Boolean> willOpenProject=new Ref<Boolean>(Boolean.FALSE);
  final AppLifecycleListener lifecyclePublisher=application.getMessageBus().syncPublisher(AppLifecycleListener.TOPIC);
  lifecyclePublisher.appFrameCreated(commandLineArgs,willOpenProject);
  LOG.info("App initialization took " + (System.nanoTime() - PluginManager.startupStart) / 1000000 + " ms");
  if (!willOpenProject.get()) {
    myWelcomePane=WelcomeScreen.createWelcomePanel();
    myContentPane.add(myWelcomePane);
    lifecyclePublisher.welcomeScreenDisplayed();
  }
  myGlassPane=new IdeGlassPaneImpl(this);
  setGlassPane(myGlassPane);
  myGlassPaneInitialized=true;
  myGlassPane.setVisible(false);
  myApplication=application;
  myStatusBar.setCustomComponentsFactory(Arrays.asList(StatusBarCustomComponentFactory.EP_NAME.getExtensions()));
}
