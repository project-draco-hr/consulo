{
  if (element == null)   return Collections.emptyList();
  final Instruction[] flow;
  if (element instanceof GrControlFlowOwner) {
    flow=((GrControlFlowOwner)element).getControlFlow();
  }
 else {
    flow=new ControlFlowBuilder(element.getProject()).buildControlFlow((GroovyPsiElement)element);
  }
  boolean[] visited=new boolean[flow.length];
  final List<GrStatement> res=new ArrayList<GrStatement>();
  visitAllExitPointsInner(flow[flow.length - 1],flow[0],visited,new ExitPointVisitor(){
    @Override public boolean visitExitPoint(    Instruction instruction,    @Nullable GrExpression returnValue){
      final PsiElement element=instruction.getElement();
      if (element instanceof GrReturnStatement || (allExitPoints && instruction instanceof MaybeReturnInstruction)) {
        res.add((GrStatement)element);
      }
      return true;
    }
  }
);
  return res;
}
