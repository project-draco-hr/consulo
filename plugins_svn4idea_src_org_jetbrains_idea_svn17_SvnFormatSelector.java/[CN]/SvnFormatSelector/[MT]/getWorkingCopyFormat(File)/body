{
  try {
    final SvnWcGeneration svnWcGeneration=SvnOperationFactory.detectWcGeneration(path,true);
    if (SvnWcGeneration.V17.equals(svnWcGeneration))     return WorkingCopyFormat.ONE_DOT_SEVEN;
  }
 catch (  SVNException e) {
  }
  int format=0;
  try {
    format=SVNAdminAreaFactory.checkWC(path,false);
  }
 catch (  SVNException e) {
  }
  try {
    if (format == 0 && path.getParentFile() != null) {
      format=SVNAdminAreaFactory.checkWC(path.getParentFile(),false);
    }
  }
 catch (  SVNException e) {
  }
  return WorkingCopyFormat.getInstance(format);
}
