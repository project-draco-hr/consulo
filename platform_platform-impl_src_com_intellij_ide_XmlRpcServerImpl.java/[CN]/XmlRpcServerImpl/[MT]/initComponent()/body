{
  if (ApplicationManager.getApplication().isUnitTestMode() || !checkPort())   return;
  final Thread thread=Thread.currentThread();
  final int currentPriority=thread.getPriority();
  try {
    thread.setPriority(Thread.NORM_PRIORITY - 2);
    final InetAddress address=getBindAddress();
    final int port=getPortNumber();
    myWebServer=new IdeaAwareWebServer(port,address,new IdeaAwareXmlRpcServer());
    myWebServer.start();
    LOG.info("XmlRpc server listening at " + address + ":"+ port);
  }
 catch (  Exception e) {
    LOG.error(e);
    myWebServer=null;
  }
 finally {
    thread.setPriority(currentPriority);
  }
  for (  XmlRpcHandlerBean handlerBean : Extensions.getExtensions(XmlRpcHandlerBean.EP_NAME)) {
    final Object handler;
    try {
      handler=handlerBean.instantiate();
    }
 catch (    ClassNotFoundException e) {
      LOG.error(e);
      continue;
    }
    addHandler(handlerBean.name,handler);
  }
}
