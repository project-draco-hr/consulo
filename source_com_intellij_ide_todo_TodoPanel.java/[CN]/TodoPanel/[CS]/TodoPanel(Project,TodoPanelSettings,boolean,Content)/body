{
  super(new BorderLayout());
  myProject=project;
  mySettings=settings;
  myCurrentFileMode=currentFileMode;
  myContent=content;
  DefaultTreeModel model=new DefaultTreeModel(new DefaultMutableTreeNode());
  myTree=new Tree(model);
  myTreeExpander=new MyTreeExpander();
  myOccurenceNavigator=new MyOccurenceNavigator();
  initUI();
  myTodoTreeBuilder=createTreeBuilder(myTree,model,myProject);
  updateTodoFilter();
  myTodoTreeBuilder.setShowPackages(mySettings.arePackagesShown());
  myTodoTreeBuilder.setShowModules(mySettings.areModulesShown());
  myTodoTreeBuilder.setFlattenPackages(mySettings.areFlattenPackages());
  myVisibilityWatcher=new MyVisibilityWatcher();
  myVisibilityWatcher.install(this);
}
