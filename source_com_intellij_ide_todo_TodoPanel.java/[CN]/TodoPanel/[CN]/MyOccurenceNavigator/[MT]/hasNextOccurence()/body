{
  TreePath path=myTree.getSelectionPath();
  if (path == null) {
    return false;
  }
  DefaultMutableTreeNode node=(DefaultMutableTreeNode)path.getLastPathComponent();
  NodeDescriptor userObject=(NodeDescriptor)node.getUserObject();
  if (userObject == null) {
    return false;
  }
  Object element=userObject.getElement();
  if (element instanceof TodoItemNode) {
    return myTree.getRowCount() != myTree.getRowForPath(path) + 1;
  }
 else {
    return node.getChildCount() > 0;
  }
}
