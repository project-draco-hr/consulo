{
  if (DataConstants.NAVIGATABLE.equals(dataId)) {
    TreePath path=myTree.getSelectionPath();
    if (path == null) {
      return null;
    }
    DefaultMutableTreeNode node=(DefaultMutableTreeNode)path.getLastPathComponent();
    NodeDescriptor userObject=(NodeDescriptor)node.getUserObject();
    if (userObject == null) {
      return null;
    }
    Object element=userObject.getElement();
    if (!(element instanceof TodoFileNode || element instanceof TodoItemNode)) {
      return null;
    }
    TodoItemNode pointer=myTodoTreeBuilder.getFirstPointerForElement(element);
    if (pointer != null) {
      return new OpenFileDescriptor(myProject,pointer.getValue().getTodoItem().getFile().getVirtualFile(),pointer.getValue().getRangeMarker().getStartOffset());
    }
 else {
      return null;
    }
  }
 else   if (DataConstants.VIRTUAL_FILE.equals(dataId)) {
    final PsiFile file=getSelectedFile();
    return file != null ? file.getVirtualFile() : null;
  }
 else   if (DataConstants.PSI_ELEMENT.equals(dataId)) {
    return getSelectedElement();
  }
 else   if (DataConstants.VIRTUAL_FILE_ARRAY.equals(dataId)) {
    PsiFile file=getSelectedFile();
    if (file != null) {
      return new VirtualFile[]{file.getVirtualFile()};
    }
 else {
      return VirtualFile.EMPTY_ARRAY;
    }
  }
 else   if (DataConstants.HELP_ID.equals(dataId)) {
    return "find.todoList";
  }
  return null;
}
