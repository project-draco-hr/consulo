{
  final CompilerProjectExtension compilerProjectExtension=CompilerProjectExtension.getInstance(myProject);
  if (myProjectName != null && myProjectName.getText().trim().length() == 0) {
    throw new ConfigurationException("Please, specify project name!");
  }
  ApplicationManager.getApplication().runWriteAction(new Runnable(){
    public void run(){
      String canonicalPath=myProjectCompilerOutput.getText();
      if (canonicalPath != null && canonicalPath.length() > 0) {
        try {
          canonicalPath=FileUtil.resolveShortWindowsName(canonicalPath);
        }
 catch (        IOException e) {
        }
        canonicalPath=FileUtil.toSystemIndependentName(canonicalPath);
        compilerProjectExtension.setCompilerOutputUrl(VfsUtil.pathToUrl(canonicalPath));
      }
 else {
        compilerProjectExtension.setCompilerOutputPointer(null);
      }
      final LanguageLevel newLevel=(LanguageLevel)myLanguageLevelCombo.getSelectedItem();
      LanguageLevelProjectExtension.getInstance(myProject).setLanguageLevel(newLevel);
      myProjectJdkConfigurable.apply();
      if (myProjectName != null) {
        ((ProjectEx)myProject).setProjectName(myProjectName.getText().trim());
        if (myDetailsComponent != null)         myDetailsComponent.setText(getBannerSlogan());
      }
    }
  }
);
}
