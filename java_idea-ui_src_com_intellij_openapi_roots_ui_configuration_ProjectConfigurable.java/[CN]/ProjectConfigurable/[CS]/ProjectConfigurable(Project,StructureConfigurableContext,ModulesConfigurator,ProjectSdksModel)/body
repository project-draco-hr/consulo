{
  myProject=project;
  myContext=context;
  myModulesConfigurator=configurator;
  mySettingsElement=new GeneralProjectSettingsElement(context);
  final ProjectStructureDaemonAnalyzer daemonAnalyzer=context.getDaemonAnalyzer();
  myModulesConfigurator.addAllModuleChangeListener(new ModuleEditor.ChangeListener(){
    @Override public void moduleStateChanged(    ModifiableRootModel moduleRootModel){
      daemonAnalyzer.queueUpdate(mySettingsElement);
    }
  }
);
  daemonAnalyzer.addListener(new ProjectStructureDaemonAnalyzerListener(){
    @Override public void usagesCollected(    @NotNull ProjectStructureElement containingElement){
    }
    @Override public void problemsChanged(    @NotNull ProjectStructureElement element){
      if (element instanceof GeneralProjectSettingsElement) {
        updateCircularDependencyWarning();
      }
    }
    @Override public void allProblemsChanged(){
      updateCircularDependencyWarning();
    }
  }
);
  init(model);
}
