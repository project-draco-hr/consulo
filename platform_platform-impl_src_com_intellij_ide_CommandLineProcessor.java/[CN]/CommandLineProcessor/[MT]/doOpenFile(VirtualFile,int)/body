{
  final Project[] projects=ProjectManager.getInstance().getOpenProjects();
  if (projects.length == 0) {
    Messages.showErrorDialog("No project found to open file in","Cannot open file");
    return null;
  }
 else {
    final Project project=projects[0];
    new OpenFileDescriptor(project,virtualFile,line - 1,line != -1 ? 0 : -1).navigate(true);
    return project;
  }
}
