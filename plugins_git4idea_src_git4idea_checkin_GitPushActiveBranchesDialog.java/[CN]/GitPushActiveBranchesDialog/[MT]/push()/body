{
  final Collection<Root> rootsToPush=getRootsToPush();
  final AtomicReference<Collection<VcsException>> errors=new AtomicReference<Collection<VcsException>>();
  ProgressManager.getInstance().runProcessWithProgressSynchronously(new Runnable(){
    public void run(){
      errors.set(executePushCommand(rootsToPush));
    }
  }
,GitBundle.getString("push.active.pushing"),true,myProject);
  if (errors.get() != null && !errors.get().isEmpty()) {
    GitUIUtil.showOperationErrors(myProject,errors.get(),GitBundle.getString("push.active.pushing"));
  }
  refreshTree(false,null);
}
