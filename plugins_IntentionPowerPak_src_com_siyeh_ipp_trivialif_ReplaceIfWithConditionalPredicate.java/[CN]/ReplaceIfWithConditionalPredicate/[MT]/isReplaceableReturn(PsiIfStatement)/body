{
  PsiStatement thenBranch=ifStatement.getThenBranch();
  thenBranch=ConditionalUtils.stripBraces(thenBranch);
  PsiStatement elseBranch=ifStatement.getElseBranch();
  elseBranch=ConditionalUtils.stripBraces(elseBranch);
  if (!(thenBranch instanceof PsiReturnStatement) || !(elseBranch instanceof PsiReturnStatement)) {
    return false;
  }
  final PsiExpression thenReturn=((PsiReturnStatement)thenBranch).getReturnValue();
  if (thenReturn == null) {
    return false;
  }
  final PsiExpression elseReturn=((PsiReturnStatement)elseBranch).getReturnValue();
  if (elseReturn == null) {
    return false;
  }
  final PsiType thenType=thenReturn.getType();
  final PsiType elseType=elseReturn.getType();
  if (thenType == null || elseType == null) {
    return false;
  }
  if (!(thenType.isAssignableFrom(elseType) || elseType.isAssignableFrom(thenType))) {
    return false;
  }
  return true;
}
