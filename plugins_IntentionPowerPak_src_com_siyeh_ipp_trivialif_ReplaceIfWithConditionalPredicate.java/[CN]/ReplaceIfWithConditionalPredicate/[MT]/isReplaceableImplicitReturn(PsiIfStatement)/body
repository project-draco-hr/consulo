{
  PsiElement nextStatement=ifStatement.getNextSibling();
  while (nextStatement != null && nextStatement instanceof PsiWhiteSpace) {
    nextStatement=nextStatement.getNextSibling();
  }
  if (nextStatement == null) {
    return false;
  }
  if (!(nextStatement instanceof PsiReturnStatement)) {
    return false;
  }
  PsiStatement thenBranch=ifStatement.getThenBranch();
  thenBranch=ConditionalUtils.stripBraces(thenBranch);
  if (!(thenBranch instanceof PsiReturnStatement)) {
    return false;
  }
  final PsiExpression thenReturn=((PsiReturnStatement)thenBranch).getReturnValue();
  if (thenReturn == null) {
    return false;
  }
  final PsiType thenType=thenReturn.getType();
  if (thenType == null) {
    return false;
  }
  final PsiExpression elseReturn=((PsiReturnStatement)nextStatement).getReturnValue();
  if (elseReturn == null) {
    return false;
  }
  final PsiType elseType=elseReturn.getType();
  if (elseType == null) {
    return false;
  }
  if (!(thenType.isAssignableFrom(elseType) || elseType.isAssignableFrom(thenType))) {
    return false;
  }
  return true;
}
