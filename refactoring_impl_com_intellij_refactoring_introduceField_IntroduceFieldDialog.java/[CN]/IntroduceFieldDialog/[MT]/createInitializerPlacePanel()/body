{
  JPanel mainPanel=new JPanel();
  mainPanel.setLayout(new BorderLayout());
  JPanel initializationPanel=new JPanel();
  initializationPanel.setBorder(IdeBorderFactory.createTitledBorder(RefactoringBundle.message("initialize.in.border.title")));
  initializationPanel.setLayout(new BoxLayout(initializationPanel,BoxLayout.Y_AXIS));
  JPanel visibilityPanel=new JPanel();
  visibilityPanel.setBorder(IdeBorderFactory.createTitledBorder(RefactoringBundle.message("visibility.border.title")));
  visibilityPanel.setLayout(new BoxLayout(visibilityPanel,BoxLayout.Y_AXIS));
  myRbInCurrentMethod=new JRadioButton();
  myRbInCurrentMethod.setText(RefactoringBundle.message("current.method.radio"));
  myRbInCurrentMethod.setEnabled(myAllowInitInMethod);
  myRbInFieldDeclaration=new JRadioButton();
  myRbInFieldDeclaration.setText(RefactoringBundle.message("field.declaration.radio"));
  myRbInConstructor=new JRadioButton();
  myRbInConstructor.setText(RefactoringBundle.message("class.constructors.radio"));
  myRbPrivate=new JRadioButton();
  myRbPrivate.setText(RefactoringBundle.message("visibility.private"));
  myRbPrivate.setFocusable(false);
  myRbPackageLocal=new JRadioButton();
  myRbPackageLocal.setText(RefactoringBundle.message("visibility.package.local"));
  myRbPackageLocal.setFocusable(false);
  myRbProtected=new JRadioButton();
  myRbProtected.setText(RefactoringBundle.message("visibility.protected"));
  myRbProtected.setFocusable(false);
  myRbPublic=new JRadioButton();
  myRbPublic.setText(RefactoringBundle.message("visibility.public"));
  myRbPublic.setFocusable(false);
  myCbFinal=new StateRestoringCheckBox();
  myCbFinal.setText(RefactoringBundle.message("declare.final"));
  initializationPanel.add(myRbInCurrentMethod);
  initializationPanel.add(myRbInFieldDeclaration);
  initializationPanel.add(myRbInConstructor);
  if (TestUtil.isTestClass(myParentClass)) {
    myRbInSetUp=new JRadioButton();
    myRbInSetUp.setText(RefactoringBundle.message("setup.method.radio"));
    initializationPanel.add(myRbInSetUp);
  }
  ButtonGroup bg=new ButtonGroup();
  bg.add(myRbInCurrentMethod);
  bg.add(myRbInFieldDeclaration);
  bg.add(myRbInConstructor);
  if (myRbInSetUp != null)   bg.add(myRbInSetUp);
  visibilityPanel.add(myRbPrivate);
  visibilityPanel.add(myRbPackageLocal);
  visibilityPanel.add(myRbProtected);
  visibilityPanel.add(myRbPublic);
  bg=new ButtonGroup();
  bg.add(myRbPrivate);
  bg.add(myRbPackageLocal);
  bg.add(myRbProtected);
  bg.add(myRbPublic);
  JPanel groupPanel=new JPanel(new GridLayout(1,2));
  groupPanel.add(initializationPanel);
  groupPanel.add(visibilityPanel);
  mainPanel.add(groupPanel,BorderLayout.CENTER);
  mainPanel.add(myCbFinal,BorderLayout.SOUTH);
  return mainPanel;
}
