{
  check(grid,isRow,cellIndex);
  if (isRow && grid.getGridRowCount() < 2) {
    return false;
  }
 else   if (!isRow && grid.getGridColumnCount() < 2) {
    return false;
  }
  boolean haveExtendRight=false;
  boolean haveExtendLeft=false;
  for (int i=0; i < grid.getComponentCount(); i++) {
    final GridConstraints constraints=grid.getComponent(i).getConstraints();
    final int cell=constraints.getCell(isRow);
    final int span=constraints.getSpan(isRow);
    if (mustBeEmpty) {
      if (cellIndex >= cell && cellIndex < cell + span) {
        return false;
      }
    }
 else {
      if (cell == cellIndex && span == 1) {
        return false;
      }
      if (span > 1) {
        if (cell == cellIndex) {
          haveExtendRight=true;
        }
 else         if (cell + span - 1 == cellIndex) {
          haveExtendLeft=true;
        }
      }
    }
  }
  if (haveExtendLeft && haveExtendRight) {
    return false;
  }
  return true;
}
