{
  check(grid,isRow,cellIndex);
  final GridLayoutManager layout=(GridLayoutManager)grid.getLayout();
  if (isRow && layout.getRowCount() < 2) {
    return false;
  }
 else   if (!isRow && layout.getColumnCount() < 2) {
    return false;
  }
  for (int i=0; i < grid.getComponentCount(); i++) {
    final GridConstraints constraints=grid.getComponent(i).getConstraints();
    final int cell=getCell(constraints,isRow);
    final int span=getSpan(constraints,isRow);
    if (mustBeEmpty) {
      if (cellIndex >= cell && cellIndex < cell + span) {
        return false;
      }
    }
 else {
      if (cell == cellIndex && span == 1) {
        return false;
      }
    }
  }
  return true;
}
