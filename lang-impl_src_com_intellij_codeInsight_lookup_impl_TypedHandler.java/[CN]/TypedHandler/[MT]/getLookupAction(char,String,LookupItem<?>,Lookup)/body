{
  if (currentItem != null) {
    for (    String lookupString : currentItem.getAllLookupStrings()) {
      if (lookupString.startsWith(prefix + charTyped))       return CharFilter.Result.ADD_TO_PREFIX;
    }
  }
  final CharFilter[] filters=Extensions.getExtensions(CharFilter.EP_NAME);
  for (  final CharFilter extension : filters) {
    final CharFilter.Result result=extension.acceptChar(charTyped,prefix,lookup);
    if (result != null) {
      return result;
    }
  }
  throw new AssertionError("c=" + charTyped + "; prefix="+ currentItem+ "; filters="+ Arrays.toString(filters));
}
