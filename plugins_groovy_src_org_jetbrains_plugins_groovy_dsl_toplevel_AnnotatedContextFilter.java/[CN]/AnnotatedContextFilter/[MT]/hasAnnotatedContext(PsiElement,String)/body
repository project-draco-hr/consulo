{
  PsiElement current=context;
  while (current != null) {
    if (current instanceof PsiModifierListOwner) {
      if (!(current instanceof GrVariableDeclaration) && hasAnnotation(((PsiModifierListOwner)current).getModifierList(),annoQName)) {
        return true;
      }
    }
 else     if (current instanceof PsiFile) {
      if (current instanceof GroovyFile) {
        final GrPackageDefinition packageDefinition=((GroovyFile)current).getPackageDefinition();
        if (packageDefinition != null && hasAnnotation(packageDefinition.getAnnotationList(),annoQName)) {
          return true;
        }
      }
      return false;
    }
    current=current.getContext();
  }
  return false;
}
