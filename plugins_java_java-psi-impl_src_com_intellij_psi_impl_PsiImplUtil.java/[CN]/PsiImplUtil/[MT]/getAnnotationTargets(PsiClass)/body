{
  if (!annotationType.isAnnotationType())   return null;
  PsiModifierList modifierList=annotationType.getModifierList();
  if (modifierList == null)   return null;
  PsiAnnotation target=modifierList.findAnnotation(CommonClassNames.JAVA_LANG_ANNOTATION_TARGET);
  if (target == null)   return DEFAULT_TARGETS;
  PsiAnnotationMemberValue value=target.findAttributeValue(null);
  if (value instanceof PsiReference) {
    TargetType targetType=translateTargetRef((PsiReference)value);
    if (targetType != null) {
      return Collections.singleton(targetType);
    }
  }
 else   if (value instanceof PsiArrayInitializerMemberValue) {
    Set<TargetType> targets=ContainerUtil.newHashSet();
    for (    PsiAnnotationMemberValue initializer : ((PsiArrayInitializerMemberValue)value).getInitializers()) {
      if (initializer instanceof PsiReference) {
        TargetType targetType=translateTargetRef((PsiReference)initializer);
        if (targetType != null) {
          targets.add(targetType);
        }
      }
    }
    return targets;
  }
  return null;
}
