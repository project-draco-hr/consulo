{
  final List<PsiParameter> params=getParametersToExtract();
  final boolean useExistingClass=useExistingClass();
  final boolean keepMethod=keepMethodAsDelegate();
  final String className;
  final String packageName;
  final List<String> getterNames;
  final boolean createInnerClass=myCreateInnerClassRadioButton.isSelected();
  if (!useExistingClass) {
    packageName=getPackageName();
    className=getClassName();
    getterNames=null;
  }
 else   if (createInnerClass) {
    className=getInnerClassName();
    packageName="";
    getterNames=null;
  }
 else {
    final String existingClassName=getExistingClassName();
    getterNames=new ArrayList<String>();
    className=StringUtil.getShortName(existingClassName);
    packageName=StringUtil.getPackageName(existingClassName);
  }
  invokeRefactoring(new IntroduceParameterObjectProcessor(className,packageName,sourceMethod,params,getterNames,keepMethod,useExistingClass,createInnerClass));
}
