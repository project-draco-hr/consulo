{
  final Project project=sourceMethod.getProject();
  final JavaPsiFacade manager=JavaPsiFacade.getInstance(project);
  final PsiNameHelper nameHelper=manager.getNameHelper();
  final List<PsiParameter> parametersToExtract=getParametersToExtract();
  if (parametersToExtract.isEmpty()) {
    return false;
  }
  if (myCreateInnerClassRadioButton.isSelected()) {
    final String innerClassName=getInnerClassName().trim();
    return nameHelper.isIdentifier(innerClassName) && sourceMethod.getContainingClass().findInnerClassByName(innerClassName,false) == null;
  }
 else   if (!useExistingClass()) {
    final String className=getClassName();
    if (className.length() == 0 || !nameHelper.isIdentifier(className)) {
      return false;
    }
    final String packageName=getPackageName();
    if (packageName.length() == 0 || PackageNameUtil.containsNonIdentifier(nameHelper,packageName)) {
      return false;
    }
 else {
      return true;
    }
  }
 else {
    return getExistingClassName().length() != 0;
  }
}
