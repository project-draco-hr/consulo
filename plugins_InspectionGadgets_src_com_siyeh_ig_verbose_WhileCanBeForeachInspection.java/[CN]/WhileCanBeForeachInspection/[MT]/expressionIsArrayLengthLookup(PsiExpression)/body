{
  final PsiExpression strippedExpression=ParenthesesUtils.stripParentheses(expression);
  if (!(strippedExpression instanceof PsiReferenceExpression)) {
    return false;
  }
  final PsiReferenceExpression reference=(PsiReferenceExpression)strippedExpression;
  final String referenceName=reference.getReferenceName();
  if (!"length".equals(referenceName)) {
    return false;
  }
  final PsiExpression qualifier=reference.getQualifierExpression();
  if (qualifier == null) {
    return false;
  }
  if (!(qualifier instanceof PsiReferenceExpression)) {
    return false;
  }
  final PsiType type=qualifier.getType();
  if (type == null) {
    return false;
  }
  return type.getArrayDimensions() > 0;
}
