{
  if (myTypeParameterReplacements == null)   return;
  final Collection<PsiTypeParameter> typeParameters=myTypeParameterReplacements.keySet();
  for (  final PsiTypeParameter parameter : typeParameters) {
    final PsiReference[] references=ReferencesSearch.search(parameter,new LocalSearchScope(myMethod),false).toArray(new PsiReference[0]);
    for (    final PsiReference reference : references) {
      if (reference.getElement() instanceof PsiJavaCodeReferenceElement) {
        reference.getElement().putCopyableUserData(BIND_TO_TYPE_PARAMETER,myTypeParameterReplacements.get(parameter));
      }
    }
  }
  final Set<PsiTypeParameter> methodTypeParameters=myTypeParameterReplacements.keySet();
  for (  final PsiTypeParameter methodTypeParameter : methodTypeParameters) {
    methodTypeParameter.delete();
  }
}
