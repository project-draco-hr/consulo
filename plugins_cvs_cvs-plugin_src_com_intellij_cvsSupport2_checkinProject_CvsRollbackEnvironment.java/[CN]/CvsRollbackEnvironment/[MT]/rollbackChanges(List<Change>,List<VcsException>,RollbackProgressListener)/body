{
  listener.determinate();
  for (  Change change : changes) {
    final FilePath filePath=ChangesUtil.getFilePath(change);
    listener.accept(change);
    final VirtualFile parent=filePath.getVirtualFileParent();
    final String name=filePath.getName();
switch (change.getType()) {
case DELETED:
      restoreFile(parent,name);
    break;
case MODIFICATION:
  restoreFile(parent,name);
break;
case MOVED:
CvsUtil.removeEntryFor(CvsVfsUtil.getFileFor(parent,name));
break;
case NEW:
CvsUtil.removeEntryFor(CvsVfsUtil.getFileFor(parent,name));
break;
}
}
}
