{
  boolean hadTasks=false;
  while (true) {
    Runnable task=myTasks.poll();
    if (task == null) {
      break;
    }
    try {
      task.run();
      hadTasks=true;
    }
 catch (    ProcessCanceledException e) {
      queueTasks(Collections.singletonList(task));
      throw e;
    }
  }
  if (hadTasks) {
    scheduleDumbModeReindexingIfNeeded();
  }
}
