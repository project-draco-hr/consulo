{
  if (marker.equals(root.getCopyableUserData(MARKER))) {
    root.putCopyableUserData(MARKER,null);
    return root;
  }
 else {
    PsiElement child=root.getFirstChild();
    while (child != null) {
      final PsiElement result=releaseMark(child,marker);
      if (result != null)       return result;
      child=child.getNextSibling();
    }
    return null;
  }
}
