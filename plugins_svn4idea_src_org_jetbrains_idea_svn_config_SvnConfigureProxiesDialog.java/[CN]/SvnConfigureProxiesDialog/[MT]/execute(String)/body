{
  Messages.showInfoMessage(myProject,SvnBundle.message("dialog.edit.http.proxies.settings.test.connection.settings.will.be.stored.text"),SvnBundle.message("dialog.edit.http.proxies.settings.test.connection.settings.will.be.stored.title"));
  if (!applyImpl()) {
    return;
  }
  final Ref<SVNException> excRef=new Ref<SVNException>();
  final ProgressManager pm=ProgressManager.getInstance();
  pm.runProcessWithProgressSynchronously(new Runnable(){
    public void run(){
      final ProgressIndicator pi=pm.getProgressIndicator();
      if (pi != null) {
        pi.setText("Connecting to " + url);
      }
      try {
        SvnVcs.getInstance(myProject).createRepository(url).testConnection();
      }
 catch (      SVNException exc) {
        excRef.set(exc);
      }
    }
  }
,"Test connection",true,myProject);
  if (!excRef.isNull()) {
    Messages.showErrorDialog(myProject,excRef.get().getMessage(),SvnBundle.message("dialog.edit.http.proxies.settings.test.connection.error.title"));
  }
 else {
    Messages.showInfoMessage(myProject,SvnBundle.message("dialog.edit.http.proxies.settings.test.connection.succes.text"),SvnBundle.message("dialog.edit.http.proxies.settings.test.connection.succes.title"));
  }
}
