{
  Object userObject=treeNode.getUserObject();
  if (userObject instanceof IdeaPluginDescriptor) {
    CheckedTreeNode checkedTreeNode=(CheckedTreeNode)treeNode;
    if (checkedTreeNode.isChecked()) {
      set.add(((IdeaPluginDescriptor)userObject));
    }
  }
  int childCount=treeNode.getChildCount();
  for (int i=0; i < childCount; i++) {
    DefaultMutableTreeNode childAt=(DefaultMutableTreeNode)treeNode.getChildAt(i);
    collect(childAt,set);
  }
}
