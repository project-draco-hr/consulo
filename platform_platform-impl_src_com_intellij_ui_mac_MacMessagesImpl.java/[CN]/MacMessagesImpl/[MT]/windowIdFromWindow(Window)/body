{
  ID windowId=null;
  if (SystemInfo.isJavaVersionAtLeast("1.7") && Registry.is("skip.untitled.windows.for.mac.messages")) {
    try {
      Class<?> cWindowPeerClass=w.getPeer().getClass();
      Method getPlatformWindowMethod=cWindowPeerClass.getDeclaredMethod("getPlatformWindow");
      Object cPlatformWindow=getPlatformWindowMethod.invoke(w.getPeer());
      Class<?> cPlatformWindowClass=cPlatformWindow.getClass();
      Method getNSWindowPtrMethod=cPlatformWindowClass.getDeclaredMethod("getNSWindowPtr");
      windowId=new ID((Long)getNSWindowPtrMethod.invoke(cPlatformWindow));
    }
 catch (    NoSuchMethodException e) {
      LOG.debug(e);
    }
catch (    InvocationTargetException e) {
      LOG.debug(e);
    }
catch (    IllegalAccessException e) {
      LOG.debug(e);
    }
  }
 else {
    String foremostWindowTitle=getWindowTitle(w);
    windowId=MacUtil.findWindowForTitle(foremostWindowTitle);
  }
  return windowId;
}
