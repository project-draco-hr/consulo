{
  if (c == null)   return null;
  Window w=c instanceof Window ? (Window)c : getContainingWindow(c);
synchronized (c.getTreeLock()) {
    while (w.getOwner() != null) {
      w=w.getOwner();
    }
  }
  return w;
}
