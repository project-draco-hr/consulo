{
  if (ignoreForNonAlpha && !StringUtil.containsAlphaCharacters(value)) {
    return false;
  }
  PsiField parentField=PsiTreeUtil.getParentOfType(expression,PsiField.class);
  if (parentField != null) {
    nonNlsTargets.add(parentField);
  }
  if (I18nUtil.isPassedToAnnotatedParam(expression,AnnotationUtil.NON_NLS,new HashMap<String,Object>(),nonNlsTargets)) {
    return false;
  }
  if (isInNonNlsCall(expression,nonNlsTargets)) {
    return false;
  }
  if (isInNonNlsEquals(expression,nonNlsTargets)) {
    return false;
  }
  if (isPassedToNonNlsVariable(expression,nonNlsTargets)) {
    return false;
  }
  if (I18nUtil.mustBePropertyKey(expression,new HashMap<String,Object>())) {
    return false;
  }
  if (isReturnedFromNonNlsMethod(expression,nonNlsTargets)) {
    return false;
  }
  if (ignoreForAssertStatements && isArgOfAssertStatement(expression)) {
    return false;
  }
  if (ignoreForExceptionConstructors && isArgOfExceptionConstructor(expression)) {
    return false;
  }
  if (!ignoreForExceptionConstructors && isArgOfSpecifiedExceptionConstructor(expression,ignoreForSpecifiedExceptionConstructors.split(","))) {
    return false;
  }
  if (ignoreForJUnitAsserts && isArgOfJUnitAssertion(expression)) {
    return false;
  }
  if (ignoreForClassReferences && isClassRef(expression,value)) {
    return false;
  }
  if (ignoreForPropertyKeyReferences && I18nUtil.isPropertyRef(expression,value,null)) {
    return false;
  }
  if (ignoreToString && isToString(expression)) {
    return false;
  }
  Pattern pattern=myCachedNonNlsPattern;
  if (pattern != null) {
    Project project=expression.getProject();
    PsiFile file=expression.getContainingFile();
    Document document=PsiDocumentManager.getInstance(project).getDocument(file);
    int line=document.getLineNumber(expression.getTextRange().getStartOffset());
    int lineStartOffset=document.getLineStartOffset(line);
    CharSequence lineText=document.getCharsSequence().subSequence(lineStartOffset,document.getLineEndOffset(line));
    Matcher matcher=pattern.matcher(lineText);
    int start=0;
    while (matcher.find(start)) {
      start=matcher.start();
      PsiElement element=file.findElementAt(lineStartOffset + start);
      if (PsiTreeUtil.getParentOfType(element,PsiComment.class,false,true) != null)       return false;
      if (start == lineText.length() - 1)       break;
      start++;
    }
  }
  return true;
}
