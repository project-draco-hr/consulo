{
  final BreakpointManager breakpointManager=DebuggerManagerEx.getInstanceEx(myProject).getBreakpointManager();
  /** 
 * Used from Popup Menu
 */
class RemoveAction extends AnAction {
    @Nullable private Breakpoint myBreakpoint;
    public RemoveAction(    Breakpoint breakpoint){
      super(DebuggerBundle.message("action.remove.text"));
      myBreakpoint=breakpoint;
    }
    @Override public void actionPerformed(    AnActionEvent e){
      if (myBreakpoint != null) {
        breakpointManager.removeBreakpoint(myBreakpoint);
        myBreakpoint=null;
      }
    }
  }
  /** 
 * Used from Popup Menu
 */
class SetEnabledAction extends AnAction {
    private final boolean myNewValue;
    private final Breakpoint myBreakpoint;
    public SetEnabledAction(    Breakpoint breakpoint,    boolean newValue){
      super(newValue ? DebuggerBundle.message("action.enable.text") : DebuggerBundle.message("action.disable.text"));
      myBreakpoint=breakpoint;
      myNewValue=newValue;
    }
    @Override public void actionPerformed(    AnActionEvent e){
      myBreakpoint.ENABLED=myNewValue;
      breakpointManager.fireBreakpointChanged(myBreakpoint);
      myBreakpoint.updateUI();
    }
  }
  AnAction viewBreakpointsAction=new ViewBreakpointsAction(ActionsBundle.actionText(XDebuggerActions.VIEW_BREAKPOINTS),this);
  DefaultActionGroup group=new DefaultActionGroup();
  RangeHighlighter highlighter=getHighlighter();
  if (highlighter != null) {
    group.add(new EditBreakpointAction());
    group.addSeparator();
  }
  group.add(new SetEnabledAction(this,!ENABLED));
  group.add(new RemoveAction(this));
  group.addSeparator();
  group.add(viewBreakpointsAction);
  return group;
}
