{
  final ModuleEditor moduleEditor=new HeaderHidingTabbedModuleEditor(myProject,this,module){
    @Override public ProjectFacetsConfigurator getFacetsConfigurator(){
      return myFacetsConfigurator;
    }
  }
;
  final ProjectFacetsConfigurator configurator=myFacetsConfigurator;
  moduleEditor.addChangeListener(configurator);
  myModuleEditors.add(moduleEditor);
  moduleEditor.addChangeListener(this);
  Disposer.register(moduleEditor,new Disposable(){
    public void dispose(){
      moduleEditor.removeChangeListener(ModulesConfigurator.this);
      moduleEditor.removeChangeListener(configurator);
    }
  }
);
  return moduleEditor;
}
