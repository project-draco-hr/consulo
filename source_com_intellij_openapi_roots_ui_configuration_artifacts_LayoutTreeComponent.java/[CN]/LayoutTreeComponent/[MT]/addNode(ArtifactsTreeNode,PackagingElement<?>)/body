{
  if (child instanceof ComplexPackagingElement && myTreeParameters.isShowIncludedContent()) {
    final Collection<? extends PackagingElement<?>> substitution=((ComplexPackagingElement<?>)child).getSubstitution(myContext);
    addNodes(parent,substitution);
    return;
  }
  final PackagingElementNode newNode=findNodeToMergeOrCreate(parent,child);
  if (child instanceof CompositePackagingElement) {
    addNodes(newNode,((CompositePackagingElement<?>)child).getChildren());
  }
}
