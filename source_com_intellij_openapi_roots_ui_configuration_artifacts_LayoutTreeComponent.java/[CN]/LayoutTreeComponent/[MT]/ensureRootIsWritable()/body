{
  final ModifiableArtifact artifact=myContext.getModifiableArtifactModel().getOrCreateModifiableArtifact(myOriginalArtifact);
  if (artifact.getRootElement() == myOriginalArtifact.getRootElement()) {
    final HashMap<PackagingElement<?>,PackagingElement<?>> old2New=new HashMap<PackagingElement<?>,PackagingElement<?>>();
    ArtifactUtil.copyRoot(artifact,old2New);
    return new Function<PackagingElement<?>,PackagingElement<?>>(){
      public PackagingElement<?> fun(      PackagingElement<?> packagingElement){
        return old2New.get(packagingElement);
      }
    }
;
  }
  return Function.ID;
}
