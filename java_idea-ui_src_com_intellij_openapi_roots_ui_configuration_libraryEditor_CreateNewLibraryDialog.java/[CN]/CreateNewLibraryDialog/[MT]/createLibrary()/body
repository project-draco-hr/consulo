{
  final LibraryTableBase.ModifiableModelEx modifiableModel=(LibraryTableBase.ModifiableModelEx)getTableModifiableModel();
  final Library library=modifiableModel.createLibrary(myLibraryEditor.getName(),myLibraryEditor.getType());
  final LibraryEx.ModifiableModelEx model=(LibraryEx.ModifiableModelEx)library.getModifiableModel();
  myLibraryEditor.applyTo(model);
  new WriteAction(){
    protected void run(    final Result result){
      model.commit();
    }
  }
.execute();
  return library;
}
