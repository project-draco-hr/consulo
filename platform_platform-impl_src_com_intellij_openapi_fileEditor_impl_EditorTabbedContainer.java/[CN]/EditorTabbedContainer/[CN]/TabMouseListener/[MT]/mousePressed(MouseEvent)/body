{
  if (UIUtil.isCloseClick(e,MouseEvent.MOUSE_PRESSED)) {
    final TabInfo info=myTabs.findInfo(e);
    if (info != null) {
      IdeEventQueue.getInstance().blockNextEvents(e);
      FileEditorManagerEx.getInstanceEx(myProject).closeFile((VirtualFile)info.getObject(),myWindow);
      return;
    }
  }
  if (UIUtil.isActionClick(e)) {
    if (e.getClickCount() == 1) {
      myActionClickCount=0;
    }
    final Component deepestComponent=SwingUtilities.getDeepestComponentAt(e.getComponent(),e.getX(),e.getY());
    if (!(deepestComponent instanceof InplaceButton)) {
      myActionClickCount++;
    }
    if (myActionClickCount == 2 && !isFloating()) {
      final ActionManager mgr=ActionManager.getInstance();
      mgr.tryToExecute(mgr.getAction("HideAllWindows"),e,null,ActionPlaces.UNKNOWN,true);
    }
  }
}
