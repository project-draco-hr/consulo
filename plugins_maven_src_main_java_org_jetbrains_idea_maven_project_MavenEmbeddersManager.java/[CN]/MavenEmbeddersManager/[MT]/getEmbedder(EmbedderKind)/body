{
  MavenEmbedderWrapper result=myPool.get(kind);
  if (result == null) {
    result=MavenEmbedderWrapper.create(myGeneralSettings);
    myPool.put(kind,result);
  }
  if (myEmbeddersInUse.contains(result)) {
    MavenLog.LOG.warn("embedder " + kind + " is already used");
    return MavenEmbedderWrapper.create(myGeneralSettings);
  }
  myEmbeddersInUse.add(result);
  return result;
}
