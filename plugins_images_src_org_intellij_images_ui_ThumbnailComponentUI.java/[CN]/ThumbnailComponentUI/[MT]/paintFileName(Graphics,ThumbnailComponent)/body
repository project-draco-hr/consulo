{
  Font font=UIUtil.getLabelFont();
  FontMetrics fontMetrics=g.getFontMetrics(font);
  g.setFont(font);
  g.setColor(tc.getForeground());
  String fileName=tc.getFileName();
  String title=fileName;
  while (fontMetrics.stringWidth(title) > BLANK_ICON.getIconWidth() - 8) {
    title=title.substring(0,title.length() - 1);
  }
  if (fileName.equals(title)) {
    g.drawString(fileName,6 + (BLANK_ICON.getIconWidth() - 2 - fontMetrics.stringWidth(title)) / 2,BLANK_ICON.getIconHeight() + 8 + fontMetrics.getAscent());
  }
 else {
    int dotsWidth=fontMetrics.stringWidth(DOTS);
    while (fontMetrics.stringWidth(title) > BLANK_ICON.getIconWidth() - 8 - dotsWidth) {
      title=title.substring(0,title.length() - 1);
    }
    g.drawString(title + DOTS,6,BLANK_ICON.getIconHeight() + 8 + fontMetrics.getAscent());
  }
}
