{
  int maxWidth=THUMBNAIL_BLANK_WIDTH - 10;
  int maxHeight=blankHeight - 10;
  BufferedImage image=imageComponent.getDocument().getValue();
  int imageWidth=image.getWidth();
  int imageHeight=image.getHeight();
  double proportion=(double)imageWidth / (double)imageHeight;
  if (imageWidth > maxWidth || imageHeight > maxHeight) {
    if (imageWidth > imageHeight) {
      if (imageWidth > maxWidth) {
        imageWidth=maxWidth;
        imageHeight=(int)(maxWidth / proportion);
      }
    }
 else {
      if (imageHeight > maxHeight) {
        imageHeight=maxHeight;
        imageWidth=(int)(maxHeight * proportion);
      }
    }
  }
  imageComponent.setCanvasSize(imageWidth,imageHeight);
  Dimension size=imageComponent.getSize();
  int x=5 + (THUMBNAIL_BLANK_WIDTH - size.width) / 2;
  int y=5 + (THUMBNAIL_BLANK_HEIGHT - size.height) / 2;
  imageComponent.paint(g.create(x,y,size.width,size.height));
}
