{
  super(project,true);
  myProject=project;
  myClassMembersList=classMembersList;
  myOccurenceNumber=occurenceNumber;
  myExpression=onExpression;
  myLocalVar=onLocalVariable;
  myMethodToReplaceIn=methodToReplaceIn;
  myMustBeFinal=mustBeFinal;
  myIsInvokedOnDeclaration=onExpression == null;
  myMethodToSearchFor=methodToSearchFor;
  myIsLocalVariable=onLocalVariable != null;
  myHasInitializer=onLocalVariable != null && onLocalVariable.getInitializer() != null;
  myNameSuggestionsGenerator=generator;
  myTypeSelectorManager=typeSelectorManager;
  final PsiParameter[] parameters=methodToReplaceIn.getParameterList().getParameters();
  myParametersToRemove=new PsiParameter[parameters.length];
  myParametersToRemoveChecked=new boolean[parameters.length];
  parametersToRemove.forEach(new TIntProcedure(){
    public boolean execute(    final int paramNum){
      myParametersToRemove[paramNum]=parameters[paramNum];
      return true;
    }
  }
);
  setTitle(REFACTORING_NAME);
  init();
}
