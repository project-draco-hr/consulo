{
  final AtomicBoolean commitSucceeded=new AtomicBoolean();
  myPlatformFacade.invokeAndWait(new Runnable(){
    @Override public void run(){
      cancelCherryPick(repository);
      List<Change> changes=commit.getChanges();
      CherryPickCommitExecutor executor=new CherryPickCommitExecutor(myProject,myPlatformFacade,changes,commitMessage);
      boolean commitNotCancelled=myPlatformFacade.getVcsHelper(myProject).commitChanges(changes,changeList,commitMessage,executor);
      commitSucceeded.set(commitNotCancelled && !executor.hasCommitFailed());
    }
  }
,ModalityState.NON_MODAL);
  return commitSucceeded.get();
}
