{
  if (myImagesMap == null) {
    try {
      Field volMapField=RepaintManager.class.getDeclaredField(FAULTY_FIELD_NAME);
      volMapField.setAccessible(true);
      myImagesMap=(Map<GraphicsConfiguration,VolatileImage>)volMapField.get(this);
    }
 catch (    Exception e) {
      LOG.error(e);
    }
  }
  if (force || myImagesMap.size() > 3) {
    Dimension size=getDoubleBufferMaximumSize();
    setDoubleBufferMaximumSize(new Dimension(0,0));
    setDoubleBufferMaximumSize(size);
  }
}
