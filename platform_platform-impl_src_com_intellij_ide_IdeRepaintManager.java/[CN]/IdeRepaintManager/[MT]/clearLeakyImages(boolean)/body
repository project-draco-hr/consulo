{
  if (myImagesMap == null) {
    myImagesMap=ReflectionUtil.getField(RepaintManager.class,this,Map.class,"volatileMap");
  }
  if (force || myImagesMap.size() > 3) {
    Dimension size=getDoubleBufferMaximumSize();
    setDoubleBufferMaximumSize(new Dimension(0,0));
    setDoubleBufferMaximumSize(size);
  }
}
