{
  List<ThemeData> newThemes=new ArrayList<ThemeData>();
  Map<String,ResourceElement> styleMap=buildStyleMap(facet);
  for (  ResourceElement style : styleMap.values()) {
    if (isTheme(style,styleMap,new HashSet<ResourceElement>())) {
      String themeName=style.getName().getValue();
      if (themeName != null) {
        ThemeData theme=new ThemeData(themeName,true);
        if (myAddedThemes.add(theme)) {
          newThemes.add(theme);
        }
      }
    }
  }
  Collections.sort(newThemes);
  resultList.addAll(newThemes);
}
