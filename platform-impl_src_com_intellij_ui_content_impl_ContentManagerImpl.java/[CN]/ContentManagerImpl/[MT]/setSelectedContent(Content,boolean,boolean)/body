{
  if (isSelected(content) && requestFocus) {
    requestFocus(content,forcedFocus);
    return;
  }
  if (!checkSelectionChangeShouldBeProcessed(content))   return;
  if (!myContents.contains(content)) {
    throw new IllegalArgumentException("Cannot find content:" + content.getDisplayName());
  }
  final boolean focused=isSelectionHoldsFocus();
  final Content[] old=getSelectedContents();
  Runnable selection=new Runnable(){
    public void run(){
      if (getIndexOfContent(content) == -1)       return;
      for (      Content each : old) {
        removeFromSelection(each);
      }
      addSelectedContent(content);
      requestFocus(content,forcedFocus);
    }
  }
;
  if (focused || requestFocus) {
    getFocusManager().requestFocus(myFocusProxy,true).doWhenProcessed(selection);
  }
 else {
    selection.run();
  }
}
