{
  final PsiPackage aPackage=JavaDirectoryService.getInstance().getPackage(aClass.getContainingFile().getContainingDirectory());
  if (aPackage == null) {
    return;
  }
  for (  PsiReference reference : ReferencesSearch.search(aClass,new LocalSearchScope(aClass)).findAll()) {
    if (reference instanceof GrCodeReferenceElement) {
      final GrCodeReferenceElement qualifier=((GrCodeReferenceElement)reference).getQualifier();
      if (qualifier != null) {
        qualifier.bindToElement(newContainingPackage);
      }
    }
  }
}
