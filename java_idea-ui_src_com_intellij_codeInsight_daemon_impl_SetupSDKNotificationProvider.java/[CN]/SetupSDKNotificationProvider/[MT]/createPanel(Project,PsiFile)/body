{
  final EditorNotificationPanel panel=new EditorNotificationPanel();
  panel.setText(ProjectBundle.message("project.sdk.not.defined"));
  panel.createActionLabel(ProjectBundle.message("project.sdk.setup"),new Runnable(){
    @Override public void run(){
      final Sdk projectSdk=ProjectSettingsService.getInstance(project).chooseAndSetSdk();
      if (projectSdk == null)       return;
      ApplicationManager.getApplication().runWriteAction(new Runnable(){
        @Override public void run(){
          final Module module=ModuleUtil.findModuleForPsiElement(file);
          if (module != null) {
            ModifiableRootModel modifiableModel=ModuleRootManager.getInstance(module).getModifiableModel();
            modifiableModel.inheritSdk();
            modifiableModel.commit();
          }
        }
      }
);
    }
  }
);
  return panel;
}
