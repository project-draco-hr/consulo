{
  try {
    if (!isConversionNeeded(projectPath)) {
      return true;
    }
    listener.conversionNeeded();
    ConversionContextImpl context=new ConversionContextImpl(projectPath);
    for (    ConversionRunner runner : getConvertersToRun(context)) {
      if (runner.isConversionNeeded()) {
        final List<File> readOnlyFiles=ConversionRunner.getReadOnlyFiles(runner.getAffectedFiles());
        if (!readOnlyFiles.isEmpty()) {
          listener.cannotWriteToFiles(readOnlyFiles);
          return false;
        }
        runner.preProcess();
        runner.process();
        runner.postProcess();
      }
    }
    context.saveFiles();
    saveConversionResult(context);
    return true;
  }
 catch (  CannotConvertException e) {
    listener.error(e.getMessage());
  }
catch (  IOException e) {
    listener.error(e.getMessage());
  }
  return false;
}
