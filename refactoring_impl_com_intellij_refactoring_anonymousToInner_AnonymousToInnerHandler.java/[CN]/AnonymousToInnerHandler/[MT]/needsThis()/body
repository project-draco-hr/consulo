{
  if (cachedNeedsThis == null) {
    ElementNeedsThis memberNeedsThis=new ElementNeedsThis(myTargetClass,myAnonClass);
    myAnonClass.accept(memberNeedsThis);
class HasExplicitThis extends PsiRecursiveElementVisitor {
      boolean hasExplicitThis=false;
      public void visitReferenceExpression(      PsiReferenceExpression expression){
      }
      public void visitThisExpression(      PsiThisExpression expression){
        hasExplicitThis=true;
      }
    }
    final HasExplicitThis hasExplicitThis=new HasExplicitThis();
    ((PsiNewExpression)myAnonClass.getParent()).getArgumentList().accept(hasExplicitThis);
    cachedNeedsThis=new Boolean(memberNeedsThis.usesMembers() || hasExplicitThis.hasExplicitThis);
  }
  return cachedNeedsThis.booleanValue();
}
