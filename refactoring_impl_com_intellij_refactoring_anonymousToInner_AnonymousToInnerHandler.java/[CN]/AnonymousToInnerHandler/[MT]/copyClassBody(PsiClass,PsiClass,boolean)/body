{
  PsiElement lbrace=sourceClass.getLBrace();
  PsiElement rbrace=sourceClass.getRBrace();
  if (lbrace != null) {
    targetClass.addRange(lbrace.getNextSibling(),rbrace != null ? rbrace.getPrevSibling() : sourceClass.getLastChild());
    if (appendInitializersToConstructor) {
      final PsiClassInitializer[] initializers=targetClass.getInitializers();
      for (      PsiClassInitializer initializer : initializers) {
        if (!initializer.hasModifierProperty(PsiModifier.STATIC))         initializer.delete();
      }
      final PsiField[] fields=targetClass.getFields();
      for (      PsiField field : fields) {
        PsiExpression initializer=field.getInitializer();
        if (!field.hasModifierProperty(PsiModifier.STATIC) && initializer != null) {
          initializer.delete();
        }
      }
    }
  }
}
