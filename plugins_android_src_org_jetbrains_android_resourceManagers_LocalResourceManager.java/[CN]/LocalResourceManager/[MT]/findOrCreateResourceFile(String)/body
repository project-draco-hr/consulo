{
  VirtualFile dir=getResourceDir();
  if (dir == null) {
    Messages.showErrorDialog(myModule.getProject(),AndroidBundle.message("check.resource.dir.error",myModule.getName()),CommonBundle.getErrorTitle());
    return null;
  }
  final VirtualFile valuesDir=findOrCreateChildDir(dir,AndroidConstants.FD_RES_VALUES);
  if (valuesDir == null) {
    String errorMessage=AndroidBundle.message("android.directory.cannot.be.found.error",AndroidConstants.FD_RES_VALUES);
    Messages.showErrorDialog(myModule.getProject(),errorMessage,CommonBundle.getErrorTitle());
    return null;
  }
  VirtualFile child=valuesDir.findChild(fileName);
  if (child != null)   return child;
  try {
    AndroidFileTemplateProvider.createFromTemplate(myModule.getProject(),valuesDir,AndroidFileTemplateProvider.VALUE_RESOURCE_FILE_TEMPLATE,fileName);
  }
 catch (  Exception e) {
    LOG.error(e);
    return null;
  }
  VirtualFile result=valuesDir.findChild(fileName);
  if (result == null) {
    LOG.error("Can't create resource file");
  }
  return result;
}
