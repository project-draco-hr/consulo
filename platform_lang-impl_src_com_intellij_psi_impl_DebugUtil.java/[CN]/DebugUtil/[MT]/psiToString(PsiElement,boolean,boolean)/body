{
  final StringBuilder result=new StringBuilder();
  final ASTNode node=root.getNode();
  if (node == null) {
    psiToBuffer(result,root,0,skipWhiteSpaces,showRanges,showRanges);
  }
 else {
    treeToBuffer(result,node,0,skipWhiteSpaces,showRanges,showRanges,true);
  }
  return result.toString();
}
