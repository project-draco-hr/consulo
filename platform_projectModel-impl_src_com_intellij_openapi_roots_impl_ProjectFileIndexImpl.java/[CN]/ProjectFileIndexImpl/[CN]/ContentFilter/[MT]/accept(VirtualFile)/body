{
  if (file.isDirectory()) {
    DirectoryInfo info=getInfoForDirectory(file);
    return info != null && info.getModule() != null;
  }
 else {
    return (myFileExclusionManager == null || !myFileExclusionManager.isExcluded(file)) && !myFileTypeRegistry.isFileIgnored(file);
  }
}
