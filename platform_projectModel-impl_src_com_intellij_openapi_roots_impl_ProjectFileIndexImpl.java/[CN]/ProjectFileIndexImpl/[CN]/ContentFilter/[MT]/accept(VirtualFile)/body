{
  if (file.isDirectory()) {
    DirectoryInfo info=getInfoForFileOrDirectory(file);
    return info != null && info.getModule() != null;
  }
 else {
    return (myExclusionManager == null || !myExclusionManager.isExcluded(file)) && !myFileTypeRegistry.isFileIgnored(file);
  }
}
