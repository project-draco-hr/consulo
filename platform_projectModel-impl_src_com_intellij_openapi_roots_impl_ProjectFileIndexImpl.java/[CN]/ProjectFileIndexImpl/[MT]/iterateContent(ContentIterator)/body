{
  Module[] modules=ModuleManager.getInstance(myProject).getModules();
  for (  Module module : modules) {
    if (module.isDisposed())     continue;
    VirtualFile[] contentRoots=ModuleRootManager.getInstance(module).getContentRoots();
    for (    VirtualFile contentRoot : contentRoots) {
      DirectoryInfo info=getInfoForFileOrDirectory(contentRoot);
      if (info == null)       continue;
      if (!module.equals(info.getModule()))       continue;
      VirtualFile parent=contentRoot.getParent();
      if (parent != null) {
        DirectoryInfo parentInfo=getInfoForFileOrDirectory(parent);
        if (parentInfo != null && parentInfo.getModule() != null)         continue;
      }
      boolean finished=VfsUtilCore.iterateChildrenRecursively(contentRoot,myContentFilter,iterator);
      if (!finished)       return false;
    }
  }
  return true;
}
