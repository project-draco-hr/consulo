{
  DirectoryInfo info=getInfoForFileOrDirectory(fileOrDir);
  if (info != null) {
    return info.hasLibraryClassRoot();
  }
 else {
    VirtualFile parent=fileOrDir.getParent();
    return parent != null && isInLibraryClasses(parent);
  }
}
