{
  final Comp comp=getChildComponent();
  Dimension size=comp.getPreferredSize();
  FontMetrics fontMetrics=comp.getFontMetrics(comp.getFont());
  size.width=fontMetrics.charWidth('a') * charCount;
  comp.setPreferredSize(size);
  final Dimension preferredSize=myBrowseButton.getPreferredSize();
  setPreferredSize(new Dimension(size.width + preferredSize.width + 2,SystemInfo.isMac && UIUtil.isUnderAquaLookAndFeel() ? preferredSize.height : preferredSize.height + 2));
}
