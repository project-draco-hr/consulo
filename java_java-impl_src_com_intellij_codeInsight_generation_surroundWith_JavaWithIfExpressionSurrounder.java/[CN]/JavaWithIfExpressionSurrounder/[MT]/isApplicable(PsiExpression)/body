{
  PsiType type=expr.getType();
  if (PsiType.BOOLEAN != type)   return false;
  if (!expr.isPhysical())   return false;
  PsiElement parent=expr.getParent();
  if (!(parent instanceof PsiExpressionStatement))   return false;
  final PsiElement element=parent.getParent();
  if (!(element instanceof PsiCodeBlock) && !(JspPsiUtil.isInJspFile(element) && element instanceof PsiFile))   return false;
  return true;
}
