def do_hello(self):
    'the hello command returns a set of lines describing various\n        interesting things about the server, in an RFC822-like format.\n        Currently the only one defined is "capabilities", which\n        consists of a line in the form:\n\n        capabilities: space separated list of tokens\n        '
    caps = copy.copy(self.caps)
    if streamclone.allowed(self.repo.ui):
        caps.append(('stream=%d' % self.repo.changelog.version))
    self.respond(('capabilities: %s\n' % (' '.join(caps),)))
