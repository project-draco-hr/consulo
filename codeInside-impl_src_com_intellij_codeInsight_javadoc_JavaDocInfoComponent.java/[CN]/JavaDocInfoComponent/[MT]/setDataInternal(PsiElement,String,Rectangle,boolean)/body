{
  boolean justShown=false;
  myElement=element;
  if (!myIsShown && myHint != null) {
    myEditorPane.setText(text);
    myManager.showHint(myHint);
    myIsShown=justShown=true;
    myManager.takeFocus(myHint);
  }
  if (myHint.getComponent().getRootPane() == null) {
    return;
  }
  if (!justShown) {
    myEditorPane.setText(text);
  }
  if (!skip) {
    myText=text;
  }
  if (myHint != null) {
    Rectangle bounds=myHint.getBounds();
    Dimension preferredSize=myHint.getComponent().getPreferredSize();
    int height=preferredSize.height;
    JLayeredPane layeredPane=myHint.getComponent().getRootPane().getLayeredPane();
    if (bounds.y + height >= layeredPane.getHeight()) {
      height=layeredPane.getHeight() - bounds.y - 1;
    }
    if (true) {
      Point p=myManager.chooseBestHintPosition(myHint);
      if (p != null) {
        myHint.setBounds(p.x,p.y,preferredSize.width,height);
      }
 else {
        myHint.setBounds(bounds.x,bounds.y,preferredSize.width,height);
      }
    }
  }
  SwingUtilities.invokeLater(new Runnable(){
    public void run(){
      myEditorPane.scrollRectToVisible(viewRect);
    }
  }
);
}
