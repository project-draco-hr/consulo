{
  final String[] dirs=packageName.split("[\\.]");
  for (  String dir : dirs) {
    if (dir.length() == 0)     break;
    VirtualFile subdir=root.findChild(dir);
    if (subdir == null) {
      try {
        subdir=root.createChildDirectory(null,dir);
      }
 catch (      IOException e) {
        LOG.error(e);
      }
    }
    root=subdir;
  }
  final PsiDirectory directory=myPsiManager.findDirectory(root);
  if (directory == null)   return null;
  final PsiFile psiFile=directory.findFile(ANNOTATIONS_XML);
  if (psiFile instanceof XmlFile) {
    return (XmlFile)psiFile;
  }
  try {
    return (XmlFile)directory.add(myPsiManager.getElementFactory().createFileFromText(ANNOTATIONS_XML,"<root></root>"));
  }
 catch (  IncorrectOperationException e) {
    LOG.error(e);
  }
  return null;
}
