{
  final Map<String,PsiAnnotation> result=new HashMap<String,PsiAnnotation>();
  final List<XmlFile> files=findExternalAnnotationsFile(listOwner);
  if (files != null) {
    for (    XmlFile file : files) {
      if (file.isValid()) {
        final XmlDocument document=file.getDocument();
        if (document != null) {
          final XmlTag rootTag=document.getRootTag();
          if (rootTag != null) {
            final String externalName=getNormalizedExternalName(listOwner);
            for (            final XmlTag tag : rootTag.getSubTags()) {
              final String className=tag.getAttributeValue("name");
              if (Comparing.strEqual(className,externalName)) {
                for (                XmlTag annotationTag : tag.getSubTags()) {
                  final String annotationFQN=annotationTag.getAttributeValue("name");
                  final StringBuilder buf=new StringBuilder();
                  for (                  XmlTag annotationaParameter : annotationTag.getSubTags()) {
                    buf.append(",").append(annotationaParameter.getAttributeValue("name")).append("=").append(annotationaParameter.getAttributeValue("value"));
                  }
                  final String annotationText="@" + annotationFQN + (buf.length() > 0 ? "(" + StringUtil.trimStart(buf.toString(),",") + ")" : "");
                  try {
                    result.put(annotationFQN,JavaPsiFacade.getInstance(listOwner.getProject()).getElementFactory().createAnnotationFromText(annotationText,null));
                  }
 catch (                  IncorrectOperationException e) {
                    LOG.error(e);
                  }
                }
              }
            }
          }
        }
      }
    }
  }
  return result;
}
