{
  if (xmlFile == null)   return;
  try {
    final XmlDocument document=xmlFile.getDocument();
    if (document != null) {
      final XmlTag rootTag=document.getRootTag();
      final String externalName=getNormalizedExternalName(listOwner);
      if (rootTag != null) {
        for (        XmlTag tag : rootTag.getSubTags()) {
          if (Comparing.strEqual(tag.getAttributeValue("name"),externalName)) {
            tag.add(xmlFile.getManager().getElementFactory().createTagFromText("<annotation name=\'" + annotationFQName + "\'/>"));
            return;
          }
        }
        @NonNls final String text="<item name=\'" + externalName + "\'>\n"+ "  <annotation name=\'"+ annotationFQName+ "\'/>\n"+ "</item>";
        rootTag.add(xmlFile.getManager().getElementFactory().createTagFromText(text));
      }
    }
  }
 catch (  IncorrectOperationException e) {
    LOG.error(e);
  }
 finally {
    UndoManager.getInstance(listOwner.getProject()).markDocumentForUndo(listOwner.getContainingFile());
  }
}
