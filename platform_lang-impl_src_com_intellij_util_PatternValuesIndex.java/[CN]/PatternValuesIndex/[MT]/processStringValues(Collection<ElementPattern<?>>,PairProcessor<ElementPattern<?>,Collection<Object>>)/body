{
  final LinkedList<ElementPattern<?>> stack=new LinkedList<ElementPattern<?>>();
  for (  final ElementPattern<?> next : patterns) {
    stack.add(next);
    while (!stack.isEmpty()) {
      final ElementPattern<?> pattern=stack.removeFirst();
      for (      PatternCondition<?> condition : pattern.getCondition().getConditions()) {
        if (condition instanceof PatternConditionPlus) {
          stack.add(((PatternConditionPlus)condition).getValuePattern());
        }
 else         if (condition instanceof ValuePatternCondition) {
          if (!valueProcessor.process(next,((ValuePatternCondition)condition).getValues()))           return false;
        }
      }
    }
  }
  return true;
}
