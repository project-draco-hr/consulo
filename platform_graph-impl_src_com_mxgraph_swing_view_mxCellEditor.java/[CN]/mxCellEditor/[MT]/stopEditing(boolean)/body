{
  if (editingCell != null) {
    scrollPane.transferFocusUpCycle();
    Object cell=editingCell;
    editingCell=null;
    if (!cancel) {
      EventObject trig=trigger;
      trigger=null;
      graphComponent.labelChanged(cell,getCurrentValue(),trig);
    }
 else {
      mxCellState state=graphComponent.getGraph().getView().getState(cell);
      graphComponent.redraw(state);
    }
    if (scrollPane.getParent() != null) {
      scrollPane.setVisible(false);
      scrollPane.getParent().remove(scrollPane);
    }
    graphComponent.requestFocusInWindow();
  }
}
