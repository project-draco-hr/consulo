{
  final ArrayList<String> args=new ArrayList<String>();
  args.add(target.getPath(IAndroidTarget.AAPT));
  args.add(COMMAND_PACKAGE);
  for (  String path : resPaths) {
    args.add("-S");
    args.add(path);
  }
  args.add("-f");
  if (platformToolsRevision < 0 || platformToolsRevision > 7) {
    args.add("--no-crunch");
  }
  if (resPaths.length > 1) {
    args.add("--auto-add-overlay");
  }
  if (debugMode) {
    args.add("--debug-mode");
  }
  if (versionCode > 0) {
    args.add("--version-code");
    args.add(Integer.toString(versionCode));
  }
  if (configFilter != null) {
    args.add("-c");
    args.add(configFilter);
  }
  args.add("-M");
  args.add(manifestPath);
  if (osAssetsPath != null) {
    args.add("-A");
    args.add(osAssetsPath);
  }
  args.add("-I");
  args.add(target.getPath(IAndroidTarget.ANDROID_JAR));
  args.add("-F");
  args.add(outputPath);
  LOG.info(AndroidCommonUtils.command2string(args));
  return ExecutionUtil.doExecute(ArrayUtil.toStringArray(args));
}
