{
  @NonNls final String longName="ThisIsAQuiteLongNameWithParentheses().Dots.-Minuses-_UNDERSCORES_digits239:colons:/slashes\\AndOfCourseManyLetters";
  final List<NameUtil.MinusculeMatcher> matching=new ArrayList<NameUtil.MinusculeMatcher>();
  final List<NameUtil.MinusculeMatcher> nonMatching=new ArrayList<NameUtil.MinusculeMatcher>();
  for (  String s : CollectionFactory.ar("*","*i","*a","*u","T","ti",longName,longName.substring(0,20))) {
    matching.add(new NameUtil.MinusculeMatcher(s,NameUtil.MatchingCaseSensitivity.NONE));
  }
  for (  String s : CollectionFactory.ar("A","aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa","ta")) {
    nonMatching.add(new NameUtil.MinusculeMatcher(s,NameUtil.MatchingCaseSensitivity.NONE));
  }
  PlatformTestUtil.startPerformanceTest("Matcher is slow",1200,new ThrowableRunnable(){
    @Override public void run(){
      for (int i=0; i < 100000; i++) {
        for (        NameUtil.MinusculeMatcher matcher : matching) {
          assertTrue(matcher.matches(longName));
        }
        for (        NameUtil.MinusculeMatcher matcher : nonMatching) {
          assertFalse(matcher.matches(longName));
        }
      }
    }
  }
).cpuBound().assertTiming();
}
