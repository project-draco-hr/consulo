{
  System.out.println("test start: " + System.currentTimeMillis());
  @NonNls final String longName="ThisIsAQuiteLongNameWithParentheses().Dots.-Minuses-_UNDERSCORES_digits239:colons:/slashes\\AndOfCourseManyLetters";
  final List<MinusculeMatcher> matching=new ArrayList<MinusculeMatcher>();
  final List<MinusculeMatcher> nonMatching=new ArrayList<MinusculeMatcher>();
  for (  String s : ContainerUtil.ar("*","*i","*a","*u","T","ti",longName,longName.substring(0,20))) {
    matching.add(new MinusculeMatcher(s,NameUtil.MatchingCaseSensitivity.NONE));
  }
  for (  String s : ContainerUtil.ar("A","aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa","tag")) {
    nonMatching.add(new MinusculeMatcher(s,NameUtil.MatchingCaseSensitivity.NONE));
  }
  System.out.println("measuring start: " + System.currentTimeMillis());
  PlatformTestUtil.startPerformanceTest("Matcher is slow",3700,new ThrowableRunnable(){
    @Override public void run(){
      System.out.println("attempt start: " + System.currentTimeMillis());
      for (int i=0; i < 100000; i++) {
        for (        MinusculeMatcher matcher : matching) {
          assertTrue(matcher.toString(),matcher.matches(longName));
          matcher.matchingDegree(longName);
        }
        for (        MinusculeMatcher matcher : nonMatching) {
          assertFalse(matcher.toString(),matcher.matches(longName));
        }
      }
      System.out.println("attempt end: " + System.currentTimeMillis());
    }
  }
).cpuBound().assertTiming();
}
