{
  ClassLoader classLoader=pluginDescriptor != null ? pluginDescriptor.getPluginClassLoader() : getClass().getClassLoader();
  try {
    final Class<?> aClass=Class.forName(extension.className,true,classLoader);
    final String descriptionDirectoryName=extension.getDescriptionDirectoryName();
    final String[] categories=extension.getCategories();
    final IntentionAction instance=(IntentionAction)aClass.newInstance();
    if (categories == null) {
      addAction(instance);
    }
 else {
      if (descriptionDirectoryName != null) {
        registerIntentionAndMetaData(instance,categories,descriptionDirectoryName);
      }
 else {
        registerIntentionAndMetaData(instance,categories);
      }
    }
  }
 catch (  ClassNotFoundException e) {
    LOG.error(e);
  }
catch (  IllegalAccessException e) {
    LOG.error(e);
  }
catch (  InstantiationException e) {
    LOG.error(e);
  }
}
