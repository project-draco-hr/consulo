{
  final String protocol=url.getProtocol();
  if (protocol.equals("jar")) {
    return openJarStream(url);
  }
  try {
    return url.openStream();
  }
 catch (  FileNotFoundException ex) {
    if (protocol.equals("file")) {
      String file=url.getFile();
      if (file.startsWith("/")) {
        InputStream resourceStream=URLUtil.class.getResourceAsStream(file);
        if (resourceStream != null)         return resourceStream;
      }
    }
    throw ex;
  }
}
