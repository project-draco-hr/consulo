{
  myConfiguration=configuration;
  myManagedLibrariesEditor=new ManagedLibrariesEditor(editorContext,validatorsManager,AbstractGroovyLibraryManager.EP_NAME);
  myManagedLibrariesPanel.add(myManagedLibrariesEditor.getComponent());
  myManagedLibrariesEditor.getFacetEditorContext().addFacetContextChangeListener(new FacetContextChangeListener(){
    public void moduleRootsChanged(    ModifiableRootModel rootModel){
      final boolean hasGrails=hasGrailsLibrary();
      if (!myIsGrails.isEnabled() && hasGrails) {
        myIsGrails.setEnabled(true);
        myIsGrails.setSelected(true);
      }
 else       if (!hasGrails) {
        myIsGrails.setEnabled(false);
        myIsGrails.setSelected(false);
      }
    }
    public void facetModelChanged(    @NotNull Module module){
    }
  }
);
  myManagedLibrariesEditor.shouldHaveLibrary(new Condition<LibraryManager>(){
    public boolean value(    LibraryManager libraryManager){
      return libraryManager instanceof GrailsLibraryManager || libraryManager instanceof GroovyLibraryManager;
    }
  }
,"Groovy/Grails is not configured yet");
}
