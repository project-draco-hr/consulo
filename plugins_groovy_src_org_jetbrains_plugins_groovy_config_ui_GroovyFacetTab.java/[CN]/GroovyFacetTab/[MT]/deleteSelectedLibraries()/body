{
  Set<Library> toDelete=new HashSet<Library>();
  for (  final Object value : myLibraryList.getSelectedValues()) {
    toDelete.add(((ManagedLibrary)value).library);
  }
  final ModifiableRootModel rootModel=myEditorContext.getModifiableRootModel();
  for (  OrderEntry entry : rootModel.getOrderEntries()) {
    if (entry instanceof LibraryOrderEntry) {
      final LibraryOrderEntry libraryOrderEntry=(LibraryOrderEntry)entry;
      final Library library=libraryOrderEntry.getLibrary();
      if (library != null && toDelete.contains(library)) {
        rootModel.removeOrderEntry(libraryOrderEntry);
      }
    }
  }
  updateLibraryList();
}
