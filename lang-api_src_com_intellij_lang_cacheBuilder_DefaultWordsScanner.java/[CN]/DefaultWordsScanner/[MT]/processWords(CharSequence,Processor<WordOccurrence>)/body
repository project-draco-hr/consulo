{
  myLexer.start(fileText,0,fileText.length(),0);
  WordOccurrence occurence=null;
  while (myLexer.getTokenType() != null) {
    final IElementType type=myLexer.getTokenType();
    if (myIdentifierTokenSet.contains(type)) {
      if (occurence == null)       occurence=new WordOccurrence(fileText,myLexer.getTokenStart(),myLexer.getTokenEnd(),WordOccurrence.Kind.CODE);
 else       occurence.init(fileText,myLexer.getTokenStart(),myLexer.getTokenEnd(),WordOccurrence.Kind.CODE);
      if (!processor.process(occurence))       return;
    }
 else     if (myCommentTokenSet.contains(type)) {
      if (!stripWords(processor,fileText,myLexer.getTokenStart(),myLexer.getTokenEnd(),WordOccurrence.Kind.COMMENTS,occurence,false))       return;
    }
 else     if (myLiteralTokenSet.contains(type)) {
      if (!stripWords(processor,fileText,myLexer.getTokenStart(),myLexer.getTokenEnd(),WordOccurrence.Kind.LITERALS,occurence,myMayHaveFileRefsInLiterals))       return;
    }
    myLexer.advance();
  }
}
