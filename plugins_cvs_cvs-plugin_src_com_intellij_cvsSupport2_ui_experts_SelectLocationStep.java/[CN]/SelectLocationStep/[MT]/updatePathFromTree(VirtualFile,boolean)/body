{
  if (!myShowPath || myTreeIsUpdating)   return;
  String text="";
  if (selection != null) {
    if (selection.isInLocalFileSystem()) {
      text=selection.getPresentableUrl();
    }
 else {
      text=selection.getUrl();
    }
  }
 else {
    final List<VirtualFile> roots=myChooserDescriptor.getRoots();
    if (!myFileSystemTree.getTree().isRootVisible() && roots.size() == 1) {
      final VirtualFile vFile=roots.get(0);
      if (vFile.isInLocalFileSystem()) {
        text=vFile.getPresentableUrl();
      }
 else {
        text=vFile.getUrl();
      }
    }
  }
  myPathTextField.setText(text,now,new Runnable(){
    public void run(){
      myPathTextField.getField().selectAll();
    }
  }
);
}
