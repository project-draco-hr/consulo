{
  if (file.isDirectory()) {
    AddFileOperation op=getOperationForFile(file);
    op.addFile(file);
    if (!containsSubOperation(op)) {
      addOperation(op);
    }
  }
 else {
    if (!mySubstitutionToOperation.containsKey(keywordSubstitution)) {
      mySubstitutionToOperation.put(keywordSubstitution,new AddFileOperation(keywordSubstitution));
    }
    mySubstitutionToOperation.get(keywordSubstitution).addFile(file);
  }
}
