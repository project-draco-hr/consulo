{
  final Artifact artifact=findArtifact(context);
  if (artifact != null) {
    final ArtifactType type=artifact.getArtifactType();
    List<? extends PackagingElement<?>> substitution=type.getSubstitution(artifact,context,artifactType);
    if (substitution != null) {
      return substitution;
    }
    final List<PackagingElement<?>> elements=new ArrayList<PackagingElement<?>>();
    final CompositePackagingElement<?> rootElement=artifact.getRootElement();
    if (rootElement instanceof ArtifactRootElement<?>) {
      elements.addAll(rootElement.getChildren());
    }
 else {
      elements.add(rootElement);
    }
    return elements;
  }
  return null;
}
