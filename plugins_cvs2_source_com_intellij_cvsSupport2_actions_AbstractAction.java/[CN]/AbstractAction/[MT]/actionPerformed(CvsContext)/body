{
  Runnable beforeAction=new Runnable(){
    public void run(){
      beforeActionPerformed(context);
    }
  }
;
  Runnable afterAction=new Runnable(){
    public void run(){
      CvsHandler handler;
synchronized (AbstractAction.class) {
        try {
          handler=getCvsHandler(context);
        }
 catch (        Exception ex) {
          LOG.error(ex);
          handler=CvsHandler.NULL;
        }
      }
      LOG.assertTrue(handler != null);
      actionPerformed(context,handler);
    }
  }
;
  if (ProgressManager.getInstance().getProgressIndicator() != null) {
    beforeAction.run();
    afterAction.run();
  }
 else {
    if (ApplicationManager.getApplication().runProcessWithProgressSynchronously(beforeAction,getTitle(context),true,context.getProject())) {
      afterAction.run();
    }
  }
}
