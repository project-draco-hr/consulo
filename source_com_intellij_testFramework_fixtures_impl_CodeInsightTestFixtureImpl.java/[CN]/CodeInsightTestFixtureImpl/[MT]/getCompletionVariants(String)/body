{
  final List<String> result=new ArrayList<String>();
  new WriteCommandAction.Simple(myProjectFixture.getProject()){
    protected void run() throws Throwable {
      configureByFilesInner(fileBefore);
      LookupElement[] lookupItems=completeBasic();
      Assert.assertNotNull("No lookup was shown, probably there was only one lookup element that was inserted automatically",lookupItems);
      result.addAll(ContainerUtil.map(lookupItems,new Function<LookupElement,String>(){
        public String fun(        final LookupElement lookupItem){
          return lookupItem.getLookupString();
        }
      }
));
    }
  }
.execute().throwException();
  return result;
}
