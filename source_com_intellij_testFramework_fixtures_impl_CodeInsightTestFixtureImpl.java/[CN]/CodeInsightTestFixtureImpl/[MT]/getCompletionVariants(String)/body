{
  final List<String> result=new ArrayList<String>();
  new WriteCommandAction.Simple(myProjectFixture.getProject()){
    protected void run() throws Throwable {
      configureByFilesInner(fileBefore);
      LookupItem[] lookupItems=completeBasic();
      UsefulTestCase.assertNotNull("No lookup was shown, probably there was only one lookup element that was inserted automatically",lookupItems);
      result.addAll(ContainerUtil.map(lookupItems,new Function<LookupItem,String>(){
        public String fun(        final LookupItem lookupItem){
          return lookupItem.getLookupString();
        }
      }
));
    }
  }
.execute().throwException();
  return result;
}
