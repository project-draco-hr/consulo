{
  final Map<Thread,StackTraceElement[]> traces=Thread.getAllStackTraces();
  for (  final Map.Entry<Thread,StackTraceElement[]> entry : traces.entrySet()) {
    System.out.println("\n" + entry.getKey().getName() + "\n");
    final StackTraceElement[] value=entry.getValue();
    for (    final StackTraceElement stackTraceElement : value) {
      System.out.println(" at " + stackTraceElement);
    }
  }
}
