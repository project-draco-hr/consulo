{
  if (virtualFile != null) {
    DefaultHighlightingSettingProvider[] providers=DefaultHighlightingSettingProvider.EP_NAME.getExtensions();
    List<DefaultHighlightingSettingProvider> filtered=DumbService.getInstance(project).filterByDumbAwareness(Arrays.asList(providers));
    for (    DefaultHighlightingSettingProvider p : filtered) {
      FileHighlightingSetting setting=p.getDefaultSetting(project,virtualFile);
      if (setting != null) {
        return setting;
      }
    }
  }
  return FileHighlightingSetting.FORCE_HIGHLIGHTING;
}
