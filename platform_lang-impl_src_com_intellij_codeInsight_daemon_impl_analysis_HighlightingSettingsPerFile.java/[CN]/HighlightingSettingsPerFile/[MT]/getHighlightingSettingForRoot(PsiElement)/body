{
  final PsiFile containingFile=root.getContainingFile();
  final VirtualFile virtualFile=containingFile.getVirtualFile();
  FileHighlightingSetting[] fileHighlightingSettings=myHighlightSettings.get(virtualFile);
  final int index=PsiUtilBase.getRootIndex(root);
  if (fileHighlightingSettings == null || fileHighlightingSettings.length <= index) {
    return getDefaultHighlightingSetting(root.getProject(),virtualFile);
  }
  return fileHighlightingSettings[index];
}
