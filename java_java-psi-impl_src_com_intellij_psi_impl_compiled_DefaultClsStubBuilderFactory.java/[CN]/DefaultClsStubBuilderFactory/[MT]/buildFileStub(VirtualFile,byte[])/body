{
  final PsiJavaFileStubImpl file=new PsiJavaFileStubImpl("do.not.know.yet",true);
  try {
    ClassReader reader=new ClassReader(bytes);
    final StubBuildingVisitor<VirtualFile> classVisitor=new StubBuildingVisitor<VirtualFile>(vFile,VirtualFileInnerClassStrategy.INSTANCE,file,0);
    reader.accept(classVisitor,0);
    final PsiClassStub result=classVisitor.getResult();
    if (result == null)     return null;
    file.setPackageName(getPackageName(result));
  }
 catch (  Exception e) {
    throw new ClsFormatException();
  }
  return file;
}
