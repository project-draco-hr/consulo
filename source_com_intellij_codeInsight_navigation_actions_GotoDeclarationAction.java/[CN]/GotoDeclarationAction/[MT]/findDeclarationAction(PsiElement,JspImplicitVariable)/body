{
  if (place == null)   return null;
  if (place instanceof JspAction) {
    JspAction action=(JspAction)place;
    final JspAttribute[] attributes=action.getAttributes();
    for (int i=0; i < attributes.length; i++) {
      JspAttribute attribute=attributes[i];
      final PsiElement valueElement=attribute.getValueElement();
      if (valueElement == null)       continue;
      final PsiReference reference=valueElement.getReference();
      if (reference != null && reference.resolve() == variable)       return attribute.getValueElement();
    }
    JspImplicitVariable[] variables=action.getDeclaredVariables();
    if (variables != null) {
      for (int i=0; i < variables.length; i++) {
        JspImplicitVariable v=variables[i];
        if (v == variable) {
          return action;
        }
      }
    }
  }
  PsiElement[] children=place.getChildren();
  for (int i=0; i < children.length; i++) {
    PsiElement child=children[i];
    PsiElement action=findDeclarationAction(child,variable);
    if (action != null)     return action;
  }
  return null;
}
