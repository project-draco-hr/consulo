{
  try {
    myToolsPanel.apply();
  }
 catch (  IOException e) {
    String message=ToolsBundle.message("tools.failed.to.save.changes.0",StringUtil.decapitalize(e.getMessage()));
    final JLayeredPane pane=myToolsPanel.getRootPane().getLayeredPane();
    JBPopupFactory.getInstance().createHtmlTextBalloonBuilder(message,MessageType.ERROR,null).setShowCallout(false).setFadeoutTime(3000).setHideOnAction(true).setHideOnClickOutside(true).setHideOnKeyOutside(true).createBalloon().show(new RelativePoint(pane,new Point(pane.getWidth(),0)),Balloon.Position.above);
    return;
  }
  super.doOKAction();
}
