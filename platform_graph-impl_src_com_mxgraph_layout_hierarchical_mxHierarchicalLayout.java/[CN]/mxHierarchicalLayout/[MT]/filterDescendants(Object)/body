{
  mxIGraphModel model=graph.getModel();
  Set<Object> result=new LinkedHashSet<Object>();
  if (model.isVertex(cell) && cell != this.parent && model.isVisible(cell)) {
    result.add(cell);
  }
  if (this.traverseAncestors || cell == this.parent && model.isVisible(cell)) {
    int childCount=model.getChildCount(cell);
    for (int i=0; i < childCount; i++) {
      Object child=model.getChildAt(cell,i);
      result.addAll(filterDescendants(child));
    }
  }
  return result;
}
