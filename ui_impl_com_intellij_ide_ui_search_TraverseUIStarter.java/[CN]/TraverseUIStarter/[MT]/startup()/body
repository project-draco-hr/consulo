{
  final HashMap<SearchableConfigurable,Set<Pair<String,String>>> options=new HashMap<SearchableConfigurable,Set<Pair<String,String>>>();
  SearchUtil.processProjectConfigurables(ProjectManager.getInstance().getDefaultProject(),options);
  Element root=new Element(OPTIONS);
  for (  SearchableConfigurable configurable : options.keySet()) {
    Element configurableElement=new Element(CONFIGURABLE);
    final String id=configurable.getId();
    if (id == null)     continue;
    configurableElement.setAttribute(ID,id);
    configurableElement.setAttribute(CONFIGURABLE_NAME,configurable.getDisplayName());
    TreeSet<Pair<String,String>> sortedOptions=new TreeSet<Pair<String,String>>(new Comparator<Pair<String,String>>(){
      public int compare(      final Pair<String,String> o1,      final Pair<String,String> o2){
        return o1.first.compareTo(o2.first);
      }
    }
);
    final Set<Pair<String,String>> strings=options.get(configurable);
    for (    Pair<String,String> option : strings) {
      if (option == null || option.first == null || option.first.length() == 0)       continue;
      sortedOptions.add(Pair.create(option.first,option.second));
    }
    for (    Pair<String,String> option : sortedOptions) {
      Element optionElement=new Element(OPTION);
      optionElement.setAttribute(NAME,option.first);
      if (option.second != null) {
        optionElement.setAttribute(PATH,option.second);
      }
      configurableElement.addContent(optionElement);
    }
    if (configurable instanceof InspectionProfileConfigurable) {
      processInspectionTools(configurableElement);
    }
 else     if (configurable instanceof IntentionSettingsConfigurable) {
      processIntentions(configurableElement);
    }
 else     if (configurable instanceof ColorAndFontOptions) {
      processColorAndFontsSettings((ColorAndFontOptions)configurable,configurableElement);
    }
 else     if (configurable instanceof CodeStyleSchemesConfigurable) {
      processCodeStyleConfigurable((CodeStyleSchemesConfigurable)configurable,configurableElement);
    }
    root.addContent(configurableElement);
  }
  JDOMUtil.writeDocument(new Document(root),OUTPUT_PATH,"\n");
}
