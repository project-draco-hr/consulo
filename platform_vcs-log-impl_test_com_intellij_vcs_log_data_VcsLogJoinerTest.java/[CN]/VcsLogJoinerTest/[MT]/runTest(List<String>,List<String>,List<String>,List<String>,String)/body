{
  List<TimedVcsCommit> savedLog=TimedCommitParser.log(ArrayUtil.toStringArray(initial));
  List<? extends TimedVcsCommit> firstBlock=TimedCommitParser.log(ArrayUtil.toStringArray(updateBlock));
  Collection<Hash> vcsOldRefs=ContainerUtil.map(oldRefs,new Function<String,Hash>(){
    @Override public Hash fun(    String s){
      return HashImpl.build(s);
    }
  }
);
  Collection<Hash> vcsNewRefs=ContainerUtil.map(newRefs,new Function<String,Hash>(){
    @Override public Hash fun(    String s){
      return HashImpl.build(s);
    }
  }
);
  List<? extends TimedVcsCommit> result=new VcsLogJoiner<Hash,TimedVcsCommit>().addCommits(savedLog,vcsOldRefs,firstBlock,vcsNewRefs).getFirst();
  assertEquals(expected,toStr(result));
}
