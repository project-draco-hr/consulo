{
  if (!psiClass.isValid())   return;
  if (!psiClass.isWritable()) {
    if (!FileDocumentManager.fileForDocumentCheckedOutSuccessfully(PsiDocumentManager.getInstance(myProject).getDocument(psiClass.getContainingFile()),myProject)) {
      MessagesEx.fileIsReadOnly(myProject,psiClass.getContainingFile().getVirtualFile()).showNow();
      return;
    }
  }
  CommandProcessor.getInstance().executeCommand(myProject,new Runnable(){
    public void run(){
      ApplicationManager.getApplication().runWriteAction(new Runnable(){
        public void run(){
          try {
            CodeInsightUtil.prepareFileForWrite(psiClass.getContainingFile());
            OverrideImplementUtil.overrideOrImplement(psiClass,myMethod);
          }
 catch (          IncorrectOperationException e) {
            LOG.error(e);
          }
        }
      }
);
    }
  }
,CodeInsightBundle.message("intention.implement.abstract.method.command.name"),null);
}
