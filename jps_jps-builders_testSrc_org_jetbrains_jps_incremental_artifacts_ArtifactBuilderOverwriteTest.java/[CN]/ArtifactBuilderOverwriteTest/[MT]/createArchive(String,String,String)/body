{
  try {
    File file=new File(getOrCreateProjectDir(),relativeArchivePath);
    ZipOutputStream output=new ZipOutputStream(new FileOutputStream(file));
    try {
      output.putNextEntry(new ZipEntry(fileNameInArchive));
      output.write(text.getBytes(CharsetToolkit.UTF8));
      output.closeEntry();
    }
  finally {
      output.close();
    }
    return FileUtil.toSystemIndependentName(file.getAbsolutePath());
  }
 catch (  IOException e) {
    throw new RuntimeException(e);
  }
}
