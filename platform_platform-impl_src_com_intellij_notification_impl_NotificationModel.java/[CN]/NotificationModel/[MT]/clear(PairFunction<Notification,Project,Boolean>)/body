{
  List<Notification> result;
  try {
    myLock.acquire();
    result=filterNotifications(filter);
    myNotifications.keySet().removeAll(result);
  }
  finally {
    myLock.release();
  }
  if (!result.isEmpty()) {
    final Notification[] removed=result.toArray(new Notification[result.size()]);
    for (    NotificationModelListener listener : myListeners) {
      listener.notificationsRemoved(removed);
    }
  }
}
