{
  super.visitMethod(method);
  if (ignoreTestCases) {
    final PsiClass containingClass=method.getContainingClass();
    if (containingClass != null && TestFrameworks.getInstance().isTestClass(containingClass)) {
      return;
    }
    if (TestUtils.isJUnitTestMethod(method)) {
      return;
    }
  }
  if (ignoreLibraryOverrides && LibraryUtil.isOverrideOfLibraryMethod(method)) {
    return;
  }
  final PsiReferenceList throwsList=method.getThrowsList();
  final PsiJavaCodeReferenceElement[] references=throwsList.getReferenceElements();
  for (  PsiJavaCodeReferenceElement reference : references) {
    final PsiElement element=reference.resolve();
    if (!(element instanceof PsiClass)) {
      continue;
    }
    final PsiClass thrownClass=(PsiClass)element;
    final String qualifiedName=thrownClass.getQualifiedName();
    if (qualifiedName != null && exceptions.contains(qualifiedName)) {
      registerError(reference);
    }
  }
}
