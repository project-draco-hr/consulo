{
  PsiElement scopeToDeclare=null;
  ;
  for (int i=0; i < occurrences.length; i++) {
    PsiExpression occurrence=occurrences[i];
    if (scopeToDeclare == null) {
      scopeToDeclare=occurrence;
    }
 else {
      scopeToDeclare=PsiTreeUtil.findCommonParent(scopeToDeclare,occurrence);
    }
  }
  if (scopeToDeclare == null) {
    return false;
  }
  for (int i=0; i < occurrences.length; i++) {
    PsiExpression occurrence=occurrences[i];
    PsiElement parent=occurrence;
    while (!parent.equals(scopeToDeclare)) {
      parent=parent.getParent();
      if (parent instanceof PsiClass) {
        return true;
      }
    }
  }
  return false;
}
