{
  if (myCurrentViewableBreakpoint != null) {
    myPropertiesPanel.saveTo(myCurrentViewableBreakpoint,new Runnable(){
      public void run(){
        if (isTreeShowing()) {
          myTree.repaint();
        }
 else {
          myTable.repaint();
        }
      }
    }
);
  }
  Breakpoint[] breakpoints=getSelectedBreakpoints();
  Breakpoint oldViewableBreakpoint=myCurrentViewableBreakpoint;
  myCurrentViewableBreakpoint=(breakpoints != null && breakpoints.length == 1) ? breakpoints[0] : null;
  if (myCurrentViewableBreakpoint != null) {
    if (oldViewableBreakpoint == null) {
      ((CardLayout)myPropertiesPanelPlace.getLayout()).show(myPropertiesPanelPlace,PROPERTIES_DATA);
    }
    myPropertiesPanel.initFrom(myCurrentViewableBreakpoint,true);
  }
 else {
    ((CardLayout)myPropertiesPanelPlace.getLayout()).show(myPropertiesPanelPlace,PROPERTIES_STUB);
  }
  updateButtons();
}
