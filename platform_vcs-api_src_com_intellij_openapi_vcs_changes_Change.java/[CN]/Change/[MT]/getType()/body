{
  if (myType == null) {
    if (myBeforeRevision == null) {
      myType=Type.NEW;
      return myType;
    }
    if (myAfterRevision == null) {
      myType=Type.DELETED;
      return myType;
    }
    if ((!Comparing.equal(myBeforeRevision.getFile(),myAfterRevision.getFile())) || ((!SystemInfo.isFileSystemCaseSensitive) && VcsFilePathUtil.caseDiffers(myBeforeRevision.getFile().getPath(),myAfterRevision.getFile().getPath()))) {
      myType=Type.MOVED;
      return myType;
    }
    myType=Type.MODIFICATION;
  }
  return myType;
}
