{
  myFulfilledWorkGate=new DeferredActionsQueue(){
    public void addLast(    final Runnable runnable){
      ApplicationManager.getApplication().invokeLater(new Runnable(){
        public void run(){
          queue.addLast(runnable);
        }
      }
,ModalityState.NON_MODAL);
    }
    public void setDispactchListener(    final DispatchListener listener){
      queue.setDispactchListener(listener);
    }
  }
;
  myStream.setEventsDispatcher(new PacketProcessor(){
    public void processPacket(    final String packet){
      myFulfilledWorkGate.addLast(new Runnable(){
        public void run(){
          packetProcessor.processPacket(packet);
        }
      }
);
    }
  }
);
}
