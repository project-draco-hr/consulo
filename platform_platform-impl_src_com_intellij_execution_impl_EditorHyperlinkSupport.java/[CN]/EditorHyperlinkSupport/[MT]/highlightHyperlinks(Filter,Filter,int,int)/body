{
  final Document document=myEditor.getDocument();
  final int startLine=Math.max(0,line1);
  for (int line=startLine; line <= endLine; line++) {
    int endOffset=document.getLineEndOffset(line);
    if (endOffset < document.getTextLength()) {
      endOffset++;
    }
    final String text=getLineText(document,line,true);
    Filter.Result result=customFilter.applyFilter(text,endOffset);
    if (result == null) {
      result=predefinedMessageFilter.applyFilter(text,endOffset);
    }
    if (result != null && result.hyperlinkInfo != null) {
      addHyperlink(result.highlightStartOffset,result.highlightEndOffset,result.highlightAttributes,result.hyperlinkInfo);
    }
  }
}
