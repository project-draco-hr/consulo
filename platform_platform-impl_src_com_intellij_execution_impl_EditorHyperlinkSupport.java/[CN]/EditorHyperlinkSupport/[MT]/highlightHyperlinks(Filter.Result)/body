{
  Document document=myEditor.getDocument();
  for (  Filter.ResultItem resultItem : result.getResultItems()) {
    int start=resultItem.getHighlightStartOffset();
    int end=resultItem.getHighlightEndOffset();
    if (end < start || end > document.getTextLength()) {
      LOG.error("Filter returned wrong range: start=" + start + "; end="+ end+ "; length="+ document.getTextLength());
      continue;
    }
    TextAttributes attributes=resultItem.getHighlightAttributes();
    if (resultItem.getHyperlinkInfo() != null) {
      createHyperlink(start,end,attributes,resultItem.getHyperlinkInfo(),resultItem.getFollowedHyperlinkAttributes());
    }
 else     if (attributes != null) {
      addHighlighter(start,end,attributes);
    }
  }
}
