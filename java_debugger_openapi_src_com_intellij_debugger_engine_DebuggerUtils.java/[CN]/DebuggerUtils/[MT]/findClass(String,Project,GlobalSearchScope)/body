{
  ApplicationManager.getApplication().assertReadAccessAllowed();
  final PsiManager psiManager=PsiManager.getInstance(project);
  if (getArrayClass(className) != null) {
    return JavaPsiFacade.getInstance(psiManager.getProject()).getElementFactory().getArrayClass(LanguageLevelProjectExtension.getInstance(psiManager.getProject()).getLanguageLevel());
  }
  if (project.isDefault()) {
    return null;
  }
  final String _className=className.replace('$','.');
  final PsiClass aClass=JavaPsiFacade.getInstance(psiManager.getProject()).findClass(_className,scope);
  if (aClass == null && scope != GlobalSearchScope.allScope(project)) {
    return JavaPsiFacade.getInstance(psiManager.getProject()).findClass(_className,GlobalSearchScope.allScope(project));
  }
  return aClass;
}
