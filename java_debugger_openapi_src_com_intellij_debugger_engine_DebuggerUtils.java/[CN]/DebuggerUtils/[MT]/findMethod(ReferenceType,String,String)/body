{
  if (refType instanceof ArrayType) {
    final Method method=findMethod(refType.virtualMachine().classesByName(CommonClassNames.JAVA_LANG_OBJECT).get(0),methodName,methodSignature);
    if (method != null) {
      return method;
    }
  }
  Method method=null;
  if (methodSignature != null) {
    if (refType instanceof ClassType) {
      method=((ClassType)refType).concreteMethodByName(methodName,methodSignature);
    }
    if (method == null) {
      final List<Method> methods=refType.methodsByName(methodName,methodSignature);
      if (methods.size() > 0) {
        method=methods.get(0);
      }
    }
  }
 else {
    List<Method> methods=null;
    if (refType instanceof ClassType) {
      methods=refType.methodsByName(methodName);
    }
    if (methods != null && methods.size() > 0) {
      method=methods.get(0);
    }
  }
  return method;
}
