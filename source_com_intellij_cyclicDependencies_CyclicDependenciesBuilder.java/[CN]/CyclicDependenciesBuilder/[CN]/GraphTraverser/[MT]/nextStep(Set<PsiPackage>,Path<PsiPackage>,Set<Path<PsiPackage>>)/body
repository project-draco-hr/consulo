{
  myCurrentPaths.remove(path);
  for (Iterator<PsiPackage> iterator=nextNodes.iterator(); iterator.hasNext(); ) {
    PsiPackage node=iterator.next();
    if (path.getEnd() == node) {
      continue;
    }
    if (path.getBeg() == node) {
      result.add(path);
      continue;
    }
    Path<PsiPackage> newPath=new Path<PsiPackage>(path);
    newPath.add(node);
    if (path.contains(node)) {
      final Set<PsiPackage> nodesAfterInnerCycle=getNextNodes(node);
      nodesAfterInnerCycle.removeAll(path.getNextNodes(node));
      nextStep(nodesAfterInnerCycle,newPath,result);
    }
 else {
      myCurrentPaths.add(newPath);
    }
  }
}
