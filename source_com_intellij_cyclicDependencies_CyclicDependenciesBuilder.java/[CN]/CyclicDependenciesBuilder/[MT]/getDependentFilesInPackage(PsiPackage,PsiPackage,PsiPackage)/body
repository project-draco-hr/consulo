{
  Set<PsiFile> result=new HashSet<PsiFile>();
  final Map<PsiPackage,Set<PsiFile>> forwardMap=myFilesInDependentPackages.get(middlePack);
  if (forwardMap != null && forwardMap.get(lastPack) != null) {
    result.addAll(forwardMap.get(lastPack));
  }
  final Map<PsiPackage,Set<PsiFile>> backwardMap=myBackwardFilesInDependentPackages.get(middlePack);
  if (backwardMap != null && backwardMap.get(firstPack) != null) {
    result.addAll(backwardMap.get(firstPack));
  }
  return result;
}
