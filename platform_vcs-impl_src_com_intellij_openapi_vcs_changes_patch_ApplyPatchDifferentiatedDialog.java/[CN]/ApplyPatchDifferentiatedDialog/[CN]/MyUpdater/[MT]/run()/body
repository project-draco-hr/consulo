{
  final FilePresentation filePresentation=myRecentPathFileChange.get();
  if ((filePresentation == null) || (filePresentation.getVf() == null)) {
    SwingUtilities.invokeLater(myReset);
    return;
  }
  final VirtualFile file=filePresentation.getVf();
  final List<TextFilePatch> patches=loadPatches(file);
  final AutoMatchIterator autoMatchIterator=new AutoMatchIterator(myProject);
  final List<FilePatchInProgress> matchedPathes=autoMatchIterator.execute(patches);
  SwingUtilities.invokeLater(new Runnable(){
    public void run(){
      myChangeListChooser.setDefaultName(file.getNameWithoutExtension().replace('_',' ').trim());
      myPatches.clear();
      myPatches.addAll(matchedPathes);
      updateTree(true);
    }
  }
);
}
