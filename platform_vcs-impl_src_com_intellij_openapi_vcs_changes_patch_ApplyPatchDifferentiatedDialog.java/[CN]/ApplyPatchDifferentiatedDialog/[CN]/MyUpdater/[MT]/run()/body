{
  final FilePresentation filePresentation=myRecentPathFileChange.get();
  if ((filePresentation == null) || (filePresentation.getVf() == null)) {
    SwingUtilities.invokeLater(myReset);
    return;
  }
  final VirtualFile file=filePresentation.getVf();
  final PatchReader patchReader=loadPatches(filePresentation);
  if (patchReader == null)   return;
  final List<FilePatchInProgress> matchedPathes=patchReader == null ? Collections.<FilePatchInProgress>emptyList() : new AutoMatchIterator(myProject).execute(patchReader.getPatches());
  SwingUtilities.invokeLater(new Runnable(){
    public void run(){
      myChangeListChooser.setDefaultName(file.getNameWithoutExtension().replace('_',' ').trim());
      myPatches.clear();
      myPatches.addAll(matchedPathes);
      myReader=patchReader;
      updateTree(true);
      paintBusy(false);
    }
  }
);
}
