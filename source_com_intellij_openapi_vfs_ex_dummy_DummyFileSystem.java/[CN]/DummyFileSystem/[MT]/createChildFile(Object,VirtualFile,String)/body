{
  VirtualFile file=vDir.findChild(fileName);
  if (file != null) {
    throw new IOException(VfsBundle.message("file.create.already.exists.error",vDir.getUrl(),fileName));
  }
  final VirtualFileDirectoryImpl dir=((VirtualFileDirectoryImpl)vDir);
  VirtualFileImpl child=new VirtualFileDataImpl(this,dir,fileName);
  dir.addChild(child);
  fireFileCreated(requestor,child);
  return child;
}
