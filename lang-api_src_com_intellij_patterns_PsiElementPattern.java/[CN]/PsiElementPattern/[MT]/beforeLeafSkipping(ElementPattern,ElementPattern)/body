{
  return with(new PatternCondition<T>("baforeLeafSkipping"){
    public boolean accepts(    @NotNull T t,    final ProcessingContext context){
      PsiElement element=t;
      while (true) {
        do {
          while (element != null && element.getNextSibling() == null) {
            element=element.getParent();
          }
          if (element == null)           return false;
          element=element.getNextSibling();
          while (element.getFirstChild() != null) {
            element=element.getFirstChild();
          }
        }
 while (element.getTextLength() == 0);
        if (!skip.getCondition().accepts(element,context)) {
          return pattern.getCondition().accepts(element,context);
        }
      }
    }
  }
);
}
