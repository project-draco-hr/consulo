{
  PsiElement previous=PsiImplUtil.realPrevious(context.getParent().getPrevSibling());
  if (previous != null && GroovyTokenTypes.mAT.equals(previous.getNode().getElementType())) {
    return false;
  }
  if (GroovyCompletionUtil.asSimpleVariable(context) || GroovyCompletionUtil.asTypedMethod(context) || GroovyCompletionUtil.asVariableInBlock(context)) {
    return true;
  }
  if ((context.getParent() instanceof GrParameter && ((GrParameter)context.getParent()).getTypeElementGroovy() == null) || context.getParent() instanceof GrReferenceElement && !(context.getParent().getParent() instanceof GrImportStatement) && !(context.getParent().getParent() instanceof GrPackageDefinition)&& !(context.getParent().getParent() instanceof GrArgumentList)) {
    PsiElement prevSibling=context.getPrevSibling();
    if (context.getParent() instanceof GrReferenceElement && prevSibling != null && prevSibling.getNode() != null) {
      ASTNode node=prevSibling.getNode();
      return !GroovyTokenTypes.DOTS.contains(node.getElementType());
    }
 else {
      return !(previous != null && GroovyTokenTypes.mAT.equals(previous.getNode().getElementType()));
    }
  }
  if (PsiImplUtil.realPrevious(context.getParent().getPrevSibling()) instanceof GrModifierList) {
    return true;
  }
  if (PsiImplUtil.realPrevious(context.getPrevSibling()) instanceof GrModifierList) {
    return true;
  }
  return context.getParent() instanceof GrExpression && context.getParent().getParent() instanceof GroovyFile && GroovyCompletionUtil.isNewStatement(context,false);
}
