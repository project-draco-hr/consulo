{
  final IdeaPlugin ideaPlugin=context.getInvocationElement().getParentOfType(IdeaPlugin.class,true);
  if (ideaPlugin == null)   return null;
  if (s != null && s.equals(ideaPlugin.getPluginId())) {
    return ideaPlugin;
  }
  return ContainerUtil.find(getVariants(context),new Condition<IdeaPlugin>(){
    public boolean value(    IdeaPlugin o){
      final String id=o.getPluginId();
      return id != null && id.equals(s);
    }
  }
);
}
