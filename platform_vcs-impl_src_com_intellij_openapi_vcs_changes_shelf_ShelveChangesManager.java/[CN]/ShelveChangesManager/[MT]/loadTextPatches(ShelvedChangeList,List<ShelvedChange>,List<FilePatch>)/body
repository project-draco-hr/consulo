{
  final List<TextFilePatch> textFilePatches;
  textFilePatches=loadPatches(changeList.PATH);
  if (changes != null) {
    final Iterator<TextFilePatch> iterator=textFilePatches.iterator();
    while (iterator.hasNext()) {
      TextFilePatch patch=iterator.next();
      if (!needUnshelve(patch,changes)) {
        remainingPatches.add(patch);
        iterator.remove();
      }
    }
  }
  return textFilePatches;
}
