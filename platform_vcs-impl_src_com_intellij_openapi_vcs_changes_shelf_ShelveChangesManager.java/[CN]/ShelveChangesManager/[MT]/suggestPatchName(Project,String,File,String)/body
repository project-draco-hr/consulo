{
  @NonNls String defaultPath=PathUtil.suggestFileName(commitMessage);
  if (defaultPath.length() == 0) {
    defaultPath="unnamed";
  }
  return FileUtil.findSequentNonexistentFile(file,defaultPath,extension == null ? VcsConfiguration.getInstance(project).getPatchFileExtension() : extension);
}
