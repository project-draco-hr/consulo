{
  char[] text=FileUtil.loadFileText(new File(patchPath),CharsetToolkit.UTF8);
  PatchReader reader=new PatchReader(new CharArrayCharSequence(text));
  final List<TextFilePatch> textFilePatches=reader.readAllPatches();
  final TransparentlyFailedValueI<Map<String,Map<String,CharSequence>>,PatchSyntaxException> additionalInfo=reader.getAdditionalInfo(null);
  ApplyPatchDefaultExecutor.applyAdditionalInfoBefore(project,additionalInfo,commitContext);
  return textFilePatches;
}
