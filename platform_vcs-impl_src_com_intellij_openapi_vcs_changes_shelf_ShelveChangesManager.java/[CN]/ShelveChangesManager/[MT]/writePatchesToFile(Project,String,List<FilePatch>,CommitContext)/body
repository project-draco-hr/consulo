{
  try {
    OutputStreamWriter writer=new OutputStreamWriter(new FileOutputStream(path),CharsetToolkit.UTF8_CHARSET);
    try {
      UnifiedDiffWriter.write(project,remainingPatches,writer,"\n",commitContext);
    }
  finally {
      writer.close();
    }
  }
 catch (  IOException e) {
    LOG.error(e);
  }
}
