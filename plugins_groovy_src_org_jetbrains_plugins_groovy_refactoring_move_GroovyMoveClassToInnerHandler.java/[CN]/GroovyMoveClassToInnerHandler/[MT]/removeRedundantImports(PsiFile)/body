{
  if (targetClassFile instanceof GroovyFile) {
    GroovyFile file=(GroovyFile)targetClassFile;
    final Set<GrImportStatement> usedImports=GroovyImportOptimizer.findUsedImports(file);
    final List<GrImportStatement> validImports=org.jetbrains.plugins.groovy.lang.psi.util.PsiUtil.getValidImportStatements(file);
    for (    GrImportStatement importStatement : validImports) {
      if (!usedImports.contains(importStatement)) {
        file.removeImport(importStatement);
      }
    }
  }
}
