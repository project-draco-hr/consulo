{
  if (seq instanceof CharArrayCharSequence) {
    return ((CharArrayCharSequence)seq).getChars();
  }
  if (seq instanceof StringBuffer) {
    char[] chars=new char[seq.length()];
    ((StringBuffer)seq).getChars(0,seq.length(),chars,0);
    return chars;
  }
  if (seq instanceof String) {
    char[] chars=new char[seq.length()];
    ((String)seq).getChars(0,seq.length(),chars,0);
    return chars;
  }
  return seq.toString().toCharArray();
}
