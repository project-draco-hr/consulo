{
  if (text == null || StringUtil.isEmpty(text)) {
    return null;
  }
  if (Verifier.checkCharacterData(text.substring(range.getStartOffset(),range.getEndOffset())) != null) {
    return null;
  }
  List<TextRange> toCheck=excludeByPattern(text,range,COMPLEX,0);
  if (toCheck == null)   return null;
  List<CheckArea> results=new ArrayList<CheckArea>();
  final TextSplitter ws=SplitterFactory.getInstance().getTextSplitterNew();
  for (  TextRange r : toCheck) {
    checkCancelled();
    final List<CheckArea> res=ws.split(text,r);
    if (res != null) {
      results.addAll(res);
    }
  }
  return (results.size() == 0) ? null : results;
}
