{
  if (text == null || StringUtil.isEmpty(text)) {
    return null;
  }
  if (Verifier.checkCharacterData(range.substring(text)) != null) {
    return null;
  }
  List<TextRange> toCheck;
  if (text.indexOf('@') > 0) {
    toCheck=excludeByPattern(text,range,MAIL,0);
  }
 else   if (text.indexOf(':') > 0) {
    toCheck=excludeByPattern(text,range,URL,0);
  }
 else {
    toCheck=Collections.singletonList(range);
  }
  if (toCheck == null)   return null;
  List<CheckArea> results=new ArrayList<CheckArea>();
  final TextSplitter ws=SplitterFactory.getInstance().getTextSplitterNew();
  for (  TextRange r : toCheck) {
    checkCancelled();
    final List<CheckArea> res=ws.split(text,r);
    if (res != null) {
      results.addAll(res);
    }
  }
  return (results.size() == 0) ? null : results;
}
