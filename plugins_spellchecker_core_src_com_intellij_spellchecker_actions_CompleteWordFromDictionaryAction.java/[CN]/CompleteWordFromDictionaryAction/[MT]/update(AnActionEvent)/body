{
  super.update(e);
  Project project=e.getData(DataKeys.PROJECT);
  Editor editor=e.getData(DataKeys.EDITOR);
  PsiFile psiFile=e.getData(DataKeys.PSI_FILE);
  boolean available=project != null && editor != null && psiFile != null;
  Presentation presentation=e.getPresentation();
  if (presentation.isVisible()) {
    presentation.setVisible(available);
  }
  if (presentation.isEnabled()) {
    presentation.setEnabled(available);
  }
}
