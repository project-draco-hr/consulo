{
  PsiClass aClass=myClass;
  HashSet<PsiClass> result=new HashSet<PsiClass>();
  while (aClass != null && !myManager.areElementsEquivalent(aClass,myBaseClass)) {
    final PsiClassType[] implementsTypes=aClass.getImplementsListTypes();
    for (int i=0; i < implementsTypes.length; i++) {
      PsiClass resolved=implementsTypes[i].resolve();
      if (resolved != null && !myManager.areElementsEquivalent(resolved,myBaseClass)) {
        result.add(resolved);
        RefactoringHierarchyUtil.getSuperClasses(resolved,result,true);
      }
    }
    aClass=aClass.getSuperClass();
  }
  return result;
}
