{
  if (!myIsInnerClassNeeded)   return;
  PsiClass innerClass=myFactory.createClass(myInnerClassName);
  final PsiJavaCodeReferenceElement baseClassReferenceElement=myFactory.createClassReferenceElement(myBaseClass);
  if (!myBaseClass.isInterface()) {
    innerClass.getExtendsList().add(baseClassReferenceElement);
  }
 else {
    innerClass.getImplementsList().add(baseClassReferenceElement);
  }
  innerClass.getModifierList().setModifierProperty(PsiModifier.PRIVATE,true);
  innerClass=(PsiClass)myClass.add(innerClass);
  List<InnerClassMethod> innerClassMethods=getInnerClassMethods();
  for (Iterator<InnerClassMethod> iterator=innerClassMethods.iterator(); iterator.hasNext(); ) {
    InnerClassMethod innerClassMethod=iterator.next();
    innerClassMethod.createMethod(innerClass,myClass);
  }
}
