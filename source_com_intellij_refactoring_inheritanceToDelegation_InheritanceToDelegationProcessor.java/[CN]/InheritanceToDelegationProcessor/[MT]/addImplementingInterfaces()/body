{
  final PsiReferenceList implementsList=myClass.getImplementsList();
  for (  PsiClass delegatedInterface : myDelegatedInterfaces) {
    if (!myClassImplementedInterfaces.contains(delegatedInterface)) {
      implementsList.add(myFactory.createClassReferenceElement(delegatedInterface));
    }
  }
  if (!myBaseClass.isInterface()) {
    final PsiReferenceList extendsList=myClass.getExtendsList();
    extendsList.getReferenceElements()[0].delete();
  }
 else {
    final PsiJavaCodeReferenceElement[] interfaceRefs=implementsList.getReferenceElements();
    for (    PsiJavaCodeReferenceElement interfaceRef : interfaceRefs) {
      final PsiElement resolved=interfaceRef.resolve();
      if (myManager.areElementsEquivalent(myBaseClass,resolved)) {
        interfaceRef.delete();
        break;
      }
    }
  }
}
