{
  if (condition instanceof PsiInstanceOfExpression) {
    if (atSameLine(condition,editor) || insideEmptyBlockOrRef(statement,element,(PsiInstanceOfExpression)condition)) {
      return (PsiInstanceOfExpression)condition;
    }
  }
 else   if (condition instanceof PsiPolyadicExpression) {
    final PsiExpression[] operands=((PsiPolyadicExpression)condition).getOperands();
    if (((PsiPolyadicExpression)condition).getOperationTokenType() == JavaTokenType.ANDAND) {
      PsiInstanceOfExpression expr=null;
      for (      PsiExpression operand : operands) {
        if (operand instanceof PsiInstanceOfExpression) {
          if (expr != null) {
            expr=null;
            break;
          }
          expr=(PsiInstanceOfExpression)operand;
        }
      }
      if (expr != null && insideEmptyBlockOrRef(statement,element,expr)) {
        return expr;
      }
    }
  }
  return null;
}
