{
  super.updateStep();
  final int numberOfSteps=getNumberOfSteps();
  if (numberOfSteps == 0)   return;
  final WizardStep currentStep=getCurrentStepObject();
  if (!currentStep.setActive()) {
    doPreviousAction();
    return;
  }
  currentStep.getPreferredFocusedComponent().requestFocus();
  if (!currentStep.nextIsEnabled()) {
    getNextButton().setEnabled(false);
    getFinishButton().setEnabled(false);
  }
 else {
    getFinishButton().setEnabled((getCurrentStep() + 1) == numberOfSteps);
  }
}
