{
  TextRange textRange=FileStatusMap.getDirtyTextRange(editor,Pass.LOCAL_INSPECTIONS);
  if (textRange == null || !InspectionProjectProfileManager.getInstance(file.getProject()).isProfileLoaded() || myFileTools.containsKey(file) && !myFileTools.get(file)) {
    return null;
  }
  return new LocalInspectionsPass(file,editor.getDocument(),0,file.getTextLength(),LocalInspectionsPass.EMPTY_PRIORITY_RANGE,true){
    @NotNull @Override List<LocalInspectionToolWrapper> getInspectionTools(    @NotNull InspectionProfileWrapper profile){
      List<LocalInspectionToolWrapper> tools=super.getInspectionTools(profile);
      List<LocalInspectionToolWrapper> result=new ArrayList<LocalInspectionToolWrapper>(tools.size());
      for (      LocalInspectionToolWrapper tool : tools) {
        if (tool.runForWholeFile())         result.add(tool);
      }
      myFileTools.put(file,!result.isEmpty());
      return result;
    }
    @Override protected String getPresentableName(){
      return DaemonBundle.message("pass.whole.inspections");
    }
    @Override void inspectInjectedPsi(    @NotNull List<PsiElement> elements,    boolean onTheFly,    @NotNull ProgressIndicator indicator,    @NotNull InspectionManagerEx iManager,    boolean inVisibleRange,    boolean checkDumbAwareness,    List<LocalInspectionToolWrapper> wrappers){
    }
  }
;
}
