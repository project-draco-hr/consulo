{
  TextRange textRange=FileStatusMap.getDirtyTextRange(editor,Pass.LOCAL_INSPECTIONS);
  if (textRange == null || (myFileTools.containsKey(file) && !myFileTools.get(file)))   return null;
  return new LocalInspectionsPass(file,editor.getDocument(),0,file.getTextLength()){
    List<LocalInspectionTool> getInspectionTools(    InspectionProfileWrapper profile){
      List<LocalInspectionTool> tools=super.getInspectionTools(profile);
      List<LocalInspectionTool> result=new ArrayList<LocalInspectionTool>();
      for (      LocalInspectionTool tool : tools) {
        if (tool.runForWholeFile())         result.add(tool);
      }
      myFileTools.put(file,!result.isEmpty());
      return result;
    }
    void inspectInjectedPsi(    PsiElement[] elements,    List<LocalInspectionTool> tools){
    }
  }
;
}
