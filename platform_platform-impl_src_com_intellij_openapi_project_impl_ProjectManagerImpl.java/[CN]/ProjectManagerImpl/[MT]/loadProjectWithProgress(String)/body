{
  refreshProjectFiles(filePath);
  final ProjectImpl project=createProject(null,canonicalize(filePath),false,false);
  try {
    myProgressManager.runProcessWithProgressSynchronously(new ThrowableComputable<Project,IOException>(){
      @Override @Nullable public Project compute() throws IOException {
        doLoadProject(filePath,project);
        return project;
      }
    }
,ProjectBundle.message("project.load.progress"),true,project);
  }
 catch (  StateStorageException e) {
    throw new IOException(e);
  }
catch (  ProcessCanceledException ignore) {
    return null;
  }
  return project;
}
