{
  final ProgressIndicator indicator=myProgressManager.getProgressIndicator();
  if (indicator != null) {
    indicator.setText(ProjectBundle.message("loading.components.for",project.isDefault() ? "Default" : project.getName()));
    indicator.setIndeterminate(true);
  }
  ApplicationManager.getApplication().getMessageBus().syncPublisher(ProjectLifecycleListener.TOPIC).beforeProjectLoaded(project);
  try {
    if (template != null) {
      project.getStateStore().loadProjectFromTemplate(template);
    }
 else {
      project.getStateStore().load();
    }
    project.loadProjectComponents();
    project.init();
  }
 catch (  IOException e) {
    scheduleDispose(project);
    throw e;
  }
catch (  ProcessCanceledException e) {
    scheduleDispose(project);
    throw e;
  }
}
