{
  if (ApplicationManager.getApplication().isDisposed()) {
    return false;
  }
  if (myChangedApplicationFiles.isEmpty()) {
    return true;
  }
  Set<Pair<VirtualFile,StateStorage>> causes=new THashSet<Pair<VirtualFile,StateStorage>>(myChangedApplicationFiles);
  myChangedApplicationFiles.clear();
  ReloadComponentStoreStatus status=ComponentStoreImpl.reloadStore(causes,((ApplicationImpl)ApplicationManager.getApplication()).getStateStore());
  if (status == ReloadComponentStoreStatus.RESTART_AGREED) {
    ApplicationManagerEx.getApplicationEx().restart(true);
    return false;
  }
 else {
    return status == ReloadComponentStoreStatus.SUCCESS || status == ReloadComponentStoreStatus.RESTART_CANCELLED;
  }
}
