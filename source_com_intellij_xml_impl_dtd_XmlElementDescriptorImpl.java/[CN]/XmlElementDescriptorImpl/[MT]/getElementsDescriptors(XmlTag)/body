{
  if (myElementDescriptors != null)   return myElementDescriptors;
  final List<XmlElementDescriptor> result=new ArrayList<XmlElementDescriptor>();
  final XmlElementContentSpec contentSpecElement=myElementDecl.getContentSpecElement();
  final XmlNSDescriptor nsDescriptor=getNSDescriptor();
  final XmlNSDescriptor NSDescriptor=nsDescriptor != null ? nsDescriptor : getNsDescriptorFrom(context);
  contentSpecElement.processElements(new PsiElementProcessor(){
    public boolean execute(    PsiElement child){
      if (child instanceof XmlToken) {
        final XmlToken token=(XmlToken)child;
        if (token.getTokenType() == XmlTokenType.XML_NAME) {
          final String text=child.getText();
          XmlElementDescriptor element=getElementDescriptor(text,NSDescriptor);
          if (element != null) {
            result.add(element);
          }
        }
 else         if (token.getTokenType() == XmlTokenType.XML_CONTENT_ANY) {
          XmlElementDescriptor[] elements=((XmlNSDescriptorImpl)NSDescriptor).getElements();
          result.addAll(Arrays.asList(elements));
        }
      }
      return true;
    }
  }
,getDeclaration());
  return myElementDescriptors=result.toArray(new XmlElementDescriptor[result.size()]);
}
