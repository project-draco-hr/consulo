{
  PsiElement prevSibling=PsiTreeUtil.skipSiblingsBackward(element,PsiWhiteSpace.class);
synchronized (myFoldingData) {
    if (myLastElement == null || prevSibling != myLastElement) {
      myFoldingData.add(element.getTextRange());
    }
 else {
      TextRange lastRange=myFoldingData.get(myFoldingData.size() - 1);
      myFoldingData.set(myFoldingData.size() - 1,new TextRange(lastRange.getStartOffset(),element.getTextRange().getEndOffset()));
    }
  }
  myLastElement=element;
}
