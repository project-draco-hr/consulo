{
  final HgMergeDialog mergeDialog=new HgMergeDialog(project,repos,branchesForRepos);
  mergeDialog.show();
  if (mergeDialog.isOK()) {
    new Task.Backgroundable(project,"Merging changes..."){
      @Override public void run(      @NotNull ProgressIndicator indicator){
        try {
          executeMerge(mergeDialog,project);
          markDirtyAndHandleErrors(project,mergeDialog.getRepository());
        }
 catch (        HgCommandException e) {
          handleException(project,e);
        }
      }
    }
.queue();
  }
}
