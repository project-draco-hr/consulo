{
  Presentation presentation=event.getPresentation();
  Project project=DataKeys.PROJECT.getData(event.getDataContext());
  if (project == null) {
    presentation.setEnabled(false);
    return;
  }
  final DebuggerSession debuggerSession=DebuggerManagerEx.getInstanceEx(project).getContext().getDebuggerSession();
  if (debuggerSession == null || debuggerSession.getProcess().isPausePressed()) {
    presentation.setEnabled(false);
  }
 else {
    presentation.setEnabled(debuggerSession.isEvaluating() || debuggerSession.isRunning());
  }
}
