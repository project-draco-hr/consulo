{
  final PseudoClass defined=(PseudoClass)myDefinedClasses.get(internalName);
  if (defined != null) {
    return defined;
  }
  final URL resource=myLoader.findResource(internalName + ".class");
  if (resource == null) {
    throw new ClassNotFoundException(internalName);
  }
  final String fileName=resource.getFile();
  final boolean isFile=fileName.length() > 0;
  final File file=new File(fileName);
  if (isFile) {
    final Pair cached=(Pair)myCache.get(internalName);
    if (cached != null && ((Long)cached.snd).longValue() == file.lastModified()) {
      return (PseudoClass)cached.fst;
    }
  }
  final InputStream content=(InputStream)resource.getContent();
  final ClassReader reader=new ClassReader(content);
  final PseudoClass result=createPseudoClass(reader);
  if (isFile) {
    myCache.put(internalName,new Pair(result,new Long(file.lastModified())));
  }
  return result;
}
