{
  super(canBeParent);
  init();
  buttonBrowse.addActionListener(new ActionListener(){
    public void actionPerformed(    ActionEvent e){
      if (OpenFile()) {
        if (docFile.getLineCount() > maxNumberofLines) {
          Messages.showMessageDialog("File too long! Maximum allowed number of lines: " + String.valueOf(maxNumberofLines) + ".\n"+ "To change this setting, modify the MyVisualPanel.maxNumberofLines field.","Error",Messages.getErrorIcon());
          return;
        }
        initialFileContent=docFile.getText();
        viewFileTab.setEnabled(true);
        fileName.setText(selectedVFile.getName());
        directoryName.setText(selectedVFile.getParent().getUrl());
        myFileEditor.setText(initialFileContent);
      }
    }
  }
);
  myFileEditor.addFocusListener(new FocusAdapter(){
    public void focusGained(    FocusEvent e){
      if (!docFile.isWritable() && nFocus) {
        nFocus=false;
        Messages.showMessageDialog("This file is read-only. You cannot save your changes.","Warning",Messages.getWarningIcon());
        return;
      }
 else       return;
    }
  }
);
}
