{
  boolean enable=false;
  String text=MARK_TEXT;
  final DebuggerTreeNodeImpl node=getSelectedNode(e.getDataContext());
  if (node != null) {
    final NodeDescriptorImpl descriptor=node.getDescriptor();
    enable=(descriptor instanceof ValueDescriptor);
    if (enable) {
      final ValueMarkup markup=((ValueDescriptor)descriptor).getMarkup(node.getTree().getDebuggerContext().getDebugProcess());
      if (markup != null) {
        text=UNMARK_TEXT;
      }
    }
  }
  final Presentation presentation=e.getPresentation();
  presentation.setVisible(enable);
  presentation.setText(text);
}
