{
  if (state == ActionButtonComponent.NORMAL)   return;
  Rectangle r=new Rectangle(component.getWidth(),component.getHeight());
  if (UIUtil.isUnderAquaLookAndFeel()) {
    if (state == ActionButtonComponent.POPPED) {
      g.setColor(ALPHA_30);
      g.drawRoundRect(r.x,r.y,r.width - 2,r.height - 2,4,4);
    }
  }
 else {
    final double shift=UIUtil.isUnderDarcula() ? 1 / 0.49 : 0.49;
    g.setColor(ColorUtil.shift(UIUtil.getPanelBackground(),shift));
    ((Graphics2D)g).setStroke(BASIC_STROKE);
    final GraphicsConfig config=GraphicsUtil.setupAAPainting(g);
    g.drawRoundRect(r.x,r.y,r.width - 2,r.height - 2,4,4);
    config.restore();
  }
}
