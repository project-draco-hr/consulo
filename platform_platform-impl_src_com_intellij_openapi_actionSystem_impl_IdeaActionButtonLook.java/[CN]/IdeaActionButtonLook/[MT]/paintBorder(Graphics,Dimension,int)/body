{
  if (UIUtil.isUnderAquaLookAndFeel()) {
    if (state == ActionButtonComponent.POPPED) {
      g.setColor(ALPHA_30);
      g.drawRoundRect(0,0,size.width - 2,size.height - 2,4,4);
    }
  }
 else {
    final double shift=UIUtil.isUnderDarcula() ? 1 / 0.49 : 0.49;
    g.setColor(ColorUtil.shift(UIUtil.getPanelBackground(),shift));
    ((Graphics2D)g).setStroke(BASIC_STROKE);
    final GraphicsConfig config=GraphicsUtil.setupAAPainting(g);
    g.drawRoundRect(0,0,size.width - JBUI.scale(2),size.height - JBUI.scale(2),JBUI.scale(4),JBUI.scale(4));
    config.restore();
  }
}
