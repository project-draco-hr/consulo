{
  ValueDescriptorImpl valueDescriptor=(ValueDescriptorImpl)descriptor;
  Value value=valueDescriptor.getValue();
  if (value instanceof ObjectReference) {
    StringBuffer buf=new StringBuffer(32);
    if (value instanceof StringReference) {
      buf.append('\"');
      buf.append(((StringReference)value).value());
      buf.append('\"');
    }
 else     if (value instanceof ClassObjectReference) {
      ReferenceType type=((ClassObjectReference)value).reflectedType();
      buf.append((type != null) ? type.name() : "{...}");
    }
 else {
      buf.append(ValueDescriptorImpl.getIdLabel((ObjectReference)value));
    }
    return buf.toString();
  }
 else   if (value == null) {
    return "null";
  }
 else {
    return DebuggerBundle.message("label.undefined");
  }
}
