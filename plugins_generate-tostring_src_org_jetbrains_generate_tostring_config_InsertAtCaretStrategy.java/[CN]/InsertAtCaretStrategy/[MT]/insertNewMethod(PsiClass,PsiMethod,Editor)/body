{
  int offset=editor != null ? editor.getCaretModel().getOffset() : clazz.getTextRange().getEndOffset() - 1;
  final PsiGenerationInfo generationInfo=new PsiGenerationInfo(newMethod,false);
  GenerateMembersUtil.insertMembersAtOffset(clazz.getContainingFile(),offset,Arrays.asList(generationInfo));
  return (PsiMethod)generationInfo.getPsiMember();
}
