{
  GroovyPsiElement context=PsiTreeUtil.getParentOfType(this,GrTypeDefinition.class,GroovyFile.class);
  if (context instanceof GrTypeDefinition) {
    return JavaPsiFacade.getInstance(getProject()).getElementFactory().createType((PsiClass)context);
  }
 else   if (context instanceof GroovyFile) {
    final PsiClass scriptClass=((GroovyFile)context).getScriptClass();
    if (scriptClass != null)     return JavaPsiFacade.getInstance(getProject()).getElementFactory().createType(scriptClass);
  }
  return null;
}
