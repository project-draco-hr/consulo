{
  GroovyPsiElement context=PsiTreeUtil.getParentOfType(this,GrTypeDefinition.class,GrClosableBlock.class,GroovyFile.class);
  if (context instanceof GrTypeDefinition) {
    return getManager().getElementFactory().createType((PsiClass)context);
  }
 else   if (context instanceof GroovyFileBase) {
    return getManager().getElementFactory().createTypeByFQClassName(GroovyFileBase.SCRIPT_BASE_CLASS_NAME,getResolveScope());
  }
  return null;
}
