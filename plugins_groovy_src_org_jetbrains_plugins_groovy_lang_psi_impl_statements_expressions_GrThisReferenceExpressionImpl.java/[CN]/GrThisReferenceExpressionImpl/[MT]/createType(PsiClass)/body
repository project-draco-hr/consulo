{
  final JavaPsiFacade facade=JavaPsiFacade.getInstance(context.getProject());
  PsiElementFactory elementFactory=facade.getElementFactory();
  if (!PsiUtil.isInStaticContext(this))   return elementFactory.createType(context);
  if (context instanceof PsiAnonymousClass) {
    final PsiClassType type=((PsiAnonymousClass)context).getBaseClassType();
    final PsiClass aClass=facade.findClass(CommonClassNames.JAVA_LANG_CLASS,context.getResolveScope());
    if (aClass != null) {
      return elementFactory.createType(aClass,type);
    }
 else {
      return elementFactory.createTypeFromText(CommonClassNames.JAVA_LANG_CLASS + "<" + type.getCanonicalText()+ ">",this);
    }
  }
  return elementFactory.createTypeFromText(CommonClassNames.JAVA_LANG_CLASS + "<" + context.getName()+ ">",this);
}
