{
  final PsiElement resolved=super.resolveInner();
  if (resolved != null)   return resolved;
  final GrReferenceExpression qualifier=getQualifier();
  if (qualifier != null) {
    return qualifier.resolve();
  }
  final GroovyPsiElement context=getFileContext();
  if (context instanceof GrTypeDefinition) {
    return context;
  }
 else   if (context instanceof GroovyFile) {
    return ((GroovyFile)context).getScriptClass();
  }
  return null;
}
