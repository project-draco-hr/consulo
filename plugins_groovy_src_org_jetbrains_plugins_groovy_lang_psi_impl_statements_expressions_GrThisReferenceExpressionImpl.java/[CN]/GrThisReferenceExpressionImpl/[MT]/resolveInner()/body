{
  final PsiElement resolved=super.resolveInner();
  if (resolved != null)   return resolved;
  final GrReferenceExpression qualifier=getQualifier();
  if (qualifier != null) {
    return qualifier.resolve();
  }
  final GrTypeDefinition containingClass=PsiTreeUtil.getContextOfType(this,GrTypeDefinition.class,true,GroovyFile.class);
  if (containingClass != null)   return containingClass;
  final PsiFile containingFile=getContainingFile();
  if (containingFile instanceof GroovyFile) {
    return ((GroovyFile)containingFile).getScriptClass();
  }
  return null;
}
