{
  if (method.isConstructor()) {
    return;
  }
  if (method.hasModifierProperty(PsiModifier.PRIVATE)) {
    return;
  }
  final PsiType returnType=method.getReturnType();
  if (returnType == null) {
    return;
  }
  final PsiType componentType=returnType.getDeepComponentType();
  if (!(componentType instanceof PsiClassType)) {
    return;
  }
  final PsiClass returnClass=((PsiClassType)componentType).resolve();
  if (returnClass == null) {
    return;
  }
  if (returnClass.getParent() instanceof PsiTypeParameterList) {
    return;
  }
  if (!isLessRestrictiveScope(method,returnClass)) {
    return;
  }
  final PsiTypeElement typeElement=method.getReturnTypeElement();
  if (typeElement == null) {
    return;
  }
  final PsiJavaCodeReferenceElement baseTypeElement=typeElement.getInnermostComponentReferenceElement();
  if (baseTypeElement == null) {
    return;
  }
  registerError(baseTypeElement);
}
