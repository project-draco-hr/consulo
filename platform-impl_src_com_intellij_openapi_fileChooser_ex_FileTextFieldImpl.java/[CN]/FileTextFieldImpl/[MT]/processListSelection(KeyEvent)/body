{
  if (togglePopup(e))   return;
  if (!isPopupShowing())   return;
  final Object action=getAction(e,myList);
  if ("selectNextRow".equals(action)) {
    if (ensureSelectionExists()) {
      ListScrollingUtil.moveDown(myList,e.getModifiersEx());
    }
  }
 else   if ("selectPreviousRow".equals(action)) {
    ListScrollingUtil.moveUp(myList,e.getModifiersEx());
  }
 else   if ("scrollDown".equals(action)) {
    ListScrollingUtil.movePageDown(myList);
  }
 else   if ("scrollUp".equals(action)) {
    ListScrollingUtil.movePageUp(myList);
  }
 else   if (getSelectedFileFromCompletionPopup() != null && e.getKeyCode() == KeyEvent.VK_ENTER || e.getKeyCode() == KeyEvent.VK_TAB) {
    hideCurrentPopup();
    e.consume();
    processChosenFromCompletion(true,e.getKeyCode() == KeyEvent.VK_TAB);
  }
}
