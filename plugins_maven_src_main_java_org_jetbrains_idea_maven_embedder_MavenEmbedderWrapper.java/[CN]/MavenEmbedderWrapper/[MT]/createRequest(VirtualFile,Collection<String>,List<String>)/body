{
  Properties executionProperties=getExecutionProperties();
  DefaultEventDispatcher dispatcher=new DefaultEventDispatcher();
  dispatcher.addEventMonitor(new DefaultEventMonitor(myLogger));
  MavenExecutionRequest result=new DefaultMavenExecutionRequest(myLocalRepository,mySettings,dispatcher,goals,virtualFile.getParent().getPath(),createProfileManager(profiles,executionProperties),executionProperties,new Properties(),true);
  result.setPomFile(virtualFile.getPath());
  result.setRecursive(false);
  return result;
}
