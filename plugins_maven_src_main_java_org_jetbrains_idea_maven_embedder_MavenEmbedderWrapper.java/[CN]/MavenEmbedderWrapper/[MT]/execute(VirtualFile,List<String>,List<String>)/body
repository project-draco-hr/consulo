{
  return doExecute(new Executor<MavenExecutionResult>(){
    public MavenExecutionResult execute() throws Exception {
      MavenExecutionRequest request=createRequest(file,activeProfiles,goals);
      Maven maven=getComponent(Maven.class);
      Method method=maven.getClass().getDeclaredMethod("doExecute",MavenExecutionRequest.class,EventDispatcher.class);
      method.setAccessible(true);
      ReactorManager reactor=(ReactorManager)method.invoke(maven,request,request.getEventDispatcher());
      return new MavenExecutionResult(reactor.getTopLevelProject(),retrieveUnresolvedArtifactIds(),Collections.EMPTY_LIST);
    }
  }
);
}
