{
  try {
    request.setTransferListener(new TransferListenerAdapter());
    request.addEventMonitor(new DefaultEventMonitor(new PlexusLoggerAdapter(myEmbedder.getLogger())));
    request.addEventMonitor(new EventMonitor(){
      ProgressIndicator i=ProgressManager.getInstance().getProgressIndicator();
      public void startEvent(      String eventName,      String target,      long timestamp){
        if (i != null)         i.checkCanceled();
      }
      public void endEvent(      String eventName,      String target,      long timestamp){
        if (i != null)         i.checkCanceled();
      }
      public void errorEvent(      String eventName,      String target,      long timestamp,      Throwable cause){
        if (i != null)         i.checkCanceled();
      }
    }
);
    return myEmbedder.execute(request);
  }
 catch (  ProcessCanceledException e) {
    throw new MavenProcessCanceledException();
  }
}
