{
  final ProgressIndicator indicator=ProgressManager.getInstance().getProgressIndicator();
  while (!activities.isEmpty()) {
    final Runnable runnable=activities.remove(0);
    if (indicator != null)     indicator.checkCanceled();
    try {
      runnable.run();
    }
 catch (    ProcessCanceledException e) {
      throw e;
    }
catch (    Throwable ex) {
      LOG.error(ex);
    }
  }
}
