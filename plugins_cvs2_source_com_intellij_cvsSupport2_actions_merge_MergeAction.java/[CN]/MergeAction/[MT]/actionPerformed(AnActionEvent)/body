{
  try {
    final VcsContext context=CvsContextWrapper.createCachedInstance(e);
    final VirtualFile file=context.getSelectedFile();
    if (file == null)     return;
    if (!file.isWritable()) {
      VirtualFileManager.getInstance().fireReadOnlyModificationAttempt(new VirtualFile[]{file});
      return;
    }
    final Map<VirtualFile,List<String>> fileToRevisions=new HashMap<VirtualFile,List<String>>();
    fileToRevisions.put(file,CvsUtil.getAllRevisionsForFile(file));
    new CvsMergeAction(file,context.getProject(),fileToRevisions,new AbstractMergeAction.FileValueHolder()).actionPerformed(e);
  }
 catch (  Exception e1) {
    LOG.error(e1);
  }
}
