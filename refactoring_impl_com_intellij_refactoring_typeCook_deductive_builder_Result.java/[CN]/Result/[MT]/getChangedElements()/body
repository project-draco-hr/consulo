{
  myCookedNumber=0;
  final HashSet<PsiElement> set=new HashSet<PsiElement>();
  for (  final PsiElement element : myVictims) {
    final PsiType originalType=Util.getType(element);
    final PsiType cookedType=getCookedType(element);
    if (cookedType != null && !originalType.equals(cookedType)) {
      set.add(element);
      myCookedNumber++;
    }
  }
  if (mySettings.dropObsoleteCasts()) {
    myCastsRemoved=0;
    for (    final PsiTypeCastExpression cast : myCasts) {
      cast.accept(new PsiRecursiveElementVisitor(){
        public void visitTypeCastExpression(        final PsiTypeCastExpression expression){
          super.visitTypeCastExpression(expression);
          if (myCasts.contains(expression)) {
            if (expression.getType().equals(expression.getOperand().getType())) {
              set.add(cast);
            }
          }
        }
      }
);
    }
  }
  return set;
}
