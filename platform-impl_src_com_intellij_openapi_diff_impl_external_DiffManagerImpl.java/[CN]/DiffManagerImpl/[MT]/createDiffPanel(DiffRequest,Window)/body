{
  DiffPanel diffPanel=null;
  try {
    diffPanel=DiffManager.getInstance().createDiffPanel(window,data.getProject());
    int contentCount=data.getContents().length;
    LOG.assertTrue(contentCount == 2,String.valueOf(contentCount));
    LOG.assertTrue(data.getContentTitles().length == contentCount);
    diffPanel.setDiffRequest(data);
    return diffPanel;
  }
 catch (  RuntimeException e) {
    if (diffPanel != null)     diffPanel.dispose();
    throw e;
  }
}
