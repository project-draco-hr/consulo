{
  if (object instanceof LookupElement)   return (LookupElement)object;
  if (object instanceof PsiClass) {
    return new JavaPsiClassReferenceElement((PsiClass)object).setTailType(TailType.NONE);
  }
  if (object instanceof PsiMethod) {
    return new JavaMethodCallElement((PsiMethod)object);
  }
  String s=null;
  LookupItem item=new LookupItem(object,"");
  if (object instanceof PsiElement) {
    s=PsiUtilBase.getName((PsiElement)object);
  }
  if (object instanceof PsiEnumConstant) {
    item.addLookupStrings(((PsiEnumConstant)object).getName());
  }
  TailType tailType=TailType.NONE;
  if (object instanceof PsiPackage) {
    tailType=TailType.DOT;
    s=StringUtil.notNullize(s);
  }
 else   if (object instanceof PsiKeyword) {
    return new KeywordLookupItem((PsiKeyword)object).setTailType(tailType);
  }
 else   if (object instanceof PsiExpression) {
    return new ExpressionLookupItem((PsiExpression)object).setTailType(tailType);
  }
 else   if (object instanceof PsiType) {
    return PsiTypeLookupItem.createLookupItem((PsiType)object);
  }
 else   if (object instanceof PsiMetaData) {
    s=((PsiMetaData)object).getName();
  }
 else   if (object instanceof String) {
    s=(String)object;
  }
 else   if (object instanceof Template) {
    s=((Template)object).getKey();
  }
 else   if (object instanceof PresentableLookupValue) {
    s=((PresentableLookupValue)object).getPresentation();
  }
  if (object instanceof LookupValueWithUIHint && ((LookupValueWithUIHint)object).isBold() || object instanceof PsiKeyword) {
    item.setBold();
  }
  if (s == null) {
    LOG.assertTrue(false,"Null string for object: " + object + " of class "+ (object != null ? object.getClass() : null));
  }
  if (object instanceof LookupValueWithTail) {
    item.setAttribute(LookupItem.TAIL_TEXT_ATTR," " + ((LookupValueWithTail)object).getTailText());
  }
  item.setLookupString(s);
  item.setAttribute(CompletionUtil.TAIL_TYPE_ATTR,tailType);
  return item;
}
