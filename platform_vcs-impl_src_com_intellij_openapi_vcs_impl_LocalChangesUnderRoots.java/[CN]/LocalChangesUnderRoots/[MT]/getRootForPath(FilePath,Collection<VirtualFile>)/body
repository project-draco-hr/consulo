{
  final VirtualFile vf=ChangesUtil.findValidParentUnderReadAction(file);
  if (vf == null) {
    return null;
  }
  VirtualFile rootCandidate=null;
  for (  VcsRoot root : myRoots) {
    if (VfsUtilCore.isAncestor(root.getPath(),vf,false)) {
      if (rootCandidate == null || VfsUtil.isAncestor(rootCandidate,root.getPath(),true)) {
        rootCandidate=root.getPath();
      }
    }
  }
  if (!rootsToSave.contains(rootCandidate))   return null;
  return rootCandidate;
}
