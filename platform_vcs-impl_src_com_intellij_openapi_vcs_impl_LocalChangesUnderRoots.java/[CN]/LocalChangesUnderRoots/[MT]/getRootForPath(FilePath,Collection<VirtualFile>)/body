{
  final VirtualFile vf=ChangesUtil.findValidParentUnderReadAction(file);
  if (vf == null) {
    return null;
  }
  VirtualFile rootCandidate=null;
  for (  VcsRoot root : myRoots) {
    if (VfsUtil.isAncestor(root.path,vf,false)) {
      if (rootCandidate == null || VfsUtil.isAncestor(rootCandidate,root.path,true)) {
        rootCandidate=root.path;
      }
    }
  }
  if (!rootsToSave.contains(rootCandidate))   return null;
  return rootCandidate;
}
