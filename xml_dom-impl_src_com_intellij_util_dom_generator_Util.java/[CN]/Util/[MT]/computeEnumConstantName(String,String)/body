{
  String id=val;
  for (int i=1; i < id.length(); i++) {
    if (Character.isUpperCase(id.charAt(i)) && Character.isLowerCase(id.charAt(i - 1))) {
      id=id.substring(0,i) + "_" + id.substring(i);
      i++;
    }
  }
  id=id.toUpperCase();
  id=id.replace('.','_').replace('-','_');
  if (id.length() < 2 || !Character.isJavaIdentifierStart(id.charAt(0))) {
    id=typeName + "_" + id;
  }
  return id;
}
