{
  if (!attrName.startsWith(HTML5_DATA_ATTR_PREFIX)) {
    return false;
  }
  XmlDocument doc=PsiTreeUtil.getParentOfType(tag,XmlDocument.class);
  if (!(doc instanceof HtmlDocumentImpl)) {
    return false;
  }
  XmlProlog prolog=doc.getProlog();
  if (prolog == null) {
    return false;
  }
  XmlDoctype doctype=prolog.getDoctype();
  return doctype != null && doctype.getDtdUri() == null && doctype.getPublicId() == null;
}
