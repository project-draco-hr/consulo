{
  ParametersList params=new ParametersList();
  params.add("param1");
  final ParamsGroup group1=params.addParamsGroup("id1");
  group1.addParameter("group1_param1");
  params.add("param2");
  group1.addParameter("group1_param2");
  final ParamsGroup group2=params.addParamsGroup("id2");
  group2.addParameter("group2_param1");
  params.add("param3");
  assertOrderedEquals(params.getParameters(),"param1","param2","param3");
  assertOrderedEquals(params.getList(),"param1","param2","param3","group1_param1","group1_param2","group2_param1");
  assertOrderedEquals(params.getArray(),"param1","param2","param3","group1_param1","group1_param2","group2_param1");
  assertEquals("param1 param2 param3 group1_param1 group1_param2 group2_param1",params.getParametersString().trim());
  final ParametersList group1_params=group1.getParametersList();
  assertOrderedEquals(group1_params.getParameters(),"group1_param1","group1_param2");
  assertOrderedEquals(group1_params.getList(),"group1_param1","group1_param2");
  assertOrderedEquals(group1_params.getArray(),"group1_param1","group1_param2");
  assertEquals("group1_param1 group1_param2",group1_params.getParametersString().trim());
  final ParametersList group2_params=group2.getParametersList();
  assertOrderedEquals(group2_params.getParameters(),"group2_param1");
  assertOrderedEquals(group2_params.getList(),"group2_param1");
  assertOrderedEquals(group2_params.getArray(),"group2_param1");
  assertEquals("group2_param1",group2_params.getParametersString().trim());
}
