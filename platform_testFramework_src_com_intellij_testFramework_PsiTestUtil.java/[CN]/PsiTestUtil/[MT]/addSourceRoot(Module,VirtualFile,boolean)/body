{
  final ModuleRootManager rootManager=ModuleRootManager.getInstance(module);
  final ModifiableRootModel rootModel=rootManager.getModifiableModel();
  final ContentEntry[] contentEntries=rootModel.getContentEntries();
  ContentEntry entry=ContainerUtil.find(contentEntries,new Condition<ContentEntry>(){
    public boolean value(    final ContentEntry object){
      return VfsUtil.isAncestor(object.getFile(),vDir,false);
    }
  }
);
  if (entry == null)   entry=rootModel.addContentEntry(vDir);
  entry.addSourceFolder(vDir,isTestSource);
  rootModel.commit();
}
