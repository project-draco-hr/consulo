{
  @NonNls final String TITLE="Delete file(s)";
  @NonNls final String MESSAGE="Do you want to schedule the following file for deletion from Git?\n{0}";
  VirtualFile file=event.getFile();
  if (!VcsUtil.isFileForVcs(file,project,host))   return;
  if (event.isFromRefresh())   return;
  if (isFileProcessable(file) && VcsUtil.isFileUnderVcs(project,file.getUrl())) {
    VcsShowConfirmationOption option=host.getDeleteConfirmation();
    if (option.getValue() == VcsShowConfirmationOption.Value.DO_ACTION_SILENTLY) {
      deleteFile(file);
    }
 else     if (option.getValue() == VcsShowConfirmationOption.Value.SHOW_CONFIRMATION) {
      List<VirtualFile> files=new ArrayList<VirtualFile>();
      files.add(file);
      AbstractVcsHelper helper=AbstractVcsHelper.getInstance(project);
      Collection<VirtualFile> filesToAdd=helper.selectFilesToProcess(files,TITLE,null,TITLE,MESSAGE,option);
      if (filesToAdd != null) {
        deleteFile(file);
      }
 else {
        deleteFile(file);
      }
    }
 else {
      deleteFile(file);
    }
  }
}
