{
  VirtualFileSystemEntry[] array=myChildren;
  final String childName=child.getName();
  final boolean ignoreCase=!getFileSystem().isCaseSensitive();
  long r=findIndexInBoth(array,getComparer(childName,ignoreCase));
  int indexInReal=(int)(r >> 32);
  int indexInAdopted=(int)r;
  if (indexInAdopted >= 0) {
    myChildren=array=ArrayUtil.remove(array,indexInAdopted,new ArrayFactory<VirtualFileSystemEntry>(){
      @Override public VirtualFileSystemEntry[] create(      int count){
        return new VirtualFileSystemEntry[count];
      }
    }
);
    assertConsistency(array,ignoreCase,child);
  }
  if (indexInReal >= 0)   return;
  insertChildAt(child,indexInReal,array,ignoreCase);
}
