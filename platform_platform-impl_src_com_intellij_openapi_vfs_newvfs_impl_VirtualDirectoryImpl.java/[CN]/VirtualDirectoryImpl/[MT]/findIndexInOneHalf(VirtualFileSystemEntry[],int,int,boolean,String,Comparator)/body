{
  return binSearch(array,start,end,name,new Comparator(){
    @Override public int compareFileNameTo(    @NotNull String myName,    @NotNull VirtualFileSystemEntry file){
      if (isAdopted && !isAdoptedChild(file))       return 1;
      if (!isAdopted && isAdoptedChild(file))       return -1;
      return comparator.compareFileNameTo(myName,file);
    }
  }
);
}
