{
  final VirtualFileSystemEntry[] a=asArray();
  if (a != null) {
    Object encoded=encodeName(name);
    byte[] bytes=encoded instanceof byte[] ? (byte[])encoded : null;
    for (    VirtualFileSystemEntry file : a) {
      if (namesEqual(name,bytes,file))       return file;
    }
    return null;
  }
  final Map<String,VirtualFileSystemEntry> map=asMap();
  if (map != null) {
    final VirtualFileSystemEntry file=map.get(name);
    return file != NULL_VIRTUAL_FILE ? file : null;
  }
  return null;
}
