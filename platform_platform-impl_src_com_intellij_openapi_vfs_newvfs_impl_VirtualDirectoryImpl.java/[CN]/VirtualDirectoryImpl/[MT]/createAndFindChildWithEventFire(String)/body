{
  final NewVirtualFileSystem delegate=getFileSystem();
  final VirtualFile fake=new FakeVirtualFile(this,name);
  final FileAttributes attributes=delegate.getAttributes(fake);
  if (attributes != null) {
    final String realName=delegate.getCanonicallyCasedName(fake);
    final VFileCreateEvent event=new VFileCreateEvent(null,this,realName,attributes.isDirectory(),true);
    RefreshQueue.getInstance().processSingleEvent(event);
    return findChild(realName);
  }
 else {
    return null;
  }
}
