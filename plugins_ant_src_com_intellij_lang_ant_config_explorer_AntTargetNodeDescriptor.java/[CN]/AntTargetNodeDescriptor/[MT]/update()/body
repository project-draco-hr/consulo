{
  final CompositeAppearance oldText=myHighlightedText;
  final boolean isMeta=myTarget instanceof MetaTarget;
  myOpenIcon=myClosedIcon=isMeta ? Icons.ANT_META_TARGET_ICON : Icons.ANT_TARGET_ICON;
  myHighlightedText=new CompositeAppearance();
  final AntBuildFile buildFile=isMeta ? ((MetaTarget)myTarget).getBuildFile() : myTarget.getModel().getBuildFile();
  final Color color=buildFile.isTargetVisible(myTarget) ? Color.black : Color.gray;
  TextAttributes nameAttributes=new TextAttributes(color,null,null,EffectType.BOXED,myTarget.isDefault() ? Font.BOLD : Font.PLAIN);
  myHighlightedText.getEnding().addText(myTarget.getName(),nameAttributes);
  AntConfigurationBase antConfiguration=AntConfigurationBase.getInstance(myProject);
  final ArrayList<String> addedNames=new ArrayList<String>(4);
  for (  final ExecutionEvent event : antConfiguration.getEventsForTarget(myTarget)) {
    final String presentableName;
    if ((event instanceof ExecuteCompositeTargetEvent)) {
      presentableName=((ExecuteCompositeTargetEvent)event).getMetaTargetName();
      if (presentableName.equals(myTarget.getName())) {
        continue;
      }
    }
 else {
      presentableName=event.getPresentableName();
    }
    if (!addedNames.contains(presentableName)) {
      addedNames.add(presentableName);
      myHighlightedText.getEnding().addText(" (" + presentableName + ')',ourPostfixAttributes);
    }
  }
  myName=myHighlightedText.getText();
  final AntBuildTargetBase target=getTarget();
  if (!addShortcutText(target.getActionId())) {
    if (target.isDefault()) {
      addShortcutText(((AntBuildModelBase)target.getModel()).getDefaultTargetActionId());
    }
  }
  return !Comparing.equal(myHighlightedText,oldText);
}
