{
  final Document document=getLanguageConsole().getCurrentEditor().getDocument();
  final String text=document.getText();
  final TextRange range=new TextRange(0,document.getTextLength());
  getLanguageConsole().getCurrentEditor().getSelectionModel().setSelection(range.getStartOffset(),range.getEndOffset());
  getLanguageConsole().addCurrentToHistory(range,false);
  getLanguageConsole().setInputText("");
  if (!StringUtil.isEmptyOrSpaces(text)) {
    myHistory.addToHistory(text);
  }
  processLine(text);
}
