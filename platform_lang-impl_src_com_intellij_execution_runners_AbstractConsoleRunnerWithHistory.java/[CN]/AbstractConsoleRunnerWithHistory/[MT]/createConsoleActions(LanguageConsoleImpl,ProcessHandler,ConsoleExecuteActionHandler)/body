{
  final AnAction runAction=new ConsoleExecuteAction(languageConsole,processHandler,consoleExecuteActionHandler);
  final PairProcessor<AnActionEvent,String> historyProcessor=new PairProcessor<AnActionEvent,String>(){
    public boolean process(    final AnActionEvent e,    final String s){
      new WriteCommandAction(languageConsole.getProject(),languageConsole.getFile()){
        protected void run(        final Result result) throws Throwable {
          String text=s == null ? "" : s;
          languageConsole.getEditorDocument().setText(text);
          languageConsole.getConsoleEditor().getCaretModel().moveToOffset(text.length());
        }
      }
.execute();
      return true;
    }
  }
;
  final EditorEx consoleEditor=languageConsole.getConsoleEditor();
  final AnAction upAction=ConsoleHistoryModel.createConsoleHistoryUpAction(createCanMoveUpComputable(consoleEditor),consoleExecuteActionHandler.getConsoleHistoryModel(),historyProcessor);
  final AnAction downAction=ConsoleHistoryModel.createConsoleHistoryDownAction(createCanMoveDownComputable(consoleEditor),consoleExecuteActionHandler.getConsoleHistoryModel(),historyProcessor);
  return new ConsoleExecutionActions(runAction,downAction,upAction);
}
