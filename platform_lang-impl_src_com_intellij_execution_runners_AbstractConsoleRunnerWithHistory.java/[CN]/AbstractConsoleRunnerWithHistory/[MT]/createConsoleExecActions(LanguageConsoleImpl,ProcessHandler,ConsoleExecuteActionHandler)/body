{
  final ConsoleHistoryModel myHistory=new ConsoleHistoryModel();
  final AnAction runAction=new ConsoleExecuteAction(languageConsole,myHistory,processHandler,consoleExecuteActionHandler);
  final PairProcessor<AnActionEvent,String> historyProcessor=new PairProcessor<AnActionEvent,String>(){
    public boolean process(    final AnActionEvent e,    final String s){
      new WriteCommandAction(languageConsole.getProject(),languageConsole.getFile()){
        protected void run(        final Result result) throws Throwable {
          languageConsole.getEditorDocument().setText(s == null ? "" : s);
        }
      }
.execute();
      return true;
    }
  }
;
  final AnAction historyNextAction=ConsoleHistoryModel.createHistoryAction(myHistory,true,historyProcessor);
  final AnAction historyPrevAction=ConsoleHistoryModel.createHistoryAction(myHistory,false,historyProcessor);
  historyNextAction.getTemplatePresentation().setVisible(false);
  historyPrevAction.getTemplatePresentation().setVisible(false);
  return new ConsoleExecutionActions(runAction,historyNextAction,historyPrevAction);
}
