{
  final List<PsiFile> files=findExternalAnnotationsFiles(listOwner);
  if (files == null) {
    return Collections.emptyMap();
  }
  Map<String,PsiAnnotation> result=new HashMap<String,PsiAnnotation>();
  String externalName=getExternalName(listOwner,false);
  String oldExternalName=getNormalizedExternalName(listOwner);
  for (  PsiFile file : files) {
    if (!file.isValid())     continue;
    MultiMap<String,AnnotationData> fileData=getDataFromFile(file);
    for (    AnnotationData annotationData : ContainerUtil.concat(fileData.get(externalName),fileData.get(oldExternalName))) {
      try {
        result.put(annotationData.annotationClassFqName,JavaPsiFacade.getInstance(myPsiManager.getProject()).getElementFactory().createAnnotationFromText(annotationData.annotationText,null));
      }
 catch (      IncorrectOperationException e) {
        LOG.error(e);
      }
    }
  }
  return result;
}
