{
  StringBuilder builder=new StringBuilder();
  boolean flag=false;
  for (  PsiElement child : tag.getChildren()) {
    if (child instanceof XmlToken && XmlTokenType.XML_EMPTY_ELEMENT_END.equals(((XmlToken)child).getTokenType())) {
      flag=true;
      break;
    }
    builder.append(child.getText());
  }
  if (flag) {
    builder.append("></").append(tag.getName()).append('>');
    return XmlElementFactory.getInstance(tag.getProject()).createTagFromText(builder.toString(),XMLLanguage.INSTANCE);
  }
  return tag;
}
