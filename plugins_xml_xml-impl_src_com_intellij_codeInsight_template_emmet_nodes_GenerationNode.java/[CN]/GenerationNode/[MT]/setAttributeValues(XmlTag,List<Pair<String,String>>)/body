{
  for (Iterator<Pair<String,String>> iterator=attr2value.iterator(); iterator.hasNext(); ) {
    Pair<String,String> pair=iterator.next();
    if (tag.getAttribute(pair.first) != null) {
      if (ZenCodingUtil.containsSurroundedTextMarker(pair.second)) {
        myContainsSurroundedTextMarker=true;
      }
      tag.setAttribute(pair.first,StringUtil.isEmpty(pair.second) ? "$" + pair.first + "$" : ZenCodingUtil.getValue(pair.second,myNumberInIteration,myTotalIterations,mySurroundedText));
      iterator.remove();
    }
  }
}
