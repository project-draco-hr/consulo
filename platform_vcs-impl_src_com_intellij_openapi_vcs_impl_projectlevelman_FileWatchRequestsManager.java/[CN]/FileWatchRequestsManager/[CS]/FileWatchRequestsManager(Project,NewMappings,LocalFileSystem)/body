{
  myProject=project;
  myMerger=new RequestsMerger(new FileWatchRequestModifier(project,newMappings,localFileSystem),new Consumer<Runnable>(){
    @Override public void consume(    Runnable runnable){
      if ((!myProject.isInitialized()) || myProject.isDisposed())       return;
      final Application application=ApplicationManager.getApplication();
      if (application.isUnitTestMode()) {
        runnable.run();
      }
 else {
        application.executeOnPooledThread(runnable);
      }
    }
  }
);
}
