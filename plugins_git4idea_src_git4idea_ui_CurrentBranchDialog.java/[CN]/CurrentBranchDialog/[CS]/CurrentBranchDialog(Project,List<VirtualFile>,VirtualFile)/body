{
  super(project,true);
  myProject=project;
  setTitle(GitBundle.getString("current.branch.title"));
  setOKButtonText(GitBundle.getString("current.branch.change.tracked"));
  GitUIUtil.setupRootChooser(project,roots,defaultRoot,myGitRoot,myCurrentBranch);
  myGitRoot.addActionListener(new ActionListener(){
    public void actionPerformed(    ActionEvent e){
      try {
        rootUpdated();
      }
 catch (      VcsException ex) {
        GitUIUtil.showOperationError(myProject,ex,"git config");
      }
    }
  }
);
  myRepositoryComboBox.addActionListener(new ActionListener(){
    public void actionPerformed(    ActionEvent e){
      trackedRemoteUpdated();
    }
  }
);
  myBranchComboBox.addActionListener(new ActionListener(){
    public void actionPerformed(    ActionEvent e){
      validateFields();
    }
  }
);
  rootUpdated();
  init();
}
