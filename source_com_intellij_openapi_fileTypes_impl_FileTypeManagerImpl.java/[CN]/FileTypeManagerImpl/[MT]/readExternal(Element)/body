{
  int savedVersion=getVersion(parentNode);
  for (  final Object o : parentNode.getChildren()) {
    final Element e=(Element)o;
    if (ELEMENT_FILETYPES.equals(e.getName())) {
      List children=e.getChildren(ELEMENT_FILETYPE);
      for (      final Object aChildren : children) {
        Element element=(Element)aChildren;
        loadFileType(element,true);
      }
    }
 else     if (ELEMENT_IGNOREFILES.equals(e.getName())) {
      setIgnoredFilesListWithoutNotification(e.getAttributeValue(ATTRIBUTE_LIST));
    }
 else     if (ELEMENT_EXTENSIONMAP.equals(e.getName())) {
      List mappings=e.getChildren(ELEMENT_MAPPING);
      for (      Object mapping1 : mappings) {
        Element mapping=(Element)mapping1;
        String ext=mapping.getAttributeValue(ATTRIBUTE_EXT);
        String name=mapping.getAttributeValue(ATTRIBUTE_TYPE);
        FileType type=getFileTypeByName(name);
        if (type != null) {
          associateExtension(type,ext,false);
        }
 else {
          myUnresolvedMappings.put(ext,name);
        }
      }
      List removedMappings=e.getChildren(ELEMENT_REMOVED_MAPPING);
      for (      Object removedMapping : removedMappings) {
        Element mapping=(Element)removedMapping;
        String ext=mapping.getAttributeValue(ATTRIBUTE_EXT);
        String name=mapping.getAttributeValue(ATTRIBUTE_TYPE);
        FileType type=getFileTypeByName(name);
        if (type != null) {
          removeAssociation(type,ext,false);
        }
      }
    }
  }
  if (savedVersion == 0) {
    if (!myIgnoredFileMasksSet.contains(IGNORE_DOT_SVN)) {
      myIgnorePatterns.add(PatternUtil.fromMask(IGNORE_DOT_SVN));
      myIgnoredFileMasksSet.add(IGNORE_DOT_SVN);
    }
  }
  if (savedVersion < VERSION) {
    restoreStandardFileExtensions();
  }
}
