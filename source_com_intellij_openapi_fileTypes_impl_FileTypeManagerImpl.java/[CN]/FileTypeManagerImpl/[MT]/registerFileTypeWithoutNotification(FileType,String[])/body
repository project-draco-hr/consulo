{
  myFileTypes.add(fileType);
  if (extensions != null) {
    for (    String extension : extensions) {
      myExtToFileTypeMap.put(extension,fileType);
      myInitialAssociations.put(extension,fileType);
    }
  }
  if (fileType instanceof FakeFileType) {
    mySpecialFileTypes.add((FakeFileType)fileType);
  }
  for (  String ext : new THashSet<String>(myUnresolvedMappings.keySet())) {
    String name=myUnresolvedMappings.get(ext);
    if (Comparing.equal(name,fileType.getName())) {
      myExtToFileTypeMap.put(ext,fileType);
      myUnresolvedMappings.remove(ext);
    }
  }
}
