{
  long leftTime=new Date(2001,01,03,12,0).getTime();
  long rightTime=new Date(2002,02,04,14,0).getTime();
  VirtualFile f=root.createChildData(null,"old.txt");
  f.setBinaryContent("old".getBytes(),-1,leftTime);
  f.rename(null,"new.txt");
  f.setBinaryContent("new".getBytes(),-1,rightTime);
  f.setBinaryContent(new byte[0]);
  FileHistoryDialogModel m=createFileModelAndSelectRevisions(f,1,3);
  assertEquals(f.getPath(),m.getDifferenceModel().getTitle());
  assertEquals("03.02.01 12:00 - old.txt",m.getDifferenceModel().getLeftTitle(new NullRevisionsProgress()));
  assertEquals("04.03.02 14:00 - new.txt",m.getDifferenceModel().getRightTitle(new NullRevisionsProgress()));
}
