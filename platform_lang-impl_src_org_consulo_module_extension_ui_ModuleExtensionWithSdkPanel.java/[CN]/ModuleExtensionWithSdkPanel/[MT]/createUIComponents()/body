{
  myRoot=this;
  final SdkType sdkType=myExtensionWithSdk.getSdkType();
  final ProjectSdksModel projectJdksModel=ProjectStructureConfigurable.getInstance(myExtensionWithSdk.getModule().getProject()).getProjectJdksModel();
  mySdkComboBox=new SdkComboBox(projectJdksModel,new Condition<SdkTypeId>(){
    @Override public boolean value(    SdkTypeId sdkTypeId){
      return sdkTypeId == sdkType;
    }
  }
);
  final Sdk sdk=myExtensionWithSdk.getSdk();
  if (sdk == null) {
    mySdkComboBox.setInvalidJdk(myExtensionWithSdk.getSdkName());
  }
 else {
    mySdkComboBox.setSelectedJdk(sdk);
  }
  mySdkComboBox.addItemListener(new ItemListener(){
    @Override public void itemStateChanged(    ItemEvent e){
      myExtensionWithSdk.setSdk(mySdkComboBox.getSelectedJdk());
      if (myClasspathStateUpdater != null) {
        SwingUtilities.invokeLater(myClasspathStateUpdater);
      }
    }
  }
);
}
