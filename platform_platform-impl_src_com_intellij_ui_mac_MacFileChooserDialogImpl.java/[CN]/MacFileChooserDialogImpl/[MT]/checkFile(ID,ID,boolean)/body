{
  MacFileChooserDialogImpl impl=ourImplMap.get(self);
  if (impl == null) {
    return true;
  }
  if (url == null || url.intValue() == 0) {
    return false;
  }
  ID filename=Foundation.invoke(url,"path");
  String path=Foundation.toStringViaUTF8(filename);
  if (path == null) {
    return false;
  }
  VirtualFile file=LocalFileSystem.getInstance().findFileByPath(path);
  if (file == null || quickCheck && file.isDirectory()) {
    return true;
  }
  if (!impl.myChooserDescriptor.isFileSelectable(file)) {
    return false;
  }
  if (!quickCheck) {
    VirtualFile[] files={file};
    impl.myChooserDescriptor.validateSelectedFiles(files);
  }
  return true;
}
