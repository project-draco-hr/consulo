{
  if (item1 == item2)   return 0;
  if (LookupManagerImpl.isUseNewSorting()) {
    if (item2.getAttribute(LookupItem.DONT_PREFER) != null)     return -1;
    return 0;
  }
  return doCompare(item1.getPriority(),item2.getPriority(),getWeight(item1),getWeight(item2));
}
