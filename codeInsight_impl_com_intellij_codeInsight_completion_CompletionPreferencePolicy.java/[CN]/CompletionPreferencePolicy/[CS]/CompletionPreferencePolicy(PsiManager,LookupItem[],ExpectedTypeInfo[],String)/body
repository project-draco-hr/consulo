{
  setPrefix(prefix);
  myManager=manager;
  myCodeStyleManager=CodeStyleManager.getInstance(myManager.getProject());
  if (expectedInfos != null) {
    final Map<PsiType,ExpectedTypeInfo> map=new java.util.HashMap<PsiType,ExpectedTypeInfo>(expectedInfos.length);
    for (    final ExpectedTypeInfo expectedInfo : expectedInfos) {
      if (!map.containsKey(expectedInfo.getType())) {
        map.put(expectedInfo.getType(),expectedInfo);
      }
    }
    myExpectedInfos=map.values().toArray(new ExpectedTypeInfo[map.size()]);
  }
 else   myExpectedInfos=null;
synchronized (myItemToIndexMap) {
    for (int i=0; i < allItems.length; i++) {
      myItemToIndexMap.put(allItems[i],new Integer(i + 1));
    }
  }
}
