{
  if (lRef == null && rRef == null)   return true;
  if (lRef == null || rRef == null)   return false;
  PsiElement lResolved=lRef.resolve();
  PsiElement rResolved=rRef.resolve();
  if (!manager.areElementsEquivalent(lResolved,rResolved))   return false;
  if (!(lResolved instanceof PsiVariable))   return false;
  final PsiVariable variable=(PsiVariable)lResolved;
  if (variable.hasModifierProperty(PsiModifier.STATIC))   return true;
  final PsiElement lQualifier=lRef.getQualifier();
  final PsiElement rQualifier=rRef.getQualifier();
  if (lQualifier instanceof PsiJavaCodeReferenceElement && rQualifier instanceof PsiJavaCodeReferenceElement) {
    return sameInstanceReferences((PsiJavaCodeReferenceElement)lQualifier,(PsiJavaCodeReferenceElement)rQualifier,manager);
  }
  if (Comparing.equal(lQualifier,rQualifier))   return true;
  boolean lThis=lQualifier == null || lQualifier instanceof PsiThisExpression || lQualifier instanceof PsiSuperExpression;
  boolean rThis=rQualifier == null || rQualifier instanceof PsiThisExpression || rQualifier instanceof PsiSuperExpression;
  if (lThis && rThis) {
    final PsiJavaCodeReferenceElement llQualifier=getQualifier(lQualifier);
    final PsiJavaCodeReferenceElement rrQualifier=getQualifier(rQualifier);
    return sameInstanceReferences(llQualifier,rrQualifier,manager);
  }
  return false;
}
