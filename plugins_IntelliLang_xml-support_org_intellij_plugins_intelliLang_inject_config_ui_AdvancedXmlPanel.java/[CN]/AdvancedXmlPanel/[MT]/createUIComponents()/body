{
  myValuePattern=new LanguageTextField(RegExpLanguage.INSTANCE,myProject,myOrigInjection.getValuePattern(),new Consumer<PsiFile>(){
    public void consume(    PsiFile psiFile){
      psiFile.putCopyableUserData(ValueRegExpAnnotator.KEY,Boolean.TRUE);
    }
  }
);
  if (myOrigInjection instanceof AbstractTagInjection) {
    final XPathSupportProxy proxy=XPathSupportProxy.getInstance();
    myXPathCondition=new LanguageTextField(proxy != null ? InjectedLanguage.findLanguageById("XPath") : null,myProject,((AbstractTagInjection)myOrigInjection).getXPathCondition(),new Consumer<PsiFile>(){
      public void consume(      PsiFile psiFile){
        if (proxy != null) {
          proxy.attachContext(psiFile);
        }
      }
    }
);
  }
 else {
    myXPathCondition=new EditorTextField();
  }
}
