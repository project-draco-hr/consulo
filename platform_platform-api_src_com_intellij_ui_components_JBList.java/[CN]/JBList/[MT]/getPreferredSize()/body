{
  if (getModel().getSize() == 0 && !StringUtil.isEmpty(getEmptyText().getText())) {
    Dimension s=getEmptyText().getPreferredSize();
    Insets insets=getInsets();
    if (insets != null) {
      s.width+=(insets.left + insets.right);
      s.height+=(insets.top + insets.bottom);
    }
    return s;
  }
 else {
    return super.getPreferredSize();
  }
}
