{
  setCellRenderer(new DefaultListCellRenderer(){
    @Override public Component getListCellRendererComponent(    JList list,    Object value,    int index,    boolean isSelected,    boolean cellHasFocus){
      @SuppressWarnings({"unchecked"}) final JComponent comp=fun.fun((T)value);
      comp.setOpaque(true);
      if (isSelected) {
        comp.setBackground(list.getSelectionBackground());
        comp.setForeground(list.getSelectionForeground());
      }
 else {
        comp.setBackground(list.getBackground());
        comp.setForeground(list.getForeground());
      }
      return comp;
    }
  }
);
}
