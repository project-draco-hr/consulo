{
  String[] left=new String[]{"i1","a","i2","a","b"};
  String[] right=new String[]{"a","b"};
  Diff.Change change=Diff.buildChanges(left,right);
  assertNotNull(change.link);
  assertEquals(2,change.link.deleted);
  assertEquals(2,change.link.line0);
  Diff.Change newChange=Util.concatEquals(change,left,right);
  MultiCheck multiCheck=new MultiCheck();
  multiCheck.assertEquals(0,newChange.line0);
  multiCheck.assertEquals(0,newChange.line1);
  multiCheck.assertEquals(3,newChange.deleted);
  multiCheck.assertEquals(0,newChange.inserted);
  multiCheck.assertNull(newChange.link);
  multiCheck.flush();
}
