{
  Project project=myModel.getProject();
  List<DirDiffElementImpl> elements=myModel.getSelectedElements();
  List<OpenFileDescriptor> descriptors=new ArrayList<OpenFileDescriptor>();
  for (  DirDiffElementImpl element : elements) {
    DiffElement source=element.getSource();
    DiffElement target=element.getTarget();
    OpenFileDescriptor descriptor1=source != null ? source.getOpenFileDescriptor(project) : null;
    OpenFileDescriptor descriptor2=target != null ? target.getOpenFileDescriptor(project) : null;
    if (descriptor1 != null)     descriptors.add(descriptor1);
    if (descriptor2 != null)     descriptors.add(descriptor2);
  }
  return ContainerUtil.toArray(descriptors,new OpenFileDescriptor[descriptors.size()]);
}
