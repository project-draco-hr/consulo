{
  Sdk sdk=null;
  List<Sdk> sdks=ProjectJdkTable.getInstance().getSdksOfType(sdkType);
  if (sdks.size() > 0) {
    sdk=sdks.get(0);
  }
 else {
    final String suggestedHomePath=sdkType.suggestHomePath();
    if (suggestedHomePath != null && sdkType.isValidSdkHome(suggestedHomePath)) {
      VirtualFile sdkHome=ApplicationManager.getApplication().runWriteAction(new Computable<VirtualFile>(){
        public VirtualFile compute(){
          return LocalFileSystem.getInstance().refreshAndFindFileByPath(suggestedHomePath);
        }
      }
);
      if (sdkHome != null) {
        sdk=setupSdk(sdkHome,sdkType);
      }
    }
  }
  return sdk;
}
