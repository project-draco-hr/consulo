{
  GitVcs.getInstance(project).runInBackground(new Task.Backgroundable(project,GitBundle.message("changes.retrieving",revision)){
    @Override public void run(    @NotNull ProgressIndicator indicator){
      indicator.setIndeterminate(true);
      try {
        VirtualFile vcsRoot=GitUtil.getGitRoot(file);
        final CommittedChangeList changeList=GitChangeUtils.getRevisionChanges(project,vcsRoot,revision);
        if (changeList != null) {
          UIUtil.invokeLaterIfNeeded(new Runnable(){
            public void run(){
              AbstractVcsHelper.getInstance(project).showChangesListBrowser(changeList,GitShowAllSubmittedFilesAction.getTitle(revision));
            }
          }
);
        }
      }
 catch (      final VcsException e) {
        UIUtil.invokeLaterIfNeeded(new Runnable(){
          public void run(){
            GitUIUtil.showOperationError(project,e,"git show");
          }
        }
);
      }
    }
  }
);
}
