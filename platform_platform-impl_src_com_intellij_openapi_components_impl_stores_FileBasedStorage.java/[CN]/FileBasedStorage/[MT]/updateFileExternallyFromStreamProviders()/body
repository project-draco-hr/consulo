{
  Element element=getElement(loadData(true));
  if (element == null) {
    FileUtil.delete(myFile);
    return null;
  }
  BufferExposingByteArrayOutputStream out=StorageUtil.newContentIfDiffers(element,getVirtualFile());
  if (out == null) {
    return null;
  }
  File file=new File(myFile.getAbsolutePath());
  FileUtil.writeToFile(file,out.getInternalBuffer(),0,out.size());
  return file;
}
