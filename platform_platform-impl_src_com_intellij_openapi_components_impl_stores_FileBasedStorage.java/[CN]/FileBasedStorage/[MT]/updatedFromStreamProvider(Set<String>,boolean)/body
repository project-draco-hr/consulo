{
  resetProviderCache();
  try {
    Element newElement=deleted ? null : loadDataFromStreamProvider();
    if (newElement == null) {
      StorageUtil.deleteFile(myFile,this,myCachedVirtualFile);
      if (myLoadedData != null) {
        changedComponentNames.addAll(myLoadedData.myComponentStates.keySet());
        resetData();
      }
    }
 else     if (myLoadedData != null) {
      StorageData newStorageData=createStorageData();
      loadState(newStorageData,newElement);
      changedComponentNames.addAll(newStorageData.getChangedComponentNames(myLoadedData,myPathMacroSubstitutor));
      myLoadedData=newStorageData;
    }
  }
 catch (  Exception e) {
    LOG.warn(e);
  }
}
