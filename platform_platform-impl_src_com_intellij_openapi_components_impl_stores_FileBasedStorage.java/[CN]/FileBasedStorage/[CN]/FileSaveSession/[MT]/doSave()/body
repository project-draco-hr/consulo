{
  if (!myBlockSavingTheContent) {
    final byte[] text=StorageUtil.printDocument(getDocumentToSave());
    VirtualFile virtualFile=ensureVirtualFile();
    if (virtualFile != null) {
      try {
        OutputStream out=virtualFile.getOutputStream(this);
        try {
          out.write(text);
        }
  finally {
          out.close();
        }
      }
 catch (      IOException e) {
        LOG.error(e);
      }
    }
  }
}
