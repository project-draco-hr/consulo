{
  final PsiExpression[] operands=expression.getOperands();
  boolean addToken=false;
  final StringBuilder text=new StringBuilder();
  for (  PsiExpression operand : operands) {
    if (operand == exclude) {
      continue;
    }
    if (addToken) {
      final PsiJavaToken token=expression.getTokenBeforeOperand(operand);
      text.append(' ');
      if (token != null) {
        text.append(token.getText());
        text.append(' ');
      }
    }
 else {
      addToken=true;
    }
    text.append(operand.getText());
  }
  return text.toString();
}
