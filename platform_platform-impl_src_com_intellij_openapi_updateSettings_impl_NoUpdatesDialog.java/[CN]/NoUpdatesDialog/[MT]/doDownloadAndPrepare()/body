{
  boolean hasSmthToUpdate=super.doDownloadAndPrepare();
  if (hasSmthToUpdate && isShowConfirmation() && Messages.showYesNoDialog(IdeBundle.message("message.idea.restart.required",ApplicationNamesInfo.getInstance().getProductName()),IdeBundle.message("title.plugins"),Messages.getQuestionIcon()) != 0) {
    hasSmthToUpdate=false;
  }
  return hasSmthToUpdate;
}
