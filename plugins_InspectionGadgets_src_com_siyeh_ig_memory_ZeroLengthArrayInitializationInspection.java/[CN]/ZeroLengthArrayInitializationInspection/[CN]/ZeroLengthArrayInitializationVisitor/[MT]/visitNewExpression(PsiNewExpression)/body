{
  super.visitNewExpression(expression);
  final PsiExpression[] dimensions=expression.getArrayDimensions();
  final PsiArrayInitializerExpression arrayInitializer=expression.getArrayInitializer();
  if (arrayInitializer != null) {
    final PsiExpression[] initializers=arrayInitializer.getInitializers();
    if (initializers.length != 0) {
      return;
    }
  }
 else {
    if (dimensions.length != 1) {
      return;
    }
    final PsiExpression dimension=dimensions[0];
    final String dimensionText=dimension.getText();
    if (!"0".equals(dimensionText)) {
      return;
    }
  }
  if (isDeclaredConstant(expression)) {
    return;
  }
  registerError(expression);
}
