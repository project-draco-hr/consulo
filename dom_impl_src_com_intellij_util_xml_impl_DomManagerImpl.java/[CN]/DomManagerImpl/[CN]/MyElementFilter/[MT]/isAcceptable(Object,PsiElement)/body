{
  if (element instanceof XmlElement) {
    final PsiFile psiFile=((PsiElement)element).getContainingFile();
    if (psiFile instanceof XmlFile) {
      final DomRootInvocationHandler handler=getRootInvocationHandler((XmlFile)psiFile);
      if (handler != null && myRootClass.isAssignableFrom(DomReflectionUtil.getRawType(handler.getDomElementType()))) {
        return true;
      }
    }
  }
  return false;
}
