{
  if (file == null)   return null;
  if (!StdFileTypes.XML.equals(file.getFileType()))   return null;
  final VirtualFile virtualFile=file.getVirtualFile();
  if (virtualFile != null && virtualFile.isDirectory())   return null;
synchronized (PsiLock.LOCK) {
    return this.<T>getOrCreateCachedValueProvider(file).getLastValue();
  }
}
