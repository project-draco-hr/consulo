{
  if (!(element instanceof PsiFile || element instanceof PsiDirectory || element instanceof PsiPackage))   return;
  if (!element.isValid()) {
    for (    final Set<DomFileElementImpl> set : myFileDescriptions.values()) {
      for (      final DomFileElementImpl fileElement : set) {
        final XmlFile xmlFile=fileElement.getFile();
        updateFileDomness(xmlFile,null);
        updateDependantFiles(xmlFile);
      }
    }
    return;
  }
  if (element instanceof PsiFile) {
    processFileChange((PsiFile)element);
    return;
  }
  if (element instanceof PsiDirectory) {
    processDirectoryChange((PsiDirectory)element);
    return;
  }
  if (element instanceof PsiPackage) {
    final PsiPackage psiPackage=(PsiPackage)element;
    for (    final PsiDirectory psiDirectory : psiPackage.getDirectories()) {
      processDirectoryChange(psiDirectory);
    }
  }
}
