{
  if (!(element instanceof PsiFile || element instanceof PsiDirectory || element instanceof PsiPackage))   return;
  if (!element.isValid()) {
    for (    final Set<DomFileElementImpl> set : myFileDescriptions.values()) {
      for (      final DomFileElementImpl fileElement : set) {
        processFileChange(fileElement.getFile());
      }
    }
    return;
  }
  if (element instanceof PsiFile) {
    processFileChange((PsiFile)element);
    return;
  }
  if (element instanceof PsiDirectory) {
    processDirectoryChange((PsiDirectory)element);
    return;
  }
  for (  final PsiDirectory psiDirectory : ((PsiPackage)element).getDirectories()) {
    processDirectoryChange(psiDirectory);
  }
}
