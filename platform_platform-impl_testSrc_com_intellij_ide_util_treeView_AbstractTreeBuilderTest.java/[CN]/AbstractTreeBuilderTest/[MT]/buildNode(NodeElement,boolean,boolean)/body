{
  final boolean[] done=new boolean[]{false};
  doAndWaitForBuilder(new Runnable(){
    @Override public void run(){
      if (select) {
        getBuilder().select(element,new Runnable(){
          @Override public void run(){
            done[0]=true;
          }
        }
,addToSelection);
      }
 else {
        getBuilder().expand(element,new Runnable(){
          @Override public void run(){
            done[0]=true;
          }
        }
);
      }
    }
  }
,new Condition(){
    @Override public boolean value(    Object o){
      return done[0];
    }
  }
);
  Assert.assertNotNull(findNode(element,select));
}
