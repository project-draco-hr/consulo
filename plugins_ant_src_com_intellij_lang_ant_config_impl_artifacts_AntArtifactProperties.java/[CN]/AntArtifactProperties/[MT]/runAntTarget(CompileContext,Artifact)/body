{
  if (myEnabled) {
    final Project project=compileContext.getProject();
    final AntBuildTarget target=findTarget(AntConfiguration.getInstance(project));
    if (target != null) {
      final DataContext dataContext=SimpleDataContext.getProjectContext(project);
      if (!myPostProcessing) {
        final boolean success=AntConfigurationImpl.executeTargetSynchronously(dataContext,target);
        if (!success) {
          compileContext.addMessage(CompilerMessageCategory.ERROR,"Cannot build artifact '" + artifact.getName() + "': ant target '"+ target.getDisplayName()+ "' failed with error",null,-1,-1);
        }
        return;
      }
      ApplicationManager.getApplication().invokeLater(new Runnable(){
        public void run(){
          target.run(dataContext,AntBuildListener.NULL);
        }
      }
);
    }
  }
}
