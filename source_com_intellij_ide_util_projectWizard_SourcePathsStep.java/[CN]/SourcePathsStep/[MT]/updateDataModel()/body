{
  List<Pair<String,String>> paths=null;
  if (CHOOSE_SOURCE_PANEL.equals(myCurrentMode)) {
    final List<Pair<String,String>> selectedElements=mySourcePathsChooser.getMarkedElements();
    if (selectedElements.size() > 0) {
      paths=new ArrayList<Pair<String,String>>(selectedElements.size());
      for (Iterator<Pair<String,String>> iterator=selectedElements.iterator(); iterator.hasNext(); ) {
        final Pair<String,String> path=iterator.next();
        paths.add(Pair.create(path.first.replace(File.separatorChar,'/'),path.second));
      }
    }
  }
 else {
    if (myRbCreateSource.isSelected()) {
      final String sourceDirectoryPath=getSourceDirectoryPath();
      if (sourceDirectoryPath != null) {
        paths=Collections.singletonList(Pair.create(sourceDirectoryPath,""));
      }
    }
  }
  if (paths != null) {
    myBuilder.setSourcePaths(paths);
  }
 else {
    myBuilder.setSourcePaths(new ArrayList<Pair<String,String>>());
  }
}
