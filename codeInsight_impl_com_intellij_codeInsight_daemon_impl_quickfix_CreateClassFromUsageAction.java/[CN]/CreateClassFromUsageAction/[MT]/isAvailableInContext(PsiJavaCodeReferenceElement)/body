{
  PsiElement parent=element.getParent();
  if (parent instanceof PsiTypeElement) {
    if (parent.getParent() instanceof PsiReferenceParameterList)     return true;
    while (parent.getParent() instanceof PsiTypeElement)     parent=parent.getParent();
    if (parent.getParent() instanceof PsiVariable || parent.getParent() instanceof PsiMethod || parent.getParent() instanceof PsiClassObjectAccessExpression|| parent.getParent() instanceof PsiTypeCastExpression|| (parent.getParent() instanceof PsiInstanceOfExpression && ((PsiInstanceOfExpression)parent.getParent()).getCheckType() == parent)) {
      return true;
    }
  }
 else   if (parent instanceof PsiReferenceList) {
    if (myKind == ENUM)     return false;
    if (parent.getParent() instanceof PsiClass) {
      PsiClass psiClass=(PsiClass)parent.getParent();
      if (psiClass.getExtendsList() == parent) {
        if (myKind == CLASS && !psiClass.isInterface())         return true;
        if (myKind == INTERFACE && psiClass.isInterface())         return true;
      }
      if (psiClass.getImplementsList() == parent && myKind == INTERFACE)       return true;
    }
 else     if (parent.getParent() instanceof PsiMethod) {
      PsiMethod method=(PsiMethod)parent.getParent();
      if (method.getThrowsList() == parent && myKind == CLASS)       return true;
    }
  }
 else   if (parent instanceof PsiAnonymousClass && ((PsiAnonymousClass)parent).getBaseClassReference() == element) {
    return true;
  }
  if (element instanceof PsiReferenceExpression) {
    if (parent instanceof PsiMethodCallExpression) {
      return false;
    }
    if (parent.getParent() instanceof PsiMethodCallExpression && myKind != CLASS)     return false;
    return true;
  }
  return false;
}
