{
  PsiFile file=LangDataKeys.PSI_FILE.getData(context);
  if (file == null) {
    Editor editor=PlatformDataKeys.EDITOR.getData(context);
    if (editor != null) {
      file=PsiDocumentManager.getInstance(project).getPsiFile(editor.getDocument());
    }
  }
  return file;
}
