{
  DefaultJDOMExternalizer.writeExternal(this,parentNode);
  if (myExcludeEntryDescriptions.size() > 0) {
    Element newChild=new Element(EXCLUDE_FROM_COMPILE);
    for (    final ExcludeEntryDescription description : myExcludeEntryDescriptions) {
      if (description.isFile()) {
        Element entry=new Element(FILE);
        entry.setAttribute(URL,description.getUrl());
        newChild.addContent(entry);
      }
 else {
        Element entry=new Element(DIRECTORY);
        entry.setAttribute(URL,description.getUrl());
        entry.setAttribute(INCLUDE_SUBDIRECTORIES,Boolean.toString(description.isIncludeSubdirectories()));
        newChild.addContent(entry);
      }
    }
    parentNode.addContent(newChild);
  }
  String[] patterns=getRegexpPatterns();
  final Element newChild=new Element(RESOURCE_EXTENSIONS);
  for (  final String pattern : patterns) {
    final Element entry=new Element(ENTRY);
    entry.setAttribute(NAME,pattern);
    newChild.addContent(entry);
  }
  parentNode.addContent(newChild);
  if (myWildcardPatternsInitialized || !myWildcardPatterns.isEmpty()) {
    final Element wildcardPatterns=new Element(WILDCARD_RESOURCE_PATTERNS);
    for (    final String wildcardPattern : myWildcardPatterns) {
      final Element entry=new Element(ENTRY);
      entry.setAttribute(NAME,wildcardPattern);
      wildcardPatterns.addContent(entry);
    }
    parentNode.addContent(wildcardPatterns);
  }
}
