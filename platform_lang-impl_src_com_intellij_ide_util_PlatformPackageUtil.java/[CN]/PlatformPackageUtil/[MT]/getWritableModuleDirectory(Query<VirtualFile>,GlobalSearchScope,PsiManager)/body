{
  for (  VirtualFile vFile : vFiles) {
    if (!scope.contains(vFile))     continue;
    PsiDirectory directory=manager.findDirectory(vFile);
    if (directory != null && directory.isValid() && directory.isWritable()) {
      return directory;
    }
  }
  return null;
}
