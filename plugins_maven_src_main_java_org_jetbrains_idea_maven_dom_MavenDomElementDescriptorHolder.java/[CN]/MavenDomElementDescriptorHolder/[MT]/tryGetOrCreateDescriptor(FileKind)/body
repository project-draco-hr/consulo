{
  XmlNSDescriptorImpl result=myDescriptorsMap.get(kind);
  if (result != null && result.isValid())   return result;
  String schemaUrl=kind.getSchemaUrl();
  String location=ExternalResourceManager.getInstance().getResourceLocation(schemaUrl);
  if (schemaUrl.equals(location))   return null;
  VirtualFile schema;
  try {
    schema=VfsUtil.findFileByURL(new URL(location));
  }
 catch (  MalformedURLException ignore) {
    return null;
  }
  if (schema == null)   return null;
  PsiFile psiFile=PsiManager.getInstance(myProject).findFile(schema);
  if (!(psiFile instanceof XmlFile))   return null;
  result=new XmlNSDescriptorImpl();
  result.init(psiFile);
  myDescriptorsMap.put(kind,result);
  return result;
}
