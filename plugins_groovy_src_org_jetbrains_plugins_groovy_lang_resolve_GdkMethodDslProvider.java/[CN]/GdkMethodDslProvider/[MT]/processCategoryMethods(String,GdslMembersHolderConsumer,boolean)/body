{
  final GlobalSearchScope scope=consumer.getResolveScope();
  final PsiClass categoryClass=JavaPsiFacade.getInstance(consumer.getProject()).findClass(className,scope);
  if (categoryClass == null) {
    return;
  }
  final VolatileNotNullLazyValue<Pair<Set<String>,MultiMap<String,PsiMethod>>> methodsMap=new VolatileNotNullLazyValue<Pair<Set<String>,MultiMap<String,PsiMethod>>>(){
    @NotNull @Override protected Pair<Set<String>,MultiMap<String,PsiMethod>> compute(){
      return retrieveMethodMap(consumer.getProject(),scope,isStatic,categoryClass);
    }
  }
;
  consumer.addMemberHolder(new CustomMembersHolder(){
    @Override public boolean processMembers(    GroovyClassDescriptor descriptor,    PsiScopeProcessor processor,    ResolveState state){
      final PsiType psiType=descriptor.getPsiType();
      if (psiType == null)       return true;
      final Pair<Set<String>,MultiMap<String,PsiMethod>> pair=methodsMap.getValue();
      NameHint nameHint=processor.getHint(NameHint.KEY);
      if (nameHint != null && !pair.first.contains(nameHint.getName(state))) {
        return true;
      }
      for (      String superType : ResolveUtil.getAllSuperTypes(psiType,descriptor.getProject()).keySet()) {
        for (        PsiMethod method : pair.second.get(superType)) {
          if (!processor.execute(method,state)) {
            return false;
          }
        }
      }
      return true;
    }
  }
);
}
