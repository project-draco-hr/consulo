{
  assertWritable();
  int[] oldPackageName=myDirToPackageName.get(dirId);
  if (oldPackageName != null) {
    removeDirFromPackage(oldPackageName,dirId);
  }
  if (newPackageName == null) {
    myDirToPackageName.remove(dirId);
  }
 else {
    addDirToPackage(newPackageName,dirId);
    myDirToPackageName.put(dirId,newPackageName);
  }
}
