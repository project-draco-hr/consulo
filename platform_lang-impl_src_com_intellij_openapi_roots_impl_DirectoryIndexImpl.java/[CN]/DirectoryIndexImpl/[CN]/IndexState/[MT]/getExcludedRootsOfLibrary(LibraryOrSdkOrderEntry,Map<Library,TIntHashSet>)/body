{
  if (orderEntry instanceof LibraryOrderEntry) {
    Library library=((LibraryOrderEntry)orderEntry).getLibrary();
    if (library != null) {
      TIntHashSet cached=libraryExcludedRoots.get(library);
      if (cached != null)       return cached;
      VirtualFile[] files=((LibraryEx)library).getExcludedRoots();
      if (files.length > 0) {
        TIntHashSet set=new TIntHashSet();
        for (        VirtualFile file : files) {
          if (file instanceof NewVirtualFile) {
            set.add(((NewVirtualFile)file).getId());
          }
        }
        libraryExcludedRoots.put(library,set);
        return set;
      }
    }
  }
  return null;
}
