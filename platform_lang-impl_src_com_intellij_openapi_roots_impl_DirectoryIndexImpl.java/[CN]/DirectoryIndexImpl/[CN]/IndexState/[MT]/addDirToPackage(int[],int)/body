{
  int i=myPackageNameToDirsMap.get(packageName);
  if (i < 0) {
    int[] ids=multiDirPackages.get(-i);
    int[] newIds=ids == null ? new int[]{dirId} : ArrayUtil.append(ids,dirId);
    multiDirPackages.set(-i,newIds);
  }
 else   if (i > 0) {
    int newIndex=multiDirPackages.size();
    multiDirPackages.add(new int[]{i,dirId});
    myPackageNameToDirsMap.put(packageName,-newIndex);
  }
 else {
    myPackageNameToDirsMap.put(packageName,dirId);
  }
}
