{
  PsiElement declarationScope=parameter.getDeclarationScope();
  if (declarationScope instanceof PsiMethod) {
    PsiParameter[] params=((PsiMethod)declarationScope).getParameterList().getParameters();
    if (parameter.isVarArgs()) {
      if (!PsiUtil.getLanguageLevel(parameter).hasEnumKeywordAndAutoboxing()) {
        HighlightInfo info=HighlightInfo.createHighlightInfo(HighlightInfoType.ERROR,parameter,JavaErrorMessages.message("varargs.prior.15"));
        QuickFixAction.registerQuickFixAction(info,new IncreaseLanguageLevelFix(LanguageLevel.JDK_1_5));
        return info;
      }
      if (params[params.length - 1] != parameter) {
        HighlightInfo info=HighlightInfo.createHighlightInfo(HighlightInfoType.ERROR,parameter,JavaErrorMessages.message("vararg.not.last.parameter"));
        String displayName=UncheckedWarningLocalInspection.DISPLAY_NAME;
        QuickFixAction.registerQuickFixAction(info,new MakeVarargParameterLastFix(parameter),null,displayName);
        return info;
      }
    }
  }
  return null;
}
