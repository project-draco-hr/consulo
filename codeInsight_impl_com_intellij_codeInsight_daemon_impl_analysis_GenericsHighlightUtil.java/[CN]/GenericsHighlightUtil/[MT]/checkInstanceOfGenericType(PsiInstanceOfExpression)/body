{
  final PsiTypeElement checkTypeElement=expression.getCheckType();
  if (checkTypeElement == null)   return null;
  PsiElement ref=checkTypeElement.getInnermostComponentReferenceElement();
  while (ref instanceof PsiJavaCodeReferenceElement) {
    final HighlightInfo result=isIllegalForInstanceOf((PsiJavaCodeReferenceElement)ref,checkTypeElement);
    if (result != null)     return result;
    ref=((PsiQualifiedReference)ref).getQualifier();
  }
  return null;
}
