{
  if (refElement == null)   return;
  if (descriptions == null || descriptions.length == 0)   return;
  if (ourOutputPath == null) {
    CommonProblemDescriptor[] problems=getProblemElements().get(refElement);
    if (problems == null) {
      problems=descriptions;
    }
 else {
      problems=ArrayUtil.mergeArrays(problems,descriptions,CommonProblemDescriptor.class);
    }
    getProblemElements().put(refElement,problems);
    for (    CommonProblemDescriptor description : descriptions) {
      getProblemToElements().put(description,refElement);
      collectQuickFixes(description.getFixes(),refElement);
    }
  }
 else {
    writeOutput(descriptions,refElement);
  }
}
