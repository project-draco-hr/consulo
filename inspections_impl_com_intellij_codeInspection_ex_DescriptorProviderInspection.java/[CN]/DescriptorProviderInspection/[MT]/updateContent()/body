{
  myPackageContents=new HashMap<String,Set<RefEntity>>();
  myModulesProblems=new HashSet<RefModule>();
  final Set<RefEntity> elements=getProblemElements().keySet();
  for (  RefEntity element : elements) {
    if (getContext().getUIOptions().FILTER_RESOLVED_ITEMS && getIgnoredElements().containsKey(element))     continue;
    if (element instanceof RefElement) {
      String packageName=RefUtil.getInstance().getPackageName(element);
      Set<RefEntity> content=myPackageContents.get(packageName);
      if (content == null) {
        content=new HashSet<RefEntity>();
        myPackageContents.put(packageName,content);
      }
      content.add(element);
    }
 else     if (element instanceof RefModule) {
      myModulesProblems.add((RefModule)element);
    }
 else     if (element instanceof RefPackage) {
      final RefPackage refPackage=(RefPackage)element;
      Set<RefEntity> content=myPackageContents.get(refPackage.getName());
      if (content == null) {
        content=new HashSet<RefEntity>();
        myPackageContents.put(refPackage.getName(),content);
      }
      content.add(element);
    }
  }
}
