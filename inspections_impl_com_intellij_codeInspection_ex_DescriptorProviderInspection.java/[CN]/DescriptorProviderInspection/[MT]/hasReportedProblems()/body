{
  final GlobalInspectionContextImpl context=getContext();
  if (context != null && context.getUIOptions().SHOW_ONLY_DIFF) {
    for (    CommonProblemDescriptor descriptor : myProblemToElements.keySet()) {
      if (getProblemStatus(descriptor) != FileStatus.NOT_CHANGED) {
        return true;
      }
    }
    if (myOldProblemElements != null) {
      for (      RefEntity entity : myOldProblemElements.keySet()) {
        if (entity instanceof RefElement && getElementStatus((RefElement)entity) != FileStatus.NOT_CHANGED) {
          return true;
        }
      }
    }
    return false;
  }
 else {
    if (myProblemElements.size() > 0)     return true;
  }
  return context != null && context.getUIOptions().SHOW_DIFF_WITH_PREVIOUS_RUN && myOldProblemElements != null && myOldProblemElements.size() > 0;
}
