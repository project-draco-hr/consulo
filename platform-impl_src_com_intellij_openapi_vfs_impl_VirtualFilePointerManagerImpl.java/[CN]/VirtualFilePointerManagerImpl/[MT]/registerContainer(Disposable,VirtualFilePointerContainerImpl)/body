{
synchronized (myContainers) {
    myContainers.add(virtualFilePointerContainer);
  }
  Disposer.register(parent,new Disposable(){
    public void dispose(){
      virtualFilePointerContainer.dispose();
      boolean removed=false;
synchronized (myContainers) {
        for (int i=0; i < myContainers.size(); i++) {
          VirtualFilePointerContainerImpl container=myContainers.get(i);
          if (container == virtualFilePointerContainer) {
            myContainers.remove(i);
            removed=true;
            break;
          }
        }
      }
      if (!ApplicationManager.getApplication().isUnitTestMode()) {
        assert removed;
      }
    }
    public String toString(){
      return "Disposing container " + virtualFilePointerContainer;
    }
  }
);
  return virtualFilePointerContainer;
}
