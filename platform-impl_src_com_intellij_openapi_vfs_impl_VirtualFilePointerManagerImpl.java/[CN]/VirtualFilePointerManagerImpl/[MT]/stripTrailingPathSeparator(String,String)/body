{
  String tail=StringUtil.trimStart(url,protocol);
  if (protocol.equals(JarFileSystem.PROTOCOL)) {
    int separator=tail.lastIndexOf(JarFileSystem.JAR_SEPARATOR);
    if (separator != -1) {
      tail=tail.substring(separator + JarFileSystem.JAR_SEPARATOR.length());
    }
  }
  while (tail.endsWith("/")) {
    tail=StringUtil.trimEnd(tail,"/");
    url=StringUtil.trimEnd(url,"/");
  }
  return url;
}
