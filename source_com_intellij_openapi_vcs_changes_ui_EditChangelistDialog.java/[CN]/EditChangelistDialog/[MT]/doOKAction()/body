{
  String oldName=myList.getName();
  String oldComment=myList.getComment();
  if (!Comparing.equal(oldName,myPanel.getName()) && ChangeListManager.getInstance(myProject).findChangeList(myPanel.getName()) != null) {
    Messages.showErrorDialog(myPanel.getContent(),VcsBundle.message("changes.dialog.editchangelist.error.already.exists",myPanel.getName()),VcsBundle.message("changes.dialog.editchangelist.title"));
    return;
  }
  if (!Comparing.equal(oldName,myPanel.getName()) || !Comparing.equal(oldComment,myPanel.getDescription())) {
    myList.setName(myPanel.getName());
    myList.setComment(myPanel.getDescription());
    ChangeListManagerImpl.getInstanceImpl(myProject).notifyChangeListRenamed(myList,oldName);
  }
  super.doOKAction();
}
