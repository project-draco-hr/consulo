{
  getBaseTypeDefinition(null);
synchronized (PsiLock.LOCK) {
    if (myTargetDefinition == null) {
      @NonNls final HashMap<String,AntAttributeType> targetAttrs=new HashMap<String,AntAttributeType>();
      targetAttrs.put(NAME_ATTR,AntAttributeType.STRING);
      targetAttrs.put(DEPENDS_ATTR,AntAttributeType.STRING);
      targetAttrs.put(IF_ATTR,AntAttributeType.STRING);
      targetAttrs.put(UNLESS_ATTR,AntAttributeType.STRING);
      targetAttrs.put(DESCRIPTION_ATTR,AntAttributeType.STRING);
      final HashMap<AntTypeId,String> targetElements=new HashMap<AntTypeId,String>();
      for (      final AntTypeDefinition def : getBaseTypeDefinitions()) {
        final AntTypeId id=def.getTypeId();
        if (def.isTask() || targetElements.get(id) == null) {
          targetElements.put(id,def.getClassName());
        }
      }
      myTargetDefinition=new AntTypeDefinitionImpl(new AntTypeId(TARGET_TAG),Target.class.getName(),false,targetAttrs,targetElements);
      registerCustomType(myTargetDefinition);
    }
    return myTargetDefinition;
  }
}
