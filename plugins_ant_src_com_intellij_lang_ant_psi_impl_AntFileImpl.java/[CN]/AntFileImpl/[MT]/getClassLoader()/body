{
  if (myClassLoader == null) {
    final AntBuildFileImpl buildFile=(AntBuildFileImpl)getSourceElement().getCopyableUserData(XmlFile.ANT_BUILD_FILE);
    if (buildFile != null) {
      myClassLoader=buildFile.getClassLoader();
    }
 else {
      final AntConfigurationBase configuration=AntConfigurationBase.getInstance(getProject());
      final AntInstallation antInstallation=configuration != null ? configuration.getProjectDefaultAnt() : null;
      if (antInstallation != null) {
        myClassLoader=antInstallation.getClassLoader();
      }
 else {
        myClassLoader=null;
      }
    }
  }
  return myClassLoader;
}
