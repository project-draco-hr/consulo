{
synchronized (PsiLock.LOCK) {
    if (myNeedPropertiesRebuild) {
      buildPropertiesMap();
    }
    if (myProperties == null) {
      return AntProperty.EMPTY_ARRAY;
    }
    if (myPropertiesArray == null) {
      myPropertiesArray=myProperties.values().toArray(new AntProperty[myProperties.size()]);
    }
    return myPropertiesArray;
  }
}
