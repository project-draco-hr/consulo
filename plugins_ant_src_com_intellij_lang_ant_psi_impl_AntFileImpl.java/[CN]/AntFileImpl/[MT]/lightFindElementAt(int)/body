{
synchronized (PsiLock.LOCK) {
    if (myProject == null)     return this;
    final TextRange projectRange=myProject.getTextRange();
    if (offset < projectRange.getStartOffset() || offset >= projectRange.getEndOffset())     return this;
    final AntElement prolog=myPrologElement;
    return myProject.lightFindElementAt(offset - ((prolog == null) ? 0 : prolog.getTextLength()));
  }
}
