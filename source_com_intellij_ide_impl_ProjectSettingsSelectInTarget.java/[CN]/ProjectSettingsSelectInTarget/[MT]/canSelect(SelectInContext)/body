{
  final ProjectFileIndex fileIndex=ProjectRootManager.getInstance(context.getProject()).getFileIndex();
  final VirtualFile file=context.getVirtualFile();
  if (file instanceof WrappingVirtualFile) {
    final Object o=((WrappingVirtualFile)file).getWrappedObject(context.getProject());
    return o instanceof Facet;
  }
  return fileIndex.isInContent(file) || fileIndex.isInLibraryClasses(file) || fileIndex.isInLibrarySource(file);
}
