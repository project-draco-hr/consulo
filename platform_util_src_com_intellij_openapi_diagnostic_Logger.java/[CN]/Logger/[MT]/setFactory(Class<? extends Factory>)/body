{
  if (isInitialized()) {
    if (factory.isInstance(ourFactory)) {
      return;
    }
    System.out.println("Changing log factory\n" + ExceptionUtil.getThrowableText(new Throwable()));
  }
  try {
    Constructor<? extends Factory> constructor=factory.getDeclaredConstructor();
    constructor.setAccessible(true);
    ourFactory=constructor.newInstance();
  }
 catch (  Exception e) {
    e.printStackTrace();
    throw new RuntimeException(e);
  }
}
