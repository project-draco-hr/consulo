{
  super.setUp();
  assertNull("Previous test " + ourTestCase + " haven't called tearDown(). Probably overriden without super call.",ourTestCase);
  IdeaLogger.ourErrorsOccurred=null;
  initApplication();
  if (ourProject == null) {
    initProject();
  }
  DaemonCodeAnalyzerSettings.getInstance().setInspectionProfile(InspectionProfileImpl.EMPTY_PROFILE);
  assertFalse(getPsiManager().isDisposed());
  CodeStyleSettingsManager.getInstance(getProject()).setTemporarySettings(new CodeStyleSettings());
  Extensions.getRootArea().registerExtensionPoint(ExtensionPoints.JUNIT_PATCHER,JUnitPatcher.class.getName());
}
