{
  if (myDisposed)   return;
  Runnable doDispose=new Runnable(){
    @Override public void run(){
      if (myDisposed)       return;
      myDisposed=true;
      abortRediff();
      updateContextHints();
      fireEvent(EventType.DISPOSE);
      onDispose();
    }
  }
;
  if (!ApplicationManager.getApplication().isDispatchThread())   LOG.warn(new Throwable("dispose() not from EDT"));
  UIUtil.invokeLaterIfNeeded(doDispose);
}
