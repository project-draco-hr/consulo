{
  for (  Document d : myDocumentManager.getUnsavedDocuments()) {
    VirtualFile f=myDocumentManager.getFile(d);
    if (!myFilter.isAllowedAndUnderContentRoot(f))     continue;
    myVcs.changeFileContent(f.getPath(),d.getText().getBytes(),f.getTimeStamp());
  }
  myVcs.apply();
}
