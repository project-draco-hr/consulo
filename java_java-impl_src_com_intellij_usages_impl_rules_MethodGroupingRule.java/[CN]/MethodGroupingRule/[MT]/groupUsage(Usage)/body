{
  if (!(usage instanceof PsiElementUsage))   return null;
  PsiElement psiElement=((PsiElementUsage)usage).getElement();
  PsiFile containingFile=psiElement.getContainingFile();
  PsiFile topLevelFile=InjectedLanguageUtil.getTopLevelFile(containingFile);
  if (topLevelFile instanceof PsiJavaFile) {
    PsiElement containingMethod=topLevelFile == containingFile ? psiElement : containingFile.getContext();
    do {
      containingMethod=PsiTreeUtil.getParentOfType(containingMethod,PsiMethod.class,true);
      if (containingMethod == null || ((PsiMethod)containingMethod).getContainingClass().getQualifiedName() != null)       break;
    }
 while (true);
    if (containingMethod != null) {
      return new MethodUsageGroup((PsiMethod)containingMethod);
    }
  }
  return null;
}
