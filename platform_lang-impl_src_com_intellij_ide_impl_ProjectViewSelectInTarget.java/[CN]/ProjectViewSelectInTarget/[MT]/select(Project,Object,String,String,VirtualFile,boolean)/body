{
  final ActionCallback result=new ActionCallback();
  final ProjectView projectView=ProjectView.getInstance(project);
  ToolWindowManager windowManager=ToolWindowManager.getInstance(project);
  final ToolWindowEx projectViewToolWindow=(ToolWindowEx)windowManager.getToolWindow(ToolWindowId.PROJECT_VIEW);
  final Runnable runnable=new Runnable(){
    public void run(){
      if (requestFocus) {
        projectView.changeView(viewId,subviewId);
      }
      projectView.selectCB(toSelect,virtualFile,requestFocus).notify(result);
    }
  }
;
  projectViewToolWindow.activate(runnable,false);
  return result;
}
