{
  WorkingCopy workingCopy=null;
  try {
    final File workingCopyRoot=SVNWCUtil.getWorkingCopyRoot(new File(root.getPath()),true);
    if (workingCopyRoot != null) {
      SVNWCAccess wcAccess=SVNWCAccess.newInstance(null);
      try {
        wcAccess.probeOpen(workingCopyRoot,false,0);
        SVNEntry entry=wcAccess.getVersionedEntry(workingCopyRoot,false);
        final SVNURL url=entry.getSVNURL();
        if (url != null) {
          workingCopy=new WorkingCopy(workingCopyRoot,url);
        }
      }
  finally {
        wcAccess.close();
      }
    }
  }
 catch (  SVNException e) {
  }
synchronized (myLock) {
    if (workingCopy == null) {
      myRootMapping.remove(root);
      myUnversioned.add(root);
    }
 else {
      myUnversioned.remove(root);
      myRootMapping.put(root,workingCopy);
    }
  }
  return workingCopy;
}
