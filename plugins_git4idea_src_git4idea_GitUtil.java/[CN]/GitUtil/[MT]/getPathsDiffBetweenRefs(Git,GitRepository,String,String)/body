{
  List<String> parameters=Arrays.asList("--name-only","--pretty=format:");
  String range=beforeRef + ".." + afterRef;
  GitCommandResult result=git.diff(repository,parameters,range);
  if (!result.success()) {
    LOG.info(String.format("Couldn't get diff in range [%s] for repository [%s]",range,repository.toLogString()));
    return Collections.emptyList();
  }
  final Collection<String> remoteChanges=new HashSet<String>();
  for (StringScanner s=new StringScanner(result.getOutputAsJoinedString()); s.hasMoreData(); ) {
    final String relative=s.line();
    if (StringUtil.isEmptyOrSpaces(relative)) {
      continue;
    }
    final String path=repository.getRoot().getPath() + "/" + unescapePath(relative);
    remoteChanges.add(FilePathsHelper.convertPath(path));
  }
  return remoteChanges;
}
