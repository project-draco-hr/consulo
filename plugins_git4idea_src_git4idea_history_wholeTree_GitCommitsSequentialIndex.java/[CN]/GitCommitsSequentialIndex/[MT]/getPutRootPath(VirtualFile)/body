{
synchronized (myLock) {
    String key=FilePathsHelper.convertPath(root);
    final String storedName=myState.get(key);
    if (storedName != null)     return storedName;
    File tempFile=null;
    try {
      tempFile=File.createTempFile(root.getNameWithoutExtension(),".dat",myDir);
    }
 catch (    IOException e) {
      throw new VcsException(e);
    }
    String path=tempFile.getPath();
    myState.put(key,path);
    myState.force();
    return path;
  }
}
