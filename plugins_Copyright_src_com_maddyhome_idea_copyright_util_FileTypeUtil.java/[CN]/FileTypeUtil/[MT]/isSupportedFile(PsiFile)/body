{
  if (file == null || file instanceof PsiDirectory) {
    return false;
  }
  FileType type=file.getFileType();
  FileType match=types.get(type.getName());
  if (match != null) {
    if (type.equals(StdFileTypes.JAVA) && !(file instanceof PsiJavaFile)) {
      return false;
    }
    if (type.equals(StdFileTypes.XML) && !(file instanceof XmlFile)) {
      return false;
    }
    return !(type.equals(StdFileTypes.JSP) && !(file instanceof JspFile));
  }
  return false;
}
