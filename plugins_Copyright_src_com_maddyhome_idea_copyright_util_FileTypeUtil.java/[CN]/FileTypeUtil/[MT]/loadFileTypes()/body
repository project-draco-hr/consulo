{
  logger.debug("loadFileTypes");
  types.clear();
  FileType[] ftypes=FileTypeManager.getInstance().getRegisteredFileTypes();
  for (  FileType ftype : ftypes) {
    if (isSupportedType(ftype)) {
      logger.debug("adding " + ftype.getName());
      Iterator<FileType> iter=mappings.keySet().iterator();
      FileType type=ftype;
      while (iter.hasNext()) {
        FileType fileType=iter.next();
        Set<FileType> maps=mappings.get(fileType);
        if (maps.contains(ftype)) {
          type=fileType;
          break;
        }
      }
      types.put(ftype.getName(),type);
    }
 else {
      logger.debug("ignoring " + ftype.getName());
    }
  }
}
