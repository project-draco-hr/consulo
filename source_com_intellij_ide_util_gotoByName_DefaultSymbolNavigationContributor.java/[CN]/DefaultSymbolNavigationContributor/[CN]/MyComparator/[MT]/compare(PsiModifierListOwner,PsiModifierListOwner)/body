{
  if (element1 == element2)   return 0;
  PsiModifierList modifierList1=element1.getModifierList();
  PsiModifierList modifierList2=element2.getModifierList();
  int level1=modifierList1 == null ? PsiUtil.ACCESS_LEVEL_PUBLIC : PsiUtil.getAccessLevel(modifierList1);
  int level2=modifierList2 == null ? PsiUtil.ACCESS_LEVEL_PUBLIC : PsiUtil.getAccessLevel(modifierList2);
  if (level1 != level2)   return level2 - level1;
  int kind1=getElementTypeLevel(element1);
  int kind2=getElementTypeLevel(element2);
  if (kind1 != kind2)   return kind1 - kind2;
  if (element1 instanceof PsiMethod) {
    LOG.assertTrue(element2 instanceof PsiMethod);
    PsiParameter[] parms1=((PsiMethod)element1).getParameterList().getParameters();
    PsiParameter[] parms2=((PsiMethod)element2).getParameterList().getParameters();
    if (parms1.length != parms2.length)     return parms1.length - parms2.length;
  }
  String text1=myRenderer.getElementText(element1);
  String text2=myRenderer.getElementText(element2);
  if (!text1.equals(text2))   return text1.compareTo(text2);
  String containerText1=myRenderer.getContainerText(element1,text1);
  String containerText2=myRenderer.getContainerText(element2,text2);
  if (containerText1 == null)   containerText1="";
  if (containerText2 == null)   containerText2="";
  return containerText1.compareTo(containerText2);
}
