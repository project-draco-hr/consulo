{
  myFileChooser.setRenderer(new ListCellRendererWrapper<FileDescriptor>(myFileChooser.getRenderer()){
    @Override public void customize(    JList list,    FileDescriptor value,    int index,    boolean selected,    boolean hasFocus){
      final PsiFile file=value.myFile;
      setIcon(getIconForFile(file));
      final VirtualFile vFile=file.getVirtualFile();
      setForeground(FileStatusManager.getInstance(project).getStatus(vFile).getColor());
      setText(value.getPresentableName(vFile));
    }
  }
);
}
