{
  List<PsiElement> candidates=new ArrayList<PsiElement>(elements.length);
  List<FileDescriptor> files=new ArrayList<FileDescriptor>(elements.length);
  for (  PsiElement element : elements) {
    PsiFile file=getContainingFile(element);
    if (file == null)     continue;
    final PsiElement parent=element.getParent();
    files.add(new FileDescriptor(file,parent == file ? element : parent));
    candidates.add(element.getNavigationElement());
  }
  fun.fun(PsiUtilBase.toPsiElementArray(candidates),files);
}
