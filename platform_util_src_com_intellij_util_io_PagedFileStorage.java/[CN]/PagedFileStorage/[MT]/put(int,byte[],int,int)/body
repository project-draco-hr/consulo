{
  isDirty=true;
  int i=index;
  int o=offset;
  int l=length;
  while (l > 0) {
    int page=i / BUFFER_SIZE;
    int page_offset=i % BUFFER_SIZE;
    int page_len=Math.min(l,BUFFER_SIZE - page_offset);
    final ByteBuffer buffer=getBuffer(page);
    try {
      buffer.position(page_offset);
    }
 catch (    IllegalArgumentException iae) {
      throw new IllegalArgumentException("can't position buffer to offset " + page_offset);
    }
    buffer.put(src,o,page_len);
    l-=page_len;
    o+=page_len;
    i+=page_len;
  }
}
