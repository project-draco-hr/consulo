{
  long oldSize=myFile.length();
  if (oldSize == newSize && oldSize == length())   return;
  final long started=IOStatistics.DEBUG ? System.currentTimeMillis() : 0;
  myStorageLockContext.myStorageLock.invalidateBuffer(myStorageIndex | (int)(oldSize / myPageSize));
  final long unmapAllFinished=IOStatistics.DEBUG ? System.currentTimeMillis() : 0;
  resizeFile(newSize);
  long delta=newSize - oldSize;
  if (delta > 0)   fillWithZeros(oldSize,delta);
  if (IOStatistics.DEBUG) {
    long finished=System.currentTimeMillis();
    if (finished - started > IOStatistics.MIN_IO_TIME_TO_REPORT) {
      IOStatistics.dump("Resized " + myFile + " from "+ oldSize+ " to "+ newSize+ " for "+ (finished - started)+ ", unmap all:"+ (finished - unmapAllFinished));
    }
  }
}
