{
  if (myLastPage == page) {
    MappedByteBuffer buf=myLastBuffer.getIfCached();
    if (buf != null && myLastChangeCount == myLock.myBuffersCache.changeCount)     return buf;
  }
  if (myLastPage2 == page) {
    MappedByteBuffer buf=myLastBuffer2.getIfCached();
    if (buf != null && myLastChangeCount2 == myLock.myBuffersCache.changeCount)     return buf;
  }
  try {
    MappedBufferWrapper mappedBufferWrapper=myLock.myBuffersCache.get(new PageKey(this,page));
    MappedByteBuffer buf=mappedBufferWrapper.buf();
    if (myLastPage != page) {
      myLastPage2=myLastPage;
      myLastBuffer2=myLastBuffer;
      myLastChangeCount2=myLastChangeCount;
      myLastBuffer=mappedBufferWrapper;
      myLastPage=page;
    }
 else {
      myLastBuffer=mappedBufferWrapper;
    }
    myLastChangeCount=myLock.myBuffersCache.changeCount;
    return buf;
  }
 catch (  IOException e) {
    throw new MappingFailedException("Cannot map buffer",e);
  }
}
