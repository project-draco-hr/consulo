{
  ByteBufferWrapper wrapper=myMap.get(key);
  if (wrapper != null) {
    return wrapper;
  }
  long started=IOStatistics.DEBUG ? System.currentTimeMillis() : 0;
  wrapper=createValue(key);
  mySize+=wrapper.myLength;
  if (IOStatistics.DEBUG) {
    long finished=System.currentTimeMillis();
    if (finished - started > IOStatistics.MIN_IO_TIME_TO_REPORT) {
      IOStatistics.dump("Mapping " + wrapper.myLength + " from "+ wrapper.myPosition+ " file:"+ wrapper.myFile+ " for "+ (finished - started));
    }
  }
  myMap.put(key,wrapper);
  ensureSize(mySizeLimit);
  return wrapper;
}
