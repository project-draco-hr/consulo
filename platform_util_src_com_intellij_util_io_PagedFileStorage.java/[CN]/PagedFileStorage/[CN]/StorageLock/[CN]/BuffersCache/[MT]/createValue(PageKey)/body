{
  if (checkThreadAccess && !Thread.holdsLock(StorageLock.this)) {
    throw new IllegalStateException("Must hold StorageLock lock to access PagedFileStorage");
  }
  int off=key.page * BUFFER_SIZE;
  if (off > key.owner.length()) {
    throw new IndexOutOfBoundsException("off=" + off + " key.owner.length()="+ key.owner.length());
  }
  return new ReadWriteMappedBufferWrapper(key.owner.myFile,off,Math.min((int)(key.owner.length() - off),BUFFER_SIZE));
}
