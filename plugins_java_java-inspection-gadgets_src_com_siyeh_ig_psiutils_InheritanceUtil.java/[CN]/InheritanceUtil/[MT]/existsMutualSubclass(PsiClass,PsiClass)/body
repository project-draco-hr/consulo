{
  if (class1 instanceof PsiTypeParameter) {
    final PsiClass[] superClasses=class1.getSupers();
    for (    PsiClass superClass : superClasses) {
      if (!existsMutualSubclass(superClass,class2)) {
        return false;
      }
    }
    return true;
  }
 else   if (class2 instanceof PsiTypeParameter) {
    return existsMutualSubclass(class2,class1);
  }
  final String className=class1.getQualifiedName();
  if (CommonClassNames.JAVA_LANG_OBJECT.equals(className)) {
    return true;
  }
  final String class2Name=class2.getQualifiedName();
  if (CommonClassNames.JAVA_LANG_OBJECT.equals(class2Name)) {
    return true;
  }
  if (class1.isInheritor(class2,true) || class2.isInheritor(class1,true)) {
    return true;
  }
  final SearchScope scope=GlobalSearchScope.allScope(class1.getProject());
  final Query<PsiClass> search=ClassInheritorsSearch.search(class1,scope,true,true);
  return !search.forEach(new Processor<PsiClass>(){
    public boolean process(    PsiClass inheritor){
      return !inheritor.equals(class2) && !inheritor.isInheritor(class2,true);
    }
  }
);
}
