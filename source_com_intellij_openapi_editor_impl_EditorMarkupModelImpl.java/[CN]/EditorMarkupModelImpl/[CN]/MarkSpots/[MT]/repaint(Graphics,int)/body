{
  recalcMarkSpots();
  for (int i=0; i < mySpotsSortedByLayer.size(); i++) {
    MarkSpot markSpot=mySpotsSortedByLayer.get(i);
    int y=markSpot.yStart;
    RangeHighlighter mark=markSpot.highlighter;
    int yEndPosition=markSpot.yEnd;
    final int height=yEndPosition - y;
    final Color color=mark.getErrorStripeMarkColor();
    g.setColor(color);
    int x=1;
    int paintWidth=width;
    if (mark.isThinErrorStripeMark()) {
      paintWidth/=2;
      x+=paintWidth / 2;
    }
    g.fillRect(x,y,paintWidth - 1,height);
    Color brighter=color.brighter();
    Color darker=color.darker();
    g.setColor(brighter);
    g.drawLine(x,y,x,y + height);
    if (markSpot.drawTopBorder) {
      g.drawLine(x + 1,y,x + paintWidth - 1,y);
    }
    g.setColor(darker);
    if (markSpot.drawBottomBorder) {
      g.drawLine(x + 1,y + height,x + paintWidth,y + height);
    }
    g.drawLine(x + paintWidth,y,x + paintWidth,y + height - 1);
  }
}
