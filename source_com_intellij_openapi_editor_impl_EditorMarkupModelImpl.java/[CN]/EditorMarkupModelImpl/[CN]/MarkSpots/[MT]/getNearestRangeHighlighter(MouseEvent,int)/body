{
  List<MarkSpot> nearestSpots=getNearestMarkSpots(e,width);
  RangeHighlighter nearestMarker=null;
  int yPos=0;
  for (int i=0; i < nearestSpots.size(); i++) {
    MarkSpot markSpot=nearestSpots.get(i);
    for (int j=0; j < markSpot.highlighters.size(); j++) {
      RangeHighlighter highlighter=markSpot.highlighters.get(j);
      final int newYPos=visibleLineToYPosition(offsetToLine(highlighter.getStartOffset()));
      if (nearestMarker == null || Math.abs(yPos - e.getY()) > Math.abs(newYPos - e.getY())) {
        nearestMarker=highlighter;
        yPos=newYPos;
      }
    }
  }
  return nearestMarker;
}
