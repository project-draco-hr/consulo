{
  VirtualFile virtualDirectory=getVirtualFile(directoryObject,cvsFileSystem);
  if (virtualDirectory == null)   return;
  VirtualFile[] children=CvsVfsUtil.getChildrenOf(virtualDirectory);
  if (children == null)   return;
  for (int i=0; i < children.length; i++) {
    final VirtualFile fileOrDirectory=children[i];
    if (CvsUtil.CVS.equals(fileOrDirectory.getName()))     continue;
    if (!myProjectContentInfoProvider.fileIsUnderProject(fileOrDirectory))     continue;
    final String name=fileOrDirectory.getName();
    if (fileOrDirectory.isDirectory()) {
      if (directoryNames != null) {
        directoryNames.add(name);
      }
    }
 else {
      if (fileNames != null) {
        LOG.assertTrue(name.length() > 0);
        fileNames.add(name);
      }
    }
  }
}
