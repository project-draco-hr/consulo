{
  if (isAttached()) {
    getManagerThread().schedule(new DebuggerCommandImpl(){
      protected void action() throws Exception {
        if (myBreakpointsMuted.getAndSet(muted) != muted) {
          final BreakpointManager breakpointManager=DebuggerManagerEx.getInstanceEx(myProject).getBreakpointManager();
          if (muted) {
            breakpointManager.disableBreakpoints(DebugProcessImpl.this);
          }
 else {
            breakpointManager.enableBreakpoints(DebugProcessImpl.this);
          }
        }
      }
    }
);
  }
 else {
    myBreakpointsMuted.set(muted);
  }
}
