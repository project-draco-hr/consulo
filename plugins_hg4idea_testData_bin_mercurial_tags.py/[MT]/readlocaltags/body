def readlocaltags(ui, repo, alltags, tagtypes):
    'Read local tags in repo.  Update alltags and tagtypes.'
    try:
        data = repo.opener('localtags').read()
        filetags = _readtags(ui, repo, data.splitlines(), 'localtags', recode=encoding.fromlocal)
        _updatetags(filetags, 'local', alltags, tagtypes)
    except IOError:
        pass
