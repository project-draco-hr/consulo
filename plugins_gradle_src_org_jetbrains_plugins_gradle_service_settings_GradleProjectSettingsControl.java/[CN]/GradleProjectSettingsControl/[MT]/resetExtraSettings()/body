{
  myGradleHomeModifiedByUser=false;
  String gradleHome=getInitialSettings().getGradleHome();
  myGradleHomePathField.setText(gradleHome == null ? "" : gradleHome);
  myGradleHomePathField.getTextField().setForeground(LocationSettingType.EXPLICIT_CORRECT.getColor());
  updateWrapperControls(getInitialSettings().getExternalProjectPath());
  if (myUseWrapperButton.isSelected()) {
    myGradleHomePathField.setEnabled(false);
    return;
  }
  if (StringUtil.isEmpty(gradleHome)) {
    myGradleHomeSettingType=LocationSettingType.UNKNOWN;
    deduceGradleHomeIfPossible();
  }
 else {
    myGradleHomeSettingType=myInstallationManager.isGradleSdkHome(new File(gradleHome)) ? LocationSettingType.EXPLICIT_CORRECT : LocationSettingType.EXPLICIT_INCORRECT;
    myAlarm.cancelAllRequests();
    if (myGradleHomeSettingType == LocationSettingType.EXPLICIT_INCORRECT && getInitialSettings().getDistributionType() == DistributionType.LOCAL) {
      new DelayedBalloonInfo(MessageType.ERROR,myGradleHomeSettingType,0).run();
    }
  }
}
