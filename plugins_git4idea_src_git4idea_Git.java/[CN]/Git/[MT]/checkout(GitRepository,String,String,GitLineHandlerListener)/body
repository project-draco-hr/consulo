{
  final GitLineHandler h=new GitLineHandler(repository.getProject(),repository.getRoot(),GitCommand.CHECKOUT);
  if (newTrackingBranch == null) {
    h.addParameters(reference);
  }
 else {
    h.addParameters("-b",newTrackingBranch,reference);
  }
  for (  GitLineHandlerListener listener : listeners) {
    h.addLineListener(listener);
  }
  return run(h);
}
