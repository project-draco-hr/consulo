{
  if (myProject != null) {
    FileEditorManagerListener listener=new FileEditorManagerAdapter(){
      public void fileOpened(      FileEditorManager fileEditorManager,      VirtualFile virtualFile){
        if (virtualFile.isWritable() && NewFileTracker.getInstance().contains(virtualFile)) {
          NewFileTracker.getInstance().remove(virtualFile);
          if (FileTypeUtil.getInstance().isSupportedFile(virtualFile)) {
            final Module module=ProjectRootManager.getInstance(myProject).getFileIndex().getModuleForFile(virtualFile);
            if (module != null) {
              final PsiFile file=PsiManager.getInstance(myProject).findFile(virtualFile);
              if (file != null) {
                ApplicationManager.getApplication().invokeLater(new Runnable(){
                  public void run(){
                    if (file.isValid() && file.isWritable()) {
                      new UpdateCopyrightProcessor(myProject,module,file).run();
                    }
                  }
                }
);
              }
            }
          }
        }
      }
    }
;
    FileEditorManager.getInstance(myProject).addFileEditorManagerListener(listener,myProject);
  }
}
