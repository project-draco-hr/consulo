{
  if (blocked && !myPaintBlocked) {
    if (takeSnapshot) {
      myImage=new BufferedImage(getWidth(),getHeight(),BufferedImage.TYPE_INT_ARGB);
      final Graphics2D g=myImage.createGraphics();
      super.paint(g);
      g.dispose();
    }
  }
  myPaintBlocked=blocked;
  if (!myPaintBlocked) {
    if (myImage != null) {
      myImage.flush();
    }
    myImage=null;
    repaint();
  }
}
