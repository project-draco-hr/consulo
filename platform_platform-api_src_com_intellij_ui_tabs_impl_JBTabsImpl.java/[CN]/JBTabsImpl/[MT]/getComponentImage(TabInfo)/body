{
  JComponent cmp=info.getComponent();
  BufferedImage img;
  if (cmp.isShowing()) {
    final int width=cmp.getWidth();
    final int height=cmp.getHeight();
    img=new BufferedImage(width > 0 ? width : 500,height > 0 ? height : 500,BufferedImage.TYPE_INT_ARGB);
    Graphics2D g=img.createGraphics();
    cmp.paint(g);
  }
 else {
    img=new BufferedImage(500,500,BufferedImage.TYPE_INT_ARGB);
  }
  return img;
}
