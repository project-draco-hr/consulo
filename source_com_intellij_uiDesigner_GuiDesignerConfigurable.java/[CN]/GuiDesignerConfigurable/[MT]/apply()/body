{
  final DispatchThreadProgressWindow progressWindow=new DispatchThreadProgressWindow(false,myProject);
  progressWindow.setTitle("Converting project...");
  progressWindow.start();
  GuiDesignerConfiguration.getInstance(myProject).COPY_FORMS_RUNTIME_TO_OUTPUT=myGeneralUI.myChkCopyFormsRuntime.isSelected();
  final boolean instrumentClasses=myGeneralUI.myRbInstrumentClasses.isSelected();
  ApplicationManager.getApplication().invokeLater(new MyApplyRunnable(progressWindow,instrumentClasses),progressWindow.getModalityState());
  if (isPalatteModified()) {
    final ArrayList<GroupItem> groupList=getGroupsFromTree();
    final ArrayList<GroupItem> clonedGroupList=new ArrayList<GroupItem>();
    for (int i=0; i < groupList.size(); i++) {
      clonedGroupList.add(groupList.get(i).clone());
    }
    Palette.getInstance(myProject).setGroups(clonedGroupList);
  }
}
