{
  final DefaultMutableTreeNode groupNode=getSelectedGroupNode();
  LOG.assertTrue(groupNode != null);
  final GroupItem groupToBeRemoved=(GroupItem)groupNode.getUserObject();
  if (!isRemovable(groupToBeRemoved)) {
    Messages.showInfoMessage(myPaletteUI.myPanel,"You cannot remove group that contains default palette component(s)","Error");
    return;
  }
  final ArrayList<TreePath> expandedPaths=new ArrayList<TreePath>();
  TreeUtil.collectExpandedPaths(myPaletteUI.myTree,expandedPaths);
  TreeUtil.removeLastPathComponent(myPaletteUI.myTree,new TreePath(groupNode.getPath()));
  TreeUtil.restoreExpandedPaths(myPaletteUI.myTree,expandedPaths);
}
