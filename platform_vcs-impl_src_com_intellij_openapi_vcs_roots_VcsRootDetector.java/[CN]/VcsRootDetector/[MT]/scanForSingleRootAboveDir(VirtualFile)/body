{
  List<VcsRoot> roots=new ArrayList<VcsRoot>();
  if (myProject.isDisposed()) {
    return roots;
  }
  VirtualFile par=dir.getParent();
  while (par != null) {
    List<AbstractVcs> vcsList=getVcsListFor(par);
    for (    AbstractVcs vcs : vcsList) {
      roots.add(new VcsRoot(vcs,par));
    }
    if (!roots.isEmpty()) {
      return roots;
    }
    par=par.getParent();
  }
  return roots;
}
