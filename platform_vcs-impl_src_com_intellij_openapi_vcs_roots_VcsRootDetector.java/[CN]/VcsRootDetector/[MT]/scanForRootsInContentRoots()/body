{
  Set<VcsRoot> gitRoots=new HashSet<VcsRoot>();
  VirtualFile[] roots=myProjectManager.getContentRoots();
  for (  VirtualFile contentRoot : roots) {
    Set<VcsRoot> rootsInsideRoot=scanForRootsInsideDir(contentRoot);
    boolean shouldScanAbove=true;
    for (    VcsRoot root : rootsInsideRoot) {
      if (contentRoot.equals(root.getPath())) {
        shouldScanAbove=false;
      }
    }
    if (shouldScanAbove) {
      List<VcsRoot> rootsAbove=scanForSingleRootAboveDir(contentRoot);
      rootsInsideRoot.addAll(rootsAbove);
    }
    gitRoots.addAll(rootsInsideRoot);
  }
  return gitRoots;
}
