{
  final SimpleInsertHandler insertHandler=new SimpleInsertHandler(){
    public int handleInsert(    final Editor editor,    final int startOffset,    final LookupElement item,    final LookupElement[] allItems,    final TailType tailType) throws IncorrectOperationException {
      suggestedNameInfo.nameChoosen(item.getLookupString());
      return editor.getCaretModel().getOffset();
    }
  }
;
  for (int i=0; i < list.size(); i++) {
    LookupItem item=list.get(i);
    item.setPriority(list.size() - i).setInsertHandler(insertHandler);
  }
}
