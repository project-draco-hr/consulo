{
  CompletionData wordCompletionData=null;
  if (!hasNonSoftReference(file,startOffset)) {
    ASTNode textContainer=element != null ? element.getNode() : null;
    while (textContainer != null) {
      final IElementType elementType=textContainer.getElementType();
      if (LanguageWordCompletion.INSTANCE.isEnabledIn(elementType) || elementType == PlainTextTokenTypes.PLAIN_TEXT) {
        wordCompletionData=ourWordCompletionData;
      }
      textContainer=textContainer.getTreeParent();
    }
  }
  final CompletionData completionDataByElementInner=getCompletionDataByElementInner(element,file);
  if (wordCompletionData != null)   return new CompositeCompletionData(completionDataByElementInner,wordCompletionData);
  return completionDataByElementInner;
}
