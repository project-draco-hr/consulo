{
  CompletionData wordCompletionData=null;
  if (!hasNonSoftReference(context)) {
    ASTNode textContainer=element != null ? element.getNode() : null;
    while (textContainer != null) {
      final IElementType elementType=textContainer.getElementType();
      final TokenSet readableTextContainerElements=elementType.getLanguage().getReadableTextContainerElements();
      if (readableTextContainerElements.contains(elementType) || elementType == ElementType.PLAIN_TEXT) {
        wordCompletionData=ourWordCompletionData;
      }
      textContainer=textContainer.getTreeParent();
    }
  }
  final CompletionData completionDataByElementInner=getCompletionDataByElementInner(element,context.file);
  if (wordCompletionData != null)   return new CompositeCompletionData(completionDataByElementInner,wordCompletionData);
  return completionDataByElementInner;
}
