{
  if (!(object instanceof PsiElement))   return;
  PsiElement element=(PsiElement)object;
  PsiFile psiFile=element.getContainingFile();
  if (psiFile != null) {
    element=psiFile;
  }
  if (element instanceof PsiJavaFile) {
    final PsiClass[] classes=((PsiJavaFile)element).getClasses();
    if (classes.length > 0) {
      element=classes[0];
    }
  }
  final PsiElement originalElement=element.getOriginalElement();
  final VirtualFile virtualFile=PsiUtil.getVirtualFile(originalElement);
  final String list=FavoritesViewSelectInTarget.findSuitableFavoritesList(virtualFile,myProject,getSubId());
  if (list == null)   return;
  if (!list.equals(getSubId())) {
    ProjectView.getInstance(myProject).changeView(ID,list);
  }
  myViewPanel.selectElement(originalElement,virtualFile,requestFocus);
}
