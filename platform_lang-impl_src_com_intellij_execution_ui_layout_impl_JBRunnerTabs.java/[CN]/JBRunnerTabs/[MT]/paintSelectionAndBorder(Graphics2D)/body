{
  if (getSelectedInfo() == null)   return;
  final boolean dark=UIUtil.isUnderDarcula();
  final Color col=dark ? ColorUtil.shift(UIUtil.getListBackground(),1.6) : Gray._255;
  final Color panelBg=dark ? ColorUtil.shift(UIUtil.getPanelBackground(),1.3) : UIUtil.getPanelBackground();
  TabLabel label=getSelectedLabel();
  Rectangle r=label.getBounds();
  r=new Rectangle(r.x,r.y + 3,r.width,r.height - 3);
  ShapeInfo selectedShape=_computeSelectedLabelShape(r);
  Insets insets=getTabsBorder().getEffectiveBorder();
  Insets i=selectedShape.path.transformInsets(insets);
  int _x=r.x;
  int _y=r.y;
  int _height=r.height;
  if (!isHideTabs()) {
    g2d.setPaint(new GradientPaint(_x,_y,col,_x,_y + _height - 3,panelBg));
    g2d.fill(selectedShape.fillPath.getShape());
    g2d.setColor(ColorUtil.toAlpha(col,180));
    g2d.draw(selectedShape.fillPath.getShape());
    g2d.draw(selectedShape.labelPath.transformLine(selectedShape.labelPath.getMaxX() - selectedShape.labelPath.deltaX(1),selectedShape.labelPath.getY() + selectedShape.labelPath.deltaY(1),selectedShape.labelPath.getMaxX() - selectedShape.labelPath.deltaX(1),selectedShape.labelPath.getMaxY() - selectedShape.labelPath.deltaY(4)));
  }
  g2d.setColor(panelBg);
  g2d.fillRect(2,selectedShape.labelPath.getMaxY() - 2,selectedShape.path.getMaxX() - 2,3);
  g2d.drawLine(1,selectedShape.labelPath.getMaxY(),1,getHeight() - 1);
  g2d.drawLine(selectedShape.path.getMaxX() - 1,selectedShape.labelPath.getMaxY() - 4,selectedShape.path.getMaxX() - 1,getHeight() - 1);
  if (isHideTabs())   return;
  g2d.setColor(Gray._0.withAlpha(50));
  g2d.drawLine(1,selectedShape.labelPath.getMaxY(),1,getHeight() - 1);
  g2d.drawLine(selectedShape.path.getMaxX() - 1,selectedShape.labelPath.getMaxY() - 4,selectedShape.path.getMaxX() - 1,getHeight() - 1);
}
