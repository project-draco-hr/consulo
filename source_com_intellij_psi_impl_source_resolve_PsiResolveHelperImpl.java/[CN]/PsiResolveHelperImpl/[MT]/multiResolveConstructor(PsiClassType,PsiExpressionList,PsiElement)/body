{
  final MethodResolverProcessor processor;
  PsiClassType.ClassResolveResult classResolveResult=type.resolveGenerics();
  final PsiClass aClass=classResolveResult.getElement();
  final JavaResolveResult[] result;
  if (aClass == null) {
    result=JavaResolveResult.EMPTY_ARRAY;
  }
 else {
    if (argumentList.getParent() instanceof PsiAnonymousClass) {
      final PsiClass anonymous=(PsiClass)argumentList.getParent();
      processor=new MethodResolverProcessor(anonymous,argumentList,place);
      final PsiClass superClass=anonymous.getSuperClass();
      if (superClass != null) {
        processor.setName(superClass.getName());
      }
    }
 else {
      processor=new MethodResolverProcessor(aClass,argumentList,place);
      processor.setName(aClass.getName());
    }
    PsiScopesUtil.processScope(aClass,processor,classResolveResult.getSubstitutor(),aClass,place);
    result=processor.getResult();
  }
  return result;
}
