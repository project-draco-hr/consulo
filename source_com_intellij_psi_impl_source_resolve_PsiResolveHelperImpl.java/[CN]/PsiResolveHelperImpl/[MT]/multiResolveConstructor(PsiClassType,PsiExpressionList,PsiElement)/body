{
  PsiClassType.ClassResolveResult classResolveResult=type.resolveGenerics();
  PsiClass aClass=classResolveResult.getElement();
  if (aClass == null) {
    return JavaResolveResult.EMPTY_ARRAY;
  }
 else {
    final MethodResolverProcessor processor;
    PsiSubstitutor substitutor;
    if (argumentList.getParent() instanceof PsiAnonymousClass) {
      final PsiAnonymousClass anonymous=(PsiAnonymousClass)argumentList.getParent();
      processor=new MethodResolverProcessor(anonymous,argumentList,place);
      aClass=anonymous.getBaseClassType().resolve();
      if (aClass == null)       return JavaResolveResult.EMPTY_ARRAY;
      substitutor=TypeConversionUtil.getSuperClassSubstitutor(aClass,anonymous,classResolveResult.getSubstitutor());
    }
 else {
      processor=new MethodResolverProcessor(aClass,argumentList,place);
      substitutor=classResolveResult.getSubstitutor();
    }
    for (    PsiMethod constructor : aClass.getConstructors()) {
      if (!processor.execute(constructor,substitutor))       break;
    }
    return processor.getResult();
  }
}
