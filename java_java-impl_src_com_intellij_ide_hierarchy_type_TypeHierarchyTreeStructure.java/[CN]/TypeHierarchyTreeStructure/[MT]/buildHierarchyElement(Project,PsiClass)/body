{
  HierarchyNodeDescriptor descriptor=null;
  final PsiClass[] superClasses=createSuperClasses(aClass);
  for (int i=superClasses.length - 1; i >= 0; i--) {
    final PsiClass superClass=superClasses[i];
    final HierarchyNodeDescriptor newDescriptor=new TypeHierarchyNodeDescriptor(project,descriptor,superClass,false);
    if (descriptor != null) {
      descriptor.setCachedChildren(new HierarchyNodeDescriptor[]{newDescriptor});
    }
    descriptor=newDescriptor;
  }
  final HierarchyNodeDescriptor newDescriptor=new TypeHierarchyNodeDescriptor(project,descriptor,aClass,true);
  if (descriptor != null) {
    descriptor.setCachedChildren(new HierarchyNodeDescriptor[]{newDescriptor});
  }
  return newDescriptor;
}
