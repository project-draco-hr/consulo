{
  if (method.hasModifierProperty(PsiModifier.PUBLIC)) {
    return true;
  }
  if (method.hasModifierProperty(PsiModifier.PRIVATE)) {
    return false;
  }
  final PsiClass referencingClass=ClassUtils.getContainingClass(context);
  if (referencingClass == null) {
    return false;
  }
  final PsiClass containingClass=method.getContainingClass();
  if (containingClass == null) {
    return false;
  }
  if (method.hasModifierProperty(PsiModifier.PROTECTED)) {
    if (referencingClass.isInheritor(containingClass,true)) {
      return true;
    }
  }
  return method.hasModifierProperty(PsiModifier.PACKAGE_LOCAL) && ClassUtils.inSamePackage(referencingClass,containingClass);
}
