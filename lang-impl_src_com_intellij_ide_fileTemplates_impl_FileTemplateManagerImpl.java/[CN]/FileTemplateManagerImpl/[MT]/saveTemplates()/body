{
  try {
    if (myTemplates != null) {
      for (      FileTemplate template : myTemplates.getAllTemplates()) {
        FileTemplateImpl templateImpl=(FileTemplateImpl)template;
        if (templateImpl.isModified()) {
          templateImpl.writeExternal(getParentDirectory(true));
        }
      }
    }
    if (myInternalTemplatesManager != null) {
      myInternalTemplatesManager.saveTemplates();
    }
    if (myPatternsManager != null) {
      myPatternsManager.saveTemplates();
    }
    if (myCodeTemplatesManager != null) {
      myCodeTemplatesManager.saveTemplates();
    }
    if (myJ2eeTemplatesManager != null) {
      myJ2eeTemplatesManager.saveTemplates();
    }
  }
 catch (  IOException e) {
    LOG.error("Unable to save templates",e);
  }
}
