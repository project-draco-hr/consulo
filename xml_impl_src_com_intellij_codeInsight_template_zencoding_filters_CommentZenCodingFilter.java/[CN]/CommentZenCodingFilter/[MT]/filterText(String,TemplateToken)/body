{
  if (token instanceof XmlTemplateToken) {
    XmlDocument document=((XmlTemplateToken)token).getFile().getDocument();
    if (document != null) {
      XmlTag tag=document.getRootTag();
      if (tag != null) {
        String classAttr=tag.getAttributeValue("class");
        String idAttr=tag.getAttributeValue("id");
        if (classAttr != null || idAttr != null) {
          String commentString=buildCommentString(classAttr,idAttr);
          return "<!-- " + commentString + " -->\n"+ text+ "\n<!-- /"+ commentString+ " -->";
        }
      }
    }
  }
  return text;
}
