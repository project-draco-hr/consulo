{
  if (startFragment == null)   return null;
  GraphFragment shortFragment;
  int maxDown=startFragment.downVisibleNodeIndex;
  while ((shortFragment=getDownFragment(maxDown)) != null && !myBranchNodeIndexes.contains(myMutableGraph.getIndexInPermanentGraph(maxDown))) {
    maxDown=shortFragment.downVisibleNodeIndex;
    if (maxDown - startFragment.downVisibleNodeIndex > bound)     break;
  }
  int maxUp=startFragment.upVisibleNodeIndex;
  while ((shortFragment=getUpFragment(maxUp)) != null && !myBranchNodeIndexes.contains(myMutableGraph.getIndexInPermanentGraph(maxUp))) {
    maxUp=shortFragment.upVisibleNodeIndex;
    if (startFragment.upVisibleNodeIndex - maxUp > bound)     break;
  }
  if (maxUp != startFragment.upVisibleNodeIndex || maxDown != startFragment.downVisibleNodeIndex) {
    return new GraphFragment(maxUp,maxDown);
  }
 else {
    if (myMutableGraph.getNode(startFragment.upVisibleNodeIndex).getDownEdges().size() != 1)     return startFragment;
  }
  return null;
}
