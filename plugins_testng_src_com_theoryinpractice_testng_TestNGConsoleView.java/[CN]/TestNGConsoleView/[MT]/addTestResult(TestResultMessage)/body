{
  List<Printable> list=null;
  if (result.getResult() == MessageHelper.TEST_STARTED) {
    mark();
  }
 else {
    String stackTrace=result.getStackTrace();
    if (stackTrace != null && stackTrace.length() > 10) {
      String trimmed=trimStackTrace(stackTrace);
      List<Printable> printables=getPrintables(result,trimmed,ConsoleViewContentType.ERROR_OUTPUT);
synchronized (allOutput) {
        allOutput.addAll(printables);
      }
    }
    list=getPrintablesSinceMark();
  }
  testNGResults.addTestResult(result,list);
}
