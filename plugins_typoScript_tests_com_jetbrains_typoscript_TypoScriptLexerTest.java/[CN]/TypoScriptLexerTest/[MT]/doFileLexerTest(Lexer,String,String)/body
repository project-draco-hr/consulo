{
  lexer.start(testText);
  String result="";
  for (IElementType tokenType=lexer.getTokenType(); tokenType != null; tokenType=lexer.getTokenType()) {
    String tokenText=lexer.getBufferSequence().subSequence(lexer.getTokenStart(),lexer.getTokenEnd()).toString();
    String tokenTypeName=tokenType.toString();
    String line=tokenTypeName + " ('" + tokenText+ "')\n";
    result+=line;
    lexer.advance();
  }
  UsefulTestCase.assertSameLinesWithFile(expected,result);
}
