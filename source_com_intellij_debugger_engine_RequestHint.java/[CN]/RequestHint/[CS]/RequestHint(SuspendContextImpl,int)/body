{
  final DebugProcessImpl debugProcess=suspendContext.getDebugProcess();
  myDepth=depth;
  myVirtualMachineProxy=debugProcess.getVirtualMachineProxy();
  try {
    final ThreadReferenceProxyImpl thread=suspendContext.getThread();
    myFrameCount=thread.frameCount();
    ApplicationManager.getApplication().runReadAction(new Runnable(){
      public void run(){
        myPosition=ContextUtil.getSourcePosition(suspendContext);
      }
    }
);
  }
 catch (  Exception e) {
    myPosition=null;
  }
}
