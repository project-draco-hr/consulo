{
  if (nextLayerConnectedCells == null) {
    nextLayerConnectedCells=new ArrayList[1];
    nextLayerConnectedCells[0]=new ArrayList<mxGraphAbstractHierarchyCell>(connectsAsTarget.size());
    Iterator<mxGraphHierarchyEdge> iter=connectsAsTarget.iterator();
    while (iter.hasNext()) {
      mxGraphHierarchyEdge edge=iter.next();
      if (edge.maxRank == -1 || edge.maxRank == layer + 1) {
        nextLayerConnectedCells[0].add(edge.source);
      }
 else {
        nextLayerConnectedCells[0].add(edge);
      }
    }
  }
  return nextLayerConnectedCells[0];
}
