{
  Getter<TResult> cached=map.get(ref);
  if (cached != null && cached.get() == result) {
    return;
  }
  Getter<TResult> reference;
  if (result == null) {
    reference=(Getter<TResult>)NULL_RESULT;
  }
 else   if (isPoly && ((Object[])result).length == 0 && result.getClass() == ResolveResult[].class) {
    reference=(Getter<TResult>)EMPTY_POLY_RESULT;
  }
 else {
    reference=new SoftGetter<TResult>(result);
  }
  map.put(ref,reference);
}
