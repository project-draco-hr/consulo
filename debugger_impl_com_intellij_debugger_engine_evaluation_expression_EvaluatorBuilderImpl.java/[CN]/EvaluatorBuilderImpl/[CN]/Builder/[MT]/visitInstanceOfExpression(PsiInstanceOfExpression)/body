{
  if (LOG.isDebugEnabled()) {
    LOG.debug("visitInstanceOfExpression " + expression);
  }
  PsiTypeElement checkType=expression.getCheckType();
  if (checkType == null) {
    throw new EvaluateRuntimeException(EvaluateExceptionUtil.createEvaluateException(DebuggerBundle.message("evaluation.error.invalid.expression",expression.getText())));
  }
  PsiType type=checkType.getType();
  if (type == null) {
    throw new EvaluateRuntimeException(EvaluateExceptionUtil.createEvaluateException(DebuggerBundle.message("evaluation.error.unknown.expression.type",expression.getCheckType().getText())));
  }
  expression.getOperand().accept(this);
  Evaluator operandEvaluator=myResult;
  myResult=new InstanceofEvaluator(operandEvaluator,new TypeEvaluator(JVMNameUtil.getJVMQualifiedName(type)));
}
