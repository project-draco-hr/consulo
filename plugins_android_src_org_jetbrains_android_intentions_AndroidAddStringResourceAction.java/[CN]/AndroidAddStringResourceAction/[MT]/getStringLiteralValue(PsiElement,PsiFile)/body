{
  if (file instanceof PsiJavaFile && element instanceof PsiLiteralExpression) {
    PsiLiteralExpression literalExpression=(PsiLiteralExpression)element;
    Object value=literalExpression.getValue();
    if (value instanceof String) {
      return (String)value;
    }
  }
 else   if (file instanceof XmlFile && element instanceof XmlAttributeValue) {
    final XmlAttribute attribute=PsiTreeUtil.getParentOfType(element,XmlAttribute.class);
    if (attribute != null) {
      final GenericAttributeValue domAttribute=DomManager.getDomManager(element.getProject()).getDomElement(attribute);
      if (domAttribute != null) {
        final Converter converter=domAttribute.getConverter();
        if (converter instanceof ResourceReferenceConverter) {
          final ResourceValue value=(ResourceValue)domAttribute.getValue();
          if (value != null && !value.isReference()) {
            final Set<String> types=((ResourceReferenceConverter)converter).getResourceTypes(domAttribute);
            for (            String type : types) {
              if (ResourceType.STRING.getName().equals(type)) {
                return ((XmlAttributeValue)element).getValue();
              }
            }
          }
        }
      }
    }
  }
  return null;
}
