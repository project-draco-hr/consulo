{
  GroovyResolveResult[] array=myCandidates.toArray(new GroovyResolveResult[myCandidates.size()]);
  if (array.length == 1)   return array;
  List<GroovyResolveResult> result=new ArrayList<GroovyResolveResult>();
  result.add(array[0]);
  PsiManager manager=myPlace.getManager();
  GlobalSearchScope scope=myPlace.getResolveScope();
  Outer:   for (int i=1; i < array.length; i++) {
    PsiElement currentElement=array[i].getElement();
    PsiVariable currentVariable=(PsiVariable)currentElement;
    final PsiType currentType=currentVariable.getType();
    for (Iterator<GroovyResolveResult> iterator=result.iterator(); iterator.hasNext(); ) {
      final GroovyResolveResult otherResolveResult=iterator.next();
      PsiElement element=otherResolveResult.getElement();
      if (element instanceof PsiVariable) {
        PsiVariable variable=(PsiVariable)element;
        final PsiType type=variable.getType();
        if (dominated(currentType,array[i].getSubstitutor(),type,otherResolveResult.getSubstitutor(),manager,scope)) {
          continue Outer;
        }
 else         if (dominated(type,otherResolveResult.getSubstitutor(),currentType,array[i].getSubstitutor(),manager,scope)) {
          iterator.remove();
        }
      }
    }
    result.add(array[i]);
  }
  return result.toArray(new GroovyResolveResult[result.size()]);
}
