{
  if (!result.add(artifact)) {
    return;
  }
  ArtifactUtil.processPackagingElements(artifact,ArtifactElementType.ARTIFACT_ELEMENT_TYPE,new Processor<ArtifactPackagingElement>(){
    @Override public boolean process(    ArtifactPackagingElement element){
      Artifact included=element.findArtifact(context);
      if (included != null) {
        collectIncludedArtifacts(included,context,result);
      }
      return true;
    }
  }
,context,false);
}
