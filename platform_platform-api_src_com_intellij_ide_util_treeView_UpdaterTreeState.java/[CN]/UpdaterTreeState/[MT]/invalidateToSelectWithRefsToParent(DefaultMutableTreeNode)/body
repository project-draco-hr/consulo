{
  if (actionNode != null) {
    Object readyElement=myUi.getElementFor(actionNode);
    if (readyElement != null) {
      Iterator<Object> toSelect=myToSelect.keySet().iterator();
      while (toSelect.hasNext()) {
        Object eachToSelect=toSelect.next();
        if (readyElement.equals(myUi.getTreeStructure().getParentElement(eachToSelect))) {
          List<Object> children=myUi.getLoadedChildrenFor(readyElement);
          if (!children.contains(eachToSelect)) {
            toSelect.remove();
            if (!myToSelect.containsKey(readyElement) && !myUi.getSelectedElements().contains(eachToSelect)) {
              addAdjustedSelection(eachToSelect,Condition.FALSE,null);
            }
          }
        }
      }
    }
  }
}
