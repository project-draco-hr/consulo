{
  final PsiStatement branch=ifStatement.getElseBranch();
  inElse=branch != null && PsiTreeUtil.isAncestor(branch,referenceExpression,true);
  if (inElse) {
    if (branch instanceof PsiBlockStatement) {
      final PsiBlockStatement blockStatement=(PsiBlockStatement)branch;
      if (VariableAccessUtils.variableIsAssignedBeforeReference(referenceExpression,blockStatement)) {
        return;
      }
    }
  }
 else {
    final PsiStatement thenBranch=ifStatement.getThenBranch();
    if (thenBranch instanceof PsiBlockStatement) {
      final PsiBlockStatement blockStatement=(PsiBlockStatement)thenBranch;
      if (VariableAccessUtils.variableIsAssignedBeforeReference(referenceExpression,blockStatement)) {
        return;
      }
    }
  }
  PsiExpression condition=ifStatement.getCondition();
  condition=PsiUtil.deparenthesizeExpression(condition);
  if (condition instanceof PsiPolyadicExpression) {
    final PsiPolyadicExpression binaryExpression=(PsiPolyadicExpression)condition;
    visitPolyadicExpression(binaryExpression);
  }
 else {
    checkExpression(condition);
  }
}
