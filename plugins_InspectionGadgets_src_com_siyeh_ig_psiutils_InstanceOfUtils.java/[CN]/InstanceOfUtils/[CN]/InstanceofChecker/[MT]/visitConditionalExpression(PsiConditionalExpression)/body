{
  final PsiExpression elseExpression=expression.getElseExpression();
  inElse=elseExpression != null && PsiTreeUtil.isAncestor(elseExpression,referenceExpression,true);
  PsiExpression condition=expression.getCondition();
  condition=PsiUtil.deparenthesizeExpression(condition);
  if (condition instanceof PsiBinaryExpression) {
    final PsiBinaryExpression binaryExpression=(PsiBinaryExpression)condition;
    visitBinaryExpression(binaryExpression);
  }
 else {
    checkExpression(condition);
  }
}
