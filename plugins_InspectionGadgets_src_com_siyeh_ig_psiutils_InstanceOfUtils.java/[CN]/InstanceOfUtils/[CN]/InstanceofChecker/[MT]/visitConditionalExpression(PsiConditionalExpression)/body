{
  final PsiExpression elseExpression=expression.getElseExpression();
  inElse=elseExpression != null && PsiTreeUtil.isAncestor(elseExpression,referenceExpression,true);
  PsiExpression condition=expression.getCondition();
  condition=PsiUtil.deparenthesizeExpression(condition);
  if (condition instanceof PsiPolyadicExpression) {
    final PsiPolyadicExpression binaryExpression=(PsiPolyadicExpression)condition;
    visitPolyadicExpression(binaryExpression);
  }
 else {
    checkExpression(condition);
  }
}
