{
  Module moduleA=createModule("a.iml",StdModuleTypes.JAVA);
  addDependentModule(moduleA,DependencyScope.COMPILE);
  addLibrary(moduleA,DependencyScope.COMPILE);
  VirtualFile classB=myFixture.createFile("b/Test.java","public class Test { }");
  VirtualFile libraryClass=myFixture.createFile("lib/Test.class");
  assertFalse(moduleA.getModuleScope().contains(classB));
  assertFalse(moduleA.getModuleScope().contains(libraryClass));
  assertFalse(moduleA.getModuleWithLibrariesScope().contains(classB));
  assertTrue(moduleA.getModuleWithLibrariesScope().contains(libraryClass));
  assertTrue(moduleA.getModuleWithDependenciesScope().contains(classB));
  assertFalse(moduleA.getModuleWithDependenciesScope().contains(libraryClass));
  assertTrue(moduleA.getModuleWithDependenciesAndLibrariesScope(true).contains(classB));
  assertTrue(moduleA.getModuleWithDependenciesAndLibrariesScope(true).contains(libraryClass));
  assertTrue(moduleA.getModuleRuntimeScope(true).contains(classB));
  assertTrue(moduleA.getModuleRuntimeScope(true).contains(libraryClass));
}
