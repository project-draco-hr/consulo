{
  try {
    final PsiTypeElement typeElement=JavaPsiFacade.getInstance(project).getElementFactory().createTypeElement(migratedType);
    if (element instanceof PsiMethod) {
      final PsiTypeElement returnTypeElement=((PsiMethod)element).getReturnTypeElement();
      if (returnTypeElement != null) {
        returnTypeElement.replace(typeElement);
      }
    }
 else     if (element instanceof PsiVariable) {
      final PsiTypeElement varTypeElement=((PsiVariable)element).getTypeElement();
      if (varTypeElement != null) {
        varTypeElement.replace(typeElement);
      }
    }
 else {
      LOG.error("Must not happen: " + element.getClass().getName());
    }
  }
 catch (  IncorrectOperationException e) {
    LOG.error(e);
  }
}
