{
  final PsiType changeType=info.getValue();
  if (changeType != null) {
    try {
      final PsiJavaCodeReferenceElement classReference=expression.getClassOrAnonymousClassReference();
      final PsiType componentType=changeType.getDeepComponentType();
      if (classReference != null) {
        replaceTypeWithClassReferenceOrKeyword(project,componentType,classReference);
      }
 else {
        final PsiElement typeKeyword=getTypeKeyword(expression);
        if (typeKeyword != null) {
          replaceTypeWithClassReferenceOrKeyword(project,componentType,typeKeyword);
        }
      }
    }
 catch (    IncorrectOperationException e) {
      LOG.error(e);
    }
  }
}
