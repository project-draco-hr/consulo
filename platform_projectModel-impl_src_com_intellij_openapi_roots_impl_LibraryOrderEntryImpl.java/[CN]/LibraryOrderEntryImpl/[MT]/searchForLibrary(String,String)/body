{
  if (myLibrary != null)   return;
  final LibraryTable libraryTable=LibraryTablesRegistrar.getInstance().getLibraryTableByLevel(level,getRootModel().getModule().getProject());
  final Library library=libraryTable != null ? libraryTable.getLibraryByName(name) : null;
  if (library == null) {
    myLibraryName=name;
    myLibraryLevel=level;
    myLibrary=null;
  }
 else {
    myLibraryName=null;
    myLibraryLevel=null;
    myLibrary=library;
    if (library instanceof LibraryEx) {
      myLibraryKind=((LibraryEx)library).getKind();
    }
  }
}
