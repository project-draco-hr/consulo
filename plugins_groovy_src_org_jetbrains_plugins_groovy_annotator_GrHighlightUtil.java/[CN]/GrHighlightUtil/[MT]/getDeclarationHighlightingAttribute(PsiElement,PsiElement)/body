{
  if (resolved instanceof PsiField || resolved instanceof GrVariable && ResolveUtil.isScriptField((GrVariable)resolved)) {
    boolean isStatic=((PsiVariable)resolved).hasModifierProperty(PsiModifier.STATIC);
    return isStatic ? STATIC_FIELD : INSTANCE_FIELD;
  }
 else   if (resolved instanceof GrAccessorMethod) {
    boolean isStatic=((GrAccessorMethod)resolved).hasModifierProperty(PsiModifier.STATIC);
    return isStatic ? STATIC_PROPERTY_REFERENCE : INSTANCE_PROPERTY_REFERENCE;
  }
 else   if (resolved instanceof PsiMethod) {
    if (((PsiMethod)resolved).isConstructor()) {
      if (refElement != null) {
        if (refElement.getNode().getElementType() == GroovyTokenTypes.kTHIS || refElement.getNode().getElementType() == GroovyTokenTypes.kSUPER) {
          return null;
        }
 else {
          return CONSTRUCTOR_CALL;
        }
      }
 else {
        return CONSTRUCTOR_DECLARATION;
      }
    }
 else {
      boolean isStatic=((PsiMethod)resolved).hasModifierProperty(PsiModifier.STATIC);
      if (GroovyPropertyUtils.isSimplePropertyAccessor((PsiMethod)resolved)) {
        return isStatic ? STATIC_PROPERTY_REFERENCE : INSTANCE_PROPERTY_REFERENCE;
      }
 else {
        if (refElement != null) {
          return isStatic ? STATIC_METHOD_ACCESS : METHOD_CALL;
        }
 else {
          return METHOD_DECLARATION;
        }
      }
    }
  }
 else   if (resolved instanceof PsiTypeParameter) {
    return TYPE_PARAMETER;
  }
 else   if (resolved instanceof PsiClass) {
    if (((PsiClass)resolved).isAnnotationType()) {
      return ANNOTATION;
    }
 else {
      return CLASS_REFERENCE;
    }
  }
 else   if (resolved instanceof GrParameter) {
    boolean reassigned=isReassigned((GrParameter)resolved);
    return reassigned ? REASSIGNED_PARAMETER : PARAMETER;
  }
 else   if (resolved instanceof GrVariable) {
    boolean reassigned=isReassigned((GrVariable)resolved);
    return reassigned ? REASSIGNED_LOCAL_VARIABLE : LOCAL_VARIABLE;
  }
  return null;
}
