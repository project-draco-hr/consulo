{
  PsiJavaPackage psiPackage=JavaRuntimeConfigurationProducerBase.checkPackage(context.getPsiLocation());
  if (psiPackage == null)   return false;
  sourceElement.set(psiPackage);
  if (!LocationUtil.isJarAttached(context.getLocation(),psiPackage,JUnitUtil.TESTCASE_CLASS))   return false;
  final JUnitConfiguration.Data data=configuration.getPersistentData();
  data.PACKAGE_NAME=psiPackage.getQualifiedName();
  data.TEST_OBJECT=JUnitConfiguration.TEST_PACKAGE;
  data.setScope(setupPackageConfiguration(context,configuration,data.getScope()));
  configuration.setGeneratedName();
  return true;
}
