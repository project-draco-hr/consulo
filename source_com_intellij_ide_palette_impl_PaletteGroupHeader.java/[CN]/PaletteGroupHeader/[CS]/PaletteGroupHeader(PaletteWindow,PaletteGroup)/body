{
  myPaletteWindow=paletteWindow;
  myGroup=group;
  setText(group.getName());
  setSelected(true);
  addActionListener(new ActionListener(){
    public void actionPerformed(    ActionEvent e){
      if (myComponentList != null) {
        myComponentList.setVisible(isSelected());
      }
    }
  }
);
  addMouseListener(new PopupHandler(){
    public void invokePopup(    Component comp,    int x,    int y){
      showGroupPopupMenu(comp,x,y);
    }
  }
);
  setIcon(UIUtil.getTreeCollapsedIcon());
  setSelectedIcon(UIUtil.getTreeExpandedIcon());
  setFont(getFont().deriveFont(Font.BOLD));
  setFocusPainted(false);
  setMargin(new Insets(0,3,0,3));
  if (getBorder() instanceof CompoundBorder) {
    Dimension pref=getPreferredSize();
    pref.height-=3;
    setPreferredSize(pref);
  }
  new DropTarget(this,new DropTargetAdapter(){
    public void dragEnter(    DropTargetDragEvent dtde){
      setBorderPainted(true);
    }
    public void dragExit(    DropTargetEvent dte){
      setBorderPainted(false);
    }
    public void drop(    DropTargetDropEvent dtde){
      setBorderPainted(false);
      myGroup.handleDrop(myPaletteWindow.getProject(),dtde.getTransferable(),-1);
    }
  }
);
  initActions();
}
