{
  disposeEditor();
  myContent=content;
  if (myContent != null) {
    Document document=myContent.getDocument();
    final EditorFactory editorFactory=EditorFactory.getInstance();
    myEditor=DiffUtil.createEditor(document,getProject(),false);
    addDisposable(new Disposeable(){
      public void dispose(){
        editorFactory.releaseEditor(myEditor);
        myEditor=null;
      }
    }
);
    ContentDocumentListener.install(myContent,this);
  }
  fireContentChanged();
}
