{
  XBreakpointManager breakpointManager=XDebuggerManager.getInstance(project).getBreakpointManager();
  for (  XBreakpoint breakpoint : breakpointManager.getAllBreakpoints()) {
    if (breakpoint instanceof XLineBreakpoint) {
      final XLineBreakpoint lineBreakpoint=(XLineBreakpoint)breakpoint;
      if (lineBreakpoint.getLine() == line) {
        new WriteAction(){
          @Override protected void run(          Result result) throws Throwable {
            lineBreakpoint.setLogExpression(logExpression);
            lineBreakpoint.setLogMessage(true);
          }
        }
.execute();
      }
    }
  }
}
