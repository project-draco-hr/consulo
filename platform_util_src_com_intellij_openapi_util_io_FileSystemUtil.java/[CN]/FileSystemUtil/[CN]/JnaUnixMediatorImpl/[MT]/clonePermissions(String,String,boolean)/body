{
  Memory buffer=new Memory(256);
  if (!loadFileStatus(source,buffer))   return false;
  int permissions;
  int sourcePermissions=getModeFlags(buffer) & LibC.PERM_MASK;
  if (onlyPermissionsToExecute) {
    if (!loadFileStatus(target,buffer))     return false;
    int targetPermissions=getModeFlags(buffer) & LibC.PERM_MASK;
    permissions=targetPermissions & ~LibC.EXECUTE_MASK | sourcePermissions & LibC.EXECUTE_MASK;
  }
 else {
    permissions=sourcePermissions;
  }
  return myLibC.chmod(target,permissions) == 0;
}
