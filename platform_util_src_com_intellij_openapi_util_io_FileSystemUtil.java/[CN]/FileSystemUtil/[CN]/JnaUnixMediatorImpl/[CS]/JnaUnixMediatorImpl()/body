{
  myLibC=(LibC)Native.loadLibrary("c",LibC.class);
  mySharedMem=new Memory(512);
  myModeOffset=SystemInfo.isLinux ? (SystemInfo.is32Bit ? 16 : 24) : SystemInfo.isMac | SystemInfo.isFreeBSD ? 8 : SystemInfo.isSolaris ? (SystemInfo.is32Bit ? 20 : 16) : -1;
  mySizeOffset=SystemInfo.isLinux ? (SystemInfo.is32Bit ? 44 : 48) : SystemInfo.isMac | SystemInfo.isFreeBSD ? (SystemInfo.is32Bit ? 48 : 72) : SystemInfo.isSolaris ? (SystemInfo.is32Bit ? 48 : 40) : -1;
  myTimeOffset=SystemInfo.isLinux ? (SystemInfo.is32Bit ? 72 : 88) : SystemInfo.isMac | SystemInfo.isFreeBSD ? 40 : SystemInfo.isSolaris ? 64 : -1;
  if (myModeOffset < 0)   throw new IllegalStateException("Unsupported OS: " + SystemInfo.OS_NAME);
}
