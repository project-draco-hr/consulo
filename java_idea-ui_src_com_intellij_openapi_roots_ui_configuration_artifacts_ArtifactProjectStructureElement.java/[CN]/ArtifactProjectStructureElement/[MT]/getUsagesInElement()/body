{
  final Artifact artifact=myArtifactsStructureContext.getArtifactModel().getArtifactByOriginal(myOriginalArtifact);
  final List<ProjectStructureElementUsage> usages=new ArrayList<ProjectStructureElementUsage>();
  ArtifactUtil.processPackagingElements(myArtifactsStructureContext.getRootElement(artifact),null,new PackagingElementProcessor<PackagingElement<?>>(){
    @Override public boolean process(    @NotNull PackagingElement<?> packagingElement,    @NotNull PackagingElementPath path){
      ProjectStructureElement element=getProjectStructureElementFor(packagingElement,ArtifactProjectStructureElement.this.myContext,ArtifactProjectStructureElement.this.myArtifactsStructureContext);
      if (element != null) {
        usages.add(createUsage(packagingElement,path,element));
      }
      return true;
    }
  }
,myArtifactsStructureContext,false,artifact.getArtifactType());
  return usages;
}
