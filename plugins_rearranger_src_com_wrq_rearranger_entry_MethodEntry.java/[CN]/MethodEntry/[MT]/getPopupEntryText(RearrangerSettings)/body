{
  StringBuffer name=new StringBuffer(80);
  PsiMethod m=(PsiMethod)myEnd;
  if (m.getReturnTypeElement() != null && !settings.isShowTypeAfterMethod()) {
    name.append(m.getReturnTypeElement().getText());
    name.append(' ');
  }
  name.append(m.getName());
  PsiParameterList plist=m.getParameterList();
  if (settings.isShowParameterNames() || settings.isShowParameterTypes()) {
    if (plist != null) {
      name.append("(");
      for (int i=0; i < plist.getParameters().length; i++) {
        if (i > 0) {
          name.append(", ");
        }
        if (settings.isShowParameterTypes()) {
          String modifiers=plist.getParameters()[i].getModifierList().getText();
          if (modifiers.length() > 0) {
            name.append(modifiers);
            name.append(' ');
          }
          name.append(plist.getParameters()[i].getTypeElement().getText());
          if (settings.isShowParameterNames()) {
            name.append(' ');
          }
        }
        if (settings.isShowParameterNames()) {
          name.append(plist.getParameters()[i].getName());
        }
      }
      name.append(")");
    }
  }
  if (m.getReturnTypeElement() != null && settings.isShowTypeAfterMethod()) {
    name.append(": ");
    name.append(m.getReturnTypeElement().getText());
  }
  return new JLabel(name.toString());
}
