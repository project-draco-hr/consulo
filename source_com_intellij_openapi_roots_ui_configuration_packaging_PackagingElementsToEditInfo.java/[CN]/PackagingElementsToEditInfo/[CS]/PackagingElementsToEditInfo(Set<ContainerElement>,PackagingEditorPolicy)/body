{
  LOG.assertTrue(elements.size() > 1);
  myElements=new ArrayList<ContainerElement>(elements);
  myPackagingMethod=getCommonPackagingMethod(elements);
  String commonPath=getCommonRelativePath(elements,policy);
  if (commonPath == null) {
    final Map<ContainerElement,String> elementsToPaths=new HashMap<ContainerElement,String>();
    for (    ContainerElement element : elements) {
      elementsToPaths.put(element,element.getURI());
    }
    Pair<String,Map<ContainerElement,String>> pair=getPrefixAndSuffixes(elementsToPaths,policy);
    if (pair != null) {
      commonPath=pair.getFirst();
      myPathTails=pair.getSecond();
    }
  }
  myRelativePath=commonPath;
  myAllowedPackagingMethods=getAllowedPackagingMethods(elements,policy);
  myElementText=ProjectBundle.message("element.description.0.items",elements.size());
}
