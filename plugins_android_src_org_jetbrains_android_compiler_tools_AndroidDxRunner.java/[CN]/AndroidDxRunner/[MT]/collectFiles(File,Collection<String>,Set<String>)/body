{
  String path=root.getCanonicalPath();
  if (!visited.add(path)) {
    return;
  }
  if (root.isDirectory()) {
    for (    File child : root.listFiles()) {
      collectFiles(child,result,visited);
    }
  }
 else {
    result.add(path);
  }
}
