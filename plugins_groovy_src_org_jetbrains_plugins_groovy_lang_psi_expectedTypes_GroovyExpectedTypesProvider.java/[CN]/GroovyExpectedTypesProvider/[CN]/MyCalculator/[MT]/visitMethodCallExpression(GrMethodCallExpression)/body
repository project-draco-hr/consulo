{
  final GrExpression invokedExpression=methodCall.getInvokedExpression();
  if (myExpression.equals(invokedExpression)) {
    myResult=new TypeConstraint[]{SubtypeConstraint.create("groovy.lang.Closure",methodCall)};
    return;
  }
  if (Arrays.asList(methodCall.getClosureArguments()).contains(myExpression)) {
    List<TypeConstraint> constraints=new ArrayList<TypeConstraint>();
    for (    GroovyResolveResult variant : methodCall.getMethodVariants()) {
      PsiParameter[] parameters=getCallParameters(variant);
      if (parameters == null || parameters.length == 0)       continue;
      constraints.add(SubtypeConstraint.create(variant.getSubstitutor().substitute(parameters[parameters.length - 1].getType())));
    }
    if (!constraints.isEmpty()) {
      myResult=constraints.toArray(new TypeConstraint[constraints.size()]);
    }
  }
}
