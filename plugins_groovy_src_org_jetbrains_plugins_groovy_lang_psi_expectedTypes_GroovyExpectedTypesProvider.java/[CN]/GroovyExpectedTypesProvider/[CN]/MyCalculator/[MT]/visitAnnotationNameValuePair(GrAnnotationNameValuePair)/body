{
  if (myExpression.equals(nameValuePair.getValue())) {
    final PsiClass annot=resolveAnnotation(((GrAnnotationArgumentList)nameValuePair.getParent()));
    if (annot != null) {
      final String name=nameValuePair.getName();
      if (name != null) {
        final PsiMethod[] attrs=annot.findMethodsByName(name,false);
        if (attrs.length > 0) {
          final PsiType type=attrs[0].getReturnType();
          if (type != null && type instanceof PsiPrimitiveType) {
            myResult=createSimpleSubTypeResult(type);
          }
        }
      }
 else {
        final PsiMethod[] valueAttr=annot.findMethodsByName("value",false);
        boolean canHaveSimpleExpr=valueAttr.length > 0;
        final PsiMethod[] methods=annot.getMethods();
        for (        PsiMethod method : methods) {
          if (!("value".equals(method.getName()) || method instanceof GrAnnotationMethod && ((GrAnnotationMethod)method).getDefaultValue() != null)) {
            canHaveSimpleExpr=false;
          }
        }
        if (canHaveSimpleExpr) {
          final PsiType type=valueAttr[0].getReturnType();
          if (type != null && (type instanceof PsiPrimitiveType || type.equalsToText(CommonClassNames.JAVA_LANG_STRING))) {
            myResult=createSimpleSubTypeResult(type);
          }
        }
      }
    }
  }
}
