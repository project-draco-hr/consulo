{
  if (map != null) {
    final Pair<PsiParameter,PsiType> pair=map.get(myExpression);
    if (pair != null) {
      final PsiType type=pair.second;
      constraints.add(SubtypeConstraint.create(type));
      if (type instanceof PsiArrayType && isLast) {
        constraints.add(SubtypeConstraint.create(((PsiArrayType)type).getComponentType()));
      }
    }
  }
}
