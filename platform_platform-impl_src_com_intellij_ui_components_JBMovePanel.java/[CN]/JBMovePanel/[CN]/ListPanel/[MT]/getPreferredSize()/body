{
  Dimension d1=super.getPreferredSize();
  if (myActivePreferredSizeProcessing) {
    return d1;
  }
  myActivePreferredSizeProcessing=true;
  try {
    final Dimension d2;
    if (myLeftPanel == this) {
      d2=myRightPanel.getPreferredSize();
    }
 else {
      d2=myLeftPanel.getPreferredSize();
    }
    return new Dimension(Math.max(d1.width,d2.width),Math.max(d1.height,d2.height));
  }
  finally {
    myActivePreferredSizeProcessing=false;
  }
}
