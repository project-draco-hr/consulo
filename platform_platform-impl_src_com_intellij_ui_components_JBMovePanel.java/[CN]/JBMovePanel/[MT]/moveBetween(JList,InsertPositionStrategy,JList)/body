{
  final int[] indices=from.getSelectedIndices();
  if (indices.length <= 0) {
    return;
  }
  final Object[] values=from.getSelectedValues();
  for (int i=indices.length - 1; i >= 0; i--) {
    ((DefaultListModel)from.getModel()).remove(indices[i]);
  }
  if (from.getModel().getSize() > 0) {
    int newSelectionIndex=indices[0];
    newSelectionIndex=Math.min(from.getModel().getSize() - 1,newSelectionIndex);
    from.setSelectedIndex(newSelectionIndex);
  }
  to.clearSelection();
  DefaultListModel toModel=(DefaultListModel)to.getModel();
  int newSelectionIndex=-1;
  for (  Object value : values) {
    if (!toModel.contains(value)) {
      int i=strategy.getInsertionIndex(value,to);
      if (newSelectionIndex < 0) {
        newSelectionIndex=i;
      }
      toModel.add(i,value);
      to.addSelectionInterval(i,i);
    }
  }
}
