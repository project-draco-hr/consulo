{
  final AnAction action;
switch (type) {
case LEFT:
    action=new LeftAction();
  break;
case RIGHT:
action=new RightAction();
break;
case ALL_LEFT:
action=new AllLeftAction();
break;
case ALL_RIGHT:
action=new AllRightAction();
break;
default :
throw new IllegalArgumentException("Unsupported button type: " + type);
}
ActionButton button=createButton(action);
myButtons.put(type,button);
return button;
}
