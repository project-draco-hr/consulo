{
  if (genericType instanceof TypeVariable) {
    final Class<?> aClass=getRawType(classType);
    final Type type=resolveVariable((TypeVariable)genericType,aClass);
    if (type instanceof Class) {
      return (Class)type;
    }
    if (type instanceof ParameterizedType) {
      return (Class<?>)((ParameterizedType)type).getRawType();
    }
    if (type instanceof TypeVariable && classType instanceof ParameterizedType) {
      final int index=ArrayUtil.find(ReflectionCache.getTypeParameters(aClass),type);
      if (index >= 0) {
        return getRawType(getActualTypeArguments(((ParameterizedType)classType))[index]);
      }
    }
  }
 else {
    return getRawType(genericType);
  }
  return null;
}
