{
  if (!myIncludeTests && myFileIndex.isInTestSourceContent(file))   return false;
  final List<OrderEntry> entries=myFileIndex.getOrderEntriesForFile(file);
  for (  OrderEntry orderEntry : entries) {
    if (myIncludeLibraries) {
      if (orderEntry instanceof LibraryOrderEntry || orderEntry instanceof JdkOrderEntry) {
        if (!myProjectFileIndex.isInLibraryClasses(file)) {
          continue;
        }
      }
      if (!myIncludeTests && orderEntry instanceof ExportableOrderEntry && ((ExportableOrderEntry)orderEntry).getScope() == DependencyScope.TEST) {
        continue;
      }
      if (myIncludeOtherModules) {
        return true;
      }
 else {
        if (!(orderEntry instanceof ModuleOrderEntry))         return true;
      }
    }
 else {
      if (myIncludeOtherModules) {
        if (orderEntry instanceof ModuleSourceOrderEntry || orderEntry instanceof ModuleOrderEntry)         return true;
      }
 else {
        if (orderEntry instanceof ModuleSourceOrderEntry)         return true;
      }
    }
  }
  return false;
}
