{
  Painter.paintComponentDecoration(myEditor,component,g);
  final Set<RadButtonGroup> paintedGroups=new HashSet<RadButtonGroup>();
  final RadRootContainer rootContainer=myEditor.getRootContainer();
  FormEditingUtil.iterate(component,new FormEditingUtil.ComponentVisitor<RadComponent>(){
    public boolean visit(    final RadComponent component){
      final Point point=SwingUtilities.convertPoint(component.getDelegee(),0,0,rootContainer.getDelegee());
      if (component.isSelected()) {
        RadButtonGroup group=rootContainer.findGroupForComponent(component);
        if (group != null && !paintedGroups.contains(group)) {
          paintedGroups.add(group);
          Painter.paintButtonGroupLines(rootContainer,group,g);
        }
      }
      g.translate(point.x,point.y);
      try {
        Painter.paintSelectionDecoration(component,g);
        if (component.hasDragger()) {
          final Icon icon=getDragIcon();
          icon.paintIcon(PassiveDecorationLayer.this,g,-icon.getIconWidth(),-icon.getIconHeight());
        }
      }
  finally {
        g.translate(-point.x,-point.y);
      }
      return true;
    }
  }
);
}
