{
  ProjectConnection connection=getConnection(projectPath);
  IdeaProject project=connection.getModel(downloadLibraries ? IdeaProject.class : BasicIdeaProject.class);
  GradleProject result=populateProject(project,projectPath);
  Map<String,Pair<GradleModule,IdeaModule>> modules=createModules(project,result);
  populateModules(modules.values(),result);
  myLibraryNamesMixer.mixNames(result.getLibraries());
  return result;
}
