{
  final int w1=o1.getWeight();
  final int w2=o2.getWeight();
  if (myCompareToString && w1 == w2) {
    return compareToString(o1,o2);
  }
  if (w1 == UNDEFINED_WEIGHT && w2 == UNDEFINED_WEIGHT) {
    return o1.getIndex() - o2.getIndex();
  }
 else {
    return compareWeights(w1,w2);
  }
}
