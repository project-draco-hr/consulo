{
  if (myMapper == ID) {
    ConcurrentHashSet<M> collection=new ConcurrentHashSet<M>(myHashingStrategy);
    process(CommonProcessors.<T>alwaysTrue(),collection);
    return (Collection<T>)collection;
  }
 else {
    final CommonProcessors.CollectProcessor<T> processor=new CommonProcessors.CollectProcessor<T>(Collections.synchronizedList(new ArrayList<T>()));
    forEach(processor);
    return processor.getResults();
  }
}
