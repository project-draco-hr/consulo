{
  myProgressIndicator=null;
  for (  GlobalInspectionContextExtension extension : myExtensions.values()) {
    extension.cleanup();
  }
  for (  Set<Pair<InspectionTool,NamedScope>> tools : myTools.values()) {
    for (    Pair<InspectionTool,NamedScope> pair : tools) {
      pair.first.cleanup();
    }
  }
  myTools.clear();
  if (myRefManager != null) {
    ((RefManagerImpl)myRefManager).cleanup();
    myRefManager=null;
    if (myCurrentScope != null) {
      myCurrentScope.invalidate();
      myCurrentScope=null;
    }
  }
}
