{
  myProject=project;
  myUIOptions=AnalysisUIOptions.getInstance(myProject).copy();
  myRefManager=null;
  myCurrentScope=null;
  myContentManager=contentManager;
  if (myContentManager != null) {
    myContentManager.addContentManagerListener(new ContentManagerAdapter(){
      public void contentRemoved(      ContentManagerEvent event){
        if (event.getContent() == myContent) {
          if (myView != null) {
            close(false);
          }
          myContent=null;
        }
      }
    }
);
  }
  for (  InspectionExtensionsFactory factory : Extensions.getExtensions(InspectionExtensionsFactory.EP_NAME)) {
    final GlobalInspectionContextExtension extension=factory.createGlobalInspectionContextExtension();
    myExtensions.put(extension.getID(),extension);
  }
}
