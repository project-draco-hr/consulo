{
  final DataContext dataContext=event.getDataContext();
  final VirtualFile vFile=(VirtualFile)dataContext.getData(DataConstants.VIRTUAL_FILE);
  final Project project=(Project)dataContext.getData(DataConstants.PROJECT);
  if (vFile == null || project == null) {
    return;
  }
  final EditorWindow window=(EditorWindow)dataContext.getData(DataConstantsEx.EDITOR_WINDOW);
  if (window != null) {
    final EditorWindow[] siblings=window.findSiblings();
    if (siblings != null && siblings.length == 1) {
      ((FileEditorManagerImpl)FileEditorManagerEx.getInstanceEx(project)).openFileImpl3(siblings[0],vFile,true,null);
      window.closeFile(vFile);
    }
  }
}
