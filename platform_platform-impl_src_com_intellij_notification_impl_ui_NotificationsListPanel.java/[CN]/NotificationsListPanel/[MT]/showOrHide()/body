{
  if (myPopupRef != null) {
    final JBPopup popup=myPopupRef.get();
    if (popup != null) {
      popup.cancel();
    }
    myPopupRef=null;
    return false;
  }
  final ComponentPopupBuilder builder=JBPopupFactory.getInstance().createComponentPopupBuilder(this,getPreferredFocusedComponent());
  final JBPopup popup=builder.setResizable(true).setMinSize(getMinSize()).setDimensionServiceKey(null,"NotificationsPopup",true).setCancelOnClickOutside(false).setBelongsToGlobalPopupStack(false).setCancelButton(new MinimizeButton("Hide")).setMovable(true).setRequestFocus(true).setTitle("Notifications").createPopup();
  popup.addListener(new JBPopupListener.Adapter(){
    @Override public void onClosed(    LightweightWindowEvent event){
      final NotificationsManager manager=getManager();
      manager.removeListener(NotificationsListPanel.this);
      manager.archive();
    }
  }
);
  getManager().addListener(this);
  myPopupRef=new WeakReference<JBPopup>(popup);
  popup.showInCenterOf(SwingUtilities.getRootPane(myNotificationComponent));
  return true;
}
