{
  final Container parent=myList.getParent();
  if (parent != null) {
    myFakeTextPane.setText(myText.getText());
    final Dimension size=parent.getSize();
    myFakeViewport.setSize(size);
    final Dimension preferredSize=myFakeTextPane.getPreferredSize();
    final Insets insets=getInsets();
    return new Dimension(Math.min(size.width - 20,preferredSize.width),preferredSize.height + insets.top + insets.bottom);
  }
  return super.getPreferredSize();
}
