{
  queueUpdate(new Runnable(){
    public void run(){
      if (myProject.isDisposed())       return;
      final PsiElement child=event.getChild();
      final PsiElement parent=event.getParent();
      myTreeExpansionMonitor.freeze();
      if (parent instanceof PsiDirectory && (child instanceof PsiFile || child instanceof PsiDirectory)) {
        final DefaultMutableTreeNode node=myBuilder.removeNode(child,(PsiDirectory)parent);
        if (node != null) {
          ((DefaultTreeModel)myTree.getModel()).reload(node);
        }
        collapseExpand(node);
      }
      myTreeExpansionMonitor.restore();
    }
  }
);
}
