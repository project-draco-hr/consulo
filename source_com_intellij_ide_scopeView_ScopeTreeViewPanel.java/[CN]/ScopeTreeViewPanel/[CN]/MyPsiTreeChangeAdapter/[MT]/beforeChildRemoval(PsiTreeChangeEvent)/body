{
  final PsiElement child=event.getChild();
  final PsiElement parent=event.getParent();
  if (parent instanceof PsiDirectory && (child instanceof PsiFile || child instanceof PsiDirectory)) {
    queueUpdate(new Runnable(){
      public void run(){
        if (myProject.isDisposed())         return;
        myTreeExpansionMonitor.freeze();
        collapseExpand(myBuilder.removeNode(child,(PsiDirectory)parent));
        myTreeExpansionMonitor.restore();
      }
    }
,true);
  }
}
