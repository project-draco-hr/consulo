{
  if (updateImmediately && myTree.isShowing()) {
    myUpdateQueue.run(new Update(request){
      public void run(){
        request.run();
      }
    }
);
  }
 else {
    myUpdateQueue.queue(new Update(request){
      public void run(){
        request.run();
      }
      public boolean isExpired(){
        return !myTree.isShowing();
      }
    }
);
  }
}
