{
  queueUpdate(new Runnable(){
    public void run(){
      if (myProject.isDisposed())       return;
      final PsiElement element=event.getParent();
      myTreeExpansionMonitor.freeze();
      if (element instanceof PsiDirectory || element instanceof PsiPackage) {
        final PsiElement child=event.getChild();
        if (child instanceof PsiFile) {
          processFileAddition((PsiFile)child);
        }
      }
      myTreeExpansionMonitor.restore();
    }
  }
);
}
