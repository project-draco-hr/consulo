{
  myUpdateQueue.run(new Update(event){
    public void run(){
      if (myProject.isDisposed())       return;
      final VirtualFile virtualFile=event.getFile();
      if (!virtualFile.isDirectory())       return;
      myTreeExpansionMonitor.freeze();
      final VirtualFile parent=event.getParent();
      if (parent != null) {
        processDirectoryDeletion(virtualFile,myPsiManager.findDirectory(parent));
      }
      myTreeExpansionMonitor.restore();
    }
    public boolean isExpired(){
      return !myTree.isShowing();
    }
  }
);
}
