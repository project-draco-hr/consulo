{
  if (!file.isDirectory()) {
    final PsiFile psiFile=myPsiManager.findFile(file);
    final DefaultMutableTreeNode node=myBuilder.removeNode(psiFile,parent);
    if (node != null) {
      ((DefaultTreeModel)myTree.getModel()).reload(node);
    }
    collapseExpand(node);
    return;
  }
  final VirtualFile[] files=file.getChildren();
  for (  VirtualFile virtualFile : files) {
    processDirectoryDeletion(virtualFile,myPsiManager.findDirectory(file));
  }
}
