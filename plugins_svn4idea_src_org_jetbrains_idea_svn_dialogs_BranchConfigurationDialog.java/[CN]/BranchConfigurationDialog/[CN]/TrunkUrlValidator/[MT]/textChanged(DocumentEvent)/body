{
  final String currentValue=myTrunkLocationTextField.getText();
  final boolean valueOk=(currentValue != null) && (currentValue.equals(myRootUrl) || currentValue.startsWith(myRootUrlPrefix));
  final boolean prefixOk=(currentValue != null) && (currentValue.startsWith(myRootUrlPrefix)) && (currentValue.length() > myRootUrlPrefix.length());
  myTrunkLocationTextField.getButton().setEnabled(valueOk);
  setOKActionEnabled(prefixOk);
  if (prefixOk) {
    myConfiguration.setTrunkUrl(currentValue.endsWith("/") ? currentValue.substring(0,currentValue.length() - 1) : currentValue);
  }
  setErrorText(prefixOk ? null : SvnBundle.message("configure.branches.error.wrong.url"));
}
