{
  final VirtualFile vcsRoot=ProjectLevelVcsManager.getInstance(project).getVcsRootFor(file);
  SvnBranchConfiguration configuration;
  try {
    configuration=SvnBranchConfigurationManager.getInstance(project).get(vcsRoot);
  }
 catch (  VcsException ex) {
    Messages.showErrorDialog(project,"Error loading branch configuration: " + ex.getMessages(),SvnBundle.message("configure.branches.title"));
    return;
  }
  final SvnBranchConfiguration clonedConfiguration=configuration.clone();
  BranchConfigurationDialog dlg=new BranchConfigurationDialog(project,clonedConfiguration);
  dlg.show();
  if (dlg.isOK()) {
    SvnBranchConfigurationManager.getInstance(project).setConfiguration(vcsRoot,clonedConfiguration);
  }
}
