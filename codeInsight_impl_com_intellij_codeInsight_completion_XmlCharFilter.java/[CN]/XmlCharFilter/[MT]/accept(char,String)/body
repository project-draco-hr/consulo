{
  if (Character.isJavaIdentifierPart(c))   return CharFilter.ADD_TO_PREFIX;
switch (c) {
case ':':
case '.':
case '-':
    return CharFilter.ADD_TO_PREFIX;
case ',':
case ';':
case '=':
case '(':
case '/':
  if (myWithinTag) {
    if (prefix != null && prefix.length() > 0) {
      return CharFilter.SELECT_ITEM_AND_FINISH_LOOKUP;
    }
 else {
      AutoPopupController.getInstance(myEditor.getProject()).autoPopupXmlLookup(myEditor);
      return CharFilter.HIDE_LOOKUP;
    }
  }
return CharFilter.ADD_TO_PREFIX;
case '>':
if (prefix != null && prefix.length() > 0) {
return CharFilter.SELECT_ITEM_AND_FINISH_LOOKUP;
}
default :
return CharFilter.HIDE_LOOKUP;
case ' ':
return SELECT_ITEM_AND_FINISH_LOOKUP;
}
}
