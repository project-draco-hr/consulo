{
  if (myConfigurationBean.myVersion == null || myConfigurationBean.myVersion.longValue() < SvnSupportOptions.CHANGELIST_SUPPORT) {
    myConfigurationBean.myVersion=SvnSupportOptions.UPGRADE_TO_15_VERSION_ASKED;
  }
  final ConfigurationBean result=new ConfigurationBean();
  result.myVersion=myConfigurationBean.myVersion;
  final UrlSerializationHelper helper=new UrlSerializationHelper(SvnVcs.getInstance(myProject));
  for (  Map.Entry<String,SvnBranchConfiguration> entry : myConfigurationBean.myConfigurationMap.entrySet()) {
    final SvnBranchConfiguration configuration=entry.getValue();
    if ((!myConfigurationBean.mySupportsUserInfoFilter) || configuration.isUserinfoInUrl()) {
      result.myConfigurationMap.put(entry.getKey(),helper.prepareForSerialization(configuration));
    }
 else {
      result.myConfigurationMap.put(entry.getKey(),entry.getValue());
    }
  }
  result.mySupportsUserInfoFilter=true;
  return result;
}
