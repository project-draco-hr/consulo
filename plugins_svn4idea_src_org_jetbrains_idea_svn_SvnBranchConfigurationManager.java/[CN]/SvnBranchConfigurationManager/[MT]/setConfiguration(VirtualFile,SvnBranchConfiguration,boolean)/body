{
  final String key=vcsRoot.getPath();
  final SvnBranchConfiguration oldConfiguration=myConfigurationBean.myConfigurationMap.get(key);
  if ((oldConfiguration == null) || (oldConfiguration.getBranchMap().isEmpty()) || (oldConfiguration.urlsMissing(configuration))) {
    configuration.loadBranches(myProject,underProgress);
  }
 else {
    configuration.setBranchMap(oldConfiguration.getBranchMap());
  }
  myConfigurationBean.myConfigurationMap.put(key,configuration);
  SvnBranchMapperManager.getInstance().notifyBranchesChanged(myProject,vcsRoot,configuration);
  final MessageBus messageBus=myProject.getMessageBus();
  messageBus.syncPublisher(VcsConfigurationChangeListener.BRANCHES_CHANGED).execute(myProject,vcsRoot);
}
