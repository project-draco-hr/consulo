{
  if (!configuration.isUserinfoInUrl()) {
    return configuration;
  }
  final String userInfo=getUserInfo(path);
  if (userInfo == null) {
    return configuration;
  }
  final String newTrunkUrl=deserializeUrl(configuration.getTrunkUrl(),userInfo);
  final List<String> branches=configuration.getBranchUrls();
  final List<String> newBranchesList=new ArrayList<String>(branches.size());
  for (  String s : branches) {
    newBranchesList.add(deserializeUrl(s,userInfo));
  }
  final Map<String,List<SvnBranchItem>> map=configuration.getBranchMap();
  final Map<String,List<SvnBranchItem>> newMap=new HashMap<String,List<SvnBranchItem>>(map.size(),1.0f);
  for (  Map.Entry<String,List<SvnBranchItem>> entry : map.entrySet()) {
    final List<SvnBranchItem> items=entry.getValue();
    if (items != null) {
      final List<SvnBranchItem> newItems=new ArrayList<SvnBranchItem>();
      for (      SvnBranchItem item : items) {
        newItems.add(new SvnBranchItem(deserializeUrl(item.getUrl(),userInfo),new java.util.Date(item.getCreationDateMillis()),item.getRevision()));
      }
      newMap.put(deserializeUrl(entry.getKey(),userInfo),newItems);
    }
  }
  final SvnBranchConfiguration result=new SvnBranchConfiguration();
  result.setTrunkUrl(newTrunkUrl);
  result.setBranchUrls(newBranchesList);
  result.setBranchMap(newMap);
  result.setUserinfoInUrl(userInfo != null && userInfo.length() > 0);
  return result;
}
