{
  KeyEvent e=myContext.getInputEvent();
  if (KeyEvent.KEY_RELEASED == e.getID()) {
    myFirstKeyStroke=null;
    setState(KeyState.STATE_INIT);
    Project project=PlatformDataKeys.PROJECT.getData(myContext.getDataContext());
    WindowManager.getInstance().getStatusBar(project).setInfo(null);
    return false;
  }
  KeyStroke originalKeyStroke=KeyStroke.getKeyStrokeForEvent(e);
  KeyStroke keyStroke=getKeyStrokeWithoutMouseModifiers(originalKeyStroke);
  updateCurrentContext(myContext.getFoundComponent(),new KeyboardShortcut(myFirstKeyStroke,keyStroke),myContext.isModalContext());
  if (myContext.getActions().isEmpty()) {
    return true;
  }
  Project project=PlatformDataKeys.PROJECT.getData(myContext.getDataContext());
  StatusBarEx statusBar=(StatusBarEx)WindowManager.getInstance().getStatusBar(project);
  if (processAction(e,myActionProcessor)) {
    statusBar.setInfo(null);
    return true;
  }
 else {
    return false;
  }
}
