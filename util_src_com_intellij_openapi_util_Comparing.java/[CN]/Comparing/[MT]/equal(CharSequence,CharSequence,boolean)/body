{
  if (s1 == s2)   return true;
  if (s1 == null || s2 == null)   return false;
  int to=0;
  int po=0;
  if (s1.length() != s2.length())   return false;
  int len=s1.length();
  while (len-- > 0) {
    char c1=s1.charAt(to++);
    char c2=s2.charAt(po++);
    if (c1 == c2) {
      continue;
    }
    if (!caseSensitive && StringUtil.charsEqualIgnoreCase(c1,c2))     continue;
    return false;
  }
  return true;
}
