{
  if (location.getCompletionType() != CompletionType.SMART)   return 0;
  final Object object=element.getObject();
  final ExpectedTypeInfo[] expectedInfos=JavaCompletionUtil.EXPECTED_TYPES.getValue(location);
  if (expectedInfos != null) {
    final PsiType itemType=JavaCompletionUtil.getPsiType(object);
    if (itemType != null) {
      final PsiMethod positionMethod=JavaCompletionUtil.POSITION_METHOD.getValue(location);
      if (positionMethod != null) {
        for (        final ExpectedTypeInfo expectedInfo : expectedInfos) {
          if (expectedInfo.getCalledMethod() == positionMethod && expectedInfo.getType().isAssignableFrom(itemType)) {
            return 0;
          }
        }
      }
    }
  }
  return 1;
}
