{
  IconFile iconFile=new IconFile(file);
  iconFile.read();
  DirectoryEntry iconsDir=root.findSubDir("IRD3");
  Level iconFileLevel=(Level)iconFile.getMember("Level");
  ArrayList icons=iconFileLevel.getMembers();
  if (icons.size() == iconsDir.getSubDirs().size()) {
    for (int i=0; i < icons.size(); i++) {
      DirectoryEntry subDirIcon=iconsDir.findSubDir("IRD" + (i + 1));
      IconDirectory iconDirectory=(IconDirectory)iconFileLevel.getMembers().get(i);
      RawResource rawResource=subDirIcon.getRawResource(0);
      rawResource.setBytes(iconDirectory.getRawBytes());
    }
  }
 else {
    throw new IOException("Count of icons in template file doesn't match the count of icons in provided icon file");
  }
}
