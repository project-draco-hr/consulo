{
  final GroovyConfigUtils configUtils=GroovyConfigUtils.getInstance();
  if (typeDefinition.isAnonymous()) {
    if (!configUtils.isVersionAtLeast(typeDefinition,GroovyConfigUtils.GROOVY1_7)) {
      holder.createErrorAnnotation(typeDefinition.getNameIdentifierGroovy(),GroovyBundle.message("anonymous.classes.are.not.supported",configUtils.getSDKVersion(typeDefinition)));
    }
  }
 else   if (typeDefinition.getContainingClass() != null && !(typeDefinition instanceof GrEnumTypeDefinition)) {
    if (!configUtils.isVersionAtLeast(typeDefinition,GroovyConfigUtils.GROOVY1_7)) {
      holder.createErrorAnnotation(typeDefinition.getNameIdentifierGroovy(),GroovyBundle.message("inner.classes.are.not.supported",configUtils.getSDKVersion(typeDefinition)));
    }
  }
  final GrImplementsClause implementsClause=typeDefinition.getImplementsClause();
  final GrExtendsClause extendsClause=typeDefinition.getExtendsClause();
  if (typeDefinition.isInterface()) {
    checkReferenceList(holder,extendsClause,true,GroovyBundle.message("no.interface.expected.here"),null);
    if (implementsClause != null) {
      holder.createErrorAnnotation(implementsClause,GroovyBundle.message("no.implements.clause.allowed.for.interface"));
    }
  }
 else {
    checkReferenceList(holder,extendsClause,false,GroovyBundle.message("no.interface.expected.here"),ExtendsImplementsFix.MOVE_TO_IMPLEMENTS_LIST);
    checkReferenceList(holder,implementsClause,true,GroovyBundle.message("no.class.expected.here"),ExtendsImplementsFix.MOVE_TO_EXTENDS_LIST);
  }
  if (extendsClause != null) {
    checkForExtendingInterface(holder,extendsClause,implementsClause,((GrTypeDefinition)extendsClause.getParent()));
  }
  checkForWildCards(holder,extendsClause);
  checkForWildCards(holder,implementsClause);
  checkDuplicateClass(typeDefinition,holder);
  checkCyclicInheritance(holder,typeDefinition);
}
