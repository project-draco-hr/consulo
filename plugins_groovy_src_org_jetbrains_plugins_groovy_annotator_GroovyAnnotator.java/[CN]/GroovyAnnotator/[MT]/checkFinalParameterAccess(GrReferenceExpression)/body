{
  final PsiElement resolved=ref.resolve();
  if (resolved instanceof GrParameter) {
    final GrParameter parameter=(GrParameter)resolved;
    if (parameter.isPhysical() && parameter.hasModifierProperty(FINAL) && PsiUtil.isLValue(ref)) {
      if (parameter.getDeclarationScope() instanceof PsiMethod) {
        myHolder.createErrorAnnotation(ref,GroovyBundle.message("cannot.assign.a.value.to.final.parameter.0",parameter.getName()));
      }
    }
  }
}
