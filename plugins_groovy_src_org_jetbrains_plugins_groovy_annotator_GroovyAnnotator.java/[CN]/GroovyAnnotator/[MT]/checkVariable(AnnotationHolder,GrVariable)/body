{
  final GroovyPsiElement duplicate=ResolveUtil.resolveVariable(variable,variable.getName());
  if (duplicate instanceof GrVariable) {
    if (duplicate instanceof GrField && !(variable instanceof GrField)) {
      holder.createWarningAnnotation(variable.getNameIdentifierGroovy(),GroovyBundle.message("field.already.defined",variable.getName()));
    }
 else {
      final String key=duplicate instanceof GrField ? "field.already.defined" : "variable.already.defined";
      holder.createErrorAnnotation(variable.getNameIdentifierGroovy(),GroovyBundle.message(key,variable.getName()));
    }
  }
  PsiType varType=variable.getType();
  GrExpression initializer=variable.getInitializerGroovy();
  if (initializer != null) {
    PsiType rType=initializer.getType();
    if (rType != null) {
      checkAssignability(holder,varType,rType,initializer);
    }
  }
}
