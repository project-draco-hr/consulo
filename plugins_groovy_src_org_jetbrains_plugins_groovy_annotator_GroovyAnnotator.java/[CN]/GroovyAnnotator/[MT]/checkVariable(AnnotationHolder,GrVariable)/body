{
  if (!(variable instanceof GrField)) {
    final GrVariable duplicate=ResolveUtil.resolveDuplicateLocalVariable(variable);
    if (duplicate != null) {
      if (duplicate instanceof GrField) {
        holder.createWarningAnnotation(variable.getNameIdentifierGroovy(),GroovyBundle.message("field.already.defined",variable.getName()));
      }
 else {
        holder.createErrorAnnotation(variable.getNameIdentifierGroovy(),GroovyBundle.message("variable.already.defined",variable.getName()));
      }
    }
  }
  PsiType varType=variable.getType();
  GrExpression initializer=variable.getInitializerGroovy();
  if (initializer != null) {
    PsiType rType=initializer.getType();
    if (rType != null) {
      checkAssignability(holder,varType,rType,initializer);
    }
  }
}
