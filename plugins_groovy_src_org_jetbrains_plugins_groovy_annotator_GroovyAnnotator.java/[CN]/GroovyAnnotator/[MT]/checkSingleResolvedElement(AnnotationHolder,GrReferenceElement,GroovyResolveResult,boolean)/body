{
  final PsiElement resolved=resolveResult.getElement();
  final PsiElement toHighlight=getElementToHighlight(refElement);
  if (resolved == null) {
    String message=GroovyBundle.message("cannot.resolve",refElement.getReferenceName());
    final Annotation annotation;
    if (highlightError) {
      annotation=holder.createErrorAnnotation(toHighlight,message);
      annotation.setHighlightType(ProblemHighlightType.LIKE_UNKNOWN_SYMBOL);
    }
 else {
      annotation=holder.createInfoAnnotation(toHighlight,message);
    }
    if (refElement.getQualifier() == null || PsiTreeUtil.getParentOfType(refElement,GrImportStatement.class) != null) {
      registerCreateClassByTypeFix(refElement,annotation);
      registerAddImportFixes(refElement,annotation);
      UnresolvedReferenceQuickFixProvider.registerReferenceFixes(refElement,new QuickFixActionRegistrarAdapter(annotation));
      OrderEntryFix.registerFixes(new QuickFixActionRegistrarAdapter(annotation),refElement);
    }
  }
 else   if (!resolveResult.isAccessible()) {
    String message=GroovyBundle.message("cannot.access",refElement.getReferenceName());
    holder.createWarningAnnotation(toHighlight,message);
  }
}
