{
  GrModifierList modifiersList=typeDefinition.getModifierList();
  if (modifiersList == null)   return;
  checkAccessModifiers(holder,modifiersList,typeDefinition);
  checkDuplicateModifiers(holder,modifiersList,typeDefinition);
  PsiClassType[] extendsListTypes=typeDefinition.getExtendsListTypes();
  for (  PsiClassType classType : extendsListTypes) {
    PsiClass psiClass=classType.resolve();
    if (psiClass != null) {
      PsiModifierList modifierList=psiClass.getModifierList();
      if (modifierList != null) {
        if (modifierList.hasExplicitModifier(PsiModifier.FINAL)) {
          final Annotation annotation=holder.createErrorAnnotation(typeDefinition.getNameIdentifierGroovy(),GroovyBundle.message("final.class.cannot.be.extended"));
          annotation.registerFix(new GrModifierFix(typeDefinition,modifiersList,PsiModifier.FINAL,false,false));
        }
      }
    }
  }
  if (modifiersList.hasExplicitModifier(PsiModifier.ABSTRACT) && modifiersList.hasExplicitModifier(PsiModifier.FINAL)) {
    final Annotation annotation=holder.createErrorAnnotation(modifiersList,GroovyBundle.message("illegal.combination.of.modifiers.abstract.and.final"));
    annotation.registerFix(new GrModifierFix(typeDefinition,modifiersList,PsiModifier.FINAL,false,false));
    annotation.registerFix(new GrModifierFix(typeDefinition,modifiersList,PsiModifier.ABSTRACT,false,false));
  }
  if (modifiersList.hasExplicitModifier(PsiModifier.TRANSIENT)) {
    final Annotation annotation=holder.createErrorAnnotation(modifiersList,GroovyBundle.message("modifier.transient.not.allowed.here"));
    annotation.registerFix(new GrModifierFix(typeDefinition,modifiersList,PsiModifier.TRANSIENT,false,false));
  }
  if (modifiersList.hasExplicitModifier(PsiModifier.VOLATILE)) {
    final Annotation annotation=holder.createErrorAnnotation(modifiersList,GroovyBundle.message("modifier.volatile.not.allowed.here"));
    annotation.registerFix(new GrModifierFix(typeDefinition,modifiersList,PsiModifier.VOLATILE,false,false));
  }
  if (typeDefinition.isInterface()) {
    if (modifiersList.hasExplicitModifier(PsiModifier.FINAL)) {
      final Annotation annotation=holder.createErrorAnnotation(modifiersList,GroovyBundle.message("intarface.cannot.have.modifier.final"));
      annotation.registerFix(new GrModifierFix(typeDefinition,modifiersList,PsiModifier.FINAL,false,false));
    }
  }
  checkStaticDeclarationsInInnerClass(typeDefinition,holder);
}
