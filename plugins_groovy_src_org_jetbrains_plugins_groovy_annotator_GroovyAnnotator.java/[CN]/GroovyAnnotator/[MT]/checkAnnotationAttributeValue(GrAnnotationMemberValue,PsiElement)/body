{
  if (value instanceof GrLiteral)   return false;
  if (value instanceof GrClosableBlock)   return false;
  if (value instanceof GrReferenceExpression) {
    PsiElement resolved=((GrReferenceExpression)value).resolve();
    if (resolved instanceof PsiClass)     return false;
    if (resolved instanceof GrAccessorMethod)     resolved=((GrAccessorMethod)resolved).getProperty();
    if (resolved instanceof PsiField) {
      GrExpression initializer;
      try {
        initializer=resolved instanceof GrField ? ((GrField)resolved).getInitializerGroovy() : (GrExpression)ExpressionConverter.getExpression(((PsiField)resolved).getInitializer(),GroovyFileType.GROOVY_LANGUAGE,value.getProject());
      }
 catch (      IncorrectOperationException e) {
        initializer=null;
      }
      if (initializer != null) {
        return checkAnnotationAttributeValue(initializer,toHighlight);
      }
    }
  }
  if (value instanceof GrAnnotationArrayInitializer) {
    for (    GrAnnotationMemberValue expression : ((GrAnnotationArrayInitializer)value).getInitializers()) {
      if (checkAnnotationAttributeValue(expression,toHighlight))       return true;
    }
    return false;
  }
  myHolder.createErrorAnnotation(toHighlight,GroovyBundle.message("expected.0.to.be.inline.constant",value.getText()));
  return true;
}
