{
  if (myPopup != null) {
    myPopup.cancel();
  }
  tree.getModel().addTreeModelListener(createTreeListener(tree));
  myPopup=JBPopupFactory.getInstance().createComponentPopupBuilder(createMainPanel(tree),tree).setRequestFocus(true).setTitle(title).setResizable(true).setMovable(true).setDimensionServiceKey(myProject,DIMENSION_SERVICE_KEY,false).createPopup();
  if (tree instanceof Disposable) {
    Disposer.register(myPopup,(Disposable)tree);
  }
  if (myEditor.getComponent().getRootPane() == null) {
    myPopup.cancel();
    return;
  }
  myPopup.show(new RelativePoint(myEditor.getContentComponent(),myPoint));
  updateInitialBounds(tree);
}
