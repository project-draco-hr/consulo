{
  CharSequence tokenText=getTokenText(tokenIndex);
  final int start=oldMapping.range.getStartOffset();
  final int end=oldMapping.range.getEndOffset();
  doc.replaceString(start,end,tokenText);
  oldMapping.range=doc.createRangeMarker(start,start + tokenText.length());
}
