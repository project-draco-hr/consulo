{
  LOG.assertTrue(element instanceof GrVariable && GroovyRefactoringUtil.isLocalVariable((GrVariable)element),element.getClass());
  if (settings instanceof InlineLocalVarSettings) {
    final GrExpression initializer=((InlineLocalVarSettings)settings).getInitializer();
    final PsiElement parent=initializer.getParent();
    if (parent instanceof GrAssignmentExpression) {
      parent.delete();
      return;
    }
 else     if (parent instanceof GrVariable) {
      if (!((InlineLocalVarSettings)settings).isRemoveDeclaration()) {
        initializer.delete();
        return;
      }
    }
  }
  final PsiElement owner=element.getParent().getParent();
  if (owner instanceof GrVariableDeclarationOwner) {
    ((GrVariableDeclarationOwner)owner).removeVariable((GrVariable)element);
  }
 else {
    element.delete();
  }
}
