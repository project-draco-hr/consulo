{
  myProject=project;
  myEventPublisher=messageBus.syncPublisher(CompilerTopics.COMPILATION_STATUS);
  addTranslatingCompiler(new JavaCompiler(myProject),new HashSet<FileType>(Arrays.asList(StdFileTypes.JAVA)),new HashSet<FileType>(Arrays.asList(StdFileTypes.CLASS)));
  addCompiler(new ResourceCompiler(myProject,compilerConfiguration));
  addCompiler(new RmicCompiler());
  addCompiler(new IncrementalPackagingCompiler());
  if (ApplicationManagerEx.getApplicationEx().isInternal() || ApplicationManager.getApplication().isUnitTestMode()) {
    addCompiler(new IncrementalArtifactsCompiler());
  }
  for (  Compiler compiler : Extensions.getExtensions(Compiler.EP_NAME,myProject)) {
    addCompiler(compiler);
  }
  for (  CompilerFactory factory : Extensions.getExtensions(CompilerFactory.EP_NAME,myProject)) {
    Compiler[] compilers=factory.createCompilers(this);
    for (    Compiler compiler : compilers) {
      addCompiler(compiler);
    }
  }
  addCompilableFileType(StdFileTypes.JAVA);
}
