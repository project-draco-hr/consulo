{
  final DataContext dataContext=e.getDataContext();
  myProject=PlatformDataKeys.PROJECT.getData(dataContext);
  if (myProject == null || myProject.isDefault()) {
    myManager=null;
    myVcses=null;
    return;
  }
  myManager=ProjectLevelVcsManager.getInstance(myProject);
  final AbstractVcs[] allVcss=myManager.getAllVcss();
  myVcses=new HashMap<String,String>(allVcss.length,1);
  for (  AbstractVcs vcs : allVcss) {
    myVcses.put(vcs.getDisplayName(),vcs.getName());
  }
}
