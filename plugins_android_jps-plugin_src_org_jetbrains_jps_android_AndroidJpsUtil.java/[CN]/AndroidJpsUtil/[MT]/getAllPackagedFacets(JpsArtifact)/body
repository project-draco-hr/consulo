{
  final List<JpsAndroidModuleExtension> extensions=new ArrayList<JpsAndroidModuleExtension>();
  JpsArtifactUtil.processPackagingElements(artifact.getRootElement(),new Processor<JpsPackagingElement>(){
    @Override public boolean process(    JpsPackagingElement element){
      if (element instanceof JpsAndroidFinalPackageElement) {
        final JpsModuleReference reference=((JpsAndroidFinalPackageElement)element).getModuleReference();
        final JpsModule module=reference != null ? reference.resolve() : null;
        final JpsAndroidModuleExtension extension=module != null ? getExtension(module) : null;
        if (extension != null) {
          extensions.add(extension);
        }
      }
      return true;
    }
  }
);
  return extensions;
}
