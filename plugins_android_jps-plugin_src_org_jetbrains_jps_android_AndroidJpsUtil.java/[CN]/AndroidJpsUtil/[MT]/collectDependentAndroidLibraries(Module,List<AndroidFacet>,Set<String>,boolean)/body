{
  for (  ClasspathItem item : module.getClasspath(ClasspathKind.PRODUCTION_RUNTIME,false)) {
    if (item instanceof Module) {
      final Module depModule=(Module)item;
      final AndroidFacet depFacet=getFacet(depModule);
      if (depFacet != null && (!librariesOnly || depFacet.getLibrary()) && visitedSet.add(depModule.getName())) {
        collectDependentAndroidLibraries(depModule,result,visitedSet,librariesOnly);
        result.add(0,depFacet);
      }
    }
  }
}
