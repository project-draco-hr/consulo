{
  final JpsTypedLibrary<JpsAndroidSdkProperties> sdk=module.getSdk(JpsAndroidSdkType.INSTANCE);
  if (sdk == null) {
    context.processMessage(new CompilerMessage(builderName,BuildMessage.Kind.ERROR,AndroidJpsBundle.message("android.jps.errors.sdk.not.specified",module.getName())));
    return null;
  }
  final IAndroidTarget target=parseAndroidTarget(sdk,context,builderName);
  if (target == null) {
    context.processMessage(new CompilerMessage(builderName,BuildMessage.Kind.ERROR,AndroidJpsBundle.message("android.jps.errors.sdk.invalid",module.getName())));
    return null;
  }
  return new AndroidPlatform(sdk,target);
}
