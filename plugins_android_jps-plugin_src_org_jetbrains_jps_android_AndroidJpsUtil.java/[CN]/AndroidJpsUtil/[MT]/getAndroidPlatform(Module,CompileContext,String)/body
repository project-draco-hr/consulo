{
  final Sdk sdk=module.getSdk();
  if (!(sdk instanceof AndroidSdk)) {
    context.processMessage(new CompilerMessage(builderName,BuildMessage.Kind.ERROR,AndroidJpsBundle.message("android.jps.errors.sdk.not.specified",module.getName())));
    return null;
  }
  final AndroidSdk androidSdk=(AndroidSdk)sdk;
  final IAndroidTarget target=parseAndroidTarget(androidSdk,context,builderName);
  if (target == null) {
    context.processMessage(new CompilerMessage(builderName,BuildMessage.Kind.ERROR,AndroidJpsBundle.message("android.jps.errors.sdk.invalid",module.getName())));
    return null;
  }
  return new AndroidPlatform(androidSdk,target);
}
