{
  final Ref<JpsAndroidFinalPackageElement> elementRef=Ref.create(null);
  JpsArtifactUtil.processPackagingElements(artifact.getRootElement(),new Processor<JpsPackagingElement>(){
    @Override public boolean process(    JpsPackagingElement element){
      if (element instanceof JpsAndroidFinalPackageElement) {
        elementRef.set((JpsAndroidFinalPackageElement)element);
        return false;
      }
      return true;
    }
  }
);
  final JpsAndroidFinalPackageElement element=elementRef.get();
  if (element == null) {
    return null;
  }
  final JpsModuleReference reference=element.getModuleReference();
  final JpsModule module=reference != null ? reference.resolve() : null;
  return module != null ? getExtension(module) : null;
}
