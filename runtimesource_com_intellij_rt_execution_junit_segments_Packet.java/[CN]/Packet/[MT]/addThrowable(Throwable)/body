{
  String filteredTrace=BaseTestRunner.getFilteredTrace(throwable);
  String message=BaseTestRunner.getPreference("filterstack").equals("true") ? makeNewLinesCompatibleWithJUnit(throwableToString(throwable)) : throwableToString(throwable);
  addLimitedString(message);
  if (filteredTrace.startsWith(message))   filteredTrace=filteredTrace.substring(message.length());
  addLimitedString(new TraceFilter(filteredTrace).execute());
  return this;
}
