{
  Class[] componentClasses;
synchronized (this) {
    ArrayList<Class> array=new ArrayList<Class>();
    Iterator<Class> iter=myComponentInterfaces.iterator();
    while (iter.hasNext()) {
      Class componentClass=iter.next();
      if (baseInterfaceClass.isAssignableFrom(componentClass)) {
        array.add(componentClass);
      }
    }
    componentClasses=array.toArray(new Class[array.size()]);
  }
  T[] components=(T[])Array.newInstance(baseInterfaceClass,componentClasses.length);
  for (int i=0; i < componentClasses.length; i++) {
    components[i]=(T)getComponent(componentClasses[i]);
  }
  return components;
}
