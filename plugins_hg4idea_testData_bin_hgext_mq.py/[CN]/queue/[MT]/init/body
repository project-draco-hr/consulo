def init(self, repo, create=False):
    if ((not create) and os.path.isdir(self.path)):
        raise util.Abort(_('patch queue directory already exists'))
    try:
        os.mkdir(self.path)
    except OSError as inst:
        if ((inst.errno != errno.EEXIST) or (not create)):
            raise
    if create:
        return self.qrepo(create=True)
