def unapplied(self, repo, patch=None):
    if (patch and (patch not in self.series)):
        raise util.Abort((_('patch %s is not in series file') % patch))
    if (not patch):
        start = self.series_end()
    else:
        start = (self.series.index(patch) + 1)
    unapplied = []
    for i in xrange(start, len(self.series)):
        (pushable, reason) = self.pushable(i)
        if pushable:
            unapplied.append((i, self.series[i]))
        self.explain_pushable(i)
    return unapplied
