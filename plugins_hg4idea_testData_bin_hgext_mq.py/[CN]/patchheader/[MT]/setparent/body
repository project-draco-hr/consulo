def setparent(self, parent):
    if (not self.updateheader(['# Parent '], parent)):
        try:
            patchheaderat = self.comments.index('# HG changeset patch')
            self.comments.insert((patchheaderat + 1), ('# Parent ' + parent))
        except ValueError:
            pass
    self.parent = parent
