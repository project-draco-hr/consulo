def prev(ui, repo, **opts):
    'print the name of the previous patch'
    q = repo.mq
    l = len(q.applied)
    if (l == 1):
        ui.write(_('only one patch applied\n'))
        return 1
    if (not l):
        ui.write(_('no patches applied\n'))
        return 1
    return q.qseries(repo, start=(l - 2), length=1, status='A', summary=opts.get('summary'))
