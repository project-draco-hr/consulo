def next(ui, repo, **opts):
    'print the name of the next patch'
    q = repo.mq
    end = q.series_end()
    if (end == len(q.series)):
        ui.write(_('all patches applied\n'))
        return 1
    return q.qseries(repo, start=end, length=1, summary=opts.get('summary'))
