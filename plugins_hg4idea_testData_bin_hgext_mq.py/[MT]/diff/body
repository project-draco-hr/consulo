def diff(ui, repo, *pats, **opts):
    "diff of the current patch and subsequent modifications\n\n    Shows a diff which includes the current patch as well as any\n    changes which have been made in the working directory since the\n    last refresh (thus showing what the current patch would become\n    after a qrefresh).\n\n    Use 'hg diff' if you only want to see the changes made since the\n    last qrefresh, or 'hg export qtip' if you want to see changes made\n    by the current patch without including changes made since the\n    qrefresh.\n    "
    repo.mq.diff(repo, pats, opts)
    return 0
