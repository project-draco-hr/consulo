{
  LOG.assertTrue(name != null);
  LOG.assertTrue(factory != null);
  RunnerAndConfigurationSettingsImpl template=getConfigurationTemplate(factory);
  RunConfiguration configuration=factory.createConfiguration(name,template.getConfiguration());
  setCompileMethodBeforeRun(configuration,getCompileMethodBeforeRun(template.getConfiguration()));
  shareConfiguration(configuration,isConfigurationShared(template));
  RunnerAndConfigurationSettingsImpl settings=new RunnerAndConfigurationSettingsImpl(this,configuration,false);
  settings.importRunnerAndConfigurationSettings(template);
  return settings;
}
