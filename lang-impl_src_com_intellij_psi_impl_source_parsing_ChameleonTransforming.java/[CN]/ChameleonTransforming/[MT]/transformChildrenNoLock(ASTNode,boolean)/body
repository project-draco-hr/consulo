{
  ASTNode child=element.getFirstChildNode();
  while (child != null) {
    if (child instanceof ChameleonElement) {
      ASTNode next=child.getTreeNext();
      child=transformNoLock((ChameleonElement)child);
      if (child == null) {
        child=next;
      }
      continue;
    }
    if (recursive && child instanceof CompositeElement) {
      transformChildrenNoLock(child,recursive);
    }
    child=child.getTreeNext();
  }
}
