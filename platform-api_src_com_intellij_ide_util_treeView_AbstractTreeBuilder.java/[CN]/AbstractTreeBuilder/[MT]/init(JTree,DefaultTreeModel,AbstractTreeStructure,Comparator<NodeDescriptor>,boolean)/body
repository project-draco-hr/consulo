{
  myTree=tree;
  myTreeModel=treeModel;
  myTree.setModel(myTreeModel);
  setRootNode((DefaultMutableTreeNode)treeModel.getRoot());
  setTreeStructure(treeStructure);
  myNodeDescriptorComparator=comparator;
  myUpdateIfInactive=updateIfInactive;
  myExpansionListener=new MyExpansionListener();
  myTree.addTreeExpansionListener(myExpansionListener);
  setUpdater(createUpdater());
  myProgress=createProgressIndicator();
  Disposer.register(this,getUpdater());
  new UiNotifyConnector(tree,new Activatable(){
    public void showNotify(){
      processShowNotify();
    }
    public void hideNotify(){
      processHideNotify();
    }
  }
);
}
