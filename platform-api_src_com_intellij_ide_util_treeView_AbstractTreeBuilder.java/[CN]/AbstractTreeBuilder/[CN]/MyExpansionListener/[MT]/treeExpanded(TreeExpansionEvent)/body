{
  TreePath path=event.getPath();
  final DefaultMutableTreeNode node=(DefaultMutableTreeNode)path.getLastPathComponent();
  if (!myUnbuiltNodes.contains(node))   return;
  myUnbuiltNodes.remove(node);
  final Alarm alarm=new Alarm(Alarm.ThreadToUse.SHARED_THREAD);
  alarm.addRequest(new Runnable(){
    public void run(){
      myTree.setCursor(Cursor.getPredefinedCursor(Cursor.WAIT_CURSOR));
    }
  }
,WAIT_CURSOR_DELAY);
  expandNodeChildren(node);
  for (int i=0; i < node.getChildCount(); i++) {
    if (isLoadingNode(node.getChildAt(i))) {
      myTreeModel.removeNodeFromParent((MutableTreeNode)node.getChildAt(i));
      break;
    }
  }
  int n=alarm.cancelAllRequests();
  if (n == 0) {
    myTree.setCursor(Cursor.getDefaultCursor());
  }
  processSmartExpand(node);
}
