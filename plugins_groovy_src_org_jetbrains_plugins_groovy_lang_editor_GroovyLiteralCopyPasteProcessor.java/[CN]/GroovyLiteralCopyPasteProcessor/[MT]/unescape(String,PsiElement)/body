{
  final IElementType tokenType=token.getNode().getElementType();
  if (tokenType == mREGEX_CONTENT || tokenType == mREGEX_LITERAL) {
    return GrStringUtil.unescapeSlashyString(s);
  }
  if (tokenType == mDOLLAR_SLASH_REGEX_CONTENT || tokenType == mDOLLAR_SLASH_REGEX_LITERAL) {
    return GrStringUtil.unescapeDollarSlashyString(s);
  }
  if (tokenType == mGSTRING_CONTENT || tokenType == mGSTRING_LITERAL) {
    return StringUtil.unescapeStringCharacters(s);
  }
  if (tokenType == mSTRING_LITERAL) {
    return StringUtil.unescapeStringCharacters(s);
  }
  return super.unescape(s,token);
}
