{
  String urlToHelp=ApplicationInfo.getInstance().getHelpURL() + "/" + HELP_HS;
  try {
    HelpSet helpSet=new HelpSet(null,new URL(urlToHelp));
    IdeaPluginDescriptor[] pluginDescriptors=PluginsFacade.INSTANCE.getPlugins();
    for (    IdeaPluginDescriptor pluginDescriptor : pluginDescriptors) {
      HelpSetPath[] sets=pluginDescriptor.getHelpSets();
      for (      HelpSetPath hsPath : sets) {
        final String url="jar:file:///" + pluginDescriptor.getPath().getAbsolutePath() + "/help/"+ hsPath.getFile()+ "!"+ hsPath.getPath();
        try {
          URL hsURL=new URL(url);
          HelpSet pluginHelpSet=new HelpSet(null,hsURL);
          helpSet.add(pluginHelpSet);
        }
 catch (        HelpSetException e) {
          LOG.error(e);
        }
catch (        Exception e) {
          LOG.info("Error adding plugin help url " + url,e);
        }
      }
    }
    return helpSet;
  }
 catch (  Exception ee) {
    LOG.info("Failed to create help set",ee);
    return null;
  }
}
