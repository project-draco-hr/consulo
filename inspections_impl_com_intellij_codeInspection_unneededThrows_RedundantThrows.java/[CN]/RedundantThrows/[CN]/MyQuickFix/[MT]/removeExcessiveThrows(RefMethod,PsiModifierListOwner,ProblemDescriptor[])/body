{
  try {
    final Project project=element.getProject();
    final PsiMethod psiMethod=(PsiMethod)element;
    final PsiManager psiManager=PsiManager.getInstance(project);
    final List<PsiJavaCodeReferenceElement> refsToDelete=new ArrayList<PsiJavaCodeReferenceElement>();
    for (    ProblemDescriptor problem : problems) {
      final PsiElement psiElement=problem.getPsiElement();
      if (psiElement instanceof PsiJavaCodeReferenceElement) {
        final PsiJavaCodeReferenceElement classRef=(PsiJavaCodeReferenceElement)psiElement;
        final PsiType psiType=psiManager.getElementFactory().createType(classRef);
        removeException(refMethod,psiType,refsToDelete,psiMethod);
      }
 else {
        final String[] descriptionWords=problem.getDescriptionTemplate().split("[ ']");
        final PsiReferenceList throwsList=psiMethod.getThrowsList();
        final PsiClassType[] classTypes=throwsList.getReferencedTypes();
        for (        PsiClassType classType : classTypes) {
          final String text=classType.getClassName();
          if (ArrayUtil.find(descriptionWords,text) != -1) {
            removeException(refMethod,classType,refsToDelete,psiMethod);
            break;
          }
        }
      }
    }
    for (    final PsiJavaCodeReferenceElement aRefsToDelete : refsToDelete) {
      aRefsToDelete.delete();
    }
  }
 catch (  IncorrectOperationException e) {
    LOG.error(e);
  }
}
