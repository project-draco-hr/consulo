{
  ApplicationManager.getApplication().assertIsDispatchThread();
  while (true) {
    if (!myProject.isOpen())     return;
    if (myQueue.isEmpty())     return;
    if (myTriggerSuspend) {
      myTriggerSuspend=false;
      return;
    }
    TaskDescriptor current=myQueue.remove(0);
    if (Where.AWT.equals(current.getWhere())) {
      current.run(this);
    }
 else {
      ProgressManager.getInstance().run(new TaskWrapper(myProject,current.getName(),myCancellable,current,this));
      return;
    }
  }
}
