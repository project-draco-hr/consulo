{
  boolean gpp=GppTypeConverter.hasTypedContext(target) && GppTypeConverter.hasTypedContext(refExpr);
  if (refExpr.getParent() instanceof GrCall) {
    List<PsiMethod> toSearch=CollectionFactory.arrayList(target.findMethodsByName(gpp ? "invokeUnresolvedMethod" : "invokeMethod",true));
    for (Iterator<PsiMethod> iterator=toSearch.iterator(); iterator.hasNext(); ) {
      PsiMethod method=iterator.next();
      if (!gpp && (method.getParameterList().getParametersCount() != 2 || method.getParameterList().getParameters()[1].getType().equalsToText(CommonClassNames.JAVA_LANG_OBJECT + "[]"))) {
        iterator.remove();
      }
    }
    return toSearch;
  }
  if (PsiUtil.isLValue(refExpr)) {
    List<PsiMethod> toSearch=CollectionFactory.arrayList(target.findMethodsByName(gpp ? "setUnresolvedProperty" : "setProperty",true));
    for (Iterator<PsiMethod> iterator=toSearch.iterator(); iterator.hasNext(); ) {
      PsiMethod method=iterator.next();
      if (method.getParameterList().getParametersCount() != 2 || (!gpp && !method.getParameterList().getParameters()[1].getType().equalsToText(CommonClassNames.JAVA_LANG_OBJECT))) {
        iterator.remove();
      }
    }
    return toSearch;
  }
  List<PsiMethod> toSearch=CollectionFactory.arrayList(target.findMethodsByName(gpp ? "getUnresolvedProperty" : "getProperty",true));
  for (Iterator<PsiMethod> iterator=toSearch.iterator(); iterator.hasNext(); ) {
    if (iterator.next().getParameterList().getParametersCount() != 1) {
      iterator.remove();
    }
  }
  return toSearch;
}
