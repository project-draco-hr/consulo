{
  GrPackageDefinition packageDefinition=PsiTreeUtil.getParentOfType(refElement,GrPackageDefinition.class);
  if (packageDefinition != null)   return;
  PsiElement parent=refElement.getParent();
  if (parent instanceof GrNewExpression && refElement.getManager().areElementsEquivalent(((GrNewExpression)parent).getReferenceElement(),refElement)) {
    QuickFixAction.registerQuickFixAction(info,CreateClassFix.createClassFromNewAction((GrNewExpression)parent));
  }
 else {
    if (shouldBeInterface(refElement)) {
      QuickFixAction.registerQuickFixAction(info,CreateClassFix.createClassFixAction(refElement,CreateClassKind.INTERFACE));
    }
 else     if (shouldBeClass(refElement)) {
      QuickFixAction.registerQuickFixAction(info,CreateClassFix.createClassFixAction(refElement,CreateClassKind.CLASS));
      QuickFixAction.registerQuickFixAction(info,CreateClassFix.createClassFixAction(refElement,CreateClassKind.ENUM));
    }
 else     if (shouldBeAnnotation(refElement)) {
      QuickFixAction.registerQuickFixAction(info,CreateClassFix.createClassFixAction(refElement,CreateClassKind.ANNOTATION));
    }
 else {
      QuickFixAction.registerQuickFixAction(info,CreateClassFix.createClassFixAction(refElement,CreateClassKind.CLASS));
      QuickFixAction.registerQuickFixAction(info,CreateClassFix.createClassFixAction(refElement,CreateClassKind.INTERFACE));
      QuickFixAction.registerQuickFixAction(info,CreateClassFix.createClassFixAction(refElement,CreateClassKind.ENUM));
      QuickFixAction.registerQuickFixAction(info,CreateClassFix.createClassFixAction(refElement,CreateClassKind.ANNOTATION));
    }
  }
}
