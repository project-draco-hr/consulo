{
  final JPanel result=new JPanel(new GridBagLayout());
  final Icon icon=getIcon();
  final MouseBox box=new MouseBox(icon);
  box.setToolTipText(getToolTipText());
  box.setSelected(getSetting());
  box.setBackground(box.isSelected() ? selectedColor : null);
  setOutline(result,box.isSelected());
  final MyAction myAction=new MyAction("toggleButton",box);
  box.addActionListener(new ActionListener(){
    public void actionPerformed(    ActionEvent e){
      setAction(box,(JPanel)box.getParent());
    }
  }
);
  box.setFocusable(false);
  box.getInputMap(JComponent.WHEN_IN_FOCUSED_WINDOW).put(KeyStroke.getKeyStroke(getShortcut(),InputEvent.ALT_DOWN_MASK),"toggleButton");
  box.getActionMap().put("toggleButton",myAction);
  box.addMouseListener(new MouseAdapter(){
    public void mouseEntered(    MouseEvent e){
      box.mouseOver=true;
      if (!box.isSelected()) {
        box.setBackground(mouseoverColor);
        setOutline(result,true);
      }
    }
    public void mouseExited(    MouseEvent e){
      box.mouseOver=false;
      if (!box.isSelected()) {
        box.setBackground(null);
        setOutline(result,false);
      }
    }
  }
);
  result.add(box);
  return result;
}
