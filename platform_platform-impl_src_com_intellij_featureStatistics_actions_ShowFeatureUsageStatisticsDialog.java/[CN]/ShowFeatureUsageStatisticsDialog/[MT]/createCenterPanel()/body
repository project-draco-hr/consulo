{
  Splitter splitter=new Splitter(true);
  splitter.setShowDividerControls(true);
  ProductivityFeaturesRegistry registry=ProductivityFeaturesRegistry.getInstance();
  ArrayList<FeatureDescriptor> features=new ArrayList<FeatureDescriptor>();
  for (  String id : registry.getFeatureIds()) {
    features.add(registry.getFeatureDescriptor(id));
  }
  final TableView table=new TableView<FeatureDescriptor>(new ListTableModel<FeatureDescriptor>(COLUMNS,features,0));
  JPanel controlsPanel=new JPanel(new VerticalFlowLayout());
  Application app=ApplicationManager.getApplication();
  long uptime=System.currentTimeMillis() - app.getStartTime();
  long idleTime=app.getIdleTime();
  final String uptimeS=FeatureStatisticsBundle.message("feature.statistics.application.uptime",ApplicationNamesInfo.getInstance().getProductName(),DateFormatUtil.formatDuration(uptime));
  final String idleTimeS=FeatureStatisticsBundle.message("feature.statistics.application.idle.time",ApplicationNamesInfo.getInstance().getProductName(),DateFormatUtil.formatDuration(idleTime));
  String labelText=uptimeS + ", " + idleTimeS;
  CompletionStatistics stats=((FeatureUsageTrackerImpl)FeatureUsageTracker.getInstance()).getCompletionStatistics();
  if (stats.dayCount > 0 && stats.sparedCharacters > 0) {
    String total=formatCharacterCount(stats.sparedCharacters,true);
    String perDay=formatCharacterCount(stats.sparedCharacters / stats.dayCount,false);
    labelText+="<br>Code completion has saved you from typing at least " + total + "  since "+ DateFormatUtil.formatDate(stats.startDate)+ " (\u2245"+ perDay+ " per working day)";
  }
  controlsPanel.add(new JLabel("<html><body>" + labelText + "</body></html>"),BorderLayout.NORTH);
  JPanel topPanel=new JPanel(new BorderLayout());
  topPanel.add(controlsPanel,BorderLayout.NORTH);
  topPanel.add(ScrollPaneFactory.createScrollPane(table),BorderLayout.CENTER);
  splitter.setFirstComponent(topPanel);
  final JEditorPane browser=new JEditorPane(UIUtil.HTML_MIME,"");
  browser.setEditable(false);
  splitter.setSecondComponent(ScrollPaneFactory.createScrollPane(browser));
  table.getSelectionModel().setSelectionMode(ListSelectionModel.SINGLE_SELECTION);
  table.getSelectionModel().addListSelectionListener(new ListSelectionListener(){
    public void valueChanged(    ListSelectionEvent e){
      Collection selection=table.getSelection();
      try {
        if (selection.isEmpty()) {
          browser.read(new StringReader(""),null);
        }
 else {
          FeatureDescriptor feature=(FeatureDescriptor)selection.iterator().next();
          TipUIUtil.openTipInBrowser(feature.getTipFileName(),browser,feature.getProvider());
        }
      }
 catch (      IOException ex) {
        LOG.info(ex);
      }
    }
  }
);
  return splitter;
}
