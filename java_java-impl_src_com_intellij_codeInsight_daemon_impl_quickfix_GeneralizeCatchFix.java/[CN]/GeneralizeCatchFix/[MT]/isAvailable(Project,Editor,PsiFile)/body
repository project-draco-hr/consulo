{
  if (!(myElement != null && myElement.isValid() && myUnhandledException != null && myUnhandledException.isValid() && myElement.getManager().isInProject(myElement)))   return false;
  PsiElement element=myElement;
  while (element != null) {
    if (element instanceof PsiCodeBlock && element.getParent() instanceof PsiTryStatement && ((PsiTryStatement)element.getParent()).getTryBlock() == element) {
      myTryStatement=(PsiTryStatement)element.getParent();
      break;
    }
    if (element instanceof PsiMethod || (element instanceof PsiClass && !(element instanceof PsiAnonymousClass)))     break;
    element=element.getParent();
  }
  if (myTryStatement == null)   return false;
  PsiParameter[] catchBlockParameters=myTryStatement.getCatchBlockParameters();
  for (  PsiParameter catchBlockParameter : catchBlockParameters) {
    PsiType type=catchBlockParameter.getType();
    if (myUnhandledException.isAssignableFrom(type)) {
      myCatchParameter=catchBlockParameter;
      break;
    }
  }
  return myCatchParameter != null;
}
