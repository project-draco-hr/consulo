{
  if (aClass == null) {
    return ClassType.OTHER;
  }
  if (!visitedClasses.add(aClass)) {
    return ClassType.OTHER;
  }
  @NonNls final String className=aClass.getQualifiedName();
  if ("java.util.Set".equals(className)) {
    return ClassType.SET;
  }
 else   if ("java.util.Map".equals(className)) {
    return ClassType.MAP;
  }
  final PsiClass[] supers=aClass.getSupers();
  for (  PsiClass aSuper : supers) {
    final ClassType classType=isMapOrSet(aSuper,visitedClasses);
    if (classType != ClassType.OTHER) {
      return classType;
    }
  }
  return ClassType.OTHER;
}
