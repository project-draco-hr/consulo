{
  final List<DebuggerSettingsPanelProvider> providers=new ArrayList<DebuggerSettingsPanelProvider>();
  final DebuggerSupport[] supports=DebuggerSupport.getDebuggerSupports();
  for (  DebuggerSupport support : supports) {
    providers.add(support.getSettingsPanelProvider());
  }
  List<Configurable> configurables=new ArrayList<Configurable>();
  Collections.sort(providers,new Comparator<DebuggerSettingsPanelProvider>(){
    public int compare(    final DebuggerSettingsPanelProvider o1,    final DebuggerSettingsPanelProvider o2){
      return o2.getPriority() - o1.getPriority();
    }
  }
);
  Configurable rootConfigurable=null;
  for (  DebuggerSettingsPanelProvider provider : providers) {
    configurables.addAll(provider.getConfigurables());
    final Configurable aRootConfigurable=provider.getRootConfigurable();
    if (aRootConfigurable != null) {
      if (rootConfigurable != null) {
        configurables.add(aRootConfigurable);
      }
 else {
        rootConfigurable=aRootConfigurable;
      }
    }
  }
  if (configurables.isEmpty() && rootConfigurable == null) {
    return null;
  }
  if (rootConfigurable == null && configurables.size() == 1) {
    rootConfigurable=configurables.get(0);
    configurables=Collections.emptyList();
  }
  return new DebuggerConfigurable(rootConfigurable,configurables);
}
