{
  final String fileExtension=getFileExtension();
  for (  File child : children) {
    if (child.isFile()) {
      if (FileUtilRt.extensionEquals(child.getName(),fileExtension)) {
        Pair<File,String> root=CommonSourceRootDetectionUtil.IO_FILE.suggestRootForFileWithPackageStatement(child,base,getPackageNameFetcher(),true);
        if (root != null) {
          result.add(new JavaModuleSourceRoot(root.getFirst(),root.getSecond(),getLanguageName()));
          return DirectoryProcessingResult.skipChildrenAndParentsUpTo(root.getFirst());
        }
 else {
          return DirectoryProcessingResult.SKIP_CHILDREN;
        }
      }
    }
  }
  return DirectoryProcessingResult.PROCESS_CHILDREN;
}
