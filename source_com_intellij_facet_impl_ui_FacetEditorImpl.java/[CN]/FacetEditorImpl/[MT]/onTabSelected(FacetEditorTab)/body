{
  selectedTab.onTabEntering();
  if (myVisitedTabs.add(selectedTab)) {
    final JComponent preferredFocusedComponent=selectedTab.getPreferredFocusedComponent();
    if (preferredFocusedComponent != null) {
      ApplicationManager.getApplication().invokeLater(new Runnable(){
        public void run(){
          if (preferredFocusedComponent.isShowing()) {
            preferredFocusedComponent.requestFocus();
          }
        }
      }
);
    }
  }
}
