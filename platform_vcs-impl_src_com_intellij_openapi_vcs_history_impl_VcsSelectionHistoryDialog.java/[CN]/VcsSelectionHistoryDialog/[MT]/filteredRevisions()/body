{
  ArrayList<VcsFileRevision> result=new ArrayList<>();
  BlockData data=myBlockLoader.getLoadedData();
  int firstRevision;
  boolean foundInitialRevision=false;
  for (firstRevision=myRevisions.size() - 1; firstRevision > 0; firstRevision--) {
    Block block=data.getBlock(firstRevision);
    if (block == EMPTY_BLOCK)     foundInitialRevision=true;
    if (block != null && block != EMPTY_BLOCK)     break;
  }
  if (!foundInitialRevision && data.isLoading())   firstRevision=myRevisions.size() - 1;
  result.add(myRevisions.get(firstRevision));
  for (int i=firstRevision - 1; i >= 0; i--) {
    Block block1=data.getBlock(i + 1);
    Block block2=data.getBlock(i);
    if (block1 == null || block2 == null)     continue;
    if (block1.getLines().equals(block2.getLines()))     continue;
    result.add(myRevisions.get(i));
  }
  Collections.reverse(result);
  return result;
}
