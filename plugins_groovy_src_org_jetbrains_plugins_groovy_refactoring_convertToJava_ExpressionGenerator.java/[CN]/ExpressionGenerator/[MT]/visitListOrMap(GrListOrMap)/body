{
  final PsiType type=listOrMap.getType();
  LOG.assertTrue(type instanceof GrLiteralClassType || type instanceof PsiArrayType);
  if (listOrMap.isMap()) {
    String varName=generateMapVariableDeclaration(listOrMap,type);
    generateMapElementInsertions(listOrMap,varName);
    builder.append(varName);
  }
 else {
    boolean isActuallyList=type instanceof GrTupleType;
    builder.append("new ");
    writeType(builder,type);
    if (isActuallyList) {
      builder.append("(Arrays.asList(");
    }
 else {
      builder.append('{');
    }
    genInitializers(listOrMap);
    if (isActuallyList) {
      builder.append("))");
    }
 else {
      builder.append('}');
    }
  }
}
