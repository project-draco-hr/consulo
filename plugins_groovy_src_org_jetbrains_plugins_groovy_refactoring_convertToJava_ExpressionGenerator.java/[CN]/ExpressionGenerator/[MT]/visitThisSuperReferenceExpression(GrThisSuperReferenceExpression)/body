{
  LOG.assertTrue(!(expr.getParent() instanceof GrConstructorInvocation));
  if (context.isInAnonymousContext() && expr.getQualifier() == null) {
    builder.append(expr.getReferenceName());
    return;
  }
  final PsiElement resolved=expr.resolve();
  LOG.assertTrue(resolved instanceof PsiClass);
  builder.append(((PsiClass)resolved).getQualifiedName()).append(".").append(expr.getReferenceName());
}
