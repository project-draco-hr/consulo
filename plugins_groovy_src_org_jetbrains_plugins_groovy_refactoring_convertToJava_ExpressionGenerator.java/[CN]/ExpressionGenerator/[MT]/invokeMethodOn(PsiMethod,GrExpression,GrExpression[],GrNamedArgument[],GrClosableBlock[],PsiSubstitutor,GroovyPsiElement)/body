{
  if (method instanceof GrGdkMethod) {
    if (caller == null) {
      caller=factory.createExpressionFromText("this",context);
    }
    GrExpression[] newArgs=new GrExpression[exprs.length + 1];
    System.arraycopy(exprs,0,newArgs,1,exprs.length);
    newArgs[0]=caller;
    invokeMethodOn(((GrGdkMethod)method).getStaticMethod(),null,newArgs,namedArgs,closures,substitutor,context);
    return;
  }
  if (method.hasModifierProperty(PsiModifier.STATIC)) {
    final PsiClass containingClass=method.getContainingClass();
    if (containingClass != null) {
      builder.append(containingClass.getQualifiedName()).append(".");
    }
  }
 else {
    if (caller != null) {
      caller.accept(this);
      builder.append(".");
    }
  }
  builder.append(method.getName());
  final GrClosureSignature signature=GrClosureSignatureUtil.createSignature(method,substitutor);
  new ArgumentListGenerator(builder,this.context).generate(signature,exprs,namedArgs,closures,context);
}
