{
  final String port=myPort.getText().trim();
  if (port.length() > 0) {
    try {
      final int intPort=Integer.parseInt(port);
      if (intPort <= 0)       throw new InputException(CvsBundle.message("error.message.invalid.port.value",port),myPort);
    }
 catch (    NumberFormatException ex) {
      throw new InputException(CvsBundle.message("error.message.invalid.port.value",port),myPort);
    }
  }
  final CvsMethod cvsMethod=(CvsMethod)myMethods.getSelectedItem();
  final String user=checkedField(myUser,CvsBundle.message("configure.root.field.name.user"),cvsMethod.hasUserValue());
  final String host=checkedField(myHost,CvsBundle.message("configure.root.field.name.host"),cvsMethod.hasHostValue());
  final String repository=checkedField(myRepository,CvsBundle.message("configure.root.field.name.repository"),true);
  return CvsRootConfiguration.createStringRepresentationOn(cvsMethod,user,host,port,repository);
}
