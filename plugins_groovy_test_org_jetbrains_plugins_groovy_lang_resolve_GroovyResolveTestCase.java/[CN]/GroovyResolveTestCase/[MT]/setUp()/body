{
  super.setUp();
  final ModifiableRootModel rootModel=ModuleRootManager.getInstance(getModule()).getModifiableModel();
  VirtualFile root=LocalFileSystem.getInstance().findFileByPath(getTestDataPath());
  assertNotNull(root);
  final VirtualFile testRoot=root.findChild(getTestName(true));
  ContentEntry contentEntry=rootModel.addContentEntry(testRoot);
  assertNotNull(testRoot);
  contentEntry.addSourceFolder(testRoot,false);
  ApplicationManager.getApplication().runWriteAction(new Runnable(){
    public void run(){
      rootModel.commit();
    }
  }
);
  GroovyPsiManager.getInstance(getProject()).buildGDK();
}
