{
  super.setUp();
  GroovyLoader.loadGroovy();
  final ModifiableRootModel rootModel=ModuleRootManager.getInstance(getModule()).getModifiableModel();
  VirtualFile root=LocalFileSystem.getInstance().findFileByPath(getTestDataPath());
  assertNotNull(root);
  ContentEntry contentEntry=rootModel.addContentEntry(root);
  rootModel.setJdk(JavaSdk.getInstance().createJdk("java sdk",JDK_HOME,false));
  contentEntry.addSourceFolder(root,false);
  ApplicationManager.getApplication().runWriteAction(new Runnable(){
    public void run(){
      rootModel.commit();
    }
  }
);
}
