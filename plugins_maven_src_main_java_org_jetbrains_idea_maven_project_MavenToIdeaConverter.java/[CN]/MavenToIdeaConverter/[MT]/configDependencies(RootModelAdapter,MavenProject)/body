{
  for (  Artifact artifact : ProjectUtil.extractDependencies(p)) {
    MavenId id=new MavenId(artifact);
    if (isIgnored(id))     continue;
    String moduleName=findModuleFor(artifact);
    if (moduleName != null) {
      m.createModuleDependency(moduleName);
    }
 else {
      String artifactPath=artifact.getFile().getPath();
      boolean isExportable=ProjectUtil.isExpartableDependency(artifact);
      m.createModuleLibrary(myMapping.getLibraryName(id),getUrl(artifactPath,null),getUrl(artifactPath,SOURCES_CLASSIFIER),getUrl(artifactPath,JAVADOC_CLASSIFIER),isExportable);
    }
  }
}
