{
  for (  Artifact artifact : extractDependencies(mavenProject)) {
    MavenId id=new MavenId(artifact);
    if (ignorePattern.matcher(id.toString()).matches()) {
      continue;
    }
    final String moduleName=mavenToIdeaMapping.getModuleName(id);
    if (moduleName != null) {
      rootModel.createModuleDependency(moduleName);
    }
 else {
      final String artifactPath=artifact.getFile().getPath();
      rootModel.createModuleLibrary(mavenToIdeaMapping.getLibraryName(id),getUrl(artifactPath,null),getUrl(artifactPath,SOURCES_CLASSIFIER),getUrl(artifactPath,JAVADOC_CLASSIFIER));
    }
  }
}
