{
  Map<String,Artifact> projectIdToArtifact=new TreeMap<String,Artifact>();
  for (  Object o : mavenProject.getArtifacts()) {
    Artifact newArtifact=(Artifact)o;
    if (isSupportedArtifact(newArtifact)) {
      String projectId=newArtifact.getGroupId() + ":" + newArtifact.getArtifactId();
      Artifact oldArtifact=projectIdToArtifact.get(projectId);
      if (oldArtifact == null || new DefaultArtifactVersion(oldArtifact.getVersion()).compareTo(new DefaultArtifactVersion(newArtifact.getVersion())) < 0) {
        projectIdToArtifact.put(projectId,newArtifact);
      }
    }
  }
  return new ArrayList<Artifact>(projectIdToArtifact.values());
}
