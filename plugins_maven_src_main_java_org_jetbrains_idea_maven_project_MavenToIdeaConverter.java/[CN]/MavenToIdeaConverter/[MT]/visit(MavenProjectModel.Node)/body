{
  Module module=mavenToIdeaMapping.getModule(node);
  if (module == null) {
    module=modifiableModuleModel.newModule(mavenToIdeaMapping.getModuleFilePath(node));
  }
  convertRootModel(module,node);
  createFacets(module,node);
  SyntheticModuleUtil.setSynthetic(module,markSynthetic && !node.isLinked());
  if (preferences.isCreateModuleGroups() && !node.mavenModules.isEmpty()) {
    groups.push(ProjectBundle.message("module.group.name",module.getName()));
  }
  modifiableModuleModel.setModuleGroupPath(module,groups.isEmpty() ? null : groups.toArray(new String[groups.size()]));
}
