{
  final List<MavenProjectModel.Node> projects=new ArrayList<MavenProjectModel.Node>();
  projectModel.visit(new MavenProjectModel.MavenProjectVisitorPlain(){
    public void visit(    final MavenProjectModel.Node node){
      projects.add(node);
    }
  }
);
  Collections.sort(projects,new Comparator<MavenProjectModel.Node>(){
    public int compare(    final MavenProjectModel.Node o1,    final MavenProjectModel.Node o2){
      final boolean isEar1=o1.getMavenProject().getPackaging().equalsIgnoreCase("ear");
      final boolean isEar2=o2.getMavenProject().getPackaging().equalsIgnoreCase("ear");
      return !isEar1 && isEar2 ? -1 : isEar1 && !isEar2 ? 1 : 0;
    }
  }
);
  return projects;
}
