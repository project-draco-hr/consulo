{
  super(project,true);
  myOriginalURL=url;
  try {
    myURL=url.appendPath("NewFolder",true);
  }
 catch (  SVNException ignore) {
  }
  setTitle("New Remote Folder");
  init();
  myURLLabel.setText(myURL.toString());
  myNameField.selectAll();
  myNameField.getDocument().addDocumentListener(new DocumentAdapter(){
    protected void textChanged(    final DocumentEvent e){
      updateURL();
    }
  }
);
  if (!project.isDefault()) {
    final ArrayList<String> messages=VcsConfiguration.getInstance(project).getRecentMessages();
    Collections.reverse(messages);
    final String[] model=ArrayUtil.toStringArray(messages);
    myMessagesBox.setModel(new DefaultComboBoxModel(model));
    myMessagesBox.setRenderer(new MessageBoxCellRenderer());
  }
 else {
    myRecentMessagesLabel.setVisible(false);
    myMessagesBox.setVisible(false);
  }
  String lastMessage=VcsConfiguration.getInstance(project).getLastNonEmptyCommitMessage();
  if (lastMessage != null) {
    myCommitMessage.setText(lastMessage);
    myCommitMessage.selectAll();
  }
  myMessagesBox.addActionListener(new ActionListener(){
    public void actionPerformed(    ActionEvent e){
      myCommitMessage.setText(myMessagesBox.getSelectedItem().toString());
      myCommitMessage.selectAll();
    }
  }
);
}
