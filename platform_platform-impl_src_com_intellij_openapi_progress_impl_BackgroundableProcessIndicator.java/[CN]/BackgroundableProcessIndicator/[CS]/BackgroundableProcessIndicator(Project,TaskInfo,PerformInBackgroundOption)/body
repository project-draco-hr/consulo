{
  super(info.isCancellable(),true,project,info.getCancelText());
  if (project != null) {
    myListener=new ProjectManagerAdapter(){
      public void projectClosing(      Project closingProject){
        if (project == closingProject && isRunning()) {
          cancel();
        }
      }
    }
;
    ProjectManager.getInstance().addProjectManagerListener(myListener);
  }
  setOwnerTask(info);
  setProcessId(info.getProcessId());
  myOption=option;
  myInfo=info;
  setTitle(info.getTitle());
  final Project nonDefaultProject=(project == null || project.isDisposed()) ? null : ((project.isDefault()) ? null : project);
  if (nonDefaultProject != null) {
    final IdeFrame frame=((WindowManagerEx)WindowManager.getInstance()).findFrameFor(nonDefaultProject);
    myStatusBar=(StatusBarEx)frame.getStatusBar();
    if (option.shouldStartInBackground()) {
      doBackground();
    }
  }
}
