{
  Document document=myEditor.getDocument();
  int offset=myEditor.getCaretModel().getOffset();
  if (offset == 0)   return offset;
  int lineNumber=myEditor.getCaretModel().getLogicalPosition().line;
  CharSequence text=document.getCharsSequence();
  int newOffset=offset - 1;
  int minOffset=lineNumber > 0 ? document.getLineEndOffset(lineNumber - 1) : 0;
  boolean camel=myEditor.getSettings().isCamelWords();
  for (; newOffset > minOffset; newOffset--) {
    if (EditorActionUtil.isWordStart(text,newOffset,camel))     break;
  }
  return newOffset;
}
