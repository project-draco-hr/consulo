{
  validateContext(true);
  removeBlockSelection();
  myLastSelectionStart=myEditor.getCaretModel().getOffset();
  if (mySelectionMarker != null) {
    int startOffset=mySelectionMarker.getStartOffset();
    int endOffset=mySelectionMarker.getEndOffset();
    mySelectionMarker.release();
    mySelectionMarker=null;
    fireSelectionChanged(startOffset,endOffset,myLastSelectionStart,myLastSelectionStart);
  }
}
