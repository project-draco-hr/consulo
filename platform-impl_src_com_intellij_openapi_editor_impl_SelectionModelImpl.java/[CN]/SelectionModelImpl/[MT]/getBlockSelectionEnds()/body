{
  if (hasSelection()) {
    return new int[]{getSelectionEnd()};
  }
  if (!hasBlockSelection()) {
    return ArrayUtil.EMPTY_INT_ARRAY;
  }
  int lineCount=Math.abs(myBlockEnd.line - myBlockStart.line) + 1;
  int startLine=Math.min(myBlockStart.line,myBlockEnd.line);
  int startColumn=Math.min(myBlockStart.column,myBlockEnd.column);
  int columnCount=Math.abs(myBlockEnd.column - myBlockStart.column);
  int[] res=new int[lineCount];
  for (int i=startLine; i < startLine + lineCount; i++) {
    res[i - startLine]=myEditor.logicalPositionToOffset(new LogicalPosition(i,startColumn + columnCount));
  }
  return res;
}
