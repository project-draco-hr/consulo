{
  try {
    Project project=aClass.getProject();
    GroovyElementFactory factory=GroovyElementFactory.getInstance(project);
    GrImportStatement ourImportStatement=factory.createImportStatementFromText(aClass.getQualifiedName());
    GrImportStatement[] importStatements=getImportStatements();
    PsiElement psiElementAfter=null;
    if (importStatements.length > 0) {
      psiElementAfter=importStatements[importStatements.length - 1];
    }
 else     if (getPackageDefinition() != null) {
      psiElementAfter=getPackageDefinition();
    }
    if (psiElementAfter != null && psiElementAfter.getNode() != null) {
      return (GrImportStatement)addAfter(ourImportStatement,psiElementAfter);
    }
 else {
      return (GrImportStatement)addBefore(ourImportStatement,getFirstChild());
    }
  }
 catch (  IncorrectOperationException e) {
    LOG.error(e);
    return null;
  }
}
