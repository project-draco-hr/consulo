{
  final StubElement<?> stub=getStub();
  if (stub != null) {
    return true;
  }
  PsiElement run=lastParent == null ? getLastChild() : lastParent.getPrevSibling();
  while (run != null) {
    if (!(run instanceof GrTopLevelDefinition) && !(run instanceof GrImportStatement) && isDeclarationVisible(lastParent,run)&& !run.processDeclarations(processor,state,null,place)) {
      return false;
    }
    run=run.getPrevSibling();
  }
  return true;
}
