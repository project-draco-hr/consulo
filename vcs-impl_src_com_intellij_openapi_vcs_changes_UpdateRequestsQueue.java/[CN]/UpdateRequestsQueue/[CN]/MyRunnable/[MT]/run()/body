{
  final List<Runnable> copy=new ArrayList<Runnable>(myWaitingUpdateCompletionQueue.size());
  ScheduledData me=null;
  try {
synchronized (myLock) {
      if (myUpdateUnversionedFiles) {
        updateUnversionedFilesEngaged=false;
      }
 else {
        updateWithoutUnversionedFilesEngaged=false;
      }
      if ((!myStopped) && ((!myStarted) || myPlVcsManager.isBackgroundVcsOperationRunning())) {
        mySentRequests.remove(me);
        schedule(myUpdateUnversionedFiles);
        return;
      }
      me=takeMeRemoveDuplicates(this);
      if (myStopped || (me == null)) {
        return;
      }
      copy.addAll(myWaitingUpdateCompletionQueue);
    }
    myDelegate.consume(myUpdateUnversionedFiles);
  }
  finally {
    if (me != null) {
synchronized (myLock) {
        mySentRequests.remove(me);
        if (!copy.isEmpty()) {
          myWaitingUpdateCompletionQueue.removeAll(copy);
        }
      }
      for (      Runnable runnable : copy) {
        runnable.run();
      }
    }
  }
}
