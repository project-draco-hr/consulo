{
  myProject=project;
  myCommand=command;
  myAppSettings=GitVcsApplicationSettings.getInstance();
  myProjectSettings=GitVcsSettings.getInstance(myProject);
  myEnv=new HashMap<String,String>(System.getenv());
  myVcs=GitVcs.getInstance(project);
  myWorkingDirectory=directory;
  myCommandLine=new GeneralCommandLine();
  if (myAppSettings != null) {
    myCommandLine.setExePath(myAppSettings.getPathToGit());
  }
  myCommandLine.setWorkDirectory(myWorkingDirectory);
  if (command.name().length() > 0) {
    myCommandLine.addParameter(command.name());
  }
}
