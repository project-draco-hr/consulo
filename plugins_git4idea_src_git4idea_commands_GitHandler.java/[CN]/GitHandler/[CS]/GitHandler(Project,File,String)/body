{
  myProject=project;
  mySettings=GitVcsSettings.getInstanceChecked(project);
  myEnv=new HashMap<String,String>(System.getenv());
  myVcs=GitVcs.getInstance(project);
  if (myVcs != null) {
    myVcs.checkVersion();
  }
  myWorkingDirectory=directory;
  myCommandLine=new GeneralCommandLine();
  myCommandLine.setExePath(mySettings.GIT_EXECUTABLE);
  myCommandLine.setWorkingDirectory(myWorkingDirectory);
  if (command.length() > 0) {
    myCommandLine.addParameter(command);
  }
}
