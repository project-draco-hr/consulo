{
  if (!isDirectory) {
    String templateName=myReference.getNewFileTemplateName();
    if (templateName != null) {
      FileTemplate template=FileTemplateManager.getInstance().getTemplate(templateName);
      if (template != null) {
        try {
          return template.getText(FileTemplateManager.getInstance().getDefaultProperties(myDirectory.getProject()));
        }
 catch (        IOException ex) {
          throw new RuntimeException(ex);
        }
      }
    }
  }
  return super.getFileText();
}
