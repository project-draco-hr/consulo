{
  if (ModalityState.NON_MODAL.equals(ModalityState.current())) {
    ToolWindow toolWindow=ToolWindowManager.getInstance(project).getToolWindow(ToolWindowId.VCS);
    final ContentManager contentManager=toolWindow.getContentManager();
    final MyDialog dialog=new MyDialog(project,revision,file);
    Content content=ContentFactory.SERVICE.getInstance().createContent(dialog.createCenterPanel(),SvnBundle.message("merge.source.details.title",(file == null) ? revision.getURL() : file.getName(),revision.getRevisionNumber().asString()),true);
    ContentsUtil.addOrReplaceContent(contentManager,content,true);
    toolWindow.activate(null);
  }
 else {
    new MyDialog(project,revision,file).show();
  }
}
