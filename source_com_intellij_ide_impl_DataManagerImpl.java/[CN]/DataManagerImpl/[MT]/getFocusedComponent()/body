{
  if (myWindowManager == null) {
    return null;
  }
  Window activeWindow=myWindowManager.getMostRecentFocusedWindow();
  if (activeWindow == null) {
    return null;
  }
  Window window=activeWindow;
  Component focusedComponent=null;
  while (window != null) {
    focusedComponent=myWindowManager.getFocusedComponent(window);
    if (focusedComponent != null) {
      break;
    }
    window=window.getOwner();
  }
  if (focusedComponent == null) {
    focusedComponent=activeWindow;
  }
  return focusedComponent;
}
