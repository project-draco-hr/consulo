{
  int currentEventCount=IdeEventQueue.getInstance().getEventCount();
  if (myEventCount != -1 && myEventCount != currentEventCount) {
    LOG.assertTrue(false,"cannot share data context between Swing events; initial event count = " + myEventCount + "; current event count = "+ currentEventCount);
  }
  Component _component=myRef.get();
  if (DataConstants.IS_MODAL_CONTEXT.equals(dataId)) {
    if (_component != null) {
      return IdeKeyEventDispatcher.isModalContext(_component) ? Boolean.TRUE : Boolean.FALSE;
    }
 else {
      return null;
    }
  }
 else   if (DataConstantsEx.CONTEXT_COMPONENT.equals(dataId)) {
    return _component;
  }
 else   if (DataConstantsEx.MODALITY_STATE.equals(dataId)) {
    return _component != null ? ModalityState.stateForComponent(_component) : ModalityState.NON_MMODAL;
  }
 else {
    return DataManagerImpl.this.getData(dataId,_component);
  }
}
