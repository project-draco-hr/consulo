{
  int low=0;
  int high=sortedHighlighters.size();
  int search=myDocument.getLineStartOffset(myDocument.getLineNumber(start)) - longestHighlighterLength - 1;
  if (search > 0) {
    while (low < high) {
      int mid=(low + high) / 2;
      while (mid > 0 && !sortedHighlighters.get(mid).isValid())       mid--;
      if (mid < low + 1)       break;
      RangeHighlighterImpl midHighlighter=sortedHighlighters.get(mid);
      if (midHighlighter.getStartOffset() < search) {
        low=mid + 1;
      }
 else {
        high=mid - 1;
      }
    }
  }
  for (int i=low == high ? low : 0; i < sortedHighlighters.size(); i++) {
    RangeHighlighterImpl rangeHighlighter=sortedHighlighters.get(i);
    if (!skipHighlighter(rangeHighlighter) && rangeHighlighter.getAffectedAreaEndOffset() >= start) {
      return i;
    }
  }
  return sortedHighlighters.size();
}
