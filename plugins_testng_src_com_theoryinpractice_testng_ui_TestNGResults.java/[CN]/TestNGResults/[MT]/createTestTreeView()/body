{
  tree=new TestNGTestTreeView();
  final TestTreeStructure structure=new TestTreeStructure(project,rootNode);
  tree.attachToModel(this);
  treeBuilder=new TestTreeBuilder(tree,structure);
  Disposer.register(this,treeBuilder);
  animator=new Animator(this,treeBuilder);
  openSourceListener=new OpenSourceSelectionListener();
  tree.getSelectionModel().addTreeSelectionListener(openSourceListener);
  TrackRunningTestUtil.installStopListeners(tree,this,new Pass<AbstractTestProxy>(){
    @Override public void pass(    AbstractTestProxy abstractTestProxy){
      myLastSelected=(TestProxy)abstractTestProxy;
    }
  }
);
  return tree;
}
