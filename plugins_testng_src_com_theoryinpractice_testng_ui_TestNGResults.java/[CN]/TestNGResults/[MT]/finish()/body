{
  if (end > 0)   return;
  end=System.currentTimeMillis();
  LvcsHelper.addLabel(this);
  SwingUtilities.invokeLater(new Runnable(){
    public void run(){
      animator.stopMovie();
      updateStatusLine();
      if (total > count) {
        myStatusLine.setStatusColor(ColorProgressBar.YELLOW);
      }
      rootNode.setInProgress(false);
      if (TestNGConsoleProperties.SELECT_FIRST_DEFECT.value(myProperties)) {
        selectTest(rootNode.getFirstDefect());
      }
 else {
        final DefaultMutableTreeNode node=treeBuilder.getNodeForElement(rootNode);
        if (node != null) {
          tree.getSelectionModel().setSelectionPath(new TreePath(node));
        }
      }
      tree.repaint();
    }
  }
);
}
