{
  if (start > 0) {
    end=System.currentTimeMillis();
  }
  LvcsHelper.addLabel(this);
  SwingUtilities.invokeLater(new Runnable(){
    public void run(){
      animator.stopMovie();
      updateStatusLine();
      if (total > count || myStatus == MessageHelper.SKIPPED_TEST) {
        myStatusLine.setStatusColor(ColorProgressBar.YELLOW);
      }
 else       if (myStatus == MessageHelper.FAILED_TEST) {
        myStatusLine.setStatusColor(ColorProgressBar.RED);
      }
 else {
        myStatusLine.setStatusColor(ColorProgressBar.GREEN);
      }
      rootNode.setInProgress(false);
      if (TestNGConsoleProperties.SELECT_FIRST_DEFECT.value(myProperties)) {
        selectTest(rootNode.getFirstDefect());
      }
 else {
        final DefaultMutableTreeNode node=treeBuilder.getNodeForElement(rootNode);
        if (node != null && myLastSelected == null) {
          tree.getSelectionModel().setSelectionPath(new TreePath(node));
        }
      }
      tree.repaint();
    }
  }
);
}
