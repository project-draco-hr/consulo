{
  TestProxy owner=treeBuilder.getRoot();
  final String packageName1=StringUtil.getPackageName(result.getTestClass());
  String packageName=packageName1.length() == 0 ? NO_PACKAGE : packageName1;
  owner=getChildNodeNamed(owner,packageName);
  if (owner.getPsiElement() == null) {
    owner.setPsiElement(JavaPsiFacade.getInstance(project).findPackage(packageName));
  }
  owner=getChildNodeNamed(owner,StringUtil.getShortName(result.getTestClass()));
  if (owner.getPsiElement() == null) {
    final TestProxy finalOwner=owner;
    ApplicationManager.getApplication().runReadAction(new Runnable(){
      public void run(){
        finalOwner.setPsiElement(ClassUtil.findPsiClass(PsiManager.getInstance(project),result.getTestClass()));
      }
    }
);
  }
  return owner;
}
