{
  this.project=project;
  model=new TestNGResultsTableModel();
  this.consoleProperties=console.getConsoleProperties();
  resultsTable=new TableView(model);
  rootNode=new TreeRootNode();
  final TestTreeStructure structure=new TestTreeStructure(project,rootNode);
  tree.attachToModel(project,structure.getRootElement(),console.getConsoleProperties());
  treeBuilder=new TestTreeBuilder(tree,structure);
  toolbarPanel.setLayout(new BorderLayout());
  toolbar=new ToolbarPanel(console.getConsoleProperties(),this);
  toolbarPanel.add(toolbar);
  animator=new Animator(treeBuilder);
  openSourceListener=new OpenSourceSelectionListener(structure,console);
  tree.getSelectionModel().addTreeSelectionListener(openSourceListener);
  progress.setColor(ColorProgressBar.GREEN);
  GuiUtils.replaceJSplitPaneWithIDEASplitter(splitPane);
  splitPane.setDividerLocation(200);
}
