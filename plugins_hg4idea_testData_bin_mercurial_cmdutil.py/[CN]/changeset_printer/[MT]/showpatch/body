def showpatch(self, node):
    if self.patch:
        prev = self.repo.changelog.parents(node)[0]
        chunks = patch.diff(self.repo, prev, node, match=self.patch, opts=patch.diffopts(self.ui, self.diffopts))
        for chunk in chunks:
            self.ui.write(chunk)
        self.ui.write('\n')
