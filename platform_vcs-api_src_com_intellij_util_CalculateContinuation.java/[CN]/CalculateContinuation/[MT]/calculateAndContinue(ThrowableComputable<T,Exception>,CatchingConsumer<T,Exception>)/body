{
  final Application application=ApplicationManager.getApplication();
  application.assertIsDispatchThread();
  final Ref<T> t=new Ref<T>();
  application.executeOnPooledThread(new Runnable(){
    public void run(){
      try {
        t.set(computable.compute());
      }
 catch (      final Exception e) {
        application.invokeLater(new Runnable(){
          public void run(){
            consumer.consume(e);
          }
        }
,ModalityState.NON_MODAL);
      }
      application.invokeLater(new Runnable(){
        public void run(){
          consumer.consume(t.get());
        }
      }
,ModalityState.NON_MODAL);
    }
  }
);
}
