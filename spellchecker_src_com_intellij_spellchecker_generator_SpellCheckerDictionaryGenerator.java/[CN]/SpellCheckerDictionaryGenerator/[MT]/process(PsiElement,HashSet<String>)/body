{
  final int endOffset=element.getTextRange().getEndOffset();
  final List<PsiElement> leafs=new ArrayList<PsiElement>();
  if (element.getChildren().length == 0) {
    leafs.add(element);
  }
 else {
    PsiElement currentLeaf=PsiTreeUtil.firstChild(element);
    while (currentLeaf != null && currentLeaf.getTextRange().getEndOffset() <= endOffset) {
      leafs.add(currentLeaf);
      currentLeaf=PsiTreeUtil.nextLeaf(currentLeaf);
    }
  }
  for (  PsiElement leaf : leafs) {
    processLeafsNames(leaf,seenNames);
  }
}
