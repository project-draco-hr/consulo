{
  myPanel=new JPanel(new GridBagLayout());
  Insets anInsets=new Insets(2,2,2,2);
  myModel=new DefaultListModel();
  myList=new JList(myModel);
  myList.getSelectionModel().addListSelectionListener(new ListSelectionListener(){
    public void valueChanged(    ListSelectionEvent e){
      updateButtons();
    }
  }
);
  myList.setCellRenderer(new MyCellRenderer());
  myRemoveButton=new JButton(ProjectBundle.message("button.remove"));
  myAddButton=new JButton(ProjectBundle.message("button.add"));
  mySpecifyUrlButton=new JButton(ProjectBundle.message("sdk.paths.specify.url.button"));
  mySpecifyUrlButton.setVisible(isShowUrlButton());
  myAddButton.addActionListener(new ActionListener(){
    public void actionPerformed(    ActionEvent e){
      final VirtualFile[] added=doAdd();
      if (added.length > 0) {
        setModified(true);
      }
      updateButtons();
      requestDefaultFocus();
      setSelectedRoots(added);
    }
  }
);
  myRemoveButton.addActionListener(new ActionListener(){
    public void actionPerformed(    ActionEvent e){
      java.util.List removedItems=ListUtil.removeSelectedItems(myList);
      itemsRemoved(removedItems);
    }
  }
);
  mySpecifyUrlButton.addActionListener(new ActionListener(){
    public void actionPerformed(    ActionEvent e){
      VirtualFile virtualFile=Util.showSpecifyJavadocUrlDialog(myPanel,getInitialValue());
      if (virtualFile != null) {
        addElement(virtualFile);
        setModified(true);
        updateButtons();
        requestDefaultFocus();
        setSelectedRoots(new Object[]{virtualFile});
      }
    }
  }
);
  JScrollPane scrollPane=ScrollPaneFactory.createScrollPane(myList);
  scrollPane.setPreferredSize(new Dimension(500,500));
  myPanel.add(scrollPane,new GridBagConstraints(0,0,1,8,1.0,1.0,GridBagConstraints.CENTER,GridBagConstraints.BOTH,anInsets,0,0));
  myPanel.add(myAddButton,new GridBagConstraints(1,0,1,1,0.0,0.0,GridBagConstraints.CENTER,GridBagConstraints.HORIZONTAL,anInsets,0,0));
  myPanel.add(myRemoveButton,new GridBagConstraints(1,1,1,1,0.0,0.0,GridBagConstraints.CENTER,GridBagConstraints.HORIZONTAL,anInsets,0,0));
  myPanel.add(mySpecifyUrlButton,new GridBagConstraints(1,4,1,1,0.0,0.0,GridBagConstraints.CENTER,GridBagConstraints.HORIZONTAL,anInsets,0,0));
  myPanel.add(Box.createRigidArea(new Dimension(mySpecifyUrlButton.getPreferredSize().width,4)),new GridBagConstraints(1,5,1,1,0.0,0.0,GridBagConstraints.CENTER,GridBagConstraints.NONE,anInsets,0,0));
  return myPanel;
}
