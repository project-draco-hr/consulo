{
  myExcludedFiles.remove(selectedFile);
  if (myProject == null) {
    return;
  }
  final ProjectFileIndex fileIndex=ProjectRootManager.getInstance(myProject).getFileIndex();
  if (!fileIndex.isIgnored(selectedFile)) {
    return;
  }
  final VirtualFile parent=selectedFile.getParent();
  if (parent != null && fileIndex.isIgnored(parent)) {
    return;
  }
  for (  final VirtualFile excludedFile : myExcludedFiles) {
    if (VfsUtil.isAncestor(excludedFile,selectedFile,true)) {
      return;
    }
  }
  myIncludedFiles.add(selectedFile);
}
