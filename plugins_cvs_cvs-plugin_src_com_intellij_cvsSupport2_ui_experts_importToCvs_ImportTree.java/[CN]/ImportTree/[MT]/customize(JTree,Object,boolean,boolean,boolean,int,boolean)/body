{
  if (!(value instanceof DefaultMutableTreeNode)) {
    return false;
  }
  final DefaultMutableTreeNode node=(DefaultMutableTreeNode)value;
  final Object userObject=node.getUserObject();
  if (!(userObject instanceof NodeDescriptor)) {
    return false;
  }
  final NodeDescriptor descriptor=(NodeDescriptor)userObject;
  final Object element=descriptor.getElement();
  if (!(element instanceof FileElement)) {
    return false;
  }
  final FileElement fileElement=(FileElement)element;
  if (!isExcluded(fileElement)) {
    return false;
  }
  if (expanded) {
    setIcon(IconLoader.getDisabledIcon(descriptor.getOpenIcon()));
  }
 else {
    setIcon(IconLoader.getDisabledIcon(descriptor.getClosedIcon()));
  }
  final String text=tree.convertValueToText(value,selected,expanded,leaf,row,hasFocus);
  append(text,new SimpleTextAttributes(SimpleTextAttributes.STYLE_STRIKEOUT,tree.getForeground()));
  return true;
}
