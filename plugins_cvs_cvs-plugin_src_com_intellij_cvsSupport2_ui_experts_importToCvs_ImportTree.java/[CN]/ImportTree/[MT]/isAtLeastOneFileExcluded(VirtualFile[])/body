{
  if (selectedFiles == null || selectedFiles.length == 0) {
    return false;
  }
  for (  VirtualFile selectedFile : selectedFiles) {
    if (myExcludedFiles.contains(selectedFile)) {
      return true;
    }
    if (myProject == null) {
      continue;
    }
    final ProjectFileIndex fileIndex=ProjectRootManager.getInstance(myProject).getFileIndex();
    if (!fileIndex.isIgnored(selectedFile)) {
      continue;
    }
    final VirtualFile parent=selectedFile.getParent();
    if (parent == null || fileIndex.isIgnored(parent) || myExcludedFiles.contains(parent)) {
      continue;
    }
    if (!myIncludedFiles.contains(selectedFile)) {
      return true;
    }
  }
  return false;
}
