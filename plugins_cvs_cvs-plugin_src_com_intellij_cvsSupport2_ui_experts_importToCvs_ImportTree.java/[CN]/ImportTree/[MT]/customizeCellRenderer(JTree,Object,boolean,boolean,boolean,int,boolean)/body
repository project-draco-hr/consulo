{
  if (value instanceof DefaultMutableTreeNode) {
    DefaultMutableTreeNode node=(DefaultMutableTreeNode)value;
    Object userObject=node.getUserObject();
    if (userObject instanceof NodeDescriptor) {
      NodeDescriptor descriptor=(NodeDescriptor)userObject;
      Object element=descriptor.getElement();
      if (element instanceof FileElement) {
        FileElement fileElement=(FileElement)element;
        if (isExcluded(fileElement)) {
          if (expanded) {
            setIcon(IconLoader.getDisabledIcon(descriptor.getOpenIcon()));
          }
 else {
            setIcon(IconLoader.getDisabledIcon(descriptor.getClosedIcon()));
          }
          String text=tree.convertValueToText(value,selected,expanded,leaf,row,hasFocus);
          append(text,new SimpleTextAttributes(SimpleTextAttributes.STYLE_STRIKEOUT,tree.getForeground()));
          return;
        }
      }
    }
  }
  super.customizeCellRenderer(tree,value,selected,expanded,leaf,row,hasFocus);
}
