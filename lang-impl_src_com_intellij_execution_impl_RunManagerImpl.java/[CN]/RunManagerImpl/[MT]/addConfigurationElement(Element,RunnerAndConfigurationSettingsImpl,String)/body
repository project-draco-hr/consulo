{
  final Element configurationElement=new Element(elementType);
  parentNode.addContent(configurationElement);
  template.writeExternal(configurationElement);
  if (!(template.getConfiguration() instanceof UnknownRunConfiguration)) {
    final Map<Key<? extends BeforeRunTask>,BeforeRunTask> tasks=getBeforeRunTasks(template.getConfiguration());
    final Element methodsElement=new Element(METHOD);
    for (    Key<? extends BeforeRunTask> providerName : tasks.keySet()) {
      final Element child=new Element(OPTION);
      child.setAttribute(NAME_ATTR,providerName.toString());
      final BeforeRunTask beforeRunTask=tasks.get(providerName);
      beforeRunTask.writeExternal(child);
      methodsElement.addContent(child);
    }
    configurationElement.addContent(methodsElement);
  }
}
