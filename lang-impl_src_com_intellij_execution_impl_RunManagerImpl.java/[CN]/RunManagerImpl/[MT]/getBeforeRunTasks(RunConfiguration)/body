{
  final Map<Key<? extends BeforeRunTask>,BeforeRunTask> tasks=myConfigurationToBeforeTasksMap.get(settings.getUniqueID());
  if (tasks != null) {
    final Map<Key<? extends BeforeRunTask>,BeforeRunTask> _tasks=new HashMap<Key<? extends BeforeRunTask>,BeforeRunTask>();
    for (    Map.Entry<Key<? extends BeforeRunTask>,BeforeRunTask> entry : tasks.entrySet()) {
      _tasks.put(entry.getKey(),entry.getValue().clone());
    }
    return _tasks;
  }
  final RunnerAndConfigurationSettingsImpl template=getConfigurationTemplate(settings.getFactory());
  final Map<Key<? extends BeforeRunTask>,BeforeRunTask> templateTasks=myConfigurationToBeforeTasksMap.get(template.getConfiguration().getUniqueID());
  if (templateTasks != null) {
    final Map<Key<? extends BeforeRunTask>,BeforeRunTask> _tasks=new HashMap<Key<? extends BeforeRunTask>,BeforeRunTask>();
    for (    Map.Entry<Key<? extends BeforeRunTask>,BeforeRunTask> entry : templateTasks.entrySet()) {
      _tasks.put(entry.getKey(),entry.getValue().clone());
    }
    return _tasks;
  }
  final Map<Key<? extends BeforeRunTask>,BeforeRunTask> _tasks=new HashMap<Key<? extends BeforeRunTask>,BeforeRunTask>();
  for (  BeforeRunTaskProvider<? extends BeforeRunTask> provider : Extensions.getExtensions(BeforeRunTaskProvider.EXTENSION_POINT_NAME,myProject)) {
    BeforeRunTask task=provider.createTask(settings);
    Key<? extends BeforeRunTask> providerID=provider.getId();
    _tasks.put(providerID,task);
    settings.getFactory().configureBeforeRunTaskDefaults(providerID,task);
  }
  return _tasks;
}
