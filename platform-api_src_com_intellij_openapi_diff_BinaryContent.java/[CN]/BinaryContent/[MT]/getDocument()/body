{
  if (myDocument == null) {
    if (isBinary())     return null;
    String text=null;
    try {
      if (CharsetSettings.SYSTEM_DEFAULT_CHARSET_NAME.equals(myCharset))       text=new String(myBytes);
 else       text=new String(myBytes,myCharset);
    }
 catch (    UnsupportedEncodingException e) {
    }
catch (    IllegalCharsetNameException e) {
    }
    if (text == null)     text=new String(myBytes);
    text=LineTokenizer.correctLineSeparators(text);
    myDocument=EditorFactory.getInstance().createDocument(text);
    myDocument.setReadOnly(true);
  }
  return myDocument;
}
