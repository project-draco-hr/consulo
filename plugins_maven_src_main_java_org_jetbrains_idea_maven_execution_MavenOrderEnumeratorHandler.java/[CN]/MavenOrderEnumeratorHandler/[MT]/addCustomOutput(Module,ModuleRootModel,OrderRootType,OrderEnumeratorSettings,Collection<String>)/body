{
  MavenProjectsManager manager=MavenProjectsManager.getInstance(forModule.getProject());
  MavenProject project=manager.findProject(forModule);
  if (project == null)   return false;
  Module depModule=orderEntryRootModel.getModule();
  MavenProject depProject=manager.findProject(depModule);
  if (depProject == null)   return false;
  for (  MavenArtifact each : project.findDependencies(depProject)) {
    if (!shouldAddArtifact(each,settings))     continue;
    boolean isTestJar=MavenConstants.TYPE_TEST_JAR.equals(each.getType()) || "tests".equals(each.getClassifier());
    addRoots(orderEntryRootModel,type,isTestJar,urls);
  }
  return true;
}
