{
  PsiElement qualifier=refExpression.getQualifier();
  if (qualifier != null && !PsiUtil.isThisOrSuperRef(refExpression)) {
    return qualifier instanceof GrReferenceExpression && ((GrReferenceExpression)qualifier).resolve() instanceof PsiClass;
  }
  if (PsiUtil.isSuperReference(refExpression))   return false;
  PsiElement run=refExpression;
  while (run != null && run != targetClass) {
    if (targetClass == null && run instanceof PsiClass)     return false;
    if (run instanceof PsiModifierListOwner && ((PsiModifierListOwner)run).hasModifierProperty(PsiModifier.STATIC))     return true;
    run=run.getParent();
  }
  return false;
}
