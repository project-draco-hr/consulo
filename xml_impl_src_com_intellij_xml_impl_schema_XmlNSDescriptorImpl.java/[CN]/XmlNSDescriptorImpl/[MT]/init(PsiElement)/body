{
  myFile=(XmlFile)element.getContainingFile();
  if (element instanceof XmlTag) {
    myTag=(XmlTag)element;
  }
 else {
    final XmlDocument document=myFile.getDocument();
    if (document != null) {
      myTag=document.getRootTag();
    }
  }
  if (myTag != null) {
    myTargetNamespace=myTag.getAttributeValue("targetNamespace");
  }
  final THashSet<PsiFile> dependenciesSet=new THashSet<PsiFile>();
  collectDependencies(myTag,myFile,dependenciesSet);
  dependencies=dependenciesSet.toArray(ArrayUtil.EMPTY_OBJECT_ARRAY);
}
