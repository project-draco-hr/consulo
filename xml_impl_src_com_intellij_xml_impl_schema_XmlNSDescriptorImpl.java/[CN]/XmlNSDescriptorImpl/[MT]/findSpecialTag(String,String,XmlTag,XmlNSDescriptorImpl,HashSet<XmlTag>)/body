{
  XmlNSDescriptorImpl nsDescriptor=getNSDescriptorToSearchIn(rootTag,name,descriptor);
  if (nsDescriptor != descriptor) {
    final XmlDocument document=nsDescriptor.getDescriptorFile() != null ? nsDescriptor.getDescriptorFile().getDocument() : null;
    if (document == null)     return null;
    return findSpecialTag(XmlUtil.findLocalNameByQualifiedName(name),specialName,document.getRootTag(),nsDescriptor,visited);
  }
  if (visited == null)   visited=new HashSet<XmlTag>(1);
 else   if (visited.contains(rootTag))   return null;
  visited.add(rootTag);
  XmlTag[] tags=rootTag.getSubTags();
  return findSpecialTagIn(tags,specialName,name,rootTag,descriptor,visited);
}
