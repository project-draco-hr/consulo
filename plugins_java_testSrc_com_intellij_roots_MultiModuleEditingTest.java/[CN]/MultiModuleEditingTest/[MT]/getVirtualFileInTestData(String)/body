{
  return ApplicationManager.getApplication().runWriteAction(new Computable<VirtualFile>(){
    @Override public VirtualFile compute(){
      final String path=TEST_PATH + File.separatorChar + getTestName(true)+ File.separatorChar+ relativeVfsPath.replace('/',File.separatorChar);
      final VirtualFile result=LocalFileSystem.getInstance().refreshAndFindFileByIoFile(new File(path));
      assertNotNull("File " + path + " doen\'t exist",result);
      return result;
    }
  }
);
}
