{
  AbstractVcs vcs=ProjectLevelVcsManager.getInstance(project).getVcsFor(file);
  if (vcs != null) {
    DiffProvider diffProvider=vcs.getDiffProvider();
    if (diffProvider != null) {
      return new VcsCurrentRevisionProxy(diffProvider,file,project,vcs.getKeyInstanceMethod());
    }
  }
  return null;
}
