{
  final FilePath file=getFile();
  final Pair<VcsRevisionNumber,String> pair;
  try {
    pair=ContentRevisionCache.getOrLoadCurrentAsString(myProject,file,myVcsKey,new Throwable2Computable<Pair<VcsRevisionNumber,byte[]>,VcsException,IOException>(){
      @Override public Pair<VcsRevisionNumber,byte[]> compute() throws VcsException, IOException {
        return loadContent();
      }
    }
);
  }
 catch (  IOException e) {
    throw new VcsException(e);
  }
  return new ContentRevision(){
    @Override public String getContent() throws VcsException {
      return pair.getSecond();
    }
    @NotNull @Override public FilePath getFile(){
      return file;
    }
    @NotNull @Override public VcsRevisionNumber getRevisionNumber(){
      return pair.getFirst();
    }
  }
;
}
