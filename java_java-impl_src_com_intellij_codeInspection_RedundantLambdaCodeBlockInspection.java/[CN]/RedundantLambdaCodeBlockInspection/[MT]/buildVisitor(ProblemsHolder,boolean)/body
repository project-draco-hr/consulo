{
  return new JavaElementVisitor(){
    @Override public void visitLambdaExpression(    PsiLambdaExpression expression){
      super.visitLambdaExpression(expression);
      final PsiElement body=expression.getBody();
      if (body instanceof PsiCodeBlock) {
        final PsiStatement[] statements=((PsiCodeBlock)body).getStatements();
        if (statements.length == 1 && statements[0] instanceof PsiReturnStatement) {
          final PsiReturnStatement returnStatement=(PsiReturnStatement)statements[0];
          final PsiExpression returnValue=returnStatement.getReturnValue();
          if (returnValue != null) {
            holder.registerProblem(returnStatement.getFirstChild(),"Lambda code block can be replaced with one line expression",ProblemHighlightType.LIKE_UNUSED_SYMBOL,new ReplaceWithExprFix());
          }
        }
      }
    }
  }
;
}
