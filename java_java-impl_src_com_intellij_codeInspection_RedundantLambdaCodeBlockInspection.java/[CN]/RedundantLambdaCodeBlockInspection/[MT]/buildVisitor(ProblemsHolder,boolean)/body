{
  return new JavaElementVisitor(){
    @Override public void visitLambdaExpression(    PsiLambdaExpression expression){
      super.visitLambdaExpression(expression);
      final PsiElement body=expression.getBody();
      if (body instanceof PsiCodeBlock) {
        PsiExpression psiExpression=getExpression((PsiCodeBlock)body);
        if (psiExpression != null) {
          final PsiElement errorElement;
          final PsiElement parent=psiExpression.getParent();
          if (parent instanceof PsiReturnStatement) {
            errorElement=parent.getFirstChild();
          }
 else {
            errorElement=body.getFirstChild();
          }
          holder.registerProblem(errorElement,"Lambda code block can be replaced with one line expression",ProblemHighlightType.LIKE_UNUSED_SYMBOL,new ReplaceWithExprFix());
        }
      }
    }
  }
;
}
