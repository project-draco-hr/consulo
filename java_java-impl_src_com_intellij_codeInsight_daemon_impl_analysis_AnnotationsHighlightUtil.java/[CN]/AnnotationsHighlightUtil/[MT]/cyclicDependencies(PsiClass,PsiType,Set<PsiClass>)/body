{
  final PsiClass resolvedClass=PsiUtil.resolveClassInType(type);
  if (resolvedClass != null && resolvedClass.isAnnotationType()) {
    if (aClass == resolvedClass) {
      return true;
    }
    if (!checked.add(resolvedClass) || !resolvedClass.getManager().isInProject(resolvedClass))     return false;
    final PsiMethod[] methods=resolvedClass.getMethods();
    for (    PsiMethod method : methods) {
      if (cyclicDependencies(aClass,method.getReturnType(),checked))       return true;
    }
  }
  return false;
}
