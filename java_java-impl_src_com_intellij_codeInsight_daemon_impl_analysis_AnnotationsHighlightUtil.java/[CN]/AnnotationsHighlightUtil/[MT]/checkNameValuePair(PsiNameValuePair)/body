{
  PsiReference ref=pair.getReference();
  if (ref == null)   return null;
  PsiMethod method=(PsiMethod)ref.resolve();
  if (method == null) {
    if (pair.getName() != null) {
      final String description=JavaErrorMessages.message("annotation.unknown.method",ref.getCanonicalText());
      final HighlightInfo highlightInfo=HighlightInfo.createHighlightInfo(HighlightInfoType.WRONG_REF,ref.getElement(),description);
      QuickFixAction.registerQuickFixAction(highlightInfo,new CreateAnnotationMethodFromUsageFix(pair));
      return highlightInfo;
    }
 else {
      String description=JavaErrorMessages.message("annotation.missing.method",ref.getCanonicalText());
      return HighlightInfo.createHighlightInfo(HighlightInfoType.ERROR,ref.getElement(),description);
    }
  }
 else {
    PsiType returnType=method.getReturnType();
    PsiAnnotationMemberValue value=pair.getValue();
    HighlightInfo info=checkMemberValueType(value,returnType);
    if (info != null)     return info;
    return checkDuplicateAttribute(pair);
  }
}
