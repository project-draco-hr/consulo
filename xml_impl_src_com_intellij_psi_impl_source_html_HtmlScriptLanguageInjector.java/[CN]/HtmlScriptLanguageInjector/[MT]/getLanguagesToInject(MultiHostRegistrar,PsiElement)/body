{
  if (!(host instanceof XmlText)) {
    return;
  }
  XmlTag scriptTag=((XmlText)host).getParentTag();
  if (!"script".equalsIgnoreCase(scriptTag.getLocalName())) {
    return;
  }
  String mimeType=scriptTag.getAttributeValue("type");
  Collection<Language> languages=Language.findInstancesByMimeType(mimeType);
  if (!languages.isEmpty()) {
    registrar.startInjecting(languages.iterator().next()).addPlace(null,null,(PsiLanguageInjectionHost)host,TextRange.create(0,host.getTextLength())).doneInjecting();
  }
}
