{
  if (repo == null) {
    resultHandler.consume(Collections.<HgFile,HgResolveStatusEnum>emptyMap());
  }
  final HgCommandExecutor executor=new HgCommandExecutor(myProject);
  executor.setSilent(true);
  executor.execute(repo,"resolve",Arrays.asList("--list"),new HgCommandResultHandler(){
    @Override public void process(    @Nullable HgCommandResult result){
      if (result == null) {
        resultHandler.consume(Collections.<HgFile,HgResolveStatusEnum>emptyMap());
      }
      final Map<HgFile,HgResolveStatusEnum> resolveStatus=handleResult(repo,result);
      resultHandler.consume(resolveStatus);
    }
  }
);
}
