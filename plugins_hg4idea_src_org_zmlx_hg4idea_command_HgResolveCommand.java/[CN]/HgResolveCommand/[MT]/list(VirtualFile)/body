{
  if (repo == null) {
    return Collections.emptyMap();
  }
  final HgCommandResult result=HgCommandExecutor.getInstance(myProject).execute(repo,"resolve",Arrays.asList("--list"));
  if (result == null) {
    return Collections.emptyMap();
  }
  final Map<HgFile,HgResolveStatusEnum> resolveStatus=new HashMap<HgFile,HgResolveStatusEnum>();
  for (  String line : result.getOutputLines()) {
    if (StringUtils.isBlank(line) || line.length() < ITEM_COUNT) {
      continue;
    }
    final HgResolveStatusEnum status=HgResolveStatusEnum.valueOf(line.charAt(0));
    if (status != null) {
      File ioFile=new File(repo.getPath(),line.substring(2));
      resolveStatus.put(new HgFile(repo,ioFile),status);
    }
  }
  return resolveStatus;
}
