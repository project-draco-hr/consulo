{
  myUpdateQueue.queue(new Update("Select"){
    public void run(){
      if (myProject.isDisposed())       return;
      PackageDependenciesNode node=myBuilder.findNode(file);
      if (node != null) {
        TreePath path=new TreePath(node.getPath());
        if (node instanceof FileNode && file.getViewProvider().getBaseLanguage() == StdLanguages.JAVA) {
          if (file instanceof PsiJavaFile) {
            PsiClass[] classes=((PsiJavaFile)file).getClasses();
            if (classes.length != 0 && classes[0] != null && classes[0].isValid()) {
              ClassNode classNode=new ClassNode(classes[0]);
              path=path.getParentPath().pathByAddingChild(classNode);
            }
          }
        }
        TreeUtil.selectPath(myTree,path);
        if (requestFocus) {
          myTree.requestFocus();
        }
      }
    }
  }
);
}
