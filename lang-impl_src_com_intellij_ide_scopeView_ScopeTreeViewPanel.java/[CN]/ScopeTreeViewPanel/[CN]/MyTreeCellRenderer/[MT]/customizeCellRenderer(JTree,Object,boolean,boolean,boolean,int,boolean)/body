{
  if (value instanceof PackageDependenciesNode) {
    PackageDependenciesNode node=(PackageDependenciesNode)value;
    if (expanded) {
      setIcon(node.getOpenIcon());
    }
 else {
      setIcon(node.getClosedIcon());
    }
    final SimpleTextAttributes regularAttributes=SimpleTextAttributes.REGULAR_ATTRIBUTES;
    TextAttributes textAttributes=regularAttributes.toTextAttributes();
    final String locationString;
    final PsiElement psiElement=node.getPsiElement();
    final boolean isCut=CopyPasteManager.getInstance().isCutElement(psiElement);
    final CoverageDataManager coverageDataManager=CoverageDataManager.getInstance(myProject);
    if (node instanceof DirectoryNode) {
      final DirectoryNode directoryNode=(DirectoryNode)node;
      if (!isCut) {
        append(directoryNode.getDirName(),regularAttributes);
      }
 else {
        textAttributes.setForegroundColor(CopyPasteManager.CUT_COLOR);
        append(directoryNode.getDirName(),SimpleTextAttributes.fromTextAttributes(textAttributes));
      }
      final String informationString=psiElement != null ? coverageDataManager.getDirCoverageInformationString((PsiDirectory)psiElement) : null;
      locationString=informationString != null ? informationString : directoryNode.getLocationString();
    }
 else {
      if (psiElement instanceof PsiDocCommentOwner && ((PsiDocCommentOwner)psiElement).isDeprecated()) {
        textAttributes=EditorColorsManager.getInstance().getGlobalScheme().getAttributes(CodeInsightColors.DEPRECATED_ATTRIBUTES).clone();
      }
      textAttributes.setForegroundColor(isCut ? CopyPasteManager.CUT_COLOR : node.getStatus().getColor());
      append(node.toString(),SimpleTextAttributes.fromTextAttributes(textAttributes));
      if (psiElement instanceof PsiClass) {
        locationString=coverageDataManager.getClassCoverageInformationString(((PsiClass)psiElement).getQualifiedName());
      }
 else {
        locationString=null;
      }
    }
    if (locationString != null) {
      append(" (" + locationString + ")",SimpleTextAttributes.GRAY_ATTRIBUTES);
    }
  }
}
