{
  HighlightInfo errorResult=null;
  if (aClass.hasModifierProperty(PsiModifier.ABSTRACT)) {
    String baseClassName=aClass.getName();
    String message=JavaErrorMessages.message("abstract.cannot.be.instantiated",baseClassName);
    PsiElement parent=highlightElement.getParent();
    if (parent instanceof PsiNewExpression) {
      errorResult=HighlightInfo.createHighlightInfo(HighlightInfoType.ERROR,parent,message);
    }
 else {
      errorResult=HighlightInfo.createHighlightInfo(HighlightInfoType.ERROR,highlightElement,message);
    }
    final PsiMethod anyAbstractMethod=ClassUtil.getAnyAbstractMethod(aClass);
    if (!aClass.isInterface() && anyAbstractMethod == null) {
      IntentionAction fix=QUICK_FIX_FACTORY.createModifierListFix(aClass,PsiModifier.ABSTRACT,false,false);
      QuickFixAction.registerQuickFixAction(errorResult,fix);
    }
    if (anyAbstractMethod != null && parent instanceof PsiNewExpression && ((PsiNewExpression)parent).getClassReference() != null) {
      QuickFixAction.registerQuickFixAction(errorResult,new ImplementAbstractClassMethodsFix(parent));
    }
  }
  return errorResult;
}
