{
  PsiClass aClass=(PsiClass)referenceList.getParent();
  boolean isImplements=referenceList.equals(aClass.getImplementsList());
  boolean isInterface=aClass.isInterface();
  if (isInterface && isImplements)   return null;
  boolean mustBeInterface=isImplements || isInterface;
  HighlightInfo errorResult=null;
  PsiClass extendFrom=(PsiClass)resolveResult.getElement();
  if (extendFrom.isInterface() != mustBeInterface) {
    errorResult=HighlightInfo.createHighlightInfo(HighlightInfoType.ERROR,context,mustBeInterface ? INTERFACE_EXPECTED : NO_INTERFACE_EXPECTED);
    PsiClassType type=JavaPsiFacade.getInstance(aClass.getProject()).getElementFactory().createType(extendFrom,resolveResult.getSubstitutor());
    QuickFixAction.registerQuickFixAction(errorResult,new ChangeExtendsToImplementsFix(aClass,type));
  }
  return errorResult;
}
