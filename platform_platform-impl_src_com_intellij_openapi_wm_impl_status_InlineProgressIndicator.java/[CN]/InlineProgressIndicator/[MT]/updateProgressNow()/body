{
  boolean indeterminate=isIndeterminate() || getFraction() == 0;
  if (indeterminate) {
    myProgress.setIndeterminate(true);
  }
 else {
    myProgress.setIndeterminate(false);
    myProgress.setMinimum(0);
    myProgress.setMaximum(100);
  }
  if (getFraction() > 0) {
    myProgress.setValue((int)(getFraction() * 99 + 1));
  }
  myText.setText(getText() != null ? getText() : "");
  myText2.setText(getText2() != null ? getText2() : "");
  if (myCompact && myText.getText().isEmpty()) {
    myText.setText(myInfo.getTitle());
  }
  myCancelButton.setPainting(isCancelable());
  final boolean isStopping=wasStarted() && (isCanceled() || !isRunning()) && !isFinished();
  if (isStopping) {
    if (myCompact) {
      myText.setText("Stopping - " + myText.getText());
    }
 else {
      myProcessName.setText("Stopping - " + myInfo.getTitle());
    }
    myText.setEnabled(false);
    myText2.setEnabled(false);
    myProgress.setEnabled(false);
    myCancelButton.setPainting(false);
  }
 else {
    myText.setEnabled(true);
    myText2.setEnabled(true);
    myProgress.setEnabled(true);
    myCancelButton.setPainting(true);
  }
}
