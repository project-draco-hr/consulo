{
  Document document=myEditor.getDocument();
  IncrementalCacheUpdateEvent newEvent=new IncrementalCacheUpdateEvent(document);
  if ((event.getExactOffsetsDiff() != 0 && foldRegion.getStartOffset() < event.getOldExactEndOffset() && foldRegion.getEndOffset() > event.getOldExactStartOffset()) || myContext.tokenStartOffset != foldRegion.getStartOffset()) {
    myEventsStorage.add(document,newEvent);
    return true;
  }
  if (foldRegion.getEndOffset() <= document.getTextLength()) {
    return false;
  }
  myEventsStorage.add(document,newEvent);
  return true;
}
