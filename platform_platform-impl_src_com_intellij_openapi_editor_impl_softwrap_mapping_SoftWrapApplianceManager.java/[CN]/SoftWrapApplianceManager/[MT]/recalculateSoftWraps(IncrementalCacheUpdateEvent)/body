{
  event.updateNewOffsetsIfNecessary(myEditor.getDocument());
  notifyListenersOnCacheUpdateStart(event);
  myStorage.removeInRange(event.getOldStartOffset(),event.getOldEndOffset());
  boolean normalCompletion=true;
  try {
    normalCompletion=doRecalculateSoftWraps(event);
  }
  finally {
    notifyListenersOnCacheUpdateEnd(event,normalCompletion);
  }
}
