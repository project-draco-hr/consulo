{
  initListenerIfNecessary();
  if (myVisibleAreaWidth <= 0 || myEventsStorage.getEvents().isEmpty()) {
    return;
  }
  List<IncrementalCacheUpdateEvent> events=new ArrayList<IncrementalCacheUpdateEvent>(myEventsStorage.getEvents());
  myActiveEvents.addAll(events);
  myEventsStorage.release();
  myInProgress=true;
  try {
    for (    IncrementalCacheUpdateEvent event : events) {
      recalculateSoftWraps(event);
    }
  }
  finally {
    myInProgress=false;
    myActiveEvents.clear();
  }
  updateLastTopLeftCornerOffset();
}
