{
  initListenerIfNecessary();
  if (myEventsStorage.getEvents().isEmpty()) {
    return true;
  }
  if (myVisibleAreaWidth <= 0) {
    return false;
  }
  List<IncrementalCacheUpdateEvent> events=new ArrayList<IncrementalCacheUpdateEvent>(myEventsStorage.getEvents());
  myActiveEvents.addAll(events);
  myEventsStorage.release();
  myInProgress=true;
  try {
    for (    IncrementalCacheUpdateEvent event : events) {
      recalculateSoftWraps(event);
    }
  }
  finally {
    myInProgress=false;
    myActiveEvents.clear();
  }
  updateLastTopLeftCornerOffset();
  return true;
}
