{
  if (myElementClass != pointer.myElementClass)   return false;
  if (myElement != null)   return pointer.myElement == myElement;
  if (myAnchor != null && pointer.myAnchor != null) {
    return myAnchor.pointsToTheSameElementAs(pointer.myAnchor);
  }
  if (myPointer != null && pointer.myPointer != null) {
    return SmartPointerManager.getInstance(myProject).pointToTheSameElement(myPointer,pointer.myPointer);
  }
  return Comparing.equal(getElement(),pointer.getElement());
}
