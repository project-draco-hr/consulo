{
  E element=myElement;
  if (element != null)   return element.isValid() ? element : null;
  SmartPsiElementPointer pointer=myPointer;
  if (pointer != null)   return (E)pointer.getElement();
  PsiAnchor anchor=myAnchor;
  if (anchor != null) {
    final PsiElement psiElement=anchor.retrieve();
    if (psiElement != null) {
      return ReflectionCache.isAssignable(myElementClass,psiElement.getClass()) ? (E)psiElement : null;
    }
  }
  return null;
}
