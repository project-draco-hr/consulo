{
  E element=myElement;
  if (element != null && element.isValid())   return element.getTextRange();
  SmartPsiElementPointer pointer=myPointer;
  if (pointer != null)   return pointer.getSegment();
  PsiAnchor anchor=myAnchor;
  if (anchor != null) {
    final PsiElement psiElement=anchor.retrieve();
    if (psiElement != null) {
      return psiElement.getTextRange();
    }
  }
  return null;
}
