{
  FacetEditor editor=myEditors.get(facet);
  if (editor == null) {
    final Facet underlyingFacet=facet.getUnderlyingFacet();
    final FacetEditorContext parentContext=underlyingFacet != null ? getOrCreateEditor(underlyingFacet).getContext() : null;
    editor=new FacetEditor(new ProjectConfigurableContext(facet,isNewFacet(facet),parentContext,myModuleStateProvider.fun(facet.getModule())),facet.getConfiguration());
    editor.getComponent();
    editor.reset();
    myEditors.put(facet,editor);
  }
  return editor;
}
