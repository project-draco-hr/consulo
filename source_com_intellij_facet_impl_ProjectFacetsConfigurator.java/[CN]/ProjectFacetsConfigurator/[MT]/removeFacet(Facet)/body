{
  FacetTreeModel treeModel=getTreeModel(facet.getModule());
  FacetInfo facetInfo=myFacet2Info.get(facet);
  if (facetInfo == null)   return;
  List<FacetInfo> children=treeModel.getChildren(facetInfo);
  for (  FacetInfo child : children) {
    Facet childInfo=myInfo2Facet.get(child);
    if (childInfo != null) {
      removeFacet(childInfo);
    }
  }
  treeModel.removeFacetInfo(facetInfo);
  getOrCreateModifiableModel(facet.getModule()).removeFacet(facet);
  myChangedFacets.remove(facet);
  if (myCreatedFacets.contains(facet)) {
    Disposer.dispose(facet);
  }
  final FacetEditor facetEditor=myEditors.remove(facet);
  if (facetEditor != null) {
    facetEditor.disposeUIResources();
  }
  myFacet2Info.remove(facet);
  myInfo2Facet.remove(facetInfo);
}
