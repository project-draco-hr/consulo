{
  if (FileBasedIndex.ourEnableTracingOfKeyHashToVirtualFileMapping) {
    GlobalSearchScope scope=includeNonProjectItems ? GlobalSearchScope.allScope(project) : GlobalSearchScope.projectScope(project);
    CommonProcessors.CollectProcessor<String> processor=new CommonProcessors.CollectProcessor<String>();
    processNames(processor,scope,IdFilter.getProjectIdFilter(project,includeNonProjectItems));
    return ArrayUtil.toStringArray(processor.getResults());
  }
  return PsiShortNamesCache.getInstance(project).getAllClassNames();
}
