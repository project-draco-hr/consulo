{
  if (expr instanceof PsiMethodCallExpression) {
    PsiMethodCallExpression callExpr=(PsiMethodCallExpression)expr;
    PsiReferenceExpression methodExpr=callExpr.getMethodExpression();
    String methodName=methodExpr.getReferenceName();
    MethodPattern pattern=myMethodPatternMap.findPattern(methodName,callExpr.getArgumentList().getExpressions().length);
    if (pattern != null && pattern.parameterIndex < 0) {
      PsiExpression qualifier=methodExpr.getQualifierExpression();
      if (qualifier != null) {
        PsiType[] types=guessContainerElementType(qualifier,null);
        for (int i=0; i < types.length; i++) {
          PsiType type=types[i];
          if (type instanceof PsiClassType) {
            if (((PsiClassType)type).resolve() instanceof PsiAnonymousClass)             continue;
          }
          set.add(type);
        }
      }
    }
  }
}
