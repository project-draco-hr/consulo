{
  if (parameter == null)   return null;
  PsiType type=parameter.getType();
  if (type instanceof PsiEllipsisType)   type=((PsiEllipsisType)type).toArrayType();
  final PsiClass psiClass=PsiUtil.resolveClassInType(type);
  if (psiClass instanceof PsiTypeParameter && parameter.getDeclarationScope() == ((PsiTypeParameter)psiClass).getOwner()) {
    final PsiReferenceList extendsList=psiClass.getExtendsList();
    LOG.assertTrue(extendsList != null);
    final PsiClassType[] types=extendsList.getReferencedTypes();
    if (types.length > 0)     return types;
    return new PsiType[]{PsiType.getJavaLangObject(parameter.getManager(),GlobalSearchScope.allScope(parameter.getProject()))};
  }
  return new PsiType[]{type};
}
