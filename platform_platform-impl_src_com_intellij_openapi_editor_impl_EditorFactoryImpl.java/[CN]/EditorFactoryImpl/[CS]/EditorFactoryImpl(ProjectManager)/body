{
  projectManager.addProjectManagerListener(new ProjectManagerAdapter(){
    @Override public void projectOpened(    final Project project){
      Disposer.register(project,new Disposable(){
        @Override public void dispose(){
          final Project[] openProjects=ProjectManager.getInstance().getOpenProjects();
          final boolean isLastProjectClosed=openProjects.length == 0;
          validateEditorsAreReleased(project,isLastProjectClosed);
        }
      }
);
    }
  }
);
}
