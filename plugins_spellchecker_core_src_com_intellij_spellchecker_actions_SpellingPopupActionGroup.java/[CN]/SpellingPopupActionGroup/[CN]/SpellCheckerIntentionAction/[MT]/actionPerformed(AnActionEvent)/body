{
  final PsiFile psiFile=e.getData(DataKeys.PSI_FILE);
  final Project project=e.getData(DataKeys.PROJECT);
  final Editor editor=e.getData(DataKeys.EDITOR);
  if (psiFile != null && project != null && editor != null) {
    ApplicationManager.getApplication().runWriteAction(new Runnable(){
      public void run(){
        CommandProcessor.getInstance().executeCommand(project,new Runnable(){
          public void run(){
            try {
              intention.invoke(project,editor,psiFile);
            }
 catch (            IncorrectOperationException ex) {
              LOGGER.error(ex);
            }
          }
        }
,e.getPresentation().getText(),e.getActionManager().getId(SpellCheckerIntentionAction.this));
      }
    }
);
  }
}
