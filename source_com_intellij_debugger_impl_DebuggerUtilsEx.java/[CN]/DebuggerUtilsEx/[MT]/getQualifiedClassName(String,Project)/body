{
  String name=jdiName;
  int startFrom=0;
  for (; ; ) {
    int separator=name.indexOf('$',startFrom);
    if (separator != -1) {
      String qualifiedName=name.substring(0,separator);
      PsiClass psiClass=PsiManager.getInstance(project).findClass(qualifiedName,GlobalSearchScope.allScope(project));
      if (psiClass != null) {
        int tail=separator + 1;
        while (tail < name.length() && Character.isDigit(name.charAt(tail)))         tail++;
        name=qualifiedName + "." + name.substring(tail);
      }
      startFrom=separator + 1;
    }
 else     break;
  }
  if (jdiName.equals(name)) {
    return jdiName.replace('$','.');
  }
  return name;
}
