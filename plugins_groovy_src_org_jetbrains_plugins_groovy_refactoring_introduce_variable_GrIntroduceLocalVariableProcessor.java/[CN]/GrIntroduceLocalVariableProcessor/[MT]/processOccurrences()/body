{
  List<PsiElement> result=ContainerUtil.newArrayList();
  GrReferenceExpression templateRef=GroovyPsiElementFactory.getInstance(myContext.getProject()).createReferenceExpressionFromText(mySettings.getName());
  for (  PsiElement occurrence : myOccurrences) {
    if (!(occurrence instanceof GrExpression)) {
      throw new IncorrectOperationException("Expression occurrence to be replaced is not instance of GroovyPsiElement");
    }
    boolean isOriginal=myExpression == occurrence;
    final GrExpression replaced=((GrExpression)occurrence).replaceWithExpression(templateRef,true);
    result.add(replaced);
  }
  return PsiUtilCore.toPsiElementArray(result);
}
