{
  final File ioDir=new File(convertToIOFile(parent),dir);
  final boolean succeed=auxCreateDirectory(parent,dir) || ioDir.mkdirs();
  auxNotifyCompleted(new ThrowableConsumer<LocalFileOperationsHandler,IOException>(){
    public void consume(    LocalFileOperationsHandler handler) throws IOException {
      handler.createDirectory(parent,dir);
    }
  }
);
  if (!succeed) {
    throw new IOException("Failed to create directory: " + ioDir.getPath());
  }
  return new FakeVirtualFile(parent,dir);
}
