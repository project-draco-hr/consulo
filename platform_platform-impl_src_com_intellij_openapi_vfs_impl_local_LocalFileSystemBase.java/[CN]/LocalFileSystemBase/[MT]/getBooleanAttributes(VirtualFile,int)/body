{
  int attributes=getBooleanAttributes(convertToIOFile(file));
  if (attributes != -1)   return attributes & flags;
  return ((flags & BA_EXISTS) != 0 && exists(file) ? BA_EXISTS : 0) | ((flags & BA_DIRECTORY) != 0 && isDirectory(file) ? BA_DIRECTORY : 0) | ((flags & BA_REGULAR) != 0 && !isSpecialFile(file) ? BA_REGULAR : 0)| ((flags & BA_HIDDEN) != 0 && convertToIOFile(file).isHidden() ? BA_HIDDEN : 0);
}
