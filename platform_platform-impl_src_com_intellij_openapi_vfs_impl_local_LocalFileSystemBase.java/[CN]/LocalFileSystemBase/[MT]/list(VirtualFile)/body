{
  if (file.getParent() == null) {
    final File[] roots=File.listRoots();
    if (roots.length == 1 && roots[0].getName().isEmpty()) {
      return roots[0].list();
    }
    if (file.getName().isEmpty()) {
      final String[] names=new String[roots.length];
      for (int i=0; i < names.length; i++) {
        String name=roots[i].getPath();
        if (name.endsWith(File.separator)) {
          name=name.substring(0,name.length() - File.separator.length());
        }
        names[i]=name;
      }
      return names;
    }
  }
  if (isInvalidSymLink(file)) {
    return ArrayUtil.EMPTY_STRING_ARRAY;
  }
  final File ioFile=convertToIOFile(file);
  final String[] names=ioFile.list();
  return names != null ? names : ArrayUtil.EMPTY_STRING_ARRAY;
}
