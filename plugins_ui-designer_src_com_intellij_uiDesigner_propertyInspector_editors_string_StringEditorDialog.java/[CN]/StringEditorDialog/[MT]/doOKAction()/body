{
  if (myForm.myRbResourceBundle.isSelected()) {
    final StringDescriptor descriptor=getDescriptor();
    if (descriptor != null && descriptor.getKey().length() > 0) {
      final String value=myForm.myTfRbValue.getText();
      final PropertiesFile propFile=getPropertiesFile(descriptor);
      if (propFile != null && propFile.findPropertyByKey(descriptor.getKey()) == null) {
        saveCreatedProperty(propFile,descriptor.getKey(),value,myEditor.getPsiFile());
      }
 else {
        final String newKeyName=saveModifiedPropertyValue(myEditor.getModule(),descriptor,myLocale,value,myEditor.getPsiFile());
        if (newKeyName != null) {
          myForm.myTfKey.setText(newKeyName);
        }
      }
    }
  }
  super.doOKAction();
}
