{
  PsiType collectionItemType=GenericsHighlightUtil.getCollectionItemType(type,aClass.getResolveScope());
  if (collectionItemType == null && InheritanceUtil.isInheritor(type,JavaFxCommonClassNames.JAVAFX_BEANS_PROPERTY)) {
    collectionItemType=getPropertyType(type,aClass.getProject());
  }
  if (collectionItemType != null && PsiPrimitiveType.getUnboxedType(collectionItemType) == null) {
    final PsiClass baseClass=PsiUtil.resolveClassInType(collectionItemType);
    if (baseClass != null) {
      final String qualifiedName=baseClass.getQualifiedName();
      if (qualifiedName != null && !Comparing.strEqual(qualifiedName,CommonClassNames.JAVA_LANG_STRING)) {
        if (!InheritanceUtil.isInheritor(aClass,qualifiedName)) {
          return unableToCoerceMessage(aClass,qualifiedName);
        }
      }
    }
  }
  return null;
}
