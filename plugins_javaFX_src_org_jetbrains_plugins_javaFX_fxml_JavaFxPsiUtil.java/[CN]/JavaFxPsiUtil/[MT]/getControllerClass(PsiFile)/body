{
  if (containingFile instanceof XmlFile) {
    final XmlTag rootTag=((XmlFile)containingFile).getRootTag();
    final Project project=containingFile.getProject();
    if (rootTag != null) {
      XmlAttribute attribute=rootTag.getAttribute(FxmlConstants.FX_CONTROLLER);
      if (attribute == null && FxmlConstants.FX_ROOT.equals(rootTag.getName())) {
        attribute=rootTag.getAttribute(FxmlConstants.TYPE);
      }
      if (attribute != null) {
        final String attributeValue=attribute.getValue();
        if (!StringUtil.isEmptyOrSpaces(attributeValue)) {
          return JavaPsiFacade.getInstance(project).findClass(attributeValue,containingFile.getResolveScope());
        }
      }
    }
    CachedValuesManager manager=CachedValuesManager.getManager(containingFile.getProject());
    return manager.getCachedValue(containingFile,INJECTED_CONTROLLER,new JavaFxControllerCachedValueProvider(containingFile.getProject(),containingFile),true);
  }
  return null;
}
