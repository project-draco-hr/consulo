{
  List<CompositePackagingElement<?>> result=new SmartList<CompositePackagingElement<?>>();
  PackagingElementPath path=this;
  while (path != EMPTY && path.myLastElement != ancestor) {
    if (path.myLastElement instanceof CompositePackagingElement<?>) {
      result.add((CompositePackagingElement)path.myLastElement);
    }
    path=path.myParentPath;
  }
  return result;
}
