{
  ThreadDescriptorImpl threadDescriptor=((ThreadDescriptorImpl)getNode().getDescriptor());
  ThreadReferenceProxyImpl threadProxy=threadDescriptor.getThreadReference();
  if (!threadProxy.isCollected() && getDebuggerContext().getDebugProcess().getSuspendManager().isSuspended(threadProxy)) {
    int status=threadProxy.status();
    if (!(status == ThreadReference.THREAD_STATUS_UNKNOWN) && !(status == ThreadReference.THREAD_STATUS_NOT_STARTED) && !(status == ThreadReference.THREAD_STATUS_ZOMBIE)) {
      try {
        for (        StackFrameProxyImpl stackFrame : threadProxy.frames()) {
          myChildren.add(myDescriptorManager.createNode(myDescriptorManager.getStackFrameDescriptor(threadDescriptor,stackFrame),getDebuggerContext().createEvaluationContext()));
        }
      }
 catch (      EvaluateException e) {
        myChildren.clear();
        myChildren.add(myDescriptorManager.createMessageNode(e.getMessage()));
        LOG.debug(e);
      }
    }
  }
  updateUI(true);
}
