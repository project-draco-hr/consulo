{
  LOG.assertTrue(!myDocumentListeners.contains(listener),listener);
  if (!(listener instanceof PrioritizedDocumentListener)) {
    myDocumentListeners.add(listener);
    return;
  }
  int i=Collections.binarySearch(myDocumentListeners,listener,PrioritizedDocumentListener.COMPARATOR);
  if (i < 0) {
    i=-i - 1;
  }
  if (i >= myDocumentListeners.size()) {
    myDocumentListeners.add(listener);
  }
 else {
    myDocumentListeners.add(i,listener);
  }
}
