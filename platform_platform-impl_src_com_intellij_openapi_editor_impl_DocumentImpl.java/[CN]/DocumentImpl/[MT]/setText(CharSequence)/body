{
  Runnable runnable=new Runnable(){
    public void run(){
      replaceString(0,getTextLength(),text,LocalTimeCounter.currentTime(),true);
    }
  }
;
  if ((CommandProcessor.getInstance()).isUndoTransparentActionInProgress()) {
    runnable.run();
  }
 else {
    CommandProcessor.getInstance().executeCommand(runnable,"file text set",DocCommandGroupId.noneGroupId(this));
  }
  clearLineModificationFlags();
}
