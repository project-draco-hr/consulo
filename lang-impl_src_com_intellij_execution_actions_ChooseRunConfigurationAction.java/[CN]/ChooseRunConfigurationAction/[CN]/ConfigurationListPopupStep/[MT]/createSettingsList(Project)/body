{
  final RunManagerEx manager=RunManagerEx.getInstanceEx(project);
  final List<ItemWrapper> result=new ArrayList<ItemWrapper>();
  result.add(new ItemWrapper(null){
    @Override public Icon getIcon(){
      return EDIT_ICON;
    }
    @Override public String getText(){
      return "Edit configurations...";
    }
    @Override public void perform(    @NotNull Project project,    @NotNull Executor executor,    @NotNull DataContext context){
      new EditConfigurationsDialog(project).show();
    }
  }
);
  final RunnerAndConfigurationSettingsImpl context=populateWithDynamicRunners(result,project,manager);
  final ConfigurationType[] factories=manager.getConfigurationFactories();
  for (  final ConfigurationType factory : factories) {
    final RunnerAndConfigurationSettingsImpl[] configurations=manager.getConfigurationSettings(factory);
    for (    final RunnerAndConfigurationSettingsImpl configuration : configurations) {
      if (configuration != context) {
        result.add(ItemWrapper.wrap(project,configuration));
      }
    }
  }
  return result.toArray(new ItemWrapper[result.size()]);
}
