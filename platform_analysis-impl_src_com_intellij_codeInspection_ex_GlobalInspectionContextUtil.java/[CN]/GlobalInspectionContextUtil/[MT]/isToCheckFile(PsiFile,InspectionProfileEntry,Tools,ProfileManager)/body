{
  if (tools != null && file != null) {
    for (    ScopeToolState state : tools.getTools()) {
      final NamedScope namedScope=state.getScope(file.getProject());
      if (namedScope == null || namedScope.getValue().contains(file,profileManager.getScopesManager())) {
        if (state.isEnabled()) {
          InspectionToolWrapper toolWrapper=state.getTool();
          if (toolWrapper.getTool() == tool)           return true;
        }
        return false;
      }
    }
  }
  return false;
}
