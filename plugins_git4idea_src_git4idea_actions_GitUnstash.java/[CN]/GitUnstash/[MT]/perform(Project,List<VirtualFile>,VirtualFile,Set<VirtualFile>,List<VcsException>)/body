{
  GitUnstashDialog d=new GitUnstashDialog(project,gitRoots,defaultRoot);
  d.show();
  if (!d.isOK()) {
    return;
  }
  affectedRoots.add(d.getGitRoot());
  GitSimpleHandler h=d.handler(false);
  try {
    h.setSilent(true);
    h.run();
    h.unsilence();
  }
 catch (  VcsException ex) {
    try {
      if (ex.getMessage().startsWith("fatal: Needed a single revision")) {
        h=d.handler(true);
        h.run();
      }
 else {
        h.unsilence();
        throw ex;
      }
    }
 catch (    VcsException ex2) {
      GitUIUtil.showOperationError(project,ex,h.printableCommandLine());
    }
  }
}
