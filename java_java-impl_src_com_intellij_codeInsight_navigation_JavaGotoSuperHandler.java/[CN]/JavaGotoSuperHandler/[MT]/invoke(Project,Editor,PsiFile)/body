{
  int offset=editor.getCaretModel().getOffset();
  PsiElement[] superElements=findSuperElements(file,offset);
  if (superElements == null || superElements.length == 0)   return;
  if (superElements.length == 1) {
    PsiElement superElement=superElements[0].getNavigationElement();
    final PsiFile containingFile=superElement.getContainingFile();
    if (containingFile == null)     return;
    final VirtualFile virtualFile=containingFile.getVirtualFile();
    if (virtualFile == null)     return;
    OpenFileDescriptor descriptor=new OpenFileDescriptor(project,virtualFile,superElement.getTextOffset());
    FileEditorManager.getInstance(project).openTextEditor(descriptor,true);
  }
 else {
    if (superElements[0] instanceof PsiMethod) {
      boolean showMethodNames=!PsiUtil.allMethodsHaveSameSignature((PsiMethod[])superElements);
      PsiElementListNavigator.openTargets(editor,(PsiMethod[])superElements,CodeInsightBundle.message("goto.super.method.chooser.title"),new MethodCellRenderer(showMethodNames));
    }
 else {
      NavigationUtil.getPsiElementPopup(superElements,CodeInsightBundle.message("goto.super.class.chooser.title")).showInBestPositionFor(editor);
    }
  }
}
