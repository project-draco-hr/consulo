{
  LOG.assertTrue(editor != null);
  myEditor=editor;
  myCbx.setEditable(true);
  final JComponent editorComponent=(JComponent)myCbx.getEditor().getEditorComponent();
  editorComponent.setBorder(null);
  myCbx.addActionListener(new ActionListener(){
    public void actionPerformed(    final ActionEvent e){
      fireValueCommited();
    }
  }
);
  new AnAction(){
    public void actionPerformed(    final AnActionEvent e){
      if (!myCbx.isPopupVisible()) {
        fireEditingCancelled();
        SwingUtilities.invokeLater(new Runnable(){
          public void run(){
            myEditor.getPropertyInspector().requestFocus();
          }
        }
);
      }
    }
  }
.registerCustomShortcutSet(CommonShortcuts.ESCAPE,myCbx);
}
