{
  String prefix=myNameSuggestionsField.getEnteredName();
  Set<LookupElement> set=new LinkedHashSet<LookupElement>();
  final PsiReference reference=myTag.getReference();
  if (reference != null) {
    final Object[] variants=reference.getVariants();
    for (    Object variant : variants) {
      set.add(new SimpleLookupItem(variant));
    }
    LookupElement[] lookupItems=set.toArray(new LookupElement[set.size()]);
    editor.getCaretModel().moveToOffset(prefix.length());
    editor.getSelectionModel().removeSelection();
    LookupManager.getInstance(getProject()).showLookup(editor,lookupItems,prefix);
  }
}
