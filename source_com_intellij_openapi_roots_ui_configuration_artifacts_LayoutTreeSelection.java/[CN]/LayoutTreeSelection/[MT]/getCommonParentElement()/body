{
  PackagingElementNode<?> parentNode=null;
  for (  PackagingElementNode<?> selectedNode : mySelectedNodes) {
    final PackagingElementNode<?> node=getParentNode(selectedNode);
    if (node == null || parentNode != null && parentNode != node) {
      return null;
    }
    parentNode=node;
  }
  if (parentNode == null) {
    return null;
  }
  final PackagingElement<?> element=parentNode.getElementIfSingle();
  return element instanceof CompositePackagingElement ? (CompositePackagingElement<?>)element : null;
}
