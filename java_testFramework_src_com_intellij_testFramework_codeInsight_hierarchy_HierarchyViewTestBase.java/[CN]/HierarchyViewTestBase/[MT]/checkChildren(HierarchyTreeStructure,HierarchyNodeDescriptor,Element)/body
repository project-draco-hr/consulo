{
  final Object[] children=treeStructure.getChildElements(descriptor);
  final List<Element> expectedChildren=new ArrayList<Element>(element.getChildren());
  assertEquals("Children of " + descriptor.getHighlightedText().getText(),expectedChildren.size(),children.length);
  Arrays.sort(children,new Comparator<Object>(){
    public int compare(    final Object first,    final Object second){
      return ((HierarchyNodeDescriptor)first).getHighlightedText().getText().compareTo(((HierarchyNodeDescriptor)second).getHighlightedText().getText());
    }
  }
);
  Collections.sort(expectedChildren,new Comparator<Element>(){
    public int compare(    final Element first,    final Element second){
      return first.getAttributeValue("text").compareTo(second.getAttributeValue("text"));
    }
  }
);
  final Iterator<Element> iterator=expectedChildren.iterator();
  for (  Object child : children) {
    checkNodeDescriptorRecursively(treeStructure,((HierarchyNodeDescriptor)child),iterator.next());
  }
}
