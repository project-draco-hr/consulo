{
  Dimension size=myList.getPreferredSize();
  int cellHeight=myList.getCellRenderer().getListCellRendererComponent(myList,myList.getModel().getElementAt(0),0,false,false).getPreferredSize().height;
  int height=Math.min(size.height,Math.min(myList.getModel().getSize(),12) * cellHeight);
  myCurrentPopup.setSize(new Dimension(size.width + 28,height + 12));
}
