{
  disposeNonTextEditor();
  final PsiElement elt=myElements[myIndex];
  Project project=elt.getProject();
  PsiFile psiFile=getContainingFile(elt);
  final VirtualFile vFile=psiFile.getVirtualFile();
  if (vFile == null)   return;
  final FileEditorProvider[] providers=FileEditorProviderManager.getInstance().getProviders(project,vFile);
  for (  FileEditorProvider provider : providers) {
    if (provider instanceof TextEditorProvider) {
      updateTextElement(elt);
      myBinarySwitch.show(myViewingPanel,TEXT_PAGE_KEY);
      break;
    }
 else     if (provider.accept(project,vFile)) {
      myCurrentNonTextEditorProvider=provider;
      myNonTextEditor=myCurrentNonTextEditorProvider.createEditor(project,vFile);
      myBinaryPanel.removeAll();
      myBinaryPanel.add(myNonTextEditor.getComponent());
      myBinarySwitch.show(myViewingPanel,BINARY_PAGE_KEY);
      break;
    }
  }
}
