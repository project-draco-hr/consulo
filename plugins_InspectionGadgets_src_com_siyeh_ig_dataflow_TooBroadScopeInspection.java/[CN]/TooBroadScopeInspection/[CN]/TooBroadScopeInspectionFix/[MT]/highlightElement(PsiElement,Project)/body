{
  final Application application=ApplicationManager.getApplication();
  application.invokeLater(new Runnable(){
    public void run(){
      final FileEditorManager editorManager=FileEditorManager.getInstance(project);
      final HighlightManager highlightManager=HighlightManager.getInstance(project);
      final EditorColorsManager editorColorsManager=EditorColorsManager.getInstance();
      final Editor editor=editorManager.getSelectedTextEditor();
      if (editor == null) {
        return;
      }
      final EditorColorsScheme globalScheme=editorColorsManager.getGlobalScheme();
      final TextAttributes textattributes=globalScheme.getAttributes(EditorColors.SEARCH_RESULT_ATTRIBUTES);
      final PsiElement[] elements=new PsiElement[]{element};
      highlightManager.addOccurrenceHighlights(editor,elements,textattributes,true,null);
      final WindowManager windowManager=WindowManager.getInstance();
      final StatusBar statusBar=windowManager.getStatusBar(project);
      statusBar.setInfo(InspectionGadgetsBundle.message("too.broad.scope.status.bar.remove.highlighting.message"));
      final FindManager findmanager=FindManager.getInstance(project);
      FindModel findmodel=findmanager.getFindNextModel();
      if (findmodel == null) {
        findmodel=findmanager.getFindInFileModel();
      }
      findmodel.setSearchHighlighters(true);
      findmanager.setFindWasPerformed();
      findmanager.setFindNextModel(findmodel);
    }
  }
);
}
