{
  final PsiManager manager=variable.getManager();
  final PsiElementFactory factory=manager.getElementFactory();
  final PsiDeclarationStatement newDeclaration=factory.createVariableDeclarationStatement(variable.getName(),variable.getType(),initializer);
  final PsiLocalVariable newVariable=(PsiLocalVariable)newDeclaration.getDeclaredElements()[0];
  final PsiModifierList newModifierList=newVariable.getModifierList();
  final PsiModifierList modifierList=variable.getModifierList();
  newModifierList.setModifierProperty(PsiModifier.FINAL,variable.hasModifierProperty(PsiModifier.FINAL));
  final PsiAnnotation[] annotations=modifierList.getAnnotations();
  for (  PsiAnnotation annotation : annotations) {
    newModifierList.add(annotation);
  }
  return newDeclaration;
}
