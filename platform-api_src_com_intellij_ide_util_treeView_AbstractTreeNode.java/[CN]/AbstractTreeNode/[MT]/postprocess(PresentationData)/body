{
  if (hasProblemFileBeneath()) {
    presentation.setAttributesKey(CodeInsightColors.ERRORS_ATTRIBUTES);
  }
  Color fgColor=getFileStatus().getColor();
  if (valueIsCut()) {
    fgColor=CopyPasteManager.CUT_COLOR;
  }
  if (presentation.getForcedTextForeground() == null) {
    presentation.setForcedTextForeground(fgColor);
  }
  if (hasProblemFileBeneath()) {
    presentation.setAttributesKey(CodeInsightColors.ERRORS_ATTRIBUTES);
  }
}
