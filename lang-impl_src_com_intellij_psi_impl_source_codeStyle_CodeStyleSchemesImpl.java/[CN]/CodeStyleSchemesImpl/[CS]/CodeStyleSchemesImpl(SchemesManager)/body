{
  mySchemesManager=schemesManager;
  myReaderWriter=new SchemeReaderWriter<CodeStyleScheme>(){
    public CodeStyleScheme readScheme(    final Document schemeContent,    final File file) throws IOException, JDOMException, InvalidDataException {
      return CodeStyleSchemeImpl.readScheme(schemeContent);
    }
    public Document writeScheme(    final CodeStyleScheme scheme) throws WriteExternalException {
      return ((CodeStyleSchemeImpl)scheme).saveToDocument();
    }
    public void showReadErrorMessage(    final Exception e,    final String schemeName,    final String filePath){
      Messages.showErrorDialog(PsiBundle.message("codestyle.cannot.read.scheme.file.message",filePath),PsiBundle.message("codestyle.cannot.read.scheme.file.title"));
    }
    public void showWriteErrorMessage(    final Exception e,    final String schemeName,    final String filePath){
      Messages.showErrorDialog(PsiBundle.message("codestyle.cannot.save.scheme.file",filePath,e.getLocalizedMessage()),CommonBundle.getErrorTitle());
    }
    public boolean shouldBeSaved(    final CodeStyleScheme scheme){
      return !scheme.isDefault();
    }
  }
;
}
