{
  final Language language=getLanguage();
  if (language.equals(StdLanguages.JAVA)) {
    LanguageLevel javaLanguageLevel;
    final PsiElement context=getContext();
    javaLanguageLevel=context != null ? PsiUtil.getLanguageLevel(context) : getManager().getEffectiveLanguageLevel();
    return new JavaLexer(javaLanguageLevel);
  }
  final ParserDefinition parserDefinition=LanguageParserDefinitions.INSTANCE.forLanguage(language);
  return parserDefinition.createLexer(getManager().getProject());
}
