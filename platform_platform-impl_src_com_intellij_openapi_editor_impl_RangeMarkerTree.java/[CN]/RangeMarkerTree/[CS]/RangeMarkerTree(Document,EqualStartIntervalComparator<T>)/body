{
  super(comparator);
  myDocument=document;
  myListener=new PrioritizedDocumentListener(){
    public int getPriority(){
      return EditorDocumentPriorities.RANGE_MARKER;
    }
    public void beforeDocumentChange(    DocumentEvent event){
    }
    public void documentChanged(    DocumentEvent e){
      updateMarkersOnChange(e);
    }
  }
;
  document.addDocumentListener(myListener);
}
