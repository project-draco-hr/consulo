{
  final Project project=member.getProject();
  final InternalUsageInfo[] classRefsInMember=MakeStaticUtil.findClassRefsInMember(member,false);
  AbstractMakeStaticDialog dialog;
  if (!ApplicationManager.getApplication().isUnitTestMode()) {
    if (classRefsInMember.length > 0) {
      final PsiType type=JavaPsiFacade.getInstance(project).getElementFactory().createType(member.getContainingClass());
      String[] nameSuggestions=JavaCodeStyleManager.getInstance(project).suggestVariableName(VariableKind.PARAMETER,null,null,type).names;
      dialog=new MakeParameterizedStaticDialog(project,member,nameSuggestions,classRefsInMember);
    }
 else {
      dialog=new SimpleMakeStaticDialog(project,member);
    }
    dialog.show();
  }
}
