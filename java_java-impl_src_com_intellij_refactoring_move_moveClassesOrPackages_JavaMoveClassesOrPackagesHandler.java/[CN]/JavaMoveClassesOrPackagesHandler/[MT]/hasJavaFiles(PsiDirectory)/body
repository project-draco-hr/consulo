{
  final boolean[] containsJava=new boolean[]{false};
  directory.accept(new JavaRecursiveElementWalkingVisitor(){
    @Override public void visitElement(    PsiElement element){
      if (containsJava[0])       return;
      if (element instanceof PsiDirectory) {
        super.visitElement(element);
      }
    }
    @Override public void visitFile(    PsiFile file){
      containsJava[0]=file instanceof PsiJavaFile;
    }
  }
);
  return containsJava[0];
}
