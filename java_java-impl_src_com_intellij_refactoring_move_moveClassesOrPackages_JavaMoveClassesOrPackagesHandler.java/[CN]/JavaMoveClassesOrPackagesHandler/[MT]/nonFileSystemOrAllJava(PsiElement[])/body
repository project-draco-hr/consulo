{
  boolean allJava=true;
  for (  PsiElement element : srcElements) {
    if (element instanceof PsiDirectory) {
      allJava&=hasPackages((PsiDirectory)element);
      if (allJava) {
        allJava=hasJavaFiles((PsiDirectory)element);
      }
    }
 else     if (element instanceof PsiFile) {
      allJava&=element instanceof PsiJavaFile && !JspPsiUtil.isInJspFile(element) && ((PsiJavaFile)element).getClasses().length > 0 && !CollectHighlightsUtil.isOutsideSourceRootJavaFile((PsiJavaFile)element);
    }
 else {
      return true;
    }
  }
  return allJava;
}
