{
  Processor<ComponentItem> processor=new Processor<ComponentItem>(){
    public boolean process(    final ComponentItem selectedValue){
      for (      RadComponent c : selection) {
        if (!morphComponent(editor,c,selectedValue))         break;
      }
      editor.refreshAndSave(true);
      return true;
    }
  }
;
  PaletteListPopupStep step=new PaletteListPopupStep(editor,myLastMorphComponent,processor,UIDesignerBundle.message("morph.component.title"));
  step.hideNonAtomic();
  if (selection.size() == 1) {
    step.hideComponentClass(selection.get(0).getComponentClassName());
  }
  final ListPopup listPopup=JBPopupFactory.getInstance().createWizardStep(step);
  listPopup.showUnderneathOf(selection.get(0).getDelegee());
}
