{
  myModificationCounter++;
  if (myConcatenationInjectors.isEmpty()) {
    MultiHostInjector prev=myRegisteredConcatenationAdapter.getAndSet(null);
    if (prev != null) {
      myInjectedLanguageManager.unregisterMultiHostInjector(prev);
    }
  }
 else {
    MultiHostInjector adapter=new Concatenation2InjectorAdapter();
    if (myRegisteredConcatenationAdapter.compareAndSet(null,adapter)) {
      myInjectedLanguageManager.registerMultiHostInjector(adapter);
    }
  }
}
