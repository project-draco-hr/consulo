{
  FrameworkSupportNode node=nodes.get(provider.getId());
  if (node == null) {
    String underlyingFrameworkId=provider.getUnderlyingFrameworkId();
    FrameworkSupportNode parentNode=null;
    if (underlyingFrameworkId != null) {
      FrameworkSupportProvider parentProvider=findProvider(underlyingFrameworkId);
      if (parentProvider == null) {
        LOG.info("Cannot find id = " + underlyingFrameworkId);
        return null;
      }
      parentNode=createNode(parentProvider,nodes,groups);
    }
    node=new FrameworkSupportNode(provider,parentNode,myModel,myBaseDirForLibrariesGetter);
    nodes.put(provider.getId(),node);
    groups.put(provider.getGroupId(),node);
  }
  return node;
}
