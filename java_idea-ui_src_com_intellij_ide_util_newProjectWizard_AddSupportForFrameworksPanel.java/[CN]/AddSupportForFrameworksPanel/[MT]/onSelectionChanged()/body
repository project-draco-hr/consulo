{
  if (!myFrameworksTree.isProcessingMouseEventOnCheckbox()) {
    updateOptionsPanel();
  }
  final FrameworkSupportNode selectedNode=getSelectedNode();
  if (!Comparing.equal(selectedNode,myLastSelectedNode)) {
    applyLibraryOptionsForSelected();
    myLastSelectedNode=selectedNode;
    if (selectedNode != null) {
      final LibraryCompositionOptionsPanel newOptionsPanel=selectedNode.getLibraryCompositionOptionsPanel(myLibrariesContainer,myMirrorsMap);
      if (newOptionsPanel != null) {
        newOptionsPanel.updateRepositoriesMirrors(myMirrorsMap);
      }
    }
  }
}
