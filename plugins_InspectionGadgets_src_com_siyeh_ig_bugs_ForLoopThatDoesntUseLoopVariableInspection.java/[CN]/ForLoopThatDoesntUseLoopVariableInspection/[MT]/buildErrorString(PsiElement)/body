{
  final List<String> compenentsMissing=new ArrayList<String>(3);
  final PsiJavaToken forToken=(PsiJavaToken)location;
  final PsiForStatement forStatement=(PsiForStatement)forToken.getParent();
  if (!conditionUsesInitializer(forStatement)) {
    compenentsMissing.add("condition");
  }
  if (!updateUsesInitializer(forStatement)) {
    compenentsMissing.add("update");
  }
  final String missingComponents;
  final String doString;
  if (compenentsMissing.size() == 1) {
    missingComponents=compenentsMissing.get(0);
    doString="does";
  }
 else {
    missingComponents=compenentsMissing.get(0) + " and " + compenentsMissing.get(1);
    doString="do";
  }
  return "#ref statement has " + missingComponents + " which "+ doString+ " not use the for loop variable #loc";
}
