{
  final Editor editor=context.getEditor();
  final Document document=editor.getDocument();
  final PsiFile file=context.getFile();
  final int offset=editor.getCaretModel().getOffset();
  final PsiMethod method=item.getObject();
  insertParentheses(context,item);
  insertExplicitTypeParams(item,document,offset,file);
  final PsiType type=method.getReturnType();
  if (context.getCompletionChar() == '!' && type != null && PsiType.BOOLEAN.isAssignableFrom(type)) {
    PsiDocumentManager.getInstance(method.getProject()).commitDocument(document);
    final PsiMethodCallExpression methodCall=PsiTreeUtil.findElementOfClassAtOffset(file,offset,PsiMethodCallExpression.class,false);
    if (methodCall != null) {
      FeatureUsageTracker.getInstance().triggerFeatureUsed(CodeCompletionFeatures.EXCLAMATION_FINISH);
      document.insertString(methodCall.getTextRange().getStartOffset(),"!");
    }
  }
}
