{
  final DataManagerImpl dataManager=(DataManagerImpl)DataManager.getInstance();
  final Component focusedComponent=WindowManagerEx.getInstanceEx().getFocusedComponent(myProject);
  if (focusedComponent == null || focusedComponent == this || isAncestorOf(focusedComponent) || (myNodePopup != null && myNodePopup.isVisible())) {
    immediateUpdateList(false);
  }
 else {
    final DataContext dataContext=dataManager.getDataContextTest(this);
    immediateUpdateList(myModel.updateModel(dataContext));
  }
}
