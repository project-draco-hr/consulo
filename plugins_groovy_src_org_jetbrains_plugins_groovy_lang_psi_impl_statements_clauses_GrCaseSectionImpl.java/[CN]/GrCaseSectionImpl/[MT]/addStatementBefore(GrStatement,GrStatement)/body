{
  if (anchor != null && !this.equals(anchor.getParent())) {
    throw new IncorrectOperationException();
  }
  ASTNode elemNode=element.getNode();
  final ASTNode anchorNode=anchor != null ? anchor.getNode() : getLastChild().getNode();
  getNode().addChild(elemNode,anchorNode);
  if (mayUseNewLinesAsSeparators()) {
    getNode().addLeaf(GroovyTokenTypes.mNLS,"\n",anchorNode);
  }
 else {
    getNode().addLeaf(GroovyTokenTypes.mSEMI,";",anchorNode);
  }
  return (GrStatement)elemNode.getPsi();
}
