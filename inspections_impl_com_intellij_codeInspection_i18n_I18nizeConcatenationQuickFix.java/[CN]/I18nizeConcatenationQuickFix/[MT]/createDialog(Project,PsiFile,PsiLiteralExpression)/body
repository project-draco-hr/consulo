{
  PsiBinaryExpression concatenation=ConcatenationToMessageFormatAction.getEnclosingLiteralConcatenation(literalExpression);
  StringBuffer formatString=new StringBuffer();
  final List<PsiExpression> args=new ArrayList<PsiExpression>();
  try {
    ArrayList<PsiExpression> argsToCombine=new ArrayList<PsiExpression>();
    ConcatenationToMessageFormatAction.calculateFormatAndArguments(concatenation,formatString,args,argsToCombine,false);
  }
 catch (  IncorrectOperationException e) {
    LOG.error(e);
  }
  String value=ConcatenationToMessageFormatAction.prepareString(formatString.toString());
  return new I18nizeQuickFixDialog(project,context,literalExpression,value,true,true){
    protected String getTemplateName(){
      return FileTemplateManager.TEMPLATE_I18NIZED_CONCATENATION;
    }
    protected void addAdditionalAttributes(    final Map<String,String> attributes){
      attributes.put(PARAMETERS_OPTION_KEY,composeParametersText(args));
    }
  }
;
}
