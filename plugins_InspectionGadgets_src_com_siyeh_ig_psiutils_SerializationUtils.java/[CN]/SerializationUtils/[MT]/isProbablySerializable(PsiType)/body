{
  if (type instanceof PsiWildcardType) {
    return true;
  }
  if (type instanceof PsiPrimitiveType) {
    return true;
  }
  if (type instanceof PsiArrayType) {
    final PsiType componentType=((PsiArrayType)type).getComponentType();
    return isProbablySerializable(componentType);
  }
  if (type instanceof PsiClassType) {
    final PsiClassType classTYpe=(PsiClassType)type;
    final PsiClass psiClass=classTYpe.resolve();
    if (isSerializable(psiClass)) {
      return true;
    }
    if (isExternalizable(psiClass)) {
      return true;
    }
    if (ClassUtils.isSubclass(psiClass,"java.util.Collection") || ClassUtils.isSubclass(psiClass,"java.util.Map")) {
      final PsiType[] parameters=classTYpe.getParameters();
      for (      PsiType parameter : parameters) {
        if (!isProbablySerializable(parameter)) {
          return false;
        }
      }
      return true;
    }
    return false;
  }
  return false;
}
