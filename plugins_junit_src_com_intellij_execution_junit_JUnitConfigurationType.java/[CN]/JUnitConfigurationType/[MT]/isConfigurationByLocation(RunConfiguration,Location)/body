{
  final JUnitConfiguration unitConfiguration=(JUnitConfiguration)configuration;
  final TestObject testobject=unitConfiguration.getTestObject();
  if (testobject == null) {
    return false;
  }
 else {
    final PsiElement element=location.getPsiElement();
    if (testobject.isConfiguredByElement(unitConfiguration,element)) {
      final Module configurationModule=unitConfiguration.getConfigurationModule().getModule();
      if (Comparing.equal(location.getModule(),configurationModule))       return true;
      final Module predefinedModule=((JUnitConfiguration)((RunManagerImpl)RunManagerEx.getInstanceEx(location.getProject())).getConfigurationTemplate(myFactory).getConfiguration()).getConfigurationModule().getModule();
      return Comparing.equal(predefinedModule,configurationModule);
    }
 else {
      return false;
    }
  }
}
