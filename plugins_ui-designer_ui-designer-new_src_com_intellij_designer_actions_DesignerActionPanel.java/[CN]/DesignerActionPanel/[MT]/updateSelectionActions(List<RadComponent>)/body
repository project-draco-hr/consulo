{
  boolean update=myDynamicGroup.getChildrenCount() > 0;
  for (  AnAction action : myDynamicGroup.getChildActionsOrStubs()) {
    action.unregisterCustomShortcutSet(myShortcuts);
  }
  myDynamicGroup.removeAll();
  Set<RadComponent> parents=new HashSet<RadComponent>();
  for (  RadComponent component : selection) {
    RadComponent parent=component.getParent();
    if (parent != null) {
      parents.add(parent);
    }
  }
  for (  RadComponent parent : parents) {
    parent.getLayout().addSelectionActions(myDynamicGroup,myShortcuts,selection);
  }
  for (  RadComponent component : selection) {
    component.addSelectionActions(myDynamicGroup,myShortcuts,selection);
  }
  update|=myDynamicGroup.getChildrenCount() > 0;
  if (update) {
    update();
  }
}
