{
  myProvider=provider;
  myInitialEvent=e;
  KeyboardFocusManager.getCurrentKeyboardFocusManager().addKeyEventDispatcher(this);
  myTargets=myProvider.getTargets(true);
  if (myTargets.size() == 0) {
    Disposer.dispose(this);
    return;
  }
  mySelection=myProvider.getCurrentTarget();
  myGlassPane=IdeGlassPaneUtil.find(myProvider.getComponent());
  for (  SwitchTarget each : myTargets) {
    TargetPainer eachPainter=new TargetPainer(each);
    Disposer.register(this,eachPainter);
    myRootComponent=myProvider.getComponent();
    myGlassPane.addPainter(myRootComponent,eachPainter,this);
    myPainters.put(each,eachPainter);
  }
}
