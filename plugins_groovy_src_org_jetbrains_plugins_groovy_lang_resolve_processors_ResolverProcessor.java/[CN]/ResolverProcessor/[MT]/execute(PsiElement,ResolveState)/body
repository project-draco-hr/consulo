{
  if (myResolveTargetKinds.contains(getResolveKind(element))) {
    PsiNamedElement namedElement=(PsiNamedElement)element;
    PsiSubstitutor substitutor=state.get(PsiSubstitutor.KEY);
    if (substitutor == null)     substitutor=PsiSubstitutor.EMPTY;
    if (myTypeArguments.length > 0 && namedElement instanceof PsiClass) {
      substitutor=substitutor.putAll((PsiClass)namedElement,myTypeArguments);
    }
    if (namedElement instanceof PsiClass) {
      final PsiClass aClass=(PsiClass)namedElement;
      final String fqn=aClass.getQualifiedName();
      if (!myProcessedClasses.contains(fqn)) {
        myProcessedClasses.add(fqn);
      }
 else {
        return true;
      }
    }
    boolean isAccessible=isAccessible(namedElement);
    boolean isStaticsOK=isStaticsOK(namedElement);
    myCandidates.add(new GroovyResolveResultImpl(namedElement,myCurrentFileResolveContext,substitutor,isAccessible,isStaticsOK));
    return !isAccessible;
  }
  return true;
}
