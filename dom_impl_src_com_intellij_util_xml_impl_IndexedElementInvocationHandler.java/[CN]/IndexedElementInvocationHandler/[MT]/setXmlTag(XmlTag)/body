{
  final DomInvocationHandler parent=getParentHandler();
  parent.createFixedChildrenTags(getXmlElementName(),myIndex);
  final XmlTag[] newTag=new XmlTag[1];
  getManager().runChange(new Runnable(){
    public void run(){
      try {
        newTag[0]=(XmlTag)parent.getXmlTag().add(tag);
        if (getParentHandler().getFixedChildrenClass(tag.getName()) != null) {
          getManager().getTypeChooserManager().getTypeChooser(getChildDescription().getType()).distinguishTag(newTag[0],getDomElementType());
        }
      }
 catch (      IncorrectOperationException e) {
        LOG.error(e);
      }
    }
  }
);
  return newTag[0];
}
