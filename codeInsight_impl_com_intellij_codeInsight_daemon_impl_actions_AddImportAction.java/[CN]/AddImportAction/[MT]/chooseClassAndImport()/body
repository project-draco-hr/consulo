{
  final JList list=new JList(myTargetClasses);
  list.setCellRenderer(new FQNameCellRenderer());
  Runnable runnable=new Runnable(){
    public void run(){
      int index=list.getSelectedIndex();
      if (index < 0)       return;
      PsiDocumentManager.getInstance(myProject).commitAllDocuments();
      addImport(myReference,myTargetClasses[index]);
    }
  }
;
  ListPopup listPopup=new ListPopup(QuickFixBundle.message("class.to.import.chooser.title"),list,runnable,myProject);
  Point caretLocation=myEditor.logicalPositionToXY(myEditor.getCaretModel().getLogicalPosition());
  Point location=myEditor.getContentComponent().getLocationOnScreen();
  listPopup.show(caretLocation.x + location.x,caretLocation.y + location.y);
}
