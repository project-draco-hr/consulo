{
  Arrays.sort(myTargetClasses,new PsiProximityComparator(myReference.getElement(),myProject));
  final JList list=new JList(myTargetClasses);
  list.setCellRenderer(new FQNameCellRenderer());
  Runnable runnable=new Runnable(){
    public void run(){
      int index=list.getSelectedIndex();
      if (index < 0)       return;
      PsiDocumentManager.getInstance(myProject).commitAllDocuments();
      addImport(myReference,myTargetClasses[index]);
    }
  }
;
  new PopupChooserBuilder(list).setTitle(QuickFixBundle.message("class.to.import.chooser.title")).setItemChoosenCallback(runnable).createPopup().showInBestPositionFor(myEditor);
}
