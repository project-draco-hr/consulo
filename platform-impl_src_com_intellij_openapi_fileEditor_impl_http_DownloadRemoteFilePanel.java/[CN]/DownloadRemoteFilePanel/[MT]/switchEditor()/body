{
  LOG.debug("Switching editor...");
  ApplicationManager.getApplication().invokeLater(new Runnable(){
    public void run(){
      final FileEditorManager fileEditorManager=FileEditorManager.getInstance(myProject);
      fileEditorManager.closeFile(myVirtualFile);
      ApplicationManager.getApplication().invokeLater(new Runnable(){
        public void run(){
          fileEditorManager.openFile(myVirtualFile,true);
          LOG.debug("Editor for downloaded file opened.");
        }
      }
);
    }
  }
);
}
