{
  final List<PsiClassInitializer> remainingInitializers=new ArrayList<PsiClassInitializer>(initializers);
  for (  final FieldSpec field : fields) {
    final PsiVariable psiField=field.getField();
    final Iterator<PsiClassInitializer> initializersIterator=remainingInitializers.iterator();
    final int fieldOffset=psiField.getTextRange().getStartOffset();
    while (initializersIterator.hasNext()) {
      final PsiClassInitializer initializer=initializersIterator.next();
      if (initializer.getTextRange().getStartOffset() < fieldOffset) {
        outputMutatedInitializer(out,initializer);
        out.append('\n');
        initializersIterator.remove();
      }
    }
    outputField(field,out);
  }
  for (  PsiClassInitializer initializer : remainingInitializers) {
    outputMutatedInitializer(out,initializer);
    out.append('\n');
  }
}
