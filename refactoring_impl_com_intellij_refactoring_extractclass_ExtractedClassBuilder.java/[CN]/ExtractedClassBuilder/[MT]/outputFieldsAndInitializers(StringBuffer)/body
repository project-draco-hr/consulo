{
  final List<PsiClassInitializer> remainingInitializers=new ArrayList<PsiClassInitializer>(initializers);
  for (  final PsiField field : fields) {
    final Iterator<PsiClassInitializer> initializersIterator=remainingInitializers.iterator();
    final int fieldOffset=field.getTextRange().getStartOffset();
    while (initializersIterator.hasNext()) {
      final PsiClassInitializer initializer=initializersIterator.next();
      if (initializer.getTextRange().getStartOffset() < fieldOffset) {
        outputMutatedInitializer(out,initializer);
        initializersIterator.remove();
      }
    }
    outputField(field,out);
  }
  for (  PsiClassInitializer initializer : remainingInitializers) {
    outputMutatedInitializer(out,initializer);
  }
}
