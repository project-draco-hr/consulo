{
  List<ZipEntry> sorted=new ArrayList<ZipEntry>();
  Enumeration<? extends ZipEntry> temp=zipFile.entries();
  while (temp.hasMoreElements()) {
    ZipEntry each=temp.nextElement();
    if (!each.isDirectory())     sorted.add(each);
  }
  Collections.sort(sorted,new Comparator<ZipEntry>(){
    public int compare(    ZipEntry o1,    ZipEntry o2){
      return o1.getName().compareTo(o2.getName());
    }
  }
);
  CRC32 crc=new CRC32();
  for (  ZipEntry each : sorted) {
    InputStream in=zipFile.getInputStream(each);
    try {
      doDigestStream(in,crc);
    }
  finally {
      in.close();
    }
  }
  return crc.getValue();
}
