{
  if (elem instanceof PsiWhiteSpace) {
    PsiMethod method=PsiAdapter.findParentMethod(elem);
    return method == null ? elem : method;
  }
 else   if (elem instanceof PsiMethod) {
    return elem;
  }
 else   if (elem instanceof PsiMember) {
    if (!(elem instanceof PsiClass)) {
      return elem;
    }
  }
  if (elem instanceof PsiJavaFile) {
    return null;
  }
  PsiElement parent=elem.getParent();
  if (parent != null) {
    return findBestSpotToInsert(parent);
  }
 else {
    return null;
  }
}
