{
  myCommandLineField=myCommandLineComponent.getComponent();
  myCommandLineField.setDialogCaption(myCommandLineComponent.getRawText());
  myCommandLineComponent.getLabel().setLabelFor(myCommandLineField.getTextField());
  myModuleSelector=new ConfigurationModuleSelector(project,myModulesComboBox);
  myAvdCombo=myAvdComboComponent.getComponent();
  final ActionListener listener=new ActionListener(){
    public void actionPerformed(    ActionEvent e){
      boolean enabled=myEmulatorRadioButton.isSelected();
      myAvdComboComponent.setEnabled(enabled);
    }
  }
;
  myShowChooserRadioButton.addActionListener(listener);
  myEmulatorRadioButton.addActionListener(listener);
  myUsbDeviceRadioButton.addActionListener(listener);
  myModulesComboBox.addActionListener(new ActionListener(){
    public void actionPerformed(    ActionEvent e){
      updateAvds();
    }
  }
);
  myAvdCombo.addActionListener(new ActionListener(){
    public void actionPerformed(    ActionEvent e){
      Module module=myModuleSelector.getModule();
      if (module == null) {
        Messages.showErrorDialog(myPanel,ExecutionBundle.message("module.not.specified.error.text"));
        return;
      }
      AndroidFacet facet=AndroidFacet.getInstance(module);
      if (facet == null) {
        Messages.showErrorDialog(myPanel,AndroidBundle.message("no.facet.error",module.getName()));
        return;
      }
      AvdManager manager=null;
      try {
        manager=facet.getAvdManager();
      }
 catch (      AvdsNotSupportedException e1) {
        Messages.showInfoMessage(project,AndroidBundle.message("sdk.11.doesnt.support.avd.error"),CommonBundle.getErrorTitle());
      }
catch (      AndroidLocation.AndroidLocationException e1) {
        Messages.showErrorDialog(project,e1.getMessage(),CommonBundle.getErrorTitle());
      }
      if (manager != null) {
        AvdChooser chooser=new AvdChooser(project,facet,manager,false,true);
        String preferredAvdName=(String)myAvdCombo.getComboBox().getSelectedItem();
        if (preferredAvdName == null)         preferredAvdName="";
        chooser.setSelectedAvd(preferredAvdName);
        chooser.show();
        updateAvds();
        AvdManager.AvdInfo avd=chooser.getSelectedAvd();
        String item=avd != null ? avd.getName() : "";
        if (chooser.getExitCode() == DialogWrapper.OK_EXIT_CODE) {
          myAvdCombo.getComboBox().setSelectedItem(item);
        }
      }
    }
  }
);
  myNetworkSpeedCombo.setModel(new DefaultComboBoxModel(NETWORK_SPEEDS));
  myNetworkLatencyCombo.setModel(new DefaultComboBoxModel(NETWORK_LATENCIES));
}
