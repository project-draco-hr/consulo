{
  myModuleSelector.reset(configuration);
  final String avd=configuration.PREFERRED_AVD;
  if (avd != null) {
    JComboBox combo=myAvdBox.getComboBox();
    if (containsItem(combo,avd)) {
      combo.setSelectedItem(avd);
    }
 else {
      combo.setRenderer(new ListCellRendererWrapper(combo.getRenderer()){
        @Override public void customize(        JList list,        Object value,        int index,        boolean selected,        boolean hasFocus){
          if (value == null) {
            setText("<html><font color='red'>" + avd + "</font></html>");
          }
        }
      }
);
      combo.setSelectedItem(null);
      incorrectPreferredAvd=avd;
    }
  }
  boolean selected=configuration.CHOOSE_DEVICE_MANUALLY;
  myChooseDeviceManually.setSelected(selected);
  myChooseAvdComponent.setEnabled(!selected);
  myCommandLineField.setText(configuration.COMMAND_LINE);
  myConfigurationSpecificEditor.resetFrom(configuration);
  myWipeUserDataCheckBox.setSelected(configuration.WIPE_USER_DATA);
  myDisableBootAnimationCombo.setSelected(configuration.DISABLE_BOOT_ANIMATION);
  myNetworkSpeedCombo.setSelectedItem(configuration.NETWORK_SPEED);
  myNetworkLatencyCombo.setSelectedItem(configuration.NETWORK_SPEED);
  myClearLogCheckBox.setSelected(configuration.CLEAR_LOGCAT);
}
