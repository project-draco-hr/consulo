{
  final GitCommitCompareInfo myCompareInfo=loadCommitsToCompare(repositories,branchName);
  if (myCompareInfo == null) {
    LOG.error("The task to get compare info didn't finish. Repositories: \n" + repositories + "\nbranch name: "+ branchName);
    return;
  }
  ApplicationManager.getApplication().invokeLater(new Runnable(){
    @Override public void run(){
      displayCompareDialog(branchName,GitBranchUtil.getCurrentBranchOrRev(repositories),myCompareInfo,selectedRepository);
    }
  }
);
}
