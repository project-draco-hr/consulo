{
  if (dfa instanceof DfaConstValue) {
    Object value=((DfaConstValue)dfa).getValue();
    if (value instanceof Double && ((Double)value).isNaN())     return true;
    if (value instanceof Float && ((Float)value).isNaN())     return true;
  }
 else   if (dfa instanceof DfaBoxedValue) {
    return isNaN(((DfaBoxedValue)dfa).getWrappedValue());
  }
  return false;
}
