{
  super(new BorderLayout());
  if (list instanceof ComponentWithEmptyText) {
    ((ComponentWithEmptyText)list).getEmptyText().setText(UIBundle.message("message.noMatchesFound"));
  }
  myList=list;
  myScroller=scroller;
  mySpeedSearchPatternField=new JTextField();
  mySpeedSearchPatternField.setFocusable(false);
  mySpeedSearchPatternField.setVisible(false);
  add(mySpeedSearchPatternField,BorderLayout.NORTH);
  add(myScroller,BorderLayout.CENTER);
  mySpeedSearch=new MySpeedSearch();
  mySpeedSearch.setEnabled(namer != null);
  myList.addKeyListener(new KeyAdapter(){
    public void keyPressed(    final KeyEvent e){
      mySpeedSearch.process(e);
    }
  }
);
  myModel=new NameFilteringListModel<T>(myList,namer,new Condition<String>(){
    public boolean value(    String s){
      return mySpeedSearch.shouldBeShowing(s);
    }
  }
,mySpeedSearch);
  setBackground(list.getBackground());
}
