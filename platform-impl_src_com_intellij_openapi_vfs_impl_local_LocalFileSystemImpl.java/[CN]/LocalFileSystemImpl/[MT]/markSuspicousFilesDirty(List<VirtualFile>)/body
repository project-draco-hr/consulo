{
  storeRefreshStatusToFiles();
  if (myWatcher.isOperational()) {
    for (    String root : myWatcher.getManualWatchRoots()) {
      final VirtualFile suspicousRoot=findFileByPathIfCached(root);
      if (suspicousRoot != null) {
        ((NewVirtualFile)suspicousRoot).markDirtyRecursively();
      }
    }
  }
 else {
    for (    VirtualFile file : files) {
      if (file.getFileSystem() == this) {
        ((NewVirtualFile)file).markDirtyRecursively();
      }
    }
  }
}
