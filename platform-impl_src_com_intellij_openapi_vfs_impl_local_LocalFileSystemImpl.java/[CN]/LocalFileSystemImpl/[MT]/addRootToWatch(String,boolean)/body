{
  if (rootPath.length() == 0)   return null;
  WRITE_LOCK.lock();
  try {
    final WatchRequestImpl result=new WatchRequestImpl(rootPath,toWatchRecursively);
    final VirtualFile existingFile=findFileByPathIfCached(rootPath);
    if (existingFile != null) {
      if (!isAlreadyWatched(result)) {
        existingFile.refresh(true,toWatchRecursively);
      }
    }
    myRootsToWatch.add(result);
    myCachedNormalizedRequests=null;
    setUpFileWatcher();
    return result;
  }
  finally {
    WRITE_LOCK.unlock();
  }
}
