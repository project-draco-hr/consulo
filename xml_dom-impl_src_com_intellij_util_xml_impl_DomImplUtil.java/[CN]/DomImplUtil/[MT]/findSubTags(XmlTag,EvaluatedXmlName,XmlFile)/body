{
  if (!tag.isValid()) {
    throw new AssertionError("Invalid tag");
  }
  return ContainerUtil.findAll(tag.getSubTags(),new Condition<XmlTag>(){
    public boolean value(    XmlTag childTag){
      if (!childTag.isValid()) {
        LOG.error("tag.getSubTags() returned invalid, " + "tag=" + tag + ", "+ "containing file: "+ tag.getContainingFile()+ "subTag.parent="+ childTag.getNode().getTreeParent());
        return false;
      }
      return isNameSuitable(name,childTag.getLocalName(),childTag.getName(),childTag.getNamespace(),file);
    }
  }
);
}
