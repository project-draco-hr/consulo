{
  if (!userAgreeWithPreconditions())   return false;
  myGateway.saveAllUnsavedDocuments();
  if (!hasPreviousVersion()) {
    revertCreation();
  }
 else   if (!hasCurrentVersion()) {
    revertDeletion();
  }
 else {
    revertModification();
  }
  return true;
}
