{
  if (myCurrentLaf != null) {
    final UIManager.LookAndFeelInfo laf=findLaf(myCurrentLaf.getClassName());
    if (laf != null) {
      setCurrentLookAndFeel(laf);
    }
  }
  updateUI();
  if (SystemInfo.isXWindow) {
    myThemeChangeListener=new PropertyChangeListener(){
      @Override public void propertyChange(      final PropertyChangeEvent evt){
        SwingUtilities.invokeLater(new Runnable(){
          @Override public void run(){
            fixGtkPopupStyle();
            patchOptionPaneIcons(UIManager.getLookAndFeelDefaults());
          }
        }
);
      }
    }
;
    Toolkit.getDefaultToolkit().addPropertyChangeListener(GNOME_THEME_PROPERTY_NAME,myThemeChangeListener);
  }
}
