{
  ChangeListener listener=new ChangeListener(){
    public void stateChanged(    ChangeEvent e){
      myExpandByCombo.setEnabled(!isEnabledInStaticContextOnly());
    }
  }
;
  JPanel panel=new JPanel();
  panel.setBorder(IdeBorderFactory.createTitledBorder(CodeInsightBundle.message("dialog.edit.template.context.title")));
  panel.setLayout(new GridBagLayout());
  GridBagConstraints gbConstraints=new GridBagConstraints();
  gbConstraints.fill=GridBagConstraints.BOTH;
  gbConstraints.weightx=1;
  gbConstraints.gridy=0;
  gbConstraints.weighty=1;
  gbConstraints.gridx=0;
  myCbJavaCode=new JCheckBox(CodeInsightBundle.message("dialog.edit.template.checkbox.java.code"));
  myCbJavaCode.getModel().addChangeListener(listener);
  panel.add(myCbJavaCode,gbConstraints);
  gbConstraints.gridx=1;
  myCbHTML=new JCheckBox(CodeInsightBundle.message("dialog.edit.template.checkbox.html"));
  panel.add(myCbHTML,gbConstraints);
  myCbHTML.getModel().addChangeListener(listener);
  gbConstraints.gridy++;
  gbConstraints.gridx=0;
  myCbJavaComment=new JCheckBox(CodeInsightBundle.message("dialog.edit.template.checkbox.java.comment"));
  panel.add(myCbJavaComment,gbConstraints);
  myCbJavaComment.getModel().addChangeListener(listener);
  gbConstraints.gridx=1;
  myCbXML=new JCheckBox(CodeInsightBundle.message("dialog.edit.template.checkbox.xml"));
  panel.add(myCbXML,gbConstraints);
  myCbXML.getModel().addChangeListener(listener);
  gbConstraints.gridy++;
  gbConstraints.gridx=0;
  myCbJavaString=new JCheckBox(CodeInsightBundle.message("dialog.edit.template.checkbox.java.string"));
  panel.add(myCbJavaString,gbConstraints);
  myCbJavaString.getModel().addChangeListener(listener);
  gbConstraints.gridx=1;
  myCbJSP=new JCheckBox(CodeInsightBundle.message("dialog.edit.template.checkbox.jsp"));
  panel.add(myCbJSP,gbConstraints);
  myCbJSP.getModel().addChangeListener(listener);
  gbConstraints.gridy++;
  gbConstraints.gridx=0;
  myCbCompletion=new JCheckBox(CodeInsightBundle.message("dialog.edit.template.checkbox.smart.type.completion"));
  panel.add(myCbCompletion,gbConstraints);
  myCbCompletion.getModel().addChangeListener(listener);
  gbConstraints.gridx=1;
  myCbOther=new JCheckBox(CodeInsightBundle.message("dialog.edit.template.checkbox.other"));
  panel.add(myCbOther,gbConstraints);
  myCbOther.getModel().addChangeListener(listener);
  addUpdateHighlighterAction(myCbJavaCode);
  addUpdateHighlighterAction(myCbJavaComment);
  addUpdateHighlighterAction(myCbJavaString);
  addUpdateHighlighterAction(myCbCompletion);
  addUpdateHighlighterAction(myCbXML);
  addUpdateHighlighterAction(myCbHTML);
  addUpdateHighlighterAction(myCbJSP);
  addUpdateHighlighterAction(myCbOther);
  return panel;
}
