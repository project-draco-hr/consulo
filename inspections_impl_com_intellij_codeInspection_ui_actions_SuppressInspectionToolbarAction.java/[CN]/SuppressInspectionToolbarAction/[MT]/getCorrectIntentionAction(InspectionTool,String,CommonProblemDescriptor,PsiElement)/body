{
  CustomSuppressableInspectionTool customSuppresableInspectionTool=extractSuppressableTool(tool);
  if (customSuppresableInspectionTool != null && descriptor instanceof ProblemDescriptor) {
    final IntentionAction[] customActions=customSuppresableInspectionTool.getSuppressActions((ProblemDescriptor)descriptor);
    if (customActions.length > 0)     return customActions[0];
  }
  if (SuppressUtil.canHave15Suppressions(context.getContainingFile())) {
    if (!(context instanceof PsiDocCommentOwner && SuppressUtil.alreadyHas14Suppressions((PsiDocCommentOwner)context))) {
      return new SuppressWarningAction(id,context);
    }
  }
  return new SuppressDocCommentAction(id,context);
}
