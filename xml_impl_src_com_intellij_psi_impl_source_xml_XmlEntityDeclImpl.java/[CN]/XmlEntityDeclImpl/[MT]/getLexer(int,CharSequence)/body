{
  Lexer lexer=new XmlPsiLexer();
  FilterLexer filterLexer=new FilterLexer(lexer,new FilterLexer.SetFilter(OldXmlParsing.XML_WHITE_SPACE_OR_COMMENT_BIT_SET));
  short state=0;
switch (context) {
case CONTEXT_ELEMENT_CONTENT_SPEC:
case CONTEXT_ATTRIBUTE_SPEC:
case CONTEXT_ATTLIST_SPEC:
case CONTEXT_ENUMERATED_TYPE:
case CONTEXT_ENTITY_DECL_CONTENT:
{
      state=_OldXmlLexer.DOCTYPE_MARKUP;
      break;
    }
case CONTEXT_ATTR_VALUE:
case CONTEXT_GENERIC_XML:
{
    break;
  }
default :
LOG.error("context: " + context);
}
filterLexer.start(buffer,0,buffer.length(),state);
return filterLexer;
}
