{
  GrCodeReferenceElement ref=getReferenceElement();
  if (ref == null)   return GroovyResolveResult.EMPTY_ARRAY;
  final GroovyResolveResult[] classResults=ref.multiResolve(false);
  if (classResults.length == 0)   return GroovyResolveResult.EMPTY_ARRAY;
  if (incompleteCode) {
    return PsiUtil.getConstructorCandidates(ref,classResults,null);
  }
  final GrArgumentList argumentList=getArgumentList();
  if (argumentList == null)   return GroovyResolveResult.EMPTY_ARRAY;
  if (argumentList.getNamedArguments().length > 0 && argumentList.getExpressionArguments().length == 0) {
    PsiType mapType=new GrMapType(argumentList,getNamedArguments());
    GroovyResolveResult[] constructorResults=PsiUtil.getConstructorCandidates(ref,classResults,new PsiType[]{mapType});
    for (    GroovyResolveResult result : constructorResults) {
      final PsiElement resolved=result.getElement();
      if (resolved instanceof PsiMethod) {
        PsiMethod constructor=(PsiMethod)resolved;
        final PsiParameter[] parameters=constructor.getParameterList().getParameters();
        if (parameters.length == 1 && InheritanceUtil.isInheritor(parameters[0].getType(),CommonClassNames.JAVA_UTIL_MAP)) {
          return constructorResults;
        }
      }
    }
    final GroovyResolveResult[] emptyConstructors=PsiUtil.getConstructorCandidates(ref,classResults,PsiType.EMPTY_ARRAY);
    if (emptyConstructors.length > 0) {
      return emptyConstructors;
    }
  }
  return PsiUtil.getConstructorCandidates(ref,classResults,PsiUtil.getArgumentTypes(ref,true));
}
