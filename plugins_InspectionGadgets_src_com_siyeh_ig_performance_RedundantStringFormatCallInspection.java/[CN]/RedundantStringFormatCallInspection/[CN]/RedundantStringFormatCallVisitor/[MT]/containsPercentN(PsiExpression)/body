{
  if (expression == null) {
    return false;
  }
  if (expression instanceof PsiLiteralExpression) {
    final PsiLiteralExpression literalExpression=(PsiLiteralExpression)expression;
    @NonNls final String expressionText=literalExpression.getText();
    return expressionText.contains("%n");
  }
  if (expression instanceof PsiBinaryExpression) {
    final PsiBinaryExpression binaryExpression=(PsiBinaryExpression)expression;
    final IElementType tokenType=binaryExpression.getOperationTokenType();
    if (!tokenType.equals(JavaTokenType.PLUS)) {
      return false;
    }
    final PsiExpression lhs=binaryExpression.getLOperand();
    if (containsPercentN(lhs)) {
      return true;
    }
    final PsiExpression rhs=binaryExpression.getROperand();
    return containsPercentN(rhs);
  }
  return false;
}
