{
  if (myLfTagText != null) {
    myContext.buffer.append(myLfTagText);
    myContext.currentColumn=0;
    myLfTagText=null;
  }
  boolean addSpace=false;
  if (!text.isEmpty() && (text.startsWith(" ") || text.startsWith("\t"))) {
    myContext.buffer.append(text.charAt(0));
    myContext.currentColumn++;
  }
  for (  String s : text.split(" ")) {
    if (!myInsidePre) {
      s=s.trim();
    }
    if (s.length() <= 0) {
      continue;
    }
    if (myScheduleNewLine && canBreakBeforeText(s)) {
      newLine();
      addSpace=false;
      if (myContext.currentRow >= myContext.rows) {
        return false;
      }
    }
    if (addSpace) {
      myContext.buffer.append(" ");
      myContext.currentColumn++;
    }
 else {
      addSpace=true;
    }
    myContext.currentColumn+=s.length();
    myContext.buffer.append(s);
    if (myContext.currentColumn < myContext.columnsPerRow) {
      continue;
    }
    myScheduleNewLine=true;
  }
  if (text.endsWith(" ")) {
    myContext.buffer.append(" ");
    myContext.currentColumn++;
  }
  return true;
}
