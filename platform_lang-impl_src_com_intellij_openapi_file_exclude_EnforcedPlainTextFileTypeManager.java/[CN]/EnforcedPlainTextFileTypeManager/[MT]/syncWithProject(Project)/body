{
  if (project.isDisposed())   return false;
  ProjectPlainTextFileTypeManager projectPlainTextFileTypeManager=ProjectPlainTextFileTypeManager.getInstance(project);
  if (projectPlainTextFileTypeManager == null)   return true;
  for (  VirtualFile file : projectPlainTextFileTypeManager.getFiles()) {
    addFile(file);
  }
  if (!DirectoryIndex.getInstance(project).isInitialized())   return false;
  for (  VirtualFile file : getFiles()) {
    if (projectPlainTextFileTypeManager.hasProjectContaining(file)) {
      projectPlainTextFileTypeManager.addFile(file);
    }
  }
  myProcessedProjects.add(project);
  return true;
}
