{
  if (attribute.getValueElement() == null)   return false;
  final String name=attribute.getName();
  if (isXsltAttribute(attribute)) {
    final String tagName=attribute.getParent().getLocalName();
    final String s=XPATH_ATTR_MAP.get(name);
    if (s != "" && !tagName.equals(s)) {
      if (!isAttributeValueTemplate(attribute,true)) {
        return false;
      }
    }
  }
 else {
    if (!isAttributeValueTemplate(attribute,false)) {
      return false;
    }
  }
  final PsiFile file=attribute.getContainingFile();
  return file != null && getXsltSupportLevel(file) == XsltChecker.SupportLevel.FULL;
}
