{
  myRuntimeConfiguration=(RuntimeConfiguration)dataContext.getData(DataConstantsEx.RUNTIME_CONFIGURATION);
  myContextComponent=(Component)dataContext.getData(DataConstants.CONTEXT_COMPONENT);
  myModule=LangDataKeys.MODULE.getData(dataContext);
  final Object location=dataContext.getData(Location.LOCATION);
  if (location != null) {
    myLocation=(Location<PsiElement>)location;
    return;
  }
  final Project project=PlatformDataKeys.PROJECT.getData(dataContext);
  if (project == null) {
    myLocation=null;
    return;
  }
  final PsiElement element=getSelectedPsiElement(dataContext,project);
  if (element == null) {
    myLocation=null;
    return;
  }
  myLocation=new PsiLocation<PsiElement>(project,myModule,element);
}
