{
  String propFilePath=System.getProperty(PROPERTIES_FILE);
  if (propFilePath == null || !new File(propFilePath).exists()) {
    propFilePath=getBinPath() + File.separator + "idea.properties";
  }
  File propFile=new File(propFilePath);
  if (propFile.exists()) {
    try {
      final FileInputStream fis=new FileInputStream(propFile);
      final PropertyResourceBundle bundle=new PropertyResourceBundle(fis);
      fis.close();
      final Enumeration keys=bundle.getKeys();
      while (keys.hasMoreElements()) {
        String key=(String)keys.nextElement();
        final String value=substitueVars(bundle.getString(key));
        System.getProperties().setProperty(key,value);
      }
    }
 catch (    IOException e) {
      System.out.println("Problem reading from property file: " + propFilePath);
    }
  }
  final Properties props=System.getProperties();
  final Set keys=props.keySet();
  for (Iterator iterator=keys.iterator(); iterator.hasNext(); ) {
    String key=(String)iterator.next();
    String value=props.getProperty(key);
    System.out.println(key + "=" + value);
  }
}
