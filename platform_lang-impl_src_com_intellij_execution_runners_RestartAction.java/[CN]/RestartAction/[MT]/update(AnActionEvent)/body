{
  final Presentation presentation=event.getPresentation();
  String name=myEnvironment.getRunProfile().getName();
  final boolean isRunning=myProcessHandler != null && !myProcessHandler.isProcessTerminated();
  boolean isTerminating=myProcessHandler != null && myProcessHandler.isProcessTerminating();
  boolean isStarting=ExecutorRegistry.getInstance().isStarting(myEnvironment.getProject(),myExecutor.getId(),myRunner.getRunnerId());
  presentation.setText(ExecutionBundle.message("rerun.configuration.action.name",name));
  presentation.setIcon(isRunning ? AllIcons.Actions.Restart : myIcon);
  presentation.setEnabled(!isStarting && !isTerminating);
}
