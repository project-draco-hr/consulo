{
  ourOomOccured=true;
  event.getThrowable().printStackTrace();
  SwingUtilities.invokeAndWait(new Runnable(){
    public void run(){
      String message=event.getThrowable().getMessage();
      OutOfMemoryDialog.MemoryKind k=message != null && message.indexOf(PARAM_PERMGEN) >= 0 ? OutOfMemoryDialog.MemoryKind.PERM_GEN : OutOfMemoryDialog.MemoryKind.HEAP;
      new OutOfMemoryDialog(k).show();
    }
  }
);
}
