{
  boolean isOnDemand=false;
  String refText=null;
  for (  final LighterASTNode child : tree.getChildren(node)) {
    final IElementType type=child.getTokenType();
    if (type == JavaElementType.JAVA_CODE_REFERENCE || type == JavaElementType.IMPORT_STATIC_REFERENCE) {
      refText=SourceUtil.getTextSkipWhiteSpaceAndComments(tree,child);
    }
 else     if (type == JavaTokenType.ASTERISK) {
      isOnDemand=true;
    }
  }
  final byte flags=PsiImportStatementStubImpl.packFlags(isOnDemand,node.getTokenType() == JavaElementType.IMPORT_STATIC_STATEMENT);
  return new PsiImportStatementStubImpl(parentStub,refText,flags);
}
