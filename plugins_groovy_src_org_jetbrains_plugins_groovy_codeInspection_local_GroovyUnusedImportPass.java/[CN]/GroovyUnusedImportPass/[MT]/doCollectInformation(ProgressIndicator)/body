{
  myUnusedImports=GroovyImportsTracker.getInstance(myFile.getProject()).getUnusedImportStatements(myFile);
  if (!myUnusedImports.isEmpty() && CodeInsightSettings.getInstance().OPTIMIZE_IMPORTS_ON_THE_FLY) {
    final VirtualFile vfile=myFile.getVirtualFile();
    if (vfile != null && ProjectRootManager.getInstance(myFile.getProject()).getFileIndex().isInSource(vfile)) {
      myOptimizeRunnable=new GroovyImportOptimizer().processFile(myFile);
    }
  }
}
