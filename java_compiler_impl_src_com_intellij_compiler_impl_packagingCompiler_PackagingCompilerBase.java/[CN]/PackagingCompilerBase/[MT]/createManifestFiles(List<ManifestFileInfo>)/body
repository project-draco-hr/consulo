{
  for (  ManifestFileInfo manifestFileInfo : manifestFileInfos) {
    File outputFile=new File(FileUtil.toSystemDependentName(manifestFileInfo.getOutputPath()));
    Manifest manifest;
    if (outputFile.exists()) {
      FileInputStream stream=new FileInputStream(outputFile);
      try {
        manifest=new Manifest(stream);
      }
  finally {
        stream.close();
      }
    }
 else {
      manifest=new Manifest();
    }
    DeploymentUtilImpl.setManifestAttributes(manifest.getMainAttributes(),manifestFileInfo.getClasspath());
    FileUtil.createParentDirs(outputFile);
    FileOutputStream out=null;
    try {
      out=new FileOutputStream(outputFile);
      manifest.write(out);
    }
  finally {
      if (out != null) {
        out.close();
      }
    }
  }
}
