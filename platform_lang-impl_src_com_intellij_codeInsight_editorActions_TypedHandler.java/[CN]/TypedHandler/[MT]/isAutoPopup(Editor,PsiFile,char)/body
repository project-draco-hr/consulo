{
  final int offset=editor.getCaretModel().getOffset() - 1;
  if (offset >= 0) {
    final PsiElement element=file.findElementAt(offset);
    if (element != null) {
      final List<CompletionContributor> list=CompletionContributor.forLanguage(element.getLanguage());
      for (      CompletionContributor contributor : list) {
        if (contributor.invokeAutoPopup(element,charTyped))         return true;
      }
    }
  }
  return false;
}
