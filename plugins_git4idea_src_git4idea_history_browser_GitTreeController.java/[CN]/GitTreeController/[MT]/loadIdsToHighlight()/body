{
  final Portion highlighted;
  if (myFiltered == null) {
    highlighted=loadPortion(myHighlightingHolder.getStartingPoints(),myFilterHolder.getCurrentPoint(),null,Collections.<ChangesFilter.Filter>emptyList(),-1);
  }
 else {
    highlighted=loadPortion(myHighlightingHolder.getStartingPoints(),myFilterHolder.getCurrentPoint(),myFiltered.getLast().getDate(),Collections.<ChangesFilter.Filter>emptyList(),-1);
  }
  final Collection<ChangesFilter.Filter> filters=myHighlightingHolder.getFilters();
  final List<ChangesFilter.MemoryFilter> combined=ChangesFilter.combineFilters(filters);
  final Set<SHAHash> highlightedIds=new HashSet<SHAHash>();
  highlighted.iterateFrom(0,new Processor<GitCommit>(){
    public boolean process(    GitCommit gitCommit){
      for (      ChangesFilter.MemoryFilter filter : combined) {
        if (!filter.applyInMemory(gitCommit)) {
          return false;
        }
      }
      highlightedIds.add(gitCommit.getHash());
      return false;
    }
  }
);
  return highlightedIds;
}
