{
  for (int i=1; i < messagesInOrder.size(); i++) {
    final String message=messagesInOrder.get(i);
    final Collection<FilePath> currentFiles=filesToMove.get(message);
    for (int j=0; j < i; j++) {
      final String previous=messagesInOrder.get(j);
      final boolean somethingChanged=filesToMove.get(previous).removeAll(currentFiles);
      if (somethingChanged) {
        myHaveLostSomething.add(previous);
      }
    }
  }
}
