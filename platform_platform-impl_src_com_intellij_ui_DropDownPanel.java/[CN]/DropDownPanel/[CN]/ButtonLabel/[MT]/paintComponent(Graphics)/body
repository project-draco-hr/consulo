{
  ActionButtonLook.IDEA_LOOK.paintBackground(g,this);
  ActionButtonLook.IDEA_LOOK.paintBorder(g,this);
  super.paintComponent(g);
  if (myLine) {
    g.setColor(GroupedElementsRenderer.POPUP_SEPARATOR_FOREGROUND);
    Icon icon=getIcon();
    final FontMetrics fm=getFontMetrics(getFont());
    String text=getText();
    Border border=getBorder();
    Insets insets=border != null ? border.getBorderInsets(this) : new Insets(0,0,0,0);
    int width=(icon != null ? icon.getIconWidth() : 0) + (text != null ? getIconTextGap() + fm.stringWidth(text) : 0) + insets.left;
    final int lineY=(UIUtil.isUnderNativeMacLookAndFeel() ? 1 : 3) + fm.getHeight() / 2;
    g.drawLine(width + 3,lineY,getWidth() - 3 - insets.right,lineY);
  }
}
