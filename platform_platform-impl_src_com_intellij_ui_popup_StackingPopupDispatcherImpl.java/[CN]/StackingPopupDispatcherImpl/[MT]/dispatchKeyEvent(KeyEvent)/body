{
  final boolean closeRequest=AbstractPopup.isCloseRequest(e);
  JBPopup popup;
  if (closeRequest) {
    popup=findPopup();
  }
 else {
    popup=getFocusedPopup();
  }
  return popup != null && popup.dispatchKeyEvent(e);
}
