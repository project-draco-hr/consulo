{
  super.update(e);
  DataContext dataContext=e.getDataContext();
  Project project=(Project)dataContext.getData(DataConstants.PROJECT);
  if (project != null) {
    ThumbnailManager thumbnailManager=ThumbnailManager.getInstance();
    ThumbnailView thumbnailView=thumbnailManager.getThumbnailView(project);
    VirtualFile root=thumbnailView.getRoot();
    e.getPresentation().setEnabled(root != null ? root.getParent() != null && !thumbnailView.isRecursive() : false);
  }
}
