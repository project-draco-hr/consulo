{
  g.setColor(POPUP_SEPARATOR_FOREGROUND);
  if (hasCaption()) {
    FontMetrics fm=getFontMetrics(getFont());
    int baseline=VGAP + fm.getAscent();
    final int preferredWidth=getPreferredSize().width;
    final int padding=getCaptionPadding(preferredWidth,getWidth());
    final int lineY=VGAP + fm.getHeight() / 2;
    g.drawLine(0,lineY,padding,lineY);
    g.drawString(myCaption,padding + HGAP,baseline);
    g.drawLine(padding + preferredWidth,lineY,getWidth() - 1,lineY);
  }
 else {
    g.drawLine(0,VGAP,getWidth() - 1,VGAP);
  }
}
