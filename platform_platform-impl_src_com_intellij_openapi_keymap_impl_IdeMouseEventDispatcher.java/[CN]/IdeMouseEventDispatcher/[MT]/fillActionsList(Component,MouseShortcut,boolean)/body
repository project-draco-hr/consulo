{
  myActions.clear();
  for (; component != null; component=component.getParent()) {
    if (component instanceof JComponent) {
      for (      AnAction action : ActionUtil.getActions((JComponent)component)) {
        for (        Shortcut shortcut : action.getShortcutSet().getShortcuts()) {
          if (mouseShortcut.equals(shortcut) && !myActions.contains(action)) {
            myActions.add(action);
          }
        }
      }
      if (!myActions.isEmpty()) {
        return;
      }
    }
  }
  if (KeymapManagerImpl.ourKeymapManagerInitialized) {
    final KeymapManager keymapManager=KeymapManager.getInstance();
    if (keymapManager != null) {
      final Keymap keymap=keymapManager.getActiveKeymap();
      final String[] actionIds=keymap.getActionIds(mouseShortcut);
      ActionManager actionManager=ActionManager.getInstance();
      for (      String actionId : actionIds) {
        AnAction action=actionManager.getAction(actionId);
        if (action == null)         continue;
        if (isModalContext && !action.isEnabledInModalContext())         continue;
        if (!myActions.contains(action)) {
          myActions.add(action);
        }
      }
    }
  }
}
