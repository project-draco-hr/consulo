{
  myActions.clear();
  if (component instanceof JComponent) {
    @SuppressWarnings("unchecked") final ArrayList<AnAction> listOfActions=(ArrayList<AnAction>)((JComponent)component).getClientProperty(AnAction.ourClientProperty);
    if (listOfActions != null) {
      for (      AnAction action : listOfActions) {
        final Shortcut[] shortcuts=action.getShortcutSet().getShortcuts();
        for (        Shortcut shortcut : shortcuts) {
          if (mouseShortcut.equals(shortcut) && !myActions.contains(action)) {
            myActions.add(action);
          }
        }
      }
      if (!myActions.isEmpty()) {
        return;
      }
    }
  }
  if (KeymapManagerImpl.ourKeymapManagerInitialized) {
    final KeymapManager keymapManager=KeymapManager.getInstance();
    if (keymapManager != null) {
      final Keymap keymap=keymapManager.getActiveKeymap();
      final String[] actionIds=keymap.getActionIds(mouseShortcut);
      ActionManager actionManager=ActionManager.getInstance();
      for (      String actionId : actionIds) {
        AnAction action=actionManager.getAction(actionId);
        if (action == null)         continue;
        if (isModalContext && !action.isEnabledInModalContext())         continue;
        if (!myActions.contains(action)) {
          myActions.add(action);
        }
      }
    }
  }
}
