{
  try {
    for (    UsageInfo usage : myVariablesUsages) {
      if (usage instanceof MoveRenameUsageInfo) {
        final MoveRenameUsageInfo renameUsageInfo=((MoveRenameUsageInfo)usage);
        final String newName=myVariablesRenames.get(renameUsageInfo.referencedElement);
        renameUsageInfo.reference.handleElementRename(newName);
      }
    }
    final Iterator<Map.Entry<PsiVariable,String>> iterator=myVariablesRenames.entrySet().iterator();
    while (iterator.hasNext()) {
      Map.Entry<PsiVariable,String> entry=iterator.next();
      final String newName=entry.getValue();
      if (newName != null) {
        entry.getKey().setName(newName);
      }
    }
  }
 catch (  IncorrectOperationException e) {
    LOG.error(e);
  }
}
