{
  try {
    for (    UsageInfo usage : myVariablesUsages) {
      if (usage instanceof MoveRenameUsageInfo) {
        final MoveRenameUsageInfo renameUsageInfo=((MoveRenameUsageInfo)usage);
        final String newName=myVariablesRenames.get(renameUsageInfo.getReferencedElement());
        final PsiReference reference=renameUsageInfo.getReference();
        if (reference != null) {
          reference.handleElementRename(newName);
        }
      }
    }
    for (    Map.Entry<PsiVariable,String> entry : myVariablesRenames.entrySet()) {
      final String newName=entry.getValue();
      if (newName != null) {
        entry.getKey().setName(newName);
      }
    }
  }
 catch (  IncorrectOperationException e) {
    LOG.error(e);
  }
}
