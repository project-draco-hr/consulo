{
  Set<CommitId> allUnresolvedLinkedHashes=new THashSet<>(newRefs);
  allUnresolvedLinkedHashes.removeAll(previousRefs);
  for (  Commit commit : firstBlock) {
    allUnresolvedLinkedHashes.add(commit.getId());
    allUnresolvedLinkedHashes.addAll(commit.getParents());
  }
  for (  Commit commit : firstBlock) {
    if (commit.getParents().size() != 0) {
      allUnresolvedLinkedHashes.remove(commit.getId());
    }
  }
  int saveGreenIndex=getFirstUnTrackedIndex(savedLog,allUnresolvedLinkedHashes);
  return new Pair<>(saveGreenIndex,getAllNewCommits(savedLog.subList(0,saveGreenIndex),firstBlock));
}
