{
  final Project project=CommonDataKeys.PROJECT.getData(dataContext);
  final DiffRequest diffRequest=DIFF_REQUEST.getData(dataContext);
  if (diffRequest != null) {
    return diffRequest;
  }
  final VirtualFile[] data=PlatformDataKeys.VIRTUAL_FILE_ARRAY.getData(dataContext);
  if (data == null || data.length != 2) {
    return null;
  }
  return getDiffRequest(project,data);
}
