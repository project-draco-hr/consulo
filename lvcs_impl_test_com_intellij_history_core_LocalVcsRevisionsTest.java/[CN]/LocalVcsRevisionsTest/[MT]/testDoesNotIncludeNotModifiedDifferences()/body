{
  vcs.beginChangeSet();
  vcs.createDirectory("dir1");
  vcs.createDirectory("dir1/dir2");
  vcs.createDirectory("dir1/dir3");
  vcs.createFile("dir1/dir2/file",cf(""),-1);
  vcs.endChangeSet(null);
  vcs.createFile("dir1/dir3/file",null,-1);
  List<Revision> rr=vcs.getRevisionsFor("dir1");
  Revision recent=rr.get(0);
  Revision prev=rr.get(1);
  Difference d=prev.getDifferenceWith(recent);
  assertEquals("dir1",d.getLeft().getName());
  assertEquals(NOT_MODIFIED,d.getKind());
  assertEquals(1,d.getChildren().size());
  d=d.getChildren().get(0);
  assertEquals("dir3",d.getLeft().getName());
  assertEquals(NOT_MODIFIED,d.getKind());
  assertEquals(1,d.getChildren().size());
}
