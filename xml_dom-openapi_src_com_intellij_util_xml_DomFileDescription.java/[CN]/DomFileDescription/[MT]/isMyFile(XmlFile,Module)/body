{
  final Namespace namespace=DomReflectionUtil.findAnnotationDFS(myRootElementClass,Namespace.class);
  if (namespace != null) {
    final String key=namespace.value();
    Set<String> allNs=new HashSet<String>(getAllowedNamespaces(key,file));
    if (allNs.isEmpty()) {
      return false;
    }
    XmlFileHeader header=DomService.getInstance().getXmlFileHeader(file);
    return allNs.contains(header.getPublicId()) || allNs.contains(header.getSystemId()) || allNs.contains(header.getRootTagNamespace());
  }
  return true;
}
