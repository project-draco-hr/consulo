{
  super(new BorderLayout(0,1));
  myConsole=console;
  myConsoleActions=consoleActions;
  myProperties=properties;
  mySplitterProportionProperty=splitterProportionProperty;
  mySplitterDefaultProportion=splitterDefaultProportion;
  myStatisticsSplitterProportionProperty=mySplitterProportionProperty + "_Statistics";
  final ToolWindowManagerListener listener=new ToolWindowManagerListener(){
    @Override public void toolWindowRegistered(    @NotNull String id){
    }
    @Override public void stateChanged(){
      final boolean splitVertically=splitVertically();
      myStatusLine.setPreferredSize(splitVertically);
      mySplitter.setOrientation(splitVertically);
      revalidate();
      repaint();
    }
  }
;
  ToolWindowManagerEx.getInstanceEx(properties.getProject()).addToolWindowManagerListener(listener,this);
}
