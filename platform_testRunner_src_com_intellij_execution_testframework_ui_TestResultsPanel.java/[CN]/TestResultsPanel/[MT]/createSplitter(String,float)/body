{
  final Splitter splitter=new Splitter(false);
  splitter.setHonorComponentsMinimumSize(true);
  final PropertiesComponent propertiesComponent=PropertiesComponent.getInstance();
  float proportion;
  final String value=propertiesComponent.getValue(proportionProperty);
  if (value != null) {
    try {
      proportion=Float.parseFloat(value);
    }
 catch (    NumberFormatException e) {
      proportion=defaultProportion;
    }
  }
 else {
    proportion=defaultProportion;
  }
  splitter.addPropertyChangeListener(new PropertyChangeListener(){
    @Override public void propertyChange(    final PropertyChangeEvent evt){
      if (propertiesComponent == null)       return;
      if (evt.getPropertyName().equals(Splitter.PROP_PROPORTION)) {
        propertiesComponent.setValue(proportionProperty,String.valueOf(splitter.getProportion()));
      }
    }
  }
);
  splitter.setProportion(proportion);
  return splitter;
}
