{
  VirtualFile dir=fileOrDir.isDirectory() ? fileOrDir : fileOrDir.getParent();
  if (dir == null)   return Collections.emptyList();
  final DirectoryInfo info=myDirectoryIndex.getInfoForDirectory(dir);
  if (info == null)   return Collections.emptyList();
  final List<OrderEntry> orderEntries=info.getOrderEntries();
  if (orderEntries.isEmpty())   return Collections.emptyList();
  final Module module=myModule;
  SmartList<OrderEntry> answer=null;
  final int size=orderEntries.size();
  for (int i=0; i < size; i++) {
    OrderEntry entry=orderEntries.get(i);
    if (entry.getOwnerModule() == module) {
      if (answer == null) {
        answer=new SmartList<OrderEntry>();
      }
      answer.add(entry);
    }
  }
  return answer == null ? Collections.<OrderEntry>emptyList() : answer;
}
