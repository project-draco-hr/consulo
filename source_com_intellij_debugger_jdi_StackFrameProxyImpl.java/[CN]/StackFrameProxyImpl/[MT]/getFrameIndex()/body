{
  DebuggerManagerThreadImpl.assertIsManagerThread();
  checkValid();
  if (myFrameIndex == -1) {
    int count=myThreadProxy.frameCount();
    if (myFrameFromBottomIndex > count)     throw EvaluateExceptionUtil.createEvaluateException(new IncompatibleThreadStateException());
    myFrameIndex=count - myFrameFromBottomIndex;
  }
  return myFrameIndex;
}
