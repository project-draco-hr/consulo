{
  final VirtualFile[] files=ModuleRootManager.getInstance(module).getContentRoots();
  final String moduleName=module.getName();
  for (  final VirtualFile file : files) {
    for (    final VcsDirectoryMapping mapping : myDirectoryMappingList.getDirectoryMappings()) {
      if (FileUtil.toSystemIndependentName(mapping.getDirectory()).equals(file.getPath())) {
        ApplicationManager.getApplication().invokeLater(new Runnable(){
          public void run(){
            if (myProject.isDisposed())             return;
            final String msg=VcsBundle.message("vcs.root.remove.prompt",FileUtil.toSystemDependentName(file.getPath()),moduleName);
            int rc=Messages.showYesNoDialog(myProject,msg,VcsBundle.message("vcs.root.remove.title"),Messages.getQuestionIcon());
            if (rc == 0) {
              myDirectoryMappingList.removeDirectoryMapping(mapping);
              updateActiveVcss();
            }
          }
        }
,ModalityState.NON_MODAL);
        break;
      }
    }
  }
}
