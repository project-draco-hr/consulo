{
  List<VirtualFile> result=new ArrayList<VirtualFile>();
  for (  VcsDirectoryMapping mapping : myDirectoryMappings) {
    if (mapping.getVcs().equals(vcs.getName())) {
      if (mapping.getDirectory().length() == 0) {
        addDefaultVcsRoots(vcs,result);
      }
 else {
        VirtualFile file=LocalFileSystem.getInstance().findFileByPath(mapping.getDirectory());
        if (file != null) {
          result.add(file);
        }
      }
    }
  }
  Collections.sort(result,new Comparator<VirtualFile>(){
    public int compare(    final VirtualFile o1,    final VirtualFile o2){
      return o1.getPath().compareTo(o2.getPath());
    }
  }
);
  int i=1;
  while (i < result.size()) {
    if (VfsUtil.isAncestor(result.get(i - 1),result.get(i),false)) {
      result.remove(i);
    }
 else {
      i++;
    }
  }
  return result.toArray(new VirtualFile[result.size()]);
}
