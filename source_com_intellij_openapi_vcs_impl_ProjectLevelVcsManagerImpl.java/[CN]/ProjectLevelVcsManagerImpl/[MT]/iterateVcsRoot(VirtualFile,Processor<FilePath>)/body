{
  Set<VirtualFile> filesToExclude=null;
  VcsDirectoryMapping mapping=getMappingFor(root);
  if (mapping != null) {
    for (    VcsDirectoryMapping otherMapping : myDirectoryMappings) {
      if (otherMapping != mapping && otherMapping.getDirectory().startsWith(mapping.getDirectory())) {
        if (filesToExclude == null) {
          filesToExclude=new HashSet<VirtualFile>();
        }
        filesToExclude.add(LocalFileSystem.getInstance().findFileByPath(otherMapping.getDirectory()));
      }
    }
  }
  iterateChildren(root,iterator,filesToExclude);
}
