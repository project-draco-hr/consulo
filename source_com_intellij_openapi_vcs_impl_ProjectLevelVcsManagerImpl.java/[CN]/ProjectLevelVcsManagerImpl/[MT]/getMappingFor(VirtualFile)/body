{
  if (file == null)   return null;
  if (myProject.isDisposed())   return null;
  if (!file.isInLocalFileSystem()) {
    return null;
  }
  String path=file.getPath();
  for (int i=myDirectoryMappings.size() - 1; i >= 0; i--) {
    final VcsDirectoryMapping mapping=myDirectoryMappings.get(i);
    if (fileMatchesMapping(file,path,mapping)) {
      return mapping;
    }
  }
  return null;
}
