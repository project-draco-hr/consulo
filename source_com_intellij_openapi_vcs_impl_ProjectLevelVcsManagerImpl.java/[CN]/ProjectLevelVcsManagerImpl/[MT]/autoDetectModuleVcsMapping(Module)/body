{
  final VirtualFile[] files=ModuleRootManager.getInstance(module).getContentRoots();
  for (  VirtualFile file : files) {
    AbstractVcs vcs=findVersioningVcs(file);
    if (vcs != null && vcs != getVcsFor(file)) {
      doSetDirectoryMapping(file.getPath(),vcs.getName());
    }
  }
  sortDirectoryMappings();
  removeRedundantMappings();
  updateActiveVcss();
}
