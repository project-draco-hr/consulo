{
  HashSet<AbstractVcs> oldActiveVcss=new HashSet<AbstractVcs>(myActiveVcss);
  myActiveVcss.clear();
  List<VcsDirectoryMapping> mappings=new ArrayList<VcsDirectoryMapping>(myDirectoryMappings);
  for (  VcsDirectoryMapping mapping : mappings) {
    if (mapping.getVcs().length() > 0) {
      AbstractVcs vcs=findVcsByName(mapping.getVcs());
      if (vcs != null && !myActiveVcss.contains(vcs)) {
        myActiveVcss.add(vcs);
        if (!oldActiveVcss.contains(vcs)) {
          vcs.activate();
        }
      }
    }
  }
  for (  AbstractVcs vcs : oldActiveVcss) {
    if (!myActiveVcss.contains(vcs)) {
      vcs.deactivate();
    }
  }
  notifyDirectoryMappingChanged();
}
