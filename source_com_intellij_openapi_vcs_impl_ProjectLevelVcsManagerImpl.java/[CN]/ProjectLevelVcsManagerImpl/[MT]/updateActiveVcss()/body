{
  HashSet<AbstractVcs> oldActiveVcss=new HashSet<AbstractVcs>(myActiveVcss);
  myActiveVcss.clear();
  for (  VcsDirectoryMapping mapping : myDirectoryMappings) {
    if (mapping.getVcs().length() > 0) {
      AbstractVcs vcs=findVcsByName(mapping.getVcs());
      LOG.assertTrue(vcs != null);
      if (!myActiveVcss.contains(vcs)) {
        myActiveVcss.add(vcs);
        if (!oldActiveVcss.contains(vcs)) {
          vcs.activate();
        }
      }
    }
  }
  for (  AbstractVcs vcs : oldActiveVcss) {
    if (!myActiveVcss.contains(vcs)) {
      vcs.deactivate();
    }
  }
  notifyDirectoryMappingChanged();
}
