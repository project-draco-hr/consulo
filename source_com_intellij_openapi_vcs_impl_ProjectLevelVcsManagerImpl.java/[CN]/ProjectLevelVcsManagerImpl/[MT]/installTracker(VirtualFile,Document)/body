{
  ApplicationManager.getApplication().assertIsDispatchThread();
  AbstractVcs activeVcs=getVcsFor(virtualFile);
  if (activeVcs == null)   return;
  if (virtualFile == null)   return;
  if (!(virtualFile.getFileSystem() instanceof LocalFileSystem))   return;
  UpToDateRevisionProvider upToDateRevisionProvider=activeVcs.getUpToDateRevisionProvider();
  if (upToDateRevisionProvider == null)   return;
  try {
    String lastUpToDateContent=upToDateRevisionProvider.getLastUpToDateContentFor(virtualFile);
    if (lastUpToDateContent == null)     return;
    setUpToDateContent(document,lastUpToDateContent);
  }
 catch (  VcsException e) {
  }
}
