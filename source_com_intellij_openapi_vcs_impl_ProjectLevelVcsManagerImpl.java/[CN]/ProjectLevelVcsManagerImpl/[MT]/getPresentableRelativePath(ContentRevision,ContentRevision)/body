{
  final VirtualFile oldFile=fromRevision.getFile().getParentPath().getVirtualFile();
  final VirtualFile newFile=toRevision.getFile().getParentPath().getVirtualFile();
  if (oldFile != null && newFile != null) {
    Module oldModule=ModuleUtil.findModuleForFile(oldFile,myProject);
    Module newModule=ModuleUtil.findModuleForFile(newFile,myProject);
    if (oldModule != newModule) {
      return getPresentableRelativePathFor(oldFile);
    }
  }
  return FileUtil.getRelativePath(toRevision.getFile().getIOFile(),fromRevision.getFile().getIOFile());
}
