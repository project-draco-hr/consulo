{
  final VirtualFile file=getVirtualFile();
  if (file == null || !file.isValid() || !(file.getFileType() instanceof ArchiveFileType)) {
    return null;
  }
  return JarFileSystem.getInstance().getJarRootForLocalFile(file);
}
