{
  if (!Boolean.TRUE.equals(getAttribute(CASE_INSENSITIVE))) {
    CompletionService.getCompletionService().correctCaseInsensitiveString(this,context);
  }
  final InsertHandler<? extends LookupElement> handler=getInsertHandler();
  if (handler != null) {
    ((InsertHandler)handler).handleInsert(context,this);
  }
  if (getTailType() != TailType.UNKNOWN && myInsertHandler == null) {
    context.setAddCompletionChar(false);
    final TailType type=handleCompletionChar(context.getEditor(),this,context.getCompletionChar());
    type.processTail(context.getEditor(),context.getTailOffset());
  }
}
