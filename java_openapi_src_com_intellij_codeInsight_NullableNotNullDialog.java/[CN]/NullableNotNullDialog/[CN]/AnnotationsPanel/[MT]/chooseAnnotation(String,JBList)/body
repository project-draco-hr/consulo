{
  final TreeClassChooser chooser=TreeClassChooserFactory.getInstance(myProject).createNoInnerClassesScopeChooser("Choose " + title + " annotation",GlobalSearchScope.allScope(myProject),new ClassFilter(){
    @Override public boolean isAccepted(    PsiClass aClass){
      return aClass.isAnnotationType();
    }
  }
,null);
  chooser.showDialog();
  final PsiClass selected=chooser.getSelected();
  if (selected == null) {
    return;
  }
  final String qualifiedName=selected.getQualifiedName();
  final DefaultListModel model=(DefaultListModel)list.getModel();
  final int index=model.indexOf(qualifiedName);
  if (index < 0) {
    model.addElement(qualifiedName);
  }
 else {
    myList.setSelectedIndex(index);
  }
}
