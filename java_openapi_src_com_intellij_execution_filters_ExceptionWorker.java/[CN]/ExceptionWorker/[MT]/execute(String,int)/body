{
  myResult=null;
  myInfo=parseExceptionLine(line);
  if (myInfo == null) {
    return;
  }
  myMethod=myInfo.getSecond().substring(line);
  final int lparenthIndex=myInfo.third.getStartOffset();
  final int rparenthIndex=myInfo.third.getEndOffset();
  final String fileAndLine=line.substring(lparenthIndex + 1,rparenthIndex).trim();
  final int colonIndex=fileAndLine.lastIndexOf(':');
  if (colonIndex < 0)   return;
  final String lineString=fileAndLine.substring(colonIndex + 1);
  try {
    final int lineNumber=Integer.parseInt(lineString);
    myClass=findPositionClass(line);
    myFile=myClass == null ? null : (PsiFile)myClass.getContainingFile().getNavigationElement();
    if (myFile == null) {
      PsiFile[] files=PsiShortNamesCache.getInstance(myProject).getFilesByName(fileAndLine.substring(0,colonIndex).trim());
      if (files.length > 0) {
        myFile=files[0];
      }
    }
    if (myFile == null)     return;
    final int textStartOffset=textEndOffset - line.length();
    final int highlightStartOffset=textStartOffset + lparenthIndex + 1;
    final int highlightEndOffset=textStartOffset + rparenthIndex;
    final VirtualFile virtualFile=myFile.getVirtualFile();
    HyperlinkInfo linkInfo=new HyperlinkInfo(){
      @Override public void navigate(      Project project){
        VirtualFile currentVirtualFile=null;
        AccessToken accessToken=ReadAction.start();
        try {
          if (!virtualFile.isValid())           return;
          PsiFile psiFile=PsiManager.getInstance(project).findFile(virtualFile);
          if (psiFile != null) {
            PsiElement navigationElement=psiFile.getNavigationElement();
            if (navigationElement instanceof PsiFile) {
              currentVirtualFile=((PsiFile)navigationElement).getVirtualFile();
            }
          }
          if (currentVirtualFile == null) {
            currentVirtualFile=virtualFile;
          }
        }
  finally {
          accessToken.finish();
        }
        new OpenFileHyperlinkInfo(myProject,currentVirtualFile,lineNumber - 1).navigate(project);
      }
    }
;
    TextAttributes attributes=HYPERLINK_ATTRIBUTES.clone();
    if (!ProjectRootManager.getInstance(myProject).getFileIndex().isInContent(virtualFile)) {
      Color color=UIUtil.getInactiveTextColor();
      attributes.setForegroundColor(color);
      attributes.setEffectColor(color);
    }
    myResult=new Filter.Result(highlightStartOffset,highlightEndOffset,linkInfo,attributes);
  }
 catch (  NumberFormatException e) {
  }
}
