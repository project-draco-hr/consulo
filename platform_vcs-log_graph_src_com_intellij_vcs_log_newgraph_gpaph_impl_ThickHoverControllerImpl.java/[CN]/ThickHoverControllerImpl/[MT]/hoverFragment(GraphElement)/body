{
  Edge collapsedEdge=MutableGraphWithHiddenNodes.containedCollapsedEdge(graphElement);
  if (collapsedEdge != null) {
    hoverNodes.add(collapsedEdge.getUpNodeVisibleIndex());
    hoverNodes.add(collapsedEdge.getDownNodeVisibleIndex());
    return;
  }
  GraphFragment fragment=myFragmentGenerator.getPartLongFragment(graphElement);
  if (fragment == null)   return;
  hoverNodes.add(fragment.upVisibleNodeIndex);
  hoverNodes.add(fragment.downVisibleNodeIndex);
  myDfsUtil.nodeDfsIterator(fragment.upVisibleNodeIndex,new DfsUtil.NextNode(){
    @Override public int fun(    int currentNode){
      for (      Edge downEdge : myMutableGraph.getNode(currentNode).getDownEdges()) {
        int downNode=downEdge.getDownNodeVisibleIndex();
        if (hoverNodes.add(downNode))         return downNode;
      }
      return DfsUtil.NextNode.NODE_NOT_FOUND;
    }
  }
);
}
