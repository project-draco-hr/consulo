{
  LOG.assertTrue(SwingUtilities.isEventDispatchThread());
  try {
    boolean done=false;
    for (int i=myHintsStack.size() - 1; i >= 0; i--) {
      final HintInfo info=myHintsStack.get(i);
      if (!info.hint.isVisible()) {
        myHintsStack.remove(i);
        info.hint.hide();
        continue;
      }
      if ((info.flags & mask) != 0 || editorChanged && !info.reviveOnEditorChange) {
        info.hint.hide();
        myHintsStack.remove(info);
        if (onlyOne) {
          return true;
        }
        done=true;
      }
    }
    return done;
  }
  finally {
    if (myHintsStack.isEmpty()) {
      updateLastEditor(null);
    }
  }
}
