{
  if (ApplicationManager.getApplication().isUnitTestMode())   return;
  JLayeredPane layeredPane=editor.getComponent().getRootPane().getLayeredPane();
  Dimension size=hint.getComponent().getPreferredSize();
  if (layeredPane.getWidth() < p.x + size.width) {
    p.x=Math.max(0,layeredPane.getWidth() - size.width);
  }
  if (hint.isVisible()) {
    hint.setLocation(p.x,p.y);
  }
 else {
    hint.show(layeredPane,p.x,p.y,editor.getContentComponent());
  }
}
