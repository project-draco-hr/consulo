{
  Converter converter=domValue.getConverter();
  if (converter instanceof PsiReferenceConverter) {
    return ((PsiReferenceConverter)converter).createReferences(psiElement,false);
  }
  final Class clazz=DomUtil.getGenericValueParameter(domValue.getDomElementType());
  if (PsiType.class.isAssignableFrom(clazz)) {
    return new PsiReference[]{new PsiTypeReference(this,(GenericDomValue<PsiType>)domValue)};
  }
  if (PsiClass.class.isAssignableFrom(clazz)) {
    ExtendClass extendClass=((DomElement)domValue).getAnnotation(ExtendClass.class);
    JavaClassReferenceProvider provider=extendClass == null ? new JavaClassReferenceProvider() : new JavaClassReferenceProvider(extendClass.value());
    return provider.getReferencesByElement(psiElement);
  }
  if (Integer.class.isAssignableFrom(clazz)) {
    return new PsiReference[]{new GenericDomValueReference(this,domValue){
      public Object[] getVariants(){
        return new Object[]{"239","42"};
      }
    }
};
  }
  if (String.class.isAssignableFrom(clazz)) {
    return PsiReference.EMPTY_ARRAY;
  }
  PsiReferenceFactory provider=myProviders.get(clazz);
  if (provider != null) {
    return provider.getReferencesByElement(psiElement);
  }
  return new PsiReference[]{new GenericDomValueReference(this,domValue)};
}
