{
synchronized (myLocalRefsMap) {
    for (Iterator<PsiReference> iterator=myLocalRefsMap.keySet().iterator(); iterator.hasNext(); ) {
      PsiReference ref=iterator.next();
      if (!ref.getElement().isValid()) {
        PsiElement value=myLocalRefsMap.get(ref);
        iterator.remove();
        List<PsiReference> array=myLocalRefsMap.getKeysByValue(value);
        LOG.assertTrue(array != null);
        array.remove(ref);
      }
    }
  }
  for (Iterator<PsiReference> iterator=myImportStatements.keySet().iterator(); iterator.hasNext(); ) {
    PsiReference ref=iterator.next();
    if (!ref.getElement().isValid()) {
      iterator.remove();
    }
  }
  removeInvalidFrom(myDclsUsedMap.keySet());
  removeInvalidFrom(myPossiblyDuplicateElements.keySet());
}
