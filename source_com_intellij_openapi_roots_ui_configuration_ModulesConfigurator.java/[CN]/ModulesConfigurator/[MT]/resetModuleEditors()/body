{
  myModuleModel=ModuleManager.getInstance(myProject).getModifiableModel();
  ApplicationManager.getApplication().runWriteAction(new Runnable(){
    public void run(){
      for (      final ModuleEditor moduleEditor : myModuleEditors) {
        moduleEditor.removeChangeListener(ModulesConfigurator.this);
      }
      myModuleEditors.clear();
      final Module[] modules=myModuleModel.getModules();
      if (modules.length > 0) {
        for (        Module module : modules) {
          createModuleEditor(module,null);
        }
        Collections.sort(myModuleEditors,myModuleEditorComparator);
      }
    }
  }
);
  myFacetsConfigurator.resetEditors();
  myModified=false;
}
