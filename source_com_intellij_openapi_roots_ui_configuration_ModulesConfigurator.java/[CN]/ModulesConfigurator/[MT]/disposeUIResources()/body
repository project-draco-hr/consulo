{
synchronized (myModuleEditors) {
    for (    final ModuleEditor moduleEditor : myModuleEditors) {
      final ModifiableRootModel model=moduleEditor.dispose();
      if (model != null) {
        model.dispose();
      }
    }
    myModuleEditors.clear();
  }
  ApplicationManager.getApplication().runWriteAction(new Runnable(){
    public void run(){
      myModuleModel.dispose();
    }
  }
);
}
