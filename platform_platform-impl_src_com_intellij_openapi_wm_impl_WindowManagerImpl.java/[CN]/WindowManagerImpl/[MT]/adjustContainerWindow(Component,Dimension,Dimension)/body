{
  if (c == null)   return;
  Window wnd=SwingUtilities.getWindowAncestor(c);
  if (wnd instanceof JWindow) {
    JBPopup popup=(JBPopup)((JWindow)wnd).getRootPane().getClientProperty(JBPopup.KEY);
    if (popup != null) {
      if (oldSize.height < newSize.height) {
        Dimension size=popup.getSize();
        size.height+=newSize.height - oldSize.height;
        popup.setSize(size);
        popup.moveToFitScreen();
      }
    }
  }
}
