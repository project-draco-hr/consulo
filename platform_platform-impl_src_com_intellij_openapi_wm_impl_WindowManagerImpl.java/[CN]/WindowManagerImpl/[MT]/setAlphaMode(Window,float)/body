{
  try {
    if (SystemInfo.isMacOSLeopard) {
      if (window instanceof JWindow) {
        ((JWindow)window).getRootPane().putClientProperty("Window.alpha",1.0f - ratio);
      }
 else       if (window instanceof JDialog) {
        ((JDialog)window).getRootPane().putClientProperty("Window.alpha",1.0f - ratio);
      }
 else       if (window instanceof JFrame) {
        ((JFrame)window).getRootPane().putClientProperty("Window.alpha",1.0f - ratio);
      }
    }
 else     if (AWTUtilitiesWrapper.isTranslucencySupported(AWTUtilitiesWrapper.TRANSLUCENT)) {
      AWTUtilitiesWrapper.setWindowOpacity(window,1.0f - ratio);
    }
 else {
      WindowUtils.setWindowAlpha(window,1.0f - ratio);
    }
  }
 catch (  Throwable e) {
    LOG.debug(e);
  }
}
