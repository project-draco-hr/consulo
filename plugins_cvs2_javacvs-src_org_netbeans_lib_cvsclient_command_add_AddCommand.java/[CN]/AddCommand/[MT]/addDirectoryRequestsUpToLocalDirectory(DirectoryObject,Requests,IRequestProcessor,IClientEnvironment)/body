{
  final DirectoryObject parentDirectoryObject=directoryObject.getParent();
  if (parentDirectoryObject == null) {
    return null;
  }
  DirectoryObject parentDirectoryUnderCvsControl;
  if (clientEnvironment.getAdminReader().hasCvsDirectory(parentDirectoryObject,clientEnvironment.getCvsFileSystem())) {
    parentDirectoryUnderCvsControl=parentDirectoryObject;
    requests.addDirectoryRequest(DirectoryObject.getRoot());
    addDirectoryRequest(parentDirectoryUnderCvsControl,requests);
  }
 else {
    parentDirectoryUnderCvsControl=addDirectoryRequestsUpToLocalDirectory(parentDirectoryObject,requests,requestProcessor,clientEnvironment);
    if (parentDirectoryUnderCvsControl == null) {
      parentDirectoryUnderCvsControl=parentDirectoryObject;
    }
  }
  addDirectoryRequest(directoryObject,requests);
  return parentDirectoryObject;
}
