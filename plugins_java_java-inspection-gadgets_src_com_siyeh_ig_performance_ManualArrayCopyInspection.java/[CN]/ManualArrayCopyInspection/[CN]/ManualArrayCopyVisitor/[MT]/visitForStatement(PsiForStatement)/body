{
  super.visitForStatement(statement);
  final PsiStatement initialization=statement.getInitialization();
  if (!(initialization instanceof PsiDeclarationStatement)) {
    return;
  }
  final PsiDeclarationStatement declaration=(PsiDeclarationStatement)initialization;
  final PsiElement[] declaredElements=declaration.getDeclaredElements();
  if (declaredElements.length != 1) {
    return;
  }
  final PsiElement declaredElement=declaredElements[0];
  if (!(declaredElement instanceof PsiLocalVariable)) {
    return;
  }
  final PsiLocalVariable variable=(PsiLocalVariable)declaredElement;
  final PsiExpression initialValue=variable.getInitializer();
  if (initialValue == null) {
    return;
  }
  final PsiStatement update=statement.getUpdate();
  final boolean decrement;
  if (VariableAccessUtils.variableIsIncremented(variable,update)) {
    decrement=false;
  }
 else   if (VariableAccessUtils.variableIsDecremented(variable,update)) {
    decrement=true;
  }
 else {
    return;
  }
  final PsiExpression condition=statement.getCondition();
  if (decrement) {
    if (!ExpressionUtils.isVariableGreaterThanComparison(condition,variable)) {
      return;
    }
  }
 else {
    if (!ExpressionUtils.isVariableLessThanComparison(condition,variable)) {
      return;
    }
  }
  final PsiStatement body=statement.getBody();
  if (!bodyIsArrayCopy(body,variable,null)) {
    return;
  }
  registerStatementError(statement,Boolean.valueOf(decrement));
}
