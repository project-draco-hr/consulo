{
  if (!typesEqual(oldNode,newNode))   return ThreeState.NO;
  if (oldNode instanceof ChameleonElement) {
    return ((TreeElement)newNode).textMatches(oldNode.getText()) ? ThreeState.YES : ThreeState.UNSURE;
  }
  if (newNode instanceof ChameleonElement) {
    return ((TreeElement)oldNode).textMatches(newNode.getText()) ? ThreeState.YES : ThreeState.UNSURE;
  }
  return ThreeState.UNSURE;
}
