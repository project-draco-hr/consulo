{
  long millis=System.currentTimeMillis();
  long diff=millis - myLastSampling - SAMPLING_INTERVAL_MS;
  myLastSampling=millis;
  while (diff >= 0) {
    myGeneralApdex=myGeneralApdex.withEvent(TOLERABLE_LATENCY,diff);
    diff-=SAMPLING_INTERVAL_MS;
  }
  long sinceLastEdt=millis - myLastAliveEdt;
  if (sinceLastEdt >= UNRESPONSIVE_THRESHOLD_SECONDS * 1000 + 10) {
    edtFrozen(millis);
  }
 else   if (sinceLastEdt <= SAMPLING_INTERVAL_MS) {
    edtResponds(millis);
  }
  SwingUtilities.invokeLater(new SwingThreadRunnable(millis));
}
