{
  GitSimpleHandler h=new GitSimpleHandler(myProject,myRoot,GitCommand.DIFF);
  h.setSilent(true);
  h.setNoSSH(true);
  h.addParameters("--name-status","--diff-filter=ADMRUX",revisions);
  for (StringScanner s=new StringScanner(h.run()); s.hasMoreData(); ) {
    if (s.isEol()) {
      s.nextLine();
      continue;
    }
    char status=s.peek();
    s.boundedToken('\t');
    final String relative=s.line();
    if (myUnmergedPaths.contains(relative)) {
      continue;
    }
    String path=root + "/" + GitUtil.unescapePath(relative);
switch (status) {
case 'M':
      updated.add(path);
    break;
case 'A':
  created.add(path);
break;
case 'D':
removed.add(path);
break;
default :
throw new IllegalStateException("Unexpected status: " + status);
}
}
}
