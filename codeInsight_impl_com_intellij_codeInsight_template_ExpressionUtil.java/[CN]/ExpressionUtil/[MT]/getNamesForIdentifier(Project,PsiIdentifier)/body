{
  if (identifier.getParent() instanceof PsiVariable) {
    PsiVariable var=(PsiVariable)identifier.getParent();
    if (identifier.equals(var.getNameIdentifier())) {
      CodeStyleManager codeStyleManager=CodeStyleManager.getInstance(project);
      VariableKind variableKind=codeStyleManager.getVariableKind(var);
      PsiExpression initializer=var.getInitializer();
      if (var instanceof PsiParameter && ((PsiParameter)var).getDeclarationScope() instanceof PsiForeachStatement) {
        PsiForeachStatement foreachStatement=(PsiForeachStatement)((PsiParameter)var).getDeclarationScope();
        final PsiExpression iteratedValue=foreachStatement.getIteratedValue();
        if (iteratedValue != null) {
          try {
            final PsiArrayAccessExpression expr=(PsiArrayAccessExpression)iteratedValue.getManager().getElementFactory().createExpressionFromText("a[0]",var);
            expr.getArrayExpression().replace(iteratedValue);
            initializer=expr;
          }
 catch (          IncorrectOperationException e) {
          }
        }
      }
      SuggestedNameInfo suggestedInfo=codeStyleManager.suggestVariableName(variableKind,null,initializer,var.getType());
      return suggestedInfo.names;
    }
  }
  return null;
}
