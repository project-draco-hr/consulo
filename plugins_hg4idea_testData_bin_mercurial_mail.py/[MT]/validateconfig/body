def validateconfig(ui):
    'determine if we have enough config data to try sending email.'
    method = ui.config('email', 'method', 'smtp')
    if (method == 'smtp'):
        if (not ui.config('smtp', 'host')):
            raise util.Abort(_('smtp specified as email transport, but no smtp host configured'))
    elif (not util.find_exe(method)):
        raise util.Abort((_('%r specified as email transport, but not in PATH') % method))
