{
  final UsageViewImpl[] usageView=new UsageViewImpl[]{null};
  final Application application=ApplicationManager.getApplication();
  final SearchForUsagesRunnable runnable=(SearchForUsagesRunnable)createSearchRunnable(usageView,presentation,searchFor,searcherFactory,showNotFoundMessage,showPanelIfOnlyOneUsage,application);
  UsageViewImplUtil.runProcessWithProgress(progressIndicatorFactory.create(),new Runnable(){
    public void run(){
      runnable.searchUsages();
      if (usageView[0] != null)       usageView[0].setProgressIndicatorFactory(progressIndicatorFactory);
    }
  }
,new Runnable(){
    public void run(){
      runnable.endSearchForUsages();
    }
  }
);
  return usageView[0];
}
