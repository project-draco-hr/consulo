{
  final AtomicReference<UsageViewImpl> usageView=new AtomicReference<UsageViewImpl>();
  FindUsagesProcessPresentation processPresentation=new FindUsagesProcessPresentation();
  processPresentation.setShowNotFoundMessage(showNotFoundMessage);
  processPresentation.setShowPanelIfOnlyOneUsage(showPanelIfOnlyOneUsage);
  ProgressManager.getInstance().runProcessWithProgressAsynchronously(myProject,getProgressTitle(presentation),new SearchForUsagesRunnable(usageView,presentation,searchFor,searcherFactory,processPresentation,listener),null,null,new SearchInBackgroundOption());
  return usageView.get();
}
