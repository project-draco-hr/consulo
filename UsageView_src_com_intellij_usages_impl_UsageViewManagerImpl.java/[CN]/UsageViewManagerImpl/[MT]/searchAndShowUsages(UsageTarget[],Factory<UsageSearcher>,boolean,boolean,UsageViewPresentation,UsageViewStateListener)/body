{
  final Ref<UsageViewImpl> usageView=new Ref<UsageViewImpl>();
  FindUsagesProcessPresentation processPresentation=new FindUsagesProcessPresentation();
  processPresentation.setShowNotFoundMessage(showNotFoundMessage);
  processPresentation.setShowPanelIfOnlyOneUsage(showPanelIfOnlyOneUsage);
  ProgressManager.getInstance().runProcessWithProgressSynchronously(new SearchForUsagesRunnable(usageView,presentation,searchFor,searcherFactory,processPresentation,listener),getProgressTitle(presentation),true,myProject);
  return usageView.get();
}
