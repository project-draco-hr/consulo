{
  final AtomicReference<UsageViewImpl> usageView=new AtomicReference<UsageViewImpl>();
  final SearchForUsagesRunnable runnable=new SearchForUsagesRunnable(usageView,presentation,searchFor,searcherFactory,processPresentation,listener);
  final Factory<ProgressIndicator> progressIndicatorFactory=processPresentation.getProgressIndicatorFactory();
  UsageViewImplUtil.runProcessWithProgress(progressIndicatorFactory != null ? progressIndicatorFactory.create() : null,new Runnable(){
    public void run(){
      runnable.searchUsages();
    }
  }
,new Runnable(){
    public void run(){
      runnable.endSearchForUsages();
    }
  }
);
}
