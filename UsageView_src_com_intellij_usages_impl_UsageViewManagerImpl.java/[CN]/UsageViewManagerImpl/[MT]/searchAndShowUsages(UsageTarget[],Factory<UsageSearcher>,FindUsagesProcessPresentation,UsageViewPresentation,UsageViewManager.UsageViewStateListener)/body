{
  final UsageViewImpl[] usageView=new UsageViewImpl[]{null};
  final SearchForUsagesRunnable runnable=new SearchForUsagesRunnable(usageView,presentation,searchFor,searcherFactory,processPresentation,listener);
  final Factory<ProgressIndicator> progressIndicatorFactory=processPresentation.getProgressIndicatorFactory();
  UsageViewImplUtil.runProcessWithProgress((progressIndicatorFactory != null) ? progressIndicatorFactory.create() : null,new Runnable(){
    public void run(){
      runnable.searchUsages();
      if (usageView[0] != null) {
        usageView[0].setProgressIndicatorFactory(progressIndicatorFactory);
      }
    }
  }
,new Runnable(){
    public void run(){
      runnable.endSearchForUsages();
    }
  }
);
}
