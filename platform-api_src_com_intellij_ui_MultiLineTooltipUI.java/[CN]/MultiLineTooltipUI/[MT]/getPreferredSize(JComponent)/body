{
  FontMetrics metrics=c.getFontMetrics(c.getFont());
  String tipText=((JToolTip)c).getTipText();
  if (tipText == null) {
    tipText="";
  }
  int maxWidth=0;
  myLines.clear();
  final String[] lines=LineTokenizer.tokenize(tipText.toCharArray(),false);
  for (  String line : lines) {
    myLines.add(line);
    int width=SwingUtilities.computeStringWidth(metrics,line);
    if (width > maxWidth) {
      maxWidth=width;
    }
  }
  int height=metrics.getHeight() * ((lines.length < 1) ? 1 : lines.length);
  return new Dimension(maxWidth + 6,height + 4);
}
