{
  int hash=myStorageData.getHash();
  if (myPathMacroSubstitutor != null) {
    hash=31 * hash + myPathMacroSubstitutor.hashCode();
  }
  if (myUpToDateHash != null && hash == myUpToDateHash.intValue())   return false;
  myUpToDateHash=null;
  try {
    if (!myFile.exists())     return true;
    final byte[] text=StorageUtil.printDocument(getDocumentToSave());
    if (Arrays.equals(myFile.loadBytes(),text)) {
      myUpToDateHash=hash;
      return false;
    }
    return true;
  }
 catch (  IOException e) {
    LOG.debug(e);
    return true;
  }
}
