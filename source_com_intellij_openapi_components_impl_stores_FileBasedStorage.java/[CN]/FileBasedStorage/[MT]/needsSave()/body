{
  sort();
  final Document document=getDocument();
  if (myUpToDateTreeHash != null && JDOMUtil.getTreeHash(document.getRootElement()) == myUpToDateTreeHash.intValue())   return false;
  myUpToDateTreeHash=null;
  try {
    if (!myFile.exists())     return true;
    final byte[] text=StorageUtil.printDocument(document);
    if (Arrays.equals(myFile.loadBytes(),text)) {
      myUpToDateTreeHash=JDOMUtil.getTreeHash(document.getRootElement());
      return false;
    }
    return true;
  }
 catch (  IOException e) {
    LOG.debug(e);
    return true;
  }
}
