{
  final ExternalResourceManager erm=ExternalResourceManager.getInstance();
  final List<String> allURIs=new ArrayList<String>(Arrays.asList(erm.getResourceUrls(null,true)));
  final Collection<Namespace> namespaces=myNamespaceTableModel.getNamespaces();
  for (  Namespace namespace : namespaces) {
    allURIs.remove(namespace.getUri());
  }
  Collections.sort(allURIs);
  final Project project=LangDataKeys.PROJECT.getData(e.getDataContext());
  final AddNamespaceDialog dlg=new AddNamespaceDialog(project,myUnresolvedPrefixes,allURIs,AddNamespaceDialog.Mode.EDITABLE);
  dlg.show();
  if (dlg.isOK()) {
    myNamespaceTableModel.addNamespace(new Namespace(dlg.getPrefix(),dlg.getURI()));
  }
}
