{
  super(project,false);
  myUnresolvedPrefixes=unresolvedPrefixes;
  setTitle("Edit XPath Context");
  setModal(true);
  myContextProvider=new MyContextProvider(contextProvider);
  final List<Variable> m=copy(variables);
  myVariableTableModel=new VariableTableModel(m,project,XPathFileType.XPATH);
  myVariableTable=new Table(myVariableTableModel);
  myVariableTable.setDefaultRenderer(String.class,new VariableCellRenderer(m));
  myVariableTable.setDefaultRenderer(Expression.class,new ExpressionCellRenderer(project));
  myVariableTable.setDefaultEditor(Expression.class,new ExpressionCellEditor(project));
  int width=new JLabel("Name").getPreferredSize().width;
  myVariableTable.getColumnModel().getColumn(0).setMinWidth(width);
  myVariableTable.getColumnModel().getColumn(0).setMaxWidth(width * 5);
  myVariableTable.setPreferredScrollableViewportSize(new Dimension(200,130));
  final List<Namespace> n=copy(namespaces);
  myNamespaceTableModel=new NamespaceTableModel(n);
  myNamespaceTable=new Table(myNamespaceTableModel);
  myNamespaceTable.setDefaultRenderer(String.class,new NamespaceCellRenderer(n));
  width=new JLabel("Prefix").getPreferredSize().width;
  myNamespaceTable.getColumnModel().getColumn(0).setMinWidth(width);
  myNamespaceTable.getColumnModel().getColumn(0).setMaxWidth(width * 4);
  myNamespaceTable.setPreferredScrollableViewportSize(new Dimension(200,150));
  init();
}
