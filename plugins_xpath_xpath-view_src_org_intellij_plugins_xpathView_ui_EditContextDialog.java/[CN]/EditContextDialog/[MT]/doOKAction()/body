{
  stopVarEditing();
  stopNamespaceEditing();
  final List<Expression> expressions=myVariableTableModel.getExpressions();
  for (int i=0; i < expressions.size(); i++) {
    final Expression expression=expressions.get(i);
    final String name=(String)myVariableTableModel.getValueAt(i,0);
    final String expr=expression.getExpression();
    if ((expr == null || expr.trim().length() == 0) && (name == null || name.trim().length() == 0)) {
      continue;
    }
    final String error=getError(expression);
    if (error != null) {
      Messages.showErrorDialog(expression.getFile().getProject(),"Error in XPath Expression for Variable '" + name + "': "+ error,"XPath Error");
      myVariableTable.getSelectionModel().setSelectionInterval(i,i);
      return;
    }
  }
  super.doOKAction();
}
