{
  createProjectSubFile("res/file.properties");
  importProject("<groupId>test</groupId>" + "<artifactId>project</artifactId>" + "<version>1</version>"+ "<build>"+ "  <resources>"+ "    <resource>"+ "      <directory>res</directory>"+ "    </resource>"+ "  </resources>"+ "</build>");
  compileModules("project");
  assertCopied("target/classes/file.properties");
  new WriteCommandAction.Simple(myProject){
    @Override protected void run() throws Throwable {
      myProjectPom.getParent().findFileByRelativePath("target").delete(this);
    }
  }
.execute().throwException();
  compileModules("project");
  assertCopied("target/classes/file.properties");
}
