{
synchronized (lock) {
    myData.add(element);
  }
  myAlarm.addRequest(new Runnable(){
    @Override public void run(){
      myAlarm.cancelAllRequests();
      final ListModel listModel=myList.getModel();
synchronized (lock) {
        if (comparator != null) {
          Collections.sort(myData,comparator);
        }
        ((NameFilteringListModel)listModel).replaceAll(myData);
      }
      ((JComponent)myList.getParent().getParent()).revalidate();
      myPopup.setSize(myList.getParent().getParent().getPreferredSize());
      myList.repaint();
      myPopup.setCaption(getCaption(getCurrentSize()));
    }
  }
,10,ModalityState.stateForComponent(myList));
}
