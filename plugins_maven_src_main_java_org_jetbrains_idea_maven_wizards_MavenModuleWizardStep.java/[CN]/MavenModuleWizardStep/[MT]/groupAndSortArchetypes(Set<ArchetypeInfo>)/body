{
  List<ArchetypeInfo> list=new ArrayList<ArchetypeInfo>(archetypes);
  Collections.sort(list,new Comparator<ArchetypeInfo>(){
    public int compare(    ArchetypeInfo o1,    ArchetypeInfo o2){
      String key1=o1.groupId + ":" + o1.artifactId;
      String key2=o2.groupId + ":" + o2.artifactId;
      int result=key1.compareToIgnoreCase(key2);
      if (result != 0)       return result;
      return o2.version.compareToIgnoreCase(o1.version);
    }
  }
);
  Map<String,List<ArchetypeInfo>> map=new TreeMap<String,List<ArchetypeInfo>>();
  for (  ArchetypeInfo each : list) {
    String key=each.groupId + ":" + each.artifactId;
    List<ArchetypeInfo> versions=map.get(key);
    if (versions == null) {
      versions=new ArrayList<ArchetypeInfo>();
      map.put(key,versions);
    }
    versions.add(each);
  }
  DefaultMutableTreeNode result=new DefaultMutableTreeNode("root",true);
  for (  List<ArchetypeInfo> each : map.values()) {
    ArchetypeInfo eachArchetype=each.get(0);
    DefaultMutableTreeNode node=new DefaultMutableTreeNode(eachArchetype,true);
    for (    ArchetypeInfo eachVersion : each) {
      DefaultMutableTreeNode versionNode=new DefaultMutableTreeNode(eachVersion,false);
      node.add(versionNode);
    }
    result.add(node);
  }
  return result;
}
