{
  for (  GrTopLevelDefinition definition : myFile.getTopLevelDefinitions()) {
    if (!(definition instanceof PsiClass)) {
      if (!ResolveUtil.processElement(processor,definition,state))       return false;
    }
  }
  for (  GrVariable variable : getScriptFields()) {
    if (!ResolveUtil.processElement(processor,variable,state)) {
      return false;
    }
  }
  if (!ResolveUtil.processElement(processor,myMainMethod,state) || !ResolveUtil.processElement(processor,myRunMethod,state)) {
    return false;
  }
  final PsiClass scriptClass=getSuperClass();
  if (scriptClass != null && !scriptClass.processDeclarations(new BaseScopeProcessor(){
    public boolean execute(    PsiElement element,    ResolveState state){
      return !(element instanceof PsiNamedElement) || ResolveUtil.processElement(processor,(PsiNamedElement)element,state);
    }
    @Override public <T>T getHint(    Key<T> hintKey){
      return processor.getHint(hintKey);
    }
  }
,state,lastParent,place)) {
    return false;
  }
  return true;
}
