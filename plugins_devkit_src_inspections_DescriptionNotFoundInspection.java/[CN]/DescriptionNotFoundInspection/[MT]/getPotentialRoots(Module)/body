{
  final List<VirtualFile> roots=new ArrayList<VirtualFile>(Arrays.asList(ModuleRootManager.getInstance(module).getSourceRoots()));
  for (  Module m : ModuleRootManager.getInstance(module).getDependencies()) {
    roots.addAll(Arrays.asList(ModuleRootManager.getInstance(m).getSourceRoots()));
  }
  return roots;
}
