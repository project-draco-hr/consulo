{
  final boolean shouldHighlight=super.shouldHighlightFile(file);
  if (!shouldHighlight)   return false;
  if (file.getFileType() == StdFileTypes.JAVA) {
    final VirtualFile virtualFile=file.getVirtualFile();
    if (virtualFile != null && ProjectRootManager.getInstance(file.getProject()).getFileIndex().isInLibrarySource(virtualFile))     return false;
  }
  return shouldHighlight;
}
