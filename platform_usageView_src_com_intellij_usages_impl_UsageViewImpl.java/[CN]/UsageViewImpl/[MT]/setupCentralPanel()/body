{
  myCentralPanel.removeAll();
  if (myUsagePreviewPanel != null) {
    Disposer.dispose(myUsagePreviewPanel);
    myUsagePreviewPanel=null;
  }
  JScrollPane pane=ScrollPaneFactory.createScrollPane(myTree);
  if (UsageViewSettings.getInstance().IS_PREVIEW_USAGES) {
    Splitter splitter=new Splitter(false,UsageViewSettings.getInstance().PREVIEW_USAGES_SPLITTER_PROPORTIONS);
    pane.putClientProperty(UIUtil.KEEP_BORDER_SIDES,SideBorder.RIGHT);
    splitter.setFirstComponent(pane);
    myUsagePreviewPanel=new UsagePreviewPanel(myProject);
    myUsagePreviewPanel.setBorder(IdeBorderFactory.createBorder(SideBorder.LEFT));
    Disposer.register(this,myUsagePreviewPanel);
    splitter.setSecondComponent(myUsagePreviewPanel);
    myCentralPanel.add(splitter,BorderLayout.CENTER);
  }
 else {
    myCentralPanel.add(pane,BorderLayout.CENTER);
  }
  myCentralPanel.add(myButtonPanel,BorderLayout.SOUTH);
  myRootPanel.revalidate();
}
