{
  ApplicationManager.getApplication().assertReadAccessAllowed();
  if (!usage.isValid()) {
    return null;
  }
  UsageNode node=myBuilder.appendUsage(usage,new Consumer<Runnable>(){
    @Override public void consume(    Runnable runnable){
      myTransferToEDTQueue.offer(runnable);
    }
  }
);
  if (node != null) {
    node.update(this);
  }
  myUsageNodes.put(usage,node == null ? NULL_NODE : node);
  return node;
}
