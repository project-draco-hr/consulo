{
  myTree.getSelectionModel().addTreeSelectionListener(new TreeSelectionListener(){
    @Override public void valueChanged(    TreeSelectionEvent e){
      final TreePath path=e.getOldLeadSelectionPath();
      if (path != null) {
        final MyNode node=(MyNode)path.getLastPathComponent();
        final NamedConfigurable namedConfigurable=node.getConfigurable();
        if (namedConfigurable instanceof ScopeConfigurable) {
          ((ScopeConfigurable)namedConfigurable).cancelCurrentProgress();
        }
      }
    }
  }
);
  super.initTree();
  myTree.setShowsRootHandles(false);
  new TreeSpeedSearch(myTree,new Convertor<TreePath,String>(){
    @Override public String convert(    final TreePath treePath){
      return ((MyNode)treePath.getLastPathComponent()).getDisplayName();
    }
  }
,true);
  myTree.getEmptyText().setText(IdeBundle.message("scopes.no.scoped"));
}
