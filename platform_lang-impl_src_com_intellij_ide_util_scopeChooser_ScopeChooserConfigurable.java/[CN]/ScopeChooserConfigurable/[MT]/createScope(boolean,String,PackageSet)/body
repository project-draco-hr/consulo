{
  final String newName=Messages.showInputDialog(myTree,IdeBundle.message("add.scope.name.label"),title,Messages.getInformationIcon(),createUniqueName(),new InputValidator(){
    @Override public boolean checkInput(    String inputString){
      final NamedScopesHolder holder=isLocal ? myLocalScopesManager : mySharedScopesManager;
      for (      NamedScope scope : holder.getPredefinedScopes()) {
        if (Comparing.strEqual(scope.getName(),inputString.trim())) {
          return false;
        }
      }
      return inputString.trim().length() > 0;
    }
    @Override public boolean canClose(    String inputString){
      return checkInput(inputString);
    }
  }
);
  if (newName != null) {
    final NamedScope scope=new NamedScope(newName,set);
    addNewScope(scope,isLocal);
  }
}
