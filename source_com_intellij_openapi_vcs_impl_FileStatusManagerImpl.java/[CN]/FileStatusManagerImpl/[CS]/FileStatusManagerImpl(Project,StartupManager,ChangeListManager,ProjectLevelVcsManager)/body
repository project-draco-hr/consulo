{
  myProject=project;
  myVcsManager=vcsManager;
  startupManager.registerPostStartupActivity(new Runnable(){
    public void run(){
      fileStatusesChanged();
    }
  }
);
  changeListManager.addChangeListListener(new ChangeListListener(){
    public void changeListAdded(    ChangeList list){
      fileStatusesChanged();
    }
    public void changeListRemoved(    ChangeList list){
      fileStatusesChanged();
    }
    public void changeListChanged(    ChangeList list){
      fileStatusesChanged();
    }
    public void changeListRenamed(    ChangeList list,    String oldName){
    }
    public void changesMoved(    Collection<Change> change,    ChangeList fromList,    ChangeList toList){
    }
    public void defaultListChanged(    ChangeList newDefaultList){
      fileStatusesChanged();
    }
    public void changeListUpdateDone(){
      ProjectLevelVcsManagerImpl vcsManager=(ProjectLevelVcsManagerImpl)myVcsManager;
      if (vcsManager.hasEmptyContentRevisions()) {
        vcsManager.resetHaveEmptyContentRevisions();
        fileStatusesChanged();
      }
    }
  }
);
}
