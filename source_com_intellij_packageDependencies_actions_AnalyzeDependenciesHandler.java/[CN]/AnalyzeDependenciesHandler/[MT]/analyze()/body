{
  final DependenciesBuilder forwardBuilder=new ForwardDependenciesBuilder(myProject,myScope);
  if (ProgressManager.getInstance().runProcessWithProgressSynchronously(new Runnable(){
    public void run(){
      forwardBuilder.analyze();
    }
  }
,AnalysisScopeBundle.message("package.dependencies.progress.title"),true,myProject)) {
    DependenciesPanel panel=new DependenciesPanel(myProject,forwardBuilder);
    Content content=PeerFactory.getInstance().getContentFactory().createContent(panel,AnalysisScopeBundle.message("package.dependencies.toolwindow.title",forwardBuilder.getScope().getDisplayName()),false);
    content.setDisposer(panel);
    panel.setContent(content);
    ((DependencyValidationManagerImpl)DependencyValidationManager.getInstance(myProject)).addContent(content);
  }
}
