{
  final DependenciesBuilder forwardBuilder=new ForwardDependenciesBuilder(myProject,myScope);
  final Runnable process=new Runnable(){
    public void run(){
      forwardBuilder.analyze();
    }
  }
;
  final Runnable successRunnable=new Runnable(){
    public void run(){
      SwingUtilities.invokeLater(new Runnable(){
        public void run(){
          DependenciesPanel panel=new DependenciesPanel(myProject,forwardBuilder);
          Content content=PeerFactory.getInstance().getContentFactory().createContent(panel,AnalysisScopeBundle.message("package.dependencies.toolwindow.title",forwardBuilder.getScope().getDisplayName()),false);
          content.setDisposer(panel);
          panel.setContent(content);
          ((DependencyValidationManagerImpl)DependencyValidationManager.getInstance(myProject)).addContent(content);
        }
      }
);
    }
  }
;
  ProgressManager.getInstance().runProcessWithProgressAsynchronously(myProject,AnalysisScopeBundle.message("package.dependencies.progress.title"),process,successRunnable,null,new PerformAnalysisInBackgroundOption(myProject));
}
