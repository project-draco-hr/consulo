{
  final XmlFile included=XmlIncludeHandler.resolveXIncludeFile(xincludeTag);
  final XmlDocument document=included != null ? included.getDocument() : null;
  final XmlTag rootTag=document != null ? document.getRootTag() : null;
  if (rootTag != null) {
    final String xpointer=xincludeTag.getAttributeValue("xpointer",XmlUtil.XINCLUDE_URI);
    final XmlTag[] includeTag=extractXpointer(rootTag,xpointer);
    PsiElement[] result=new PsiElement[includeTag.length];
    for (int i=0; i < includeTag.length; i++) {
      XmlTag xmlTag=includeTag[i];
      final PsiElement psiElement=xmlTag.copy();
      psiElement.putUserData(XmlElement.INCLUDING_ELEMENT,xincludeTag.getParentTag());
      psiElement.putUserData(XmlUtil.ORIGINAL_ELEMENT,PsiAnchor.create(xmlTag));
      result[i]=psiElement;
    }
    return result;
  }
  return null;
}
