{
  if (builder.getTokenType() != JavaTokenType.LBRACKET)   return true;
  final PsiBuilder.Marker marker=isError ? builder.mark() : null;
  boolean result=true;
  while (expect(builder,JavaTokenType.LBRACKET)) {
    if (!expect(builder,JavaTokenType.RBRACKET)) {
      if (!isError)       error(builder,JavaErrorMessages.message("expected.rbracket"));
      result=false;
      break;
    }
  }
  if (marker != null) {
    marker.error(errorKey != null ? JavaErrorMessages.message(errorKey) : null);
  }
  return result;
}
