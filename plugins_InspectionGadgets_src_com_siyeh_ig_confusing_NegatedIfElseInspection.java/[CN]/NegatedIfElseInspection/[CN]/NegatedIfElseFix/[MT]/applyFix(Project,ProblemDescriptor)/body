{
  if (ReadonlyStatusHandler.getInstance(project).ensureFilesWritable(new VirtualFile[]{descriptor.getPsiElement().getContainingFile().getVirtualFile()}).hasReadonlyFiles())   return;
  final PsiElement ifToken=descriptor.getPsiElement();
  final PsiIfStatement ifStatement=(PsiIfStatement)ifToken.getParent();
  final PsiStatement elseBranch=ifStatement.getElseBranch();
  final PsiStatement thenBranch=ifStatement.getThenBranch();
  final PsiExpression condition=ifStatement.getCondition();
  final String negatedCondition=BoolUtils.getNegatedExpressionText(condition);
  final String newStatement="if(" + negatedCondition + ')'+ elseBranch.getText()+ " else "+ thenBranch.getText();
  replaceStatement(project,ifStatement,newStatement);
}
