{
  Component orig=super.getTableCellRendererComponent(table,value,isSelected,hasFocus,row,column);
  if (myPluginDescriptor != null) {
    final PluginNode pluginNode=(PluginNode)myPluginDescriptor;
    myNameLabel.setText(myPluginDescriptor.getName());
    final String repositoryName=pluginNode.getRepositoryName();
    if (repositoryName != null) {
      myRepositoryLabel.setText("Repository: " + repositoryName);
    }
 else {
      myCategoryLabel.setText("Category: " + myPluginDescriptor.getCategory());
      long date=((PluginNode)myPluginDescriptor).getDate();
      myDateLabel.setText("Updated: " + (date != 0 ? DateFormatUtil.formatDate(date) : "n/a"));
      myDownloadsLabel.setText("Downloads: " + myPluginDescriptor.getDownloads());
    }
    final Color fg=orig.getForeground();
    final Color bg=orig.getBackground();
    final Color grayedFg=isSelected ? fg : Color.GRAY;
    myNameLabel.setForeground(fg);
    myRepositoryLabel.setForeground(grayedFg);
    myCategoryLabel.setForeground(grayedFg);
    myStatusLabel.setForeground(grayedFg);
    myDateLabel.setForeground(grayedFg);
    myDownloadsLabel.setForeground(grayedFg);
    myPanel.setBackground(bg);
    myNameLabel.setBackground(bg);
    myDateLabel.setBackground(bg);
    myDownloadsLabel.setBackground(bg);
    if (isDownloaded(pluginNode)) {
      if (!isSelected)       myNameLabel.setForeground(FileStatus.COLOR_ADDED);
      myStatusLabel.setText("[Downloaded]");
      myPanel.setToolTipText(IdeBundle.message("plugin.download.status.tooltip"));
    }
 else     if (pluginNode.getStatus() == PluginNode.STATUS_INSTALLED) {
      final boolean hasNewerVersion=InstalledPluginsTableModel.hasNewerVersion(pluginNode.getPluginId());
      if (!isSelected)       myNameLabel.setForeground(FileStatus.COLOR_MODIFIED);
      if (hasNewerVersion) {
        if (!isSelected)         myPanel.setBackground(LightColors.BLUE);
      }
      myStatusLabel.setText("[Installed" + (hasNewerVersion ? ": Ready to update" : "") + "]");
    }
  }
  return myPanel;
}
