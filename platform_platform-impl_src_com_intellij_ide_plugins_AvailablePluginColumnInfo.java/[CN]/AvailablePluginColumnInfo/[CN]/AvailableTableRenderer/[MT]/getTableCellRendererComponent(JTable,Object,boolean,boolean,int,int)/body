{
  final String updatedMask="Updated: xx/xx/xx";
  Component orig=super.getTableCellRendererComponent(table,value,isSelected,hasFocus,row,column);
  if (myPluginDescriptor != null) {
    final PluginNode pluginNode=(PluginNode)myPluginDescriptor;
    myNameLabel.setText(myPluginDescriptor.getName());
    final String repositoryName=pluginNode.getRepositoryName();
    if (repositoryName != null) {
      myRepositoryLabel.setText("Repository: " + repositoryName);
    }
 else {
      myCategoryLabel.setText(myPluginDescriptor.getCategory());
      long date=((PluginNode)myPluginDescriptor).getDate();
      String formattedDate=date != 0 ? DateFormatUtil.formatDate(date) : "n/a";
      if (formattedDate.length() < updatedMask.length()) {
        formattedDate=StringUtil.repeat(" ",updatedMask.length() - formattedDate.length()) + formattedDate;
      }
    }
    final Color fg=orig.getForeground();
    final Color bg=orig.getBackground();
    final Color grayedFg=isSelected ? fg : Color.GRAY;
    myNameLabel.setForeground(fg);
    myRepositoryLabel.setForeground(grayedFg);
    myCategoryLabel.setForeground(grayedFg);
    myStatusLabel.setForeground(grayedFg);
    myDateLabel.setForeground(grayedFg);
    myDownloadsLabel.setForeground(grayedFg);
    myPanel.setBackground(bg);
    myNameLabel.setBackground(bg);
    myDateLabel.setBackground(bg);
    myDownloadsLabel.setBackground(bg);
    if (isDownloaded(pluginNode)) {
      if (!isSelected)       myNameLabel.setForeground(FileStatus.COLOR_ADDED);
      myStatusLabel.setText("[Downloaded]");
      myPanel.setToolTipText(IdeBundle.message("plugin.download.status.tooltip"));
    }
 else     if (pluginNode.getStatus() == PluginNode.STATUS_INSTALLED) {
      PluginId pluginId=pluginNode.getPluginId();
      final boolean hasNewerVersion=InstalledPluginsTableModel.hasNewerVersion(pluginId);
      if (!isSelected)       myNameLabel.setForeground(FileStatus.COLOR_MODIFIED);
      if (hasNewerVersion) {
        if (!isSelected)         myPanel.setBackground(LightColors.BLUE);
      }
      myStatusLabel.setText("[Installed " + "v." + pluginNode.getInstalledVersion() + (hasNewerVersion ? (": Ready to update to " + pluginNode.getVersion()) : "")+ "]");
    }
  }
  return myPanel;
}
