{
  final File fromFile=new File(getTestDataPath() + "/" + sourceFilePath);
  if (myTempDirFixture instanceof LightTempDirTestFixtureImpl) {
    return myTempDirFixture.copyAll(fromFile.getPath(),targetPath);
  }
 else {
    final File destFile=new File(getTempDirPath() + "/" + targetPath);
    FileUtil.copyDir(fromFile,destFile);
    final VirtualFile file=LocalFileSystem.getInstance().refreshAndFindFileByIoFile(destFile);
    Assert.assertNotNull(file);
    file.refresh(false,true);
    return file;
  }
}
