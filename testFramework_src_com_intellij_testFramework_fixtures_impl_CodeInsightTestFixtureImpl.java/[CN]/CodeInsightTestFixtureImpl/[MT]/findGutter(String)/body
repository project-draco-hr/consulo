{
  assertInitialized();
  final Project project=myProjectFixture.getProject();
  final Ref<GutterIconRenderer> result=new Ref<GutterIconRenderer>();
  new WriteCommandAction.Simple(project){
    protected void run() throws Exception {
      final int offset=configureByFilesInner(filePath);
      final Collection<HighlightInfo> infos=doHighlighting();
      for (      HighlightInfo info : infos) {
        if (info.endOffset >= offset && info.startOffset <= offset) {
          final GutterIconRenderer renderer=info.getGutterIconRenderer();
          if (renderer != null) {
            result.set(renderer);
            return;
          }
        }
      }
    }
  }
.execute().throwException();
  return result.get();
}
