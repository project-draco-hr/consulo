{
  final VirtualFile virtualFile=psiDirectory.getVirtualFile();
  if (PlatformUtils.isCidr()) {
    final Icon icon=IconUtil.getIcon(virtualFile,0,myProject);
    if (icon != null) {
      data.setIcon(patchIcon(icon,virtualFile));
    }
  }
 else {
    for (    final IconProvider provider : Extensions.getExtensions(IconProvider.EXTENSION_POINT_NAME)) {
      final Icon icon=provider.getIcon(psiDirectory,0);
      if (icon != null) {
        data.setIcon(patchIcon(icon,virtualFile));
        return;
      }
    }
  }
}
