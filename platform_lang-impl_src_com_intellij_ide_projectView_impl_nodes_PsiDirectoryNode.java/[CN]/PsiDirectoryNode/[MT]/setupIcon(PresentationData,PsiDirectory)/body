{
  final VirtualFile virtualFile=psiDirectory.getVirtualFile();
  for (  final IconProvider provider : Extensions.getExtensions(IconProvider.EXTENSION_POINT_NAME)) {
    final Icon openIcon=provider.getIcon(psiDirectory,Iconable.ICON_FLAG_OPEN);
    if (openIcon != null) {
      final Icon closedIcon=provider.getIcon(psiDirectory,Iconable.ICON_FLAG_CLOSED);
      if (closedIcon != null) {
        data.setOpenIcon(patchIcon(openIcon,virtualFile));
        data.setClosedIcon(patchIcon(closedIcon,virtualFile));
        return;
      }
    }
  }
}
