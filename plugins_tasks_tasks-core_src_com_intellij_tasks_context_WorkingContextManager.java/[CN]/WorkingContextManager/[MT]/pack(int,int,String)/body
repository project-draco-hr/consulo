{
  JBZipFile archive=null;
  try {
    archive=getTasksArchive(zipPostfix);
    List<JBZipEntry> entries=archive.getEntries();
    if (entries.size() > max + delta) {
      JBZipEntry[] array=entries.toArray(new JBZipEntry[entries.size()]);
      Arrays.sort(array,ENTRY_COMPARATOR);
      for (int i=array.length - 1; i >= max; i--) {
        archive.eraseEntry(array[i]);
      }
    }
  }
 catch (  IOException e) {
    LOG.error(e);
  }
 finally {
    closeArchive(archive);
  }
}
