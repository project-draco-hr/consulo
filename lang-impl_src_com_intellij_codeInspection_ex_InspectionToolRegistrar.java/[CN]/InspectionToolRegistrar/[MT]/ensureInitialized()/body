{
  if (!myInspectionComponentsLoaded.getAndSet(true)) {
    Set<InspectionToolProvider> providers=new THashSet<InspectionToolProvider>();
    providers.addAll(Arrays.asList(ApplicationManager.getApplication().getComponents(InspectionToolProvider.class)));
    providers.addAll(Arrays.asList(Extensions.getExtensions(InspectionToolProvider.EXTENSION_POINT_NAME)));
    registerTools(providers.toArray(new InspectionToolProvider[providers.size()]));
  }
}
