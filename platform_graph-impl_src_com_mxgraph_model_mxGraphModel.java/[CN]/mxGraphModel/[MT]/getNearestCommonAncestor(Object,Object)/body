{
  if (cell1 != null && cell2 != null) {
    String path=mxCellPath.create((mxICell)cell2);
    if (path != null && path.length() > 0) {
      Object cell=cell1;
      String current=mxCellPath.create((mxICell)cell);
      while (cell != null) {
        Object parent=getParent(cell);
        if (path.indexOf(current + mxCellPath.PATH_SEPARATOR) == 0 && parent != null) {
          return cell;
        }
        current=mxCellPath.getParentPath(current);
        cell=parent;
      }
    }
  }
  return null;
}
