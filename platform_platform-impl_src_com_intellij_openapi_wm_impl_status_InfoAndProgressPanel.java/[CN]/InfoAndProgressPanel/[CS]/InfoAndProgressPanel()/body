{
  setOpaque(false);
  myProgressIcon=new AsyncProcessIcon("Background process");
  myProgressIcon.setOpaque(false);
  myProgressIcon.addMouseListener(new MouseAdapter(){
    @Override public void mousePressed(    MouseEvent e){
      if (!myPopup.isShowing()) {
        openProcessPopup();
      }
 else {
        hideProcessPopup();
      }
    }
  }
);
  myProgressIcon.setCursor(Cursor.getPredefinedCursor(Cursor.HAND_CURSOR));
  myProgressIcon.setBorder(StatusBarWidget.WidgetBorder.INSTANCE);
  myProgressIcon.setToolTipText(ActionsBundle.message("action.ShowProcessWindow.double.click"));
  myUpdateQueue=new MergingUpdateQueue("Progress indicator",50,true,MergingUpdateQueue.ANY_COMPONENT);
  myPopup=new ProcessPopup(this);
  restoreEmptyStatus();
}
