{
  final DefaultMutableTreeNode defaultNode=(DefaultMutableTreeNode)((TreeTable)table).getTree().getPathForRow(row).getLastPathComponent();
  myCurrentEditor=null;
  myCurrentNode=null;
  if (defaultNode instanceof MyTreeNode) {
    MyTreeNode node=(MyTreeNode)defaultNode;
    if (node.getKey() instanceof BooleanOptionKey) {
      myCurrentEditor=myCheckBox;
      myCheckBox.setSelected(node.getValue() == Boolean.TRUE);
      myCheckBox.setEnabled(node.isEnabled());
    }
 else {
      myCurrentEditor=myComboBox;
      myComboBox.removeAllItems();
      SelectionOptionKey key=(SelectionOptionKey)node.getKey();
      String[] values=key.options;
      for (int i=0; i < values.length; i++) {
        myComboBox.addItem(values[i]);
      }
      myComboBox.setSelectedItem(node.getValue());
      myComboBox.setEnabled(node.isEnabled());
    }
    myCurrentNode=node;
  }
  myCurrentEditor.setBackground(table.getBackground());
  return myCurrentEditor;
}
