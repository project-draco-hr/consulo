{
  if (elem instanceof GrReferenceExpression) {
    GrReferenceExpression expr=(GrReferenceExpression)elem;
    PsiReference ref=expr.getReference();
    if (ref != null) {
      PsiElement declaration=ref.resolve();
      if (declaration instanceof GrMember) {
        int offsetInMethod=expr.getTextRange().getStartOffset() - method.getTextRange().getStartOffset();
        GrMember member=(GrMember)declaration;
        infos.add(new ReferenceExpressionInfo(expr,offsetInMethod,member,member.getContainingClass()));
      }
    }
  }
  for (  PsiElement element : elem.getChildren()) {
    collectReferenceInfoImpl(infos,element,method);
  }
}
