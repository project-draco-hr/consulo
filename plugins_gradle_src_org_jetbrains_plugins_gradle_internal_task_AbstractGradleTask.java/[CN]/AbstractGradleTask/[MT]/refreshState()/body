{
  if (getState() != GradleTaskState.IN_PROGRESS) {
    return;
  }
  final ExternalSystemFacadeManager manager=ServiceManager.getService(ExternalSystemFacadeManager.class);
  try {
    final RemoteExternalSystemFacade facade=manager.getFacade(myIdeProject);
    setState(facade.isTaskInProgress(getId()) ? GradleTaskState.IN_PROGRESS : GradleTaskState.FAILED);
  }
 catch (  Throwable e) {
    setState(GradleTaskState.FAILED);
    myError.set(e);
    if (myIdeProject == null || !myIdeProject.isDisposed()) {
      LOG.warn(e);
    }
  }
}
