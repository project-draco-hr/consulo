{
  TestResultMessage message=getResultMessage();
  if (message != null) {
    return (message.getEndMillis() - message.getStartMillis());
  }
 else {
    long duration=0;
    for (    TestProxy testProxy : getChildren()) {
      final Long d=testProxy.getDuration();
      duration+=(d == null ? 0 : d.longValue());
    }
    return duration;
  }
}
