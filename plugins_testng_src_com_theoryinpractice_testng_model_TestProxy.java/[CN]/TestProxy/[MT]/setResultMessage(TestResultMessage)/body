{
  ApplicationManager.getApplication().runReadAction(new Runnable(){
    public void run(){
      PsiClass psiClass=(PsiClass)getParent().getPsiElement();
      PsiMethod[] methods=psiClass.getMethods();
      for (      PsiMethod method : methods) {
        if (method.getName().equals(resultMessage.getMethod())) {
          TestProxy.this.psiElement=method;
          break;
        }
      }
    }
  }
);
  this.resultMessage=resultMessage;
  TestProxy current=this;
  while (current != null) {
    current.inProgress=resultMessage.getResult() == MessageHelper.TEST_STARTED;
    current=current.getParent();
  }
  this.name=resultMessage.toDisplayString();
}
