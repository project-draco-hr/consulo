{
  ApplicationManager.getApplication().runReadAction(new Runnable(){
    public void run(){
      PsiClass psiClass=(PsiClass)getParent().getPsiElement();
      PsiMethod[] methods=psiClass.getMethods();
      for (      PsiMethod method : methods) {
        if (method.getName().equals(resultMessage.getMethod())) {
          psiElement=method;
          break;
        }
      }
    }
  }
);
  TestProxy current=this;
  while (current != null) {
    current.inProgress=resultMessage.getResult() == MessageHelper.TEST_STARTED;
    current=current.getParent();
  }
  if (this.resultMessage == null || this.resultMessage.getResult() == MessageHelper.TEST_STARTED) {
    this.resultMessage=resultMessage;
    this.name=resultMessage.toDisplayString();
  }
}
