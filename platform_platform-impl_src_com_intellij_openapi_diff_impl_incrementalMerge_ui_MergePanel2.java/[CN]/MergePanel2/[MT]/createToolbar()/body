{
  return new DiffRequest.ToolbarAddons(){
    @Override public void customize(    DiffToolbar toolbar){
      ActionManager actionManager=ActionManager.getInstance();
      toolbar.addAction(actionManager.getAction(IdeActions.ACTION_COPY));
      toolbar.addAction(actionManager.getAction(IdeActions.ACTION_FIND));
      toolbar.addAction(PreviousDiffAction.find());
      toolbar.addAction(NextDiffAction.find());
      toolbar.addSeparator();
      toolbar.addAction(new OpenPartialDiffAction(1,0,AllIcons.Diff.LeftDiff));
      toolbar.addAction(new OpenPartialDiffAction(1,2,AllIcons.Diff.RightDiff));
      toolbar.addAction(new OpenPartialDiffAction(0,2,AllIcons.Diff.BranchDiff));
      toolbar.addSeparator();
      toolbar.addAction(new ApplyNonConflicts(myPanel));
      Project project=myData.getProject();
      if (project != null) {
        toolbar.addSeparator();
        toolbar.addAction(new DiffMergeSettingsAction(getEditors(),ServiceManager.getService(project,MergeToolSettings.class)));
      }
    }
  }
;
}
