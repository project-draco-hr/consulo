{
  if (willBeImported()) {
    context.commitDocument();
    final PsiReferenceExpression ref=PsiTreeUtil.findElementOfClassAtOffset(context.getFile(),context.getStartOffset(),PsiReferenceExpression.class,false);
    if (ref != null) {
      ref.bindToElementViaStaticImport(myContainingClass);
      PostprocessReformattingAspect.getInstance(ref.getProject()).doPostponedFormatting();
    }
  }
 else {
    context.getDocument().insertString(context.getStartOffset(),".");
    JavaCompletionUtil.insertClassReference(myContainingClass,context.getFile(),context.getStartOffset());
  }
  super.handleInsert(context);
}
