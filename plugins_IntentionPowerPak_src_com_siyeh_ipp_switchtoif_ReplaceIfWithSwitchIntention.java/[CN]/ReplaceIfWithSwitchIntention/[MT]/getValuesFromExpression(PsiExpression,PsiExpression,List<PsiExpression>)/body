{
  if (expression instanceof PsiMethodCallExpression) {
    final PsiMethodCallExpression methodCallExpression=(PsiMethodCallExpression)expression;
    final PsiExpressionList argumentList=methodCallExpression.getArgumentList();
    final PsiExpression[] arguments=argumentList.getExpressions();
    final PsiExpression argument=arguments[0];
    final PsiReferenceExpression methodExpression=methodCallExpression.getMethodExpression();
    final PsiExpression qualifierExpression=methodExpression.getQualifierExpression();
    if (EquivalenceChecker.expressionsAreEquivalent(caseExpression,argument)) {
      values.add(qualifierExpression);
    }
 else {
      values.add(argument);
    }
  }
 else   if (expression instanceof PsiBinaryExpression) {
    final PsiBinaryExpression binaryExpression=(PsiBinaryExpression)expression;
    final PsiExpression lhs=binaryExpression.getLOperand();
    final PsiExpression rhs=binaryExpression.getROperand();
    final IElementType tokenType=binaryExpression.getOperationTokenType();
    if (JavaTokenType.OROR.equals(tokenType)) {
      getValuesFromExpression(lhs,caseExpression,values);
      getValuesFromExpression(rhs,caseExpression,values);
    }
 else {
      if (EquivalenceChecker.expressionsAreEquivalent(caseExpression,rhs)) {
        values.add(lhs);
      }
 else {
        values.add(rhs);
      }
    }
  }
 else   if (expression instanceof PsiParenthesizedExpression) {
    final PsiParenthesizedExpression parenthesizedExpression=(PsiParenthesizedExpression)expression;
    final PsiExpression contents=parenthesizedExpression.getExpression();
    getValuesFromExpression(contents,caseExpression,values);
  }
  return values;
}
