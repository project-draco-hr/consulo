{
  if (target.equals(replace)) {
    out.append(stringToReplaceWith);
  }
 else   if (target.getChildren() != null && target.getChildren().length != 0) {
    final PsiElement[] children=target.getChildren();
    for (int i=0; i < children.length; i++) {
      final PsiElement child=children[i];
      termReplace(out,child,replace,stringToReplaceWith);
    }
  }
 else {
    final String text=target.getText();
    out.append(text);
  }
}
