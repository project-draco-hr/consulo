{
  FeatureUsageTracker.getInstance().triggerFeatureUsed("navigation.popup.symbol");
  final Project project=e.getData(PlatformDataKeys.PROJECT);
  final GotoSymbolModel2 model=new GotoSymbolModel2(project);
  PsiDocumentManager.getInstance(project).commitAllDocuments();
  showNavigationPopup(e,model,new GotoActionCallback<Language>(){
    @Override protected ChooseByNameFilter<Language> createFilter(    @NotNull ChooseByNamePopup popup){
      return new ChooseByNameLanguageFilter(popup,model,GotoClassSymbolConfiguration.getInstance(project),project);
    }
    @Override public void elementChosen(    ChooseByNamePopup popup,    Object element){
      EditSourceUtil.navigate((NavigationItem)element,true,popup.isOpenInCurrentWindowRequested());
    }
  }
,"Symbols matching patterns",true);
}
