{
  final ModifiableRootModel model=ModuleRootManager.getInstance(myModule).getModifiableModel();
  final LibraryTable.ModifiableModel tableModel=model.getModuleLibraryTable().getModifiableModel();
  for (  VirtualFile jar : jars) {
    final VirtualFile jarRoot=JarFileSystem.getInstance().getJarRootForLocalFile(jar);
    if (jarRoot != null) {
      final Library.ModifiableModel libModel=tableModel.createLibrary("Grab:" + jar.getName()).getModifiableModel();
      libModel.addRoot(jarRoot,OrderRootType.CLASSES);
      libModel.commit();
    }
  }
  tableModel.commit();
  model.commit();
}
