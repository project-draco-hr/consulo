{
synchronized (lock) {
    try {
      DbConnection.markDirty();
      int att_page=getRecords().getInt(id * RECORD_SIZE + ATTREF_OFFSET);
      if (att_page != 0) {
        final DataInputStream attStream=getAttributes().readStream(att_page);
        while (attStream.available() > 0) {
          attStream.readInt();
          int attAddress=attStream.readInt();
          getAttributes().deleteRecord(attAddress);
        }
        attStream.close();
      }
      DbConnection.cleanRecord(id);
      addToFreeRecordsList(id);
    }
 catch (    IOException e) {
      throw DbConnection.handleError(e);
    }
  }
}
