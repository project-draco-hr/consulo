{
  super.customizeCellRenderer(tree,value,selected,expanded,leaf,row,hasFocus);
  if (value instanceof DefaultMutableTreeNode) {
    DefaultMutableTreeNode node=(DefaultMutableTreeNode)value;
    Object userObject=node.getUserObject();
    if (userObject instanceof NodeDescriptor) {
      NodeDescriptor descriptor=(NodeDescriptor)userObject;
      Object element=descriptor.getElement();
      if (element instanceof FileElement) {
        final FileElement fileElement=(FileElement)element;
        final VirtualFile file=fileElement.getFile();
        if (myModules.contains(file)) {
          setIcon(expanded ? PlatformIcons.CONTENT_ROOT_ICON_OPEN : PlatformIcons.CONTENT_ROOT_ICON_CLOSED);
        }
      }
    }
  }
}
