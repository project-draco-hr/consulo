{
  if (DebuggerUIUtil.isObsolete(node)) {
    return;
  }
  Application application=ApplicationManager.getApplication();
  if (application.isDispatchThread()) {
    node.applyPresentation(icon,presentation,hasChildren);
  }
 else {
    Runnable updater=new Runnable(){
      @Override public void run(){
        node.applyPresentation(icon,presentation,hasChildren);
      }
    }
;
    if (node instanceof XDebuggerTreeNode) {
      ((XDebuggerTreeNode)node).invokeNodeUpdate(updater);
    }
 else {
      application.invokeLater(updater);
    }
  }
}
