{
  final TreeSet<ConfigFileInfo> sortedConfigFiles=new TreeSet<ConfigFileInfo>(new Comparator<ConfigFileInfo>(){
    public int compare(    final ConfigFileInfo o1,    final ConfigFileInfo o2){
      final int id=Comparing.compare(o1.getMetaData().getId(),o2.getMetaData().getId());
      return id != 0 ? id : Comparing.compare(o1.getUrl(),o2.getUrl());
    }
  }
);
  sortedConfigFiles.addAll(myConfigFiles.collectValues());
  for (  ConfigFileInfo configuration : sortedConfigFiles) {
    final Element child=new Element(ELEMENT_NAME);
    final ConfigFileMetaData metaData=configuration.getMetaData();
    child.setAttribute(ID_ATTRIBUTE,metaData.getId());
    child.setAttribute(URL_ATTRIBUTE,configuration.getUrl());
    child.setAttribute("optional","false");
    child.setAttribute("version",metaData.getDefaultVersion().getName());
    element.addContent(child);
  }
}
