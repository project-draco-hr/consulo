{
  if (!isAvailable(project,editor,file))   return;
  LOG.assertTrue(mySubExpression.isValid());
  if (!CodeInsightUtilBase.preparePsiElementForWrite(mySubExpression))   return;
  PsiExpression expression;
  if (mySubExpressionValue == null) {
    expression=mySubExpression;
  }
 else {
    PsiExpression constExpression=JavaPsiFacade.getInstance(project).getElementFactory().createExpressionFromText(Boolean.toString(mySubExpressionValue.booleanValue()),mySubExpression);
    expression=(PsiExpression)mySubExpression.replace(constExpression);
  }
  while (expression.getParent() instanceof PsiExpression) {
    expression=(PsiExpression)expression.getParent();
  }
  simplifyExpression(expression);
}
