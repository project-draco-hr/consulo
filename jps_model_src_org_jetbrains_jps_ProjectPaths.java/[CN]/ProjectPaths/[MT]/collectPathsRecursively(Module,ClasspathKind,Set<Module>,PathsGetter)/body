{
  if (processed.add(module)) {
    for (    ClasspathItem item : module.getClasspath(kind,false)) {
      if (item instanceof ModuleSourceEntry) {
        final Module dep=((ModuleSourceEntry)item).getModule();
        processor.apply(dep,kind);
      }
 else       if (item instanceof Module) {
        collectPathsRecursively((Module)item,kind,processed,processor);
      }
    }
  }
}
