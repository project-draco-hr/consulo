{
  final Set<File> sourcePaths=new LinkedHashSet<File>();
  collectPathsRecursively(chunk,JpsJavaClasspathKind.compile(includeTests),new PathsGetter(){
    public void apply(    JpsModule module,    JpsJavaClasspathKind kind){
      for (      JpsModuleSourceRoot root : module.getSourceRoots()) {
        if (root.getRootType().equals(JavaSourceRootType.SOURCE) || kind.isTestsIncluded() && root.getRootType().equals(JavaSourceRootType.TEST_SOURCE)) {
          addFile(sourcePaths,root.getUrl());
        }
      }
    }
  }
);
  return sourcePaths;
}
