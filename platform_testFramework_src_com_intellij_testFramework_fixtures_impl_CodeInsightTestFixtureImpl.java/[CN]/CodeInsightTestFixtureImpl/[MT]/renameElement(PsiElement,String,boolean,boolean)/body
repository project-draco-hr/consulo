{
  new WriteCommandAction.Simple(myProjectFixture.getProject()){
    @Override protected void run() throws Exception {
      final PsiElement substitution=RenamePsiElementProcessor.forElement(element).substituteElementToRename(element,myEditor);
      if (element == null)       return;
      new RenameProcessor(myProjectFixture.getProject(),substitution,newName,searchInComments,searchTextOccurrences).run();
    }
  }
.execute().throwException();
}
