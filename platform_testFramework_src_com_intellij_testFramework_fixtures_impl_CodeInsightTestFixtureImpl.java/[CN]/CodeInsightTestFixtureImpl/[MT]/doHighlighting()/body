{
  final Project project=getProject();
  PsiDocumentManager.getInstance(project).commitAllDocuments();
  return ApplicationManager.getApplication().runReadAction(new Computable<List<HighlightInfo>>(){
    @Override public List<HighlightInfo> compute(){
      return instantiateAndRun(getFile(),getEditor(),ArrayUtil.EMPTY_INT_ARRAY,myAllowDirt);
    }
  }
);
}
