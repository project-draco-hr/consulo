{
  Collections.sort(infos,new Comparator<HighlightInfo>(){
    @Override public int compare(    HighlightInfo o1,    HighlightInfo o2){
      final int i=o2.startOffset - o1.startOffset;
      return i != 0 ? i : o1.getSeverity().myVal - o2.getSeverity().myVal;
    }
  }
);
  HighlightInfo prevInfo=null;
  for (Iterator<HighlightInfo> it=infos.iterator(); it.hasNext(); ) {
    final HighlightInfo info=it.next();
    if (prevInfo != null && info.getSeverity() == HighlightInfoType.SYMBOL_TYPE_SEVERITY && info.getDescription() == null && info.startOffset == prevInfo.startOffset && info.endOffset == prevInfo.endOffset) {
      it.remove();
    }
    prevInfo=info.type == HighlightInfoType.INJECTED_LANGUAGE_FRAGMENT ? info : null;
  }
}
