{
  final Project project=getProject();
  final SortedMap<Integer,List<GutterIconRenderer>> result=new TreeMap<Integer,List<GutterIconRenderer>>();
  configureByFilesInner(filePath);
  List<HighlightInfo> infos=doHighlighting();
  for (  HighlightInfo info : infos) {
    addGutterIconRenderer(info.getGutterIconRenderer(),info.startOffset,result);
  }
  RangeHighlighter[] highlighters=DocumentMarkupModel.forDocument(myEditor.getDocument(),project,true).getAllHighlighters();
  for (  final RangeHighlighter highlighter : highlighters) {
    if (!highlighter.isValid())     continue;
    addGutterIconRenderer(highlighter.getGutterIconRenderer(),highlighter.getStartOffset(),result);
  }
  return ContainerUtil.concat(result.values());
}
