{
  new WriteCommandAction(getProject()){
    @Override protected void run(    Result result) throws Throwable {
      PsiDocumentManager.getInstance(getProject()).commitAllDocuments();
      EditorUtil.fillVirtualSpaceUntilCaret(myEditor);
      checkResult("TEXT",stripTrailingSpaces,SelectionAndCaretMarkupLoader.fromText(text,getProject()),getHostFile().getText());
    }
  }
.execute();
}
