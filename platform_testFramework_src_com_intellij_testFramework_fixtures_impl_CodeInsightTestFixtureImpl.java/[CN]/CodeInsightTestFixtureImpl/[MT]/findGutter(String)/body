{
  assertInitialized();
  final Ref<GutterIconRenderer> result=new Ref<GutterIconRenderer>();
  configureByFilesInner(filePath);
  int offset=myEditor.getCaretModel().getOffset();
  final Collection<HighlightInfo> infos=doHighlighting();
  for (  HighlightInfo info : infos) {
    if (info.endOffset >= offset && info.startOffset <= offset) {
      final GutterIconRenderer renderer=info.getGutterIconRenderer();
      if (renderer != null) {
        result.set(renderer);
        break;
      }
    }
  }
  return result.get();
}
