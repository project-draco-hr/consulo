{
  if (!copyFile.getClass().equals(originalFile.getClass()) || !copyFile.isValid() || !copyFile.getName().equals(originalFile.getName())) {
    return false;
  }
  PsiFile current=PsiDocumentManager.getInstance(copyFile.getProject()).getPsiFile(document);
  return current != null && current.getViewProvider().getPsi(copyFile.getLanguage()) == copyFile;
}
