{
  final int caretOffset=context.getEditor().getCaretModel().getOffset();
  context.getOffsetMap().addOffset(CompletionInitializationContext.SELECTION_END_OFFSET,caretOffset);
  final int idEnd=context.getIdentifierEndOffset();
  final int identifierEndOffset=CompletionUtil.isOverwrite(item,completionChar) && context.getSelectionEndOffset() == idEnd ? caretOffset : Math.max(caretOffset,idEnd);
  context.getOffsetMap().addOffset(CompletionInitializationContext.IDENTIFIER_END_OFFSET,identifierEndOffset);
  lookupItemSelected(context,item,completionChar,items);
}
