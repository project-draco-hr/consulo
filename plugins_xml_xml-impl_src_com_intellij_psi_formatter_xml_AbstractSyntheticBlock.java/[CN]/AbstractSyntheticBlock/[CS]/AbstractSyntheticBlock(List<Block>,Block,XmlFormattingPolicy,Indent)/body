{
  myEndTreeNode=getLastNode(subBlocks);
  myStartTreeNode=getFirstNode(subBlocks);
  myIndent=indent;
  myXmlFormattingPolicy=policy;
  if (parent instanceof AbstractXmlBlock) {
    myTag=((AbstractXmlBlock)parent).getTag();
  }
 else   if (parent instanceof AbstractSyntheticBlock) {
    myTag=((AbstractSyntheticBlock)parent).getTag();
  }
 else {
    throw new IllegalStateException("Parent should be AbstractXmlBlock or AbstractSyntheticBlock, but it is " + parent.getClass());
  }
}
