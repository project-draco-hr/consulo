{
  List<String> urls=getUrls();
  String outputPath=getURI();
  if (outputPath != null && LibraryLink.MODULE_LEVEL.equals(getLevel()) && urls.size() == 1 && (getPackagingMethod().equals(PackagingMethod.COPY_FILES) || getPackagingMethod().equals(PackagingMethod.COPY_FILES_AND_LINK_VIA_MANIFEST))) {
    String jarName=getJarFileName(urls.get(0));
    if (jarName != null) {
      setURI(DeploymentUtil.appendToPath(outputPath,jarName));
    }
  }
  super.writeExternal(element);
  setURI(outputPath);
  String name=getName();
  if (name == null) {
    for (    final String url : urls) {
      final Element urlElement=new Element(URL_ELEMENT_NAME);
      urlElement.setText(url);
      element.addContent(urlElement);
    }
  }
 else {
    element.setAttribute(NAME_ATTRIBUTE_NAME,name);
  }
  if (getLevel() != null) {
    element.setAttribute(LEVEL_ATTRIBUTE_NAME,getLevel());
  }
}
