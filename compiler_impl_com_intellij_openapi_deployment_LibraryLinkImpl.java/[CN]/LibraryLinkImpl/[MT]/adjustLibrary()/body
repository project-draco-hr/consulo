{
  if (myLibraryInfo instanceof LibraryInfoBasedOnLibrary) {
    LibraryInfoBasedOnLibrary libraryInfo=(LibraryInfoBasedOnLibrary)myLibraryInfo;
    Library library=libraryInfo.getLibrary();
    LibraryTable table=library.getTable();
    if (table != null && !isInTable(library,table) || ((LibraryEx)library).isDisposed()) {
      LibraryInfoImpl info=libraryInfo.getInfoToRestore();
      Library newLibrary=info.findLibrary(myProject,getParentModule(),null);
      myLibraryInfo=newLibrary != null ? new LibraryInfoBasedOnLibrary(newLibrary) : info;
    }
  }
}
