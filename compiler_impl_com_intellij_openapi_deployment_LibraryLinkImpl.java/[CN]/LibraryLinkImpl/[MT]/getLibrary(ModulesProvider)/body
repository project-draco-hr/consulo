{
  fixLibraryInfo();
  final LibraryInfo libraryInfo=myLibraryInfo;
  if (libraryInfo instanceof LibraryInfoBasedOnLibrary) {
    return ((LibraryInfoBasedOnLibrary)libraryInfo).getLibrary();
  }
  LOG.assertTrue(libraryInfo instanceof LibraryInfoImpl);
  final LibraryInfoImpl info=(LibraryInfoImpl)libraryInfo;
  final Library library=info.findLibrary(myProject,getParentModule(),provider);
  if (library != null) {
    myLibraryInfo=new LibraryInfoBasedOnLibrary(library);
  }
  return library;
}
