{
  return new Runnable(){
    @Override public void run(){
      myFoldingModel.updateContext(myRequest,getFoldingModelSettings());
      clearDiffPresentation();
      myChangesCount=0;
      myConflictsCount=0;
      for (      MergeLineFragment fragment : fragments) {
        SimpleThreesideDiffChange change=new SimpleThreesideDiffChange(fragment,getEditors(),comparisonPolicy);
        myDiffChanges.add(change);
        if (change.getDiffType() != TextDiffType.CONFLICT)         myChangesCount++;
        if (change.getDiffType() == TextDiffType.CONFLICT)         myConflictsCount++;
      }
      myFoldingModel.install(fragments,myRequest,getFoldingModelSettings());
      myInitialScrollHelper.onRediff();
      myContentPanel.repaintDividers();
      myStatusPanel.update();
    }
  }
;
}
