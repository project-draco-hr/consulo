{
  super.paintComponent(g);
  final Graphics2D g2d=(Graphics2D)g;
  boolean active=isActive();
  Color bndColor=active ? BND_ACTIVE_COLOR : BND_COLOR;
  Color cntColor=active ? CNT_ACTIVE_COLOR : CNT_COLOR;
  g2d.setPaint(new GradientPaint(0,STRUT,bndColor,0,getHeight(),cntColor));
  if (mySideButtons.isVisible()) {
    final Rectangle sideRec=SwingUtilities.convertRectangle(mySideButtons.getParent(),mySideButtons.getBounds(),this);
    g2d.fillRect(0,STRUT,getWidth() - sideRec.width,getHeight());
    g2d.setColor(UIUtil.getHeaderInactiveColor());
    final Color buttonInnerColor=active ? ACTIVE_SIDE_BUTTON_BG : INACTIVE_SIDE_BUTTON_BG;
    g2d.setPaint(new GradientPaint(sideRec.x,sideRec.y,Color.white,sideRec.x,(int)sideRec.getMaxY() - 1,buttonInnerColor));
    g2d.fillRect(sideRec.x + 2,sideRec.y,sideRec.width - 2,sideRec.height);
    Icon separator=active ? mySeparatorActive : mySeparatorInactive;
    separator.paintIcon(this,g,sideRec.x,sideRec.y);
    separator.paintIcon(this,g,sideRec.x,sideRec.y + 1);
  }
 else {
    g2d.fillRect(0,STRUT,getWidth(),getHeight());
  }
}
