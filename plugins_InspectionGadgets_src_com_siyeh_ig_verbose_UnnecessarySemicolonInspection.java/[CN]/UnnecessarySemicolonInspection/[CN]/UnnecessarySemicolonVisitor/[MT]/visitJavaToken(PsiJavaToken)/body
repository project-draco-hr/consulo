{
  super.visitJavaToken(token);
  final IElementType tokenType=token.getTokenType();
  if (!tokenType.equals(JavaTokenType.SEMICOLON)) {
    return;
  }
  final PsiElement parent=token.getParent();
  if (!(parent instanceof PsiClass) && !(parent instanceof PsiJavaFile)) {
    return;
  }
  if (parent instanceof PsiClass && ((PsiClass)parent).isEnum()) {
    PsiElement prevSibling=token.getPrevSibling();
    while (prevSibling != null && prevSibling instanceof PsiWhiteSpace) {
      prevSibling=prevSibling.getPrevSibling();
    }
    if (prevSibling instanceof PsiEnumConstant) {
      return;
    }
  }
  registerError(token);
}
