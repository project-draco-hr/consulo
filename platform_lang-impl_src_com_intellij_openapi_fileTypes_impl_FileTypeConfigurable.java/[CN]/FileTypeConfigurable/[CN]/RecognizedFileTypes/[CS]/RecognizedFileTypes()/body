{
  super(new BorderLayout());
  myFileTypesList=new JBList(new DefaultListModel());
  myFileTypesList.setSelectionMode(ListSelectionModel.SINGLE_SELECTION);
  myFileTypesList.setCellRenderer(new FileTypeRenderer(new FileTypeRenderer.FileTypeListProvider(){
    @Override public Iterable<FileType> getCurrentFileTypeList(){
      ArrayList<FileType> result=new ArrayList<FileType>();
      for (int i=0; i < myFileTypesList.getModel().getSize(); i++) {
        result.add((FileType)myFileTypesList.getModel().getElementAt(i));
      }
      return result;
    }
  }
));
  new DoubleClickListener(){
    @Override protected boolean onDoubleClick(    MouseEvent e){
      myController.editFileType();
      return true;
    }
  }
.installOn(myFileTypesList);
  ToolbarDecorator toolbarDecorator=ToolbarDecorator.createDecorator(myFileTypesList).setAddAction(new AnActionButtonRunnable(){
    @Override public void run(    AnActionButton button){
      myController.addFileType();
    }
  }
).setRemoveAction(new AnActionButtonRunnable(){
    @Override public void run(    AnActionButton button){
      myController.removeFileType();
    }
  }
).setEditAction(new AnActionButtonRunnable(){
    @Override public void run(    AnActionButton button){
      myController.editFileType();
    }
  }
).setEditActionUpdater(new AnActionButtonUpdater(){
    @Override public boolean isEnabled(    AnActionEvent e){
      final FileType fileType=getSelectedFileType();
      return canBeModified(fileType);
    }
  }
).setRemoveActionUpdater(new AnActionButtonUpdater(){
    @Override public boolean isEnabled(    AnActionEvent e){
      final FileType fileType=getSelectedFileType();
      final boolean modified=canBeModified(fileType);
      return modified;
    }
  }
).disableUpDownActions();
  add(toolbarDecorator.createPanel(),BorderLayout.CENTER);
  setBorder(IdeBorderFactory.createTitledBorder(FileTypesBundle.message("filetypes.recognized.group"),false));
  mySpeedSearch=new MySpeedSearch(myFileTypesList);
}
