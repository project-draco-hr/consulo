{
  List<Module> obsolete=collectObsoleteModules();
  if (obsolete.isEmpty())   return;
  MavenProjectsManager.getInstance(myProject).setMavenizedModules(obsolete,false);
  String formatted=StringUtil.join(obsolete,new Function<Module,String>(){
    public String fun(    Module m){
      return "'" + m.getName() + "'";
    }
  }
,"\n");
  int result=Messages.showYesNoDialog(myProject,ProjectBundle.message("maven.import.message.delete.obsolete",formatted),ProjectBundle.message("maven.tab.importing"),Messages.getQuestionIcon());
  if (result == 1)   return;
  for (  Module each : obsolete) {
    myModuleModel.disposeModule(each);
  }
}
