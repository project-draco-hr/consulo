{
  List<Pair<MavenProject,Module>> incompatibleMavenized=new ArrayList<Pair<MavenProject,Module>>();
  List<Pair<MavenProject,Module>> incompatibleNotMavenized=new ArrayList<Pair<MavenProject,Module>>();
  MavenProjectsManager manager=MavenProjectsManager.getInstance(myProject);
  for (  MavenProject each : myAllProjects) {
    Module module=myFileToModuleMapping.get(each.getFile());
    if (module == null)     continue;
    if (shouldCreateModuleFor(each) && !(ModuleType.get(module).equals(each.getModuleType()))) {
      (manager.isMavenizedModule(module) ? incompatibleMavenized : incompatibleNotMavenized).add(Pair.create(each,module));
    }
  }
  return Pair.create(incompatibleMavenized,incompatibleNotMavenized);
}
