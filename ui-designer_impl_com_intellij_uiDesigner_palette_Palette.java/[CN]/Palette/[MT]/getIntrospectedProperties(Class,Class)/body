{
  if (myClass2Properties.containsKey(aClass)) {
    return myClass2Properties.get(aClass);
  }
  final ArrayList<IntrospectedProperty> result=new ArrayList<IntrospectedProperty>();
  try {
    final BeanInfo beanInfo=Introspector.getBeanInfo(aClass);
    final PropertyDescriptor[] descriptors=beanInfo.getPropertyDescriptors();
    for (    final PropertyDescriptor descriptor : descriptors) {
      Method readMethod=descriptor.getReadMethod();
      Method writeMethod=descriptor.getWriteMethod();
      if (writeMethod == null || readMethod == null) {
        continue;
      }
      boolean storeAsClient=false;
      try {
        delegeeClass.getMethod(readMethod.getName(),readMethod.getParameterTypes());
        delegeeClass.getMethod(writeMethod.getName(),writeMethod.getParameterTypes());
      }
 catch (      NoSuchMethodException e) {
        storeAsClient=true;
      }
      @NonNls final String name=descriptor.getName();
      final IntrospectedProperty property;
      final Class propertyType=descriptor.getPropertyType();
      final Properties properties=(myProject == null) ? new Properties() : Properties.getInstance();
      if (int.class.equals(propertyType)) {
        IntEnumEditor.Pair[] enumPairs=properties.getEnumPairs(aClass,name);
        if (enumPairs != null) {
          property=createIntEnumProperty(name,readMethod,writeMethod,enumPairs);
        }
 else         if (JLabel.class.isAssignableFrom(aClass)) {
          if (JLabel.class.isAssignableFrom(aClass) && ("displayedMnemonic".equals(name) || "displayedMnemonicIndex".equals(name))) {
            continue;
          }
 else {
            property=new IntroIntProperty(name,readMethod,writeMethod,storeAsClient);
          }
        }
 else         if (AbstractButton.class.isAssignableFrom(aClass)) {
          if ("mnemonic".equals(name) || "displayedMnemonicIndex".equals(name)) {
            continue;
          }
 else {
            property=new IntroIntProperty(name,readMethod,writeMethod,storeAsClient);
          }
        }
 else         if (JTabbedPane.class.isAssignableFrom(aClass)) {
          if (SwingProperties.SELECTED_INDEX.equals(name)) {
            continue;
          }
          property=new IntroIntProperty(name,readMethod,writeMethod,storeAsClient);
        }
 else {
          property=new IntroIntProperty(name,readMethod,writeMethod,storeAsClient);
        }
      }
 else       if (boolean.class.equals(propertyType)) {
        property=new IntroBooleanProperty(name,readMethod,writeMethod,storeAsClient);
      }
 else       if (double.class.equals(propertyType)) {
        property=new IntroPrimitiveTypeProperty(name,readMethod,writeMethod,storeAsClient,Double.class);
      }
 else       if (float.class.equals(propertyType)) {
        property=new IntroPrimitiveTypeProperty(name,readMethod,writeMethod,storeAsClient,Float.class);
      }
 else       if (String.class.equals(propertyType)) {
        property=new IntroStringProperty(name,readMethod,writeMethod,myProject,storeAsClient);
      }
 else       if (Insets.class.equals(propertyType)) {
        property=new IntroInsetsProperty(name,readMethod,writeMethod,storeAsClient);
      }
 else       if (Dimension.class.equals(propertyType)) {
        property=new IntroDimensionProperty(name,readMethod,writeMethod,storeAsClient);
      }
 else       if (Rectangle.class.equals(propertyType)) {
        property=new IntroRectangleProperty(name,readMethod,writeMethod,storeAsClient);
      }
 else       if (Component.class.isAssignableFrom(propertyType)) {
        if (JSplitPane.class.isAssignableFrom(aClass) && (name.equals("leftComponent") || name.equals("rightComponent") || name.equals("topComponent")|| name.equals("bottomComponent"))) {
          continue;
        }
        if (JTabbedPane.class.isAssignableFrom(aClass) && name.equals(SwingProperties.SELECTED_COMPONENT)) {
          continue;
        }
        if (JMenuBar.class.isAssignableFrom(propertyType) || JPopupMenu.class.isAssignableFrom(propertyType)) {
          continue;
        }
        Condition<RadComponent> filter=null;
        if (name.equals(SwingProperties.LABEL_FOR)) {
          filter=new Condition<RadComponent>(){
            public boolean value(            final RadComponent t){
              ComponentItem item=getItem(t.getComponentClassName());
              return item != null && item.isCanAttachLabel();
            }
          }
;
        }
        property=new IntroComponentProperty(name,readMethod,writeMethod,propertyType,filter,storeAsClient);
      }
 else       if (Color.class.equals(propertyType)) {
        property=new IntroColorProperty(name,readMethod,writeMethod,storeAsClient);
      }
 else       if (Font.class.equals(propertyType)) {
        property=new IntroFontProperty(name,readMethod,writeMethod,storeAsClient);
      }
 else       if (Icon.class.equals(propertyType)) {
        property=new IntroIconProperty(name,readMethod,writeMethod,storeAsClient);
      }
 else       if (ListModel.class.isAssignableFrom(propertyType)) {
        property=new IntroListModelProperty(name,readMethod,writeMethod,storeAsClient);
      }
 else       if (Enum.class.isAssignableFrom(propertyType)) {
        property=new IntroEnumProperty(name,readMethod,writeMethod,storeAsClient,propertyType);
      }
 else {
        continue;
      }
      result.add(property);
    }
  }
 catch (  IntrospectionException e) {
    throw new RuntimeException(e);
  }
  final IntrospectedProperty[] properties=result.toArray(new IntrospectedProperty[result.size()]);
  myClass2Properties.put(aClass,properties);
  return properties;
}
