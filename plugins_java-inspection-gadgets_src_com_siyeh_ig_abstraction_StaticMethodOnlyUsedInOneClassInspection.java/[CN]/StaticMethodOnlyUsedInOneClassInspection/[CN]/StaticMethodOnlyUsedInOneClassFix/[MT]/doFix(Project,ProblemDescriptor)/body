{
  final PsiElement location=descriptor.getPsiElement();
  final PsiMethod method=(PsiMethod)location.getParent();
  final RefactoringActionHandler moveHandler=RefactoringActionHandlerFactory.getInstance().createMoveHandler();
  final AsyncResult<DataContext> result=DataManager.getInstance().getDataContextFromFocus();
  result.doWhenDone(new AsyncResult.Handler<DataContext>(){
    @Override public void run(    final DataContext originalContext){
      final DataContext dataContext=new DataContext(){
        @Override public Object getData(        @NonNls String name){
          if (LangDataKeys.TARGET_PSI_ELEMENT.is(name)) {
            return usageClass.getElement();
          }
          return originalContext.getData(name);
        }
      }
;
      moveHandler.invoke(project,new PsiElement[]{method},dataContext);
    }
  }
);
}
