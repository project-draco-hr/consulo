{
  UIUtil.invokeAndWaitIfNeeded(new Runnable(){
    @Override public void run(){
      try {
        final String resultActionName=getActionName();
        IntentionAction resultAction=null;
        final List<IntentionAction> actions=myFixture.getAvailableIntentions(getSourceRoot() + "/" + BEFORE+ testName+ ".java");
        for (        IntentionAction action : actions) {
          if (Comparing.strEqual(action.getText(),resultActionName)) {
            resultAction=action;
            break;
          }
        }
        Assert.assertNotNull(resultAction);
        myFixture.launchAction(resultAction);
        myFixture.checkResultByFile(getSourceRoot() + "/" + AFTER+ testName+ ".java");
      }
 catch (      Exception e) {
        throw new RuntimeException(e);
      }
    }
  }
);
}
