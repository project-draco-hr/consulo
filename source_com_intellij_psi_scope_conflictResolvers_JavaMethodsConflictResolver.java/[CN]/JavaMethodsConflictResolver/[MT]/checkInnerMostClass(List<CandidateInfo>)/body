{
  PsiClass innerMostClass=null;
  for (  CandidateInfo info : conflicts) {
    if (!(info.getCurrentFileResolveScope() instanceof PsiClass))     return;
    final PsiClass resolveScope=(PsiClass)info.getCurrentFileResolveScope();
    if (innerMostClass == null || PsiTreeUtil.isAncestor(innerMostClass,resolveScope,true)) {
      innerMostClass=resolveScope;
    }
  }
  if (innerMostClass == null)   return;
  for (Iterator<CandidateInfo> iterator=conflicts.iterator(); iterator.hasNext(); ) {
    CandidateInfo info=iterator.next();
    final PsiElement resolveScope=info.getCurrentFileResolveScope();
    if (resolveScope != innerMostClass) {
      iterator.remove();
    }
  }
}
