{
  final PsiTypeParameter[] typeParameters=method.getTypeParameters();
  if (myTypeArguments.length == typeParameters.length) {
    for (int i=0; i < typeParameters.length; i++) {
      PsiTypeParameter typeParameter=typeParameters[i];
      final PsiType typeArgument=myTypeArguments[i];
      substitutor=substitutor.put(typeParameter,typeArgument);
    }
    return substitutor;
  }
  if (method instanceof GrGdkMethod) {
    method=((GrGdkMethod)method).getStaticMethod();
  }
  return inferMethodTypeParameters(method,substitutor,typeParameters);
}
