{
  GroovyResolveResult[] array=myCandidates.toArray(new GroovyResolveResult[myCandidates.size()]);
  if (array.length == 1)   return array;
  List<GroovyResolveResult> result=new ArrayList<GroovyResolveResult>();
  result.add(array[0]);
  PsiManager manager=myPlace.getManager();
  GlobalSearchScope scope=myPlace.getResolveScope();
  boolean methodsPresent=array[0].getElement() instanceof PsiMethod && !isGetter(((PsiMethod)array[0].getElement()));
  boolean propertiesPresent=!methodsPresent;
  Outer:   for (int i=1; i < array.length; i++) {
    PsiElement currentElement=array[i].getElement();
    if (currentElement instanceof PsiMethod) {
      PsiMethod currentMethod=(PsiMethod)currentElement;
      if (isGetter(currentMethod)) {
        propertiesPresent=true;
        continue;
      }
      methodsPresent=true;
      for (Iterator<GroovyResolveResult> iterator=result.iterator(); iterator.hasNext(); ) {
        final GroovyResolveResult otherResolveResult=iterator.next();
        PsiElement element=otherResolveResult.getElement();
        if (element instanceof PsiMethod) {
          PsiMethod method=(PsiMethod)element;
          if (isGetter(method))           continue;
          if (dominated(currentMethod,array[i].getSubstitutor(),method,otherResolveResult.getSubstitutor(),manager,scope)) {
            continue Outer;
          }
 else           if (dominated(method,otherResolveResult.getSubstitutor(),currentMethod,array[i].getSubstitutor(),manager,scope)) {
            iterator.remove();
          }
        }
      }
    }
 else {
      propertiesPresent=true;
    }
    result.add(array[i]);
  }
  if (methodsPresent && propertiesPresent) {
    for (Iterator<GroovyResolveResult> iterator=result.iterator(); iterator.hasNext(); ) {
      GroovyResolveResult resolveResult=iterator.next();
      if (!(resolveResult.getElement() instanceof PsiMethod) || isGetter((PsiMethod)resolveResult.getElement()))       iterator.remove();
    }
  }
  return result.toArray(new GroovyResolveResult[result.size()]);
}
