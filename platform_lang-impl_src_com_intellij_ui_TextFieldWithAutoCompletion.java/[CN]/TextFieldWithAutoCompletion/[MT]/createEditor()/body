{
  final EditorEx editor=super.createEditor();
  if (!myShowAutocompletionIsAvailableHint) {
    return editor;
  }
  final String completionShortcutText=getCompletionShortcutText();
  if (completionShortcutText == null) {
    return editor;
  }
  final Ref<Boolean> toShowHintRef=new Ref<Boolean>(true);
  editor.getDocument().addDocumentListener(new DocumentAdapter(){
    @Override public void documentChanged(    DocumentEvent e){
      toShowHintRef.set(false);
    }
  }
);
  editor.addFocusListener(new FocusChangeListener(){
    @Override public void focusGained(    final Editor editor){
      if (toShowHintRef.get() && getText().length() == 0) {
        ApplicationManager.getApplication().invokeLater(new Runnable(){
          @Override public void run(){
            HintManager.getInstance().showInformationHint(editor,"Code completion available ( " + completionShortcutText + " )");
          }
        }
);
      }
    }
    @Override public void focusLost(    Editor editor){
    }
  }
);
  return editor;
}
