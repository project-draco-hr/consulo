{
  int max=MAX_LENGTH - TemplateSettings.getInstance().getMaxKeyLength();
  max=Math.min(max,myMaxTemplateDescriptionLength + 1);
  StringBuffer buffer=new StringBuffer(max);
  buffer.append(' ');
  buffer.append(template.getDescription());
  if (buffer.length() > max) {
    buffer.setLength(max - "...".length());
    buffer.append("...");
  }
 else   if (!myHasNonTemplates) {
    while (buffer.length() < max) {
      buffer.append(' ');
    }
  }
  return buffer.toString();
}
