{
  final AnAction[] actions=group.getChildren(null);
  for (  AnAction action : actions) {
    if (action instanceof ActionGroup) {
      final ActionGroup actionGroup=(ActionGroup)action;
      final String groupName=actionGroup.getTemplatePresentation().getText();
      collectActions(filter,result,actionGroup,groupName != null ? groupName : containingGroupName);
    }
 else     if (ActionsTreeUtil.isActionFiltered(filter,true).value(action)) {
      final String groupName=group.getTemplatePresentation().getText();
      result.put(action,groupName != null ? groupName : containingGroupName);
    }
  }
}
