{
  if (!allowToInterrupt)   throw new RuntimeException("Cannot interrupt daemon");
  cancelUpdateProgress(toRestartAlarm,reason);
  myAlarm.cancelAllRequests();
  boolean restart=toRestartAlarm && !myDisposed && myInitialized;
  if (restart) {
    if (LOG.isDebugEnabled()) {
      myFrequentEventDetector.eventHappened(reason);
    }
    UIUtil.invokeLaterIfNeeded(new Runnable(){
      @Override public void run(){
        if (myAlarm.isEmpty()) {
          myAlarm.addRequest(myUpdateRunnable,mySettings.AUTOREPARSE_DELAY);
        }
      }
    }
);
  }
}
