{
  ApplicationManager.getApplication().assertIsDispatchThread();
  if (!myUpdateByTimerEnabled)   return;
  if (editor instanceof EditorWindow)   editor=((EditorWindow)editor).getDelegate();
  final TextEditor textEditor=TextEditorProvider.getInstance().getTextEditor(editor);
  BackgroundEditorHighlighter highlighter=textEditor.getBackgroundHighlighter();
  if (highlighter == null)   return;
  final HighlightingPass[] highlightingPasses=highlighter.createPassesForVisibleArea();
  DaemonProgressIndicator progress;
synchronized (this) {
    recreateVisibleProgress();
    progress=myUpdateVisibleProgress;
  }
  myPassExecutorService.renewVisiblePasses(textEditor,highlightingPasses,progress);
}
