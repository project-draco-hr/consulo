{
  LOG.assertTrue(ApplicationManager.getApplication().isReadAccessAllowed());
  List<HighlightInfo> highlights=getHighlights(document,project);
  if (highlights == null)   return Collections.emptyList();
  List<HighlightInfo> array=new ArrayList<HighlightInfo>();
  for (  HighlightInfo info : highlights) {
    if (isOffsetInsideHighlightInfo(offset,info,true)) {
      array.add(info);
    }
  }
  return array;
}
