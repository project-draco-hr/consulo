{
  builder.append("{\n");
  final PsiClass containingClass=method.getContainingClass();
  LOG.assertTrue(containingClass instanceof GroovyScriptClass);
  final PsiFile scriptFile=containingClass.getContainingFile();
  LOG.assertTrue(scriptFile instanceof GroovyFile);
  LOG.assertTrue(((GroovyFile)scriptFile).isScript());
  final List<GrStatement> exitPoints=ControlFlowUtils.collectReturns(scriptFile);
  new CodeBlockGenerator(builder,new ExpressionContext(myProject),exitPoints).visitStatementOwner((GroovyFile)scriptFile,exitPoints.isEmpty());
  builder.append("\n}\n");
}
