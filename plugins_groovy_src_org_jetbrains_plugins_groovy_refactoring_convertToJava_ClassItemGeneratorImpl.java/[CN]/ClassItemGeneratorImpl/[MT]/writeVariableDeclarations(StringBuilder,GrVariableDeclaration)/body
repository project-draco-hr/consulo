{
  ExpressionContext extended=context.extend();
  GrVariable[] variables=variableDeclaration.getVariables();
  StringBuilder builder=new StringBuilder();
  StringBuilder initBuilder=new StringBuilder("{\n");
  for (  GrVariable variable : variables) {
    PsiType type=extended.typeProvider.getVarType(variable);
    ModifierListGenerator.writeModifiers(builder,variable.getModifierList());
    writeType(builder,type,variable);
    builder.append(" ");
    builder.append(variable.getName());
    final GrExpression initializer=variable.getInitializerGroovy();
    if (initializer != null) {
      int count=extended.myStatements.size();
      StringBuilder initializerBuilder=new StringBuilder();
      initializer.accept(new ExpressionGenerator(initializerBuilder,extended));
      if (extended.myStatements.size() == count) {
        builder.append(" = ").append(initializerBuilder);
      }
 else {
        StringBuilder assignment=new StringBuilder(variable.getName()).append(" = ").append(initializerBuilder).append(';');
        GenerationUtil.writeStatement(initBuilder,assignment,null,extended);
      }
    }
    builder.append(";\n");
  }
  if (extended.myStatements.size() > 0) {
    initBuilder.append("}\n");
    mainBuilder.append(initBuilder);
  }
  mainBuilder.append(builder);
}
