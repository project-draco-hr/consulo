{
  final int magnitude=testProxy.getState().getMagnitude();
  TestProxy parent=testProxy.getParent();
  TestProxy child=testProxy;
  while (parent != null) {
    final List<TestProxy> children=parent.getChildren();
    final TestState parentState=parent.getState();
    LOG.assertTrue(parentState instanceof SuiteState);
    if (child.equals(children.get(children.size() - 1))) {
      ((SuiteState)parentState).setRunning(false);
    }
    ((SuiteState)parentState).updateMagnitude(magnitude);
    child=parent;
    parent=parent.getParent();
  }
}
