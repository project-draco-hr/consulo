{
  final IntentionHintComponent component=new IntentionHintComponent(project,file,editor,intentions,errorFixes,inspectionFixes,gutters);
  if (showExpanded) {
    component.showIntentionHintImpl(false,position);
    ApplicationManager.getApplication().invokeLater(new Runnable(){
      public void run(){
        component.showPopup();
      }
    }
);
  }
 else {
    component.showIntentionHintImpl(true,position);
  }
  Disposer.register(project,component);
  return component;
}
