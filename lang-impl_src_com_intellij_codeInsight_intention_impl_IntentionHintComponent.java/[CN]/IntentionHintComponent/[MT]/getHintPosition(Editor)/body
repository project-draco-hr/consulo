{
  final int offset=editor.getCaretModel().getOffset();
  final LogicalPosition pos=editor.offsetToLogicalPosition(offset);
  int line=pos.line;
  final Point position=editor.logicalPositionToXY(new LogicalPosition(line,0));
  final int yShift=(ourIntentionIcon.getIconHeight() - editor.getLineHeight() - 1) / 2 - 1;
  final int xShift=ourIntentionIcon.getIconWidth();
  LOG.assertTrue(editor.getComponent().isDisplayable());
  Rectangle visibleArea=editor.getScrollingModel().getVisibleArea();
  Point location=SwingUtilities.convertPoint(editor.getContentComponent(),new Point(visibleArea.x - xShift,position.y + yShift),editor.getComponent().getRootPane().getLayeredPane());
  return new Point(location.x,location.y);
}
