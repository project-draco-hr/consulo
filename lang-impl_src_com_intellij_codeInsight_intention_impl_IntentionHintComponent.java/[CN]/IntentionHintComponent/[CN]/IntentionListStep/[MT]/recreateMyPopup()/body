{
  if (myPopup != null) {
    Disposer.dispose(myPopup);
  }
  myPopup=JBPopupFactory.getInstance().createListPopup(this);
  myPopup.addListener(new JBPopupListener.Adapter(){
    @Override public void onClosed(    final JBPopup popup){
      myPopupShown=false;
    }
  }
);
  Disposer.register(IntentionHintComponent.this,myPopup);
  Disposer.register(myPopup,new Disposable(){
    public void dispose(){
      ApplicationManager.getApplication().assertIsDispatchThread();
    }
  }
);
}
