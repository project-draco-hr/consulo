{
  if (!from.exists()) {
    throw new IOException("File to move does not exist: " + from.getPath());
  }
  if (!newParent.exists()) {
    throw new IOException("Destination folder does not exist: " + newParent.getPath());
  }
  if (!newParent.isDirectory()) {
    throw new IOException("Destination is not a folder: " + newParent.getPath());
  }
  final VirtualFile child=newParent.findChild(from.getName());
  if (child != null) {
    throw new IOException("Destination already exists: " + newParent.getPath() + "/"+ from.getName());
  }
  processEvent(new VFileMoveEvent(from,newParent));
}
