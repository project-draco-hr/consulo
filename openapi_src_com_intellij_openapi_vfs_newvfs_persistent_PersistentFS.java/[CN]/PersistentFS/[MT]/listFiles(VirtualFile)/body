{
  final int parentId=getFileId(parent);
  if (!areChildrenLoaded(parentId)) {
    list(parent);
  }
  final int[] childrenIds=myRecords.list(parentId);
  VirtualFile[] children=new VirtualFile[childrenIds.length];
  for (int i=0; i < children.length; i++) {
    final int childId=childrenIds[i];
    children[i]=((VFileImpl)parent).createChildFileInstance(myRecords.getName(childId),childId);
  }
  return children;
}
