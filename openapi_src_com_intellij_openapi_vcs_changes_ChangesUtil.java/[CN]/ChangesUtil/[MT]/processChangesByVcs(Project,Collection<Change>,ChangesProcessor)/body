{
  Map<AbstractVcs,List<Change>> changesByVcs=new HashMap<AbstractVcs,List<Change>>();
  for (  Change change : changes) {
    final AbstractVcs vcs=getVcsForChange(change,project);
    if (vcs != null) {
      List<Change> vcsChanges=changesByVcs.get(vcs);
      if (vcsChanges == null) {
        vcsChanges=new ArrayList<Change>();
        changesByVcs.put(vcs,vcsChanges);
      }
      vcsChanges.add(change);
    }
  }
  for (  Map.Entry<AbstractVcs,List<Change>> entry : changesByVcs.entrySet()) {
    processor.processChanges(entry.getKey(),entry.getValue());
  }
}
