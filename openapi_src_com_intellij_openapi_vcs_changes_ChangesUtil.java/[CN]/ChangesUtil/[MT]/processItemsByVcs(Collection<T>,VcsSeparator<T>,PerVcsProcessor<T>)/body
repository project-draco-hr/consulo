{
  Map<AbstractVcs,List<T>> changesByVcs=new HashMap<AbstractVcs,List<T>>();
  for (  T item : items) {
    final AbstractVcs vcs=separator.getVcsFor(item);
    if (vcs != null) {
      List<T> vcsChanges=changesByVcs.get(vcs);
      if (vcsChanges == null) {
        vcsChanges=new ArrayList<T>();
        changesByVcs.put(vcs,vcsChanges);
      }
      vcsChanges.add(item);
    }
  }
  for (  Map.Entry<AbstractVcs,List<T>> entry : changesByVcs.entrySet()) {
    processor.process(entry.getKey(),entry.getValue());
  }
}
