{
  if (isQuickFixOnReadOnlyFile(project,descriptor))   return;
  try {
    final PsiElement classIdentifier=descriptor.getPsiElement();
    final PsiClass psiClass=(PsiClass)classIdentifier.getParent();
    final PsiManager psiManager=PsiManager.getInstance(project);
    final PsiElementFactory factory=psiManager.getElementFactory();
    final PsiMethod constructor=factory.createConstructor();
    if (psiClass.hasModifierProperty(PsiModifier.PRIVATE)) {
      constructor.getModifierList().setModifierProperty(PsiModifier.PUBLIC,false);
      constructor.getModifierList().setModifierProperty(PsiModifier.PRIVATE,true);
    }
 else     if (psiClass.hasModifierProperty(PsiModifier.PROTECTED)) {
      constructor.getModifierList().setModifierProperty(PsiModifier.PUBLIC,false);
      constructor.getModifierList().setModifierProperty(PsiModifier.PROTECTED,true);
    }
 else     if (psiClass.hasModifierProperty(PsiModifier.ABSTRACT)) {
      constructor.getModifierList().setModifierProperty(PsiModifier.PUBLIC,false);
      constructor.getModifierList().setModifierProperty(PsiModifier.PROTECTED,true);
    }
 else     if (!psiClass.hasModifierProperty(PsiModifier.PUBLIC)) {
      constructor.getModifierList().setModifierProperty(PsiModifier.PUBLIC,false);
    }
    psiClass.add(constructor);
    final CodeStyleManager styleManager=psiManager.getCodeStyleManager();
    styleManager.reformat(constructor);
  }
 catch (  IncorrectOperationException e) {
    final Class aClass=getClass();
    final String className=aClass.getName();
    final Logger logger=Logger.getInstance(className);
    logger.error(e);
  }
}
