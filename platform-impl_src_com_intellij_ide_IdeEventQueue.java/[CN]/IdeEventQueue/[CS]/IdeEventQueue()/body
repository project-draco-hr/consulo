{
  addIdleTimeCounterRequest();
  final KeyboardFocusManager keyboardFocusManager=KeyboardFocusManager.getCurrentKeyboardFocusManager();
  keyboardFocusManager.addPropertyChangeListener("permanentFocusOwner",new PropertyChangeListener(){
    public void propertyChange(    final PropertyChangeEvent e){
      final Application application=ApplicationManager.getApplication();
      if (application == null) {
        return;
      }
      application.assertIsDispatchThread();
      final Window focusedWindow=keyboardFocusManager.getFocusedWindow();
      final Component focusOwner=keyboardFocusManager.getFocusOwner();
      if (mySuspendMode && focusedWindow != null && focusOwner != null && focusOwner != myFocusOwner && !(focusOwner instanceof Window)) {
        exitSuspendMode();
      }
    }
  }
);
}
