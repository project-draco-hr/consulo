{
synchronized (ourLock) {
    myStates.put(project,Boolean.FALSE);
  }
  ProgressManager.getInstance().runProcessWithProgressSynchronously(new Runnable(){
    public void run(){
      final ProgressIndicator indicator=ProgressManager.getInstance().getProgressIndicator();
      final List<Pair<String,Runnable>> list;
synchronized (ourLock) {
        list=myInterrupters;
      }
      for (      Pair<String,Runnable> pair : list) {
        if (indicator != null) {
          indicator.setText(pair.getFirst());
          indicator.checkCanceled();
        }
        pair.getSecond().run();
      }
    }
  }
,"Please wait for safe shutdown of periodical tasks...",true,project);
}
