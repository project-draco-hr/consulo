{
  DebuggerTreeNodeImpl[] selectedNode=getSelectedNodes(e.getDataContext());
  DebugProcessImpl debugProcess=getDebuggerContext(e.getDataContext()).getDebugProcess();
  boolean visible=false;
  if (debugProcess != null) {
    visible=true;
    for (int i=0; i < selectedNode.length; i++) {
      NodeDescriptorImpl threadDescriptor=selectedNode[i].getDescriptor();
      if (!(threadDescriptor instanceof ThreadDescriptorImpl) || ((ThreadDescriptorImpl)threadDescriptor).isFrozen()) {
        visible=false;
        break;
      }
    }
  }
  e.getPresentation().setVisible(visible);
}
