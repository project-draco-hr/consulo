{
  Editor editor=FileEditorManager.getInstance(myProject).getSelectedTextEditor();
  if (editor == null || !editor.getContentComponent().hasFocus()) {
    return;
  }
  int offset=editor.getCaretModel().getOffset();
  DaemonCodeAnalyzerImpl codeAnalyzer=(DaemonCodeAnalyzerImpl)DaemonCodeAnalyzer.getInstance(myProject);
  HighlightInfo info=codeAnalyzer.findHighlightByOffset(editor.getDocument(),offset,false);
  String text;
  if (info != null && info.description != null) {
    text=info.description;
  }
 else {
    text="";
  }
  if (!text.equals(myLastStatusText)) {
    WindowManager.getInstance().getStatusBar(myProject).setInfo(text);
    myLastStatusText=text;
  }
}
