{
  if (!com.intellij.idea.Main.checkStartupPossible()) {
    System.exit(-1);
  }
  InspectionLicense.getInstance().startUp(new AuthorizationAction(){
    public void proceed(    LicenseData license){
      if (args.length < 3) {
        printHelp();
      }
      System.setProperty("idea.load.plugins.category","inspection");
      final InspectionApplication application=new InspectionApplication();
      application.myProjectPath=args[0];
      application.myProfilePath=args[1];
      application.myOutPath=args[2];
      try {
        for (int i=3; i < args.length; i++) {
          String arg=args[i];
          if ("-d".equals(arg)) {
            application.mySourceDirectory=args[++i];
          }
 else           if ("-v0".equals(arg)) {
            application.setVerboseLevel(0);
          }
 else           if ("-v1".equals(arg)) {
            application.setVerboseLevel(1);
          }
 else           if ("-v2".equals(arg)) {
            application.setVerboseLevel(2);
          }
 else {
            printHelp();
          }
        }
      }
 catch (      ArrayIndexOutOfBoundsException e) {
        printHelp();
      }
      application.startup();
    }
    public void cancel(){
    }
  }
);
}
