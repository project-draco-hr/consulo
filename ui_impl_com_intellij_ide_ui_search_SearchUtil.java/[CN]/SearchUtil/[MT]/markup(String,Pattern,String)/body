{
  @NonNls String result="";
  int beg=0;
  int idx;
  while ((idx=StringUtil.indexOfIgnoreCase(textToMarkup,option,beg)) != -1) {
    final String prefix=textToMarkup.substring(beg,idx);
    final String toMark=textToMarkup.substring(idx,idx + option.length());
    if (insideHtmlTagPattern.matcher(prefix).matches()) {
      result+=prefix + toMark;
    }
 else {
      result+=prefix + "<font color='#ffffff' bgColor='#1d5da7'>" + toMark+ "</font>";
    }
    beg=idx + option.length();
  }
  result+=textToMarkup.substring(beg);
  return result;
}
