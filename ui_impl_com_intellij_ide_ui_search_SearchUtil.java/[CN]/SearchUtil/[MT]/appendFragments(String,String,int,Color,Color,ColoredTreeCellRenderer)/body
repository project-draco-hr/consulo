{
  if (text == null)   return;
  if (filter == null || filter.length() == 0) {
    textRenderer.append(text,new SimpleTextAttributes(style,foreground));
  }
 else {
    final Set<String> filters=getProcessedWords(filter);
    String[] words=text.split("[\\W&&[^_-]]");
    List<String> selectedWords=new ArrayList<String>();
    for (    String word : words) {
      if (filters.contains(PorterStemmerUtil.stem(word.toLowerCase()))) {
        selectedWords.add(word);
      }
    }
    int idx=0;
    for (    String word : selectedWords) {
      text=text.substring(idx);
      textRenderer.append(text.substring(0,text.indexOf(word)),new SimpleTextAttributes(background,foreground,null,style));
      idx=text.indexOf(word) + word.length();
      textRenderer.append(text.substring(idx - word.length(),idx),new SimpleTextAttributes(UIUtil.getTreeSelectionBackground(),foreground,null,style));
    }
    textRenderer.append(text.substring(idx,text.length()),new SimpleTextAttributes(background,foreground,null,style));
  }
}
