{
  int[] rows=tree.getSelectionRows();
  if (rows == null || rows.length != 1)   return EMPTY_FILE_SET;
  PackageDependenciesNode node=(PackageDependenciesNode)tree.getPathForRow(rows[0]).getLastPathComponent();
  if (node.isRoot())   return EMPTY_FILE_SET;
  Set<PsiFile> result=new HashSet<PsiFile>();
  node.fillFiles(result,!DependencyUISettings.getInstance().UI_FLATTEN_PACKAGES);
  return result;
}
