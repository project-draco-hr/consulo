{
  tree.getSelectionModel().setSelectionMode(TreeSelectionModel.SINGLE_TREE_SELECTION);
  tree.setCellRenderer(new MyTreeCellRenderer());
  tree.setRootVisible(false);
  tree.setShowsRootHandles(true);
  tree.putClientProperty("JTree.lineStyle","Angled");
  TreeToolTipHandler.install(tree);
  TreeUtil.installActions(tree);
  SmartExpander.installOn(tree);
  new TreeSpeedSearch(tree);
  PopupHandler.installUnknownPopupHandler(tree,createTreePopupActions(isRightTree),ActionManager.getInstance());
  tree.addMouseListener(new MouseAdapter(){
    public void mouseClicked(    MouseEvent e){
      if (e.isPopupTrigger() && e.getClickCount() == 2) {
        Navigatable navigatable=(Navigatable)tree.getData(DataConstants.NAVIGATABLE);
        if (navigatable != null && navigatable.canNavigate()) {
          navigatable.navigate(true);
        }
      }
    }
  }
);
}
