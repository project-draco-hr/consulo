{
  PackageDependenciesNode node=(PackageDependenciesNode)value;
  final PsiElement element=node.getPsiElement();
  if (element != null && element.isValid()) {
    if (expanded) {
      setIcon(node.getOpenIcon());
    }
 else {
      setIcon(node.getClosedIcon());
    }
  }
 else {
    append(UsageViewBundle.message("node.invalid") + " ",SimpleTextAttributes.ERROR_ATTRIBUTES);
  }
  append(node.toString(),node.hasMarked() && !selected ? SimpleTextAttributes.ERROR_ATTRIBUTES : SimpleTextAttributes.REGULAR_ATTRIBUTES);
  append(node.getPresentableFilesCount(),SimpleTextAttributes.GRAYED_ATTRIBUTES);
}
