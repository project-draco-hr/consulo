{
  renewFile();
  if (myFile == null)   return TextEditorHighlightingPass.EMPTY_ARRAY;
  if (myCompiled) {
    if (myFile instanceof PsiJavaFile) {
      passesToIgnore=EXCEPT_OVERRIDDEN;
    }
 else {
      return TextEditorHighlightingPass.EMPTY_ARRAY;
    }
  }
 else   if (!DaemonCodeAnalyzer.getInstance(myProject).isHighlightingAvailable(myFile)) {
    return TextEditorHighlightingPass.EMPTY_ARRAY;
  }
  PsiDocumentManager.getInstance(myProject).commitAllDocuments();
  TextEditorHighlightingPassRegistrarEx passRegistrar=TextEditorHighlightingPassRegistrarEx.getInstanceEx(myProject);
  List<TextEditorHighlightingPass> createdPasses=passRegistrar.instantiatePasses(myFile,myEditor,passesToIgnore);
  return createdPasses.toArray(new TextEditorHighlightingPass[createdPasses.size()]);
}
