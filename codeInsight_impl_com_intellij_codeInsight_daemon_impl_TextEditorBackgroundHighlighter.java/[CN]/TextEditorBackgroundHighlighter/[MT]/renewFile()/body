{
  if (myFile == null || !myFile.isValid()) {
    myFile=PsiDocumentManager.getInstance(myProject).getPsiFile(myDocument);
    myCompiled=myFile instanceof PsiCompiledElement;
    if (myCompiled) {
      myFile=(PsiFile)((PsiCompiledElement)myFile).getMirror();
    }
    if (myFile != null && !myFile.isValid()) {
      myFile=null;
    }
  }
}
