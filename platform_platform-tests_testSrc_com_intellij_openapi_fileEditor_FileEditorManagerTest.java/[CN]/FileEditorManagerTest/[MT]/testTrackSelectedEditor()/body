{
  PlatformTestUtil.registerExtension(FileEditorProvider.EP_FILE_EDITOR_PROVIDER,new MyFileEditorProvider(),getTestRootDisposable());
  VirtualFile file=getFile("/src/1.txt");
  assertNotNull(file);
  FileEditor[] editors=myManager.openFile(file,true);
  assertEquals(2,editors.length);
  assertEquals("Text",myManager.getSelectedEditor(file).getName());
  myManager.setSelectedEditor(file,"mock");
  assertEquals("mockEditor",myManager.getSelectedEditor(file).getName());
  VirtualFile file1=getFile("/src/2.txt");
  myManager.openFile(file1,true);
  assertEquals("mockEditor",myManager.getSelectedEditor(file).getName());
}
