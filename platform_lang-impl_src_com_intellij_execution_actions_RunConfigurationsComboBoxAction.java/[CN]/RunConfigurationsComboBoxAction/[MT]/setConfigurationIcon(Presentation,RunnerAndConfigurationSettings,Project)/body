{
  try {
    Icon icon=RunManagerEx.getInstanceEx(project).getConfigurationIcon(settings);
    ExecutionManagerImpl executionManager=ExecutionManagerImpl.getInstance(project);
    List<RunContentDescriptor> runningDescriptors=executionManager.getRunningDescriptors(new Condition<RunnerAndConfigurationSettings>(){
      @Override public boolean value(      RunnerAndConfigurationSettings s){
        return s == settings;
      }
    }
);
    if (runningDescriptors.size() == 1) {
      icon=ExecutionUtil.getLiveIndicator(icon);
    }
    if (runningDescriptors.size() > 1) {
      icon=IconUtil.addText(icon,String.valueOf(runningDescriptors.size()));
    }
    presentation.setIcon(icon);
  }
 catch (  IndexNotReadyException ignored) {
  }
}
