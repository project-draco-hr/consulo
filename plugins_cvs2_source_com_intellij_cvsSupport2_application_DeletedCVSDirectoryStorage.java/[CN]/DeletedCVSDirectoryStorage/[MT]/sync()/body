{
  try {
    if (!myFilesToDelete.isEmpty()) {
      ApplicationManager.getApplication().runWriteAction(new Runnable(){
        public void run(){
          try {
            for (Iterator each=myFilesToDelete.iterator(); each.hasNext(); ) {
              VirtualFile file=(VirtualFile)each.next();
              file.delete(DeletedCVSDirectoryStorage.this);
            }
          }
 catch (          final IOException e) {
            SwingUtilities.invokeLater(new Runnable(){
              public void run(){
                Messages.showErrorDialog("Cannot delete CVS admit directory: " + e.getLocalizedMessage(),"Delete CVS admin directories");
              }
            }
);
          }
        }
      }
);
    }
  }
  finally {
    myFilesToDelete.clear();
  }
}
