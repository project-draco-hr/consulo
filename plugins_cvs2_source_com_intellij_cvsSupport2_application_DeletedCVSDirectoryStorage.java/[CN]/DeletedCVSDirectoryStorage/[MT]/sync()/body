{
  try {
    if (!myFilesToDelete.isEmpty()) {
      ApplicationManager.getApplication().runWriteAction(new Runnable(){
        public void run(){
          try {
            for (            VirtualFile file : myFilesToDelete) {
              file.delete(DeletedCVSDirectoryStorage.this);
            }
          }
 catch (          final IOException e) {
            SwingUtilities.invokeLater(new Runnable(){
              public void run(){
                Messages.showErrorDialog(CvsBundle.message("message.error.cannot.delete.cvs.admin.directory"),CvsBundle.message("message.error.cannot.delete.cvs.admin.directory.title"));
              }
            }
);
          }
        }
      }
);
    }
  }
  finally {
    myFilesToDelete.clear();
  }
}
