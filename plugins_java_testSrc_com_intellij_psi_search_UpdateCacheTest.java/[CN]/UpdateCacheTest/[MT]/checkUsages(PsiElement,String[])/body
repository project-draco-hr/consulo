{
  PsiReference[] refs=ReferencesSearch.search(element,GlobalSearchScope.projectScope(myProject),false).toArray(new PsiReference[0]);
  List<PsiFile> files=new ArrayList<PsiFile>();
  for (  PsiReference ref : refs) {
    PsiFile file=ref.getElement().getContainingFile();
    if (!files.contains(file)) {
      files.add(file);
    }
  }
  assertEquals(expectedFiles.length,files.size());
  Collections.sort(files,new Comparator<PsiFile>(){
    @Override public int compare(    PsiFile file1,    PsiFile file2){
      return file1.getName().compareTo(file2.getName());
    }
  }
);
  Arrays.sort(expectedFiles);
  for (int i=0; i < expectedFiles.length; i++) {
    String name=expectedFiles[i];
    PsiFile file=files.get(i);
    assertEquals(name,file.getName());
  }
}
