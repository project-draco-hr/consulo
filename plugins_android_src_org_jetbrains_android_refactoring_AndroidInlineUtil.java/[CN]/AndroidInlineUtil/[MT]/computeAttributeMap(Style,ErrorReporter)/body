{
  final Map<AndroidAttributeInfo,String> attributeValues=new HashMap<AndroidAttributeInfo,String>();
  for (  StyleItem item : style.getItems()) {
    final String attributeName=item.getName().getStringValue();
    String attributeValue=item.getStringValue();
    if (attributeName == null || attributeName.length() <= 0 || attributeValue == null) {
      continue;
    }
    final int idx=attributeName.indexOf(':');
    final String localName=idx >= 0 ? attributeName.substring(idx + 1) : attributeName;
    final String nsPrefix=idx >= 0 ? attributeName.substring(0,idx) : null;
    if (nsPrefix != null) {
      if (!AndroidUtils.SYSTEM_RESOURCE_PACKAGE.equals(nsPrefix)) {
        errorReporter.report(RefactoringBundle.getCannotRefactorMessage("Unknown XML attribute prefix '" + nsPrefix + ":'"),AndroidBundle.message("android.inline.style.title"));
        return null;
      }
    }
 else {
      errorReporter.report(RefactoringBundle.getCannotRefactorMessage("The style contains attribute without 'android' prefix."),AndroidBundle.message("android.inline.style.title"));
      return null;
    }
    attributeValues.put(new AndroidAttributeInfo(localName,nsPrefix),attributeValue);
  }
  return attributeValues;
}
