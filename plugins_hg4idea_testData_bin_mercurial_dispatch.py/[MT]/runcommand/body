def runcommand(lui, repo, cmd, fullargs, ui, options, d):
    ret = hook.hook(lui, repo, ('pre-%s' % cmd), False, args=' '.join(fullargs))
    if ret:
        return ret
    ret = _runcommand(ui, options, cmd, d)
    hook.hook(lui, repo, ('post-%s' % cmd), False, args=' '.join(fullargs), result=ret)
    return ret
