def _parseconfig(ui, config):
    'parse the --config options from the command line'
    for cfg in config:
        try:
            (name, value) = cfg.split('=', 1)
            (section, name) = name.split('.', 1)
            if ((not section) or (not name)):
                raise IndexError
            ui.setconfig(section, name, value)
        except (IndexError, ValueError):
            raise util.Abort((_('malformed --config option: %r (use --config section.name=value)') % cfg))
