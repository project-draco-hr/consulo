def dispatch(args):
    'run the command specified in args'
    try:
        u = _ui.ui()
        if ('--traceback' in args):
            u.setconfig('ui', 'traceback', 'on')
    except util.Abort as inst:
        sys.stderr.write((_('abort: %s\n') % inst))
        return (-1)
    except error.ConfigError as inst:
        sys.stderr.write((_('hg: %s\n') % inst))
        return (-1)
    return _runcatch(u, args)
