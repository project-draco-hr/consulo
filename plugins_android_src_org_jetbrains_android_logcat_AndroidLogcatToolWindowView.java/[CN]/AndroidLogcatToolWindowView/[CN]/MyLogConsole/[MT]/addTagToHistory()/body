{
  final String tag=(String)myTagCombo.getEditor().getItem();
  if (tag != null && tag.length() != 0) {
    final List<String> recentTags=new ArrayList<String>(Arrays.asList(getRecentTags()));
    if (recentTags.contains(tag)) {
      recentTags.remove(tag);
      recentTags.add(tag);
    }
 else {
      if (recentTags.size() >= HISTORY_SIZE) {
        recentTags.remove(0);
      }
      recentTags.add(tag);
    }
    PropertiesComponent.getInstance().setValue(ANDROID_LOG_TAG_HISTORY_PROPERTY_NAME,toHistoryString(recentTags));
    myTagCombo.setModel(new DefaultComboBoxModel(ArrayUtil.reverseArray(recentTags.toArray())));
    myTagCombo.getEditor().setItem(tag);
  }
  myModel.updateTagFilter(tag != null ? tag : "");
}
