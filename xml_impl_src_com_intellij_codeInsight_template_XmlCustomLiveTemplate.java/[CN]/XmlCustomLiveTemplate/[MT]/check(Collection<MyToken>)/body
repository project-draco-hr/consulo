{
  MyState state=MyState.WORD;
  for (  MyToken token : tokens) {
    if (token instanceof MyMarkerToken) {
      break;
    }
switch (state) {
case OPERATION:
      if (token instanceof MyOperationToken) {
        state=((MyOperationToken)token).mySign == '*' ? MyState.NUMBER : MyState.WORD;
      }
 else {
        return false;
      }
    break;
case WORD:
  if (token instanceof MyTemplateToken) {
    state=MyState.OPERATION;
  }
 else {
    return false;
  }
break;
case NUMBER:
if (token instanceof MyNumberToken) {
state=MyState.AFTER_NUMBER;
}
 else {
return false;
}
break;
case AFTER_NUMBER:
if (token instanceof MyOperationToken && ((MyOperationToken)token).mySign != '*') {
state=MyState.WORD;
}
 else {
return false;
}
break;
}
}
return state == MyState.OPERATION || state == MyState.AFTER_NUMBER;
}
