{
  final JPanel panel=new JPanel(new GridBagLayout());
  final Constraints constraints=new Constraints();
  constraints.fill=GridBagConstraints.BOTH;
  constraints.lastRow();
  final JCheckBox forceBox=new JCheckBox("Force");
  forceBox.setSelected(fbl.isForce());
  panel.add(forceBox,constraints.weightedFirstCol());
  final NumberFormat integerInstance=NumberFormat.getIntegerInstance();
  integerInstance.setMaximumIntegerDigits(2);
  integerInstance.setMinimumIntegerDigits(1);
  final JFormattedTextField nBlankLines=new JFormattedTextField(integerInstance);
  nBlankLines.setValue(new Integer("88"));
  Dimension d=nBlankLines.getPreferredSize();
  d.width+=3;
  nBlankLines.setPreferredSize(d);
  nBlankLines.setValue(fbl.getnBlankLines());
  nBlankLines.setFocusLostBehavior(JFormattedTextField.COMMIT_OR_REVERT);
  constraints.insets=new Insets(0,3,0,0);
  panel.add(nBlankLines,constraints.weightedNextCol());
  nBlankLines.addPropertyChangeListener("value",new PropertyChangeListener(){
    public void propertyChange(    final PropertyChangeEvent evt){
      int n=((Number)nBlankLines.getValue()).intValue();
      if (n < 0) {
        n=0;
        nBlankLines.setValue(n);
      }
      fbl.setnBlankLines(n);
    }
  }
);
  String labelText="blank lines " + (fbl.isBefore() ? "before" : "after");
switch (fbl.getObject()) {
case ForceBlankLineSetting.CLASS_OBJECT:
    labelText+=" class ";
  break;
case ForceBlankLineSetting.METHOD_OBJECT:
labelText+=" method ";
break;
}
labelText+=fbl.isOpenBrace() ? "open brace \"{\"" : "close brace \"}\"";
if (fbl.getObject() == ForceBlankLineSetting.EOF_OBJECT) {
labelText="newline characters at end of file";
}
final JLabel blankLineLabel=new JLabel(labelText);
panel.add(blankLineLabel,constraints.lastCol());
nBlankLines.setEnabled(forceBox.isSelected());
blankLineLabel.setEnabled(forceBox.isSelected());
forceBox.addActionListener(new ActionListener(){
public void actionPerformed(ActionEvent e){
fbl.setForce(forceBox.isSelected());
nBlankLines.setEnabled(forceBox.isSelected());
blankLineLabel.setEnabled(forceBox.isSelected());
}
}
);
return panel;
}
