{
  final List<Pair<String,RefreshablePanel>> panels=new ArrayList<Pair<String,RefreshablePanel>>();
  for (  VcsChangeDetailsProvider convertor : myDedicatedList) {
    if (!convertor.canComment(change))     continue;
    RefreshablePanel panel=convertor.comment(change,parent,myQueue);
    if (panel != null) {
      panels.add(new Pair<String,RefreshablePanel>("Diff",panel));
      break;
    }
  }
  for (  VcsChangeDetailsProvider provider : myProviders) {
    if (provider.canComment(change)) {
      RefreshablePanel panel=provider.comment(change,parent,myQueue);
      if (panel != null) {
        panels.add(new Pair<String,RefreshablePanel>(provider.getName(),panel));
      }
    }
  }
  if (!panels.isEmpty()) {
    if (panels.size() == 1) {
      return panels.get(0).getSecond();
    }
 else {
      TabbedRefreshablePanel tabbedRefreshablePanel=new TabbedRefreshablePanel();
      for (      Pair<String,RefreshablePanel> panel : panels) {
        tabbedRefreshablePanel.addTab(panel.getFirst(),panel.getSecond());
      }
      return tabbedRefreshablePanel;
    }
  }
  return null;
}
