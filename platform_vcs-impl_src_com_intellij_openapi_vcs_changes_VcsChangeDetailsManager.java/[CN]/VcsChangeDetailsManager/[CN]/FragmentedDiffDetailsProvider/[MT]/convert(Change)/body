{
  final List<BeforeAfter<ShiftedSimpleContent>> requestForChange;
  try {
    requestForChange=myRequestFromChange.createRequestForChange(o,extraLines);
    if (requestForChange == null)     return null;
    if (requestForChange.isEmpty()) {
      return new Pair<JPanel,Disposable>(errorPanel(DiffBundle.message("diff.contents.have.differences.only.in.line.separators.message.text"),false),null);
    }
  }
 catch (  VcsException e) {
    return new Pair<JPanel,Disposable>(errorPanel(e.getMessage(),true),null);
  }
  final ChangesFragmentedDiffPanel panel=new ChangesFragmentedDiffPanel(myProject,requestForChange,myDiffPanelCache,changeDescription(o));
  panel.buildUi();
  return new Pair<JPanel,Disposable>(panel.getPanel(),panel);
}
