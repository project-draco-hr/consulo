{
  Set<VirtualFile> suspiciousFiles=new HashSet<VirtualFile>();
synchronized (LOCK) {
    suspiciousFiles.addAll(myPossiblyUntrackedFiles);
    myPossiblyUntrackedFiles.clear();
  }
synchronized (myDefinitelyUntrackedFiles) {
    Set<VirtualFile> untrackedFiles=myGit.untrackedFiles(myProject,myRoot,suspiciousFiles);
    suspiciousFiles.removeAll(untrackedFiles);
    Set<VirtualFile> trackedFiles=suspiciousFiles;
    myDefinitelyUntrackedFiles.addAll(untrackedFiles);
    myDefinitelyUntrackedFiles.removeAll(trackedFiles);
  }
}
