{
  Set<VirtualFile> suspiciousFiles=new HashSet<VirtualFile>();
synchronized (LOCK) {
    suspiciousFiles.addAll(myPossiblyUntrackedFiles);
    suspiciousFiles.addAll(myPossiblyTrackedFiles);
  }
  Set<VirtualFile> untrackedFiles=myGit.untrackedFiles(myProject,myRoot,suspiciousFiles);
  suspiciousFiles.removeAll(untrackedFiles);
  Set<VirtualFile> trackedFiles=suspiciousFiles;
synchronized (LOCK) {
    myPossiblyUntrackedFiles.clear();
    myPossiblyTrackedFiles.clear();
    myDefinitelyUntrackedFiles.addAll(untrackedFiles);
    myDefinitelyUntrackedFiles.removeAll(trackedFiles);
  }
}
