{
  return new AssignInstruction(rExpression){
    public DfaInstructionState[] apply(    final DataFlowRunner runner,    final DfaMemoryState memState){
      final Instruction nextInstruction=runner.getInstruction(getIndex() + 1);
      final DfaValue dfaSource=memState.pop();
      final DfaValue dfaDest=memState.pop();
      if (dfaDest instanceof DfaVariableValue) {
        DfaVariableValue var=(DfaVariableValue)dfaDest;
        final PsiExpression curValue=getRExpression();
        final PsiElement parent=curValue.getParent();
        final IElementType type=parent instanceof PsiAssignmentExpression ? ((PsiAssignmentExpression)parent).getOperationTokenType() : JavaTokenType.EQ;
        final PsiExpression prevValue=((MyDfaVariableState)((MyDfaMemoryState)memState).getVariableState(var)).myExpression;
        memState.setVarValue(var,dfaSource);
        final PsiExpression nextValue;
        if (prevValue != null && type == JavaTokenType.PLUSEQ) {
          nextValue=JavaPsiFacade.getElementFactory(myContext.getProject()).createExpressionFromText(prevValue.getText() + "+" + curValue.getText(),curValue);
        }
 else {
          nextValue=curValue;
        }
        ((MyDfaVariableState)((MyDfaMemoryState)memState).getVariableState(var)).myExpression=nextValue;
      }
      memState.push(dfaDest);
      return new DfaInstructionState[]{new DfaInstructionState(nextInstruction,memState)};
    }
  }
;
}
