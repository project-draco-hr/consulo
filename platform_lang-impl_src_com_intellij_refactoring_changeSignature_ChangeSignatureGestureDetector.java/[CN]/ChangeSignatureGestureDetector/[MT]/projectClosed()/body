{
  for (  PsiFile file : myListenerMap.keySet()) {
    final MyDocumentChangeAdapter adapter=myListenerMap.get(file);
    if (adapter != null) {
      final Document document=myPsiDocumentManager.getDocument(file);
      if (document != null) {
        document.removeDocumentListener(adapter);
      }
    }
  }
  myListenerMap.clear();
  myPsiManager.removePsiTreeChangeListener(this);
  EditorFactory.getInstance().removeEditorFactoryListener(this);
}
