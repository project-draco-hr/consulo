{
  if (myDeaf)   return;
  if (child == null || !child.isValid())   return;
  final PsiFile file=child.getContainingFile();
  if (file != null) {
    final MyDocumentChangeAdapter changeBean=myListenerMap.get(file.getVirtualFile());
    if (changeBean != null && changeBean.getInitialText() != null) {
      final Editor editor=myFileEditorManager.getSelectedTextEditor();
      if (editor != null && myTemplateManager.getActiveTemplate(editor) != null)       return;
      final LanguageChangeSignatureDetector detector=LanguageChangeSignatureDetectors.INSTANCE.forLanguage(child.getLanguage());
      if (detector == null)       return;
      if (detector.ignoreChanges(child))       return;
      final String currentSignature=detector.extractSignature(child,changeBean.getInitialChangeInfo());
      if (currentSignature == null) {
        changeBean.reinit();
      }
 else {
        changeBean.addSignature(currentSignature);
      }
    }
  }
}
