{
  final VirtualFile beforeFile=PatchApplier.getFile(myBaseDirectory,myBeforeName);
  if (!checkExistsAndValid(beforeFile,myBeforeName)) {
    return false;
  }
  addPatch(myPatch,beforeFile);
  myBeforePaths.add(new FilePathImpl(beforeFile.getParent(),beforeFile.getName(),beforeFile.isDirectory()));
  return true;
}
