{
  boolean marked=false;
  ArtifactFilesDelta delta=getDelta(descriptor.getArtifactName());
  Set<String> paths=delta.clearRecompile(descriptor.getRootIndex());
  if (paths != null) {
    for (    String path : paths) {
      File file=new File(FileUtil.toSystemDependentName(path));
      long stamp=file.lastModified();
      if (stamp > compilationStartStamp + 1000) {
        delta.markRecompile(descriptor.getRootIndex(),path);
      }
 else {
        marked=true;
        storage.update(descriptor.getArtifactId(),path,stamp);
      }
    }
  }
  return marked;
}
