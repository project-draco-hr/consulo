{
  final boolean marked=super.markDirtyIfNotDeleted(context,file,rd,tsStorage);
  if (marked) {
    final FilesDelta roundDelta=getRoundDelta(CURRENT_ROUND_DELTA_KEY,context);
    if (roundDelta != null) {
      if (getContextModules(context).contains(rd.module)) {
        roundDelta.markRecompile(rd.root,rd.isTestRoot,file);
      }
    }
  }
  return marked;
}
