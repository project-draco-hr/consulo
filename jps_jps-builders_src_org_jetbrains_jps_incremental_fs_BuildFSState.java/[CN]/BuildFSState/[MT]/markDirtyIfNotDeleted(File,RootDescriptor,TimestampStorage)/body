{
  final boolean marked=super.markDirtyIfNotDeleted(file,rd,tsStorage);
  if (marked) {
    final FilesDelta roundDelta=myCurrentRoundDelta;
    if (roundDelta != null) {
      if (myContextModules.contains(rd.module)) {
        roundDelta.markRecompile(rd.root,rd.isTestRoot,file);
      }
    }
  }
  return marked;
}
