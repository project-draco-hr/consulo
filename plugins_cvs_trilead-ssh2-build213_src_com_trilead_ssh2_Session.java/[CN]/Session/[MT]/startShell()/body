{
synchronized (this) {
    if (flag_closed)     throw new IOException("This session is closed.");
    if (flag_execution_started)     throw new IOException("A remote execution has already started.");
    flag_execution_started=true;
  }
  cm.requestShell(cn);
}
