{
  JBViewport viewport=new JBViewport(){
    @Override protected LayoutManager createLayoutManager(){
      return new ViewportLayout(){
        @Override public Dimension preferredLayoutSize(        Container parent){
          int size=list.getModel().getSize();
          if (size >= 0 && size <= 20) {
            return list.getPreferredSize();
          }
 else {
            return super.preferredLayoutSize(parent);
          }
        }
      }
;
    }
  }
;
  setViewport(viewport);
  setViewportView(list);
  if (myAutoselectOnMouseMove) {
    list.addMouseMotionListener(new MouseMotionAdapter(){
      boolean myIsEngaged=false;
      public void mouseMoved(      MouseEvent e){
        if (myIsEngaged && !UIUtil.isSelectionButtonDown(e)) {
          Point point=e.getPoint();
          int index=list.locationToIndex(point);
          list.setSelectedIndex(index);
        }
 else {
          myIsEngaged=true;
        }
      }
    }
);
  }
  ListScrollingUtil.installActions(list);
  setBorder(BorderFactory.createEmptyBorder(0,0,0,0));
  myList=list;
}
