{
  TreeUtil.expandAll(tree);
  JScrollPane scrollPane=new JScrollPane(tree);
  scrollPane.setBorder(BorderFactory.createEmptyBorder(0,0,0,0));
  if (tree.getSelectionCount() == 0) {
    tree.setSelectionRow(0);
  }
  if (tree.getRowCount() >= 20) {
    scrollPane.getViewport().setPreferredSize(new Dimension(tree.getPreferredScrollableViewportSize().width,300));
  }
 else {
    scrollPane.getViewport().setPreferredSize(tree.getPreferredSize());
  }
  tree.addMouseMotionListener(new MouseMotionAdapter(){
    boolean myIsEngaged=false;
    public void mouseMoved(    MouseEvent e){
      if (myIsEngaged) {
        final Point p=e.getPoint();
        int index=tree.getRowForLocation(p.x,p.y);
        tree.setSelectionRow(index);
      }
 else {
        myIsEngaged=true;
      }
    }
  }
);
  return scrollPane;
}
