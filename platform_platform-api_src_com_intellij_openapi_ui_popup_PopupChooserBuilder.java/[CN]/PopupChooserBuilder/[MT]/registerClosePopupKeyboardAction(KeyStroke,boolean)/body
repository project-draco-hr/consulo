{
  myChooserComponent.registerKeyboardAction(new AbstractAction(){
    public void actionPerformed(    ActionEvent e){
      if (!shouldPerformAction && myChooserComponent instanceof ListWithFilter) {
        if (((ListWithFilter)myChooserComponent).resetFilter())         return;
      }
      closePopup(shouldPerformAction,null);
    }
  }
,keyStroke,JComponent.WHEN_ANCESTOR_OF_FOCUSED_COMPONENT);
}
