{
  VcsFileRevision revision=e.getData(VcsDataKeys.VCS_FILE_REVISION);
  VirtualFile revisionVirtualFile=e.getData(VcsDataKeys.VCS_VIRTUAL_FILE);
  if ((revision == null) || (revisionVirtualFile == null))   return;
  try {
    final FileAnnotation annotation=myAnnotationProvider.annotate(revisionVirtualFile,revision);
    AbstractVcsHelper.getInstance(myProject).showAnnotation(annotation,revisionVirtualFile);
  }
 catch (  VcsException e1) {
    AbstractVcsHelper.getInstance(myProject).showError(e1,VcsBundle.message("operation.name.annotate"));
  }
}
