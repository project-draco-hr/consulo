{
  super(consoleProperties);
  consoleProperties.setConsole(this);
  myResultsForm=new RTestUnitResultsForm(runConfig,consoleProperties);
  myResultsForm.addTab(RBundle.message("ruby.test.runner.ui.tabs.output.title"),getConsole().getComponent());
  myResultsForm.addTestsTreeSelectionListener(new TreeSelectionListener(){
    public void valueChanged(    final TreeSelectionEvent e){
      final PrintableTestProxy proxy=(PrintableTestProxy)myResultsForm.getTreeView().getSelectedTest();
      if (proxy == null) {
        return;
      }
      IdeaInternalUtil.runInEventDispatchThread(new Runnable(){
        public void run(){
          getPrinter().updateOnTestSelected(proxy);
        }
      }
,ModalityState.NON_MODAL);
    }
  }
);
  myResultsForm.initLogConsole();
}
