{
  if (value instanceof ArrangementRepresentationAware) {
    return ((ArrangementRepresentationAware)value).getRenderer();
  }
  ArrangementListRowDecorator component=myComponents.get(index);
  if (component == null) {
    if (!(value instanceof StdArrangementMatchRule)) {
      return EMPTY_RENDERER;
    }
    StdArrangementMatchRule rule=(StdArrangementMatchRule)value;
    component=new ArrangementListRowDecorator(myFactory.getComponent(rule.getMatcher().getCondition(),rule,true));
    myComponents.put(index,component);
    if (myRowUnderMouse == index) {
      component.setBackground(UIUtil.getDecoratedRowColor());
    }
 else {
      component.setBackground(UIUtil.getListBackground());
    }
  }
  component.setRowIndex((myEditorRow >= 0 && index > myEditorRow) ? index : index + 1);
  component.setSelected(getSelectionModel().isSelectedIndex(index));
  return component.getUiComponent();
}
