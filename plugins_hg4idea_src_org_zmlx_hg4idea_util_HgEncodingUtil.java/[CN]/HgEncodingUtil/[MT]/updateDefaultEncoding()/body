{
  String name=SystemInfo.isWindows ? WINDOWS_DEFAULT_CHARSET : UNIX_DEFAULT_CHARSET;
  try {
    String enc=System.getenv("HGENCODING");
    if (enc != null && enc.length() > 0 && Charset.isSupported(enc)) {
      name=enc;
    }
    return Charset.forName(name);
  }
 catch (  Exception e) {
    LOG.info("Couldn't find encoding " + name,e);
  }
  return Charset.defaultCharset();
}
