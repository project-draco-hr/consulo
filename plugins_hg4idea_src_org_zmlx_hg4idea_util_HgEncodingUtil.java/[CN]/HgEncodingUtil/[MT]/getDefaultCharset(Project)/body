{
  if (HGENCODING != null && HGENCODING.length() > 0 && Charset.isSupported(HGENCODING)) {
    return Charset.forName(HGENCODING);
  }
 else {
    Charset defaultCharset=EncodingProjectManager.getInstance(project).getDefaultCharset();
    if (defaultCharset != null) {
      return defaultCharset;
    }
  }
  return Charset.defaultCharset();
}
