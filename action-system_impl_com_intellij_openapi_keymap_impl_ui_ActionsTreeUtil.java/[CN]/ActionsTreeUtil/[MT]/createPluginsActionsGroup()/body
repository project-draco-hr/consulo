{
  Group pluginsGroup=new Group(KeyMapBundle.message("plugins.group.title"),null,null);
  ActionManagerEx managerEx=ActionManagerEx.getInstanceEx();
  final Application app=ApplicationManager.getApplication();
  final IdeaPluginDescriptor[] plugins=app.getPlugins();
  for (int i=0; i < plugins.length; i++) {
    IdeaPluginDescriptor plugin=plugins[i];
    Group pluginGroup=new Group(plugin.getName(),null,null);
    final String[] pluginActions=managerEx.getPluginActions(plugin.getPluginId());
    if (pluginActions == null || pluginActions.length == 0) {
      continue;
    }
    for (int j=0; j < pluginActions.length; j++) {
      String pluginAction=pluginActions[j];
      pluginGroup.addActionId(pluginAction);
    }
    pluginsGroup.addGroup(pluginGroup);
  }
  return pluginsGroup;
}
