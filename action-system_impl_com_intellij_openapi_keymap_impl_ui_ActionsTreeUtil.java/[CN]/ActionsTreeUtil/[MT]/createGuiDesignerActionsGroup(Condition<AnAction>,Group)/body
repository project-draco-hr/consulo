{
  mainGroup.initIds();
  Group group=new Group(KeyMapBundle.message("gui.designer.group.title"),IdeActions.GROUP_GUI_DESIGNER_EDITOR_POPUP,null,null);
  ActionManager actionManager=ActionManager.getInstance();
  DefaultActionGroup uiGroup=(DefaultActionGroup)actionManager.getActionOrStub(IdeActions.GROUP_GUI_DESIGNER_EDITOR_POPUP);
  AnAction[] actions=uiGroup.getChildActionsOrStubs(null);
  for (  AnAction action : actions) {
    String actionId=action instanceof ActionStub ? ((ActionStub)action).getId() : actionManager.getId(action);
    if (actionId == null || mainGroup.containsId(actionId))     continue;
    if (filtered == null || filtered.value(action)) {
      if (action instanceof ActionGroup) {
        group.addGroup(createGroup((ActionGroup)action,false,filtered));
      }
 else {
        group.addActionId(actionId);
      }
    }
  }
  return group;
}
