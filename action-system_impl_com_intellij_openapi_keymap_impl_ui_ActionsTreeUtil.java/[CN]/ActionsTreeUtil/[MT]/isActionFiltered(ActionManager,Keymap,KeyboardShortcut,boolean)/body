{
  return new Condition<AnAction>(){
    public boolean value(    final AnAction action){
      if (keyboardShortcut == null)       return true;
      if (action == null)       return false;
      final Shortcut[] actionShortcuts=keymap.getShortcuts(actionManager.getId(action));
      for (      Shortcut shortcut : actionShortcuts) {
        if (shortcut instanceof KeyboardShortcut) {
          final KeyboardShortcut keyboardActionShortcut=(KeyboardShortcut)shortcut;
          if (Comparing.equal(keyboardActionShortcut,keyboardShortcut)) {
            return true;
          }
          if (!force) {
            KeyStroke[] array=new KeyStroke[]{keyboardActionShortcut.getFirstKeyStroke(),keyboardActionShortcut.getSecondKeyStroke()};
            if ((keyboardShortcut.getSecondKeyStroke() != null && ArrayUtil.find(array,keyboardShortcut.getSecondKeyStroke()) != -1) || (keyboardShortcut.getFirstKeyStroke() != null && ArrayUtil.find(array,keyboardShortcut.getFirstKeyStroke()) != -1))             return true;
          }
        }
      }
      return false;
    }
  }
;
}
