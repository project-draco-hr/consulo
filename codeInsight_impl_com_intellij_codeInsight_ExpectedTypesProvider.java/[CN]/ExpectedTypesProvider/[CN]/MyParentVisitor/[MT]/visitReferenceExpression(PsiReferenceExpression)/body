{
  if (myForCompletion) {
    final MyParentVisitor visitor=new MyParentVisitor(expression,myForCompletion,myClassProvider,myVoidable);
    expression.getParent().accept(visitor);
    myResult=visitor.getResult();
    return;
  }
  String referenceName=expression.getReferenceName();
  if (referenceName != null) {
    final PsiElement parent=expression.getParent();
    if (parent instanceof PsiMethodCallExpression) {
      myResult=findClassesWithDeclaredMethod((PsiMethodCallExpression)parent,myForCompletion);
    }
 else     if (parent instanceof PsiReferenceExpression || parent instanceof PsiVariable || parent instanceof PsiExpression) {
      if (LENGTH_SYNTHETIC_ARRAY_FIELD.equals(referenceName)) {
        myResult=anyArrayType();
      }
 else {
        myResult=findClassesWithDeclaredField(expression);
      }
    }
  }
}
