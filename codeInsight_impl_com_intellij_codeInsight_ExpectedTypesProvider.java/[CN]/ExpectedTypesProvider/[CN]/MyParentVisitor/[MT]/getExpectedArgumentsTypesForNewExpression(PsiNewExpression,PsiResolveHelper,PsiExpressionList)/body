{
  PsiType newType=newExpr.getType();
  if (newType instanceof PsiClassType) {
    JavaResolveResult resolveResult=PsiUtil.resolveGenericsClassInType(newType);
    PsiClass newClass=(PsiClass)resolveResult.getElement();
    if (newClass instanceof PsiAnonymousClass) {
      newClass=((PsiAnonymousClass)newClass).getBaseClassType().resolve();
    }
    if (newClass == null)     return;
    final PsiSubstitutor substitutor=resolveResult.getSubstitutor();
    getExpectedTypesForConstructorCall(newClass,helper,list,substitutor);
  }
}
