{
  if (statement.getException() == myExpr) {
    PsiManager manager=statement.getManager();
    PsiType throwableType=manager.getElementFactory().createTypeByFQClassName("java.lang.Throwable",myExpr.getResolveScope());
    PsiMember container=PsiTreeUtil.getParentOfType(statement,PsiMethod.class,PsiClass.class);
    PsiType[] throwsTypes=PsiType.EMPTY_ARRAY;
    if (container instanceof PsiMethod) {
      throwsTypes=((PsiMethod)container).getThrowsList().getReferencedTypes();
    }
    if (throwsTypes.length == 0) {
      final PsiClassType exceptionType=manager.getElementFactory().createTypeByFQClassName("java.lang.Exception",myExpr.getResolveScope());
      throwsTypes=new PsiClassType[]{exceptionType};
    }
    ExpectedTypeInfo[] infos=new ExpectedTypeInfo[throwsTypes.length];
    for (int i=0; i < infos.length; i++) {
      infos[i]=createInfoImpl(myExpr instanceof PsiTypeCastExpression && myForCompletion ? throwsTypes[i] : throwableType,ExpectedTypeInfo.TYPE_OR_SUBTYPE,throwsTypes[i],TailType.SEMICOLON);
    }
    myResult=infos;
  }
}
