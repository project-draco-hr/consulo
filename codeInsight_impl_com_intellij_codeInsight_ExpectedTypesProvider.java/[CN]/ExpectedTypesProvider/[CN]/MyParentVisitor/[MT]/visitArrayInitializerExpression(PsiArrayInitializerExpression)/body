{
  PsiElement pparent=expr.getParent();
  PsiType arrayType=null;
  if (pparent instanceof PsiVariable) {
    arrayType=((PsiVariable)pparent).getType();
  }
 else   if (pparent instanceof PsiNewExpression) {
    arrayType=((PsiNewExpression)pparent).getType();
  }
 else   if (pparent instanceof PsiArrayInitializerExpression) {
    PsiType type=((PsiArrayInitializerExpression)pparent).getType();
    if (type instanceof PsiArrayType) {
      arrayType=((PsiArrayType)type).getComponentType();
    }
  }
  if (arrayType instanceof PsiArrayType) {
    PsiType componentType=((PsiArrayType)arrayType).getComponentType();
    if (componentType != null) {
      ExpectedTypeInfoImpl info=createInfoImpl(componentType,ExpectedTypeInfo.TYPE_OR_SUBTYPE,componentType,TailType.NONE);
      myResult=new ExpectedTypeInfo[]{info};
    }
  }
}
