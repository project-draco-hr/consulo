{
  if (myExpr.equals(expr.getCondition())) {
    if (myForCompletion) {
      myExpr=expr;
      myExpr.getParent().accept(this);
      return;
    }
    ExpectedTypeInfo info=createInfoImpl(PsiType.BOOLEAN,ExpectedTypeInfo.TYPE_STRICTLY,PsiType.BOOLEAN,TailType.NONE);
    myResult=new ExpectedTypeInfo[]{info};
  }
 else   if (myExpr.equals(expr.getThenExpression())) {
    ExpectedTypeInfo[] types=getExpectedTypes(expr,myForCompletion);
    if (types != null) {
      for (      ExpectedTypeInfo info : types) {
        ExpectedTypeInfoImpl infoImpl=(ExpectedTypeInfoImpl)info;
        infoImpl.setInsertExplicitTypeParams(true);
        infoImpl.myTailType=TailType.COND_EXPR_COLON;
      }
    }
    myResult=types;
  }
 else {
    LOG.assertTrue(myExpr.equals(expr.getElseExpression()));
    myResult=getExpectedTypes(expr,myForCompletion);
    if (myResult != null) {
      for (      ExpectedTypeInfo info : myResult) {
        ((ExpectedTypeInfoImpl)info).setInsertExplicitTypeParams(true);
      }
    }
  }
}
