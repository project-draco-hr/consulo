{
  if (myLibraryInfo instanceof LibraryInfoBasedOnLibrary) {
    return ((LibraryInfoBasedOnLibrary)myLibraryInfo).getLibrary();
  }
  LOG.assertTrue(myLibraryInfo instanceof LibraryInfoImpl);
  final LibraryInfoImpl info=((LibraryInfoImpl)myLibraryInfo);
  final Library library=info.findLibrary(getParentModule(),provider);
  if (library != null) {
    myLibraryInfo=new LibraryInfoBasedOnLibrary(library);
  }
  return library;
}
