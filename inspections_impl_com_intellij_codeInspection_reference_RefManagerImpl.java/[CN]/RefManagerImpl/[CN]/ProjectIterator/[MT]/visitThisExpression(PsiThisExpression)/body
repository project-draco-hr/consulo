{
  super.visitThisExpression(expression);
  final PsiJavaCodeReferenceElement qualifier=expression.getQualifier();
  if (qualifier != null) {
    REF_UTIL.addTypeReference(expression,expression.getType(),RefManagerImpl.this);
    RefClass ownerClass=RefUtil.getInstance().getOwnerClass(RefManagerImpl.this,expression);
    if (ownerClass != null) {
      RefClassImpl refClass=(RefClassImpl)RefManagerImpl.this.getReference(qualifier.resolve());
      if (refClass != null) {
        refClass.addInstanceReference(ownerClass);
      }
    }
  }
}
