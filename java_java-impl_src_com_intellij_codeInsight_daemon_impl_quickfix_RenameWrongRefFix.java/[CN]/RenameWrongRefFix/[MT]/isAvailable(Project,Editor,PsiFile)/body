{
  if (!myRefExpr.isValid() || !myRefExpr.getManager().isInProject(myRefExpr))   return false;
  int offset=editor.getCaretModel().getOffset();
  PsiElement refName=myRefExpr.getReferenceNameElement();
  if (refName == null)   return false;
  TextRange textRange=refName.getTextRange();
  if (textRange == null || offset < textRange.getStartOffset() || offset > textRange.getEndOffset()) {
    return false;
  }
  return !CreateFromUsageUtils.isValidReference(myRefExpr,false);
}
