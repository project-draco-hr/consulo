{
  String url=myRepositoryBrowser.getSelectedURL();
  SVNDirEntry entry=myRepositoryBrowser.getSelectedEntry();
  if (e.getSource() == myDeleteButton) {
    RepositoryBrowserCommitDialog dialog=new RepositoryBrowserCommitDialog(myProject,RepositoryBrowserCommitDialog.DELETE,url,null,false);
    dialog.show();
    if (dialog.isOK()) {
      doDelete(url,dialog.getComment());
      myRepositoryBrowser.refresh(entry,true);
      myCopiedEntry=null;
      myCopiedURL=null;
    }
  }
 else   if (e.getSource() == myCopyButton) {
    myCopiedURL=getSelectedURL();
    myCopiedEntry=myRepositoryBrowser.getSelectedEntry();
    updateState();
  }
 else   if (e.getSource() == myPasteButton) {
    @NonNls String url1=myCopiedURL;
    url=SVNPathUtil.append(url,COPY_OF_PREFIX + SVNPathUtil.tail(url1));
    RepositoryBrowserCommitDialog dialog=new RepositoryBrowserCommitDialog(myProject,RepositoryBrowserCommitDialog.COPY,url1,url,!"/".equals(entry.getPath()));
    dialog.show();
    if (dialog.isOK()) {
      url=dialog.getURL2();
      boolean move=dialog.isMove();
      doCopy(url1,url,move,dialog.getComment());
      myRepositoryBrowser.refresh(entry,false);
      if (move) {
        myRepositoryBrowser.refresh(myCopiedEntry,true);
        myCopiedEntry=null;
        myCopiedURL=null;
      }
    }
  }
 else   if (e.getSource() == myMkDirButton) {
    url=SVNPathUtil.append(url,NEW_FOLDER_POSTFIX);
    RepositoryBrowserCommitDialog dialog=new RepositoryBrowserCommitDialog(myProject,RepositoryBrowserCommitDialog.MKDIR,url,null,false);
    dialog.show();
    url=dialog.getURL1();
    if (dialog.isOK()) {
      doMkdir(url,dialog.getComment());
      myRepositoryBrowser.refresh(entry,false);
    }
  }
}
