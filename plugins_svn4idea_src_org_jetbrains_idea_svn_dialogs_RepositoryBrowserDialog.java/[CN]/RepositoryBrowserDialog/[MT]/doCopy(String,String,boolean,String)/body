{
  final SVNException[] exception=new SVNException[1];
  Runnable command=new Runnable(){
    public void run(){
      ProgressIndicator progress=ProgressManager.getInstance().getProgressIndicator();
      if (progress != null) {
        progress.setText((move ? "Moving " : "Copying ") + src);
        progress.setText2("To " + dst);
      }
      SvnVcs vcs=SvnVcs.getInstance(myProject);
      try {
        SVNCopyClient committer=vcs.createCopyClient();
        committer.doCopy(SVNURL.parseURIEncoded(src),SVNRevision.HEAD,SVNURL.parseURIEncoded(dst),move,comment);
      }
 catch (      SVNException e) {
        exception[0]=e;
      }
    }
  }
;
  ApplicationManager.getApplication().runProcessWithProgressSynchronously(command,move ? "Move" : "Copy",false,myProject);
  if (exception[0] != null) {
    Messages.showErrorDialog(exception[0].getMessage(),"Error");
  }
}
