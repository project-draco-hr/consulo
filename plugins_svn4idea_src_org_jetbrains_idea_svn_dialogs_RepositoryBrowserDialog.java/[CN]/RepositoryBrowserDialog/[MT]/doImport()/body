{
  File dir=selectFile("Import Directory","Select directory to import into repository");
  if (dir == null) {
    return false;
  }
  final RepositoryTreeNode selectedNode=getSelectedNode();
  if (selectedNode == null) {
    return false;
  }
  SVNURL url=selectedNode.getURL();
  ImportOptionsDialog dialog=new ImportOptionsDialog(myProject,url,dir);
  dialog.show();
  VcsConfiguration.getInstance(myProject).saveCommitMessage(dialog.getCommitMessage());
  if (dialog.isOK()) {
    File src=dialog.getTarget();
    boolean recursive=dialog.isRecursive();
    boolean ignored=dialog.isIncludeIgnored();
    String message=dialog.getCommitMessage();
    SvnCheckoutProvider.doImport(myProject,src,url,recursive,ignored,message);
    selectedNode.reload(false);
  }
  return dialog.isOK();
}
