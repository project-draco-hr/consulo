{
  DefaultActionGroup group=new DefaultActionGroup();
  group.add(new AddLocationAction());
  group.add(new DiscardLocationAction());
  group.add(new DetailsAction());
  group.addSeparator();
  final RefreshAction refreshAction=new RefreshAction();
  refreshAction.registerCustomShortcutSet(CommonShortcuts.getRerun(),getRepositoryBrowser());
  group.add(refreshAction);
  myDeleteAction.registerCustomShortcutSet(CommonShortcuts.DELETE,getRepositoryBrowser());
  AnAction action=CommonActionsManager.getInstance().createCollapseAllAction(new TreeExpander(){
    public void expandAll(){
    }
    public boolean canExpand(){
      return false;
    }
    public void collapseAll(){
      JTree tree=getRepositoryBrowser().getRepositoryTree();
      int row=tree.getRowCount() - 1;
      while (row >= 0) {
        tree.collapseRow(row);
        row--;
      }
    }
    public boolean canCollapse(){
      return true;
    }
  }
,getRepositoryBrowser());
  group.add(action);
  if (!horizontal) {
    group.addSeparator();
    group.add(new AnAction(){
      public void update(      AnActionEvent e){
        e.getPresentation().setText("Close");
        e.getPresentation().setDescription("Close this tool window");
        e.getPresentation().setIcon(IconLoader.findIcon("/actions/cancel.png"));
      }
      public void actionPerformed(      AnActionEvent e){
        Project p=(Project)e.getDataContext().getData(DataConstants.PROJECT);
        ToolWindowManager.getInstance(p).unregisterToolWindow("SVN Repositories");
      }
    }
);
  }
  return ActionManager.getInstance().createActionToolbar("",group,horizontal).getComponent();
}
