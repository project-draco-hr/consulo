{
  DeleteOptionsDialog dialog=new DeleteOptionsDialog(myBrowserComponent.getProject());
  RepositoryTreeNode node=myBrowserComponent.getSelectedNode();
  dialog.show();
  VcsConfiguration.getInstance(myBrowserComponent.getProject()).saveCommitMessage(dialog.getCommitMessage());
  if (dialog.isOK()) {
    SVNURL url=node.getURL();
    String message=dialog.getCommitMessage();
    final boolean successful=doDelete(url,message);
    if (successful) {
      final SyntheticWorker worker=new SyntheticWorker(url);
      worker.removeSelf();
      final RepositoryTreeNode parentNode=(RepositoryTreeNode)node.getParent();
      parentNode.reload(new KeepingExpandedExpander(myBrowserComponent,new AfterDeletionSelectionInstaller(node,myBrowserComponent)),false);
    }
  }
}
