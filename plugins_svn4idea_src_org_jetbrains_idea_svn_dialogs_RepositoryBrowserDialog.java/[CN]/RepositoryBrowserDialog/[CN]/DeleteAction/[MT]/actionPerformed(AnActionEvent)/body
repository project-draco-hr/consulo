{
  DeleteOptionsDialog dialog=new DeleteOptionsDialog(myProject);
  RepositoryTreeNode node=getRepositoryBrowser().getSelectedNode();
  dialog.show();
  VcsConfiguration.getInstance(myProject).saveCommitMessage(dialog.getCommitMessage());
  if (dialog.isOK()) {
    SVNURL url=node.getURL();
    String message=dialog.getCommitMessage();
    final boolean successful=doDelete(url,message);
    if (successful) {
      final SyntheticWorker worker=new SyntheticWorker(url);
      worker.removeSelf();
      final RepositoryTreeNode parentNode=(RepositoryTreeNode)node.getParent();
      parentNode.reload(new KeepingExpandedExpander(myRepositoryBrowser,new AfterDeletionSelectionInstaller(node)),false);
    }
  }
}
