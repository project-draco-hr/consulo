{
  Project p=(Project)e.getDataContext().getData(DataConstants.PROJECT);
  SVNURL root;
  RepositoryTreeNode node=myRepositoryBrowser.getSelectedNode();
  while (node.getSVNDirEntry() != null) {
    node=(RepositoryTreeNode)node.getParent();
  }
  root=node.getURL();
  CopyOptionsDialog dialog=new CopyOptionsDialog("Move or Rename",p,root,myRepositoryBrowser.getSelectedNode().getURL());
  dialog.show();
  if (dialog.isOK()) {
    SVNURL dst=dialog.getTargetURL();
    SVNURL src=dialog.getSourceURL();
    String message=dialog.getCommitMessage();
    doCopy(src,dst,true,message);
    node.reload();
  }
}
