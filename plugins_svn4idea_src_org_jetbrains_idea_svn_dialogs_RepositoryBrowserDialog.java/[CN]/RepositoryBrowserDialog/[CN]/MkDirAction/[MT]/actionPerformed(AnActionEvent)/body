{
  final RepositoryTreeNode node=getSelectedNode();
  if (node == null) {
    return;
  }
  MkdirOptionsDialog dialog=new MkdirOptionsDialog(myProject,node.getURL());
  dialog.show();
  VcsConfiguration.getInstance(myProject).saveCommitMessage(dialog.getCommitMessage());
  if (dialog.isOK()) {
    SVNURL url=dialog.getURL();
    String message=dialog.getCommitMessage();
    doMkdir(url,message);
    final SVNURL repositoryUrl=(node.getSVNDirEntry() == null) ? node.getURL() : node.getSVNDirEntry().getRepositoryRoot();
    final SyntheticWorker worker=new SyntheticWorker(node.getURL());
    worker.addSyntheticChildToSelf(url,repositoryUrl,dialog.getName(),true);
    node.reload(false);
  }
}
