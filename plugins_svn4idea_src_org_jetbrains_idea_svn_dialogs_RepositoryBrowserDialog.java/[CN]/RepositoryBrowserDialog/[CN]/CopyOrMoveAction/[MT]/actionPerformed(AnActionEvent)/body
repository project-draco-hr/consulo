{
  final RepositoryTreeNode node=getNotNullSelectedNode();
  RepositoryTreeNode rootNode=node;
  while (!rootNode.isRepositoryRoot()) {
    rootNode=(RepositoryTreeNode)rootNode.getParent();
  }
  CopyOptionsDialog dialog=new CopyOptionsDialog(SvnBundle.message(myDialogTitleKey),myProject,rootNode,node);
  dialog.show();
  if (dialog.isOK()) {
    SVNURL dst=dialog.getTargetURL();
    SVNURL src=dialog.getSourceURL();
    String message=dialog.getCommitMessage();
    doCopy(src,dst,myMove,message);
    node.reload();
    final TreeNode[] path=dialog.getTargetPath();
    if (path != null) {
      rootNode.reload(new Expander(path,myRepositoryBrowser));
    }
  }
}
