{
  String pattern=Messages.showInputDialog(myProject,"Pattern","Enter Pattern",null,initialValue,new InputValidatorEx(){
    @Override public boolean checkInput(    String inputString){
      return (initialValue == null && myModel.getElementIndex(inputString) == -1 || initialValue != null) && getErrorText(inputString) == null;
    }
    @Override public boolean canClose(    String inputString){
      return true;
    }
    @Nullable @Override public String getErrorText(    String inputString){
      try {
        ResourceCompilerConfiguration.convertToRegexp(inputString);
        return null;
      }
 catch (      Exception ex) {
        return ex.getMessage();
      }
    }
  }
);
  if (pattern != null) {
    if (initialValue != null) {
      myModel.remove(initialValue);
    }
    myModel.add(pattern);
  }
}
