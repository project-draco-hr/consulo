{
  if (mySpans != null) {
    return;
  }
  RadTableLayoutComponent tableComponent=(RadTableLayoutComponent)myComponent.getParent().getParent();
  GridInfo gridInfo=tableComponent.getVirtualGridInfo();
  RadComponent[] rowComponents=gridInfo.components[tableComponent.getChildren().indexOf(myComponent.getParent())];
  int column=ArrayUtil.indexOf(rowComponents,myComponent);
  mySpan=RadTableLayoutComponent.getCellSpan(myComponent);
  myTableBounds=tableComponent.getBounds(myContext.getArea().getFeedbackLayer());
  IntArrayList spans=new IntArrayList();
  IntArrayList offsets=new IntArrayList();
  if (right) {
    int span=1;
    for (int i=column; i < column + mySpan; i++) {
      spans.add(span++);
      offsets.add(myTableBounds.x + gridInfo.vLines[i + 1]);
    }
    for (int i=column + mySpan; i < rowComponents.length; i++) {
      if (rowComponents[i] == null) {
        spans.add(span++);
        offsets.add(myTableBounds.x + gridInfo.vLines[i + 1]);
      }
 else {
        break;
      }
    }
  }
 else {
    IntArrayList columns=new IntArrayList();
    int span=mySpan;
    for (int i=column; i < column + mySpan; i++) {
      spans.add(span--);
      offsets.add(myTableBounds.x + gridInfo.vLines[i]);
      columns.add(i);
    }
    span=mySpan;
    for (int i=column - 1; i >= 0; i--) {
      if (rowComponents[i] == null) {
        spans.add(0,++span);
        offsets.add(0,myTableBounds.x + gridInfo.vLines[i]);
        columns.add(0,i);
      }
 else {
        break;
      }
    }
    myColumns=columns.toArray();
  }
  mySpans=spans.toArray();
  myOffsets=offsets.toArray();
}
