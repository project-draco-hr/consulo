{
  List<Object> selectedElements=Collections.emptyList();
  if (viewPane != null) {
    final TreePath[] selectionPaths=viewPane.getSelectionPaths();
    if (selectionPaths != null) {
      selectedElements=new ArrayList<Object>();
      for (      TreePath path : selectionPaths) {
        final DefaultMutableTreeNode node=(DefaultMutableTreeNode)path.getLastPathComponent();
        final Object userObject=node.getUserObject();
        if (userObject instanceof NodeDescriptor) {
          selectedElements.add(((NodeDescriptor)userObject).getElement());
        }
      }
    }
  }
  return new SelectionInfo(selectedElements.toArray());
}
