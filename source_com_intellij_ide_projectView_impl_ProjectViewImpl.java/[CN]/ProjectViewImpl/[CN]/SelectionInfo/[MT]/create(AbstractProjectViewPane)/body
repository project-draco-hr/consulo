{
  List<Object> selectedElements=Collections.EMPTY_LIST;
  if (viewPane != null) {
    final TreePath[] selectionPaths=viewPane.getSelectionPaths();
    if (selectionPaths != null) {
      selectedElements=new ArrayList<Object>();
      for (int idx=0; idx < selectionPaths.length; idx++) {
        TreePath path=selectionPaths[idx];
        final DefaultMutableTreeNode node=(DefaultMutableTreeNode)path.getLastPathComponent();
        final NodeDescriptor descriptor=(NodeDescriptor)node.getUserObject();
        selectedElements.add(descriptor.getElement());
      }
    }
  }
  return new SelectionInfo(selectedElements.toArray());
}
