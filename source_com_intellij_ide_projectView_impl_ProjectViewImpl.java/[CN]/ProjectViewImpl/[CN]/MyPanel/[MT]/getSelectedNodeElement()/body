{
  final AbstractProjectViewPane currentProjectViewPane=getCurrentProjectViewPane();
  if (currentProjectViewPane == null) {
    return null;
  }
  DefaultMutableTreeNode node=currentProjectViewPane.getSelectedNode();
  if (node == null) {
    return null;
  }
  Object userObject=node.getUserObject();
  if (userObject instanceof AbstractTreeNode) {
    return ((AbstractTreeNode)userObject).getValue();
  }
  if (!(userObject instanceof NodeDescriptor)) {
    return null;
  }
  return ((NodeDescriptor)userObject).getElement();
}
