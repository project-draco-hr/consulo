{
  Pair<String,String> selected=(Pair<String,String>)myCombo.getSelectedItem();
  int index;
  for (index=0; index < myCombo.getItemCount(); index++) {
    Pair<String,String> ids=(Pair<String,String>)myCombo.getItemAt(index);
    String id=ids.first;
    AbstractProjectViewPane pane=myId2Pane.get(id);
    int comp=PANE_WEIGHT_COMPARATOR.compare(pane,newPane);
    LOG.assertTrue(comp != 0);
    if (comp > 0) {
      break;
    }
  }
  final String id=newPane.getId();
  myId2Pane.put(id,newPane);
  myCombo.insertItemAt(Pair.create(id,null),index);
  String[] subIds=newPane.getSubIds();
  if (subIds != null) {
    for (    String subId : subIds) {
      myCombo.insertItemAt(Pair.create(id,subId),++index);
    }
  }
  myCombo.setMaximumRowCount(myCombo.getItemCount());
  SelectInTarget selectInTarget=newPane.createSelectInTarget();
  if (selectInTarget != null) {
    mySelectInManager.addTarget(selectInTarget);
  }
  if (id.equals(mySavedPaneId)) {
    changeView(mySavedPaneId,mySavedPaneSubId);
    mySavedPaneId=null;
    mySavedPaneSubId=null;
  }
 else   if (selected == null) {
    changeView(id,subIds == null || subIds.length == 0 ? null : subIds[0]);
  }
}
