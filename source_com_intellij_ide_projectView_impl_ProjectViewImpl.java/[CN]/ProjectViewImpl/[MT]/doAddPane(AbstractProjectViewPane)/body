{
  int componentIndexToInsertBefore=-1;
  final List<AbstractProjectViewPane> initializedPanes=new ArrayList<AbstractProjectViewPane>(myId2Pane.values());
  for (int i=0; i < myTabbedPane.getTabCount(); i++) {
    final JComponent component=myTabbedPane.getComponentAt(i);
    AbstractProjectViewPane pane=null;
    for (int j=0; j < initializedPanes.size(); j++) {
      AbstractProjectViewPane nextPane=initializedPanes.get(j);
      if (nextPane.getComponent() == component) {
        pane=nextPane;
        break;
      }
    }
    if (pane.getWeight() > newPane.getWeight()) {
      componentIndexToInsertBefore=i;
      break;
    }
  }
  myId2Pane.put(newPane.getId(),newPane);
  if (componentIndexToInsertBefore == -1) {
    myTabbedPane.addTab(newPane.getTitle(),newPane.getIcon(),newPane.getComponent(),null);
  }
 else {
    myTabbedPane.insertTab(newPane.getTitle(),newPane.getIcon(),newPane.getComponent(),null,componentIndexToInsertBefore);
  }
  newPane.setTreeChangeListener(myTreeChangeListener);
  newPane.installAutoScrollToSourceHandler(myAutoScrollToSourceHandler);
}
