{
  myTabbedPane=new TabbedPaneWrapper();
  myTabbedPane.installKeyboardNavigation();
  mySplitter=new Splitter(true);
  mySplitter.setHonorComponentsMinimumSize(true);
  mySplitter.setFirstComponent(myTabbedPane.getComponent());
  myStructurePanel=new JPanel(new BorderLayout());
  myStructureViewWrapper=new MyStructureViewWrapperImpl();
  myStructureViewWrapper.setFileEditor(null);
  myStructurePanel.add(myStructureViewWrapper.getComponent());
  mySplitter.setSecondComponent(myStructurePanel);
  myPanel.add(mySplitter,BorderLayout.CENTER);
  myActionGroup=new DefaultActionGroup();
  createToolbarActions();
  myToolBar=ActionManager.getInstance().createActionToolbar(ActionPlaces.PROJECT_VIEW_TOOLBAR,myActionGroup,true);
  JComponent toolbarComponent=myToolBar.getComponent();
  myPanel.add(toolbarComponent,BorderLayout.NORTH);
  mySplitter.setProportion(mySplitterProportion);
  myStructurePanel.setVisible(isShowStructure());
  ToolWindowManager toolWindowManager=ToolWindowManager.getInstance(myProject);
  ToolWindow toolWindow=toolWindowManager.registerToolWindow(ToolWindowId.PROJECT_VIEW,getComponent(),ToolWindowAnchor.LEFT);
  toolWindow.setIcon(IconLoader.getIcon("/general/toolWindowProject.png"));
  myCopyPasteDelegator=new CopyPasteManagerEx.CopyPasteDelegator(myProject,myPanel){
    protected PsiElement[] getSelectedElements(){
      final AbstractProjectViewPane viewPane=getCurrentProjectViewPane();
      return viewPane != null ? viewPane.getSelectedPSIElements() : null;
    }
  }
;
  myTabbedPane.addChangeListener(new ChangeListener(){
    public void stateChanged(    ChangeEvent e){
      final Collection<AbstractProjectViewPane> panes=myId2Pane.values();
      for (Iterator<AbstractProjectViewPane> iterator=panes.iterator(); iterator.hasNext(); ) {
        AbstractProjectViewPane pane=iterator.next();
        if (pane.getComponent() == myTabbedPane.getSelectedComponent()) {
          changeView(pane.getId());
          break;
        }
      }
    }
  }
);
  ModuleManager.getInstance(myProject).addModuleListener(myModulesListener);
  isInitialized=true;
  doAddUninitializedPanes();
  changeView(getCurrentViewId());
}
