{
  final PsiFile javaFile=LangDataKeys.PSI_FILE.getData(dataContext);
  if (!(javaFile instanceof PsiJavaFile))   return null;
  PsiClass[] classes=((PsiJavaFile)javaFile).getClasses();
  if (classes.length == 1) {
    return classes[0].getQualifiedName();
  }
  String fileName=javaFile.getVirtualFile().getNameWithoutExtension();
  for (  PsiClass aClass : classes) {
    String name=aClass.getName();
    if (fileName.equals(name)) {
      return aClass.getQualifiedName();
    }
  }
  return null;
}
