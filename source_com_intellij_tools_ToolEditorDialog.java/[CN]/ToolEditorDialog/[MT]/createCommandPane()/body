{
  JPanel pane=new JPanel(new GridBagLayout());
  pane.setBorder(BorderFactory.createCompoundBorder(BorderFactory.createEtchedBorder(),BorderFactory.createEmptyBorder(5,5,5,5)));
  GridBagConstraints constr;
  constr=new GridBagConstraints();
  constr.gridx=0;
  constr.gridy=0;
  constr.insets=new Insets(5,0,0,10);
  constr.anchor=GridBagConstraints.WEST;
  pane.add(new JLabel("Program:"),constr);
  FixedSizeButton browseCommandButton=new FixedSizeButton(myTfCommand);
  browseCommandButton.addActionListener(new ActionListener(){
    public void actionPerformed(    ActionEvent e){
      FileChooserDescriptor descriptor=FileChooserDescriptorFactory.createSingleFileNoJarsDescriptor();
      VirtualFile[] files=FileChooser.chooseFiles(myProject,descriptor);
      if (files.length != 0) {
        VirtualFile file=files[0];
        myTfCommand.setText(file.getPresentableUrl());
        String workingDirectory=myTfCommandWorkingDirectory.getText();
        if (workingDirectory == null || workingDirectory.length() == 0) {
          VirtualFile parent=file.getParent();
          if (parent != null && parent.isDirectory()) {
            myTfCommandWorkingDirectory.setText(parent.getPresentableUrl());
          }
        }
      }
    }
  }
);
  JPanel _pane0=new JPanel(new BorderLayout());
  _pane0.add(myTfCommand,BorderLayout.CENTER);
  _pane0.add(browseCommandButton,BorderLayout.EAST);
  TextFieldWithBrowseButton.MyDoClickAction.addTo(browseCommandButton,myTfCommand);
  constr=new GridBagConstraints();
  constr.gridx=1;
  constr.gridy=0;
  constr.insets=new Insets(5,10,0,0);
  constr.fill=GridBagConstraints.HORIZONTAL;
  constr.anchor=GridBagConstraints.WEST;
  constr.weightx=1.0;
  pane.add(_pane0,constr);
  constr=new GridBagConstraints();
  constr.gridx=2;
  constr.gridy=0;
  constr.insets=new Insets(5,10,0,0);
  constr.fill=GridBagConstraints.HORIZONTAL;
  constr.anchor=GridBagConstraints.WEST;
  myInsertCommandMacroButton=new JButton("Insert macro...");
  myInsertCommandMacroButton.setMnemonic('m');
  pane.add(myInsertCommandMacroButton,constr);
  constr=new GridBagConstraints();
  constr.gridx=0;
  constr.gridy=1;
  constr.insets=new Insets(5,0,0,0);
  constr.anchor=GridBagConstraints.WEST;
  pane.add(new JLabel("Parameters:"),constr);
  constr=new GridBagConstraints();
  constr.gridx=1;
  constr.gridy=1;
  constr.insets=new Insets(5,10,0,0);
  constr.fill=GridBagConstraints.HORIZONTAL;
  constr.anchor=GridBagConstraints.WEST;
  constr.weightx=1.0;
  pane.add(myParametersField,constr);
  constr=new GridBagConstraints();
  constr.gridx=2;
  constr.gridy=1;
  constr.insets=new Insets(5,10,0,0);
  constr.fill=GridBagConstraints.HORIZONTAL;
  constr.anchor=GridBagConstraints.WEST;
  myInsertParametersMacroButton=new JButton("Insert macro...");
  myInsertParametersMacroButton.setMnemonic('a');
  pane.add(myInsertParametersMacroButton,constr);
  constr=new GridBagConstraints();
  constr.gridx=0;
  constr.gridy=2;
  constr.insets=new Insets(5,0,5,10);
  constr.anchor=GridBagConstraints.WEST;
  pane.add(new JLabel("Working directory:"),constr);
  FixedSizeButton browseDirectoryButton=new FixedSizeButton(myTfCommandWorkingDirectory);
  TextFieldWithBrowseButton.MyDoClickAction.addTo(browseDirectoryButton,myTfCommandWorkingDirectory);
  browseDirectoryButton.addActionListener(new ActionListener(){
    public void actionPerformed(    ActionEvent e){
      FileChooserDescriptor descriptor=FileChooserDescriptorFactory.createSingleFolderDescriptor();
      VirtualFile[] files=FileChooser.chooseFiles(myProject,descriptor);
      if (files.length != 0) {
        myTfCommandWorkingDirectory.setText(files[0].getPresentableUrl());
      }
    }
  }
);
  JPanel _pane1=new JPanel(new BorderLayout());
  _pane1.add(myTfCommandWorkingDirectory,BorderLayout.CENTER);
  _pane1.add(browseDirectoryButton,BorderLayout.EAST);
  constr=new GridBagConstraints();
  constr.gridx=1;
  constr.gridy=2;
  constr.gridwidth=1;
  constr.insets=new Insets(5,10,5,0);
  constr.fill=GridBagConstraints.HORIZONTAL;
  constr.anchor=GridBagConstraints.WEST;
  constr.weightx=1.0;
  pane.add(_pane1,constr);
  constr=new GridBagConstraints();
  constr.gridx=2;
  constr.gridy=2;
  constr.insets=new Insets(5,10,0,0);
  constr.fill=GridBagConstraints.HORIZONTAL;
  constr.anchor=GridBagConstraints.WEST;
  myInsertWorkingDirectoryMacroButton=new JButton("Insert macro...");
  myInsertWorkingDirectoryMacroButton.setMnemonic('c');
  pane.add(myInsertWorkingDirectoryMacroButton,constr);
  constr=new GridBagConstraints();
  constr.gridy=3;
  constr.fill=GridBagConstraints.VERTICAL;
  constr.weighty=1.0;
  pane.add(new JLabel(),constr);
  pane.setPreferredSize(new Dimension(600,100));
  return pane;
}
