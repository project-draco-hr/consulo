{
  if (sibling == null)   throw new IllegalMoveException();
  if (sibling.getNode() != null && sibling.getNode().getElementType() == (isDown ? GroovyTokenTypes.mRCURLY : GroovyTokenTypes.mLCURLY) && sibling.getParent() instanceof GrTypeDefinitionBody) {
    final GrTypeDefinition aClass=(GrTypeDefinition)sibling.getParent().getParent();
    final PsiElement parent=aClass.getParent();
    if (!areWeMovingClass && !(parent instanceof GrTypeDefinitionBody))     throw new IllegalMoveException();
    PsiElement start=isDown ? sibling : aClass.getModifierList();
    if (start == null)     throw new IllegalMoveException();
    return new LineRange(start,sibling,editor.getDocument());
  }
  return null;
}
