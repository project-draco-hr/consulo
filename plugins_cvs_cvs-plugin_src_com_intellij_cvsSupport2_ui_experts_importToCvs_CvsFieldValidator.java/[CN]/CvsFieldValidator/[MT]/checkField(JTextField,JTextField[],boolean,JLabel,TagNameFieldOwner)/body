{
  final String text=field.getText().trim();
  if (text.isEmpty()) {
    reportError(errorMessage,CvsBundle.message("error.message.field.cannot.be.empty"),tagNameFieldOwner);
    return false;
  }
  for (  char invalidCharacter : INVALID_CHARACTERS) {
    if (text.indexOf(invalidCharacter) != -1) {
      reportError(errorMessage,CvsBundle.message("error.message.field.contains.invalid.characters"),tagNameFieldOwner);
      return false;
    }
  }
  for (  JTextField jTextField : shouldDifferFrom) {
    if (jTextField == field)     continue;
    if (jTextField.getText().trim().equals(text)) {
      reportError(errorMessage,CvsBundle.message("error.message.duplicate.field.value"),tagNameFieldOwner);
      return false;
    }
  }
  if (shouldStartFromLetter && !Character.isLetter(text.charAt(0))) {
    reportError(errorMessage,CvsBundle.message("error.message.field.value.must.start.with.a.letter"),tagNameFieldOwner);
    return false;
  }
  errorMessage.setText(" ");
  return true;
}
