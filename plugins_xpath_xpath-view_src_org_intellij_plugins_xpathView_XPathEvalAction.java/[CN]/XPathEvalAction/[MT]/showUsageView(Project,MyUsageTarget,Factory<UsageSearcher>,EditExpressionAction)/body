{
  final UsageViewPresentation presentation=new UsageViewPresentation();
  presentation.setTargetsNodeText("Expression");
  presentation.setCodeUsages(false);
  presentation.setCodeUsagesString("Result");
  presentation.setNonCodeUsagesString("Result");
  presentation.setUsagesString("XPath Result");
  presentation.setUsagesWord("match");
  presentation.setTabText("XPath");
  presentation.setScopeText("XML Files");
  presentation.setOpenInNewTab(XPathAppComponent.getInstance().getConfig().OPEN_NEW_TAB);
  final FindUsagesProcessPresentation processPresentation=new FindUsagesProcessPresentation();
  processPresentation.setProgressIndicatorFactory(new Factory<ProgressIndicator>(){
    @Override public ProgressIndicator create(){
      return new FindProgressIndicator(project,"XML Document(s)");
    }
  }
);
  processPresentation.setShowPanelIfOnlyOneUsage(true);
  processPresentation.setShowNotFoundMessage(true);
  final UsageTarget[] usageTargets={usageTarget};
  UsageViewManager.getInstance(project).searchAndShowUsages(usageTargets,searcherFactory,processPresentation,presentation,new UsageViewManager.UsageViewStateListener(){
    @Override public void usageViewCreated(    @NotNull UsageView usageView){
      usageView.addButtonToLowerPane(editAction,"&Edit Expression");
    }
    @Override public void findingUsagesFinished(    UsageView usageView){
    }
  }
);
}
