{
  getVcs().beginChangeSet();
  VirtualFile f=createFile("f.txt");
  getVcs().endChangeSet("1");
  f.delete(this);
  getVcs().beginChangeSet();
  f=createFile("f.txt");
  f.delete(this);
  getVcs().endChangeSet("2");
  getVcs().beginChangeSet();
  f=createFile("f.txt");
  getVcs().endChangeSet("3");
  getVcs().beginChangeSet();
  f.delete(this);
  f=createFile("f.txt");
  getVcs().endChangeSet("4");
  List<Revision> rr=getRevisionsFor(f);
  assertEquals(6,rr.size());
  assertEquals("4",rr.get(1).getChangeSetName());
  assertEquals("3",rr.get(2).getChangeSetName());
  assertEquals("2",rr.get(3).getChangeSetName());
  assertEquals(null,rr.get(4).getChangeSetName());
  assertEquals("1",rr.get(5).getChangeSetName());
}
