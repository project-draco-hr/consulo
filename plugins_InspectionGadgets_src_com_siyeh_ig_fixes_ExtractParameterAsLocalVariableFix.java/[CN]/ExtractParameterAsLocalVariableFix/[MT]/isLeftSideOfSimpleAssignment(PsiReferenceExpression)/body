{
  if (reference == null) {
    return false;
  }
  final PsiElement parent=reference.getParent();
  if (!(parent instanceof PsiAssignmentExpression)) {
    return false;
  }
  final PsiAssignmentExpression assignmentExpression=(PsiAssignmentExpression)parent;
  final IElementType tokenType=assignmentExpression.getOperationTokenType();
  if (tokenType != JavaTokenType.EQ) {
    return false;
  }
  final PsiExpression lExpression=assignmentExpression.getLExpression();
  if (!reference.equals(lExpression)) {
    return false;
  }
  final PsiExpression rExpression=assignmentExpression.getRExpression();
  if (rExpression instanceof PsiAssignmentExpression) {
    return false;
  }
  final PsiElement grandParent=parent.getParent();
  return grandParent instanceof PsiExpressionStatement;
}
