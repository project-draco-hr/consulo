{
  DataContext context=event == null ? DataManager.getInstance().getDataContext() : DataManager.getInstance().getDataContext(event.getComponent());
  int modifiers=event == null ? 0 : event.getModifiers();
  AnActionEvent anActionEvent=new AnActionEvent(event,context,place,action.getTemplatePresentation(),ActionManager.getInstance(),modifiers);
  anActionEvent.setInjectedContext(action.isInInjectedContext());
  return anActionEvent;
}
