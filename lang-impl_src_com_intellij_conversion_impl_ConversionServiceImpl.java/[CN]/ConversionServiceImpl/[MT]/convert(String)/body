{
  try {
    if (!isConversionNeeded(projectPath)) {
      return true;
    }
    final ConversionContextImpl context=new ConversionContextImpl(projectPath);
    ProjectConversionWizard wizard=new ProjectConversionWizard(context,getConvertersToRun(context));
    wizard.show();
    if (wizard.isConverted()) {
      saveConversionResult(context);
      return true;
    }
    return false;
  }
 catch (  IOException e) {
    Messages.showErrorDialog(IdeBundle.message("error.cannot.load.project",e.getMessage()),IdeBundle.message("title.cannot.convert.project"));
    return false;
  }
catch (  QualifiedJDomException e) {
    LOG.info(e);
    Messages.showErrorDialog(IdeBundle.message("error.some.file.is.corrupted.message",e.getFilePath(),e.getCause().getMessage()),IdeBundle.message("title.cannot.convert.project"));
    return false;
  }
}
