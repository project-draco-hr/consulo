{
  final String moduleName=getModuleName();
  final String moduleFileDirectory=myModuleFileLocation.getText();
  if (moduleFileDirectory.length() == 0) {
    throw new ConfigurationException("Enter module file location");
  }
  if (moduleName.length() == 0) {
    throw new ConfigurationException("Enter a module name");
  }
  if (!ProjectWizardUtil.createDirectoryIfNotExists(IdeBundle.message("directory.module.file"),moduleFileDirectory,myImlLocationChangedByUser)) {
    return true;
  }
  if (!ProjectWizardUtil.createDirectoryIfNotExists(IdeBundle.message("directory.module.content.root"),myModuleContentRoot.getText(),myContentRootChangedByUser)) {
    return true;
  }
  File moduleFile=new File(moduleFileDirectory,moduleName + ModuleFileType.DOT_DEFAULT_EXTENSION);
  if (moduleFile.exists()) {
    int answer=Messages.showYesNoDialog(IdeBundle.message("prompt.overwrite.project.file",moduleFile.getAbsolutePath(),IdeBundle.message("project.new.wizard.module.identification")),IdeBundle.message("title.file.already.exists"),Messages.getQuestionIcon());
    if (answer != 0) {
      return true;
    }
  }
  return false;
}
