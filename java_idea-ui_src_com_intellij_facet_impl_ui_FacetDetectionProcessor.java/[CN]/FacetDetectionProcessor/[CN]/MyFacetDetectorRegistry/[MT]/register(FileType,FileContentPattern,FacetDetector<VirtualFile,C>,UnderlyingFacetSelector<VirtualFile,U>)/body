{
  if (myFacetType.getUnderlyingFacetType() != null) {
    LOG.assertTrue(underlyingFacetSelector != null,"UnderlyingFacetSelector must be specified for " + myFacetType.getPresentableName() + " detector");
  }
 else {
    LOG.assertTrue(underlyingFacetSelector == null,"UnderlyingFacetSelector must not be specified for " + myFacetType.getPresentableName() + " detector");
  }
  MyFacetDetectorWrapper<C,U> detector=new MyFacetDetectorWrapper<C,U>(myFacetType,fileType,fileContentPattern,facetDetector,underlyingFacetSelector);
  getDetectorsMap().put(fileType,detector);
}
