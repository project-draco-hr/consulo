{
  UIUtil.invokeLaterIfNeeded(new Runnable(){
    @Override public void run(){
      if (isFlushingIdleRequests()) {
        SwingUtilities.invokeLater(this);
      }
      if (myRunContext != null) {
        runnable.run();
        return;
      }
      final boolean needsRestart=isIdleQueueEmpty();
      myIdleRequests.add(runnable);
      if (isFocusTransferReady()) {
        flushIdleRequests();
      }
 else {
        if (needsRestart) {
          restartIdleAlarm();
        }
      }
    }
  }
);
}
