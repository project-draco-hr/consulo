{
  assertDispatchThread();
  UIUtil.invokeAndWaitIfNeeded(new Runnable(){
    @Override public void run(){
      if (myFocusRequests.isEmpty())       return;
      FocusCommand[] requests=myFocusRequests.toArray(new FocusCommand[myFocusRequests.size()]);
      boolean wasChanged=false;
      for (      FocusCommand each : requests) {
        if (each.isExpired()) {
          resetCommand(each,true);
          wasChanged=true;
        }
      }
      if (wasChanged && myFocusRequests.isEmpty()) {
        restartIdleAlarm();
      }
    }
  }
);
}
