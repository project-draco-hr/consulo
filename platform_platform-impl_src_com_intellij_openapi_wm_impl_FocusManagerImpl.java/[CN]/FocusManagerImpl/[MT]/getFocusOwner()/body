{
  Component result=null;
  if (myRunContext != null) {
    result=(Component)myRunContext.getData(PlatformDataKeys.CONTEXT_COMPONENT.getName());
  }
  if (result == null) {
    result=isFocusBeingTransferred() ? null : KeyboardFocusManager.getCurrentKeyboardFocusManager().getFocusOwner();
  }
  final boolean meaninglessOwner=UIUtil.isMeaninglessFocusOwner(result);
  if ((result == null && !isFocusBeingTransferred()) || meaninglessOwner) {
    final Component permOwner=KeyboardFocusManager.getCurrentKeyboardFocusManager().getPermanentFocusOwner();
    if (permOwner != null) {
      result=permOwner;
    }
  }
  return result;
}
