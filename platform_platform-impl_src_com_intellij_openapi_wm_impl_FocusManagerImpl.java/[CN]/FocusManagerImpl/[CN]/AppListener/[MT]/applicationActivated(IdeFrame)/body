{
  final FocusCommand cmd=myFocusCommandOnAppActivation;
  ActionCallback callback=myCallbackOnActivation;
  myFocusCommandOnAppActivation=null;
  myCallbackOnActivation=null;
  if (cmd != null) {
    requestFocus(cmd,true).notify(callback).doWhenRejected(new Runnable(){
      public void run(){
        focusLastFocusedComponent(ideFrame);
      }
    }
);
  }
 else {
    focusLastFocusedComponent(ideFrame);
  }
}
