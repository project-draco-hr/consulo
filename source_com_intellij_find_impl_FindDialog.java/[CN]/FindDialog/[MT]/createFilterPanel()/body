{
  JPanel filterPanel=new JPanel();
  filterPanel.setLayout(new BorderLayout());
  filterPanel.setBorder(IdeBorderFactory.createTitledBorder(FindBundle.message("find.filter.file.name.group")));
  myFileFilter=new ComboBox(100);
  initCombobox(myFileFilter);
  filterPanel.add(useFileFilter=new StateRestoringCheckBox(FindBundle.message("find.filter.file.mask.checkbox")),BorderLayout.WEST);
  filterPanel.add(myFileFilter,BorderLayout.CENTER);
  myFileFilter.setEditable(true);
  String[] fileMasks=FindSettings.getInstance().getRecentFileMasks();
  for (int i=fileMasks.length - 1; i >= 0; i--) {
    myFileFilter.addItem(fileMasks[i]);
  }
  myFileFilter.setEnabled(false);
  useFileFilter.addActionListener(new ActionListener(){
    public void actionPerformed(    ActionEvent e){
      if (!useFileFilter.isSelected()) {
        myFileFilter.setEnabled(false);
      }
 else {
        myFileFilter.setEnabled(true);
        myFileFilter.getEditor().selectAll();
        myFileFilter.getEditor().getEditorComponent().requestFocusInWindow();
      }
    }
  }
);
  return filterPanel;
}
