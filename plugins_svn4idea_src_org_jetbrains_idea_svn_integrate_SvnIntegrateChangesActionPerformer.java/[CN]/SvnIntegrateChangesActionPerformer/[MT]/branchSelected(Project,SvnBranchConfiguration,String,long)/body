{
  if (myCurrentBranch.toString().equals(url)) {
    Messages.showErrorDialog(SvnBundle.message("action.Subversion.integrate.changes.error.source.and.target.same.text"),SvnBundle.message("action.Subversion.integrate.changes.messages.title"));
    return;
  }
  final Pair<WorkingCopyInfo,SVNURL> pair=IntegratedSelectedOptionsDialog.selectWorkingCopy(project,myCurrentBranch,url,true);
  if (pair == null) {
    return;
  }
  final WorkingCopyInfo info=pair.first;
  final SVNURL realTargetUrl=pair.second;
  final SVNURL sourceUrl=correctSourceUrl(url,realTargetUrl.toString());
  if (sourceUrl == null) {
    return;
  }
  final SvnIntegrateChangesTask task=new SvnIntegrateChangesTask(myVcs,info,myMergerFactory,sourceUrl);
  ProgressManager.getInstance().run(task);
}
