{
  StringBuilder result=StringBuilderSpinAllocator.alloc();
  try {
    for (    HighlightInfo info : infos) {
      String toolTip=info.toolTip;
      if (toolTip != null) {
        if (result.length() != 0) {
          result.append(LINE_BREAK);
        }
        toolTip=StringUtil.trimStart(toolTip,HTML_HEADER);
        toolTip=StringUtil.trimStart(toolTip,BODY_HEADER);
        toolTip=StringUtil.trimEnd(toolTip,HTML_FOOTER);
        toolTip=StringUtil.trimEnd(toolTip,BODY_FOOTER);
        result.append(toolTip);
      }
    }
    if (result.length() == 0) {
      return null;
    }
    result.insert(0,HTML_HEADER);
    result.append(HTML_FOOTER);
    return result.toString();
  }
  finally {
    StringBuilderSpinAllocator.dispose(result);
  }
}
