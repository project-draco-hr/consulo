{
  Map<PsiMember,Set<PsiMember>> result=new HashMap<PsiMember,Set<PsiMember>>();
  for (  UsageInfo usage : usages) {
    final PsiElement usageElement=usage.getElement();
    if (usageElement == null)     continue;
    final PsiElement container=ConflictsUtil.getContainer(usageElement);
    if (!(container instanceof PsiMember))     continue;
    PsiMember memberContainer=(PsiMember)container;
    Set<PsiMember> inaccessibleReferenced=result.get(memberContainer);
    if (inaccessibleReferenced == null) {
      inaccessibleReferenced=new HashSet<PsiMember>();
      result.put(memberContainer,inaccessibleReferenced);
      for (      PsiMember member : referencedElements) {
        if (PsiTreeUtil.isAncestor(elementToInline,member,false))         continue;
        if (!PsiUtil.isAccessible(member,usageElement,null)) {
          inaccessibleReferenced.add(member);
        }
      }
    }
  }
  return result;
}
