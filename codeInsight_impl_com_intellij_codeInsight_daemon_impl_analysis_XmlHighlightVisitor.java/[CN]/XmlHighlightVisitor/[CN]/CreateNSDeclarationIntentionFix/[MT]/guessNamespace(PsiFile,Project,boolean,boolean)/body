{
  final List<String> possibleUris=new LinkedList<String>();
  boolean unitTestMode=ApplicationManager.getApplication().isUnitTestMode();
  final ExternalUriProcessor processor=new ExternalUriProcessor(){
    public void process(    String ns,    final String url){
      possibleUris.add(ns);
    }
    public boolean acceptXmlNs(){
      return acceptXmlNs;
    }
    public boolean acceptTaglib(){
      return acceptTaglib;
    }
  }
;
  if (myElement instanceof XmlTag) {
    if (unitTestMode)     processExternalUris((XmlTag)myElement,file,processor);
 else {
      ProgressManager.getInstance().runProcessWithProgressSynchronously(new Runnable(){
        public void run(){
          processExternalUris((XmlTag)myElement,file,processor);
        }
      }
,XmlErrorMessages.message("finding.acceptable.uri"),false,project);
    }
  }
  return possibleUris.toArray(new String[possibleUris.size()]);
}
