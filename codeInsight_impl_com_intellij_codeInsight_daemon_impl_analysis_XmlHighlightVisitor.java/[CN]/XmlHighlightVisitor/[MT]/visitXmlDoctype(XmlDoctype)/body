{
  if (xmlDoctype.getUserData(DO_NOT_VALIDATE_KEY) != null)   return;
  String uri=xmlDoctype.getDtdUri();
  if (uri == null || ExternalResourceManagerEx.getInstanceEx().isIgnoredResource(uri))   return;
  XmlFile xmlFile=XmlUtil.findXmlFile(xmlDoctype.getContainingFile(),uri);
  if (xmlFile == null) {
    final TextRange textRange=xmlDoctype.getDtdUrlElement().getTextRange();
    reportURIProblem(textRange.getStartOffset() + 1,textRange.getEndOffset() - 1);
  }
}
