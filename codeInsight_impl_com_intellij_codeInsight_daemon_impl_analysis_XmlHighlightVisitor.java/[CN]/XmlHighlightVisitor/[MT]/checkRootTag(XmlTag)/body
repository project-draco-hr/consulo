{
  XmlFile file=(XmlFile)tag.getContainingFile();
  XmlProlog prolog=file.getDocument().getProlog();
  if (prolog == null || prolog.getUserData(DO_NOT_VALIDATE_KEY) != null) {
    return;
  }
  XmlDoctype doctype=prolog.getDoctype();
  if (doctype == null) {
    return;
  }
  XmlElement nameElement=doctype.getNameElement();
  if (nameElement == null) {
    return;
  }
  String name=tag.getName();
  String text=nameElement.getText();
  if (tag instanceof HtmlTag) {
    name=name.toLowerCase();
    text=text.toLowerCase();
  }
  name=XmlUtil.findLocalNameByQualifiedName(name);
  if (!name.equals(text)) {
    addElementsForTag(tag,XmlErrorMessages.message("wrong.root.element"),HighlightInfoType.WRONG_REF,null);
  }
}
