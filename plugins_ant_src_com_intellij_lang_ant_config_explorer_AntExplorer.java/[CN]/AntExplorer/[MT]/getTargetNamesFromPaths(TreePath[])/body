{
  final List<String> targets=new ArrayList<String>();
  for (  final TreePath path : paths) {
    final Object userObject=((DefaultMutableTreeNode)path.getLastPathComponent()).getUserObject();
    if (!(userObject instanceof AntTargetNodeDescriptor)) {
      continue;
    }
    final AntBuildTarget target=((AntTargetNodeDescriptor)userObject).getTarget();
    if (target instanceof MetaTarget) {
      targets.addAll(Arrays.asList(((MetaTarget)target).getTargetNames()));
    }
 else {
      targets.add(target.getName());
    }
  }
  return targets.toArray(new String[targets.size()]);
}
