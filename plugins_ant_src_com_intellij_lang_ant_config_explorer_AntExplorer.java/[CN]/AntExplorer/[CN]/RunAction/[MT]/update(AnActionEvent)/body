{
  Presentation presentation=event.getPresentation();
  String place=event.getPlace();
  if (ActionPlaces.ANT_EXPLORER_TOOLBAR.equals(place)) {
    presentation.setText(AntBundle.message("run.ant.file.or.target.action.name"));
  }
 else {
    TreePath[] paths=myTree.getSelectionPaths();
    if (paths != null && paths.length == 1 && ((DefaultMutableTreeNode)paths[0].getLastPathComponent()).getUserObject() instanceof AntBuildFileNodeDescriptor) {
      presentation.setText(AntBundle.message("run.ant.build.action.name"));
    }
 else {
      if (paths == null || paths.length == 1) {
        presentation.setText(AntBundle.message("run.ant.target.action.name"));
      }
 else {
        presentation.setText(AntBundle.message("run.ant.targets.action.name"));
      }
    }
  }
  presentation.setEnabled(canRunSelection());
}
