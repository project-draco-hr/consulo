{
  myRootPane=new JPanel(new BorderLayout());
  mySplitter=new JBSplitter();
  myTree=new CheckboxTree(new ExtensionTreeCellRenderer(),new ExtensionCheckedTreeNode(null,myState,this),new CheckboxTreeBase.CheckPolicy(false,true,true,false));
  myTree.setRootVisible(false);
  myTree.getSelectionModel().setSelectionMode(TreeSelectionModel.SINGLE_TREE_SELECTION);
  myTree.addTreeSelectionListener(new TreeSelectionListener(){
    @Override public void valueChanged(    final TreeSelectionEvent e){
      final List<MutableModuleExtension> selected=TreeUtil.collectSelectedObjectsOfType(myTree,MutableModuleExtension.class);
      mySplitter.setSecondComponent(null);
      if (!selected.isEmpty()) {
        final MutableModuleExtension extension=selected.get(0);
        if (!extension.isEnabled()) {
          return;
        }
        mySplitter.setSecondComponent(createConfigurationPanel(extension));
      }
    }
  }
);
  TreeUtil.expandAll(myTree);
  mySplitter.setFirstComponent(myTree);
  myRootPane.add(mySplitter,BorderLayout.CENTER);
  return myRootPane;
}
