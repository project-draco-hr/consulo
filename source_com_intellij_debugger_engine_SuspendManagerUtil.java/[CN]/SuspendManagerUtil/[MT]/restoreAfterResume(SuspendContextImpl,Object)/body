{
  SuspendManager suspendManager=context.getDebugProcess().getSuspendManager();
  ResumeData data=(ResumeData)resumeData;
  ThreadReferenceProxyImpl thread=context.getThread();
  if (data.myIsFrozen && !suspendManager.isFrozen(thread)) {
    suspendManager.freezeThread(thread);
  }
  if (LOG.isDebugEnabled()) {
    LOG.debug("RestoreAfterResume SuspendContextImpl...");
  }
  LOG.assertTrue(context.myResumedThreads == null);
  if (data.myResumedThreads != null) {
    for (Iterator<ThreadReferenceProxyImpl> iterator=data.myResumedThreads.iterator(); iterator.hasNext(); ) {
      ThreadReferenceProxyImpl resumedThreads=iterator.next();
      resumedThreads.resume();
    }
    context.myResumedThreads=data.myResumedThreads;
  }
}
