{
  final List<TreeNodeOnVcsRevision> selection=getSelection();
  if (selection.size() != 1)   return;
  if (ChangeListManager.getInstance(myVcs.getProject()).isFreezedWithNotification(null))   return;
  final VcsRevisionNumber currentRevisionNumber=myHistorySession.getCurrentRevisionNumber();
  VcsFileRevision selectedRevision=getFirstSelectedRevision();
  if (currentRevisionNumber != null && selectedRevision != null) {
    myDiffHandler.showDiff(myFilePath,selectedRevision,new CurrentRevision(myFilePath.getVirtualFile(),currentRevisionNumber));
  }
}
