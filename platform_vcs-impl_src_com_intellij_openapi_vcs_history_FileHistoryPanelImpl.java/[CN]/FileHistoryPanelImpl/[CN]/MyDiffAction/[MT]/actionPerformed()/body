{
  final int selectionSize=getSelection().size();
  if (selectionSize == 2) {
    showDifferences(myProject,(VcsFileRevision)getSelection().get(0),(VcsFileRevision)getSelection().get(1));
  }
 else   if (selectionSize == 1) {
    final VcsRevisionNumber currentRevisionNumber=myHistorySession.getCurrentRevisionNumber();
    if (currentRevisionNumber != null) {
      showDifferences(myProject,getFirstSelectedRevision(),new CurrentRevision(myFilePath.getVirtualFile(),currentRevisionNumber));
    }
  }
}
