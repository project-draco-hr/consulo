{
  List<TreeNodeOnVcsRevision> sel=getSelection();
  int selectionSize=sel.size();
  if (selectionSize > 1) {
    showDifferences(myVcs.getProject(),sel.get(0),sel.get(sel.size() - 1));
  }
 else   if (selectionSize == 1) {
    if (ChangeListManager.getInstance(myVcs.getProject()).isFreezedWithNotification(null))     return;
    final VcsRevisionNumber currentRevisionNumber=myHistorySession.getCurrentRevisionNumber();
    if (currentRevisionNumber != null) {
      showDifferences(myVcs.getProject(),getFirstSelectedRevision(),new CurrentRevision(myFilePath.getVirtualFile(),currentRevisionNumber));
    }
  }
}
