{
  myHistorySession=session;
  HistoryAsTreeProvider treeHistoryProvider=session.getHistoryAsTreeProvider();
  if (treeHistoryProvider != null) {
    myDualView.setRoot(new TreeNodeOnVcsRevision(null,treeHistoryProvider.createTreeOn(new ArrayList<VcsFileRevision>(myHistorySession.getRevisionList()))),myTargetSelection);
  }
 else {
    myDualView.setRoot(new TreeNodeOnVcsRevision(null,wrapWithTreeElements(new ArrayList<VcsFileRevision>(myHistorySession.getRevisionList()))),myTargetSelection);
  }
  myDualView.expandAll();
  myDualView.repaint();
}
