{
  myHistorySession=session;
  refreshRevisionsOrder();
  HistoryAsTreeProvider treeHistoryProvider=session.getHistoryAsTreeProvider();
  List<VcsFileRevision> revisionList=myHistorySession.getRevisionList();
  updateMaxStringValues(revisionList);
  if (treeHistoryProvider != null) {
    myDualView.setRoot(new TreeNodeOnVcsRevision(null,treeHistoryProvider.createTreeOn(revisionList)),myTargetSelection);
  }
 else {
    myDualView.setRoot(new TreeNodeOnVcsRevision(null,wrapWithTreeElements(revisionList)),myTargetSelection);
  }
  updateMaxStringValues(revisionList);
  myDualView.getFlatView().updateColumnSizes();
  myDualView.expandAll();
  myDualView.repaint();
}
