{
  StringBuilder sb=new StringBuilder();
  sb.append(FileHistoryPanelImpl.RevisionColumnInfo.toString(revision,true)).append(" ");
  sb.append(revision.getAuthor());
  long time=revision.getRevisionDate().getTime();
  sb.append(" on ").append(DateFormatUtil.formatDate(time)).append(" at ").append(DateFormatUtil.formatTime(time));
  if (revision instanceof VcsFileRevisionEx) {
    if (!Comparing.equal(revision.getAuthor(),((VcsFileRevisionEx)revision).getCommitterName())) {
      sb.append(" (committed by ").append(((VcsFileRevisionEx)revision).getCommitterName()).append(")");
    }
  }
  if (withMessage) {
    sb.append(" ").append(MessageColumnInfo.getSubject(revision));
  }
  return sb.toString();
}
