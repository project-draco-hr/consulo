{
  mySplitter=new Splitter(true,getSplitterProportion());
  mySplitter.setDividerWidth(4);
  mySplitter.addPropertyChangeListener(new PropertyChangeListener(){
    public void propertyChange(    PropertyChangeEvent evt){
      if (Splitter.PROP_PROPORTION.equals(evt.getPropertyName())) {
        setSplitterProportionTo((Float)evt.getNewValue());
      }
    }
  }
);
  final Splitter detailsSplitter=new Splitter(false,0.5f);
  JPanel commentGroup=new JPanel(new BorderLayout(4,4));
  final JLabel commentLabel=new JLabel(COMMIT_MESSAGE_TITLE + ":"){
    @Override public Dimension getPreferredSize(){
      return new Dimension(super.getWidth(),21);
    }
  }
;
  commentGroup.add(commentLabel,BorderLayout.NORTH);
  JScrollPane pane=ScrollPaneFactory.createScrollPane(myComments);
  pane.setBorder(BorderFactory.createMatteBorder(1,1,myAdditionalDetails == null ? 0 : 1,0,UIUtil.getBorderSeparatorColor()));
  commentGroup.add(pane,BorderLayout.CENTER);
  detailsSplitter.setFirstComponent(commentGroup);
  detailsSplitter.setSecondComponent(myAdditionalDetails);
  final JPanel wrapper=new JPanel(new BorderLayout());
  myLoadingLabel=new JLabel("Loading...");
  myLoadingLabel.setBackground(UIUtil.getToolTipBackground());
  wrapper.add(myLoadingLabel,BorderLayout.NORTH);
  myDualView.setViewBorder(BorderFactory.createMatteBorder(0,1,1,0,UIUtil.getBorderSeparatorColor()));
  wrapper.add(myDualView,BorderLayout.CENTER);
  mySplitter.setFirstComponent(wrapper);
  mySplitter.setSecondComponent(detailsSplitter);
  return mySplitter;
}
