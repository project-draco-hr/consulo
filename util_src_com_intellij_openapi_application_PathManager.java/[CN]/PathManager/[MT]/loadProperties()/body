{
  String propFilePath=System.getProperty(PROPERTIES_FILE);
  if (StringUtil.isEmptyOrSpaces(propFilePath) || !new File(propFilePath).exists()) {
    propFilePath=SystemProperties.getUserHome() + File.separator + IDEA_PROPERTIES;
    if (StringUtil.isEmptyOrSpaces(propFilePath) || !new File(propFilePath).exists()) {
      propFilePath=getBinPath() + File.separator + IDEA_PROPERTIES;
    }
  }
  File propFile=new File(propFilePath);
  if (propFile.exists()) {
    InputStream fis=null;
    try {
      fis=new BufferedInputStream(new FileInputStream(propFile));
      final PropertyResourceBundle bundle=new PropertyResourceBundle(fis);
      final Enumeration keys=bundle.getKeys();
      final Properties sysProperties=System.getProperties();
      while (keys.hasMoreElements()) {
        String key=(String)keys.nextElement();
        final String value=substitueVars(bundle.getString(key));
        if (sysProperties.getProperty(key,null) == null) {
          sysProperties.setProperty(key,value);
        }
      }
    }
 catch (    IOException e) {
      System.out.println("Problem reading from property file: " + propFilePath);
    }
 finally {
      try {
        if (fis != null) {
          fis.close();
        }
      }
 catch (      IOException e) {
      }
    }
  }
}
