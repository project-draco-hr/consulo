{
  DataContext dataContext=event.getDataContext();
  final Navigatable target=getTarget(dataContext);
  boolean enabled=target != null;
  if (ActionPlaces.isPopupPlace(event.getPlace())) {
    event.getPresentation().setVisible(enabled);
  }
 else {
    event.getPresentation().setEnabled(enabled);
  }
  if (target != null && target instanceof NavigatableWithText) {
    event.getPresentation().setText(((NavigatableWithText)target).getNavigateActionText(myFocusEditor));
  }
 else {
    event.getPresentation().setText(getTemplatePresentation().getText());
  }
}
