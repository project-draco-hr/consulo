{
  myProject=project;
  myTree=new Tree();
  myTree.setRootVisible(true);
  myTree.setShowsRootHandles(true);
  myEditingActionsGroup=new DefaultActionGroup();
  myMarkSourcesAction=new ToggleSourcesStateAction(myTree,this,false);
  myMarkSourcesAction.registerCustomShortcutSet(new CustomShortcutSet(KeyStroke.getKeyStroke(KeyEvent.VK_S,KeyEvent.ALT_MASK)),myTree);
  myToggleExcludedAction=new ToggleExcludedStateAction(myTree,this);
  myToggleExcludedAction.registerCustomShortcutSet(new CustomShortcutSet(KeyStroke.getKeyStroke(KeyEvent.VK_E,KeyEvent.ALT_MASK)),myTree);
  myMarkTestsAction=new ToggleSourcesStateAction(myTree,this,true);
  myMarkTestsAction.registerCustomShortcutSet(new CustomShortcutSet(KeyStroke.getKeyStroke(KeyEvent.VK_T,KeyEvent.ALT_MASK)),myTree);
  TreeToolTipHandler.install(myTree);
  TreeUtil.installActions(myTree);
  new TreeSpeedSearch(myTree);
  myTreePanel=new JPanel(new BorderLayout());
  final JScrollPane scrollPane=ScrollPaneFactory.createScrollPane(myTree);
  myTreePanel.add(new ToolbarPanel(scrollPane,myEditingActionsGroup),BorderLayout.CENTER);
  myTreePanel.setVisible(false);
  myDescriptor=new FileChooserDescriptor(false,true,false,false,false,true);
  myDescriptor.setShowFileSystemRoots(false);
}
