{
  IElementType opToken=getOperationTokenType();
  GrExpression operand=getOperand();
  if (operand == null)   return null;
  if (opToken == GroovyTokenTypes.mINC || opToken == GroovyTokenTypes.mDEC) {
    return TypesUtil.getTypeForIncOrDecExpression(this);
  }
  PsiType opType=operand.getType();
  if (opType == null)   return null;
  if (opToken == GroovyTokenTypes.mBNOT) {
    if (opType.equalsToText("java.lang.String")) {
      return getTypeByFQName(PATTERN_FQ_NAME);
    }
  }
  return opType;
}
