{
  String tooltip=null;
  GutterIconRenderer renderer=getGutterRenderer(e);
  TooltipController controller=HintManager.getInstance().getTooltipController();
  if (renderer != null) {
    tooltip=renderer.getTooltipText();
    if (renderer.isNavigateAction()) {
      setCursor(Cursor.getPredefinedCursor(Cursor.HAND_CURSOR));
    }
  }
 else {
    ActiveGutterRenderer lineRenderer=getActiveRendererByMouseEvent(e);
    if (lineRenderer != null) {
      setCursor(Cursor.getPredefinedCursor(Cursor.HAND_CURSOR));
    }
 else {
      TextAnnotationGutterProvider provider=getProviderAtPoint(e.getPoint());
      if (provider != null) {
        final int line=getLineNumAtPoint(e.getPoint());
        tooltip=provider.getToolTip(line,myEditor);
        if (!Comparing.equal(tooltip,myLastGutterTooltip)) {
          controller.cancelTooltip(GUTTER_TOOLTIP_GROUP);
          myLastGutterTooltip=tooltip;
        }
        if (myProviderToListener.containsKey(provider)) {
          final EditorGutterAction action=myProviderToListener.get(provider);
          if (action != null) {
            setCursor(action.getCursor(line));
          }
        }
      }
    }
  }
  if (tooltip != null && tooltip.length() != 0) {
    controller.showTooltipByMouseMove(myEditor,e,new LineTooltipRenderer(tooltip),false,GUTTER_TOOLTIP_GROUP);
  }
 else {
    controller.cancelTooltip(GUTTER_TOOLTIP_GROUP);
  }
}
