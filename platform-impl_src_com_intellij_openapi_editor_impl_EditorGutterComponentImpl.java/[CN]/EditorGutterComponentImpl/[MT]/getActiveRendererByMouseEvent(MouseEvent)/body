{
  final ActiveGutterRenderer[] gutterRenderer=new ActiveGutterRenderer[]{null};
  if (findFoldingAnchorAt(e.getX(),e.getY()) == null) {
    if (!e.isConsumed() && e.getX() > getLineMarkerAreaOffset() + myIconsAreaWidth && e.getX() <= getWhitespaceSeparatorOffset()) {
      Rectangle clip=myEditor.getScrollingModel().getVisibleArea();
      int firstVisibleOffset=myEditor.logicalPositionToOffset(myEditor.xyToLogicalPosition(new Point(0,clip.y - myEditor.getLineHeight())));
      int lastVisibleOffset=myEditor.logicalPositionToOffset(myEditor.xyToLogicalPosition(new Point(0,clip.y + clip.height + myEditor.getLineHeight())));
      processRangeHighlighters(new RangeHighlighterProcessor(){
        public void process(        RangeHighlighter highlighter){
          if (gutterRenderer[0] != null)           return;
          Rectangle rect=getLineRendererRect(highlighter);
          if (rect == null)           return;
          int startY=rect.y;
          int endY=startY + rect.height;
          if (startY == endY) {
            startY-=4;
            endY+=4;
          }
          if (startY < e.getY() && e.getY() <= endY) {
            if (highlighter.getLineMarkerRenderer() instanceof ActiveGutterRenderer) {
              gutterRenderer[0]=(ActiveGutterRenderer)highlighter.getLineMarkerRenderer();
            }
          }
        }
      }
,firstVisibleOffset,lastVisibleOffset);
    }
  }
  return gutterRenderer[0];
}
