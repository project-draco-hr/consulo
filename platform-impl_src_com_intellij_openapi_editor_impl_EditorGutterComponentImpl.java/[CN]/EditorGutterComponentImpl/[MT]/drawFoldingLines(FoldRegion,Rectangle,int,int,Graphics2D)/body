{
  if (foldRange.isExpanded() && foldRange.isValid()) {
    VisualPosition foldStart=offsetToLineStartPosition(foldRange.getStartOffset());
    VisualPosition foldEnd=offsetToLineStartPosition(getEndOffset(foldRange));
    int startY=myEditor.visibleLineNumberToYPosition(foldStart.line + 1) - myEditor.getDescent();
    int endY=myEditor.visibleLineNumberToYPosition(foldEnd.line) + myEditor.getLineHeight() - myEditor.getDescent();
    if (startY > clip.y + clip.height || endY + 1 + myEditor.getDescent() < clip.y)     return;
    int lineX=anchorX + width / 2;
    g.setColor(getFoldingColor(true));
    UIUtil.drawLine(g,lineX,startY,lineX,endY);
  }
}
