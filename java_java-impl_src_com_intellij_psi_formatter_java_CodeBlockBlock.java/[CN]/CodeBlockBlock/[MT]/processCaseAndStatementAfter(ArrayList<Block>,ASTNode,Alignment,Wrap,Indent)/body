{
  final ArrayList<Block> localResult=new ArrayList<Block>();
  processChild(localResult,child,null,null,Indent.getNoneIndent());
  child=child.getTreeNext();
  Indent childIndent=Indent.getNormalIndent();
  while (child != null) {
    if (child.getElementType() == ElementType.SWITCH_LABEL_STATEMENT || isRBrace(child)) {
      result.add(createCaseSectionBlock(localResult,childAlignment,indent,childWrap));
      return child.getTreePrev();
    }
    if (!FormatterUtil.containsWhiteSpacesOnly(child)) {
      if (child.getElementType() == ElementType.BLOCK_STATEMENT) {
        childIndent=Indent.getNoneIndent();
      }
      boolean breakOrReturn=isBreakOrReturn(child);
      processChild(localResult,child,null,null,childIndent);
      if (breakOrReturn) {
        result.add(createCaseSectionBlock(localResult,childAlignment,indent,childWrap));
        return child;
      }
    }
    child=child.getTreeNext();
  }
  result.add(createCaseSectionBlock(localResult,childAlignment,indent,childWrap));
  return null;
}
