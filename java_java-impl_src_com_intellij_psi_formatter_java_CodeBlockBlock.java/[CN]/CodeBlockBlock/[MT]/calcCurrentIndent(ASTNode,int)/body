{
  if (isRBrace(child) || child.getElementType() == JavaTokenType.AT) {
    return Indent.getNoneIndent();
  }
  if (state == BEFORE_FIRST)   return Indent.getNoneIndent();
  if (child.getElementType() == ElementType.SWITCH_LABEL_STATEMENT) {
    return getCodeBlockInternalIndent(myChildrenIndent);
  }
  if (state == BEFORE_LBRACE) {
    if (isLBrace(child)) {
      return Indent.getNoneIndent();
    }
 else {
      return Indent.getContinuationIndent(myIndentSettings.USE_RELATIVE_INDENTS);
    }
  }
 else {
    if (isRBrace(child)) {
      return Indent.getNoneIndent();
    }
 else {
      return getCodeBlockInternalIndent(myChildrenIndent);
    }
  }
}
