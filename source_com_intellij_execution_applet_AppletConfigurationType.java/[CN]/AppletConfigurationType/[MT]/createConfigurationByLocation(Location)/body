{
  location=ExecutionUtil.stepIntoSingleClass(location);
  final Project project=location.getProject();
  final PsiElement element=location.getPsiElement();
  final PsiClass aClass=getAppletClass(element,PsiManager.getInstance(project));
  if (aClass == null)   return null;
  RunnerAndConfigurationSettings settings=RunManager.getInstance(project).createConfiguration("",getConfigurationFactories()[0]);
  final AppletConfiguration configuration=(AppletConfiguration)settings.getConfiguration();
  configuration.MAIN_CLASS_NAME=ExecutionUtil.getRuntimeQualifiedName(aClass);
  configuration.setModule(new JUnitUtil.ModuleOfClass(project).convert(aClass));
  configuration.setName(configuration.getGeneratedName());
  return settings;
}
