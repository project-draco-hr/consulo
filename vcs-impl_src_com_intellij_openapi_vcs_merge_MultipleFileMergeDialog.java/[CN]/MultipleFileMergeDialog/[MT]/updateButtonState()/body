{
  boolean haveSelection=myTable.getSelectedRowCount() > 0;
  boolean haveUnmergeableFiles=false;
  for (  VirtualFile file : myTable.getSelection()) {
    if (myBinaryFiles.contains(file)) {
      haveUnmergeableFiles=true;
      break;
    }
    if (myProvider instanceof MergeProvider2) {
      boolean canMerge=((MergeProvider2)myProvider).canMerge(file);
      if (!canMerge) {
        haveUnmergeableFiles=true;
        break;
      }
    }
  }
  myAcceptYoursButton.setEnabled(haveSelection);
  myAcceptTheirsButton.setEnabled(haveSelection);
  myMergeButton.setEnabled(haveSelection && !haveUnmergeableFiles);
}
