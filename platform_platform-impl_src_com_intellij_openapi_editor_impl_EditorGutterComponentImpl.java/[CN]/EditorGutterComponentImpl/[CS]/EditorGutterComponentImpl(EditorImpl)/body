{
  myEditor=editor;
  myLineNumberConvertor=Convertor.SELF;
  if (!ApplicationManager.getApplication().isHeadlessEnvironment()) {
    installDnD();
  }
  setOpaque(true);
  if (isDistractionFreeMode()) {
    editor.getComponent().addComponentListener(new ComponentAdapter(){
      @Override public void componentResized(      ComponentEvent event){
        updateSize();
      }
    }
);
  }
  myAnchorsDisplayStrategy=new FoldingAnchorsOverlayStrategy(editor);
}
