{
  myEditor=editor;
  myLineNumberConvertor=ID;
  if (!ApplicationManager.getApplication().isHeadlessEnvironment()) {
    installDnD();
  }
  setOpaque(true);
  myAnchorsDisplayStrategy=new FoldingAnchorsOverlayStrategy(editor);
  Project project=myEditor.getProject();
  if (project != null) {
    project.getMessageBus().connect(myEditor.getDisposable()).subscribe(DumbService.DUMB_MODE,new DumbService.DumbModeListener(){
      @Override public void enteredDumbMode(){
      }
      @Override public void exitDumbMode(){
        updateSize();
      }
    }
);
  }
}
