{
  if (!isFoldingOutlineShown())   return;
  UIUtil.drawVDottedLine(g,getWhitespaceSeparatorOffset(),clip.y,clip.y + clip.height,null,getOutlineColor(false));
  int anchorX=getFoldingAreaOffset();
  int width=getFoldingAnchorWidth();
  FoldRegion[] visibleFoldRegions=((FoldingModelImpl)myEditor.getFoldingModel()).fetchVisible();
  if (myActiveFoldRegion != null) {
    drawFoldingLines(myActiveFoldRegion,clip,width,anchorX,g);
  }
  for (  FoldRegion visibleFoldRegion : visibleFoldRegions) {
    if (!visibleFoldRegion.isValid())     continue;
    if (visibleFoldRegion.getStartOffset() > lastVisibleOffset)     continue;
    if (getEndOffset(visibleFoldRegion) < firstVisibleOffset)     continue;
    drawAnchor(visibleFoldRegion,width,clip,g,anchorX,false,true);
  }
}
