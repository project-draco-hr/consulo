{
  if (e.isPopupTrigger()) {
    invokePopup(e);
    return;
  }
  GutterIconRenderer renderer=getGutterRenderer(e);
  AnAction clickAction=null;
  if (renderer != null && e.getButton() < 4) {
    clickAction=BitUtil.isSet(e.getModifiers(),InputEvent.BUTTON2_MASK) ? renderer.getMiddleButtonClickAction() : renderer.getClickAction();
  }
  if (clickAction != null) {
    performAction(clickAction,e,"ICON_NAVIGATION",myEditor.getDataContext());
    repaint();
    e.consume();
  }
 else {
    ActiveGutterRenderer lineRenderer=getActiveRendererByMouseEvent(e);
    if (lineRenderer != null) {
      lineRenderer.doAction(myEditor,e);
    }
 else {
      fireEventToTextAnnotationListeners(e);
    }
  }
}
