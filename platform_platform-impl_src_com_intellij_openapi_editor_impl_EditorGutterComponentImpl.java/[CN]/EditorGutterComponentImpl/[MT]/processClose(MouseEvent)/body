{
  final IdeEventQueue queue=IdeEventQueue.getInstance();
  if (isLineNumbersShown()) {
    if (e.getX() >= getLineNumberAreaOffset() && getLineNumberAreaOffset() + getLineNumberAreaWidth() >= e.getX()) {
      queue.blockNextEvents(e);
      myEditor.getSettings().setLineNumbersShown(false);
      e.consume();
      return;
    }
  }
  if (getGutterRenderer(e) != null)   return;
  int x=getAnnotationsAreaOffset();
  for (int i=0; i < myTextAnnotationGutters.size(); i++) {
    final int size=myTextAnnotationGutterSizes.get(i);
    if (x <= e.getX() && e.getX() <= x + size + GAP_BETWEEN_ANNOTATIONS) {
      queue.blockNextEvents(e);
      closeAllAnnotations();
      e.consume();
      break;
    }
    x+=size + GAP_BETWEEN_ANNOTATIONS;
  }
}
