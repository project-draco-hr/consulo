{
  if (UISettings.getInstance().PRESENTATION_MODE) {
    return new Dimension(myEditor.getFontMetrics(Font.PLAIN).getHeight(),myEditor.getPreferredHeight());
  }
  int w=getLineNumberAreaWidth() + getLineMarkerAreaWidth() + getFoldingAreaWidth()+ getAnnotationsAreaWidth();
  myLastPreferredHeight=myEditor.getPreferredHeight();
  return new Dimension(w,myLastPreferredHeight);
}
