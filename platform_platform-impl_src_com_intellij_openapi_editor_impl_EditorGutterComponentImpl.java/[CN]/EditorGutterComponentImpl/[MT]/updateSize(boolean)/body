{
  int prevHash=sizeHash();
  updateSizeInner(onLayout);
  if (prevHash != sizeHash()) {
    fireResized();
  }
  repaint();
}
