{
  Graphics2D g2=(Graphics2D)g;
  Object hint=g2.getRenderingHint(RenderingHints.KEY_ANTIALIASING);
  g2.setRenderingHint(RenderingHints.KEY_ANTIALIASING,RenderingHints.VALUE_ANTIALIAS_ON);
  try {
    processRangeHighlighters(firstVisibleOffset,lastVisibleOffset,new RangeHighlighterProcessor(){
      @Override public void process(      RangeHighlighter highlighter){
        paintLineMarkerRenderer(highlighter,g);
      }
    }
);
  }
  finally {
    g2.setRenderingHint(RenderingHints.KEY_ANTIALIASING,hint);
  }
  int firstVisibleLine=myEditor.getDocument().getLineNumber(firstVisibleOffset);
  int lastVisibleLine=myEditor.getDocument().getLineNumber(lastVisibleOffset);
  paintIcons(firstVisibleLine,lastVisibleLine,g);
}
