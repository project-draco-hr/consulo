{
  final Component focusOwner=KeyboardFocusManager.getCurrentKeyboardFocusManager().getFocusOwner();
  if (focusOwner == null)   return null;
  if (focusOwner instanceof JBList) {
    return new PositionAdjuster(SwingUtilities.getWindowAncestor(focusOwner));
  }
  final Component existing=discoverPopup(LangDataKeys.CHOOSE_BY_NAME_DROPDOWN,focusOwner);
  if (existing != null) {
    return new PositionAdjuster2(existing,discoverPopup(LangDataKeys.CHOOSE_BY_NAME_POPUP,focusOwner));
  }
  final Window window=SwingUtilities.getWindowAncestor(focusOwner);
  return window == null ? null : new PositionAdjuster(window);
}
