{
  final List<TextRange> ranges=new SmartList<TextRange>();
  if (mySelectionModel != null && mySelectionModel.hasSelection()) {
    ranges.add(TextRange.create(mySelectionModel.getSelectionStart(),mySelectionModel.getSelectionEnd()));
  }
 else {
    ranges.add(TextRange.create(0,file.getTextLength()));
  }
  return ranges;
}
