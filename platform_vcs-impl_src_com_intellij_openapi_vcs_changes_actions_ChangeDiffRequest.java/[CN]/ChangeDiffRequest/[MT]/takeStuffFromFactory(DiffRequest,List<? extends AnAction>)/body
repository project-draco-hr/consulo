{
  if (mySteps.size() > 1 || (myActionsFactory != null)) {
    request.setToolbarAddons(new DiffRequest.ToolbarAddons(){
      public void customize(      DiffToolbar toolbar){
        if (mySteps.size() > 1) {
          toolbar.addSeparator();
        }
        toolbar.addAction(myPrevChangeAction);
        toolbar.addAction(myNextChangeAction);
        if (myActionsFactory != null) {
          toolbar.addSeparator();
          for (          AnAction action : actions) {
            toolbar.addAction(action);
          }
        }
      }
    }
);
  }
  if (myActionsFactory != null) {
    request.setBottomComponentFactory(new NullableFactory<JComponent>(){
      public JComponent create(){
        return myActionsFactory.createBottomComponent();
      }
    }
);
  }
}
