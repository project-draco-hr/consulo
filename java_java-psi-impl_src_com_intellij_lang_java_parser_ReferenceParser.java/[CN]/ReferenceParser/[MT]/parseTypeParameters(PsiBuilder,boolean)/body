{
  final PsiBuilder.Marker list=builder.mark();
  if (!expect(builder,JavaTokenType.LT)) {
    list.done(JavaElementType.TYPE_PARAMETER_LIST);
    return list;
  }
  while (true) {
    final PsiBuilder.Marker param=parseTypeParameter(builder);
    if (param == null) {
      if (stopOnErrors) {
        list.rollbackTo();
        return null;
      }
      error(builder,JavaErrorMessages.message("expected.type.parameter"));
    }
    if (!expect(builder,JavaTokenType.COMMA)) {
      break;
    }
  }
  if (!expect(builder,JavaTokenType.GT)) {
    if (stopOnErrors) {
      list.rollbackTo();
      return null;
    }
    if (builder.getTokenType() == JavaTokenType.IDENTIFIER) {
      if (builder.lookAhead(1) == JavaTokenType.GT) {
        final PsiBuilder.Marker errorElement=builder.mark();
        builder.advanceLexer();
        errorElement.error(JavaErrorMessages.message("unexpected.identifier"));
        builder.advanceLexer();
      }
 else {
        error(builder,JavaErrorMessages.message("expected.gt"));
      }
    }
 else {
      error(builder,JavaErrorMessages.message("expected.gt"));
    }
  }
  list.done(JavaElementType.TYPE_PARAMETER_LIST);
  return list;
}
