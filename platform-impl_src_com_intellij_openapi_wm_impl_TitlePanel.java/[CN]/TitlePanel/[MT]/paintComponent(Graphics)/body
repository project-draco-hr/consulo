{
  super.paintComponent(g);
  final Graphics2D g2d=(Graphics2D)g;
  g2d.setPaint(new GradientPaint(0,STRUT,myBndColor,0,getHeight(),myCntColor));
  if (mySideButtons.isVisible()) {
    final Rectangle sideRec=SwingUtilities.convertRectangle(mySideButtons.getParent(),mySideButtons.getBounds(),this);
    g2d.fillRect(0,STRUT,getWidth() - sideRec.width,getHeight());
    g2d.setColor(ActivatableLineBorder.INACTIVE_COLOR);
    final Color buttonInnerColor=myActive ? ACTIVE_SIDE_BUTTON_BG : INACTIVE_SIDE_BUTTON_BG;
    g2d.setPaint(new GradientPaint(sideRec.x,sideRec.y,Color.white,sideRec.x,(int)sideRec.getMaxY() - 1,buttonInnerColor));
    g2d.fillRect(sideRec.x + 2,sideRec.y,sideRec.width - 2,sideRec.height);
    Icon separator=myActive ? mySeparatorActive : mySeparatorInactive;
    separator.paintIcon(this,g,sideRec.x,sideRec.y);
  }
 else {
    g2d.fillRect(0,STRUT,getWidth(),getHeight());
  }
}
