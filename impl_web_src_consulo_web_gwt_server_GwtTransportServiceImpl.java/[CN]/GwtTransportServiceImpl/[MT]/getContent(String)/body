{
  final VirtualFile fileByUrl=VirtualFileManager.getInstance().findFileByUrl(fileUrl);
  if (fileByUrl != null) {
    if (fileByUrl.isDirectory() || fileByUrl.getFileType().isBinary()) {
      return null;
    }
    return ApplicationManager.getApplication().runReadAction(new Computable<String>(){
      @Override public String compute(){
        PsiFile file=PsiManager.getInstance(getProject()).findFile(fileByUrl);
        Document document=PsiDocumentManager.getInstance(getProject()).getDocument(file);
        return document.getText();
      }
    }
);
  }
  return null;
}
