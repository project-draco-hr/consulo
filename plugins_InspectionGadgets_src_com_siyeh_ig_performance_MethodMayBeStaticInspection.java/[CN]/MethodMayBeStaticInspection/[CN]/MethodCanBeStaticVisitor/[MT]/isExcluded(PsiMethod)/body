{
  @NonNls final String name=method.getName();
  if ("writeObject".equals(name)) {
    if (!method.hasModifierProperty(PsiModifier.PRIVATE)) {
      return false;
    }
    final PsiReferenceList throwsList=method.getThrowsList();
    final PsiClassType[] thrownTypes=throwsList.getReferencedTypes();
    if (thrownTypes.length != 1) {
      return false;
    }
    if (!thrownTypes[0].equalsToText("java.io.IOException")) {
      return false;
    }
    final PsiType returnType=method.getReturnType();
    if (!PsiType.VOID.equals(returnType)) {
      return false;
    }
    final PsiParameterList parameterList=method.getParameterList();
    if (parameterList.getParametersCount() != 1) {
      return false;
    }
    final PsiParameter parameter=parameterList.getParameters()[0];
    final PsiType type=parameter.getType();
    return type.equalsToText("java.io.ObjectOutputStream");
  }
  if ("readObject".equals(name)) {
    if (!method.hasModifierProperty(PsiModifier.PRIVATE)) {
      return false;
    }
    final PsiReferenceList throwsList=method.getThrowsList();
    final PsiClassType[] thrownTypes=throwsList.getReferencedTypes();
    if (thrownTypes.length != 2) {
      return false;
    }
    if (!thrownTypes[0].equalsToText("java.io.IOException") || !thrownTypes[1].equalsToText("java.lang.ClassNotFoundException")) {
      return false;
    }
    final PsiType returnType=method.getReturnType();
    if (!PsiType.VOID.equals(returnType)) {
      return false;
    }
    final PsiParameterList parameterList=method.getParameterList();
    if (parameterList.getParametersCount() != 1) {
      return false;
    }
    final PsiParameter parameter=parameterList.getParameters()[0];
    final PsiType type=parameter.getType();
    return type.equalsToText("java.io.ObjectInputStream");
  }
  if ("writeReplace".equals(name) || "readResolve".equals(name)) {
    final PsiReferenceList throwsList=method.getThrowsList();
    final PsiClassType[] thrownTypes=throwsList.getReferencedTypes();
    if (thrownTypes.length != 1) {
      return false;
    }
    if (!thrownTypes[0].equalsToText("java.io.ObjectStreamException")) {
      return false;
    }
    final PsiType returnType=method.getReturnType();
    if (returnType == null || !returnType.equalsToText(CommonClassNames.JAVA_LANG_OBJECT)) {
      return false;
    }
    final PsiParameterList parameterList=method.getParameterList();
    return parameterList.getParametersCount() == 0;
  }
  return false;
}
