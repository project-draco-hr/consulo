{
  myFileSpec=fileSpec;
  myRoamingType=roamingType == null ? RoamingType.PER_USER : roamingType;
  myPathMacroSubstitutor=pathMacroSubstitutor;
  myRootElementName=rootElementName;
  myStreamProvider=myRoamingType == RoamingType.DISABLED ? null : streamProvider;
  Disposer.register(parentDisposable,this);
  myLocalVersionProvider=componentVersionProvider;
  myRemoteVersionProvider=streamProvider == null || !streamProvider.isVersioningRequired() ? null : new RemoteComponentVersionProvider();
}
