{
  final List components=element.getChildren(StorageData.COMPONENT);
  List<Element> toDelete=new ArrayList<Element>();
  for (  Object componentObj : components) {
    final Element componentElement=(Element)componentObj;
    final String nameAttr=componentElement.getAttributeValue(StorageData.NAME);
    if (myComponentRoamingManager.getRoamingType(nameAttr) != roamingType) {
      toDelete.add(componentElement);
    }
  }
  for (  Element toDeleteElement : toDelete) {
    element.removeContent(toDeleteElement);
  }
}
