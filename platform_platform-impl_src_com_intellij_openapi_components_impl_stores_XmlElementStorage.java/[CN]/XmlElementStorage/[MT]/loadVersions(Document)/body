{
  THashMap<String,Long> result=new THashMap<String,Long>();
  List list=copy.getRootElement().getChildren(StorageData.COMPONENT);
  for (  Object o : list) {
    if (o instanceof Element) {
      Element component=(Element)o;
      String name=component.getAttributeValue(ATTR_NAME);
      if (name != null) {
        long version=myLocalVersionProvider.getVersion(name);
        if (version != 0) {
          result.put(name,version);
        }
      }
    }
  }
  return result;
}
