{
  StorageUtil.doSendContent(streamProvider,myFileSpec,element,roamingType,true);
  if (streamProvider.isVersioningRequired()) {
    TObjectLongHashMap<String> versions=loadVersions(element.getChildren(StorageData.COMPONENT));
    if (!versions.isEmpty()) {
      Element versionDoc=StateStorageManagerImpl.createComponentVersionsXml(versions);
      StorageUtil.doSendContent(streamProvider,myFileSpec + VERSION_FILE_SUFFIX,versionDoc,roamingType,true);
    }
  }
}
