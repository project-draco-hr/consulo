{
  final String name=myLibrary.getName();
  if (name != null) {
    presentationData.setIcon(AllIcons.Nodes.PpLib);
    presentationData.addText(name,mainAttributes);
    presentationData.addText(LibraryElementPresentation.getLibraryTableComment(myLibrary),commentAttributes);
  }
 else {
    if (((LibraryEx)myLibrary).isDisposed()) {
      presentationData.addText("Invalid Library",SimpleTextAttributes.ERROR_ATTRIBUTES);
      return;
    }
    final VirtualFile[] files=myLibrary.getFiles(BinariesOrderRootType.getInstance());
    if (files.length > 0) {
      final VirtualFile file=files[0];
      presentationData.setIcon(VirtualFilePresentation.getIcon(file));
      presentationData.addText(file.getName(),mainAttributes);
    }
 else {
      presentationData.addText("Empty Library",SimpleTextAttributes.ERROR_ATTRIBUTES);
    }
  }
}
