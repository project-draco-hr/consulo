{
  final RemoteTransferListener.TransferEvent.EventType et;
switch (transferEvent.getEventType()) {
case TransferEvent.TRANSFER_INITIATED:
    et=RemoteTransferListener.TransferEvent.EventType.INITIATED;
  break;
case TransferEvent.TRANSFER_STARTED:
et=RemoteTransferListener.TransferEvent.EventType.STARTED;
break;
case TransferEvent.TRANSFER_PROGRESS:
et=RemoteTransferListener.TransferEvent.EventType.PROGRESS;
break;
case TransferEvent.TRANSFER_COMPLETED:
et=RemoteTransferListener.TransferEvent.EventType.COMPLETED;
break;
case TransferEvent.TRANSFER_ERROR:
et=RemoteTransferListener.TransferEvent.EventType.ERROR;
break;
default :
throw new AssertionError(transferEvent.getEventType());
}
final RemoteTransferListener.TransferEvent.RequestType reqType=transferEvent.getRequestType() == TransferEvent.REQUEST_GET ? RemoteTransferListener.TransferEvent.RequestType.GET : RemoteTransferListener.TransferEvent.RequestType.PUT;
final RemoteTransferListener.Resource resource=new RemoteTransferListener.Resource(transferEvent.getResource().getName(),transferEvent.getResource().getLastModified(),transferEvent.getResource().getContentLength());
return new RemoteTransferListener.TransferEvent(transferEvent.getLocalFile(),et,reqType,resource,transferEvent.getException(),transferEvent.getWagon().getRepository().getUrl());
}
