{
  try {
    final WagonManager wagonManager=(WagonManager)ourContainer.lookup(WagonManager.ROLE);
    if (listener == null) {
      wagonManager.setDownloadMonitor(null);
      return;
    }
    wagonManager.setDownloadMonitor(new TransferListener(){
      public void transferInitiated(      TransferEvent transferEvent){
        try {
          listener.transferInitiated(convert(transferEvent));
        }
 catch (        RemoteException ignored) {
        }
      }
      public void transferStarted(      TransferEvent transferEvent){
        try {
          listener.transferStarted(convert(transferEvent));
        }
 catch (        RemoteException ignored) {
        }
      }
      public void transferProgress(      TransferEvent transferEvent,      byte[] bytes,      int i){
        try {
          listener.transferProgress(convert(transferEvent),i);
        }
 catch (        RemoteException ignored) {
        }
      }
      public void transferCompleted(      TransferEvent transferEvent){
        try {
          listener.transferCompleted(convert(transferEvent));
        }
 catch (        RemoteException ignored) {
        }
      }
      public void transferError(      TransferEvent transferEvent){
        try {
          listener.transferError(convert(transferEvent));
        }
 catch (        RemoteException ignored) {
        }
      }
      public void debug(      String s){
        try {
          listener.debug(s);
        }
 catch (        RemoteException ignored) {
        }
      }
    }
);
  }
 catch (  Exception e) {
    handleException(e);
    throw new AssertionError();
  }
}
