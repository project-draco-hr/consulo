{
  final Map<String,List<ArtifactType>> result=new HashMap<String,List<ArtifactType>>();
  final Map<String,String> idMap=new HashMap<String,String>();
  for (  Artifact artifact : toResolve) {
    idMap.put(artifact.getId(),getCoordinate(artifact));
    result.put(getCoordinate(artifact),new ArrayList<ArtifactType>());
  }
  for (  Artifact artifact : resolvedArtifacts) {
    List<ArtifactType> list=null;
    for (    String s : artifact.getDependencyTrail()) {
      list=result.get(idMap.get(s));
      if (list != null) {
        list.add(toArtifactType(artifact));
        break;
      }
    }
    if (list == null) {
      throw new AssertionError(getCoordinate(artifact));
    }
  }
  return result;
}
