{
  if (CollectHighlightsUtil.isOutsideSourceRootJavaFile(element.getContainingFile()))   return false;
  if (isReferenceInAnonymousClass(reference))   return false;
  if (element instanceof PsiClass && !(element instanceof PsiAnonymousClass) && element.getParent() instanceof PsiFile) {
    MoveClassesOrPackagesImpl.doMove(project,new PsiElement[]{element},LangDataKeys.TARGET_PSI_ELEMENT.getData(dataContext),null);
    return true;
  }
  return false;
}
