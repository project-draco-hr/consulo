{
  if (CollectHighlightsUtil.isOutsideSourceRootJavaFile(element.getContainingFile()))   return false;
  if (isReferenceInAnonymousClass(reference))   return false;
  if (element instanceof PsiClass && !(element instanceof PsiAnonymousClass) && element.getParent() instanceof PsiFile) {
    MoveClassesOrPackagesImpl.doMove(project,new PsiElement[]{element},(PsiElement)dataContext.getData(DataConstantsEx.TARGET_PSI_ELEMENT),null);
    return true;
  }
  return false;
}
