{
  for (  PsiElement element : elements) {
    PsiFile parentFile;
    if (element instanceof PsiJavaFile) {
      final PsiClass[] classes=((PsiJavaFile)element).getClasses();
      if (classes.length == 0)       return false;
      for (      PsiClass aClass : classes) {
        if (aClass instanceof JspClass)         return false;
      }
      parentFile=(PsiFile)element;
    }
 else {
      if (element instanceof JspClass)       return false;
      if (!(element instanceof PsiClass))       return false;
      if (!(element.getParent() instanceof PsiFile))       return false;
      parentFile=(PsiFile)element.getParent();
    }
    if (CollectHighlightsUtil.isOutsideSourceRootJavaFile(parentFile))     return false;
  }
  return super.canMove(elements,targetContainer);
}
