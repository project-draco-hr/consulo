{
  if (o instanceof CategoryNode) {
switch (columnIdx) {
case COLUMN_NAME:
      return ((CategoryNode)o).getName();
default :
    return "";
}
}
 else if (o instanceof PluginNode) {
PluginNode plugin=((PluginNode)o);
switch (columnIdx) {
case COLUMN_NAME:
  return plugin.getName();
case COLUMN_INSTALLED_VERSION:
PluginDescriptor existing=PluginManager.getPlugin(plugin.getName());
if (existing == null) return "n/a";
 else return existing.getVersion();
case COLUMN_VERSION:
if (plugin.getVersion() == null) return "n/a";
 else return plugin.getVersion();
case COLUMN_STATUS:
return PluginNode.STATUS_NAMES[getRealNodeState(plugin)];
case COLUMN_SIZE:
return plugin.getSize();
case COLUMN_DOWNLOADS:
return plugin.getDownloads();
case COLUMN_DATE:
if (plugin.getDate() != null) return new SimpleDateFormat("MMM dd, yyyy HH:mm").format(new Date(Long.valueOf(plugin.getDate()).longValue()));
 else return "n/a";
case COLUMN_CATEGORY:
return ((CategoryNode)plugin.getParent()).getName();
default :
return "?";
}
}
 else if (o instanceof PluginDescriptor) {
switch (columnIdx) {
case COLUMN_NAME:
return ((PluginDescriptor)o).getName();
case COLUMN_VERSION:
case COLUMN_INSTALLED_VERSION:
return ((PluginDescriptor)o).getVersion();
case COLUMN_STATE:
return ((PluginDescriptor)o).isDeleted() ? "Will be removed after restart" : "Installed";
default :
return "?";
}
}
 else return null;
}
