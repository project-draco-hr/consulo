{
  final int offset=editor.getCaretModel().getOffset();
  final XmlAttribute context=PsiTreeUtil.getContextOfType(file,XmlAttribute.class,true);
  if (context != null) {
    if (actionPerformedImpl(file,editor,context,offset)) {
      return;
    }
  }
  final String message=getErrorMessage(editor,file,context);
  CommonRefactoringUtil.showErrorHint(editor.getProject(),editor,"Cannot perform refactoring.\n" + (message != null ? message : getRefactoringName() + " is not available in the current context."),"XSLT - " + getRefactoringName(),null);
}
