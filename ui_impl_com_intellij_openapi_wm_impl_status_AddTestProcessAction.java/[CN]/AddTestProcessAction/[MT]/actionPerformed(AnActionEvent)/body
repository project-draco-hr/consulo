{
  final Project project=e.getData(DataKeys.PROJECT);
  new Task.Backgroundable(project,"Test Process",true){
    public void run(    final ProgressIndicator indicator){
      try {
        countTo(1000,new Count(){
          public void onCount(          int each) throws InterruptedException {
            indicator.setText("Found: " + each / 20 + 1);
            if (each / 10.0 == Math.round(each / 10.0)) {
              indicator.setText(null);
            }
            indicator.setFraction(each / 1000.0);
            Thread.currentThread().sleep(100);
            indicator.checkCanceled();
            indicator.setText2("bla bla bla");
          }
        }
);
        indicator.stop();
      }
 catch (      Exception e1) {
        indicator.stop();
        return;
      }
    }
  }
.queue();
}
