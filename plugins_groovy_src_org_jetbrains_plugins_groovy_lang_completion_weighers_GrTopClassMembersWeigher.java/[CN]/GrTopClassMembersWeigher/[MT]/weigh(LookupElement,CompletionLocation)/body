{
  Object o=element.getObject();
  if (o instanceof ResolveResult) {
    o=((ResolveResult)o).getElement();
  }
  if (!(o instanceof PsiMember))   return 0;
  final PsiElement position=location.getCompletionParameters().getPosition();
  final PsiElement parent=position.getParent();
  if (!(parent instanceof GrReferenceExpression))   return 0;
  final GrExpression qualifier=((GrReferenceExpression)parent).getQualifierExpression();
  final PsiClass psiClass;
  if (qualifier == null) {
    psiClass=PsiUtil.getContextClass(position);
  }
 else {
    final PsiType type=qualifier.getType();
    if (!(type instanceof PsiClassType))     return 0;
    psiClass=((PsiClassType)type).resolve();
  }
  if (psiClass == null)   return 0;
  if (PsiManager.getInstance(location.getProject()).areElementsEquivalent(((PsiMember)o).getContainingClass(),psiClass)) {
    return 1;
  }
  return 0;
}
