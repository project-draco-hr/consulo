{
  Project project=e.getData(DataKeys.PROJECT);
  if (project == null) {
    RepositoryBrowserDialog dialog=new RepositoryBrowserDialog(ProjectManager.getInstance().getDefaultProject());
    dialog.show();
  }
 else {
    ToolWindowManager manager=ToolWindowManager.getInstance(project);
    ToolWindow w=manager.getToolWindow(REPOSITORY_BROWSER_TOOLWINDOW);
    if (w == null) {
      JComponent component=createToolWindowComponent(project);
      w=manager.registerToolWindow(REPOSITORY_BROWSER_TOOLWINDOW,component,ToolWindowAnchor.BOTTOM);
    }
    w.show(null);
    w.activate(null);
  }
}
