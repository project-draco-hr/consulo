{
  Project project=e.getData(CommonDataKeys.PROJECT);
  if (project == null) {
    RepositoryBrowserDialog dialog=new RepositoryBrowserDialog(ProjectManager.getInstance().getDefaultProject());
    dialog.show();
  }
 else {
    ToolWindowManager manager=ToolWindowManager.getInstance(project);
    ToolWindow w=manager.getToolWindow(REPOSITORY_BROWSER_TOOLWINDOW);
    if (w == null) {
      RepositoryToolWindowPanel component=new RepositoryToolWindowPanel(project);
      w=manager.registerToolWindow(REPOSITORY_BROWSER_TOOLWINDOW,true,ToolWindowAnchor.BOTTOM,project,true);
      final Content content=ContentFactory.SERVICE.getInstance().createContent(component,"",false);
      Disposer.register(content,component);
      w.getContentManager().addContent(content);
    }
    w.show(null);
    w.activate(null);
  }
}
