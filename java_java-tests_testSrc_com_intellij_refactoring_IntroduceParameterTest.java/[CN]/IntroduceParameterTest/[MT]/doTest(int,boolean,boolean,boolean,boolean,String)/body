{
  boolean enabled=true;
  try {
    configureByFile("/refactoring/introduceParameter/before" + getTestName(false) + ".java");
    enabled=myEditor.getSettings().isVariableInplaceRenameEnabled();
    myEditor.getSettings().setVariableInplaceRenameEnabled(false);
    perform(true,replaceFieldsWithGetters,"anObject",searchForSuper,declareFinal,removeUnusedParameters,generateDelegate);
    checkResultByFile("/refactoring/introduceParameter/after" + getTestName(false) + ".java");
    if (conflict != null) {
      fail("Conflict expected");
    }
  }
 catch (  BaseRefactoringProcessor.ConflictsInTestsException e) {
    if (conflict == null) {
      throw e;
    }
    assertEquals(conflict,e.getMessage());
  }
 finally {
    myEditor.getSettings().setVariableInplaceRenameEnabled(enabled);
  }
}
