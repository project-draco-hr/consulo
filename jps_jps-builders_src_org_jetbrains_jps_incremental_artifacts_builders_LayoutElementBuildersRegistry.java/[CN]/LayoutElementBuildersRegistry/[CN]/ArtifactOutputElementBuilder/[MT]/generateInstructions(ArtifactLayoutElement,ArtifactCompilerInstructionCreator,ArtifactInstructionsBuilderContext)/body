{
  final Artifact artifact=element.findArtifact(builderContext.getProject());
  if (artifact == null)   return;
  final String outputPath=artifact.getOutputPath();
  if (StringUtil.isEmpty(outputPath)) {
    generateSubstitutionInstructions(element,instructionCreator,builderContext);
    return;
  }
  final LayoutElement rootElement=artifact.getRootElement();
  final File outputDir=new File(FileUtil.toSystemDependentName(outputPath));
  if (rootElement instanceof ArchiveElement) {
    final String fileName=((ArchiveElement)rootElement).getName();
    instructionCreator.addFileCopyInstruction(new File(outputDir,fileName),fileName);
  }
 else {
    instructionCreator.addDirectoryCopyInstructions(outputDir);
  }
}
