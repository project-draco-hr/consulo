{
  MyState state=new MyState();
  myEditorSource=source;
  myLineMarker.attach(myEditorSource);
  Editor editor=myEditorSource.getEditor();
  if (editor == null) {
    insertComponent(MOCK_COMPONENT);
    return;
  }
  editor.getScrollingModel().scrollHorizontally(0);
  insertComponent(editor.getComponent());
  applyHighlighter();
  setMouseListeners(source);
  MyEditorFocusListener.install(this);
  state.restore();
}
