{
  while (t1 instanceof PsiArrayType) {
    if (!(t2 instanceof PsiArrayType))     return false;
    t1=((PsiArrayType)t1).getComponentType();
    t2=((PsiArrayType)t2).getComponentType();
  }
  if (t1 instanceof PsiPrimitiveType) {
    return t2 instanceof PsiPrimitiveType && t1.equals(t2);
  }
  return manager.areElementsEquivalent(PsiUtil.resolveClassInType(t1),PsiUtil.resolveClassInType(t2));
}
