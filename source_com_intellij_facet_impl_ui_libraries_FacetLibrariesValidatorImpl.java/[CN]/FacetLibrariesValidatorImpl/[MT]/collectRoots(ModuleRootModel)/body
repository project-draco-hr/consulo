{
  ArrayList<VirtualFile> roots=new ArrayList<VirtualFile>();
  roots.addAll(myAddedRoots);
  for (  Library library : myAddedLibraries) {
    roots.addAll(Arrays.asList(myContext.getFiles(library,OrderRootType.CLASSES)));
  }
  if (rootModel != null) {
    RootPolicy<List<VirtualFile>> policy=new CollectingLibrariesPolicy();
    rootModel.processOrder(policy,roots);
  }
  return roots;
}
