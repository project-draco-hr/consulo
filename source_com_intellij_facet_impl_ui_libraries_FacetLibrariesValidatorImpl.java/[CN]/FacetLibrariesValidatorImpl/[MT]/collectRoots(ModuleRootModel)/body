{
  ArrayList<VirtualFile> roots=new ArrayList<VirtualFile>();
  if (myLibraryCompositionSettings != null) {
    roots.addAll(myLibraryCompositionSettings.getAddedJars());
    for (    Library library : myLibraryCompositionSettings.getUsedLibraries()) {
      roots.addAll(Arrays.asList(myContext.getLibrariesContainer().getLibraryFiles(library,OrderRootType.CLASSES)));
    }
  }
  if (rootModel != null) {
    RootPolicy<List<VirtualFile>> policy=new CollectingLibrariesPolicy();
    rootModel.processOrder(policy,roots);
  }
  return roots;
}
