{
  if (myRequiredLibraries == null) {
    return ValidationResult.OK;
  }
  ModuleRootModel rootModel=myContext.getRootModel();
  List<VirtualFile> usedLibraries=collectRoots(rootModel);
  RequiredLibrariesInfo.RequiredClassesNotFoundInfo info=myRequiredLibraries.checkLibraries(usedLibraries.toArray(new VirtualFile[usedLibraries.size()]));
  if (info == null) {
    return ValidationResult.OK;
  }
  String missingJars=IdeBundle.message("label.missed.libraries.prefix") + " " + info.getMissingJarsText();
  final String text=IdeBundle.message("label.missed.libraries.text",missingJars,info.getClassNames()[0]);
  return new ValidationResult(text,new LibrariesQuickFix(info.getLibraryInfos()));
}
