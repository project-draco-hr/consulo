{
  LibraryDownloadingMirrorsMap mirrorsMap=new LibraryDownloadingMirrorsMap();
  for (  LibraryInfo libraryInfo : myLibrarySettings.getLibraryInfos()) {
    LibraryDownloadInfo downloadingInfo=libraryInfo.getDownloadingInfo();
    if (downloadingInfo != null) {
      RemoteRepositoryInfo repositoryInfo=downloadingInfo.getRemoteRepository();
      if (repositoryInfo != null) {
        mirrorsMap.registerRepository(repositoryInfo);
      }
    }
  }
  LibraryCompositionOptionsPanel panel=new LibraryCompositionOptionsPanel(myLibrariesContainer,myLibrarySettings,mirrorsMap);
  LibraryCompositionDialog dialog=new LibraryCompositionDialog(place,panel,mirrorsMap);
  dialog.show();
  myValidator.onChange();
}
