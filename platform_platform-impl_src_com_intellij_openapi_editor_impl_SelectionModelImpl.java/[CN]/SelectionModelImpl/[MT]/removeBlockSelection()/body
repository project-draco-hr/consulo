{
  if (hasBlockSelection()) {
    myEditor.repaint(0,myEditor.getDocument().getTextLength());
    final int[] oldStarts=getBlockSelectionStarts();
    final int[] oldEnds=getBlockSelectionEnds();
    myBlockStart=null;
    myBlockEnd=null;
    final int[] newStarts=getBlockSelectionStarts();
    final int[] newEnds=getBlockSelectionEnds();
    broadcastSelectionEvent(new SelectionEvent(myEditor,oldStarts,oldEnds,newStarts,newEnds));
  }
}
