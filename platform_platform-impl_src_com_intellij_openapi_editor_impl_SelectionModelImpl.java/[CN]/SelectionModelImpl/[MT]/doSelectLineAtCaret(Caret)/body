{
  Editor editor=caret.getEditor();
  int lineNumber=caret.getLogicalPosition().line;
  Document document=editor.getDocument();
  if (lineNumber >= document.getLineCount()) {
    return;
  }
  Pair<LogicalPosition,LogicalPosition> lines=EditorUtil.calcCaretLineRange(caret);
  LogicalPosition lineStart=lines.first;
  LogicalPosition nextLineStart=lines.second;
  int start=editor.logicalPositionToOffset(lineStart);
  int end=editor.logicalPositionToOffset(nextLineStart);
  editor.getScrollingModel().scrollToCaret(ScrollType.RELATIVE);
  caret.removeSelection();
  caret.setSelection(start,end);
}
