{
  if (hasSelection()) {
    return new int[]{getSelectionEnd()};
  }
 else   if (!hasBlockSelection() || myBlockSelectionEnds == null) {
    return ArrayUtil.EMPTY_INT_ARRAY;
  }
 else {
    return myBlockSelectionEnds;
  }
}
