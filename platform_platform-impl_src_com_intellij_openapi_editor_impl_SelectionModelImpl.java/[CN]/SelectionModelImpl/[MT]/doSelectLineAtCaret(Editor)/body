{
  int lineNumber=editor.getCaretModel().getLogicalPosition().line;
  Document document=editor.getDocument();
  if (lineNumber >= document.getLineCount()) {
    return;
  }
  Pair<LogicalPosition,LogicalPosition> lines=EditorUtil.calcCaretLineRange(editor);
  LogicalPosition lineStart=lines.first;
  LogicalPosition nextLineStart=lines.second;
  int start=editor.logicalPositionToOffset(lineStart);
  int end=editor.logicalPositionToOffset(nextLineStart);
  editor.getScrollingModel().scrollToCaret(ScrollType.RELATIVE);
  editor.getSelectionModel().removeSelection();
  editor.getSelectionModel().setSelection(start,end);
}
