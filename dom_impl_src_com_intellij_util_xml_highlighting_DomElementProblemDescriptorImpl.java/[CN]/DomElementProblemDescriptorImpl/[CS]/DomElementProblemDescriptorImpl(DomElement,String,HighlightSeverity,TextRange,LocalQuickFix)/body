{
  myDomElement=domElement;
  final XmlElement element=domElement.getXmlElement();
  if (element != null) {
    LOG.assertTrue(element.isPhysical(),"Problems may not be created for non-physical DOM elements");
  }
  mySeverity=type;
  myMessage=message;
  myFixes=fixes;
  if (textRange != null) {
    final PsiElement psiElement=getPsiElement();
    LOG.assertTrue(psiElement != null,"Problems with explicit text range can't be created for DOM elements without underlying XML element");
    myPair=new Pair<TextRange,PsiElement>(textRange,psiElement);
  }
}
