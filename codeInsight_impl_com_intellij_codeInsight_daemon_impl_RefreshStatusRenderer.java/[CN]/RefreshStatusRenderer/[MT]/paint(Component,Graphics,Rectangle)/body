{
  DaemonCodeAnalyzerStatus status=getDaemonCodeAnalyzerStatus();
  Icon icon;
  if (status == null) {
    icon=NO_ICON;
  }
 else   if (status.noHighlightingRoots != null && status.noHighlightingRoots.length == status.rootsNumber) {
    icon=NO_ANALYSIS_ICON;
  }
 else   if (!status.errorAnalyzingFinished) {
    icon=IN_PROGRESS_ICON;
  }
 else {
    icon=HighlightDisplayLevel.DO_NOT_SHOW.getIcon();
    for (int i=status.errorCount.length - 1; i >= 0; i--) {
      if (status.errorCount[i] != 0) {
        icon=HighlightDisplayLevel.createIconByMask(SeverityRegistrar.getRendererColorByIndex(i));
        break;
      }
    }
    boolean inspecting=!status.inspectionFinished;
    if (inspecting) {
      icon=IconUtilEx.createLayeredIcon(icon,INSPECTION_ICON);
    }
  }
  int height=icon.getIconHeight();
  int width=icon.getIconWidth();
  icon.paintIcon(c,g,r.x + (r.width - width) / 2,r.y + (r.height - height) / 2);
}
