{
  DaemonCodeAnalyzerStatus status=getDaemonCodeAnalyzerStatus();
  Icon icon;
  if (status == null) {
    icon=NO_ICON;
  }
 else   if (status.noHighlightingRoots != null && status.noHighlightingRoots.length == status.rootsNumber) {
    icon=NO_ANALYSIS_ICON;
  }
 else {
    Icon inProgressMask=null;
    boolean atLeastOnePassFinished=status.errorAnalyzingFinished;
    for (    DaemonCodeAnalyzerStatus.PassStatus passStatus : status.passStati) {
      atLeastOnePassFinished|=passStatus.finished;
      if (!passStatus.finished) {
        Icon progressIcon=passStatus.inProgressIcon;
        if (progressIcon != null) {
          inProgressMask=inProgressMask == null ? progressIcon : IconUtilEx.createLayeredIcon(inProgressMask,progressIcon);
        }
      }
    }
    icon=status.errorAnalyzingFinished ? HighlightDisplayLevel.DO_NOT_SHOW.getIcon() : IN_PROGRESS_ICON;
    if (atLeastOnePassFinished) {
      for (int i=status.errorCount.length - 1; i >= 0; i--) {
        if (status.errorCount[i] != 0) {
          icon=HighlightDisplayLevel.createIconByMask(SeverityRegistrar.getRendererColorByIndex(i));
          break;
        }
      }
    }
    if (inProgressMask != null) {
      icon=IconUtilEx.createLayeredIcon(icon,inProgressMask);
    }
  }
  int height=icon.getIconHeight();
  int width=icon.getIconWidth();
  icon.paintIcon(c,g,r.x + (r.width - width) / 2,r.y + (r.height - height) / 2);
}
