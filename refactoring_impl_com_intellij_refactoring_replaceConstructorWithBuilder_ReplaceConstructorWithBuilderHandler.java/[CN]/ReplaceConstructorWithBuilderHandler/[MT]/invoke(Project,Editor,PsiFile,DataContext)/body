{
  final int offset=editor.getCaretModel().getOffset();
  final PsiElement element=file.findElementAt(offset);
  final PsiClass psiClass=PsiTreeUtil.getParentOfType(element,PsiClass.class);
  if (psiClass == null) {
    showErrorMessage("The caret should be positioned inside a class which constructors are to be replaced with builder.",project);
    return;
  }
  final PsiMethod[] constructors=psiClass.getConstructors();
  if (constructors.length == 0) {
    showErrorMessage("Current class doesn't have constructors to replace with builder.",project);
    return;
  }
  new ReplaceConstructorWithBuilderDialog(project,constructors).show();
}
