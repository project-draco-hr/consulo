{
  Set<PackagingArtifact> owners=getOwners();
  Collection<LibraryLink> parentLibraryLinks=getParentLibraryLinks();
  if (!parentLibraryLinks.isEmpty()) {
    StringBuilder librariesNames=new StringBuilder();
    for (    LibraryLink link : parentLibraryLinks) {
      if (librariesNames.length() > 0)       librariesNames.append(", ");
      librariesNames.append('\'').append(link.getPresentableName()).append('\'');
    }
    String message=ProjectBundle.message("message.text.individial.files.cannot.be.removed.from.packaging.do.you.want.to.remove.the.whole.libraries",librariesNames.toString(),parentLibraryLinks.size());
    int answer=Messages.showYesNoDialog(editor.getMainPanel(),message,ProjectBundle.message("dialog.title.packaging.remove.included"),null);
    if (answer != 0) {
      return false;
    }
  }
  if (!owners.isEmpty()) {
    String message;
    if (owners.size() == 1 && getContainerElements().isEmpty()) {
      PackagingArtifact artifact=owners.iterator().next();
      message=ProjectBundle.message("message.text.packaging.selected.item.belongs.to.0.do.you.want.to.exlude.1.from.2",artifact.getDisplayName(),artifact.getDisplayName(),editor.getRootArtifact().getDisplayName());
    }
 else {
      StringBuilder ownersBuffer=new StringBuilder();
      for (      PackagingArtifact owner : owners) {
        if (ownersBuffer.length() > 0) {
          ownersBuffer.append(", ");
        }
        ownersBuffer.append(owner.getDisplayName());
      }
      message=ProjectBundle.message("message.text.packaging.do.you.want.to.exlude.0.from.1",ownersBuffer,editor.getRootArtifact().getDisplayName());
    }
    int answer=Messages.showYesNoDialog(editor.getMainPanel(),message,ProjectBundle.message("dialog.title.packaging.remove.included"),null);
    if (answer != 0) {
      return false;
    }
  }
  return true;
}
