{
  List<FilePatch> failedToApply=ContainerUtil.newArrayList();
  myDelayedPrecheckContext=new DelayedPrecheckContext(myProject);
  for (  FilePatch patch : myPatches) {
    final CheckPath checker=getChecker(patch);
    if (!checker.canBeApplied(myDelayedPrecheckContext)) {
      revert(checker.getErrorMessage());
      failedToApply.add(patch);
    }
  }
  final Collection<FilePatch> skipped=myDelayedPrecheckContext.doDelayed();
  mySkipped.addAll(skipped);
  myPatches.removeAll(skipped);
  myPatches.removeAll(failedToApply);
  return failedToApply;
}
