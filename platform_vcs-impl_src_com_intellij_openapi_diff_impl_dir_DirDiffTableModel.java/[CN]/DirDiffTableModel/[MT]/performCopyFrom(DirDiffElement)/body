{
  final DiffElement<?> target=element.getTarget();
  if (target != null) {
    final String path=element.getParentNode().getPath();
    final AccessToken token=ApplicationManager.getApplication().acquireWriteActionLock(getClass());
    try {
      final DiffElement<?> diffElement=target.copyTo(mySrc,path);
      if (diffElement != null) {
        final DTree node=element.getNode();
        final int row=myElements.indexOf(element);
        if (getSettings().showEqual) {
          node.setType(DType.EQUAL);
          node.setSource(diffElement);
          element.updateSourceFromTarget(target);
          fireTableRowsUpdated(row,row);
        }
 else {
          element.getParentNode().remove(node);
          myElements.remove(row);
          fireTableRowsDeleted(row,row);
        }
      }
    }
  finally {
      token.finish();
    }
  }
}
