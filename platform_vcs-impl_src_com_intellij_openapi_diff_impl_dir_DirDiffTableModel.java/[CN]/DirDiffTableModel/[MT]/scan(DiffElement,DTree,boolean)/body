{
  if (!myUpdating.get())   return;
  if (element.isContainer()) {
    text.set(prepareText(element.getPath()));
    final DiffElement[] children=element.getChildren();
    for (    DiffElement child : children) {
      Disposer.register(element,child);
    }
    for (    DiffElement child : children) {
      if (!myUpdating.get())       return;
      scan(child,root.addChild(child,source),source);
    }
  }
}
