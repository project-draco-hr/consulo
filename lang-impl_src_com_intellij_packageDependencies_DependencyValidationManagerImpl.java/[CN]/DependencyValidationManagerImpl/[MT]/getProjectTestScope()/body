{
  if (myProjectTestScope == null) {
    final ProjectFileIndex index=ProjectRootManager.getInstance(myProject).getFileIndex();
    myProjectTestScope=new NamedScope(IdeBundle.message("predefined.scope.tests.name"),new PackageSet(){
      public boolean contains(      PsiFile file,      NamedScopesHolder holder){
        final VirtualFile virtualFile=file.getVirtualFile();
        return file.getProject() == myProject && virtualFile != null && index.isInTestSourceContent(virtualFile);
      }
      public PackageSet createCopy(){
        return this;
      }
      public String getText(){
        return PatternPackageSet.SCOPE_TEST + ":*..*";
      }
      public int getNodePriority(){
        return 0;
      }
    }
);
  }
  return myProjectTestScope;
}
