{
  Element element=super.getState();
  try {
    DefaultJDOMExternalizer.writeExternal(this,element);
  }
 catch (  WriteExternalException e) {
    LOG.info(e);
  }
  final List<String> unnamedScopes=new ArrayList<String>(myUnnamedScopes.keySet());
  Collections.sort(unnamedScopes);
  for (  final String unnamedScope : unnamedScopes) {
    Element unnamedElement=new Element(UNNAMED_SCOPE);
    unnamedElement.setAttribute(VALUE,unnamedScope);
    element.addContent(unnamedElement);
  }
  for (  DependencyRule rule : myRules) {
    Element ruleElement=writeRule(rule);
    if (ruleElement != null) {
      element.addContent(ruleElement);
    }
  }
  return element;
}
