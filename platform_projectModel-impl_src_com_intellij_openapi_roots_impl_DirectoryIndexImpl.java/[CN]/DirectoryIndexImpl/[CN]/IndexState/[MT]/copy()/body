{
  final IndexState copy=new IndexState();
  myExcludeRootsMap.forEachEntry(new TObjectObjectProcedure<VirtualFile,Set<String>>(){
    @Override public boolean execute(    VirtualFile key,    Set<String> value){
      copy.myExcludeRootsMap.put(key,new THashSet<String>(value));
      return true;
    }
  }
);
  copy.myProjectExcludeRoots.addAll(myProjectExcludeRoots);
  copy.myDirToInfoMap.putAll(myDirToInfoMap);
  myPackageNameToDirsMap.forEachEntry(new TObjectObjectProcedure<String,List<VirtualFile>>(){
    @Override public boolean execute(    String key,    List<VirtualFile> value){
      copy.myPackageNameToDirsMap.put(key,new SmartList<VirtualFile>(value));
      return true;
    }
  }
);
  copy.myDirToPackageName.putAll(myDirToPackageName);
  return copy;
}
