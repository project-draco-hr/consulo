{
  if (virtualFile == null) {
    return "file not specified";
  }
  Charset charset=cachedCharsetFromContent(virtualFile);
  if (charset != null) {
    return "charset specified inside the file";
  }
  if (virtualFile.isDirectory()) {
    return null;
  }
  FileType fileType=virtualFile.getFileType();
  if (fileType.isBinary())   return "binary file";
  if (fileType == StdFileTypes.GUI_DESIGNER_FORM)   return "IDEA GUI Designer form";
  if (fileType == StdFileTypes.IDEA_MODULE)   return "IDEA module file";
  if (fileType == StdFileTypes.IDEA_PROJECT)   return "IDEA project file";
  if (fileType == StdFileTypes.IDEA_WORKSPACE)   return "IDEA workspace file";
  if (fileType == StdFileTypes.PROPERTIES)   return ".properties file";
  if (fileType == StdFileTypes.XML || fileType == StdFileTypes.JSPX && fileType != FileTypes.PLAIN_TEXT) {
    return "XML file";
  }
  return null;
}
