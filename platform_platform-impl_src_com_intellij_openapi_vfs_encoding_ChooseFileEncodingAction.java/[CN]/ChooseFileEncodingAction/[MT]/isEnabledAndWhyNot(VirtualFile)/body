{
  if (virtualFile == null) {
    return "file not specified";
  }
  Charset charset=cachedCharsetFromContent(virtualFile);
  if (charset != null) {
    return "charset specified inside the file";
  }
  if (virtualFile.isDirectory()) {
    return null;
  }
  FileType fileType=FileTypeManager.getInstance().getFileTypeByFile(virtualFile);
  if (fileType.isBinary())   return "binary file";
  if (fileType == StdFileTypes.GUI_DESIGNER_FORM || fileType == StdFileTypes.IDEA_MODULE || fileType == StdFileTypes.IDEA_PROJECT || fileType == StdFileTypes.IDEA_WORKSPACE || fileType == StdFileTypes.PATCH)   return "IDEA internal file";
  if (fileType == StdFileTypes.PROPERTIES)   return ".properties file";
  if (fileType == StdFileTypes.XML || fileType == StdFileTypes.JSPX && fileType != FileTypes.PLAIN_TEXT) {
    return "XML file";
  }
  return null;
}
