{
  for (  final Charset slave : charsets) {
    ChangeFileEncodingTo action=new ChangeFileEncodingTo(virtualFile,slave,pattern){
{
        if (charsetFilter != null && !charsetFilter.value(slave)) {
          getTemplatePresentation().setIcon(AllIcons.General.Warning);
        }
      }
      @Override public void update(      AnActionEvent e){
      }
      @Override protected void chosen(      final VirtualFile file,      @NotNull final Charset charset){
        ChooseFileEncodingAction.this.chosen(file,charset);
      }
    }
;
    group.add(action);
  }
}
