{
  DefaultActionGroup toolBarGroup=new DefaultActionGroup();
  final ShowDiffAction diffAction=new ShowDiffAction(){
    public void actionPerformed(    AnActionEvent e){
      showDiff();
    }
  }
;
  final MoveChangesToAnotherListAction moveAction=new MoveChangesToAnotherListAction(){
    public void actionPerformed(    AnActionEvent e){
      super.actionPerformed(e);
      rebuildList();
    }
  }
;
  diffAction.registerCustomShortcutSet(new CustomShortcutSet(KeyStroke.getKeyStroke(KeyEvent.VK_D,SystemInfo.isMac ? KeyEvent.META_DOWN_MASK : KeyEvent.CTRL_DOWN_MASK)),myViewer);
  moveAction.registerCustomShortcutSet(CommonShortcuts.getMove(),myViewer);
  ToggleShowDirectoriesAction directoriesAction=new ToggleShowDirectoriesAction();
  directoriesAction.registerCustomShortcutSet(new CustomShortcutSet(KeyStroke.getKeyStroke(KeyEvent.VK_P,SystemInfo.isMac ? KeyEvent.META_DOWN_MASK : KeyEvent.CTRL_DOWN_MASK)),myViewer);
  toolBarGroup.add(diffAction);
  toolBarGroup.add(moveAction);
  toolBarGroup.add(directoriesAction);
  if (myAdditionalToolbarActions != null) {
    toolBarGroup.addSeparator();
    toolBarGroup.add(myAdditionalToolbarActions);
  }
  return ActionManager.getInstance().createActionToolbar(ActionPlaces.UNKNOWN,toolBarGroup,true).getComponent();
}
