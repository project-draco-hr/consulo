{
  AllowedValues allowed=getAllowedValues(owner,type,null);
  if (allowed == null)   return;
  PsiElement scope=PsiUtil.getTopLevelEnclosingCodeBlock(expression,null);
  if (scope == null)   scope=expression;
  if (!isAllowed(scope,expression,allowed,expression.getManager(),null)) {
    registerProblem(expression,allowed,holder);
  }
}
