{
  listenForProjectsChanges();
  if (isUnitTestMode())   return;
  final MessageBusConnection connect=myProject.getMessageBus().connect();
  connect.subscribe(ProjectTopics.MODULES,new ModuleAdapter(){
    @Override public void moduleAdded(    Project project,    Module module){
      if (ModuleUtilCore.getExtension(module,JavaModuleExtensionImpl.class) != null) {
        MavenUtil.runWhenInitialized(myProject,new DumbAwareRunnable(){
          @Override public void run(){
            initToolWindow();
          }
        }
);
        connect.disconnect();
      }
    }
  }
);
}
