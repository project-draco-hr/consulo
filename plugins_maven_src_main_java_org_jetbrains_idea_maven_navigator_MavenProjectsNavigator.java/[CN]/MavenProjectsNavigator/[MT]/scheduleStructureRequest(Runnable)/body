{
  if (isUnitTestMode()) {
    r.run();
    return;
  }
  if (myToolWindow == null)   return;
  MavenUtil.invokeLater(myProject,new Runnable(){
    public void run(){
      if (!myToolWindow.isVisible())       return;
      boolean shouldCreate=myStructure == null;
      if (shouldCreate) {
        initStructure();
      }
      r.run();
      if (shouldCreate) {
        if (myState.treeState != null) {
          TreeState treeState=new TreeState();
          try {
            treeState.readExternal(myState.treeState);
            treeState.applyTo(myTree);
          }
 catch (          InvalidDataException e) {
            MavenLog.LOG.info(e);
          }
        }
      }
    }
  }
);
}
