{
  final PerArtifactTimestamp newItem=new PerArtifactTimestamp(artifactId,timestamp);
  if (oldState == null) {
    return new PerArtifactTimestamp[]{newItem};
  }
  for (int i=0, length=oldState.length; i < length; i++) {
    if (oldState[i].myArtifactId == artifactId) {
      oldState[i]=newItem;
      return oldState;
    }
  }
  return ArrayUtil.append(oldState,newItem);
}
