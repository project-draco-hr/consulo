{
  final Map<MyResourceEntry,List<PsiElement>> result=new HashMap<MyResourceEntry,List<PsiElement>>();
  List<Pair<Resources,VirtualFile>> resourceFiles=resManager.getResourceElements();
  for (  Pair<Resources,VirtualFile> pair : resourceFiles) {
    final Resources res=pair.getFirst();
    for (    ResourceType valueResourceType : AndroidResourceUtil.VALUE_RESOURCE_TYPES) {
      for (      ResourceElement valueResource : AndroidResourceUtil.getValueResourcesFromElement(valueResourceType.getName(),res)) {
        addResource(valueResourceType.getName(),valueResource,result);
      }
    }
    for (    Attr attr : res.getAttrs()) {
      addResource("attr",attr,result);
    }
    for (    DeclareStyleable styleable : res.getDeclareStyleables()) {
      addResource("styleable",styleable,result);
      for (      Attr attr : styleable.getAttrs()) {
        addResource("attr",attr,result);
      }
    }
  }
  collectFileResources(project,resManager,result);
  return result;
}
