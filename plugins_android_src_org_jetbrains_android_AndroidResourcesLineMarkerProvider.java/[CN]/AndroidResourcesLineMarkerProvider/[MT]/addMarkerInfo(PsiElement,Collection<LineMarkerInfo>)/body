{
  PsiFile containingFile=element.getContainingFile();
  if (element instanceof PsiFile) {
    PsiField[] fields=AndroidResourceUtil.findResourceFieldsForFileResource((PsiFile)element,false);
    if (fields.length > 0)     result.add(createLineMarkerInfo(element,fields));
  }
 else   if (containingFile != null) {
    if (element instanceof PsiClass) {
      PsiClass c=(PsiClass)element;
      if (AndroidUtils.R_CLASS_NAME.equals(c.getName())) {
        AndroidFacet facet=AndroidFacet.getInstance(element);
        if (facet != null && AndroidUtils.isRClassFile(facet,containingFile)) {
          LocalResourceManager manager=facet.getLocalResourceManager();
          annotateRClass((PsiClass)element,result,manager);
        }
      }
    }
 else     if (element instanceof XmlAttributeValue) {
      annotateXmlAttributeValue((XmlAttributeValue)element,result);
    }
 else     if (element instanceof PsiReferenceExpression) {
      PsiElement targetElement=((PsiReferenceExpression)element).resolve();
      if (targetElement instanceof PsiField) {
        PsiField targetField=(PsiField)targetElement;
        PsiFile file=targetField.getContainingFile();
        if (file != null && AndroidResourceUtil.isRJavaField(file,targetField)) {
          annotateElementNavToResource(element,targetField,LocalResourceManager.getInstance(containingFile),result,null,true);
        }
      }
    }
  }
}
