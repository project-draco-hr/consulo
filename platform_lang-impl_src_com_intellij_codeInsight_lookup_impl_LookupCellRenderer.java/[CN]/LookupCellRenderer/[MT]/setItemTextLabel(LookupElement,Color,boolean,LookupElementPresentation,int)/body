{
  boolean bold=presentation.isItemTextBold();
  myNameComponent.setFont(bold ? myBoldFont : myNormalFont);
  int style=getStyle(bold,presentation.isStrikeout(),presentation.isItemTextUnderlined());
  final FontMetrics metrics=bold ? myBoldMetrics : myNormalMetrics;
  final String name=trimLabelText(presentation.getItemText(),allowedWidth,metrics);
  int used=RealLookupElementPresentation.getStringWidth(name,metrics);
  renderItemName(item,foreground,selected,style,name,myNameComponent);
  return used;
}
