{
  final Icon icon=p.getIcon();
  if (icon != null && (icon.getIconWidth() > myEmptyIcon.getIconWidth() || icon.getIconHeight() > myEmptyIcon.getIconHeight())) {
    myEmptyIcon=new EmptyIcon(Math.max(icon.getIconWidth(),myEmptyIcon.getIconWidth()),Math.max(icon.getIconHeight(),myEmptyIcon.getIconHeight()));
  }
  return RealLookupElementPresentation.calculateWidth(p,getRealFontMetrics(item,false),getRealFontMetrics(item,true)) + AFTER_TAIL + AFTER_TYPE;
}
