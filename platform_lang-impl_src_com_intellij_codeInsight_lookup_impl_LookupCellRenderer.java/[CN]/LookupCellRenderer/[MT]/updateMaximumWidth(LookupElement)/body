{
  final LookupElementPresentation p=new LookupElementPresentation();
  item.renderElement(p);
  final Icon icon=p.getIcon();
  if (icon != null && icon.getIconWidth() > myEmptyIcon.getIconWidth()) {
    myEmptyIcon=new EmptyIcon(icon.getIconWidth(),2);
  }
  int maxWidth=Math.min(RealLookupElementPresentation.calculateWidth(p,myNormalMetrics,myBoldMetrics),myMaxWidth);
  return maxWidth + getCommonIconWidth();
}
