{
  final LookupElementPresentation p=new LookupElementPresentation(false);
  item.renderElement(p);
  final Icon icon=p.getIcon();
  if (icon != null && icon.getIconWidth() > myEmptyIcon.getIconWidth()) {
    myEmptyIcon=new EmptyIcon(icon.getIconWidth(),2);
  }
  int maxWidth=Math.min(calculateWidth(p),MAX_LENGTH * myFontWidth);
  return maxWidth + myEmptyIcon.getIconWidth() + myNameComponent.getIconTextGap()+ myFontWidth;
}
