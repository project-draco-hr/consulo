{
  super(new BorderLayout());
  boolean checkSpelling=true;
  VcsConfiguration configuration=VcsConfiguration.getInstance(project);
  if (configuration != null) {
    checkSpelling=configuration.CHECK_COMMIT_MESSAGE_SPELLING;
  }
  myEditorField=createEditorField(project,checkSpelling);
  myProject=project;
  add(myEditorField,BorderLayout.CENTER);
  JPanel labelPanel=new JPanel(new BorderLayout());
  labelPanel.setBorder(BorderFactory.createEmptyBorder());
  JComponent separator=SeparatorFactory.createSeparator(VcsBundle.message("label.commit.comment"),myEditorField.getComponent(),true,true);
  JPanel separatorPanel=new JPanel(new BorderLayout());
  separatorPanel.add(separator,BorderLayout.SOUTH);
  separatorPanel.add(Box.createVerticalGlue(),BorderLayout.NORTH);
  labelPanel.add(separatorPanel,BorderLayout.CENTER);
  ActionToolbar toolbar=ActionManager.getInstance().createActionToolbar(ActionPlaces.UNKNOWN,getToolbarActions(),true);
  toolbar.updateActionsImmediately();
  toolbar.setReservePlaceAutoPopupIcon(false);
  toolbar.getComponent().setBorder(BorderFactory.createEmptyBorder());
  labelPanel.add(toolbar.getComponent(),BorderLayout.EAST);
  add(labelPanel,BorderLayout.NORTH);
  setBorder(BorderFactory.createEmptyBorder());
}
