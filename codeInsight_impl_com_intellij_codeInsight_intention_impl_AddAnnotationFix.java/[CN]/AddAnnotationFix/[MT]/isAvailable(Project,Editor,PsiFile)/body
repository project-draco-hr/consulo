{
  if (myModifierListOwner != null) {
    return myModifierListOwner.isValid() && PsiManager.getInstance(project).isInProject(myModifierListOwner) && myModifierListOwner.getModifierList() != null;
  }
  if (!file.getManager().isInProject(file)) {
    final PsiElement element=file.findElementAt(editor.getCaretModel().getOffset());
    if (element != null) {
      final PsiElement parent=element.getParent();
      if (parent instanceof PsiMethod) {
        return true;
      }
      if (parent instanceof PsiField) {
        return true;
      }
      if (parent instanceof PsiParameter) {
        return true;
      }
    }
  }
  return false;
}
