{
  if (myModifierListOwner != null) {
    return myModifierListOwner.isValid() && PsiManager.getInstance(project).isInProject(myModifierListOwner) && myModifierListOwner.getModifierList() != null;
  }
  if (!file.getManager().isInProject(file)) {
    final PsiElement element=file.findElementAt(editor.getCaretModel().getOffset());
    if (element != null) {
      final PsiElement parent=element.getParent();
      PsiModifierListOwner owner=null;
      PsiType checkedType=null;
      if (parent instanceof PsiModifierListOwner) {
        if (parent instanceof PsiMethod) {
          final PsiMethod method=(PsiMethod)parent;
          checkedType=method.getReturnType();
          owner=method;
        }
 else         if (parent instanceof PsiVariable) {
          final PsiVariable variable=(PsiVariable)parent;
          checkedType=variable.getType();
          owner=variable;
        }
      }
      return owner != null && !(checkedType instanceof PsiPrimitiveType) && !AnnotationUtil.isAnnotated(owner,myFQN,false);
    }
  }
  return false;
}
