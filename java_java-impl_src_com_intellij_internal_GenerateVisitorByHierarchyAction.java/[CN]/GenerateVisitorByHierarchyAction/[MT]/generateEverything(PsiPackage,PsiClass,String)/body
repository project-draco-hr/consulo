{
  final String visitorQName=PsiNameHelper.getShortClassName(visitorName).equals(visitorName) ? psiPackage.getQualifiedName() + "." + visitorName : visitorName;
  final PsiDirectory directory=PackageUtil.findOrCreateDirectoryForPackage(rootClass.getProject(),StringUtil.getPackageName(visitorQName),null,false);
  generateVisitorClass(visitorQName,rootClass,directory,new PackageScope(psiPackage,false,false));
  return visitorQName;
}
