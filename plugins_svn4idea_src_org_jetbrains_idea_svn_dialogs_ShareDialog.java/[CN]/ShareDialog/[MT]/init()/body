{
  super.init();
  setTitle("Select Share Target");
  setOKButtonText("Share");
  getRepositoryBrowser().addChangeListener(new TreeSelectionListener(){
    public void valueChanged(    TreeSelectionEvent e){
      if (getOKAction() != null) {
        final String selectedURL=getRepositoryBrowser().getSelectedURL();
        updateOptionsTexts(selectedURL);
        getOKAction().setEnabled(selectedURL != null);
      }
    }
  }
);
  getOKAction().setEnabled(getRepositoryBrowser().getSelectedURL() != null);
  ((RepositoryTreeModel)getRepositoryBrowser().getRepositoryTree().getModel()).setShowFiles(false);
  getRepositoryBrowser().getPreferredFocusedComponent().addFocusListener(new FocusAdapter(){
    @Override public void focusGained(    FocusEvent e){
      myPrefferedFocused=(JComponent)getRepositoryBrowser().getPreferredFocusedComponent();
    }
  }
);
}
