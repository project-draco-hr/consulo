{
  myContentRoots=myPlManager.getRootsUnderVcs(myVcs);
  List<VirtualFile> roots=new ArrayList<VirtualFile>();
  final List<VcsDirectoryMapping> mappings=myPlManager.getDirectoryMappings(myVcs);
  for (  VcsDirectoryMapping mapping : mappings) {
    if (mapping.isDefaultMapping()) {
      roots.add(myProject.getBaseDir());
    }
 else {
      VirtualFile newFile=LocalFileSystem.getInstance().findFileByPath(mapping.getDirectory());
      if (newFile == null) {
        newFile=LocalFileSystem.getInstance().refreshAndFindFileByPath(mapping.getDirectory());
      }
      if (newFile != null) {
        roots.add(newFile);
      }
 else {
        LOG.info("Can not file virtual file for root: " + mapping.getDirectory());
      }
    }
  }
  for (  VirtualFile contentRoot : myContentRoots) {
    roots.add(contentRoot);
  }
  roots=myVcs.filterUniqueRoots(roots,IntoSelfVirtualFileConvertor.getInstance());
  logRoots(roots);
  return roots;
}
