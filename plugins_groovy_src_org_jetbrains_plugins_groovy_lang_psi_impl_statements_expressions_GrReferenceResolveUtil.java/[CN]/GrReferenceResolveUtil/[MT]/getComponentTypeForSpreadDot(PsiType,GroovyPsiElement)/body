{
  if (qualifierType instanceof PsiArrayType) {
    return ((PsiArrayType)qualifierType).getComponentType();
  }
  if (!(qualifierType instanceof PsiClassType))   return null;
  PsiClassType.ClassResolveResult result=((PsiClassType)qualifierType).resolveGenerics();
  PsiClass clazz=result.getElement();
  if (clazz == null)   return null;
  PsiClass collection=GroovyPsiManager.getInstance(place.getProject()).findClassWithCache(CommonClassNames.JAVA_UTIL_COLLECTION,place.getResolveScope());
  if (collection == null || collection.getTypeParameters().length != 1)   return null;
  PsiSubstitutor substitutor=TypeConversionUtil.getClassSubstitutor(collection,clazz,result.getSubstitutor());
  if (substitutor == null)   return null;
  return substitutor.substitute(collection.getTypeParameters()[0]);
}
