{
  Point mouse=MouseInfo.getPointerInfo().getLocation();
  SwingUtilities.convertPointFromScreen(mouse,frame.getComponent());
  Component componentAt=SwingUtilities.getDeepestComponentAt(frame.getComponent(),mouse.x,mouse.y);
  if (componentAt != null) {
    Editor editor=PlatformDataKeys.EDITOR.getData(DataManager.getInstance().getDataContext(componentAt));
    if (editor != null) {
      double currentSize=editor.getColorsScheme().getEditorFontSize();
      int defaultFontSize=EditorColorsManager.getInstance().getGlobalScheme().getEditorFontSize();
      ((EditorEx)editor).setFontSize((int)(Math.max(currentSize + magnification * 3,defaultFontSize)));
    }
  }
}
