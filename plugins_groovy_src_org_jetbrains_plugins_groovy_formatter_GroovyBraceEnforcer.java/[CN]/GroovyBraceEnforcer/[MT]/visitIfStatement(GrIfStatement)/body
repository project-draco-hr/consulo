{
  if (checkElementContainsRange(statement)) {
    final SmartPsiElementPointer pointer=SmartPointerManager.getInstance(statement.getProject()).createSmartPsiElementPointer(statement);
    super.visitIfStatement(statement);
    statement=(GrIfStatement)pointer.getElement();
    if (statement == null)     return;
    processStatement(statement,statement.getThenBranch(),myPostProcessor.getSettings().IF_BRACE_FORCE);
    final GrStatement elseBranch=statement.getElseBranch();
    if (!(elseBranch instanceof GrIfStatement) || !myPostProcessor.getSettings().SPECIAL_ELSE_IF_TREATMENT) {
      processStatement(statement,elseBranch,myPostProcessor.getSettings().IF_BRACE_FORCE);
    }
  }
}
