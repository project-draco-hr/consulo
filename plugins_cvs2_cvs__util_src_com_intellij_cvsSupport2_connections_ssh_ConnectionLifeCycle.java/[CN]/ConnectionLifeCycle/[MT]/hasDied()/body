{
  if (!LifeStages.CREATED.equals(myState))   return false;
  if (mySupportsPing.isNull()) {
    mySupportsPing.set(SshConnectionUtils.connectionSupportsPing(myConnection));
  }
  if (Boolean.FALSE.equals(mySupportsPing.get()))   return false;
  final long prevLastTs=myLastTs;
  myLastTs=System.currentTimeMillis();
  if ((prevLastTs > 0) && ((myLastTs - prevLastTs) < myCheckGranularity))   return false;
  try {
    SshLogger.debug("will ping");
    myConnection.ping();
  }
 catch (  IOException e) {
    SshLogger.debug("ping failed",e);
    return true;
  }
  return false;
}
