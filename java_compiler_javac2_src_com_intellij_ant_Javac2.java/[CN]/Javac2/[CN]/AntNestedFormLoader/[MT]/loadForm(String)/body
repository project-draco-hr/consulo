{
  if (myFormCache.containsKey(formFileName)) {
    return (LwRootContainer)myFormCache.get(formFileName);
  }
  String formFileFullName=formFileName.toLowerCase();
  log("Searching for form " + formFileFullName,Project.MSG_VERBOSE);
  for (Iterator iterator=myFormFiles.iterator(); iterator.hasNext(); ) {
    File file=(File)iterator.next();
    String name=file.getAbsolutePath().replace(File.separatorChar,'/').toLowerCase();
    log("Comparing with " + name,Project.MSG_VERBOSE);
    if (name.endsWith(formFileFullName)) {
      return loadForm(formFileName,new FileInputStream(file));
    }
  }
  if (myNestedFormDirs != null) {
    for (Iterator it=myNestedFormDirs.iterator(); it.hasNext(); ) {
      String path=(String)it.next();
      if (path.replace(File.separatorChar,'/').toLowerCase().endsWith(formFileFullName)) {
        return loadForm(formFileName,new FileInputStream(path));
      }
    }
  }
  InputStream resourceStream=myLoader.getResourceAsStream(formFileName);
  if (resourceStream != null) {
    return loadForm(formFileName,resourceStream);
  }
  throw new Exception("Cannot find nested form file " + formFileName);
}
