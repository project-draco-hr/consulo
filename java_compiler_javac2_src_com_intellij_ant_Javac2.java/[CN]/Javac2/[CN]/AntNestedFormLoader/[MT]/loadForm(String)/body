{
  if (myFormCache.containsKey(formFileName)) {
    return (LwRootContainer)myFormCache.get(formFileName);
  }
  String formFileFullName=formFileName.toLowerCase();
  log("Searching for form " + formFileFullName,Project.MSG_VERBOSE);
  for (Iterator iterator=myFormFiles.iterator(); iterator.hasNext(); ) {
    File file=(File)iterator.next();
    String name=file.getAbsolutePath().replace(File.separatorChar,'/').toLowerCase();
    log("Comparing with " + name,Project.MSG_VERBOSE);
    if (name.endsWith(formFileFullName)) {
      InputStream formInputStream=new FileInputStream(file);
      final LwRootContainer container=Utils.getRootContainer(formInputStream,null);
      myFormCache.put(formFileName,container);
      return container;
    }
  }
  InputStream resourceStream=myLoader.getResourceAsStream("/" + formFileName + ".form");
  if (resourceStream != null) {
    final LwRootContainer container=Utils.getRootContainer(resourceStream,null);
    myFormCache.put(formFileName,container);
    return container;
  }
  throw new Exception("Cannot find nested form file " + formFileName);
}
