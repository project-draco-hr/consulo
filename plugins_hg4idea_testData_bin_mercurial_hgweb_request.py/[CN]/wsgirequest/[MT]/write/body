def write(self, thing):
    if hasattr(thing, '__iter__'):
        for part in thing:
            self.write(part)
    else:
        thing = str(thing)
        try:
            self.server_write(thing)
        except socket.error as inst:
            if (inst[0] != errno.ECONNRESET):
                raise
