def __init__(self, wsgienv, start_response):
    version = wsgienv['wsgi.version']
    if ((version < (1, 0)) or (version >= (2, 0))):
        raise RuntimeError(('Unknown and unsupported WSGI version %d.%d' % version))
    self.inp = wsgienv['wsgi.input']
    self.err = wsgienv['wsgi.errors']
    self.threaded = wsgienv['wsgi.multithread']
    self.multiprocess = wsgienv['wsgi.multiprocess']
    self.run_once = wsgienv['wsgi.run_once']
    self.env = wsgienv
    self.form = normalize(cgi.parse(self.inp, self.env, keep_blank_values=1))
    self._start_response = start_response
    self.server_write = None
    self.headers = []
