{
  ResolveCache cache=manager.getResolveCache();
  myVarToConstValueMap1=cache.getOrCreateWeakMap(VAR_TO_CONST_VALUE_MAP_KEY,true);
  myVarToConstValueMap2=cache.getOrCreateWeakMap(VAR_TO_CONST_VALUE_MAP_KEY,false);
  final Runnable cleanuper=new Runnable(){
    public void run(){
      myCalculatedTypes.clear();
    }
  }
;
  cache.addRunnableToRunOnDropCaches(cleanuper);
  manager.registerRunnableToRunOnAnyChange(cleanuper);
}
