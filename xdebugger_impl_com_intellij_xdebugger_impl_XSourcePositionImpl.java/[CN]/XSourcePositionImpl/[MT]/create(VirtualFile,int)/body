{
  if (file == null)   return null;
  Document document=FileDocumentManager.getInstance().getDocument(file);
  if (document == null) {
    return null;
  }
  if (line < 0) {
    line=0;
  }
  int offset=line < document.getLineCount() ? document.getLineStartOffset(line) : -1;
  return new XSourcePositionImpl(file,line,offset);
}
