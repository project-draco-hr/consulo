{
  VcsRevisionNumber nativeHead=getHeadFromGit();
  final GitRepository repository=GitRepositoryManager.getInstance(myProject).getRepositoryForRoot(myVcsRoot);
  if (repository != null) {
    final String rev=repository.getCurrentRevision();
    final VcsRevisionNumber cachedHead=rev != null ? new GitRevisionNumber(rev) : VcsRevisionNumber.NULL;
    if (!cachedHead.equals(nativeHead)) {
      LOG.error(String.format("GitRepository#getCurrentRevision() returned incorrect value. \nActual: %s\nReturned: %s",nativeHead,cachedHead));
    }
  }
 else {
    LOG.info("GitRepository is null for root " + myVcsRoot);
  }
  return nativeHead;
}
