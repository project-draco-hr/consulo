{
  final CompilerManager compilerManager=CompilerManager.getInstance(project);
  compilerManager.make(compilerManager.createProjectCompileScope(project),new CompileStatusNotification(){
    public void finished(    final boolean aborted,    final int errors,    final int warnings,    final CompileContext compileContext){
      if (aborted || errors != 0)       return;
      SwingUtilities.invokeLater(new Runnable(){
        public void run(){
          ProgressManager.getInstance().run(new Task.Modal(project,AnalysisScopeBundle.message("analyzing.project"),true){
            public void run(            final ProgressIndicator indicator){
              analyzeClasses(project,scope,indicator);
            }
          }
);
        }
      }
);
    }
  }
);
}
