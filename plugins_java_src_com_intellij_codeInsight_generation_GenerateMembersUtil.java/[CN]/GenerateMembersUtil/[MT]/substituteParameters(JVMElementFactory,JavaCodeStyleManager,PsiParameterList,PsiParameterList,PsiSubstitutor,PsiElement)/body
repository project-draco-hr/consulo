{
  PsiParameter[] parameters=sourceParameterList.getParameters();
  UniqueNameGenerator generator=new UniqueNameGenerator();
  for (  PsiParameter parameter : parameters) {
    final PsiType parameterType=parameter.getType();
    final PsiType substituted=substituteType(substitutor,parameterType,(PsiMethod)parameter.getDeclarationScope());
    @NonNls String paramName=parameter.getName();
    boolean isBaseNameGenerated=true;
    final boolean isSubstituted=substituted.equals(parameterType);
    if (!isSubstituted && isBaseNameGenerated(codeStyleManager,TypeConversionUtil.erasure(parameterType),paramName)) {
      isBaseNameGenerated=false;
    }
    if (paramName == null || isBaseNameGenerated && !isSubstituted && isBaseNameGenerated(codeStyleManager,parameterType,paramName) || !factory.isValidParameterName(paramName)) {
      String[] names=codeStyleManager.suggestVariableName(VariableKind.PARAMETER,null,null,substituted).names;
      if (names.length > 0) {
        paramName=generator.generateUniqueName(names[0]);
      }
 else {
        paramName=generator.generateUniqueName("p");
      }
    }
 else     if (!generator.value(paramName)) {
      paramName=generator.generateUniqueName(paramName);
    }
    generator.addExistingName(paramName);
    final PsiParameter newParameter=factory.createParameter(paramName,substituted,target);
    copyOrReplaceModifierList(parameter,newParameter);
    targetParameterList.add(newParameter);
  }
}
