{
  if (!createPropertiesFileIfNotExists())   return;
  Collection<PropertiesFile> propertiesFiles=getAllPropertiesFiles();
  for (  PropertiesFile propertiesFile : propertiesFiles) {
    IProperty existingProperty=propertiesFile.findPropertyByKey(getKey());
    final String propValue=myValue.getText();
    if (existingProperty != null && !Comparing.strEqual(existingProperty.getValue(),propValue)) {
      Messages.showErrorDialog(myProject,CodeInsightBundle.message("i18nize.dialog.error.property.already.defined.message",getKey(),propertiesFile.getName()),CodeInsightBundle.message("i18nize.dialog.error.property.already.defined.title"));
      return;
    }
  }
  super.doOKAction();
}
