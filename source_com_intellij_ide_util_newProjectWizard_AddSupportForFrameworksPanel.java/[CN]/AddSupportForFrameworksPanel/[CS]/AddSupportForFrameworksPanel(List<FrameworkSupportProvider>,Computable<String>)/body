{
  myBaseDirForLibrariesGetter=baseDirForLibrariesGetter;
  myProviders=providers;
  createNodes();
  myMirrorsMap=creatMirrorsMap();
  final JPanel treePanel=new JPanel(new GridBagLayout());
  addSettingsComponents(myRoots,treePanel,0);
  myFrameworksTreePanel.add(treePanel,BorderLayout.WEST);
  myChangeButton.addActionListener(new ActionListener(){
    public void actionPerformed(    final ActionEvent e){
      HashSet<RemoteRepositoryInfo> repositories=new HashSet<RemoteRepositoryInfo>(getRemoteRepositories(true));
      new LibraryDownloadingSettingsDialog(myMainPanel,getFrameworkWithLibraries(),myMirrorsMap,repositories).show();
      updateDownloadingOptionsPanel();
    }
  }
);
  updateDownloadingOptionsPanel();
}
