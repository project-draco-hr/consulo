{
  if (!(element instanceof PsiJavaToken) && !(element.getPrevSibling() instanceof PsiJavaToken)) {
    return false;
  }
  final PsiElement parent=element.getParent();
  if (!(parent instanceof PsiBinaryExpression)) {
    return false;
  }
  final PsiBinaryExpression binaryExpression=(PsiBinaryExpression)parent;
  final PsiBinaryExpression subexpression=getSubexpression(binaryExpression);
  if (subexpression == null) {
    return false;
  }
  if (binaryExpression.equals(subexpression) && !isPartOfConstantExpression(binaryExpression)) {
    return false;
  }
  final PsiType type=binaryExpression.getType();
  if (type == null || type.equalsToText("java.lang.String")) {
    return false;
  }
  if (!PsiUtil.isConstantExpression(subexpression)) {
    return false;
  }
  final PsiManager manager=element.getManager();
  final PsiConstantEvaluationHelper helper=manager.getConstantEvaluationHelper();
  final Object value=helper.computeConstantExpression(subexpression);
  return value != null;
}
