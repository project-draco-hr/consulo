{
  SwingUtilities.invokeLater(new Runnable(){
    public void run(){
      final List<UsageNode> nodes=new ArrayList<UsageNode>();
      addUsageNodes(usageView.getRoot(),usageView,nodes);
      int oldwidth=0;
      for (int col=0; col < table.getColumnModel().getColumnCount(); col++) {
        oldwidth+=calcMaxWidth(table,col);
      }
      int old=table.getModel().getRowCount();
      Vector<Object> data=setModel(table,usages,nodes,usageView);
      int width=0;
      for (int col=0; col < table.getColumnModel().getColumnCount(); col++) {
        width+=calcMaxWidth(table,col);
      }
      JComponent content=popup.getContent();
      Window window=SwingUtilities.windowForComponent(content);
      Dimension d=new Dimension(window.getSize());
      d.setSize(d.width + width - oldwidth,d.height + (data.size() - old) * table.getRowHeight());
      window.setSize(d);
      window.validate();
      window.repaint();
      table.revalidate();
      table.repaint();
      table.validate();
    }
  }
);
}
