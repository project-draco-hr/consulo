{
  final Vector<Object> data=createListModel(visibleNodes,usages);
  Collections.sort(data,USAGE_COMPARATOR);
  AbstractTableModel model=new AbstractTableModel(){
    public int getRowCount(){
      return data.size();
    }
    public int getColumnCount(){
      return data.get(0) instanceof UsageNode ? 3 : 1;
    }
    public Object getValueAt(    int rowIndex,    int columnIndex){
      return data.get(rowIndex);
    }
  }
;
  table.setModel(model);
  table.setRowHeight(Icons.CLASS_ICON.getIconHeight() + 2);
  table.setShowGrid(false);
  table.setShowVerticalLines(false);
  table.setShowHorizontalLines(false);
  table.setTableHeader(null);
  table.setAutoResizeMode(JTable.AUTO_RESIZE_LAST_COLUMN);
  ShowUsagesTableCellRenderer renderer=new ShowUsagesTableCellRenderer(usageView);
  for (int i=0; i < table.getColumnModel().getColumnCount(); i++) {
    TableColumn column=table.getColumnModel().getColumn(i);
    column.setCellRenderer(renderer);
  }
  table.setIntercellSpacing(new Dimension(0,0));
  int colsNum=table.getColumnModel().getColumnCount();
  int totalWidth=0;
  for (int col=0; col < colsNum - 1; col++) {
    TableColumn column=table.getColumnModel().getColumn(col);
    int preferred=column.getPreferredWidth();
    int width=Math.max(preferred,calcMaxWidth(table,col));
    totalWidth+=width;
    column.setMinWidth(width);
    column.setMaxWidth(width);
    column.setWidth(width);
    column.setPreferredWidth(width);
  }
  int width=calcMaxWidth(table,colsNum - 1);
  totalWidth+=width;
  Dimension dimension=new Dimension(totalWidth,table.getPreferredSize().height);
  table.setMinimumSize(dimension);
  table.setSize(dimension);
  table.setMaximumSize(dimension);
  Dimension scrollable=new Dimension(Math.max(table.getPreferredScrollableViewportSize().width,totalWidth),table.getPreferredSize().height);
  table.setPreferredScrollableViewportSize(scrollable);
  return data;
}
