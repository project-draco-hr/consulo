{
  List<Usage> usages=new ArrayList<Usage>();
  Processor<Usage> collect=CommonProcessors.notNullProcessor(new CommonProcessors.CollectProcessor<Usage>(usages));
  FindUsagesManager findUsagesManager=((FindManagerImpl)FindManager.getInstance(project)).getFindUsagesManager();
  UsageViewPresentation presentation=findUsagesManager.processUsages(element,collect,handler);
  if (presentation == null)   return;
  final String title=presentation.getTabText();
  JBPopup popup=createUsagePopup(usages,title,project,element,handler,editor,popupPosition);
  if (popup != null) {
    popup.show(popupPosition);
  }
}
