{
  if (libraryTableModel == null) {
    libraryTableModel=modifiableRootModel.getModuleLibraryTable().getModifiableModel();
  }
  Library library=libraryTableModel.createLibrary(libraryName);
  final Library.ModifiableModel libraryModel=library.getModifiableModel();
  libraryModel.addRoot(urlClasses,OrderRootType.CLASSES);
  if (urlSources != null) {
    libraryModel.addRoot(urlSources,OrderRootType.SOURCES);
  }
  if (urlJavadoc != null) {
    libraryModel.addRoot(urlJavadoc,OrderRootType.JAVADOC);
  }
  setExported(modifiableRootModel,library);
  libraryModel.commit();
}
