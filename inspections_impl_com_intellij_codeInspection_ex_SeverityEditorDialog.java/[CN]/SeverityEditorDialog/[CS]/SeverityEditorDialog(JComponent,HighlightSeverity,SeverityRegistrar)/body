{
  super(parent,true);
  mySeverityRegistrar=severityRegistrar;
  myOptionsList.setCellRenderer(new DefaultListCellRenderer(){
    public Component getListCellRendererComponent(    JList list,    Object value,    int index,    boolean isSelected,    boolean cellHasFocus){
      final Component rendererComponent=super.getListCellRendererComponent(list,value,index,isSelected,cellHasFocus);
      if (value instanceof SeverityRegistrar.SeverityBasedTextAttributes) {
        setText(((SeverityRegistrar.SeverityBasedTextAttributes)value).getSeverity().toString());
      }
      return rendererComponent;
    }
  }
);
  myOptionsList.addListSelectionListener(new ListSelectionListener(){
    public void valueChanged(    ListSelectionEvent e){
      if (myCurrentSelection != null) {
        apply(myCurrentSelection);
      }
      myCurrentSelection=(SeverityRegistrar.SeverityBasedTextAttributes)myOptionsList.getSelectedValue();
      if (myCurrentSelection != null) {
        reset(myCurrentSelection);
        myCard.show(myRightPanel,isDefaultSetting(myCurrentSelection.getType()) ? DEFAULT : EDITABLE);
      }
    }
  }
);
  myOptionsList.setSelectionMode(ListSelectionModel.SINGLE_SELECTION);
  JScrollPane scrollPane=new JScrollPane(myOptionsList);
  scrollPane.setPreferredSize(new Dimension(230,60));
  JPanel leftPanel=new JPanel(new BorderLayout());
  leftPanel.add(scrollPane,BorderLayout.CENTER);
  leftPanel.add(createListToolbar(),BorderLayout.NORTH);
  myPanel=new JPanel(new BorderLayout());
  myPanel.add(leftPanel,BorderLayout.WEST);
  myCard=new CardLayout();
  myRightPanel=new JPanel(myCard);
  final JPanel disabled=new JPanel(new GridBagLayout());
  final JButton button=new JButton(InspectionsBundle.message("severities.default.settings.message"));
  button.addActionListener(new ActionListener(){
    public void actionPerformed(    final ActionEvent e){
      ShowSettingsUtil.getInstance().editConfigurable(myPanel,ShowSettingsUtil.getInstance().findApplicationConfigurable(ColorAndFontOptions.class));
    }
  }
);
  disabled.add(button,new GridBagConstraints(0,0,1,1,0,0,GridBagConstraints.CENTER,GridBagConstraints.NONE,new Insets(0,0,0,0),0,0));
  myRightPanel.add(DEFAULT,disabled);
  myRightPanel.add(EDITABLE,myOptionsPanel);
  myCard.show(myRightPanel,EDITABLE);
  myPanel.add(myRightPanel,BorderLayout.CENTER);
  fillList(severity);
  init();
  setTitle(InspectionsBundle.message("severities.editor.dialog.title"));
  reset((SeverityRegistrar.SeverityBasedTextAttributes)myOptionsList.getSelectedValue());
}
