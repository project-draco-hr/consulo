{
  DefaultListModel model=new DefaultListModel();
  model.removeAllElements();
  final List<SeverityRegistrar.SeverityBasedTextAttributes> infoTypes=new ArrayList<SeverityRegistrar.SeverityBasedTextAttributes>();
  infoTypes.addAll(mySeverityRegistrar.getRegisteredHighlightingInfoTypes());
  infoTypes.add(getSeverityBasedTextAttributes(HighlightInfoType.ERROR));
  infoTypes.add(getSeverityBasedTextAttributes(HighlightInfoType.WARNING));
  infoTypes.add(getSeverityBasedTextAttributes(HighlightInfoType.INFO));
  infoTypes.add(getSeverityBasedTextAttributes(HighlightInfoType.GENERIC_WARNINGS_OR_ERRORS_FROM_SERVER));
  Collections.sort(infoTypes,new Comparator<SeverityRegistrar.SeverityBasedTextAttributes>(){
    public int compare(    SeverityRegistrar.SeverityBasedTextAttributes attributes1,    SeverityRegistrar.SeverityBasedTextAttributes attributes2){
      return -mySeverityRegistrar.compare(attributes1.getSeverity(),attributes2.getSeverity());
    }
  }
);
  SeverityRegistrar.SeverityBasedTextAttributes preselection=null;
  for (  SeverityRegistrar.SeverityBasedTextAttributes type : infoTypes) {
    model.addElement(type);
    if (type.getSeverity().equals(severity)) {
      preselection=type;
    }
  }
  myOptionsList.setModel(model);
  myOptionsList.setSelectedValue(preselection,true);
}
