{
  DefaultListModel model=new DefaultListModel();
  model.removeAllElements();
  final List<HighlightInfoType.HighlightInfoTypeImpl> infoTypes=new ArrayList<HighlightInfoType.HighlightInfoTypeImpl>();
  infoTypes.addAll(mySeverityRegistrar.getRegisteredHighlightingInfoTypes());
  infoTypes.add((HighlightInfoType.HighlightInfoTypeImpl)HighlightInfoType.ERROR);
  infoTypes.add((HighlightInfoType.HighlightInfoTypeImpl)HighlightInfoType.WARNING);
  infoTypes.add((HighlightInfoType.HighlightInfoTypeImpl)HighlightInfoType.INFO);
  infoTypes.add((HighlightInfoType.HighlightInfoTypeImpl)HighlightInfoType.GENERIC_WARNINGS_OR_ERRORS_FROM_SERVER);
  Collections.sort(infoTypes,new Comparator<HighlightInfoType.HighlightInfoTypeImpl>(){
    public int compare(    final HighlightInfoType.HighlightInfoTypeImpl o1,    final HighlightInfoType.HighlightInfoTypeImpl o2){
      return mySeverityRegistrar.compare(o1.getSeverity(null),o2.getSeverity(null));
    }
  }
);
  final EditorColorsScheme scheme=EditorColorsManager.getInstance().getGlobalScheme();
  MyHighlightInfoTypeWithAtrributesDescription preselection=null;
  for (  HighlightInfoType.HighlightInfoTypeImpl type : infoTypes) {
    final MyHighlightInfoTypeWithAtrributesDescription typeWithAtrributesDescription=new MyHighlightInfoTypeWithAtrributesDescription(scheme.getAttributes(type.getAttributesKey()),type);
    model.addElement(typeWithAtrributesDescription);
    if (type.getSeverity(null).equals(severity)) {
      preselection=typeWithAtrributesDescription;
    }
  }
  myOptionsList.setModel(model);
  myOptionsList.setSelectedValue(preselection,true);
}
