{
  final PsiElement parent=e.getParent();
  if (PsiUtil.isInJspFile(e.getContainingFile()) && e.getLanguage() instanceof JavaLanguage) {
    final JspFile psiFile=PsiUtil.getJspFile(e.getContainingFile());
    if (e.getParent().getTextLength() == psiFile.getTextLength()) {
      PsiFile baseRoot=psiFile.getBaseLanguageRoot();
      PsiElement elt=baseRoot.getNode().findLeafElementAt(e.getTextRange().getStartOffset()).getPsi();
      return elt;
    }
  }
  return parent;
}
