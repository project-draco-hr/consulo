{
  Window window;
  if (component instanceof Window) {
    window=(Window)component;
  }
 else {
    window=SwingUtilities.getWindowAncestor(component);
  }
  if (window instanceof JDialog) {
    final JDialog dialog=(JDialog)window;
    if (!dialog.isModal()) {
      return isModalContext(dialog.getOwner());
    }
  }
  boolean isMainFrame=window instanceof IdeFrameImpl;
  boolean isFloatingDecorator=window instanceof FloatingDecorator;
  return !isMainFrame && !isFloatingDecorator;
}
