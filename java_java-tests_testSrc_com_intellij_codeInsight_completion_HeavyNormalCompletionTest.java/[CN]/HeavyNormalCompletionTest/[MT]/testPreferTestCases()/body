{
  myFixture.configureByFile("/codeInsight/completion/normal/" + getTestName(false) + ".java");
  new WriteCommandAction.Simple(getProject()){
    @Override protected void run() throws Throwable {
      final ModifiableRootModel model=ModuleRootManager.getInstance(myFixture.getModule()).getModifiableModel();
      ContentEntry contentEntry=model.getContentEntries()[0];
      SourceFolder sourceFolder=contentEntry.getSourceFolders()[0];
      VirtualFile file=sourceFolder.getFile();
      contentEntry.removeSourceFolder(sourceFolder);
      contentEntry.addSourceFolder(file,true);
      model.commit();
    }
  }
.execute().throwException();
  myFixture.addClass("package foo; public class SomeTestCase {}");
  myFixture.addClass("package bar; public class SomeTestec {}");
  myFixture.addClass("package goo; public class SomeAnchor {}");
  myFixture.completeBasic();
  myFixture.assertPreferredCompletionItems(0,"SomeTestCase","SomeAnchor","SomeTestec");
}
