{
  myEditor=editor;
  myIsRow=isRow;
  mySelectionModel.setSelectionMode(ListSelectionModel.MULTIPLE_INTERVAL_SELECTION);
  mySelectionModel.addListSelectionListener(new ListSelectionListener(){
    public void valueChanged(    ListSelectionEvent e){
      repaint();
      myEditor.fireSelectedComponentChanged();
    }
  }
);
  setBackground(Color.LIGHT_GRAY);
  editor.addComponentSelectionListener(this);
  final MyMouseListener listener=new MyMouseListener();
  addMouseListener(listener);
  addMouseMotionListener(listener);
  addKeyListener(new MyKeyListener());
  setFocusable(true);
  DnDManager.getInstance(editor.getProject()).registerSource(new MyDnDSource(),this);
  DnDManager.getInstance(editor.getProject()).registerTarget(new MyDnDTarget(),this);
  addFocusListener(new FocusAdapter(){
    @Override public void focusGained(    FocusEvent e){
      repaint();
      myAlarm.addRequest(new Runnable(){
        public void run(){
          editor.fireSelectedComponentChanged();
        }
      }
,1000);
    }
    @Override public void focusLost(    FocusEvent e){
      repaint();
    }
  }
);
}
