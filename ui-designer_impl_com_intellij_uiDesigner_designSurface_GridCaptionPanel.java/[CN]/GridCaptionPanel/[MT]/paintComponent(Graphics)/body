{
  super.paintComponent(g);
  final Rectangle bounds=getBounds();
  RadContainer container=getSelectedGridContainer();
  if (container == null) {
    return;
  }
  GridLayoutManager layout=(GridLayoutManager)container.getLayout();
  int[] coords=myIsRow ? layout.getYs() : layout.getXs();
  int[] sizes=myIsRow ? layout.getHeights() : layout.getWidths();
  for (int i=0; i < coords.length; i++) {
    int x=myIsRow ? 0 : coords[i];
    int y=myIsRow ? coords[i] : 0;
    Point pnt=SwingUtilities.convertPoint(container.getDelegee(),x,y,this);
    Rectangle rc=myIsRow ? new Rectangle(bounds.x,pnt.y,bounds.width - 1,sizes[i]) : new Rectangle(pnt.x,bounds.y,sizes[i],bounds.height - 1);
    g.setColor(getCaptionColor(i));
    g.fillRect(rc.x,rc.y,rc.width,rc.height);
    int sizePolicy=layout.getCellSizePolicy(myIsRow,i);
    if ((sizePolicy & GridConstraints.SIZEPOLICY_WANT_GROW) != 0) {
      Graphics2D g2d=(Graphics2D)g;
      Stroke oldStroke=g2d.getStroke();
      g2d.setStroke(new BasicStroke(2.0f));
      g.setColor(Color.BLUE);
      if (myIsRow) {
        int midPoint=(int)rc.getCenterX();
        g.drawLine(midPoint + 1,rc.y + 1,midPoint + 1,rc.y + rc.height - 1);
      }
 else {
        int midPoint=(int)rc.getCenterY();
        g.drawLine(rc.x + 1,midPoint + 1,rc.x + rc.width - 1,midPoint + 1);
      }
      g2d.setStroke(oldStroke);
    }
    g.setColor(Color.DARK_GRAY);
    g.drawRect(rc.x,rc.y,rc.width,rc.height);
  }
  g.setColor(Color.DARK_GRAY);
  if (myIsRow) {
    g.drawLine(bounds.width - 1,0,bounds.width - 1,bounds.height);
  }
 else {
    g.drawLine(0,bounds.height - 1,bounds.width,bounds.height - 1);
  }
}
