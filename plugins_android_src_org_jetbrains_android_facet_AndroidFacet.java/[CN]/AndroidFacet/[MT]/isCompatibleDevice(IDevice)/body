{
  String avd=device.getAvdName();
  IAndroidTarget target=getConfiguration().getAndroidTarget();
  if (target == null)   return false;
  if (avd != null) {
    AvdManager avdManager=getAvdManagerSilently();
    if (avdManager == null)     return true;
    AvdInfo info=avdManager.getAvd(avd,true);
    return isCompatibleBaseTarget(info != null ? info.getTarget() : null);
  }
  if (target.isPlatform()) {
    AndroidVersion deviceVersion=getDeviceVersion(device);
    if (deviceVersion != null) {
      return canRunOnDevice(target,deviceVersion);
    }
  }
  return null;
}
