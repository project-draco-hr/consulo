{
  final IAndroidTarget androidTarget=getConfiguration().getAndroidTarget();
  if (androidTarget != null) {
    final String targetPropertyValue=androidTarget.hashString();
    final IProperty property=propertiesFile.findPropertyByKey(AndroidUtils.ANDROID_TARGET_PROPERTY);
    ApplicationManager.getApplication().runWriteAction(new Runnable(){
      @Override public void run(){
        if (property == null) {
          propertiesFile.addProperty(createProperty(targetPropertyValue));
        }
 else {
          if (!Comparing.equal(property.getValue(),targetPropertyValue)) {
            final PsiElement element=property.getPsiElement();
            if (element != null) {
              element.replace(createProperty(targetPropertyValue).getPsiElement());
            }
          }
        }
      }
    }
);
  }
}
