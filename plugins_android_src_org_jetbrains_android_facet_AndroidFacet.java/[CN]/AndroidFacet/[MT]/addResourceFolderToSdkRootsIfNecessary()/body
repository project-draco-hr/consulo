{
  final Sdk sdk=ModuleRootManager.getInstance(getModule()).getSdk();
  if (sdk == null || !(sdk.getSdkType() instanceof AndroidSdkType)) {
    return;
  }
  final SdkAdditionalData data=sdk.getSdkAdditionalData();
  if (!(data instanceof AndroidSdkAdditionalData)) {
    return;
  }
  final AndroidPlatform platform=((AndroidSdkAdditionalData)data).getAndroidPlatform();
  if (platform == null) {
    return;
  }
  final String resFolderPath=platform.getTarget().getPath(IAndroidTarget.RESOURCES);
  if (resFolderPath == null) {
    return;
  }
  final VirtualFile resFolder=LocalFileSystem.getInstance().findFileByPath(resFolderPath);
  if (resFolder == null) {
    return;
  }
  for (  VirtualFile root : sdk.getRootProvider().getFiles(OrderRootType.CLASSES)) {
    if (root == resFolder) {
      return;
    }
  }
  final SdkModificator modificator=sdk.getSdkModificator();
  modificator.addRoot(resFolder,OrderRootType.CLASSES);
  modificator.commitChanges();
}
