{
  try {
    Map<String,String> props=device.getProperties();
    String apiLevel=props.get(IDevice.PROP_BUILD_API_LEVEL);
    if (apiLevel == null) {
      return null;
    }
    return new AndroidVersion(Integer.parseInt(apiLevel),props.get((IDevice.PROP_BUILD_CODENAME)));
  }
 catch (  NumberFormatException e) {
    return null;
  }
}
