{
  super(project);
  myProjectView=projectView;
  myFavoritesManager=favoritesManager;
  myFavoritesListener=new FavoritesManager.FavoritesListener(){
    public void rootsChanged(    String listName){
    }
    public void listAdded(    String listName){
      refreshMySubIdsAndSelect(listName);
    }
    public void listRemoved(    String listName){
      String selectedSubId=getSubId();
      refreshMySubIdsAndSelect(selectedSubId);
    }
    private void refreshMySubIdsAndSelect(    String listName){
      myFavoritesManager.removeFavoritesListener(myFavoritesListener);
      myProjectView.removeProjectPane(FavoritesProjectViewPane.this);
      myProjectView.addProjectPane(FavoritesProjectViewPane.this);
      myFavoritesManager.addFavoritesListener(myFavoritesListener);
      if (ArrayUtil.find(myFavoritesManager.getAvailableFavoritesLists(),listName) == -1) {
        listName=null;
      }
      myProjectView.changeView(ID,listName);
    }
  }
;
  myFavoritesManager.addFavoritesListener(myFavoritesListener);
}
