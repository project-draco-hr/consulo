{
  if (element instanceof LeafElement) {
    final LeafElement leaf=(LeafElement)element;
    return leaf.textMatches(buffer,startOffset);
  }
 else {
    int curOffset=startOffset;
    for (TreeElement child=((CompositeElement)element).getFirstChildNode(); child != null; child=child.next) {
      curOffset=textMatches(child,buffer,curOffset);
      if (curOffset == -1)       return -1;
    }
    return curOffset;
  }
}
