def hasnode(repo, node):
    try:
        return (repo.changelog.rev(node) != None)
    except error.RevlogError:
        return False
