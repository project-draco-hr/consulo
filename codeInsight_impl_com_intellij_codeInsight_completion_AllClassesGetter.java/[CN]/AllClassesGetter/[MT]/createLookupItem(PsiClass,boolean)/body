{
  return ApplicationManager.getApplication().runReadAction(new Computable<LookupItem<PsiClass>>(){
    public LookupItem<PsiClass> compute(){
      final LookupItem<PsiClass> item=LookupElementFactoryImpl.getInstance().createLookupElement(psiClass).setInsertHandler(INSERT_HANDLER);
      JavaAwareCompletionData.setShowFQN(item);
      if (afterNew) {
        item.setTailType(hasParams(psiClass) ? PARENS_WITH_PARAMS : PARENS_NO_PARAMS);
      }
      return item;
    }
  }
);
}
