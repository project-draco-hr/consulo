{
  if (X11 == null)   return false;
  if (SystemInfo.isJavaVersionAtLeast("1.7")) {
    String wmName=getWmName();
    if (wmName != null && (wmName.startsWith("Mutter") || newHashSet("Metacity","GNOME Shell","Muffin","Marco").contains(wmName))) {
      return false;
    }
  }
  IdeFrame[] frames=WindowManager.getInstance().getAllProjectFrames();
  if (frames.length == 0)   return true;
  return frames[0] instanceof JFrame && hasWindowProperty((JFrame)frames[0],X11.NET_WM_ALLOWED_ACTIONS,X11.NET_WM_ACTION_FULLSCREEN);
}
