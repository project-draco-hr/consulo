{
  super.init();
  setTitle(HgVcsMessages.message("hg4idea.init.dialog.title"));
  mySelectedDir=myProject.getBaseDir();
  mySelectWhereToCreateRadioButton.addActionListener(new ActionListener(){
    public void actionPerformed(    ActionEvent e){
      myTextFieldBrowser.setEnabled(true);
      updateEverything();
    }
  }
);
  myCreateRepositoryForTheRadioButton.addActionListener(new ActionListener(){
    public void actionPerformed(    ActionEvent e){
      myTextFieldBrowser.setEnabled(false);
      updateEverything();
    }
  }
);
  myTextFieldBrowser.getTextField().addCaretListener(new CaretListener(){
    public void caretUpdate(    CaretEvent e){
      updateEverything();
    }
  }
);
  myFileDescriptor=new FileChooserDescriptor(false,true,false,false,false,false){
    public void validateSelectedFiles(    VirtualFile[] files) throws Exception {
      if (HgUtil.isHgRoot(files[0])) {
        throw new ConfigurationException(HgVcsMessages.message("hg4idea.init.this.is.hg.root",files[0].getPresentableUrl()));
      }
      updateEverything();
    }
  }
;
  myFileDescriptor.setHideIgnored(false);
  myTextFieldBrowser.addBrowseFolderListener(HgVcsMessages.message("hg4idea.init.destination.directory.title"),HgVcsMessages.message("hg4idea.init.destination.directory.description"),myProject,myFileDescriptor);
}
