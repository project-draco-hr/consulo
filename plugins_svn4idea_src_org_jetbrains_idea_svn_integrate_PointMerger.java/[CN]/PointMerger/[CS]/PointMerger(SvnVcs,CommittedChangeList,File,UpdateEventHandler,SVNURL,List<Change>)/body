{
  super(vcs,new ArrayList<CommittedChangeList>(Arrays.<CommittedChangeList>asList(selectedChangeList)),target,handler,currentBranchUrl,new Consumer<List<CommittedChangeList>>(){
    public void consume(    final List<CommittedChangeList> committedChangeLists){
      vcs.getProject().getMessageBus().syncPublisher(RootsAndBranches.REFRESH_REQUEST).run();
    }
  }
);
  myHandler=handler;
  myVcs=vcs;
  mySelectedChanges=selectedChanges;
  Collections.sort(mySelectedChanges,ChangesComparator.getInstance());
  myLatestProcessed=selectedChangeList;
}
