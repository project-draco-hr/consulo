{
  final PsiFile psiFile=checkedClass.getContainingFile();
  final PsiIdentifier classIdentifier=checkedClass.getNameIdentifier();
  if (checkedClass.getQualifiedName() != null && classIdentifier != null && psiFile != null && psiFile.getVirtualFile() != null && !isAbstract(checkedClass)) {
    if (PsiUtil.isInnerClass(checkedClass)) {
      return null;
    }
    final PsiManager psiManager=checkedClass.getManager();
    final GlobalSearchScope scope=checkedClass.getResolveScope();
    if (CHECK_ACTIONS) {
      final PsiClass actionClass=psiManager.findClass(AnAction.class.getName(),scope);
      if (actionClass == null) {
        return null;
      }
      if (checkedClass.isInheritor(actionClass,true)) {
        if (IGNORE_NON_PUBLIC && !isPublic(checkedClass)) {
          return null;
        }
        if (!isActionRegistered(checkedClass) && canFix(checkedClass)) {
          final LocalQuickFix fix=new RegisterActionFix(checkedClass);
          final ProblemDescriptor problem=manager.createProblemDescriptor(classIdentifier,DevKitBundle.message("inspections.component.not.registered.message",DevKitBundle.message("new.menu.action.text")),fix,ProblemHighlightType.GENERIC_ERROR_OR_WARNING);
          return new ProblemDescriptor[]{problem};
        }
 else {
          return null;
        }
      }
    }
    final ComponentType[] types=ComponentType.values();
    for (    ComponentType type : types) {
      final PsiClass compClass=psiManager.findClass(type.myClassName,scope);
      if (compClass == null) {
        return null;
      }
      if (checkedClass.isInheritor(compClass,true)) {
        if (getRegistrationTypes(checkedClass,false) == null && canFix(checkedClass)) {
          final LocalQuickFix fix=new RegisterComponentFix(type,checkedClass);
          final ProblemDescriptor problem=manager.createProblemDescriptor(classIdentifier,DevKitBundle.message("inspections.component.not.registered.message",DevKitBundle.message(type.myPropertyKey)),fix,ProblemHighlightType.GENERIC_ERROR_OR_WARNING);
          return new ProblemDescriptor[]{problem};
        }
 else {
          return null;
        }
      }
    }
  }
  return null;
}
