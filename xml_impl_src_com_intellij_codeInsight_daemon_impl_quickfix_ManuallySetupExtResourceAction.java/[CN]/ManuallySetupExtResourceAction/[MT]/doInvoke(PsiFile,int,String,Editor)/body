{
  ApplicationManager.getApplication().runWriteAction(new Runnable(){
    public void run(){
      ExternalResourceManager.getInstance().addResource(uri,"");
    }
  }
);
  final Project project=file.getProject();
  final ExternalResourceConfigurable component=new ExternalResourceConfigurable(project);
  ShowSettingsUtil.getInstance().editConfigurable(project,component,new Runnable(){
    public void run(){
      component.selectResource(uri);
    }
  }
);
}
