{
  if (!myRootModel.isExcludeOutput() && !myRootModel.isExcludeExplodedDirectory()) {
    return (ExcludeFolder[])myExcludeFolders.toArray(new ExcludeFolder[myExcludeFolders.size()]);
  }
  final ArrayList result=new ArrayList(myExcludeFolders);
  if (myRootModel.isExcludeOutput()) {
    addExcludeForOutputPath(myRootModel.myCompilerOutputPath,result);
    addExcludeForOutputPath(myRootModel.myCompilerOutputPathForTests,result);
  }
  if (myRootModel.isExcludeExplodedDirectory()) {
    addExcludeForOutputPath(myRootModel.myExplodedDirectory,result);
  }
  return (ExcludeFolder[])result.toArray(new ExcludeFolder[result.size()]);
}
