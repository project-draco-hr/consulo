{
  LOG.assertTrue(ELEMENT_NAME.equals(element.getName()));
  element.setAttribute(URL_ATTR,myRoot.getUrl());
  for (Iterator iterator=mySourceFolders.iterator(); iterator.hasNext(); ) {
    SourceFolder simpleSourceFolder=(SourceFolder)iterator.next();
    if (simpleSourceFolder instanceof SourceFolderImpl) {
      final Element subElement=new Element(SourceFolderImpl.ELEMENT_NAME);
      ((SourceFolderImpl)simpleSourceFolder).writeExternal(subElement);
      element.addContent(subElement);
    }
  }
  for (Iterator iterator=myExcludeFolders.iterator(); iterator.hasNext(); ) {
    ExcludeFolder excludeFolder=(ExcludeFolder)iterator.next();
    if (excludeFolder instanceof ExcludeFolderImpl) {
      final Element subElement=new Element(ExcludeFolderImpl.ELEMENT_NAME);
      ((ExcludeFolderImpl)excludeFolder).writeExternal(subElement);
      element.addContent(subElement);
    }
  }
}
