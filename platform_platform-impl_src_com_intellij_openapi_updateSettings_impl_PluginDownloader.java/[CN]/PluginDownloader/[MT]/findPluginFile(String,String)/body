{
  final VirtualFileManager fileManager=VirtualFileManager.getInstance();
  VirtualFile pluginFile=fileManager.findFileByUrl(pluginUrl);
  if (pluginFile == null) {
    final VirtualFile hostFile=fileManager.findFileByUrl(host);
    if (hostFile == null) {
      LOG.error("can't find file by url '" + host + "'");
      return null;
    }
    pluginFile=findPluginByRelativePath(hostFile.getParent(),pluginUrl,hostFile.getFileSystem());
  }
  if (pluginFile == null) {
    LOG.error("can't find '" + pluginUrl + "' relative to '"+ host+ "'");
    return null;
  }
  return pluginFile;
}
