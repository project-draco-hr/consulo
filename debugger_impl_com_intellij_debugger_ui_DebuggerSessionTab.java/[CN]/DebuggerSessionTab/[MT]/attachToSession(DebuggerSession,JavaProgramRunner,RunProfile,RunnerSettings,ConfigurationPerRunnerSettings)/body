{
  disposeSession();
  myDebuggerSession=session;
  myRunner=runner;
  myRunnerSettings=runnerSettings;
  myConfigurationSettings=configurationPerRunnerSettings;
  myConfiguration=runProfile;
  if (myConfiguration instanceof RunConfigurationBase) {
    myManager.registerFileMatcher((RunConfigurationBase)myConfiguration);
  }
  session.getContextManager().addListener(new DebuggerContextListener(){
    public void changeEvent(    DebuggerContextImpl newContext,    int event){
      myStateManager.fireStateChanged(newContext,event);
    }
  }
);
  return initUI(getDebugProcess().getExecutionResult());
}
