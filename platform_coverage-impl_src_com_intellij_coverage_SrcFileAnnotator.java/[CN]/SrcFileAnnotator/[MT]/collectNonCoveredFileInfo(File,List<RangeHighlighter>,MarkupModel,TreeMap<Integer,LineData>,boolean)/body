{
  final CoverageSuitesBundle coverageSuite=CoverageDataManager.getInstance(myProject).getCurrentSuitesBundle();
  if (coverageSuite == null)   return;
  final TIntIntHashMap mapping;
  if (outputFile.lastModified() < getVirtualFile().getTimeStamp()) {
    mapping=getOldToNewLineMapping(outputFile.lastModified());
    if (mapping == null)     return;
  }
 else {
    mapping=null;
  }
  final List<Integer> uncoveredLines=coverageSuite.getCoverageEngine().collectSrcLinesForUntouchedFile(outputFile,coverageSuite);
  final int lineCount=myDocument.getLineCount();
  if (uncoveredLines == null) {
    for (int lineNumber=0; lineNumber < lineCount; lineNumber++) {
      addHighlighter(outputFile,highlighters,markupModel,executableLines,coverageByTestApplicable,coverageSuite,lineNumber,lineNumber);
    }
  }
 else {
    for (    int lineNumber : uncoveredLines) {
      if (lineNumber >= lineCount) {
        continue;
      }
      final int updatedLineNumber=mapping != null ? mapping.get(lineNumber) : lineNumber;
      addHighlighter(outputFile,highlighters,markupModel,executableLines,coverageByTestApplicable,coverageSuite,lineNumber,updatedLineNumber);
    }
  }
}
