{
  final PsiElement psiElement=node.getPsi();
  if (!(psiElement instanceof XmlFile))   return FoldingDescriptor.EMPTY;
  XmlFile file=((XmlFile)psiElement);
  final XmlDocument xmlDocument=file.getDocument();
  XmlTag rootTag=xmlDocument == null ? null : xmlDocument.getRootTag();
  List<FoldingDescriptor> foldings=null;
  if (rootTag != null) {
    foldings=new ArrayList<FoldingDescriptor>();
    addElementsToFold(foldings,rootTag,document);
  }
  return foldings != null ? foldings.toArray(new FoldingDescriptor[foldings.size()]) : FoldingDescriptor.EMPTY;
}
