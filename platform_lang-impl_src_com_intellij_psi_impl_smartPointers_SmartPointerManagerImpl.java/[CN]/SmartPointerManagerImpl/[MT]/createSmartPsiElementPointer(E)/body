{
  if (!element.isValid()) {
    LOG.assertTrue(false,"Invalid element:" + element);
  }
  PsiFile file=element.getContainingFile();
  if (isSafeReparseable(file)) {
    return new IdentitySmartPointer<E>(element);
  }
  SmartPointerEx<E> pointer=new SmartPsiElementPointerImpl<E>(myProject,element);
  initPointer(element,pointer);
  return pointer;
}
