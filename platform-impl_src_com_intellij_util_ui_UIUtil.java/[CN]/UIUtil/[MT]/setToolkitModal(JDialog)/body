{
  try {
    final Class<?> modalityType=dialog.getClass().getClassLoader().loadClass("java.awt.Dialog$ModalityType");
    final Field field=modalityType.getField("TOOLKIT_MODAL");
    final Object value=field.get(null);
    final Method method=dialog.getClass().getMethod("setModalityType",modalityType);
    method.invoke(dialog,value);
  }
 catch (  Exception e) {
  }
}
