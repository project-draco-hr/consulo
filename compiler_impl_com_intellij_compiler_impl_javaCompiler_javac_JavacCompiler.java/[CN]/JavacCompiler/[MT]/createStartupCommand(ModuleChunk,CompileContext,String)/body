{
  final ArrayList<String> commandLine=new ArrayList<String>();
  final Exception[] ex=new Exception[]{null};
  ApplicationManager.getApplication().runReadAction(new Runnable(){
    public void run(){
      try {
        createStartupCommand(chunk,commandLine,outputPath);
      }
 catch (      IllegalArgumentException e) {
        ex[0]=e;
      }
catch (      IOException e) {
        ex[0]=e;
      }
    }
  }
);
  if (ex[0] != null) {
    if (ex[0] instanceof IOException) {
      throw (IOException)ex[0];
    }
 else     if (ex[0] instanceof IllegalArgumentException) {
      throw (IllegalArgumentException)ex[0];
    }
 else {
      LOG.error(ex[0]);
    }
  }
  return commandLine.toArray(new String[commandLine.size()]);
}
