{
  final FrameworkLibraryVersion version=getSelectedVersion();
  if (Comparing.equal(myLastSelectedVersion,version))   return;
  if (version != null) {
    final List<DownloadableFileDescription> downloads=version.getLibraryFiles();
    myFilesList.setModel(new CollectionListModel(ContainerUtil.map2Array(downloads,JCheckBox.class,new Function<DownloadableFileDescription,JCheckBox>(){
      @Override public JCheckBox fun(      DownloadableFileDescription description){
        return new JCheckBox(description.getPresentableFileName(),selected == null || selected.contains(description));
      }
    }
)));
    if (myNameAndLevelPanel != null) {
      myNameAndLevelPanel.setDefaultName(version.getDefaultLibraryName());
    }
  }
  myLastSelectedVersion=version;
}
