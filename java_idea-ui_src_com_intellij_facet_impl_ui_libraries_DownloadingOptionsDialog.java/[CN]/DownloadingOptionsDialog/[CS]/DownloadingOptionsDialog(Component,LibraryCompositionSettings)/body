{
  super(parent,true);
  setTitle("Downloading Options");
  mySettings=settings;
  myFilesList.setModel(new CollectionListModel(ContainerUtil.map2Array(settings.getLibraryInfos(),new Function<LibraryInfo,Object>(){
    @Override public Object fun(    LibraryInfo libraryInfo){
      return new JCheckBox(libraryInfo.getPresentableName(),libraryInfo.isSelected());
    }
  }
)));
  myFilesToDownloadLabel.setLabelFor(myFilesList);
  myDirectoryField.addBrowseFolderListener(ProjectBundle.message("file.chooser.directory.for.downloaded.libraries.title"),ProjectBundle.message("file.chooser.directory.for.downloaded.libraries.description"),null,FileChooserDescriptorFactory.createSingleFolderDescriptor());
  myCopyDownloadedFilesToLabel.setLabelFor(myDirectoryField);
  myDirectoryField.setText(settings.getDirectoryForDownloadedLibrariesPath());
  myDownloadSourcesCheckBox.setSelected(settings.isDownloadSources());
  myDownloadJavadocsCheckBox.setSelected(settings.isDownloadJavadocs());
  myLibraryNameField.setText(settings.getLibraryName());
  myLevelComboBox.setModel(new EnumComboBoxModel<LibrariesContainer.LibraryLevel>(LibrariesContainer.LibraryLevel.class));
  myLevelComboBox.setSelectedItem(settings.getLibraryLevel());
  init();
}
