{
  final XLightBreakpointPropertiesPanel propertiesPanel=new XLightBreakpointPropertiesPanel(project,XDebuggerManager.getInstance(project).getBreakpointManager(),breakpoint,showAllOptions);
  final Balloon balloon=JBPopupFactory.getInstance().createBalloonBuilder(propertiesPanel.getMainPanel()).setHideOnAction(false).setHideOnClickOutside(false).setHideOnKeyOutside(false).setCloseButtonEnabled(true).setDialogMode(true).setFillColor(propertiesPanel.getMainPanel().getBackground()).setTitle(breakpoint.getType().getDisplayText(breakpoint)).setHideOnFrameResize(false).createBalloon();
  balloon.addListener(new JBPopupListener(){
    @Override public void beforeShown(    LightweightWindowEvent event){
    }
    @Override public void onClosed(    LightweightWindowEvent event){
      propertiesPanel.saveProperties();
    }
  }
);
  propertiesPanel.setDelegate(new XLightBreakpointPropertiesPanel.Delegate(){
    @Override public void showMoreOptions(){
      balloon.hide();
      showBreakpointEditorBalloon(project,point,gutterComponent,true,breakpoint);
    }
  }
);
  if (point == null) {
    balloon.showInCenterOf(gutterComponent);
  }
 else {
    balloon.show(new RelativePoint(gutterComponent,point),Balloon.Position.atRight);
  }
}
