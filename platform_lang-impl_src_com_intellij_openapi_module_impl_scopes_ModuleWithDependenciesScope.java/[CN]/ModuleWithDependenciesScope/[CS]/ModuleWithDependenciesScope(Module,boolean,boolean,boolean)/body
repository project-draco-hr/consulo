{
  super(module.getProject());
  myModule=module;
  myIncludeLibraries=includeLibraries;
  myIncludeOtherModules=includeOtherModules;
  myIncludeTests=includeTests;
  myFileIndex=ModuleRootManager.getInstance(myModule).getFileIndex();
  myProjectFileIndex=ProjectRootManager.getInstance(getProject()).getFileIndex();
  if (myIncludeOtherModules) {
    myModules=new LinkedHashSet<Module>();
    myModules.add(myModule);
    Module[] dependencies=ModuleRootManager.getInstance(myModule).getDependencies(myIncludeTests);
    ContainerUtil.addAll(myModules,dependencies);
    for (    Module dependency : dependencies) {
      addExportedModules(dependency);
    }
  }
 else {
    myModules=null;
  }
}
