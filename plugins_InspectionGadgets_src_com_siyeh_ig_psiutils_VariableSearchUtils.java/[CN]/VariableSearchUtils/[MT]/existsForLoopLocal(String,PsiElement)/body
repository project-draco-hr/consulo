{
  PsiForStatement forLoopAncestor=PsiTreeUtil.getParentOfType(context,PsiForStatement.class);
  while (forLoopAncestor != null) {
    final PsiStatement initialization=forLoopAncestor.getInitialization();
    if (initialization instanceof PsiDeclarationStatement) {
      final PsiDeclarationStatement declarationStatement=(PsiDeclarationStatement)initialization;
      final PsiElement[] elements=declarationStatement.getDeclaredElements();
      for (      PsiElement element : elements) {
        final PsiLocalVariable localVariable=(PsiLocalVariable)element;
        final String localVariableName=localVariable.getName();
        if (variableName.equals(localVariableName)) {
          return true;
        }
      }
    }
    forLoopAncestor=PsiTreeUtil.getParentOfType(forLoopAncestor,PsiForStatement.class);
  }
  return false;
}
