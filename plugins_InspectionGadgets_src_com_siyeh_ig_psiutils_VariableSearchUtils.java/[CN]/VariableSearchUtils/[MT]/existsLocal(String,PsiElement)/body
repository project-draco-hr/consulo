{
  PsiCodeBlock ancestor=PsiTreeUtil.getParentOfType(context,PsiCodeBlock.class);
  while (ancestor != null) {
    final PsiStatement[] statements=ancestor.getStatements();
    for (    final PsiStatement statement : statements) {
      if (statement instanceof PsiDeclarationStatement) {
        final PsiDeclarationStatement declarationStatement=(PsiDeclarationStatement)statement;
        final PsiElement[] elements=declarationStatement.getDeclaredElements();
        for (        PsiElement element : elements) {
          if (!(element instanceof PsiLocalVariable)) {
            continue;
          }
          final PsiLocalVariable localVariable=(PsiLocalVariable)element;
          final String localVariableName=localVariable.getName();
          if (variableName.equals(localVariableName)) {
            return true;
          }
        }
      }
    }
    ancestor=PsiTreeUtil.getParentOfType(ancestor,PsiCodeBlock.class);
  }
  return false;
}
