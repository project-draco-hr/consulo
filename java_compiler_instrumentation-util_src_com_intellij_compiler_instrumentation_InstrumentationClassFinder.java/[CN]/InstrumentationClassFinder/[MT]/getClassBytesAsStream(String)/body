{
  final String internalName=className.replace('.','/');
  InputStream is=null;
  final String resourceName=internalName + CLASS_RESOURCE_EXTENSION;
  Resource resource=myPlatformClasspath.getResource(resourceName,false);
  if (resource != null) {
    is=new ByteArrayInputStream(resource.getBytes());
  }
  if (is == null) {
    is=lookupClassBeforeClasspath(internalName);
  }
  if (is == null) {
    resource=myClasspath.getResource(resourceName,false);
    if (resource != null) {
      is=new ByteArrayInputStream(resource.getBytes());
    }
  }
  if (is == null) {
    is=lookupClassAfterClasspath(internalName);
  }
  return is;
}
