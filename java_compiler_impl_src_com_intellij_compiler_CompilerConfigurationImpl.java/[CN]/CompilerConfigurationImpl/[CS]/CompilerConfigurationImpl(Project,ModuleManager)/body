{
  myProject=project;
  myModuleManager=moduleManager;
  myExcludedEntriesConfiguration=new ExcludedEntriesConfiguration();
  Disposer.register(project,myExcludedEntriesConfiguration);
  project.getMessageBus().connect(project).subscribe(ProjectTopics.MODULES,new ModuleListener(){
    public void modulesRenamed(    Project project,    List<Module> modules){
    }
    public void moduleRemoved(    Project project,    Module module){
    }
    public void beforeModuleRemoved(    Project project,    Module module){
      myExcludedModules.remove(module);
      myExcludedModuleNames.remove(module.getName());
    }
    public void moduleAdded(    Project project,    Module module){
      if (myExcludedModuleNames.remove(module.getName())) {
        myExcludedModules.add(module);
      }
    }
  }
);
}
