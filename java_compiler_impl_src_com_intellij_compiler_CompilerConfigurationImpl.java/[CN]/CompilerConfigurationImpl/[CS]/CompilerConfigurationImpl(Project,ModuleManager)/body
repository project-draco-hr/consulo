{
  myProject=project;
  myModuleManager=moduleManager;
  myExcludedEntriesConfiguration=new ExcludedEntriesConfiguration();
  Disposer.register(project,myExcludedEntriesConfiguration);
  project.getMessageBus().connect(project).subscribe(ProjectTopics.MODULES,new ModuleListener(){
    public void modulesRenamed(    Project project,    List<Module> modules){
    }
    public void moduleRemoved(    Project project,    Module module){
    }
    public void beforeModuleRemoved(    Project project,    Module module){
      myProcessedModules.remove(module);
      myModuleNames.remove(module.getName());
    }
    public void moduleAdded(    Project project,    Module module){
      final String moduleName=module.getName();
      if (myModuleNames.containsKey(moduleName)) {
        final String dirName=myModuleNames.remove(moduleName);
        myProcessedModules.put(module,dirName);
      }
    }
  }
);
}
