{
  if (myRbImport.isSelected()) {
    final String productWithVendor=mySettings.getProductName(ThreeState.YES);
    String instHome;
    if (myPrevInstallation.getText() != null) {
      instHome=FileUtil.toSystemDependentName(PathUtil.getCanonicalPath(myPrevInstallation.getText()));
    }
 else {
      instHome=null;
    }
    if (StringUtil.isEmpty(instHome)) {
      JOptionPane.showMessageDialog(this,mySettings.getEmptyHomeErrorText(productWithVendor),mySettings.getInstallationHomeRequiredTitle(),JOptionPane.ERROR_MESSAGE);
      return;
    }
    String currentInstanceHomePath=PathManager.getHomePath();
    if (SystemInfo.isFileSystemCaseSensitive ? currentInstanceHomePath.equals(instHome) : currentInstanceHomePath.equalsIgnoreCase(instHome)) {
      JOptionPane.showMessageDialog(this,mySettings.getCurrentHomeErrorText(productWithVendor),mySettings.getInstallationHomeRequiredTitle(),JOptionPane.ERROR_MESSAGE);
      return;
    }
    if (myRbImport.isSelected() && !ConfigImportHelper.isInstallationHomeOrConfig(instHome,mySettings.getProductName(ThreeState.NO))) {
      JOptionPane.showMessageDialog(this,mySettings.getInvalidHomeErrorText(productWithVendor,instHome),mySettings.getInstallationHomeRequiredTitle(),JOptionPane.ERROR_MESSAGE);
      return;
    }
    if (!new File(instHome).canRead()) {
      JOptionPane.showMessageDialog(this,mySettings.getInaccessibleHomeErrorText(instHome),mySettings.getInstallationHomeRequiredTitle(),JOptionPane.ERROR_MESSAGE);
      return;
    }
  }
  dispose();
}
