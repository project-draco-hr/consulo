{
  new MnemonicHelper().register(getContentPane());
  ButtonGroup group=new ButtonGroup();
  group.add(myRbDoNotImport);
  group.add(myRbImport);
  group.add(myRbImportAuto);
  myRbDoNotImport.setSelected(true);
  final String productName=mySettings.getProductName(ThreeState.UNSURE);
  mySuggestLabel.setText(mySettings.getTitleLabel(productName));
  myRbDoNotImport.setText(mySettings.getDoNotImportLabel(productName));
  if (myGuessedOldConfig != null) {
    myRbImportAuto.setText(mySettings.getAutoImportLabel(myGuessedOldConfig));
    myRbImportAuto.setSelected(true);
  }
 else {
    myRbImportAuto.setVisible(false);
  }
  myHomeLabel.setText(mySettings.getHomeLabel(productName));
  myRbImport.addChangeListener(new ChangeListener(){
    public void stateChanged(    ChangeEvent e){
      update();
    }
  }
);
  if (myGuessedOldConfig != null) {
    myPrevInstallation.setText(myGuessedOldConfig.getParent());
  }
 else   if (SystemInfo.isMac) {
    myPrevInstallation.setText(findPreviousInstallationMac(productName));
  }
 else   if (SystemInfo.isWindows) {
    String prevInstall=findPreviousInstallationWindows(productName);
    if (prevInstall != null) {
      myPrevInstallation.setText(prevInstall);
    }
  }
  myPrevInstallation.addActionListener(new ActionListener(){
    public void actionPerformed(    ActionEvent e){
      JFileChooser fc=new JFileChooser();
      if (myLastSelection != null) {
        fc=new JFileChooser(myLastSelection);
      }
      fc.setFileSelectionMode(SystemInfo.isMac ? JFileChooser.FILES_AND_DIRECTORIES : JFileChooser.DIRECTORIES_ONLY);
      fc.setFileHidingEnabled(!SystemInfo.isLinux);
      int returnVal=fc.showOpenDialog(ImportOldConfigsPanel.this);
      if (returnVal == JFileChooser.APPROVE_OPTION) {
        File file=fc.getSelectedFile();
        if (file != null) {
          myLastSelection=file;
          myPrevInstallation.setText(file.getAbsolutePath());
        }
      }
    }
  }
);
  myOkButton.addActionListener(new ActionListener(){
    public void actionPerformed(    ActionEvent e){
      close();
    }
  }
);
  getContentPane().setLayout(new BorderLayout());
  getContentPane().add(myRootPanel);
  getRootPane().setDefaultButton(myOkButton);
  setTitle(ApplicationBundle.message("title.complete.installation"));
  update();
  pack();
  setLocationRelativeTo(null);
}
