{
  Object result=null;
  for (  KeyedFactoryEPBean epBean : epBeans) {
    if (Comparing.strEqual(epBean.key,key,true)) {
      try {
        if (epBean.implementationClass != null) {
          result=epBean.instantiate(epBean.implementationClass,myPicoContainer);
        }
 else {
          Object factory=epBean.instantiate(epBean.factoryClass,myPicoContainer);
          result=method.invoke(factory,args);
        }
        if (result != null) {
          break;
        }
      }
 catch (      InvocationTargetException e) {
        if (e.getCause() instanceof RuntimeException) {
          throw (RuntimeException)e.getCause();
        }
        throw new RuntimeException(e);
      }
catch (      RuntimeException e) {
        throw e;
      }
catch (      Exception e) {
        throw new RuntimeException(e);
      }
    }
  }
  return (T)result;
}
