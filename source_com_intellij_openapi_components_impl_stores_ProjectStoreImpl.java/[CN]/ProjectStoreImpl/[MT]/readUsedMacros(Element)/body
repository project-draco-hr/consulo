{
  Element child=root.getChild(ProjectStateStorageManager.USED_MACROS_ELEMENT_NAME);
  if (child == null) {
    return ArrayUtil.EMPTY_STRING_ARRAY;
  }
  final List children=child.getChildren(ProjectStateStorageManager.ELEMENT_MACRO);
  final List<String> macroNames=new ArrayList<String>(children.size());
  for (  final Object aChildren : children) {
    final Element macro=(Element)aChildren;
    String macroName=macro.getAttributeValue(BaseFileConfigurableStoreImpl.ATTRIBUTE_NAME);
    if (macroName != null) {
      macroNames.add(macroName);
    }
  }
  return macroNames.toArray(new String[macroNames.size()]);
}
