{
  super.load();
  try {
    final StateStorage stateStorage=getStateStorageManager().getFileStateStorage(DEFAULT_STATE_STORAGE);
    if (stateStorage instanceof FileBasedStorage) {
      FileBasedStorage fileBasedStorage=(FileBasedStorage)stateStorage;
      Document doc=fileBasedStorage.getDocument();
      final Element element=doc.getRootElement();
      final List attributes=element.getAttributes();
      for (      Object attribute : attributes) {
        Attribute attr=(Attribute)attribute;
        final String optionName=attr.getName();
        final @NonNls String optionValue=attr.getValue();
        if (optionName.equals(RELATIVE_PATHS_OPTION) && optionValue.equals("true")) {
          setSavePathsRelative(true);
        }
      }
    }
  }
 catch (  StateStorage.StateStorageException e) {
    LOG.error(e);
    throw new IOException(e.getMessage());
  }
}
