{
  String projectFilePath=myProject.getProjectFilePath();
  if (projectFilePath == null) {
    return true;
  }
  Document document=JDOMUtil.loadDocument(new File(projectFilePath));
  Element root=document.getRootElement();
  final Set<String> usedMacros=new HashSet<String>(Arrays.asList(readUsedMacros(root)));
  usedMacros.removeAll(definedMacros);
  for (Iterator it=usedMacros.iterator(); it.hasNext(); ) {
    final String macro=(String)it.next();
    final String value=System.getProperty(macro,null);
    if (value != null) {
      projectManager.myPathMacros.setMacro(macro,value);
      it.remove();
    }
  }
  if (usedMacros.isEmpty()) {
    return true;
  }
  return ProjectManagerImpl.showMacrosConfigurationDialog(myProject,usedMacros);
}
