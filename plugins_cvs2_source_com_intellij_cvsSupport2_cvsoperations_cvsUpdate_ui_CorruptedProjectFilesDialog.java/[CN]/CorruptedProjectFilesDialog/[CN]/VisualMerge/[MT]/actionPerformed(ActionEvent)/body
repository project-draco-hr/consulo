{
  try {
    VirtualFile currentVirtualFile=getCurrentVirtualFile();
    InternalMergeAction internalMergeAction=new InternalMergeAction(currentVirtualFile,myProject,null);
    Document conflictWasResolved=internalMergeAction.showMergeDialogForFile(new String(currentVirtualFile.contentsToCharArray()),null);
    if (conflictWasResolved != null) {
      saveExternally(currentVirtualFile,conflictWasResolved);
      onCurrentFileProcessed(false);
    }
  }
 catch (  CannotFindCvsRootException e1) {
    LOG.error(e1);
  }
catch (  IOException e1) {
    LOG.error(e1);
  }
}
