{
  int currentEventCount=IdeEventQueue.getInstance().getEventCount();
  if (myEventCount != -1 && myEventCount != currentEventCount) {
    LOG.error("cannot share data context between Swing events; initial event count = " + myEventCount + "; current event count = "+ currentEventCount);
    return doGetData(dataId);
  }
  Object answer=myCachedData.get(dataId);
  if (answer == null) {
    answer=doGetData(dataId);
    myCachedData.put(dataId,answer == null ? NullResult.INSTANCE : answer);
  }
  return answer != NullResult.INSTANCE ? answer : null;
}
