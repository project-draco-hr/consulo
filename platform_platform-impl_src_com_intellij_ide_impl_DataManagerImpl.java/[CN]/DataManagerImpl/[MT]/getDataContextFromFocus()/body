{
  final AsyncResult<DataContext> context=new AsyncResult<DataContext>();
  IdeFocusManager.getGlobalInstance().doWhenFocusSettlesDown(new Runnable(){
    @Override public void run(){
      context.setDone(getDataContext());
    }
  }
);
  return context;
}
