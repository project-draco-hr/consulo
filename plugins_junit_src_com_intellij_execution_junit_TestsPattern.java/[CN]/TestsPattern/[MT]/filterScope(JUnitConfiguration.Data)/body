{
  final Pattern pattern=Pattern.compile(data.getPattern());
  final JavaPsiFacade facade=JavaPsiFacade.getInstance(myConfiguration.getProject());
  final PsiManager manager=PsiManager.getInstance(myConfiguration.getProject());
  return new GlobalSearchScope(){
    @Override public boolean contains(    VirtualFile file){
      if (!file.isDirectory()) {
        final PsiFile psiFile=manager.findFile(file);
        if (psiFile instanceof PsiClassOwner) {
          if (pattern.matcher(((PsiClassOwner)psiFile).getPackageName()).matches())           return true;
        }
      }
      return false;
    }
    @Override public int compare(    VirtualFile file1,    VirtualFile file2){
      return 0;
    }
    @Override public boolean isSearchInModuleContent(    @NotNull Module aModule){
      return true;
    }
    @Override public boolean isSearchInLibraries(){
      return false;
    }
  }
;
}
