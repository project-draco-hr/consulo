{
  super.initialize();
  final JUnitConfiguration.Data data=myConfiguration.getPersistentData();
  RunConfigurationModule module=myConfiguration.getConfigurationModule();
  JavaParametersUtil.configureModule(module,myJavaParameters,JavaParameters.JDK_AND_CLASSES_AND_TESTS,myConfiguration.isAlternativeJrePathEnabled() ? myConfiguration.getAlternativeJrePath() : null);
  final Project project=module.getProject();
  final String[] classNames=data.getPattern().split("\\|\\|");
  boolean isJUnit4=false;
  for (  String className : classNames) {
    final PsiClass psiClass=JavaExecutionUtil.findMainClass(project,className,GlobalSearchScope.allScope(project));
    if (JUnitUtil.isJUnit4TestClass(psiClass)) {
      isJUnit4=true;
      break;
    }
  }
  addClassesListToJavaParameters(Arrays.asList(classNames),new Function<String,String>(){
    public String fun(    String className){
      return className;
    }
  }
,"",true,isJUnit4);
}
