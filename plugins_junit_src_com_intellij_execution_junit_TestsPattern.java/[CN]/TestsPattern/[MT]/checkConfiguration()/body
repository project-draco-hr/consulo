{
  final JUnitConfiguration.Data data=myConfiguration.getPersistentData();
  final Set<String> patterns=data.getPatterns();
  if (patterns.isEmpty()) {
    throw new RuntimeConfigurationWarning("No pattern selected");
  }
  final GlobalSearchScope searchScope=GlobalSearchScope.allScope(myConfiguration.getProject());
  for (  String pattern : patterns) {
    final String className=pattern.contains(",") ? StringUtil.getPackageName(pattern,',') : pattern;
    final PsiClass psiClass=JavaExecutionUtil.findMainClass(myConfiguration.getProject(),className,searchScope);
    if (psiClass == null) {
      throw new RuntimeConfigurationWarning("Class " + className + " not found");
    }
    if (!JUnitUtil.isTestClass(psiClass)) {
      throw new RuntimeConfigurationWarning("Class " + className + " not a test");
    }
  }
}
