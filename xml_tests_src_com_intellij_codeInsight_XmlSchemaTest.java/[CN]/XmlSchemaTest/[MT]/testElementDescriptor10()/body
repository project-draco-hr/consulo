{
  XmlNSDescriptor NSDescriptor=createDescriptor("<xsd:schema xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\">" + "<xsd:element name=\"purchaseOrder\" type=\"PurchaseOrderType\"/>" + "<xsd:complexType name=\"PurchaseOrderType\">"+ "    <xsd:attributeGroup ref=\"ddd:bookAttributes\"/>"+ "</xsd:complexType>"+ "<xsd:attributeGroup name=\"bookAttributes\">"+ "   <xsd:attribute name=\"isbn\" type=\"xs:string\" use=\"required\"/>"+ "   <xsd:attribute name=\"available\" type=\"xs:string\"/>"+ "</xsd:attributeGroup>"+ "</xsd:schema>");
  final XmlTag tag=XmlTestUtil.tag("purchaseOrder",getProject());
  XmlElementDescriptor elementDescriptor=NSDescriptor.getElementDescriptor(tag);
  XmlAttributeDescriptor[] attributes=elementDescriptor.getAttributesDescriptors(tag);
  assertEquals(2,attributes.length);
  assertEquals("isbn",attributes[0].getName());
  assertEquals("available",attributes[1].getName());
  assertEquals("isbn",elementDescriptor.getAttributeDescriptor("isbn",tag).getName());
  assertNull(elementDescriptor.getAttributeDescriptor("xxx",tag));
}
