{
  PsiManager manager=psiClass.getManager();
  GlobalSearchScope resolveScope=psiClass.getResolveScope();
  if (psiClass.isInterface()) {
    return JavaPsiFacade.getInstance(manager.getProject()).findClass("java.lang.Object",resolveScope);
  }
  if (psiClass.isEnum()) {
    return JavaPsiFacade.getInstance(manager.getProject()).findClass("java.lang.Enum",resolveScope);
  }
  if (psiClass instanceof PsiAnonymousClass) {
    PsiClassType baseClassReference=((PsiAnonymousClass)psiClass).getBaseClassType();
    PsiClass baseClass=baseClassReference.resolve();
    if (baseClass == null || baseClass.isInterface())     return JavaPsiFacade.getInstance(manager.getProject()).findClass("java.lang.Object",resolveScope);
    return baseClass;
  }
  if ("java.lang.Object".equals(psiClass.getQualifiedName()))   return null;
  final PsiClassType[] referenceElements=psiClass.getExtendsListTypes();
  if (referenceElements.length == 0)   return JavaPsiFacade.getInstance(manager.getProject()).findClass("java.lang.Object",resolveScope);
  PsiClass psiResoved=referenceElements[0].resolve();
  return psiResoved == null ? JavaPsiFacade.getInstance(manager.getProject()).findClass("java.lang.Object",resolveScope) : psiResoved;
}
