{
  PsiClass objectClass=JavaPsiFacade.getInstance(manager.getProject()).findClass("java.lang.Object",resolveScope);
  if (objectClass == null)   includeObject=false;
  if (listOfTypes == null || listOfTypes.length == 0) {
    if (includeObject)     return new PsiClass[]{objectClass};
    return PsiClass.EMPTY_ARRAY;
  }
  int referenceCount=listOfTypes.length;
  if (includeObject)   referenceCount++;
  PsiClass[] resolved=new PsiClass[referenceCount];
  int resolvedCount=0;
  if (includeObject)   resolved[resolvedCount++]=objectClass;
  for (  PsiClassType reference : listOfTypes) {
    PsiClass refResolved=reference.resolve();
    if (refResolved != null)     resolved[resolvedCount++]=refResolved;
  }
  if (resolvedCount < referenceCount) {
    PsiClass[] shorter=new PsiClass[resolvedCount];
    System.arraycopy(resolved,0,shorter,0,resolvedCount);
    resolved=shorter;
  }
  return resolved;
}
