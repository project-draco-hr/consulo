{
  PsiClassType superType;
  final PsiManager manager=psiClass.getManager();
  final PsiClass enumClass=JavaPsiFacade.getInstance(manager.getProject()).findClass("java.lang.Enum",psiClass.getResolveScope());
  if (enumClass == null) {
    try {
      superType=(PsiClassType)factory.createTypeFromText("java.lang.Enum",null);
    }
 catch (    IncorrectOperationException e) {
      superType=null;
    }
  }
 else {
    final PsiTypeParameter[] typeParameters=enumClass.getTypeParameters();
    PsiSubstitutor substitutor=PsiSubstitutor.EMPTY;
    if (typeParameters.length == 1) {
      substitutor=substitutor.put(typeParameters[0],factory.createType(psiClass));
    }
    superType=new PsiImmediateClassType(enumClass,substitutor);
  }
  return superType;
}
