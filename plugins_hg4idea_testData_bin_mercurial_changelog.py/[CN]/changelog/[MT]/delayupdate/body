def delayupdate(self):
    'delay visibility of index updates to other readers'
    self._delayed = True
    self._divert = (len(self) == 0)
    self._delaybuf = []
    self.opener = delayopener(self._realopener, self.indexfile, self._divert, self._delaybuf)
