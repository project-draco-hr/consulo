def writepending(self):
    'create a file containing the unfinalized state for pretxnchangegroup'
    if self._delaybuf:
        fp1 = self._realopener(self.indexfile)
        fp2 = self._realopener((self.indexfile + '.a'), 'w')
        fp2.write(fp1.read())
        fp2.write(''.join(self._delaybuf))
        fp2.close()
        self._delaybuf = []
        self._divert = True
    if self._divert:
        return True
    return False
