def seek(self, offset, whence=0):
    'virtual file offset spans real file and data'
    if (whence == 0):
        self.offset = offset
    elif (whence == 1):
        self.offset += offset
    elif (whence == 2):
        self.offset = (self.end() + offset)
    if (self.offset < self.size):
        self.fp.seek(self.offset)
