def read(self, count=(-1)):
    'only trick here is reads that span real file and data'
    ret = ''
    if (self.offset < self.size):
        s = self.fp.read(count)
        ret = s
        self.offset += len(s)
        if (count > 0):
            count -= len(s)
    if (count != 0):
        doff = (self.offset - self.size)
        self.data.insert(0, ''.join(self.data))
        del self.data[1:]
        s = self.data[0][doff:(doff + count)]
        self.offset += len(s)
        ret += s
    return ret
