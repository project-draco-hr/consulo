{
  final Editor editor=DataKeys.EDITOR.getData(e.getDataContext());
  final PsiFile file=DataKeys.PSI_FILE.getData(e.getDataContext());
  final Project project=DataKeys.PROJECT.getData(e.getDataContext());
  if (project != null && editor != null && file != null) {
    final PsiFile context=PsiTreeUtil.getContextOfType(file,XmlFile.class,false);
    if (context != null && XsltSupport.isXsltFile(context)) {
      invoke(project,editor,file,e.getDataContext());
    }
 else {
      getHookedAction().actionPerformed(e);
    }
  }
 else {
    getHookedAction().actionPerformed(e);
  }
}
