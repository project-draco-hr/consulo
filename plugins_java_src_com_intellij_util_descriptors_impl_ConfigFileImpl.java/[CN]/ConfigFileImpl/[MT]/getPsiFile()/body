{
  Reference<PsiFile> ref=myPsiFile;
  PsiFile psiFile=ref == null ? null : ref.get();
  if (psiFile != null && psiFile.isValid()) {
    return psiFile;
  }
  VirtualFile virtualFile=getVirtualFile();
  if (virtualFile == null || !virtualFile.isValid())   return null;
  psiFile=PsiManager.getInstance(myProject).findFile(virtualFile);
  myPsiFile=new SoftReference<PsiFile>(psiFile);
  return psiFile;
}
