{
  int length=file == null ? -1 : Math.min(file.getTextLength(),document.getTextLength());
  RangeMarker marker=length == -1 ? null : document.createRangeMarker(0,length);
  dirtyScopes.put(Pass.UPDATE_ALL,marker);
  dirtyScopes.put(Pass.EXTERNAL_TOOLS,marker);
  dirtyScopes.put(Pass.LOCAL_INSPECTIONS,marker);
  TextEditorHighlightingPassRegistrarImpl registrar=(TextEditorHighlightingPassRegistrarImpl)TextEditorHighlightingPassRegistrar.getInstance(project);
  for (  DirtyScopeTrackingHighlightingPassFactory factory : registrar.getDirtyScopeTrackingFactories()) {
    dirtyScopes.put(factory.getPassId(),marker);
  }
}
