{
synchronized (myDocumentToStatusMap) {
    FileStatus status=myDocumentToStatusMap.get(document);
    if (status == null)     return;
    if (status.defensivelyMarked) {
      status.defensivelyMarked=false;
    }
    status.dirtyScope=combineScopes(status.dirtyScope,scope,document,myProject);
    status.localInspectionsDirtyScope=combineScopes(status.localInspectionsDirtyScope,scope,document,myProject);
    status.externalDirtyScope=combineScopes(status.externalDirtyScope,scope,document,myProject);
  }
}
