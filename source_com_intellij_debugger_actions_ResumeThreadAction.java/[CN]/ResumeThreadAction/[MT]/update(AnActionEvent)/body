{
  DebuggerTreeNodeImpl[] selectedNodes=getSelectedNodes(e.getDataContext());
  boolean visible=false;
  if (selectedNodes != null && selectedNodes.length > 0) {
    visible=true;
    for (int i=0; i < selectedNodes.length; i++) {
      NodeDescriptorImpl threadDescriptor=selectedNodes[i].getDescriptor();
      if (!(threadDescriptor instanceof ThreadDescriptorImpl) || !((ThreadDescriptorImpl)threadDescriptor).isSuspended()) {
        visible=false;
        break;
      }
    }
  }
  e.getPresentation().setVisible(visible);
}
