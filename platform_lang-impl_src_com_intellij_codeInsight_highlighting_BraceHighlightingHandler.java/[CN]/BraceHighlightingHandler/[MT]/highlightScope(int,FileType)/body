{
  if (myEditor.getFoldingModel().isOffsetCollapsed(offset))   return;
  if (myEditor.getDocument().getTextLength() <= offset)   return;
  HighlighterIterator iterator=getEditorHighlighter().createIterator(offset);
  final CharSequence chars=myDocument.getCharsSequence();
  if (!BraceMatchingUtil.isStructuralBraceToken(fileType,iterator,chars)) {
  }
 else {
    if (BraceMatchingUtil.isRBraceToken(iterator,chars,fileType) || BraceMatchingUtil.isLBraceToken(iterator,chars,fileType))     return;
  }
  if (!BraceMatchingUtil.findStructuralLeftBrace(fileType,iterator,chars)) {
    removeLineMarkers();
    return;
  }
  highlightLeftBrace(iterator,true,fileType);
}
