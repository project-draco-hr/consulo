{
  MavenEmbedderWrapper embedder=myEmbeddersManager.getEmbedder(MavenEmbeddersManager.FOR_DOWNLOAD);
  embedder.customizeForResolve(new SoutMavenConsole(),new MavenProgressIndicator(new EmptyProgressIndicator()));
  List<MavenArtifactInfo> infos=ContainerUtil.map(artifact,ARTIFACT_INFO_FUNCTION);
  List<MavenRemoteRepository> remoteRepositories=ContainerUtil.map(repositories,REMOTE_REPOSITORY_FUNCTION);
  try {
    List<MavenArtifact> artifacts=embedder.resolveTransitively(infos,remoteRepositories);
    return ContainerUtil.map(artifacts,new Function<MavenArtifact,Artifact>(){
      @Override public Artifact fun(      MavenArtifact mavenArtifact){
        return new ArtifactAdapter(mavenArtifact);
      }
    }
);
  }
 catch (  MavenProcessCanceledException e) {
    throw new RuntimeException(e);
  }
}
