{
  myHighlighting=highlighting;
  mySwitcher=switcher;
  myGutters=gutters;
  myPopupLineNumberListeners=new LinkedList<Consumer<Integer>>();
  myActions=new ArrayList<AnAction>();
  myActions.add(Separator.getInstance());
  if (actions != null) {
    final List<AnAction> actionsList=Arrays.<AnAction>asList(actions);
    if (!actionsList.isEmpty()) {
      myActions.addAll(actionsList);
      myActions.add(new Separator());
    }
  }
  myActions.addAll(myHighlighting.getList());
  if (mySwitcher != null) {
    mySwitchAction=new MySwitchAnnotationSourceAction(mySwitcher,gutter);
    myActions.add(mySwitchAction);
  }
  myActions.add(new ShowHideColorsAction(myGutters,gutter));
}
