{
  final Map<String,Color> bgColors=new HashMap<String,Color>();
  final Map<String,Color> revNumbers=new HashMap<String,Color>();
  final int length=BG_COLORS.length;
  final List<VcsFileRevision> fileRevisionList=fileAnnotation.getRevisions();
  final boolean darcula=UIUtil.isUnderDarcula();
  if (fileRevisionList != null) {
    for (    VcsFileRevision revision : fileRevisionList) {
      final String author=revision.getAuthor();
      final String revNumber=revision.getRevisionNumber().asString();
      if (author != null && !bgColors.containsKey(author)) {
        final int size=bgColors.size();
        Color color=BG_COLORS[size < length ? size : size % length];
        if (darcula) {
          color=ColorUtil.shift(color,0.3);
        }
        bgColors.put(author,color);
      }
      if (revNumber != null && !revNumbers.containsKey(revNumber)) {
        revNumbers.put(revNumber,bgColors.get(author));
      }
    }
  }
  return bgColors.size() < 2 ? null : revNumbers;
}
