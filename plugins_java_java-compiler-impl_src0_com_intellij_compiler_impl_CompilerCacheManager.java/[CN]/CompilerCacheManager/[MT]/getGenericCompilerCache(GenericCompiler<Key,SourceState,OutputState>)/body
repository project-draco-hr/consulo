{
  GenericCompilerCache<?,?,?> cache=myGenericCachesMap.get(compiler);
  if (cache == null) {
    final GenericCompilerCache<?,?,?> genericCache=new GenericCompilerCache<Key,SourceState,OutputState>(compiler,GenericCompilerRunner.getGenericCompilerCacheDir(myProject,compiler));
    myGenericCachesMap.put(compiler,genericCache);
    myCacheDisposables.add(new Disposable(){
      public void dispose(){
        if (LOG.isDebugEnabled()) {
          LOG.debug("Closing cache for feneric compiler " + compiler.getId());
        }
        genericCache.close();
      }
    }
);
    cache=genericCache;
  }
  return (GenericCompilerCache<Key,SourceState,OutputState>)cache;
}
