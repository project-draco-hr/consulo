{
  if (addingDescription) {
    addingDescription=false;
    logInfo.setDescription(getMessageFromBuffer());
  }
  if (processingRevision) {
    logInfo.addRevision(revision);
    if (logMessageBuffer.size() > 0 && lastLogMessageIsFinalSeparator(logMessageBuffer.get(logMessageBuffer.size() - 1))) {
      logMessageBuffer.remove(logMessageBuffer.size() - 1);
    }
 else     if (logMessageBuffer.size() > 1 && lastLogMessageIsFinalSeparator(logMessageBuffer.get(logMessageBuffer.size() - 1)) && logMessageBuffer.get(logMessageBuffer.size() - 1).length() == 0) {
      logMessageBuffer.remove(logMessageBuffer.size() - 2);
      logMessageBuffer.remove(logMessageBuffer.size() - 1);
    }
    revision.setMessage(getMessageFromBuffer());
    revision=null;
    processingRevision=false;
  }
  if (logInfo != null) {
    eventSender.notifyFileInfoListeners(logInfo);
    logInfo=null;
  }
  logMessageBuffer=null;
}
