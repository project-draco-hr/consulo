{
  return new XmlElementVisitor(){
    @Override public void visitXmlTag(    XmlTag tag){
      DomElement element=DomUtil.getDomElement(tag);
      if (element instanceof Extension) {
        ExtensionPoint extensionPoint=((Extension)element).getExtensionPoint();
        if (extensionPoint != null && InheritanceUtil.isInheritor(extensionPoint.getBeanClass().getValue(),"com.intellij.codeInspection.InspectionEP")) {
          boolean key=tag.getAttribute("key") != null;
          boolean groupKey=tag.getAttribute("groupKey") != null;
          if (key) {
            if (tag.getAttribute("bundle") == null) {
              checkDefaultBundle(element,holder);
            }
          }
 else           if (tag.getAttribute("displayName") == null) {
            registerProblem(element,holder,"displayName or key should be specified");
          }
          if (groupKey) {
            if (tag.getAttribute("bundle") == null && tag.getAttribute("groupBundle") == null) {
              checkDefaultBundle(element,holder);
            }
          }
 else           if (tag.getAttribute("groupName") == null) {
            registerProblem(element,holder,"groupName or groupKey should be specified");
          }
        }
      }
    }
  }
;
}
