{
  PsiType nominal=getNominalType(method);
  if (nominal != null && nominal.equals(PsiType.VOID))   return nominal;
  PsiType inferred=getInferredType(method);
  if (nominal == null)   return inferred;
  if (inferred != null && inferred != PsiType.NULL) {
    if (nominal.isAssignableFrom(inferred))     return inferred;
  }
  return nominal;
}
