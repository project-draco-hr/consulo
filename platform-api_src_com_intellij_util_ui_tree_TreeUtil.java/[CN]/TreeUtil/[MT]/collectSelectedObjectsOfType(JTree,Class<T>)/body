{
  final TreePath[] selections=tree.getSelectionPaths();
  if (selections != null) {
    final ArrayList<T> result=new ArrayList<T>();
    for (    TreePath selection : selections) {
      final DefaultMutableTreeNode node=(DefaultMutableTreeNode)selection.getLastPathComponent();
      final Object userObject=node.getUserObject();
      if (clazz.isInstance(userObject)) {
        result.add((T)userObject);
      }
    }
    return result;
  }
  return Collections.emptyList();
}
