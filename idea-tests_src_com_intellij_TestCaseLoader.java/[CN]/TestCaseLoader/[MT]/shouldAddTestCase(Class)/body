{
  if ((testCaseClass.getModifiers() & Modifier.ABSTRACT) != 0)   return false;
  boolean shouldAdd=false;
  if (shouldExcludeTestClass(testCaseClass))   return false;
  if ((TestCase.class.isAssignableFrom(testCaseClass) || TestSuite.class.isAssignableFrom(testCaseClass)) && testCaseClass.getName().endsWith(TEST_NAME_SUFFIX)) {
    if (USE_ADVANCED_LOGIC) {
      String name=testCaseClass.getName().substring(0,testCaseClass.getName().length() - TEST_NAME_SUFFIX.length());
      try {
        Class.forName(name);
        shouldAdd=true;
      }
 catch (      ClassNotFoundException ignored) {
      }
    }
 else {
      shouldAdd=true;
    }
  }
 else   if (testCaseClass.getName().endsWith(TEST_NAME_SUFFIX)) {
    try {
      final Method suiteMethod=testCaseClass.getMethod("suite");
      if (Test.class.isAssignableFrom(suiteMethod.getReturnType()) && (suiteMethod.getModifiers() & Modifier.STATIC) != 0) {
        shouldAdd=true;
      }
    }
 catch (    NoSuchMethodException e) {
    }
  }
  return shouldAdd;
}
