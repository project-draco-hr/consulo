{
  final int[] result=new int[1];
  Runnable command;
  if (certificate instanceof X509Certificate) {
    command=new Runnable(){
      public void run(){
        ServerSSLDialog dialog=new ServerSSLDialog(myProject,(X509Certificate)certificate,resultMayBeStored);
        dialog.show();
        result[0]=dialog.getResult();
      }
    }
;
  }
 else   if (certificate instanceof byte[]) {
    final String sshKeyAlgorithm=myManager.getSSHKeyAlgorithm();
    command=new Runnable(){
      @Override public void run(){
        final ServerSSHDialog serverSSHDialog=new ServerSSHDialog(myProject,resultMayBeStored,url.toDecodedString(),sshKeyAlgorithm,(byte[])certificate);
        serverSSHDialog.show();
        result[0]=serverSSHDialog.getResult();
      }
    }
;
  }
 else {
    VcsBalloonProblemNotifier.showOverChangesView(myProject,"Subversion: unknown certificate type from " + url.toDecodedString(),MessageType.ERROR);
    return REJECTED;
  }
  try {
    GuiUtils.runOrInvokeAndWait(command);
  }
 catch (  InterruptedException e) {
  }
catch (  InvocationTargetException e) {
  }
  return result[0];
}
