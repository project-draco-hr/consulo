{
  if (!(element instanceof PsiReferenceExpression))   return false;
  PsiElement resolved=((PsiReferenceExpression)element).resolve();
  if (!(resolved instanceof PsiField))   return false;
  PsiField field=(PsiField)resolved;
  if (!field.hasModifierProperty(PsiModifier.FINAL))   return false;
  PsiElement parent=element.getParent();
  if (parent instanceof PsiPrefixExpression && ((PsiPrefixExpression)parent).getOperationSign().getTokenType() == JavaTokenType.EXCL) {
    element=parent;
    parent=parent.getParent();
  }
  return parent instanceof PsiIfStatement && ((PsiIfStatement)parent).getCondition() == element;
}
