{
  if (!(element instanceof PsiExpression))   return null;
  final PsiExpression expression=(PsiExpression)element;
  while (element.getParent() instanceof PsiExpression) {
    element=element.getParent();
  }
  final SimplifyBooleanExpressionFix fix=new SimplifyBooleanExpressionFix(expression,value);
  if (!fix.isAvailable(element.getProject(),null,element.getContainingFile()) || SimplifyBooleanExpressionFix.canBeSimplified((PsiExpression)element)) {
    return null;
  }
  return new LocalQuickFix(){
    @NotNull public String getName(){
      return fix.getText();
    }
    public void applyFix(    @NotNull Project project,    @NotNull ProblemDescriptor descriptor){
      final PsiElement psiElement=descriptor.getPsiElement();
      try {
        LOG.assertTrue(psiElement.isValid());
        fix.invoke(project,null,psiElement.getContainingFile());
      }
 catch (      IncorrectOperationException e) {
        LOG.error(e);
      }
    }
    @NotNull public String getFamilyName(){
      return InspectionsBundle.message("inspection.data.flow.simplify.boolean.expression.quickfix");
    }
  }
;
}
