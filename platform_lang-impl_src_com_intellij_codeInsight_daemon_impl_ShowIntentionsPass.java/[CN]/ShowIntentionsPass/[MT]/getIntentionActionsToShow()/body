{
  if (LookupManager.getInstance(myProject).getActiveLookup() != null)   return;
  getActionsToShow(myEditor,myFile,myIntentionsInfo,myPassIdToShowIntentionsFor);
  if (myFile instanceof IntentionFilterOwner) {
    final IntentionFilterOwner.IntentionActionsFilter actionsFilter=((IntentionFilterOwner)myFile).getIntentionActionsFilter();
    if (actionsFilter == null)     return;
    if (actionsFilter != IntentionFilterOwner.IntentionActionsFilter.EVERYTHING_AVAILABLE) {
      myIntentionsInfo.filterActions(actionsFilter);
    }
  }
  if (myIntentionsInfo.isEmpty()) {
    return;
  }
  myShowBulb=!myIntentionsInfo.guttersToShow.isEmpty() || ContainerUtil.exists(ContainerUtil.concat(myIntentionsInfo.errorFixesToShow,myIntentionsInfo.inspectionFixesToShow,myIntentionsInfo.intentionsToShow),new Condition<HighlightInfo.IntentionActionDescriptor>(){
    @Override public boolean value(    HighlightInfo.IntentionActionDescriptor descriptor){
      return IntentionManagerSettings.getInstance().isShowLightBulb(descriptor.getAction());
    }
  }
);
}
