{
  final DebuggerContextImpl context=getContext();
  final boolean paused=context.getDebuggerSession().isPaused();
  if (!paused || !refreshOnly) {
    myThreadsCombo.removeAllItems();
synchronized (myFramesList) {
      myFramesLastUpdateTime=getNextStamp();
      myFramesList.getModel().clear();
    }
  }
  if (paused) {
    final DebugProcessImpl process=context.getDebugProcess();
    if (process != null) {
      process.getManagerThread().schedule(new RefreshFramePanelCommand(refreshOnly && myThreadsCombo.getItemCount() != 0));
    }
  }
}
