{
  final DebuggerContextImpl context=getContext();
  final boolean paused=context.getDebuggerSession().isPaused();
  final boolean isRefresh=event == DebuggerSession.EVENT_REFRESH || event == DebuggerSession.EVENT_REFRESH_VIEWS_ONLY || event == DebuggerSession.EVENT_THREADS_REFRESH;
  if (!paused || !isRefresh) {
    myThreadsCombo.removeAllItems();
synchronized (myFramesList) {
      myFramesLastUpdateTime=getNextStamp();
      myFramesList.getModel().clear();
    }
  }
  if (paused) {
    final DebugProcessImpl process=context.getDebugProcess();
    if (process != null) {
      process.getManagerThread().schedule(new RefreshFramePanelCommand(isRefresh && myThreadsCombo.getItemCount() != 0));
    }
  }
}
