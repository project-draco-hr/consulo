{
  final DebuggerContextImpl context=getContext();
  final boolean paused=context.getDebuggerSession().isPaused();
  if (!paused || !updateOnly) {
    myThreadsCombo.removeAllItems();
synchronized (myFramesList) {
      myFramesList.clear();
    }
  }
  if (paused) {
    final DebugProcessImpl process=context.getDebugProcess();
    if (process != null) {
      process.getManagerThread().schedule(new RefreshFramePanelCommand(updateOnly && myThreadsCombo.getItemCount() != 0));
    }
  }
}
