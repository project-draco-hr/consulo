{
  myFileListener=createFileListener();
  myFileContentProvider=new FileContentProvider(){
    public VirtualFile[] getCoveredDirectories(){
      return myRootManager.getContentRoots();
    }
    @Nullable public ProvidedContent getProvidedContent(    VirtualFile f){
      Entry e=myVcs.findEntry(f.getPath());
      return e == null ? null : new EntryContent(e);
    }
    public VirtualFileListener getVirtualFileListener(){
      return myFileListener;
    }
  }
;
  myFileManager.registerFileContentProvider(myFileContentProvider);
}
