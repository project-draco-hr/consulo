{
  myFileListener=new VirtualFileAdapter(){
    @Override public void fileCreated(    VirtualFileEvent e){
      if (notForMe(e))       return;
      createFile(e.getFile());
    }
    @Override public void contentsChanged(    VirtualFileEvent e){
      if (notForMe(e))       return;
      changeFileContent(e.getFile());
    }
    @Override public void beforePropertyChange(    VirtualFilePropertyEvent e){
      if (notForMe(e))       return;
      if (!e.getPropertyName().equals(VirtualFile.PROP_NAME))       return;
      rename(e.getFile(),(String)e.getNewValue());
    }
    @Override public void beforeFileMovement(    VirtualFileMoveEvent e){
      if (notForMe(e))       return;
      move(e.getFile(),e.getNewParent());
    }
    @Override public void beforeFileDeletion(    VirtualFileEvent e){
      if (notForMe(e))       return;
      delete(e.getFile());
    }
    private boolean notForMe(    VirtualFileEvent e){
      return myRootManager.getFileIndex().getModuleForFile(e.getFile()) == null;
    }
  }
;
  myFileManager.addVirtualFileListener(myFileListener);
}
