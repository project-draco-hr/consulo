{
  final JavaParameters params=new JavaParameters();
  final JavaRunConfigurationModule module=myConfiguration.getConfigurationModule();
  final int classPathType=JavaParametersUtil.getClasspathType(module,myConfiguration.MAIN_CLASS_NAME,false);
  final String jreHome=myConfiguration.ALTERNATIVE_JRE_PATH_ENABLED ? myConfiguration.ALTERNATIVE_JRE_PATH : null;
  JavaParametersUtil.configureModule(module,params,classPathType,jreHome);
  JavaParametersUtil.configureConfiguration(params,myConfiguration);
  params.setMainClass(myConfiguration.MAIN_CLASS_NAME);
  for (  RunConfigurationExtension ext : Extensions.getExtensions(RunConfigurationExtension.EP_NAME)) {
    ext.updateJavaParameters(myConfiguration,params,getRunnerSettings());
  }
  return params;
}
