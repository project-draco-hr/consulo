{
  declareCompletionSpaces();
  final CompletionVariant variant=new CompletionVariant(PsiMethod.class,new PatternFilter(not(psiElement().afterLeaf(psiElement().withText("@")))));
  variant.includeScopeClass(PsiVariable.class);
  variant.includeScopeClass(PsiClass.class);
  variant.includeScopeClass(PsiFile.class);
  variant.includeScopeClass(PsiParameterList.class);
  variant.addCompletion(new ModifierChooser());
  registerVariant(variant);
  initVariantsInFileScope();
  initVariantsInClassScope();
  initVariantsInMethodScope();
  initVariantsInFieldScope();
  defineScopeEquivalence(PsiMethod.class,PsiClassInitializer.class);
  defineScopeEquivalence(PsiMethod.class,PsiCodeFragment.class);
}
