{
  final PsiElementVisitor visitor=new JavaRecursiveElementVisitor(){
    @Override public void visitReferenceExpression(    @NotNull PsiReferenceExpression expression){
      super.visitReferenceExpression(expression);
      final String name=expression.getReferenceName();
      if (!HardcodedMethodConstants.LENGTH.equals(name)) {
        return;
      }
      final PsiExpression qualifier=expression.getQualifierExpression();
      if (qualifier == null) {
        return;
      }
      final PsiType type=qualifier.getType();
      if (!(type instanceof PsiArrayType)) {
        return;
      }
      final PsiElement lengthElement=expression.getReferenceNameElement();
      if (lengthElement == null) {
        return;
      }
      registerError(lengthElement);
    }
  }
;
  condition.accept(visitor);
}
