{
  if (qualifiedName == null)   return null;
  final Module module=getModule();
  final GlobalSearchScope scope;
  if (module != null) {
    scope=myClassesInLibraries ? GlobalSearchScope.moduleWithDependenciesAndLibrariesScope(module) : GlobalSearchScope.moduleWithDependenciesScope(module);
  }
 else {
    scope=myClassesInLibraries ? GlobalSearchScope.allScope(myProject) : GlobalSearchScope.projectScope(myProject);
  }
  return JavaPsiFacade.getInstance(myProject).findClass(qualifiedName.replace('$','.'),scope);
}
