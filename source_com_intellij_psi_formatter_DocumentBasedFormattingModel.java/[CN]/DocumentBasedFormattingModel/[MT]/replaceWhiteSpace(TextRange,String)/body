{
  if (textRange.getLength() > 0) {
    final CharSequence current=myDocument.getCharsSequence().subSequence(textRange.getStartOffset(),textRange.getEndOffset());
    final String ws=current.toString();
    LOG.assertTrue(ws.trim().length() == 0,ws);
  }
  myDocument.replaceString(textRange.getStartOffset(),textRange.getEndOffset(),whiteSpace);
  return new TextRange(textRange.getStartOffset(),textRange.getStartOffset() + whiteSpace.length());
}
