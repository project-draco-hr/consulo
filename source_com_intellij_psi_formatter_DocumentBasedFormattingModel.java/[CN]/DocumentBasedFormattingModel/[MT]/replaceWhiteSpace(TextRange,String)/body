{
  if (textRange.getLength() > 0) {
    final CharSequence current=myDocument.getCharsSequence().subSequence(textRange.getStartOffset(),textRange.getEndOffset());
    final String ws=current.toString();
    if (ws.trim().length() > 0) {
      LOG.assertTrue(false,"Document text:" + myDocument.getText() + "\nwsText:"+ ws);
    }
  }
  myDocument.replaceString(textRange.getStartOffset(),textRange.getEndOffset(),whiteSpace);
  return new TextRange(textRange.getStartOffset(),textRange.getStartOffset() + whiteSpace.length());
}
