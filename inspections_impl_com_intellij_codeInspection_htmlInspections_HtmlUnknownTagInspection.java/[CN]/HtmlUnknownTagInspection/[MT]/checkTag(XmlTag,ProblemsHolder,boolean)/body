{
  if (tag.getUserData(DO_NOT_VALIDATE_KEY) == null) {
    final XmlElementDescriptor descriptor=tag.getDescriptor();
    if (tag instanceof HtmlTag && (descriptor instanceof AnyXmlElementDescriptor || descriptor == null)) {
      final String name=tag.getName();
      if (!isCustomValuesEnabled() || !isCustomValue(name)) {
        final AddCutomTagOrAttributeIntentionAction action=new AddCutomTagOrAttributeIntentionAction(getShortName(),name,XmlEntitiesInspection.UNKNOWN_TAG);
        final String message=XmlErrorMessages.message("unknown.html.tag",name);
        final PsiElement startTagName=XmlTagUtil.getStartTagNameElement(tag);
        final PsiElement endTagName=XmlTagUtil.getEndTagNameElement(tag);
        holder.registerProblem(startTagName,message,ProblemHighlightType.GENERIC_ERROR_OR_WARNING,action);
        if (endTagName != null) {
          holder.registerProblem(endTagName,message,ProblemHighlightType.GENERIC_ERROR_OR_WARNING,action);
        }
      }
    }
  }
}
