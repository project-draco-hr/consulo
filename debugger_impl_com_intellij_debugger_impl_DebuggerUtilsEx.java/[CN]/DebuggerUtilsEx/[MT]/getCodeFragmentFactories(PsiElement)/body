{
  final DefaultCodeFragmentFactory defaultFactry=DefaultCodeFragmentFactory.getInstance();
  final CodeFragmentFactory[] providers=ApplicationManager.getApplication().getComponents(CodeFragmentFactory.class);
  final List<CodeFragmentFactory> suitableFactories=new ArrayList<CodeFragmentFactory>(providers.length);
  if (providers.length > 0) {
    for (    CodeFragmentFactory factory : providers) {
      if (factory != defaultFactry && factory.isContextAccepted(context)) {
        suitableFactories.add(factory);
      }
    }
  }
  suitableFactories.add(defaultFactry);
  return suitableFactories;
}
