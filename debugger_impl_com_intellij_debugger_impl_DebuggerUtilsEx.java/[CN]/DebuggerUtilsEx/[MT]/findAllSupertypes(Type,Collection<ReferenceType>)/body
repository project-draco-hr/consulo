{
  if (type instanceof ClassType) {
    ClassType classType=(ClassType)type;
    ClassType superclassType=classType.superclass();
    if (superclassType != null) {
      typeNames.add(superclassType);
      findAllSupertypes(superclassType,typeNames);
    }
    List<InterfaceType> ifaces=classType.allInterfaces();
    for (Iterator<InterfaceType> it=ifaces.iterator(); it.hasNext(); ) {
      InterfaceType iface=it.next();
      typeNames.add(iface);
      findAllSupertypes(iface,typeNames);
    }
  }
  if (type instanceof InterfaceType) {
    List<InterfaceType> ifaces=((InterfaceType)type).superinterfaces();
    for (Iterator<InterfaceType> it=ifaces.iterator(); it.hasNext(); ) {
      InterfaceType iface=it.next();
      typeNames.add(iface);
      findAllSupertypes(iface,typeNames);
    }
  }
}
