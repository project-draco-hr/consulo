{
  LvcsAction actionStarted=LvcsAction.EMPTY;
  if (myProject != null) {
    LocalVcs lvcs=LocalVcs.getInstance(myProject);
    if (isComplex() && lvcs != null) {
      actionStarted=lvcs.startAction(actionName(isUndo) + " " + myCommandName,"",false);
    }
  }
  try {
    performWritableUndoOrRedoAction(isUndo);
  }
  finally {
    actionStarted.finish();
  }
}
