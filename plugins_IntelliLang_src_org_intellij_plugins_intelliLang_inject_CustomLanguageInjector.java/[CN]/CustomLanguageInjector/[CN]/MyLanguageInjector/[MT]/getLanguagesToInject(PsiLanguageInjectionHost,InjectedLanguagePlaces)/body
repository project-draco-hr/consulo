{
  final List<Pair<InjectedLanguage,TextRange>> lang=myInjector.getInjectedLanguage(host);
  if (lang != null) {
    for (    Pair<InjectedLanguage,TextRange> pair : lang) {
      final InjectedLanguage l=pair.first;
      if (l != null) {
        final Language language=l.getLanguage();
        if (language != null) {
          if (l.isDynamic()) {
            final StringBuilder prefix=new StringBuilder(l.getPrefix());
            final StringBuilder suffix=new StringBuilder(l.getSuffix());
            adjustPrefixAndSuffix(getUnescapedText(host,pair.second.substring(host.getText())),prefix,suffix);
            addPlaceSafe(injectionPlacesRegistrar,language,pair.second,prefix.toString(),suffix.toString());
          }
 else {
            addPlaceSafe(injectionPlacesRegistrar,language,pair.second,l.getPrefix(),l.getSuffix());
          }
        }
      }
    }
  }
}
