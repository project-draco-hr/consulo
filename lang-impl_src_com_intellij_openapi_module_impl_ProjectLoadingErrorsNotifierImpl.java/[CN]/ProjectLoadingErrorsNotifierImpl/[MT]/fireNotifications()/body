{
  final ConfigurationErrorDescription[] descriptions;
synchronized (myLock) {
    if (myErrors.isEmpty())     return;
    descriptions=myErrors.toArray(new ConfigurationErrorDescription[myErrors.size()]);
    myErrors.clear();
  }
  final String invalidElements=getInvalidElementsString(descriptions);
  final String errorText=ProjectBundle.message("error.message.configuration.cannot.load") + " " + invalidElements;
  myProject.getMessageBus().syncPublisher(Notifications.TOPIC).notify("project-configuration-error",errorText,"",NotificationType.ERROR,new NotificationListener(){
    @NotNull public OnClose perform(){
      RemoveInvalidElementsDialog.showDialog(myProject,CommonBundle.getErrorTitle(),invalidElements,descriptions);
      return OnClose.REMOVE;
    }
  }
);
}
