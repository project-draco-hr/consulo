{
  XLineBreakpoint<?> master=createMaster();
  XLineBreakpoint<?> slave=createSlave();
  myDependentBreakpointManager.setMasterBreakpoint(slave,master,true);
  Element element=save();
  myDependentBreakpointManager.clearMasterBreakpoint(slave);
  load(element);
  List<XBreakpoint<?>> breakpoints=getAllBreakpoints();
  assertEquals(3,breakpoints.size());
  assertEquals("default",((MyBreakpointProperties)breakpoints.get(0).getProperties()).myOption);
  XLineBreakpoint newMaster=(XLineBreakpoint)breakpoints.get(1);
  XLineBreakpoint newSlave=(XLineBreakpoint)breakpoints.get(2);
  assertEquals("file://master",newMaster.getFileUrl());
  assertEquals("file://slave",newSlave.getFileUrl());
  assertSame(newMaster,myDependentBreakpointManager.getMasterBreakpoint(newSlave));
  assertTrue(myDependentBreakpointManager.isLeaveEnabled(newSlave));
}
