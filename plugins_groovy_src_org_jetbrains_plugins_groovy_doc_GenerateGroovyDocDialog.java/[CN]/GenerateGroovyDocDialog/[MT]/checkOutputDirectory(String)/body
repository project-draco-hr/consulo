{
  if (outputDirectory == null || outputDirectory.trim().length() == 0) {
    Messages.showMessageDialog(myProject,GroovyDocBundle.message("groovydoc.generate.output.directory.not.specified"),CommonBundle.getErrorTitle(),Messages.getErrorIcon());
    return false;
  }
  File outputDir=new File(outputDirectory);
  if (!outputDir.exists()) {
    int choice=Messages.showOkCancelDialog(myProject,GroovyDocBundle.message("groovydoc.generate.output.directory.not.exists",outputDirectory),GroovyDocBundle.message("groovydoc.generate.message.title"),Messages.getWarningIcon());
    if (choice != 0)     return false;
    if (!outputDir.mkdirs()) {
      Messages.showMessageDialog(myProject,GroovyDocBundle.message("groovydoc.generate.output.directory.creation.failed",outputDirectory),CommonBundle.getErrorTitle(),Messages.getErrorIcon());
      return false;
    }
  }
 else   if (!outputDir.isDirectory()) {
    Messages.showMessageDialog(myProject,GroovyDocBundle.message("groovydoc.generate.output.not.a.directory",outputDirectory),CommonBundle.getErrorTitle(),Messages.getErrorIcon());
    return false;
  }
  return true;
}
