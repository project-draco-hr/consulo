{
  if (dirName == null || dirName.trim().length() == 0) {
    Messages.showMessageDialog(myProject,GroovyDocBundle.message("groovydoc.generate.0.directory.not.specified",dirPrefix),CommonBundle.getErrorTitle(),Messages.getErrorIcon());
    return false;
  }
  File dir=new File(dirName);
  if (dir.exists()) {
    if (!dir.isDirectory()) {
      showError(GroovyDocBundle.message("groovydoc.generate.not.a.directory",dirName));
      return false;
    }
  }
 else {
    int choice=Messages.showOkCancelDialog(myProject,GroovyDocBundle.message("groovydoc.generate.directory.not.exists",dirName),GroovyDocBundle.message("groovydoc.generate.message.title"),Messages.getWarningIcon());
    if (choice != 0)     return false;
    if (!dir.mkdirs()) {
      showError(GroovyDocBundle.message("groovydoc.generate.directory.creation.failed",dirName));
      return false;
    }
  }
  return true;
}
