{
  PsiElement[] elements=getPsiElements(dataContext);
  if (elements == null)   return;
  Project project=(Project)dataContext.getData(DataConstants.PROJECT);
  if (project == null)   return;
  LocalHistoryAction action=LvcsIntegration.checkinFilesBeforeRefactoring(project,IdeBundle.message("progress.deleting"));
  try {
    deletePsiElement(elements,project);
  }
  finally {
    LvcsIntegration.checkinFilesAfterRefactoring(project,action);
  }
}
