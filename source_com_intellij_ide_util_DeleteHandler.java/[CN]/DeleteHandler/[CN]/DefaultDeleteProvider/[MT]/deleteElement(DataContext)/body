{
  PsiElement[] elements=getPsiElements(dataContext);
  if (elements == null)   return;
  Project project=(Project)dataContext.getData(DataConstants.PROJECT);
  if (project == null)   return;
  LocalHistoryAction a=LocalHistory.startAction(project,IdeBundle.message("progress.deleting"));
  try {
    deletePsiElement(elements,project);
  }
  finally {
    a.finish();
  }
}
