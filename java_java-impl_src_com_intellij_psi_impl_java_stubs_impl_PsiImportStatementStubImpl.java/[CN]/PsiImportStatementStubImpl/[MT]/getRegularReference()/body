{
  PsiJavaCodeReferenceElementImpl refElement;
  PsiManager manager=PsiManager.getInstance(getProject());
  final FileElement holderElement=DummyHolderFactory.createHolder(manager,getPsi()).getTreeElement();
  final String refText=getImportReferenceText();
  if (refText == null)   return null;
  refElement=(PsiJavaCodeReferenceElementImpl)Parsing.parseJavaCodeReferenceText(manager,refText,holderElement.getCharTable());
  if (refElement == null)   return null;
  holderElement.rawAddChildren(refElement);
  refElement.setKindWhenDummy(isOnDemand() ? PsiJavaCodeReferenceElementImpl.CLASS_FQ_OR_PACKAGE_NAME_KIND : PsiJavaCodeReferenceElementImpl.CLASS_FQ_NAME_KIND);
  return refElement;
}
