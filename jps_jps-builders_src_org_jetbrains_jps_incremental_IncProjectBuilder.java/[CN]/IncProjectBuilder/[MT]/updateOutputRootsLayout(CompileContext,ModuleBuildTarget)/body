{
  final File currentOutput=target.getOutputDir();
  if (currentOutput == null) {
    return;
  }
  final ModuleOutputRootsLayout outputRootsLayout=context.getProjectDescriptor().dataManager.getOutputRootsLayout();
  Pair<String,String> outputsPair=outputRootsLayout.getState(target.getModuleName());
  final String productionPath;
  final String testPath;
  if (target.isTests()) {
    productionPath=outputsPair != null ? outputsPair.first : "";
    testPath=FileUtil.toSystemIndependentName(currentOutput.getPath());
  }
 else {
    productionPath=FileUtil.toSystemIndependentName(currentOutput.getPath());
    testPath=outputsPair != null ? outputsPair.second : "";
  }
  outputRootsLayout.update(target.getModuleName(),Pair.create(productionPath,testPath));
}
