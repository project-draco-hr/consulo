{
  if (context != null) {
    context.getTimestampStorage().force();
    context.getDataManager().flush(false);
  }
  final ExternalJavacDescriptor descriptor=ExternalJavacDescriptor.KEY.get(context);
  if (descriptor != null) {
    try {
      final RequestFuture future=descriptor.client.sendShutdownRequest();
      future.get();
    }
 catch (    InterruptedException ignored) {
    }
catch (    ExecutionException ignored) {
    }
 finally {
      descriptor.process.destroyProcess();
    }
    ExternalJavacDescriptor.KEY.set(context,null);
  }
  cleanupJavacNameTable();
}
