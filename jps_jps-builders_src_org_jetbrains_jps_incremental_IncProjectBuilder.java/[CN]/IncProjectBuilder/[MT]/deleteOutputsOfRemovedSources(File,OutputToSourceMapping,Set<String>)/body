{
  if (file.isDirectory()) {
    final File[] files=file.listFiles();
    if (files != null) {
      for (      File child : files) {
        deleteOutputsOfRemovedSources(child,outputToSourceStorage,removedSources);
      }
    }
  }
 else {
    final String outPath=file.getPath();
    final String srcPath=outputToSourceStorage.getState(outPath);
    if (srcPath != null) {
      final File srcFile=new File(srcPath);
      if (!srcFile.exists()) {
        removedSources.add(srcPath);
        FileUtil.delete(file);
        outputToSourceStorage.remove(outPath);
      }
    }
  }
}
