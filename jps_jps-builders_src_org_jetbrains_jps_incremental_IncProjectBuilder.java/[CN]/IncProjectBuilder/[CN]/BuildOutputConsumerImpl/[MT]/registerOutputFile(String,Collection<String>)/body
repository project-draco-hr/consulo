{
  if (myOutputs.size() == 1) {
    final File outputDir=myOutputs.iterator().next();
    final String relativePath=FileUtil.getRelativePath(outputDir,new File(outputFilePath));
    if (relativePath != null) {
      myFileGeneratedEvent.add(FileUtil.toSystemIndependentName(outputDir.getPath()),FileUtil.toSystemIndependentName(relativePath));
    }
  }
  final SourceToOutputMapping mapping=myContext.getProjectDescriptor().dataManager.getSourceToOutputMap(myTarget);
  for (  String sourceFile : sourceFiles) {
    if (myRegisteredSources.add(FileUtil.toSystemIndependentName(sourceFile))) {
      mapping.setOutput(sourceFile,outputFilePath);
    }
 else {
      mapping.appendOutput(sourceFile,outputFilePath);
    }
  }
}
