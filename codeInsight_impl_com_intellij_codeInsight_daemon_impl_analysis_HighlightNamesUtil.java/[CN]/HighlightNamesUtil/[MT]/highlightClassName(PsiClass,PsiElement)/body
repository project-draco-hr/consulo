{
  HighlightInfoType type=getClassNameHighlightType(aClass);
  if (type != null && elementToHighlight != null) {
    TextAttributes attributes=mergeWithScopeAttributes(aClass,type);
    TextRange range=elementToHighlight.getTextRange();
    if (elementToHighlight instanceof PsiJavaCodeReferenceElement) {
      final PsiJavaCodeReferenceElement referenceElement=(PsiJavaCodeReferenceElement)elementToHighlight;
      final TextRange paramListRange=referenceElement.getParameterList().getTextRange();
      if (paramListRange.getEndOffset() > paramListRange.getStartOffset()) {
        range=new TextRange(range.getStartOffset(),paramListRange.getStartOffset());
      }
    }
    final PsiElement parent=elementToHighlight.getParent();
    if (parent instanceof PsiAnnotation) {
      final PsiAnnotation psiAnnotation=(PsiAnnotation)parent;
      range=new TextRange(psiAnnotation.getTextRange().getStartOffset(),range.getEndOffset());
    }
    return HighlightInfo.createHighlightInfo(type,range,null,attributes);
  }
  return null;
}
