{
  Project projectContext=(Project)dataContext.getData(DataConstantsEx.PROJECT_CONTEXT);
  if (projectContext != null) {
    return new AnalysisScope(projectContext,myFileFilter);
  }
  Module moduleContext=(Module)dataContext.getData(DataConstantsEx.MODULE_CONTEXT);
  if (moduleContext != null) {
    return new AnalysisScope(moduleContext,myFileFilter);
  }
  Module[] modulesArray=(Module[])dataContext.getData(DataConstantsEx.MODULE_CONTEXT_ARRAY);
  if (modulesArray != null) {
    return new AnalysisScope(modulesArray,myFileFilter);
  }
  AnalysisScope packageScope=getPackageScope(dataContext);
  if (packageScope != null) {
    return packageScope;
  }
  return getProjectScope(dataContext);
}
