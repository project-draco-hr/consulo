{
  PsiElement parent=psiAnchor.getParent();
  if (parent instanceof PsiAssertStatement) {
    return evaluatesToTrue;
  }
  if (parent instanceof PsiIfStatement && psiAnchor == ((PsiIfStatement)parent).getCondition()) {
    PsiStatement thenBranch=((PsiIfStatement)parent).getThenBranch();
    if (thenBranch instanceof PsiThrowStatement) {
      return !evaluatesToTrue;
    }
    if (thenBranch instanceof PsiBlockStatement) {
      PsiStatement[] statements=((PsiBlockStatement)thenBranch).getCodeBlock().getStatements();
      if (statements.length == 1 && statements[0] instanceof PsiThrowStatement) {
        return !evaluatesToTrue;
      }
    }
  }
  return false;
}
