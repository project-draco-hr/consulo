{
  if (logsFromRepos.size() == 1) {
    return logsFromRepos.iterator().next();
  }
  int size=0;
  for (  List<? extends TimedVcsCommit> repo : logsFromRepos) {
    size+=repo.size();
  }
  List<TimedVcsCommit> result=new ArrayList<TimedVcsCommit>(size);
  Map<TimedVcsCommit,Iterator<? extends TimedVcsCommit>> nextCommits=ContainerUtil.newHashMap();
  for (  List<? extends TimedVcsCommit> log : logsFromRepos) {
    Iterator<? extends TimedVcsCommit> iterator=log.iterator();
    if (iterator.hasNext()) {
      nextCommits.put(iterator.next(),iterator);
    }
  }
  while (!nextCommits.isEmpty()) {
    TimedVcsCommit lastCommit=findLatestCommit(nextCommits.keySet());
    Iterator<? extends TimedVcsCommit> iterator=nextCommits.get(lastCommit);
    result.add(lastCommit);
    nextCommits.remove(lastCommit);
    if (iterator.hasNext()) {
      nextCommits.put(iterator.next(),iterator);
    }
  }
  return result;
}
