{
  KeyboardFocusManager kfm=KeyboardFocusManager.getCurrentKeyboardFocusManager();
  Container container=kfm.getCurrentFocusCycleRoot();
  FocusTraversalPolicy policy=container.getFocusTraversalPolicy();
  if (null == policy)   policy=kfm.getDefaultFocusTraversalPolicy();
  Component next=moveDown ? policy.getComponentAfter(container,PaletteGroupHeader.this) : policy.getComponentBefore(container,PaletteGroupHeader.this);
  if (null != next && next instanceof PaletteComponentList) {
    final PaletteComponentList list=(PaletteComponentList)next;
    if (list.getModel().getSize() != 0) {
      list.takeFocusFrom(PaletteGroupHeader.this,list == myComponentList ? 0 : -1);
      return;
    }
 else {
      next=moveDown ? policy.getComponentAfter(container,next) : policy.getComponentBefore(container,next);
    }
  }
  if (null != next && next instanceof PaletteGroupHeader) {
    next.requestFocus();
  }
}
