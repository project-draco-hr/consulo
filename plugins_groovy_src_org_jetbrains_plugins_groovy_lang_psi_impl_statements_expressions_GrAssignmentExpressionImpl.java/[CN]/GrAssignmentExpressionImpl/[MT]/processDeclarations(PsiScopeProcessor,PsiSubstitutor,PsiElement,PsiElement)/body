{
  GrExpression lValue=getLValue();
  if (lastParent == null || !PsiTreeUtil.isAncestor(this,lastParent,false)) {
    if (lValue instanceof GrReferenceExpressionImpl) {
      GrReferenceExpressionImpl lRefExpr=(GrReferenceExpressionImpl)lValue;
      String name=lRefExpr.getName();
      String refName=processor instanceof ResolverProcessor ? ((ResolverProcessor)processor).getName() : null;
      if (refName == null || (refName.equals(name) && !(lRefExpr.resolve() instanceof PsiVariable))) {
        if (!processor.execute(lRefExpr,PsiSubstitutor.EMPTY))         return false;
      }
    }
  }
  return true;
}
