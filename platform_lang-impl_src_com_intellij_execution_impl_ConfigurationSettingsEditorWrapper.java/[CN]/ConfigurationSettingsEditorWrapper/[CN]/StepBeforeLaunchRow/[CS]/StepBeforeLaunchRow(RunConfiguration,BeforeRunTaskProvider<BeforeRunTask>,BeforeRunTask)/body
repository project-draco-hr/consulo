{
  super(new GridBagLayout());
  myRunConfiguration=runConfiguration;
  myProvider=provider;
  final boolean isChecked=beforeRunTask.isEnabled();
  myCheckBox=new JCheckBox(provider.getDescription(runConfiguration,beforeRunTask),isChecked);
  GridBagConstraints gc=new GridBagConstraints(GridBagConstraints.RELATIVE,0,1,1,0,1,GridBagConstraints.WEST,GridBagConstraints.NONE,new Insets(0,0,0,0),0,0);
  add(myCheckBox,gc);
  gc.weightx=1;
  if (provider.hasConfigurationButton()) {
    myButton=new FixedSizeButton(20);
    add(myButton,gc);
    myButton.addActionListener(new ActionListener(){
      public void actionPerformed(      ActionEvent e){
        if (provider.configureTask(runConfiguration,beforeRunTask)) {
          myCheckBox.setText(provider.getDescription(runConfiguration,beforeRunTask));
          fireEditorStateChanged();
        }
      }
    }
);
  }
 else {
    add(Box.createHorizontalBox(),gc);
  }
  enableSettings(beforeRunTask);
  myCheckBox.addActionListener(new ActionListener(){
    public void actionPerformed(    ActionEvent e){
      beforeRunTask.setEnabled(myCheckBox.isSelected());
      enableSettings(beforeRunTask);
    }
  }
);
}
