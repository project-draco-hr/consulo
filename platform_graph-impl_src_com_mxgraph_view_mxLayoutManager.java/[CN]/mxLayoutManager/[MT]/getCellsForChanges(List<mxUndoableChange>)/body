{
  Set<Object> result=new HashSet<Object>();
  Iterator<mxUndoableChange> it=changes.iterator();
  while (it.hasNext()) {
    mxUndoableChange change=it.next();
    if (change instanceof mxRootChange) {
      return new HashSet<Object>();
    }
 else {
      result.addAll(getCellsForChange(change));
    }
  }
  return result;
}
