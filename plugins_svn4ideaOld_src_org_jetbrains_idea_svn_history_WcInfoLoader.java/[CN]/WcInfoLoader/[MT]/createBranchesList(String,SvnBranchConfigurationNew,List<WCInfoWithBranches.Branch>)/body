{
  String result=null;
  final String trunkUrl=configuration.getTrunkUrl();
  if ((trunkUrl != null) && (!SVNPathUtil.isAncestor(trunkUrl,url))) {
    items.add(new WCInfoWithBranches.Branch(trunkUrl));
  }
 else   if (trunkUrl != null) {
    result=trunkUrl;
  }
  for (  String branchUrl : configuration.getBranchUrls()) {
    for (    SvnBranchItem branchItem : configuration.getBranches(branchUrl)) {
      if (!SVNPathUtil.isAncestor(branchItem.getUrl(),url)) {
        items.add(new WCInfoWithBranches.Branch(branchItem.getUrl()));
      }
 else {
        result=branchItem.getUrl();
      }
    }
  }
  Collections.sort(items,new Comparator<WCInfoWithBranches.Branch>(){
    public int compare(    final WCInfoWithBranches.Branch o1,    final WCInfoWithBranches.Branch o2){
      return Comparing.compare(o1.getUrl(),o2.getUrl());
    }
  }
);
  return result;
}
