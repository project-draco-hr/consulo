{
  myContent=content;
  myAnnotations=annotations;
  myFile=file;
  if (revisions != null) {
    for (    VcsFileRevision revision : revisions) {
      myRevisionComments.put(revision.getRevisionNumber().toString(),revision.getCommitMessage());
    }
  }
  myCvsEntriesListener=new CvsEntriesListener(){
    public void entriesChanged(    VirtualFile parent){
      if (myFile == null)       return;
      fireAnnotationChanged();
    }
    private void fireAnnotationChanged(){
      final AnnotationListener[] listeners=myListeners.toArray(new AnnotationListener[myListeners.size()]);
      for (      AnnotationListener listener : listeners) {
        listener.onAnnotationChanged();
      }
    }
    public void entryChanged(    VirtualFile file){
      if (myFile == null)       return;
      fireAnnotationChanged();
    }
  }
;
  CvsEntriesManager.getInstance().addCvsEntriesListener(myCvsEntriesListener);
}
