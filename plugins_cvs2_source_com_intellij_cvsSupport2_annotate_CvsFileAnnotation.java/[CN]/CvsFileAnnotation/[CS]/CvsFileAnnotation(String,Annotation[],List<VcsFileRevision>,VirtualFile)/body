{
  myContent=content;
  myAnnotations=annotations;
  myFile=file;
  for (  VcsFileRevision revision : revisions) {
    myRevisionComments.put(revision.getRevisionNumber().toString(),revision.getCommitMessage());
  }
  myCvsEntriesListener=new CvsEntriesListener(){
    public void entriesChanged(    VirtualFile parent){
      if (myFile == null)       return;
      fireAnnotationChanged();
    }
    private void fireAnnotationChanged(){
      final AnnotationListener[] listeners=myListeners.toArray(new AnnotationListener[myListeners.size()]);
      for (int i=0; i < listeners.length; i++) {
        listeners[i].onAnnotationChanged();
      }
    }
    public void entryChanged(    VirtualFile file){
      if (myFile == null)       return;
      fireAnnotationChanged();
    }
  }
;
  CvsEntriesManager.getInstance().addCvsEntriesListener(myCvsEntriesListener);
}
