{
  if (!actionChoice.isEnabled())   return PopupStep.FINAL_CHOICE;
  final AnAction action=actionChoice.getAction();
  final DataContext dataContext=DataManager.getInstance().getDataContext(myContext);
  if (action instanceof ActionGroup) {
    return createActionsStep((ActionGroup)action,dataContext,myEnableMnemonics,false,null,myContext,false);
  }
 else {
    SwingUtilities.invokeLater(new Runnable(){
      public void run(){
        action.actionPerformed(new AnActionEvent(null,dataContext,ActionPlaces.UNKNOWN,(Presentation)action.getTemplatePresentation().clone(),ActionManager.getInstance(),0));
      }
    }
);
    return PopupStep.FINAL_CHOICE;
  }
}
