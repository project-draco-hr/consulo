{
  if (defaultAlignment != null) {
    return defaultAlignment;
  }
  if (child.getElementType() != JavaTokenType.RBRACE) {
    return defaultAlignment;
  }
  final ASTNode parent=child.getTreeParent();
  if (parent == null || parent.getElementType() != JavaElementType.ANONYMOUS_CLASS) {
    return defaultAlignment;
  }
  final ASTNode whiteSpaceCandidate=parent.getTreePrev();
  if (whiteSpaceCandidate == null || whiteSpaceCandidate.getElementType() != TokenType.WHITE_SPACE) {
    return defaultAlignment;
  }
  return StringUtil.countNewLines(whiteSpaceCandidate.getChars()) > 0 ? myAlignment : defaultAlignment;
}
