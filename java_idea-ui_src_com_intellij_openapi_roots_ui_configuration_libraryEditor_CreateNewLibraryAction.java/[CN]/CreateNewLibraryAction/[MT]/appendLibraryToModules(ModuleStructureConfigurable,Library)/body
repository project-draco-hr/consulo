{
  final List<Module> modules=new ArrayList<Module>();
  ContainerUtil.addAll(modules,rootConfigurable.getModules());
  if (modules.isEmpty())   return;
  final ChooseModulesDialog dlg=new ChooseModulesDialog(myProject,modules,ProjectBundle.message("choose.modules.dialog.title"),ProjectBundle.message("choose.modules.dialog.description",libraryToSelect.getName()));
  dlg.show();
  if (dlg.isOK()) {
    final List<Module> choosenModules=dlg.getChosenElements();
    for (    Module module : choosenModules) {
      rootConfigurable.addLibraryOrderEntry(module,libraryToSelect);
    }
  }
}
