{
  final XPathProjectComponent pc=XPathProjectComponent.getInstance(project);
  LOG.assertTrue(pc != null);
  final HistoryElement[] history=pc.getHistory();
  final EvalExpressionDialog dialog=new EvalExpressionDialog(project,myComponent.getConfig(),history);
  if (!dialog.show(contextNode)) {
    LOG.debug("Input canceled");
    return null;
  }
  final InputExpressionDialog.Context context=dialog.getContext();
  LOG.debug("expression = " + context.input.expression);
  pc.addHistory(context.input);
  return context;
}
