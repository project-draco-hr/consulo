{
  final long contentLength=content.getLength();
  boolean counterUpdated=false;
  try {
synchronized (myProceedWithLoadingLock) {
      while (myLoadedBytesInQueue > MAX_SIZE_OF_BYTES_IN_QUEUE) {
        indicator.checkCanceled();
        myProceedWithLoadingLock.wait(300);
      }
      myLoadedBytesInQueue+=contentLength;
      counterUpdated=true;
    }
    content.getBytes();
    return true;
  }
 catch (  Throwable e) {
    if (counterUpdated) {
synchronized (myProceedWithLoadingLock) {
        myLoadedBytesInQueue-=contentLength;
      }
    }
    if (e instanceof ProcessCanceledException) {
      throw (ProcessCanceledException)e;
    }
 else     if (e instanceof InterruptedException) {
      throw (InterruptedException)e;
    }
 else     if (e instanceof IOException || e instanceof InvalidVirtualFileAccessException) {
      LOG.info(e);
    }
 else     if (ApplicationManager.getApplication().isUnitTestMode()) {
      e.printStackTrace();
    }
 else {
      LOG.error(e);
    }
    return false;
  }
}
