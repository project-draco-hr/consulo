{
  final PsiAnnotation[] annotations=field.getModifierList().getAnnotations();
  for (  PsiAnnotation annotation : annotations) {
    final String qName=annotation.getQualifiedName();
    if (qName != null) {
      if (qName.equals(Attribute.class.getName())) {
        final PsiAnnotationMemberValue attributeName=annotation.findAttributeValue("value");
        if (attributeName != null && attributeName instanceof PsiExpression) {
          final Class<String> type=String.class;
          PsiExpression expression=(PsiExpression)attributeName;
          final Object evaluatedExpression=ConstantExpressionEvaluator.computeConstantExpression(expression,null,false);
          if (evaluatedExpression != null) {
            registrar.registerGenericAttributeValueChildExtension(new XmlName(evaluatedExpression.toString()),type);
          }
        }
      }
 else       if (qName.equals(Tag.class.getName())) {
        final PsiAnnotationMemberValue attributeName=annotation.findAttributeValue("value");
        if (attributeName != null && attributeName instanceof PsiExpression) {
          PsiExpression expression=(PsiExpression)attributeName;
          final Object evaluatedExpression=ConstantExpressionEvaluator.computeConstantExpression(expression,null,false);
          if (evaluatedExpression != null) {
            registrar.registerFixedNumberChildExtension(new XmlName(evaluatedExpression.toString()),SimpleTagValue.class);
          }
        }
      }
    }
  }
}
