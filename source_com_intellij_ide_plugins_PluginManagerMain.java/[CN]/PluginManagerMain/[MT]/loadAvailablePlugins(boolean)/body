{
  try {
    if (root == null) {
      if (askForDownload) {
        if (Messages.showYesNoDialog(main,"Latest information from the Plugin Repository is required.\n" + "Would you like to download it?","Plugins",Messages.getQuestionIcon()) != 0) {
          tabs.setSelectedIndex(INSTALLED_TAB);
          return;
        }
      }
      root=loadPluginList();
      if (root == null) {
        Messages.showErrorDialog(getMainPanel(),"List of plugins was not loaded.","Plugins");
        tabs.setSelectedIndex(INSTALLED_TAB);
        return;
      }
      availablePluginTable=new PluginTable<PluginNode>(new AvailablePluginsTableModel(root,myAvailableProvider));
      availablePluginTable.getSelectionModel().addListSelectionListener(new ListSelectionListener(){
        public void valueChanged(        ListSelectionEvent e){
          pluginInfoUpdate(availablePluginTable.getSelectedObject());
          toolbar.updateActions();
        }
      }
);
      ActionGroup group=getActionGroup();
      PopupHandler.installUnknownPopupHandler(availablePluginTable,group,ActionManager.getInstance());
      availableScrollPane.getViewport().setBackground(availablePluginTable.getBackground());
      availableScrollPane.getViewport().setView(availablePluginTable);
      tabs.setTitleAt(AVAILABLE_TAB,"Available (" + availablePluginTable.getRowCount() + ")");
      availablePluginTable.requestFocus();
      new SpeedSearchBase<PluginTable<PluginNode>>(availablePluginTable){
        public int getSelectedIndex(){
          return availablePluginTable.getSelectedRow();
        }
        public Object[] getAllElements(){
          return availablePluginTable.getElements();
        }
        public String getElementText(        Object element){
          return ((PluginNode)element).getName();
        }
        public void selectElement(        Object element,        String selectedText){
          for (int i=0; i < availablePluginTable.getRowCount(); i++) {
            if (availablePluginTable.getObjectAt(i).getName().equals(((PluginNode)element).getName())) {
              availablePluginTable.setRowSelectionInterval(i,i);
              TableUtil.scrollSelectionToVisible(availablePluginTable);
              break;
            }
          }
        }
      }
;
    }
  }
 catch (  RuntimeException ex) {
    ex.printStackTrace();
    Messages.showErrorDialog(getMainPanel(),"Available plugins list is not loaded","Error");
  }
}
