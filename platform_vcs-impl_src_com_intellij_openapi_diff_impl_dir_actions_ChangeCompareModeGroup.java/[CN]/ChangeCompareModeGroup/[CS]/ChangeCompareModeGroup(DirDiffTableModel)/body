{
  getTemplatePresentation().setText("Compare by");
  if (model.getSettings().showCompareModes) {
    final ArrayList<ChangeCompareModeAction> actions=new ArrayList<ChangeCompareModeAction>();
    for (    DirDiffSettings.CompareMode mode : DirDiffSettings.CompareMode.values()) {
      actions.add(new ChangeCompareModeAction(model,mode));
    }
    myGroup=new DefaultActionGroup(actions.toArray(new ChangeCompareModeAction[actions.size()]));
  }
 else {
    getTemplatePresentation().setEnabled(false);
    getTemplatePresentation().setVisible(false);
    myGroup=new DefaultActionGroup();
  }
}
