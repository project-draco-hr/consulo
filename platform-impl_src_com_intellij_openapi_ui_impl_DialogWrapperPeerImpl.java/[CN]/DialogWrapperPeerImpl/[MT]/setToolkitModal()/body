{
  try {
    final Class<?> modalityType=myDialog.getClass().getClassLoader().loadClass("java.awt.Dialog$ModalityType");
    final Field field=modalityType.getField("TOOLKIT_MODAL");
    final Object value=field.get(null);
    final Method method=myDialog.getClass().getMethod("setModalityType",modalityType);
    method.invoke(myDialog,value);
  }
 catch (  Exception e) {
    e.printStackTrace();
  }
}
