{
  UIUtil.invokeLaterIfNeeded(new Runnable(){
    @Override public void run(){
      if (myReleased)       return;
      LOG.assertTrue(!myDuringRollback);
synchronized (LOCK) {
        myReleased=true;
        myDocument.removeDocumentListener(myDocumentListener);
        ApplicationManager.getApplication().removeApplicationListener(myApplicationListener);
        LineStatusTracker.this.destroyRanges();
      }
    }
  }
);
}
