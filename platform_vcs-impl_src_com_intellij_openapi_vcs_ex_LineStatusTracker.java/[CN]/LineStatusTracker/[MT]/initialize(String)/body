{
  ApplicationManager.getApplication().assertIsDispatchThread();
synchronized (myLock) {
    LOG.assertTrue(BaseLoadState.LOADING == myBaseLoaded);
    try {
      myUpToDateDocument.setReadOnly(false);
      myUpToDateDocument.replaceString(0,myUpToDateDocument.getTextLength(),upToDateContent);
      myUpToDateDocument.setReadOnly(true);
      reinstallRanges();
      if (myDocumentListener == null) {
        myDocumentListener=new MyDocumentListener();
        myDocument.addDocumentListener(myDocumentListener);
      }
    }
  finally {
      myBaseLoaded=BaseLoadState.LOADED;
    }
  }
}
