{
  myApplication.assertIsDispatchThread();
synchronized (myLock) {
    try {
      if (myInitialized || myReleased)       return;
      if (myBaseRevisionNumber != null && myBaseRevisionNumber.contains(baseRevisionNumber))       return;
      myBaseRevisionNumber=baseRevisionNumber;
      myVcsDocument.setReadOnly(false);
      myVcsDocument.setText(vcsContent);
      myVcsDocument.setReadOnly(true);
    }
  finally {
      myInitialized=true;
    }
    reinstallRanges();
  }
}
