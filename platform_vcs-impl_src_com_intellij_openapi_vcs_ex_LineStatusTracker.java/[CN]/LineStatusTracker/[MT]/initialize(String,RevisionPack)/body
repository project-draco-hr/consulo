{
  myApplication.assertIsDispatchThread();
synchronized (myLock) {
    try {
      if (myReleased)       return;
      if (myBaseRevisionNumber != null && myBaseRevisionNumber.contains(baseRevisionNumber))       return;
      myBaseRevisionNumber=baseRevisionNumber;
      myVcsDocument.setReadOnly(false);
      myVcsDocument.setText(vcsContent);
      myVcsDocument.setReadOnly(true);
      reinstallRanges();
      if (myDocumentListener == null) {
        myDocumentListener=new MyDocumentListener();
        myDocument.addDocumentListener(myDocumentListener);
      }
    }
  finally {
      myInitialized=true;
    }
  }
}
