{
  if (vFile != null && vFile.isValid()) {
    ProjectFileIndex projectFileIndex=ProjectRootManager.getInstance(myProject).getFileIndex();
    if (projectFileIndex.getModuleForFile(vFile) != null) {
      return true;
    }
    if (projectFileIndex.isInLibraryClasses(vFile) || projectFileIndex.isInLibrarySource(vFile)) {
      return true;
    }
    return Comparing.equal(vFile.getParent(),myProject.getBaseDir());
  }
  return false;
}
