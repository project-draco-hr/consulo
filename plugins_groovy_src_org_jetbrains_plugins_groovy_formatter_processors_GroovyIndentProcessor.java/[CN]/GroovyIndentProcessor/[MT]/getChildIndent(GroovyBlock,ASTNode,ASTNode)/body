{
  ASTNode astNode=parent.getNode();
  final PsiElement psiParent=astNode.getPsi();
  if (psiParent instanceof GroovyFileBase) {
    return Indent.getNoneIndent();
  }
  if (psiParent instanceof GrListOrMap) {
    return Indent.getContinuationIndent();
  }
  if (BLOCK_SET.contains(astNode.getElementType()) && !BLOCK_STATEMENT.equals(astNode.getElementType())) {
    return indentForBlock(psiParent,child);
  }
  if (CASE_SECTION.equals(astNode.getElementType())) {
    return indentForCaseSection(psiParent,child);
  }
  if (SWITCH_STATEMENT.equals(astNode.getElementType())) {
    return indentForSwitchStatement(psiParent,child);
  }
  if (child.getPsi() instanceof GrLabel) {
    return Indent.getLabelIndent();
  }
  if (psiParent instanceof GrControlStatement) {
    return getControlIndent(psiParent,child);
  }
  if (psiParent instanceof GrExpression) {
    return getExpressionIndent(psiParent,child);
  }
  if (psiParent instanceof GrParameterList) {
    if (parent.getIndent() != null) {
      return Indent.getContinuationWithoutFirstIndent();
    }
    return Indent.getNoneIndent();
  }
  if (psiParent instanceof GrArgumentList) {
    return Indent.getContinuationIndent();
  }
  return Indent.getNoneIndent();
}
