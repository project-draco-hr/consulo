{
  ASTNode astNode=parent.getNode();
  final PsiElement psiParent=astNode.getPsi();
  if (psiParent instanceof GroovyFileBase) {
    return Indent.getNoneIndent();
  }
  if (GroovyEditorActionUtil.GSTRING_TOKENS_INNER.contains(child.getElementType()) && mGSTRING_BEGIN != child.getElementType()) {
    return Indent.getAbsoluteNoneIndent();
  }
  if (psiParent instanceof GrListOrMap) {
    if (mLBRACK.equals(child.getElementType()) || mRBRACK.equals(child.getElementType())) {
      return Indent.getNoneIndent();
    }
 else {
      return Indent.getContinuationWithoutFirstIndent();
    }
  }
  if (BLOCK_SET.contains(astNode.getElementType()) && !BLOCK_STATEMENT.equals(astNode.getElementType())) {
    return indentForBlock(psiParent,child);
  }
  if (CASE_SECTION.equals(astNode.getElementType())) {
    return indentForCaseSection(psiParent,child);
  }
  if (SWITCH_STATEMENT.equals(astNode.getElementType())) {
    return indentForSwitchStatement(psiParent,child);
  }
  if (child.getPsi() instanceof GrLabel) {
    return Indent.getLabelIndent();
  }
  if (psiParent instanceof GrControlStatement) {
    return getControlIndent(psiParent,child);
  }
  if (psiParent instanceof GrExpression) {
    return getExpressionIndent(psiParent,child);
  }
  if (psiParent instanceof GrParameterList || psiParent instanceof GrExtendsClause || psiParent instanceof GrThrowsClause) {
    if (parent.getIndent() != null) {
      return Indent.getContinuationWithoutFirstIndent();
    }
    return Indent.getNoneIndent();
  }
  if (psiParent instanceof GrArgumentList) {
    if (child.getElementType() != mLPAREN && child.getElementType() != mRPAREN) {
      return Indent.getContinuationIndent();
    }
  }
  if ((psiParent instanceof GrDocComment && child.getElementType() != mGDOC_COMMENT_START) || psiParent instanceof GrDocTag && child.getElementType() != mGDOC_TAG_NAME) {
    return Indent.getSpaceIndent(GDOC_COMMENT_INDENT);
  }
  return Indent.getNoneIndent();
}
