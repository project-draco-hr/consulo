{
  final PsiElement psiParent=parent.getNode().getPsi();
  if (psiParent instanceof GroovyFile) {
    return Indent.getNoneIndent();
  }
  if (psiParent instanceof GrCodeBlock) {
    return indentForBlock(psiParent,child);
  }
  if (child.getPsi() instanceof GrLabel) {
    return Indent.getLabelIndent();
  }
  if (psiParent instanceof GrControlStatement) {
    return getControlIndent(psiParent,child);
  }
  if (psiParent instanceof GrExpression) {
    return getExpressionIndent(psiParent,child);
  }
  if (psiParent instanceof GrParameterList) {
    if (parent.getIndent() != null) {
      return Indent.getContinuationWithoutFirstIndent();
    }
    return Indent.getNoneIndent();
  }
  if (psiParent instanceof ContiniousIndent) {
    return Indent.getContinuationIndent();
  }
  if (parent instanceof LargeGroovyBlock) {
    if (child.getPsi() instanceof GrCaseLabel) {
      return Indent.getNoneIndent();
    }
    return Indent.getNormalIndent();
  }
  return Indent.getNoneIndent();
}
