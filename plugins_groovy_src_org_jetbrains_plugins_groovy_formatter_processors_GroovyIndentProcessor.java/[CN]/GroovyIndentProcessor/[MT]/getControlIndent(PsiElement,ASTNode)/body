{
  final PsiElement psi=child.getPsi();
  final IElementType type=child.getElementType();
  if (parent instanceof GrIfStatement) {
    final GrIfStatement ifStatement=(GrIfStatement)parent;
    if (!BLOCK_SET.contains(type)) {
      if (psi.equals(ifStatement.getThenBranch())) {
        return Indent.getNormalIndent();
      }
      if (psi.equals(ifStatement.getElseBranch())) {
        if (CodeStyleSettingsManager.getSettings(parent.getProject()).SPECIAL_ELSE_IF_TREATMENT && psi instanceof GrIfStatement) {
          return Indent.getNoneIndent();
        }
        return Indent.getNormalIndent();
      }
    }
    if (psi.equals(ifStatement.getCondition())) {
      return Indent.getContinuationWithoutFirstIndent();
    }
  }
  if (parent instanceof GrWhileStatement) {
    if (psi.equals(((GrWhileStatement)parent).getBody()) && !BLOCK_SET.contains(type)) {
      return Indent.getNormalIndent();
    }
    if (psi.equals(((GrWhileStatement)parent).getCondition())) {
      return Indent.getContinuationWithoutFirstIndent();
    }
  }
  if (parent instanceof GrSynchronizedStatement) {
    if (psi.equals(((GrSynchronizedStatement)parent).getMonitor())) {
      return Indent.getContinuationWithoutFirstIndent();
    }
  }
  if (parent instanceof GrForStatement) {
    if (psi.equals(((GrForStatement)parent).getBody()) && !BLOCK_SET.contains(type)) {
      return Indent.getNormalIndent();
    }
    if (psi.equals(((GrForStatement)parent).getClause())) {
      return Indent.getContinuationWithoutFirstIndent();
    }
  }
  return Indent.getNoneIndent();
}
