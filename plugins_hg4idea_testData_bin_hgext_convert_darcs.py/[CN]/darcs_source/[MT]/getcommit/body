def getcommit(self, rev):
    elt = self.changes[rev]
    date = util.strdate(elt.get('local_date'), '%a %b %d %H:%M:%S %Z %Y')
    desc = ((elt.findtext('name') + '\n') + elt.findtext('comment', ''))
    return commit(author=elt.get('author'), date=util.datestr(date), desc=desc.strip(), parents=self.parents[rev])
