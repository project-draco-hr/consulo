{
  if (myManager.getEffectiveLanguageLevel().compareTo(LanguageLevel.JDK_1_5) >= 0) {
    List<UsageInfo> covariantOverriderInfos=new ArrayList<UsageInfo>();
    PsiSubstitutor substitutor=calculateSubstitutor(myChangeInfo.getMethod());
    PsiType type;
    try {
      type=substitutor.substitute(myChangeInfo.newReturnType.getType(myChangeInfo.getMethod()));
    }
 catch (    IncorrectOperationException e) {
      LOG.error(e);
      return;
    }
    for (Iterator<UsageInfo> iterator=usages.iterator(); iterator.hasNext(); ) {
      UsageInfo usageInfo=iterator.next();
      if (usageInfo.getElement() instanceof PsiMethod) {
        PsiMethod overrider=(PsiMethod)usageInfo.getElement();
        if (type.isAssignableFrom(overrider.getReturnType())) {
          covariantOverriderInfos.add(usageInfo);
        }
      }
    }
    if (covariantOverriderInfos.size() > 0) {
      if (ApplicationManager.getApplication().isUnitTestMode() || Messages.showYesNoDialog(myProject,"Do you want to process overriding methods\n" + "with covariant return type?","Change Method Signature",Messages.getQuestionIcon()) != DialogWrapper.OK_EXIT_CODE) {
        for (Iterator<UsageInfo> iterator=covariantOverriderInfos.iterator(); iterator.hasNext(); ) {
          usages.remove(iterator.next());
        }
      }
    }
  }
}
