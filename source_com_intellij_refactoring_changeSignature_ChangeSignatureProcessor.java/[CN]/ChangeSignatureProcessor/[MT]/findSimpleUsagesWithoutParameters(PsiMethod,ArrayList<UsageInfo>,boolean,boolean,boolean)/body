{
  PsiManager manager=method.getManager();
  PsiSearchHelper helper=manager.getSearchHelper();
  GlobalSearchScope projectScope=GlobalSearchScope.projectScope(myProject);
  PsiMethod[] overridingMethods=helper.findOverridingMethods(method,projectScope,true);
  for (  PsiMethod overridingMethod : overridingMethods) {
    result.add(new OverriderUsageInfo(overridingMethod,method,isOriginal,isToModifyArgs,isToThrowExceptions));
  }
  boolean needToChangeCalls=!myGenerateDelegate && (myChangeInfo.isNameChanged || myChangeInfo.isParameterSetOrOrderChanged || myChangeInfo.isExceptionSetOrOrderChanged|| myChangeInfo.isVisibilityChanged);
  if (needToChangeCalls) {
    List<PsiElement> l=new ArrayList<PsiElement>();
    PsiReference[] refs=helper.findReferencesIncludingOverriding(method,projectScope,true);
    for (    PsiReference reference : refs) {
      l.add(reference.getElement());
    }
    int parameterCount=method.getParameterList().getParameters().length;
    for (    PsiElement ref : l) {
      boolean isToCatchExceptions=isToThrowExceptions && needToCatchExceptions(RefactoringUtil.getEnclosingMethod(ref));
      if (!isToCatchExceptions) {
        if (RefactoringUtil.isMethodUsage(ref)) {
          PsiExpressionList list=RefactoringUtil.getArgumentListByMethodReference(ref);
          if (!method.isVarArgs() && list.getExpressions().length != parameterCount)           continue;
        }
      }
      if (RefactoringUtil.isMethodUsage(ref)) {
        result.add(new MethodCallUsageInfo(ref,isToModifyArgs,isToCatchExceptions));
      }
 else {
        result.add(new UsageInfo(ref));
      }
    }
    if (method.isConstructor() && parameterCount == 0) {
      RefactoringUtil.visitImplicitConstructorUsages(method.getContainingClass(),new DefaultConstructorUsageCollector(result));
    }
  }
 else   if (myChangeInfo.isParameterTypesChanged) {
    PsiReference[] refs=helper.findReferencesIncludingOverriding(method,projectScope,true);
    for (    PsiReference reference : refs) {
      if (reference.getElement() instanceof PsiDocTagValue) {
        result.add(new UsageInfo(reference.getElement()));
      }
    }
  }
  detectLocalsCollisionsInMethod(method,result,isOriginal);
  for (  final PsiMethod overridingMethod : overridingMethods) {
    detectLocalsCollisionsInMethod(overridingMethod,result,isOriginal);
  }
  return overridingMethods;
}
