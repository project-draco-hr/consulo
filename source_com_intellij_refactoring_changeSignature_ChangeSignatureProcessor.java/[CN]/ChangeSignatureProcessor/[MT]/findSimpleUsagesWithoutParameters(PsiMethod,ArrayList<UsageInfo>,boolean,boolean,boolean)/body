{
  PsiManager manager=method.getManager();
  PsiSearchHelper helper=manager.getSearchHelper();
  GlobalSearchScope projectScope=GlobalSearchScope.projectScope(myProject);
  PsiMethod[] overridingMethods=helper.findOverridingMethods(method,projectScope,true);
  for (int i=0; i < overridingMethods.length; i++) {
    PsiMethod overridingMethod=overridingMethods[i];
    result.add(new OverriderUsageInfo(overridingMethod,method,isOriginal,isToModifyArgs,isToThrowExceptions));
  }
  boolean needToChangeCalls=!myGenerateDelegate && (myChangeInfo.isNameChanged || myChangeInfo.isParameterSetOrOrderChanged || myChangeInfo.isExceptionSetOrOrderChanged|| myChangeInfo.isVisibilityChanged);
  if (needToChangeCalls) {
    List<PsiElement> l=new ArrayList<PsiElement>();
    PsiReference[] refs=helper.findReferencesIncludingOverriding(method,projectScope,true);
    for (int i=0; i < refs.length; i++) {
      PsiReference reference=refs[i];
      l.add(reference.getElement());
    }
    int parameterCount=method.getParameterList().getParameters().length;
    for (Iterator<PsiElement> iterator=l.iterator(); iterator.hasNext(); ) {
      PsiElement ref=iterator.next();
      boolean isToCatchExceptions=isToThrowExceptions && needToCatchExceptions(RefactoringUtil.getEnclosingMethod(ref));
      if (!isToCatchExceptions) {
        if (RefactoringUtil.isMethodUsage(ref)) {
          PsiExpressionList list=RefactoringUtil.getArgumentListByMethodReference(ref);
          if (!method.isVarArgs() && list.getExpressions().length != parameterCount)           continue;
        }
      }
      result.add(new MethodCallUsageInfo(ref,isToModifyArgs,isToCatchExceptions));
    }
    if (method.isConstructor() && parameterCount == 0) {
      RefactoringUtil.visitImplicitConstructorUsages(method.getContainingClass(),new DefaultConstructorUsageCollector(result));
    }
  }
 else   if (myChangeInfo.isParameterTypesChanged) {
    PsiReference[] refs=helper.findReferencesIncludingOverriding(method,projectScope,true);
    for (int i=0; i < refs.length; i++) {
      PsiReference reference=refs[i];
      if (reference.getElement() instanceof PsiDocTagValue) {
        result.add(new UsageInfo(reference.getElement()));
      }
    }
  }
  detectLocalsCollisionsInMethod(method,result,isOriginal);
  for (int j=0; j < overridingMethods.length; j++) {
    final PsiMethod overridingMethod=overridingMethods[j];
    detectLocalsCollisionsInMethod(overridingMethod,result,isOriginal);
  }
  return overridingMethods;
}
