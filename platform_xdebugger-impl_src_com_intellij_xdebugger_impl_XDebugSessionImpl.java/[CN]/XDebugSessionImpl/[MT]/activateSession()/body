{
  XSourcePosition position=myCurrentStackFrame != null ? myCurrentStackFrame.getSourcePosition() : null;
  if (position != null) {
    XExecutionStack activeExecutionStack=mySuspendContext.getActiveExecutionStack();
    boolean isTopFrame=activeExecutionStack != null && activeExecutionStack.getTopFrame() == myCurrentStackFrame;
    myDebuggerManager.setActiveSession(this,position,!isTopFrame,isTopFrame ? getPositionIconRenderer() : null);
  }
 else {
    myDebuggerManager.setActiveSession(this,null,false,null);
  }
}
