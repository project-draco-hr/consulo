{
  boolean isMarked=myMarker != null && myMarker.isMarked(file);
  if (!isMarked)   return null;
  final VirtualFile vFile=file.getVirtualFile();
  PsiDirectory dirToReload=file.getContainingDirectory();
  PackageDependenciesNode rootToReload=getMap(myModuleDirNodes,getFileScopeType(vFile)).get(dirToReload);
  while (rootToReload == null && dirToReload != null) {
    dirToReload=dirToReload.getParentDirectory();
    rootToReload=getMap(myModuleDirNodes,getFileScopeType(vFile)).get(dirToReload);
  }
  PackageDependenciesNode dirNode=getFileParentNode(file);
  dirNode.add(new FileNode(file,isMarked));
  return rootToReload;
}
