{
  Set<VirtualFile> roots=new HashSet<VirtualFile>();
  final Module[] modules=ModuleManager.getInstance(project).getModules();
  for (int i=0; i < modules.length; i++) {
    Module module=modules[i];
    roots.addAll(Arrays.asList(ModuleRootManager.getInstance(module).getFiles(OrderRootType.SOURCES)));
  }
  return roots.toArray(new VirtualFile[roots.size()]);
}
