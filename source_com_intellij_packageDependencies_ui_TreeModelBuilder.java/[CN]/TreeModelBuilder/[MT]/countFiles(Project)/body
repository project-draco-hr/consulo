{
  myFileIndex.iterateContent(new ContentIterator(){
    public boolean processFile(    VirtualFile fileOrDir){
      if (!fileOrDir.isDirectory()) {
        if (myFileIndex.isContentJavaSourceFile(fileOrDir)) {
          myTotalFileCount++;
        }
      }
      return true;
    }
  }
);
  VirtualFile[] roots=getLibraryRoots(project);
  for (int i=0; i < roots.length; i++) {
    countFilesRecursively(roots[i]);
  }
}
