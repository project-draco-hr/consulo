{
  if (file.isDirectory()) {
    VirtualFile[] children=file.getChildren();
    for (int i=0; i < children.length; i++) {
      countFilesRecursively(children[i]);
    }
  }
 else   if (myFileIndex.isInLibrarySource(file) && myFileIndex.isJavaSourceFile(file)) {
    myTotalFileCount++;
  }
}
