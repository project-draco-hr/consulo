{
  Map<GitRepository,List<GitCommit>> groupedCommits=new HashMap<GitRepository,List<GitCommit>>();
  for (  GitCommit commit : commits) {
    GitRepository repository=myPlatformFacade.getRepositoryManager(project).getRepositoryForRoot(commit.getRoot());
    if (repository == null) {
      LOG.info("No repository found for commit " + commit);
      continue;
    }
    List<GitCommit> commitsInRoot=groupedCommits.get(repository);
    if (commitsInRoot == null) {
      commitsInRoot=new ArrayList<GitCommit>();
      groupedCommits.put(repository,commitsInRoot);
    }
    commitsInRoot.add(commit);
  }
  return groupedCommits;
}
