{
  Map<GitRepository,List<GitHeavyCommit>> groupedCommits=new HashMap<GitRepository,List<GitHeavyCommit>>();
  for (  GitHeavyCommit commit : commits) {
    GitRepository repository=myPlatformFacade.getRepositoryManager(project).getRepositoryForRoot(commit.getRoot());
    if (repository == null) {
      LOG.info("No repository found for commit " + commit);
      continue;
    }
    List<GitHeavyCommit> commitsInRoot=groupedCommits.get(repository);
    if (commitsInRoot == null) {
      commitsInRoot=new ArrayList<GitHeavyCommit>();
      groupedCommits.put(repository,commitsInRoot);
    }
    commitsInRoot.add(commit);
  }
  return groupedCommits;
}
