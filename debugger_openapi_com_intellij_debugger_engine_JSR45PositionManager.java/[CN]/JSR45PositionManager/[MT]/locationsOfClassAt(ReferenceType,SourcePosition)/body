{
  final FileType fileType=position.getFile().getFileType();
  if (fileType != StdFileTypes.JSP && fileType != StdFileTypes.JSPX) {
    throw new NoDataException();
  }
  return ApplicationManager.getApplication().runReadAction(new Computable<List<Location>>(){
    public List<Location> compute(){
      try {
        final List<String> paths=type.sourcePaths(JSP_STRATUM);
        for (        String path : paths) {
          final PsiFile file=myHelper.getDeployedJspSource(getRelativePath(path),myDebugProcess.getProject(),myScope);
          if (file != null && file.equals(position.getFile())) {
            return type.locationsOfLine(JSP_STRATUM,file.getName(),position.getLine() + 1);
          }
        }
      }
 catch (      ObjectCollectedException e) {
      }
catch (      AbsentInformationException e) {
      }
catch (      InternalError e) {
        myDebugProcess.getExecutionResult().getProcessHandler().notifyTextAvailable(DebuggerBundle.message("internal.error.locations.of.line",type.name()),ProcessOutputTypes.SYSTEM);
      }
      return null;
    }
  }
);
}
