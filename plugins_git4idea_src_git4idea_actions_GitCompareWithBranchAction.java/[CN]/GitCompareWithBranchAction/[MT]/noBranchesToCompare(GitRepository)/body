{
  int locals=repository.getBranches().getLocalBranches().size();
  boolean haveRemotes=!repository.getBranches().getRemoteBranches().isEmpty();
  if (repository.isOnBranch()) {
    return locals < 2 && !haveRemotes;
  }
  return locals == 0 && !haveRemotes;
}
