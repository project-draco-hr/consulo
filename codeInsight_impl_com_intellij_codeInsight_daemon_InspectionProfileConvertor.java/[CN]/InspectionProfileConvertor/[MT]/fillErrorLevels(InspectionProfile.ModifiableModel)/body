{
  InspectionTool[] tools=profile.getInspectionTools();
  LOG.assertTrue(tools != null,"Profile was not correctly init");
  for (  final String shortName : myDisplayLevelMap.keySet()) {
    HighlightDisplayLevel level=myDisplayLevelMap.get(shortName);
    HighlightDisplayKey key=HighlightDisplayKey.find(shortName);
    if (key == null) {
      key=HighlightDisplayKey.register(shortName);
    }
    if (level != HighlightDisplayLevel.DO_NOT_SHOW) {
      profile.enableTool(shortName);
    }
    if (level == null || level == HighlightDisplayLevel.DO_NOT_SHOW) {
      level=HighlightDisplayLevel.WARNING;
    }
    profile.setErrorLevel(key,level);
  }
  final InspectionTool inspectionTool=profile.getInspectionTool(JavaDocLocalInspection.SHORT_NAME);
  JavaDocLocalInspection inspection=(JavaDocLocalInspection)((LocalInspectionToolWrapper)inspectionTool).getTool();
  inspection.myAdditionalJavadocTags=myAdditionalJavadocTags;
}
