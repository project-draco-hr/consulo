{
  if (synchronous) {
    if (ApplicationManager.getApplication().isDispatchThread()) {
      task.run();
    }
 else {
      UIUtil.invokeAndWaitIfNeeded(task);
    }
  }
 else {
    UIUtil.invokeLaterIfNeeded(task);
  }
}
