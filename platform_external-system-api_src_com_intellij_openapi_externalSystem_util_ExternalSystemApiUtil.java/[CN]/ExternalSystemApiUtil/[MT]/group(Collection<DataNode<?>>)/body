{
  if (nodes.isEmpty()) {
    return Collections.emptyMap();
  }
  Map<Key<?>,Collection<DataNode<?>>> result=ContainerUtilRt.newHashMap();
  for (  DataNode<?> node : nodes) {
    Collection<DataNode<?>> n=result.get(node.getKey());
    if (n == null) {
      result.put(node.getKey(),n=ContainerUtilRt.newArrayList());
    }
    n.add(node);
  }
  return result;
}
