{
  EventRequestManager requestManager=getVirtualMachineProxy().eventRequestManager();
  List stepRequests=requestManager.stepRequests();
  if (stepRequests.size() > 0) {
    List toDelete=new ArrayList();
    for (Iterator iterator=stepRequests.iterator(); iterator.hasNext(); ) {
      StepRequest request=(StepRequest)iterator.next();
      ThreadReference threadReference=request.thread();
      if (threadReference.status() == ThreadReference.THREAD_STATUS_UNKNOWN) {
        continue;
      }
 else       if (threadReference.equals(requestsInThread.getThreadReference())) {
        toDelete.add(request);
      }
    }
    for (Iterator iterator=toDelete.iterator(); iterator.hasNext(); ) {
      StepRequest request=(StepRequest)iterator.next();
      requestManager.deleteEventRequest(request);
    }
  }
}
