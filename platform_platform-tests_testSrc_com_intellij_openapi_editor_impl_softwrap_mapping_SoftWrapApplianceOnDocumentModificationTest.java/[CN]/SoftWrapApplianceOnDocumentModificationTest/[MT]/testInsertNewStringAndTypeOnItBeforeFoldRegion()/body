{
  String text="/**\n" + " * comment\n" + " */\n"+ "class Test {\n"+ "}";
  init(700,text);
  String placeholder="/**...*/";
  addCollapsedFoldRegion(0,text.indexOf("class") - 1,placeholder);
  myEditor.getCaretModel().moveToOffset(0);
  type("\n");
  myEditor.getCaretModel().moveToOffset(0);
  type("import");
  int foldStartOffset=myEditor.getDocument().getText().indexOf("/**");
  int foldEndOffset=myEditor.getDocument().getText().indexOf("class") - 1;
  assertEquals(new VisualPosition(1,0),myEditor.offsetToVisualPosition(foldStartOffset));
  assertEquals(new VisualPosition(1,0),myEditor.offsetToVisualPosition((foldStartOffset + foldEndOffset) / 2));
  assertEquals(new VisualPosition(1,placeholder.length()),myEditor.offsetToVisualPosition(foldEndOffset));
}
