def __call__(self, t, **map):
    ttype = (((t in self.map) and self.map[t][0]) or 'default')
    proc = self.engines.get(ttype)
    if (proc is None):
        proc = engines[ttype](self.load, self.filters, self.defaults)
        self.engines[ttype] = proc
    stream = proc.process(t, map)
    if self.minchunk:
        stream = util.increasingchunks(stream, min=self.minchunk, max=self.maxchunk)
    return stream
