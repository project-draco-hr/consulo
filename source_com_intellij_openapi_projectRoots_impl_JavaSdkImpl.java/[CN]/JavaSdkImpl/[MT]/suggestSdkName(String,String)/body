{
  final String suggestedName;
  if (currentSdkName != null && currentSdkName.length() > 0) {
    final Matcher matcher=myVersionStringPattern.matcher(currentSdkName);
    final boolean replaceNameWithVersion=matcher.matches();
    if (replaceNameWithVersion) {
      final String versionString=getVersionString(sdkHome);
      suggestedName=versionString == null ? currentSdkName : matcher.replaceFirst("$1" + versionString + "$3");
    }
 else {
      suggestedName=currentSdkName;
    }
  }
 else {
    String versionString=getVersionString(sdkHome);
    if (versionString != null) {
      suggestedName=getVersionNumber(versionString);
    }
 else {
      suggestedName=ProjectBundle.message("sdk.java.unknown.name");
    }
  }
  return suggestedName;
}
