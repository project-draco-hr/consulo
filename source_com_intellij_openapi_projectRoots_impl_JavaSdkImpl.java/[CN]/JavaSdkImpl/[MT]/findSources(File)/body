{
  File srcfile=new File(file,"src");
  File jarfile=new File(file,"src.jar");
  if (!jarfile.exists()) {
    jarfile=new File(file,"src.zip");
  }
  if (jarfile.exists()) {
    JarFileSystemEx jarFileSystem=(JarFileSystemEx)JarFileSystem.getInstance();
    String path=jarfile.getAbsolutePath().replace(File.separatorChar,'/') + JarFileSystem.JAR_SEPARATOR + "src";
    jarFileSystem.setNoCopyJarForPath(path);
    VirtualFile vFile=jarFileSystem.findFileByPath(path);
    if (vFile != null)     return vFile;
    path=jarfile.getAbsolutePath().replace(File.separatorChar,'/') + JarFileSystem.JAR_SEPARATOR;
    jarFileSystem.setNoCopyJarForPath(path);
    vFile=jarFileSystem.findFileByPath(path);
    return vFile;
  }
 else {
    if (!srcfile.exists() || !srcfile.isDirectory())     return null;
    String path=srcfile.getAbsolutePath().replace(File.separatorChar,'/');
    VirtualFile vFile=LocalFileSystem.getInstance().findFileByPath(path);
    return vFile;
  }
}
