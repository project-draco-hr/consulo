{
  if (sourceScope == null)   throw new JUnitUtil.NoJUnitException();
  PsiClass testCase=module == null ? JUnitUtil.getTestCaseClass(sourceScope) : JUnitUtil.getTestCaseClass(module);
  final Pattern compilePattern=getCompilePattern(pattern);
  return new TestClassFilter(testCase,sourceScope.getGlobalSearchScope()){
    @Override public boolean isAccepted(    PsiClass aClass){
      return super.isAccepted(aClass) && compilePattern != null && compilePattern.matcher(aClass.getQualifiedName()).matches();
    }
  }
;
}
