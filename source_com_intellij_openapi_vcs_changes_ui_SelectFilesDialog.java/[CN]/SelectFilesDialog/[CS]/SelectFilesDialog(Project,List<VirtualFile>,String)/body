{
  super(project,false);
  myFileList=new ChangesTreeList<VirtualFile>(project,originalFiles,true,true){
    protected DefaultTreeModel buildTreeModel(    final List<VirtualFile> changes){
      return new TreeModelBuilder(project,false).buildModelFromFiles(changes);
    }
    protected List<VirtualFile> getSelectedObjects(    final ChangesBrowserNode node){
      return node.getAllFilesUnder();
    }
  }
;
  myFileList.setChangesToDisplay(originalFiles);
  myPanel=new JPanel(new BorderLayout());
  myPanel.add(myFileList,BorderLayout.CENTER);
  if (prompt != null) {
    final JLabel label=new JLabel(prompt);
    label.setUI(new MultiLineLabelUI());
    myPanel.add(label,BorderLayout.NORTH);
  }
  init();
}
