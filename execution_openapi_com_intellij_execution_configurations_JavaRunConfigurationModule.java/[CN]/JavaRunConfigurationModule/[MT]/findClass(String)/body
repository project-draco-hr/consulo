{
  if (qualifiedName == null)   return null;
  final Module module=getModule();
  final GlobalSearchScope scope;
  if (module != null) {
    scope=myClassesInLibraries ? GlobalSearchScope.moduleWithDependenciesAndLibrariesScope(module) : GlobalSearchScope.moduleWithDependenciesScope(module);
  }
 else {
    scope=myClassesInLibraries ? GlobalSearchScope.allScope(getProject()) : GlobalSearchScope.projectScope(getProject());
  }
  return JavaPsiFacade.getInstance(getProject()).findClass(qualifiedName.replace('$','.'),scope);
}
