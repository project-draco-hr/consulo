{
  List<RadComponent> selection=myMainArea.getSelection();
  if (selection.size() != 1) {
    return;
  }
  boolean update=!myRootChildren.isEmpty();
  myRootComponent.setLayout(null);
  ICaption caption=null;
  RadComponent component=selection.get(0);
  RadComponent parent=component.getParent();
  if (parent != null) {
    caption=parent.getLayout().getCaption(component);
  }
  if (caption == null) {
    caption=component.getCaption();
  }
  if (caption == null) {
    myRootChildren=Collections.emptyList();
  }
 else {
    myRootComponent.setLayout(caption.getCaptionLayout(myMainArea,myHorizontal));
    myRootChildren=caption.getCaptionChildren(myMainArea,myHorizontal);
    update|=!myRootChildren.isEmpty();
  }
  if (update) {
    revalidate();
    repaint();
  }
}
