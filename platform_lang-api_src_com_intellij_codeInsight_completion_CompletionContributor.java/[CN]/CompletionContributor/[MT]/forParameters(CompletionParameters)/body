{
  return ApplicationManager.getApplication().runReadAction(new Computable<List<CompletionContributor>>(){
    @Override public List<CompletionContributor> compute(){
      return forLanguage(PsiUtilCore.getLanguageAtOffset(parameters.getPosition().getContainingFile(),parameters.getOffset()));
    }
  }
);
}
