{
  return ApplicationManager.getApplication().runReadAction(new Computable<List<CompletionContributor>>(){
    public List<CompletionContributor> compute(){
      return forLanguage(PsiUtilBase.getLanguageAtOffset(parameters.getPosition().getContainingFile(),parameters.getOffset()));
    }
  }
);
}
