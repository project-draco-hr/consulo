{
  final String[] urls=getAvailableUrls();
  for (  String url : urls) {
    String location=getResourceLocation(url);
    final Element e=new Element("resource");
    e.setAttribute("url",url);
    e.setAttribute("location",location.replace(File.separatorChar,'/'));
    element.addContent(e);
  }
  final String[] ignoredResources=getIgnoredResources();
  for (  String ignoredResource : ignoredResources) {
    final Element e=new Element("ignored-resource");
    e.setAttribute("url",ignoredResource);
    element.addContent(e);
  }
  final ReplacePathToMacroMap macroReplacements=new ReplacePathToMacroMap();
  PathMacrosImpl.getInstanceEx().addMacroReplacements(macroReplacements);
  macroReplacements.substitute(element,SystemInfo.isFileSystemCaseSensitive);
}
