{
  final String[] urls=getAvailableUrls();
  for (int i=0; i < urls.length; i++) {
    String url=urls[i];
    String location=getResourceLocation(url);
    final Element e=new Element("resource");
    e.setAttribute("url",url);
    e.setAttribute("location",location.replace(File.separatorChar,'/'));
    element.addContent(e);
  }
  final String[] ignoredResources=getIgnoredResources();
  for (int i=0; i < ignoredResources.length; i++) {
    String ignoredResource=ignoredResources[i];
    final Element e=new Element("ignored-resource");
    e.setAttribute("url",ignoredResource);
    element.addContent(e);
  }
  final ReplacePathToMacroMap macroReplacements=new ReplacePathToMacroMap();
  PathMacros.getInstance().addMacroReplacements(macroReplacements);
  macroReplacements.substitute(element,SystemInfo.isFileSystemCaseSensitive);
}
