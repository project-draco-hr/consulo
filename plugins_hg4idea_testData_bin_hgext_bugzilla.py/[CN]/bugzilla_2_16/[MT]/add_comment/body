def add_comment(self, bugid, text, committer):
    'add comment to bug. try adding comment as committer of\n        changeset, otherwise as default bugzilla user.'
    (user, userid) = self.get_bugzilla_user(committer)
    now = time.strftime('%Y-%m-%d %H:%M:%S')
    self.run('insert into longdescs\n                    (bug_id, who, bug_when, thetext)\n                    values (%s, %s, %s, %s)', (bugid, userid, now, text))
    self.run('insert into bugs_activity (bug_id, who, bug_when, fieldid)\n                    values (%s, %s, %s, %s)', (bugid, userid, now, self.longdesc_id))
    self.conn.commit()
