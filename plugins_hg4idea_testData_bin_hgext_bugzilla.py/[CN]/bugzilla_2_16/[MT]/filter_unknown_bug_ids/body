def filter_unknown_bug_ids(self, node, ids):
    'filter bug ids from list that already refer to this changeset.'
    self.run(('select bug_id from longdescs where\n                    bug_id in %s and thetext like "%%%s%%"' % (buglist(ids), short(node))))
    unknown = set(ids)
    for (id,) in self.cursor.fetchall():
        self.ui.status((_('bug %d already knows about changeset %s\n') % (id, short(node))))
        unknown.discard(id)
    return sorted(unknown)
