def notify(self, ids, committer):
    'tell bugzilla to send mail.'
    self.ui.status(_('telling bugzilla to send mail:\n'))
    (user, userid) = self.get_bugzilla_user(committer)
    for id in ids:
        self.ui.status((_('  bug %s\n') % id))
        cmdfmt = self.ui.config('bugzilla', 'notify', self.default_notify)
        bzdir = self.ui.config('bugzilla', 'bzdir', '/var/www/html/bugzilla')
        try:
            cmd = (cmdfmt % id)
        except TypeError:
            cmd = (cmdfmt % {'bzdir': bzdir, 'id': id, 'user': user, })
        self.ui.note((_('running notify command %s\n') % cmd))
        fp = util.popen(('(%s) 2>&1' % cmd))
        out = fp.read()
        ret = fp.close()
        if ret:
            self.ui.warn(out)
            raise util.Abort((_('bugzilla notify command %s') % util.explain_exit(ret)[0]))
    self.ui.status(_('done\n'))
