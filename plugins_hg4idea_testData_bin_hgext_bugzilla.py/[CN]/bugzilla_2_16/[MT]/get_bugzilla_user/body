def get_bugzilla_user(self, committer):
    'see if committer is a registered bugzilla user. Return\n        bugzilla username and userid if so. If not, return default\n        bugzilla username and userid.'
    user = self.map_committer(committer)
    try:
        userid = self.get_user_id(user)
    except KeyError:
        try:
            defaultuser = self.ui.config('bugzilla', 'bzuser')
            if (not defaultuser):
                raise util.Abort((_('cannot find bugzilla user id for %s') % user))
            userid = self.get_user_id(defaultuser)
            user = defaultuser
        except KeyError:
            raise util.Abort((_('cannot find bugzilla user id for %s or %s') % (user, defaultuser)))
    return (user, userid)
