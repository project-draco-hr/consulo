{
  List<ZenCodingToken> tokens=new EmmetLexer().lex(text);
  if (tokens == null) {
    return null;
  }
  if (generator != null && !validate(tokens,generator)) {
    return null;
  }
  EmmetParser parser=new EmmetParser(tokens,callback,generator);
  ZenCodingNode node=parser.parse();
  if (parser.getIndex() != tokens.size() || node instanceof TextNode) {
    return null;
  }
  return node;
}
