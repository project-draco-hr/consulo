{
  TextEditorState state=new TextEditorState();
  try {
    state.LINE=Integer.parseInt(element.getAttributeValue("line"));
    state.COLUMN=Integer.parseInt(element.getAttributeValue("column"));
    state.SELECTION_START=Integer.parseInt(element.getAttributeValue("selection-start"));
    state.SELECTION_END=Integer.parseInt(element.getAttributeValue("selection-end"));
    state.VERTICAL_SCROLL_PROPORTION=Float.parseFloat(element.getAttributeValue("vertical-scroll-proportion"));
  }
 catch (  NumberFormatException ignored) {
  }
  if (project != null) {
    Element child=element.getChild("folding");
    Document document=FileDocumentManager.getInstance().getDocument(file);
    if (child != null && document != null) {
      state.FOLDING_STATE=CodeFoldingManager.getInstance(project).readFoldingState(child,document);
    }
 else {
      state.FOLDING_STATE=null;
    }
  }
  return state;
}
