{
  if (editor == null) {
    throw new IllegalArgumentException("editor cannot be null");
  }
  if (editor instanceof DocumentsEditor) {
    DocumentsEditor documentsEditor=(DocumentsEditor)editor;
    Document[] documents=documentsEditor.getDocuments();
    if (documents.length > 0) {
      return documents;
    }
 else {
      return null;
    }
  }
  Project[] projects=ProjectManager.getInstance().getOpenProjects();
  for (int i=projects.length - 1; i >= 0; i--) {
    VirtualFile file=FileEditorManagerEx.getInstanceEx(projects[i]).getFile(editor);
    if (file != null) {
      Document document=FileDocumentManager.getInstance().getDocument(file);
      if (document != null) {
        return new Document[]{document};
      }
 else {
        return null;
      }
    }
  }
  if (editor instanceof TextEditor) {
    Document document=((TextEditor)editor).getEditor().getDocument();
    return new Document[]{document};
  }
  return null;
}
