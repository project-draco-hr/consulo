{
  return new JBTableRowEditor(){
    private EditorTextField myTypeEditor;
    private EditorTextField myNameEditor;
    private EditorTextField myDefaultValueEditor;
    private JCheckBox myAnyVar;
    @Override public void prepareEditor(    JTable table,    int row){
      setLayout(new BorderLayout());
      final JPanel typePanel=new JPanel(new VerticalFlowLayout(VerticalFlowLayout.TOP,4,2,true,false));
      final Document document=PsiDocumentManager.getInstance(getProject()).getDocument(item.typeCodeFragment);
      myTypeEditor=new EditorTextField(document,getProject(),getFileType());
      final JLabel typeLabel=new JLabel("&Type");
      DialogUtil.registerMnemonic(typeLabel,myTypeEditor,'&');
      typePanel.add(typeLabel);
      typePanel.add(myTypeEditor);
      typePanel.setPreferredSize(new Dimension(t.getWidth() / 3,-1));
      add(typePanel,BorderLayout.WEST);
      final JPanel namePanel=new JPanel(new VerticalFlowLayout(VerticalFlowLayout.TOP,4,2,true,false));
      myNameEditor=new EditorTextField(item.parameter.getName(),getProject(),getFileType());
      final JLabel nameLabel=new JLabel("&Name");
      DialogUtil.registerMnemonic(nameLabel,myNameEditor,'&');
      namePanel.add(nameLabel);
      namePanel.add(myNameEditor);
      add(namePanel,BorderLayout.CENTER);
      if (!item.isEllipsisType() && item.parameter.getOldIndex() == -1) {
        final JPanel additionalPanel=new JPanel(new BorderLayout());
        final JPanel defaultValuePanel=new JPanel(new BorderLayout());
        final Document doc=PsiDocumentManager.getInstance(getProject()).getDocument(item.defaultValueCodeFragment);
        myDefaultValueEditor=new EditorTextField(doc,getProject(),getFileType());
        ((PsiExpressionCodeFragment)item.defaultValueCodeFragment).setExpectedType(getRowType(item));
        final JLabel defaultValueLabel=new JLabel("&Default value:");
        myDefaultValueEditor.setPreferredSize(new Dimension(table.getWidth() / 3,-1));
        DialogUtil.registerMnemonic(defaultValueLabel,myDefaultValueEditor,'&');
        defaultValuePanel.add(defaultValueLabel,BorderLayout.WEST);
        defaultValuePanel.add(myDefaultValueEditor,BorderLayout.CENTER);
        additionalPanel.add(defaultValuePanel,BorderLayout.CENTER);
        if (isGenerateDelegate()) {
          myAnyVar=new JCheckBox("Use &Any Var");
          DialogUtil.registerMnemonic(myAnyVar,'&');
          myAnyVar.addActionListener(new ActionListener(){
            @Override public void actionPerformed(            ActionEvent e){
              item.parameter.setUseAnySingleVariable(myAnyVar.isSelected());
            }
          }
);
          additionalPanel.setPreferredSize(new Dimension(t.getWidth() / 3,-1));
          additionalPanel.add(myAnyVar,BorderLayout.EAST);
        }
        add(additionalPanel,BorderLayout.EAST);
      }
    }
    @Override public JBTableRow getValue(){
      return new JBTableRow(){
        @Override public Object getValueAt(        int column){
switch (column) {
case 0:
            return item.typeCodeFragment;
case 1:
          return myNameEditor.getText().trim();
case 2:
        return item.defaultValueCodeFragment;
case 3:
      return myAnyVar != null && myAnyVar.isSelected();
  }
  return null;
}
}
;
}
@Override public JComponent getPreferredFocusedComponent(){
return myTypeEditor;
}
@Override public JComponent[] getFocusableComponents(){
final List<JComponent> focusable=new ArrayList<JComponent>();
focusable.add(myTypeEditor);
focusable.add(myNameEditor);
if (myDefaultValueEditor != null) {
focusable.add(myDefaultValueEditor);
}
if (myAnyVar != null) {
focusable.add(myAnyVar);
}
return focusable.toArray(new JComponent[focusable.size()]);
}
}
;
}
