{
  return new CodeFragmentTableCellEditor(myProject){
    public Component getTableCellEditorComponent(    JTable table,    Object value,    boolean isSelected,    int row,    int column){
      final Component editor=super.getTableCellEditorComponent(table,value,isSelected,row,column);
      if (myCodeFragment instanceof PsiExpressionCodeFragment) {
        final Object valueAt=table.getValueAt(row,0);
        if (valueAt != null) {
          try {
            final PsiType type=((PsiTypeCodeFragment)valueAt).getType();
            ((PsiExpressionCodeFragment)myCodeFragment).setExpectedType(type);
          }
 catch (          PsiTypeCodeFragment.TypeSyntaxException ignored) {
          }
catch (          PsiTypeCodeFragment.NoTypeException ignored) {
          }
        }
      }
      return editor;
    }
  }
;
}
