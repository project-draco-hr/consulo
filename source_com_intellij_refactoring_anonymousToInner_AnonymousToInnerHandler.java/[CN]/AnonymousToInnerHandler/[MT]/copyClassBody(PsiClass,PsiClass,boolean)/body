{
  PsiElement lbrace=sourceClass.getLBrace();
  PsiElement rbrace=sourceClass.getRBrace();
  if (lbrace != null) {
    targetClass.addRange(lbrace.getNextSibling(),rbrace != null ? rbrace.getPrevSibling() : sourceClass.getLastChild());
    if (appendInitializersToConstructor) {
      final PsiClassInitializer[] initializers=targetClass.getInitializers();
      for (int i=0; i < initializers.length; i++) {
        PsiClassInitializer initializer=initializers[i];
        if (!initializer.hasModifierProperty(PsiModifier.STATIC))         initializer.delete();
      }
      final PsiField[] fields=targetClass.getFields();
      for (int i=0; i < fields.length; i++) {
        PsiField field=fields[i];
        if (!field.hasModifierProperty(PsiModifier.STATIC) && field.getInitializer() != null) {
          field.getInitializer().delete();
        }
      }
    }
  }
}
