{
  final Set<Module> modules=ApplicationManager.getApplication().runReadAction(new Computable<Set<Module>>(){
    @Override public Set<Module> compute(){
      return ArtifactUtil.getModulesIncludedInArtifacts(Collections.singletonList(myArtifact),getProject());
    }
  }
);
  for (  Module module : modules) {
    final PsiClass aClass=JavaExecutionUtil.findMainClass(getProject(),className,GlobalSearchScope.moduleScope(module));
    if (aClass != null) {
      return aClass;
    }
  }
  return null;
}
