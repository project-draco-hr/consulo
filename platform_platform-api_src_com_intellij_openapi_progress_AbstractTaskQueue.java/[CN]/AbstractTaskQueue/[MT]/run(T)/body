{
  if (ApplicationManager.getApplication().isUnitTestMode()) {
    runStuff(stuff);
    return;
  }
  boolean impulseGiven=false;
synchronized (myLock) {
    try {
      myQueue.add(stuff);
      if (!myActive) {
        runMe();
        impulseGiven=true;
      }
    }
 catch (    Throwable t) {
      LOG.info(t);
      throw t instanceof RuntimeException ? ((RuntimeException)t) : new RuntimeException(t);
    }
 finally {
      if ((!myActive) && impulseGiven) {
        myActive=true;
      }
    }
  }
}
