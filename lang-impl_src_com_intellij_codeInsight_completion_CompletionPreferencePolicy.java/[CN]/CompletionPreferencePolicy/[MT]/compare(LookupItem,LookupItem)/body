{
  if (item1 == item2)   return 0;
  if (myParameters.getCompletionType() == CompletionType.SMART) {
    if (item2.getAttribute(LookupItem.DONT_PREFER) != null)     return -1;
    return 0;
  }
  if (item1.getAllLookupStrings().contains(myPrefix))   return -1;
  if (item2.getAllLookupStrings().contains(myPrefix))   return 1;
  return doCompare(item1.getPriority(),item2.getPriority(),getWeight(item1),getWeight(item2));
}
