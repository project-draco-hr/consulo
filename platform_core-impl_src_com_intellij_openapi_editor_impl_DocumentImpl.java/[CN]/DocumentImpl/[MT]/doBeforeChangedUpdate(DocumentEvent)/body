{
  Application app=ApplicationManager.getApplication();
  if (app != null) {
    FileDocumentManager manager=FileDocumentManager.getInstance();
    VirtualFile file=manager.getFile(this);
    if (file != null && !file.isValid()) {
      LOG.error("File of this document has been deleted.");
    }
  }
  assertInsideCommand();
  getLineSet();
  if (!ShutDownTracker.isShutdownHookRunning()) {
    DocumentListener[] listeners=getCachedListeners();
    for (int i=listeners.length - 1; i >= 0; i--) {
      try {
        listeners[i].beforeDocumentChange(event);
      }
 catch (      Throwable e) {
        LOG.error(e);
      }
    }
  }
  myEventsHandling=true;
}
