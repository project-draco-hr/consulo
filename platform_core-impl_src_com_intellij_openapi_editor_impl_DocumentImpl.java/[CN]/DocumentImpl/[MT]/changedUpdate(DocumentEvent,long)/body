{
  try {
    if (LOG.isDebugEnabled())     LOG.debug(event.toString());
    myLineSet.changedUpdate(event);
    setModificationStamp(newModificationStamp);
    if (!ShutDownTracker.isShutdownHookRunning()) {
      DocumentListener[] listeners=getCachedListeners();
      for (      DocumentListener listener : listeners) {
        try {
          listener.documentChanged(event);
        }
 catch (        Throwable e) {
          LOG.error(e);
        }
      }
    }
  }
  finally {
    myEventsHandling=false;
  }
}
