{
  List<Integer> modifiedLines=new ArrayList<Integer>(caretLines.size());
  LineSet lineSet=getLineSet();
  for (  Integer line : caretLines) {
    if (line != null && line >= 0 && line < lineSet.getLineCount() && lineSet.isModified(line)) {
      modifiedLines.add(line);
    }
  }
  clearLineModificationFlags();
  for (  Integer line : modifiedLines) {
    lineSet.setModified(line);
  }
}
