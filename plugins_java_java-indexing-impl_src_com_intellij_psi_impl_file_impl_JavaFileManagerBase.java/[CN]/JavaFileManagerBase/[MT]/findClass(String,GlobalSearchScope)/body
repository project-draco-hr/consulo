{
  if (!myUseRepository) {
    return findClassWithoutRepository(qName);
  }
  if (!myInitialized) {
    LOG.error("Access to psi files should be performed only after startup activity");
    return null;
  }
  LOG.assertTrue(!myDisposed);
  if (CommonClassNames.JAVA_LANG_OBJECT.equals(qName)) {
    PsiClass cached=myCachedObjectClassMap.get(scope);
    if (cached == null) {
      cached=findClassInIndex(qName,scope);
      if (cached != null) {
        cached=myCachedObjectClassMap.cacheOrGet(scope,cached);
      }
    }
    return cached;
  }
  return findClassInIndex(qName,scope);
}
