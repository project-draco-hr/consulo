{
  final PropertiesComponent properties=PropertiesComponent.getInstance(myProject);
  final IDevice selectedDevice=getSelectedDevice();
  if (selectedDevice == null) {
    return;
  }
  final Client selectedClient=getSelectedClient();
  if (selectedClient == null) {
    return;
  }
  super.doOKAction();
  properties.setValue(DEBUGGABLE_DEVICE_PROPERTY,getPresentableName(selectedDevice));
  properties.setValue(DEBUGGABLE_PROCESS_PROPERTY,selectedClient.getClientData().getClientDescription());
  properties.setValue(SHOW_ALL_PROCESSES_PROPERTY,Boolean.toString(myShowAllProcessesCheckBox.isSelected()));
  final String debugPort=Integer.toString(selectedClient.getDebuggerListenPort());
  closeOldSessionAndRun(debugPort);
}
