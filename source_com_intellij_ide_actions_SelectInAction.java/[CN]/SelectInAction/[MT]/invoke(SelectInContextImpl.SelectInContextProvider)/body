{
  final SelectInTarget[] targetVector=getTargets(contextProvider.getContext());
  final JList list;
  final Runnable runnable;
  if (targetVector.length > 0) {
    list=new JList(targetVector);
    list.setSelectionMode(ListSelectionModel.SINGLE_SELECTION);
    list.setCellRenderer(new MyListCellRenderer());
    runnable=new MyRunnable(contextProvider.getContext(),list);
  }
 else {
    list=new JList(new String[]{"No targets available in this context"});
    runnable=new Runnable(){
      public void run(){
      }
    }
;
  }
  ListPopup listPopup=new ListPopup(" Select Target ",list,runnable,contextProvider.getContext().getProject());
  Point p=contextProvider.getInvocationPoint();
  listPopup.show(p.x,p.y);
}
