{
  if (HighlighterColors.BAD_CHARACTER.equals(myHighlightType)) {
    return;
  }
  TextAttributes attr=scheme.getAttributes(myHighlightType);
  if (attr != null) {
    view.getMarkupModel().addRangeHighlighter(myStartOffset,myEndOffset,HighlighterLayer.ADDITIONAL_SYNTAX,TextAttributes.ERASE_MARKER,HighlighterTargetArea.EXACT_RANGE);
    RangeHighlighter highlighter=view.getMarkupModel().addRangeHighlighter(myStartOffset,myEndOffset,HighlighterLayer.ADDITIONAL_SYNTAX,attr,HighlighterTargetArea.EXACT_RANGE);
    final Color errorStripeColor=attr.getErrorStripeColor();
    highlighter.setErrorStripeMarkColor(errorStripeColor);
    final String tooltip=displayText.get(myHighlightType);
    highlighter.setErrorStripeTooltip(tooltip);
  }
}
