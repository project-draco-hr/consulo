{
  WaitForProgressToShow.runOrInvokeLaterAboveProgress(new Runnable(){
    public void run(){
      final String message;
      if (errorsSize > 0 && warningsSize > 0) {
        message=VcsBundle.message("message.text.commit.failed.with.errors.and.warnings");
      }
 else       if (errorsSize > 0) {
        message=VcsBundle.message("message.text.commit.failed.with.errors");
      }
 else {
        message=VcsBundle.message("message.text.commit.finished.with.warnings");
      }
      Messages.showErrorDialog(message,VcsBundle.message("message.title.commit"));
      if (errorsSize > 0) {
        processor.afterFailedCheckIn();
      }
    }
  }
,null,myProject);
}
