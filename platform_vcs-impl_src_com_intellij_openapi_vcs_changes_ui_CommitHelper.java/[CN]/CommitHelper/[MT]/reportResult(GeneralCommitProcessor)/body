{
  final List<Change> changesFailedToCommit=processor.getChangesFailedToCommit();
  int failed=changesFailedToCommit.size();
  int committed=myIncludedChanges.size() - failed;
  String text=committed + " " + StringUtil.pluralize("file",committed)+ " committed";
  if (failed > 0) {
    text+=", " + failed + " "+ StringUtil.pluralize("file",failed)+ " failed to commit";
  }
  StringBuilder content=new StringBuilder(StringUtil.isEmpty(myCommitMessage) ? text : text + ": " + escape(myCommitMessage));
  for (  String s : myFeedback) {
    content.append("\n");
    content.append(s);
  }
  NotificationType notificationType=resolveNotificationType(processor);
  VcsBalloonProblemNotifier.NOTIFICATION_GROUP.createNotification(content.toString(),notificationType).notify(myProject);
  return text;
}
