{
  Object[] selectedPsiElements=null;
  if (myStructureViewState != null) {
    selectedPsiElements=myStructureViewState.getSelectedElements();
  }
  if (selectedPsiElements == null) {
    getTree().setSelectionPath(new TreePath(getRootNode().getPath()));
  }
 else {
    for (    Object element : selectedPsiElements) {
      if (element instanceof PsiElement && !((PsiElement)element).isValid()) {
        continue;
      }
      addSelectionPathTo(element);
    }
  }
}
