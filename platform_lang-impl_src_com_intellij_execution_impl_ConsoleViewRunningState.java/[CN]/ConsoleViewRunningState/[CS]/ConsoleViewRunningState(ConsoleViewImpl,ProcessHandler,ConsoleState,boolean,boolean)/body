{
  myConsole=console;
  myProcessHandler=processHandler;
  myFinishedStated=finishedStated;
  if (attachToStdOut) {
    processHandler.addProcessListener(myProcessListener);
  }
  if (attachToStdIn) {
    final OutputStream processInput=myProcessHandler.getProcessInput();
    myUserInputWriter=processInput != null ? new OutputStreamWriter(processInput) : null;
  }
 else {
    myUserInputWriter=null;
  }
}
