{
  final TreeElement next=element.getTreeNext();
  final CompositeElement parent=element.getTreeParent();
  final TreeElement prev=element.getTreePrev();
  if (prev != null) {
    prev.setTreeNext(next);
  }
 else   if (parent != null) {
    parent.firstChild=next;
  }
  if (next != null) {
    next.setTreePrev(prev);
  }
 else   if (parent != null) {
    parent.lastChild=prev;
  }
  if (DebugUtil.CHECK) {
    if (element.getTreeParent() != null) {
      DebugUtil.checkTreeStructure(element.getTreeParent());
    }
    if (element.getTreePrev() != null) {
      DebugUtil.checkTreeStructure(element.getTreePrev());
    }
    if (element.getTreeNext() != null) {
      DebugUtil.checkTreeStructure(element.getTreeNext());
    }
  }
  invalidate(element);
}
