{
  if (commonParent != null) {
    initStrongWhitespaceHolder(commonParent,element,false);
  }
  if (!expandChameleons && isLeafOrCollapsedChameleon(element)) {
    return element;
  }
  if (element instanceof LeafElement || element.getElementType() == searchedType) {
    return element;
  }
 else {
    for (TreeElement child=element.getFirstChildNode(); child != null; child=child.getTreeNext()) {
      TreeElement leaf=findFirstLeaf(child,searchedType,commonParent,expandChameleons);
      if (leaf != null)       return leaf;
    }
    return null;
  }
}
