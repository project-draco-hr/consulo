{
  final TreeElement lastChild=parent.lastChild;
  if (lastChild == null) {
    parent.firstChild=first;
    first.setTreePrev(null);
    while (true) {
      final TreeElement treeNext=first.getTreeNext();
      first.setTreeParent(parent);
      if (treeNext == null)       break;
      first=treeNext;
    }
    parent.lastChild=first;
    first.setTreeParent(parent);
  }
 else   insertAfter(lastChild,first);
  if (DebugUtil.CHECK) {
    DebugUtil.checkTreeStructure(parent);
  }
}
