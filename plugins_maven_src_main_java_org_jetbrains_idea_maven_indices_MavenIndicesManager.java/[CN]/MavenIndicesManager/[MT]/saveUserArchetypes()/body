{
  Element root=new Element(ELEMENT_ARCHETYPES);
  for (  ArchetypeInfo each : myUserArchetypes) {
    Element childElement=new Element(ELEMENT_ARCHETYPE);
    childElement.setAttribute(ELEMENT_GROUP_ID,each.groupId);
    childElement.setAttribute(ELEMENT_ARTIFACT_ID,each.artifactId);
    childElement.setAttribute(ELEMENT_VERSION,each.version);
    if (each.repository != null) {
      childElement.setAttribute(ELEMENT_REPOSITORY,each.repository);
    }
    if (each.description != null) {
      childElement.setAttribute(ELEMENT_DESCRIPTION,each.description);
    }
    root.addContent(childElement);
  }
  try {
    File file=getUserArchetypesFile();
    file.getParentFile().mkdirs();
    JDOMUtil.writeDocument(new Document(root),file,"\n");
  }
 catch (  IOException e) {
    MavenLog.LOG.warn(e);
  }
}
