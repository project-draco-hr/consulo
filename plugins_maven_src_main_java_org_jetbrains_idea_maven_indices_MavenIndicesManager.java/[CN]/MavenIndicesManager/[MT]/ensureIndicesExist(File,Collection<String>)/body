{
  LinkedHashSet<MavenIndex> result=new LinkedHashSet<MavenIndex>();
  MavenIndices indicesObjectCache=getIndicesObject();
  try {
    MavenIndex localIndex=indicesObjectCache.add(localRepository.getPath(),MavenIndex.Kind.LOCAL);
    result.add(localIndex);
    if (localIndex.getUpdateTimestamp() == -1) {
      scheduleUpdate(Collections.singletonList(localIndex));
    }
  }
 catch (  MavenIndexException e) {
    MavenLog.LOG.warn(e);
  }
  for (  String eachRepo : remoteRepositories) {
    try {
      result.add(indicesObjectCache.add(eachRepo,MavenIndex.Kind.REMOTE));
    }
 catch (    MavenIndexException e) {
      MavenLog.LOG.warn(e);
    }
  }
  return new ArrayList<MavenIndex>(result);
}
