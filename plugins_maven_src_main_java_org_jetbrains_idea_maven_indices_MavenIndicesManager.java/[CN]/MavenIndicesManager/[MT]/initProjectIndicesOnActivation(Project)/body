{
  if (ApplicationManager.getApplication().isUnitTestMode()) {
    doInitProjectIndices(p);
    return;
  }
  MavenProjectsManager.Listener l=new MavenProjectsManager.Listener(){
    public void activate(){
      doInitProjectIndices(p);
    }
    public void profilesChanged(    List<String> profiles){
    }
    public void setIgnored(    VirtualFile file,    boolean on){
    }
    public void projectAdded(    MavenProjectModel n){
    }
    public void projectRemoved(    MavenProjectModel n){
    }
    public void beforeProjectUpdate(    MavenProjectModel n){
    }
    public void projectUpdated(    MavenProjectModel n){
    }
  }
;
  MavenProjectsManager.getInstance(p).addListener(l);
  myMavenProjectListeners.put(p,l);
}
