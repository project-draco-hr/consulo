{
  if (!(getUI() instanceof UIUtil.MacTreeUI)) {
    TreePath path=getSelectionPath();
    if (path != null) {
      if (e.getKeyCode() == KeyEvent.VK_LEFT) {
        if (isExpanded(path)) {
          collapsePath(path);
          return;
        }
      }
 else       if (e.getKeyCode() == KeyEvent.VK_RIGHT) {
        if (isCollapsed(path)) {
          expandPath(path);
          return;
        }
      }
    }
  }
  super.processKeyEvent(e);
}
