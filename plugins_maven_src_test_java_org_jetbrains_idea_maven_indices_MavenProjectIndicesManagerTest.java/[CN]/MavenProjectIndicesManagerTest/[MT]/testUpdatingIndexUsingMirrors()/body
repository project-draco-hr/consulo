{
  myIndicesFixture.tearDown();
  myIndicesFixture=new MavenIndicesTestFixture(myDir,myProject,"local2","remote_mirror");
  myIndicesFixture.setUp();
  updateSettingsXmlFully("<settings>" + "  <mirrors>" + "  </mirrors>"+ "</settings>");
  importProject("<groupId>test</groupId>" + "<artifactId>project</artifactId>" + "<version>1</version>"+ "<repositories>"+ "  <repository>"+ "    <id>central</id>"+ "    <url>xxx://does.not.matter</url>"+ "  </repository>"+ "</repositories>");
  myIndicesFixture.getProjectIndicesManager().scheduleUpdateAll();
  assertUnorderedElementsAreEqual(myIndicesFixture.getProjectIndicesManager().getGroupIds(),"test","jmock");
  updateSettingsXmlFully("<settings>" + "  <mirrors>" + "    <mirror>"+ "      <id>nexus</id>"+ "      <mirrorOf>anotherRepoId</mirrorOf>"+ "      <url>file:///" + myIndicesFixture.getRepositoryHelper().getTestDataPath("remote_mirror") + "</url>"+ "    </mirror>"+ "  </mirrors>"+ "</settings>");
  myIndicesFixture.getProjectIndicesManager().scheduleUpdateAll();
  assertUnorderedElementsAreEqual(myIndicesFixture.getProjectIndicesManager().getGroupIds(),"test","jmock");
  updateSettingsXmlFully("<settings>" + "  <mirrors>" + "    <mirror>"+ "      <id>nexus</id>"+ "      <mirrorOf>central</mirrorOf>"+ "      <url>file:///" + myIndicesFixture.getRepositoryHelper().getTestDataPath("remote_mirror") + "</url>"+ "    </mirror>"+ "  </mirrors>"+ "</settings>");
  myIndicesFixture.getProjectIndicesManager().scheduleUpdateAll();
  assertUnorderedElementsAreEqual(myIndicesFixture.getProjectIndicesManager().getGroupIds(),"test","jmock","junit");
  myIndicesFixture.tearDown();
  myIndicesFixture=new MavenIndicesTestFixture(myDir,myProject,"local2","remote_mirror");
  myIndicesFixture.setUp();
  updateSettingsXmlFully("<settings>" + "  <mirrors>" + "    <mirror>"+ "      <id>nexus</id>"+ "      <mirrorOf>*</mirrorOf>"+ "      <url>file:///" + myIndicesFixture.getRepositoryHelper().getTestDataPath("remote_mirror") + "</url>"+ "    </mirror>"+ "  </mirrors>"+ "</settings>");
  myIndicesFixture.getProjectIndicesManager().scheduleUpdateAll();
  assertUnorderedElementsAreEqual(myIndicesFixture.getProjectIndicesManager().getGroupIds(),"test","jmock","junit");
}
