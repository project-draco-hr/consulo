{
  ByteArrayOutputStream os=new ByteArrayOutputStream();
  try {
    byte[] buffer=new byte[1024];
    int size;
    while ((size=is.read(buffer)) > 0) {
      os.write(buffer,0,size);
      if (indicator != null) {
        indicator.checkCanceled();
      }
    }
  }
  finally {
    os.close();
  }
  PluginJsonNode[] nodes=new Gson().fromJson(new InputStreamReader(new ByteArrayInputStream(os.toByteArray()),StandardCharsets.UTF_8),PluginJsonNode[].class);
  List<IdeaPluginDescriptor> pluginDescriptors=new ArrayList<>(nodes.length);
  for (  PluginJsonNode node : nodes) {
    PluginNode pluginNode=new PluginNode();
    pluginNode.setId(node.id);
    pluginNode.setName(node.name);
    pluginNode.setDescription(node.description);
    pluginNode.setDate(node.date);
    pluginNode.setVendor(node.vendor);
    pluginNode.setVersion(node.version);
    pluginNode.setPlatformVersion(node.platformVersion);
    pluginNode.setDownloads(String.valueOf(node.downloads));
    pluginNode.setCategory(node.category);
    pluginDescriptors.add(pluginNode);
  }
  return pluginDescriptors;
}
