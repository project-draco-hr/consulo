{
  final Configuration configuration=Configuration.getInstance();
  template.initializePlaces(false);
  final BaseInjection originalInjection=configuration.findExistingInjection(template);
  final BaseInjection newInjection=originalInjection == null ? template : originalInjection.copy();
  if (InjectLanguageAction.doEditConfigurable(project,new XmlAttributeInjectionConfigurable((XmlAttributeInjection)newInjection,null,project))) {
    Configuration.getInstance().replaceInjectionsWithUndo(project,Collections.singletonList(newInjection),ContainerUtil.createMaybeSingletonList(originalInjection),Collections.<PsiElement>emptyList());
  }
}
