{
  if (psiElement instanceof PsiPackage) {
    final PsiPackage psiPackage=((PsiPackage)psiElement);
    final PsiPackage parentPackage=psiPackage.getParentPackage();
    return parentPackage != null ? parentPackage.getQualifiedName() : "";
  }
 else   if (psiElement instanceof PsiDirectory) {
    PsiPackage aPackage=((PsiDirectory)psiElement).getPackage();
    return (aPackage != null) ? getTargetPackageNameForMovedElement(aPackage) : "";
  }
 else   if (psiElement != null) {
    PsiPackage aPackage=psiElement.getContainingFile().getContainingDirectory().getPackage();
    return (aPackage != null) ? aPackage.getQualifiedName() : "";
  }
 else {
    return null;
  }
}
