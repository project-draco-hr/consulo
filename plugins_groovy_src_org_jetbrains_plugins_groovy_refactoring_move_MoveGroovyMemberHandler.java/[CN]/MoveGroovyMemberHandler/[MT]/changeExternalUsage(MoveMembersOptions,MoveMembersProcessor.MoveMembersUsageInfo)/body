{
  if (!usage.getElement().isValid())   return true;
  if (usage.reference instanceof GrReferenceExpression) {
    GrReferenceExpression refExpr=(GrReferenceExpression)usage.reference;
    GrExpression qualifier=refExpr.getQualifierExpression();
    if (qualifier != null) {
      if (usage.qualifierClass != null) {
        changeQualifier(refExpr,usage.qualifierClass);
      }
 else {
        refExpr.setQualifierExpression(null);
      }
    }
 else {
      if (usage.qualifierClass != null) {
        changeQualifier(refExpr,usage.qualifierClass);
      }
    }
    return true;
  }
  return false;
}
