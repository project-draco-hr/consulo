{
  if (!myElement.isValid() || !myFile.isValid()) {
    if (myUrl != null) {
      final VirtualFile fileByUrl=VirtualFileManager.getInstance().findFileByUrl(myUrl);
      if (fileByUrl != null) {
        final PsiFile file=myManager.findFile(fileByUrl);
        if (file instanceof XmlFile) {
          init(((XmlFile)file).getDocument());
        }
      }
    }
  }
  return myFile.isValid() ? myFile.getDocument() : null;
}
