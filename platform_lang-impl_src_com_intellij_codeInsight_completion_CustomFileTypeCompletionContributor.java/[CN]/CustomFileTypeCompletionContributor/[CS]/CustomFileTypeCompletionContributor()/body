{
  extend(CompletionType.BASIC,psiElement().inFile(psiFile().withFileType(instanceOf(CustomSyntaxTableFileType.class))),new CompletionProvider(){
    @RequiredReadAction @Override protected void addCompletions(    @NotNull CompletionParameters parameters,    ProcessingContext context,    @NotNull CompletionResultSet result){
      if (inCommentOrLiteral(parameters)) {
        return;
      }
      FileType fileType=parameters.getOriginalFile().getFileType();
      if (!(fileType instanceof CustomSyntaxTableFileType)) {
        return;
      }
      SyntaxTable syntaxTable=((CustomSyntaxTableFileType)fileType).getSyntaxTable();
      String prefix=findPrefix(parameters.getPosition(),parameters.getOffset());
      CompletionResultSet resultSetWithPrefix=result.withPrefixMatcher(prefix);
      addVariants(resultSetWithPrefix,syntaxTable.getKeywords1());
      addVariants(resultSetWithPrefix,syntaxTable.getKeywords2());
      addVariants(resultSetWithPrefix,syntaxTable.getKeywords3());
      addVariants(resultSetWithPrefix,syntaxTable.getKeywords4());
      WordCompletionContributor.addWordCompletionVariants(resultSetWithPrefix,parameters,Collections.<String>emptySet());
    }
  }
);
}
