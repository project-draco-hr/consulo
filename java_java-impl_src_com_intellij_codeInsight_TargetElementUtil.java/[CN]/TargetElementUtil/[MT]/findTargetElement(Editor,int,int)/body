{
  final PsiElement element=super.findTargetElement(editor,flags,offset);
  if (element instanceof PsiKeyword) {
    if (element.getParent() instanceof PsiThisExpression) {
      if ((flags & THIS_ACCEPTED) == 0)       return null;
      PsiType type=((PsiThisExpression)element.getParent()).getType();
      if (!(type instanceof PsiClassType))       return null;
      return ((PsiClassType)type).resolve();
    }
    if (element.getParent() instanceof PsiSuperExpression) {
      if ((flags & SUPER_ACCEPTED) == 0)       return null;
      PsiType type=((PsiSuperExpression)element.getParent()).getType();
      if (!(type instanceof PsiClassType))       return null;
      return ((PsiClassType)type).resolve();
    }
  }
  return element;
}
