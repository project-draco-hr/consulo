{
  final DirDiffTableModel model=new DirDiffTableModel(myProject,dir1,dir2,settings);
  if (settings.showInFrame) {
    DirDiffFrame frame=new DirDiffFrame(myProject,model);
    if (windowListener != null) {
      frame.getFrame().addWindowListener(windowListener);
    }
    frame.show();
  }
 else {
    final DirDiffDialog dirDiffDialog=new DirDiffDialog(myProject,model);
    if (myProject == null || myProject.isDefault()) {
      dirDiffDialog.setModal(true);
    }
    if (windowListener != null) {
      dirDiffDialog.getOwner().addWindowListener(windowListener);
    }
    dirDiffDialog.show();
  }
}
