{
  if (obj instanceof VirtualFile) {
    final VirtualFile file=(VirtualFile)obj;
    VirtualFile archiveRootForLocalFile=ArchiveVfsUtil.getArchiveRootForLocalFile(file);
    return archiveRootForLocalFile != null ? new ArchiveFileDiffElement(archiveRootForLocalFile) : new VirtualFileDiffElement(file);
  }
  return null;
}
