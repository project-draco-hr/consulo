{
  boolean inQuotes=false;
  boolean wasEscaped=false;
  for (int i=0; i < myParamsString.length(); i++) {
    final char c=myParamsString.charAt(i);
    if (inQuotes) {
      LOG.assertTrue(!myUnquotedSlash);
      if (wasEscaped) {
        append(c);
        wasEscaped=false;
      }
 else       if (c == '"') {
        inQuotes=false;
      }
 else       if (c == '\\') {
        myTokenStarted=true;
        append(c);
        wasEscaped=true;
      }
 else {
        append(c);
      }
    }
 else {
      inQuotes=processNotQuoted(c,myBuffer.length() == 0 || myBuffer.charAt(myBuffer.length() - 1) == ' ');
    }
  }
  tokenFinished();
  return ArrayUtil.toStringArray(myArray);
}
