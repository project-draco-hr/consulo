{
  if (!ClasspathStorage.getStorageType(myModule).equals(EclipseClasspathStorageProvider.ID)) {
    if (!myEclipseUrls.isEmpty() || !myEclipseVariablePaths.isEmpty() || myForceConfigureJDK|| !myUnknownCons.isEmpty()) {
      Element root=new Element("EclipseModuleSettings");
      for (      String eclipseUrl : myEclipseUrls) {
        final Element libElement=new Element(LIBELEMENT);
        libElement.setAttribute(VALUE_ATTR,eclipseUrl);
        root.addContent(libElement);
      }
      for (      String var : myEclipseVariablePaths.keySet()) {
        Element varElement=new Element(VARELEMENT);
        if (var.startsWith(SRC_PREFIX)) {
          varElement.setAttribute(VAR_ATTRIBUTE,StringUtil.trimStart(var,SRC_PREFIX));
          varElement.setAttribute(PREFIX_ATTR,SRC_PREFIX);
        }
 else         if (var.startsWith(SRC_LINK_PREFIX)) {
          varElement.setAttribute(VAR_ATTRIBUTE,StringUtil.trimStart(var,SRC_LINK_PREFIX));
          varElement.setAttribute(PREFIX_ATTR,SRC_LINK_PREFIX);
        }
 else {
          varElement.setAttribute(VAR_ATTRIBUTE,var);
        }
        varElement.setAttribute(VALUE_ATTR,myEclipseVariablePaths.get(var));
        root.addContent(varElement);
      }
      for (      String unknownCon : myUnknownCons) {
        Element conElement=new Element(CONELEMENT);
        conElement.setAttribute(VALUE_ATTR,unknownCon);
        root.addContent(conElement);
      }
      if (myForceConfigureJDK) {
        root.setAttribute(FORCED_JDK,String.valueOf(true));
      }
      return root;
    }
  }
  return null;
}
