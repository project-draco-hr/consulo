{
  if (value instanceof MyToggleTreeNode) {
    MyToggleTreeNode treeNode=(MyToggleTreeNode)value;
    JToggleButton button=myCheckBox;
    button.setText(treeNode.getText());
    button.setSelected(treeNode.isSelected);
    if (isSelected) {
      button.setForeground(UIUtil.getTreeSelectionForeground());
      button.setBackground(UIUtil.getTreeSelectionBackground());
    }
 else {
      button.setForeground(UIUtil.getTreeTextForeground());
      button.setBackground(UIUtil.getTreeTextBackground());
    }
    button.setEnabled(tree.isEnabled() && treeNode.isEnabled());
    return button;
  }
 else {
    myLabel.setText(value.toString());
    myLabel.setFont(myLabel.getFont().deriveFont(Font.BOLD));
    if (isSelected) {
      myLabel.setForeground(UIUtil.getTreeSelectionForeground());
      myLabel.setBackground(UIUtil.getTreeSelectionBackground());
    }
 else {
      myLabel.setForeground(UIUtil.getTreeTextForeground());
      myLabel.setBackground(UIUtil.getTreeTextBackground());
    }
    myLabel.setEnabled(tree.isEnabled());
    return myLabel;
  }
}
