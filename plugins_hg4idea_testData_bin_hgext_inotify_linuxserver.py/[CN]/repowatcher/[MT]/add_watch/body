def add_watch(self, path, mask):
    if (not path):
        return
    if (self.watcher.path(path) is None):
        if self.ui.debugflag:
            self.ui.note((_('watching %r\n') % path[self.prefixlen:]))
        try:
            self.watcher.add(path, mask)
        except OSError as err:
            if (err.errno in (errno.ENOENT, errno.ENOTDIR)):
                return
            if (err.errno != errno.ENOSPC):
                raise
            _explain_watch_limit(self.ui, self.dirstate, self.wprefix)
