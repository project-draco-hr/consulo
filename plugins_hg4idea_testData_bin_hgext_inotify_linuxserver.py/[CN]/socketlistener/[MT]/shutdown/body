def shutdown(self):
    self.sock.close()
    try:
        os.unlink(self.sockpath)
        if self.realsockpath:
            os.unlink(self.realsockpath)
            os.rmdir(os.path.dirname(self.realsockpath))
    except OSError as err:
        if (err.errno != errno.ENOENT):
            raise
