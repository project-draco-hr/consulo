def eventaction(code):
    '\n    Decorator to help handle events in repowatcher\n    '

    def decorator(f):

        def wrapper(self, wpath):
            if ((code == 'm') and (wpath in self.lastevent) and (self.lastevent[wpath] in 'cm')):
                return
            self.lastevent[wpath] = code
            self.timeout = 250
            f(self, wpath)
        wrapper.func_name = f.func_name
        return wrapper
    return decorator
