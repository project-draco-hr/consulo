{
  String message=null;
  prepareRenaming();
  try {
    for (int i=0; i < myElements.size(); i++) {
      PsiElement element=myElements.get(i);
      String name=myNames.get(i);
      RenameUtil.checkRename(element,name);
    }
  }
 catch (  IncorrectOperationException e) {
    message=e.getMessage();
  }
  if (message != null) {
    RefactoringMessageUtil.showErrorMessage("Rename",message,getHelpID(),myProject);
    return;
  }
  super.run();
}
