{
  String message=null;
  prepareRenaming();
  try {
    final Set entries=myAllRenames.entrySet();
    for (Iterator iterator=entries.iterator(); iterator.hasNext(); ) {
      Map.Entry<PsiElement,String> entry=(Map.Entry<PsiElement,String>)iterator.next();
      RenameUtil.checkRename(entry.getKey(),entry.getValue());
    }
  }
 catch (  IncorrectOperationException e) {
    message=e.getMessage();
  }
  if (message != null) {
    RefactoringMessageUtil.showErrorMessage("Rename",message,getHelpID(),myProject);
    return;
  }
  super.doRun();
}
