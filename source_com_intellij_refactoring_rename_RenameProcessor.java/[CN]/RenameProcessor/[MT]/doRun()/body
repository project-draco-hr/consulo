{
  String message=null;
  prepareRenaming();
  try {
    for (    Map.Entry<PsiElement,String> entry : myAllRenames.entrySet()) {
      RenameUtil.checkRename(entry.getKey(),entry.getValue());
    }
  }
 catch (  IncorrectOperationException e) {
    message=e.getMessage();
  }
  if (message != null) {
    RefactoringMessageUtil.showErrorMessage(RefactoringBundle.message("rename.title"),message,getHelpID(),myProject);
    return;
  }
  super.doRun();
}
