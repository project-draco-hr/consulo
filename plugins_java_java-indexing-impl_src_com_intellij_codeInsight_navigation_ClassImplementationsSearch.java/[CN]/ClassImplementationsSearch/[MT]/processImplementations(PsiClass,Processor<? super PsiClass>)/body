{
  final boolean showInterfaces=Registry.is("ide.goto.implementation.show.interfaces");
  return ClassInheritorsSearch.search(psiClass,ApplicationManager.getApplication().runReadAction(new Computable<SearchScope>(){
    @Override public SearchScope compute(){
      return psiClass.getUseScope();
    }
  }
),true).forEach(new PsiElementProcessorAdapter<PsiClass>(new PsiElementProcessor<PsiClass>(){
    public boolean execute(    @NotNull PsiClass element){
      if (!showInterfaces && element.isInterface()) {
        return true;
      }
      return processor.process(element);
    }
  }
));
}
