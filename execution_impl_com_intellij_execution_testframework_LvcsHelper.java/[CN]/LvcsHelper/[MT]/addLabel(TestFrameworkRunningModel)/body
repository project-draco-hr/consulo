{
  String label;
  final byte labelType;
  if (model.getRoot().isDefect()) {
    labelType=LvcsLabel.TYPE_TESTS_FAILED;
    label=ExecutionBundle.message("junit.runing.info.tests.failed.label");
  }
 else {
    labelType=LvcsLabel.TYPE_TESTS_SUCCESSFUL;
    if (model.getRoot().getMagnitude() != PoolOfTestStates.PASSED_INDEX) {
      label=ExecutionBundle.message("tests.passed.with.warnings.message");
    }
 else {
      label=ExecutionBundle.message("junit.runing.info.tests.passed.label");
    }
  }
  final TestConsoleProperties consoleProperties=model.getProperties();
  String name=label + " " + consoleProperties.getConfiguration().getName();
  LocalHistory.putSystemLabel(consoleProperties.getProject(),name);
}
