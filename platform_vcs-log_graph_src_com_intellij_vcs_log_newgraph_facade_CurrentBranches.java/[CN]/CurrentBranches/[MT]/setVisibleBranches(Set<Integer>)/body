{
  if (heads == null) {
    setAllValues(myVisibleNodesInBranches,true);
    return;
  }
  Set<Integer> startedNodes=new HashSet<Integer>();
  for (int i=0; i < myPermanentGraph.nodesCount(); i++) {
    if (heads.contains(myPermanentGraph.getHashIndex(i)))     startedNodes.add(i);
  }
  if (startedNodes.size() != heads.size() || heads.isEmpty()) {
    throw new InvalidRequestException("Heads size is invalid! startedNodes " + startedNodes + "; heads: "+ heads);
  }
  setAllValues(myVisibleNodesInBranches,false);
  selectAllVisibleNodes(startedNodes);
}
