{
  while (element instanceof PsiWhiteSpace || StringUtil.isEmptyOrSpaces(element.getText()) || PsiUtil.isNewLine(element) && withNewlines) {
    final PsiElement candidate=lookRight ? element.getNextSibling() : element.getPrevSibling();
    if (candidate == null) {
      break;
    }
    element=candidate;
  }
  return element;
}
