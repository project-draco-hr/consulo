{
  final Language xmlLang=StdFileTypes.XML.getLanguage();
  RenameInputValidatorRegistry.getInstance().registerInputValidator(psiElement().withLanguage(XsltLanguage.INSTANCE),new RenameInputValidator(){
    public boolean isInputValid(    String newName,    PsiElement element,    ProcessingContext context){
      return LanguageNamesValidation.INSTANCE.forLanguage(XPathFileType.XPATH.getLanguage()).isIdentifier(newName,element.getProject());
    }
  }
);
  final XsltFormattingModelBuilder builder=new XsltFormattingModelBuilder(LanguageFormatting.INSTANCE.forLanguage(xmlLang));
  LanguageFormatting.INSTANCE.addExplicitExtension(xmlLang,builder);
  final ExternalResourceManagerEx erm=ExternalResourceManagerEx.getInstanceEx();
  erm.addIgnoredResource(XsltSupport.PLUGIN_EXTENSIONS_NS);
}
