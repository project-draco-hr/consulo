{
  final DiffRequestFactory diffRequestFactory=DiffRequestFactory.getInstance();
  CharSequence fileContent=LoadTextUtil.loadText(file);
  final MergeRequest request=diffRequestFactory.createMergeRequest(fileContent.toString(),patchedContent,content.toString(),file,project,ActionButtonPresentation.createApplyButton());
  request.setVersionTitles(new String[]{VcsBundle.message("patch.apply.conflict.local.version"),VcsBundle.message("patch.apply.conflict.merged.version"),VcsBundle.message("patch.apply.conflict.patched.version")});
  request.setWindowTitle(VcsBundle.message("patch.apply.conflict.title",file.getPresentableUrl()));
  DiffManager.getInstance().getDiffTool().show(request);
  if (request.getResult() == DialogWrapper.OK_EXIT_CODE) {
    return ApplyPatchStatus.SUCCESS;
  }
  return ApplyPatchStatus.FAILURE;
}
