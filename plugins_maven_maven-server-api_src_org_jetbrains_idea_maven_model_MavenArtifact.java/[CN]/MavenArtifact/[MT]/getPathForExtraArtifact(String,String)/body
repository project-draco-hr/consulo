{
  String path=getPath();
  if (extraArtifactClassifier == null && customExtension == null && Comparing.equal(myVersion,myBaseVersion)) {
    return path;
  }
  int slashPos=path.lastIndexOf('/');
  if (slashPos != -1) {
    StringBuilder res=new StringBuilder();
    res.append(path,0,slashPos + 1);
    res.append(myArtifactId);
    res.append('-');
    res.append(myVersion);
    String fullClassifier=getFullClassifier(extraArtifactClassifier);
    if (fullClassifier != null) {
      res.append('-').append(fullClassifier);
    }
    res.append('.');
    res.append(customExtension == null ? myExtension : customExtension);
    return res.toString();
  }
  int dotPos=path.lastIndexOf('.');
  if (dotPos != -1) {
    StringBuilder res=new StringBuilder();
    res.append(path,0,dotPos);
    res.append('-');
    res.append(extraArtifactClassifier);
    res.append(customExtension == null ? myExtension : customExtension);
    return res.toString();
  }
  return path;
}
