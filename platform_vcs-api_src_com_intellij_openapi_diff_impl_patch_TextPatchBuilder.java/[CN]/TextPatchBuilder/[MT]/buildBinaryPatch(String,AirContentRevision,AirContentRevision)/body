{
  AirContentRevision headingBeforeRevision=beforeRevision != null ? beforeRevision : afterRevision;
  AirContentRevision headingAfterRevision=afterRevision != null ? afterRevision : beforeRevision;
  byte[] beforeContent=beforeRevision != null ? beforeRevision.getContentAsBytes() : null;
  byte[] afterContent=afterRevision != null ? afterRevision.getContentAsBytes() : null;
  BinaryFilePatch patch=new BinaryFilePatch(beforeContent,afterContent);
  setPatchHeading(patch,basePath,headingBeforeRevision,headingAfterRevision);
  return patch;
}
