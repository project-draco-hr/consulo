{
  if (myPlainSpaceWidth >= 0)   return;
  FontMetrics fm=myEditor.getContentComponent().getFontMetrics(myEditor.getColorsScheme().getFont(EditorFontType.PLAIN));
  int width=FontLayoutService.getInstance().charWidth(fm,' ');
  myPlainSpaceWidth=width > 0 ? width : 1;
  myCharHeight=FontLayoutService.getInstance().charWidth(fm,'a');
  float verticalScalingFactor=getVerticalScalingFactor();
  int fontMetricsHeight=FontLayoutService.getInstance().getHeight(fm);
  myLineHeight=(int)Math.ceil(fontMetricsHeight * verticalScalingFactor);
  int ascent=FontLayoutService.getInstance().getAscent(fm);
  myAscent=(int)Math.ceil(ascent * verticalScalingFactor);
  myTopOverhang=Math.max(ascent - myAscent,0);
  myBottomOverhang=Math.max(fontMetricsHeight - ascent - myLineHeight + myAscent,0);
  FontMetrics fmBI=myEditor.getContentComponent().getFontMetrics(myEditor.getColorsScheme().getFont(EditorFontType.BOLD_ITALIC));
  myMaxCharWidth=FontLayoutService.getInstance().charWidth(fmBI,'W');
}
