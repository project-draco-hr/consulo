{
  setFontRenderContext();
  myEditor=editor;
  myDocument=editor.getDocument();
  myPainter=new EditorPainter(this);
  myMapper=new EditorCoordinateMapper(this);
  mySizeManager=new EditorSizeManager(this);
  myTextLayoutCache=new TextLayoutCache(this);
  myLogicalPositionCache=new LogicalPositionCache(this);
  myTabFragment=new TabFragment(this);
  Disposer.register(this,myLogicalPositionCache);
  Disposer.register(this,myTextLayoutCache);
  Disposer.register(this,mySizeManager);
}
