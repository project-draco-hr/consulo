{
  myProject=project;
  myStatisticsManager=statisticsManagerEx;
  myPostFormatProcessors.add(new PostFormatProcessor(){
    public PsiElement processElement(    PsiElement source,    CodeStyleSettings settings){
      return new BraceEnforcer(settings).process(source);
    }
    public TextRange processText(    PsiFile source,    TextRange rangeToReformat,    CodeStyleSettings settings){
      return new BraceEnforcer(settings).processText(source,rangeToReformat);
    }
  }
);
  myPostFormatProcessors.add(new PostFormatProcessor(){
    public PsiElement processElement(    PsiElement source,    CodeStyleSettings settings){
      return new ImportsFormatter(settings,source.getContainingFile()).process(source);
    }
    public TextRange processText(    PsiFile source,    TextRange rangeToReformat,    CodeStyleSettings settings){
      return new ImportsFormatter(settings,source.getContainingFile()).processText(source,rangeToReformat);
    }
  }
);
}
