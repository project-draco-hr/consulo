{
  CheckUtil.checkWritable(element);
  if (!SourceTreeToPsiMap.hasTreeElement(element))   return element;
  boolean addImports=(flags & DO_NOT_ADD_IMPORTS) == 0;
  boolean uncompleteCode=(flags & UNCOMPLETE_CODE) != 0;
  return SourceTreeToPsiMap.treeElementToPsi(new ReferenceAdjuster(getSettings()).process((TreeElement)SourceTreeToPsiMap.psiElementToTree(element),addImports,uncompleteCode));
}
