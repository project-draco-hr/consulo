{
  PsiMethod signatureMethod=signature.getMethod();
  PsiClass hisClass=signatureMethod.getContainingClass();
  if (parentClass == null || InheritanceUtil.isInheritorOrSelf(parentClass,hisClass,true)) {
    if (isAcceptable(signatureMethod,method,allowStaticMethod)) {
      if (parentClass != null && !parentClass.equals(hisClass) && !checkBases) {
        return true;
      }
      LOG.assertTrue(signatureMethod != method,method);
      return consumer.process(signature);
    }
  }
  for (  HierarchicalMethodSignature superSignature : signature.getSuperSignatures()) {
    if (MethodSignatureUtil.isSubsignature(superSignature,signature)) {
      addSuperMethods(superSignature,method,parentClass,allowStaticMethod,checkBases,consumer);
    }
  }
  return true;
}
