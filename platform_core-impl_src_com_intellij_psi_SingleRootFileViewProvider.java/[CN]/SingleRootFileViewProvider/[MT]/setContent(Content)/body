{
  Content prevContent=myContent;
  myContent=content;
  if (prevContent instanceof PsiFileContent && content instanceof VirtualFileContent) {
    int fileLength=content.getText().length();
    for (    FileElement fileElement : getKnownTreeRoots()) {
      int nodeLength=fileElement.getTextLength();
      if (nodeLength != fileLength) {
        LOG.error("Inconsistent " + fileElement.getElementType() + " tree in "+ this+ "; nodeLength="+ nodeLength+ "; fileLength="+ fileLength);
      }
    }
  }
}
