{
  final Ref<ArrangementNodeComponent> ref=new Ref<ArrangementNodeComponent>();
  node.invite(new ArrangementSettingsNodeVisitor(){
    @Override public void visit(    @NotNull ArrangementAtomMatchCondition setting){
      ref.set(new ArrangementAtomNodeComponent(myDisplayManager,setting,myRemoveConditionCallback));
    }
    @Override public void visit(    @NotNull ArrangementCompositeMatchCondition setting){
switch (setting.getOperator()) {
case AND:
        ref.set(new ArrangementAndNodeComponent(setting,ArrangementNodeComponentFactory.this,myDisplayManager));
      break;
case OR:
  }
}
}
);
return ref.get();
}
