{
  final Ref<ArrangementNodeComponent> ref=new Ref<ArrangementNodeComponent>();
  node.invite(new ArrangementSettingsNodeVisitor(){
    @Override public void visit(    @NotNull ArrangementSettingsAtomNode node){
      ref.set(new ArrangementAtomNodeComponent(myDisplayManager,node));
    }
    @Override public void visit(    @NotNull ArrangementSettingsCompositeNode node){
switch (node.getOperator()) {
case AND:
        ref.set(new ArrangementAndNodeComponent(node,ArrangementNodeComponentFactory.this));
      break;
case OR:
  }
}
}
);
return ref.get();
}
