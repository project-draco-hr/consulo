{
  Diff.Change change=Diff.buildChanges(defaultUserObjects,currentUserObjects);
  int deletedLines=0;
  while (change != null) {
    for (int i=0; i < change.deleted; i++) {
      final int idx=change.line0 + i;
      ActionUrl currentUserObject=defaultUserObjects[idx];
      currentUserObject.setActionType(ActionUrl.DELETED);
      currentUserObject.setAbsolutePosition(idx - deletedLines);
      actions.add(currentUserObject);
      deletedLines++;
    }
    for (int i=0; i < change.inserted; i++) {
      final int idx=change.line1 + i;
      ActionUrl currentUserObject=currentUserObjects[idx];
      currentUserObject.setActionType(ActionUrl.ADDED);
      currentUserObject.setAbsolutePosition(idx);
      actions.add(currentUserObject);
    }
    change=change.link;
  }
}
