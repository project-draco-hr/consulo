{
  ActionUrl url=new ActionUrl();
  for (int i=0; i < treePath.getPath().length - 1; i++) {
    Object o=((DefaultMutableTreeNode)treePath.getPath()[i]).getUserObject();
    if (o instanceof Group) {
      url.getGroupPath().add(((Group)o).getName());
    }
  }
  final DefaultMutableTreeNode component=((DefaultMutableTreeNode)treePath.getLastPathComponent());
  url.setComponent(component.getUserObject());
  DefaultMutableTreeNode node=component;
  final TreeNode parent=node.getParent();
  url.setAbsolutePosition(parent != null ? parent.getIndex(node) : 0);
  url.setActionType(actionType);
  return url;
}
