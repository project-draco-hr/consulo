{
  myIntentionSettingsTree=new IntentionSettingsTree(){
    protected void selectionChanged(    Object selected){
      if (selected instanceof IntentionActionMetaData) {
        final IntentionActionMetaData actionMetaData=(IntentionActionMetaData)selected;
        final Runnable runnable=new Runnable(){
          public void run(){
            intentionSelected(actionMetaData);
            if (myDetailsComponent != null) {
              String[] text=new String[actionMetaData.myCategory.length + 1];
              System.arraycopy(actionMetaData.myCategory,0,text,0,actionMetaData.myCategory.length);
              text[text.length - 1]=actionMetaData.getFamily();
              myDetailsComponent.setText(text);
            }
          }
        }
;
        myResetAlarm.cancelAllRequests();
        myResetAlarm.addRequest(runnable,100);
      }
 else {
        categorySelected((String)selected);
        if (myDetailsComponent != null) {
          myDetailsComponent.setText((String)selected);
        }
      }
    }
    protected List<IntentionActionMetaData> filterModel(    String filter,    final boolean force){
      final List<IntentionActionMetaData> list=IntentionManagerSettings.getInstance().getMetaData();
      if (filter == null || filter.length() == 0)       return list;
      final HashSet<String> quoted=new HashSet<String>();
      List<Set<String>> keySetList=SearchUtil.findKeys(filter,quoted);
      List<IntentionActionMetaData> result=new ArrayList<IntentionActionMetaData>();
      for (      IntentionActionMetaData metaData : list) {
        if (isIntentionAccepted(metaData,filter,force,keySetList,quoted)) {
          result.add(metaData);
        }
      }
      final Set<String> filters=SearchableOptionsRegistrar.getInstance().getProcessedWords(filter);
      if (force && result.isEmpty()) {
        if (filters.size() > 1) {
          result=filterModel(filter,false);
        }
      }
      return result;
    }
  }
;
  myTreePanel.setLayout(new BorderLayout());
  myTreePanel.add(myIntentionSettingsTree.getComponent(),BorderLayout.CENTER);
  GuiUtils.replaceJSplitPaneWithIDEASplitter(myPanel);
  myDescriptionPanel.setLayout(new BorderLayout());
  myDescriptionPanel.add(myIntentionDescriptionPanel.getComponent(),BorderLayout.CENTER);
}
