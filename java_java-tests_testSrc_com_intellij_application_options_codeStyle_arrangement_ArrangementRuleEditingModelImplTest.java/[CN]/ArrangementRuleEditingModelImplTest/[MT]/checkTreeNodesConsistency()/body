{
  final Ref<DefaultMutableTreeNode> rootRef=new Ref<DefaultMutableTreeNode>();
  myRowMappings.forEachValue(new TObjectProcedure<ArrangementRuleEditingModelImpl>(){
    @Override public boolean execute(    ArrangementRuleEditingModelImpl model){
      DefaultMutableTreeNode root=ArrangementConfigUtil.getRoot(model.getTopMost());
      assertSame(root,ArrangementConfigUtil.getRoot(model.getBottomMost()));
      if (rootRef.get() == null) {
        rootRef.set(root);
      }
 else {
        assertSame(rootRef.get(),root);
      }
      return true;
    }
  }
);
}
