{
  if (getThenBranch() == null || newBranch == null) {
    throw new IncorrectOperationException();
  }
  ASTNode oldBodyNode=getThenBranch().getNode();
  this.getNode().replaceChild(oldBodyNode,newBranch.getNode());
  ASTNode newNode=newBranch.getNode();
  if (!(newNode.getPsi() instanceof GrCondition)) {
    throw new IncorrectOperationException();
  }
  return (GrCondition)newNode.getPsi();
}
