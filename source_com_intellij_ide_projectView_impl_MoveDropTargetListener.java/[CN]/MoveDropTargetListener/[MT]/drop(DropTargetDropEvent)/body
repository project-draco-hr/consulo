{
  final TreeNode[] sourceNodes=getSourceNodes(dtde.getTransferable());
  final TreeNode targetNode=getTargetNode(dtde.getLocation());
  if ((dtde.getDropAction() & DnDConstants.ACTION_MOVE) == 0 || sourceNodes == null || targetNode == null || !doDrop(sourceNodes,targetNode,dtde)) {
    dtde.rejectDrop();
  }
}
