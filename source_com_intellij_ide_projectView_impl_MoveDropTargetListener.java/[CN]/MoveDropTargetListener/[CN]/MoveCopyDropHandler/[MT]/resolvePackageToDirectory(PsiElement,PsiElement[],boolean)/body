{
  if (targetElement != null && (targetElement instanceof PsiPackage) && (sourceElements.length != 0) && (sourceElements[0] instanceof PsiFileSystemItem)) {
    final PsiDirectory[] psiDirectories=((PsiPackage)targetElement).getDirectories();
    if (psiDirectories.length == 0) {
      return null;
    }
    if (psiDirectories.length == 1 || silent) {
      return psiDirectories[0];
    }
 else {
      return MoveClassesOrPackagesUtil.chooseDirectory(psiDirectories,psiDirectories[0],myProject,new HashMap<PsiDirectory,String>());
    }
  }
 else {
    return targetElement;
  }
}
