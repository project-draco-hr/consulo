{
  return new Transformation(){
    @Override public int transform(    int line){
      int yOffset=editor.logicalPositionToXY(new LogicalPosition(line,0)).y;
      final JComponent header=editor.getHeaderComponent();
      int headerOffset=header == null ? 0 : header.getHeight();
      return yOffset - editor.getScrollingModel().getVerticalScrollOffset() + headerOffset;
    }
  }
;
}
