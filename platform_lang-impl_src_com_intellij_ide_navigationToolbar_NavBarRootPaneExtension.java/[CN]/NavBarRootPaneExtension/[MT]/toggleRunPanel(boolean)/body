{
  if (show && myRunPanel == null) {
    final ActionManager manager=ActionManager.getInstance();
    final AnAction toolbarRunGroup=manager.getAction("NavBarToolBar");
    if (toolbarRunGroup instanceof DefaultActionGroup) {
      final DefaultActionGroup group=(DefaultActionGroup)toolbarRunGroup;
      boolean needsGap=false;
      int i=0;
      for (      final AnAction action : group.getChildActionsOrStubs()) {
        if (action instanceof ComboBoxAction) {
          needsGap=i == 0;
          break;
        }
 else         if (!(action instanceof Separator)) {
          i++;
        }
      }
      final ActionToolbar actionToolbar=manager.createActionToolbar(ActionPlaces.UNKNOWN,group,true);
      final JComponent component=actionToolbar.getComponent();
      component.setBackground(Color.WHITE);
      myRunPanel=new JPanel(new BorderLayout());
      final Color color=myRunPanel.getBackground() != null ? myRunPanel.getBackground().darker() : Color.darkGray;
      myRunPanel.setBackground(Color.WHITE);
      myRunPanel.add(component);
      myRunPanel.setBorder(BorderFactory.createCompoundBorder(BorderFactory.createMatteBorder(0,1,1,0,color),BorderFactory.createEmptyBorder(1,needsGap ? 5 : 1,0,0)));
      myWrapperPanel.add(myRunPanel,BorderLayout.EAST);
    }
  }
 else   if (!show && myRunPanel != null) {
    myWrapperPanel.remove(myRunPanel);
    myRunPanel=null;
  }
}
