{
  FileType commonType=FileTypes.PLAIN_TEXT;
  for (  DiffContent content : contents) {
    FileType contentType=content.getContentType();
    if (DiffContentUtil.isTextType(contentType))     commonType=contentType;
  }
  FileType[] result=new FileType[contents.length];
  for (int i=0; i < contents.length; i++) {
    FileType contentType=contents[i].getContentType();
    result[i]=DiffContentUtil.isTextType(contentType) ? contentType : commonType;
  }
  return result;
}
