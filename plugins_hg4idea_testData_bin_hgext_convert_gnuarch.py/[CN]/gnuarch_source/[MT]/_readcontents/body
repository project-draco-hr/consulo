def _readcontents(self, path):
    files = []
    contents = os.listdir(path)
    while (len(contents) > 0):
        c = contents.pop()
        p = os.path.join(path, c)
        if (not self._exclude(p)):
            if os.path.isdir(p):
                contents += [os.path.join(c, f) for f in os.listdir(p)]
            else:
                files.append(c)
    return files
