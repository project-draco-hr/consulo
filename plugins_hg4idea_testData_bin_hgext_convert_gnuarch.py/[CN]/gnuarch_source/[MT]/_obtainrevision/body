def _obtainrevision(self, rev):
    self.ui.debug(('obtaining revision %s...\n' % rev))
    output = self._execute('get', rev, self.tmppath)
    self.checkexit(output)
    self.ui.debug(('analyzing revision %s...\n' % rev))
    files = self._readcontents(self.tmppath)
    self.changes[rev].add_files += files
