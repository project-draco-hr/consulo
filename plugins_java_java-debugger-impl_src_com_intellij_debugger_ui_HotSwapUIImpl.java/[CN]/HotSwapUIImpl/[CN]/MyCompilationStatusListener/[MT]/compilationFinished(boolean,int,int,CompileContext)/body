{
  final Map<String,List<String>> generated=myGeneratedPaths.getAndSet(new HashMap<String,List<String>>());
  if (myProject.isDisposed()) {
    return;
  }
  if (errors == 0 && !aborted && myPerformHotswapAfterThisCompilation) {
    for (    HotSwapVetoableListener listener : myListeners) {
      if (!listener.shouldHotSwap(compileContext)) {
        return;
      }
    }
    final List<DebuggerSession> sessions=new ArrayList<DebuggerSession>();
    Collection<DebuggerSession> debuggerSessions=DebuggerManagerEx.getInstanceEx(myProject).getSessions();
    for (    final DebuggerSession debuggerSession : debuggerSessions) {
      if (debuggerSession.isAttached() && debuggerSession.getProcess().canRedefineClasses()) {
        sessions.add(debuggerSession);
      }
    }
    if (!sessions.isEmpty()) {
      hotSwapSessions(sessions,generated);
    }
  }
  myPerformHotswapAfterThisCompilation=true;
}
