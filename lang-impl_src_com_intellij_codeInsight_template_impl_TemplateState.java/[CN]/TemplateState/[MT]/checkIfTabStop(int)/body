{
  Expression expression=myTemplate.getExpressionAt(currentVariableNumber);
  if (expression == null) {
    return false;
  }
  if (myTemplate.isAlwaysStopAt(currentVariableNumber)) {
    return true;
  }
  String variableName=myTemplate.getVariableNameAt(currentVariableNumber);
  int segmentNumber=myTemplate.getVariableSegmentNumber(variableName);
  if (segmentNumber < 0)   return false;
  int start=mySegments.getSegmentStart(segmentNumber);
  ExpressionContext context=createExpressionContext(start);
  Result result=expression.calculateResult(context);
  if (result == null) {
    return true;
  }
  LookupElement[] items=expression.calculateLookupItems(context);
  return items != null && items.length > 1;
}
