{
  super(project,GradleConstants.TOOL_WINDOW_TOOLBAR_PLACE);
  myChangesModel=model;
  myChangesModel.addListener(new GradleProjectStructureChangeListener(){
    @Override public void onChanges(    @NotNull final Collection<GradleProjectStructureChange> oldChanges,    @NotNull final Collection<GradleProjectStructureChange> currentChanges){
      UIUtil.invokeLaterIfNeeded(new Runnable(){
        @Override public void run(){
          updateTree(currentChanges);
          processObsoleteChanges(ContainerUtil.subtract(oldChanges,currentChanges));
        }
      }
);
    }
  }
);
  rebuildTree();
}
