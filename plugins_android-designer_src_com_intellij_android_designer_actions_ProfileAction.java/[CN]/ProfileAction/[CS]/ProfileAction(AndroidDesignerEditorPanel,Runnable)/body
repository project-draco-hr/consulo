{
  myDesigner=designer;
  myProfileManager=new ProfileManager(myDesigner.getModule(),refreshAction);
  myProfileAction=new AbstractComboBoxAction<Profile>(){
    @Override protected boolean addSeparator(    DefaultActionGroup actionGroup,    Profile item){
      if (item == myFullProfile || item == EDIT_PROFILE) {
        actionGroup.addSeparator();
      }
      return false;
    }
    @Override protected void update(    Profile item,    Presentation presentation,    boolean popup){
      presentation.setText(item.getName());
    }
    @Override protected boolean selectionChanged(    Profile item){
      if (item == EDIT_PROFILE) {
        editProfiles();
      }
 else {
        updateActions(item);
      }
      return item != EDIT_PROFILE;
    }
  }
;
  myProfileList=ProfileList.getInstance(myDesigner.getProject());
  myFullProfile=myProfileList.getFullProfile();
  List<Profile> profiles=new ArrayList<Profile>(myProfileList.getProfiles());
  profiles.add(myFullProfile);
  profiles.add(EDIT_PROFILE);
  Profile profile=myProfileList.getProfile();
  myProfileAction.setItems(profiles,profile);
  DefaultActionGroup designerActionGroup=myDesigner.getActionPanel().getActionGroup();
  designerActionGroup.add(myProfileAction);
  designerActionGroup.add(myActionGroup);
  updateActions(profile);
}
