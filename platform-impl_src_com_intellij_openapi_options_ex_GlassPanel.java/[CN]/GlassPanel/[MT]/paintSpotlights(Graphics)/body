{
  if (myLightComponents.size() > 0) {
    int width=getWidth();
    int height=getHeight();
    Rectangle2D screen=new Rectangle2D.Double(0,0,width,height);
    final Rectangle visibleRect=myPanel.getVisibleRect();
    final Point leftPoint=SwingUtilities.convertPoint(myPanel,new Point(visibleRect.x,visibleRect.y),this);
    Area innerPanel=new Area(new Rectangle2D.Double(leftPoint.x,leftPoint.y,visibleRect.width,visibleRect.height));
    Area mask=new Area(screen);
    for (    JComponent lightComponent : myLightComponents) {
      if (!lightComponent.isShowing())       continue;
      final Point panelPoint=SwingUtilities.convertPoint(lightComponent,new Point(0,0),this);
      final int x=panelPoint.x;
      final int y=panelPoint.y;
      final Area area=new Area(new Ellipse2D.Double(x,y,lightComponent.getWidth(),lightComponent.getHeight()));
      area.intersect(innerPanel);
      mask.subtract(area);
    }
    Graphics2D g2=(Graphics2D)g;
    Color shieldColor=new Color(0.0f,0.0f,0.0f,0.2f);
    g2.setRenderingHint(RenderingHints.KEY_ANTIALIASING,RenderingHints.VALUE_ANTIALIAS_ON);
    g2.setColor(shieldColor);
    g2.fill(mask);
  }
}
