{
  final String jarRootPath=extractRootPath(entryVFile.getPath());
  ArchiveHandler handler;
  final ArchiveHandler freshHandler;
synchronized (myLock) {
    handler=myHandlers.get(jarRootPath);
    if (handler == null) {
      freshHandler=handler=createHandler(this,jarRootPath.substring(0,jarRootPath.length() - ARCHIVE_SEPARATOR.length()));
      myHandlers.put(jarRootPath,handler);
      jarPathsCache=null;
    }
 else {
      freshHandler=null;
    }
  }
  if (freshHandler != null) {
    ApplicationManager.getApplication().invokeLater(new Runnable(){
      @Override public void run(){
        freshHandler.refreshLocalFileForJar();
      }
    }
,ModalityState.defaultModalityState());
  }
  return handler;
}
