{
  if (r == null)   return null;
  if (Revision.BASE.equals(r)) {
    return SVNRevision.BASE;
  }
 else   if (Revision.COMMITTED.equals(r)) {
    return SVNRevision.COMMITTED;
  }
 else   if (Revision.HEAD.equals(r)) {
    return SVNRevision.HEAD;
  }
 else   if (Revision.PREVIOUS.equals(r)) {
    return SVNRevision.PREVIOUS;
  }
 else   if (Revision.START.equals(r)) {
    return SVNRevision.UNDEFINED;
  }
 else   if (Revision.WORKING.equals(r)) {
    return SVNRevision.WORKING;
  }
 else {
    if (Revision.Kind.number.equals(r.getKind())) {
      return SVNRevision.create(((Revision.Number)r).getNumber());
    }
 else {
      return SVNRevision.create(((Revision.DateSpec)r).getDate());
    }
  }
}
