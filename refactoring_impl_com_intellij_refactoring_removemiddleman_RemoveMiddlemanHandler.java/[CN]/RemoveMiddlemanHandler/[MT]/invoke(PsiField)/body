{
  final Project project=field.getProject();
  if (!DelegationUtils.fieldUsedAsDelegate(field)) {
    final String message=RefactorJBundle.message("cannot.perform.the.refactoring") + RefactorJBundle.message("field.selected.is.not.used.as.a.delegate");
    CommonRefactoringUtil.showErrorMessage(null,message,getHelpID(),project);
    return;
  }
  new RemoveMiddlemanDialog(field,PropertiesComponent.getInstance(project).isTrueValue(REMOVE_METHODS)).show();
}
