{
  for (  final PsiMember movedMember : myMovedMembers) {
    checkMemberPlacementInTargetClassConflict(targetClass,movedMember);
  }
  Members:   for (  PsiMember member : myMovedMembers) {
    for (    PsiReference ref : ReferencesSearch.search(member,member.getResolveScope(),false)) {
      final PsiElement element=ref.getElement();
      if (element instanceof PsiReferenceExpression) {
        final PsiReferenceExpression referenceExpression=(PsiReferenceExpression)element;
        final PsiExpression qualifier=referenceExpression.getQualifierExpression();
        if (qualifier != null) {
          final PsiType qualifierType=qualifier.getType();
          if (qualifierType instanceof PsiClassType) {
            final PsiClass aClass=((PsiClassType)qualifierType).resolve();
            if (!InheritanceUtil.isInheritorOrSelf(aClass,targetClass,true)) {
              myConflicts.putValue(aClass,RefactoringBundle.message("pushed.members.will.not.be.visible.from.certain.call.sites"));
              break Members;
            }
          }
        }
      }
    }
  }
}
