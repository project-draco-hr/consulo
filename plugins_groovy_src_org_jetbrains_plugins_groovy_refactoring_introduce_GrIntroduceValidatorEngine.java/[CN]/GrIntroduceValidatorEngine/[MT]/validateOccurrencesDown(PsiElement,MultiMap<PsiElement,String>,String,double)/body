{
  PsiElement child=startElement.getFirstChild();
  while (child != null) {
    if (child instanceof GrTypeDefinition || child instanceof GrMethod || GroovyRefactoringUtil.isAppropriateContainerForIntroduceVariable(child) && child.getTextRange().getEndOffset() < startOffset) {
      myReporter.check(child,conflicts,varName);
      child=child.getNextSibling();
      continue;
    }
    if (child instanceof GrVariable) {
      myReporter.check(child,conflicts,varName);
      validateOccurrencesDown(child,conflicts,varName,startOffset);
    }
 else {
      validateOccurrencesDown(child,conflicts,varName,startOffset);
    }
    child=child.getNextSibling();
  }
}
