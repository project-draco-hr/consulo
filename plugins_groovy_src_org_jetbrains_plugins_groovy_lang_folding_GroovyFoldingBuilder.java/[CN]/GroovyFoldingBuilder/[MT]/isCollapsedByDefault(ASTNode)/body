{
  final JavaCodeFoldingSettings settings=JavaCodeFoldingSettings.getInstance();
  if (node.getElementType() == IMPORT_STATEMENT) {
    return settings.isCollapseImports();
  }
  if (node.getElementType() == GROOVY_DOC_COMMENT) {
    return settings.isCollapseJavadocs();
  }
  if (node.getElementType() == OPEN_BLOCK && node.getTreeParent().getElementType() == METHOD_DEFINITION) {
    return settings.isCollapseMethods();
  }
  if (node.getElementType() == CLOSABLE_BLOCK) {
    return settings.isCollapseAnonymousClasses();
  }
  if (node.getElementType() == CLASS_BODY) {
    final PsiElement parent=node.getPsi().getParent();
    if (parent instanceof PsiClass) {
      if (parent instanceof PsiAnonymousClass) {
        return settings.isCollapseAnonymousClasses();
      }
      if (((PsiClass)parent).getContainingClass() != null) {
        return settings.isCollapseInnerClasses();
      }
    }
  }
  if (node.getElementType() == mSL_COMMENT) {
    return settings.isCollapseEndOfLineComments();
  }
  return false;
}
