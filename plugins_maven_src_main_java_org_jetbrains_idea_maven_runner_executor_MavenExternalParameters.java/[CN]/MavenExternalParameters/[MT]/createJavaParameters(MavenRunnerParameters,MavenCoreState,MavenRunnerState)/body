{
  final JavaParameters params=new JavaParameters();
  params.setWorkingDirectory(parameters.getWorkingDir());
  params.setJdk(getJdk(runnerState.getJreName()));
  final String mavenHome=resolveMavenHome(coreState);
  for (  String parameter : createVMParameters(new ArrayList<String>(),mavenHome,runnerState)) {
    params.getVMParametersList().add(parameter);
  }
  for (  String path : getMavenClasspathEntries(mavenHome)) {
    params.getClassPath().add(path);
  }
  params.setMainClass(MAVEN_LAUNCHER_CLASS);
  for (  String parameter : createMavenParameters(new ArrayList<String>(),coreState,runnerState,parameters)) {
    params.getProgramParametersList().add(parameter);
  }
  return params;
}
