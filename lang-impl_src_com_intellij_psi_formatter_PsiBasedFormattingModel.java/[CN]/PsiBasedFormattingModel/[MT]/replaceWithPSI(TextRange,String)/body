{
  final int offset=textRange.getEndOffset();
  ASTNode leafElement=findElementAt(offset);
  if (leafElement != null) {
    if (leafElement.getPsi() instanceof PsiFile) {
      return null;
    }
 else {
      return replaceWithPsiInLeaf(textRange,whiteSpace,leafElement);
    }
  }
 else   if (textRange.getEndOffset() == myASTNode.getTextLength()) {
    FormatterUtil.replaceLastWhiteSpace(myASTNode,whiteSpace,textRange);
    return whiteSpace;
  }
 else {
    return null;
  }
}
