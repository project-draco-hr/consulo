{
  myProject=project;
  myExcludedFileIndex=excludedFileIndex;
  myMessageBus=messageBus;
  @SuppressWarnings({"UnusedDeclaration","UnnecessaryLocalVariable"}) Object used=psiBuilderFactory;
  boolean isProjectDefault=project.isDefault();
  myFileManager=isProjectDefault ? new EmptyFileManager(this) : new FileManagerImpl(this,fileDocumentManager,excludedFileIndex);
  myModificationTracker=new PsiModificationTrackerImpl(myProject);
  myTreeChangePreprocessors.add(myModificationTracker);
  myResolveCache=new ResolveCache(messageBus);
  Disposer.register(project,new Disposable(){
    @Override public void dispose(){
      myIsDisposed=true;
    }
  }
);
}
