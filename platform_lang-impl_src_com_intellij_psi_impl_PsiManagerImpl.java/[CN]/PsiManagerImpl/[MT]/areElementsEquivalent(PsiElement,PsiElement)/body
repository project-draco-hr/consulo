{
  ProgressManager.checkCanceled();
  if (element1 == element2)   return true;
  if (element1 == null || element2 == null) {
    return false;
  }
  return element1.equals(element2) || element1.isEquivalentTo(element2) || element2.isEquivalentTo(element1);
}
