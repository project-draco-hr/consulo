{
  myListModel.clear();
  final ProjectJdk[] jdks;
  if (myProject == null) {
    jdks=ProjectJdkTable.getInstance().getAllJdks();
  }
 else {
    final ProjectJdksModel projectJdksModel=ProjectStructureConfigurable.getInstance(myProject).getProjectJdksModel();
    if (!projectJdksModel.isInitialized()) {
      projectJdksModel.reset(myProject);
    }
    final Set<ProjectJdk> compatibleJdks=new HashSet<ProjectJdk>();
    final Collection<ProjectJdk> collection=projectJdksModel.getProjectJdks().values();
    for (    ProjectJdk projectJdk : collection) {
      if (isCompatibleJdk(projectJdk,type)) {
        compatibleJdks.add(projectJdk);
      }
    }
    jdks=compatibleJdks.toArray(new ProjectJdk[compatibleJdks.size()]);
  }
  Arrays.sort(jdks,new Comparator<ProjectJdk>(){
    public int compare(    final ProjectJdk o1,    final ProjectJdk o2){
      return o1.getName().compareToIgnoreCase(o2.getName());
    }
  }
);
  for (  ProjectJdk jdk : jdks) {
    myListModel.addElement(jdk);
  }
}
