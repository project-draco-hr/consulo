{
  mySettings=settings;
  myEditor=createEditor();
  myPreviewPanel.setLayout(new BorderLayout());
  myPreviewPanel.add(myEditor.getComponent(),BorderLayout.CENTER);
  myWrapAttributes.addItem("Do not wrap");
  myWrapAttributes.addItem("Wrap if long");
  myWrapAttributes.addItem("Chop down if long");
  myWrapAttributes.addItem("Wrap always");
  ActionListener actionListener=new ActionListener(){
    public void actionPerformed(    ActionEvent e){
      updatePreview();
    }
  }
;
  myKeepBlankLines.addActionListener(actionListener);
  myWrapAttributes.addActionListener(actionListener);
  myKeepWhiteSpaces.addActionListener(actionListener);
  myAlignAttributes.addActionListener(actionListener);
  mySpacesAroundEquality.addActionListener(actionListener);
  mySpacesAroundTagName.addActionListener(actionListener);
  myKeepBlankLines.getDocument().addDocumentListener(new DocumentListener(){
    public void changedUpdate(    DocumentEvent e){
      updatePreview();
    }
    public void insertUpdate(    DocumentEvent e){
      updatePreview();
    }
    public void removeUpdate(    DocumentEvent e){
      updatePreview();
    }
  }
);
}
