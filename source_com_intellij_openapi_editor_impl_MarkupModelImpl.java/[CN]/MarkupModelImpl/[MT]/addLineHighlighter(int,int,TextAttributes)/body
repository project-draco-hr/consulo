{
  ApplicationManager.getApplication().assertIsDispatchThread();
  if (lineNumber >= getDocument().getLineCount() || lineNumber < 0) {
    throw new IndexOutOfBoundsException("lineNumber:" + lineNumber + ". Shold be in [0, "+ (getDocument().getLineCount() - 1)+ "]");
  }
  int offset=getFirstNonspaceCharOffset(getDocument(),lineNumber);
  return addRangeHighlighter(offset,offset,layer,textAttributes,HighlighterTargetArea.LINES_IN_RANGE);
}
