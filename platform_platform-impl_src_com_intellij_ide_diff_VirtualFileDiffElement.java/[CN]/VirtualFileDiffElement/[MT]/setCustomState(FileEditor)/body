{
  final FileEditorState state=editor.getState(FileEditorStateLevel.FULL);
  if (state instanceof TransferableFileEditorState) {
    final TransferableFileEditorState editorState=(TransferableFileEditorState)state;
    final String id=editorState.getEditorId();
    final HashMap<String,String> options=new HashMap<String,String>();
    final PropertiesComponent properties=PropertiesComponent.getInstance();
    for (    String key : editorState.getTransferableOptions().keySet()) {
      final String value=properties.getValue(getKey(id,key));
      if (value != null) {
        options.put(key,value);
      }
    }
    editorState.setTransferableOptions(options);
    editor.setState(editorState);
  }
}
