{
  ShutDownTracker.getInstance();
  ShutDownTracker.getInstance().registerShutdownTask(new Runnable(){
    @Override public void run(){
      if (isDisposed() || isDisposeInProgress()) {
        return;
      }
      ShutDownTracker.invokeAndWait(isUnitTestMode(),true,new Runnable(){
        @Override public void run(){
          if (ApplicationManager.getApplication() != CompilerServerApplication.this)           return;
          myDisposeInProgress=true;
          if (!disposeSelf(true)) {
            myDisposeInProgress=false;
          }
        }
      }
);
    }
  }
);
}
