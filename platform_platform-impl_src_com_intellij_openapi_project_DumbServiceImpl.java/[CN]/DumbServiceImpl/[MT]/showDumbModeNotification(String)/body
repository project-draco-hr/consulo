{
  final BalloonHandler emptyBalloonHandler=new BalloonHandler(){
    public void hide(){
    }
  }
;
  if (ApplicationManager.getApplication().isUnitTestMode() || ApplicationManager.getApplication().isHeadlessEnvironment()) {
    return emptyBalloonHandler;
  }
  final IdeFrame ideFrame=WindowManager.getInstance().getIdeFrame(myProject);
  if (ideFrame == null) {
    return emptyBalloonHandler;
  }
  StatusBarEx statusBar=(StatusBarEx)ideFrame.getStatusBar();
  HyperlinkListener listener=new HyperlinkListener(){
    public void hyperlinkUpdate(    HyperlinkEvent e){
      if (e.getEventType() != HyperlinkEvent.EventType.ACTIVATED)       return;
      Messages.showMessageDialog("<html>" + ApplicationNamesInfo.getInstance().getFullProductName() + " is now indexing project sources and libraries to enable advanced features <br>"+ "(refactorings, navigation, usage search, code analysis, formatting, etc.)<br>"+ "During this process you can use code editor and VCS integrations,<br>"+ "and adjust IDE and Run Configurations settings."+ "</html>","Don't panic!",null);
    }
  }
;
  return statusBar.notifyProgressByBalloon(MessageType.WARNING,message,null,listener);
}
