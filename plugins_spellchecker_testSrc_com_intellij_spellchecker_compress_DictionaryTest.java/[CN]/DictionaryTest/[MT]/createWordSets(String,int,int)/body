{
  Loader loader=createLoader(name);
  final Set<String> wordsToStore=new THashSet<String>();
  final Set<String> wordsToCheck=new THashSet<String>();
  final Transformation transform=new Transformation();
  loader.load(new Consumer<String>(){
    private int counter=0;
    public void consume(    String s){
      if (counter > maxCount) {
        return;
      }
      String transformed=transform.transform(s);
      if (transformed != null) {
        if (counter % mod == 0) {
          wordsToStore.add(transformed);
        }
 else {
          wordsToCheck.add(transformed);
        }
        counter++;
      }
    }
  }
);
  return new Pair(wordsToStore,wordsToCheck);
}
