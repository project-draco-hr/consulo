{
  if (variable == null || context == null)   return Collections.emptyList();
  CachedValue<MultiValuesMap<PsiVariable,PsiExpression>> cachedValue=context.getUserData(DFA_VARIABLE_INFO_KEY);
  if (cachedValue == null) {
    final PsiElement codeBlock=getEnclosingCodeBlock(variable,context);
    cachedValue=CachedValuesManager.getManager(context.getProject()).createCachedValue(new CachedValueProvider<MultiValuesMap<PsiVariable,PsiExpression>>(){
      public Result<MultiValuesMap<PsiVariable,PsiExpression>> compute(){
        final MultiValuesMap<PsiVariable,PsiExpression> result;
        if (codeBlock == null) {
          result=null;
        }
 else {
          final ValuableInstructionVisitor visitor=new ValuableInstructionVisitor(context);
          if (new ValuableDataFlowRunner().analyzeMethod(codeBlock,visitor) == RunnerResult.OK) {
            result=visitor.myValues;
          }
 else {
            result=TOO_COMPLEX;
          }
        }
        return new Result<MultiValuesMap<PsiVariable,PsiExpression>>(result,codeBlock);
      }
    }
,false);
    context.putUserData(DFA_VARIABLE_INFO_KEY,cachedValue);
  }
  final MultiValuesMap<PsiVariable,PsiExpression> value=cachedValue.getValue();
  if (value == TOO_COMPLEX)   return null;
  final Collection<PsiExpression> expressions=value == null ? null : value.get(variable);
  return expressions == null ? Collections.<PsiExpression>emptyList() : expressions;
}
