{
  Map<String,String> result=myCachedPreperties;
  if (result != null) {
    return result;
  }
  result=Collections.emptyMap();
  final String propertyName=getName().getRawText();
  if (propertyName != null) {
    final String propertyValue=getValue().getRawText();
    if (propertyValue != null) {
      result=Collections.singletonMap(propertyName,propertyValue);
    }
 else {
      String locValue=getLocation().getStringValue();
      if (locValue != null) {
        locValue=FileUtil.toSystemDependentName(locValue);
        result=Collections.singletonMap(propertyName,locValue);
      }
 else {
        final String tagText=getXmlTag().getText();
        result=Collections.singletonMap(propertyName,tagText);
      }
    }
  }
 else {
    final PsiFileSystemItem psiFile=getFile().getValue();
    if (psiFile != null) {
      if (psiFile instanceof PropertiesFile) {
        result=new HashMap<String,String>();
        for (        Property property : ((PropertiesFile)psiFile).getProperties()) {
          result.put(property.getKey(),property.getValue());
        }
      }
    }
 else     if (getEnvironment().getRawText() != null) {
      String prefix=getEnvironment().getRawText();
      if (!prefix.endsWith(".")) {
        prefix+=".";
      }
      result=new HashMap<String,String>();
      for (      Map.Entry<String,String> entry : System.getenv().entrySet()) {
        result.put(prefix + entry.getKey(),entry.getValue());
      }
    }
 else {
      final GenericAttributeValue<String> resourceValue=getResource();
      final GenericAttributeValue<String> prefixValue=getPrefix();
    }
  }
  return (myCachedPreperties=result);
}
