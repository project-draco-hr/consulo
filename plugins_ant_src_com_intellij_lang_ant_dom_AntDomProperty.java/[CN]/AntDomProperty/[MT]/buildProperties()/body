{
  Map<String,String> result=myCachedPreperties;
  if (result != null) {
    return result;
  }
  result=Collections.emptyMap();
  final GenericAttributeValue<String> name=getName();
  if (name != null) {
    final GenericAttributeValue<String> value=getValue();
    if (value != null) {
      result=Collections.singletonMap(name.getStringValue(),value.getStringValue());
    }
 else {
      final GenericAttributeValue<String> location=getLocation();
      if (location != null) {
        String locValue=location.getStringValue();
        locValue=FileUtil.toSystemDependentName(locValue);
        result=Collections.singletonMap(name.getStringValue(),locValue);
      }
 else {
        final String tagText=getXmlTag().getText();
        result=Collections.singletonMap(name.getStringValue(),tagText);
      }
    }
  }
 else {
    final GenericAttributeValue<String> resourceValue=getResource();
    if (resourceValue != null) {
      final GenericAttributeValue<String> prefixValue=getPrefix();
    }
 else {
      final GenericAttributeValue<String> fileValue=getFile();
      if (fileValue != null) {
        final String pathToPropFile=fileValue.getStringValue();
        final GenericAttributeValue<String> prefixValue=getPrefix();
      }
 else {
        final GenericAttributeValue<String> envValue=getEnvironment();
        if (envValue != null) {
          String prefix=envValue.getStringValue();
          if (!prefix.endsWith(".")) {
            prefix=prefix + ".";
          }
          result=new HashMap<String,String>();
          for (          Map.Entry<String,String> entry : System.getenv().entrySet()) {
            result.put(prefix + entry.getKey(),entry.getValue());
          }
        }
      }
    }
  }
  return (myCachedPreperties=result);
}
