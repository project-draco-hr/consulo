{
  final CompilerManager manager=CompilerManager.getInstance(myProject);
  final ProgressIndicator progressIndicator=context.getProgressIndicator();
  try {
    CompileTask[] tasks=beforeTasks ? (CompileTask[])manager.getBeforeTasks() : manager.getAfterTasks();
    if (tasks.length > 0) {
      progressIndicator.setText(beforeTasks ? CompilerBundle.message("progress.executing.precompile.tasks") : CompilerBundle.message("progress.executing.postcompile.tasks"));
      for (      CompileTask task : tasks) {
        if (!task.execute(context)) {
          return false;
        }
      }
    }
  }
  finally {
    WindowManager.getInstance().getStatusBar(myProject).setInfo("");
    if (progressIndicator instanceof CompilerProgressIndicator) {
      ApplicationManager.getApplication().invokeLater(new Runnable(){
        public void run(){
          ((CompilerProgressIndicator)progressIndicator).showCompilerContent();
        }
      }
);
    }
  }
  return true;
}
