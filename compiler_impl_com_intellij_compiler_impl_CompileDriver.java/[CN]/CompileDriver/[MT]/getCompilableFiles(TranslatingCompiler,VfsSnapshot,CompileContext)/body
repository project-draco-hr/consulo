{
  final ArrayList<VirtualFile> result=new ArrayList<VirtualFile>(snapshot.size());
  snapshot.forEachUrl(new TObjectProcedure<String>(){
    public boolean execute(    final String url){
      final VirtualFile file=snapshot.getFileByUrl(url);
      if (compiler.isCompilableFile(file,context)) {
        result.add(file);
      }
      return true;
    }
  }
);
  return result;
}
