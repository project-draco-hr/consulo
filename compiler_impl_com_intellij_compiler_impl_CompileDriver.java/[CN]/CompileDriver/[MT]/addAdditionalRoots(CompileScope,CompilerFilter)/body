{
  CompileScope scope=attachIntermediateOutputDirectories(originalScope,filter);
  final AdditionalCompileScopeProvider[] scopeProviders=Extensions.getExtensions(AdditionalCompileScopeProvider.EXTENSION_POINT_NAME);
  CompileScope baseScope=scope;
  for (  AdditionalCompileScopeProvider scopeProvider : scopeProviders) {
    final CompileScope additionalScope=scopeProvider.getAdditionalScope(baseScope);
    if (additionalScope != null) {
      scope=new CompositeScope(scope,additionalScope);
    }
  }
  return scope;
}
