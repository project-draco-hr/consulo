{
  final List<File> outputDirs=new ArrayList<File>();
  ApplicationManager.getApplication().runReadAction(new Runnable(){
    public void run(){
      final VirtualFile[] outputDirectories=CompilerPathsEx.getOutputDirectories(ModuleManager.getInstance(myProject).getModules());
      for (      final VirtualFile outputDirectory : outputDirectories) {
        final File directory=VfsUtil.virtualToIoFile(outputDirectory);
        outputDirs.add(directory);
      }
    }
  }
);
  return outputDirs.toArray(new File[outputDirs.size()]);
}
