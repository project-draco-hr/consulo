{
  final File[] files=directory.listFiles();
  boolean isEmpty=true;
  for (  File file : files) {
    if (file.isDirectory()) {
      if (doPrune(file)) {
        file.delete();
      }
 else {
        isEmpty=false;
      }
    }
 else {
      isEmpty=false;
    }
  }
  return isEmpty;
}
