{
  scope=addAdditionalRoots(scope);
  final CompileContextImpl compileContext=new CompileContextImpl(myProject,new CompilerTask(myProject,true,"",true),scope,new DependencyCache(myCachesDirectoryPath),this,true);
  checkCachesVersion(compileContext);
  if (compileContext.isRebuildRequested()) {
    return false;
  }
  for (  Pair<Compiler,Module> pair : myGenerationCompilerModuleToOutputDirMap.keySet()) {
    compileContext.assignModule(myGenerationCompilerModuleToOutputDirMap.get(pair),pair.getSecond());
  }
  final ExitStatus status=doCompile(compileContext,false,false,false,getAllOutputDirectories(),true);
  return ExitStatus.UP_TO_DATE.equals(status);
}
