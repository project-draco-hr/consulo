{
  ApplicationManager.getApplication().assertIsDispatchThread();
  final Project project=getActiveProject();
  final Notification statusMessage=EventLog.getStatusMessage(project);
  myLogMode=logAllowed && StringUtil.isEmpty(nonLogText) && statusMessage != null;
  if (myLogMode) {
    myTextPanel.setCursor(Cursor.getPredefinedCursor(Cursor.HAND_CURSOR));
    new Runnable(){
      @Override public void run(){
        String text=EventLog.formatForLog(statusMessage).first;
        if (myDirty || System.currentTimeMillis() - statusMessage.getCreationTime() >= DateFormatUtil.MINUTE) {
          text+=" (" + StringUtil.decapitalize(DateFormatUtil.formatPrettyDateTime(statusMessage.getCreationTime())) + ")";
        }
        myTextPanel.setText(text);
        myLogAlarm.addRequest(this,30000);
      }
    }
.run();
  }
 else {
    myTextPanel.setCursor(Cursor.getDefaultCursor());
    myDirty=true;
    myTextPanel.setText(nonLogText);
    myLogAlarm.cancelAllRequests();
  }
  return myLogMode;
}
