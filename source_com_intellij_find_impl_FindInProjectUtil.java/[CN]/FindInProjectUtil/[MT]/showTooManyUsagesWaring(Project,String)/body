{
  final int[] answer=new int[1];
  try {
    SwingUtilities.invokeAndWait(new Runnable(){
      public void run(){
        answer[0]=Messages.showYesNoDialog(project,message,"Too Many Usages",Messages.getWarningIcon());
      }
    }
);
  }
 catch (  Exception e) {
    return;
  }
  if (answer[0] != DialogWrapper.OK_EXIT_CODE) {
    throw new ProcessCanceledException();
  }
}
