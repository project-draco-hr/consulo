{
  String directoryName=findModel.getDirectoryName();
  if (findModel.isProjectScope() || directoryName == null) {
    return null;
  }
  final PsiManager psiManager=PsiManager.getInstance(project);
  String path=directoryName.replace(File.separatorChar,'/');
  VirtualFile virtualFile=LocalFileSystem.getInstance().findFileByPath(path);
  if (virtualFile == null || !virtualFile.isDirectory()) {
    if (!path.contains(JarFileSystem.JAR_SEPARATOR)) {
      path+=JarFileSystem.JAR_SEPARATOR;
    }
    virtualFile=JarFileSystem.getInstance().findFileByPath(path);
  }
  if (virtualFile != null) {
    return psiManager.findDirectory(virtualFile);
  }
 else {
    return null;
  }
}
