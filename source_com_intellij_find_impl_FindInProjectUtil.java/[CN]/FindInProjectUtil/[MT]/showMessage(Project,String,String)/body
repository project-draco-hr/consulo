{
  final int[] answer=new int[1];
  try {
    SwingUtilities.invokeAndWait(new Runnable(){
      public void run(){
        answer[0]=Messages.showDialog(project,message,title,new String[]{CommonBundle.message("button.yes"),CommonBundle.message("button.no"),CommonBundle.message("button.yes.for.all"),CommonBundle.message("button.no.for.all")},0,Messages.getWarningIcon());
      }
    }
);
  }
 catch (  Exception e) {
    answer[0]=DialogWrapper.OK_EXIT_CODE;
  }
  return answer[0];
}
