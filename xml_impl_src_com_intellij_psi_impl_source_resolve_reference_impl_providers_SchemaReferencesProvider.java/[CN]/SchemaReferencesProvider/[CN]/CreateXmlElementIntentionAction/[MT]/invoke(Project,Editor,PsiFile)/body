{
  if (!CodeInsightUtilBase.prepareFileForWrite(file))   return;
  final XmlTag rootTag=myTargetFile.getDocument().getRootTag();
  OpenFileDescriptor descriptor=new OpenFileDescriptor(project,myTargetFile.getVirtualFile(),rootTag.getValue().getTextRange().getEndOffset());
  Editor targetEditor=FileEditorManager.getInstance(project).openTextEditor(descriptor,true);
  TemplateManager manager=TemplateManager.getInstance(project);
  final Template template=manager.createTemplate("","");
  addTextTo(template,rootTag);
  manager.startTemplate(targetEditor,template);
}
