{
  final SeverityRegistrar severityRegistrar=SeverityRegistrar.getInstance(project);
  DaemonCodeAnalyzerSettings settings=DaemonCodeAnalyzerSettings.getInstance();
  int maxSeverity=settings.NEXT_ERROR_ACTION_GOES_TO_ERRORS_FIRST ? severityRegistrar.getSeveritiesCount() - 1 : 0;
  for (int idx=maxSeverity; idx >= 0; idx--) {
    final HighlightSeverity minSeverity=severityRegistrar.getSeverityByIndex(idx);
    HighlightInfo infoToGo=findInfo(project,editor,caretOffset,minSeverity);
    if (infoToGo != null) {
      navigateToError(project,editor,infoToGo);
      return;
    }
  }
  showMessageWhenNoHighlights(project,file,editor);
}
