{
  int offsetToGo=myGoForward ? Integer.MAX_VALUE : Integer.MIN_VALUE;
  int offsetToGoIfNoLuck=offsetToGo;
  HighlightInfo infoToGo=null;
  HighlightInfo infoToGoIfNoLuck=null;
  int caretOffsetIfNoLuck=myGoForward ? -1 : editor.getDocument().getTextLength();
  for (  HighlightInfo info : highlights) {
    if (skip) {
      if (SeverityRegistrar.skipSeverity(info.getSeverity()))       continue;
    }
    int startOffset=getNavigationPositionFor(info,editor.getDocument());
    if (isBetter(caretOffset,offsetToGo,startOffset)) {
      offsetToGo=startOffset;
      infoToGo=info;
    }
    if (isBetter(caretOffsetIfNoLuck,offsetToGoIfNoLuck,startOffset)) {
      offsetToGoIfNoLuck=startOffset;
      infoToGoIfNoLuck=info;
    }
  }
  if (infoToGo == null)   infoToGo=infoToGoIfNoLuck;
  return infoToGo;
}
