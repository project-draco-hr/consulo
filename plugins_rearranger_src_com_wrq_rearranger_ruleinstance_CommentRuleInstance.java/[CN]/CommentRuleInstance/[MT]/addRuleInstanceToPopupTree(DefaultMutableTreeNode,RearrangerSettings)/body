{
  if (!settings.isShowComments())   return;
  DefaultMutableTreeNode top=node;
  if (settings.isShowRules()) {
    if ((!settings.isShowMatchedRules()) || isEmit()) {
      top=new DefaultMutableTreeNode(this);
      node.add(top);
    }
  }
  if (isEmit()) {
    commentRule.addToPopupTree(top,settings);
  }
}
