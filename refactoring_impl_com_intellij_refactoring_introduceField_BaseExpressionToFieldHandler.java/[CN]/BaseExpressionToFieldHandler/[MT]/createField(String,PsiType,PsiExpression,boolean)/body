{
  @NonNls StringBuilder pattern=new StringBuilder();
  pattern.append("private int ");
  pattern.append(fieldName);
  if (includeInitializer) {
    pattern.append("=0");
  }
  pattern.append(";");
  PsiManager psiManager=myParentClass.getManager();
  PsiElementFactory factory=JavaPsiFacade.getInstance(psiManager.getProject()).getElementFactory();
  try {
    PsiField field=factory.createFieldFromText(pattern.toString(),null);
    field=(PsiField)CodeStyleManager.getInstance(psiManager.getProject()).reformat(field);
    field.getTypeElement().replace(factory.createTypeElement(type));
    if (includeInitializer) {
      field.getInitializer().replace(initializerExpr);
    }
    return field;
  }
 catch (  IncorrectOperationException e) {
    LOG.error(e);
    return null;
  }
}
