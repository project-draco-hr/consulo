{
  FileTypeManager fileTypeManager=FileTypeManager.getInstance();
  FileType type=fileTypeManager.getFileTypeByFileName(name);
  if (type == StdFileTypes.CLASS) {
    throw new IncorrectOperationException("Cannot create class-file");
  }
  VirtualFile existingFile=getVirtualFile().findChild(name);
  if (existingFile != null) {
    throw new IncorrectOperationException("Cannot create file - file \"" + existingFile.getPresentableUrl() + "\" already exists.");
  }
  CheckUtil.checkWritable(this);
}
