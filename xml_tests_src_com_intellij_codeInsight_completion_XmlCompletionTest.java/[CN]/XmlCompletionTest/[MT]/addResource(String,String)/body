{
  final ExternalResourceManager manager=ExternalResourceManager.getInstance();
  final String old=manager.getResourceLocation(url,(String)null);
  if (old != null && old != url) {
    return;
  }
  ApplicationManager.getApplication().runWriteAction(new Runnable(){
    public void run(){
      manager.addResource(url,location);
    }
  }
);
  disposeOnTearDown(new Disposable(){
    @Override public void dispose(){
      ApplicationManager.getApplication().runWriteAction(new Runnable(){
        public void run(){
          manager.removeResource(url);
        }
      }
);
    }
  }
);
}
