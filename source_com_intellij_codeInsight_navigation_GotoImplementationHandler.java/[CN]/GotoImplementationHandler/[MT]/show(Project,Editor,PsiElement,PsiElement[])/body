{
  if (elements == null || elements.length == 0) {
    return;
  }
  if (elements.length == 1) {
    Navigatable descriptor=EditSourceUtil.getDescriptor(elements[0]);
    if (descriptor != null) {
      descriptor.navigate(true);
    }
  }
 else {
    PsiElementListCellRenderer renderer=sourceElement instanceof PsiMethod ? new MemberContainerCellRenderer(!PsiUtil.allMethodsHaveSameSignature(Arrays.asList(elements).toArray(PsiMethod.EMPTY_ARRAY))) : new PsiClassListCellRenderer();
    Arrays.sort(elements,renderer.getComparator());
    final JList list=new JList(elements);
    list.setSelectionMode(ListSelectionModel.SINGLE_SELECTION);
    list.setCellRenderer(renderer);
    renderer.installSpeedSearch(list);
    final Runnable runnable=new Runnable(){
      public void run(){
        int index=list.getSelectedIndex();
        if (index < 0)         return;
        PsiElement element=(PsiElement)list.getSelectedValue();
        Navigatable descriptor=EditSourceUtil.getDescriptor(element);
        if (descriptor != null) {
          descriptor.navigate(true);
        }
      }
    }
;
    String title=" Choose Implementation of " + ((PsiNamedElement)sourceElement).getName();
    ListPopup listPopup=new ListPopup(title,list,runnable,project);
    LogicalPosition caretPosition=editor.getCaretModel().getLogicalPosition();
    Point caretLocation=editor.logicalPositionToXY(caretPosition);
    int x=caretLocation.x;
    int y=caretLocation.y;
    Point editorLocation=editor.getContentComponent().getLocationOnScreen();
    x+=editorLocation.x;
    y+=editorLocation.y;
    listPopup.show(x,y);
  }
}
