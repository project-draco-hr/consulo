{
  THashSet<VirtualFile> files=new THashSet<VirtualFile>();
  THashSet<VirtualFile> directories=new THashSet<VirtualFile>();
  if (myExtensions == null) {
    myExtensions=Extensions.getExtensions(IndexableSetContributor.EP_NAME);
  }
  for (  IndexedRootsProvider provider : myExtensions) {
    for (    VirtualFile file : IndexableSetContributor.getRootsToIndex(provider)) {
      (file.isDirectory() ? directories : files).add(file);
    }
  }
  cachedFiles=files;
  cachedDirectories=directories;
  return directories;
}
