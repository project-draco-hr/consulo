{
  PsiManager manager=psiField.getManager();
  final PsiReference[] references=manager.getSearchHelper().findReferences(psiField,GlobalSearchScope.projectScope(myProject),false);
  for (  PsiReference reference : references) {
    if (!myInsideDeletedElements.isInsideDeleted(reference.getElement())) {
      final PsiElement element=reference.getElement();
      final PsiElement parent=element.getParent();
      if (parent instanceof PsiAssignmentExpression && element == ((PsiAssignmentExpression)parent).getLExpression()) {
        usages.add(new SafeDeleteFieldWriteReference((PsiAssignmentExpression)parent,psiField));
      }
 else {
        TextRange range=reference.getRangeInElement();
        usages.add(new SafeDeleteReferenceSimpleDeleteUsageInfo(reference.getElement(),psiField,range.getStartOffset(),range.getEndOffset(),false,false));
      }
    }
  }
  addNonCodeUsages(psiField,usages,myInsideDeletedElements);
}
