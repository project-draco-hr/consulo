{
  if (myPickerFrame != null && myPickerFrame.isShowing()) {
    PointerInfo pointerInfo=MouseInfo.getPointerInfo();
    Point mouseLoc=pointerInfo.getLocation();
    myPickerFrame.setLocation(mouseLoc.x - myPickerFrame.getWidth() / 2,mouseLoc.y - myPickerFrame.getHeight() / 2);
    myPoint.x=mouseLoc.x + myPickOffset.x;
    myPoint.y=mouseLoc.y + myPickOffset.y;
    if (myPoint.x >= 0 && myPoint.y >= 0) {
      Color c=myRobot.getPixelColor(myPoint.x,myPoint.y);
      if (!c.equals(myPreviousColor) || !mouseLoc.equals(myPreviousLocation)) {
        myPreviousColor=c;
        myPreviousLocation=mouseLoc;
        myCaptureRect.setLocation(mouseLoc.x + myCaptureOffset.x,mouseLoc.y + myCaptureOffset.y);
        if (myCaptureRect.x >= 0 && myCaptureRect.y >= 0) {
          BufferedImage capture=myRobot.createScreenCapture(myCaptureRect);
          myGraphics.setComposite(AlphaComposite.Src);
          myGraphics.setColor(myTransparentColor);
          myGraphics.fillRect(0,0,myImage.getWidth(),myImage.getHeight());
          myGraphics.drawImage(capture,myZoomRect.x,myZoomRect.y,myZoomRect.width,myZoomRect.height,this);
          myGraphics.setComposite(AlphaComposite.getInstance(AlphaComposite.DST_OUT));
          myGraphics.drawImage(myMaskImage,myZoomRect.x,myZoomRect.y,myZoomRect.width,myZoomRect.height,this);
          myGraphics.setComposite(AlphaComposite.SrcOver);
          myGraphics.drawImage(myMagnifierImage,0,0,this);
          myPickerFrame.setCursor(myParent.getToolkit().createCustomCursor(myImage,myHotspot,"ColorPicker"));
        }
      }
    }
  }
}
