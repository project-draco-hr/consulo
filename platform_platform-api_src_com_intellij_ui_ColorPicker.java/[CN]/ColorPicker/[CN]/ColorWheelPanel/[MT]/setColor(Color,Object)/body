{
  float[] hsb=new float[3];
  Color.RGBtoHSB(color.getRed(),color.getGreen(),color.getBlue(),hsb);
  myBrightnessComponent.setValue(100 - (int)(hsb[2] * 100));
  myBrightnessComponent.repaint();
  myColorWheel.dropImage();
  if (myOpacityComponent != null) {
    myOpacityComponent.setValue((int)((color.getAlpha() / 255.0) * 100));
    myOpacityComponent.repaint();
    myColorWheel.setColor(color,source);
  }
 else {
    myColorWheel.setColor(color,source);
  }
}
