{
  final Color color;
  if (myHex.hasFocus()) {
    Color c=ColorUtil.fromHex(myHex.getText(),null);
    color=c != null ? new Color(c.getRed(),c.getGreen(),c.getBlue(),(int)(255 * myColorWheelPanel.myColorWheel.myOpacity)) : null;
  }
 else {
    color=gatherRGB();
  }
  if (color != null) {
    updatePreview(color,src == myHex);
  }
}
