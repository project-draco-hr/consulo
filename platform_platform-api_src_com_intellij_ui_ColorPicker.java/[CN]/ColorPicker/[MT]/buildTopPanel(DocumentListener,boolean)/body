{
  final JPanel result=new JPanel(new BorderLayout());
  final JPanel previewPanel=new JPanel(new BorderLayout());
  if (enablePipette && ColorPipette.isAvailable()) {
    final JButton pipette=new JButton(PICK);
    pipette.addActionListener(new ActionListener(){
      @Override public void actionPerformed(      ActionEvent e){
        ColorPipette.pickColor(new Consumer<Color>(){
          @Override public void consume(          Color color){
            _setColor(color);
          }
        }
,ColorPicker.this);
      }
    }
);
    previewPanel.add(pipette,BorderLayout.WEST);
  }
  myPreviewComponent=new ColorPreviewComponent();
  previewPanel.add(myPreviewComponent,BorderLayout.CENTER);
  result.add(previewPanel,BorderLayout.NORTH);
  FocusAdapter selectAllListener=new FocusAdapter(){
    @Override public void focusGained(    final FocusEvent e){
      SwingUtilities.invokeLater(new Runnable(){
        @Override public void run(){
          ((JTextField)e.getSource()).selectAll();
        }
      }
);
    }
  }
;
  final JPanel rgbPanel=new JPanel();
  rgbPanel.setLayout(new BoxLayout(rgbPanel,BoxLayout.X_AXIS));
  rgbPanel.setBorder(BorderFactory.createEmptyBorder(10,0,0,0));
  rgbPanel.add(new JLabel("R:"));
  rgbPanel.add(Box.createHorizontalStrut(2));
  final JTextField r=new JTextField(new NumberDocument(),"",3);
  r.putClientProperty("_key","red");
  r.getDocument().addDocumentListener(l);
  r.addFocusListener(selectAllListener);
  rgbPanel.add(r);
  rgbPanel.add(Box.createHorizontalStrut(5));
  rgbPanel.add(new JLabel("G:"));
  rgbPanel.add(Box.createHorizontalStrut(2));
  final JTextField g=new JTextField(new NumberDocument(),"",3);
  g.putClientProperty("_key","green");
  g.setColumns(3);
  g.getDocument().addDocumentListener(l);
  g.addFocusListener(selectAllListener);
  rgbPanel.add(g);
  rgbPanel.add(Box.createHorizontalStrut(5));
  rgbPanel.add(new JLabel("B:"));
  rgbPanel.add(Box.createHorizontalStrut(2));
  final JTextField b=new JTextField(new NumberDocument(),"",3);
  b.putClientProperty("_key","blue");
  b.setColumns(3);
  b.getDocument().addDocumentListener(l);
  b.addFocusListener(selectAllListener);
  rgbPanel.add(b);
  result.add(rgbPanel,BorderLayout.WEST);
  final JPanel hexPanel=new JPanel();
  hexPanel.setLayout(new BoxLayout(hexPanel,BoxLayout.X_AXIS));
  hexPanel.setBorder(BorderFactory.createEmptyBorder(10,0,0,0));
  hexPanel.add(new JLabel("#:"));
  hexPanel.add(Box.createHorizontalStrut(3));
  final JTextField hex=new JTextField(new NumberDocument(true),"",6);
  hex.putClientProperty("_key","hex");
  hex.setColumns(6);
  hex.getDocument().addDocumentListener(l);
  hex.addFocusListener(selectAllListener);
  hexPanel.add(hex);
  result.add(hexPanel,BorderLayout.EAST);
  return result;
}
