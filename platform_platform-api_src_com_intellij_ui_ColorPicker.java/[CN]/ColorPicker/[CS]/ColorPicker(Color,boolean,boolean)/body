{
  setLayout(new BorderLayout());
  setBorder(BorderFactory.createEmptyBorder(5,5,0,5));
  myColorWheelPanel=new ColorWheelPanel(this,enableOpacity);
  try {
    add(buildTopPanel(this,restoreColors),BorderLayout.NORTH);
    add(myColorWheelPanel,BorderLayout.CENTER);
    myRecentColorsComponent=new RecentColorsComponent(new Consumer<Color>(){
      @Override public void consume(      Color color){
        _setColor(color);
      }
    }
,restoreColors);
    add(myRecentColorsComponent,BorderLayout.SOUTH);
  }
 catch (  ParseException e) {
  }
  Color _color=color == null ? myRecentColorsComponent.getMostRecentColor() : color;
  if (_color == null)   _color=Color.WHITE;
  _setColor(_color);
  setSize(300,350);
}
