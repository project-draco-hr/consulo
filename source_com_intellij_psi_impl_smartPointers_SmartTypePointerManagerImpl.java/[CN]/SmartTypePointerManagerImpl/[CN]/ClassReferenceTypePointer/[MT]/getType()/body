{
  if (myType.isValid())   return myType;
  final PsiJavaCodeReferenceElement referenceElement=(PsiJavaCodeReferenceElement)mySmartPsiElementPointer.getElement();
  final PsiElementFactory factory=JavaPsiFacade.getInstance(myProject).getElementFactory();
  if (referenceElement != null) {
    myType=factory.createType(referenceElement);
  }
 else {
    try {
      myType=factory.createTypeFromText(myReferenceText,null);
    }
 catch (    IncorrectOperationException e) {
      LOG.error(e);
    }
  }
  return myType;
}
