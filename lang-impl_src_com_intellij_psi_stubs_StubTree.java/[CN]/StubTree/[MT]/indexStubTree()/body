{
  final Map<StubIndexKey,Map<Object,Integer>> result=new HashMap<StubIndexKey,Map<Object,Integer>>();
  for (int i=0; i < myPlainList.size(); i++) {
    StubElement<?> stub=myPlainList.get(i);
    final StubSerializer serializer=SerializationManager.getInstance().getSerializer(stub);
    final int stubIdx=i;
    serializer.indexStub(stub,new IndexSink(){
      public void occurence(      @NotNull final StubIndexKey indexKey,      @NotNull final Object value){
        if (value != null) {
          Map<Object,Integer> map=result.get(indexKey);
          if (map == null) {
            map=new HashMap<Object,Integer>();
            result.put(indexKey,map);
          }
          map.put(value,stubIdx);
        }
 else {
          System.out.println("Oops! There shall be no null values in indices.");
        }
      }
    }
);
  }
  return result;
}
