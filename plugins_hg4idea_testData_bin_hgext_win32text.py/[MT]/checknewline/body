def checknewline(s, newline, ui=None, repo=None, filename=None):
    if ((newline in s) and ui and filename and repo):
        ui.warn((_('WARNING: %s already has %s line endings\nand does not need EOL conversion by the win32text plugin.\nBefore your next commit, please reconsider your encode/decode settings in \nMercurial.ini or %s.\n') % (filename, newlinestr[newline], repo.join('hgrc'))))
