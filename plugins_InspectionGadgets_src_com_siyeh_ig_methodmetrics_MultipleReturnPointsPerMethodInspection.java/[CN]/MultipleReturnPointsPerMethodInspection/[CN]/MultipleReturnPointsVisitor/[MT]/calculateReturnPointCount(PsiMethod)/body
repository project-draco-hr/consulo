{
  final ReturnPointCountVisitor visitor=new ReturnPointCountVisitor(ignoreGuardClauses);
  method.accept(visitor);
  final int count=visitor.getCount();
  if (!mayFallThroughBottom(method)) {
    return count;
  }
  final PsiCodeBlock body=method.getBody();
  if (body == null) {
    return count;
  }
  final PsiStatement[] statements=body.getStatements();
  if (statements.length == 0) {
    return count + 1;
  }
  final PsiStatement lastStatement=statements[statements.length - 1];
  if (ControlFlowUtils.statementMayCompleteNormally(lastStatement)) {
    return count + 1;
  }
  return count;
}
