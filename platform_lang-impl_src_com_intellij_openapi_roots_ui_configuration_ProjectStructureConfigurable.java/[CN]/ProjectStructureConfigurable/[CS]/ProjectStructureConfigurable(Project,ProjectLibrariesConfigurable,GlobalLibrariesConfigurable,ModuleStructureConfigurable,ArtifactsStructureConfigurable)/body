{
  myProject=project;
  myArtifactsStructureConfigurable=artifactsStructureConfigurable;
  myModuleConfigurator=new ModulesConfigurator(myProject);
  myContext=new StructureConfigurableContext(myProject,myModuleConfigurator);
  myModuleConfigurator.setContext(myContext);
  myProjectLibrariesConfig=projectLibrariesConfigurable;
  myGlobalLibrariesConfig=globalLibrariesConfigurable;
  myModulesConfig=moduleStructureConfigurable;
  myProjectLibrariesConfig.init(myContext);
  myGlobalLibrariesConfig.init(myContext);
  myModulesConfig.init(myContext);
  if (!project.isDefault()) {
    myArtifactsStructureConfigurable.init(myContext,myModulesConfig,myProjectLibrariesConfig,myGlobalLibrariesConfig);
  }
  myProjectConfig=new ProjectConfigurable(project,getContext(),getModuleConfigurator());
  final PropertiesComponent propertiesComponent=PropertiesComponent.getInstance(myProject);
  myUiState.lastEditedConfigurable=propertiesComponent.getValue("project.structure.last.edited");
}
