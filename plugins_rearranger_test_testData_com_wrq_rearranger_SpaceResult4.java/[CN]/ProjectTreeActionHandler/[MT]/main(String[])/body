{
  org.apache.log4j.BasicConfigurator.configure();
  final BufferedReader reader;
  final ProjectTreeActionHandler ptah=new ProjectTreeActionHandler();
  final RearrangeIt ri=ptah.new RearrangeIt(null);
  final RearrangeIt.IntHolder cancelled=ri.new IntHolder();
  reader=new BufferedReader(new InputStreamReader(System.in));
  final Cancellable c=new Cancellable(){
    public void setCancel(){
      System.out.println("cancel test");
      cancelled.n=1;
    }
  }
;
  final JDialog dialog=ri.getProgressFrame(c,10);
  int count=0;
  dialog.pack();
  dialog.setVisible(true);
  while (count <= 10 && cancelled.n == 0) {
    String s=null;
    try {
      s=reader.readLine();
    }
 catch (    IOException e) {
      e.printStackTrace();
    }
    if (cancelled.n == 0) {
      ri.filename.setText(s);
      count++;
      ri.bar.setValue(count);
    }
  }
  dialog.setVisible(false);
  dialog.hide();
  dialog.dispose();
  System.exit(0);
}
