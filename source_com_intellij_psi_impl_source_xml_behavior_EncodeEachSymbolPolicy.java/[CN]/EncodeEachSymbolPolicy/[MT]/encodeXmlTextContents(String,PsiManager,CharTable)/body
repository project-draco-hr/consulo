{
  if (!XmlUtil.toCode(displayText))   return super.encodeXmlTextContents(displayText,manager,charTableByTree);
  final FileElement dummyParent=new DummyHolder(manager,null,charTableByTree).getTreeElement();
  int sectionStartOffset=0;
  int offset=0;
  while (offset < displayText.length()) {
    if (XmlUtil.toCode(displayText.charAt(offset))) {
      final String plainSection=displayText.substring(sectionStartOffset,offset);
      if (plainSection.length() > 0) {
        TreeUtil.addChildren(dummyParent,(TreeElement)super.encodeXmlTextContents(plainSection,manager,charTableByTree));
      }
      TreeUtil.addChildren(dummyParent,createCharEntity(displayText.charAt(offset),dummyParent.getCharTable()));
      sectionStartOffset=offset + 1;
    }
    offset++;
  }
  final String plainSection=displayText.substring(sectionStartOffset,offset);
  if (plainSection.length() > 0) {
    TreeUtil.addChildren(dummyParent,(TreeElement)super.encodeXmlTextContents(plainSection,manager,charTableByTree));
  }
  return dummyParent.getFirstChildNode();
}
