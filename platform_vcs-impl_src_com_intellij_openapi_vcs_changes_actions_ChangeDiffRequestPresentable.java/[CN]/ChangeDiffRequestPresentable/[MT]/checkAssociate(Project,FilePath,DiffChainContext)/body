{
  final String pattern=FileUtil.getExtension(file.getName());
  if (context.contains(pattern))   return false;
  int rc=Messages.showOkCancelDialog(project,VcsBundle.message("diff.unknown.file.type.prompt",file.getName()),VcsBundle.message("diff.unknown.file.type.title"),VcsBundle.message("diff.unknown.file.type.associate"),CommonBundle.getCancelButtonText(),Messages.getQuestionIcon());
  if (rc == 0) {
    FileType fileType=FileTypeChooser.associateFileType(file.getName());
    return fileType != null && !fileType.isBinary();
  }
 else {
    context.add(pattern);
  }
  return false;
}
