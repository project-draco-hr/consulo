{
  final String pattern=FileUtilRt.getExtension(fileName).toLowerCase();
  if (context.contains(pattern))   return false;
  int rc=Messages.showOkCancelDialog(project,VcsBundle.message("diff.unknown.file.type.prompt",fileName),VcsBundle.message("diff.unknown.file.type.title"),VcsBundle.message("diff.unknown.file.type.associate"),CommonBundle.getCancelButtonText(),Messages.getQuestionIcon());
  if (rc == Messages.OK) {
    FileType fileType=FileTypeChooser.associateFileType(fileName);
    return fileType != null && !fileType.isBinary();
  }
 else {
    context.add(pattern);
  }
  return false;
}
