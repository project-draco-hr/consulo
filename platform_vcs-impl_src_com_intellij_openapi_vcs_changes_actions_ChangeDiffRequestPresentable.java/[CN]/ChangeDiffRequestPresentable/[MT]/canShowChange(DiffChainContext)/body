{
  final ContentRevision bRev=myChange.getBeforeRevision();
  final ContentRevision aRev=myChange.getAfterRevision();
  if (myIgnoreDirectoryFlag) {
    if (!checkContentsAvailable(bRev,aRev))     return false;
    return true;
  }
  if ((bRev != null && (bRev.getFile().getFileType().isBinary() || bRev.getFile().isDirectory())) || (aRev != null && (aRev.getFile().getFileType().isBinary() || aRev.getFile().isDirectory()))) {
    if (bRev != null && bRev.getFile().getFileType() == FileTypes.UNKNOWN && !bRev.getFile().isDirectory()) {
      if (!checkContentsAvailable(bRev,aRev))       return false;
      if (!checkAssociate(myProject,bRev.getFile(),context))       return false;
    }
 else     if (aRev != null && aRev.getFile().getFileType() == FileTypes.UNKNOWN && !aRev.getFile().isDirectory()) {
      if (!checkContentsAvailable(bRev,aRev))       return false;
      if (!checkAssociate(myProject,aRev.getFile(),context))       return false;
    }
 else {
      return false;
    }
  }
  return true;
}
