{
  final Set<String> dirtyOutputDirs=Collections.synchronizedSet(new THashSet<String>(FileUtil.PATH_HASHING_STRATEGY));
  final BuildListener listener=new BuildListener(){
    @Override public void filesGenerated(    Collection<Pair<String,String>> paths){
      for (      Pair<String,String> path : paths) {
        dirtyOutputDirs.add(path.first);
      }
    }
    @Override public void filesDeleted(    Collection<String> paths){
    }
  }
;
  DIRTY_OUTPUT_DIRS.set(context,dirtyOutputDirs);
  BUILD_LISTENER_KEY.set(context,listener);
  context.addBuildListener(listener);
}
