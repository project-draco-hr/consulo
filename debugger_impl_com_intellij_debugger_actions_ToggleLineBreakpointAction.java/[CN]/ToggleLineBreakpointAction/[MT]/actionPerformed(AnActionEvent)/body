{
  DataContext dataContext=e.getDataContext();
  Project project=(Project)dataContext.getData(DataConstants.PROJECT);
  if (project == null)   return;
  PlaceInDocument place=getPlace(e);
  if (place == null)   return;
  DebuggerManagerEx debugManager=DebuggerManagerEx.getInstanceEx(project);
  if (debugManager == null)   return;
  BreakpointManager manager=debugManager.getBreakpointManager();
  Breakpoint breakpoint=manager.findLineBreakpoint(place.getDocument(),place.getOffset());
  if (breakpoint == null) {
    int line=place.getDocument().getLineNumber(place.getOffset());
    LineBreakpoint lineBreakpoint=manager.addLineBreakpoint(place.getDocument(),line);
    if (lineBreakpoint != null) {
      RequestManagerImpl.createRequests(lineBreakpoint);
    }
  }
 else {
    manager.removeBreakpoint(breakpoint);
  }
}
