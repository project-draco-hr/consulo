{
  try {
    myComponentsRegistry.loadClasses();
    final Class[] componentInterfaces=myComponentsRegistry.getComponentInterfaces();
    for (    Class componentInterface : componentInterfaces) {
      if (myHaveProgressManager) {
        ProgressManager.checkCanceled();
      }
      try {
        createComponent(componentInterface);
      }
 catch (      StateStorageException e) {
        throw e;
      }
catch (      ProcessCanceledException e) {
        throw e;
      }
catch (      Exception e) {
        LOG.error(e);
      }
    }
  }
  finally {
    myComponentsCreated=true;
  }
}
