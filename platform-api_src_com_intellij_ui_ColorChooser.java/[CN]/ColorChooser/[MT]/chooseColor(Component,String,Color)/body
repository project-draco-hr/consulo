{
  Color c=JColorChooser.showDialog(parent,caption,preselectedColor);
  try {
    final Class[] classes=JColorChooser.class.getDeclaredClasses();
    Class dlgClass=null;
    for (    Class aClass : classes) {
      if (aClass.getName().endsWith("ColorChooserDialog")) {
        dlgClass=aClass;
        break;
      }
    }
    if (dlgClass != null) {
      final Field cancelButton=dlgClass.getDeclaredField("cancelButton");
      cancelButton.setAccessible(true);
      cancelButton.set(null,null);
    }
  }
 catch (  Exception e) {
  }
 finally {
    return c;
  }
}
