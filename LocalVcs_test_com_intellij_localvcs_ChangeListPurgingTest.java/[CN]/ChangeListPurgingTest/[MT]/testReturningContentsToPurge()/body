{
  r.createFile(1,"f",c("one"),null);
  cl.applyChangeSetTo(r,cs(1,new ChangeFileContentChange("f",c("two"),null)));
  cl.applyChangeSetTo(r,cs(2,new ChangeFileContentChange("f",c("three"),null)));
  ChangeFileContentChange c1=new ChangeFileContentChange("f",c("four"),null);
  ChangeFileContentChange c2=new ChangeFileContentChange("f",c("five"),null);
  cl.applyChangeSetTo(r,cs(3,c1,c2));
  List<Content> contents=cl.purgeUpTo(10);
  assertEquals(4,contents.size());
  assertEquals(c("one"),contents.get(0));
  assertEquals(c("two"),contents.get(1));
  assertEquals(c("three"),contents.get(2));
  assertEquals(c("four"),contents.get(3));
}
