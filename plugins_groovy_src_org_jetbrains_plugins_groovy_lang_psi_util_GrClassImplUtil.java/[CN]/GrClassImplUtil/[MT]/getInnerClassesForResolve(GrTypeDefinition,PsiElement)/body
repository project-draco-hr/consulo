{
  if (lastParent instanceof GrReferenceList) {
    return Arrays.asList(grType.getInnerClasses());
  }
  List<PsiClass> result=new ArrayList<PsiClass>();
  try {
    for (    CandidateInfo info : CollectClassMembersUtil.getAllInnerClasses(grType,false).values()) {
      ContainerUtil.addIfNotNull(result,(PsiClass)info.getElement());
    }
  }
 catch (  StackOverflowError e) {
    throw new RuntimeException("lastParent=" + lastParent,e);
  }
  return result;
}
