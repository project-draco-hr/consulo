{
  final LightMethodBuilder builder=new LightMethodBuilder(clazz.getManager(),GroovyFileType.GROOVY_LANGUAGE,method.getName());
  builder.setContainingClass(clazz);
  builder.setReturnType(substitutor.substitute(method.getReturnType()));
  builder.setNavigationElement(method);
  builder.addModifier(PsiModifier.PUBLIC);
  final PsiParameter[] originalParameters=method.getParameterList().getParameters();
  for (int i=0, originalParametersLength=originalParameters.length; i < originalParametersLength; i++) {
    PsiParameter originalParameter=originalParameters[i];
    PsiType type=substitutor.substitute(originalParameter.getType());
    if (type == null) {
      type=PsiType.getJavaLangObject(clazz.getManager(),clazz.getResolveScope());
    }
    builder.addParameter(StringUtil.notNullize(originalParameter.getName(),"p" + i),type);
  }
  builder.setBaseIcon(GroovyIcons.METHOD);
  return builder;
}
