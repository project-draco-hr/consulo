{
  val project=d.getProject();
  val projectFileIndex=ProjectFileIndex.SERVICE.getInstance(project);
  val contentFolderTypeForFile=projectFileIndex.getContentFolderTypeForFile(d.getVirtualFile());
  if (contentFolderTypeForFile != null) {
    val childPackageIcon=contentFolderTypeForFile.getChildPackageIcon();
    return Trinity.create(contentFolderTypeForFile,d,childPackageIcon != null ? ChildType.Package : ChildType.Directory);
  }
  return Trinity.create(null,d,ChildType.Directory);
}
