{
  LOG.assertTrue(SwingUtilities.isEventDispatchThread());
  if (breakpoint == null) {
    return;
  }
  if (myBreakpoints.remove(breakpoint)) {
    updateBreakpointRules(breakpoint);
    myBreakpointsListForIteration=null;
    if (breakpoint instanceof BreakpointWithHighlighter) {
      for (Iterator<Document> iterator=myDocumentBreakpoints.keySet().iterator(); iterator.hasNext(); ) {
        final Document document=iterator.next();
        final List<BreakpointWithHighlighter> documentBreakpoints=myDocumentBreakpoints.get(document);
        final boolean reallyRemoved=documentBreakpoints.remove(breakpoint);
        if (reallyRemoved) {
          if (documentBreakpoints.isEmpty()) {
            myDocumentBreakpoints.remove(document);
          }
          break;
        }
      }
    }
    breakpoint.delete();
    myDispatcher.getMulticaster().breakpointsChanged();
  }
}
