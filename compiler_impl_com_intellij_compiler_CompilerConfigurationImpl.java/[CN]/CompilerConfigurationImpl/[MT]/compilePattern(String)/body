{
  final PatternCompiler compiler=new Perl5Compiler();
  final Pattern pattern;
  try {
    if (SystemInfo.isFileSystemCaseSensitive) {
      pattern=compiler.compile(s);
    }
 else {
      pattern=compiler.compile(s,Perl5Compiler.CASE_INSENSITIVE_MASK);
    }
  }
 catch (  org.apache.oro.text.regex.MalformedPatternException ex) {
    throw new MalformedPatternException(ex);
  }
  return pattern;
}
