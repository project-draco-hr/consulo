{
  super.start(buffer,startOffset,endOffset,initialState);
  if ((initialState & EMBEDDED_LEXER_ON) != 0) {
    int state=initialState >> EMBEDDED_LEXER_STATE_SHIFT;
    LOG.assertTrue(hasSeenStyle() || hasSeenScript());
    setEmbeddedLexer();
    embeddedLexer.start(buffer,startOffset,skipToTheEndOfTheEmbeddment(),state);
  }
 else {
    embeddedLexer=null;
  }
}
