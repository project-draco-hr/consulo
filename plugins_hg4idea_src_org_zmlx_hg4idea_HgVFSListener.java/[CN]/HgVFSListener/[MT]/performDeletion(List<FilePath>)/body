{
  (new VcsBackgroundTask<FilePath>(myProject,HgVcsMessages.message("hg4idea.remove.progress"),VcsConfiguration.getInstance(myProject).getAddRemoveOption(),filesToDelete){
    protected void process(    final FilePath file) throws VcsException {
      if (file.isDirectory()) {
        return;
      }
      (new HgRemoveCommand(myProject)).execute(new HgFile(VcsUtil.getVcsRootFor(myProject,file),file));
      dirtyScopeManager.fileDirty(file);
    }
  }
).queue();
}
