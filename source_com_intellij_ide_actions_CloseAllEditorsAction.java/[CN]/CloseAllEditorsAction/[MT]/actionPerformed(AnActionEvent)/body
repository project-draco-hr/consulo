{
  final Project project=(Project)e.getDataContext().getData(DataConstants.PROJECT);
  CommandProcessor commandProcessor=CommandProcessor.getInstance();
  commandProcessor.executeCommand(project,new Runnable(){
    public void run(){
      FileEditorManagerEx editorManager=FileEditorManagerEx.getInstanceEx(project);
      VirtualFile selectedFile=editorManager.getSelectedFiles()[0];
      VirtualFile[] openFiles=editorManager.getSiblings(selectedFile);
      for (int i=0; i < openFiles.length; i++) {
        editorManager.closeFile(openFiles[i]);
      }
    }
  }
,"Close All Editors",null);
}
