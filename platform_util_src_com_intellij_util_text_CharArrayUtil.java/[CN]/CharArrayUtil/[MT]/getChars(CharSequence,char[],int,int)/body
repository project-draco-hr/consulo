{
  if (len >= GET_CHARS_THRESHOLD) {
    if (src instanceof String) {
      ((String)src).getChars(0,len,dst,dstOffset);
      return;
    }
 else     if (src instanceof CharBuffer) {
      final CharBuffer buffer=(CharBuffer)src;
      final int i=buffer.position();
      buffer.get(dst,dstOffset,len);
      buffer.position(i);
      return;
    }
 else     if (src instanceof CharSequenceBackedByArray) {
      ((CharSequenceBackedByArray)src.subSequence(0,len)).getChars(dst,dstOffset);
      return;
    }
 else     if (src instanceof StringBuffer) {
      ((StringBuffer)src).getChars(0,len,dst,dstOffset);
      return;
    }
 else     if (src instanceof StringBuilder) {
      ((StringBuilder)src).getChars(0,len,dst,dstOffset);
      return;
    }
  }
  for (int i=0; i < len; i++) {
    dst[i + dstOffset]=src.charAt(i);
  }
}
