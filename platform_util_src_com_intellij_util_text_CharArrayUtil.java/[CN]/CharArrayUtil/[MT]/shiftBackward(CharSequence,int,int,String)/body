{
  if (maxOffset >= buffer.length())   return maxOffset;
  int offset=maxOffset;
  while (true) {
    if (offset < minOffset)     break;
    char c=buffer.charAt(offset);
    int i;
    for (i=0; i < chars.length(); i++) {
      if (c == chars.charAt(i))       break;
    }
    if (i == chars.length())     break;
    offset--;
  }
  return offset;
}
