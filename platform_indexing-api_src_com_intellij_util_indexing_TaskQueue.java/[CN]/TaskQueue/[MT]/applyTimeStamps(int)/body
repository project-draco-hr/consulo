{
  final Runnable runnable=myTimestampUpdates.poll();
  if (runnable == null)   return;
  ApplicationManager.getApplication().runReadAction(new Runnable(){
    @Override public void run(){
      int updates=0;
      for (Runnable r=runnable; r != null; r=myTimestampUpdates.poll()) {
        r.run();
        if (++updates == max)         break;
      }
    }
  }
);
}
