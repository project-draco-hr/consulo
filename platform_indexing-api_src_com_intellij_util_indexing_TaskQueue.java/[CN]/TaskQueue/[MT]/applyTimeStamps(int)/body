{
  Runnable runnable=myTimestampUpdates.poll();
  if (runnable == null)   return;
  int updates=0;
  AccessToken accessToken=ReadAction.start();
  try {
    while (runnable != null) {
      runnable.run();
      if (++updates == max)       break;
      runnable=myTimestampUpdates.poll();
    }
  }
  finally {
    accessToken.finish();
  }
}
