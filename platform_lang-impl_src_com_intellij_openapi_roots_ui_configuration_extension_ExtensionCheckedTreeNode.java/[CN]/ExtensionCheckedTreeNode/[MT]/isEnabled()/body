{
  if (myExtension == null || myProviderEP != null && myProviderEP.allowMixin) {
    return true;
  }
  if (myProviderEP != null && myProviderEP.systemOnly) {
    return false;
  }
  final ModifiableRootModel rootModel=myState.getRootModel();
  if (rootModel == null) {
    return false;
  }
  final ModuleExtensionProviderEP absoluteParent=findParentWithoutParent(myExtension.getId());
  final ModuleExtension extension=rootModel.getExtension(absoluteParent.getInstance().getImmutableClass());
  if (extension != null) {
    return true;
  }
  for (  ModuleExtensionProviderEP ep : ModuleExtensionProviderEP.EP_NAME.getExtensions()) {
    if (ep.parentKey != null) {
      continue;
    }
    final ModuleExtension tempExtension=rootModel.getExtension(ep.getInstance().getImmutableClass());
    if (tempExtension != null) {
      return false;
    }
  }
  return true;
}
