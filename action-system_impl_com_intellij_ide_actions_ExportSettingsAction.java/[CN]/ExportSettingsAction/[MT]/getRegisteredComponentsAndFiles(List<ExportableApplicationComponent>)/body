{
  Map<File,Set<ExportableApplicationComponent>> fileToComponents=new HashMap<File,Set<ExportableApplicationComponent>>();
  final ExportableApplicationComponent[] components=ApplicationManager.getApplication().getComponents(ExportableApplicationComponent.class);
  for (  ExportableApplicationComponent component : components) {
    exportableComponents.add(component);
    final File[] exportFiles=component.getExportFiles();
    for (    File exportFile : exportFiles) {
      Set<ExportableApplicationComponent> componentsTied=fileToComponents.get(exportFile);
      if (componentsTied == null) {
        componentsTied=new HashSet<ExportableApplicationComponent>();
        fileToComponents.put(exportFile,componentsTied);
      }
      componentsTied.add(component);
    }
  }
  return fileToComponents;
}
