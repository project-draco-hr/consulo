{
  List<String> candidates=new ArrayList<String>();
  candidates.add(System.getProperty(GRADLE_JAVA_HOME_KEY));
  candidates.add(System.getenv("JAVA_HOME"));
  candidates.add(System.getProperty("java.home"));
  for (  String candidate : candidates) {
    if (candidate != null && JdkUtil.checkForJre(candidate)) {
      return candidate;
    }
  }
  return null;
}
