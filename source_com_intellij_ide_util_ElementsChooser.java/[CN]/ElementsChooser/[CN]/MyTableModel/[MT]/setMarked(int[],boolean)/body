{
  if (rows == null || rows.length == 0) {
    return;
  }
  int firstRow=Integer.MAX_VALUE;
  int lastRow=Integer.MIN_VALUE;
  final Boolean newValue=marked ? Boolean.TRUE : Boolean.FALSE;
  for (int idx=0; idx < rows.length; idx++) {
    final int row=rows[idx];
    final T element=myElements.get(row);
    final Boolean prevValue=myMarkedMap.put(element,newValue);
    if (!newValue.equals(prevValue)) {
      notifyElementMarked(element,newValue.booleanValue());
    }
    firstRow=Math.min(firstRow,row);
    lastRow=Math.max(lastRow,row);
  }
  fireTableRowsUpdated(firstRow,lastRow);
}
