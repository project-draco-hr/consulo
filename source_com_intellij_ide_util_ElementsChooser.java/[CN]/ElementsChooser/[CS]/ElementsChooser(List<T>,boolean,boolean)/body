{
  super(new BorderLayout());
  myTableModel=new MyTableModel(elementsCanBeMarked);
  myTable=new Table(myTableModel);
  myTable.setShowGrid(false);
  myTable.setIntercellSpacing(new Dimension(0,0));
  myTable.setTableHeader(null);
  myTable.setAutoResizeMode(JTable.AUTO_RESIZE_LAST_COLUMN);
  myTable.setColumnSelectionAllowed(false);
  JScrollPane pane=ScrollPaneFactory.createScrollPane(myTable);
  pane.setPreferredSize(new Dimension(100,155));
  int width=new JCheckBox().getPreferredSize().width;
  TableColumnModel columnModel=myTable.getColumnModel();
  if (elementsCanBeMarked) {
    TableColumn checkMarkColumn=columnModel.getColumn(myTableModel.CHECK_MARK_COLUM_INDEX);
    checkMarkColumn.setPreferredWidth(width);
    checkMarkColumn.setMaxWidth(width);
    checkMarkColumn.setCellRenderer(new CheckMarkColumnCellRenderer(myTable.getDefaultRenderer(Boolean.class)));
  }
  columnModel.getColumn(myTableModel.ELEMENT_COLUMN_INDEX).setCellRenderer(new MyElementColumnCellRenderer());
  add(pane,BorderLayout.CENTER);
  myTable.registerKeyboardAction(new ActionListener(){
    public void actionPerformed(    ActionEvent e){
      final int[] selectedRows=myTable.getSelectedRows();
      boolean currentlyMarked=true;
      for (      int selectedRow : selectedRows) {
        currentlyMarked=myTableModel.isElementMarked(selectedRow);
        if (!currentlyMarked) {
          break;
        }
      }
      myTableModel.setMarked(selectedRows,!currentlyMarked);
    }
  }
,KeyStroke.getKeyStroke(KeyEvent.VK_SPACE,0),JComponent.WHEN_FOCUSED);
  setElements(elements,marked);
}
