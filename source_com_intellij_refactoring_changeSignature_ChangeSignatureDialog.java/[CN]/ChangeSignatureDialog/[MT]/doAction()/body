{
  stopEditing();
  String message=validateAndCommitData();
  if (message != null) {
    RefactoringMessageUtil.showErrorMessage(RefactoringBundle.message("error.incorrect.data"),message,HelpID.CHANGE_SIGNATURE,myProject);
    return;
  }
  if (!checkMethodConflicts()) {
    return;
  }
  if (myMethodsToPropagateParameters != null && !mayPropagateParameters()) {
    Messages.showWarningDialog(myProject,RefactoringBundle.message("changeSignature.parameters.wont.propagate"),ChangeSignatureHandler.REFACTORING_NAME);
    myMethodsToPropagateParameters=null;
  }
  if (myMethodsToPropagateExceptions != null && !mayPropagateExceptions()) {
    Messages.showWarningDialog(myProject,RefactoringBundle.message("changeSignature.exceptions.wont.propagate"),ChangeSignatureHandler.REFACTORING_NAME);
    myMethodsToPropagateExceptions=null;
  }
  invokeRefactoring(new ChangeSignatureProcessor(getProject(),myMethod,isGenerateDelegate(),getVisibility(),getMethodName(),getReturnType(),getParameters(),getExceptions(),myMethodsToPropagateParameters,myMethodsToPropagateExceptions));
}
