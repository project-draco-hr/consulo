def unregisterAllServices(self):
    'Unregister all registered services.'
    if (len(self.services) > 0):
        now = currentTimeMillis()
        nextTime = now
        i = 0
        while (i < 3):
            if (now < nextTime):
                self.wait((nextTime - now))
                now = currentTimeMillis()
                continue
            out = DNSOutgoing((_FLAGS_QR_RESPONSE | _FLAGS_AA))
            for info in self.services.values():
                out.addAnswerAtTime(DNSPointer(info.type, _TYPE_PTR, _CLASS_IN, 0, info.name), 0)
                out.addAnswerAtTime(DNSService(info.name, _TYPE_SRV, _CLASS_IN, 0, info.priority, info.weight, info.port, info.server), 0)
                out.addAnswerAtTime(DNSText(info.name, _TYPE_TXT, _CLASS_IN, 0, info.text), 0)
                if info.address:
                    out.addAnswerAtTime(DNSAddress(info.server, _TYPE_A, _CLASS_IN, 0, info.address), 0)
            self.send(out)
            i += 1
            nextTime += _UNREGISTER_TIME
