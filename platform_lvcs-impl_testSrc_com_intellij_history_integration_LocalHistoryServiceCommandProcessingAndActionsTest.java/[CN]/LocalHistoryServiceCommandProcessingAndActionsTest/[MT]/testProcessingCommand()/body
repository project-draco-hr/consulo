{
  commandProcessor.executeCommand(new Runnable(){
    public void run(){
      fileManager.fireFileCreated(new TestVirtualFile("file","abc",-1));
      fileManager.fireContentChanged(new TestVirtualFile("file","def",-1));
    }
  }
,"command",null);
  assertTrue(vcs.hasEntry("file"));
  assertEquals(c("def"),vcs.getEntry("file").getContent());
  List<Revision> rr=vcs.getRevisionsFor("file");
  assertEquals(1,rr.size());
  assertEquals("command",rr.get(0).getCauseChangeName());
}
