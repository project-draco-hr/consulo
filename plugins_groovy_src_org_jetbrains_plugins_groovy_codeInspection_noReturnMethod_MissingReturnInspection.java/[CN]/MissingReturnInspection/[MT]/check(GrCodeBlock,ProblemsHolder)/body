{
  GrStatement[] statements=block.getStatements();
  if (statements.length > 0 && !(statements[statements.length - 1] instanceof GrExpression)) {
    if (hasValueReturns(block)) {
      Instruction[] flow=block.getControlFlow();
      if (!ControlFlowUtil.alwaysReturns(flow)) {
        final PsiElement lastChild=block.getLastChild();
        if (lastChild == null)         return;
        TextRange range=lastChild.getTextRange();
        if (!lastChild.isValid() || !lastChild.isPhysical() || range.getStartOffset() >= range.getEndOffset()) {
          return;
        }
        holder.registerProblem(lastChild,GroovyInspectionBundle.message("no.return.message"));
      }
    }
  }
}
