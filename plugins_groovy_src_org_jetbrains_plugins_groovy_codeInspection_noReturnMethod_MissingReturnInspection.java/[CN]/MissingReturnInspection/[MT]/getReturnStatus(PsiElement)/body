{
  if (subject instanceof GrClosableBlock) {
    final PsiType inferredReturnType=GroovyExpectedTypesProvider.getExpectedClosureReturnType((GrClosableBlock)subject);
    if (inferredReturnType instanceof PsiClassType) {
      PsiClass resolved=((PsiClassType)inferredReturnType).resolve();
      if (resolved != null && !(resolved instanceof PsiTypeParameter))       return mustReturnValue;
    }
    return inferredReturnType != null && inferredReturnType != PsiType.VOID ? shouldReturnValue : shouldNotReturnValue;
  }
 else   if (subject instanceof GrMethod) {
    return ((GrMethod)subject).getReturnTypeElementGroovy() != null && ((GrMethod)subject).getReturnType() != PsiType.VOID ? mustReturnValue : shouldNotReturnValue;
  }
  return shouldNotReturnValue;
}
