{
  if (context == null) {
    return;
  }
  final AndroidFacet facet=AndroidFacet.getInstance(module);
  if (facet == null) {
    return;
  }
  ApplicationManager.getApplication().invokeAndWait(new Runnable(){
    @Override public void run(){
      if (facet.getModule().isDisposed() || facet.getModule().getProject().isDisposed()) {
        return;
      }
      AndroidCompileUtil.createGenModulesAndSourceRoots(facet);
    }
  }
,ModalityState.defaultModalityState());
  AndroidAutogenerator.run(mode,facet,context);
}
