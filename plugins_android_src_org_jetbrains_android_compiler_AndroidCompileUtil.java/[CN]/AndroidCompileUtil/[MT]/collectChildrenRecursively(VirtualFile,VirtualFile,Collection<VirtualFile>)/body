{
  if (Comparing.equal(root,anchor)) {
    return;
  }
  VirtualFile parent=anchor.getParent();
  if (parent == null) {
    return;
  }
  for (  VirtualFile child : parent.getChildren()) {
    if (!Comparing.equal(child,anchor)) {
      result.add(child);
    }
  }
  if (!Comparing.equal(parent,root)) {
    collectChildrenRecursively(root,parent,result);
  }
}
