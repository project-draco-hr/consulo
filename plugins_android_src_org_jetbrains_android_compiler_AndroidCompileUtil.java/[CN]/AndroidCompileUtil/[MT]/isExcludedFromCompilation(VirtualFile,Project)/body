{
  final CompilerManager compilerManager=project != null ? CompilerManager.getInstance(project) : null;
  if (compilerManager == null) {
    return false;
  }
  if (!compilerManager.isExcludedFromCompilation(child)) {
    return false;
  }
  final Module module=ModuleUtil.findModuleForFile(child,project);
  if (module == null) {
    return true;
  }
  final AndroidFacet facet=AndroidFacet.getInstance(module);
  if (facet == null || !facet.getConfiguration().LIBRARY_PROJECT) {
    return true;
  }
  final AndroidPlatform platform=facet.getConfiguration().getAndroidPlatform();
  if (platform == null) {
    return true;
  }
  return platform.getSdkData().getPlatformToolsRevision() > 7;
}
