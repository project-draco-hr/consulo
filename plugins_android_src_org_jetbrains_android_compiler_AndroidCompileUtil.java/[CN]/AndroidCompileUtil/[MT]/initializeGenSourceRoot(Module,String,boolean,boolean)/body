{
  if (sourceRootPath == null) {
    return;
  }
  VirtualFile sourceRoot=null;
  if (createIfNotExist) {
    final VirtualFile root=createSourceRootIfNotExist(sourceRootPath,module);
    if (root != null) {
      sourceRoot=root;
    }
  }
  if (sourceRoot == null) {
    sourceRoot=LocalFileSystem.getInstance().findFileByPath(sourceRootPath);
  }
  if (sourceRoot != null && exclude) {
    excludeFromCompilation(module.getProject(),sourceRoot);
  }
}
