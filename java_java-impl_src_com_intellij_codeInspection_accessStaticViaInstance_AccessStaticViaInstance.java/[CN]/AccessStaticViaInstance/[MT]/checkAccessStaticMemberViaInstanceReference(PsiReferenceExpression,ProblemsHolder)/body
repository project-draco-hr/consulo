{
  JavaResolveResult result=expr.advancedResolve(false);
  PsiElement resolved=result.getElement();
  if (!(resolved instanceof PsiMember))   return;
  PsiExpression qualifierExpression=expr.getQualifierExpression();
  if (qualifierExpression == null)   return;
  if (qualifierExpression instanceof PsiReferenceExpression) {
    final PsiElement qualifierResolved=((PsiReferenceExpression)qualifierExpression).resolve();
    if (qualifierResolved instanceof PsiClass || qualifierResolved instanceof PsiPackage) {
      return;
    }
  }
  if (!((PsiMember)resolved).hasModifierProperty(PsiModifier.STATIC))   return;
  String description=JavaErrorMessages.message("static.member.accessed.via.instance.reference",HighlightUtil.formatType(qualifierExpression.getType()),HighlightMessageUtil.getSymbolName(resolved,result.getSubstitutor()));
  holder.registerProblem(expr,description,new AccessStaticViaInstanceFix(expr,result));
}
