{
  final ScratchFileService service=ScratchFileService.getInstance();
  return new GlobalSearchScope(){
    @NotNull @Override public String getDisplayName(){
      return "Scratches and Consoles";
    }
    @Override public boolean contains(    @NotNull VirtualFile file){
      RootType rootType=file.getFileType() == ScratchFileType.INSTANCE ? service.getRootType(file) : null;
      return rootType != null && !rootType.isHidden();
    }
    @Override public boolean isSearchOutsideRootModel(){
      return true;
    }
    @Override public int compare(    @NotNull VirtualFile file1,    @NotNull VirtualFile file2){
      return 0;
    }
    @Override public boolean isSearchInModuleContent(    @NotNull Module aModule){
      return false;
    }
    @Override public boolean isSearchInLibraries(){
      return false;
    }
    @NotNull @Override public GlobalSearchScope intersectWith(    @NotNull GlobalSearchScope scope){
      if (scope instanceof ProjectAndLibrariesScope)       return this;
      return super.intersectWith(scope);
    }
    @Override public String toString(){
      return getDisplayName();
    }
  }
;
}
