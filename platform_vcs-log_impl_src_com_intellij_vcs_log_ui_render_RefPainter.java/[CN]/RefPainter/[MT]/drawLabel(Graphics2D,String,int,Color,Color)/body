{
  setupGraphics(g2);
  FontMetrics metrics=g2.getFontMetrics();
  int x=paddingX + REF_PADDING / 2 - RECTANGLE_X_PADDING;
  int y=RECTANGLE_Y_PADDING;
  int width=metrics.stringWidth(label) + 2 * RECTANGLE_X_PADDING + flagWidth();
  int height=HEIGHT_CELL - 2 * RECTANGLE_Y_PADDING;
  RoundRectangle2D rectangle2D=new RoundRectangle2D.Double(x,y,width,height,ROUND_RADIUS,ROUND_RADIUS);
  g2.setColor(bgColor);
  g2.fill(rectangle2D);
  g2.setColor(myColorManager.getReferenceBorderColor());
  g2.draw(rectangle2D);
  g2.setColor(JBColor.BLACK);
  drawText(g2,label,paddingX + flagWidth());
  if (myColorManager.isMultipleRoots() && myDrawMultiRepoIndicator) {
    drawRootIndicator(g2,paddingX,y,height,rootIndicatorColor);
  }
  return new Rectangle(x,y,width,height);
}
