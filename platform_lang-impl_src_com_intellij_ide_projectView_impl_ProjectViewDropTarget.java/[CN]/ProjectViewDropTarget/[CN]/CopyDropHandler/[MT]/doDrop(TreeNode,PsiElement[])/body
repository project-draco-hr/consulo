{
  final PsiElement targetElement=getPsiElement(targetNode);
  final PsiDirectory psiDirectory;
  if (targetElement instanceof PsiDirectoryContainer) {
    final PsiDirectoryContainer directoryContainer=(PsiDirectoryContainer)targetElement;
    final PsiDirectory[] psiDirectories=directoryContainer.getDirectories();
    psiDirectory=psiDirectories.length != 0 ? psiDirectories[0] : null;
  }
 else {
    psiDirectory=(PsiDirectory)targetElement;
  }
  CopyHandler.doCopy(sourceElements,psiDirectory);
}
