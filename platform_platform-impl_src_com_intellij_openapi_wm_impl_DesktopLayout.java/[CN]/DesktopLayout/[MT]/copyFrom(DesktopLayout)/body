{
  final WindowInfoImpl[] infos=layout.getAllInfos();
  for (  WindowInfoImpl info1 : infos) {
    WindowInfoImpl info=myRegisteredId2Info.get(info1.getId());
    if (info != null) {
      info.copyFrom(info1);
      continue;
    }
    info=myUnregisteredId2Info.get(info1.getId());
    if (info != null) {
      info.copyFrom(info1);
    }
 else {
      myUnregisteredId2Info.put(info1.getId(),info1.copy());
    }
  }
  myRegisteredInfos=null;
  myUnregisteredInfos=null;
  myAllInfos=null;
  normalizeOrder(getAllInfos(ToolWindowAnchor.TOP));
  normalizeOrder(getAllInfos(ToolWindowAnchor.LEFT));
  normalizeOrder(getAllInfos(ToolWindowAnchor.BOTTOM));
  normalizeOrder(getAllInfos(ToolWindowAnchor.RIGHT));
}
