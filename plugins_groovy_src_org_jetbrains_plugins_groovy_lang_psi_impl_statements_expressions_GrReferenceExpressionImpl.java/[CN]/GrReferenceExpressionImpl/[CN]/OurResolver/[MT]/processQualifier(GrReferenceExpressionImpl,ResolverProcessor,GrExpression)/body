{
  PsiType qualifierType=qualifier.getType();
  if (qualifierType == null) {
    if (qualifier instanceof GrReferenceExpression) {
      PsiElement resolved=((GrReferenceExpression)qualifier).resolve();
      if (resolved instanceof PsiPackage) {
        if (!resolved.processDeclarations(processor,PsiSubstitutor.EMPTY,null,refExpr))         return;
      }
 else {
        GspResolveUtil.collectContextSpecificVariants(processor,refExpr);
      }
    }
  }
 else {
    if (qualifierType instanceof PsiIntersectionType) {
      for (      PsiType conjunct : ((PsiIntersectionType)qualifierType).getConjuncts()) {
        processClassQualifierType(refExpr,processor,conjunct);
      }
    }
 else {
      processClassQualifierType(refExpr,processor,qualifierType);
      if (qualifier instanceof GrReferenceExpression) {
        PsiElement resolved=((GrReferenceExpression)qualifier).resolve();
        if (resolved instanceof PsiClass) {
          PsiClass javaLangClass=PsiUtil.getJavaLangObject(resolved,refExpr.getResolveScope());
          if (javaLangClass != null) {
            javaLangClass.processDeclarations(processor,PsiSubstitutor.EMPTY,null,refExpr);
          }
        }
      }
    }
  }
}
