{
  String name=refExpr.getReferenceName();
  if (name == null)   return GroovyResolveResult.EMPTY_ARRAY;
  Kind kind=refExpr.getKind();
  if (incompleteCode) {
    ResolverProcessor processor=CompletionProcessor.createRefSameNameProcessor(refExpr,name);
    refExpr.resolveImpl(processor);
    GroovyResolveResult[] propertyCandidates=processor.getCandidates();
    if (propertyCandidates.length > 0)     return propertyCandidates;
  }
switch (kind) {
case METHOD_OR_PROPERTY:
    return resolveMethodOrProperty(refExpr,name);
case TYPE_OR_PROPERTY:
  return resolveTypeOrProperty(refExpr,name);
default :
return GroovyResolveResult.EMPTY_ARRAY;
}
}
