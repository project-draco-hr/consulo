{
  String name=refExpr.getReferenceName();
  if (name == null)   return null;
  ResolverProcessor processor=getMethodOrPropertyResolveProcessor(refExpr,name,incompleteCode);
  resolveImpl(refExpr,processor);
  GroovyResolveResult[] propertyCandidates=processor.getCandidates();
  if (propertyCandidates.length > 0)   return propertyCandidates;
  if (refExpr.getKind() == Kind.TYPE_OR_PROPERTY) {
    EnumSet<ClassHint.ResolveKind> kinds=refExpr.getParent() instanceof GrReferenceExpression ? EnumSet.of(ClassHint.ResolveKind.CLASS,ClassHint.ResolveKind.PACKAGE) : EnumSet.of(ClassHint.ResolveKind.CLASS);
    ResolverProcessor classProcessor=new ClassResolverProcessor(refExpr.getReferenceName(),refExpr,kinds);
    resolveImpl(refExpr,classProcessor);
    return classProcessor.getCandidates();
  }
  return GroovyResolveResult.EMPTY_ARRAY;
}
