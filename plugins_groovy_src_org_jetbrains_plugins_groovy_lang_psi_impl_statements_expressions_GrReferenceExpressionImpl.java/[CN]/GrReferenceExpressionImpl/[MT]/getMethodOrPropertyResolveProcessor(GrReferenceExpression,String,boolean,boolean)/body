{
  Kind kind=((GrReferenceExpressionImpl)refExpr).getKind();
  ResolverProcessor processor;
  if (kind == Kind.METHOD_OR_PROPERTY) {
    final PsiType[] argTypes=checkArguments ? PsiUtil.getArgumentTypes(refExpr,false,false) : null;
    PsiType thisType=getThisType(refExpr);
    processor=new MethodResolverProcessor(name,refExpr,forCompletion,false,thisType,argTypes,refExpr.getTypeArguments());
  }
 else {
    processor=new PropertyResolverProcessor(name,refExpr,forCompletion);
  }
  return processor;
}
