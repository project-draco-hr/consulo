{
  Kind kind=((GrReferenceExpressionImpl)refExpr).getKind();
  ResolverProcessor processor;
  if (kind == Kind.METHOD_OR_PROPERTY) {
    final PsiType[] argTypes=checkArguments ? PsiUtil.getArgumentTypes(refExpr,false) : null;
    processor=new MethodResolverProcessor(name,refExpr,forCompletion,false,argTypes);
  }
 else {
    processor=new PropertyResolverProcessor(name,EnumSet.of(ResolveKind.METHOD,ResolveKind.PROPERTY),refExpr,forCompletion);
  }
  return processor;
}
