{
  PsiType qualifierType=qualifier.getType();
  if (qualifierType instanceof PsiClassType) {
    PsiClassType.ClassResolveResult result=((PsiClassType)qualifierType).resolveGenerics();
    PsiClass clazz=result.getElement();
    if (clazz != null) {
      PsiClass collection=JavaPsiFacade.getInstance(getManager().getProject()).findClass(CommonClassNames.JAVA_UTIL_COLLECTION,getResolveScope());
      if (collection != null && collection.getTypeParameters().length == 1) {
        PsiSubstitutor substitutor=TypeConversionUtil.getClassSubstitutor(collection,clazz,result.getSubstitutor());
        if (substitutor != null) {
          PsiType componentType=substitutor.substitute(collection.getTypeParameters()[0]);
          if (componentType != null) {
            return processClassQualifierType(processor,componentType,qualifier);
          }
        }
      }
    }
  }
 else   if (qualifierType instanceof PsiArrayType) {
    return processClassQualifierType(processor,((PsiArrayType)qualifierType).getComponentType(),qualifier);
  }
  return true;
}
