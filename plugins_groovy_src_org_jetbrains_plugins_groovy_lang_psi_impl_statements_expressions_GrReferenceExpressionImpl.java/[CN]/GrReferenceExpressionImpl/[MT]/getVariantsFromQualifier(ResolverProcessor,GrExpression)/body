{
  PsiType qualifierType=qualifier.getType();
  if (qualifierType == null) {
    if (qualifier instanceof GrReferenceExpression) {
      PsiElement resolved=((GrReferenceExpression)qualifier).resolve();
      if (resolved instanceof PsiPackage) {
        resolved.processDeclarations(processor,PsiSubstitutor.EMPTY,null,this);
      }
    }
  }
 else {
    Project project=qualifier.getProject();
    if (qualifierType instanceof PsiIntersectionType) {
      for (      PsiType conjunct : ((PsiIntersectionType)qualifierType).getConjuncts()) {
        getVaiantsFromQualifierType(processor,conjunct,project);
      }
    }
 else {
      getVaiantsFromQualifierType(processor,qualifierType,project);
    }
  }
}
