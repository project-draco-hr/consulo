{
  PsiElement nameElement=getReferenceNameElement();
  if (nameElement == null)   throw new IncorrectOperationException("ref has no name element");
  ASTNode node=nameElement.getNode();
  ASTNode newNameNode=GroovyPsiElementFactory.getInstance(getProject()).createReferenceNameFromText(name).getNode();
  LOG.assertTrue(newNameNode != null && node != null);
  node.getTreeParent().replaceChild(node,newNameNode);
  return this;
}
