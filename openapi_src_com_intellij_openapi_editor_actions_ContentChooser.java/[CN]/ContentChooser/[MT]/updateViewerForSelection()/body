{
  if (myAllContents.size() == 0)   return;
  String fullString=getStringRepresentationFor(myAllContents.get(getSelectedIndex()));
  fullString=StringUtil.convertLineSeparators(fullString);
  if (myViewer != null) {
    EditorFactory.getInstance().releaseEditor(myViewer);
  }
  if (myUseIdeaEditor) {
    Document doc=EditorFactory.getInstance().createDocument(fullString);
    myViewer=EditorFactory.getInstance().createViewer(doc,myProject);
    myViewer.getComponent().setPreferredSize(new Dimension(300,500));
    myViewer.getSettings().setFoldingOutlineShown(false);
    myViewer.getSettings().setLineNumbersShown(false);
    myViewer.getSettings().setLineMarkerAreaShown(false);
    mySplitter.setSecondComponent(myViewer.getComponent());
  }
 else {
    myTextArea=new JTextArea(fullString);
    myTextArea.setRows(3);
    myTextArea.setWrapStyleWord(true);
    myTextArea.setLineWrap(true);
    myTextArea.setSelectionStart(0);
    myTextArea.setSelectionEnd(myTextArea.getText().length());
    myTextArea.setEditable(false);
    mySplitter.setSecondComponent(new JScrollPane(myTextArea));
  }
  mySplitter.revalidate();
}
