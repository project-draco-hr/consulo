{
  visited.push(id);
  try {
    final String[] parentIds=idToDescriptorMap.get(id).getDependentPluginIds();
    for (int idx=0; idx < parentIds.length; idx++) {
      final String parentId=parentIds[idx];
      if (visited.contains(parentId)) {
        throw new Exception("Plugins should not have cyclic dependencies:\n" + id + "->"+ parentId+ "->...->"+ id);
      }
    }
    for (int idx=0; idx < parentIds.length; idx++) {
      assignNumbers(parentIds[idx],idToDescriptorMap,visited);
    }
    if (!myIdToNumberMap.contains(id)) {
      myIdToNumberMap.put(id,myAvailableNumber++);
    }
  }
  finally {
    visited.pop();
  }
}
