{
  final JComponent component=getComponent();
  if (component == null)   return;
  if (ApplicationManager.getApplication().isHeadlessEnvironment())   return;
  final BalloonBuilder balloonBuilder=JBPopupFactory.getInstance().createBalloonBuilder(component);
  balloonBuilder.setFadeoutTime(0).setFillColor(UIManager.getColor("Panel.background")).setAnimationCycle(100).setHideOnClickOutside(false).setHideOnKeyOutside(false).setHideOnAction(false).setCloseButtonEnabled(true);
  final RelativePoint target=JBPopupFactory.getInstance().guessBestPopupLocation(myEditor);
  final Point screenPoint=target.getScreenPoint();
  myBalloon=balloonBuilder.createBalloon();
  int y=screenPoint.y;
  if (target.getPoint().getY() > myEditor.getLineHeight() + myBalloon.getPreferredSize().getHeight()) {
    y-=myEditor.getLineHeight();
  }
  myBalloon.show(new RelativePoint(new Point(screenPoint.x,y)),Balloon.Position.above);
}
