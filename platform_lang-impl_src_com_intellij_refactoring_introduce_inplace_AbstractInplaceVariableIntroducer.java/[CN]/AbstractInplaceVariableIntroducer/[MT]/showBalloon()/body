{
  final JComponent component=getComponent();
  if (component == null)   return;
  if (ApplicationManager.getApplication().isHeadlessEnvironment())   return;
  final BalloonBuilder balloonBuilder=JBPopupFactory.getInstance().createDialogBalloonBuilder(component,null);
  final RelativePoint target=JBPopupFactory.getInstance().guessBestPopupLocation(myEditor);
  final Point screenPoint=target.getScreenPoint();
  myBalloon=balloonBuilder.createBalloon();
  int y=screenPoint.y;
  if (target.getPoint().getY() > myEditor.getLineHeight() + myBalloon.getPreferredSize().getHeight()) {
    y-=myEditor.getLineHeight();
  }
  myTarget=new RelativePoint(new Point(screenPoint.x,y));
  myBalloon.show(myTarget,Balloon.Position.above);
}
