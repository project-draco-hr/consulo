{
  super.update(event);
  Presentation presentation=event.getPresentation();
  PsiElement psiElement=(PsiElement)event.getDataContext().getData(DataConstants.PSI_FILE);
  boolean flag=psiElement instanceof XmlFile;
  presentation.setVisible(flag);
  boolean value=psiElement instanceof XmlFile;
  if (value) {
    final PsiFile containingFile=psiElement.getContainingFile();
    if (containingFile != null && (containingFile.getFileType() == StdFileTypes.XML || containingFile.getFileType() == StdFileTypes.XHTML)) {
      value=true;
    }
 else {
      value=false;
    }
  }
  presentation.setEnabled(value);
}
