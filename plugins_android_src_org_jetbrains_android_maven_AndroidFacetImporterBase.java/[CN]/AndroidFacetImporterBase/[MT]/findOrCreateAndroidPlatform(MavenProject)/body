{
  String sdkPath=System.getenv(AndroidSdkUtils.ANDROID_HOME_ENV);
  LOG.info("android home: " + sdkPath);
  if (sdkPath != null) {
    final Sdk sdk=findOrCreateAndroidPlatform(project,sdkPath);
    if (sdk != null) {
      return sdk;
    }
  }
  final Collection<String> candidates=AndroidSdkUtils.getAndroidSdkPathsFromExistingPlatforms();
  LOG.info("suggested sdks: " + candidates);
  for (  String candidate : candidates) {
    final Sdk sdk=findOrCreateAndroidPlatform(project,candidate);
    if (sdk != null) {
      return sdk;
    }
  }
  return null;
}
