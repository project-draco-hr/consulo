{
  if (sdkPath != null) {
    if (apiLevel == null) {
      return null;
    }
    AndroidSdkData sdkData=AndroidSdkData.parse(sdkPath,new EmptySdkLog());
    if (sdkData != null) {
      IAndroidTarget target=sdkData.findTargetByApiLevel(apiLevel);
      if (target != null) {
        Sdk library=AndroidSdkUtils.findAppropriateAndroidPlatform(target,sdkData);
        if (library == null) {
          library=AndroidSdkUtils.createNewAndroidPlatform(target,sdkPath,true);
        }
        return library;
      }
    }
  }
  return null;
}
