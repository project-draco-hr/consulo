{
  final File depArtifacetFile=new File(FileUtil.getNameWithoutExtension(artifact.getPath()) + ".pom");
  if (!depArtifacetFile.exists()) {
    reportError("Cannot find file " + depArtifacetFile.getPath(),moduleName);
    return;
  }
  final VirtualFile vDepArtifactFile=LocalFileSystem.getInstance().refreshAndFindFileByIoFile(depArtifacetFile);
  if (vDepArtifactFile == null) {
    reportError("Cannot find file " + depArtifacetFile.getPath() + " in VFS",moduleName);
    return;
  }
  final MavenProject projectForExternalApklib=new MavenProject(vDepArtifactFile);
  final MavenGeneralSettings generalSettings=mavenProjectsManager.getGeneralSettings();
  final MavenProjectReader mavenProjectReader=new MavenProjectReader();
  final MavenProjectReaderProjectLocator locator=new MavenProjectReaderProjectLocator(){
    @Nullable @Override public VirtualFile findProjectFile(    MavenId coordinates){
      return null;
    }
  }
;
  projectForExternalApklib.read(generalSettings,mavenProjectsManager.getAvailableProfiles(),mavenProjectReader,locator);
  projectForExternalApklib.resolve(project,generalSettings,embedder,mavenProjectReader,locator);
  final String apiLevel=getPlatformFromConfig(projectForExternalApklib);
  final String sdkPath=getSdkPathFromConfig(projectForExternalApklib);
  final List<AndroidExternalApklibDependenciesManager.MavenDependencyInfo> dependencies=new ArrayList<AndroidExternalApklibDependenciesManager.MavenDependencyInfo>();
  for (  MavenArtifact depArtifact : projectForExternalApklib.getDependencies()) {
    final String depArtifactLibraryName=depArtifact.getLibraryName();
    dependencies.add(new AndroidExternalApklibDependenciesManager.MavenDependencyInfo(depArtifact.getMavenId(),depArtifact.getType(),depArtifact.getScope(),depArtifactLibraryName));
  }
  final AndroidExternalApklibDependenciesManager apklibDependenciesManager=AndroidExternalApklibDependenciesManager.getInstance(project);
  final AndroidExternalApklibDependenciesManager.MyResolvedInfo info=new AndroidExternalApklibDependenciesManager.MyResolvedInfo(apiLevel != null ? apiLevel : "",sdkPath != null ? sdkPath : "",dependencies);
  apklibDependenciesManager.setSdkInfoForArtifact(artifact.getMavenId(),info);
}
