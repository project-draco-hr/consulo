{
  final Sdk currentSdk=model.getSdk();
  if (currentSdk == null || !isAppropriateSdk(currentSdk,project)) {
    final String apiLevel=getPlatformFromConfig(project);
    final String predefinedSdkPath=getSdkPathFromConfig(project);
    final Sdk platformLib=findOrCreateAndroidPlatform(apiLevel,predefinedSdkPath);
    if (platformLib != null) {
      model.setSdk(platformLib);
    }
 else {
      reportCannotFindAndroidPlatformError(model.getModule().getName(),apiLevel);
    }
  }
  moveJdkOrderEntryDown(model);
}
