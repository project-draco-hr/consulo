{
synchronized (myTree.treeLock) {
    ObjectNode<T>[] children=myChildren;
    if (children == null) {
      children=new ObjectNode[]{child};
    }
 else {
      int capacity=children.length;
      if (myChildrenSize >= capacity) {
        int newSize;
        if (capacity < 10) {
          newSize=capacity + 1;
        }
 else {
          newSize=capacity * 3 / 2;
        }
        children=ArrayUtil.realloc(children,newSize,OBJECT_NODE_ARRAY_FACTORY);
      }
      children[myChildrenSize]=child;
    }
    myChildren=children;
    myChildrenSize++;
    child.myParent=this;
  }
}
