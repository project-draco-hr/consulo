{
  if (description == null)   return null;
  if (myChange.getBeforeRevision() != null) {
    myCommittedRevision=SvnHistorySession.getCurrentCommittedRevision(myVcs,myPath.getIOFile());
  }
  boolean differentURLs=description.getSourceLeftVersion() != null && description.getSourceRightVersion() != null && !Comparing.equal(description.getSourceLeftVersion().getPath(),description.getSourceRightVersion().getPath());
  ConflictSidePresentation leftSide=null;
  ConflictSidePresentation rightSide=null;
  try {
    if (differentURLs) {
      leftSide=createSide(description.getSourceLeftVersion(),null,true);
      rightSide=createSide(description.getSourceRightVersion(),null,false);
      leftSide.load();
      rightSide.load();
    }
 else {
      leftSide=EmptyConflictSide.getInstance();
      final SVNRevision pegFromLeft=description.getSourceLeftVersion() == null ? null : SVNRevision.create(description.getSourceLeftVersion().getPegRevision());
      rightSide=createSide(description.getSourceRightVersion(),pegFromLeft,false);
      rightSide.load();
      return new BeforeAfter<ConflictSidePresentation>(leftSide,rightSide);
    }
  }
 catch (  SVNException e) {
    throw new VcsException(e);
  }
 finally {
    if (leftSide != null) {
      myChildDisposables.add(leftSide);
    }
    if (rightSide != null) {
      myChildDisposables.add(rightSide);
    }
  }
  return new BeforeAfter<ConflictSidePresentation>(leftSide,rightSide);
}
