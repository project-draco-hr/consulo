{
  super(vcs.getProject(),version);
  myVcs=vcs;
  myPeg=peg;
  try {
    myPath=FilePathImpl.createNonLocal(version.getRepositoryRoot().appendPath(FileUtil.toSystemIndependentName(version.getPath()),true).toString(),SVNNodeKind.DIR.equals(version.getKind()));
  }
 catch (  SVNException e) {
    throw new VcsException(e);
  }
  mySessionAdapter=new VcsAppendableHistoryPartnerAdapter();
  mySessionAdapter.reportCreatedEmptySession(new SvnHistorySession(myVcs,Collections.<VcsFileRevision>emptyList(),myPath,SvnUtil.checkRepositoryVersion15(myVcs,version.getPath()),null,true));
  myProvider=(SvnHistoryProvider)myVcs.getVcsHistoryProvider();
}
