{
  VcsAbstractHistorySession session=mySessionAdapter.getSession();
  if (session == null)   return EmptyConflictSide.getInstance().createPanel();
  List<VcsFileRevision> list=session.getRevisionList();
  if (list.isEmpty()) {
    return EmptyConflictSide.getInstance().createPanel();
  }
  Collections.reverse(list);
  VcsFileRevision last=null;
  if (!list.isEmpty() && myPeg == null && list.size() == LIMIT || (myPeg != null && myPeg.getNumber() > 0 && myPeg.equals(((SvnRevisionNumber)list.get(list.size() - 1).getRevisionNumber()).getRevision()))) {
    last=list.remove(list.size() - 1);
  }
  myFileHistoryPanel=new FileHistoryPanelImpl(myVcs,myPath,session,myProvider,null,new FileHistoryRefresherI(){
    @Override public void run(    boolean isRefresh){
    }
    @Override public boolean isFirstTime(){
      return false;
    }
  }
,true);
  myFileHistoryPanel.setBottomRevisionForShowDiff(last);
  myFileHistoryPanel.setBorder(BorderFactory.createLineBorder(UIUtil.getBorderColor()));
  return myFileHistoryPanel;
}
