{
  if (myCurrentTest == test) {
    return;
  }
  if (myCurrentTest != null) {
    myCurrentTest.setPrinter(null);
  }
  myMarkOffset=0;
  final Runnable clearRunnable=new Runnable(){
    public void run(){
      myConsole.clear();
    }
  }
;
  if (test == null) {
    myCurrentTest=null;
    CompositePrintable.invokeInAlarm(clearRunnable);
    return;
  }
  myCurrentTest=test;
  myCurrentTest.setPrinter(this);
  final Runnable scrollRunnable=new Runnable(){
    @Override public void run(){
      scrollToBeginning();
    }
  }
;
  final AbstractTestProxy currentProxyOrRoot=getCurrentProxyOrRoot();
  CompositePrintable.invokeInAlarm(clearRunnable);
  currentProxyOrRoot.printOn(this);
  CompositePrintable.invokeInAlarm(scrollRunnable);
}
