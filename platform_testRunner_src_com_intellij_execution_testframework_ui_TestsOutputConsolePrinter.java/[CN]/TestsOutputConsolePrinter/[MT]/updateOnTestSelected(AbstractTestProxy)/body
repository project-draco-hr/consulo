{
  if (myCurrentTest == test) {
    return;
  }
  if (myCurrentTest != null) {
    myCurrentTest.setPrinter(null);
  }
  myMarkOffset=0;
  if (test == null) {
    myCurrentTest=null;
    return;
  }
  myCurrentTest=test;
  myCurrentTest.setPrinter(this);
  final Runnable clearRunnable=new Runnable(){
    public void run(){
      myConsole.clear();
    }
  }
;
  final Runnable scrollRunnable=new Runnable(){
    @Override public void run(){
      scrollToBeginning();
    }
  }
;
  if (isRoot() && myUnboundOutputRoot != null) {
    myUnboundOutputRoot.invokeInAlarm(clearRunnable);
    myUnboundOutputRoot.printOn(this);
    myUnboundOutputRoot.invokeInAlarm(scrollRunnable);
  }
 else {
    myCurrentTest.invokeInAlarm(clearRunnable);
    myCurrentTest.printOn(this);
    myCurrentTest.invokeInAlarm(scrollRunnable);
  }
}
