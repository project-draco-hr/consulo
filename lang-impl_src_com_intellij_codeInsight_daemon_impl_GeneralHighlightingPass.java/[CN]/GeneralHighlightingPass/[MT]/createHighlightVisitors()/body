{
  int oldCount=incVisitorUsageCount(1);
  HighlightVisitor[] highlightVisitors=Extensions.getExtensions(HighlightVisitor.EP_HIGHLIGHT_VISITOR,myProject);
  Arrays.sort(highlightVisitors,new Comparator<HighlightVisitor>(){
    public int compare(    final HighlightVisitor o1,    final HighlightVisitor o2){
      return o1.order() - o2.order();
    }
  }
);
  if (oldCount != 0) {
    highlightVisitors=highlightVisitors.clone();
    for (int i=0; i < highlightVisitors.length; i++) {
      HighlightVisitor highlightVisitor=highlightVisitors[i];
      highlightVisitors[i]=highlightVisitor.clone();
    }
  }
  return highlightVisitors;
}
