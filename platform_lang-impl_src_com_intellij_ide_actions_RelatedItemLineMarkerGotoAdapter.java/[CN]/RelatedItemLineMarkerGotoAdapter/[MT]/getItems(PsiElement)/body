{
  List<PsiElement> parents=new ArrayList<PsiElement>();
  PsiElement current=context;
  while (current != null) {
    parents.add(current);
    if (current instanceof PsiFile)     break;
    current=current.getParent();
  }
  List<LineMarkerProvider> providers=LineMarkersPass.getMarkerProviders(context.getLanguage(),context.getProject());
  List<GotoRelatedItem> items=new ArrayList<GotoRelatedItem>();
  for (  LineMarkerProvider provider : providers) {
    if (provider instanceof RelatedItemLineMarkerProvider) {
      List<RelatedItemLineMarkerInfo> markers=new ArrayList<RelatedItemLineMarkerInfo>();
      RelatedItemLineMarkerProvider relatedItemLineMarkerProvider=(RelatedItemLineMarkerProvider)provider;
      for (      PsiElement parent : parents) {
        ContainerUtil.addIfNotNull(relatedItemLineMarkerProvider.getLineMarkerInfo(parent),markers);
      }
      relatedItemLineMarkerProvider.collectNavigationMarkers(parents,markers);
      addItemsForMarkers(markers,items);
    }
  }
  return items;
}
