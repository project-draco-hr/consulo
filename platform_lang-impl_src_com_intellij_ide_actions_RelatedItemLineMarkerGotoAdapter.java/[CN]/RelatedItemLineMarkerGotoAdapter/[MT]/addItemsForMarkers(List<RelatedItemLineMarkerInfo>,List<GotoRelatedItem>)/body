{
  Set<PsiFile> addedFiles=new HashSet<PsiFile>();
  for (  RelatedItemLineMarkerInfo<?> marker : markers) {
    Collection<? extends GotoRelatedItem> items=marker.createGotoRelatedItems();
    for (    GotoRelatedItem item : items) {
      if (item instanceof PsiGotoRelatedItem) {
        NavigatablePsiElement element=((PsiGotoRelatedItem)item).getElement();
        if (element instanceof PsiFile) {
          PsiFile file=(PsiFile)element;
          if (addedFiles.contains(file)) {
            continue;
          }
        }
        ContainerUtil.addIfNotNull(element.getContainingFile(),addedFiles);
      }
      result.add(item);
    }
  }
}
