{
  for (  PaletteGroupHeader groupHeader : myGroupHeaders) {
    remove(groupHeader);
    remove(groupHeader.getComponentList());
  }
  myGroupHeaders.clear();
  myGroups.clear();
  for (  PaletteGroup group : collectCurrentGroups()) {
    PaletteGroupHeader groupHeader=new PaletteGroupHeader(group);
    myGroupHeaders.add(groupHeader);
    myGroups.add(group);
    add(groupHeader);
    PaletteComponentList componentList=new PaletteComponentList(group);
    add(componentList);
    groupHeader.setComponentList(componentList);
    componentList.addListSelectionListener(new MyListSelectionListener());
  }
  revalidate();
}
