{
  AnAction[] actions=group.getChildren(null);
  List<Button> buttons=new ArrayList<Button>();
  for (  AnAction action : actions) {
    if (action instanceof ActionGroup) {
      ActionGroup childGroup=(ActionGroup)action;
      if (childGroup.isPopup()) {
        final String id=String.valueOf(++nCards);
        createCardForGroup(childGroup,id,parentId);
        AnAction activateCard=new AnAction(){
          @Override public void actionPerformed(          AnActionEvent e){
            myLayout.swipe(myContent,id,JBCardLayout.SwipeDirection.FORWARD);
          }
        }
;
        buttons.add(new Button(activateCard,action.getTemplatePresentation()));
      }
 else {
        buttons.addAll(buildButtons(childGroup,parentId));
      }
    }
 else {
      buttons.add(new Button(action,action.getTemplatePresentation()));
    }
  }
  return buttons;
}
