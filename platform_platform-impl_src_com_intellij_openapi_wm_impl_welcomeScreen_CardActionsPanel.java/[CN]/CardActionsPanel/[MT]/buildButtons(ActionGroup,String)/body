{
  AnAction[] actions=group.getChildren(null);
  List<Button> buttons=new ArrayList<Button>();
  for (  AnAction action : actions) {
    Presentation presentation=action.getTemplatePresentation();
    if (action instanceof ActionGroup) {
      ActionGroup childGroup=(ActionGroup)action;
      if (childGroup.isPopup()) {
        final String id=String.valueOf(++nCards);
        createCardForGroup(childGroup,id,parentId);
        buttons.add(new Button(new ActivateCard(id),presentation));
      }
 else {
        buttons.addAll(buildButtons(childGroup,parentId));
      }
    }
 else {
      action.update(new AnActionEvent(null,DataManager.getInstance().getDataContext(this),ActionPlaces.WELCOME_SCREEN,presentation,ActionManager.getInstance(),0));
      if (presentation.isVisible()) {
        buttons.add(new Button(action,presentation));
      }
    }
  }
  return buttons;
}
