{
  Project project=e.getData(PlatformDataKeys.PROJECT);
  if (project == null)   return false;
  VirtualFile vFile=e.getData(PlatformDataKeys.VIRTUAL_FILE);
  if (vFile == null)   return false;
  AbstractVcs vcs=ProjectLevelVcsManager.getInstance(project).getVcsFor(vFile);
  if (vcs == null || vcs.getCommittedChangesProvider() == null || !vcs.allowsRemoteCalls(vFile)) {
    return false;
  }
  FilePath filePath=VcsContextFactory.SERVICE.getInstance().createFilePathOn(vFile);
  return AbstractVcs.fileInVcsByFileStatus(project,filePath);
}
