{
  LookupItem item=(LookupItem)value;
  JLabel label0=getLabel0(item);
  JLabel label1=getLabel1(item);
  JLabel label2=getLabel2(item);
  JLabel label3=getLabel3(item);
  Color background=isSelected ? SELECTED_BACKGROUND_COLOR : BACKGROUND_COLOR;
  Color foreground=isSelected ? SELECTED_FOREGROUND_COLOR : FOREGROUND_COLOR;
  Color sampleBackground=background;
  if (item.getObject() instanceof LookupValueWithUIHint) {
    Color proposedBackground=((LookupValueWithUIHint)item.getObject()).getColorHint();
    if (proposedBackground == null) {
      proposedBackground=BACKGROUND_COLOR;
    }
    sampleBackground=proposedBackground;
    label3.setText("  ");
  }
  if (item.getAttribute(LookupImpl.EMPTY_ITEM_ATTRIBUTE) != null) {
    foreground=EMPTY_ITEM_FOREGROUND_COLOR;
  }
  label0.setBackground(background);
  label1.setBackground(background);
  label2.setBackground(background);
  label3.setBackground(sampleBackground);
  label0.setForeground(isSelected ? SELECTED_PREFIX_FOREGROUND_COLOR : PREFIX_FOREGROUND_COLOR);
  label1.setForeground(foreground);
  label2.setForeground(foreground);
  label3.setForeground(foreground);
  boolean isSmall=item.getAttribute(LookupItem.TAIL_TEXT_SMALL_ATTR) != null;
  if (isSmall) {
    label2.setForeground(isSelected ? SELECTED_GRAYED_FOREGROUND_COLOR : GRAYED_FOREGROUND_COLOR);
  }
  return myPanel;
}
