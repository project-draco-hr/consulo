{
  MultiMap<CompletionSorterImpl,LookupElement> inputBySorter=new MultiMap<CompletionSorterImpl,LookupElement>(){
    @Override protected Map<CompletionSorterImpl,Collection<LookupElement>> createMap(){
      return ContainerUtil.newLinkedHashMap();
    }
  }
;
  for (  LookupElement element : source) {
    inputBySorter.putValue(obtainSorter(element),element);
  }
  return inputBySorter;
}
