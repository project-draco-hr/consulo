{
  ArrayList<LookupElement> startMatches=ContainerUtil.newArrayList();
  ArrayList<LookupElement> middleMatches=ContainerUtil.newArrayList();
  for (  LookupElement element : source) {
    (itemMatcher(element).isStartMatch(element) ? startMatches : middleMatches).add(element);
  }
  ContainerUtil.sort(startMatches,BY_PRESENTATION_COMPARATOR);
  ContainerUtil.sort(middleMatches,BY_PRESENTATION_COMPARATOR);
  startMatches.addAll(middleMatches);
  return startMatches;
}
