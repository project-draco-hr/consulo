{
  final LinkedHashMap<LookupElement,StringBuilder> map=new LinkedHashMap<LookupElement,StringBuilder>();
  for (  LookupElement item : myItems) {
    map.put(item,new StringBuilder());
  }
  final MultiMap<CompletionSorterImpl,LookupElement> inputBySorter=groupInputBySorter(new ArrayList<LookupElement>(map.keySet()));
  if (inputBySorter.size() > 1) {
    for (    LookupElement element : map.keySet()) {
      map.get(element).append(obtainSorter(element)).append(": ");
    }
  }
  for (  CompletionSorterImpl sorter : inputBySorter.keySet()) {
    final LinkedHashMap<LookupElement,StringBuilder> subMap=new LinkedHashMap<LookupElement,StringBuilder>();
    for (    LookupElement element : inputBySorter.get(sorter)) {
      subMap.put(element,map.get(element));
    }
    Classifier<LookupElement> classifier=myClassifiers.get(sorter);
    if (classifier != null) {
      classifier.describeItems(subMap,new ProcessingContext());
    }
  }
  return map;
}
