{
  super(project,editor.getDocument());
  myPassIdToShowIntentionsFor=passId;
  ApplicationManager.getApplication().assertIsDispatchThread();
  myEditor=editor;
  myIntentionActions=intentionActions;
  TextRange range=getVisibleRange(myEditor);
  myStartOffset=range.getStartOffset();
  myEndOffset=range.getEndOffset();
  myFile=PsiDocumentManager.getInstance(myProject).getPsiFile(myEditor.getDocument());
  LOG.assertTrue(myFile != null);
}
