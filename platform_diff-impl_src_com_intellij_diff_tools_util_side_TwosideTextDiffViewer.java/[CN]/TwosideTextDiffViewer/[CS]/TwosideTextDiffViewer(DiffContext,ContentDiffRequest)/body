{
  super(context,request,TextEditorHolder.TextEditorHolderFactory.INSTANCE);
  new MyFocusOppositePaneAction(true).install(myPanel);
  new MyFocusOppositePaneAction(false).install(myPanel);
  myEditorSettingsAction=new SetEditorSettingsAction(getTextSettings(),getEditors());
  myEditorSettingsAction.applyDefaults();
  new MyOpenInEditorWithMouseAction().install(getEditors());
  myEditableEditors=TextDiffViewerUtil.getEditableEditors(getEditors());
  TextDiffViewerUtil.checkDifferentDocuments(myRequest);
  boolean editable1=DiffUtil.canMakeWritable(getContent1().getDocument());
  boolean editable2=DiffUtil.canMakeWritable(getContent2().getDocument());
  if (editable1 ^ editable2) {
    ProxyUndoRedoAction.register(getProject(),editable1 ? getEditor1() : getEditor2(),myPanel);
  }
}
