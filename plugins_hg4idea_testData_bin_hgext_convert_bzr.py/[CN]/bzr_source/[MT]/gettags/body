def gettags(self):
    if (not self.branch.supports_tags()):
        return {}
    tagdict = self.branch.tags.get_tag_dict()
    bytetags = {}
    for (name, rev) in tagdict.iteritems():
        bytetags[self.recode(name)] = rev
    return bytetags
