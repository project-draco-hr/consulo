def before(self):
    "Before the conversion begins, acquire a read lock\n        for all the operations that might need it. Fortunately\n        read locks don't block other reads or writes to the\n        repository, so this shouldn't have any impact on the usage of\n        the source repository.\n\n        The alternative would be locking on every operation that\n        needs locks (there are currently two: getting the file and\n        getting the parent map) and releasing immediately after,\n        but this approach can take even 40% longer."
    self.sourcerepo.lock_read()
