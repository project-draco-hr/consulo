def getheads(self):
    if (not self.rev):
        return [self.branch.last_revision()]
    try:
        r = RevisionSpec.from_string(self.rev)
        info = r.in_history(self.branch)
    except errors.BzrError:
        raise util.Abort((_('%s is not a valid revision in current branch') % self.rev))
    return [info.rev_id]
