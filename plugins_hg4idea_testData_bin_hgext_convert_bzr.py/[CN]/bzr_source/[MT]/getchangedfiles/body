def getchangedfiles(self, rev, i):
    self._modecache = {}
    curtree = self.sourcerepo.revision_tree(rev)
    if (i is not None):
        parentid = self._parentids[rev][i]
    else:
        parentid = revision.NULL_REVISION
    prevtree = self.sourcerepo.revision_tree(parentid)
    changes = [e[0] for e in self._gettreechanges(curtree, prevtree)[0]]
    return changes
