def getcommit(self, version):
    rev = self.sourcerepo.get_revision(version)
    if (not rev.parent_ids):
        parents = []
        self._parentids[version] = (revision.NULL_REVISION,)
    else:
        parents = self._filterghosts(rev.parent_ids)
        self._parentids[version] = parents
    return commit(parents=parents, date=('%d %d' % (rev.timestamp, (- rev.timezone))), author=self.recode(rev.committer), desc=self.recode(rev.message), rev=version)
