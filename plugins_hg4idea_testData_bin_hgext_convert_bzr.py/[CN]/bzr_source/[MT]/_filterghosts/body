def _filterghosts(self, ids):
    'Filters out ghost revisions which hg does not support, see\n        <http://bazaar-vcs.org/GhostRevision>\n        '
    parentmap = self.sourcerepo.get_parent_map(ids)
    parents = tuple([parent for parent in ids if (parent in parentmap)])
    return parents
