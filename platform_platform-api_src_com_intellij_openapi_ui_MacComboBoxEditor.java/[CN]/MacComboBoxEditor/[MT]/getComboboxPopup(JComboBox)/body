{
  final ComboBoxUI ui=comboBox.getUI();
  ComboPopup popup=null;
  if (ui instanceof BasicComboBoxUI) {
    try {
      final Field popupField=BasicComboBoxUI.class.getDeclaredField("popup");
      popupField.setAccessible(true);
      popup=(ComboPopup)popupField.get(ui);
    }
 catch (    NoSuchFieldException e1) {
      popup=null;
    }
catch (    IllegalAccessException e1) {
      popup=null;
    }
  }
  return popup;
}
