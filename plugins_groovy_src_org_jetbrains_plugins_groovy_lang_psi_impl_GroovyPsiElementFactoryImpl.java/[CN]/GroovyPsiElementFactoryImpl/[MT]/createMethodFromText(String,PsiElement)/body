{
  GroovyFileImpl file=createDummyFile(methodText);
  if (context != null) {
    file.setContext(context);
  }
  GrTopLevelDefinition[] definitions=file.getTopLevelDefinitions();
  if (definitions.length != 1) {
    throw new IncorrectOperationException("Can't create method from text: '" + file.getText() + "'");
  }
  GrTopLevelDefinition definition=definitions[0];
  if (!(definition instanceof GrMethod)) {
    throw new IncorrectOperationException("Can't create method from text: '" + file.getText() + "'");
  }
  return ((GrMethod)definition);
}
