{
  StringBuilder fileText=new StringBuilder();
  fileText.append("def foo(");
  if (typeText != null) {
    fileText.append(typeText).append(" ");
  }
  fileText.append(name);
  if (initializer != null && initializer.length() > 0) {
    fileText.append(" = ").append(initializer);
  }
  fileText.append("){}");
  GroovyFileImpl groovyFile=createDummyFile(fileText.toString());
  groovyFile.setContext(context);
  ASTNode node=groovyFile.getFirstChild().getNode();
  if (node.getElementType() != GroovyElementTypes.METHOD_DEFINITION) {
    throw new IncorrectOperationException("Invalid all text");
  }
  return ((GrMethod)node.getPsi()).getParameters()[0];
}
