{
  String fileText;
  if (typeText != null) {
    fileText="def foo(" + typeText + " "+ name+ ") {}";
  }
 else {
    fileText="def foo(" + name + ") {}";
  }
  GroovyFileImpl groovyFile=createDummyFile(fileText);
  groovyFile.setContext(context);
  ASTNode node=groovyFile.getFirstChild().getNode();
  if (node.getElementType() != GroovyElementTypes.METHOD_DEFINITION)   throw new IncorrectOperationException("Invalid all text");
  return ((GrMethod)node.getPsi()).getParameters()[0];
}
