{
  StringBuffer text=writeModifiers(modifiers);
  if (type != null) {
    type=TypesUtil.unboxPrimitiveTypeWrapper(type);
    final String typeText=getTypeText(type);
    int lastDot=typeText.lastIndexOf('.');
    int idx=0 < lastDot && lastDot < typeText.length() - 1 ? lastDot + 1 : 0;
    if (typeText.length() == 0) {
      text.append("def ");
    }
 else {
      char c=typeText.charAt(idx);
      if (!Character.isLetter(c) || Character.isLowerCase(c) && !GroovyNamesUtil.isKeyword(typeText)) {
        text.append("def ");
      }
 else {
        text.append(typeText).append(" ");
      }
    }
  }
 else {
    text.append("def ");
  }
  for (int i=0; i < identifiers.length; i++) {
    if (i > 0)     text.append(", ");
    String identifier=identifiers[i];
    text.append(identifier);
  }
  GrExpression expr;
  if (initializer != null) {
    if (initializer instanceof GrApplicationStatement) {
      expr=createMethodCallByAppCall(((GrApplicationStatement)initializer));
    }
 else {
      expr=initializer;
    }
    text.append(" = ").append(expr.getText());
  }
  PsiFile file=createGroovyFile(text.toString());
  GrTopStatement[] topStatements=((GroovyFileBase)file).getTopStatements();
  if (topStatements.length == 0 || !(topStatements[0] instanceof GrVariableDeclaration)) {
    throw new RuntimeException("Invalid arguments, text = " + text.toString());
  }
  return (GrVariableDeclaration)topStatements[0];
}
