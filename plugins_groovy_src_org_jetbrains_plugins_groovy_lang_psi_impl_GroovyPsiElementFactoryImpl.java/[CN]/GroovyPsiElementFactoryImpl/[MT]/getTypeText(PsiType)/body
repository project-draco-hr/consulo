{
  if (!(type instanceof PsiArrayType)) {
    final String canonical=type.getCanonicalText();
    return canonical != null ? canonical : type.getPresentableText();
  }
 else {
    return getTypeText(((PsiArrayType)type).getComponentType()) + "[]";
  }
}
