{
  final Value value=valueDescriptor.getValue();
  BatchEvaluator.getBatchEvaluator(evaluationContext.getDebugProcess()).invoke(new ToStringCommand(evaluationContext,value){
    public void evaluationResult(    String message){
      valueDescriptor.setValueLabel(message != null ? "\"" + message + "\"" : "");
      labelListener.labelChanged();
    }
    public void evaluationError(    String message){
      final String msg=value != null ? message + " " + DebuggerBundle.message("evaluation.error.cannot.evaluate.tostring",value.type().name()) : message;
      valueDescriptor.setValueLabelFailed(new EvaluateException(msg,null));
      labelListener.labelChanged();
    }
  }
);
  return XDebuggerUIConstants.COLLECTING_DATA_MESSAGE;
}
