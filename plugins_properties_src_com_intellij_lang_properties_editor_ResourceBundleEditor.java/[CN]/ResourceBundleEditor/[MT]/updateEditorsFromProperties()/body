{
  myUpdateEditorAlarm.cancelAllRequests();
  myUpdateEditorAlarm.addRequest(new Runnable(){
    public void run(){
      if (!isValid())       return;
      if (myUpdatePsiAlarm.getActiveRequestCount() != 0) {
        myUpdateEditorAlarm.cancelAllRequests();
        myUpdateEditorAlarm.addRequest(this,200);
        return;
      }
      uninstallDocumentListeners();
      try {
        String propertyName=getSelectedPropertyName();
        ((CardLayout)myValuesPanel.getLayout()).show(myValuesPanel,propertyName == null ? NO_PROPERTY_SELECTED : VALUES);
        if (propertyName == null)         return;
        List<PropertiesFile> propertiesFiles=myResourceBundle.getPropertiesFiles(myProject);
        for (        final PropertiesFile propertiesFile : propertiesFiles) {
          EditorEx editor=(EditorEx)myEditors.get(propertiesFile);
          if (editor == null)           continue;
          reinitSettings(editor);
          IProperty property=propertiesFile.findPropertyByKey(propertyName);
          final String value;
          if (property == null) {
            value="";
          }
 else {
            String rawValue=property.getValue();
            value=rawValue == null ? "" : ResourceBundleUtil.fromPropertyValueToValueEditor(rawValue);
          }
          final Document document=editor.getDocument();
          CommandProcessor.getInstance().executeCommand(null,new Runnable(){
            public void run(){
              ApplicationManager.getApplication().runWriteAction(new Runnable(){
                public void run(){
                  updateDocumentFromPropertyValue(value,document,propertiesFile);
                }
              }
);
            }
          }
,"",this);
          JPanel titledPanel=myTitledPanels.get(propertiesFile);
          ((TitledBorder)titledPanel.getBorder()).setTitleColor(property == null ? JBColor.RED : UIUtil.getLabelTextForeground());
          titledPanel.repaint();
        }
      }
  finally {
        installDocumentListeners();
      }
    }
  }
,200);
}
