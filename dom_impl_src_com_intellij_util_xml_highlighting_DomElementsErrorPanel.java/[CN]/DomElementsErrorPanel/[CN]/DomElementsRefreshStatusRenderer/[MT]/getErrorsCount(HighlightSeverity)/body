{
  int sum=0;
  for (  DomElement element : myDomElements) {
    final Project project=getProject();
    final DomElementsProblemsHolder holder=DomElementAnnotationsManager.getInstance(project).getCachedProblemHolder(element);
    if (minSeverity.equals(HighlightSeverity.WARNING)) {
      sum+=holder.getProblems(element,true,true).size();
    }
 else {
      sum+=holder.getProblems(element,true,true,minSeverity).size();
    }
  }
  return sum;
}
