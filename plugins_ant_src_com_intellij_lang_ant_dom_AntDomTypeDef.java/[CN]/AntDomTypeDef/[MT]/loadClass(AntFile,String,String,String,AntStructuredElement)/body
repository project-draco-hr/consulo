{
  if (classname == null || customTagName == null || customTagName.length() == 0) {
    return;
  }
  ProgressManager.checkCanceled();
  final List<URL> urls=getClassPathLocalUrls();
  Class clazz=null;
  final ClassLoader loader=getClassLoader(urls);
  if (loader != null) {
    try {
      clazz=loader.loadClass(classname);
    }
 catch (    ClassNotFoundException e) {
      clazz=null;
    }
catch (    NoClassDefFoundError e) {
      clazz=null;
    }
catch (    UnsupportedClassVersionError e) {
      clazz=null;
    }
  }
  final String nsPrefix=(uri == null) ? null : getXmlTag().getPrefixByNamespace(uri);
  final XmlName id=(nsPrefix == null) ? new XmlName(customTagName) : new XmlName(customTagName,nsPrefix);
  final String elementId=(nsPrefix == null) ? customTagName : nsPrefix + ":" + customTagName;
  if (clazz != null) {
    CustomAntElementsRegistry.getInstance(getAntProject()).registerCustomElement(elementId,clazz);
  }
}
