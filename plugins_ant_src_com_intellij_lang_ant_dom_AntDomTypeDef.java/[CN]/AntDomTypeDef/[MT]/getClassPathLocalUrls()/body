{
  final List<URL> urls=new ArrayList<URL>();
  final List<File> cpFiles=getClasspath().getValue();
  if (cpFiles != null) {
    for (    File file : cpFiles) {
      try {
        urls.add(toLocalURL(file));
      }
 catch (      MalformedURLException ignored) {
        LOG.info(ignored);
      }
    }
  }
  final HashSet<AntFilesProvider> processed=new HashSet<AntFilesProvider>();
  final AntDomElement referencedPath=getClasspathRef().getValue();
  if (referencedPath instanceof AntFilesProvider) {
    for (    File cpFile : ((AntFilesProvider)referencedPath).getFiles(processed)) {
      try {
        urls.add(toLocalURL(cpFile));
      }
 catch (      MalformedURLException ignored) {
        LOG.info(ignored);
      }
    }
  }
  for (  AntDomElement child : getAntChildren()) {
    if (child instanceof AntFilesProvider) {
      for (      File cpFile : ((AntFilesProvider)child).getFiles(processed)) {
        try {
          urls.add(toLocalURL(cpFile));
        }
 catch (        MalformedURLException ignored) {
          LOG.info(ignored);
        }
      }
    }
  }
  return urls;
}
