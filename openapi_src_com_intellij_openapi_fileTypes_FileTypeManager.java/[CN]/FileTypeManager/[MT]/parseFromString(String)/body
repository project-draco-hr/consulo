{
  if (pattern.startsWith("*.") && pattern.indexOf('*',2) < 0 && pattern.indexOf('.',2) < 0 && pattern.indexOf('?',2) < 0) {
    return new ExtensionFileNameMatcher(pattern.substring(2).toLowerCase());
  }
  if (pattern.contains("*") || pattern.contains("?")) {
    return new WildcardFileNameMatcher(pattern);
  }
  return new ExactFileNameMatcher(pattern);
}
