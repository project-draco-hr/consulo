{
  JComboBox box=new JComboBox(values);
  box.addItemListener(new ItemListener(){
    @Override public void itemStateChanged(    ItemEvent e){
      if (e.getStateChange() == ItemEvent.SELECTED) {
        callback.consume((String)e.getItem());
      }
    }
  }
);
  setLayout(new GridBagLayout());
  add(box,new GridBag().anchor(GridBagConstraints.CENTER));
  FontMetrics metrics=box.getFontMetrics(box.getFont());
  int maxWidth=0;
  String widestText=null;
  for (  String value : values) {
    int width=metrics.stringWidth(value);
    if (width > maxWidth) {
      widestText=value;
      maxWidth=width;
    }
  }
  if (widestText != null) {
    box.setSelectedItem(widestText);
  }
  myPrefSize=getPreferredSize();
  if (values.length > 0) {
    box.setSelectedItem(values[0]);
  }
}
