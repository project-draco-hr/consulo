{
  String actionId=myActionsTree.getSelectedActionId();
  if (actionId == null) {
    return;
  }
  Shortcut shortcut=(Shortcut)myShortcutsList.getSelectedValue();
  if (shortcut == null) {
    return;
  }
  int selectedIndex=myShortcutsList.getSelectedIndex();
  mySelectedKeymap.removeShortcut(actionId,shortcut);
  if (StringUtil.startsWithChar(actionId,'$')) {
    mySelectedKeymap.removeShortcut(KeyMapBundle.message("editor.shortcut",actionId.substring(1)),shortcut);
  }
  updateShortcutsList();
  int count=myShortcutsList.getModel().getSize();
  if (count > 0) {
    myShortcutsList.setSelectedIndex(Math.max(selectedIndex - 1,0));
  }
 else {
    myShortcutsList.clearSelection();
  }
  repaintLists();
  processCurrentKeymapChanged();
}
