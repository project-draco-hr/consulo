{
  GitLineHandler h=new GitLineHandler(myProject,getGitRoot(),GitCommand.PUSH);
  String policy=(String)myPushPolicy.getSelectedItem();
  if (PUSH_POLICY_ALL.equals(policy)) {
    h.addParameters("--all");
  }
 else   if (PUSH_POLICY_MIRROR.equals(policy)) {
    h.addParameters("--mirror");
  }
  if (myPushTagsCheckBox.isEnabled() && myPushTagsCheckBox.isSelected()) {
    h.addParameters("--tags");
  }
  if (myUseThinPackCheckBox.isSelected()) {
    h.addParameters("--thin");
  }
  if (myForceUpdateCheckBox.isSelected()) {
    h.addParameters("--force");
  }
  h.addParameters("-v");
  h.addParameters(getRemoteTextField().getText());
  if (PUSH_POLICY_SELECTED.equals(policy)) {
    for (    String b : myBranchChooser.getMarkedElements()) {
      if (myBranchNames.contains(b)) {
        h.addParameters(b);
      }
 else {
        h.addParameters("tag",b);
      }
    }
  }
  return h;
}
