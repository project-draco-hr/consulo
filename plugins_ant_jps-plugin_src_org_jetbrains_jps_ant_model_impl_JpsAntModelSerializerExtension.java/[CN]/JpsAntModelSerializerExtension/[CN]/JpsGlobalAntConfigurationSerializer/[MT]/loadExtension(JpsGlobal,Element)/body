{
  for (  Element antTag : JDOMUtil.getChildren(componentTag.getChild("registeredAnts"),"ant")) {
    String name=getValueAttribute(antTag,"name");
    String homeDir=getValueAttribute(antTag,"homeDir");
    List<String> classpath=new ArrayList<String>();
    List<String> jarDirectories=new ArrayList<String>();
    for (    Element classpathItemTag : JDOMUtil.getChildren(antTag.getChild("classpath"),"classpathItem")) {
      String fileUrl=classpathItemTag.getAttributeValue("path");
      String dirUrl=classpathItemTag.getAttributeValue("dir");
      if (fileUrl != null) {
        classpath.add(JpsPathUtil.urlToPath(fileUrl));
      }
 else       if (dirUrl != null) {
        jarDirectories.add(JpsPathUtil.urlToPath(dirUrl));
      }
    }
    if (name != null && homeDir != null) {
      JpsAntExtensionService.addAntInstallation(global,new JpsAntInstallationImpl(new File(homeDir),name,classpath,jarDirectories));
    }
  }
}
