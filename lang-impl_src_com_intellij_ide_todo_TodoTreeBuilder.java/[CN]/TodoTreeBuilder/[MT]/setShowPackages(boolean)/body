{
  getTodoTreeStructure().setShownPackages(state);
  ArrayList pathsToExpand=new ArrayList();
  ArrayList pathsToSelect=new ArrayList();
  TreeBuilderUtil.storePaths(this,myRootNode,pathsToExpand,pathsToSelect,true);
  myTree.clearSelection();
  getTodoTreeStructure().validateCache();
  updateTree(false);
  TreeBuilderUtil.restorePaths(this,pathsToExpand,pathsToSelect,true);
}
