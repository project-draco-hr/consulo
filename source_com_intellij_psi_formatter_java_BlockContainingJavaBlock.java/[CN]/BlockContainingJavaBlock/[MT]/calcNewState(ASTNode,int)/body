{
  if (state == BEFORE_FIRST) {
    if (child.getElementType() == ElementType.ELSE_KEYWORD) {
      return AFTER_ELSE;
    }
    if (StdTokenSets.COMMENT_BIT_SET.contains(child.getElementType())) {
      return BEFORE_FIRST;
    }
    if (child.getElementType() == ElementType.CATCH_SECTION) {
      return BEFORE_FIRST;
    }
  }
 else   if (state == BEFORE_BLOCK) {
    if (child.getElementType() == ElementType.ELSE_KEYWORD) {
      return AFTER_ELSE;
    }
    if (child.getElementType() == ElementType.BLOCK_STATEMENT) {
      return BEFORE_FIRST;
    }
    if (child.getElementType() == ElementType.CODE_BLOCK) {
      return BEFORE_FIRST;
    }
  }
  return BEFORE_BLOCK;
}
