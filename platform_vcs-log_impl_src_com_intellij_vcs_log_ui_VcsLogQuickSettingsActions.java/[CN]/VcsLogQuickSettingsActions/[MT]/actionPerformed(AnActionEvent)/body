{
  Project project=e.getProject();
  if (project == null) {
    return;
  }
  VcsLogSettings settings=ServiceManager.getService(project,VcsLogSettings.class);
  VcsLogManager logManager=ServiceManager.getService(project,VcsLogManager.class);
  if (settings == null || logManager == null) {
    return;
  }
  VcsLogUI logUi=logManager.getLogUi();
  ActionGroup settingsGroup=new MySettingsActionGroup(settings,logUi);
  ActionPopupMenu popupMenu=ActionManager.getInstance().createActionPopupMenu(ToolWindowContentUi.POPUP_PLACE,settingsGroup);
  int x=0;
  int y=0;
  InputEvent inputEvent=e.getInputEvent();
  if (inputEvent instanceof MouseEvent) {
    x=((MouseEvent)inputEvent).getX();
    y=((MouseEvent)inputEvent).getY();
  }
  popupMenu.getComponent().show(inputEvent.getComponent(),x,y);
}
