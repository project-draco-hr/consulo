{
  final Comparator<LookupElement> c=getItemComparator();
  final NotNullFactory<Classifier<LookupElement>> next=c != null ? ClassifierFactory.sortingListClassifier(c) : ClassifierFactory.<LookupElement>listClassifier();
  return new ComparingClassifier<LookupElement>(next){
    @Override public Comparable getWeight(    LookupElement element){
      return getRelevance(element);
    }
  }
;
}
