{
  List<LookupElement> exact=new SmartList<LookupElement>();
  List<LookupElement> inexact=new SmartList<LookupElement>();
  eachItem:   for (  LookupElement item : items) {
    final String pattern=lookup.itemPattern(item);
    if (pattern.equals(item.getLookupString())) {
      exact.add(item);
      continue eachItem;
    }
    for (    String s : item.getAllLookupStrings()) {
      if (s.equalsIgnoreCase(pattern)) {
        inexact.add(item);
        continue eachItem;
      }
    }
  }
  result.addAll(exact);
  result.addAll(inexact);
}
