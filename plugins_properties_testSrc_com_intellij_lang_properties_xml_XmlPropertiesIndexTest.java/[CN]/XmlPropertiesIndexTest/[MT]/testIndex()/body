{
  Map<XmlPropertiesIndex.Key,String> map=new XmlPropertiesIndex().map(new FileContentImpl(("<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n" + "<!DOCTYPE properties SYSTEM \"http://java.sun.com/dtd/properties.dtd\">\n" + "<properties>\n"+ "<comment>Hi</comment>\n"+ "<entry key=\"foo\">bar</entry>\n"+ "<entry key=\"fu\">baz</entry>\n"+ "</properties>").getBytes()));
  assertEquals(3,map.size());
  assertEquals("bar",map.get(new XmlPropertiesIndex.Key("foo")));
  assertEquals("baz",map.get(new XmlPropertiesIndex.Key("fu")));
  assertTrue(map.containsKey(XmlPropertiesIndex.MARKER_KEY));
}
