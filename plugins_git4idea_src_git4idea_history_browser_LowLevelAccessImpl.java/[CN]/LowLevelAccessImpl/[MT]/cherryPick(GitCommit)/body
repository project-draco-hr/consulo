{
  final GitLineHandler handler=new GitLineHandler(myProject,myRoot,GitCommand.CHERRY_PICK);
  handler.addParameters("-x","-n",commit.getHash().getValue());
  handler.endOptions();
  handler.setNoSSH(true);
  final AtomicBoolean conflict=new AtomicBoolean();
  handler.addLineListener(new GitLineHandlerAdapter(){
    public void onLineAvailable(    String line,    Key outputType){
      if (line.toLowerCase().contains("after resolving the conflicts")) {
        conflict.set(true);
      }
    }
  }
);
  handler.runInCurrentThread(null);
  if (conflict.get()) {
    return new CherryPickConflictResolver(myProject,myRoot,commit.getShortHash().getString(),commit.getAuthor(),commit.getSubject()).merge();
  }
 else {
    final List<VcsException> errors=handler.errors();
    if (!errors.isEmpty()) {
      throw errors.get(0);
    }
 else {
      return true;
    }
  }
}
