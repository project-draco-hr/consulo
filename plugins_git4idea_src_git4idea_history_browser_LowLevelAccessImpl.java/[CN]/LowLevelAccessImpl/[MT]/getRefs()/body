{
  final SymbolicRefs refs=new SymbolicRefs();
  loadAllTags(refs.getTags());
  final List<GitBranch> allBranches=new ArrayList<GitBranch>();
  final GitBranch current=GitBranch.list(myProject,myRoot,true,true,allBranches,null);
  for (  GitBranch branch : allBranches) {
    if (branch.isRemote()) {
      String name=branch.getName();
      name=name.startsWith("remotes/") ? name.substring("remotes/".length()) : name;
      refs.addRemote(name);
    }
 else {
      refs.addLocal(branch.getName());
    }
  }
  refs.setCurrent(current);
  if (current != null) {
    GitBranch tracked=current.tracked(myProject,myRoot);
    String fullName=tracked.getFullName();
    fullName=fullName.startsWith(GitBranch.REFS_REMOTES_PREFIX) ? fullName.substring(GitBranch.REFS_REMOTES_PREFIX.length()) : fullName;
    refs.setTrackedRemote(fullName);
  }
  refs.setUsername(GitConfigUtil.getValue(myProject,myRoot,GitConfigUtil.USER_NAME));
  return refs;
}
