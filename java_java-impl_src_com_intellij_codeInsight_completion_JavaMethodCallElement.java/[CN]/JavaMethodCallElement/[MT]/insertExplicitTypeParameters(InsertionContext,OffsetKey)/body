{
  context.commitDocument();
  PsiType psiType=getExpectedTypeForExplicitTypeParameters(context,context.getOffset(refStart));
  if (psiType != null) {
    final String typeParams=getTypeParamsText(psiType);
    if (typeParams != null) {
      context.getDocument().insertString(context.getOffset(refStart),typeParams);
      JavaCompletionUtil.shortenReference(context.getFile(),context.getOffset(refStart));
    }
  }
}
