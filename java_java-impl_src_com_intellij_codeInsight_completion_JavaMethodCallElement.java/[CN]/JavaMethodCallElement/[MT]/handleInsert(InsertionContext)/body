{
  PsiMethodInsertHandler.INSTANCE.handleInsert(context,this);
  if (myCanImportStatic) {
    final int startOffset=context.getStartOffset();
    final PsiFile file=context.getFile();
    PsiDocumentManager.getInstance(file.getProject()).commitDocument(context.getDocument());
    if (myShouldImportStatic) {
      final PsiReferenceExpression ref=PsiTreeUtil.findElementOfClassAtOffset(file,startOffset,PsiReferenceExpression.class,false);
      if (ref != null) {
        ref.bindToElementViaStaticImport(myContainingClass);
      }
    }
 else {
      context.getDocument().insertString(startOffset,".");
      JavaCompletionUtil.insertClassReference(myContainingClass,file,startOffset);
    }
  }
}
