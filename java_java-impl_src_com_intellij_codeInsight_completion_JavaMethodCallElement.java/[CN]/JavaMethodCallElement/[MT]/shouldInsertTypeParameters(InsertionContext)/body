{
  final PsiElement leaf=context.getFile().findElementAt(context.getStartOffset());
  if (PsiTreeUtil.getParentOfType(leaf,PsiExpressionList.class,true,PsiCodeBlock.class,PsiModifierListOwner.class) == null) {
    if (PsiTreeUtil.getParentOfType(leaf,PsiConditionalExpression.class,true,PsiCodeBlock.class,PsiModifierListOwner.class) == null) {
      return false;
    }
  }
  return SmartCompletionDecorator.hasUnboundTypeParams(getObject());
}
