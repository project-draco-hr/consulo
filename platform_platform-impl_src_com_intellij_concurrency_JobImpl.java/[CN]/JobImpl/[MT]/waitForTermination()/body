{
  Throwable ex=null;
  PrioritizedFutureTask[] tasks=getTasks();
  try {
    for (    PrioritizedFutureTask f : tasks) {
      while (true) {
        try {
          f.get(10,TimeUnit.MILLISECONDS);
          break;
        }
 catch (        TimeoutException e) {
          if (f.isDone()) {
            f.get();
            break;
          }
        }
      }
    }
  }
 catch (  CancellationException ignore) {
  }
catch (  ExecutionException e) {
    cancel();
    Throwable cause=e.getCause();
    if (cause != null) {
      ex=cause;
    }
  }
  if (ex != null) {
    throw ex;
  }
}
