{
  boolean reallySchedule;
  PrioritizedFutureTask[] tasks=getTasks();
synchronized (myFutures) {
    reallySchedule=JobSchedulerImpl.CORES_COUNT >= 2 && myFutures.size() >= 2;
  }
  scheduled=true;
  if (!reallySchedule) {
    for (    PrioritizedFutureTask future : tasks) {
      future.run();
    }
    return;
  }
  submitTasks(tasks,runInReadAction,false);
  while (!isDone()) {
    Runnable task=JobSchedulerImpl.stealTask();
    if (task == null)     break;
    task.run();
  }
  waitForTermination();
}
