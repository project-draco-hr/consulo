{
  mySdkPath.getTextField().getDocument().addDocumentListener(new DocumentAdapter(){
    @Override protected void textChanged(    DocumentEvent e){
      myChosenManager=null;
    }
  }
);
  mySdkPath.getButton().addActionListener(new ActionListener(){
    public void actionPerformed(    final ActionEvent e){
      final FileChooserDescriptor descriptor=new FileChooserDescriptor(false,true,false,false,false,false){
        public boolean isFileSelectable(        VirtualFile file){
          if (!super.isFileSelectable(file)) {
            return false;
          }
          return findManager(file) != null;
        }
      }
;
      final FileChooserDialog dialog=FileChooserFactory.getInstance().createFileChooser(descriptor,project);
      final VirtualFile[] files=dialog.choose(null,project);
      if (files.length > 0) {
        final VirtualFile dir=files[0];
        mySdkPath.setText(FileUtil.toSystemDependentName(dir.getPath()));
        myChosenManager=findManager(dir);
      }
    }
  }
);
}
