{
  myPathToGroovy.getButton().addActionListener(new ActionListener(){
    public void actionPerformed(    final ActionEvent e){
      final FileChooserDescriptor descriptor=new FileChooserDescriptor(false,true,false,false,false,false){
        public boolean isFileSelectable(        VirtualFile file){
          return super.isFileSelectable(file) && (GroovyConfigUtils.getInstance().isSDKHome(file) || GrailsConfigUtils.getInstance().isSDKHome(file));
        }
      }
;
      final FileChooserDialog dialog=FileChooserFactory.getInstance().createFileChooser(descriptor,project);
      final VirtualFile[] files=dialog.choose(null,project);
      if (files.length > 0) {
        String path=files[0].getPath();
        myPathToGroovy.setText(path);
      }
    }
  }
);
}
