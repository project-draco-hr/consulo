{
  if (file instanceof PsiCompiledFile) {
    file=((PsiCompiledFile)file).getDecompiledPsiFile();
  }
  if (!(file instanceof PsiClassOwner)) {
    return null;
  }
  final ArrayList<ReferenceTransferableData.ReferenceData> array=new ArrayList<ReferenceTransferableData.ReferenceData>();
  for (int j=0; j < startOffsets.length; j++) {
    final int startOffset=startOffsets[j];
    for (    final PsiElement element : CollectHighlightsUtil.getElementsInRange(file,startOffset,endOffsets[j])) {
      addReferenceData(file,startOffset,element,array);
    }
  }
  if (array.isEmpty()) {
    return null;
  }
  return new ReferenceTransferableData(array.toArray(new ReferenceTransferableData.ReferenceData[array.size()]));
}
