{
  final Runnable processClipboard=new Runnable(){
    @Override public void run(){
      final String clipboard=AnalyzeStacktraceUtil.getTextInClipboard();
      if (clipboard != null && clipboard.length() < MAX_STACKTRACE_SIZE && !clipboard.equals(stacktrace)) {
        stacktrace=clipboard;
        final Project project=ideFrame.getProject();
        if (project != null && isStacktrace(stacktrace)) {
          final UnscrambleDialog dialog=new UnscrambleDialog(project);
          dialog.createNormalizeTextAction().actionPerformed(null);
          dialog.doOKAction();
        }
      }
    }
  }
;
  if (Patches.SLOW_GETTING_CLIPBOARD_CONTENTS) {
    new Alarm().addRequest(processClipboard,300);
  }
 else {
    processClipboard.run();
  }
}
