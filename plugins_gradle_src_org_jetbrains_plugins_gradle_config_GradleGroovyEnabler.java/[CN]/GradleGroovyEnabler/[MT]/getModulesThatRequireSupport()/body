{
  final List<Module> result=new ArrayList<Module>();
  for (  Module module : myPlatformFacade.getModules(myProject)) {
    if (LibrariesUtil.hasGroovySdk(module)) {
      continue;
    }
    boolean needGroovy=false;
    for (    ModuleAwareContentRoot root : myPlatformFacade.getContentRoots(module)) {
      final VirtualFile file=root.getFile();
      if (!file.isDirectory()) {
        continue;
      }
      final VirtualFile child=file.findChild(GradleConstants.DEFAULT_SCRIPT_NAME);
      if (child != null) {
        needGroovy=true;
        break;
      }
    }
    if (needGroovy) {
      result.add(module);
    }
  }
  return result;
}
