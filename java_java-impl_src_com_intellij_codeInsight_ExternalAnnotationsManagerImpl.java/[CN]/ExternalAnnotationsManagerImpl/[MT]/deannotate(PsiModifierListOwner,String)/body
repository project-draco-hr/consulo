{
  try {
    final List<XmlFile> files=findExternalAnnotationsFiles(listOwner);
    if (files == null) {
      return false;
    }
    for (    XmlFile file : files) {
      if (!file.isValid()) {
        continue;
      }
      final XmlDocument document=file.getDocument();
      if (document == null) {
        continue;
      }
      final XmlTag rootTag=document.getRootTag();
      if (rootTag == null) {
        continue;
      }
      final String externalName=getExternalName(listOwner,false);
      final String oldExternalName=getNormalizedExternalName(listOwner);
      for (      final XmlTag tag : rootTag.getSubTags()) {
        final String className=tag.getAttributeValue("name");
        if (!Comparing.strEqual(className,externalName) && !Comparing.strEqual(className,oldExternalName)) {
          continue;
        }
        for (        XmlTag annotationTag : tag.getSubTags()) {
          if (!Comparing.strEqual(annotationTag.getAttributeValue("name"),annotationFQN)) {
            continue;
          }
          if (ReadonlyStatusHandler.getInstance(myPsiManager.getProject()).ensureFilesWritable(file.getVirtualFile()).hasReadonlyFiles()) {
            return false;
          }
          try {
            annotationTag.delete();
            if (tag.getSubTags().length == 0) {
              tag.delete();
            }
          }
 catch (          IncorrectOperationException e) {
            LOG.error(e);
          }
          return true;
        }
        return false;
      }
    }
    return false;
  }
  finally {
    dropCache();
  }
}
