{
  if (DaemonListeners.isUnderIgnoredAction(null))   return;
  List<Pair<PsiElement,Boolean>> toUpdate=changedElements.get(document);
  if (toUpdate != null) {
    for (    Pair<PsiElement,Boolean> changedElement : toUpdate) {
      PsiElement element=changedElement.getFirst();
      Boolean whiteSpaceOptimizationAllowed=changedElement.getSecond();
      updateByChange(element,whiteSpaceOptimizationAllowed);
    }
    changedElements.remove(document);
  }
}
