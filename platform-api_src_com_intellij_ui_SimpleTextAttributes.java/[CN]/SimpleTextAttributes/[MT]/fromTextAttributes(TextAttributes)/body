{
  if (attributes == null)   return REGULAR_ATTRIBUTES;
  Color foregroundColor=attributes.getForegroundColor();
  if (foregroundColor == null)   foregroundColor=REGULAR_ATTRIBUTES.getFgColor();
  int style=attributes.getFontType();
  if (attributes.getEffectColor() != null) {
    EffectType effectType=attributes.getEffectType();
    if (effectType == EffectType.STRIKEOUT) {
      style|=STYLE_STRIKEOUT;
    }
 else     if (effectType == EffectType.WAVE_UNDERSCORE) {
      style|=STYLE_WAVED;
    }
 else     if (effectType == EffectType.LINE_UNDERSCORE) {
      style|=STYLE_UNDERLINE;
    }
 else {
    }
  }
  return new SimpleTextAttributes(attributes.getBackgroundColor(),foregroundColor,attributes.getEffectColor(),style);
}
