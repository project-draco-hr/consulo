{
  if (parentAfterUpdate == null || parentBeforeUpdate == null) {
    return;
  }
  if (parentAfterUpdate.equals(parentBeforeUpdate)) {
    return;
  }
  HgStatusCommand statusCommand=new HgStatusCommand.Builder(true).build(project);
  statusCommand.setBaseRevision(parentBeforeUpdate);
  statusCommand.setTargetRevision(parentAfterUpdate);
  Set<HgChange> changes=statusCommand.execute(repo);
  for (  HgChange change : changes) {
    HgFileStatusEnum status=change.getStatus();
switch (status) {
case ADDED:
      addToGroup(updatedFiles,change,FileGroup.CREATED_ID);
    break;
case MODIFIED:
  addToGroup(updatedFiles,change,FileGroup.UPDATED_ID);
break;
case DELETED:
addToGroup(updatedFiles,change,FileGroup.REMOVED_FROM_REPOSITORY_ID);
break;
case COPY:
addToGroup(updatedFiles,change,FileGroup.CHANGED_ON_SERVER_ID);
break;
default :
break;
}
}
}
