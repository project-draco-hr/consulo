{
  if (mergeResult.getExitValue() == 0) {
    try {
      new HgCommitCommand(project,repository,"Automated merge").execute();
    }
 catch (    HgCommandException e) {
      throw new VcsException(e);
    }
  }
 else {
    reportWarning(exceptions,HgVcsMessages.message("hg4idea.update.warning.merge.conflicts",repository.getPath()));
  }
}
