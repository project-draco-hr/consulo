{
  final List<ProcessingItem> successfullyProcessed=new ArrayList<ProcessingItem>(items.length);
  for (  ProcessingItem item : items) {
    final CopyItem copyItem=(CopyItem)item;
    final String fromPath=copyItem.getSourcePath();
    final String toPath=copyItem.getDestinationPath();
    try {
      FileUtil.copy(new File(fromPath),new File(toPath));
      successfullyProcessed.add(copyItem);
    }
 catch (    IOException e) {
      context.addMessage(CompilerMessageCategory.ERROR,CompilerBundle.message("error.copying",fromPath,toPath,e.getMessage()),null,-1,-1);
    }
  }
  return successfullyProcessed.toArray(new ProcessingItem[successfullyProcessed.size()]);
}
