def between(self, pairs):
    batch = 8
    r = []
    for i in xrange(0, len(pairs), batch):
        n = ' '.join(['-'.join(map(hex, p)) for p in pairs[i:(i + batch)]])
        d = self.do_read('between', pairs=n)
        try:
            r += [((l and map(bin, l.split(' '))) or []) for l in d.splitlines()]
        except:
            raise error.ResponseError(_('unexpected response:'), d)
    return r
