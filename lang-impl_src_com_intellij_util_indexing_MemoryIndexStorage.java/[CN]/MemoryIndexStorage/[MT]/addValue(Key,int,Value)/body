{
  if (!myBufferingEnabled.get()) {
    myBackendStorage.addValue(key,inputId,value);
    return;
  }
  UpdatableValueContainer<Value> valueContainer=myMap.get(key);
  if (valueContainer == null) {
    valueContainer=new ChangeTrackingValueContainer<Value>(new Computable<ValueContainer<Value>>(){
      public ValueContainer<Value> compute(){
        try {
          return myBackendStorage.read(key);
        }
 catch (        StorageException e) {
          throw new RuntimeException(e);
        }
      }
    }
);
    myMap.put(key,valueContainer);
  }
  valueContainer.addValue(inputId,value);
}
