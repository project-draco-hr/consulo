{
  int index=myProfileList.getSelectedIndex();
  final Profile profile=index == -1 ? null : myProfileModel.getElementAt(index);
  myProfileManager.setProfile(profile);
  if (myDocumentListener != null) {
    myProfileNameField.getDocument().removeDocumentListener(myDocumentListener);
    myDocumentListener=null;
  }
  if (profile == null) {
    myProfileNameField.setEditable(false);
    myProfileNameField.setText(null);
    myDeviceElement.setVisible(false,true,null);
    myDeviceConfigurationElement.setVisible(false,true,null);
    myTargetElement.setVisible(false,true,null);
    myLocaleElement.setVisible(false,true,null);
    myDockModeElement.setVisible(false,true,null);
    myNightModeElement.setVisible(false,true,null);
    myThemeElement.setVisible(false,true,null);
  }
 else {
    myProfileNameField.setEditable(true);
    myProfileNameField.setText(profile.getName());
    myDocumentListener=new DocumentListener(){
      @Override public void insertUpdate(      DocumentEvent e){
        updateName(profile);
      }
      @Override public void removeUpdate(      DocumentEvent e){
        updateName(profile);
      }
      @Override public void changedUpdate(      DocumentEvent e){
        updateName(profile);
      }
    }
;
    myProfileNameField.getDocument().addDocumentListener(myDocumentListener);
    myProfileManager.updateActions();
    myDeviceElement.setVisible(true,profile.isShowDevice(),new VisibleListener(){
      @Override public void setVisible(      boolean value){
        profile.setShowDevice(value);
      }
    }
);
    myDeviceConfigurationElement.setVisible(true,profile.isShowDeviceConfiguration(),new VisibleListener(){
      @Override public void setVisible(      boolean value){
        profile.setShowDeviceConfiguration(value);
      }
    }
);
    myTargetElement.setVisible(true,profile.isShowTarget(),new VisibleListener(){
      @Override public void setVisible(      boolean value){
        profile.setShowTarget(value);
      }
    }
);
    myLocaleElement.setVisible(true,profile.isShowLocale(),new VisibleListener(){
      @Override public void setVisible(      boolean value){
        profile.setShowLocale(value);
      }
    }
);
    myDockModeElement.setVisible(true,profile.isShowDockMode(),new VisibleListener(){
      @Override public void setVisible(      boolean value){
        profile.setShowDockMode(value);
      }
    }
);
    myNightModeElement.setVisible(true,profile.isShowNightMode(),new VisibleListener(){
      @Override public void setVisible(      boolean value){
        profile.setShowNightMode(value);
      }
    }
);
    myThemeElement.setVisible(true,profile.isShowTheme(),new VisibleListener(){
      @Override public void setVisible(      boolean value){
        profile.setShowTheme(value);
      }
    }
);
  }
}
