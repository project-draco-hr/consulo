{
  final Graphics2D g2d=(Graphics2D)g;
  final int yOff=getBorderInsets(c).height() / 4;
  int offset=getOffset();
  if (c.hasFocus()) {
    DarculaUIUtil.paintFocusRing(g2d,offset,yOff,width - 2 * offset,height - 2 * yOff);
  }
 else {
    final GraphicsConfig config=new GraphicsConfig(g);
    g2d.setRenderingHint(RenderingHints.KEY_ANTIALIASING,RenderingHints.VALUE_ANTIALIAS_ON);
    g2d.setRenderingHint(RenderingHints.KEY_STROKE_CONTROL,RenderingHints.VALUE_STROKE_DEFAULT);
    g2d.setPaint(new GradientPaint(width / 2,y + yOff + 1,Gray._120.withAlpha(90),width / 2,height - 2 * yOff,Gray._105.withAlpha(90)));
    g.drawRoundRect(x + offset + 1,y + yOff + 1,width - 2 * offset,height - 2 * yOff,5,5);
    ((Graphics2D)g).setPaint(Gray._40.withAlpha(180));
    g.drawRoundRect(x + offset,y + yOff,width - 2 * offset,height - 2 * yOff,5,5);
    config.restore();
  }
}
