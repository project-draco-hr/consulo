{
  this.parentPanel=parentPanel;
  myManager=CopyrightManager.getInstance(project);
  if (fileType == null) {
    myUseDefaultSettingsRadioButton.setVisible(false);
    myUseCustomFormattingOptionsRadioButton.setVisible(false);
  }
  this.fileType=fileType != null ? fileType : StdFileTypes.JAVA;
  tempOptionsPanel.setFileType(this.fileType);
  FileType alternate=FileTypeUtil.getInstance().getAlternate(this.fileType);
  if (alternate != null) {
    cbUseAlternate.setText("Use " + alternate.getName() + " Comments");
    cbUseAlternate.addActionListener(new ActionListener(){
      public void actionPerformed(      ActionEvent e){
        updateOverride();
      }
    }
);
  }
 else {
    cbUseAlternate.setVisible(false);
  }
  if (parentPanel != null) {
    parentPanel.tempOptionsPanel.addOptionChangeListener(new TemplateOptionsPanelListener(){
      public void optionChanged(){
        updateOverride();
      }
    }
);
  }
  ButtonGroup group=new ButtonGroup();
  group.add(rbBefore);
  group.add(rbAfter);
  if (locations == null) {
    fileLocationPanel.setBorder(BorderFactory.createEmptyBorder());
  }
 else {
    fileLocations=new JRadioButton[locations.length];
    group=new ButtonGroup();
    for (int i=0; i < fileLocations.length; i++) {
      fileLocations[i]=new JRadioButton(locations[i]);
      group.add(fileLocations[i]);
      fileLocationPanel.add(fileLocations[i],new GridConstraints(i,0,1,1,GridConstraints.ANCHOR_WEST,GridConstraints.FILL_NONE,GridConstraints.SIZEPOLICY_CAN_SHRINK | GridConstraints.SIZEPOLICY_CAN_GROW,GridConstraints.SIZEPOLICY_FIXED,null,null,null));
    }
  }
  tempOptionsPanel.addOptionChangeListener(new TemplateOptionsPanelListener(){
    public void optionChanged(){
      showPreview(tempOptionsPanel.getOptions());
    }
  }
);
  preview.setFont(EditorColorsManager.getInstance().getGlobalScheme().getFont(EditorFontType.PLAIN));
  preview.setColumns(CodeStyleSettingsManager.getInstance().getCurrentSettings().RIGHT_MARGIN);
  myUseDefaultSettingsRadioButton.setSelected(true);
  ItemListener listener=new ItemListener(){
    public void itemStateChanged(    ItemEvent itemEvent){
      if (itemEvent.getStateChange() == ItemEvent.SELECTED) {
        updateOverride();
      }
    }
  }
;
  myUseDefaultSettingsRadioButton.addItemListener(listener);
  myUseCustomFormattingOptionsRadioButton.addItemListener(listener);
}
