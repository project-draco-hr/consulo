{
  new Task.Backgroundable(myProject,"Comparing revisions..."){
    private List<Change> myChanges;
    @Override public void run(    @NotNull ProgressIndicator indicator){
      if (myProject != null) {
        myChanges=HgUtil.getDiff(HgDiffFromHistoryHandler.this.myProject,root,path,rev1,rev2,ServiceManager.getService(myProject,HgPlatformFacade.class));
      }
    }
    @Override public void onSuccess(){
      successHandler.consume(myChanges);
    }
  }
.queue();
}
