{
  if (tag == null || !HtmlUtil.isHtml5Context(tag)) {
    return XmlAttributeDescriptor.EMPTY;
  }
  final List<String> currentAttrs=new ArrayList<String>();
  for (  XmlAttribute attribute : tag.getAttributes()) {
    currentAttrs.add(attribute.getName());
  }
  final List<XmlAttributeDescriptor> result=new ArrayList<XmlAttributeDescriptor>();
  FileBasedIndex.getInstance().processAllKeys(Html5CustomAttributesIndex.INDEX_ID,new Processor<String>(){
    @Override public boolean process(    String s){
      boolean add=true;
      for (      String attr : currentAttrs) {
        if (attr.startsWith(s)) {
          add=false;
        }
      }
      if (add) {
        result.add(new AnyXmlAttributeDescriptor(s));
      }
      return true;
    }
  }
,tag.getProject());
  return result.toArray(new XmlAttributeDescriptor[result.size()]);
}
