{
  super.addNotify();
  if (myStartModuleWizardOnShow) {
    final Window parentWindow=(Window)SwingUtilities.getAncestorOfClass(Window.class,this);
    parentWindow.addWindowListener(new WindowAdapter(){
      public void windowActivated(      WindowEvent e){
        parentWindow.removeWindowListener(this);
        SwingUtilities.invokeLater(new Runnable(){
          public void run(){
            final Pair<ModuleBuilder,ConfigureFacetsStep> pair=myModulesConfigurator.runModuleWizard(parentWindow);
            final ModuleBuilder moduleBuilder=pair.getFirst();
            if (moduleBuilder != null) {
              myModulesConfigurator.addModule(moduleBuilder,pair.getSecond());
            }
          }
        }
);
      }
    }
);
  }
}
