{
  final FavoritesTreeNodeDescriptor[] selectedNodeDescriptors=getSelectedNodeDescriptors();
  ArrayList<Object> result=new ArrayList<Object>();
  for (  FavoritesTreeNodeDescriptor selectedNodeDescriptor : selectedNodeDescriptors) {
    if (selectedNodeDescriptor != null) {
      Object value=selectedNodeDescriptor.getElement().getValue();
      if (value instanceof SmartPsiElementPointer) {
        value=((SmartPsiElementPointer)value).getElement();
      }
      result.add(value);
    }
  }
  return ArrayUtil.toObjectArray(result);
}
