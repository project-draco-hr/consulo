{
  final CollapseAllAction collapseAction=new CollapseAllAction(myTree);
  collapseAction.getTemplatePresentation().setIcon(AllIcons.General.CollapseAll);
  collapseAction.getTemplatePresentation().setHoveredIcon(AllIcons.General.CollapseAllHover);
  window.setTitleActions(collapseAction);
  final DefaultActionGroup group=new DefaultActionGroup();
  final ProjectViewDirectoryHelper helper=ProjectViewDirectoryHelper.getInstance(myProject);
  if (helper.supportsFlattenPackages()) {
    group.add(new FavoritesFlattenPackagesAction(myProject,myBuilder));
  }
  if (helper.supportsHideEmptyMiddlePackages()) {
    group.add(new FavoritesCompactEmptyMiddlePackagesAction(myProject,myBuilder));
  }
  if (helper.supportsFlattenPackages()) {
    group.addAction(new FavoritesAbbreviatePackageNamesAction(myProject,myBuilder));
  }
  if (!PlatformUtils.isAppCode()) {
    group.add(new FavoritesShowMembersAction(myProject,myBuilder));
  }
  final FavoritesAutoscrollFromSourceHandler handler=new FavoritesAutoscrollFromSourceHandler(myProject,myBuilder);
  handler.install();
  group.add(handler.createToggleAction());
  group.add(new FavoritesAutoScrollToSourceAction(myProject,myAutoScrollToSourceHandler,myBuilder));
  window.setAdditionalGearActions(group);
}
