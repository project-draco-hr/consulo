def stat(self, wpath):
    try:
        st = os.lstat(join(self.wprefix, wpath))
        ret = (st.st_mode, st.st_size, st.st_mtime)
        self.statcache[wpath] = ret
        return ret
    except OSError:
        self.statcache.pop(wpath, None)
        raise
