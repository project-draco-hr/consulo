{
  mySeparator=false;
  myIcon=null;
  myText=null;
  myForeground=null;
  myBackground=null;
  myFont=null;
  myToolTipText=null;
  @SuppressWarnings("unchecked") final T t=(T)value;
  customize(list,t,index,isSelected,cellHasFocus);
  if (mySeparator) {
    final TitledSeparator separator=new TitledSeparator(myText);
    separator.setBorder(BorderFactory.createEmptyBorder(0,2,0,0));
    if (!UIUtil.isUnderGTKLookAndFeel()) {
      separator.setOpaque(false);
      separator.setBackground(UIUtil.TRANSPARENT_COLOR);
      separator.getLabel().setOpaque(false);
      separator.getLabel().setBackground(UIUtil.TRANSPARENT_COLOR);
    }
    return separator;
  }
  final Component component=myOriginalRenderer.getListCellRendererComponent(list,value,index,isSelected,cellHasFocus);
  if (component instanceof JLabel) {
    final JLabel label=(JLabel)component;
    label.setIcon(myIcon);
    if (myText != null)     label.setText(myText);
    if (myForeground != null)     label.setForeground(myForeground);
    if (myBackground != null && !isSelected)     label.setBackground(myBackground);
    if (myFont != null)     label.setFont(myFont);
    label.setToolTipText(myToolTipText);
  }
  return component;
}
