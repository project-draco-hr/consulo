{
  HgCommandService command=HgCommandService.getInstance(project);
  HgCommandResult result=command.execute(repo,"heads",Arrays.asList("--template","{rev}|{node|short}\\n",branch));
  List<HgRevisionNumber> heads=new ArrayList<HgRevisionNumber>();
  for (  String line : result.getOutputLines()) {
    try {
      String[] parts=StringUtils.split(line,'|');
      heads.add(HgRevisionNumber.getInstance(parts[0],parts[1]));
    }
 catch (    NumberFormatException e) {
      LOG.warn("Unexpected head line '" + line + "'");
    }
  }
  return heads;
}
