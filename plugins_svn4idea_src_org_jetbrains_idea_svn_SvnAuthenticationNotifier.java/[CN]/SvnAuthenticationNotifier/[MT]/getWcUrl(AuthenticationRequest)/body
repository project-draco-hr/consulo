{
  if (obj.isOutsideCopies())   return null;
  if (obj.getWcUrl() != null)   return obj.getWcUrl();
  final WorkingCopy copy=myRootsToWorkingCopies.getMatchingCopy(obj.getUrl());
  if (copy != null) {
    obj.setOutsideCopies(false);
    obj.setWcUrl(copy.getUrl());
  }
 else {
    obj.setOutsideCopies(true);
  }
  return copy == null ? null : copy.getUrl();
}
