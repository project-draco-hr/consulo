{
  final Ref<Boolean> resultRef=new Ref<Boolean>();
  final boolean done=ProgressManager.getInstance().runProcessWithProgressSynchronously(new Runnable(){
    public void run(){
      final boolean result=interactiveValidation(obj.myProject,obj.getUrl(),obj.getRealm(),obj.getKind());
      log("ask result for: " + obj.getUrl() + " is: "+ result);
      resultRef.set(result);
      if (result) {
        onStateChangedToSuccess(obj);
      }
    }
  }
,"Checking authorization state",true,myVcs.getProject());
  return done && Boolean.TRUE.equals(resultRef.get());
}
