{
  if (userSettingsFile != null) {
    final String fromUserSettings=getRepositoryFromSettings(userSettingsFile);
    if (!StringUtil.isEmpty(fromUserSettings)) {
      return new File(fromUserSettings);
    }
  }
  if (globalSettingsFile != null) {
    final String fromGlobalSettings=getRepositoryFromSettings(globalSettingsFile);
    if (!StringUtil.isEmpty(fromGlobalSettings)) {
      return new File(fromGlobalSettings);
    }
  }
  return new File(resolveM2Dir(),REPOSITORY_DIR);
}
