{
  List<String> arguments=new LinkedList<String>();
  if (update) {
    arguments.add("--update");
  }
 else   if (rebase) {
    arguments.add("--rebase");
  }
  if (StringUtils.isNotBlank(revision)) {
    arguments.add("--rev");
    arguments.add(revision);
  }
  arguments.add(source);
  HgCommandResult result=authenticator.executeCommandAndAuthenticateIfNecessary(project,repo,source,"pull",arguments,arguments.size() - 1);
  project.getMessageBus().syncPublisher(HgVcs.REMOTE_TOPIC).update(project);
  return result;
}
