{
  if (myRevisionToContentMap.containsKey(revision))   return myRevisionToContentMap.get(revision);
  int index=myRevisions.indexOf(revision);
  final String revisionContent=getContentOf(revision);
  if (revisionContent == null)   return null;
  if (index == 0)   myRevisionToContentMap.put(revision,new Block(revisionContent,mySelectionStart,mySelectionEnd));
 else {
    Block prevBlock=getBlock(myRevisions.get(index - 1));
    if (prevBlock == null)     return null;
    myRevisionToContentMap.put(revision,new FindBlock(revisionContent,prevBlock).getBlockInThePrevVersion());
  }
  return myRevisionToContentMap.get(revision);
}
