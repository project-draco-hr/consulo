{
  if (myIsDisposed || myIsInLoading)   return;
  List items=((ListTableModel)myList.getModel()).getItems();
  VcsFileRevision firstRev=(VcsFileRevision)items.get(first);
  VcsFileRevision secondRev=(VcsFileRevision)items.get(second);
  if (VcsHistoryUtil.compare(firstRev,secondRev) > 0) {
    VcsFileRevision tmp=firstRev;
    firstRev=secondRev;
    secondRev=tmp;
  }
  if (myIsDisposed)   return;
  try {
    myDiffPanel.setContents(new SimpleContent(getContentToShow(firstRev),myContentFileType),new SimpleContent(getContentToShow(secondRev),myContentFileType));
  }
 catch (  FilesTooBigForDiffException e) {
    myDiffPanel.setTooBigFileErrorContents();
  }
catch (  VcsException e) {
    final String text=canNoLoadMessage(e);
    myDiffPanel.setContents(new SimpleContent(text,myContentFileType),new SimpleContent(text,myContentFileType));
    canNotLoadRevisionMessage(e);
  }
  myDiffPanel.setTitle1(VcsBundle.message("diff.content.title.revision.number",firstRev.getRevisionNumber()));
  myDiffPanel.setTitle2(VcsBundle.message("diff.content.title.revision.number",secondRev.getRevisionNumber()));
}
