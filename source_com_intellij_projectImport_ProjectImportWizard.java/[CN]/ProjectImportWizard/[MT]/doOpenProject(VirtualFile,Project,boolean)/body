{
  initImport(null,false);
  if (doQuickImport(virtualFile)) {
    if (myNewProjectFilePath == null) {
      if (myNewProjectName == null) {
        myNewProjectName=IdeBundle.message("project.import.default.name",getName()) + ProjectFileType.DOT_DEFAULT_EXTENSION;
      }
      myNewProjectFilePath=getSiblingPath(virtualFile.getPath(),myNewProjectName);
    }
    if (myNewProjectJdk == null) {
      for (      ProjectJdk projectJdk : ProjectJdkTable.getInstance().getAllJdks()) {
        if (myNewProjectJdk == null || myNewProjectJdk.getVersionString().compareTo(projectJdk.getVersionString()) < 0) {
          myNewProjectJdk=projectJdk;
        }
      }
    }
    if (myNewCompileOutput != null) {
      myNewCompileOutput=getUrl(getSiblingPath(myNewProjectFilePath,DEFAULT_OUTPUT));
    }
    return performImport(projectToClose,false,forceOpenInNewFrame);
  }
  return null;
}
