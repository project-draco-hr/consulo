{
  final Editor editor=PlatformDataKeys.EDITOR.getData(e.getDataContext());
  final Project project=CommonDataKeys.PROJECT.getData(e.getDataContext());
  if (editor == null || project == null)   return;
  String commandName=getTemplatePresentation().getText();
  if (commandName == null)   commandName="";
  CommandProcessor.getInstance().executeCommand(project,new Runnable(){
    @Override @RequiredDispatchThread public void run(){
      PsiFile psiFile=PsiDocumentManager.getInstance(project).getPsiFile(editor.getDocument());
      try {
        HighlightUsagesHandler.invoke(project,editor,psiFile);
      }
 catch (      IndexNotReadyException ex) {
        DumbService.getInstance(project).showDumbModeNotification(ActionsBundle.message("action.HighlightUsagesInFile.not.ready"));
      }
    }
  }
,commandName,null);
}
