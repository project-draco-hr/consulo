{
  GeneratorPeer<T> peer=createPeer();
  DialogWrapper dialog=new MyDialogWrapper(peer);
  dialog.show();
  if (dialog.getExitCode() != DialogWrapper.OK_EXIT_CODE) {
    throw new ProcessCanceledException();
  }
  return peer.getSettings();
}
