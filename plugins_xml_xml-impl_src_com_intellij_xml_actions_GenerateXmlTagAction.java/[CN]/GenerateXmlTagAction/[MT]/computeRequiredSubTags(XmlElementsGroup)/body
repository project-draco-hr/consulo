{
  if (group.getMinOccurs() < 1)   return Collections.emptyList();
switch (group.getGroupType()) {
case LEAF:
    XmlElementDescriptor descriptor=group.getLeafDescriptor();
  return descriptor == null ? Collections.<XmlElementDescriptor>emptyList() : Collections.singletonList(descriptor);
case CHOICE:
LinkedHashSet<XmlElementDescriptor> set=null;
for (XmlElementsGroup subGroup : group.getSubGroups()) {
List<XmlElementDescriptor> descriptors=computeRequiredSubTags(subGroup);
if (set == null) {
  set=new LinkedHashSet<XmlElementDescriptor>(descriptors);
}
 else {
  set.retainAll(descriptors);
}
}
if (set == null || set.isEmpty()) {
return Collections.singletonList(null);
}
return new ArrayList<XmlElementDescriptor>(set);
default :
ArrayList<XmlElementDescriptor> list=new ArrayList<XmlElementDescriptor>();
for (XmlElementsGroup subGroup : group.getSubGroups()) {
list.addAll(computeRequiredSubTags(subGroup));
}
return list;
}
}
