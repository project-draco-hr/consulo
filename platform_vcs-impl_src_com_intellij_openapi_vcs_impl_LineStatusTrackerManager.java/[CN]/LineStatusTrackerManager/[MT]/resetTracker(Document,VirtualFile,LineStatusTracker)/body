{
  final boolean editorOpened=myFileEditorManager.isFileOpen(virtualFile);
  final boolean shouldBeInstalled=editorOpened && shouldBeInstalled(virtualFile);
  if (LOG.isDebugEnabled()) {
    LOG.debug("resetTracker: shouldBeInstalled - " + shouldBeInstalled + ", tracker - "+ (tracker == null ? "null" : "found"));
  }
  if (tracker != null && shouldBeInstalled) {
    refreshTracker(tracker);
  }
 else   if (tracker != null) {
    releaseTracker(document);
  }
 else   if (shouldBeInstalled) {
    installTracker(virtualFile,document);
  }
}
