{
  FileTypeManager fileTypeManager=FileTypeManager.getInstance();
  if (file.isDirectory())   return false;
  if (file.getFileType() != StdFileTypes.JAVA)   return false;
  if (fileTypeManager.isFileIgnored(file))   return false;
  return ProjectRootManager.getInstance(project).getFileIndex().isInSource(file);
}
