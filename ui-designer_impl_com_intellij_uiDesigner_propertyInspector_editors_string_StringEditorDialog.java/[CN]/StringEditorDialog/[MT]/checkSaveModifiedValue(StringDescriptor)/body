{
  final PropertiesFile propFile=PropertiesUtil.getPropertiesFile(descriptor.getBundleName(),myModule);
  if (propFile != null) {
    final Property propertyByKey=propFile.findPropertyByKey(descriptor.getKey());
    final String editedValue=myForm.myResourceBundleCard.myTfValue.getText();
    if (propertyByKey != null && !editedValue.equals(propertyByKey.getValue())) {
      final Collection<PsiReference> references=new ArrayList<PsiReference>();
      ProgressManager.getInstance().runProcessWithProgressSynchronously(new Runnable(){
        public void run(){
          references.addAll(ReferencesSearch.search(propertyByKey).findAll());
        }
      }
,UIDesignerBundle.message("edit.text.searching.references"),false,myModule.getProject());
      if (references.size() > 1) {
        final int rc=Messages.showYesNoDialog(myModule.getProject(),UIDesignerBundle.message("edit.text.multiple.usages",propertyByKey.getKey(),references.size()),UIDesignerBundle.message("edit.text.multiple.usages.title"),Messages.getWarningIcon());
        if (rc != OK_EXIT_CODE) {
          return;
        }
      }
      final ReadonlyStatusHandler.OperationStatus operationStatus=ReadonlyStatusHandler.getInstance(myModule.getProject()).ensureFilesWritable(propFile.getVirtualFile());
      if (operationStatus.hasReadonlyFiles()) {
        return;
      }
      CommandProcessor.getInstance().executeCommand(myModule.getProject(),new Runnable(){
        public void run(){
          ApplicationManager.getApplication().runWriteAction(new Runnable(){
            public void run(){
              try {
                propertyByKey.setValue(editedValue);
              }
 catch (              IncorrectOperationException e) {
                LOG.error(e);
              }
            }
          }
);
        }
      }
,null,null);
    }
  }
}
