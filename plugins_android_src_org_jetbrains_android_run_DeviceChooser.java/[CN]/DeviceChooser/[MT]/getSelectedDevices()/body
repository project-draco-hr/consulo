{
  int[] rows=myDeviceTable.getSelectedRows();
  List<IDevice> result=new ArrayList<IDevice>();
  for (  int row : rows) {
    if (row >= 0) {
      Object serial=myDeviceTable.getValueAt(row,0);
      final AndroidDebugBridge bridge=myFacet.getDebugBridge();
      if (bridge == null) {
        return EMPTY_DEVICE_ARRAY;
      }
      IDevice[] devices;
      try {
        devices=AdbManager.compute(new Computable<IDevice[]>(){
          public IDevice[] compute(){
            return bridge.getDevices();
          }
        }
,true);
      }
 catch (      AdbNotRespondingException e) {
        Messages.showErrorDialog(myFacet.getModule().getProject(),e.getMessage(),CommonBundle.getErrorTitle());
        return EMPTY_DEVICE_ARRAY;
      }
      for (      IDevice device : devices) {
        if (device.getSerialNumber().equals(serial.toString())) {
          result.add(device);
          break;
        }
      }
    }
  }
  return result.toArray(new IDevice[result.size()]);
}
