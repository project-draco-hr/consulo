{
  super(facet.getModule().getProject(),true);
  setTitle(AndroidBundle.message("choose.device.dialog.title"));
  init();
  myFacet=facet;
  DefaultTableModel defaultTableModel=new DefaultTableModel();
  myDeviceTable.setModel(defaultTableModel);
  myDeviceTable.setSelectionMode(multipleSelection ? ListSelectionModel.MULTIPLE_INTERVAL_SELECTION : ListSelectionModel.SINGLE_SELECTION);
  myDeviceTable.getSelectionModel().addListSelectionListener(new ListSelectionListener(){
    public void valueChanged(    ListSelectionEvent e){
      updateOkButton();
    }
  }
);
  myDeviceTable.addMouseListener(new MouseAdapter(){
    @Override public void mouseClicked(    MouseEvent e){
      if (e.getClickCount() == 2 && e.getButton() == MouseEvent.BUTTON1 && isOKActionEnabled()) {
        doOKAction();
      }
    }
  }
);
  myDeviceTable.setDefaultRenderer(Boolean.class,new BooleanCellRenderer());
  myDeviceTable.addKeyListener(new KeyAdapter(){
    @Override public void keyPressed(    KeyEvent e){
      if (e.getKeyCode() == KeyEvent.VK_ENTER) {
        doOKAction();
      }
    }
  }
);
  getOKAction().setEnabled(false);
  updateTable();
  if (selectedSerials != null) {
    resetSelection(selectedSerials);
  }
}
