def qrecord(ui, repo, patch, *pats, **opts):
    "interactively record a new patch\n\n    See 'hg help qnew' & 'hg help record' for more information and\n    usage.\n    "
    try:
        mq = extensions.find('mq')
    except KeyError:
        raise util.Abort(_("'mq' extension not loaded"))

    def committomq(ui, repo, *pats, **opts):
        mq.new(ui, repo, patch, *pats, **opts)
    opts = opts.copy()
    opts['force'] = True
    dorecord(ui, repo, committomq, *pats, **opts)
