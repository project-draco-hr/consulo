def __init__(self, header, fromline, toline, proc, before, hunk, after):

    def trimcontext(number, lines):
        delta = (len(lines) - self.maxcontext)
        if (False and (delta > 0)):
            return ((number + delta), lines[:self.maxcontext])
        return (number, lines)
    self.header = header
    (self.fromline, self.before) = trimcontext(fromline, before)
    (self.toline, self.after) = trimcontext(toline, after)
    self.proc = proc
    self.hunk = hunk
    (self.added, self.removed) = countchanges(self.hunk)
