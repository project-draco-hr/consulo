def pretty(self, fp):
    for h in self.header:
        if h.startswith('index '):
            fp.write(_('this modifies a binary file (all or nothing)\n'))
            break
        if self.pretty_re.match(h):
            fp.write(h)
            if self.binary():
                fp.write(_('this is a binary file\n'))
            break
        if h.startswith('---'):
            fp.write((_('%d hunks, %d lines changed\n') % (len(self.hunks), sum([(h.added + h.removed) for h in self.hunks]))))
            break
        fp.write(h)
