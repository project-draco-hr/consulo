{
  @NonNls Element element=new Element("WebBrowsersConfiguration");
  for (  BrowserFamily browserFamily : myBrowserToSettingsMap.keySet()) {
    final Element browser=new Element("browser");
    browser.setAttribute("family",browserFamily.toString());
    final WebBrowserSettings value=myBrowserToSettingsMap.get(browserFamily);
    browser.setAttribute("path",value.getPath());
    browser.setAttribute("active",Boolean.toString(value.isActive()));
    final BrowserSpecificSettings specificSettings=value.getBrowserSpecificSettings();
    if (specificSettings != null) {
      final Element settingsElement=new Element("settings");
      XmlSerializer.serializeInto(specificSettings,settingsElement,new SkipDefaultValuesSerializationFilters());
      browser.addContent(settingsElement);
    }
    element.addContent(browser);
  }
  return element;
}
