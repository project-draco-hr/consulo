{
  final String[] command=BrowserUtil.getOpenBrowserCommand(browserPath);
  String[] args={url};
  if (browserArgs.length > 0) {
    if (SystemInfo.isMac && "open".equals(command[0])) {
      if (BrowserUtil.isOpenCommandSupportsArgs()) {
        args=ArrayUtil.mergeArrays(new String[]{url,"--args"},browserArgs,String.class);
      }
 else {
        LOG.warn("'open' command doesn't allow to pass command line arguments so they will be ignored: " + Arrays.toString(args));
      }
    }
 else {
      args=ArrayUtil.append(browserArgs,url);
    }
  }
  final String[] commandLine=ArrayUtil.mergeArrays(command,args,String.class);
  if (LOG.isDebugEnabled()) {
    LOG.debug("Launching browser: " + Arrays.toString(commandLine));
  }
  Runtime.getRuntime().exec(commandLine);
}
