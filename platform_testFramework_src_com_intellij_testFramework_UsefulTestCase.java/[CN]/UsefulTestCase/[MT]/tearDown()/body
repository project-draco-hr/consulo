{
  try {
    Disposer.dispose(myTestRootDisposable);
    cleanupSwingDataStructures();
  }
  finally {
    if (shouldContainTempFiles() && shouldDeleteTempFilesOnTearDown()) {
      FileUtil.resetCanonicalTempPathCache(ORIGINAL_TEMP_DIR);
      FileUtil.delete(new File(myTempDir));
    }
  }
  UIUtil.removeLeakingAppleListeners();
  super.tearDown();
}
