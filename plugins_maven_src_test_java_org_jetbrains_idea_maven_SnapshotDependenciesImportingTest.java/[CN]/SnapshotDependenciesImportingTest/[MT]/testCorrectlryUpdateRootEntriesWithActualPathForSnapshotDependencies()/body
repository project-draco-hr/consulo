{
  if (!hasMavenInstallation())   return;
  deployArtifact("test","foo","1-SNAPSHOT","<build>" + "  <plugins>" + "    <plugin>"+ "      <artifactId>maven-source-plugin</artifactId>"+ "      <executions>"+ "        <execution>"+ "          <goals>"+ "            <goal>jar</goal>"+ "          </goals>"+ "        </execution>"+ "      </executions>"+ "    </plugin>"+ "    <plugin>"+ "      <artifactId>maven-javadoc-plugin</artifactId>"+ "      <executions>"+ "        <execution>"+ "          <goals>"+ "            <goal>jar</goal>"+ "          </goals>"+ "        </execution>"+ "      </executions>"+ "    </plugin>"+ "  </plugins>"+ "</build>");
  removeFromLocalRepository("test");
  importProject("<groupId>test</groupId>" + "<artifactId>project</artifactId>" + "<version>1</version>" + repositoriesSection() + "<dependencies>"+ "  <dependency>"+ "    <groupId>test</groupId>"+ "    <artifactId>foo</artifactId>"+ "    <version>1-SNAPSHOT</version>"+ "  </dependency>"+ "</dependencies>");
  assertModuleLibDeps("project","Maven: test:foo:1-SNAPSHOT");
  resolveDependenciesAndImport();
  downloadArtifacts();
  assertModuleLibDep("project","Maven: test:foo:1-SNAPSHOT","jar://" + getRepositoryPath() + "/test/foo/1-SNAPSHOT/foo-1-SNAPSHOT.jar!/","jar://" + getRepositoryPath() + "/test/foo/1-SNAPSHOT/foo-1-SNAPSHOT-sources.jar!/","jar://" + getRepositoryPath() + "/test/foo/1-SNAPSHOT/foo-1-SNAPSHOT-javadoc.jar!/");
  deployArtifact("test","foo","1-SNAPSHOT","<build>" + "  <plugins>" + "    <plugin>"+ "      <artifactId>maven-source-plugin</artifactId>"+ "      <executions>"+ "        <execution>"+ "          <goals>"+ "            <goal>jar</goal>"+ "          </goals>"+ "        </execution>"+ "      </executions>"+ "    </plugin>"+ "    <plugin>"+ "      <artifactId>maven-javadoc-plugin</artifactId>"+ "      <executions>"+ "        <execution>"+ "          <goals>"+ "            <goal>jar</goal>"+ "          </goals>"+ "        </execution>"+ "      </executions>"+ "    </plugin>"+ "  </plugins>"+ "</build>");
  removeFromLocalRepository("test");
  scheduleResolveAll();
  resolveDependenciesAndImport();
  assertModuleLibDep("project","Maven: test:foo:1-SNAPSHOT","jar://" + getRepositoryPath() + "/test/foo/1-SNAPSHOT/foo-1-SNAPSHOT.jar!/","jar://" + getRepositoryPath() + "/test/foo/1-SNAPSHOT/foo-1-SNAPSHOT-sources.jar!/","jar://" + getRepositoryPath() + "/test/foo/1-SNAPSHOT/foo-1-SNAPSHOT-javadoc.jar!/");
}
