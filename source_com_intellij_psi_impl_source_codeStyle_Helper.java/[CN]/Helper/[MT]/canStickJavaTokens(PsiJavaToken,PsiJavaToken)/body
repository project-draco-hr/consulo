{
  IElementType type1=token1.getTokenType();
  IElementType type2=token2.getTokenType();
  Pair<IElementType,IElementType> pair=new Pair<IElementType,IElementType>(type1,type2);
  Boolean res=myCanStickJavaTokensMatrix.get(pair);
  if (res == null) {
    String text=token1.getText() + token2.getText();
    final LanguageLevel languageLevel=getProject() != null ? LanguageLevel.HIGHEST : PsiManager.getInstance(getProject()).getEffectiveLanguageLevel();
    Lexer lexer=new JavaLexer(languageLevel);
    lexer.start(text.toCharArray(),0,text.length());
    boolean canMerge=lexer.getTokenType() == type1;
    lexer.advance();
    canMerge=canMerge && lexer.getTokenType() == type2;
    res=Boolean.valueOf(canMerge);
    myCanStickJavaTokensMatrix.put(pair,res);
  }
  return res.booleanValue();
}
