{
  if (child == root)   return 0;
  CompositeElement parent=child.getTreeParent();
  int offset=0;
  for (TreeElement child1=parent.firstChild; child1 != child; child1=child1.getTreeNext()) {
    offset+=child1.getTextLength();
  }
  return getStartOffset(root,parent) + offset;
}
