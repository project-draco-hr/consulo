{
  if (element.getTreePrev() != null) {
    TreeElement prev=element.getTreePrev();
    CompositeElement lastCompositePrev;
    while (prev instanceof CompositeElement) {
      lastCompositePrev=(CompositeElement)prev;
      prev=((CompositeElement)prev).lastChild;
      if (prev == null) {
        return getPrevWhitespace(lastCompositePrev);
      }
    }
    if (prev.getElementType() == ElementType.WHITE_SPACE)     return prev;
 else     return getPrevWhitespace(prev);
  }
 else {
    if (element.getTreeParent() == null) {
      return null;
    }
    return getPrevWhitespace(element.getTreeParent());
  }
}
