{
  final FragmentedDiffPanelState diffPanelState=(FragmentedDiffPanelState)diffPanel.getDiffPanelState();
  diffPanelState.setRanges(ranges);
  diffPanel.setContents(new SimpleContent(sbOld.toString()),new SimpleContent(sbNew.toString()));
  diffPanel.setLineNumberConvertors(oldConvertor,newConvertor);
  diffPanel.prefferedSizeByContents(-1);
}
