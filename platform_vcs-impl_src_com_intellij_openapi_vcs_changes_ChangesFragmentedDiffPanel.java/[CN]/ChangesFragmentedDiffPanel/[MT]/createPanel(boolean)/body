{
  final DiffPanel diffPanel=new DiffPanelImpl(null,myProject,false,horizontal,SHORT_DIFF_DIVIDER_POLYGONS_OFFSET,null){
    @Override protected DiffPanelState createDiffPanelState(    @NotNull Disposable parentDisposable){
      return new FragmentedDiffPanelState(this,myProject,getDiffDividerPolygonsOffset(),!horizontal,parentDisposable);
    }
  }
;
  diffPanel.enableToolbar(false);
  diffPanel.removeStatusBar();
  DiffPanelOptions o=((DiffPanelEx)diffPanel).getOptions();
  o.setRequestFocusOnNewContent(false);
  Disposer.register(this,diffPanel);
  return diffPanel;
}
