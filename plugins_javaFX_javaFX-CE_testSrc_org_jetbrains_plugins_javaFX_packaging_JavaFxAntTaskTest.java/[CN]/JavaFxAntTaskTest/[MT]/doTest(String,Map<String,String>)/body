{
  final String artifactName=getTestName(true);
  final String artifactFileName=artifactName + ".jar";
  final MockJavaFxPackager packager=new MockJavaFxPackager(artifactName + File.separator + artifactFileName);
  final String title=options.get(TITLE);
  if (title != null) {
    packager.setTitle(title);
  }
  final String preloaderClass=options.get(PRELOADER_CLASS);
  if (preloaderClass != null) {
    packager.setPreloaderClass(preloaderClass);
  }
  final String preloaderJar=options.get(PRELOADER_JAR);
  if (preloaderJar != null) {
    packager.setPreloaderJar(preloaderJar);
  }
  final List<JavaFxAntGenerator.SimpleTag> temp=JavaFxAntGenerator.createJarAndDeployTasks(packager,artifactFileName,artifactName,"temp");
  final StringBuilder buf=new StringBuilder();
  for (  JavaFxAntGenerator.SimpleTag tag : temp) {
    tag.generate(buf);
  }
  assertEquals(expected.replaceAll("temp/deploy","temp\\" + File.separator + "deploy").replaceAll("temp/" + artifactFileName,"temp\\" + File.separator + artifactFileName),buf.toString());
}
