{
  final Set<ProblemDescriptor> problems=new HashSet<ProblemDescriptor>();
  file.accept(new PsiRecursiveElementVisitor(){
    public void visitElement(    PsiElement element){
      super.visitElement(element);
    }
    public void visitAssignmentExpression(    PsiAssignmentExpression expression){
      final ProblemDescriptor[] problemDescriptors=checkSillyAssignment(expression,manager);
      if (problemDescriptors != null) {
        problems.addAll(Arrays.asList(problemDescriptors));
      }
    }
    public void visitReferenceExpression(    PsiReferenceExpression expression){
      visitElement(expression);
    }
  }
);
  return problems.isEmpty() ? null : problems.toArray(new ProblemDescriptor[problems.size()]);
}
