{
  PsiSearchHelper helper=PsiSearchHelper.SERVICE.getInstance(element.getProject());
  SearchScope scope=helper.getUseScope(element);
  scope=GlobalSearchScope.projectScope(element.getProject()).intersectWith(scope);
  Processor<PsiElement> commentOrLiteralProcessor=new Processor<PsiElement>(){
    public boolean process(    PsiElement literal){
      return processTextIn(literal,stringToSearch,ignoreReferences,processor);
    }
  }
;
  return processStringLiteralsContainingIdentifier(stringToSearch,scope,helper,commentOrLiteralProcessor) && helper.processCommentsContainingIdentifier(stringToSearch,scope,commentOrLiteralProcessor);
}
