{
  PsiManager manager=element.getManager();
  PsiSearchHelper helper=manager.getSearchHelper();
  SearchScope scope=element.getManager().getSearchHelper().getUseScope(element);
  scope=scope.intersectWith(GlobalSearchScope.projectScope(manager.getProject()));
  Processor<PsiElement> commentOrLiteralProcessor=new Processor<PsiElement>(){
    public boolean process(    PsiElement literal){
      return processTextIn(literal,stringToSearch,ignoreReferences,processor);
    }
  }
;
  return processStringLiteralsContainingIdentifier(stringToSearch,scope,helper,commentOrLiteralProcessor) && helper.processCommentsContainingIdentifier(stringToSearch,scope,commentOrLiteralProcessor);
}
