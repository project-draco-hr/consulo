{
  PsiSearchHelper helper=PsiSearchHelper.SERVICE.getInstance(element.getProject());
  SearchScope scope=PsiSearchHelper.SERVICE.getInstance(element.getProject()).getUseScope(element);
  scope=scope.intersectWith(GlobalSearchScope.projectScope(element.getProject()));
  Processor<PsiElement> commentOrLiteralProcessor=new Processor<PsiElement>(){
    public boolean process(    PsiElement literal){
      return processTextIn(literal,stringToSearch,ignoreReferences,processor);
    }
  }
;
  return processStringLiteralsContainingIdentifier(stringToSearch,scope,helper,commentOrLiteralProcessor) && helper.processCommentsContainingIdentifier(stringToSearch,scope,commentOrLiteralProcessor);
}
