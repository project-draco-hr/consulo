{
  final DefaultMutableTreeNode groupNode=getSelectedGroupNode();
  LOG.assertTrue(groupNode != null);
  final GroupItem groupToBeRemoved=(GroupItem)groupNode.getUserObject();
  if (!Palette.isRemovable(groupToBeRemoved)) {
    Messages.showInfoMessage(myPaletteUI.myPanel,UIDesignerBundle.message("error.cannot.remove.default.group"),CommonBundle.getErrorTitle());
    return;
  }
  final ArrayList<TreePath> expandedPaths=new ArrayList<TreePath>();
  TreeUtil.collectExpandedPaths(myPaletteUI.myTree,expandedPaths);
  TreeUtil.removeLastPathComponent(myPaletteUI.myTree,new TreePath(groupNode.getPath()));
  TreeUtil.restoreExpandedPaths(myPaletteUI.myTree,expandedPaths);
}
