{
  if (myResourceDir == null) {
    return;
  }
  final int selectedIndex=myDirectoriesList.getSelectedIndex();
  if (selectedIndex < 0) {
    return;
  }
  final String selectedDirName=myDirNames[selectedIndex];
  final VirtualFile selectedDir=myResourceDir.findChild(selectedDirName);
  if (selectedDir == null) {
    return;
  }
  final VirtualFileDeleteProvider provider=new VirtualFileDeleteProvider();
  provider.deleteElement(new DataContext(){
    @Override public Object getData(    @NonNls String dataId){
      if (PlatformDataKeys.VIRTUAL_FILE_ARRAY.getName().equals(dataId)) {
        return new VirtualFile[]{selectedDir};
      }
 else {
        return null;
      }
    }
  }
);
  updateDirectories(false);
}
