{
  if (useFilter) {
    result.add(new Filter(){
      public boolean accepts(      RepositoryVersion change){
        final Date changeDate=change.getDate();
        if (changeDate == null)         return false;
        return before ? changeDate.before(date) : changeDate.after(date);
      }
      public boolean accepts(      CommittedChangeList change){
        final Date changeDate=change.getCommitDate();
        if (changeDate == null)         return false;
        return before ? changeDate.before(date) : changeDate.after(date);
      }
    }
);
  }
}
