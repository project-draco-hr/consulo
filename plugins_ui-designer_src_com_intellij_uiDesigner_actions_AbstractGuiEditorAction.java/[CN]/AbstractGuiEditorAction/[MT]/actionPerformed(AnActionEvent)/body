{
  final GuiEditor editor=FormEditingUtil.getEditorFromContext(e.getDataContext());
  if (editor != null) {
    final ArrayList<RadComponent> selection=FormEditingUtil.getSelectedComponents(editor);
    if (myModifying) {
      if (!editor.ensureEditable())       return;
    }
    Runnable runnable=new Runnable(){
      public void run(){
        actionPerformed(editor,selection,e);
        if (myModifying) {
          editor.refreshAndSave(true);
        }
      }
    }
;
    if (getCommandName() != null) {
      CommandProcessor.getInstance().executeCommand(editor.getProject(),runnable,getCommandName(),null);
    }
 else {
      runnable.run();
    }
  }
}
