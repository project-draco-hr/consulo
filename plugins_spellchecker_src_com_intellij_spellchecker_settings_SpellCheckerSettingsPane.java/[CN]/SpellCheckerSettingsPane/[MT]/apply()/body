{
  if (wordsPanel.isModified()) {
    manager.updateUserDictionary(wordsPanel.getWords());
  }
  if (!optionalChooserComponent.isModified() && !pathsChooserComponent.isModified()) {
    return;
  }
  optionalChooserComponent.apply();
  pathsChooserComponent.apply();
  settings.setDictionaryFoldersPaths(pathsChooserComponent.getValues());
  final HashSet<String> disabledDictionaries=new HashSet<String>();
  final HashSet<String> bundledDisabledDictionaries=new HashSet<String>();
  for (  Pair<String,Boolean> pair : allDictionaries) {
    if (!pair.second) {
      final String scriptPath=pair.first;
      if (isUserDictionary(scriptPath)) {
        disabledDictionaries.add(scriptPath);
      }
 else {
        bundledDisabledDictionaries.add(scriptPath);
      }
    }
  }
  settings.setDisabledDictionariesPaths(disabledDictionaries);
  settings.setBundledDisabledDictionariesPaths(bundledDisabledDictionaries);
  manager.updateBundledDictionaries(removedDictionaries);
}
