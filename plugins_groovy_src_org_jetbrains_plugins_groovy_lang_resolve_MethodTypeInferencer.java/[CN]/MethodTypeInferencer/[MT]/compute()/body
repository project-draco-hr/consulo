{
  List<GrReturnStatement> returns=new ArrayList<GrReturnStatement>();
  collectReturns(myBlock,returns);
  PsiType result=null;
  PsiManager manager=myBlock.getManager();
  for (  GrReturnStatement returnStatement : returns) {
    GrExpression value=returnStatement.getReturnValue();
    if (value != null) {
      result=upperBound(result,value.getType(),manager);
    }
  }
  boolean isObject=returns.size() == 0;
  GrStatement[] statements=myBlock.getStatements();
  if (statements.length > 0) {
    GrStatement last=statements[statements.length - 1];
    if (last instanceof GrExpression) {
      result=upperBound(((GrExpression)last).getType(),result,manager);
      isObject=false;
    }
  }
  if (isObject)   return TypesUtil.getJavaLangObject(myBlock);
  return result;
}
