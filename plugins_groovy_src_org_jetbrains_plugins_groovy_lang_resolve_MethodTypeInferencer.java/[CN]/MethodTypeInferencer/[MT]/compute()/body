{
  List<GrReturnStatement> returns=PsiUtil.collectReturns(myBlock);
  PsiType result=null;
  PsiManager manager=myBlock.getManager();
  for (  GrReturnStatement returnStatement : returns) {
    GrExpression value=returnStatement.getReturnValue();
    if (value != null) {
      result=TypesUtil.getLeastUpperBoundNullable(result,value.getType(),manager);
    }
  }
  boolean isObject=returns.size() == 0;
  GrStatement last=PsiUtil.getLastStatement(myBlock);
  if (last instanceof GrExpression) {
    result=TypesUtil.getLeastUpperBoundNullable(((GrExpression)last).getType(),result,manager);
    isObject=false;
  }
  if (isObject)   return TypesUtil.getJavaLangObject(myBlock);
  return result;
}
