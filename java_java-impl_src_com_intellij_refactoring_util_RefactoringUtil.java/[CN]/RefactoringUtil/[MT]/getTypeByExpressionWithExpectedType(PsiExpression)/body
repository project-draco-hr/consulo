{
  PsiType type=getTypeByExpression(expr);
  if (type != null)   return type;
  ExpectedTypeInfo[] expectedTypes=ExpectedTypesProvider.getInstance(expr.getProject()).getExpectedTypes(expr,false);
  if (expectedTypes.length == 1) {
    type=expectedTypes[0].getType();
    if (!type.equalsToText(CommonClassNames.JAVA_LANG_OBJECT))     return type;
  }
  return null;
}
