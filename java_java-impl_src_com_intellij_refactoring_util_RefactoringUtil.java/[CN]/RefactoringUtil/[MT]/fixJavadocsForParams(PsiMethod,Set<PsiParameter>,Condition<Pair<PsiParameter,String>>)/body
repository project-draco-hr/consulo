{
  final PsiDocComment docComment=method.getDocComment();
  if (docComment == null)   return;
  final PsiParameter[] parameters=method.getParameterList().getParameters();
  final PsiDocTag[] paramTags=docComment.findTagsByName("param");
  if (parameters.length > 0 && newParameters.size() < parameters.length && paramTags.length == 0)   return;
  Map<PsiParameter,PsiDocTag> tagForParam=new HashMap<PsiParameter,PsiDocTag>();
  for (  PsiParameter parameter : parameters) {
    boolean found=false;
    for (    PsiDocTag paramTag : paramTags) {
      if (parameter.getName().equals(getNameOfReferencedParameter(paramTag))) {
        tagForParam.put(parameter,paramTag);
        found=true;
        break;
      }
    }
    if (!found) {
      for (      PsiDocTag paramTag : paramTags) {
        final String paramName=getNameOfReferencedParameter(paramTag);
        if (eqCondition.value(new Pair<PsiParameter,String>(parameter,paramName))) {
          tagForParam.put(parameter,paramTag);
          found=true;
          break;
        }
      }
    }
    if (!found && !newParameters.contains(parameter)) {
      tagForParam.put(parameter,null);
    }
  }
  List<PsiDocTag> newTags=new ArrayList<PsiDocTag>();
  for (  PsiParameter parameter : parameters) {
    if (tagForParam.containsKey(parameter)) {
      final PsiDocTag psiDocTag=tagForParam.get(parameter);
      if (psiDocTag != null) {
        final PsiDocTag copy=(PsiDocTag)psiDocTag.copy();
        final PsiDocTagValue valueElement=copy.getValueElement();
        if (valueElement != null) {
          valueElement.replace(createParamTag(parameter).getValueElement());
        }
        newTags.add(copy);
      }
    }
 else {
      newTags.add(createParamTag(parameter));
    }
  }
  PsiElement anchor=paramTags.length > 0 ? paramTags[0].getPrevSibling() : null;
  for (  PsiDocTag paramTag : paramTags) {
    paramTag.delete();
  }
  for (  PsiDocTag psiDocTag : newTags) {
    anchor=docComment.addAfter(psiDocTag,anchor);
  }
}
