{
  return connect(new HttpRequests.RequestProcessor<String>(){
    @Override public String process(    @NotNull HttpRequests.Request request) throws IOException {
      int contentLength=request.getConnection().getContentLength();
      BufferExposingByteArrayOutputStream out=new BufferExposingByteArrayOutputStream(contentLength > 0 ? contentLength : 16 * 1024);
      NetUtils.copyStreamContent(indicator,request.getInputStream(),out,contentLength);
      return new String(out.getInternalBuffer(),0,out.size(),HttpRequests.getCharset(request));
    }
  }
);
}
