{
  final String profile=Messages.showInputDialog(myProject,"Profile name","Create new profile",null,"",new InputValidatorEx(){
    @Override public boolean checkInput(    String inputString){
      return !DEFAULT_PROFILE.equals(inputString) && !profiles.containsKey(inputString) && !StringUtil.isEmpty(inputString);
    }
    @Override public boolean canClose(    String inputString){
      return checkInput(inputString);
    }
    @Override public String getErrorText(    String inputString){
      if (checkInput(inputString))       return null;
      return StringUtil.isEmpty(inputString) ? "Profile name shouldn't be empty" : "Profile " + inputString + " already exists";
    }
  }
);
  if (profile != null) {
    profiles.put(profile,new ArrayList<Module>());
  }
  ((SyncWithMap)getRoot()).sync();
  final DefaultMutableTreeNode object=TreeUtil.findNodeWithObject((DefaultMutableTreeNode)getRoot(),profile);
  if (object != null) {
    TreeUtil.selectNode(myTree,object);
  }
  return null;
}
