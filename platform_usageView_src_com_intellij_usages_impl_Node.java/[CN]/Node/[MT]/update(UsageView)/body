{
  boolean isDataValid=isDataValid();
  boolean isReadOnly=isDataReadOnly();
  boolean isExcluded=isDataExcluded();
  String text=getText(view);
  boolean cachedValid=isValid();
  boolean cachedReadOnly=isFlagSet(READ_ONLY_FLAG);
  boolean cachedExcluded=isFlagSet(EXCLUDED_FLAG);
  if (isDataValid != cachedValid || isReadOnly != cachedReadOnly || isExcluded != cachedExcluded || !Comparing.equal(myCachedText,text)) {
    setFlag(INVALID_FLAG,!isDataValid);
    setFlag(READ_ONLY_FLAG,isReadOnly);
    setFlag(EXCLUDED_FLAG,isExcluded);
    myCachedText=text;
    updateNotify();
    myTreeModel.nodeChanged(this);
  }
  setFlag(UPDATED_FLAG,true);
}
