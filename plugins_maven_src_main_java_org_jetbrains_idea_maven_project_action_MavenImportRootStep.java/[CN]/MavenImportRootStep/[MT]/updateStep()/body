{
  if (!myRootPathComponent.isPathChangedByUser()) {
    String path=null;
    final VirtualFile rootDirectory=myImportContext.getRootDirectory();
    if (rootDirectory != null) {
      path=rootDirectory.getPath();
    }
 else     if (myWizardContext.getProjectFileDirectory() != null) {
      path=myWizardContext.getProjectFileDirectory();
    }
 else {
      final Project updatedProject=myImportContext.getUpdatedProject();
      if (updatedProject != null) {
        final VirtualFile baseDir=updatedProject.getBaseDir();
        if (baseDir != null) {
          path=baseDir.getPath();
        }
      }
    }
    if (path != null) {
      myRootPathComponent.setPath(FileUtil.toSystemDependentName(path));
      myRootPathComponent.getPathComponent().selectAll();
    }
  }
  myImporterPreferencesForm.setData(myImporterPreferences);
}
