{
  if (!myRootPathComponent.isPathChangedByUser()) {
    String path=null;
    final VirtualFile rootDirectory=myImportContext.getRootDirectory();
    if (rootDirectory != null) {
      path=rootDirectory.getPath();
    }
 else     if (myWizardContext.getProjectFileDirectory() != null) {
      path=myWizardContext.getProjectFileDirectory();
    }
 else     if (myImportContext.getUpdatedProject() != null) {
      final VirtualFile baseDir=myImportContext.getUpdatedProject().getBaseDir();
      if (baseDir != null) {
        path=baseDir.getPath();
      }
    }
    if (path != null) {
      myRootPathComponent.setPath(FileUtil.toSystemDependentName(path));
      myRootPathComponent.getPathComponent().selectAll();
    }
  }
  myImporterPreferencesForm.setData(myImporterPreferences);
}
