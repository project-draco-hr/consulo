{
  VirtualFile m1=createModulePom("m1","<groupId>test</groupId>" + "<artifactId>m1</artifactId>" + "<version>1</version>");
  VirtualFile m2=createModulePom("m2","<groupId>test</groupId>" + "<artifactId>m2</artifactId>" + "<version>1</version>");
  importSeveralProjects(m1,m2);
  updateModulePom("m1","<groupId>test</groupId>" + "<artifactId>m1</artifactId>" + "<version>1</version>"+ "<dependencies>"+ "  <dependency>"+ "    <groupId>test</groupId>"+ "    <artifactId><caret>m2</artifactId>"+ "    <version>1</version>"+ "  </dependency>"+ "</dependencies>");
  PsiReference ref=getReferenceAtCaret(m1);
  assertNotNull(ref);
  assertEquals(getPsiFile(m2),ref.resolve());
}
