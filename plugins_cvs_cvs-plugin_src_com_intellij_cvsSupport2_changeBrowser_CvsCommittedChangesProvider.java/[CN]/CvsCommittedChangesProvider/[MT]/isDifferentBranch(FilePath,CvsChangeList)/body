{
  final String localTag;
  final CvsEntriesManager cvsEntriesManager=CvsEntriesManager.getInstance();
  final VirtualFile parent=filePath.getVirtualFileParent();
  if (parent != null) {
    final Entry entry=cvsEntriesManager.getEntryFor(parent,filePath.getName());
    if (entry != null) {
      localTag=entry.getStickyTag();
    }
 else {
      localTag=getDirectoryTag(parent);
    }
  }
 else {
    final VirtualFile validParent=ApplicationManager.getApplication().runReadAction(new Computable<VirtualFile>(){
      @Nullable public VirtualFile compute(){
        return ChangesUtil.findValidParent(filePath);
      }
    }
);
    if (validParent == null)     return false;
    localTag=getDirectoryTag(validParent);
  }
  final String remoteTag=changeList.getBranch();
  if (!Comparing.equal(localTag,remoteTag)) {
    LOG.info(filePath + ": local tag " + localTag+ ", remote tag "+ remoteTag);
    return true;
  }
  return false;
}
