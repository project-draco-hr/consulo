{
  return new Dimension(getPreferredWidth(),isVisible() && getParent() != null ? getParent().getSize().height : super.getPreferredSize().height);
}
