{
  for (  BuilderCategory category : BuilderCategory.values()) {
    myModuleLevelBuilders.put(category,new ArrayList<ModuleLevelBuilder>());
  }
  for (  BuilderService service : JpsServiceManager.getInstance().getExtensions(BuilderService.class)) {
    myProjectLevelBuilders.addAll(service.createProjectLevelBuilders());
    final List<? extends ModuleLevelBuilder> moduleLevelBuilders=service.createModuleLevelBuilders();
    for (    ModuleLevelBuilder builder : moduleLevelBuilders) {
      myModuleLevelBuilders.get(builder.getCategory()).add(builder);
    }
    for (    BuildTargetType<?> type : service.getTargetTypes()) {
      String id=type.getTypeId();
      BuildTargetType<?> old=myTargetTypes.put(id,type);
      if (old != null) {
        LOG.error("Two build target types (" + type + ", "+ old+ ") use same id ("+ id+ ")");
      }
    }
  }
}
