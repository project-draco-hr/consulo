{
  final long now=System.currentTimeMillis();
synchronized (myLock) {
    if (now - myRefsReloadTick >= ourRefsReload) {
      scheduleRefs();
    }
    myRefsReloadTick=now;
    for (    VirtualFile root : hashes.keySet()) {
      final CommitIdsHolder<AbstractHash> holder=myLoadIdsGatherer.get(root);
      holder.add(hashes.get(root));
      myQueue.run(new Worker(myProject,root,myAccesses.get(root),myDetailsCache,myQueue),myState,null);
    }
  }
}
