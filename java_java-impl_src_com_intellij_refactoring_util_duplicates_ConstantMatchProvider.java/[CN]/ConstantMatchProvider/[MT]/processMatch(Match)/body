{
  final PsiClass containingClass=myField.getContainingClass();
  LOG.assertTrue(containingClass != null,myField);
  String fieldReference=myField.getName();
  final PsiElement start=match.getMatchStart();
  if (!PsiTreeUtil.isAncestor(containingClass,start,false)) {
    fieldReference=containingClass.getQualifiedName() + "." + fieldReference;
  }
  return match.replaceWithExpression(JavaPsiFacade.getElementFactory(myProject).createExpressionFromText(fieldReference,myField));
}
