{
  String url=null;
  if (path.startsWith("/")) {
    final String relativePath=new File(myRootPath).getParent() + "/" + path;
    final File file=new File(relativePath);
    if (file.exists()) {
      url=VfsUtil.pathToUrl(relativePath);
    }
  }
  if (url == null) {
    final String absPath=myRootPath + "/" + path;
    if (new File(absPath).exists()) {
      url=VfsUtil.pathToUrl(absPath);
    }
 else {
      url=VfsUtil.pathToUrl(path);
    }
  }
  final VirtualFile localFile=VirtualFileManager.getInstance().findFileByUrl(url);
  if (localFile != null) {
    final VirtualFile jarFile=JarFileSystem.getInstance().getJarRootForLocalFile(localFile);
    if (jarFile != null) {
      url=jarFile.getUrl();
    }
  }
  return url;
}
