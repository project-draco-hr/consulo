{
  for (  OrderEntry orderEntry : model.getOrderEntries()) {
    if (!(orderEntry instanceof ModuleSourceOrderEntry)) {
      model.removeOrderEntry(orderEntry);
    }
  }
  int idx=0;
  final EclipseModuleManagerImpl eclipseModuleManager=EclipseModuleManagerImpl.getInstance(model.getModule());
  final HashSet<String> libs=new HashSet<String>();
  for (  Object o : classpathElement.getChildren(EclipseXml.CLASSPATHENTRY_TAG)) {
    try {
      readClasspathEntry(model,unknownLibraries,unknownJdks,usedVariables,refsToModules,testPattern,(Element)o,idx++,eclipseModuleManager,((BasePathMacroManager)PathMacroManager.getInstance(model.getModule())).getExpandMacroMap(),libs);
    }
 catch (    ConversionException e) {
      ErrorLog.rethrow(ErrorLog.Level.Warning,null,EclipseXml.CLASSPATH_FILE,e);
    }
  }
  if (!model.isSdkInherited() && model.getSdkName() == null) {
    eclipseModuleManager.setForceConfigureJDK();
    model.inheritSdk();
  }
}
