{
  List<TextRange> result=new ArrayList<TextRange>();
  if (range == null) {
    return result;
  }
  LOG.assertTrue(range.getEndOffset() <= text.length());
  if (!StringUtil.contains(text,range.getStartOffset(),range.getEndOffset(),'\n')) {
    result.add(range);
  }
  TextRange expanded=getExpandedRange(text,range,isSymmetric);
  if (expanded != null) {
    result.add(expanded);
  }
 else {
    result.add(range);
  }
  return result;
}
