{
  final TextRange originalRange=e.getTextRange();
  LOG.assertTrue(originalRange.getEndOffset() <= editorText.length(),getClass() + "; " + e);
  List<TextRange> ranges=expandToWholeLine(editorText,originalRange,true);
  if (ranges.size() == 1 && ranges.contains(originalRange)) {
    ranges=expandToWholeLine(editorText,originalRange,false);
  }
  List<TextRange> result=ContainerUtil.newArrayList();
  result.addAll(ranges);
  return result;
}
