{
  ConfigurableGroup[] group;
  if (project == null) {
    group=new ConfigurableGroup[]{new IdeConfigurablesGroup()};
  }
 else {
    group=new ConfigurableGroup[]{new ProjectConfigurablesGroup(project),new IdeConfigurablesGroup()};
  }
  Project actualProject=project != null ? project : ProjectManager.getInstance().getDefaultProject();
  group=filterEmptyGroups(group);
  OptionsEditorDialog dialog;
  if (Registry.is("ide.perProjectModality")) {
    dialog=new OptionsEditorDialog(actualProject,group,nameToSelect,true);
  }
 else {
    dialog=new OptionsEditorDialog(actualProject,group,nameToSelect);
  }
  dialog.show();
}
