{
  final List<OrderRootType> rootTypes=LibraryImpl.sortRootTypes(getRootTypes());
  for (  OrderRootType rootType : rootTypes) {
    final List<String> urls=new ArrayList<String>(getDirectories(rootType));
    Collections.sort(urls,String.CASE_INSENSITIVE_ORDER);
    for (    String url : urls) {
      final Element jarDirElement=new Element(JAR_DIRECTORY_ELEMENT);
      jarDirElement.setAttribute(URL_ATTR,url);
      jarDirElement.setAttribute(RECURSIVE_ATTR,Boolean.toString(isRecursive(rootType,url)));
      if (!rootType.equals(DEFAULT_JAR_DIRECTORY_TYPE)) {
        jarDirElement.setAttribute(ROOT_TYPE_ATTR,rootType.name());
      }
      element.addContent(jarDirElement);
    }
  }
}
