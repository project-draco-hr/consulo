{
  String[] arguments=ArrayUtil.mergeArrays(new String[]{gitExecutable,command},params);
  log("# " + StringUtil.join(arguments," "));
  final ProcessBuilder builder=new ProcessBuilder().command(arguments);
  builder.directory(myRootDir);
  builder.redirectErrorStream(true);
  Process clientProcess=builder.start();
  CapturingProcessHandler handler=new CapturingProcessHandler(clientProcess,CharsetToolkit.getDefaultSystemCharset());
  ProcessOutput result=handler.runProcess(30 * 1000);
  if (result.isTimeout()) {
    throw new RuntimeException("Timeout waiting for Git execution");
  }
  log("{ " + result.getExitCode() + "}");
  final String out=result.getStdout().trim();
  if (out.length() > 0) {
    log(out);
  }
  return result.getStdout();
}
