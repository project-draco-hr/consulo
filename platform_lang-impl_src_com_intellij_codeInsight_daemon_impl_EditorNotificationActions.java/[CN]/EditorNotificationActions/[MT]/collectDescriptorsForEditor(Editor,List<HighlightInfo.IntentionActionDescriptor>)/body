{
  Project project=editor.getProject();
  if (project == null)   return;
  FileEditorManager fileEditorManager=FileEditorManager.getInstance(project);
  if (!(fileEditorManager instanceof FileEditorManagerImpl))   return;
  TextEditor fileEditor=TextEditorProvider.getInstance().getTextEditor(editor);
  List<JComponent> components=((FileEditorManagerImpl)fileEditorManager).getTopComponents(fileEditor);
  for (  JComponent component : components) {
    if (component instanceof IntentionActionProvider) {
      IntentionActionWithOptions action=((IntentionActionProvider)component).getIntentionAction();
      if (action != null) {
        descriptors.add(new HighlightInfo.IntentionActionDescriptor(action,action.getOptions(),null));
      }
    }
  }
}
