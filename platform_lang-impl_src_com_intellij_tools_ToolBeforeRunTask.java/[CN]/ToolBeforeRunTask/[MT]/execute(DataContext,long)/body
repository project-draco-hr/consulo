{
  final Semaphore targetDone=new Semaphore();
  final boolean[] result=new boolean[1];
  try {
    ApplicationManager.getApplication().invokeAndWait(new Runnable(){
      @Override public void run(){
        targetDone.down();
        boolean runToolResult=ToolAction.runTool(myToolActionId,context,null,executionId,new ProcessAdapter(){
          @Override public void processTerminated(          ProcessEvent event){
            result[0]=event.getExitCode() == 0;
            targetDone.up();
          }
        }
);
        if (!runToolResult) {
          result[0]=false;
          targetDone.up();
        }
      }
    }
,ModalityState.NON_MODAL);
  }
 catch (  Exception e) {
    LOG.error(e);
    return false;
  }
  targetDone.waitFor();
  return result[0];
}
