{
  ChameleonTransforming.transformChildren(this);
  int count=0;
  for (TreeElement child=firstChild; child != null; child=child.getTreeNext()) {
    if (filter == null || filter.isInSet(child.getElementType())) {
      count++;
    }
  }
  return count;
}
