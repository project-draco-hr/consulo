{
  CompositeElement parent=this;
  int sum=0;
  while (parent != null) {
    sum+=parent.getModificationCount();
    parent=parent.getTreeParent();
  }
  if (sum != myParentModifications) {
    myParentModifications=sum;
    if (prev != null)     myStartOffset=prev.getStartOffset() + prev.getTextLength();
 else {
      if (this.parent != null)       myStartOffset=this.parent.getStartOffset();
 else       myStartOffset=0;
    }
  }
  return myStartOffset;
}
