{
  final PsiElement element=refFrom.getElement();
  if (!(refWhat instanceof RefField)) {
    return;
  }
  final RefField refField=(RefField)refWhat;
  final PsiElement psiElement=refField.getElement();
  if (!(psiElement instanceof PsiField)) {
    return;
  }
  final PsiField field=(PsiField)psiElement;
  final PsiType type=field.getType();
  if (!PsiType.BOOLEAN.equals(type)) {
    return;
  }
  element.accept(new JavaRecursiveElementVisitor(){
    @Override public void visitReferenceExpression(    PsiReferenceExpression referenceExpression){
      super.visitReferenceExpression(referenceExpression);
      if (referenceExpression.isReferenceTo(field)) {
        if (isInvertedFieldRead(referenceExpression)) {
          return;
        }
        refField.putUserData(ALWAYS_INVERTED,Boolean.FALSE);
      }
    }
  }
);
}
