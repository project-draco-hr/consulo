{
  return new RenameWithOptionalReferencesDialog(project,element,nameSuggestionContext,editor){
    @Override protected boolean getSearchForReferences(){
      return RenamePsiFileProcessor.getSearchForReferences(element);
    }
    @Override protected void setSearchForReferences(    boolean value){
      if (element instanceof PsiFile) {
        RefactoringSettings.getInstance().RENAME_SEARCH_FOR_REFERENCES_FOR_FILE=value;
      }
 else {
        RefactoringSettings.getInstance().RENAME_SEARCH_FOR_REFERENCES_FOR_DIRECTORY=value;
      }
    }
  }
;
}
