{
  for (int idx=0; idx < myFilteringRules.length; idx++) {
    final UsageFilteringRule rule=myFilteringRules[idx];
    if (!rule.isVisible(usage)) {
      return null;
    }
  }
  GroupNode lastGroupNode=myRoot;
  for (int i=0; i < myGroupingRules.length; i++) {
    final UsageGroupingRule rule=myGroupingRules[i];
    final UsageGroup group=rule.groupUsage(usage);
    if (group != null) {
      lastGroupNode=lastGroupNode.addGroup(group,i);
    }
  }
  return lastGroupNode.addUsage(usage);
}
