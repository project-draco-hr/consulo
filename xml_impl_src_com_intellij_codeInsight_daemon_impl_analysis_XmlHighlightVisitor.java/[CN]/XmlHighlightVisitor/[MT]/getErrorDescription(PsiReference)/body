{
  String message;
  if (reference instanceof EmptyResolveMessageProvider) {
    message=((EmptyResolveMessageProvider)reference).getUnresolvedMessagePattern();
  }
 else {
    message=XmlErrorMessages.message("cannot.resolve.symbol");
  }
  String description;
  try {
    description=MessageFormat.format(message,reference.getCanonicalText());
  }
 catch (  IllegalArgumentException ex) {
    description=message;
    LOG.warn(XmlErrorMessages.message("plugin.reference.message.problem",reference.getClass().getName(),message));
  }
  return description;
}
