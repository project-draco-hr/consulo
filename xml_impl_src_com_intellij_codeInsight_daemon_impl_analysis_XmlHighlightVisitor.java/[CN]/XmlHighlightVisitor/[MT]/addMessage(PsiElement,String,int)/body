{
  if (message != null && message.length() > 0) {
    if (context instanceof XmlTag && XmlExtension.getExtension(context.getContainingFile()).shouldBeHighlightedAsTag((XmlTag)context)) {
      HighlightInfoType infoType=type == ERROR ? HighlightInfoType.ERROR : type == WARNING ? HighlightInfoType.WARNING : HighlightInfoType.WEAK_WARNING;
      addElementsForTag((XmlTag)context,message,infoType,null);
    }
 else {
      addToResults(HighlightInfo.createHighlightInfo(HighlightInfoType.WRONG_REF,context,message));
    }
  }
}
