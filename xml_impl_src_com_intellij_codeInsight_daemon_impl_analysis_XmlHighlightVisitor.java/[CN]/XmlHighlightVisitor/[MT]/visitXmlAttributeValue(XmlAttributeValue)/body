{
  final PsiElement parent=value.getParent();
  if (!(parent instanceof XmlAttribute)) {
    checkReferences(value);
    return;
  }
  XmlAttribute attribute=(XmlAttribute)parent;
  XmlTag tag=attribute.getParent();
  XmlElementDescriptor elementDescriptor=tag.getDescriptor();
  if (elementDescriptor == null)   return;
  XmlAttributeDescriptor attributeDescriptor=elementDescriptor.getAttributeDescriptor(attribute);
  if (attributeDescriptor == null)   return;
  if (value.getUserData(DO_NOT_VALIDATE_KEY) == null) {
    String error=attributeDescriptor.validateValue(value,attribute.getValue());
    if (error != null) {
      addToResults(HighlightInfo.createHighlightInfo(getTagProblemInfoType(tag),value,error));
      return;
    }
  }
  checkReferences(value);
}
