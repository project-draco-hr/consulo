{
  for (int i=0; i < startTokens.length; i++) {
    LOG.assertTrue(!myStartTokenToLayerLexer.containsKey(startTokens[i]));
    myStartTokenToLayerLexer.put(startTokens[i],Lexer);
  }
  myLayerLexers.add(Lexer);
  myMaxLayerStatesCount=Math.max(myMaxLayerStatesCount,Lexer.getLastState() + 1);
  mySmartUpdate=Math.max(mySmartUpdate,Lexer.getSmartUpdateShift());
  calcLastState();
}
