{
  myIndexDataConsumer=indexDataConsumer;
  if (consumeTodos) {
    myTodoOccurrences=new TObjectIntHashMap<IndexPattern>();
    IndexPattern[] patterns=IdCacheUtil.getIndexPatterns();
    for (    IndexPattern pattern : patterns) {
      myTodoOccurrences.put(pattern,0);
    }
  }
 else {
    myTodoOccurrences=null;
  }
}
