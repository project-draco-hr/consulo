{
  final VirtualFile[] a=asArray();
  if (a != null) {
    for (    VirtualFile file : a) {
      NewVirtualFile withId=(NewVirtualFile)file;
      if (withId.getId() == id)       return withId;
    }
    return null;
  }
  final Map<String,VirtualFile> map=asMap();
  if (map != null) {
    for (    Map.Entry<String,VirtualFile> entry : map.entrySet()) {
      VirtualFile file=entry.getValue();
      if (file == NullVirtualFile.INSTANCE)       continue;
      NewVirtualFile withId=(NewVirtualFile)file;
      if (withId.getId() == id)       return withId;
    }
  }
  String name=ourPersistence.getName(id);
  return findChild(name);
}
