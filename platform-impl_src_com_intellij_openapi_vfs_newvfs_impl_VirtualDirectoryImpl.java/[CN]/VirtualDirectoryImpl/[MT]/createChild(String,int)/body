{
  final NewVirtualFileSystem fs=getFileSystem();
  final VirtualFileSystemEntry child=ourPersistence.isDirectory(id) ? new VirtualDirectoryImpl(name,this,fs,id) : new VirtualFileImpl(name,this,id);
  if (fs.markNewFilesAsDirty()) {
    child.markDirty();
  }
  return child;
}
