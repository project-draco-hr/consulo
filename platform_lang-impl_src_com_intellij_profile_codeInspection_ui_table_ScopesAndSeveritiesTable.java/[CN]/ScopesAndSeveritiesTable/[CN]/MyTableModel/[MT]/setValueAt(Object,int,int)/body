{
  if (value == null) {
    return;
  }
  if (columnIndex == SEVERITY_COLUMN) {
    final SeverityState severityState=(SeverityState)value;
    final HighlightDisplayLevel level=HighlightDisplayLevel.find(severityState.getSeverity().getName());
    if (level == null) {
      LOG.error("no display level found for name " + severityState.getSeverity().getName());
      return;
    }
    final String scopeName=rowIndex == lastRowIndex() ? null : getScopeName(rowIndex);
    myInspectionProfile.setErrorLevel(myKeys,level,scopeName,myProject);
  }
 else   if (columnIndex == SCOPE_ENABLED_COLUMN) {
    final NamedScope scope=getScope(rowIndex);
    if (scope == null) {
      return;
    }
    if ((Boolean)value) {
      for (      final String keyName : myKeyNames) {
        myInspectionProfile.enableTool(keyName,myProject);
      }
      if (rowIndex == lastRowIndex()) {
        myInspectionProfile.enableToolsByDefault(myKeyNames,myProject);
      }
 else {
        myInspectionProfile.enableTools(myKeyNames,scope,myProject);
      }
    }
 else {
      if (rowIndex == lastRowIndex()) {
        myInspectionProfile.disableToolByDefault(myKeyNames,myProject);
      }
 else {
        myInspectionProfile.disableTools(myKeyNames,scope,myProject);
      }
    }
    if (myKeyNames.size() == 1) {
      final String keyName=ContainerUtil.getFirstItem(myKeyNames);
      final ScopeToolState state=getScopeToolState(keyName,rowIndex);
      myTableSettings.onScopeChosen(state);
    }
  }
  myTableSettings.onSettingsChanged();
}
