{
  if (parameters.getCompletionType() != CompletionType.SMART)   return;
  Collection<?> variants=ApplicationManager.getApplication().runReadAction(new Computable<Collection<?>>(){
    @Override public Collection<?> compute(){
      return getVariants(parameters);
    }
  }
);
  MavenPropertyCompletionContributor.addVariants(variants,result);
}
