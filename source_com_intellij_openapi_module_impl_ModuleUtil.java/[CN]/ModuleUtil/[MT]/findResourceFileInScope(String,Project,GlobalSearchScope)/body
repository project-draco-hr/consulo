{
  int index=resourceName.lastIndexOf('/');
  String packageName=(index >= 0) ? resourceName.substring(0,index).replace('/','.') : "";
  String fileName=(index >= 0) ? resourceName.substring(index + 1) : resourceName;
  final VirtualFile[] files=ProjectRootManager.getInstance(project).getFileIndex().getDirectoriesByPackageName(packageName,false);
  for (  VirtualFile file : files) {
    final VirtualFile child=file.findChild(fileName);
    if (child != null && scope.contains(child)) {
      return child;
    }
  }
  return null;
}
