{
  if (LOG.isDebugEnabled()) {
    LOG.debug("Running groovyc on: " + virtualFiles.toString());
  }
  FileOutputStream stream;
  try {
    stream=new FileOutputStream(f);
  }
 catch (  FileNotFoundException e) {
    LOG.error(e);
    return;
  }
  final PrintStream printer=new PrintStream(stream);
  for (  final VirtualFile item : virtualFiles) {
    printer.println(GroovycRunner.SRC_FILE);
    printer.println(FileUtil.toSystemDependentName(item.getPath()));
  }
  if (!patchers.isEmpty()) {
    printer.println(GroovycRunner.PATCHERS);
    for (    final String patcher : patchers) {
      printer.println(patcher);
    }
    printer.println(GroovycRunner.END);
  }
  final Charset ideCharset=EncodingProjectManager.getInstance(myProject).getDefaultCharset();
  if (!Comparing.equal(CharsetToolkit.getDefaultSystemCharset(),ideCharset)) {
    printer.println(GroovycRunner.ENCODING);
    printer.println(ideCharset.name());
  }
  printer.println(GroovycRunner.OUTPUTPATH);
  printer.println(PathUtil.getLocalPath(outputDir));
  printer.println(GroovycRunner.FINAL_OUTPUTPATH);
  printer.println(FileUtil.toSystemDependentName(finalOutputDir.getPath()));
  printer.close();
}
