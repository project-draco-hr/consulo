{
  new WriteCommandAction(getProject()){
    protected void run(    Result result) throws Throwable {
      final ModuleRootManager rootManager=ModuleRootManager.getInstance(myModule);
      final ModifiableRootModel rootModel=rootManager.getModifiableModel();
      final ContentEntry entry=rootModel.getContentEntries()[0];
      entry.removeSourceFolder(entry.getSourceFolders()[0]);
      entry.addSourceFolder(myFixture.getTempDirFixture().findOrCreateDir("src"),false);
      entry.addSourceFolder(myFixture.getTempDirFixture().findOrCreateDir("tests"),true);
      rootModel.commit();
    }
  }
.execute();
}
