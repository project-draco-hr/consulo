{
  final UndoableAction action=new UndoableAction(){
    public void undo() throws UnexpectedUndoException {
      addRemoveInjectionsInner(project,configuration,originalInjections,newInjections);
    }
    public void redo() throws UnexpectedUndoException {
      addRemoveInjectionsInner(project,configuration,newInjections,originalInjections);
    }
    public DocumentReference[] getAffectedDocuments(){
      return DocumentReference.EMPTY_ARRAY;
    }
    public boolean isComplex(){
      return true;
    }
  }
;
  new WriteCommandAction.Simple(project){
    public void run(){
      addRemoveInjectionsInner(project,configuration,newInjections,originalInjections);
      UndoManager.getInstance(project).undoableActionPerformed(action);
    }
  }
.execute();
}
