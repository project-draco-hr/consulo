{
  if (primaryElements.length == 0)   return Collections.emptyList();
  final SmartPointerManager smartPointerManager=SmartPointerManager.getInstance(primaryElements[0].getProject());
  return ContainerUtil.mapNotNull(primaryElements,new Function<PsiElement,SmartPsiElementPointer<PsiElement>>(){
    @Override public SmartPsiElementPointer<PsiElement> fun(    final PsiElement s){
      return smartPointerManager.createSmartPsiElementPointer(s);
    }
  }
);
}
