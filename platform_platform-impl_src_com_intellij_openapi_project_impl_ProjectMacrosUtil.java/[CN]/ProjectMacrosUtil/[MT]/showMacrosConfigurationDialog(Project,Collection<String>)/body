{
  final String text=ProjectBundle.message("project.load.undefined.path.variables.message");
  final Application application=ApplicationManager.getApplication();
  if (application.isHeadlessEnvironment() || application.isUnitTestMode()) {
    throw new RuntimeException(text + ": " + StringUtil.join(undefinedMacros,", "));
  }
  final UndefinedMacrosConfigurable configurable=new UndefinedMacrosConfigurable(text,undefinedMacros);
  final SingleConfigurableEditor editor=new SingleConfigurableEditor(project,configurable);
  editor.show();
  return editor.isOK();
}
