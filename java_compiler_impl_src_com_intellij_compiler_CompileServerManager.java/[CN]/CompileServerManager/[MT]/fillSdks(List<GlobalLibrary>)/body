{
  for (  Sdk sdk : ProjectJdkTable.getInstance().getAllJdks()) {
    final String name=sdk.getName();
    final String homePath=sdk.getHomePath();
    if (homePath == null) {
      continue;
    }
    final SdkAdditionalData data=sdk.getSdkAdditionalData();
    final String additionalDataXml;
    final SdkType sdkType=sdk.getSdkType();
    if (data == null) {
      additionalDataXml=null;
    }
 else {
      final Element element=new Element("additional");
      sdkType.saveAdditionalData(data,element);
      additionalDataXml=JDOMUtil.writeElement(element,"\n");
    }
    final List<String> paths=convertToLocalPaths(sdk.getRootProvider().getFiles(OrderRootType.CLASSES));
    String versionString=sdk.getVersionString();
    if (versionString != null && sdkType instanceof JavaSdk) {
      final JavaSdkVersion version=((JavaSdk)sdkType).getVersion(versionString);
      if (version != null) {
        versionString=version.getDescription();
      }
    }
    globals.add(new SdkLibrary(name,sdkType.getName(),versionString,homePath,paths,additionalDataXml));
  }
}
