{
  final Map<String,String> data=new HashMap<String,String>();
  for (  Map.Entry<String,String> entry : PathMacrosImpl.getGlobalSystemMacros().entrySet()) {
    data.put(entry.getKey(),FileUtil.toSystemIndependentName(entry.getValue()));
  }
  final PathMacros pathVars=PathMacros.getInstance();
  for (  String name : pathVars.getAllMacroNames()) {
    final String path=pathVars.getValue(name);
    if (path != null) {
      data.put(name,FileUtil.toSystemIndependentName(path));
    }
  }
  final List<GlobalLibrary> globals=new ArrayList<GlobalLibrary>();
  fillSdks(globals);
  fillGlobalLibraries(globals);
  final String ignoredFilesList=FileTypeManager.getInstance().getIgnoredFilesList();
  return client.sendSetupRequest(data,globals,EncodingManager.getInstance().getDefaultCharsetName(),ignoredFilesList);
}
