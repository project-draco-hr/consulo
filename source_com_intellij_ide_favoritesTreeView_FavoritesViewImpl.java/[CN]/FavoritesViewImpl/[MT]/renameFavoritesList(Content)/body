{
  final FavoritesTreeViewPanel favoritesPanel=((FavoritesTreeViewPanel)content.getComponent());
  final String oldName=favoritesPanel.getName();
  final String s=Messages.showInputDialog(myCurrentProject,IdeBundle.message("prompt.input.favorites.list.new.name"),IdeBundle.message("title.rename.favorites.list"),Messages.getInformationIcon(),oldName,new InputValidator(){
    public boolean checkInput(    String inputString){
      return inputString != null && inputString.trim().length() > 0;
    }
    public boolean canClose(    String inputString){
      final boolean isNew=ArrayUtil.find(FavoritesViewImpl.getInstance(myCurrentProject).getAvailableFavoritesLists(),inputString.trim()) == -1;
      if (!isNew) {
        Messages.showErrorDialog(myCurrentProject,IdeBundle.message("error.favorites.list.already.exists",inputString.trim()),IdeBundle.message("title.unable.to.add.favorites.list"));
        return false;
      }
      return inputString.trim().length() > 0;
    }
  }
);
  if (s != null && s.length() > 0) {
    myName2FavoritesListSet.remove(oldName);
    favoritesPanel.setName(s);
    content.setDisplayName(s);
    myName2FavoritesListSet.put(s,content);
    myCurrentFavoritesList=s;
    myActions.remove(oldName);
  }
}
