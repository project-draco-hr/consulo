{
  for (Iterator<Element> iterator=element.getChildren("favorites_list").iterator(); iterator.hasNext(); ) {
    Element el=iterator.next();
    final String name=el.getAttributeValue("name");
    final ContentFactory contentFactory=PeerFactory.getInstance().getContentFactory();
    final FavoritesTreeViewPanel favoritesPanel=new FavoritesTreeViewPanel(myProject,null,name);
    myName2FavoritesListSet.put(name,contentFactory.createContent(favoritesPanel,name,false));
    final AddToFavoritesAction addAction=new AddToFavoritesAction(name);
    myActions.put(name,addAction);
    ((DefaultActionGroup)ActionManager.getInstance().getAction(IdeActions.ADD_TO_FAVORITES)).add(addAction);
    favoritesPanel.getFavoritesTreeStructure().readExternal(el);
  }
  myCurrentFavoritesList=element.getAttributeValue("current");
}
