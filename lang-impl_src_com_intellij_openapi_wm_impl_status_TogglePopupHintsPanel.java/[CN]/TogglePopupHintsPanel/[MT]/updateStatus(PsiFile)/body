{
  if (isStateChangeable(file)) {
    if (HighlightLevelUtil.shouldInspect(file)) {
      myHectorLabel.setIcon(INSPECTIONS_ICON);
      String text=InspectionProjectProfileManager.getInstance(file.getProject()).getProfileName(file);
      if (text != null) {
        final Font font=getFont();
        if (font != null) {
          final int width=getFontMetrics(font).stringWidth(text);
          if (width > 60 && text.length() > 30) {
            text=text.substring(0,27) + "...";
          }
          if (myMinLength < width) {
            myMinLength=width;
            Dimension dim=getMinimumSize();
            dim=new Dimension(myMinLength,dim.height);
            myInspectionProfileLabel.setPreferredSize(dim);
          }
        }
      }
      myInspectionProfileLabel.setText(text);
    }
 else {
      myHectorLabel.setIcon(INSPECTIONS_OFF_ICON);
      myInspectionProfileLabel.setText("");
    }
    myHectorLabel.setToolTipText(UIBundle.message("popup.hints.panel.click.to.configure.highlighting.tooltip.text"));
    myInspectionProfileLabel.setToolTipText(UIBundle.message("popup.hints.panel.click.to.configure.profile.text"));
  }
 else {
    myHectorLabel.setIcon(EMPTY_ICON);
    myHectorLabel.setToolTipText(null);
    myInspectionProfileLabel.setText("");
    myInspectionProfileLabel.setToolTipText(null);
  }
}
