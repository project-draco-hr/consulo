{
  final Map<String,String> props=getOldStyleProperties();
  final Map<String,String> was=ourProps.get();
  if (Comparing.equal(was,props) && !itsTime())   return;
  ourProps.set(props);
  final String message=getMessageFromProps(props);
  if (message != null) {
    if (ApplicationManager.getApplication() != null && !ApplicationManager.getApplication().isHeadlessEnvironment()) {
      PopupUtil.showBalloonForActiveComponent(message,MessageType.WARNING);
    }
    LOG.info(message);
  }
}
