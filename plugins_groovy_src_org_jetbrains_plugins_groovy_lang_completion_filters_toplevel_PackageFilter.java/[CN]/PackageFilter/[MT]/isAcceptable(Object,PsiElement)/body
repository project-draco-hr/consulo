{
  if (context.getParent() != null && !(context.getParent() instanceof PsiErrorElement) && context.getParent().getParent() instanceof GroovyFile && ((GroovyFile)context.getParent().getParent()).getPackageDefinition() == null) {
    if (context.getParent() instanceof GrReferenceExpression) {
      return true;
    }
    if (context.getParent() instanceof GrApplicationExpression && ((GrApplicationExpression)context.getParent()).getArguments()[0] instanceof GrReferenceExpression) {
      return true;
    }
    return false;
  }
  if (context.getTextRange().getStartOffset() == 0) {
    return true;
  }
  final PsiElement leaf=GroovyCompletionUtil.getLeafByOffset(context.getTextRange().getStartOffset() - 1,context);
  if (leaf != null) {
    PsiElement parent=leaf.getParent();
    if (parent instanceof GroovyFile) {
      GroovyFile groovyFile=(GroovyFile)parent;
      if (groovyFile.getPackageDefinition() == null) {
        return GroovyCompletionUtil.isNewStatement(context,false);
      }
    }
  }
  return false;
}
