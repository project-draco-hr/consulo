{
  if (myJdk == null) {
    myJdk=initJdk("1.6");
  }
  final JpsModule module=myJpsProject.addModule(moduleName,JpsJavaModuleType.INSTANCE);
  module.getSdkReferencesTable().setSdkReference(JpsJavaSdkType.INSTANCE,myJdk.createReference());
  module.getDependenciesList().addSdkDependency(JpsJavaSdkType.INSTANCE);
  if (srcPaths.length > 0) {
    for (    String srcPath : srcPaths) {
      module.getContentRootsList().addUrl(JpsPathUtil.pathToUrl(srcPath));
      module.addSourceRoot(JpsPathUtil.pathToUrl(srcPath),JavaSourceRootType.SOURCE);
    }
    final String outputUrl=JpsPathUtil.pathToUrl(getAbsolutePath("out/production/" + moduleName));
    JpsJavaExtensionService.getInstance().getOrCreateModuleExtension(module).setOutputUrl(outputUrl);
  }
  return module;
}
