{
  final IdCacheBuilder idCacheBuilder=cacheBuilders.get(fileType);
  if (idCacheBuilder != null)   return idCacheBuilder;
  if (fileType instanceof LanguageFileType) {
    final Language lang=((LanguageFileType)fileType).getLanguage();
    if (lang != null) {
      final FindUsagesProvider findUsagesProvider=lang.getFindUsagesProvider();
      final WordsScanner scanner=findUsagesProvider == null ? null : findUsagesProvider.getWordsScanner();
      if (scanner != null) {
        return new WordsScannerIdCacheBuilderAdapter(scanner);
      }
    }
  }
  if (fileType instanceof CustomFileType) {
    return new WordsScannerIdCacheBuilderAdapter(((CustomFileType)fileType).getWordsScanner());
  }
  return null;
}
