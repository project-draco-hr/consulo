{
  myScanner.processWords(new CharArrayCharSequence(chars,0,length),new Processor<WordOccurence>(){
    public boolean process(    final WordOccurence t){
      IdCacheUtil.addOccurrence(wordsTable,t.getText().toString().hashCode(),convertToMask(t.getKind()));
      return true;
    }
    private int convertToMask(    final WordOccurence.Kind kind){
      if (kind == WordOccurence.Kind.CODE)       return WordInfo.IN_CODE;
      if (kind == WordOccurence.Kind.COMMENTS)       return WordInfo.IN_COMMENTS;
      if (kind == WordOccurence.Kind.LITERALS)       return WordInfo.IN_STRING_LITERALS;
      return 0;
    }
  }
);
}
