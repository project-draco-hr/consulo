{
  final CompositeElement list=ASTFactory.composite(JavaElementType.REFERENCE_PARAMETER_LIST);
  if (lexer.getTokenType() != JavaTokenType.LT)   return list;
  final TreeElement lt=ParseUtilBase.createTokenElement(lexer,myContext.getCharTable());
  list.rawAddChildren(lt);
  lexer.advance();
  while (true) {
    final CompositeElement typeElement=parseType(lexer,true,allowWildcard,allowDiamonds);
    if (typeElement != null) {
      list.rawAddChildren(typeElement);
    }
 else {
      final CompositeElement errorElement=Factory.createErrorElement(JavaErrorMessages.message("expected.identifier"));
      list.rawAddChildren(errorElement);
    }
    if (lexer.getTokenType() == JavaTokenType.GT) {
      final TreeElement gt=ParseUtilBase.createTokenElement(lexer,myContext.getCharTable());
      list.rawAddChildren(gt);
      lexer.advance();
      return list;
    }
 else     if (lexer.getTokenType() == JavaTokenType.COMMA) {
      final TreeElement comma=ParseUtilBase.createTokenElement(lexer,myContext.getCharTable());
      list.rawAddChildren(comma);
      lexer.advance();
    }
 else {
      final CompositeElement errorElement=Factory.createErrorElement(JavaErrorMessages.message("expected.gt.or.comma"));
      list.rawAddChildren(errorElement);
      return list;
    }
  }
}
