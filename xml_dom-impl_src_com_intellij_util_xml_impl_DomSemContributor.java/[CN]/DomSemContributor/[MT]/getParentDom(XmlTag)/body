{
  LinkedHashSet<XmlTag> allParents=new LinkedHashSet<XmlTag>();
  PsiElement each=tag;
  while (each instanceof XmlTag && allParents.add((XmlTag)each)) {
    each=PhysicalDomParentStrategy.getParentTagCandidate((XmlTag)each);
  }
  ArrayList<XmlTag> list=new ArrayList<XmlTag>(allParents);
  Collections.reverse(list);
  for (  XmlTag xmlTag : list) {
    mySemService.getSemElement(DomManagerImpl.DOM_HANDLER_KEY,xmlTag);
  }
  return mySemService.getSemElement(DomManagerImpl.DOM_HANDLER_KEY,tag);
}
