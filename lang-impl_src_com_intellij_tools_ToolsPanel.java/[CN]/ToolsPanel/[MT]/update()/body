{
  CheckedTreeNode node=getSelectedToolNode();
  Tool selectedTool=getSelectedTool();
  ToolsGroup selectedGroup=getSelectedToolGroup();
  if (selectedTool != null) {
    myAddButton.setEnabled(true);
    myCopyButton.setEnabled(true);
    myEditButton.setEnabled(true);
    myMoveDownButton.setEnabled(isMovingAvailable(node,Direction.DOWN));
    myMoveUpButton.setEnabled(isMovingAvailable(node,Direction.UP));
    myRemoveButton.setEnabled(true);
  }
 else   if (selectedGroup != null) {
    myAddButton.setEnabled(true);
    myCopyButton.setEnabled(false);
    myEditButton.setEnabled(false);
    myMoveDownButton.setEnabled(isMovingAvailable(node,Direction.DOWN));
    myMoveUpButton.setEnabled(isMovingAvailable(node,Direction.UP));
    myRemoveButton.setEnabled(true);
  }
 else {
    myAddButton.setEnabled(true);
    myCopyButton.setEnabled(false);
    myEditButton.setEnabled(false);
    myMoveDownButton.setEnabled(false);
    myMoveUpButton.setEnabled(false);
    myRemoveButton.setEnabled(false);
  }
  (getModel()).nodeStructureChanged(null);
  myTree.repaint();
}
