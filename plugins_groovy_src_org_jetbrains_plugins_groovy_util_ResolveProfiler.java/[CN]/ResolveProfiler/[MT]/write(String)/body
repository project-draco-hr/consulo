{
  if (DISABLED)   return;
  final ThreadInfo threadInfo=getThreadInfo();
  try {
    final FileWriter writer=new FileWriter(threadInfo.getName(),true);
    try {
      writer.write(threadInfo.getPrefix());
      writer.write(s);
      writer.write('\n');
    }
  finally {
      writer.close();
    }
  }
 catch (  IOException e) {
    e.printStackTrace();
  }
  if (threadInfo.getPrefix().isEmpty()) {
    threadMap.set(null);
  }
}
