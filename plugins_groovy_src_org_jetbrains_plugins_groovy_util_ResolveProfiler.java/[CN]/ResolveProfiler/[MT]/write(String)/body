{
  String name=getName();
  try {
    final FileWriter writer=new FileWriter(name,true);
    try {
      writer.write(prefix.get());
      writer.write(s);
      writer.write('\n');
    }
  finally {
      writer.close();
    }
  }
 catch (  IOException e) {
    e.printStackTrace();
  }
  if (prefix.get().length() == 0) {
synchronized (ResolveProfiler.class) {
      threadMap.remove(Thread.currentThread());
    }
  }
}
