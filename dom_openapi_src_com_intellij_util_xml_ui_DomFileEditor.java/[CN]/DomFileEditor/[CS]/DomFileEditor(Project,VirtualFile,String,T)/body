{
  super(project,file);
  myComponent=component;
  myName=name;
  final UserActivityWatcher userActivityWatcher=DomUIFactory.getDomUIFactory().createEditorAwareUserActivityWatcher();
  final CommitablePanelUserActivityListener userActivityListener=new CommitablePanelUserActivityListener(){
    protected void applyChanges(){
      doCommit();
    }
  }
;
  userActivityWatcher.addUserActivityListener(userActivityListener,this);
  userActivityWatcher.register(getComponent());
  new MnemonicHelper().register(getComponent());
  addWatchedElement(component.getDomElement());
  DomManager.getDomManager(project).addDomEventListener(new DomEventAdapter(){
    public void eventOccured(    DomEvent event){
      checkIsValid();
    }
  }
,this);
  Disposer.register(this,myComponent);
  Disposer.register(this,userActivityListener);
}
