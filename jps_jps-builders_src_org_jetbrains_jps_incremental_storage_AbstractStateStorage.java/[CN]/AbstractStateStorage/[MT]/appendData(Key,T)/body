{
synchronized (myDataLock) {
    myMap.appendData(key,new PersistentHashMap.ValueDataAppender(){
      public void append(      DataOutput out) throws IOException {
        myStateExternalizer.save(out,data);
      }
    }
);
  }
}
