{
  final SelectInTarget[] targetVector=getTargets(context.getProject());
  DefaultActionGroup group=new DefaultActionGroup();
  boolean hasEnabled=false;
  for (  SelectInTarget target : targetVector) {
    final boolean enabled=target.canSelect(context);
    hasEnabled|=enabled;
    group.add(new TargetSelectedAction(target,context,enabled));
  }
  if (!hasEnabled) {
    group.removeAll();
    group.add(new NoTargetsAction());
  }
  final ListPopup popup=JBPopupFactory.getInstance().createActionGroupPopup(IdeBundle.message("title.popup.select.target"),group,dataContext,JBPopupFactory.ActionSelectionAid.NUMBERING,true);
  popup.showInBestPositionFor(dataContext);
}
