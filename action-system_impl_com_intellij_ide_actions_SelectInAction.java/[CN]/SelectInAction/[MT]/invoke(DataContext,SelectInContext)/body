{
  final List<SelectInTarget> targetVector=getTargets(context.getProject());
  ListPopup popup;
  if (targetVector.size() == 0) {
    DefaultActionGroup group=new DefaultActionGroup();
    group.add(new NoTargetsAction());
    popup=JBPopupFactory.getInstance().createActionGroupPopup(IdeBundle.message("title.popup.select.target"),group,dataContext,JBPopupFactory.ActionSelectionAid.MNEMONICS,true);
  }
 else {
    popup=JBPopupFactory.getInstance().createWizardStep(new TopLevelActionsStep(targetVector,context,context.getVirtualFile()));
  }
  popup.showInBestPositionFor(dataContext);
}
