{
  PsiType ltype=findLValueType(initializer);
  PsiType rtype=initializer.getType();
  GrExpression rawExpr=(GrExpression)skipParentheses(initializer,false);
  if (ltype == null || TypesUtil.isAssignableWithoutConversions(ltype,rtype,initializer) || !TypesUtil.isAssignable(ltype,rtype,initializer)) {
    return rawExpr;
  }
 else {
    GroovyPsiElementFactory factory=GroovyPsiElementFactory.getInstance(variable.getProject());
    GrSafeCastExpression cast=(GrSafeCastExpression)factory.createExpressionFromText("a as B");
    cast.getOperand().replaceWithExpression(rawExpr,false);
    cast.getCastTypeElement().replace(factory.createTypeElement(ltype));
    return cast;
  }
}
