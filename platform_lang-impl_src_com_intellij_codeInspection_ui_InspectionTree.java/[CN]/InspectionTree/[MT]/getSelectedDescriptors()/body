{
  final InspectionToolWrapper toolWrapper=getSelectedToolWrapper();
  if (getSelectionCount() == 0)   return ProblemDescriptor.EMPTY_ARRAY;
  final TreePath[] paths=getSelectionPaths();
  final LinkedHashSet<CommonProblemDescriptor> descriptors=new LinkedHashSet<CommonProblemDescriptor>();
  for (  TreePath path : paths) {
    Object node=path.getLastPathComponent();
    traverseDescriptors((InspectionTreeNode)node,descriptors);
  }
  return descriptors.toArray(new CommonProblemDescriptor[descriptors.size()]);
}
