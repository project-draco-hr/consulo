{
  final int port=connectionSettings.getPort() == -1 ? SSH_DEFAULT_PORT : connectionSettings.getPort();
  final Connection connection=new Connection(connectionSettings.getHostName(),port);
  final ProxyData proxy=SshProxyFactory.createAndRegister(connectionSettings);
  if (proxy != null) {
    connection.setProxyData(proxy);
  }
  connection.connect(null,connectionSettings.getConnectionTimeout(),connectionSettings.getConnectionTimeout());
  authentication.authenticate(connection);
  return connection;
}
