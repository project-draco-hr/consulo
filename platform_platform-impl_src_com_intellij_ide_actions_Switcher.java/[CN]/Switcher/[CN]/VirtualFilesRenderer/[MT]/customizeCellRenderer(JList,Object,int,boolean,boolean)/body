{
  hide=false;
  if (value instanceof FileInfo) {
    final VirtualFile virtualFile=((FileInfo)value).first;
    final String name=virtualFile.getPresentableName();
    setIcon(IconUtil.getIcon(virtualFile,Iconable.ICON_FLAG_READ_STATUS,myProject));
    separator=((FileInfo)value).isSeparator;
    if (mySearch != null && mySearch.isPopupActive()) {
      hide=mySearch.matchingFragments(name) == null && !StringUtil.isEmpty(mySearch.getEnteredPrefix());
    }
    final FileStatus fileStatus=FileStatusManager.getInstance(myProject).getStatus(virtualFile);
    final TextAttributes attributes=new TextAttributes(fileStatus.getColor(),null,null,EffectType.LINE_UNDERSCORE,Font.PLAIN);
    append(name,SimpleTextAttributes.fromTextAttributes(attributes));
  }
}
