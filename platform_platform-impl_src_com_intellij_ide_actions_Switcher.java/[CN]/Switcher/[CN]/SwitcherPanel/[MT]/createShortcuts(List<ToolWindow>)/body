{
  final Map<String,ToolWindow> keymap=new HashMap<>(windows.size());
  final List<ToolWindow> otherTW=new ArrayList<>();
  for (  ToolWindow window : windows) {
    int index=ActivateToolWindowAction.getMnemonicForToolWindow(((ToolWindowImpl)window).getId());
    if (index >= '0' && index <= '9') {
      keymap.put(getIndexShortcut(index - '0'),window);
    }
 else {
      otherTW.add(window);
    }
  }
  int i=0;
  for (  ToolWindow window : otherTW) {
    while (keymap.get(getIndexShortcut(i)) != null) {
      i++;
    }
    keymap.put(getIndexShortcut(i),window);
    i++;
  }
  return keymap;
}
