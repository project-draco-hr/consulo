{
  if (isToolWindowsSelected() && isAutoHide()) {
    cancel();
  }
 else {
    if (toolWindows.getModel().getSize() > 0) {
      toolWindows.setSelectedIndex(Math.min(files.getSelectedIndex(),toolWindows.getModel().getSize() - 1));
      files.getSelectionModel().clearSelection();
      IdeFocusManager.findInstanceByComponent(toolWindows).requestFocus(toolWindows,true);
    }
  }
}
