{
  myPopup.closeOk(null);
  final Object value=getSelectedList().getSelectedValue();
  if (value instanceof ToolWindow) {
    ((ToolWindow)value).activate(null,true,true);
  }
 else   if (value instanceof VirtualFile) {
    final VirtualFile file=(VirtualFile)value;
    IdeFocusManager.getInstance(project).doWhenFocusSettlesDown(new Runnable(){
      @Override public void run(){
        FileEditorManager.getInstance(project).openFile(file,true,true);
      }
    }
);
  }
}
