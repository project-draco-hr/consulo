{
  myPopup.closeOk(null);
  final Object value=getSelectedList().getSelectedValue();
  if (value instanceof ToolWindow) {
    ((ToolWindow)value).activate(null,true,true);
  }
 else   if (value instanceof FileEditorInfo) {
    final FileEditorInfo info=(FileEditorInfo)value;
    IdeFocusManager.getInstance(project).doWhenFocusSettlesDown(new Runnable(){
      @Override public void run(){
        final FileEditorManagerImpl manager=(FileEditorManagerImpl)FileEditorManager.getInstance(project);
        if (info.window != null) {
          manager.openFileImpl2(info.window,info.file,true);
        }
 else {
          manager.openFile(info.file,true);
        }
      }
    }
);
  }
}
