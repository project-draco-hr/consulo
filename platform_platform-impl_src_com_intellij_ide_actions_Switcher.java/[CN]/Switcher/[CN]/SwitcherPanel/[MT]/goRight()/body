{
  if (isFilesSelected() || !isFilesVisible()) {
    cancel();
  }
 else {
    if (files.getModel().getSize() > 0) {
      files.setSelectedIndex(Math.min(toolWindows.getSelectedIndex(),files.getModel().getSize() - 1));
      toolWindows.getSelectionModel().clearSelection();
    }
  }
}
