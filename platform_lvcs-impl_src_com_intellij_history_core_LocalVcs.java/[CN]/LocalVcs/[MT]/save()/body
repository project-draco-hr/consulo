{
  readAll();
  try {
    if (!wasModifiedAfterLastSave)     return;
    myStorage.saveContents();
    Memento m=new Memento();
    m.myRoot=myRoot;
    m.myEntryCounter=myEntryCounter;
    m.myChangeList=myChangeList;
    myStorage.saveState(m);
    wasModifiedAfterLastSave=false;
  }
  finally {
    unreadAll();
  }
}
