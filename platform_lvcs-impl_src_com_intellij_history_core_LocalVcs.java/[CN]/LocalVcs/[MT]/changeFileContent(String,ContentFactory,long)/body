{
  writeAll();
  try {
    if (!checkEntryExists(path))     return;
    if (contentWasNotChanged(path,f))     return;
    Content c=createContentFrom(f);
    applyChange(new ContentChange(path,c,timestamp));
  }
  finally {
    unwriteAll();
  }
}
