{
  if (f.isDirectory()) {
    for (    File file : f.listFiles()) {
      if (!file.isDirectory()) {
        String path=file.getAbsolutePath();
        if (!path.contains(".svn") && !path.contains(".cvs") && path.matches(pattern)) {
          files.add(file);
        }
      }
 else {
        if (dirAllowed) {
          files.add(file);
        }
        scanForFiles(files,file,pattern,dirAllowed);
      }
    }
  }
}
