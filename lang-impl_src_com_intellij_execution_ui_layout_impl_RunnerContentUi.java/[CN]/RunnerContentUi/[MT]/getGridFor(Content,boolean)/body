{
  GridImpl grid=findGridFor(content);
  if (grid != null || !createIfMissing)   return grid;
  grid=new GridImpl(this,mySessionName);
  grid.setBorder(new EmptyBorder(1,0,0,0));
  TabInfo tab=new TabInfo(grid).setObject(getStateFor(content).getTab()).setText("Tab");
  Wrapper left=new Wrapper();
  myCommonActionsPlaceholder.put(grid,left);
  Wrapper minimizedToolbar=new Wrapper();
  myMinimizedButtonsPlaceholder.put(grid,minimizedToolbar);
  final Wrapper searchComponent=new Wrapper();
  if (content.getSearchComponent() != null) {
    searchComponent.setContent(content.getSearchComponent());
  }
  TwoSideComponent right=new TwoSideComponent(searchComponent,minimizedToolbar);
  NonOpaquePanel sideComponent=new TwoSideComponent(left,right);
  tab.setSideComponent(sideComponent);
  tab.setTabLabelActions((ActionGroup)myActionManager.getAction(VIEW_TOOLBAR),TAB_TOOLBAR_PLACE);
  myTabs.addTab(tab);
  myTabs.sortTabs(myTabsComparator);
  return grid;
}
