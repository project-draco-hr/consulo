{
  final SMTestProxy parent=testProxy.getParent();
  final String name=testProxy.getName();
  if (name == null) {
    return NO_NAME_TEST;
  }
  String presentationCandidate=name;
  if (parent != null) {
    String parentName=parent.getName();
    if (parentName != null) {
      boolean parentStartsWith=name.startsWith(parentName);
      if (!parentStartsWith && parent instanceof SMTestProxy.SMRootTestProxy) {
        final String presentation=((SMTestProxy.SMRootTestProxy)parent).getPresentation();
        if (presentation != null) {
          parentName=presentation;
          parentStartsWith=name.startsWith(parentName);
        }
      }
      if (parentStartsWith) {
        presentationCandidate=name.substring(parentName.length());
        presentationCandidate=StringUtil.trimStart(presentationCandidate,".");
      }
    }
  }
  presentationCandidate=presentationCandidate.trim();
  presentationCandidate=presentationCandidate.replaceAll("\\s+"," ");
  if (StringUtil.isEmpty(presentationCandidate)) {
    return NO_NAME_TEST;
  }
  return presentationCandidate;
}
