{
  String message="Wrong thread used for query structure, thread=" + Thread.currentThread();
  if (!myPassthroughMode) {
    if (isBgStructureBuilding()) {
      Assert.assertFalse(message,EventQueue.isDispatchThread());
    }
 else {
      Assert.assertTrue(message,EventQueue.isDispatchThread());
    }
  }
}
