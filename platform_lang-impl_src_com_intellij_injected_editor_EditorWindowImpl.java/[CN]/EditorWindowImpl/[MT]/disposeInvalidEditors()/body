{
  ApplicationManager.getApplication().assertWriteAccessAllowed();
  Iterator<EditorWindowImpl> iterator=allEditors.iterator();
  while (iterator.hasNext()) {
    EditorWindowImpl editorWindow=iterator.next();
    if (!editorWindow.isValid()) {
      editorWindow.dispose();
      InjectedLanguageUtil.clearCaches(editorWindow.myInjectedFile,editorWindow.getDocument());
      iterator.remove();
    }
  }
}
