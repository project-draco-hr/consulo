{
  PsiUtilCore.ensureValid(myInjectedFile);
  if (!isValid()) {
    StringBuilder reason=new StringBuilder("Not valid");
    if (myDisposed)     reason.append("; editorWindow: disposed");
    if (!myDocumentWindow.isValid())     reason.append("; documentWindow: invalid");
    if (myDelegate.isDisposed())     reason.append("; editor: disposed");
    if (myInjectedFile.getProject().isDisposed())     reason.append("; project: disposed");
    throw new AssertionError(reason.toString());
  }
}
