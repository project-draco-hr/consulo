{
  final Class<? extends UIBuilder> builderClass=myTempSessions.remove(clientEvent.getSessionId());
  if (builderClass == null) {
    return;
  }
  final UIBuilder uiBuilder=ReflectionUtil.newInstance(builderClass);
  final GwtUIAccess uiAccess=new GwtUIAccess(clientEvent.getSessionId(),session);
  myUIs.put(session.getId(),uiAccess);
  uiAccess.setSession(session);
  UIAccessHelper.ourInstance.run(uiAccess,new Runnable(){
    @Override public void run(){
      WGwtWindowImpl window=new WGwtWindowImpl();
      uiAccess.setWindow(window);
      uiBuilder.build(window);
      window.registerComponent(uiAccess.getComponents());
      UIServerEvent serverEvent=new UIServerEvent();
      serverEvent.setSessionId(clientEvent.getSessionId());
      serverEvent.setType(UIServerEventType.createRoot);
      serverEvent.setComponents(Arrays.asList(window.convert()));
      window.visitChanges(new ArrayList<UIComponent>());
      uiAccess.send(serverEvent);
    }
  }
);
}
