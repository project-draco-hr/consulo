{
  UIAccess.assertIsUIThread();
  final WBaseGwtComponent window=(WBaseGwtComponent)myWindow;
  List<UIComponent> components=new ArrayList<UIComponent>();
  window.visitChanges(components);
  if (!components.isEmpty()) {
    AutoBean<UIServerEvent> bean=ourEventFactory.serverEvent();
    UIServerEvent serverEvent=bean.as();
    serverEvent.setSessionId(myCookieId);
    serverEvent.setType(UIServerEventType.stateChanged);
    serverEvent.setComponents(components);
    send(bean);
  }
}
