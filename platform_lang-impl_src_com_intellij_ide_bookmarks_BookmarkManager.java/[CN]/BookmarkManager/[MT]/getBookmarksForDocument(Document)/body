{
  ArrayList<EditorBookmark> bookmarksVector=new ArrayList<EditorBookmark>();
  List<EditorBookmark> validEditorBookmarks=getValidEditorBookmarks();
  for (  EditorBookmark bookmark : validEditorBookmarks) {
    if (document.equals(bookmark.getDocument())) {
      bookmarksVector.add(bookmark);
    }
  }
  EditorBookmark[] bookmarks=bookmarksVector.toArray(new EditorBookmark[bookmarksVector.size()]);
  Arrays.sort(bookmarks,new Comparator<EditorBookmark>(){
    public int compare(    final EditorBookmark o1,    final EditorBookmark o2){
      return o1.getLineIndex() - o2.getLineIndex();
    }
  }
);
  return bookmarks;
}
