{
  if (e.getArea() != EditorMouseEventArea.LINE_MARKERS_AREA)   return;
  if (e.getMouseEvent().isPopupTrigger())   return;
  if ((e.getMouseEvent().getModifiers() & (SystemInfo.isMac ? InputEvent.META_MASK : InputEvent.CTRL_MASK)) == 0)   return;
  Editor editor=e.getEditor();
  int line=editor.xyToLogicalPosition(new Point(e.getMouseEvent().getX(),e.getMouseEvent().getY())).line;
  if (line < 0)   return;
  Document document=editor.getDocument();
  Bookmark bookmark=findEditorBookmark(document,line);
  if (bookmark == null) {
    addEditorBookmark(editor,line);
  }
 else {
    removeBookmark(bookmark);
  }
  e.consume();
}
