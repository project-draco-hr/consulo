{
  if (key.equals(VcsDataKeys.CHANGES)) {
    final CommittedChangeList list=getSelectedChangeList();
    if (list != null) {
      final Collection<Change> changes=list.getChanges();
      sink.put(VcsDataKeys.CHANGES,changes.toArray(new Change[changes.size()]));
    }
  }
 else   if (key.equals(VcsDataKeys.CHANGE_LISTS)) {
    final List<CommittedChangeList> lists=getSelectedChangeLists();
    if (lists.size() > 0) {
      sink.put(VcsDataKeys.CHANGE_LISTS,lists.toArray(new CommittedChangeList[lists.size()]));
    }
  }
 else   if (key.equals(PlatformDataKeys.NAVIGATABLE_ARRAY)) {
    final CommittedChangeList list=getSelectedChangeList();
    if (list != null) {
      final Collection<Change> changes=list.getChanges();
      Navigatable[] result=ChangesUtil.getNavigatableArray(myProject,ChangesUtil.getFilesFromChanges(changes));
      sink.put(PlatformDataKeys.NAVIGATABLE_ARRAY,result);
    }
  }
 else   if (key.equals(PlatformDataKeys.HELP_ID)) {
    sink.put(PlatformDataKeys.HELP_ID,ourHelpId);
  }
}
