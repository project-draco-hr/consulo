{
  myPrepareSuccessfulSwingThreadCallback=new Runnable(){
    public void run(){
      dialog.close(DialogWrapper.CANCEL_EXIT_CODE);
    }
  }
;
  final boolean previewUsages=dialog.isPreviewUsages();
  final String className=dialog.getClassName();
  final PsiClass innerClass=dialog.getInnerClass();
  final boolean passOuterClass=dialog.isPassOuterClass();
  final String parameterName=dialog.getParameterName();
  setup(innerClass,className,passOuterClass,parameterName,previewUsages,dialog.isSearchInComments(),dialog.isSearchInNonJavaFiles());
  run();
}
