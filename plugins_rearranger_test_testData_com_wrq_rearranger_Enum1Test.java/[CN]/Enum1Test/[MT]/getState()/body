{
  ExecutionState state=ExecutionState.UNTESTED;
  if (storage.getInstructionItem() != null) {
    byte[] receipt=getInstructionItem().getReceipt();
    if (receipt != null) {
      byte[] expectedReceipt=getInstructionItem().getExpectedReceipt();
      if (expectedReceipt == null) {
        state=ExecutionState.FAILED;
      }
 else       if (receipt.length != expectedReceipt.length) {
        state=ExecutionState.FAILED;
      }
 else {
        state=ExecutionState.PASSED;
        for (int i=0; i < receipt.length; i++) {
          if (receipt[i] != expectedReceipt[i]) {
            state=ExecutionState.FAILED;
            break;
          }
        }
      }
    }
  }
  return state;
}
