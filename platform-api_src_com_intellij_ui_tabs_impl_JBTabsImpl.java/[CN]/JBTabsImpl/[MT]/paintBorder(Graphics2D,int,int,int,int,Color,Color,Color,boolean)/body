{
  int topY=y + 1;
  int bottomY=y + myTopBorderSize - 2;
  int middleY=topY + (bottomY - topY) / 2;
  if (myTopBorderSize > 0) {
    if (isHideTabs()) {
      g2d.setColor(borderColor);
      g2d.drawLine(x,y,x + width - 1,y);
    }
 else     if (isStealthModeEffective()) {
      g2d.setColor(borderColor);
      g2d.drawLine(x,y - 1,x + width - 1,y - 1);
    }
 else {
      if (myTopBorderSize > 1) {
        g2d.setColor(Color.white);
        g2d.fillRect(x,topY,width,bottomY - topY);
        g2d.setColor(fillTo);
        g2d.fillRect(x,topY,width,middleY - topY);
        final Color relfectionStartColor=isFocused ? UIUtil.toAlpha(UIUtil.getListSelectionBackground().darker(),125) : UIUtil.toAlpha(borderColor,75);
        g2d.setPaint(new GradientPaint(x,middleY,relfectionStartColor,x,bottomY,UIUtil.toAlpha(Color.white,255)));
        g2d.fillRect(x,middleY,width,bottomY - middleY);
        g2d.setColor(UIUtil.toAlpha(Color.white,100));
        g2d.drawLine(x,topY,x + width - 1,topY);
        g2d.setColor(Color.lightGray);
        g2d.drawLine(x,bottomY,x + width - 1,bottomY);
      }
 else       if (myTopBorderSize == 1) {
        g2d.setColor(borderColor);
        g2d.drawLine(x,y,x + width - 1,y);
      }
    }
  }
  g2d.setColor(borderColor);
  g2d.fillRect(x,y + height - myBottomBorderSize,width,myBottomBorderSize);
  g2d.fillRect(x,y,myLeftBorderSize,height);
  g2d.fillRect(x + width - myRightBorderSize,y,myRightBorderSize,height);
}
