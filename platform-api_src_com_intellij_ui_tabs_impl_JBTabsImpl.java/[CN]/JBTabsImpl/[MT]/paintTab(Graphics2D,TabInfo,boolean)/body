{
  int tabIndex=myVisibleInfos.indexOf(each);
  final int arc=getArcSize();
  final Color topBlickColor=getTopBlickColor();
  final Color rightBlockColor=getRightBlockColor();
  final Color boundsColor=getBoundsColor();
  final TabInfo selected=getSelectedInfo();
  final int selectionTabVShift=getSelectionTabVShift();
  final TabLabel eachLabel=myInfo2Label.get(each);
  if (eachLabel.getBounds().width == 0)   return;
  final TabInfo prev=myLastLayoutPass.getPreviousFor(myVisibleInfos.get(tabIndex));
  final TabInfo next=myLastLayoutPass.getNextFor(myVisibleInfos.get(tabIndex));
  boolean firstShowing=prev == null;
  if (!firstShowing && !leftGhostExists) {
    firstShowing=myInfo2Label.get(prev).getBounds().width == 0;
  }
  boolean lastShowing=next == null;
  if (!lastShowing) {
    lastShowing=myInfo2Label.get(next).getBounds().width == 0;
  }
  boolean leftFromSelection=selected != null && tabIndex == myVisibleInfos.indexOf(selected) - 1;
  final ShapeTransform shape=getEffectiveLayout().createShapeTransform(eachLabel.getBounds());
  int leftX=firstShowing ? shape.getX() : shape.getX() - shape.deltaX(arc + 1);
  int topY=shape.getY() + shape.deltaY(selectionTabVShift);
  int rigthX=!lastShowing && leftFromSelection ? shape.getMaxX() + shape.deltaX(arc + 1) : shape.getMaxX();
  int bottomY=shape.getMaxY() + shape.deltaY(1);
  shape.moveTo(leftX,bottomY);
  shape.lineTo(leftX,topY + shape.deltaY(arc));
  shape.quadTo(leftX,topY,leftX + shape.deltaX(arc),topY);
  shape.lineTo(rigthX - shape.deltaX(arc),topY);
  shape.quadTo(rigthX,topY,rigthX,topY + shape.deltaY(arc));
  shape.lineTo(rigthX,bottomY);
  if (!isSingleRow()) {
    final TablePassInfo info=myTableLayout.myLastTableLayout;
    if (!info.isInSelectionRow(each)) {
      shape.lineTo(rigthX,bottomY + shape.deltaY(getArcSize()));
      shape.lineTo(leftX,bottomY + shape.deltaY(getArcSize()));
      shape.lineTo(leftX,bottomY);
    }
  }
  shape.closePath();
  g2d.setColor(getBackground());
  g2d.fill(shape.getShape());
  g2d.setColor(topBlickColor);
  g2d.drawLine(leftX + shape.deltaX(arc),topY + shape.deltaY(1),rigthX - shape.deltaX(arc),topY + shape.deltaY(1));
  g2d.setColor(rightBlockColor);
  g2d.drawLine(rigthX - shape.deltaX(1),topY + shape.deltaY(arc - 1),rigthX - shape.deltaX(1),bottomY);
  g2d.setColor(boundsColor);
  g2d.draw(shape.getShape());
}
