{
  super.paintComponent(g);
  if (myVisibleInfos.size() == 0)   return;
  Graphics2D g2d=(Graphics2D)g;
  final GraphicsConfig config=new GraphicsConfig(g2d);
  config.setAntialiasing(true);
  g2d.setColor(getBackground());
  final Rectangle clip=g2d.getClipBounds();
  g2d.fillRect(clip.x,clip.y,clip.width,clip.height);
  final TabInfo selected=getSelectedInfo();
  boolean leftGhostExists=isSingleRow();
  boolean rightGhostExists=isSingleRow();
  if (!isStealthModeEffective() && !isHideTabs()) {
    if (isSingleRow() && mySingleRowLayout.myLastSingRowLayout.lastGhostVisible) {
      paintLastGhost(g2d);
    }
    paintNonSelectedTabs(g2d,leftGhostExists);
    if (isSingleRow() && mySingleRowLayout.myLastSingRowLayout.firstGhostVisible) {
      paintFirstGhost(g2d);
    }
  }
  config.setAntialiasing(false);
  if (isSideComponentVertical()) {
    Toolbar toolbarComp=myInfo2Toolbar.get(mySelectedInfo);
    if (toolbarComp != null && !toolbarComp.isEmpty()) {
      Rectangle toolBounds=toolbarComp.getBounds();
      g2d.setColor(CaptionPanel.CNT_ACTIVE_COLOR);
      g2d.drawLine((int)toolBounds.getMaxX(),toolBounds.y,(int)toolBounds.getMaxX(),(int)toolBounds.getMaxY() - 1);
    }
  }
  config.restore();
}
