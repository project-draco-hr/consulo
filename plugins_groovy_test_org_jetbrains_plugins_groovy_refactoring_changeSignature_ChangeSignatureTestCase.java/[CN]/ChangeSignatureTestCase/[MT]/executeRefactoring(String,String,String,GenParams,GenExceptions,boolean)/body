{
  final PsiElement targetElement=new GrChangeSignatureHandler().findTargetMember(myFixture.getFile(),myFixture.getEditor());
  assertTrue("<caret> is not on method name",targetElement instanceof GrMethod);
  GrMethod method=(GrMethod)targetElement;
  final PsiElementFactory factory=JavaPsiFacade.getInstance(getProject()).getElementFactory();
  PsiType newType;
  if (newReturnType == null) {
    if (method.getReturnTypeElement() == null) {
      newType=null;
    }
 else {
      newType=method.getReturnType();
    }
  }
 else   if (newReturnType.length() == 0) {
    newType=null;
  }
 else {
    newType=factory.createTypeFromText(newReturnType,method);
  }
  GrChangeInfoImpl changeInfo=new GrChangeInfoImpl(method,newVisibility,newType != null ? CanonicalTypes.createTypeWrapper(newType) : null,newName != null ? newName : method.getName(),Arrays.asList(genParams.genParams(method)),genExceptions.genExceptions(method),generateDelegate);
  new GrChangeSignatureProcessor(getProject(),changeInfo).run();
}
