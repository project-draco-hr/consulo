{
  String placeholder=foldRegion.getPlaceholderText();
  visualColumn+=placeholder.length();
  offset=foldRegion.getEndOffset();
  Document document=myEditor.getDocument();
  int endOffsetLogicalLine=document.getLineNumber(foldRegion.getEndOffset());
  if (logicalLine == endOffsetLogicalLine) {
    logicalColumn+=collapsedSymbolsWidthInColumns;
    foldingColumnDiff+=placeholder.length() - collapsedSymbolsWidthInColumns;
  }
 else {
    int linesDiff=endOffsetLogicalLine - logicalLine;
    logicalLine+=linesDiff;
    foldedLines+=linesDiff;
    logicalColumn=collapsedSymbolsWidthInColumns;
    foldingColumnDiff=visualColumn - logicalColumn - softWrapColumnDiff;
  }
}
