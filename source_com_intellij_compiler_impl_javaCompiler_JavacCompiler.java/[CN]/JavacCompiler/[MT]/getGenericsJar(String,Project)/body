{
  File collectJar=project.getUserData(COLLECT_JAR_KEY);
  if (collectJar == null) {
    final VirtualFile[] fullClassPath=ProjectRootManager.getInstance(project).getFullClassPath();
    for (    VirtualFile file : fullClassPath) {
      if (file.getName().equals("collect.jar")) {
        String s=StringUtil.replace(file.getPath(),"/",File.separator);
        if (s.endsWith(JarFileSystem.JAR_SEPARATOR))         s=s.substring(0,s.length() - JarFileSystem.JAR_SEPARATOR.length());
        collectJar=new File(s);
        project.putUserData(COLLECT_JAR_KEY,collectJar);
        break;
      }
    }
  }
  if (collectJar != null && collectJar.exists()) {
    if ("collect.jar".equals(jarName))     return collectJar;
    File neededJar=new File(collectJar.getParentFile(),jarName);
    if (neededJar.exists())     return neededJar;
  }
 else {
    collectJar=new File(PathManager.getLibPath() + File.separator + "generics"+ File.separator+ "collect.jar");
    project.putUserData(COLLECT_JAR_KEY,collectJar);
  }
  return new File(PathManager.getLibPath() + File.separator + "generics"+ File.separator+ jarName);
}
