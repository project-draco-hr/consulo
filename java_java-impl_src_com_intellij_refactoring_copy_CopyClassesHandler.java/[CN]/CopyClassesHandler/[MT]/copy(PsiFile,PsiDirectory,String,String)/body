{
  final String fileName=getNewFileName(file,name);
  if (relativePath != null && !relativePath.isEmpty()) {
    return buildRelativeDir(directory,relativePath).findOrCreateTargetDirectory().copyFileFrom(fileName,file);
  }
  return directory.copyFileFrom(fileName,file);
}
