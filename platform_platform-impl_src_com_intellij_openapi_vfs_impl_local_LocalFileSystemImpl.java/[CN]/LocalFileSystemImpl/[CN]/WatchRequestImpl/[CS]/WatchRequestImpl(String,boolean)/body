{
  int index=rootPath.indexOf(ArchiveFileSystem.ARCHIVE_SEPARATOR);
  if (index >= 0)   rootPath=rootPath.substring(0,index);
  File rootFile=new File(FileUtil.toSystemDependentName(rootPath));
  if (index > 0 || !(FileUtil.isRootPath(rootFile) || rootFile.isDirectory())) {
    File parentFile=rootFile.getParentFile();
    if (parentFile == null) {
      throw new FileNotFoundException(rootPath);
    }
    if (!parentFile.getPath().equals(PathManager.getSystemPath()) || !rootFile.mkdir()) {
      rootFile=parentFile;
    }
  }
  myFSRootPath=rootFile.getAbsolutePath();
  myWatchRecursively=watchRecursively;
}
