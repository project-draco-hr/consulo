{
  if (myCachedNormalizedRequests != null)   return myCachedNormalizedRequests;
  List<WatchRequestImpl> result=new ArrayList<WatchRequestImpl>();
synchronized (myLock) {
    NextRoot:     for (    WatchRequestImpl request : myRootsToWatch) {
      String rootPath=request.getRootPath();
      boolean recursively=request.isToWatchRecursively();
      for (Iterator<WatchRequestImpl> iterator1=result.iterator(); iterator1.hasNext(); ) {
        final WatchRequestImpl otherRequest=iterator1.next();
        final String otherRootPath=otherRequest.getRootPath();
        final boolean otherRecursively=otherRequest.isToWatchRecursively();
        if ((rootPath.equals(otherRootPath) && (!recursively || otherRecursively)) || (FileUtil.startsWith(rootPath,otherRootPath) && otherRecursively)) {
          continue NextRoot;
        }
 else         if (FileUtil.startsWith(otherRootPath,rootPath) && (recursively || !otherRecursively)) {
          otherRequest.myDominated=true;
          iterator1.remove();
        }
      }
      result.add(request);
      request.myDominated=false;
    }
  }
  myCachedNormalizedRequests=result.toArray(new WatchRequestImpl[result.size()]);
  return myCachedNormalizedRequests;
}
