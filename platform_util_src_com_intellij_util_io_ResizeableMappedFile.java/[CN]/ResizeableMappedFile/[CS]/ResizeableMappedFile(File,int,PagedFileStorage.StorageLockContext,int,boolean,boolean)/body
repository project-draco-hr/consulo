{
  myStorage=new PagedFileStorage(file,lockContext,pageSize,valuesAreBufferAligned,nativeBytesOrder);
  boolean exists=file.exists();
  if (!exists || file.length() == 0) {
    if (!exists)     FileUtil.createParentDirs(file);
    writeLength(0);
  }
  myLogicalSize=readLength();
  if (myLogicalSize == 0) {
    try {
      getPagedFileStorage().lock();
      resize(initialSize);
    }
  finally {
      getPagedFileStorage().unlock();
    }
  }
}
