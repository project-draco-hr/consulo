{
  long started=System.currentTimeMillis();
  long deadline=timeoutMsecs == -1 ? Long.MAX_VALUE : started + timeoutMsecs;
  myConditionRealized=false;
  try {
    while (!(myConditionRealized=condition()) && (System.currentTimeMillis() < deadline)) {
      Thread.sleep(step);
    }
  }
 catch (  InterruptedException e) {
    myInterrupted=true;
  }
  myWaitTime=System.currentTimeMillis() - started;
}
