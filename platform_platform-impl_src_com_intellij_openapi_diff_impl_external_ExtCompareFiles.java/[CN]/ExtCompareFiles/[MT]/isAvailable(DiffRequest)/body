{
  final DiffContent[] contents=request.getContents();
  for (  DiffContent content : contents) {
    final VirtualFile file=getLocalFile(content.getFile());
    if (file != null && file.isDirectory()) {
      return false;
    }
    if (LocalFileExternalizer.canExternalizeAsFile(file)) {
      continue;
    }
    if (DiffUtil.isWritable(content)) {
      return false;
    }
  }
  if (contents.length != 2)   return false;
  if (externalize(request,0) == null)   return false;
  if (externalize(request,1) == null)   return false;
  return true;
}
