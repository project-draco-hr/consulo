{
  myTextFieldWithBrowseButton=new TextFieldWithBrowseButton(new ActionListener(){
    @Override public void actionPerformed(    final ActionEvent e){
      final FileChooserDescriptor fileChooserDescriptor=new FileChooserDescriptor(false,true,false,false,false,false){
        public String getName(        final VirtualFile virtualFile){
          return virtualFile.getName();
        }
        @Nullable public String getComment(        final VirtualFile virtualFile){
          return virtualFile.getPresentableUrl();
        }
      }
;
      fileChooserDescriptor.setTitle("Select project destination folder");
      final FileChooserDialog fileChooser=FileChooserFactory.getInstance().createFileChooser(fileChooserDescriptor,myPanel);
      final VirtualFile[] files=fileChooser.choose(null,null);
      if (files.length > 0) {
        myTextFieldWithBrowseButton.setText(files[0].getPath());
      }
    }
  }
);
}
