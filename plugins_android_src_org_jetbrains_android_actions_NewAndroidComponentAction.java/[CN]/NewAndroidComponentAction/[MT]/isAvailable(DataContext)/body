{
  final Module module=LangDataKeys.MODULE.getData(dataContext);
  final IdeView view=LangDataKeys.IDE_VIEW.getData(dataContext);
  if (module == null || view == null || view.getDirectories().length == 0 || AndroidFacet.getInstance(module) == null) {
    return false;
  }
  final ProjectFileIndex projectIndex=ProjectRootManager.getInstance(module.getProject()).getFileIndex();
  final JavaDirectoryService dirService=JavaDirectoryService.getInstance();
  for (  PsiDirectory dir : view.getDirectories()) {
    if (projectIndex.isInSourceContent(dir.getVirtualFile()) && dirService.getPackage(dir) != null) {
      return true;
    }
  }
  return false;
}
