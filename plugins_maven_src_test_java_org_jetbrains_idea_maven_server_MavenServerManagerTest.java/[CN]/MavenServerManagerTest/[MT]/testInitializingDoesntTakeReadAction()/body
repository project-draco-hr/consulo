{
  MavenServerManager.getInstance().getOrCreateWrappee();
  ApplicationManager.getApplication().runWriteAction(new Runnable(){
    @Override public void run(){
      Future result=ApplicationManager.getApplication().executeOnPooledThread(new Runnable(){
        @Override public void run(){
          MavenServerManager.getInstance().shutdown(true);
          try {
            MavenServerManager.getInstance().getOrCreateWrappee();
          }
 catch (          RemoteException e) {
            throw new RuntimeException(e);
          }
        }
      }
);
      try {
        result.get(10,TimeUnit.SECONDS);
      }
 catch (      InterruptedException e) {
        throw new RuntimeException(e);
      }
catch (      java.util.concurrent.ExecutionException e) {
        throw new RuntimeException(e);
      }
catch (      TimeoutException e) {
        printThreadDump();
        throw new RuntimeException(e);
      }
      result.cancel(true);
    }
  }
);
}
