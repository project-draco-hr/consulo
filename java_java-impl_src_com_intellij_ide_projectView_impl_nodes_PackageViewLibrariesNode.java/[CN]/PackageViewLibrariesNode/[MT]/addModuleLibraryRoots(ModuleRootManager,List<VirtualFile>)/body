{
  final OrderEntry[] orderEntries=moduleRootManager.getOrderEntries();
  for (  final OrderEntry orderEntry : orderEntries) {
    if (!(orderEntry instanceof LibraryOrderEntry || orderEntry instanceof JdkOrderEntry)) {
      continue;
    }
    final VirtualFile[] files=orderEntry.getFiles(OrderRootType.CLASSES);
    for (    final VirtualFile file : files) {
      if (file.getFileSystem() instanceof JarFileSystem && file.getParent() != null) {
        continue;
      }
      roots.add(file);
    }
  }
}
