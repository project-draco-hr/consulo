{
  final ArrayList<VirtualFile> roots=new ArrayList<VirtualFile>();
  if (getValue().getModule() == null) {
    final Module[] modules=ModuleManager.getInstance(getProject()).getModules();
    for (int i=0; i < modules.length; i++) {
      Module module=modules[i];
      addModuleLibraryRoots(ModuleRootManager.getInstance(module),roots);
    }
  }
 else {
    addModuleLibraryRoots(ModuleRootManager.getInstance(getValue().getModule()),roots);
  }
  return PackageUtil.createPackageViewChildrenOnFiles(roots,getProject(),getSettings(),null,true);
}
