{
synchronized (myEvents) {
    E event=getEvent();
    if (event == null) {
      try {
        myCurrentEvent=null;
        myEvents.wait();
      }
 catch (      InterruptedException e) {
        throw new RuntimeException(e);
      }
      event=getEvent();
    }
    myCurrentEvent=event;
    LOG.assertTrue(event != null);
    if (LOG.isDebugEnabled()) {
      LOG.debug("get event " + event);
    }
    return event;
  }
}
