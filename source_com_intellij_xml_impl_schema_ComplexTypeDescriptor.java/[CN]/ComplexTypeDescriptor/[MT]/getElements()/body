{
  if (myElementDescriptors != null)   return myElementDescriptors;
synchronized (this) {
    if (myElementDescriptors != null)     return myElementDescriptors;
    Map<String,XmlElementDescriptor> map=new LinkedHashMap<String,XmlElementDescriptor>(5);
    collectElements(map,myTag,new HashSet<XmlTag>());
    addSubstitutionGroups(map);
    filterAbstractElements(map);
    return myElementDescriptors=map.values().toArray(new XmlElementDescriptor[map.values().size()]);
  }
}
