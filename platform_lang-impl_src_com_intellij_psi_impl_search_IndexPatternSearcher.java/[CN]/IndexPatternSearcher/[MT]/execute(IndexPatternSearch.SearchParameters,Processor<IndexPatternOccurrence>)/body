{
  final PsiFile file=queryParameters.getFile();
  VirtualFile virtualFile=file.getVirtualFile();
  if (file instanceof PsiBinaryFile || file instanceof PsiCompiledElement || virtualFile == null) {
    return true;
  }
  final CacheManager cacheManager=CacheManager.SERVICE.getInstance(file.getProject());
  final IndexPatternProvider patternProvider=queryParameters.getPatternProvider();
  int count=patternProvider != null ? cacheManager.getTodoCount(virtualFile,patternProvider) : cacheManager.getTodoCount(virtualFile,queryParameters.getPattern());
  return count == 0 || executeImpl(queryParameters,consumer);
}
