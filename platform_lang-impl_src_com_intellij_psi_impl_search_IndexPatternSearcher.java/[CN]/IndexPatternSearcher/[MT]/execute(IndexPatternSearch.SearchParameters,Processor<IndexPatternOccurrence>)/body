{
  final PsiFile file=queryParameters.getFile();
  VirtualFile virtualFile=file.getVirtualFile();
  if (file instanceof PsiBinaryFile || file instanceof PsiCompiledElement || virtualFile == null) {
    return true;
  }
  final CacheManager cacheManager=((PsiManagerEx)file.getManager()).getCacheManager();
  final IndexPatternProvider patternProvider=queryParameters.getPatternProvider();
  int count=patternProvider != null ? cacheManager.getTodoCount(virtualFile,patternProvider) : cacheManager.getTodoCount(virtualFile,queryParameters.getPattern());
  if (count == 0)   return true;
  return executeImpl(queryParameters,consumer);
}
