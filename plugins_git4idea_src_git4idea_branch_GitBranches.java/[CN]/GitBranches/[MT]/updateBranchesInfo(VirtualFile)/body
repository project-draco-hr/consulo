{
  if (root == null) {
    fullyUpdateBranchesInfo(myVcsManager.getRootsUnderVcs(myVcs));
    return;
  }
  try {
    GitBranch currentBranch=GitBranch.current(myProject,root);
synchronized (myCurrentBranchesLock) {
      myCurrentBranches.put(root,currentBranch);
    }
    notifyListeners();
  }
 catch (  VcsException e) {
    LOG.info("Exception while trying to get current branch for root " + root,e);
  }
}
