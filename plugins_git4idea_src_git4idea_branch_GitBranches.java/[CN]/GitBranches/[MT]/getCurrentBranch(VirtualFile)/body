{
  if (file == null) {
    return null;
  }
  final AbstractVcs vcs=myVcsManager.getVcsFor(file);
  if (vcs == null || !(vcs instanceof GitVcs)) {
    return null;
  }
  final VirtualFile vcsRoot=myVcsManager.getVcsRootFor(file);
  if (vcsRoot == null) {
    return null;
  }
  if (myChangeListManager.isUnversioned(file)) {
    return null;
  }
synchronized (myCurrentBranchesLock) {
    return myCurrentBranches.get(vcsRoot);
  }
}
