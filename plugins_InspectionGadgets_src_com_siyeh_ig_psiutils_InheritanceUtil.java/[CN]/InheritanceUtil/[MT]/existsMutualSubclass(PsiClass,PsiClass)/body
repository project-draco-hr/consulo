{
  final String className=class1.getQualifiedName();
  if ("java.lang.Object".equals(className)) {
    return true;
  }
  final String class2Name=class2.getQualifiedName();
  if ("java.lang.Object".equals(class2Name)) {
    return true;
  }
  if (class1.isInheritor(class2,true) || class2.isInheritor(class1,true)) {
    return true;
  }
  final PsiManager psiManager=class1.getManager();
  final PsiSearchHelper searchHelper=psiManager.getSearchHelper();
  final SearchScope searchScope=class1.getUseScope();
  final MutualSubclassProcessor processor=new MutualSubclassProcessor(class2);
  final ProgressManager progressManager=ProgressManager.getInstance();
  progressManager.runProcess(new Runnable(){
    public void run(){
      searchHelper.processInheritors(processor,class1,searchScope,true);
    }
  }
,null);
  return processor.hasMutualSubclass();
}
