{
  if (virtualFile == null || virtualFile.isDirectory()) {
    return;
  }
  final FileDocumentManager documentManager=FileDocumentManager.getInstance();
  if (documentManager.isFileModified(virtualFile)) {
    Document document=documentManager.getDocument(virtualFile);
    if (document != null) {
      documentManager.saveDocument(document);
    }
  }
  ApplicationManager.getApplication().getMessageBus().asyncPublisher(VirtualFileManager.VFS_CHANGES).after(Collections.singletonList(new VFilePropertyChangeEvent(null,virtualFile,VirtualFile.PROP_NAME,virtualFile.getName(),virtualFile.getName(),false)));
}
