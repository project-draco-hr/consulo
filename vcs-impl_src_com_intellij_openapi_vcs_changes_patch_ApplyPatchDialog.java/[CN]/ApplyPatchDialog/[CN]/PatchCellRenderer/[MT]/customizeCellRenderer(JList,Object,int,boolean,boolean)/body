{
  FilePatch filePatch=(FilePatch)value;
  String name=filePatch.getAfterNameRelative(getStripLeadingDirectories());
  final FileType fileType=FileTypeManager.getInstance().getFileTypeByFileName(name);
  setIcon(fileType.getIcon());
  if (myPatchesFailedToLoad.contains(filePatch) && !assumeProblemWillBeFixed(filePatch)) {
    append(name,SimpleTextAttributes.ERROR_ATTRIBUTES);
  }
 else   if (filePatch.isNewFile()) {
    append(name,myNewAttributes);
  }
 else   if (filePatch.isDeletedFile()) {
    append(name,myDeletedAttributes);
  }
 else {
    append(name,myModifiedAttributes);
  }
}
