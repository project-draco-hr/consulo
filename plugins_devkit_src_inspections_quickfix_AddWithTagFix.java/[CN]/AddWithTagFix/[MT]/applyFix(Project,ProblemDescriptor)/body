{
  DomElement element=DomUtil.getDomElement(descriptor.getPsiElement());
  if (!(element instanceof ExtensionPoint)) {
    return;
  }
  ExtensionPoint extensionPoint=(ExtensionPoint)element;
  List<PsiField> fields=ExtensionPointBeanClassInspection.collectMissingWithTags(extensionPoint);
  PsiElement navTarget=null;
  for (  PsiField field : fields) {
    String attributeName=PluginFieldNameConverter.getAttributeAnnotationValue(field);
    if (attributeName == null) {
      attributeName=field.getName();
    }
    With with=extensionPoint.addWith();
    with.getAttribute().setStringValue(attributeName);
    with.getImplements().setStringValue("");
    if (navTarget == null) {
      navTarget=with.getImplements().getXmlAttributeValue();
    }
  }
  if (navTarget != null) {
    PsiNavigateUtil.navigate(navTarget);
  }
}
