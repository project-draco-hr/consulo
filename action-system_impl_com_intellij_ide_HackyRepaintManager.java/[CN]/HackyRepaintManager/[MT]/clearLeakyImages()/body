{
  if (myImagesMap == null) {
    try {
      Field volMapField=RepaintManager.class.getDeclaredField(FAULTY_FIELD_NAME);
      volMapField.setAccessible(true);
      myImagesMap=(Map<GraphicsConfiguration,VolatileImage>)volMapField.get(this);
    }
 catch (    Exception e) {
      LOG.error(e);
    }
  }
  if (myImagesMap.size() > 3) {
    for (    VolatileImage image : myImagesMap.values()) {
      image.flush();
    }
    myImagesMap.clear();
  }
}
