{
  final ArrayList<LocalInspectionTool> result=new ArrayList<LocalInspectionTool>();
  for (  InspectionToolProvider toolProvider : provider) {
    for (    Class aClass : toolProvider.getInspectionClasses()) {
      try {
        final Object tool=aClass.newInstance();
        assertTrue(tool instanceof LocalInspectionTool);
        result.add((LocalInspectionTool)tool);
      }
 catch (      Exception e) {
        LOGGER.error(e);
      }
    }
  }
  return result.toArray(new LocalInspectionTool[result.size()]);
}
