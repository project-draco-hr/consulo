{
  final Map<String,String> url2DeviceConfig=new HashMap<String,String>();
synchronized (myFile2DeviceConfig) {
    for (    Map.Entry<VirtualFile,String> entry : myFile2DeviceConfig.entrySet()) {
      url2DeviceConfig.put(entry.getKey().getUrl(),entry.getValue());
    }
  }
  final MyState state=new MyState();
  state.setUrl2DeviceConfig(url2DeviceConfig);
  state.setState(myGlobalState);
  return state;
}
