{
  myGlobalState=state.getState();
synchronized (myFile2DeviceConfig) {
    myFile2DeviceConfig.clear();
    for (    Map.Entry<String,String> entry : state.getUrl2DeviceConfig().entrySet()) {
      final VirtualFile file=VirtualFileManager.getInstance().findFileByUrl(entry.getKey());
      if (file != null) {
        myFile2DeviceConfig.put(file,entry.getValue());
      }
    }
  }
}
