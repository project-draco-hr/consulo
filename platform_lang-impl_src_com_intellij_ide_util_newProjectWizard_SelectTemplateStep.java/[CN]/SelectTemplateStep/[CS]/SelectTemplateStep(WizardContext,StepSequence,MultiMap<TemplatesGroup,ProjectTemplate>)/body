{
  myWizardContext=context;
  mySequence=sequence;
  Messages.installHyperlinkSupport(myDescriptionPane);
  myNamePathComponent=initNamePathComponent(context);
  if (context.isCreatingNewProject()) {
    mySettingsPanel.add(myNamePathComponent,BorderLayout.NORTH);
    addExpertPanel(myModulePanel);
  }
 else {
    mySettingsPanel.add(myModulePanel,BorderLayout.NORTH);
  }
  bindModuleSettings();
  myExpertDecorator=new HideableDecorator(myExpertPlaceholder,"Mor&e Settings",false);
  myExpertPanel.setBorder(IdeBorderFactory.createEmptyBorder(0,IdeBorderFactory.TITLED_BORDER_INDENT,5,0));
  myExpertDecorator.setContentComponent(myExpertPanel);
  myList=new ProjectTypesList(myTemplatesList,map,context);
  myList.installKeyAction(getNameComponent());
  myTemplatesList.getSelectionModel().addListSelectionListener(new ListSelectionListener(){
    @Override public void valueChanged(    ListSelectionEvent e){
      ProjectTemplate template=getSelectedTemplate();
      boolean loading=template instanceof LoadingProjectTemplate;
      myModuleBuilder=template == null || loading ? null : template.createModuleBuilder();
      setupPanels(template);
      myWizardContext.requestWizardButtonsUpdate();
    }
  }
);
}
