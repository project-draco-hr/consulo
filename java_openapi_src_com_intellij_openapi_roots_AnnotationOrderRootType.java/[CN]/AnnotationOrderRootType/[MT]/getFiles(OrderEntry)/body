{
  List<VirtualFile> result=new ArrayList<VirtualFile>();
  RecursiveRootPolicy<List<VirtualFile>> policy=new RecursiveRootPolicy<List<VirtualFile>>(){
    public List<VirtualFile> visitLibraryOrderEntry(    final LibraryOrderEntry orderEntry,    final List<VirtualFile> value){
      Collections.addAll(value,orderEntry.getRootFiles(getInstance()));
      return value;
    }
    public List<VirtualFile> visitJdkOrderEntry(    final JdkOrderEntry orderEntry,    final List<VirtualFile> value){
      Collections.addAll(value,orderEntry.getRootFiles(getInstance()));
      return value;
    }
    public List<VirtualFile> visitModuleSourceOrderEntry(    final ModuleSourceOrderEntry orderEntry,    final List<VirtualFile> value){
      Collections.addAll(value,orderEntry.getRootModel().getRootPaths(getInstance()));
      return value;
    }
  }
;
  entry.accept(policy,result);
  return VfsUtil.toVirtualFileArray(result);
}
