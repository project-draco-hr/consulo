{
  List<VirtualFile> result=new ArrayList<VirtualFile>();
  RootPolicy<List<VirtualFile>> policy=new RootPolicy<List<VirtualFile>>(){
    @Override public List<VirtualFile> visitLibraryOrderEntry(    final LibraryOrderEntry orderEntry,    final List<VirtualFile> value){
      Collections.addAll(value,orderEntry.getRootFiles(getInstance()));
      return value;
    }
    @Override public List<VirtualFile> visitJdkOrderEntry(    final JdkOrderEntry orderEntry,    final List<VirtualFile> value){
      Collections.addAll(value,orderEntry.getRootFiles(getInstance()));
      return value;
    }
    @Override public List<VirtualFile> visitModuleSourceOrderEntry(    final ModuleSourceOrderEntry orderEntry,    final List<VirtualFile> value){
      Collections.addAll(value,orderEntry.getRootModel().getModuleExtension(JavaModuleExternalPaths.class).getExternalAnnotationsRoots());
      return value;
    }
  }
;
  entry.accept(policy,result);
  return VfsUtilCore.toVirtualFileArray(result);
}
