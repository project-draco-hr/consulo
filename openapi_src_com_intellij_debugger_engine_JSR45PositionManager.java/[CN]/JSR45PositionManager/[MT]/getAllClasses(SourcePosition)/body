{
  final FileType fileType=classPosition.getFile().getFileType();
  if (fileType != StdFileTypes.JSP && fileType != StdFileTypes.JSPX) {
    throw new NoDataException();
  }
  final List<ReferenceType> referenceTypes=myDebugProcess.getVirtualMachineProxy().allClasses();
  final List<ReferenceType> result=new ArrayList<ReferenceType>();
  for (  final ReferenceType referenceType : referenceTypes) {
    myJspPatternMatcher.reset(referenceType.name());
    if (myJspPatternMatcher.matches()) {
      final List<Location> locations=locationsOfClassAt(referenceType,classPosition);
      if (locations != null) {
        result.add(referenceType);
      }
    }
  }
  return result;
}
