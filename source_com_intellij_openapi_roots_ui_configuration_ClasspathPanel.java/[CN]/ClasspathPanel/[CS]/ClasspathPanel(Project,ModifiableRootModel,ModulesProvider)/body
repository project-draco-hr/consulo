{
  super(new BorderLayout());
  myProject=project;
  myRootModel=rootModel;
  myModulesProvider=modulesProvider;
  myModel=new MyTableModel(rootModel);
  myEntryTable=new Table(myModel);
  myEntryTable.setShowGrid(false);
  myEntryTable.setDragEnabled(false);
  myEntryTable.setShowHorizontalLines(false);
  myEntryTable.setShowVerticalLines(false);
  myEntryTable.setIntercellSpacing(new Dimension(0,0));
  myEntryTable.setDefaultRenderer(TableItem.class,new TableItemRenderer());
  myEntryTable.setDefaultRenderer(Boolean.class,new ExportFlagRenderer(myEntryTable.getDefaultRenderer(Boolean.class)));
  myEntryTable.getSelectionModel().setSelectionMode(ListSelectionModel.MULTIPLE_INTERVAL_SELECTION);
  final FontMetrics fontMetrics=myEntryTable.getFontMetrics(myEntryTable.getFont());
  final int width=fontMetrics.stringWidth(" " + MyTableModel.EXPORT_COLUMN_NAME + " ") + 4;
  final TableColumn checkboxColumn=myEntryTable.getTableHeader().getColumnModel().getColumn(MyTableModel.EXPORT_COLUMN);
  checkboxColumn.setWidth(width);
  checkboxColumn.setPreferredWidth(width);
  checkboxColumn.setMaxWidth(width);
  checkboxColumn.setMinWidth(width);
  myEntryTable.registerKeyboardAction(new ActionListener(){
    public void actionPerformed(    ActionEvent e){
      final int[] selectedRows=myEntryTable.getSelectedRows();
      boolean currentlyMarked=true;
      for (      final int selectedRow : selectedRows) {
        final TableItem item=myModel.getItemAt(selectedRow);
        if (selectedRow < 0 || !item.isExportable()) {
          return;
        }
        currentlyMarked&=item.isExported();
      }
      for (      final int selectedRow : selectedRows) {
        myModel.getItemAt(selectedRow).setExported(!currentlyMarked);
      }
      myModel.fireTableDataChanged();
      TableUtil.selectRows(myEntryTable,selectedRows);
    }
  }
,KeyStroke.getKeyStroke(KeyEvent.VK_SPACE,0),JComponent.WHEN_FOCUSED);
  this.add(ScrollPaneFactory.createScrollPane(myEntryTable),BorderLayout.CENTER);
  this.add(createButtonsBlock(),BorderLayout.EAST);
  if (myEntryTable.getRowCount() > 0) {
    myEntryTable.getSelectionModel().setSelectionInterval(0,0);
  }
}
