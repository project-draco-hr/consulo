{
  final LibraryTable.ModifiableModel libraryModifiableModel=myLibraryTable.getModifiableModel();
  final LibraryTableModifiableModelProvider provider=new LibraryTableModifiableModelProvider(){
    public LibraryTable.ModifiableModel getModifiableModel(){
      return libraryModifiableModel;
    }
    public String getTableLevel(){
      return myLibraryTable.getTableLevel();
    }
    public LibraryTablePresentation getLibraryTablePresentation(){
      return myLibraryTable.getPresentation();
    }
    public boolean isLibraryTableEditable(){
      return false;
    }
  }
;
  final Library library=libraryModifiableModel.createLibrary(LibraryTableEditor.suggestNewLibraryName(libraryModifiableModel));
  final LibraryTableEditor editor=LibraryTableEditor.editLibrary(provider,library);
  myIsOk=editor.openDialog(myParent,Collections.singletonList(library),true);
  if (myIsOk && library.getUrls(OrderRootType.CLASSES).length > 0) {
    myChosenLibrary=library;
  }
 else {
    myChosenLibrary=null;
    libraryModifiableModel.removeLibrary(library);
  }
}
