{
  return new TIntFunction(){
    @Override public int execute(    int value){
      updateLineNumbers(false);
      for (      FoldedBlock folding : getFoldedBlocks()) {
        int line=folding.getLine(index);
        if (line == -1)         continue;
        if (line > value)         break;
        FoldRegion region=folding.getRegion(index);
        if (line == value && region != null && !region.isExpanded())         return -1;
      }
      return value;
    }
  }
;
}
