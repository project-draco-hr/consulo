{
  ApplicationManager.getApplication().assertIsDispatchThread();
  if (changedLines == null)   return;
  if (settings.range == -1)   return;
  runBatchOperation(new Runnable(){
    @Override public void run(){
      FoldingBuilder builder=new FoldingBuilder(context,settings);
      builder.build(changedLines);
    }
  }
);
  updateLineNumbers(true);
}
