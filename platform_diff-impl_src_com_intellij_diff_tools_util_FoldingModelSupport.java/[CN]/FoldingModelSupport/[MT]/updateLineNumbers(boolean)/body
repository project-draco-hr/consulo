{
  for (int i=0; i < myCount; i++) {
    if (!myShouldUpdateLineNumbers[i] && !force)     continue;
    myShouldUpdateLineNumbers[i]=false;
    ApplicationManager.getApplication().assertReadAccessAllowed();
    for (    FoldedBlock folding : getFoldedBlocks()) {
      folding.updateLineNumber(i);
    }
  }
}
