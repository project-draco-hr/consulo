{
  final CompilerConfiguration compilerConfiguration=CompilerConfiguration.getInstance(project);
  final ExcludeEntryDescription[] excludeEntryDescriptions=compilerConfiguration.getExcludeEntryDescriptions();
  myPatternSet=new PatternSet(BuildProperties.PROPERTY_COMPILER_EXCLUDES);
  for (int idx=0; idx < excludeEntryDescriptions.length; idx++) {
    final ExcludeEntryDescription entry=excludeEntryDescriptions[idx];
    final String path=genOptions.subsitutePathWithMacros(VirtualFileManager.extractPath(entry.getUrl()));
    if (entry.isFile()) {
      myPatternSet.add(new Exclude(path));
    }
 else {
      if (entry.isIncludeSubdirectories()) {
        myPatternSet.add(new Exclude(path + "/**"));
      }
 else {
        myPatternSet.add(new Exclude(path + "/*"));
      }
    }
  }
}
