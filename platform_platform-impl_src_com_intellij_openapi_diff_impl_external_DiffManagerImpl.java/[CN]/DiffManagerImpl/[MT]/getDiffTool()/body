{
  DiffTool[] standardTools;
  if (!ENABLE_FILES.value(myProperties) || !ENABLE_FOLDERS.value(myProperties)) {
    DiffTool[] embeddableTools={INTERNAL_DIFF,new MergeTool(),BinaryDiffTool.INSTANCE};
    standardTools=new DiffTool[]{ExtCompareFolders.INSTANCE,ExtCompareFiles.INSTANCE,new MultiLevelDiffTool(Arrays.asList(embeddableTools)),INTERNAL_DIFF,new MergeTool(),BinaryDiffTool.INSTANCE};
  }
 else {
    standardTools=new DiffTool[]{ExtCompareFolders.INSTANCE,ExtCompareFiles.INSTANCE,INTERNAL_DIFF,new MergeTool(),BinaryDiffTool.INSTANCE};
  }
  ArrayList<DiffTool> allTools=new ArrayList<DiffTool>(myAdditionTools);
  allTools.addAll(Arrays.asList(standardTools));
  return new CompositeDiffTool(allTools);
}
