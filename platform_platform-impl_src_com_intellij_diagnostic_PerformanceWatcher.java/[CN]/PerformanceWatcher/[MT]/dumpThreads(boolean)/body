{
  final String suffix=millis ? "-" + String.valueOf(System.currentTimeMillis()) : "";
  File f=new File(myCurHangLogDir,"threadDump-" + myDateFormat.format(new Date()) + suffix+ ".txt");
  FileOutputStream fos;
  try {
    fos=new FileOutputStream(f);
  }
 catch (  FileNotFoundException e) {
    return;
  }
  OutputStreamWriter writer=new OutputStreamWriter(fos);
  try {
    dumpThreadsToFile(writer);
  }
  finally {
    try {
      writer.close();
    }
 catch (    IOException e) {
    }
  }
}
