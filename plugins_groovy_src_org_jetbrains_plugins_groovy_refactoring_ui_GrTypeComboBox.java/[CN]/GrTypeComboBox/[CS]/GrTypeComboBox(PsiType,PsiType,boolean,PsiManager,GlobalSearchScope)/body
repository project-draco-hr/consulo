{
  LOG.assertTrue(min == null || manager != null);
  LOG.assertTrue(min == null || scope != null);
  if (type instanceof PsiDisjunctionType)   type=((PsiDisjunctionType)type).getLeastUpperBound();
  Map<String,PsiType> types=Collections.emptyMap();
  if (type != null) {
    types=getCompatibleTypeNames(type,min,manager,scope);
  }
  if (createDef || types.isEmpty()) {
    addItem(new PsiTypeItem(null));
  }
  for (  String typeName : types.keySet()) {
    addItem(new PsiTypeItem(types.get(typeName)));
  }
  if (createDef && getItemCount() > 1) {
    setSelectedIndex(1);
  }
}
