{
  if (type instanceof PsiDisjunctionType)   type=((PsiDisjunctionType)type).getLeastUpperBound();
  if (createDef) {
    addItem(new PsiTypeItem(null));
  }
  if (type != null) {
    final Map<String,PsiType> myTypes=GroovyRefactoringUtil.getCompatibleTypeNames(type);
    for (    String typeName : myTypes.keySet()) {
      addItem(new PsiTypeItem(myTypes.get(typeName)));
    }
  }
  if (createDef && !selectDef && getItemCount() > 1) {
    setSelectedIndex(1);
  }
}
