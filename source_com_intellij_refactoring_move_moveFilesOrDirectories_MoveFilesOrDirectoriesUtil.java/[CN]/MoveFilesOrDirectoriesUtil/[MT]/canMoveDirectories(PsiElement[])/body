{
  if (elements == null) {
    throw new IllegalArgumentException("elements cannot be null");
  }
  for (int i=0; i < elements.length; i++) {
    PsiElement element=elements[i];
    if (!(element instanceof PsiDirectory)) {
      return false;
    }
  }
  for (int i=0; i < elements.length; i++) {
    PsiDirectory directory=(PsiDirectory)elements[i];
    if (hasPackages(directory)) {
      return false;
    }
  }
  PsiElement[] filteredElements=DeleteUtil.filterElements(elements);
  if (filteredElements.length != elements.length) {
    return false;
  }
  return true;
}
