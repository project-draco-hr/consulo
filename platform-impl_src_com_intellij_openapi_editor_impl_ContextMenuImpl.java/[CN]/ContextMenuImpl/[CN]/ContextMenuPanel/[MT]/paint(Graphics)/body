{
  final Rectangle r=getBounds();
  if (myBufferedImage == null) {
    myBufferedImage=new BufferedImage(r.width,r.height,BufferedImage.TYPE_INT_ARGB);
    final Graphics graphics=myBufferedImage.getGraphics();
    final Graphics2D g2d2=(Graphics2D)graphics;
    final Composite old=g2d2.getComposite();
    g2d2.setComposite(AlphaComposite.getInstance(AlphaComposite.SRC_OVER,0.2f));
    g2d2.setColor(Color.GRAY);
    g2d2.fillRoundRect(0,0,r.width - 1,r.height - 1,6,6);
    g2d2.setComposite(old);
    paintChildren(g2d2);
  }
  final Graphics2D g2=(Graphics2D)g;
  final Composite old=g2.getComposite();
  g2.setComposite(AlphaComposite.getInstance(AlphaComposite.SRC_ATOP,myContextMenu.myCurrentOpacity / 100.0f));
  g2.drawImage(myBufferedImage,0,0,myBufferedImage.getWidth(null),myBufferedImage.getHeight(null),null);
  g2.setComposite(old);
}
