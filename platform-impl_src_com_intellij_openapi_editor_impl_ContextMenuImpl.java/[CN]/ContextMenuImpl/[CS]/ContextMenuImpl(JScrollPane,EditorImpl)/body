{
  setLayout(new BorderLayout(0,0));
  myActionManager=ActionManager.getInstance();
  editor.addEditorMouseMotionListener(new EditorMouseMotionAdapter(){
    @Override public void mouseMoved(    final EditorMouseEvent e){
      final Editor editor=e.getEditor();
      final JComponent c=editor.getComponent();
      final Rectangle r=c.getBounds();
      final Point viewPosition=container.getViewport().getViewPosition();
      final Rectangle activationArea=new Rectangle(0,0,r.width,150);
      final MouseEvent event=e.getMouseEvent();
      final Point p=event.getPoint();
      toggleContextToolbar(activationArea.contains(p.x,p.y - viewPosition.y));
    }
  }
);
  AnAction action=myActionManager.getAction("EditorContextBarMenu");
  if (action == null) {
    action=new DefaultActionGroup();
    myActionManager.registerAction(ACTION_GROUP,action);
  }
  if (action instanceof ActionGroup) {
    myActionGroup=(ActionGroup)action;
  }
  myComponent=createComponent();
  add(myComponent);
  setVisible(false);
}
