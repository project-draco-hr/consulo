{
  if (element instanceof HierarchyNodeDescriptor) {
    final HierarchyNodeDescriptor descriptor=(HierarchyNodeDescriptor)element;
    final Object[] cachedChildren=descriptor.getCachedChildren();
    if (cachedChildren == null) {
      if (!descriptor.isValid()) {
        descriptor.setCachedChildren(ArrayUtil.EMPTY_OBJECT_ARRAY);
      }
 else {
        descriptor.setCachedChildren(buildChildren(descriptor));
      }
    }
    return descriptor.getCachedChildren();
  }
  return ArrayUtil.EMPTY_OBJECT_ARRAY;
}
