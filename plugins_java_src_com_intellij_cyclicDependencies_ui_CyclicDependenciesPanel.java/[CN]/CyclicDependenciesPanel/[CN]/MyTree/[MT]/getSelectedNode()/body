{
  TreePath[] paths=getSelectionPaths();
  if (paths == null || paths.length != 1)   return null;
  final Object lastPathComponent=paths[0].getLastPathComponent();
  if (lastPathComponent instanceof PackageDependenciesNode) {
    return (PackageDependenciesNode)lastPathComponent;
  }
 else {
    return (PackageDependenciesNode)((DefaultMutableTreeNode)lastPathComponent).getUserObject();
  }
}
