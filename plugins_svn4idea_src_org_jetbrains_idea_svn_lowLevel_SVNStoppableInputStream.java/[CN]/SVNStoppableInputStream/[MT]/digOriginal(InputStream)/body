{
  InputStream current=original;
  try {
    while (true) {
      final String name=current.getClass().getName();
      if ("org.tmatesoft.svn.core.internal.io.dav.http.SpoolFile.SpoolInputStream".equals(name)) {
        current=byName(current,"myCurrentInput");
      }
 else       if ("org.tmatesoft.svn.core.internal.util.ChunkedInputStream".equals(name)) {
        current=byName(current,"myInputStream");
      }
 else       if ("org.tmatesoft.svn.core.internal.util.FixedSizeInputStream".equals(name)) {
        current=byName(current,"mySource");
      }
 else {
        Method[] methods=current.getClass().getDeclaredMethods();
        for (        Method method : methods) {
          if ("available".equals(method.getName())) {
            return current;
          }
        }
        return createReadingProxy(current);
      }
    }
  }
 catch (  NoSuchFieldException e) {
    LOG.info(e);
    return createReadingProxy(current);
  }
catch (  IllegalAccessException e) {
    LOG.info(e);
    return createReadingProxy(current);
  }
}
