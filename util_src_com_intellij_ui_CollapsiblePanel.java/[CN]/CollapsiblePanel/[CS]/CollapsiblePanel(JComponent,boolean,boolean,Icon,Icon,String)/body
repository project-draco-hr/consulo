{
  super(new GridBagLayout());
  myContent=content;
  setBackground(content.getBackground());
  myExpandIcon=expandIcon;
  myCollapseIcon=collapseIcon;
  final Dimension buttonDimension=getButtonDimension();
  myToggleCollapseButton=new JButton();
  myToggleCollapseButton.setOpaque(false);
  myToggleCollapseButton.setFocusable(false);
  myToggleCollapseButton.setSize(buttonDimension);
  myToggleCollapseButton.setPreferredSize(buttonDimension);
  myToggleCollapseButton.setMinimumSize(buttonDimension);
  myToggleCollapseButton.setMaximumSize(buttonDimension);
  final int iconAnchor=collapseButtonAtLeft ? GridBagConstraints.WEST : GridBagConstraints.EAST;
  add(myToggleCollapseButton,new GridBagConstraints(0,0,1,1,1.0,0.0,iconAnchor,GridBagConstraints.NONE,new Insets(-5,collapseButtonAtLeft ? 0 : -5,0,collapseButtonAtLeft ? -5 : 0),0,0));
  if (title != null) {
    final Label label=new Label(title);
    label.setFont(UIUtil.getLabelFont().deriveFont(Font.BOLD));
    label.setBackground(UIUtil.getTableBackground());
    add(label,new GridBagConstraints(0,0,1,1,1.0,0.0,GridBagConstraints.CENTER,GridBagConstraints.NONE,new Insets(-5,-3,0,-3),0,0));
  }
  myToggleCollapseButton.addActionListener(new ActionListener(){
    public void actionPerformed(    ActionEvent e){
      setCollapsed(!myIsCollapsed);
    }
  }
);
  setCollapsed(isCollapsed);
}
