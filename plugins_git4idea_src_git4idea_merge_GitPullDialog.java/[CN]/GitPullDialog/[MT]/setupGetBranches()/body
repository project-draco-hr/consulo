{
  final JTextField textField=(JTextField)myRemote.getEditor().getEditorComponent();
  final DocumentAdapter listener=new DocumentAdapter(){
    protected void textChanged(    final DocumentEvent e){
      validateDialog();
      myGetBranchesButton.setEnabled(textField.getText().trim().length() != 0);
    }
  }
;
  textField.getDocument().addDocumentListener(listener);
  listener.changedUpdate(null);
  myGetBranchesButton.addActionListener(new ActionListener(){
    public void actionPerformed(    final ActionEvent e){
      GitSimpleHandler h=new GitSimpleHandler(myProject,gitRoot(),GitCommand.LS_REMOTE);
      h.addParameters("--heads",myRemote.getSelectedItem().toString());
      String output=GitHandlerUtil.doSynchronously(h,GitBundle.getString("pull.getting.remote.branches"),h.printableCommandLine());
      if (output == null) {
        return;
      }
      myBranchChooser.removeAllElements();
      for (      String line : output.split("\n")) {
        if (line.length() == 0) {
          continue;
        }
        int pos=line.lastIndexOf('/');
        if (pos == -1) {
          pos=line.lastIndexOf('\t');
        }
        myBranchChooser.addElement(line.substring(pos + 1),false);
      }
    }
  }
);
}
