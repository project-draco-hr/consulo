{
  Object[] expandedPsiElements=null;
  if (myStructureViewState != null) {
    expandedPsiElements=myStructureViewState.getExpandedElements();
  }
  if (expandedPsiElements == null) {
    getTree().expandPath(new TreePath(getRootNode().getPath()));
  }
 else {
    for (    Object element : expandedPsiElements) {
      if (element instanceof PsiElement && !((PsiElement)element).isValid()) {
        continue;
      }
      expandPathToElement(element);
    }
  }
}
