{
  final MapDataContext context=createDataContext(file);
  UsageTarget[] targets=UsageTargetUtil.findUsageTargets(new DataProvider(){
    public Object getData(    @NonNls String dataId){
      return context.getData(dataId);
    }
  }
);
  PsiElement target=((PsiElement2UsageTargetAdapter)targets[0]).getElement();
  List<PsiReference> result=new ArrayList<PsiReference>(ReferencesSearch.search(target).findAll());
  return ContainerUtil.map(result,new Function<PsiReference,PsiElement>(){
    public PsiElement fun(    PsiReference psiReference){
      return psiReference.getElement();
    }
  }
);
}
