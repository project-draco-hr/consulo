{
  if (!myCorruptedFiles.isEmpty()) {
    int showOptions=CvsConfiguration.getInstance(myProject).SHOW_CORRUPTED_PROJECT_FILES;
    if (showOptions == Options.PERFORM_ACTION_AUTOMATICALLY) {
      for (Iterator iterator=myCorruptedFiles.iterator(); iterator.hasNext(); ) {
        MergedWithConflictProjectOrModuleFile file=(MergedWithConflictProjectOrModuleFile)iterator.next();
        file.setShouldBeCheckedOut();
      }
    }
 else     if (showOptions == Options.SHOW_DIALOG) {
      modalityContext.runInDispatchThread(new Runnable(){
        public void run(){
          new CorruptedProjectFilesDialog(myProject,myCorruptedFiles).show();
        }
      }
);
    }
    for (Iterator iterator=myCorruptedFiles.iterator(); iterator.hasNext(); ) {
      MergedWithConflictProjectOrModuleFile file=(MergedWithConflictProjectOrModuleFile)iterator.next();
      if (file.shouldBeCheckedOut()) {
        addFileToCheckout(file.getOriginal());
      }
 else {
        myUpdatedFiles.getGroupById(FileGroup.MODIFIED_ID).add(file.getOriginal().getPath());
      }
    }
  }
}
