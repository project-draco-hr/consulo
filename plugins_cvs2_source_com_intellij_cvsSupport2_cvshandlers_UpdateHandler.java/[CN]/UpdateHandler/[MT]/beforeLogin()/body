{
  try {
    super.beforeLogin();
    FindAllRoots findAllRoots=new FindAllRoots(myProject);
    myRoots.addAll(findAllRoots.executeOn(myFiles));
    myNotProcessedRepositories.addAll(findAllRoots.getDirectoriesToBeUpdated());
    myDirectoriesToBeProcessedCount=myNotProcessedRepositories.size();
    ((UpdateOperation)myCvsOperation).addAllFiles(myRoots.toArray(new VirtualFile[myRoots.size()]));
  }
 catch (  ProcessCanceledException ex) {
    myIsCanceled=true;
  }
}
