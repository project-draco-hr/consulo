{
  ModuleRootManager manager=ModuleRootManager.getInstance(module);
  ModifiableRootModel model=manager.getModifiableModel();
  removeGroovyLibrariesFormModule(model);
  if (sdk == null || sdk.getLibrary() == null) {
    model.commit();
    return;
  }
  saveGroovyDefaultLibName(sdk.getLibraryName());
  Library newLib=sdk.getLibrary();
  LibraryOrderEntry addedEntry=model.addLibraryEntry(newLib);
  LibrariesUtil.placeEntryToCorrectPlace(model,addedEntry);
  model.commit();
}
