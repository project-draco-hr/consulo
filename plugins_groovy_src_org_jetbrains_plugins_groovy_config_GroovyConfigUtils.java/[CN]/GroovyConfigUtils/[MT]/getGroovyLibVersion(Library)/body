{
  VirtualFile[] files=library.getFiles(OrderRootType.CLASSES);
  for (  VirtualFile file : files) {
    if (file.getName().matches(GROOVY_JAR_PATTERN)) {
      String path=file.getPresentableUrl();
      File realFile=new File(path);
      if (realFile.exists()) {
        try {
          JarFile jarFile=new JarFile(realFile);
          JarEntry jarEntry=jarFile.getJarEntry(MANIFEST_PATH);
          if (jarEntry == null) {
            continue;
          }
          Manifest manifest=new Manifest(jarFile.getInputStream(jarEntry));
          return manifest.getMainAttributes().getValue(Attributes.Name.IMPLEMENTATION_VERSION);
        }
 catch (        IOException e) {
          continue;
        }
      }
    }
  }
  return null;
}
