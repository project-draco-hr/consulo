{
  if (library == null)   return false;
  VirtualFile[] classFiles=library.getFiles(OrderRootType.CLASSES);
  for (  VirtualFile file : classFiles) {
    String path=file.getPath();
    if (path != null && "jar".equals(file.getExtension())) {
      path=StringUtil.trimEnd(path,"!/");
      @NonNls String name=file.getName();
      if (isGroovyAllJar(name) || name.matches(GROOVY_LIB_PATTERN)) {
        File realFile=new File(path);
        if (realFile.exists()) {
          try {
            JarFile jarFile=new JarFile(realFile);
            try {
              return isSDKJar(jarFile) && !GrailsConfigUtils.getInstance().isSDKLibrary(library);
            }
  finally {
              jarFile.close();
            }
          }
 catch (          IOException e) {
            return false;
          }
        }
      }
    }
  }
  return false;
}
