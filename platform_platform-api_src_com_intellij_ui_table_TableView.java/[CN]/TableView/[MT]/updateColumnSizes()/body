{
  ColumnInfo[] columns=getListTableModel().getColumnInfos();
  for (int i=0; i < columns.length; i++) {
    final ColumnInfo columnInfo=columns[i];
    final TableColumn column=getColumnModel().getColumn(i);
    final Component headerComponent=getTableHeader().getDefaultRenderer().getTableCellRendererComponent(this,column.getHeaderValue(),false,false,0,0);
    final Dimension headerSize=headerComponent.getPreferredSize();
    final String maxStringValue;
    final String preferredValue;
    if (columnInfo.getWidth(this) > 0) {
      int wight=columnInfo.getWidth(this);
      column.setMaxWidth(wight);
      column.setMinWidth(wight);
    }
 else     if ((maxStringValue=columnInfo.getMaxStringValue()) != null) {
      int width=getFontMetrics(getFont()).stringWidth(maxStringValue) + columnInfo.getAdditionalWidth();
      width=Math.max(width,headerSize.width);
      column.setPreferredWidth(width);
      column.setMaxWidth(width);
    }
 else     if ((preferredValue=columnInfo.getPreferredStringValue()) != null) {
      int width=getFontMetrics(getFont()).stringWidth(preferredValue) + columnInfo.getAdditionalWidth();
      width=Math.max(width,headerSize.width);
      column.setPreferredWidth(width);
    }
  }
}
