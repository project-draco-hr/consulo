{
  while (context != null && !XsltSupport.isTopLevelElement(context)) {
    context=context.getParentTag();
  }
  while (context != null && processor.shouldContinue()) {
    processor.process(context);
    context=PsiTreeUtil.getNextSiblingOfType(context,XmlTag.class);
  }
  return processor.shouldContinue();
}
