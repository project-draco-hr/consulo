{
  myVcsHistoryProvider=vcsHistoryProvider;
  myAnnotationProvider=annotationProvider;
  myPath=path;
  myRepositoryPath=repositoryPath;
  myVcs=vcs;
  myRefresher=refresher;
  myBuffer=new BufferedListConsumer<VcsFileRevision>(5,new Consumer<List<VcsFileRevision>>(){
    public void consume(    List<VcsFileRevision> vcsFileRevisions){
      mySession.getRevisionList().addAll(vcsFileRevisions);
      ApplicationManager.getApplication().invokeLater(new Runnable(){
        public void run(){
          myFileHistoryPanel.getHistoryPanelRefresh().consume(mySession);
        }
      }
);
    }
  }
,1000);
}
