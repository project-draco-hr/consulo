{
  if (ApplicationManager.getApplication().isUnitTestMode()) {
    if (!isEmpty) {
      VcsException exception=firstGetter.get();
      if (!handleCustom(exception)) {
        throw new RuntimeException(exception);
      }
    }
    return;
  }
  ApplicationManager.getApplication().invokeLater(new Runnable(){
    public void run(){
      if (myProject.isDisposed())       return;
      if (isEmpty) {
        removeContents(null,tabDisplayName);
        return;
      }
      final VcsErrorViewPanel errorTreeView=new VcsErrorViewPanel(myProject);
      openMessagesView(errorTreeView,tabDisplayName);
      viewFiller.consume(errorTreeView);
    }
  }
);
}
