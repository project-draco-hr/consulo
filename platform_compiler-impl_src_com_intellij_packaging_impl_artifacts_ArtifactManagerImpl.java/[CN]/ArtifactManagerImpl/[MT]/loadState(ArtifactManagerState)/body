{
  final List<ArtifactImpl> artifacts=new ArrayList<ArtifactImpl>();
  for (  ArtifactState state : managerState.getArtifacts()) {
    artifacts.add(loadArtifact(state));
  }
  if (myLoaded) {
    final ArtifactModelImpl model=new ArtifactModelImpl(this,artifacts);
    doCommit(model);
  }
 else {
    myModel.setArtifactsList(artifacts);
    myLoaded=true;
  }
}
