{
  ProjectJdk projectJdk=findJdk(name);
  if (projectJdk != null) {
    return projectJdk;
  }
  final String uniqueName=type + "." + name;
  projectJdk=myCachedProjectJdks.get(uniqueName);
  if (projectJdk != null)   return projectJdk;
  if (type != null) {
    final SdkType[] sdkTypes=ApplicationManager.getApplication().getComponents(SdkType.class);
    for (    SdkType sdkType : sdkTypes) {
      if (Comparing.strEqual(type,sdkType.getName())) {
        @NonNls final String jdkPrefix="jdk.";
        final String jdkPath=System.getProperty(jdkPrefix + name);
        if (jdkPath != null) {
          ProjectJdkImpl projectJdkImpl=new ProjectJdkImpl(name,sdkType);
          projectJdkImpl.setHomePath(jdkPath);
          sdkType.setupSdkPaths(projectJdkImpl);
          myCachedProjectJdks.put(uniqueName,projectJdkImpl);
          return projectJdkImpl;
        }
        break;
      }
    }
  }
  return null;
}
