{
  if (markedState != null && currentColor != null) {
    ((Graphics2D)g).setStroke(DEFAULT_STROKE);
    g.setColor(currentColor);
    if (markedState.getAbsolutePointCount() > 0) {
      Point last=markedState.getAbsolutePoint(0).getPoint();
      for (int i=1; i < markedState.getAbsolutePointCount(); i++) {
        Point current=markedState.getAbsolutePoint(i).getPoint();
        g.drawLine(last.x - getX(),last.y - getY(),current.x - getX(),current.y - getY());
        last=current;
      }
    }
 else {
      g.drawRect(1,1,getWidth() - 3,getHeight() - 3);
    }
  }
}
