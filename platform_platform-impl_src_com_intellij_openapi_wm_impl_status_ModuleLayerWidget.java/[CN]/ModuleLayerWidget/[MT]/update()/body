{
  UIUtil.invokeLaterIfNeeded(new Runnable(){
    @Override public void run(){
      myActionEnabled=false;
      String toolTipText=null;
      String panelText=null;
      ListWithSelection<String> profiles=getLayers();
      if (profiles != null) {
        myActionEnabled=true;
        toolTipText="Module Layer: " + profiles.getSelection();
        panelText=profiles.getSelection();
        myComponent.setVisible(true);
      }
      myActionEnabled=profiles != null;
      myComponent.setVisible(profiles != null);
      myComponent.resetColor();
      String toDoComment;
      if (myActionEnabled) {
        toDoComment="Click to change";
        myComponent.setForeground(UIUtil.getActiveTextColor());
        myComponent.setTextAlignment(Component.LEFT_ALIGNMENT);
      }
 else {
        toDoComment="";
        myComponent.setForeground(UIUtil.getInactiveTextColor());
        myComponent.setTextAlignment(Component.CENTER_ALIGNMENT);
      }
      myComponent.setToolTipText(String.format("%s%n%s",toolTipText,toDoComment));
      myComponent.setText(panelText);
      if (myStatusBar != null) {
        myStatusBar.updateWidget(ID());
      }
    }
  }
);
}
