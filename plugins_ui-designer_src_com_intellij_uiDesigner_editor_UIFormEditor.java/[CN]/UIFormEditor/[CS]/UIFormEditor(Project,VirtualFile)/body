{
  final VirtualFile vf=file instanceof LightVirtualFile ? ((LightVirtualFile)file).getOriginalFile() : file;
  final Module module=ModuleUtil.findModuleForFile(vf,project);
  if (module == null) {
    throw new IllegalArgumentException("No module for file " + file + " in project "+ project);
  }
  myFile=file;
  myEditor=new GuiEditor(project,module,file);
}
