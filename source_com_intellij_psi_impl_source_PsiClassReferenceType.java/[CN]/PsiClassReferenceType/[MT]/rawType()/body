{
  PsiElement resolved=myReference.resolve();
  PsiManager manager=myReference.getManager();
  final PsiElementFactory factory=JavaPsiFacade.getInstance(manager.getProject()).getElementFactory();
  if (resolved instanceof PsiClass) {
    final PsiSubstitutor rawSubstitutor=factory.createRawSubstitutor((PsiClass)resolved);
    return factory.createType((PsiClass)resolved,rawSubstitutor,getLanguageLevel());
  }
  String qualifiedName=myReference.getQualifiedName();
  return new PsiClassReferenceType(new LightClassReference(manager,myReference.getReferenceName(),qualifiedName,myReference.getResolveScope()),null);
}
