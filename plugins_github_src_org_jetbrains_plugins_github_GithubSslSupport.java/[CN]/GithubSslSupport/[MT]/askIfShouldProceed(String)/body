{
  final String BACK_TO_SAFETY="No, I don't trust";
  final String RISK="Proceed anyway";
  final Ref<Integer> choice=new Ref<Integer>(-1);
  ApplicationManager.getApplication().invokeAndWait(new Runnable(){
    @Override public void run(){
      choice.set(Messages.showDialog("The security certificate of " + host + " is not trusted. Do you want to proceed anyway?","Not Trusted Certificate",new String[]{BACK_TO_SAFETY,RISK},0,Messages.getErrorIcon()));
    }
  }
,ModalityState.defaultModalityState());
  return choice.get() == 1;
}
