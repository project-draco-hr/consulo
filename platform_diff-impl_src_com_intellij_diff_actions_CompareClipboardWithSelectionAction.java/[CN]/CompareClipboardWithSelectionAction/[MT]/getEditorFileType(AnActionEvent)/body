{
  DiffContent content=e.getData(DiffDataKeys.CURRENT_CONTENT);
  if (content != null && content.getContentType() != null)   return content.getContentType();
  DiffRequest request=e.getData(DiffDataKeys.DIFF_REQUEST);
  if (request instanceof ContentDiffRequest) {
    for (    DiffContent diffContent : ((ContentDiffRequest)request).getContents()) {
      FileType type=diffContent.getContentType();
      if (type != null && type != UnknownFileType.INSTANCE)       return type;
    }
  }
  return null;
}
