{
  final GitBranch currentBranch=GitBranch.current(myProject,vcsRoot);
  String trackedRemoteName=currentBranch.getTrackedRemoteName(myProject,vcsRoot);
  if ((trackedRemoteName == null) && (!"master".equals(currentBranch.getName())))   return Collections.emptyList();
  if (trackedRemoteName == null)   trackedRemoteName="master";
  final String finalTrackedRemoteName=trackedRemoteName;
  return GitUtil.getLocalCommittedChanges(myProject,vcsRoot,new Consumer<GitSimpleHandler>(){
    public void consume(    final GitSimpleHandler handler){
      handler.addParameters("origin/" + finalTrackedRemoteName + "..HEAD");
    }
  }
);
}
