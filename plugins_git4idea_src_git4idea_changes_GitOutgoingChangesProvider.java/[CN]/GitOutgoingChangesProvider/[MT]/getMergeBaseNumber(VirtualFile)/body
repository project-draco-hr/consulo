{
  LOG.debug("getMergeBaseNumber parameter: " + anyFileUnderRoot.getPath());
  final ProjectLevelVcsManager vcsManager=ProjectLevelVcsManager.getInstance(myProject);
  final VirtualFile root=vcsManager.getVcsRootFor(anyFileUnderRoot);
  if (root == null) {
    LOG.info("VCS root not found");
    return null;
  }
  final GitBranchesSearcher searcher=new GitBranchesSearcher(myProject,root,true);
  if (searcher.getLocal() == null || searcher.getRemote() == null) {
    LOG.info("local or remote not found");
    return null;
  }
  final GitRevisionNumber base=searcher.getLocal().getMergeBase(myProject,root,searcher.getRemote());
  LOG.debug("found base: " + ((base == null) ? null : base.asString()));
  return base;
}
