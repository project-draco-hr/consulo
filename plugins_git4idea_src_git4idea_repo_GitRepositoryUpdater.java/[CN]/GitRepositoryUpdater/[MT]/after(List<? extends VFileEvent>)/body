{
  boolean configChanged=false;
  boolean headChanged=false;
  boolean branchFileChanged=false;
  boolean packedRefsChanged=false;
  boolean rebaseFileChanged=false;
  boolean mergeFileChanged=false;
  for (  VFileEvent event : events) {
    String filePath=event.getPath();
    if (filePath == null) {
      continue;
    }
    filePath=GitFileUtils.stripFileProtocolPrefix(filePath);
    if (myRepositoryFiles.isConfigFile(filePath)) {
      configChanged=true;
    }
 else     if (myRepositoryFiles.isHeadFile(filePath)) {
      headChanged=true;
    }
 else     if (myRepositoryFiles.isBranchFile(filePath)) {
      branchFileChanged=true;
      visitAllChildrenRecursively(myHeadsDir);
    }
 else     if (myRepositoryFiles.isRemoteBranchFile(filePath)) {
      branchFileChanged=true;
      visitAllChildrenRecursively(myRemotesDir);
    }
 else     if (myRepositoryFiles.isPackedRefs(filePath)) {
      packedRefsChanged=true;
    }
 else     if (myRepositoryFiles.isRebaseFile(filePath)) {
      rebaseFileChanged=true;
    }
 else     if (myRepositoryFiles.isMergeFile(filePath)) {
      mergeFileChanged=true;
    }
  }
  boolean updateCurrentBranch=false;
  boolean updateCurrentRevision=false;
  boolean updateState=false;
  boolean updateBranches=false;
  if (headChanged) {
    updateCurrentBranch=true;
    updateCurrentRevision=true;
    updateState=true;
  }
  if (branchFileChanged) {
    updateCurrentRevision=true;
    updateBranches=true;
  }
  if (rebaseFileChanged || mergeFileChanged) {
    updateState=true;
  }
  if (packedRefsChanged) {
    updateCurrentBranch=true;
    updateBranches=true;
  }
  if (updateCurrentBranch) {
    myUpdateQueue.add(GitRepository.TrackedTopic.CURRENT_BRANCH);
  }
  if (updateCurrentRevision) {
    myUpdateQueue.add(GitRepository.TrackedTopic.CURRENT_REVISION);
  }
  if (updateState) {
    myUpdateQueue.add(GitRepository.TrackedTopic.STATE);
  }
  if (updateBranches) {
    myUpdateQueue.add(GitRepository.TrackedTopic.BRANCHES);
  }
  if (configChanged) {
    myUpdateQueue.add(GitRepository.TrackedTopic.CONFIG);
  }
}
