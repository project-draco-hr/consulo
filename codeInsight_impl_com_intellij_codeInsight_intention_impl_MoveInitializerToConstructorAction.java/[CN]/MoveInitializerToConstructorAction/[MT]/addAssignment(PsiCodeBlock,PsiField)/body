{
  PsiElementFactory factory=codeBlock.getManager().getElementFactory();
  PsiExpressionStatement statement=(PsiExpressionStatement)factory.createStatementFromText(field.getName() + " = y;",codeBlock);
  PsiAssignmentExpression expression=(PsiAssignmentExpression)statement.getExpression();
  expression.getRExpression().replace(field.getInitializer());
  PsiStatement[] statements=codeBlock.getStatements();
  PsiElement anchor=null;
  for (  PsiStatement blockStatement : statements) {
    if (blockStatement instanceof PsiExpressionStatement && HighlightUtil.isSuperOrThisMethodCall(((PsiExpressionStatement)blockStatement).getExpression()))     continue;
    if (containsReference(blockStatement,field)) {
      anchor=blockStatement;
      break;
    }
  }
  PsiElement newStatement=codeBlock.addBefore(statement,anchor);
  replaceWithQualifiedReferences(newStatement);
  return newStatement;
}
