{
  dispatchPendingEvents();
  if (!myIsLasyMode) {
    VirtualFile[] dirs=myPackageNameToDirsMap.get(packageName);
    return dirs != null ? dirs : VirtualFile.EMPTY_ARRAY;
  }
 else {
    VirtualFile[] dirs=myPackageNameToDirsMap.get(packageName);
    if (dirs != null)     return dirs;
    dirs=doGetDirectoriesByPackageNameInLazyMode(packageName);
    myPackageNameToDirsMap.put(packageName,dirs);
    return dirs;
  }
}
