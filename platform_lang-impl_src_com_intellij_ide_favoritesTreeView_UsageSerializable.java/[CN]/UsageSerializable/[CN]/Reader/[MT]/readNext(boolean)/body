{
  int idxNext=is.indexOf(separator,idx);
  if (idxNext == -1) {
    if (allowEnd) {
      return StringUtil.unescapeXml(new String(is.substring(idx)));
    }
  }
  final String s=new String(is.substring(idx,idxNext));
  idx=idxNext + separator.length();
  return s;
}
