{
  final Project project=testMethod.getProject();
  final CodeStyleSettingsManager settingsManager=CodeStyleSettingsManager.getInstance(project);
  final CodeStyleSettings settings=settingsManager.getCurrentSettings();
  final String baseParamName=settings.PARAMETER_NAME_PREFIX.length() == 0 ? StringUtil.decapitalize(className) : className;
  final String newParamName=settings.PARAMETER_NAME_PREFIX + baseParamName + settings.PARAMETER_NAME_SUFFIX;
  if (!isParamNameUsed(newParamName,testMethod)) {
    return newParamName;
  }
  int count=1;
  while (true) {
    final String testParamName=settings.PARAMETER_NAME_PREFIX + baseParamName + count+ settings.PARAMETER_NAME_SUFFIX;
    if (!isParamNameUsed(testParamName,testMethod)) {
      return testParamName;
    }
    count++;
  }
}
