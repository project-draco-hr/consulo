{
  GrParameter parameter=null;
  if (element instanceof GrParameter) {
    parameter=(GrParameter)element;
  }
 else   if (element instanceof GrReferenceExpression) {
    GrReferenceExpression expr=(GrReferenceExpression)element;
    if (expr.getQualifierExpression() != null)     return false;
    final PsiElement resolved=expr.resolve();
    if (resolved instanceof GrParameter) {
      parameter=(GrParameter)resolved;
    }
  }
  if (parameter == null)   return false;
  if (parameter.isOptional())   return false;
  GrParametersOwner owner=PsiTreeUtil.getParentOfType(element,GrParametersOwner.class);
  if (!(owner instanceof GrClosableBlock || owner instanceof GrMethod))   return false;
  return checkForMapParameters(owner);
}
