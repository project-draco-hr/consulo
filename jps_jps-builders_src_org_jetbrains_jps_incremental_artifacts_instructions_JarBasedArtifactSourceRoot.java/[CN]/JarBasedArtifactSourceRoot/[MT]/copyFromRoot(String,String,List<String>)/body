{
  processEntries(new EntryProcessor(){
    @Override public void process(    @Nullable InputStream inputStream,    @NotNull String relativePath) throws IOException {
      final String fullOutputPath=FileUtil.toSystemDependentName(PathUtil.appendToPath(outputPath,relativePath));
      final File outputFile=new File(fullOutputPath);
      FileUtil.createParentDirs(outputFile);
      if (inputStream == null) {
        outputFile.mkdir();
      }
 else {
        final BufferedInputStream from=new BufferedInputStream(inputStream);
        final BufferedOutputStream to=new BufferedOutputStream(new FileOutputStream(outputFile));
        try {
          FileUtil.copy(from,to);
        }
  finally {
          from.close();
          to.close();
        }
      }
      outputs.add(fullOutputPath);
    }
  }
);
}
