{
  final PsiJavaPackage aPackage=JavaDirectoryService.getInstance().getPackage(directories[0]);
  LOG.assertTrue(aPackage != null);
  final PsiDirectory[] projectDirectories=aPackage.getDirectories(GlobalSearchScope.projectScope(project));
  if (projectDirectories.length > 1) {
    int ret=Messages.showYesNoCancelDialog(project,prompt + " or all directories in project?",RefactoringBundle.message("warning.title"),RefactoringBundle.message("move.current.directory"),RefactoringBundle.message("move.directories"),CommonBundle.getCancelButtonText(),Messages.getWarningIcon());
    if (ret == 0) {
      moveAsDirectory(project,targetContainer,callback,directories);
    }
 else     if (ret == 1) {
      moveAsDirectory(project,targetContainer,callback,projectDirectories);
    }
  }
 else   if (Messages.showOkCancelDialog(project,prompt + "?",RefactoringBundle.message("warning.title"),Messages.getWarningIcon()) == DialogWrapper.OK_EXIT_CODE) {
    moveAsDirectory(project,targetContainer,callback,directories);
  }
}
