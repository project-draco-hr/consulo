{
  cl.applyChangeSetTo(r,cs(new CreateFileChange(1,"file1",null,null)));
  cl.labelLastChangeSet("1");
  cl.applyChangeSetTo(r,cs(new CreateFileChange(2,"file2",null,null)));
  cl.labelLastChangeSet("2");
  RootEntry copy=r.copy();
  cl.revertEntryUpToChangeSet(copy,cl.getChangeSets().get(1));
  assertTrue(copy.hasEntry("file1"));
  assertTrue(copy.hasEntry("file2"));
  copy=r.copy();
  cl.revertEntryUpToChangeSet(copy,cl.getChangeSets().get(0));
  assertTrue(copy.hasEntry("file1"));
  assertFalse(copy.hasEntry("file2"));
}
