{
  CreateFileChange badChange=new CreateFileChange(null,null){
    @Override public void applyTo(    Snapshot snapshot){
      throw new SomeLocalVcsException();
    }
  }
;
  ChangeList l=new ChangeList();
  try {
    l.applyChangeSetOn(s,cs(badChange));
  }
 catch (  SomeLocalVcsException e) {
  }
  assertTrue(l.getChangeSets().isEmpty());
}
