{
  OutputStreamWriter writer=new OutputStreamWriter(new FileOutputStream(patchPath),CharsetToolkit.UTF8_CHARSET);
  try {
    contentProvider.writeContentTo(writer,commitContext);
  }
  finally {
    writer.close();
  }
  if (myServerStreamProvider != null && myServerStreamProvider.isEnabled()) {
    copyFileContentToProviders(FILE_SPEC + patchPath.getName(),myServerStreamProvider,patchPath);
  }
}
