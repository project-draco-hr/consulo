def __call__(self, name):
    if self.include:
        inc = self.lookup(name, self.include)[0]
    else:
        inc = name
    if self.exclude:
        exc = self.lookup(name, self.exclude)[0]
    else:
        exc = ''
    if (((not self.include) and exc) or (len(inc) <= len(exc))):
        return None
    (newpre, pre, suf) = self.lookup(name, self.rename)
    if newpre:
        if (newpre == '.'):
            return suf
        if suf:
            return ((newpre + '/') + suf)
        return newpre
    return name
