def wanted(self, rev, i):
    try:
        files = self.base.getchangedfiles(rev, i)
    except NotImplementedError:
        raise util.Abort(_("source repository doesn't support --filemap"))
    for f in files:
        if self.filemapper(f):
            return True
    return False
