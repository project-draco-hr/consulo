def _discard(self, *revs):
    for r in revs:
        if (r is None):
            continue
        self.seenchildren[r] = (self.seenchildren.get(r, 0) + 1)
        if (self.seenchildren[r] == self.children[r]):
            del self.wantedancestors[r]
            del self.parentmap[r]
            del self.seenchildren[r]
            if self._rebuilt:
                del self.children[r]
