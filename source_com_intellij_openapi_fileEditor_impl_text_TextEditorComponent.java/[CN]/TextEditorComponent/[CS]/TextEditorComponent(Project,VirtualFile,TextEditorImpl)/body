{
  super(new BorderLayout(),true);
  if (project == null) {
    throw new IllegalArgumentException("project cannot be null");
  }
  if (file == null) {
    throw new IllegalArgumentException("file cannot be null");
  }
  if (textEditor == null) {
    throw new IllegalArgumentException("textEditor cannot be null");
  }
  assertThread();
  myProject=project;
  myFile=file;
  myTextEditor=textEditor;
  myDocument=FileDocumentManager.getInstance().getDocument(myFile);
  LOG.assertTrue(myDocument != null);
  myDocumentListener=new MyDocumentListener();
  myDocument.addDocumentListener(myDocumentListener);
  myEditorMouseListener=new MyEditorMouseListener();
  myEditorCaretListener=new MyEditorCaretListener();
  myEditorPropertyChangeListener=new MyEditorPropertyChangeListener();
  myFileTypeListener=new MyFileTypeListener();
  FileTypeManager.getInstance().addFileTypeListener(myFileTypeListener);
  myVirtualFileListener=new MyVirtualFileListener();
  myFile.getFileSystem().addVirtualFileListener(myVirtualFileListener);
  myEditor=createEditor();
  add(myEditor.getComponent(),BorderLayout.CENTER);
  myModified=isModifiedImpl();
  myValid=isEditorValidImpl();
  LOG.assertTrue(myValid);
}
