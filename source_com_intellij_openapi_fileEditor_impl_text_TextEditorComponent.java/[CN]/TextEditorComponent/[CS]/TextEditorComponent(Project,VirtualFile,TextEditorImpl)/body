{
  super(new BorderLayout(),true);
  assertThread();
  myProject=project;
  myFile=file;
  myTextEditor=textEditor;
  myDocument=FileDocumentManager.getInstance().getDocument(myFile);
  LOG.assertTrue(myDocument != null);
  myDocumentListener=new MyDocumentListener();
  myDocument.addDocumentListener(myDocumentListener);
  myEditorMouseListener=new MyEditorMouseListener();
  myEditorCaretListener=new MyEditorCaretListener();
  myEditorPropertyChangeListener=new MyEditorPropertyChangeListener();
  myConnection=project.getMessageBus().connectStrongly();
  myConnection.subscribe(FileTypeManager.FILE_TYPES,new MyFileTypeListener());
  myVirtualFileListener=new MyVirtualFileListener();
  myFile.getFileSystem().addVirtualFileListener(myVirtualFileListener);
  myEditor=createEditor();
  add(myEditor.getComponent(),BorderLayout.CENTER);
  myModified=isModifiedImpl();
  myValid=isEditorValidImpl();
  LOG.assertTrue(myValid);
}
