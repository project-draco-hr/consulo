{
  final BufferedImage image=new BufferedImage(icon.getIconWidth(),icon.getIconHeight(),BufferedImage.TYPE_4BYTE_ABGR);
  icon.paintIcon(new JLabel(),image.getGraphics(),0,0);
  final Image disabledImage=GrayFilter.createDisabledImage(image);
  return new Icon(){
    @Override public void paintIcon(    Component c,    Graphics g,    int x,    int y){
      g.drawImage(disabledImage,x,y,null);
    }
    @Override public int getIconWidth(){
      return disabledImage.getWidth(null);
    }
    @Override public int getIconHeight(){
      return disabledImage.getHeight(null);
    }
  }
;
}
