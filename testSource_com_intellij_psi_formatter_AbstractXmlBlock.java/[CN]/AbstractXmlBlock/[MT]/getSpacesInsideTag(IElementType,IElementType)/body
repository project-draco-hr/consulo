{
  if (isXmlTagName(type1,type2)) {
    final int spaces=getShouldAddSpaceAroundTagName() ? 1 : 0;
    return getFormatter().createSpaceProperty(spaces,spaces,0,getMaxLine());
  }
 else   if (type2 == ElementType.XML_ATTRIBUTE) {
    return getFormatter().createSpaceProperty(1,1,0,getMaxLine());
  }
  if (keepWhiteSpacesInsideTag(getTag()))   return getFormatter().getReadOnlySpace();
  if (type2 == ElementType.XML_TEXT && type1 == getTagType()) {
    return getFormatter().createSpaceProperty(0,0,1,getMaxLine());
  }
 else   if (type1 == ElementType.XML_TEXT && type2 == ElementType.XML_END_TAG_START) {
    return getFormatter().createSpaceProperty(0,0,0,getMaxLine());
  }
 else   if (type1 == ElementType.XML_TAG_END && type2 == ElementType.XML_END_TAG_START) {
    return getFormatter().createSpaceProperty(0,0,0,getMaxLine());
  }
 else   if (type2 == ElementType.XML_TEXT && type1 == ElementType.XML_TAG_END) {
    return getFormatter().createSpaceProperty(0,0,0,getMaxLine());
  }
 else   if (type2 == getTagType() && (type1 == ElementType.XML_TEXT || type1 == getTagType()) && insertLineBreakBefore()) {
    return getFormatter().createSpaceProperty(0,Integer.MAX_VALUE,2,getMaxLine());
  }
 else   if (type2 == getTagType() && (type1 == ElementType.XML_TEXT || type1 == getTagType()) && removeLineBreakBefore()) {
    return getFormatter().createSpaceProperty(0,Integer.MAX_VALUE,0,0);
  }
 else {
    return myDefaultSpaceProperty;
  }
}
