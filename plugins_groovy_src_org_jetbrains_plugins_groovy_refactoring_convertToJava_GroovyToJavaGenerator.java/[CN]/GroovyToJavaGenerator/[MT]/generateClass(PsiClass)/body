{
  try {
    StringBuilder text=new StringBuilder();
    final ClassNameProvider classNameProvider=fullConversion ? new GeneratorClassNameProvider() : new StubClassNameProvider(myAllToCompile);
    new ClassGenerator(myProject,classNameProvider).writeTypeDefinition(text,typeDefinition,true);
    return text;
  }
 catch (  ProcessCanceledException e) {
    throw e;
  }
catch (  Throwable e) {
    LOG.error(e);
    return "";
  }
}
