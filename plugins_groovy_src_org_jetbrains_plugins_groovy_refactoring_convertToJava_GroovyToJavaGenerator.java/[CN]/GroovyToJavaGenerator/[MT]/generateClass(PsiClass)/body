{
  try {
    StringBuilder text=new StringBuilder();
    final ClassNameProvider classNameProvider=new StubClassNameProvider(myAllToCompile);
    ClassItemGenerator classItemGenerator=new StubGenerator(classNameProvider,myProject);
    new ClassGenerator(myProject,classNameProvider,classItemGenerator).writeTypeDefinition(text,typeDefinition,true);
    return text;
  }
 catch (  ProcessCanceledException e) {
    throw e;
  }
catch (  Throwable e) {
    LOG.error(e);
    return "";
  }
}
