{
  StringBuilder text=new StringBuilder();
  try {
    writeTypeDefinition(text,typeDefinition,packageDefinition,true);
    final String fileName;
    if (fullConversion) {
      fileName=typeDefinition.getName() + ".java";
    }
 else {
      fileName=getPackageDirectory(packageDefinition) + typeDefinition.getName() + ".java";
    }
    output.put(fileName,text.toString());
  }
 catch (  ProcessCanceledException e) {
    throw e;
  }
catch (  Throwable e) {
    LOG.error(e);
  }
}
