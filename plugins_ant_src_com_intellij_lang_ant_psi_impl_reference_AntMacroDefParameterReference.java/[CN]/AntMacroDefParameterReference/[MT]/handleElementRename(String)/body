{
  final AntElement element=getElement();
  final String oldName=getCanonicalText();
  if (!oldName.equals(newElementName)) {
    if (myXmlElement instanceof XmlAttributeValue) {
      final String text=myXmlElement.getText();
      if (text.length() > 2) {
        ((XmlAttribute)myXmlElement.getParent()).setValue(text.substring(1,text.length() - 1).replace("@{" + oldName + '}',"@{" + newElementName + '}'));
      }
    }
 else {
      final XmlTagValue tagValue=((XmlTag)myXmlElement).getValue();
      tagValue.setText(tagValue.getText().replace("@{" + oldName + '}',"@{" + newElementName + '}'));
    }
  }
  return element;
}
