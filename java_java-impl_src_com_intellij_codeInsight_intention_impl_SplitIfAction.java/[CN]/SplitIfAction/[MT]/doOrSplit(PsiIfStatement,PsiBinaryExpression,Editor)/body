{
  PsiExpression lOperand=expression.getLOperand();
  PsiExpression rOperand=getROperand(expression);
  PsiIfStatement secondIf=(PsiIfStatement)ifStatement.copy();
  PsiStatement elseBranch=ifStatement.getElseBranch();
  if (elseBranch != null) {
    elseBranch=(PsiStatement)elseBranch.copy();
  }
  ifStatement.getCondition().replace(lOperand);
  secondIf.getCondition().replace(rOperand);
  ifStatement.setElseBranch(secondIf);
  if (elseBranch != null) {
    secondIf.setElseBranch(elseBranch);
  }
  int offset1=ifStatement.getCondition().getTextOffset();
  editor.getCaretModel().moveToOffset(offset1);
  editor.getScrollingModel().scrollToCaret(ScrollType.RELATIVE);
  editor.getSelectionModel().removeSelection();
}
