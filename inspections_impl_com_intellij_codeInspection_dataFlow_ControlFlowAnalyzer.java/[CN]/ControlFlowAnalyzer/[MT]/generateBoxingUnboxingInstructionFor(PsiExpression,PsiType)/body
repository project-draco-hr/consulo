{
  PsiType exprType=expression.getType();
  if (TypeConversionUtil.isPrimitiveAndNotNull(expectedType) && TypeConversionUtil.isPrimitiveWrapper(exprType)) {
    addInstruction(myInstructionFactory.createMethodCallInstruction(expression,myFactory,MethodCallInstruction.MethodType.UNBOXING));
  }
 else   if (TypeConversionUtil.isPrimitiveWrapper(expectedType) && TypeConversionUtil.isPrimitiveAndNotNull(exprType)) {
    addInstruction(myInstructionFactory.createMethodCallInstruction(expression,myFactory,MethodCallInstruction.MethodType.BOXING));
  }
 else   if (exprType != expectedType && TypeConversionUtil.isPrimitiveAndNotNull(exprType) && TypeConversionUtil.isPrimitiveAndNotNull(expectedType) && TypeConversionUtil.isNumericType(exprType) && TypeConversionUtil.isNumericType(expectedType)) {
    addInstruction(myInstructionFactory.createCastInstruction(expression,myFactory,expectedType));
  }
}
