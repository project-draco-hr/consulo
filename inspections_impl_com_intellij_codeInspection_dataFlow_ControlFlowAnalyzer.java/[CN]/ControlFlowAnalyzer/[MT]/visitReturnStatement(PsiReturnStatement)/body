{
  startElement(statement);
  PsiExpression returnValue=statement.getReturnValue();
  if (returnValue != null) {
    returnValue.accept(this);
    PsiMethod method=PsiTreeUtil.getParentOfType(statement,PsiMethod.class,true,PsiMember.class);
    if (method != null && TypeConversionUtil.isPrimitiveAndNotNull(method.getReturnType())) {
      generateUnboxingInstructionFor(returnValue);
    }
    addInstruction(new CheckReturnValueInstruction(statement));
  }
  int finallyOffset=getFinallyOffset();
  if (finallyOffset != NOT_FOUND) {
    addInstruction(new GosubInstruction(finallyOffset));
  }
  addInstruction(new ReturnInstruction());
  finishElement(statement);
}
