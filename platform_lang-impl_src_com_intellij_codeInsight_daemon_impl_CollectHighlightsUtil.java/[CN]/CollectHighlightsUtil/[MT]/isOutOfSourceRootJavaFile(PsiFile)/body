{
  if (psiFile == null)   return false;
  if (psiFile.getFileType() == StdFileTypes.JAVA) {
    final VirtualFile file=psiFile.getVirtualFile();
    if (file != null) {
      final ProjectFileIndex projectFileIndex=ProjectRootManager.getInstance(psiFile.getProject()).getFileIndex();
      if (!projectFileIndex.isInSource(file) && !projectFileIndex.isInLibraryClasses(file)) {
        return true;
      }
    }
  }
  return false;
}
