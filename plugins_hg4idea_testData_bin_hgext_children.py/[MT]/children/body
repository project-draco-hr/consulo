def children(ui, repo, file_=None, **opts):
    "show the children of the given or working directory revision\n\n    Print the children of the working directory's revisions. If a\n    revision is given via -r/--rev, the children of that revision will\n    be printed. If a file argument is given, revision in which the\n    file was last changed (after the working directory revision or the\n    argument to --rev if given) is printed.\n    "
    rev = opts.get('rev')
    if file_:
        ctx = repo.filectx(file_, changeid=rev)
    else:
        ctx = repo[rev]
    displayer = cmdutil.show_changeset(ui, repo, opts)
    for cctx in ctx.children():
        displayer.show(cctx)
    displayer.close()
