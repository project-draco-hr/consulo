{
  if (tree == null)   return;
  final Runnable runnable=new Runnable(){
    public void run(){
      final DefaultMutableTreeNode root=(DefaultMutableTreeNode)tree.getModel().getRoot();
      tree.expandPath(new TreePath(new Object[]{root}));
      if (root.getChildCount() == 1) {
        TreeNode firstChild=root.getFirstChild();
        tree.expandPath(new TreePath(new Object[]{root,firstChild}));
      }
    }
  }
;
  if (EventQueue.isDispatchThread()) {
    runnable.run();
  }
 else {
    ApplicationManager.getApplication().invokeLater(runnable);
  }
}
