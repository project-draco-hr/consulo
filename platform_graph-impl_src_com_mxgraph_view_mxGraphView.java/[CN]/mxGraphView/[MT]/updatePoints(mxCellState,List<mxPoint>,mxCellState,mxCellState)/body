{
  if (edge != null) {
    List<mxPoint> pts=new ArrayList<mxPoint>();
    pts.add(edge.getAbsolutePoint(0));
    mxEdgeStyleFunction edgeStyle=getEdgeStyle(edge,points,source,target);
    if (edgeStyle != null) {
      mxCellState src=getTerminalPort(edge,source,true);
      mxCellState trg=getTerminalPort(edge,target,false);
      edgeStyle.apply(edge,src,trg,points,pts);
    }
 else     if (points != null) {
      for (int i=0; i < points.size(); i++) {
        pts.add(transformControlPoint(edge,points.get(i)));
      }
    }
    pts.add(edge.getAbsolutePoint(edge.getAbsolutePointCount() - 1));
    edge.setAbsolutePoints(pts);
  }
}
