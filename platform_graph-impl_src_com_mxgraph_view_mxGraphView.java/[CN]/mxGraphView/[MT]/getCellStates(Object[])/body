{
  List<mxCellState> result=new ArrayList<mxCellState>(cells.length);
  for (int i=0; i < cells.length; i++) {
    mxCellState state=getState(cells[i]);
    if (state != null) {
      result.add(state);
    }
  }
  mxCellState[] resultArray=new mxCellState[result.size()];
  return result.toArray(resultArray);
}
