{
  Map<String,Object> style=state.getStyle();
  boolean horizontal=mxUtils.isTrue(style,mxConstants.STYLE_HORIZONTAL,true);
  double w=0;
  if (horizontal) {
    w=(state.getWidth() / scale) - 2 * mxConstants.LABEL_INSET - 2 * mxUtils.getDouble(style,mxConstants.STYLE_SPACING) - mxUtils.getDouble(style,mxConstants.STYLE_SPACING_LEFT) - mxUtils.getDouble(style,mxConstants.STYLE_SPACING_RIGHT);
  }
 else {
    w=(state.getHeight() / scale) - 2 * mxConstants.LABEL_INSET - 2 * mxUtils.getDouble(style,mxConstants.STYLE_SPACING) - mxUtils.getDouble(style,mxConstants.STYLE_SPACING_TOP) + mxUtils.getDouble(style,mxConstants.STYLE_SPACING_BOTTOM);
  }
  return w;
}
