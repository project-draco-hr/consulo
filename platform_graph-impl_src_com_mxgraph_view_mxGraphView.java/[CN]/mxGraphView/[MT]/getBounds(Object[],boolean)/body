{
  mxRectangle result=null;
  if (cells != null && cells.length > 0) {
    mxIGraphModel model=graph.getModel();
    for (int i=0; i < cells.length; i++) {
      if (model.isVertex(cells[i]) || model.isEdge(cells[i])) {
        mxCellState state=getState(cells[i]);
        if (state != null) {
          mxRectangle tmp=(boundingBox) ? state.getBoundingBox() : state;
          if (tmp != null) {
            if (result == null) {
              result=new mxRectangle(tmp);
            }
 else {
              result.add(tmp);
            }
          }
        }
      }
    }
  }
  return result;
}
