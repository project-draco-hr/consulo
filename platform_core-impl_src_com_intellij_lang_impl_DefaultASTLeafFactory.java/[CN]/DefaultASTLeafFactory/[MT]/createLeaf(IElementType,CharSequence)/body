{
  final ParserDefinition parserDefinition=LanguageParserDefinitions.INSTANCE.forLanguage(type.getLanguage());
  if (parserDefinition != null) {
    if (parserDefinition.getCommentTokens(type.getLanguageVersion()).contains(type)) {
      return new PsiCoreCommentImpl(type,text);
    }
  }
  if (type == TokenType.WHITE_SPACE) {
    return new PsiWhiteSpaceImpl(text);
  }
  if (type instanceof ILeafElementType) {
    return (LeafElement)((ILeafElementType)type).createLeafNode(text);
  }
  return new LeafPsiElement(type,text);
}
