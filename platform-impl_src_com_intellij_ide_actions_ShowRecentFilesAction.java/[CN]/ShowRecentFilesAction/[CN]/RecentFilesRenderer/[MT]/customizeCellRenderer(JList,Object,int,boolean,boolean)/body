{
  if (value instanceof VirtualFile) {
    VirtualFile virtualFile=(VirtualFile)value;
    String name=virtualFile.getName();
    Icon baseIcon=IconUtil.getIcon(virtualFile,Iconable.ICON_FLAG_READ_STATUS,myProject);
    final RowIcon row=new RowIcon(2);
    row.setIcon(baseIcon,1);
    row.setIcon(FileEditorManager.getInstance(myProject).isFileOpen(virtualFile) ? IN_TAB : NOT_IN_TAB,0);
    setIcon(row);
    FileStatus fileStatus=FileStatusManager.getInstance(myProject).getStatus(virtualFile);
    TextAttributes attributes=new TextAttributes(fileStatus.getColor(),null,null,EffectType.LINE_UNDERSCORE,Font.PLAIN);
    append(name,SimpleTextAttributes.fromTextAttributes(attributes));
  }
}
