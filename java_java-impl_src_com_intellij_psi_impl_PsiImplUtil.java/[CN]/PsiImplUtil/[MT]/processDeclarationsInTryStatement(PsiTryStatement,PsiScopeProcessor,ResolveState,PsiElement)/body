{
  final PsiResourceList resourceList=statement.getResourceList();
  if (resourceList != null && lastParent instanceof PsiCodeBlock && lastParent == statement.getTryBlock()) {
    final List<PsiLocalVariable> resources=resourceList.getNamedResources();
    for (    PsiLocalVariable resource : resources) {
      if (!processor.execute(resource,state))       return false;
    }
  }
  return true;
}
