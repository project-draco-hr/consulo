{
  do {
    element=PsiTreeUtil.getParentOfType(element,PsiClass.class);
  }
 while (element instanceof PsiTypeParameter);
  PsiClass curClass=(PsiClass)element;
  if (curClass == null || curClass instanceof PsiAnonymousClass)   return null;
  PsiClassType[] extendsTypes=curClass.getExtendsListTypes();
  if (extendsTypes.length == 0)   return null;
  PsiClass aClass=extendsTypes[0].resolve();
  if (aClass instanceof PsiTypeParameter)   return null;
  return aClass != null && aClass.isValid() && aClass.getManager().isInProject(aClass) ? new PsiClass[]{aClass} : null;
}
