{
  CommandProcessor.getInstance().executeCommand(file.getProject(),new Runnable(){
    public void run(){
      final ReadonlyStatusHandler readOnlyHandler=ReadonlyStatusHandler.getInstance(myFormFile.getProject());
      final ReadonlyStatusHandler.OperationStatus status=readOnlyHandler.ensureFilesWritable(myFormFile.getVirtualFile());
      if (!status.hasReadonlyFiles()) {
        FormReferenceProvider.setGUIComponentType(myFormFile,myFieldName,myComponentTypeToSet);
      }
    }
  }
,getText(),null);
}
