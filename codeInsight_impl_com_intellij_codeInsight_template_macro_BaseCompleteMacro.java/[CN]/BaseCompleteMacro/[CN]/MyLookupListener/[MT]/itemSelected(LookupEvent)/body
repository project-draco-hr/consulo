{
  LookupElement item=event.getItem();
  if (item == null)   return;
  final List<? extends PsiElement> elements=JavaCompletionUtil.getAllPsiElements(item);
  boolean goNextTab;
  if (elements == null) {
    goNextTab=true;
  }
 else {
    if (elements.size() != 1) {
      goNextTab=false;
    }
 else {
      if (elements.get(0) instanceof PsiMethod) {
        PsiMethod method=(PsiMethod)elements.get(0);
        goNextTab=method.getParameterList().getParametersCount() == 0;
      }
 else {
        goNextTab=!(elements.get(0) instanceof PsiFileSystemItem) || !((PsiFileSystemItem)elements.get(0)).isDirectory();
      }
    }
  }
  if (goNextTab) {
    final Editor editor=myContext.getEditor();
    if (editor != null) {
      TemplateState templateState=TemplateManagerImpl.getTemplateState(editor);
      if (templateState != null) {
        templateState.nextTab();
      }
    }
  }
}
