{
  final Project project=aPackage.getManager().getProject();
  final GlobalSearchScope scopeToShow=getScopeToShow(project,module,inLibrary);
  final PsiDirectory[] dirs=aPackage.getDirectories(scopeToShow);
  for (int idx=0; idx < dirs.length; idx++) {
    final PsiDirectory dir=dirs[idx];
    if (dir.getChildren().length == 0)     return true;
    if (!TreeViewUtil.isEmptyMiddlePackage(dir,strictlyEmpty)) {
      return false;
    }
  }
  return true;
}
