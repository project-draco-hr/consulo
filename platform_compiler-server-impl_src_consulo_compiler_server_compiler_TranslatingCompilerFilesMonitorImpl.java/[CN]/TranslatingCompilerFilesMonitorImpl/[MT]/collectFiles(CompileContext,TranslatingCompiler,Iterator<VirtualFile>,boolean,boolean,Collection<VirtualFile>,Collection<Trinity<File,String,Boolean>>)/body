{
  final Project project=context.getProject();
  final CompilerManager configuration=CompilerManager.getInstance(project);
synchronized (myDataLock) {
    while (scopeSrcIterator.hasNext()) {
      final VirtualFile file=scopeSrcIterator.next();
      if (!file.isValid()) {
        if (LOG.isDebugEnabled()) {
          LOG.debug("Skipping invalid file " + file.getPresentableUrl());
        }
        continue;
      }
      if (compiler.isCompilableFile(file,context) && !configuration.isExcludedFromCompilation(file)) {
        toCompile.add(file);
      }
    }
  }
}
