{
  if (usage instanceof UsageInFile) {
    VirtualFile file=((UsageInFile)usage).getFile();
    if (file != null) {
      for (      GeneratedSourcesFilter filter : myGeneratedSourcesFilters) {
        if (filter.isGeneratedSource(file,myProject)) {
          return UsageInGeneratedCodeGroup.INSTANCE;
        }
      }
    }
  }
  if (usage instanceof PsiElementUsage) {
    if (usage instanceof UsageInfo2UsageAdapter) {
      final UsageInfo usageInfo=((UsageInfo2UsageAdapter)usage).getUsageInfo();
      if (usageInfo.isDynamicUsage()) {
        return DynamicUsageGroup.INSTANCE;
      }
    }
    if (((PsiElementUsage)usage).isNonCodeUsage()) {
      return NonCodeUsageGroup.INSTANCE;
    }
 else {
      return CodeUsageGroup.INSTANCE;
    }
  }
  return null;
}
