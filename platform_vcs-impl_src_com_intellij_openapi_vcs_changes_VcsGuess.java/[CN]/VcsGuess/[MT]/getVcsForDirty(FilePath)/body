{
  if (filePath.isNonLocal()) {
    return null;
  }
  final VirtualFile validParent=ChangesUtil.findValidParentAccurately(filePath);
  if (validParent == null) {
    return null;
  }
  final boolean take=isFileInIndex(filePath,validParent);
  if (take) {
    return myVcsManager.getVcsFor(validParent);
  }
  return null;
}
