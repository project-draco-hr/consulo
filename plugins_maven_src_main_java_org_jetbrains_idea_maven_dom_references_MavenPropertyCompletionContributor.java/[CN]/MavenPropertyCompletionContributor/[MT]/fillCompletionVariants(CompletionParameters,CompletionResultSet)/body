{
  PsiFile psiFile=parameters.getOriginalFile();
  Project project=psiFile.getProject();
  MavenProjectsManager manager=MavenProjectsManager.getInstance(project);
  if (!manager.isMavenizedProject())   return;
  MavenProject projectFile=MavenDomUtil.findContainingProject(psiFile);
  if (projectFile == null)   return;
  if (!MavenDomUtil.isMavenFile(psiFile) && !MavenDomUtil.isFilteredResourceFile(psiFile))   return;
  String text=psiFile.getText();
  int offset=parameters.getOffset();
  int braceOffset=findOpenBrace(text,offset);
  if (braceOffset == -1)   return;
  TextRange range=TextRange.create(braceOffset,offset);
  String prefix=range.substring(text);
  MavenFilteredPropertyPsiReference ref=new MavenFilteredPropertyPsiReference(projectFile,psiFile,prefix,range);
  addVariants(Arrays.asList(ref.getVariants()),result.withPrefixMatcher(prefix));
}
