{
  InspectionConfigTreeNode node=(InspectionConfigTreeNode)value;
  Object object=node.getUserObject();
  final Color background=selected ? UIUtil.getTreeSelectionBackground() : UIUtil.getTreeTextBackground();
  setBackground(background);
  Color foreground=selected ? UIUtil.getTreeSelectionForeground() : node.isProperSetting ? Color.BLUE : UIUtil.getTreeTextForeground();
  @NonNls String text=null;
  int style=Font.PLAIN;
  String hint=null;
  if (object instanceof String) {
    text=(String)object;
    style=Font.BOLD;
  }
 else {
    final Descriptor descriptor=node.getDesriptor();
    final String scopeName=node.getScopeName();
    if (scopeName != null) {
      if (node.isByDefault()) {
        text="Everywhere except";
      }
 else {
        text="In scope \'" + scopeName + "\'";
        if (node.getScope() == null) {
          foreground=Color.RED;
        }
      }
    }
 else {
      text=descriptor.getText();
    }
    hint=getHint(descriptor);
  }
  if (text != null) {
    SearchUtil.appendFragments(getFilter(),text,style,foreground,background,getTextRenderer());
  }
  if (hint != null) {
    getTextRenderer().append(" " + hint,selected ? new SimpleTextAttributes(Font.PLAIN,foreground) : SimpleTextAttributes.GRAYED_ATTRIBUTES);
  }
  setForeground(foreground);
}
