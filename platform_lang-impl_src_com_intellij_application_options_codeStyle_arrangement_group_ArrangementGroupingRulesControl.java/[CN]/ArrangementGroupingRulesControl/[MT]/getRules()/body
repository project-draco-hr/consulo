{
  List<ArrangementGroupingRule> result=new ArrayList<ArrangementGroupingRule>();
  DefaultTableModel model=getModel();
  for (int i=0, max=model.getRowCount(); i < max; i++) {
    ArrangementGroupingComponent component=(ArrangementGroupingComponent)model.getValueAt(i,0);
    if (!component.isSelected()) {
      continue;
    }
    ArrangementSettingsToken orderType=component.getOrderType();
    if (orderType == null) {
      result.add(new ArrangementGroupingRule(component.getGroupingType()));
    }
 else {
      result.add(new ArrangementGroupingRule(component.getGroupingType(),orderType));
    }
  }
  return result;
}
