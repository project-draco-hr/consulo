{
  final AsyncResult result=new AsyncResult<String>();
  getActivityReady(context).doWhenProcessed(new Runnable(){
    @Override public void run(){
      final LinkedHashMap<String,String> focusInfo=getFocusInfo();
      if (focusInfo == null) {
        result.setRejected("No component focused");
        return;
      }
      StringBuffer text=new StringBuffer();
      for (Iterator<String> iterator=focusInfo.keySet().iterator(); iterator.hasNext(); ) {
        String key=iterator.next();
        text.append(key + "=" + focusInfo.get(key));
        if (iterator.hasNext()) {
          text.append("|");
        }
      }
      result.setDone(text.toString());
    }
  }
);
  return result;
}
