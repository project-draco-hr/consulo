{
  if (isCommonPluginsModule(module)) {
    String appDirName=getApplicationDirectoryName();
    for (    VirtualFile root : ModuleRootManager.getInstance(module).getContentRoots()) {
      if (root.findChild(appDirName) != null) {
        result.put(root.getName(),root);
      }
    }
  }
 else {
    VirtualFile root=findAppRoot(module);
    if (root == null)     return;
    extractPlugins(root.findChild(MvcModuleStructureUtil.PLUGINS_DIRECTORY),result);
    extractPlugins(MvcModuleStructureUtil.findFile(getCommonPluginsDir(module),refresh),result);
    extractPlugins(MvcModuleStructureUtil.findFile(getGlobalPluginsDir(module),refresh),result);
  }
}
