{
  final RunManagerEx runManager=RunManagerEx.getInstanceEx(module.getProject());
  for (  final RunConfiguration runConfiguration : runManager.getConfigurations(configurationType)) {
    if (runConfiguration instanceof MvcRunConfiguration && ((MvcRunConfiguration)runConfiguration).getModule() == module) {
      return;
    }
  }
  final ConfigurationFactory factory=configurationType.getConfigurationFactories()[0];
  final RunnerAndConfigurationSettings runSettings=runManager.createRunConfiguration(name,factory);
  final MvcRunConfiguration configuration=(MvcRunConfiguration)runSettings.getConfiguration();
  configuration.setModule(module);
  runManager.addConfiguration(runSettings,false);
  runManager.setActiveConfiguration(runSettings);
  final List<CompileStepBeforeRun.MakeBeforeRunTask> runTasks=runManager.getBeforeRunTasks(configuration,CompileStepBeforeRun.ID);
  for (  CompileStepBeforeRun.MakeBeforeRunTask task : runTasks) {
    task.setEnabled(false);
  }
}
