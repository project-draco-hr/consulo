{
  final List<File> toExclude=new ArrayList<File>();
  VirtualFile sdkRoot=getSdkRoot(module);
  if (sdkRoot != null)   toExclude.add(VfsUtil.virtualToIoFile(sdkRoot));
  ContainerUtil.addIfNotNull(getCommonPluginsDir(module),toExclude);
  final VirtualFile appRoot=findAppRoot(module);
  if (appRoot != null) {
    VirtualFile pluginDir=appRoot.findChild(MvcModuleStructureUtil.PLUGINS_DIRECTORY);
    if (pluginDir != null)     toExclude.add(VfsUtil.virtualToIoFile(pluginDir));
    VirtualFile libDir=appRoot.findChild("lib");
    if (libDir != null)     toExclude.add(VfsUtil.virtualToIoFile(libDir));
  }
  final Library library=MvcModuleStructureUtil.findUserLibrary(module,getUserLibraryName());
  if (library != null) {
    for (    VirtualFile file : library.getFiles(OrderRootType.CLASSES)) {
      toExclude.add(VfsUtil.virtualToIoFile(PathUtil.getLocalFile(file)));
    }
  }
  return toExclude;
}
