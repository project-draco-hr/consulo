{
  VirtualFile pluginXml=pluginPath.findChild("plugin.xml");
  if (pluginXml == null)   return null;
  PsiFile pluginXmlPsi=PsiManager.getInstance(project).findFile(pluginXml);
  if (!(pluginXmlPsi instanceof XmlFile))   return null;
  XmlTag rootTag=((XmlFile)pluginXmlPsi).getRootTag();
  if (rootTag == null || !"plugin".equals(rootTag.getName()))   return null;
  XmlAttribute attrName=rootTag.getAttribute("name");
  if (attrName == null)   return null;
  String res=attrName.getValue();
  if (res == null)   return null;
  res=res.trim();
  if (res.length() == 0)   return null;
  return res;
}
