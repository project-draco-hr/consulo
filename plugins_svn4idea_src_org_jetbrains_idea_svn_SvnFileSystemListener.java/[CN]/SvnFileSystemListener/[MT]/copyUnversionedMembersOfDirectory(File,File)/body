{
  if (src.isDirectory()) {
    final SVNException[] exc=new SVNException[1];
    FileUtil.processFilesRecursively(src,new Processor<File>(){
      @Override public boolean process(      File file){
        String relativePath=FileUtil.getRelativePath(src,file);
        File newFile=new File(dst,relativePath);
        if (!newFile.exists()) {
          try {
            copyFileOrDir(src,dst);
          }
 catch (          IOException e) {
            exc[0]=new SVNException(SVNErrorMessage.create(SVNErrorCode.IO_ERROR),e);
            return false;
          }
        }
        return true;
      }
    }
);
    if (exc[0] != null) {
      throw exc[0];
    }
  }
}
