{
  final Convertor<Pair<FilePath,WorkingCopyFormat>,FilePath> convertor=new Convertor<Pair<FilePath,WorkingCopyFormat>,FilePath>(){
    @Override public FilePath convert(    Pair<FilePath,WorkingCopyFormat> o){
      return o.getFirst();
    }
  }
;
  Collection<FilePath> filesToProcess;
  if (value == VcsShowConfirmationOption.Value.DO_ACTION_SILENTLY) {
    filesToProcess=ObjectsConvertor.convert(deletedFiles,convertor);
  }
 else {
    final String singleFilePrompt;
    if (deletedFiles.size() == 1 && deletedFiles.get(0).getFirst().isDirectory()) {
      singleFilePrompt=WorkingCopyFormat.ONE_DOT_SEVEN.equals(deletedFiles.get(0).getSecond()) ? SvnBundle.getString("confirmation.text.delete.dir.17") : SvnBundle.getString("confirmation.text.delete.dir");
    }
 else {
      singleFilePrompt=SvnBundle.getString("confirmation.text.delete.file");
    }
    final Collection<FilePath> files=vcsHelper.selectFilePathsToProcess(ObjectsConvertor.convert(deletedFiles,convertor),SvnBundle.message("confirmation.title.delete.multiple.files"),null,SvnBundle.message("confirmation.title.delete.file"),singleFilePrompt,vcs.getDeleteConfirmation());
    filesToProcess=files == null ? null : new ArrayList<FilePath>(files);
  }
  return filesToProcess;
}
