{
  final SVNMoveClient mover=vcs.createMoveClient();
  if (undo) {
    myUndoingMove=true;
    restoreFromUndoStorage(dst);
    new RepeatSvnActionThroughBusy(){
      @Override protected void executeImpl() throws SVNException {
        mover.undoMove(src,dst);
      }
    }
.execute();
  }
 else {
    if (doUsualMove(vcs,src))     return true;
    new RepeatSvnActionThroughBusy(){
      @Override protected void executeImpl() throws SVNException {
        mover.doMove(src,dst);
      }
    }
.execute();
  }
  return false;
}
