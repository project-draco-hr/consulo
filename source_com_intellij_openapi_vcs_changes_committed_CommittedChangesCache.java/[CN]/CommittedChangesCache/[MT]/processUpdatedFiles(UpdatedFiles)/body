{
  final Collection<ChangesCacheFile> caches=getAllCaches();
  for (  final ChangesCacheFile cache : caches) {
    boolean needRefresh;
    try {
      needRefresh=cache.processUpdatedFiles(updatedFiles);
    }
 catch (    IOException e) {
      LOG.error(e);
      continue;
    }
    if (needRefresh) {
      refreshCacheAsync(cache,new Runnable(){
        public void run(){
          try {
            cache.processUpdatedFiles(updatedFiles);
          }
 catch (          IOException e) {
            LOG.error(e);
          }
        }
      }
);
    }
  }
  myBus.syncPublisher(COMMITTED_TOPIC).updatedFilesProcessed();
}
