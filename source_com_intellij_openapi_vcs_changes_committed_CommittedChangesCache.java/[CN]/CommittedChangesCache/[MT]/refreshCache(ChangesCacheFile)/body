{
  final Date date=cacheFile.getLastCachedDate();
  LOG.info("Refreshing cache for " + cacheFile.getLocation() + " since "+ date);
  final CachingCommittedChangesProvider provider=cacheFile.getProvider();
  final RepositoryLocation location=cacheFile.getLocation();
  final ChangeBrowserSettings defaultSettings=provider.createDefaultSettings();
  defaultSettings.setDateAfter(date);
  defaultSettings.USE_DATE_AFTER_FILTER=true;
  List<CommittedChangeList> newChanges=provider.getCommittedChanges(defaultSettings,location,0);
  LOG.info("Loaded " + newChanges.size() + " new changelists");
  newChanges=cacheFile.writeChanges(newChanges);
  if (newChanges.size() > 0) {
    myBus.syncPublisher(COMMITTED_TOPIC).changesLoaded(location,newChanges);
  }
  return newChanges;
}
