{
  final CommittedChangesProvider provider=CommittedChangesCache.getInstance(myProject).getProviderForProject();
  if (provider == null)   return;
  if (myComponent == null) {
    myComponent=new CommittedChangesPanel(myProject,provider,provider.createDefaultSettings(),null,null);
    myConnection.subscribe(VcsConfigurationChangeListener.BRANCHES_CHANGED,new VcsConfigurationChangeListener.Notification(){
      public void execute(      final Project project,      final VirtualFile vcsRoot){
        sendUpdateCachedListsMessage(vcsRoot);
      }
    }
);
  }
 else {
    myComponent.setProvider(provider);
    sendUpdateCachedListsMessage(null);
  }
}
