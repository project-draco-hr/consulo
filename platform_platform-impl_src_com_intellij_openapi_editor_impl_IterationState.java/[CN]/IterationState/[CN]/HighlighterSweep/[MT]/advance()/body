{
  if (myNextHighlighter != null) {
    if (myNextHighlighter.getAffectedAreaStartOffset() <= myStartOffset) {
      myCurrentHighlighters.add(myNextHighlighter);
      myNextHighlighter=null;
    }
 else     if (myIterator.hasNext()) {
      final RangeHighlighterEx lookAhead=myIterator.next();
      if (lookAhead.getAffectedAreaStartOffset() <= myStartOffset) {
        myCurrentHighlighters.add(lookAhead);
      }
 else {
        myIterator.pushBack(lookAhead);
      }
    }
  }
  while (myNextHighlighter == null && myIterator.hasNext()) {
    RangeHighlighterEx highlighter=myIterator.next();
    if (!skipHighlighter(highlighter)) {
      if (highlighter.getAffectedAreaStartOffset() > myStartOffset) {
        myNextHighlighter=highlighter;
      }
 else {
        myCurrentHighlighters.add(highlighter);
      }
    }
  }
}
