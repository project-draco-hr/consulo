{
  while (relativePath.startsWith("/")) {
    relativePath=relativePath.substring(1);
  }
  int i=relativePath.indexOf('/');
  while (i != -1) {
    String prefix=relativePath.substring(0,i + 1);
    if (!writtenPaths.contains(prefix) && prefix.length() > 1) {
      addEntry(jarOutputStream,prefix);
      writtenPaths.add(prefix);
    }
    i=relativePath.indexOf('/',i + 1);
  }
  myContext.getProgressIndicator().setText2(relativePath);
  ZipUtil.addFileToZip(jarOutputStream,file,relativePath,writtenPaths,myFileFilter);
}
