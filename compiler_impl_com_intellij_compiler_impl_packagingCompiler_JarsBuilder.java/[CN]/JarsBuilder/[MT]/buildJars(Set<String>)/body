{
  myContext.getProgressIndicator().setText(CompilerBundle.message("packaging.compiler.message.building.archives"));
  addDependentJars();
  final JarInfo[] sortedJars=sortJars();
  if (sortedJars == null) {
    return false;
  }
  computeNestedJars();
  myBuiltJars=new HashMap<JarInfo,File>();
  for (  JarInfo jar : sortedJars) {
    myContext.getProgressIndicator().checkCanceled();
    buildJar(jar);
  }
  myContext.getProgressIndicator().setText(CompilerBundle.message("packaging.compiler.message.copying.archives"));
  copyJars(writtenPaths);
  deleteTemporaryJars();
  return true;
}
