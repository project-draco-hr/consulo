{
  IDevice[] targetDevices=chooseDevicesAutomaticaly();
  if (targetDevices == null) {
    message("Canceled",STDERR);
    getProcessHandler().destroyProcess();
    return false;
  }
  if (targetDevices.length > 0) {
    myTargetDevices=targetDevices;
  }
 else   if (myTargetChooser instanceof EmulatorTargetChooser) {
    if (isAndroidSdk15OrHigher()) {
      if (myAvdName == null) {
        chooseAvd();
      }
      if (myAvdName != null) {
        myFacet.launchEmulator(myAvdName,myCommandLine,getProcessHandler());
      }
 else       if (getProcessHandler().isStartNotified()) {
        message("Canceled",STDERR);
        getProcessHandler().destroyProcess();
        return false;
      }
    }
 else {
      myFacet.launchEmulator(myAvdName,myCommandLine,getProcessHandler());
    }
  }
 else {
    message("USB device not found",STDERR);
    getProcessHandler().destroyProcess();
    return false;
  }
  return true;
}
