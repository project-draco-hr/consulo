{
  IDevice targetDevice=chooseDeviceAutomaticaly();
  if (targetDevice != null) {
    myTargetDevices=new IDevice[]{targetDevice};
  }
 else   if (myTargetChooser instanceof EmulatorTargetChooser) {
    if (isAndroidSdk15OrHigher()) {
      if (myAvdName == null) {
        chooseAvd();
      }
      if (myAvdName != null) {
        myFacet.launchEmulator(myAvdName,myCommandLine,getProcessHandler());
      }
 else       if (getProcessHandler().isStartNotified()) {
        getProcessHandler().destroyProcess();
      }
    }
 else {
      myFacet.launchEmulator(myAvdName,myCommandLine,getProcessHandler());
    }
  }
 else {
    message("USB device not found",STDERR);
    getProcessHandler().destroyProcess();
  }
}
