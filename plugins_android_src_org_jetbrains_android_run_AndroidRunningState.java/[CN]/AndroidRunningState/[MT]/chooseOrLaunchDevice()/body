{
  IDevice targetDevice=chooseDeviceAutomaticaly();
  if (targetDevice != null) {
    myTargetDevices=new IDevice[]{targetDevice};
  }
 else {
    if (isAndroidSdk15OrHigher()) {
      if (myAvdName == null) {
        chooseAvd();
      }
      if (myAvdName != null) {
        myFacet.launchEmulator(myAvdName,myCommandLine,myProcessHandler);
      }
 else       if (getProcessHandler().isStartNotified()) {
        getProcessHandler().destroyProcess();
      }
    }
 else {
      myFacet.launchEmulator(myAvdName,myCommandLine,myProcessHandler);
    }
  }
}
