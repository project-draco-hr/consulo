{
  if (myDebugMode) {
    AndroidDebugBridge.addClientChangeListener(this);
  }
  final MyDeviceChangeListener[] deviceListener={null};
  getProcessHandler().addProcessListener(new ProcessAdapter(){
    @Override public void processWillTerminate(    ProcessEvent event,    boolean willBeDestroyed){
      if (myDebugMode) {
        AndroidDebugBridge.removeClientChangeListener(AndroidRunningState.this);
      }
      if (deviceListener[0] != null) {
        Disposer.dispose(deviceListener[0]);
        AndroidDebugBridge.removeDeviceChangeListener(deviceListener[0]);
      }
      myStopped=true;
synchronized (myLock) {
        myLock.notifyAll();
      }
    }
  }
);
  deviceListener[0]=prepareAndStartAppWhenDeviceIsOnline();
}
