{
  AndroidDebugBridge bridge=AndroidDebugBridge.getBridge();
  if (myDebugMode && bridge != null && AndroidUtils.canDdmsBeCorrupted(bridge)) {
    message(AndroidBundle.message("ddms.corrupted.error"),STDERR);
    if (myConsole != null && myRestarter != null) {
      final Runnable r=myRestarter;
      myConsole.printHyperlink(AndroidBundle.message("restart.adb.fix.text"),new HyperlinkInfo(){
        @Override public void navigate(        Project project){
          AndroidEnableDdmsAction.setDdmsEnabled(project,false);
          AndroidEnableDdmsAction.setDdmsEnabled(project,true);
          final ProcessHandler processHandler=getProcessHandler();
          if (!processHandler.isProcessTerminated()) {
            processHandler.destroyProcess();
          }
          r.run();
        }
      }
);
      myConsole.print("\n",ConsoleViewContentType.NORMAL_OUTPUT);
    }
    return false;
  }
  return true;
}
