{
  if (!isAndroidSdk15OrHigher()) {
    return true;
  }
  if (myTargetChooser instanceof EmulatorTargetChooser) {
    if (device.isEmulator()) {
      String avdName=device.isEmulator() ? device.getAvdName() : null;
      if (myAvdName != null) {
        return myAvdName.equals(avdName);
      }
      return myFacet.isCompatibleDevice(device);
    }
  }
 else   if (myTargetChooser instanceof UsbDeviceTargetChooser) {
    return !device.isEmulator();
  }
  return false;
}
