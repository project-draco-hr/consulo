{
  final Map<String,List<String>> packageName2ModuleNames=new HashMap<String,List<String>>();
  packageName2ModuleNames.put(myPackageName,new ArrayList<String>(Arrays.asList(myFacet.getModule().getName())));
  for (  Map.Entry<AndroidFacet,String> entry : myAdditionalFacet2PackageName.entrySet()) {
    final String moduleName=entry.getKey().getModule().getName();
    final String packageName=entry.getValue();
    List<String> list=packageName2ModuleNames.get(packageName);
    if (list == null) {
      list=new ArrayList<String>();
      packageName2ModuleNames.put(packageName,list);
    }
    list.add(moduleName);
  }
  boolean result=true;
  for (  Map.Entry<String,List<String>> entry : packageName2ModuleNames.entrySet()) {
    final String packageName=entry.getKey();
    final List<String> moduleNames=entry.getValue();
    if (moduleNames.size() > 1) {
      final StringBuilder messageBuilder=new StringBuilder("Applications have the same package name ");
      messageBuilder.append(packageName).append(":\n    ");
      for (Iterator<String> it=moduleNames.iterator(); it.hasNext(); ) {
        String moduleName=it.next();
        messageBuilder.append(moduleName);
        if (it.hasNext()) {
          messageBuilder.append(", ");
        }
      }
      message(messageBuilder.toString(),STDERR);
      result=false;
    }
  }
  return result;
}
