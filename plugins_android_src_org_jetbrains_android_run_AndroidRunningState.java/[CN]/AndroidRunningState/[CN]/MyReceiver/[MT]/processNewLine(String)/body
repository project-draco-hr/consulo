{
  if (line.length() > 0) {
    Matcher failureMatcher=FAILURE.matcher(line);
    if (failureMatcher.matches()) {
      failureMessage=failureMatcher.group(1);
    }
    Matcher errorMatcher=TYPED_ERROR.matcher(line);
    if (errorMatcher.matches()) {
      errorType=Integer.parseInt(errorMatcher.group(1));
    }
 else     if (line.startsWith(ERROR_PREFIX) && errorType == NO_ERROR) {
      errorType=UNTYPED_ERROR;
    }
  }
  output.append(line).append('\n');
}
