{
  if (type == null) {
    return;
  }
  final PsiType psiType=TypeConversionUtil.erasure(type);
  if (psiType instanceof PsiArrayType) {
    buffer.append(new JVMRawText("["));
    appendJVMSignature(buffer,((PsiArrayType)psiType).getComponentType());
  }
 else   if (psiType instanceof PsiClassType) {
    final JVMName jvmName=getJVMQualifiedName(psiType);
    appendJvmClassQualifiedName(buffer,jvmName);
  }
 else   if (psiType instanceof PsiPrimitiveType) {
    buffer.append(getPrimitiveSignature(psiType.getCanonicalText()));
  }
 else {
    LOG.error("unknown type " + type.getCanonicalText());
  }
}
