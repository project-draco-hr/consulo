{
  if (node == null)   return null;
  ASTNode prev=node.getTreePrev();
  ASTNode parent=node.getTreeParent();
  while (prev == null && parent != null) {
    prev=parent.getTreePrev();
    parent=parent.getTreeParent();
  }
  if (prev == null) {
    return null;
  }
  for (  IElementType type : typesToIgnore) {
    if (prev.getElementType() == type) {
      return getPrevious(prev,typesToIgnore);
    }
  }
  return prev;
}
