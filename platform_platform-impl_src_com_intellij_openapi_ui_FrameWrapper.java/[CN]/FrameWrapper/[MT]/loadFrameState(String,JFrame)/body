{
  final Point location;
  final Dimension size;
  final int extendedState;
  DimensionService dimensionService=DimensionService.getInstance();
  if (dimensionKey == null || dimensionService == null) {
    location=null;
    size=null;
    extendedState=-1;
  }
 else {
    location=dimensionService.getLocation(dimensionKey);
    size=dimensionService.getSize(dimensionKey);
    extendedState=dimensionService.getExtendedState(dimensionKey);
  }
  if (size != null) {
    if (location != null)     frame.setLocation(location);
    frame.setSize(size);
    frame.getRootPane().revalidate();
  }
 else {
    Dimension screenSize=Toolkit.getDefaultToolkit().getScreenSize();
    frame.pack();
    int height=Math.min(screenSize.height - 40,frame.getHeight());
    int width=Math.min(screenSize.width - 20,frame.getWidth());
    frame.setBounds(10,10,width,height);
  }
  if (extendedState == Frame.ICONIFIED || extendedState == Frame.MAXIMIZED_BOTH) {
    frame.setExtendedState(extendedState);
  }
}
