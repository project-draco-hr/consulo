{
  myFocusedCallback=new ActionCallback();
  if (myProject != null) {
    IdeFocusManager.getInstance(myProject).typeAheadUntil(myFocusedCallback);
  }
  final JFrame frame=getFrame();
  if (myStatusBar != null) {
    myStatusBar.install((IdeFrame)frame);
  }
  myFocusTrackback=new FocusTrackback(this,IdeFocusManager.findInstance().getFocusOwner(),true);
  frame.setDefaultCloseOperation(WindowConstants.DISPOSE_ON_CLOSE);
  WindowAdapter focusListener=new WindowAdapter(){
    public void windowOpened(    WindowEvent e){
      if (myPreferedFocus != null) {
        myPreferedFocus.requestFocusInWindow();
        myFocusTrackback.registerFocusComponent(myPreferedFocus);
      }
      myFocusedCallback.setDone();
    }
  }
;
  frame.addWindowListener(focusListener);
  if (myCloseOnEsc)   addCloseOnEsc(frame);
  frame.getContentPane().add(myComponent,BorderLayout.CENTER);
  frame.setTitle(myTitle);
  frame.setIconImage(myImage);
  if (restoreBounds) {
    loadFrameState();
  }
  myFocusWatcher=new FocusWatcher(){
    protected void focusLostImpl(    final FocusEvent e){
      myFocusTrackback.consume();
    }
  }
;
  myFocusWatcher.install(myComponent);
  frame.setVisible(true);
}
