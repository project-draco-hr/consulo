{
  final Window frame=getFrame();
  final Point location;
  final Dimension size;
  final int extendedState;
  DimensionService dimensionService=DimensionService.getInstance();
  if (myDimensionKey == null || dimensionService == null) {
    location=null;
    size=null;
    extendedState=-1;
  }
 else {
    location=dimensionService.getLocation(myDimensionKey);
    size=dimensionService.getSize(myDimensionKey);
    extendedState=dimensionService.getExtendedState(myDimensionKey);
  }
  if (size != null && location != null) {
    frame.setLocation(location);
    frame.setSize(size);
    ((RootPaneContainer)frame).getRootPane().revalidate();
  }
 else {
    frame.pack();
    frame.setBounds(WindowManagerEx.getInstanceEx().getIdeFrame(myProject).suggestChildFrameBounds());
  }
  if (extendedState == Frame.ICONIFIED || extendedState == Frame.MAXIMIZED_BOTH && frame instanceof JFrame) {
    ((JFrame)frame).setExtendedState(extendedState);
  }
}
