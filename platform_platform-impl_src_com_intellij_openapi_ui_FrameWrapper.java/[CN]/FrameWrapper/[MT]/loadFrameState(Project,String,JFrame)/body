{
  final Point location;
  final Dimension size;
  final int extendedState;
  DimensionService dimensionService=DimensionService.getInstance();
  if (dimensionKey == null || dimensionService == null) {
    location=null;
    size=null;
    extendedState=-1;
  }
 else {
    location=dimensionService.getLocation(dimensionKey);
    size=dimensionService.getSize(dimensionKey);
    extendedState=dimensionService.getExtendedState(dimensionKey);
  }
  if (size != null && location != null) {
    frame.setLocation(location);
    frame.setSize(size);
    frame.getRootPane().revalidate();
  }
 else {
    frame.pack();
    frame.setBounds(WindowManagerEx.getInstanceEx().getIdeFrame(project).suggestChildFrameBounds());
  }
  if (extendedState == Frame.ICONIFIED || extendedState == Frame.MAXIMIZED_BOTH) {
    frame.setExtendedState(extendedState);
  }
}
