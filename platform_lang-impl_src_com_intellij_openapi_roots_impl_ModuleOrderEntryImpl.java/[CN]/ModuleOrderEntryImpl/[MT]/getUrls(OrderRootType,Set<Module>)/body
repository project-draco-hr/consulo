{
  Module myModule=myModulePointer.getModule();
  if (myModule != null && !myModule.isDisposed() && (processed == null || !processed.contains(myModule))) {
    if (processed == null)     processed=new THashSet<Module>();
    processed.add(myModule);
    if (myScope == DependencyScope.RUNTIME && rootType == OrderRootType.PRODUCTION_COMPILATION_CLASSES) {
      return Collections.emptyList();
    }
    if (myScope == DependencyScope.TEST && rootType == OrderRootType.PRODUCTION_COMPILATION_CLASSES) {
      return Collections.emptyList();
    }
    if (myScope == DependencyScope.PROVIDED && rootType == OrderRootType.CLASSES_AND_OUTPUT) {
      return Collections.emptyList();
    }
    return ((ModuleRootManagerImpl)ModuleRootManager.getInstance(myModule)).getUrlsForOtherModules(rootType,processed);
  }
  return Collections.emptyList();
}
