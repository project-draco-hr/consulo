{
  myActionManager=actionManager;
  myOwnGroup=new DefaultActionGroup();
  if (myActionManager != null) {
    myOwnGroup.add(new SelectNextAction());
    myOwnGroup.add(new SelectPreviousAction());
  }
  UIUtil.addAwtListener(new AWTEventListener(){
    public void eventDispatched(    final AWTEvent event){
      if (myMorePopup != null)       return;
      final FocusEvent fe=(FocusEvent)event;
      final JBTabs tabs=findTabs(fe.getComponent());
      if (tabs == null)       return;
      if (fe.getID() == FocusEvent.FOCUS_LOST) {
        tabs.setFocused(false);
      }
 else       if (fe.getID() == FocusEvent.FOCUS_GAINED) {
        tabs.setFocused(true);
      }
    }
  }
,FocusEvent.FOCUS_EVENT_MASK,parent);
  myPopupListener=new PopupMenuListener(){
    public void popupMenuWillBecomeVisible(    final PopupMenuEvent e){
    }
    public void popupMenuWillBecomeInvisible(    final PopupMenuEvent e){
      disposePopupListener();
    }
    public void popupMenuCanceled(    final PopupMenuEvent e){
      disposePopupListener();
    }
  }
;
  addMouseListener(new MouseAdapter(){
    public void mousePressed(    final MouseEvent e){
      if (myLastSingRowLayout != null && myLastSingRowLayout.moreRect != null && myLastSingRowLayout.moreRect.contains(e.getPoint())) {
        showMorePopup(e);
      }
    }
  }
);
}
