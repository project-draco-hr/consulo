{
  final int toolbarInset=getToolbarInset();
  data.displayedHToolbar=myHorizontalSide && selectedToolbar != null;
  data.toFitWidth=getWidth() - insets.left - insets.right- (data.displayedHToolbar ? toolbarInset : 0);
  for (  TabInfo eachInfo : myVisibleInfos) {
    data.requiredWidth+=myInfo2Label.get(eachInfo).getPreferredSize().width;
    data.toLayout.add(eachInfo);
  }
  while (true) {
    if (data.requiredWidth <= data.toFitWidth - data.eachX)     break;
    if (data.toLayout.size() == 0)     break;
    final TabInfo first=data.toLayout.get(0);
    final TabInfo last=data.toLayout.get(data.toLayout.size() - 1);
    if (first != getSelectedInfo()) {
      processDrop(data,first);
    }
 else     if (last != getSelectedInfo()) {
      processDrop(data,last);
    }
 else {
      if (data.toDrop.size() > 0) {
      }
      break;
    }
  }
}
