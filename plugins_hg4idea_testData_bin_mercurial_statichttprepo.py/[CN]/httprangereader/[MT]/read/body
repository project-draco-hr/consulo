def read(self, bytes=None):
    req = urllib2.Request(self.url)
    end = ''
    if bytes:
        end = ((self.pos + bytes) - 1)
    req.add_header('Range', ('bytes=%d-%s' % (self.pos, end)))
    try:
        f = self.opener.open(req)
        data = f.read()
        if hasattr(f, 'getcode'):
            code = f.getcode()
        elif hasattr(f, 'code'):
            code = f.code
        else:
            code = 206
    except urllib2.HTTPError as inst:
        num = (((inst.code == 404) and errno.ENOENT) or None)
        raise IOError(num, inst)
    except urllib2.URLError as inst:
        raise IOError(None, inst.reason[1])
    if (code == 200):
        if bytes:
            data = data[self.pos:(self.pos + bytes)]
        else:
            data = data[self.pos:]
    elif bytes:
        data = data[:bytes]
    self.pos += len(data)
    return data
