{
  ArrayList<AnAction> result=new ArrayList<AnAction>();
  result.add(new AnAction("Add","Add",PlatformIcons.ADD_ICON){
{
      registerCustomShortcutSet(CommonShortcuts.INSERT,myTree);
    }
    public void actionPerformed(    AnActionEvent event){
      addGroup(null);
    }
  }
);
  result.add(new MyDeleteAction(forAll(new Condition<Object>(){
    public boolean value(    final Object o){
      if (o instanceof MyNode) {
        final MyNode node=(MyNode)o;
        if (node.getConfigurable() instanceof GroupConfigurable) {
          final ProxyGroup group=((GroupConfigurable)node.getConfigurable()).getEditableObject();
          return !group.isDefault();
        }
      }
      return false;
    }
  }
)){
    public void actionPerformed(    final AnActionEvent e){
      final TreePath path=myTree.getSelectionPath();
      final MyNode node=(MyNode)path.getLastPathComponent();
      final MyNode parentNode=(MyNode)node.getParent();
      int idx=parentNode.getIndex(node);
      super.actionPerformed(e);
      idx=(idx == parentNode.getChildCount()) ? idx - 1 : idx;
      if (parentNode.getChildCount() > 0) {
        final TreePath newSelectedPath=new TreePath(parentNode.getPath()).pathByAddingChild(parentNode.getChildAt(idx));
        myTree.setSelectionPath(newSelectedPath);
      }
    }
  }
);
  result.add(new AnAction("Copy","Copy",PlatformIcons.COPY_ICON){
{
      registerCustomShortcutSet(new CustomShortcutSet(KeyStroke.getKeyStroke(KeyEvent.VK_D,KeyEvent.CTRL_MASK)),myTree);
    }
    public void actionPerformed(    AnActionEvent event){
      try {
        getSelectedConfigurable().apply();
      }
 catch (      ConfigurationException e) {
      }
      final ProxyGroup selectedGroup=(ProxyGroup)getSelectedObject();
      if (selectedGroup != null) {
        addGroup(selectedGroup);
      }
    }
    public void update(    AnActionEvent event){
      super.update(event);
      event.getPresentation().setEnabled(getSelectedObject() != null);
    }
  }
);
  return result;
}
