{
  TestVirtualFile root=new TestVirtualFile("root");
  TestVirtualFile dir=new TestVirtualFile("dir");
  TestVirtualFile file1=new TestVirtualFile("file1",null,-1L);
  TestVirtualFile file2=new TestVirtualFile("file2",null,-1L);
  root.addChild(dir);
  dir.addChild(file1);
  dir.addChild(file2);
  vcs.createDirectory("root");
  vcs.createDirectory("root/dir");
  long timestamp=-1L;
  vcs.createFile("root/dir/file1",null,timestamp,false);
  updateWith(root);
  assertEquals(2,vcs.getEntry("root/dir").getChildren().size());
  assertTrue(vcs.hasEntry("root/dir/file1"));
  assertTrue(vcs.hasEntry("root/dir/file2"));
}
