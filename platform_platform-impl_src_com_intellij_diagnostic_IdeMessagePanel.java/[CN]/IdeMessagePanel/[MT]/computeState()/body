{
  final List<AbstractMessage> errors=myMessagePool.getFatalErrors(true,false);
  if (errors.isEmpty()) {
    return IdeFatalErrorsIcon.State.NoErrors;
  }
 else {
    for (    AbstractMessage error : errors) {
      if (!error.isRead()) {
        return IdeFatalErrorsIcon.State.UnreadErrors;
      }
    }
    return IdeFatalErrorsIcon.State.ReadErrors;
  }
}
