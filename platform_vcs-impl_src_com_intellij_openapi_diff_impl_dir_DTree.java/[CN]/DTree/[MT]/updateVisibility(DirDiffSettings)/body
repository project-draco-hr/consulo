{
  if (children.isEmpty()) {
switch (type) {
case SOURCE:
      myVisible=settings.showNewOnSource;
    break;
case TARGET:
  myVisible=settings.showNewOnTarget;
break;
case SEPARATOR:
myVisible=true;
break;
case CHANGED:
myVisible=settings.showDifferent;
break;
case EQUAL:
myVisible=settings.showEqual;
break;
}
}
 else {
myVisible=false;
for (DTree child : children.values()) {
child.updateVisibility(settings);
myVisible=myVisible || child.isVisible();
}
}
}
