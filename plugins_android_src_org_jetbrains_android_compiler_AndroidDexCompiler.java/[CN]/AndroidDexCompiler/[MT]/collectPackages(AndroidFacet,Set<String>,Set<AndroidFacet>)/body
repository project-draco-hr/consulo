{
  if (!visited.add(facet)) {
    return null;
  }
  Manifest manifest=facet.getManifest();
  String aPackage=manifest != null ? manifest.getPackage().getValue() : null;
  if (aPackage != null) {
    result.add(aPackage);
  }
  for (  AndroidFacet depFacet : AndroidUtils.getAndroidDependencies(facet.getModule(),true)) {
    collectPackages(depFacet,result,visited);
  }
  return aPackage;
}
