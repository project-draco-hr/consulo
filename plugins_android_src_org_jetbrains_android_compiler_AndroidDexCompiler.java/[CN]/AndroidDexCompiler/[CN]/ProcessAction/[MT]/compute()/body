{
  List<ProcessingItem> results=new ArrayList<ProcessingItem>(myItems.length);
  for (  ProcessingItem item : myItems) {
    if (item instanceof DexItem) {
      DexItem dexItem=(DexItem)item;
      if (!AndroidCompileUtil.isModuleAffected(myContext,dexItem.myModule)) {
        continue;
      }
      AndroidDxWrapper dxTool=new AndroidDxWrapper();
      String outputDirPath=FileUtil.toSystemDependentName(dexItem.myClassDir.getPath());
      String[] files=new String[dexItem.myFiles.size()];
      int i=0;
      for (      VirtualFile file : dexItem.myFiles) {
        files[i++]=FileUtil.toSystemDependentName(file.getPath());
      }
      Map<CompilerMessageCategory,List<String>> messages=dxTool.execute(dexItem.myModule,dexItem.myAndroidTarget,outputDirPath,files,ArrayUtil.toStringArray(dexItem.myExcludedFiles));
      addMessages(messages);
      if (messages.get(CompilerMessageCategory.ERROR).isEmpty()) {
        results.add(dexItem);
      }
    }
  }
  return results.toArray(new ProcessingItem[results.size()]);
}
