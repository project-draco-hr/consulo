{
  final ElementFilter filter;
switch (getKind()) {
case CLASS_OR_PACKAGE_NAME_KIND:
    filter=new OrFilter();
  ((OrFilter)filter).addFilter(new ClassFilter(PsiClass.class));
((OrFilter)filter).addFilter(new ClassFilter(PsiPackage.class));
break;
case CLASS_NAME_KIND:
filter=new ClassFilter(PsiClass.class);
break;
case PACKAGE_NAME_KIND:
filter=new ClassFilter(PsiPackage.class);
break;
case CLASS_FQ_NAME_KIND:
case CLASS_FQ_OR_PACKAGE_NAME_KIND:
filter=new OrFilter();
((OrFilter)filter).addFilter(new ClassFilter(PsiPackage.class));
if (isQualified()) {
((OrFilter)filter).addFilter(new ClassFilter(PsiClass.class));
}
break;
case CLASS_IN_QUALIFIED_NEW_KIND:
filter=new ClassFilter(PsiClass.class);
break;
default :
throw new RuntimeException("Unknown reference type");
}
return PsiImplUtil.getReferenceVariantsByFilter(this,filter);
}
