{
  final String qName=aPackage.getQualifiedName();
  if (qName.length() == 0) {
    throw new IncorrectOperationException("Cannot bind to default package: " + aPackage);
  }
  final TreeElement ref=Parsing.parseJavaCodeReferenceText(getManager(),qName,SharedImplUtil.findCharTableByTree(this));
  getTreeParent().replaceChildInternal(this,ref);
  return SourceTreeToPsiMap.treeElementToPsi(ref);
}
