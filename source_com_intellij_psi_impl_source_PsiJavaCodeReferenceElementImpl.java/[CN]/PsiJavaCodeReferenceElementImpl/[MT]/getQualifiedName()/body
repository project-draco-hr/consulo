{
switch (getKind()) {
case CLASS_NAME_KIND:
case CLASS_OR_PACKAGE_NAME_KIND:
case CLASS_IN_QUALIFIED_NEW_KIND:
{
      final PsiElement target=resolve();
      if (target instanceof PsiClass) {
        final PsiClass aClass=(PsiClass)target;
        String name=aClass.getQualifiedName();
        if (name == null) {
          name=aClass.getName();
        }
        return name;
      }
 else       if (target instanceof PsiPackage) {
        return ((PsiPackage)target).getQualifiedName();
      }
 else {
        LOG.assertTrue(target == null);
        return getClassNameText();
      }
    }
case PACKAGE_NAME_KIND:
case CLASS_FQ_NAME_KIND:
case CLASS_FQ_OR_PACKAGE_NAME_KIND:
  return getTextSkipWhiteSpaceAndComments();
default :
LOG.assertTrue(false);
return null;
}
}
