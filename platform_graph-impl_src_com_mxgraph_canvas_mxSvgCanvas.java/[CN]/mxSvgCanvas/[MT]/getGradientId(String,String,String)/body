{
  if (start.startsWith("#")) {
    start=start.substring(1);
  }
  if (end.startsWith("#")) {
    end=end.substring(1);
  }
  start=start.toLowerCase();
  end=end.toLowerCase();
  String dir=null;
  if (direction == null || direction.equals(mxConstants.DIRECTION_SOUTH)) {
    dir="south";
  }
 else   if (direction.equals(mxConstants.DIRECTION_EAST)) {
    dir="east";
  }
 else {
    String tmp=start;
    start=end;
    end=tmp;
    if (direction.equals(mxConstants.DIRECTION_NORTH)) {
      dir="south";
    }
 else     if (direction.equals(mxConstants.DIRECTION_WEST)) {
      dir="east";
    }
  }
  return "mx-gradient-" + start + "-"+ end+ "-"+ dir;
}
