{
  int bytesToSkip=skipBom(file);
  InputStream stream=file.getInputStream();
  try {
    if (bytesToSkip > 0) {
synchronized (BUFFER) {
        int read=0;
        while (read < bytesToSkip) {
          int r=stream.read(BUFFER,0,bytesToSkip - read);
          if (r < 0)           throw new IOException("Can't skip BOM for file: " + myFile.getPath());
          read+=r;
        }
      }
    }
    return JDOMUtil.loadDocument(stream);
  }
  finally {
    stream.close();
  }
}
