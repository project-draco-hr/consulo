{
  FilePath current=path;
  while (current != null) {
    final VirtualFile vf=current.getVirtualFile();
    if (vf == null)     return;
    if (!VfsUtil.isAncestor(myRoot,vf,true))     return;
    final FileStatus status=myChangeListManager.getStatus(vf);
    if (FileStatus.UNKNOWN.equals(status)) {
      myToBeAdded.add(current);
      current=current.getParentPath();
    }
 else {
      return;
    }
  }
}
