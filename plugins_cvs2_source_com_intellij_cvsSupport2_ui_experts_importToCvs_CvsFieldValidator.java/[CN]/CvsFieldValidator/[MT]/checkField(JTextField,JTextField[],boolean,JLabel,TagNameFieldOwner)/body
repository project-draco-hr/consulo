{
  String text=field.getText().trim();
  if (text.length() == 0) {
    reportError(errorMessage,"cannot be empty",tagNameFieldOwner);
    return false;
  }
  for (int i=0; i < INVALID_CHARACTERS.length; i++) {
    char invalidCharacter=INVALID_CHARACTERS[i];
    if (text.indexOf(invalidCharacter) != -1) {
      reportError(errorMessage,"must not contain the characters ` $.:;@'",tagNameFieldOwner);
      return false;
    }
  }
  for (int i=0; i < shouldDifferFrom.length; i++) {
    JTextField jTextField=shouldDifferFrom[i];
    if (jTextField == field)     continue;
    if (jTextField.getText().trim().equals(text)) {
      reportError(errorMessage,"was specifies more than once",tagNameFieldOwner);
      return false;
    }
  }
  if (shouldStartFromLetter && !Character.isLetter(text.charAt(0))) {
    reportError(errorMessage,"must start with a letter",tagNameFieldOwner);
    return false;
  }
  errorMessage.setText("");
  return true;
}
