{
  final DirectoryData data=new DirectoryData(myProject.getBaseDir());
  try {
    data.clear();
    data.create();
    final File subDir=new File(data.getBase().getPath(),"DL0N1");
    final VirtualFile vSubDir=LocalFileSystem.getInstance().findFileByIoFile(subDir);
    assertNotNull(vSubDir);
    VfsUtilCore.visitChildrenRecursively(data.getBase(),new VirtualFileVisitor(){
      @Override public boolean visitFile(      @NotNull VirtualFile file){
        Assert.assertTrue(!VfsUtilCore.isAncestor(vSubDir,file,true));
        return !vSubDir.equals(file);
      }
    }
);
  }
  finally {
    data.clear();
  }
}
