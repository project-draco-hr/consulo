{
  File tempDir=new WriteAction<File>(){
    @Override protected void run(    Result<File> result) throws Throwable {
      File res=createTempDirectory();
      new File(res,"x.jar").createNewFile();
      result.setResult(res);
    }
  }
.execute().getResultObject();
  VirtualFile vDir=LocalFileSystem.getInstance().refreshAndFindFileByIoFile(tempDir);
  VirtualFile jar=vDir.findChild("x.jar");
  assertNotNull(jar);
  NewVirtualFile root1=ManagingFS.getInstance().findRoot(jar.getPath() + "!/",JarFileSystem.getInstance());
  NewVirtualFile root2=ManagingFS.getInstance().findRoot(jar.getParent().getPath() + "//" + jar.getName()+ "!/",JarFileSystem.getInstance());
  assertNotNull(root1);
  assertSame(root1,root2);
}
