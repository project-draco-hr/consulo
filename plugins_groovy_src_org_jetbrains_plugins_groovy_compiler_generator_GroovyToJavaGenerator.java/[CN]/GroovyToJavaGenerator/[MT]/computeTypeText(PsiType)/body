{
  if (type instanceof PsiArrayType) {
    String componentText=computeTypeText(((PsiArrayType)type).getComponentType());
    if (type instanceof PsiEllipsisType)     return componentText + "...";
    return componentText + "[]";
  }
  String canonicalText=type.getCanonicalText();
  return canonicalText != null ? canonicalText : type.getPresentableText();
}
