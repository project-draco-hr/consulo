{
  if (type instanceof PsiArrayType) {
    String componentText=computeTypeText(((PsiArrayType)type).getComponentType(),false);
    if (allowVarargs && type instanceof PsiEllipsisType)     return componentText + "...";
    return componentText + "[]";
  }
  String canonicalText=type.getCanonicalText();
  return canonicalText != null ? canonicalText : type.getPresentableText();
}
