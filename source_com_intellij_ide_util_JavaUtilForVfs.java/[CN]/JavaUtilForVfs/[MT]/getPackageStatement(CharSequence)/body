{
  Lexer lexer=new JavaLexer(LanguageLevel.JDK_1_3);
  lexer.start(text,0,text.length(),0);
  skipWhiteSpaceAndComments(lexer);
  if (lexer.getTokenType() != JavaTokenType.PACKAGE_KEYWORD)   return null;
  lexer.advance();
  skipWhiteSpaceAndComments(lexer);
  StringBuffer buffer=new StringBuffer();
  while (true) {
    if (lexer.getTokenType() != JavaTokenType.IDENTIFIER)     break;
    buffer.append(text,lexer.getTokenStart(),lexer.getTokenEnd());
    lexer.advance();
    skipWhiteSpaceAndComments(lexer);
    if (lexer.getTokenType() != JavaTokenType.DOT)     break;
    buffer.append('.');
    lexer.advance();
    skipWhiteSpaceAndComments(lexer);
  }
  String packageName=buffer.toString();
  if (packageName.length() == 0 || StringUtil.endsWithChar(packageName,'.'))   return null;
  return packageName;
}
