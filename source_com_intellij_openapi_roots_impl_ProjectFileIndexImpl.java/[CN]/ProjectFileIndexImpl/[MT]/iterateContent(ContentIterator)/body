{
  Module[] modules=ModuleManager.getInstance(myProject).getModules();
  for (int i=0; i < modules.length; i++) {
    Module module=modules[i];
    VirtualFile[] contentRoots=ModuleRootManager.getInstance(module).getContentRoots();
    for (int j=0; j < contentRoots.length; j++) {
      VirtualFile contentRoot=contentRoots[j];
      DirectoryInfo info=myDirectoryIndex.getInfoForDirectory(contentRoot);
      if (info == null)       continue;
      if (!module.equals(info.module))       continue;
      VirtualFile parent=contentRoot.getParent();
      if (parent != null) {
        DirectoryInfo parentInfo=myDirectoryIndex.getInfoForDirectory(parent);
        if (parentInfo != null && parentInfo.module != null)         continue;
      }
      boolean finished=FileIndexImplUtil.iterateRecursively(contentRoot,myContentFilter,iterator);
      if (!finished)       return false;
    }
  }
  return true;
}
