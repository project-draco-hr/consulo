{
  ApplicationManager.getApplication().assertWriteAccessAllowed();
  XBreakpointType type=breakpoint.getType();
  myBreakpoints.put(type,breakpoint);
  if (breakpoint instanceof XLineBreakpointImpl) {
    myLineBreakpointManager.registerBreakpoint((XLineBreakpointImpl)breakpoint);
  }
  EventDispatcher<XBreakpointListener> dispatcher=myDispatchers.get(type);
  if (dispatcher != null) {
    dispatcher.getMulticaster().breakpointAdded(breakpoint);
  }
}
