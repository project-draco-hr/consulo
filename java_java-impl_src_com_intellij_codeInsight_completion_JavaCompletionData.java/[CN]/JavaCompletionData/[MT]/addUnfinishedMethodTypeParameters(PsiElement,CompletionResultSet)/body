{
  final ProcessingContext context=new ProcessingContext();
  if (psiElement().inside(psiElement(PsiTypeElement.class).afterLeaf(psiElement().withText(">").withParent(psiElement(PsiTypeParameterList.class).withParent(PsiErrorElement.class).save("typeParameterList")))).accepts(position,context)) {
    final PsiTypeParameterList list=(PsiTypeParameterList)context.get("typeParameterList");
    PsiElement current=list.getParent().getParent();
    if (current instanceof PsiField) {
      current=current.getParent();
    }
    if (current instanceof PsiClass) {
      for (      PsiTypeParameter typeParameter : list.getTypeParameters()) {
        result.addElement(new JavaPsiClassReferenceElement(typeParameter));
      }
    }
  }
}
