{
{
    final CompletionVariant variant=new CompletionVariant(INSIDE_PARAMETER_LIST);
    variant.includeScopeClass(PsiParameterList.class,true);
    addPrimitiveTypes(variant);
    registerVariant(variant);
  }
{
    final ElementFilter position=new LeftNeighbour(new AndFilter(new TextFilter(")"),new ParentElementFilter(new ClassFilter(PsiParameterList.class))));
    CompletionVariant variant=new CompletionVariant(PsiMethod.class,position);
    variant.includeScopeClass(PsiClass.class);
    variant.addCompletion(PsiKeyword.THROWS);
    registerVariant(variant);
    variant=new CompletionVariant(PsiAnnotationMethod.class,position);
    variant.addCompletion(PsiKeyword.DEFAULT);
    registerVariant(variant);
  }
{
    final CompletionVariant variant=new CompletionVariant(new OrFilter(END_OF_BLOCK,new LeftNeighbour(new TextFilter(PsiKeyword.FINAL))));
    variant.includeScopeClass(PsiCodeBlock.class,false);
    addPrimitiveTypes(variant);
    variant.addCompletion(PsiKeyword.CLASS);
    registerVariant(variant);
  }
{
    final CompletionVariant variant=new CompletionVariant(PsiMethod.class,new LeftNeighbour(new AndFilter(new TextFilter("("),new ParentElementFilter(new OrFilter(new ClassFilter(PsiParenthesizedExpression.class),new ClassFilter(PsiTypeCastExpression.class))))));
    addPrimitiveTypes(variant);
    registerVariant(variant);
  }
{
    final ElementFilter position=INSTANCEOF_PLACE;
    final CompletionVariant variant=new CompletionVariant(position);
    variant.includeScopeClass(PsiExpression.class,true);
    variant.includeScopeClass(PsiMethod.class);
    variant.addCompletion(PsiKeyword.INSTANCEOF);
    registerVariant(variant);
  }
{
    final ElementFilter position=new PatternFilter(AFTER_FINAL);
    final CompletionVariant variant=new CompletionVariant(position);
    variant.includeScopeClass(PsiDeclarationStatement.class,true);
    addPrimitiveTypes(variant);
    registerVariant(variant);
  }
{
    final CompletionVariant variant=new CompletionVariant(PsiMethod.class,END_OF_BLOCK);
    addKeywords(variant);
    registerVariant(variant);
  }
{
    final CompletionVariant variant=new CompletionVariant(PsiMethod.class,new LeftNeighbour(new TextFilter(PsiKeyword.RETURN)));
    variant.addCompletion(PsiKeyword.TRUE,TailType.NONE);
    variant.addCompletion(PsiKeyword.FALSE,TailType.NONE);
    registerVariant(variant);
  }
{
    final ElementFilter position=AFTER_TRY_BLOCK;
    final CompletionVariant variant=new CompletionVariant(position);
    variant.includeScopeClass(PsiCodeBlock.class,true);
    variant.addCompletion(PsiKeyword.CATCH,TailTypes.CATCH_LPARENTH);
    variant.addCompletion(PsiKeyword.FINALLY,TailTypes.FINALLY_LBRACE);
    registerVariant(variant);
  }
{
    final ElementFilter position=new LeftNeighbour(new AndFilter(new TextFilter("}"),new ParentElementFilter(new AndFilter(new LeftNeighbour(new NotFilter(new TextFilter(PsiKeyword.TRY))),new OrFilter(new ParentElementFilter(new ClassFilter(PsiTryStatement.class)),new ParentElementFilter(new ClassFilter(PsiCatchSection.class)))))));
    final CompletionVariant variant=new CompletionVariant(position);
    variant.includeScopeClass(PsiCodeBlock.class,false);
    variant.addCompletion(PsiKeyword.CATCH,TailTypes.CATCH_LPARENTH);
    variant.addCompletion(PsiKeyword.FINALLY,TailTypes.FINALLY_LBRACE);
    registerVariant(variant);
  }
{
    final ElementFilter position=new LeftNeighbour(new OrFilter(new AndFilter(new TextFilter("}"),new ParentElementFilter(new ClassFilter(PsiIfStatement.class),3)),new AndFilter(new TextFilter(";"),new ParentElementFilter(new ClassFilter(PsiIfStatement.class),2))));
    final CompletionVariant variant=new CompletionVariant(PsiMethod.class,position);
    variant.addCompletion(PsiKeyword.ELSE);
    registerVariant(variant);
  }
{
    final CompletionVariant variant=new CompletionVariant(PsiMethod.class,new LeftNeighbour(new AndFilter(new TextFilter("."),new LeftNeighbour(new OrFilter(new ReferenceOnFilter(ElementClassFilter.CLASS),new TextFilter(PRIMITIVE_TYPES),new TextFilter("]"))))));
    variant.includeScopeClass(PsiAnnotationParameterList.class);
    variant.includeScopeClass(PsiVariable.class);
    variant.excludeScopeClass(PsiJavaCodeReferenceCodeFragment.class);
    variant.addCompletion(PsiKeyword.CLASS,TailType.NONE);
    registerVariant(variant);
  }
{
    final CompletionVariant variant=new CompletionVariant(new AndFilter(END_OF_BLOCK,new OrFilter(new ScopeFilter(new ClassFilter(PsiSwitchStatement.class)),new InsideElementFilter(new ClassFilter(PsiBlockStatement.class)))));
    variant.includeScopeClass(PsiForStatement.class,false);
    variant.includeScopeClass(PsiForeachStatement.class,false);
    variant.includeScopeClass(PsiWhileStatement.class,false);
    variant.includeScopeClass(PsiDoWhileStatement.class,false);
    variant.includeScopeClass(PsiSwitchStatement.class,false);
    variant.addCompletion(PsiKeyword.BREAK);
    registerVariant(variant);
  }
{
    final CompletionVariant variant=new CompletionVariant(new AndFilter(END_OF_BLOCK,new InsideElementFilter(new ClassFilter(PsiBlockStatement.class))));
    variant.includeScopeClass(PsiForeachStatement.class,false);
    variant.includeScopeClass(PsiForStatement.class,false);
    variant.includeScopeClass(PsiWhileStatement.class,false);
    variant.includeScopeClass(PsiDoWhileStatement.class,false);
    variant.addCompletion(PsiKeyword.CONTINUE);
    registerVariant(variant);
  }
{
    final CompletionVariant variant=new CompletionVariant(new AndFilter(END_OF_BLOCK,new NotFilter(START_SWITCH),new OrFilter(new ParentElementFilter(new ClassFilter(PsiSwitchLabelStatement.class)),new LeftNeighbour(new OrFilter(new ParentElementFilter(new ClassFilter(PsiSwitchStatement.class),2),new AndFilter(new TextFilter(";","}",":"),new ParentElementFilter(new ClassFilter(PsiSwitchStatement.class),3)))))));
    variant.includeScopeClass(PsiElement.class,false);
    variant.addCompletion(PsiKeyword.CASE,TailType.SPACE);
    variant.addCompletion(PsiKeyword.DEFAULT,TailType.CASE_COLON);
    registerVariant(variant);
  }
{
    final CompletionVariant variant=new CompletionVariant(START_SWITCH);
    variant.includeScopeClass(PsiElement.class,true);
    variant.addCompletion(PsiKeyword.CASE,TailType.SPACE);
    variant.addCompletion(PsiKeyword.DEFAULT,TailType.CASE_COLON);
    registerVariant(variant);
  }
{
    final CompletionVariant variant=new CompletionVariant(and(psiElement().inside(or(psiElement(PsiExpressionList.class),psiElement(PsiExpression.class).withParent(or(psiElement(PsiIfStatement.class),psiElement(PsiLocalVariable.class))),psiElement(PsiAssignmentExpression.class))),not(psiElement().afterLeaf(".",PsiKeyword.RETURN)),not(psiElement().withParent(psiElement(PsiReferenceExpression.class).withParent(PsiTypeCastExpression.class)))));
    variant.addCompletion(PsiKeyword.NULL,TailType.NONE);
    variant.addCompletion(PsiKeyword.TRUE,TailType.NONE);
    variant.addCompletion(PsiKeyword.FALSE,TailType.NONE);
    variant.includeScopeClass(PsiExpressionList.class);
    variant.includeScopeClass(PsiStatement.class);
    registerVariant(variant);
  }
}
