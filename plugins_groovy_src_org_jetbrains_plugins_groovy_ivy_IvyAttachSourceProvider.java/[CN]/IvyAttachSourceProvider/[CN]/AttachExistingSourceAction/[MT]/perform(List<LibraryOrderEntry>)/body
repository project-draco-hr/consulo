{
  ApplicationManager.getApplication().assertIsDispatchThread();
  ActionCallback callback=new ActionCallback();
  callback.setDone();
  if (!mySrcFile.isValid())   return callback;
  if (myLibrary != getLibraryFromOrderEntriesList(orderEntriesContainingFile))   return callback;
  AccessToken accessToken=WriteAction.start();
  try {
    addSourceFile(mySrcFile,myLibrary);
  }
  finally {
    accessToken.finish();
  }
  return callback;
}
