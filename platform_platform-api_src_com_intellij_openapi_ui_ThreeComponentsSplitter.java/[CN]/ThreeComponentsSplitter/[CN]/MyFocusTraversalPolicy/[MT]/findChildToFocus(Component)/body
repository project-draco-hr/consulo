{
  if (component instanceof JPanel) {
    JPanel container=(JPanel)component;
    final FocusTraversalPolicy policy=container.getFocusTraversalPolicy();
    if (policy == null) {
      return container;
    }
    final Component defaultComponent=policy.getDefaultComponent(container);
    if (defaultComponent == null) {
      return container;
    }
    return policy.getDefaultComponent(container);
  }
  return component;
}
