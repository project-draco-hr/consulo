{
  for (  CoverageSuite suite : suites) {
    if (engine != null && suite.getCoverageEngine() != engine)     continue;
    final CoverageFileProvider provider=suite.getCoverageDataFileProvider();
    if (provider instanceof DefaultCoverageFileProvider && Comparing.strEqual(((DefaultCoverageFileProvider)provider).getSourceProvider(),DefaultCoverageFileProvider.class.getName())) {
      if (!provider.ensureFileExists())       continue;
    }
    final CoverageRunner runner=suite.getRunner();
    Map<String,List<CoverageSuite>> byProviders=grouped.get(runner);
    if (byProviders == null) {
      byProviders=new HashMap<String,List<CoverageSuite>>();
      grouped.put(runner,byProviders);
    }
    final String sourceProvider=provider instanceof DefaultCoverageFileProvider ? ((DefaultCoverageFileProvider)provider).getSourceProvider() : provider.getClass().getName();
    List<CoverageSuite> list=byProviders.get(sourceProvider);
    if (list == null) {
      list=new ArrayList<CoverageSuite>();
      byProviders.put(sourceProvider,list);
    }
    list.add(suite);
  }
}
