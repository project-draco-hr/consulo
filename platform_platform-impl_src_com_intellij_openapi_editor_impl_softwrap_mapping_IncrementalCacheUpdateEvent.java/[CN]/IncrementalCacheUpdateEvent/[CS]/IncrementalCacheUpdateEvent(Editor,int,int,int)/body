{
  Document document=editor.getDocument();
  myExactStartOffset=startOffset;
  myOldExactEndOffset=oldEndOffset;
  myNewExactEndOffset=newEndOffset;
  myStartLogicalLine=getLine(myExactStartOffset,document);
  myOldLogicalLinesDiff=getLine(myOldExactEndOffset,document) - myStartLogicalLine;
  myOldStartOffset=EditorUtil.getNotFoldedLineStartOffset(editor,myExactStartOffset);
  myOldEndOffset=EditorUtil.getNotFoldedLineEndOffset(editor,myOldExactEndOffset);
}
