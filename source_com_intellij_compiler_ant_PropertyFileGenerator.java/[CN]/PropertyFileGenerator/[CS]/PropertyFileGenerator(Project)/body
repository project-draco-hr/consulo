{
  final PathMacrosImpl pathMacros=PathMacrosImpl.getInstanceEx();
  final Set<String> macroNamesSet=pathMacros.getUserMacroNames();
  if (macroNamesSet.size() > 0) {
    final String[] macroNames=macroNamesSet.toArray(new String[macroNamesSet.size()]);
    Arrays.sort(macroNames);
    for (int idx=0; idx < macroNames.length; idx++) {
      final String macroName=macroNames[idx];
      addProperty(BuildProperties.getPathMacroProperty(macroName),pathMacros.getValue(macroName));
    }
  }
  final ProjectJdk[] usedJdks=BuildProperties.getUsedJdks(project);
  for (int idx=0; idx < usedJdks.length; idx++) {
    ProjectJdk jdk=usedJdks[idx];
    if (jdk.getHomeDirectory() == null) {
      continue;
    }
    final File homeDir=VfsUtil.virtualToIoFile(jdk.getHomeDirectory());
    addProperty(BuildProperties.getJdkHomeProperty(jdk.getName()),homeDir.getPath().replace(File.separatorChar,'/'));
  }
}
