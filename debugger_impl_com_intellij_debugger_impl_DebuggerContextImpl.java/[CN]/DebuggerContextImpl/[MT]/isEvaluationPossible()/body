{
  final SuspendContextImpl suspendContext=getSuspendContext();
  if (suspendContext != null) {
    ThreadReferenceProxyImpl contextThread=suspendContext.getThread();
    if (contextThread == null) {
      SuspendContextImpl oldContext=getDebugProcess().getSuspendManager().getPausedContext();
      if (oldContext != null) {
        contextThread=oldContext.getThread();
      }
    }
    if (contextThread != null) {
      return contextThread.getThreadReference().isAtBreakpoint();
    }
  }
  return !myDebugProcess.getVirtualMachineProxy().isPausePressed();
}
