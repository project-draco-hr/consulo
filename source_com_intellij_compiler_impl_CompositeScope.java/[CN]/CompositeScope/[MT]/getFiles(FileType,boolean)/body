{
  List<VirtualFile> allFiles=new ArrayList<VirtualFile>();
  for (Iterator it=myScopes.iterator(); it.hasNext(); ) {
    CompileScope scope=(CompileScope)it.next();
    final VirtualFile[] files=scope.getFiles(fileType,inSourceOnly);
    if (files.length > 0) {
      allFiles.addAll(Arrays.asList(files));
    }
  }
  return allFiles.toArray(new VirtualFile[allFiles.size()]);
}
