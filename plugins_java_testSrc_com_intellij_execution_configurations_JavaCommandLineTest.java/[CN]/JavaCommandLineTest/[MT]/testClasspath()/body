{
  JavaParameters javaParameters;
  String commandLineString;
  javaParameters=new JavaParameters();
  final Sdk internalJdk=JavaAwareProjectJdkTableImpl.getInstanceEx().getInternalJdk();
  javaParameters.setJdk(internalJdk);
  javaParameters.setMainClass("Main");
  commandLineString=CommandLineBuilder.createFromJavaParameters(javaParameters).getCommandLineString();
  assertTrue(containsClassPath(commandLineString));
  javaParameters=new JavaParameters();
  javaParameters.setJdk(internalJdk);
  javaParameters.setMainClass("Main");
  javaParameters.getVMParametersList().add("-cp");
  javaParameters.getVMParametersList().add("..");
  commandLineString=CommandLineBuilder.createFromJavaParameters(javaParameters).getCommandLineString();
  commandLineString=removeClassPath(commandLineString,"-cp ..");
  assertTrue(!containsClassPath(commandLineString));
  javaParameters=new JavaParameters();
  javaParameters.setJdk(internalJdk);
  javaParameters.setMainClass("Main");
  javaParameters.getVMParametersList().add("-classpath");
  javaParameters.getVMParametersList().add("..");
  commandLineString=CommandLineBuilder.createFromJavaParameters(javaParameters).getCommandLineString();
  commandLineString=removeClassPath(commandLineString,"-classpath ..");
  assertTrue(!containsClassPath(commandLineString));
}
