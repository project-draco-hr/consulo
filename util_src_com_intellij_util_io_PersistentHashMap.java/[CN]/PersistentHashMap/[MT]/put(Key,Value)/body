{
  final int id=enumerate(key);
  int valueId=readValueId(id);
  if (valueId == NULL_ID) {
    valueId=myValueStorage.createNewRecord();
    updateValueId(id,valueId);
  }
  final Storage.StorageDataOutput output=myValueStorage.writeStream(valueId);
  try {
    myValueDescriptor.save(output,value);
  }
  finally {
    output.close();
  }
}
