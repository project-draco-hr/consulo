{
  LOG.info("loadRoot " + root);
  myProgressIndicator.setText(GitHandlerUtil.formatOperationName("Unstashing changes to",root));
  GitRepository repository=myRepositoryManager.getRepositoryForRoot(root);
  if (repository == null) {
    LOG.error("Repository is null for root " + root);
    return false;
  }
  GitSimpleEventDetector conflictDetector=new GitSimpleEventDetector(GitSimpleEventDetector.Event.MERGE_CONFLICT_ON_UNSTASH);
  GitCommandResult result=myGit.stashPop(repository,conflictDetector);
  if (result.success()) {
    return false;
  }
 else   if (conflictDetector.hasHappened()) {
    return true;
  }
 else {
    LOG.info("unstash failed " + result.getErrorOutputAsJoinedString());
    GitUIUtil.notifyImportantError(myProject,"Couldn't unstash","<br/>" + result.getErrorOutputAsHtmlString());
    return false;
  }
}
