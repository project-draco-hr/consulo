{
  ArrayList<CompilerMessage> messages=new ArrayList<CompilerMessage>(compilerMessages);
  final StringBuffer unparsedBuffer=getStdErr();
  if (unparsedBuffer.length() != 0) {
    messages.add(new CompilerMessage("Groovyc",BuildMessage.Kind.INFO,unparsedBuffer.toString()));
  }
  final int exitValue=getProcess().exitValue();
  if (exitValue != 0) {
    for (    CompilerMessage message : messages) {
      if (message.getKind() == BuildMessage.Kind.ERROR) {
        return messages;
      }
    }
    messages.add(new CompilerMessage("Groovyc",BuildMessage.Kind.ERROR,"Internal groovyc error: code " + exitValue));
  }
  return messages;
}
