{
  if (!StringUtil.isEmpty(override)) {
    return new File(override);
  }
  final File userSettingsFile=resolveUserSettingsFile(userSettings);
  if (userSettingsFile != null) {
    final String fromUserSettings=MavenEnv.getRepositoryFromSettings(userSettingsFile);
    if (!StringUtil.isEmpty(fromUserSettings)) {
      return new File(fromUserSettings);
    }
  }
  final File globalSettingsFile=resolveGlobalSettingsFile(mavenHome);
  if (globalSettingsFile != null) {
    final String fromGlobalSettings=MavenEnv.getRepositoryFromSettings(globalSettingsFile);
    if (!StringUtil.isEmpty(fromGlobalSettings)) {
      return new File(fromGlobalSettings);
    }
  }
  final String userHome=System.getProperty(PROP_USER_HOME);
  if (!StringUtil.isEmptyOrSpaces(userHome)) {
    return new File(new File(userHome,DOT_M2_DIR),REPOSITORY_DIR);
  }
  return null;
}
