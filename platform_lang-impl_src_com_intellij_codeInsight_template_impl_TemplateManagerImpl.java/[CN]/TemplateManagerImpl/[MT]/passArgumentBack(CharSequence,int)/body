{
  int i=caretOffset - 1;
  for (; i >= 0; i--) {
    char c=text.charAt(i);
    if (!Character.isJavaIdentifierPart(c)) {
      break;
    }
  }
  return i + 1;
}
