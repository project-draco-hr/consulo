{
  CaretModel caretModel=editor.getCaretModel();
  int line=caretModel.getLogicalPosition().line;
  int lineStart=editor.getDocument().getLineStartOffset(line);
  int offset=caretModel.getOffset();
  String s=editor.getDocument().getCharsSequence().subSequence(lineStart,offset).toString();
  int index=0;
  while (index < s.length() && Character.isWhitespace(s.charAt(index))) {
    index++;
  }
  return index < s.length() ? s.substring(index) : s;
}
