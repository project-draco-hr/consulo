{
  List<CustomLiveTemplate> result=new ArrayList<CustomLiveTemplate>();
  for (  CustomLiveTemplate template : CustomLiveTemplate.EP_NAME.getExtensions()) {
    if ((!selectionOnly || template.supportsWrapping()) && isApplicable(template,editor,file)) {
      result.add(template);
    }
  }
  return result;
}
