{
  final GetFileContentOperation operation=new GetFileContentOperation(myFile,myEnvironment,myRevision);
  CvsOperationExecutor executor=new CvsOperationExecutor(myProject);
  executor.performActionSync(new CommandCvsHandler(CvsBundle.message("operation.name.load.file"),operation),CvsOperationExecutorCallback.EMPTY);
  CvsResult result=executor.getResult();
  if (result.isCanceled()) {
    throw new ProcessCanceledException();
  }
  if (!result.hasNoErrors()) {
    throw result.composeError();
  }
  if (!operation.isLoaded()) {
    throw new VcsException("Network problem");
  }
  final byte[] fileBytes=operation.getFileBytes();
  if (operation.isDeleted()) {
    throw new VcsException(CvsBundle.message("message.text.revision.was.deleted.from.repository",myRevision.getRevision()));
  }
  return fileBytes;
}
