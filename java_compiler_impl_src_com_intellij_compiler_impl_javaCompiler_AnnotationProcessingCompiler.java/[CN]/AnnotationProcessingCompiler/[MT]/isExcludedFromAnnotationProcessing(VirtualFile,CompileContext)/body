{
  final Module module=context.getModuleByFile(file);
  if (module != null) {
    if (myConfig.getExcludedModules().contains(module)) {
      return true;
    }
    final String path=CompilerPaths.getAnnotationProcessorsGenerationPath(module);
    final VirtualFile generationDir=LocalFileSystem.getInstance().findFileByPath(path);
    if (VfsUtil.isAncestor(generationDir,file,false)) {
      return true;
    }
  }
  return myConfig.isExcludedFromCompilation(file);
}
