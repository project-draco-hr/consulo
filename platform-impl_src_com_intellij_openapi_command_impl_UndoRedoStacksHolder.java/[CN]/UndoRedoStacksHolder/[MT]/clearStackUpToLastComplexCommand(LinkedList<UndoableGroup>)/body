{
  int removeUpTo=-1;
  for (int i=stack.size() - 1; i >= 0; i--) {
    if (stack.get(i).isComplex()) {
      removeUpTo=i;
      break;
    }
  }
  while (removeUpTo-- >= 0) {
    stack.removeFirst();
  }
}
