{
  PsiJavaCodeReferenceElement ref=getReferenceElement(expr);
  int numParams=ref.getTypeParameters().length;
  if (numParams == 0)   return;
  PsiElementFactory factory=expr.getManager().getElementFactory();
  targetClass.getTypeParameterList().add(factory.createTypeParameterFromText("T",null));
  for (int i=2; i <= numParams; i++) {
    targetClass.getTypeParameterList().add(factory.createTypeParameterFromText("T" + (i - 1),null));
  }
}
