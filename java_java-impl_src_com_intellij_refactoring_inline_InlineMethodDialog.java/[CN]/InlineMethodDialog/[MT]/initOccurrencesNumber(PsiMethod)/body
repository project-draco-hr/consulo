{
  final ProgressManager progressManager=ProgressManager.getInstance();
  final PsiSearchHelper searchHelper=PsiSearchHelper.SERVICE.getInstance(method.getProject());
  final GlobalSearchScope scope=GlobalSearchScope.projectScope(method.getProject());
  final boolean isCheapToSearch=searchHelper.isCheapEnoughToSearch(method.getName(),scope,null,progressManager.getProgressIndicator()) != PsiSearchHelper.SearchCostResult.TOO_MANY_OCCURRENCES;
  if (isCheapToSearch) {
    myOccurrencesNumber=ReferencesSearch.search(method).findAll().size();
  }
}
