{
  if (psiElement instanceof PsiParameterList) {
    if (!StringUtil.endsWithChar(psiElement.getText(),')')) {
      int offset;
      PsiParameterList list=(PsiParameterList)psiElement;
      final PsiParameter[] params=list.getParameters();
      if (params == null || params.length == 0) {
        offset=list.getTextRange().getStartOffset() + 1;
      }
 else {
        offset=params[params.length - 1].getTextRange().getEndOffset();
      }
      editor.getDocument().insertString(offset,")");
    }
  }
}
