{
  myEditorManagerListener=new MyEditorManagerListener();
  myAnActionListener=new MyAnActionListener();
  actionManagerEx.addAnActionListener(myAnActionListener);
  myCaretMoveListener=new CaretListener(){
    public void caretPositionChanged(    CaretEvent e){
      hideHints(HIDE_BY_ANY_KEY,false,false);
    }
  }
;
  projectManager.addProjectManagerListener(new MyProjectManagerListener());
  myEditorMouseListener=new EditorMouseAdapter(){
    public void mousePressed(    EditorMouseEvent event){
      hideAllHints();
    }
  }
;
  myVisibleAreaListener=new VisibleAreaListener(){
    public void visibleAreaChanged(    VisibleAreaEvent e){
      updateScrollableHints(e);
      hideHints(HIDE_BY_SCROLLING,false,false);
    }
  }
;
  myEditorFocusListener=new FocusAdapter(){
    public void focusLost(    FocusEvent e){
      myHideAlarm.addRequest(new Runnable(){
        public void run(){
          hideAllHints();
        }
      }
,200);
    }
    public void focusGained(    FocusEvent e){
      myHideAlarm.cancelAllRequests();
    }
  }
;
  myEditorDocumentListener=new DocumentAdapter(){
    public void documentChanged(    DocumentEvent event){
      LOG.assertTrue(SwingUtilities.isEventDispatchThread());
      HintInfo[] infos=myHintsStack.toArray(new HintInfo[myHintsStack.size()]);
      for (      HintInfo info : infos) {
        if ((info.flags & HIDE_BY_TEXT_CHANGE) != 0) {
          if (info.hint.isVisible()) {
            info.hint.hide();
          }
          myHintsStack.remove(info);
        }
      }
      if (myHintsStack.isEmpty()) {
        updateLastEditor(null);
      }
    }
  }
;
  editorActionManager.setActionHandler(IdeActions.ACTION_EDITOR_ESCAPE,new EscapeHandler(editorActionManager.getActionHandler(IdeActions.ACTION_EDITOR_ESCAPE)));
  myTooltipController=new TooltipController();
}
