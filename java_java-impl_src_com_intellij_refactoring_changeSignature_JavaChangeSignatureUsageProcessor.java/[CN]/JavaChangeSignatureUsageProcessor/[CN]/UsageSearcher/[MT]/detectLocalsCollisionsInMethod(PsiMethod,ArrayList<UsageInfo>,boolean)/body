{
  if (myChangeInfo.getLanguage().equals(StdLanguages.JAVA)) {
    final PsiParameter[] parameters=method.getParameterList().getParameters();
    final Set<PsiParameter> deletedOrRenamedParameters=new HashSet<PsiParameter>();
    if (isOriginal) {
      deletedOrRenamedParameters.addAll(Arrays.asList(parameters));
      for (      ParameterInfo parameterInfo : myChangeInfo.getNewParameters()) {
        if (parameterInfo.getOldIndex() >= 0) {
          final PsiParameter parameter=parameters[parameterInfo.getOldIndex()];
          if (parameterInfo.getName().equals(parameter.getName())) {
            deletedOrRenamedParameters.remove(parameter);
          }
        }
      }
    }
    for (    ParameterInfo parameterInfo : myChangeInfo.getNewParameters()) {
      final int oldParameterIndex=parameterInfo.getOldIndex();
      final String newName=parameterInfo.getName();
      if (oldParameterIndex >= 0) {
        if (isOriginal) {
          final PsiParameter parameter=parameters[oldParameterIndex];
          if (!newName.equals(parameter.getName())) {
            JavaUnresolvableLocalCollisionDetector.visitLocalsCollisions(parameter,newName,method.getBody(),null,new JavaUnresolvableLocalCollisionDetector.CollidingVariableVisitor(){
              public void visitCollidingElement(              final PsiVariable collidingVariable){
                if (!deletedOrRenamedParameters.contains(collidingVariable)) {
                  result.add(new RenamedParameterCollidesWithLocalUsageInfo(parameter,collidingVariable,method));
                }
              }
            }
);
          }
        }
      }
 else {
        JavaUnresolvableLocalCollisionDetector.visitLocalsCollisions(method,newName,method.getBody(),null,new JavaUnresolvableLocalCollisionDetector.CollidingVariableVisitor(){
          public void visitCollidingElement(          PsiVariable collidingVariable){
            if (!deletedOrRenamedParameters.contains(collidingVariable)) {
              result.add(new NewParameterCollidesWithLocalUsageInfo(collidingVariable,collidingVariable,method));
            }
          }
        }
);
      }
    }
  }
}
