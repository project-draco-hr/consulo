{
  final PsiFileImpl psiFile=(PsiFileImpl)cloneImpl(myFileElement);
  final DummyHolderViewProvider dummyHolderViewProvider=new DummyHolderViewProvider(getManager());
  myViewProvider=dummyHolderViewProvider;
  dummyHolderViewProvider.setDummyHolder((DummyHolder)psiFile);
  final FileElement treeClone=(FileElement)calcTreeElement().clone();
  psiFile.setTreeElementPointer(treeClone);
  if (isPhysical())   psiFile.myOriginalFile=this;
 else   psiFile.myOriginalFile=myOriginalFile;
  treeClone.setPsi(psiFile);
  return psiFile;
}
