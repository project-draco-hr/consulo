{
  return new FacetDetector<PsiFile,C>(){
    public C detectFacet(    final PsiFile source,    final Collection<C> existentFacetConfigurations){
      VirtualFile virtualFile=source.getVirtualFile();
      return virtualFile != null ? detector.detectFacet(virtualFile,existentFacetConfigurations) : null;
    }
  }
;
}
