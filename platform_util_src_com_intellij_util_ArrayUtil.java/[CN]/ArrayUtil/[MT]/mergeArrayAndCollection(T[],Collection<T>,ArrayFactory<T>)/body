{
  if (collection.size() == 0) {
    return array;
  }
  final T[] array2=collection.toArray(factory.create(collection.size()));
  if (array.length == 0) {
    return array2;
  }
  final T[] result=factory.create(array.length + collection.size());
  arrayCopy(array,0,result,0,array.length);
  arrayCopy(array2,0,result,array.length,array2.length);
  return result;
}
