{
  if (method1 == another)   return true;
  if (!(another instanceof PsiMethod))   return false;
  PsiMethod method2=(PsiMethod)another;
  if (!another.isValid())   return false;
  if (!method1.getName().equals(method2.getName()))   return false;
  PsiClass aClass1=method1.getContainingClass();
  PsiClass aClass2=method2.getContainingClass();
  PsiManager manager=method1.getManager();
  if (!(aClass1 != null && aClass2 != null && manager.areElementsEquivalent(aClass1,aClass2)))   return false;
  PsiParameter[] parameters1=method1.getParameterList().getParameters();
  PsiParameter[] parameters2=method2.getParameterList().getParameters();
  if (parameters1.length != parameters2.length)   return false;
  for (int i=0; i < parameters1.length; i++) {
    PsiParameter parameter1=parameters1[i];
    PsiParameter parameter2=parameters2[i];
    PsiType type1=parameter1.getType();
    PsiType type2=parameter2.getType();
    if (!compareParamTypes(manager,type1,type2))     return false;
  }
  return true;
}
