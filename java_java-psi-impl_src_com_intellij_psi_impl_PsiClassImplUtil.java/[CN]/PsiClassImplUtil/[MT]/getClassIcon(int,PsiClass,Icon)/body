{
  Icon base=Iconable.LastComputedIcon.get(aClass,flags);
  if (base == null) {
    if (symbolIcon == null) {
      symbolIcon=ElementPresentationUtil.getClassIconOfKind(aClass,ElementPresentationUtil.getBasicClassKind(aClass));
    }
    RowIcon baseIcon=ElementBase.createLayeredIcon(aClass,symbolIcon,0);
    base=ElementPresentationUtil.addVisibilityIcon(aClass,flags,baseIcon);
  }
  return IconDeferrer.getInstance().defer(base,new ClassIconRequest(aClass,flags,symbolIcon),FULL_ICON_EVALUATOR);
}
