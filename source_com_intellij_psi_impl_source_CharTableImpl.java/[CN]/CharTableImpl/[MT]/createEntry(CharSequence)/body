{
  final int length=text.length();
  if (length > PAGE_SIZE) {
    final char[] page=new char[length];
    CharArrayUtil.getChars(text,page,0);
    return new CharTableEntry(page,0,length);
  }
  if (myCurrentPage == null || PAGE_SIZE - bufferEnd < length) {
    myCurrentPage=new char[PAGE_SIZE];
    bufferEnd=0;
  }
  CharArrayUtil.getChars(text,myCurrentPage,bufferEnd);
  bufferEnd+=length;
  return new CharTableEntry(myCurrentPage,bufferEnd - length,length);
}
