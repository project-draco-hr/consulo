{
  clear();
  setIcon(myIcon);
  boolean focused=KeyboardFocusManager.getCurrentKeyboardFocusManager().getFocusOwner() == myPanel;
  final NavBarModel model=myPanel.getModel();
  boolean selected=model.getSelectedIndex() == myIndex;
  setPaintFocusBorder(!focused && selected);
  setFocusBorderAroundIcon(false);
  setBackground(selected && focused ? UIUtil.getListSelectionBackground() : (UIUtil.isUnderGTKLookAndFeel() ? Color.WHITE : UIUtil.getListBackground()));
  final Color fg=selected && focused ? UIUtil.getListSelectionForeground() : model.getSelectedIndex() < myIndex && model.getSelectedIndex() != -1 ? UIUtil.getInactiveTextColor() : myAttributes.getFgColor();
  final Color bg=selected && focused ? UIUtil.getListSelectionBackground() : myAttributes.getBgColor();
  append(myText,new SimpleTextAttributes(bg,fg,myAttributes.getWaveColor(),myAttributes.getStyle()));
  repaint();
}
