{
  myPanel=panel;
  myUI=panel.getNavBarUI();
  myObject=object;
  myIndex=idx;
  isPopupElement=idx == -1;
  if (object != null) {
    Icon closedIcon=NavBarPresentation.getIcon(object,false);
    Icon openIcon=NavBarPresentation.getIcon(object,true);
    if (closedIcon == null && openIcon != null)     closedIcon=openIcon;
    if (openIcon == null && closedIcon != null)     openIcon=closedIcon;
    if (openIcon == null) {
      openIcon=closedIcon=EmptyIcon.create(5);
    }
    final NavBarPresentation presentation=myPanel.getPresentation();
    myText=NavBarPresentation.getPresentableText(object);
    myIcon=wrapIcon(openIcon,closedIcon,idx);
    myAttributes=presentation.getTextAttributes(object,false);
  }
 else {
    myText="Sample";
    myIcon=PlatformIcons.DIRECTORY_OPEN_ICON;
    myAttributes=SimpleTextAttributes.REGULAR_ATTRIBUTES;
  }
  Disposer.register(parent == null ? panel : parent,this);
  setOpaque(false);
  setFont(myUI.getElementFont(this));
  setIpad(myUI.getElementIpad(isPopupElement));
  if (!isPopupElement) {
    setMyBorder(null);
    setBorder(null);
    setPaintFocusBorder(false);
  }
  update();
}
