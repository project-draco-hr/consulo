{
  myColorsScheme=UsageTreeColorsScheme.getInstance().getScheme();
  Project project=file.getProject();
  myDocument=PsiDocumentManager.getInstance(project).getDocument(file);
  LOG.assertTrue(myDocument != null);
  final FileType fileType=file.getFileType();
  SyntaxHighlighter highlighter=SyntaxHighlighterFactory.getSyntaxHighlighter(fileType,project,file.getVirtualFile());
  highlighter=highlighter == null ? new PlainSyntaxHighlighter() : highlighter;
  myHighlighter=new SyntaxHighlighterOverEditorHighlighter(highlighter,file.getVirtualFile(),project);
  myDocumentStamp=-1;
}
