{
  final File authDir=new File(getConfigurationDirectory(),"auth");
  if (authDir.exists()) {
    final Runnable process=new Runnable(){
      public void run(){
        final ProgressIndicator ind=ProgressManager.getInstance().getProgressIndicator();
        if (ind != null) {
          ind.setIndeterminate(true);
          ind.setText("Clearing stored credentials in " + authDir.getAbsolutePath());
        }
        final File[] files=authDir.listFiles(new FilenameFilter(){
          public boolean accept(          File dir,          String name){
            return ourAuthKinds.contains(name);
          }
        }
);
        for (        File dir : files) {
          if (ind != null) {
            ind.setText("Deleting " + dir.getAbsolutePath());
          }
          FileUtil.delete(dir);
        }
      }
    }
;
    final Application application=ApplicationManager.getApplication();
    if (application.isUnitTestMode() || !application.isDispatchThread()) {
      process.run();
    }
 else {
      ProgressManager.getInstance().runProcessWithProgressSynchronously(process,"button.text.clear.authentication.cache",false,project);
    }
  }
}
