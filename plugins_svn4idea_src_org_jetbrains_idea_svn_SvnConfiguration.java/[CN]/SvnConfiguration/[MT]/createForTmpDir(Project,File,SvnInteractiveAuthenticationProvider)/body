{
  final SvnVcs vcs=SvnVcs.getInstance(project);
  final SvnAuthenticationManager interactive=new SvnAuthenticationManager(project,dir);
  interactive.setRuntimeStorage(RUNTIME_AUTH_CACHE);
  final SvnInteractiveAuthenticationProvider interactiveProvider=provider == null ? new SvnInteractiveAuthenticationProvider(vcs,interactive) : provider;
  interactive.setAuthenticationProvider(interactiveProvider);
  return interactive;
}
