{
  final IdeaSVNConfigFile configFile=new IdeaSVNConfigFile(new File(configDir,SERVERS_FILE_NAME));
  configFile.updateGroups();
  String groupName=SvnAuthenticationManager.getGroupForHost(host,configFile);
  if (StringUtil.isEmptyOrSpaces(groupName)) {
    groupName=host;
    final Map<String,ProxyGroup> groups=configFile.getAllGroups();
    while (StringUtil.isEmptyOrSpaces(groupName) || groups.containsKey(groupName)) {
      groupName+="1";
    }
  }
  final HashMap<String,String> map=new HashMap<String,String>();
  final InetSocketAddress address=((InetSocketAddress)proxyInfo.address());
  map.put(SvnAuthenticationManager.HTTP_PROXY_HOST,address.getHostName());
  map.put(SvnAuthenticationManager.HTTP_PROXY_PORT,String.valueOf(address.getPort()));
  configFile.addGroup(groupName,host + "*",map);
  configFile.save();
}
