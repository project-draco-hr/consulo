{
  final String defaultPath=IdeaSubversionConfigurationDirectory.getPath();
  final String oldEffectivePath=isUseDefaultConfiguation() ? defaultPath : getConfigurationDirectory();
  final String newEffectivePath=newUseDefault ? defaultPath : newConfigurationDirectory;
  boolean directoryChanged=!Comparing.equal(getConfigurationDirectory(),newConfigurationDirectory);
  if (directoryChanged) {
    setConfigurationDirectory(newConfigurationDirectory);
  }
  boolean usageChanged=isUseDefaultConfiguation() != newUseDefault;
  if (usageChanged) {
    setUseDefaultConfiguation(newUseDefault);
  }
  if (directoryChanged || usageChanged) {
    if (!Comparing.equal(oldEffectivePath,newEffectivePath)) {
      clear();
    }
  }
}
