{
  DefaultMutableTreeNode root=node;
  for (TreeNode n=root; n != null; n=n.getParent()) {
    root=(DefaultMutableTreeNode)n;
  }
  int row=0;
  Stack<DefaultMutableTreeNode> nodes=new Stack<DefaultMutableTreeNode>();
  nodes.push(root);
  while (!nodes.isEmpty()) {
    DefaultMutableTreeNode n=nodes.pop();
    n.setUserObject(new RowInfo(row++,n.getUserObject()));
    for (int i=n.getChildCount() - 1; i >= 0; i--) {
      nodes.push((DefaultMutableTreeNode)n.getChildAt(i));
    }
  }
}
