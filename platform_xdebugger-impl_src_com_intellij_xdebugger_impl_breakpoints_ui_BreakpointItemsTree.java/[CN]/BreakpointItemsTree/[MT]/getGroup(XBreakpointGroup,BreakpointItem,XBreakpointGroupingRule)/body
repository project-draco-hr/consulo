{
  Collection<XBreakpointGroup> groups=myGroups.get(groupingRule);
  if (groups == null) {
    groups=Collections.emptyList();
  }
  Collection<XBreakpointGroup> filtered=new ArrayList<XBreakpointGroup>();
  for (  XBreakpointGroup group : groups) {
    TreeNode parent=myGroupNodes.get(group).getParent();
    if ((parentGroup == null && parent == myRoot) || ((BreakpointsGroupNode)parent).getGroup() == parentGroup) {
      filtered.add(group);
    }
  }
  XBreakpointGroup group=groupingRule.getGroup(breakpoint.getBreakpoint(),filtered);
  if (group != null) {
    myGroups.put(groupingRule,group);
  }
  return group;
}
