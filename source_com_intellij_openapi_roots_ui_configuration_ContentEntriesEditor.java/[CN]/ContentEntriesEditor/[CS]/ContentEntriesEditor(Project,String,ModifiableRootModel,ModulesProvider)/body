{
  super(project,model);
  myModuleName=moduleName;
  myModulesProvider=modulesProvider;
  final VirtualFileManagerAdapter fileManagerListener=new VirtualFileManagerAdapter(){
    public void afterRefreshFinish(    boolean asynchonous){
      for (Iterator<ContentEntry> it=myEntryToEditorMap.keySet().iterator(); it.hasNext(); ) {
        final ContentEntryEditor editor=myEntryToEditorMap.get(it.next());
        if (editor != null) {
          editor.update();
        }
      }
    }
  }
;
  final VirtualFileManagerEx fileManager=((VirtualFileManagerEx)VirtualFileManager.getInstance());
  fileManager.addVirtualFileManagerListener(fileManagerListener);
  registerDisposable(new Disposable(){
    public void dispose(){
      fileManager.removeVirtualFileManagerListener(fileManagerListener);
    }
  }
);
}
