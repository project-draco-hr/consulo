{
  if (expression instanceof PsiArrayInitializerExpression) {
    PsiElementFactory factory=JavaPsiFacade.getInstance(expression.getProject()).getElementFactory();
    try {
      final PsiType type=expression.getType();
      if (type != null) {
        String typeString=type.getCanonicalText();
        PsiNewExpression result=(PsiNewExpression)factory.createExpressionFromText("new " + typeString + "{}",expression);
        result.getArrayInitializer().replace(expression);
        return result;
      }
    }
 catch (    IncorrectOperationException e) {
      LOG.error(e);
      return expression;
    }
  }
  return expression;
}
