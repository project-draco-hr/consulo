{
  if (expression instanceof PsiArrayInitializerExpression) {
    PsiElementFactory factory=expression.getManager().getElementFactory();
    try {
      String typeString=expression.getType().getCanonicalText();
      PsiNewExpression result=(PsiNewExpression)factory.createExpressionFromText("new " + typeString + "{}",expression);
      result.getArrayInitializer().replace(expression);
      return result;
    }
 catch (    IncorrectOperationException e) {
      LOG.error(e);
      return expression;
    }
  }
  return expression;
}
