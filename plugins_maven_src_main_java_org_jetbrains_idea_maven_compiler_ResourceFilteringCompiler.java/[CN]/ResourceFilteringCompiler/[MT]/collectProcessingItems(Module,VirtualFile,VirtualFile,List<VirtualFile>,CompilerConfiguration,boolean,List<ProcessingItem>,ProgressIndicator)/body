{
  i.checkCanceled();
  for (  VirtualFile eachSourceFile : currentDir.getChildren()) {
    if (eachSourceFile.isDirectory()) {
      collectProcessingItems(module,sourceRoot,eachSourceFile,outputDirs,config,isSourceRootFiltered,result,i);
    }
 else {
      if (!config.isResourceFile(eachSourceFile.getName()))       continue;
      if (eachSourceFile.getFileType().isBinary())       continue;
      String relPath=VfsUtil.getRelativePath(eachSourceFile,sourceRoot,'/');
      for (      VirtualFile eachOutputDir : outputDirs) {
        VirtualFile outputFile=eachOutputDir.findFileByRelativePath(relPath);
        if (outputFile != null) {
          result.add(new MyProcessingItem(module,eachSourceFile,outputFile,isSourceRootFiltered));
          break;
        }
      }
    }
  }
}
