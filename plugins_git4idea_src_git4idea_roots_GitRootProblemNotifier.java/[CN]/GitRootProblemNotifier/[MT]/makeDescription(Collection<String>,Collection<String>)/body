{
  Function<String,String> rootToDisplayableString=new Function<String,String>(){
    @Override public String fun(    String path){
      if (path.equals(VcsDirectoryMapping.PROJECT_CONSTANT)) {
        return StringUtil.escapeXml(path);
      }
      return FileUtil.toSystemDependentName(path);
    }
  }
;
  StringBuilder description=new StringBuilder();
  if (!invalidRoots.isEmpty()) {
    if (invalidRoots.size() == 1) {
      description.append("The directory " + rootToDisplayableString.fun(invalidRoots.iterator().next()) + " is registered as a Git root, "+ "but no Git repositories were found there.");
    }
 else {
      description.append("The following directories are registered as Git roots, but they are not: <br/>" + StringUtil.join(invalidRoots,rootToDisplayableString,", "));
    }
    description.append("<br/>");
  }
  if (!unregisteredRoots.isEmpty()) {
    if (unregisteredRoots.size() == 1) {
      description.append("The directory " + rootToDisplayableString.fun(unregisteredRoots.iterator().next()) + " is under Git, "+ "but is not registered in the Settings.");
    }
 else {
      description.append("The following directories are roots of Git repositories, but they are not registered in the Settings: <br/>" + StringUtil.join(unregisteredRoots,rootToDisplayableString,", "));
    }
    description.append("<br/>");
  }
  description.append("<a href='configure'>Configure</a>");
  return description.toString();
}
