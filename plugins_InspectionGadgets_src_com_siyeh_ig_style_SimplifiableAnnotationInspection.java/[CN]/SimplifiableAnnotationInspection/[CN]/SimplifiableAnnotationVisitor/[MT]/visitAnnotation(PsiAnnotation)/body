{
  super.visitAnnotation(annotation);
  final PsiAnnotationParameterList parameterList=annotation.getParameterList();
  final PsiJavaCodeReferenceElement nameReferenceElement=annotation.getNameReferenceElement();
  if (nameReferenceElement == null) {
    return;
  }
  final PsiNameValuePair[] attributes=parameterList.getAttributes();
  final PsiElement[] annotationChildren=annotation.getChildren();
  if (annotationChildren.length >= 2) {
    final PsiElement child=annotationChildren[1];
    if (child instanceof PsiWhiteSpace) {
      final String replacementText;
      if (attributes.length > 0) {
        replacementText='@' + nameReferenceElement.getText() + parameterList.getText();
      }
 else {
        replacementText='@' + nameReferenceElement.getText();
      }
      registerError(annotation,replacementText);
      return;
    }
  }
  if (attributes.length == 0) {
    final PsiElement[] children=parameterList.getChildren();
    if (children.length <= 0) {
      return;
    }
    registerError(annotation,'@' + nameReferenceElement.getText());
  }
 else   if (attributes.length == 1) {
    final PsiNameValuePair attribute=attributes[0];
    @NonNls final String name=attribute.getName();
    if (!"value".equals(name)) {
      return;
    }
    registerError(annotation,'@' + nameReferenceElement.getText() + '('+ attribute.getValue().getText()+ ')');
  }
}
