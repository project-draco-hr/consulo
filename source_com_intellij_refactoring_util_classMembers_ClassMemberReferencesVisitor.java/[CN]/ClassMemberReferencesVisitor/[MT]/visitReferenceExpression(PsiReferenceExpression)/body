{
  PsiExpression qualifier=expression.getQualifierExpression();
  if (qualifier != null && !(qualifier instanceof PsiThisExpression) && !(qualifier instanceof PsiSuperExpression)) {
    qualifier.accept(this);
    if (!(qualifier instanceof PsiReferenceExpression) || !(((PsiReferenceExpression)qualifier).resolve() instanceof PsiClass)) {
      return;
    }
  }
  PsiElement referencedElement=expression.resolve();
  if (referencedElement instanceof PsiMember) {
    PsiClass containingClass=((PsiMember)referencedElement).getContainingClass();
    if (isPartOf(myClass,containingClass)) {
      visitClassMemberReferenceExpression((PsiMember)referencedElement,expression);
    }
  }
}
