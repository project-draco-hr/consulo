{
  final PsiClass actualClass=PsiUtil.resolveClassInClassTypeOnly(type);
  if (actualClass != null) {
    return ContainerUtil.findAll(candidates,new Condition<PsiClass>(){
      @Override public boolean value(      PsiClass psiClass){
        return InheritanceUtil.isInheritorOrSelf(psiClass,actualClass,true);
      }
    }
);
  }
  return candidates;
}
