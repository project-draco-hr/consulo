{
  URL iconURL=Rearranger.class.getClassLoader().getResource("com/wrq/rearranger/" + iconName + ".png");
  if (iconURL == null) {
    if (true) {
      try {
        URLClassLoader cl=new URLClassLoader(new URL[]{new File("/rearranger/lib/rearranger.jar").toURL(),new File("/IntelliJ-IDEA-4.0/lib/icons.jar").toURL()});
        iconURL=cl.getResource("com/wrq/rearranger/" + iconName + ".png");
        if (iconURL == null) {
          iconURL=cl.getResource(iconName + ".png");
        }
      }
 catch (      MalformedURLException e) {
        iconURL=null;
      }
    }
  }
  if (iconURL != null) {
    final ImageIcon imageIcon=new ImageIcon(iconURL,iconName);
    return imageIcon;
  }
  LOG.debug("getIcon: getResource() could not locate URL for com/wrq/rearranger/" + iconName + ".png or "+ iconName+ ".png in icons.jar");
  return null;
}
