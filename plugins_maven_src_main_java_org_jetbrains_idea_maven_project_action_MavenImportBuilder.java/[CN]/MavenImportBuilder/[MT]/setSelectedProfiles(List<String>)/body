{
  myMavenProjectModel=null;
  for (  Map.Entry<VirtualFile,Set<String>> each : myFilesWithProfiles.entrySet()) {
    each.getValue().retainAll(profiles);
  }
  return runConfigurationProcess(ProjectBundle.message("maven.scanning.projects"),new MavenProcess.MavenTask(){
    public void run(    MavenProcess p) throws CanceledException {
      createMavenProjectModel(p);
      p.setText2("");
    }
  }
);
}
