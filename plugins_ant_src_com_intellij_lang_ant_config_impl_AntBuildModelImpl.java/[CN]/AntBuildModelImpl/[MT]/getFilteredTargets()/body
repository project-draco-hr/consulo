{
  final List<AntBuildTargetBase> filtered=new ArrayList<AntBuildTargetBase>();
  for (  final AntBuildTargetBase buildTarget : getTargetsList()) {
    if (myFile.isTargetVisible(buildTarget)) {
      filtered.add(buildTarget);
    }
  }
  return (filtered.size() == 0) ? AntBuildTargetBase.EMPTY_ARRAY : filtered.toArray(new AntBuildTargetBase[filtered.size()]);
}
