{
  Lexer newLexer=null;
  if (hasSeenStyle()) {
    if (styleLexer == null) {
      styleLexer=(ourStyleFileType != null) ? SyntaxHighlighterFactory.getSyntaxHighlighter(ourStyleFileType,null,null).getHighlightingLexer() : null;
    }
    newLexer=styleLexer;
  }
 else   if (hasSeenScript()) {
    if (scriptLexer == null) {
      if (hasSeenTag()) {
        HtmlScriptContentProvider provider=findScriptContentProvider(scriptType);
        if (provider != null) {
          scriptLexer=provider.getHighlightingLexer();
        }
 else {
          scriptLexer=SyntaxHighlighterFactory.getSyntaxHighlighter(StdLanguages.TEXT,null,null).getHighlightingLexer();
        }
      }
 else       if (hasSeenAttribute()) {
        SyntaxHighlighter syntaxHighlighter=(ourInlineScriptFileType != null) ? SyntaxHighlighterFactory.getSyntaxHighlighter(ourInlineScriptFileType,null,null) : null;
        scriptLexer=syntaxHighlighter != null ? syntaxHighlighter.getHighlightingLexer() : null;
      }
    }
    newLexer=scriptLexer;
  }
 else {
    newLexer=createELLexer(newLexer);
  }
  if (newLexer != null) {
    embeddedLexer=newLexer;
  }
}
