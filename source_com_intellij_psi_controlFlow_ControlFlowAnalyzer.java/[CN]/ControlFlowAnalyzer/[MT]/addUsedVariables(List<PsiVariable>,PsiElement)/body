{
  if (scope instanceof PsiReferenceExpression) {
    PsiVariable variable=getUsedVariable((PsiReferenceExpression)scope);
    if (variable != null) {
      if (!array.contains(variable)) {
        array.add(variable);
      }
    }
  }
  PsiElement[] children=scope.getChildren();
  for (int i=0; i < children.length; i++) {
    addUsedVariables(array,children[i]);
  }
}
