{
  startElement(statement);
  PsiStatement exitedStatement=statement.findExitedStatement();
  if (exitedStatement != null) {
    final Instruction instruction;
    final PsiElement finallyBlock=findEnclosingFinallyBlockElement(statement,exitedStatement);
    final int finallyStartOffset=finallyBlock == null ? -1 : myCurrentFlow.getStartOffset(finallyBlock);
    if (finallyBlock != null && finallyStartOffset != -1) {
      CallInstruction callInstruction=(CallInstruction)myCurrentFlow.getInstructionsList().get(finallyStartOffset - 2);
      instruction=new ReturnInstruction(0,myCurrentFlow.myStack,callInstruction);
    }
 else {
      instruction=new GoToInstruction(0);
    }
    myCurrentFlow.addInstruction(instruction);
    addElementOffsetLater(exitedStatement,false);
  }
  finishElement(statement);
}
