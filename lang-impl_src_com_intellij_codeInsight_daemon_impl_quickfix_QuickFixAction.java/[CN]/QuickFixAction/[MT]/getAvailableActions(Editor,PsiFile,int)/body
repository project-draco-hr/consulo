{
  int offset=editor.getCaretModel().getOffset();
  final Project project=file.getProject();
  PsiDocumentManager.getInstance(project).commitAllDocuments();
  List<HighlightInfo.IntentionActionDescriptor> result=new ArrayList<HighlightInfo.IntentionActionDescriptor>();
  HighlightInfo[] infos=DaemonCodeAnalyzerImpl.getHighlightsAround(editor.getDocument(),project,offset);
  int[] groups=passId == -1 ? null : new int[]{passId};
  for (  HighlightInfo info : infos) {
    addAvailableActionsForGroups(info,editor,file,result,groups,offset);
  }
  return result;
}
