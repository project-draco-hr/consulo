{
  if (!processed.add(module))   return;
  for (  ClasspathItem item : module.getClasspath(kind,false)) {
    if (item instanceof Module.ModuleSourceEntry) {
      final Module dep=((Module.ModuleSourceEntry)item).getModule();
      addFiles(sourcePaths,dep.getSourceRoots());
      if (kind.isTestsIncluded()) {
        addFiles(sourcePaths,dep.getTestRoots());
      }
    }
 else     if (item instanceof Module) {
      collectSourcePaths(module,kind,sourcePaths,processed);
    }
  }
}
