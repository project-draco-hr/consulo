{
  CommittedChangeList list=null;
  final TreePath selectionPath=myChangesTree.getSelectionPath();
  if (selectionPath != null) {
    DefaultMutableTreeNode node=(DefaultMutableTreeNode)selectionPath.getLastPathComponent();
    if (node.getUserObject() instanceof CommittedChangeList) {
      list=(CommittedChangeList)node.getUserObject();
    }
  }
  if (list != mySelectedChangeList) {
    mySelectedChangeList=list;
    myChangesView.setChangesToDisplay(list != null ? new ArrayList<Change>(list.getChanges()) : Collections.<Change>emptyList());
  }
}
