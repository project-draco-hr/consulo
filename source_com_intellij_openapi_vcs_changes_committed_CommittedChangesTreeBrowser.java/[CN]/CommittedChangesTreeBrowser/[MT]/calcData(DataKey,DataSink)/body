{
  if (key.equals(DataKeys.CHANGES)) {
    final CommittedChangeList list=getSelectedChangeList();
    if (list != null) {
      final Collection<Change> changes=list.getChanges();
      sink.put(DataKeys.CHANGES,changes.toArray(new Change[changes.size()]));
    }
  }
 else   if (key.equals(DataKeys.CHANGE_LISTS)) {
    final List<CommittedChangeList> lists=getSelectedChangeLists();
    if (lists.size() > 0) {
      sink.put(DataKeys.CHANGE_LISTS,lists.toArray(new CommittedChangeList[lists.size()]));
    }
  }
 else   if (key.equals(DataKeys.COPY_PROVIDER)) {
    sink.put(DataKeys.COPY_PROVIDER,myCopyProvider);
  }
}
