{
  super(parent,true);
  mySettings=settings;
  myLibraryEditor=libraryEditor;
  myLibraryRootsComponent=new LibraryRootsComponent(null,libraryEditor);
  myLibraryRootsComponent.resetProperties();
  Disposer.register(getDisposable(),myLibraryRootsComponent);
  final boolean newLibrary=libraryEditor instanceof NewLibraryEditor;
  setTitle((newLibrary ? "Create" : "Edit") + " Library");
  myBuilder=new FormBuilder();
  myNameAndLevelPanel=new LibraryNameAndLevelPanel(myBuilder,libraryEditor.getName(),newLibrary ? settings.getNewLibraryLevel() : null);
  init();
}
