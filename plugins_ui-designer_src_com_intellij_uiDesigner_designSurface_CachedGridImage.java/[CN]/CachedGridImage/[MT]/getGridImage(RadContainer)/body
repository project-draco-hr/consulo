{
  CachedGridImage gridImage=null;
  SoftReference<CachedGridImage> imageRef=(SoftReference<CachedGridImage>)container.getDelegee().getClientProperty(CACHED_GRID_IMAGE_KEY);
  if (imageRef != null) {
    gridImage=imageRef.get();
  }
  if (gridImage != null && gridImage.sizeEquals(container)) {
    gridImage.update(container);
  }
 else {
    gridImage=new CachedGridImage(container);
    container.getDelegee().putClientProperty(CACHED_GRID_IMAGE_KEY,new SoftReference<CachedGridImage>(gridImage));
  }
  return gridImage.getImage();
}
