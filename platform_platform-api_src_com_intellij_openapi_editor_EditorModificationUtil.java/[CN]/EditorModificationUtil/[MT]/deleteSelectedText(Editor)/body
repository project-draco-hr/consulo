{
  SelectionModel selectionModel=editor.getSelectionModel();
  if (selectionModel.hasBlockSelection())   deleteBlockSelection(editor);
  if (!selectionModel.hasSelection())   return;
  int selectionStart=selectionModel.getSelectionStart();
  int selectionEnd=selectionModel.getSelectionEnd();
  editor.getCaretModel().moveToOffset(selectionStart);
  selectionModel.removeSelection();
  editor.getDocument().deleteString(selectionStart,selectionEnd);
  editor.getScrollingModel().scrollToCaret(ScrollType.RELATIVE);
}
