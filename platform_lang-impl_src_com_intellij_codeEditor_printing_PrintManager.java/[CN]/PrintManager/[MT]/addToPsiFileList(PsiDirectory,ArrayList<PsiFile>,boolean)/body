{
  PsiFile[] files=psiDirectory.getFiles();
  Collections.addAll(filesList,files);
  if (isRecursive) {
    PsiDirectory[] directories=psiDirectory.getSubdirectories();
    for (    PsiDirectory directory : directories) {
      if (!ProjectUtil.DIRECTORY_BASED_PROJECT_DIR.equals(directory.getName())) {
        addToPsiFileList(directory,filesList,isRecursive);
      }
    }
  }
}
