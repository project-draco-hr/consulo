{
  PsiFile file=position.getFile();
  if (!(file instanceof GroovyFileBase))   return null;
  PsiElement element=file.findElementAt(position.getOffset());
  while (true) {
    element=PsiTreeUtil.getParentOfType(element,GrTypeDefinition.class);
    if (element == null || !((GrTypeDefinition)element).isAnonymous()) {
      return (GrTypeDefinition)element;
    }
  }
}
