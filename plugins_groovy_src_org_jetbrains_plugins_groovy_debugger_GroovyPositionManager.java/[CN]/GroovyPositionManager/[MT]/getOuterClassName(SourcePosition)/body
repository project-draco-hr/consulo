{
  return ApplicationManager.getApplication().runReadAction(new Computable<String>(){
    @Nullable public String compute(){
      GroovyPsiElement sourceImage=findReferenceTypeSourceImage(position);
      if (sourceImage instanceof GrTypeDefinition) {
        return ((GrTypeDefinition)sourceImage).getQualifiedName();
      }
 else       if (sourceImage == null) {
        return getScriptQualifiedName(position);
      }
      return null;
    }
  }
);
}
