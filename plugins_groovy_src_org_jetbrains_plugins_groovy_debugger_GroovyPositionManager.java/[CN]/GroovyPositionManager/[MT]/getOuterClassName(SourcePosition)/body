{
  AccessToken accessToken=ApplicationManager.getApplication().acquireReadActionLock();
  try {
    GroovyPsiElement sourceImage=findReferenceTypeSourceImage(position);
    if (sourceImage instanceof GrTypeDefinition) {
      return getClassNameForJvm((GrTypeDefinition)sourceImage);
    }
 else     if (sourceImage == null) {
      return getScriptQualifiedName(position);
    }
    return null;
  }
  finally {
    accessToken.finish();
  }
}
