{
  return ApplicationManager.getApplication().runReadAction(new Computable<String>(){
    @Nullable public String compute(){
      GrTypeDefinition typeDefinition=findEnclosingTypeDefinition(position);
      if (typeDefinition != null) {
        return typeDefinition.getQualifiedName();
      }
      return getScriptQualifiedName(position);
    }
  }
);
}
