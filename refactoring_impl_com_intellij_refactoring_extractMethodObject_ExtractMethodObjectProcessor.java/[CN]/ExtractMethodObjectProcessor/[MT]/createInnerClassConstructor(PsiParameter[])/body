{
  final PsiMethod constructor=myElementFactory.createConstructor();
  final PsiParameterList parameterList=constructor.getParameterList();
  for (  PsiParameter parameter : parameters) {
    final PsiModifierList parameterModifierList=parameter.getModifierList();
    LOG.assertTrue(parameterModifierList != null);
    final String parameterName=parameter.getName();
    LOG.assertTrue(parameterName != null);
    PsiParameter parm=myElementFactory.createParameter(parameterName,parameter.getType());
    if (CodeStyleSettingsManager.getSettings(myProject).GENERATE_FINAL_PARAMETERS) {
      final PsiModifierList modifierList=parm.getModifierList();
      LOG.assertTrue(modifierList != null);
      modifierList.setModifierProperty(PsiModifier.FINAL,true);
    }
    parameterList.add(parm);
    final PsiField field=createField(parm,constructor,parameterModifierList.hasModifierProperty(PsiModifier.FINAL));
    for (    PsiReference reference : ReferencesSearch.search(parameter)) {
      reference.handleElementRename(field.getName());
    }
  }
  myInnerClass.add(constructor);
}
