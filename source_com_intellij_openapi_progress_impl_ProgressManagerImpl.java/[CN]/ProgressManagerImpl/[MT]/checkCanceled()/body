{
  if (ourNeedToCheckCancel) {
    ourNeedToCheckCancel=false;
    final ProgressIndicator progress=getInstance().getProgressIndicator();
    if (progress != null) {
      try {
      }
 catch (      ProcessCanceledException e) {
        if (!Thread.holdsLock(PsiLock.LOCK)) {
          progress.checkCanceled();
        }
      }
    }
  }
}
