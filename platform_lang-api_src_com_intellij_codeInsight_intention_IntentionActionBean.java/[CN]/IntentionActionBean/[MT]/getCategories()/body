{
  if (categoryKey != null) {
    final String baseName=bundleName != null ? bundleName : ((IdeaPluginDescriptor)myPluginDescriptor).getResourceBundleBaseName();
    if (baseName == null) {
      LOG.error("No resource bundle specified for " + myPluginDescriptor);
    }
    final ResourceBundle bundle=ResourceBundle.getBundle(baseName,Locale.getDefault(),myPluginDescriptor.getPluginClassLoader());
    final String[] keys=categoryKey.split("/");
    if (keys.length > 1) {
      return ContainerUtil.map2Array(keys,String.class,new Function<String,String>(){
        public String fun(        final String s){
          return CommonBundle.message(bundle,s);
        }
      }
);
    }
    category=CommonBundle.message(bundle,categoryKey);
  }
  if (category == null)   return null;
  return category.split("/");
}
