{
  if (myOwner != null) {
    PsiJavaCodeReferenceElementImpl refElement=(PsiJavaCodeReferenceElementImpl)getCachedMirrorReference();
    if (refElement == null) {
      CompositeElement treeElement=getTreeElement();
      if (treeElement != null) {
        refElement=(PsiJavaCodeReferenceElementImpl)treeElement.findChildByRole(ChildRole.IMPORT_REFERENCE);
      }
 else {
        final FileElement holderElement=DummyHolderFactory.createHolder(myManager,this).getTreeElement();
        final String refText=getRepositoryManager().getFileView().getImportQualifiedName(getRepositoryId(),getIndex());
        if (refText == null)         return null;
        refElement=(PsiJavaCodeReferenceElementImpl)Parsing.parseJavaCodeReferenceText(myManager,refText,holderElement.getCharTable());
        if (refElement == null)         return null;
        TreeUtil.addChildren(holderElement,refElement);
        refElement.setKindWhenDummy(isOnDemand() ? PsiJavaCodeReferenceElementImpl.CLASS_FQ_OR_PACKAGE_NAME_KIND : PsiJavaCodeReferenceElementImpl.CLASS_FQ_NAME_KIND);
      }
      setCachedMirrorReference(refElement);
    }
    return refElement;
  }
 else {
    return (PsiJavaCodeReferenceElement)calcTreeElement().findChildByRoleAsPsiElement(ChildRole.IMPORT_REFERENCE);
  }
}
