{
  if (myOwner != null) {
    if (getCachedMirrorReference() == null) {
      CompositeElement treeElement=getTreeElement();
      if (treeElement != null) {
        setCachedMirrorReference((PsiJavaCodeReferenceElementImpl)treeElement.findChildByRole(ChildRole.IMPORT_REFERENCE));
      }
 else {
        final FileElement holderElement=new DummyHolder(myManager,this).getTreeElement();
        final String refText=getRepositoryManager().getFileView().getImportQualifiedName(getRepositoryId(),getIndex());
        if (refText == null)         return null;
        PsiJavaCodeReferenceElementImpl mirrorRef=(PsiJavaCodeReferenceElementImpl)Parsing.parseJavaCodeReferenceText(myManager,refText,holderElement.getCharTable());
        if (mirrorRef == null)         return null;
        setCachedMirrorReference(mirrorRef);
        TreeUtil.addChildren(holderElement,mirrorRef);
        mirrorRef.setKindWhenDummy(isOnDemand() ? PsiJavaCodeReferenceElementImpl.CLASS_FQ_OR_PACKAGE_NAME_KIND : PsiJavaCodeReferenceElementImpl.CLASS_FQ_NAME_KIND);
      }
    }
    return getCachedMirrorReference();
  }
 else {
    return (PsiJavaCodeReferenceElement)calcTreeElement().findChildByRoleAsPsiElement(ChildRole.IMPORT_REFERENCE);
  }
}
