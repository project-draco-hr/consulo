{
  CompilerConfiguration configuration=CompilerConfiguration.getInstance(myProject);
  if (CompilerConfiguration.JIKES.equals(configuration.getDefaultCompiler())) {
    return JIKES_BACKEND;
  }
 else {
    boolean runEmbedded=ApplicationManager.getApplication().isUnitTestMode() ? !JavacSettings.getInstance(myProject).isTestsUseExternalCompiler() : Boolean.parseBoolean(System.getProperty(PROPERTY_IDEA_USE_EMBEDDED_JAVAC));
    return runEmbedded ? JAVAC_EMBEDDED_BACKEND : JAVAC_EXTERNAL_BACKEND;
  }
}
