{
  final BackendCompiler backEndCompiler=getBackEndCompiler();
  final BackendCompilerWrapper wrapper=new BackendCompilerWrapper(myProject,files,(CompileContextEx)context,backEndCompiler);
  TranslatingCompiler.OutputItem[] outputItems;
  try {
    outputItems=wrapper.compile();
  }
 catch (  CompilerException e) {
    outputItems=TranslatingCompiler.EMPTY_OUTPUT_ITEM_ARRAY;
    context.addMessage(CompilerMessageCategory.ERROR,e.getMessage(),null,-1,-1);
  }
catch (  CacheCorruptedException e) {
    LOG.info(e);
    context.requestRebuildNextTime(e.getMessage());
    outputItems=TranslatingCompiler.EMPTY_OUTPUT_ITEM_ARRAY;
  }
  return new ExitStatusImpl(outputItems,wrapper.getFilesToRecompile());
}
