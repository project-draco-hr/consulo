{
  final ArrayList<WrapImpl> result=new ArrayList<WrapImpl>();
  AbstractBlockWrapper current=this;
  while (current != null && current.getStartOffset() == getStartOffset()) {
    final WrapImpl wrap=(WrapImpl)current.getBlock().getWrap();
    if (wrap != null && !result.contains(wrap))     result.add(0,wrap);
    current=current.myParent;
  }
  return result.toArray(new WrapImpl[result.size()]);
}
