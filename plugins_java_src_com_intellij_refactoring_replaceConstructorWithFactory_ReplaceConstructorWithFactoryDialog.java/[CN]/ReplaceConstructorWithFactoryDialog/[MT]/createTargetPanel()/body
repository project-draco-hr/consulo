{
  JPanel targetClassPanel=new JPanel(new BorderLayout());
  if (!myIsInner) {
    JLabel label=new JLabel(RefactoringBundle.message("replace.constructor.with.factory.target.fq.name"));
    label.setLabelFor(myTfTargetClassName);
    targetClassPanel.add(label,BorderLayout.NORTH);
    targetClassPanel.add(myTfTargetClassName,BorderLayout.CENTER);
    myTfTargetClassName.setText(myContainingClass.getQualifiedName());
  }
 else {
    ArrayList<String> list=new ArrayList<String>();
    PsiElement parent=myContainingClass;
    while (parent instanceof PsiClass) {
      list.add(((PsiClass)parent).getQualifiedName());
      parent=parent.getParent();
    }
    myTargetClassNameCombo=new JComboBox(ArrayUtil.toStringArray(list));
    JLabel label=new JLabel(RefactoringBundle.message("replace.constructor.with.factory.target.fq.name"));
    label.setLabelFor(myTargetClassNameCombo.getEditor().getEditorComponent());
    targetClassPanel.add(label,BorderLayout.NORTH);
    targetClassPanel.add(myTargetClassNameCombo,BorderLayout.CENTER);
  }
  return targetClassPanel;
}
