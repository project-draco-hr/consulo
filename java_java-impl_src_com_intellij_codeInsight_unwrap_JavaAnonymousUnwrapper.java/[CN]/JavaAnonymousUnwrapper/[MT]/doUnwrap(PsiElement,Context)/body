{
  PsiElement from=findElementToExtractFrom(element);
  for (  PsiMethod m : ((PsiAnonymousClass)element).getMethods()) {
    context.extractFromCodeBlock(m.getBody(),from);
  }
  PsiElement next=from.getNextSibling();
  if (next instanceof PsiJavaToken && ((PsiJavaToken)next).getTokenType() == JavaTokenType.SEMICOLON) {
    context.deleteExactly(from.getNextSibling());
  }
  context.deleteExactly(from);
}
