{
  List<LineMarkerInfo> result=new SmartList<LineMarkerInfo>();
  for (int i=0; i < markers.size(); i++) {
    MergeableLineMarkerInfo marker=markers.get(i);
    List<MergeableLineMarkerInfo> toMerge=new SmartList<MergeableLineMarkerInfo>();
    for (int k=markers.size() - 1; k > i; k--) {
      MergeableLineMarkerInfo current=markers.get(k);
      if (marker.canMergeWith(current)) {
        toMerge.add(0,current);
        markers.remove(k);
      }
    }
    if (toMerge.isEmpty()) {
      result.add(marker);
    }
 else {
      toMerge.add(0,marker);
      result.add(new MyLineMarkerInfo(toMerge));
    }
  }
  return result;
}
