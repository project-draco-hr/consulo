{
  final List<LineMarkerInfo> result=new ArrayList<LineMarkerInfo>();
  final HashSet<LineMarkerInfo> processed=new HashSet<LineMarkerInfo>();
  for (  MergeableLineMarkerInfo marker : markers) {
    if (processed.contains(marker))     continue;
    processed.add(marker);
    final List<MergeableLineMarkerInfo> toMerge=new ArrayList<MergeableLineMarkerInfo>();
    for (    MergeableLineMarkerInfo current : markers) {
      if (!processed.contains(current) && marker.canMergeWith(current)) {
        toMerge.add(current);
        processed.add(current);
      }
    }
    if (toMerge.isEmpty()) {
      result.add(marker);
    }
 else {
      toMerge.add(marker);
      result.add(new MyLineMarkerInfo(toMerge));
    }
  }
  return result;
}
