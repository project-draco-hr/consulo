{
  if (getCurrentScriptFile() != null)   return true;
  try {
    final String text=myState.currentScript;
    if (text == null) {
      throw new Exception("Cannot create file with name:" + text);
    }
    final File file=new File(text);
    final File parentFile=file.getParentFile();
    try {
      final VirtualFile parent=VfsUtil.createDirectories(parentFile.getAbsolutePath());
      parent.createChildData(this,file.getName());
    }
 catch (    IOException e) {
      throw new Exception(e.getMessage());
    }
    return true;
  }
 catch (  Exception e) {
    Messages.showErrorDialog(e.getMessage(),"Cannot Save File");
    return false;
  }
}
