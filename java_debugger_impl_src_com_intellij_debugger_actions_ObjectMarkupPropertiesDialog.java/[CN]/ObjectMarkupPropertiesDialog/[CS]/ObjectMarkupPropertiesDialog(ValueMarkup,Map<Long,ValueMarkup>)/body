{
  super(true);
  myAdditional=additional;
  setTitle("Select object label");
  setModal(true);
  myTextMarkupField=new JTextField(30);
  myCbMarkAdditionalFields=new JCheckBox("Mark values referenced from constant fields",ourMarkCbSavedState == null ? additional.size() > 0 : ourMarkCbSavedState);
  myCbMarkAdditionalFields.addItemListener(new ItemListener(){
    public void itemStateChanged(    ItemEvent e){
      ourMarkCbSavedState=myCbMarkAdditionalFields.isSelected();
    }
  }
);
  myColorSample=new SimpleColoredComponent();
  myUpdateAlarm=new Alarm(Alarm.ThreadToUse.SWING_THREAD);
  myAttributes=createAttributes(suggestion.getColor());
  SwingUtilities.invokeLater(new Runnable(){
    public void run(){
      myTextMarkupField.setText(suggestion.getText().trim());
      updateLabelSample(0);
    }
  }
);
  init();
}
