{
  myCodeFragment=(PsiCodeFragment)value;
  myDocument=PsiDocumentManager.getInstance(myProject).getDocument(myCodeFragment);
  myEditorTextField=createEditorField(myDocument);
  if (myEditorTextField != null) {
    for (    DocumentListener listener : myListeners) {
      myEditorTextField.addDocumentListener(listener);
    }
    myEditorTextField.setDocument(myDocument);
    if (UIUtil.isTableDecorationEnabled(table)) {
      final Color cellBg=UIUtil.getTableCellBackground(table,row);
      myEditorTextField.setBackground(cellBg);
      myEditorTextField.setBorder(new LineBorder(cellBg));
    }
  }
  return myEditorTextField;
}
