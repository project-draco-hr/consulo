{
  GrTypeElement typeElement=((GrVariableDeclaration)getParent()).getTypeElementGroovy();
  if (typeElement != null)   return typeElement.getType();
  GrExpression initializer=getInitializerGroovy();
  if (initializer != null) {
    if (!(initializer instanceof GrReferenceExpression) || !initializer.getText().equals(getName())) {
      PsiType initializerType=initializer.getType();
      if (initializerType != null)       return initializerType;
    }
  }
  return null;
}
