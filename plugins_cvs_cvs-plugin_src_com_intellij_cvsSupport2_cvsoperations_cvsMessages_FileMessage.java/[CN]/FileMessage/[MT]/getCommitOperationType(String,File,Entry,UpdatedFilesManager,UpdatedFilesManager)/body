{
  if (commitOperationType.equals(U_COMMIT_OPERATION_TYPE)) {
    VirtualFile virtualParent=CvsVfsUtil.getParentFor(file);
    if (virtualParent == null)     return CREATED;
    if (updatedFilesManager.isNewlyCreatedEntryFor(virtualParent,file.getName())) {
      return CREATED;
    }
    return UPDATING;
  }
 else   if (commitOperationType.equals(P_COMMIT_OPERATION_TYPE)) {
    return PATCHED;
  }
 else   if (commitOperationType.equals(A_COMMIT_OPERATION_TYPE)) {
    return LOCALLY_ADDED;
  }
 else   if (commitOperationType.equals(R_COMMIT_OPERATION_TYPE)) {
    return LOCALLY_REMOVED;
  }
 else   if (commitOperationType.equals(M_COMMIT_OPERATION_TYPE)) {
    if (mergedFiles.isMerged(file)) {
      return MERGED;
    }
 else {
      return MODIFIED;
    }
  }
 else   if (commitOperationType.equals(CONFLICT)) {
    if ((entry != null && entry.isResultOfMerge()) || mergedFiles.isMerged(file)) {
      return MERGED_WITH_CONFLICTS;
    }
 else     if (mergedFiles.isCreatedBySecondParty(file)) {
      return CREATED_BY_SECOND_PARTY;
    }
 else     if (CvsUtil.isLocallyRemoved(file)) {
      return LOCALLY_REMOVED_CONFLICT;
    }
 else {
      return REMOVED_FROM_SERVER_CONFLICT;
    }
  }
 else   if (commitOperationType.equals(Y_COMMIT_OPERATION_TYPE)) {
    return REMOVED_FROM_REPOSITORY;
  }
 else   if (commitOperationType.equals("?")) {
    return NOT_IN_REPOSITORY;
  }
 else {
    return UNKNOWN;
  }
}
