{
  ApplicationManager.getApplication().runReadAction(new Runnable(){
    @Override public void run(){
synchronized (myLock) {
        ++myCounter;
        for (        final VcsDirtyScope scope : scopes) {
          final Set<CurrentKey> toRemove=new HashSet<>();
          myCurrentRevisionsCache.iterateKeys(new Consumer<CurrentKey>(){
            @Override public void consume(            CurrentKey currentKey){
              if (scope.belongsTo(currentKey.getPath())) {
                toRemove.add(currentKey);
              }
            }
          }
);
          for (          CurrentKey key : toRemove) {
            myCurrentRevisionsCache.remove(key);
          }
        }
      }
    }
  }
);
}
