{
  if (filter == null) {
    return CollapsedVisibleGraph.newInstance(getBekPermanentGraphInfo(sortType),headsOfVisibleBranches);
  }
 else {
    return FilterVisibleGraph.newInstance(getBekPermanentGraphInfo(sortType),headsOfVisibleBranches,filter);
  }
}
