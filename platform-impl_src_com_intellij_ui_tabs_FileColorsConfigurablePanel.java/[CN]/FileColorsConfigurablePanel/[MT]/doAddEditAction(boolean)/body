{
  FileColorConfiguration configuration=null;
  if (edit) {
    final FileColorConfiguration[] selectedConfigurations=myColorsTable.getSelectedConfigurations();
    if (selectedConfigurations.length != 1) {
      return;
    }
    configuration=selectedConfigurations[0];
  }
  final FileColorConfigurationEditDialog dialog=new FileColorConfigurationEditDialog(myManager,configuration);
  dialog.show();
  if (DialogWrapper.OK_EXIT_CODE == dialog.getExitCode()) {
    if (!edit) {
      myColorsTable.addConfiguration(dialog.getConfiguration(),dialog.isShared());
    }
 else {
      myColorsTable.setShared(dialog.getConfiguration(),dialog.isShared());
    }
  }
}
