{
  final PsiJavaCodeReferenceElement classReference=expression.getClassReference();
  if (classReference == null) {
    final PsiAnonymousClass anonymousClass=expression.getAnonymousClass();
    if (anonymousClass == null) {
      registerError(expression,infos);
    }
 else {
      final PsiJavaCodeReferenceElement baseClassReference=anonymousClass.getBaseClassReference();
      registerError(baseClassReference,infos);
    }
  }
 else {
    registerError(classReference,infos);
  }
}
