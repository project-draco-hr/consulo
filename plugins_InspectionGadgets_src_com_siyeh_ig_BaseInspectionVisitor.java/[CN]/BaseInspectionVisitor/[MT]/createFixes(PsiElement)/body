{
  if (!onTheFly && inspection.buildQuickFixesOnlyForOnTheFlyErrors()) {
    return null;
  }
  final InspectionGadgetsFix[] fixes=inspection.buildFixes(location);
  if (fixes != null) {
    for (    InspectionGadgetsFix fix : fixes) {
      location.putCopyableUserData(InspectionGadgetsFix.FIX_KEY,fix.getName());
    }
    return fixes;
  }
  final InspectionGadgetsFix fix=inspection.buildFix(location);
  if (fix == null) {
    return null;
  }
  location.putCopyableUserData(InspectionGadgetsFix.FIX_KEY,fix.getName());
  return new InspectionGadgetsFix[]{fix};
}
