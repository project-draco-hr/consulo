{
  try {
    final String packaging=StringUtil.notNullize(template.getPackaging());
    final ArrayList<MavenArtifactInfo> result=new ArrayList<MavenArtifactInfo>();
    final String name=StringUtil.join(Arrays.asList(template.getGroupId(),template.getArtifactId(),template.getVersion()),":");
    final SearchResults results=new Endpoint.DataIndex(url).getArtifactlistAsSearchResults(name,template.getGroupId(),template.getArtifactId(),template.getVersion(),null,template.getClassNames());
    boolean tooManyResults=results.isTooManyResults();
    final SearchResults.Data data=results.getData();
    if (data != null) {
      for (      ArtifactType each : data.getArtifact()) {
        if (!Comparing.equal(each.packaging,packaging))         continue;
        result.add(convertArtifactInfo(each));
      }
    }
    if (tooManyResults)     result.add(null);
    return result;
  }
 catch (  JAXBException e) {
    throw new IOException(e);
  }
}
