{
  MavenDomDependency dependency=DomUtil.findDomElement(file.findElementAt(editor.getCaretModel().getOffset()),MavenDomDependency.class);
  if (dependency != null && !isManagedDependency(dependency)) {
    Set<MavenDomProjectModel> models=getParentProjects(project,file);
    if (models.size() == 0)     return;
    SelectMavenProjectDialog dialog=new SelectMavenProjectDialog(project,models);
    dialog.show();
    if (dialog.getExitCode() == DialogWrapper.OK_EXIT_CODE) {
      final MavenDomProjectModel selectedProject=dialog.getSelectedProject();
      new WriteCommandAction(project){
        @Override protected void run(        Result result) throws Throwable {
        }
      }
.execute();
    }
  }
}
