{
  myProfile.setDevice(device == null ? null : device.getName());
  List<LayoutDeviceConfiguration> configurations;
  if (device == null) {
    configurations=Collections.emptyList();
  }
 else {
    configurations=device.getConfigurations();
    if (configurations == null) {
      configurations=Collections.emptyList();
    }
  }
  LayoutDeviceConfiguration newConfiguration=null;
  if (configurationName != null) {
    for (    LayoutDeviceConfiguration configuration : configurations) {
      if (configurationName.equals(configuration.getName())) {
        newConfiguration=configuration;
        break;
      }
    }
  }
  if (newConfiguration == null && !configurations.isEmpty()) {
    newConfiguration=configurations.get(0);
  }
  myDeviceConfigurationAction.setItems(configurations,newConfiguration);
  updateDeviceConfiguration(newConfiguration);
}
