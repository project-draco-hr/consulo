{
  myProfile.setDevice(device == null ? null : device.getName());
  List<LayoutDeviceConfiguration> configurations=device == null ? Collections.<LayoutDeviceConfiguration>emptyList() : device.getConfigurations();
  LayoutDeviceConfiguration newConfiguration=null;
  if (configurationName != null) {
    for (    LayoutDeviceConfiguration configuration : configurations) {
      if (configurationName.equals(configuration.getName())) {
        newConfiguration=configuration;
        break;
      }
    }
  }
  if (newConfiguration == null && !configurations.isEmpty()) {
    newConfiguration=configurations.get(0);
  }
  myDeviceConfigurationAction.setItems(configurations,newConfiguration);
  updateDeviceConfiguration(newConfiguration);
}
