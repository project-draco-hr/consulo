{
  for (  BuildRootDescriptor rd : context.getProjectDescriptor().getBuildRootIndex().getTargetRoots(target,context)) {
    if (!rd.getRootFile().exists() || (rd instanceof JavaSourceRootDescriptor && ((JavaSourceRootDescriptor)rd).isTemp)) {
      continue;
    }
    if (filter == null) {
      context.getProjectDescriptor().fsState.clearRecompile(rd);
    }
    traverseRecursively(context,rd,rd.getRootFile(),timestamps,forceMarkDirty,currentFiles,filter);
  }
}
