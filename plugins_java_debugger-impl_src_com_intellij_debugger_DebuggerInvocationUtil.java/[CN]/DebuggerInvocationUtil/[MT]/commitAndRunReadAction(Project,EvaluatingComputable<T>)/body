{
  final Throwable[] ex=new Throwable[]{null};
  T result=PsiDocumentManager.getInstance(project).commitAndRunReadAction(new Computable<T>(){
    public T compute(){
      try {
        return computable.compute();
      }
 catch (      RuntimeException e) {
        ex[0]=e;
      }
catch (      Exception th) {
        ex[0]=th;
      }
      return null;
    }
  }
);
  if (ex[0] != null) {
    if (ex[0] instanceof RuntimeException) {
      throw (RuntimeException)ex[0];
    }
 else {
      throw (EvaluateException)ex[0];
    }
  }
  return result;
}
