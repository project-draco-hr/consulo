{
  PsiType type=null;
  if (element instanceof GrVariable) {
    type=((GrVariable)element).getTypeGroovy();
  }
 else   if (element instanceof PsiVariable) {
    type=((PsiVariable)element).getType();
  }
 else   if (element instanceof PsiMethod) {
    type=substitutor.substitute(((PsiMethod)element).getReturnType());
  }
  return type != null ? builder.withTypeText(type.getPresentableText()) : builder;
}
