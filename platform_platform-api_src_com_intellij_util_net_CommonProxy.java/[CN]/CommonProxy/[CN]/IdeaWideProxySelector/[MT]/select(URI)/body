{
  final String scheme=uri.getScheme();
  if (!("http".equals(scheme) || "https".equals(scheme)))   return ourNoProxy;
  if (myHttpConfigurable.USE_HTTP_PROXY) {
    final Proxy proxy=new Proxy(myHttpConfigurable.PROXY_TYPE_IS_SOCKS ? Proxy.Type.SOCKS : Proxy.Type.HTTP,new InetSocketAddress(myHttpConfigurable.PROXY_HOST,myHttpConfigurable.PROXY_PORT));
    return Collections.singletonList(proxy);
  }
 else   if (myHttpConfigurable.USE_PROXY_PAC) {
    final ProxySearch proxySearch=ProxySearch.getDefaultProxySearch();
    final ProxySelector proxySelector=proxySearch.getProxySelector();
    if (proxySelector != null) {
      return proxySelector.select(uri);
    }
  }
  return ourNoProxy;
}
