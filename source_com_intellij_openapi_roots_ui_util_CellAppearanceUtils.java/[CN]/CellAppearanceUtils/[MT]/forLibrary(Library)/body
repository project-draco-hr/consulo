{
  String name=library.getName();
  if (name != null) {
    return SimpleTextCellAppearance.normal(name,Icons.LIBRARY_ICON);
  }
  String[] files=library.getUrls(OrderRootType.CLASSES);
  if (files.length == 0) {
    return SimpleTextCellAppearance.invalid("Empty Library",Icons.LIBRARY_ICON);
  }
  if (files.length == 1) {
    return forVirtualFilePointer(new LightFilePointer(files[0]));
  }
  throw new RuntimeException(library.toString());
}
