{
  if (orderEntry instanceof JdkOrderEntry) {
    JdkOrderEntry jdkLibraryEntry=(JdkOrderEntry)orderEntry;
    ProjectJdk jdk=jdkLibraryEntry.getJdk();
    if (!orderEntry.isValid()) {
      return SimpleTextCellAppearance.invalid(jdkLibraryEntry.getJdkName(),INVALID_ICON);
    }
    return forJdk(jdk,false,selected);
  }
 else   if (!orderEntry.isValid()) {
    return SimpleTextCellAppearance.invalid(orderEntry.getPresentableName(),INVALID_ICON);
  }
 else   if (orderEntry instanceof LibraryOrderEntry) {
    LibraryOrderEntry libraryOrderEntry=(LibraryOrderEntry)orderEntry;
    return forLibrary(libraryOrderEntry.getLibrary());
  }
 else   if (orderEntry.isSynthetic()) {
    String presentableName=orderEntry.getPresentableName();
    Icon icon=orderEntry instanceof ModuleSourceOrderEntry ? sourceFolderIcon(false) : null;
    return new SimpleTextCellAppearance(presentableName,icon,SimpleTextAttributes.SYNTHETIC_ATTRIBUTES);
  }
 else   if (orderEntry instanceof ModuleOrderEntry) {
    final Icon icon=IconUtilEx.getIcon(((ModuleOrderEntry)orderEntry).getModule(),0);
    return SimpleTextCellAppearance.normal(orderEntry.getPresentableName(),icon);
  }
 else   return CompositeAppearance.single(orderEntry.getPresentableName());
}
