{
  FavoritesTreeNodeDescriptor favoritesTreeNodeDescriptor=(FavoritesTreeNodeDescriptor)descriptor;
  Object value=favoritesTreeNodeDescriptor.getElement().getValue();
  if (value instanceof SmartPsiElementPointer) {
    value=((SmartPsiElementPointer)value).getElement();
  }
  if (value instanceof ModuleGroup) {
    return 0;
  }
  if (value instanceof Module) {
    return 1;
  }
  if (value instanceof PsiDirectory || value instanceof PackageElement) {
    return 2;
  }
  if (value instanceof PsiClass) {
    return mySortByType ? GroupByTypeComparator.getClassPosition((PsiClass)value) : 3;
  }
  if (value instanceof PsiField) {
    return 4;
  }
  if (value instanceof PsiMethod) {
    return 5;
  }
  if (value instanceof PsiFile) {
    return 6;
  }
  if (value instanceof PsiElement) {
    return 7;
  }
  if (value instanceof LibraryGroupElement) {
    return 8;
  }
  if (value instanceof NamedLibraryElement) {
    return 9;
  }
  for (  FavoriteNodeProvider provider : myNodeProviders) {
    int weight=provider.getElementWeight(value);
    if (weight != -1)     return weight;
  }
  return 9;
}
