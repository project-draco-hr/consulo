{
  int offset=e.getOffset();
  int oldLength=e.getOldLength();
  int oldEnd=offset + oldLength;
  if (offset < intervalStart && intervalStart < oldEnd) {
    return null;
  }
  if (offset == intervalStart && oldLength == 0 && greedyRight) {
    return new ProperTextRange(intervalStart,intervalEnd + e.getNewLength());
  }
  if (intervalStart > oldEnd || intervalStart == oldEnd && oldLength > 0) {
    return new ProperTextRange(intervalStart + e.getNewLength() - oldLength,intervalEnd + e.getNewLength() - oldLength);
  }
  return new ProperTextRange(intervalStart,intervalEnd);
}
