{
  if (!isValid())   return;
  ProperTextRange newRange=applyChange(e,intervalStart(),intervalEnd(),isGreedyToLeft(),isGreedyToRight());
  if (newRange == null) {
    invalidate(e);
    return;
  }
  setIntervalStart(newRange.getStartOffset());
  setIntervalEnd(newRange.getEndOffset());
}
