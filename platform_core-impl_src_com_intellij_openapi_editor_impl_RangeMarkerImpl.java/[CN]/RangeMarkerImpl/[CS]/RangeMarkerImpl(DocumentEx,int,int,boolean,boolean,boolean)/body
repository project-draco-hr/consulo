{
  if (start < 0) {
    throw new IllegalArgumentException("Wrong start: " + start + "; end="+ end);
  }
  if (end > document.getTextLength()) {
    throw new IllegalArgumentException("Wrong end: " + end + "; document length="+ document.getTextLength()+ "; start="+ start);
  }
  if (start > end) {
    throw new IllegalArgumentException("start > end: start=" + start + "; end="+ end);
  }
  myDocument=document;
  myId=counter.next();
  if (register) {
    registerInTree(start,end,greedyToLeft,greedyToRight,0);
  }
}
