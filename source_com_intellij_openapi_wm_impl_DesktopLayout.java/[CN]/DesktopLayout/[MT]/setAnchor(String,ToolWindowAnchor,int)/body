{
  if (newOrder == -1) {
    newOrder=getMaxOrder(newAnchor) + 1;
  }
  final WindowInfo info=getInfo(id,true);
  final ToolWindowAnchor oldAnchor=info.getAnchor();
  final WindowInfo[] infos=getAllInfos(newAnchor);
  for (int i=infos.length - 1; i > -1; i--) {
    final WindowInfo info2=infos[i];
    if (newOrder <= info2.getOrder()) {
      info2.setOrder(info2.getOrder() + 1);
    }
  }
  info.setAnchor(newAnchor);
  info.setOrder(newOrder);
  normalizeOrder(getAllInfos(oldAnchor));
  if (oldAnchor != newAnchor) {
    normalizeOrder(getAllInfos(newAnchor));
  }
}
