{
  final List<Pair<Module,MavenProject>> modulesToConfig=new ArrayList<Pair<Module,MavenProject>>();
  myProjectModel.visit(new MavenProjectModel.MavenProjectVisitorRoot(){
    public void visit(    MavenProjectModel.Node node){
      collectModule(node,modulesToConfig);
      for (      MavenProjectModel.Node child : node.mySubProjectsTopoSorted) {
        collectModule(child,modulesToConfig);
      }
    }
  }
);
}
