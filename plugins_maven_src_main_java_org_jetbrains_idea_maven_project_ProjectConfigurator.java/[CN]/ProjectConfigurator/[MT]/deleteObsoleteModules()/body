{
  List<Module> obsolete=new ArrayList<Module>();
  for (  Module m : myMapping.getObsoleteModules()) {
    if (MavenProjectsManager.getInstance(myProject).isImportedModule(m)) {
      obsolete.add(m);
    }
  }
  if (obsolete.isEmpty())   return;
  MavenProjectsManager.getInstance(myProject).setUserModules(obsolete);
  String formatted=StringUtil.join(obsolete,new Function<Module,String>(){
    public String fun(    Module m){
      return "'" + m.getName() + "'";
    }
  }
,"\n");
  int result=Messages.showYesNoDialog(myProject,ProjectBundle.message("maven.import.message.delete.obsolete",formatted),ProjectBundle.message("maven.import"),Messages.getQuestionIcon());
  if (result == 1)   return;
  IdeaAPIHelper.deleteModules(myMapping.getObsoleteModules());
}
