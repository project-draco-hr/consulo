{
  super.setUp();
  ExtensionPoint<EntryPoint> point=Extensions.getRootArea().getExtensionPoint(JavaExtensionPoints.DEAD_CODE_TOOL);
  myUnusedCodeExtension=new EntryPoint(){
    @NotNull @Override public String getDisplayName(){
      return "duh";
    }
    @Override public boolean isEntryPoint(    RefElement refElement,    PsiElement psiElement){
      return isEntryPoint(psiElement);
    }
    @Override public boolean isEntryPoint(    PsiElement psiElement){
      return ext_src != null && VfsUtilCore.isAncestor(ext_src,PsiUtilCore.getVirtualFile(psiElement),false);
    }
    @Override public boolean isSelected(){
      return false;
    }
    @Override public void setSelected(    boolean selected){
    }
    @Override public void readExternal(    Element element){
    }
    @Override public void writeExternal(    Element element){
    }
  }
;
  point.registerExtension(myUnusedCodeExtension);
}
