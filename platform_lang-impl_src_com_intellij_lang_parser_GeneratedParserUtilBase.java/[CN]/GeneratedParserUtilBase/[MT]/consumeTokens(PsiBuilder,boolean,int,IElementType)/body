{
  ErrorState state=ErrorState.get(builder_);
  if (state.completionState != null && state.predicateCount == 0) {
    addCompletionVariant(builder_,state.completionState,tokens);
  }
  CompletionState completionState=state.completionState;
  state.completionState=null;
  boolean result_=true;
  boolean pinned_=false;
  for (int i=0, tokensLength=tokens.length; i < tokensLength; i++) {
    if (pin > 0 && i == pin)     pinned_=result_;
    if (result_ || pinned_) {
      boolean fast=smart && i == 0;
      if (!(fast ? consumeTokenFast(builder_,tokens[i]) : consumeToken(builder_,tokens[i]))) {
        result_=false;
        if (pin < 0 || pinned_)         report_error_(builder_,state,false);
      }
    }
  }
  state.completionState=completionState;
  return pinned_ || result_;
}
