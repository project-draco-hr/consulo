{
  if (marker == null) {
    return;
  }
  if (result) {
    if (elementType != null) {
      marker.done(elementType);
    }
 else {
      marker.drop();
    }
  }
 else {
    if (frame != null) {
      int offset=((LighterASTNode)marker).getStartOffset();
      if (frame.errorReportedAt > offset) {
        frame.errorReportedAt=frame.errorReportedAtPrev;
      }
    }
    marker.rollbackTo();
  }
}
