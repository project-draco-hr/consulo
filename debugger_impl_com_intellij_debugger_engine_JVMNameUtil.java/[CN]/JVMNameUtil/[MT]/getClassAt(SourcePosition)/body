{
  final int offset=position.getOffset();
  if (offset < 0) {
    return null;
  }
  final FileViewProvider viewProvider=position.getFile().getViewProvider();
  PsiElement element=viewProvider.findElementAt(offset,StdLanguages.JAVA);
  return PsiTreeUtil.getParentOfType(element,PsiClass.class,false);
}
