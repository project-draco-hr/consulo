{
  PsiElementFactory factory=literalExpression.getManager().getElementFactory();
  if (mySelectionRange != null) {
    try {
      PsiBinaryExpression binaryExpression=breakStringLiteral(literalExpression,mySelectionRange.getEndOffset());
      if (binaryExpression != null) {
        literalExpression=(PsiLiteralExpression)binaryExpression.getLOperand();
      }
      binaryExpression=breakStringLiteral(literalExpression,mySelectionRange.getStartOffset());
      if (binaryExpression != null) {
        literalExpression=(PsiLiteralExpression)binaryExpression.getROperand();
      }
    }
 catch (    IncorrectOperationException e) {
      LOG.error(e);
    }
  }
  PsiExpression expression=factory.createExpressionFromText(i18nizedText,literalExpression);
  return literalExpression.replace(expression);
}
