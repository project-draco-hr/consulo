{
  myComponent=new CellEditorComponentWithBrowseButton<JTextField>(new TextFieldWithBrowseButton(),this);
  getChildComponent().setBorder(BorderFactory.createLineBorder(Color.black));
  FixedSizeButton button=myComponent.getComponentWithButton().getButton();
  button.setIcon(IconUtil.getAddIcon());
  button.setToolTipText(AntBundle.message("ant.property.value.editor.insert.macro.tooltip.text"));
  button.addActionListener(new ActionListener(){
    public void actionPerformed(    ActionEvent e){
      MacrosDialog dialog=new MacrosDialog(getChildComponent());
      dialog.show();
      if (dialog.isOK() && dialog.getSelectedMacro() != null) {
        JTextField textField=getChildComponent();
        String macro=dialog.getSelectedMacro().getName();
        int position=textField.getCaretPosition();
        try {
          textField.getDocument().insertString(position,"$" + macro + "$",null);
          textField.setCaretPosition(position + macro.length() + 2);
        }
 catch (        BadLocationException ex) {
          LOG.error(ex);
        }
        textField.requestFocus();
      }
    }
  }
);
}
