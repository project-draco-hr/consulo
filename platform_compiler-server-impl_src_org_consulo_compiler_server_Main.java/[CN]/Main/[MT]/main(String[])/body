{
  File t=FileUtil.createTempDirectory("consulo","data");
  System.setProperty(PathManager.PROPERTY_CONFIG_PATH,t.getAbsolutePath() + "/config");
  System.setProperty(PathManager.PROPERTY_SYSTEM_PATH,t.getAbsolutePath() + "/system");
  System.setProperty(PathManager.PROPERTY_PLUGINS_PATH,"G:\\target_for_build\\distMain\\plugins");
  System.setProperty(PathManager.PROPERTY_HOME_PATH,"G:\\target_for_build\\distMain");
  System.setProperty(FileWatcher.PROPERTY_WATCHER_DISABLED,"true");
  LOGGER.info("Data dir: " + t.getAbsolutePath());
  CompilerServerInterfaceImpl server=createServer();
  ApplicationEx app=CompilerServerApplication.createApplication();
  Messages.setTestDialog(new TestDialog(){
    @Override public int show(    String message){
      LOGGER.info(message);
      return 0;
    }
  }
);
  app.load(PathManager.getOptionsPath());
  setupSdk("JDK","1.6","I:\\Programs\\jdk6");
  setupSdk("JDK","1.7","I:\\Programs\\jdk7");
  setupSdk("Consulo Plugin SDK","Consulo 1.SNAPSHOT","G:\\target_for_build\\distMainn");
  server.compile(new CompilerClientInterface(){
    @Override public void addMessage(    @NotNull CompilerMessageCategory category,    String message,    String url,    int lineNum,    int columnNum) throws RemoteException {
      LOGGER.info(category + ": " + message+ ". Url: "+ url);
    }
    @Override public void compilationFinished(    boolean aborted,    int errors,    int warnings) throws RemoteException {
    }
    @NotNull @Override public String getProjectDir(){
      return "G:\\target_for_build\\consulo";
    }
  }
);
}
