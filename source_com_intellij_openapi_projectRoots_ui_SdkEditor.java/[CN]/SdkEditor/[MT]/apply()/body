{
  final String currName=getNameValue();
  if (!Comparing.equal(currName,(mySdk == null) ? "" : mySdk.getName())) {
    if (currName.length() == 0) {
      ApplicationManager.getApplication().invokeLater(new Runnable(){
        public void run(){
          focusToNameField();
        }
      }
);
      throw new ConfigurationException(ProjectBundle.message("sdk.list.name.required.error"));
    }
  }
  if (mySdk != null) {
    final SdkModificator sdkModificator=mySdk.getSdkModificator();
    sdkModificator.setName(getNameValue());
    sdkModificator.setHomePath(getHomeValue().replace(File.separatorChar,'/'));
    myClassPathEditor.apply(sdkModificator);
    mySourcePathEditor.apply(sdkModificator);
    myJavadocPathEditor.apply(sdkModificator);
    ApplicationManager.getApplication().runWriteAction(new Runnable(){
      public void run(){
        sdkModificator.commitChanges();
      }
    }
);
    final AdditionalDataConfigurable configurable=getAdditionalDataConfigurable();
    if (configurable != null) {
      configurable.apply();
    }
  }
}
