{
  final FileChooserDescriptor descriptor=new FileChooserDescriptor(false,true,false,false,false,false){
    public void validateSelectedFiles(    VirtualFile[] files) throws Exception {
      if (files.length != 0) {
        if (!sdkType.isValidSdkHome(files[0].getPath())) {
          throw new Exception("The directory selected is not a valid home for " + sdkType.getPresentableName());
        }
      }
    }
  }
;
  descriptor.setTitle("Select Home Directory for " + sdkType.getPresentableName());
  VirtualFile[] files=FileChooser.chooseFiles(parentComponent,descriptor,getSuggestedSdkRoot(sdkType));
  if (files.length != 0) {
    return files[0].getPath();
  }
  return null;
}
