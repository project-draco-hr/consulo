{
  if (homePath == null) {
    return;
  }
  setHomePathValue(homePath.replace('/',File.separatorChar));
  final String newSdkName=suggestSdkName(homePath);
  ((ProjectJdkImpl)mySdk).setName(newSdkName);
  try {
    final ProjectJdk dummySdk=(ProjectJdk)mySdk.clone();
    SdkModificator sdkModificator=dummySdk.getSdkModificator();
    sdkModificator.setHomePath(homePath);
    sdkModificator.removeAllRoots();
    sdkModificator.commitChanges();
    sdkType.setupSdkPaths(dummySdk);
    clearAllPaths();
    myVersionString=dummySdk.getVersionString();
    sdkModificator=dummySdk.getSdkModificator();
    myClassPathEditor.addPaths(sdkModificator.getRoots(myClassPathEditor.getRootType()));
    mySourcePathEditor.addPaths(sdkModificator.getRoots(mySourcePathEditor.getRootType()));
    myJavadocPathEditor.addPaths(sdkModificator.getRoots(myJavadocPathEditor.getRootType()));
    myAnnotationPathEditor.addPaths(sdkModificator.getRoots(myAnnotationPathEditor.getRootType()));
    mySdkModel.getMulticaster().sdkHomeSelected(mySdk,homePath);
  }
 catch (  CloneNotSupportedException e) {
    LOG.error(e);
  }
}
