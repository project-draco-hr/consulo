{
  StringBuilder currentToken=new StringBuilder();
  int currentTokenStart=startOffset;
  for (int i=0; i < unescapedText.length(); i++) {
    if (offsets[i + 1] - offsets[i] == 1) {
      if (currentToken.length() == 0) {
        currentTokenStart=offsets[i] + startOffset;
      }
      currentToken.append(unescapedText.charAt(i));
    }
 else {
      if (currentToken.length() > 0) {
        processCurrentToken(element,currentToken,currentTokenStart,consumer);
        currentToken.setLength(0);
      }
    }
  }
  if (currentToken.length() > 0) {
    processCurrentToken(element,currentToken,currentTokenStart,consumer);
  }
}
