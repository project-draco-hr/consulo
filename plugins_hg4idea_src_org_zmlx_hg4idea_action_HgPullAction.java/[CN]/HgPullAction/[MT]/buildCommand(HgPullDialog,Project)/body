{
  return new HgGlobalCommand(){
    public VirtualFile getRepo(){
      return dialog.getRepository();
    }
    public void execute(){
      final HgPullCommand command=new HgPullCommand(project,dialog.getRepository());
      command.setSource(dialog.getSource());
      command.setRebase(false);
      command.setUpdate(false);
      new Task.Backgroundable(project,"Pulling changes from " + dialog.getSource(),false){
        @Override public void run(        @NotNull ProgressIndicator indicator){
          command.execute();
        }
      }
.queue();
    }
  }
;
}
