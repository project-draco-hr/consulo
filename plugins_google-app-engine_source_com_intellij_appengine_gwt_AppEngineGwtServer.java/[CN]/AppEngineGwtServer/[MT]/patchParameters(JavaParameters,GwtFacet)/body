{
  final ParametersList programParameters=parameters.getProgramParametersList();
  programParameters.add("-server");
  programParameters.add("com.google.appengine.tools.development.gwt.AppEngineLauncher");
  final AppEngineSdk sdk=((AppEngineServerData)myServer.getPersistentData()).getSdk();
  final String agentPath=sdk.getAgentPath();
  File agentFile=new File(FileUtil.toSystemDependentName(agentPath));
  if (agentFile.exists()) {
    parameters.getVMParametersList().add("-javaagent:" + agentPath);
  }
  for (  File jar : ArrayUtil.mergeArrays(sdk.getLibraries(),sdk.getJspLibraries(),File.class)) {
    parameters.getClassPath().addFirst(FileUtil.toSystemIndependentName(jar.getAbsolutePath()));
  }
  parameters.getClassPath().add(sdk.getToolsApiJarFile());
}
