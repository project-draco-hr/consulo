{
  final XmlTag element=getElement();
  boolean myFileChange=false;
  if (element != null && (newElementName.endsWith(".tag") || newElementName.endsWith(".tagx")) && element.getContainingFile() instanceof JspFile) {
    final String namespacePrefix=element.getNamespacePrefix();
    newElementName=newElementName.substring(0,newElementName.lastIndexOf('.'));
    if (namespacePrefix != null && namespacePrefix.length() > 0) {
      newElementName=namespacePrefix + ":" + newElementName;
    }
    myFileChange=true;
  }
  if (element != null)   element.setName(newElementName);
  if (myFileChange) {
    ((CompositeElement)((XmlFile)element.getContainingFile()).getDocument().getRootTag().getNode()).clearCaches();
  }
  return element;
}
