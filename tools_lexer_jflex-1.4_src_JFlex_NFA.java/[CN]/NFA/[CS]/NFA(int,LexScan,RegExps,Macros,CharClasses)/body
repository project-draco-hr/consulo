{
  this(numInput,regExps.NFASize(macros) + 2 * scanner.states.number());
  this.scanner=scanner;
  this.regExps=regExps;
  this.macros=macros;
  this.classes=classes;
  numLexStates=scanner.states.number();
  ensureCapacity(2 * numLexStates);
  numStates=2 * numLexStates;
}
