{
  if (file.isDirectory()) {
    for (    File f : file.listFiles()) {
      delete(f);
    }
  }
  if (!file.delete())   throw new IOException("could not delete file or directory " + file.getPath());
}
