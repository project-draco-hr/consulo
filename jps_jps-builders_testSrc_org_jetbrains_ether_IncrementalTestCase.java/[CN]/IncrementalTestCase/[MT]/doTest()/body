{
  stripper.setRoot(FileUtil.toSystemIndependentName(getWorkDir() + File.separator));
  initLoggers();
  final String projectPath=getWorkDir() + File.separator + ".idea";
  final String projectName=getProjectName();
  final Project project=new Project();
  IdeaProjectLoader.loadFromPath(project,projectPath,"");
  final ProjectDescriptor projectDescriptor=new ProjectDescriptor(projectPath,project,new FSState(true),new ProjectTimestamps(projectName),new BuildDataManager(projectName,true));
  final IncProjectBuilder builder=new IncProjectBuilder(projectDescriptor,BuilderRegistry.getInstance(),CanceledStatus.NULL);
  builder.build(new AllProjectScope(project,true),false,true);
  if (SystemInfo.isUnix) {
    Thread.sleep(1000);
  }
  modify();
  builder.build(new AllProjectScope(project,false),true,false);
  projectDescriptor.release();
  FileAssert.assertEquals(new File(getBaseDir() + ".log"),new File(getWorkDir() + ".log"));
}
