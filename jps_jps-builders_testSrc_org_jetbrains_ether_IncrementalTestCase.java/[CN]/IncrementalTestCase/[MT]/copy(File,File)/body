{
  if (input.isDirectory()) {
    if (output.mkdirs()) {
      final File[] files=input.listFiles();
      if (files != null) {
        for (        File f : files) {
          copy(f,new File(output.getPath() + File.separator + f.getName()));
        }
      }
    }
 else {
      throw new IOException("unable to create directory " + output.getPath());
    }
  }
 else   if (input.isFile()) {
    final FileReader in=new FileReader(input);
    final FileWriter out=new FileWriter(output);
    try {
      int c;
      while ((c=in.read()) != -1)       out.write(c);
    }
  finally {
      in.close();
      out.close();
    }
  }
}
