{
  final List<Pair<VirtualFile,FilePatch>> textPatches=verifier.getTextPatches();
  final ApplyPatchContext context=new ApplyPatchContext(myBaseDirectory,0,true,true);
  ApplyPatchStatus status=null;
  status=applyList(textPatches,context,status);
  if (myCustomForBinaries == null) {
    status=applyList(verifier.getBinaryPatches(),context,status);
  }
 else {
    try {
      final ApplyPatchStatus patchStatus=myCustomForBinaries.apply(verifier.getBinaryPatches());
      status=ApplyPatchStatus.and(status,patchStatus);
      myRemainingPatches.removeAll(myCustomForBinaries.getAppliedPatches());
    }
 catch (    IOException e) {
      showError(myProject,e.getMessage(),true);
      return ApplyPatchStatus.FAILURE;
    }
  }
  return status;
}
