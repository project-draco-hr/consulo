{
  final PsiTypeParameterList list=parentClass.getTypeParameterList();
  if (list == null)   return this;
  final PsiTypeParameter[] params=list.getTypeParameters();
  PsiSubstitutorImpl substitutor=new PsiSubstitutorImpl(new HashMap<PsiTypeParameter,PsiType>(mySubstitutionMap));
  for (int i=0; i < params.length; i++) {
    if (mappings != null && mappings.length > i) {
      substitutor.mySubstitutionMap.put(params[i],mappings[i]);
    }
 else {
      substitutor.mySubstitutionMap.put(params[i],null);
    }
  }
  return substitutor;
}
