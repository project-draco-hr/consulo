{
  final PsiType bound=wildcardType.getBound();
  if (bound == null) {
    return wildcardType;
  }
 else {
    final PsiType newBound=bound.accept(this);
    if (newBound == null) {
      return null;
    }
 else     if (newBound instanceof PsiWildcardType) {
      final PsiType newBoundBound=((PsiWildcardType)newBound).getBound();
      if (newBoundBound != null) {
        return PsiWildcardType.changeBound(wildcardType,newBoundBound);
      }
 else {
        return PsiWildcardType.createUnbounded(wildcardType.getManager());
      }
    }
 else {
      return PsiWildcardType.changeBound(wildcardType,newBound);
    }
  }
}
