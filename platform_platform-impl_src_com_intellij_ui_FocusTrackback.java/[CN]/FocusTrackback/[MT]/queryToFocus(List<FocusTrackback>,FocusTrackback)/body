{
  final int index=stack.indexOf(trackback);
  Component toFocus;
  if (index > 0) {
    final ComponentQuery query=stack.get(index - 1).myFocusedComponentQuery;
    toFocus=query != null ? query.getComponent() : null;
  }
 else {
    toFocus=trackback.getFocusOwner();
  }
  for (int i=index + 1; i < stack.size(); i++) {
    if (!stack.get(i).isConsumed()) {
      toFocus=null;
      break;
    }
  }
  return toFocus;
}
