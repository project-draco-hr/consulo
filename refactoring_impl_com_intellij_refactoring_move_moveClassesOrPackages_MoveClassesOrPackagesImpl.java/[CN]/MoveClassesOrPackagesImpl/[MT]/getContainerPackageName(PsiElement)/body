{
  if (psiElement instanceof PsiPackage) {
    return ((PsiPackage)psiElement).getQualifiedName();
  }
 else   if (psiElement instanceof PsiDirectory) {
    PsiPackage aPackage=JavaDirectoryService.getInstance().getPackage(((PsiDirectory)psiElement));
    return (aPackage != null) ? aPackage.getQualifiedName() : "";
  }
 else   if (psiElement != null) {
    PsiPackage aPackage=JavaDirectoryService.getInstance().getPackage(psiElement.getContainingFile().getContainingDirectory());
    return (aPackage != null) ? aPackage.getQualifiedName() : "";
  }
 else {
    return null;
  }
}
