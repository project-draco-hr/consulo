{
  Set<VirtualFile> files=new THashSet<VirtualFile>(processedItems.size());
  for (  PackagingProcessingItem item : processedItems) {
    files.add(item.getFile());
  }
  RefreshQueue.getInstance().refresh(false,false,null,files.toArray(new VirtualFile[files.size()]));
  final Iterator<PackagingProcessingItem> iterator=processedItems.iterator();
  while (iterator.hasNext()) {
    PackagingProcessingItem item=iterator.next();
    final VirtualFile file=item.getFile();
    if (!file.isValid()) {
      iterator.remove();
    }
  }
}
