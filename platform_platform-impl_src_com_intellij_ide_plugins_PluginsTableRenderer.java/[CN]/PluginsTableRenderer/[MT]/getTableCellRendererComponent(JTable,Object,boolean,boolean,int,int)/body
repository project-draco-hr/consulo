{
  if (myPluginDescriptor != null) {
    myName.setText(myPluginDescriptor.getName() + "  ");
    final Color fg=UIUtil.getTableForeground(isSelected);
    final Color bg=UIUtil.getTableBackground(isSelected);
    final Color grayedFg=isSelected ? fg : new JBColor(Gray._130,Gray._120);
    myName.setForeground(fg);
    myStatus.setForeground(grayedFg);
    myStatus.setIcon(AllIcons.Nodes.Plugin);
    String category=myPluginDescriptor.getCategory();
    myCategory.setForeground(grayedFg);
    if (category != null) {
      myCategory.setText(category.toUpperCase() + " ");
    }
    if (myPluginDescriptor.isBundled()) {
      myCategory.setText(myCategory.getText() + "[Bundled]");
    }
    myPanel.setBackground(bg);
    myLastUpdated.setForeground(grayedFg);
    myLastUpdated.setText("");
    myDownloads.setForeground(grayedFg);
    myDownloads.setText("");
    final PluginNode pluginNode=myPluginDescriptor instanceof PluginNode ? (PluginNode)myPluginDescriptor : null;
    if (pluginNode != null) {
      String downloads=pluginNode.getDownloads();
      if (downloads == null)       downloads="";
      if (downloads.length() > 3) {
        downloads=new DecimalFormat("#,###").format(Integer.parseInt(downloads));
      }
      myDownloads.setText(downloads);
      myRating.setRate(pluginNode.getRating());
      myLastUpdated.setText(DateFormatUtil.formatBetweenDates(pluginNode.getDate(),System.currentTimeMillis()));
    }
    final IdeaPluginDescriptor installed=PluginManager.getPlugin(myPluginDescriptor.getPluginId());
    if ((pluginNode != null && PluginManagerColumnInfo.isDownloaded(pluginNode)) || (installed != null && InstalledPluginsTableModel.wasUpdated(installed.getPluginId()))) {
      if (!isSelected)       myName.setForeground(FileStatus.ADDED.getColor());
    }
 else     if (pluginNode != null && pluginNode.getStatus() == PluginNode.STATUS_INSTALLED) {
      PluginId pluginId=pluginNode.getPluginId();
      final boolean hasNewerVersion=InstalledPluginsTableModel.hasNewerVersion(pluginId);
      if (!isSelected)       myName.setForeground(FileStatus.MODIFIED.getColor());
      if (hasNewerVersion) {
        if (!isSelected) {
          myName.setForeground(JBColor.RED);
        }
        myStatus.setIcon(AllIcons.Nodes.Pluginobsolete);
      }
    }
  }
  return myPanel;
}
