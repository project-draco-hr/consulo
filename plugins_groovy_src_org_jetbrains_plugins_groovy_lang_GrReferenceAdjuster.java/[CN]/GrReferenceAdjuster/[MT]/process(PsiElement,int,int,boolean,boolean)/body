{
  if (element instanceof GrQualifiedReference && ((GrQualifiedReference)element).resolve() instanceof PsiClass) {
    shortenReferenceInner((GrQualifiedReference)element,addImports,incomplete);
  }
  PsiElement child=element.getFirstChild();
  while (child != null) {
    final TextRange range=child.getTextRange();
    if (start < range.getEndOffset() && range.getStartOffset() < end) {
      process(child,start,end,addImports,incomplete);
    }
    child=child.getNextSibling();
  }
}
