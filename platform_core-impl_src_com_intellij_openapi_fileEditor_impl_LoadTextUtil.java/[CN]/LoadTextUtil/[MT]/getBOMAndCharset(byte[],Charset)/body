{
  if (charset != null && charset.name().contains(CharsetToolkit.UTF8) && CharsetToolkit.hasUTF8Bom(content)) {
    return Pair.create(charset,CharsetToolkit.UTF8_BOM);
  }
  try {
    if (CharsetToolkit.hasUTF16LEBom(content)) {
      return Pair.create(CharsetToolkit.UTF_16LE_CHARSET,CharsetToolkit.UTF16LE_BOM);
    }
    if (CharsetToolkit.hasUTF16BEBom(content)) {
      return Pair.create(CharsetToolkit.UTF_16BE_CHARSET,CharsetToolkit.UTF16BE_BOM);
    }
  }
 catch (  UnsupportedCharsetException ignore) {
  }
  return Pair.create(charset,ArrayUtil.EMPTY_BYTE_ARRAY);
}
