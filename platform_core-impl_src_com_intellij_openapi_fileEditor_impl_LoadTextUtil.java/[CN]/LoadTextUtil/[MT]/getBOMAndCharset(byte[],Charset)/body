{
  if (charset != null && charset.name().contains(CharsetToolkit.UTF8) && CharsetToolkit.hasUTF8Bom(content)) {
    return Pair.create(charset,CharsetToolkit.UTF8_BOM);
  }
  try {
    Charset fromBOM=CharsetToolkit.guessFromBOM(content);
    if (fromBOM != null) {
      return Pair.create(fromBOM,CharsetToolkit.getMandatoryBom(fromBOM));
    }
  }
 catch (  UnsupportedCharsetException ignore) {
  }
  return Pair.create(charset,ArrayUtil.EMPTY_BYTE_ARRAY);
}
