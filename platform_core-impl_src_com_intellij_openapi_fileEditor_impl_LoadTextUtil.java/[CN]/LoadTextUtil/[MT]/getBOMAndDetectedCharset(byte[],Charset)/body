{
  if (charset != null && charset.name().contains(CharsetToolkit.UTF8) && CharsetToolkit.hasUTF8Bom(content)) {
    return Pair.create(CharsetToolkit.UTF8_BOM,charset);
  }
  try {
    if (CharsetToolkit.hasUTF16LEBom(content)) {
      return Pair.create(CharsetToolkit.UTF16LE_BOM,Charset.forName("UTF-16LE"));
    }
    if (CharsetToolkit.hasUTF16BEBom(content)) {
      return Pair.create(CharsetToolkit.UTF16BE_BOM,Charset.forName("UTF-16BE"));
    }
  }
 catch (  UnsupportedCharsetException ignore) {
  }
  return Pair.create(ArrayUtil.EMPTY_BYTE_ARRAY,charset);
}
