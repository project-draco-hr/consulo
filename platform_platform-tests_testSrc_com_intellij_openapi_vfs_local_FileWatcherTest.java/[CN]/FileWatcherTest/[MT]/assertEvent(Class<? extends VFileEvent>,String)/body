{
  List<VFileEvent> events=getEvents(type.getSimpleName(),null);
  assertEquals(events.toString(),paths.length,events.size());
  Set<String> pathSet=ContainerUtil.map2Set(paths,new Function<String,String>(){
    @Override public String fun(    final String path){
      return FileUtil.toSystemIndependentName(path);
    }
  }
);
  for (  VFileEvent event : events) {
    assertTrue(event.toString(),type.isInstance(event));
    VirtualFile eventFile=event.getFile();
    assertNotNull(event.toString(),eventFile);
    assertTrue(eventFile + " not in " + Arrays.toString(paths),pathSet.remove(eventFile.getPath()));
  }
}
