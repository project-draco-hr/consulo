{
  final List<VFileEvent> events=getEvents();
  assertEquals(events.toString(),paths.length,events.size());
  final Set<String> pathSet=ContainerUtil.map2Set(paths,new Function<String,String>(){
    @Override public String fun(    final String path){
      return FileUtil.toSystemIndependentName(path);
    }
  }
);
  for (  final VFileEvent event : events) {
    assertTrue(event.toString(),type.isInstance(event));
    final VirtualFile eventFile=event.getFile();
    assertNotNull(event.toString(),eventFile);
    assertTrue(eventFile + " not in " + Arrays.toString(paths),pathSet.remove(eventFile.getPath()));
  }
}
