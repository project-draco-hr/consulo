{
  if (SystemInfo.isFileSystemCaseSensitive) {
    System.err.println("Ignored: case-insensitive FS required");
    return;
  }
  File topDir=createTestDir("topDir");
  File testFile=createTestFile(topDir,"file.txt","123");
  refresh(topDir);
  LocalFileSystem.WatchRequest request=watch(topDir);
  try {
    myAccept=true;
    File newFile=new File(testFile.getParent(),StringUtil.capitalize(testFile.getName()));
    FileUtil.rename(testFile,newFile);
    assertEvent(VFilePropertyChangeEvent.class,newFile.getPath());
  }
  finally {
    unwatch(request);
  }
}
