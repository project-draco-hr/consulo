{
  final File rootDir=IoTestUtil.createTestDir("root");
  final File topDir=IoTestUtil.createTestDir(rootDir,"top");
  final File file1=IoTestUtil.createTestFile(topDir,"file1.txt","abc");
  final File file2=IoTestUtil.createTestFile(topDir,"file2.txt","123");
  refresh(topDir);
  final LocalFileSystem.WatchRequest request=watch(rootDir);
  try {
    myAccept=true;
    assertTrue(FileUtil.delete(topDir));
    assertTrue(topDir.mkdir());
    TimeoutUtil.sleep(100);
    assertTrue(file1.createNewFile());
    assertTrue(file2.createNewFile());
    assertEvent(VFileContentChangeEvent.class,file1.getPath(),file2.getPath());
  }
  finally {
    unwatch(request);
    delete(topDir);
  }
}
