{
  final File topDir=IoTestUtil.createTestDir("top");
  final File file1=IoTestUtil.createTestFile(topDir,"file1.txt");
  final File file2=IoTestUtil.createTestFile(topDir,"file2.txt");
  refresh(topDir);
  final LocalFileSystem.WatchRequest request=watch(topDir);
  try {
    myAccept=true;
    assertTrue(FileUtil.delete(topDir));
    assertTrue(topDir.mkdir());
    assertTrue(file1.createNewFile());
    assertTrue(file2.createNewFile());
    assertEvent(VFileContentChangeEvent.class,file1.getPath(),file2.getPath());
  }
  finally {
    unwatch(request);
    delete(topDir);
  }
}
