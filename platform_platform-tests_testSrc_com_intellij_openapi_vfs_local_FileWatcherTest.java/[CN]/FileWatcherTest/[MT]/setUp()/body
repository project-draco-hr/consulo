{
  LOG.debug("================== setting up " + getName() + " ==================");
  super.setUp();
  myAlarm=new Alarm(Alarm.ThreadToUse.OWN_THREAD,getProject());
  myWatcher=FileWatcher.getInstance();
  assertNotNull(myWatcher);
  assertFalse(myWatcher.isOperational());
  myWatcher.startup(myNotifier);
  assertTrue(myWatcher.isOperational());
  myFileSystem=LocalFileSystem.getInstance();
  assertNotNull(myFileSystem);
  myConnection=ApplicationManager.getApplication().getMessageBus().connect();
  myConnection.subscribe(VirtualFileManager.VFS_CHANGES,new BulkFileListener(){
    @Override public void before(    @NotNull List<? extends VFileEvent> events){
    }
    @Override public void after(    @NotNull List<? extends VFileEvent> events){
      myEvents.addAll(events);
    }
  }
);
  LOG=FileWatcher.getLog();
  LOG.debug("================== setting up " + getName() + " ==================");
}
