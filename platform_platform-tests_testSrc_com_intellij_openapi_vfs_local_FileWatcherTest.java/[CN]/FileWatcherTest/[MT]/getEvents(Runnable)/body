{
  LOG.debug("** waiting...");
  myAccept=true;
  if (action != null) {
    action.run();
  }
  int timeout=myTimeout;
  try {
synchronized (myWaiter) {
      myWaiter.wait(timeout);
    }
  }
 catch (  InterruptedException e) {
    LOG.warn(e);
  }
  myFileSystem.refresh(false);
  final ArrayList<VFileEvent> result=new ArrayList<VFileEvent>(myEvents);
  myEvents.clear();
  LOG.debug("** events: " + result.size());
  return result;
}
