{
  if (!SystemInfo.isUnix) {
    System.err.println("Ignored: Unix required");
    return;
  }
  File topDir=IoTestUtil.createTestDir("topDir");
  File testDir=IoTestUtil.createTestDir(topDir,"weird\ndir\nname");
  File testFile=IoTestUtil.createTestFile(testDir,"weird\nfile\nname");
  refresh(topDir);
  LocalFileSystem.WatchRequest request=watch(topDir);
  try {
    myAccept=true;
    FileUtil.writeToFile(testFile,"abc");
    assertEvent(VFileContentChangeEvent.class,testFile.getPath());
  }
  finally {
    unwatch(request);
  }
}
