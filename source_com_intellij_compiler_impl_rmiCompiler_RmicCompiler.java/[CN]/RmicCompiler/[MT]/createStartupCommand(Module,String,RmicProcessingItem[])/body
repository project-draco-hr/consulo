{
  final List<String> commandLine=new ArrayList<String>();
  final ProjectJdk jdk=ModuleRootManager.getInstance(module).getJdk();
  final VirtualFile homeDirectory=jdk.getHomeDirectory();
  if (homeDirectory == null) {
    throw new IllegalArgumentException("Cannot determine home directory for JDK " + jdk.getName() + ".\nUpdate JDK configuration.\n");
  }
  final String jdkPath=homeDirectory.getPath().replace('/',File.separatorChar);
  final String compilerPath=jdkPath + File.separator + "bin"+ File.separator+ "rmic";
  commandLine.add(compilerPath);
  commandLine.add("-verbose");
  commandLine.addAll(Arrays.asList(RmicSettings.getInstance(myProject).getOptions()));
  commandLine.add("-classpath");
  commandLine.add(CompilerPathsEx.getCompilationClasspath(module));
  commandLine.add("-d");
  commandLine.add(outputPath);
  for (int idx=0; idx < items.length; idx++) {
    commandLine.add(items[idx].getClassQName());
  }
  return commandLine.toArray(new String[commandLine.size()]);
}
