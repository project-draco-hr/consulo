{
  String text=expr.getText();
  final PsiType type=expr.getType();
  if (type != null && CommonClassNames.JAVA_LANG_STRING.equals(type.getCanonicalText())) {
    if (expr instanceof GrBinaryExpression && GroovyTokenTypes.mPLUS.equals(((GrBinaryExpression)expr).getOperationTokenType())) {
      return '(' + text + ')';
    }
 else {
      return text;
    }
  }
 else   if (needParents(expr)) {
    return '(' + text + ").toString()";
  }
 else {
    return text + ".toString()";
  }
}
