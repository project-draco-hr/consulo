{
  int index=qName.indexOf('$');
  if (index >= 0) {
    qName=qName.substring(0,index);
  }
  if (SystemInfo.isFileSystemCaseSensitive) {
    return qName;
  }
  final int dotIndex=qName.lastIndexOf('.');
  StringBuffer buf=new StringBuffer(qName);
  for (int idx=0; idx < dotIndex; idx++) {
    buf.setCharAt(idx,Character.toLowerCase(buf.charAt(idx)));
  }
  return buf.toString();
}
