{
  final AnnotationConstantValue targetAnnotation=findAnnotation("java.lang.annotation.Target",cache.getRuntimeVisibleAnnotations(cache.getClassId(annotationQName)),symbolTable);
  if (targetAnnotation == null) {
    return AnnotationTargets.ALL;
  }
  final AnnotationNameValuePair[] memberValues=targetAnnotation.getMemberValues();
  ConstantValueArray value=(ConstantValueArray)memberValues[0].getValue();
  final ConstantValue[] targets=value.getValue();
  int annotationTargets=0;
  for (int idx=0; idx < targets.length; idx++) {
    ConstantValue target=targets[idx];
    if (target instanceof EnumConstantValue) {
      final String constantName=symbolTable.getSymbol(((EnumConstantValue)target).getConstantName());
      if ("TYPE".equals(constantName)) {
        annotationTargets|=AnnotationTargets.TYPE;
      }
      if ("FIELD".equals(constantName)) {
        annotationTargets|=AnnotationTargets.FIELD;
      }
      if ("METHOD".equals(constantName)) {
        annotationTargets|=AnnotationTargets.METHOD;
      }
      if ("PARAMETER".equals(constantName)) {
        annotationTargets|=AnnotationTargets.PARAMETER;
      }
      if ("CONSTRUCTOR".equals(constantName)) {
        annotationTargets|=AnnotationTargets.CONSTRUCTOR;
      }
      if ("LOCAL_VARIABLE".equals(constantName)) {
        annotationTargets|=AnnotationTargets.LOCAL_VARIABLE;
      }
      if ("ANNOTATION_TYPE".equals(constantName)) {
        annotationTargets|=AnnotationTargets.ANNOTATION_TYPE;
      }
      if ("PACKAGE".equals(constantName)) {
        annotationTargets|=AnnotationTargets.PACKAGE;
      }
    }
  }
  return annotationTargets;
}
