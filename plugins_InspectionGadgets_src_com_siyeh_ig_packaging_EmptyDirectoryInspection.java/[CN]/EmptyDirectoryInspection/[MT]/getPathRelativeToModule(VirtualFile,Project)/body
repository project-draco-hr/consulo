{
  final ProjectRootManager rootManager=ProjectRootManager.getInstance(project);
  final Application application=ApplicationManager.getApplication();
  final VirtualFile[] contentRoots=application.runReadAction(new Computable<VirtualFile[]>(){
    @Override public VirtualFile[] compute(){
      return rootManager.getContentRootsFromAllModules();
    }
  }
);
  for (  VirtualFile otherRoot : contentRoots) {
    if (VfsUtilCore.isAncestor(otherRoot,file,false)) {
      return VfsUtilCore.getRelativePath(file,otherRoot,'/');
    }
  }
  return null;
}
