{
  VcsLogManager logManager=VcsLogContentProvider.findLogManager(project);
  VisiblePack dataPack=getDataPack(logManager);
  if (dataPack != null) {
    PermanentGraph<Integer> permanentGraph=dataPack.getPermanentGraph();
    MultiMap<VcsKey,VirtualFile> groupedRoots=groupRootsByVcs(dataPack.getLogProviders());
    Set<UsageDescriptor> usages=ContainerUtil.newHashSet();
    usages.add(new UsageDescriptor("vcs.log.commit.count",permanentGraph.getAllCommits().size()));
    for (    VcsKey vcs : groupedRoots.keySet()) {
      usages.add(new RootUsage(vcs,groupedRoots.get(vcs).size()));
    }
    return usages;
  }
  return Collections.emptySet();
}
