{
  VcsProjectLog projectLog=VcsProjectLog.getInstance(project);
  VcsLogData logData=projectLog.getDataManager();
  if (logData != null) {
    DataPack dataPack=logData.getDataPack();
    if (dataPack.isFull()) {
      PermanentGraph<Integer> permanentGraph=dataPack.getPermanentGraph();
      MultiMap<VcsKey,VirtualFile> groupedRoots=groupRootsByVcs(dataPack.getLogProviders());
      Set<UsageDescriptor> usages=ContainerUtil.newHashSet();
      usages.add(StatisticsUtilKt.getCountingUsage("data.commit.count",permanentGraph.getAllCommits().size(),asList(0,1,100,1000,10 * 1000,100 * 1000,500 * 1000)));
      for (      VcsKey vcs : groupedRoots.keySet()) {
        usages.add(StatisticsUtilKt.getCountingUsage("data." + vcs.getName().toLowerCase() + ".root.count",groupedRoots.get(vcs).size(),asList(0,1,2,5,8,15,30,50,100,500,1000)));
      }
      return usages;
    }
  }
  return Collections.emptySet();
}
