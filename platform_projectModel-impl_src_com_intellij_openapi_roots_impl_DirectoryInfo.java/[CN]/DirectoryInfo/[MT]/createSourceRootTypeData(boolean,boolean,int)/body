{
  if (moduleSourceRootTypeId > MAX_ROOT_TYPE_ID) {
    throw new IllegalArgumentException("Module source root type id " + moduleSourceRootTypeId + " exceeds the maximum allowable value ("+ MAX_ROOT_TYPE_ID+ ")");
  }
  return (isInModuleSources ? MODULE_SOURCE_FLAG : 0) | (isInLibrarySource ? LIBRARY_SOURCE_FLAG : 0) | moduleSourceRootTypeId << 2;
}
