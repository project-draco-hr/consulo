{
  getSelectionModel().addListSelectionListener(new ListSelectionListener(){
    @Override public void valueChanged(    final ListSelectionEvent e){
      if (getClientProperty(PopupChooserBuilder.SELECTED_BY_MOUSE_EVENT) != Boolean.TRUE) {
        final int selected=((ListSelectionModel)e.getSource()).getLeadSelectionIndex();
        int rowCount=getRowCount();
        if (selected == -1 || rowCount == 0)         return;
        PsiElement element=getPsiElementForHint(getValueAt(Math.min(selected,rowCount - 1),0));
        if (element != null && element.isValid()) {
          updateHint(element);
        }
      }
    }
  }
);
}
