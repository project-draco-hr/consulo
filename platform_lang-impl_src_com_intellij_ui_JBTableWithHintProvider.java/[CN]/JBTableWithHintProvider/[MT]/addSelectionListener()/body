{
  getSelectionModel().addListSelectionListener(new ListSelectionListener(){
    @Override public void valueChanged(    final ListSelectionEvent e){
      if (getClientProperty(PopupChooserBuilder.SELECTED_BY_MOUSE_EVENT) != Boolean.TRUE) {
        final int selected=((ListSelectionModel)e.getSource()).getLeadSelectionIndex();
        if (selected == -1)         return;
        final PsiElement element=getPsiElementForHint(getValueAt(selected,0));
        if (element != null && element.isValid()) {
          updateHint(element);
        }
      }
    }
  }
);
}
