{
  @NonNls final StringBuffer cvsArguments=new StringBuffer();
  cvsArguments.append("-m \"");
  cvsArguments.append(CommandUtils.getMessageNotNull(getLogMessage()));
  cvsArguments.append("\" ");
  if (getKeywordSubstitutionOption() != null) {
    cvsArguments.append("-k");
    cvsArguments.append(getKeywordSubstitutionOption().toString());
    cvsArguments.append(" ");
  }
  if (getVendorBranch() != null) {
    cvsArguments.append("-b ");
    cvsArguments.append(getVendorBranch());
    cvsArguments.append(" ");
  }
  if (wrapperMap.size() > 0) {
    final Iterator it=wrapperMap.keySet().iterator();
    while (it.hasNext()) {
      final SimpleStringPattern pattern=(SimpleStringPattern)it.next();
      final KeywordSubstitution keywordSubstitutionOptions=(KeywordSubstitution)wrapperMap.get(pattern);
      cvsArguments.append("-W ");
      cvsArguments.append(pattern.toString());
      cvsArguments.append(" -k '");
      cvsArguments.append(keywordSubstitutionOptions.toString());
      cvsArguments.append("' ");
    }
  }
  return cvsArguments.toString();
}
