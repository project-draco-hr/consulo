{
  myDocumentFile=FileDocumentManager.getInstance().getFile(document);
  if (myDocumentFile != null) {
    myDocument=new PatchedWeakReference(document);
  }
 else {
    myDocument=document;
  }
  myOffset=offset;
  myOldString=oldString;
  if (myOldString == null) {
    myOldString="";
  }
  myNewString=newString;
  if (myNewString == null) {
    myNewString="";
  }
  myTimeStamp=oldTimeStamp;
  myProject=project;
}
