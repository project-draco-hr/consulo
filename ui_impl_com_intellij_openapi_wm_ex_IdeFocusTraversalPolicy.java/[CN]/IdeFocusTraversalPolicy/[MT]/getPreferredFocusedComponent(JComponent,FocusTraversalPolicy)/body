{
  if (component == null) {
    throw new IllegalArgumentException("component cannot be null");
  }
  if (!component.isVisible()) {
    return null;
  }
  final FocusTraversalPolicy focusTraversalPolicy=getFocusTraversalPolicyAwtImpl(component);
  if (focusTraversalPolicy != null && focusTraversalPolicy != policyToIgnore) {
    final Component defaultComponent=focusTraversalPolicy.getDefaultComponent(component);
    if (defaultComponent instanceof JComponent) {
      return (JComponent)defaultComponent;
    }
 else {
      return null;
    }
  }
  if (component instanceof JTabbedPane) {
    final JTabbedPane tabbedPane=(JTabbedPane)component;
    final Component selectedComponent=tabbedPane.getSelectedComponent();
    if (selectedComponent instanceof JComponent) {
      return getPreferredFocusedComponent((JComponent)selectedComponent);
    }
    return null;
  }
  if (_accept(component)) {
    return component;
  }
  final Component[] ca=component.getComponents();
  for (int i=0; i < ca.length; i++) {
    if (!(ca[i] instanceof JComponent)) {
      continue;
    }
    final JComponent c=getPreferredFocusedComponent((JComponent)ca[i]);
    if (c != null) {
      return c;
    }
  }
  return null;
}
