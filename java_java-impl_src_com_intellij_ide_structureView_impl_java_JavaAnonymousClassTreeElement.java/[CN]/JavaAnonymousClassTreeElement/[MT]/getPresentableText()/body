{
  if (myName != null)   return myName;
  final PsiClass element=getElement();
  if (element != null) {
    final PsiClass container=PsiTreeUtil.getParentOfType(element,PsiClass.class);
    final Collection<PsiAnonymousClass> all=PsiTreeUtil.collectElementsOfType(container,PsiAnonymousClass.class);
    int index=0;
    for (    PsiAnonymousClass anonymousClass : all) {
      if (PsiTreeUtil.getParentOfType(anonymousClass,PsiClass.class) == container) {
        index++;
        if (anonymousClass == element) {
          myName="$" + index;
          return myName;
        }
      }
    }
  }
  return "Anonymous";
}
