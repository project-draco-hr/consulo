{
  if (errors.isEmpty())   return;
  myModuleModel.myModulesCache=null;
  for (  ModuleLoadingErrorDescription error : errors) {
    final Module module=myModuleModel.myPathToModule.remove(FileUtil.toSystemIndependentName(error.getModulePath().getPath()));
    if (module != null) {
      ApplicationManager.getApplication().invokeLater(new Runnable(){
        @Override public void run(){
          Disposer.dispose(module);
        }
      }
);
    }
  }
  if (ApplicationManager.getApplication().isHeadlessEnvironment()) {
    throw new RuntimeException(errors.get(0).getDescription());
  }
  ProjectLoadingErrorsNotifier.getInstance(myProject).registerErrors(errors);
}
