{
  @NonNls final StringBuilder buf=StringBuilderSpinAllocator.alloc();
  try {
    for (    EnvironmentVariable variable : myEnvVariablesTable.getEnvironmentVariables()) {
      buf.append(variable.getName()).append("=").append(variable.getValue()).append(";");
    }
    if (buf.length() > 0)     buf.deleteCharAt(buf.length() - 1);
    setEnvs(buf.toString());
  }
  finally {
    StringBuilderSpinAllocator.dispose(buf);
  }
  super.doOKAction();
}
