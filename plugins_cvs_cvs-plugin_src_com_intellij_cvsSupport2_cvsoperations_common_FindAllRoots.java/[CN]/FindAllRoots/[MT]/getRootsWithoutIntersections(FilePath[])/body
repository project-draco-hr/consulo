{
  ArrayList<FilePath> result=new ArrayList<FilePath>();
  List<FilePath> list=Arrays.asList(roots);
  Collections.sort(list,new Comparator<FilePath>(){
    public int compare(    FilePath file,    FilePath file1){
      return file.getPath().compareTo(file1.getPath());
    }
  }
);
  FilePath[] sortedRoots=list.toArray(new FilePath[list.size()]);
  for (int i=0; i < sortedRoots.length; i++) {
    FilePath root=sortedRoots[i];
    if (i == 0) {
      result.add(root);
    }
 else {
      FilePath prevRoot=result.isEmpty() ? null : result.get(result.size() - 1);
      if ((prevRoot == null) || !VfsUtil.isAncestor(prevRoot.getIOFile(),root.getIOFile(),false)) {
        result.add(root);
      }
    }
  }
  return result;
}
