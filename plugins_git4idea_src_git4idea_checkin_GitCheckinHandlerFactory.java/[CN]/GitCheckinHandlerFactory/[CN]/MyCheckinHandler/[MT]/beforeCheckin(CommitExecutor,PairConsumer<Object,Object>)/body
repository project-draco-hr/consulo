{
  if (emptyCommitMessage()) {
    return ReturnResult.CANCEL;
  }
  if (commitOrCommitAndPush(executor)) {
    ReturnResult result=checkUserName();
    if (result != ReturnResult.COMMIT) {
      return result;
    }
    return warnAboutDetachedHeadIfNeeded();
  }
  return ReturnResult.COMMIT;
}
