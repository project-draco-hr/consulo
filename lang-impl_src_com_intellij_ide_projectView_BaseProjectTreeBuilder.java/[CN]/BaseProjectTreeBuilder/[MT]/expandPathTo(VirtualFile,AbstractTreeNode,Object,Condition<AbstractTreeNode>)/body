{
  final AsyncResult<AbstractTreeNode> async=new AsyncResult<AbstractTreeNode>();
  if (root.canRepresent(element)) {
    expand(root,new Runnable(){
      public void run(){
        async.setDone(root);
      }
    }
);
    return async;
  }
  if (root instanceof ProjectViewNode && file != null && !((ProjectViewNode)root).contains(file)) {
    async.setRejected();
    return async;
  }
  expand(root,new Runnable(){
    public void run(){
      final DefaultMutableTreeNode rootNode=getNodeForElement(root);
      if (rootNode != null) {
        final List<AbstractTreeNode> kids=collectChildren(rootNode);
        expandChild(kids,0,nonStopCondition,file,element,async);
      }
 else {
        async.setRejected();
      }
    }
  }
);
  return async;
}
