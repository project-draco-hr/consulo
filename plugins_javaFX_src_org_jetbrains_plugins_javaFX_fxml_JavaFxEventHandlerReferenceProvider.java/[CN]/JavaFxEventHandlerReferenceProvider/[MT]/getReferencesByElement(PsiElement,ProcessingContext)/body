{
  final XmlAttributeValue xmlAttrVal=(XmlAttributeValue)element;
  final PsiFile containingFile=xmlAttrVal.getContainingFile();
  if (!JavaFxFileTypeFactory.isFxml(containingFile))   return PsiReference.EMPTY_ARRAY;
  PsiMethod handlerMethod=null;
  PsiClass controllerClass=null;
  final XmlTag rootTag=((XmlFile)containingFile).getRootTag();
  if (rootTag != null) {
    final XmlAttribute attribute=rootTag.getAttribute(FxmlConstants.FX_CONTROLLER);
    if (attribute != null) {
      final String controllerClassName=attribute.getValue();
      controllerClass=JavaPsiFacade.getInstance(xmlAttrVal.getProject()).findClass(controllerClassName,xmlAttrVal.getResolveScope());
      if (controllerClass != null) {
        final String attValueString=xmlAttrVal.getValue();
        LOG.assertTrue(attValueString.startsWith("#"));
        final String eventHandlerName=attValueString.substring(1);
        final PsiMethod[] methods=controllerClass.findMethodsByName(eventHandlerName,true);
        for (        PsiMethod psiMethod : methods) {
          if (JavaFxEventHandlerReference.isHandlerMethod(psiMethod)) {
            handlerMethod=psiMethod;
            break;
          }
        }
      }
    }
  }
  return new PsiReference[]{new JavaFxEventHandlerReference(xmlAttrVal,handlerMethod,controllerClass)};
}
