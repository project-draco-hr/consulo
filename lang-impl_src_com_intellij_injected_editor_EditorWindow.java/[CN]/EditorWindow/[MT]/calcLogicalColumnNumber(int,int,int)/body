{
  if (myDocumentWindow.getTextLength() == 0)   return 0;
  if (offsetInLine == 0)   return 0;
  int end=myDocumentWindow.getLineEndOffset(lineNumber);
  if (offsetInLine > end - lineStartOffset)   offsetInLine=end - lineStartOffset;
  CharSequence text=myDocumentWindow.getCharsSequence();
  return EditorUtil.calcColumnNumber(this,text,lineStartOffset,lineStartOffset + offsetInLine,EditorUtil.getTabSize(myDelegate));
}
