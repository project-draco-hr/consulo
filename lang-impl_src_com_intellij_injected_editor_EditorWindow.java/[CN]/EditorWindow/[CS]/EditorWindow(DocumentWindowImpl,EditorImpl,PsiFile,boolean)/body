{
  myDocumentWindow=documentWindow;
  myDelegate=delegate;
  myInjectedFile=injectedFile;
  myOneLine=oneLine;
  myCaretModelDelegate=new CaretModelWindow(myDelegate.getCaretModel(),this);
  mySelectionModelDelegate=new SelectionModelWindow(myDelegate,myDocumentWindow,this);
  myMarkupModelDelegate=new MarkupModelWindow((MarkupModelEx)myDelegate.getMarkupModel(),myDocumentWindow);
  myFoldingModelWindow=new FoldingModelWindow((FoldingModelEx)delegate.getFoldingModel(),documentWindow);
  disposeInvalidEditors();
  allEditors.add(this);
}
