{
  if (isShowing()) {
    hide();
  }
  if (myWindowListener != null) {
    myWindowListener.saveSize();
    removeWindowListener(myWindowListener);
    myWindowListener=null;
  }
  if (myComponentListener != null) {
    removeComponentListener(myComponentListener);
    myComponentListener=null;
  }
  if (myFocusTrackback != null && !(myFocusTrackback.isSheduledForRestore() || myFocusTrackback.isWillBeSheduledForRestore())) {
    myFocusTrackback.dispose();
    myFocusTrackback=null;
  }
  final BufferStrategy strategy=getBufferStrategy();
  if (strategy != null) {
    try {
      Method method=strategy.getClass().getMethod("dispose");
      method.invoke(strategy);
    }
 catch (    Exception ex) {
    }
  }
  super.dispose();
  if (rootPane != null) {
    try {
      Field field=rootPane.getClass().getDeclaredField("glassPane");
      field.setAccessible(true);
      field.set(rootPane,null);
      field=rootPane.getClass().getDeclaredField("contentPane");
      field.setAccessible(true);
      field.set(rootPane,null);
      rootPane=null;
      field=Window.class.getDeclaredField("windowListener");
      field.setAccessible(true);
      field.set(this,null);
    }
 catch (    Exception e) {
    }
  }
  try {
    final Field field=Dialog.class.getDeclaredField("modalDialogs");
    field.setAccessible(true);
    final List<?> list=(List<?>)field.get(null);
    list.remove(this);
  }
 catch (  final Exception ex) {
  }
}
