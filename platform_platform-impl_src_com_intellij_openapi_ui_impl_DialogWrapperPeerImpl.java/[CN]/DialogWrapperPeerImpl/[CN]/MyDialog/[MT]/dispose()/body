{
  if (isShowing()) {
    hide();
  }
  if (myWindowListener != null) {
    myWindowListener.saveSize();
    removeWindowListener(myWindowListener);
    myWindowListener=null;
  }
  if (myFocusTrackback != null && !(myFocusTrackback.isSheduledForRestore() || myFocusTrackback.isWillBeSheduledForRestore())) {
    myFocusTrackback.dispose();
    myFocusTrackback=null;
  }
  final BufferStrategy strategy=getBufferStrategy();
  if (strategy != null) {
    strategy.dispose();
  }
  super.dispose();
  removeAll();
  if (rootPane != null) {
    try {
      Disposer.clearOwnFields(rootPane);
      rootPane=null;
    }
 catch (    Exception ignored) {
    }
  }
  try {
synchronized (getTreeLock()) {
      List<?> list=ReflectionUtil.getStaticFieldValue(Dialog.class,List.class,"modalDialogs");
      list.remove(this);
    }
  }
 catch (  final Exception ignored) {
  }
}
