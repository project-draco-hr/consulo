{
  super(owner);
  if (Registry.is("ide.mac.modalDialogsOnFullscreen")) {
    setModalityType(ModalityType.DOCUMENT_MODAL);
  }
  myDialogWrapper=new WeakReference<DialogWrapper>(dialogWrapper);
  myProject=project != null ? new WeakReference<Project>(project) : null;
  initDialog(focused,typeAheadDone,typeAheadCallback);
}
