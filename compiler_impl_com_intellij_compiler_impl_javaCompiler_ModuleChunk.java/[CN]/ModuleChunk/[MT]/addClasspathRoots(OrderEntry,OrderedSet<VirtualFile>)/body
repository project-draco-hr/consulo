{
  cpFiles.addAll(Arrays.asList(orderEntry.getFiles(OrderRootType.COMPILATION_CLASSES)));
  final Module module;
  if (orderEntry instanceof ModuleSourceOrderEntry) {
    module=orderEntry.getOwnerModule();
  }
 else   if (orderEntry instanceof ModuleOrderEntry) {
    module=((ModuleOrderEntry)orderEntry).getModule();
  }
 else {
    module=null;
  }
  if (module != null && (mySourcesFilter & TEST_SOURCES) == 0) {
    final VirtualFile outputPathForTests=CompilerPathsEx.getModuleOutputDirectory(module,true);
    if (outputPathForTests != null) {
      cpFiles.remove(outputPathForTests);
    }
  }
}
