{
  final PsiElement parent=expression.getParent();
  if (parent == null) {
    return null;
  }
 else   if (!(parent instanceof PsiExpression) && !(parent instanceof PsiExpressionList)) {
    return null;
  }
  if (parent instanceof PsiParenthesizedExpression || parent instanceof PsiConditionalExpression || parent instanceof PsiExpressionList) {
    return getContainingExpression(parent);
  }
 else {
    return (PsiExpression)parent;
  }
}
