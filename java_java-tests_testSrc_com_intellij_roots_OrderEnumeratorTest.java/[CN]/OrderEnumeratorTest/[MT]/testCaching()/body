{
  final VirtualFile[] roots=orderEntries(myModule).classes().usingCache().getRoots();
  assertOrderedEquals(roots,getRtJar());
  assertSame(roots,orderEntries(myModule).classes().usingCache().getRoots());
  final VirtualFile[] rootsWithoutSdk=orderEntries(myModule).withoutSdk().classes().usingCache().getRoots();
  assertEmpty(rootsWithoutSdk);
  assertSame(roots,orderEntries(myModule).classes().usingCache().getRoots());
  assertSame(rootsWithoutSdk,orderEntries(myModule).withoutSdk().classes().usingCache().getRoots());
  ModuleRootModificationUtil.addDependency(myModule,createJDomLibrary());
  assertRoots(orderEntries(myModule).classes().usingCache().getPathsList(),getRtJar(),getJDomJar());
  assertRoots(orderEntries(myModule).withoutSdk().classes().usingCache().getPathsList(),getJDomJar());
}
