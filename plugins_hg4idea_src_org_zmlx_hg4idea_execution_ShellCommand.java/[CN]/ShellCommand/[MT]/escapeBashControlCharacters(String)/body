{
  final String controlChars="|&$";
  final StringBuilder sb=new StringBuilder();
  for (int i=0; i < source.length(); i++) {
    char ch=source.charAt(i);
    if (controlChars.indexOf(ch) > -1) {
      sb.append("\\").append(ch);
    }
 else {
      sb.append(ch);
    }
  }
  return sb.toString();
}
