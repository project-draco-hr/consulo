{
  doTest(new Runnable(){
    @Override public void run(){
      final PsiElement elementAt=myFile.findElementAt(myEditor.getCaretModel().getOffset());
      final PsiTypeElement typeElement=PsiTreeUtil.getParentOfType(elementAt,PsiTypeElement.class);
      final PsiClass aClassA=JavaPsiFacade.getInstance(myProject).findClass("p2.A",GlobalSearchScope.moduleScope(myModule));
      assertNotNull(aClassA);
      final PsiElementFactory factory=myJavaFacade.getElementFactory();
      final PsiClassType type=factory.createType(aClassA);
      try {
        typeElement.replace(factory.createTypeElement(type));
      }
 catch (      IncorrectOperationException e) {
        LOGGER.error(e);
      }
    }
  }
);
}
