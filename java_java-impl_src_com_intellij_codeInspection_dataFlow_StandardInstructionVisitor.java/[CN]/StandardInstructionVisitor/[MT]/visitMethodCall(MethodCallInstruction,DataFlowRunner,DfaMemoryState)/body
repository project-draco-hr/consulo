{
  final PsiExpression[] args=instruction.getArgs();
  final boolean[] parametersNotNull=myParametersNotNull.get(instruction);
  final boolean[] nonAnnotated=myParametersNonAnnotated.get(instruction);
  final DfaNotNullValue.Factory factory=runner.getFactory().getNotNullFactory();
  for (int i=0; i < args.length; i++) {
    final DfaValue arg=memState.pop();
    final int revIdx=args.length - i - 1;
    if (args.length <= parametersNotNull.length && revIdx < parametersNotNull.length) {
      if (parametersNotNull[revIdx]) {
        if (!memState.applyNotNull(arg)) {
          onPassingNullParameter(runner,args[revIdx]);
          if (arg instanceof DfaVariableValue) {
            memState.setVarValue((DfaVariableValue)arg,factory.create(((DfaVariableValue)arg).getVariableType()));
          }
        }
      }
 else       if (nonAnnotated[revIdx] && !memState.checkNotNullable(arg)) {
        onPassingNullParameterToNonAnnotated(runner,args[revIdx]);
      }
    }
  }
  @NotNull final DfaValue qualifier=memState.pop();
  try {
    if (!memState.applyNotNull(qualifier)) {
      if (instruction.getMethodType() == MethodCallInstruction.MethodType.UNBOXING) {
        onUnboxingNullable(instruction,runner);
      }
 else {
        onInstructionProducesNPE(instruction,runner);
      }
      if (qualifier instanceof DfaVariableValue) {
        memState.setVarValue((DfaVariableValue)qualifier,factory.create(((DfaVariableValue)qualifier).getVariableType()));
      }
    }
    return nextInstruction(instruction,runner,memState);
  }
  finally {
    memState.push(getMethodResultValue(instruction,qualifier,runner.getFactory()));
    if (instruction.shouldFlushFields()) {
      memState.flushFields(runner);
    }
  }
}
