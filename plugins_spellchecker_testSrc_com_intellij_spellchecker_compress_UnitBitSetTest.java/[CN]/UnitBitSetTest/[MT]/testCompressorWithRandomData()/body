{
  int amount=10;
  for (int i=0; i < 1000; i++) {
    int[] values=getRandoms(UnitBitSet.MAX_UNIT_VALUE,amount);
    final UnitBitSet bitSet=new UnitBitSet();
    bitSet.setUnitValue(0,values.length);
    for (int i1=1, valuesLength=values.length; i1 < valuesLength; i1++) {
      int value=values[i1];
      bitSet.setUnitValue(i1,value);
    }
    final byte[] compressed=UnitBitSet.getBytes(bitSet);
    final UnitBitSet decompressed=UnitBitSet.create(compressed);
    boolean check=(bitSet.equals(decompressed));
    if (!check) {
      System.out.println("bitSet: " + bitSet);
      System.out.println("decompressed: " + decompressed);
      UnitBitSet.getBytes(bitSet);
      UnitBitSet.create(compressed);
    }
    assertEquals(bitSet,decompressed);
  }
}
