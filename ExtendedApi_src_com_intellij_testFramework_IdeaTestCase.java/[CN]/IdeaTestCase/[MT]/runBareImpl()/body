{
  final Throwable[] throwables=new Throwable[1];
  Runnable runnable=new Runnable(){
    public void run(){
      ourTestThread=Thread.currentThread();
      ourTestTime=getTimeRequired();
      try {
        setUp();
        try {
          myAssertionsInTestDetected=true;
          runTest();
          myAssertionsInTestDetected=false;
        }
  finally {
          try {
            tearDown();
          }
 catch (          Throwable th) {
            th.printStackTrace();
          }
        }
      }
 catch (      Throwable throwable) {
        throwables[0]=throwable;
      }
 finally {
        ourTestThread=null;
      }
    }
  }
;
  runBareRunnable(runnable);
  if (IdeaLogger.ourErrorsOccurred != null) {
    throw IdeaLogger.ourErrorsOccurred;
  }
  if (throwables[0] != null) {
    throw throwables[0];
  }
  waitForAllLaters();
  if (IdeaLogger.ourErrorsOccurred != null) {
    throw IdeaLogger.ourErrorsOccurred;
  }
}
