{
  myPanel=new JPanel(new BorderLayout());
  final DefaultActionGroup group=new DefaultActionGroup();
  final List<AnAction> actions=new LinkedList<AnAction>();
  final CommonActionsManager cam=CommonActionsManager.getInstance();
  final Expander expander=new Expander();
  final AnAction expandAction=cam.createExpandAllAction(expander,myView);
  actions.add(expandAction);
  final AnAction collapseAction=cam.createCollapseAllAction(expander,myView);
  actions.add(collapseAction);
  actions.add(new ToggleShowFlattenAction());
  final AnAction addAction=ActionManager.getInstance().getAction("ChangesView.AddUnversioned.From.Dialog");
  actions.add(addAction);
  addAction.registerCustomShortcutSet(addAction.getShortcutSet(),myView);
  ActionManager.getInstance().addAnActionListener(new AnActionListener.Adapter(){
    @Override public void afterActionPerformed(    AnAction action,    DataContext dataContext,    AnActionEvent event){
      if (addAction.equals(action)) {
        refreshView();
      }
    }
  }
,myDisposable);
  actions.add(new MoveChangesToAnotherListAction(){
    @Override public void actionPerformed(    AnActionEvent e){
      super.actionPerformed(e);
      refreshView();
    }
  }
);
  for (  AnAction action : actions) {
    group.add(action);
  }
  final ActionToolbar actionToolbar=ActionManager.getInstance().createActionToolbar("UNVERSIONED_DIALOG",group,false);
  myPanel.add(actionToolbar.getComponent(),BorderLayout.WEST);
  myPanel.add(ScrollPaneFactory.createScrollPane(myView),BorderLayout.CENTER);
  final DeleteUnversionedFilesAction deleteUnversionedFilesAction=new DeleteUnversionedFilesAction(){
    @Override public void actionPerformed(    AnActionEvent e){
      super.actionPerformed(e);
      refreshView();
    }
  }
;
  actions.add(deleteUnversionedFilesAction);
  deleteUnversionedFilesAction.registerCustomShortcutSet(CommonShortcuts.DELETE,myView);
  actions.add(new IgnoreUnversionedAction(){
    @Override public void actionPerformed(    AnActionEvent e){
      super.actionPerformed(e);
      refreshView();
    }
  }
);
  final DefaultActionGroup secondGroup=new DefaultActionGroup();
  for (  AnAction action : actions) {
    secondGroup.add(action);
  }
  myView.setMenuActions(secondGroup);
  myView.setShowFlatten(false);
}
