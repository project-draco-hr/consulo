{
  myPanel=new JPanel(new BorderLayout());
  final DefaultActionGroup group=new DefaultActionGroup();
  final List<AnAction> actions=new LinkedList<AnAction>();
  final CommonActionsManager cam=CommonActionsManager.getInstance();
  final Expander expander=new Expander();
  final AnAction expandAction=cam.createExpandAllAction(expander,myView);
  actions.add(expandAction);
  final AnAction collapseAction=cam.createCollapseAllAction(expander,myView);
  actions.add(collapseAction);
  actions.add(new ToggleShowFlattenAction());
  AnAction addAction=ActionManager.getInstance().getAction("ChangesView.AddUnversioned.From.Dialog");
  AnAction moveAction=ActionManager.getInstance().getAction("ChangesView.Move");
  AnAction deleteAction=ActionManager.getInstance().getAction("ChangesView.DeleteUnversioned.From.Dialog");
  AnAction ignoreAction=ActionManager.getInstance().getAction("ChangesView.Ignore");
  final AnAction[] operatingActions={addAction,moveAction,deleteAction,ignoreAction};
  for (  AnAction action : operatingActions) {
    actions.add(action);
    action.registerCustomShortcutSet(action.getShortcutSet(),myView);
  }
  deleteAction.registerCustomShortcutSet(CommonShortcuts.DELETE,myView);
  ActionManager.getInstance().addAnActionListener(new AnActionListener.Adapter(){
    @Override public void afterActionPerformed(    AnAction action,    DataContext dataContext,    AnActionEvent event){
      for (      AnAction anAction : operatingActions) {
        if (anAction.equals(action)) {
          refreshView();
        }
      }
    }
  }
,myDisposable);
  for (  AnAction action : actions) {
    group.add(action);
  }
  final ActionToolbar actionToolbar=ActionManager.getInstance().createActionToolbar("UNVERSIONED_DIALOG",group,false);
  myPanel.add(actionToolbar.getComponent(),BorderLayout.WEST);
  myPanel.add(ScrollPaneFactory.createScrollPane(myView),BorderLayout.CENTER);
  final DefaultActionGroup secondGroup=new DefaultActionGroup();
  for (  AnAction action : actions) {
    secondGroup.add(action);
  }
  myView.setMenuActions(secondGroup);
  myView.setShowFlatten(false);
}
