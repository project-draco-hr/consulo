{
  super(project,true);
  setTitle("Unversioned files");
  myProject=project;
  final Runnable closer=new Runnable(){
    public void run(){
      UnversionedViewDialog.this.close(0);
    }
  }
;
  myView=new ChangesListView(project){
    @Override public void calcData(    DataKey key,    DataSink sink){
      super.calcData(key,sink);
      if (ChangesListView.UNVERSIONED_FILES_DATA_KEY.is(key.getName())) {
        sink.put(key,Arrays.asList(getSelectedFiles()));
      }
    }
    @Override protected void editSourceRegistration(){
      EditSourceOnDoubleClickHandler.install(this,closer);
      EditSourceOnEnterKeyHandler.install(this,closer);
    }
  }
;
  myChangeListManager=ChangeListManager.getInstance(project);
  createPanel();
  setOKButtonText("Close");
  init();
  initData(((ChangeListManagerImpl)myChangeListManager).getUnversionedFiles());
  myView.setMinimumSize(new Dimension(100,100));
}
