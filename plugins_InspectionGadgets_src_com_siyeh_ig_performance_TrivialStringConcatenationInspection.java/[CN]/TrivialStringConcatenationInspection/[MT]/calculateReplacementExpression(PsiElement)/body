{
  final PsiBinaryExpression expression=(PsiBinaryExpression)location;
  final PsiExpression lOperand=expression.getLOperand();
  final PsiExpression rOperand=expression.getROperand();
  final PsiExpression replacement;
  if (ExpressionUtils.isEmptyStringLiteral(lOperand)) {
    replacement=rOperand;
  }
 else {
    replacement=lOperand;
  }
  @NonNls final String replacementText;
  if (replacement == null) {
    replacementText="";
  }
 else {
    if (ExpressionUtils.isNullLiteral(replacement)) {
      replacementText="(Object)null";
    }
 else {
      replacementText=replacement.getText();
    }
    if (TypeUtils.expressionHasType(replacement,CommonClassNames.JAVA_LANG_STRING)) {
      return replacementText;
    }
  }
  return "String.valueOf(" + replacementText + ')';
}
