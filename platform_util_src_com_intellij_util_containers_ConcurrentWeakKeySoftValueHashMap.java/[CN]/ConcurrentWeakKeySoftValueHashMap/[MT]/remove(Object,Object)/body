{
  processQueues();
  HardKey<K,V> hardKey=createHardKey(key);
  ValueReference<K,V> valueReference=myMap.get(hardKey);
  V v=deref(valueReference);
  boolean result=value.equals(v) && myMap.remove(hardKey,valueReference);
  hardKey.clear();
  return result;
}
