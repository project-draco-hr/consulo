{
  HighlightVisitor[] highlightVisitors;
synchronized (myProject) {
    Integer num=myProject.getUserData(HIGHLIGHT_VISITOR_THREADS_IN_USE);
    highlightVisitors=Extensions.getExtensions(HighlightVisitor.EP_HIGHLIGHT_VISITOR,myProject);
    if (num == null) {
      num=0;
    }
 else {
      highlightVisitors=highlightVisitors.clone();
      for (int i=0; i < highlightVisitors.length; i++) {
        HighlightVisitor highlightVisitor=highlightVisitors[i];
        highlightVisitors[i]=highlightVisitor.clone();
      }
    }
    myProject.putUserData(HIGHLIGHT_VISITOR_THREADS_IN_USE,num + 1);
  }
  for (  final HighlightVisitor highlightVisitor : highlightVisitors) {
    highlightVisitor.init();
  }
  return highlightVisitors;
}
