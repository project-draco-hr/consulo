{
  HighlightVisitor[] highlightVisitors;
synchronized (myProject) {
    highlightVisitors=myProject.getUserData(HIGHLIGHT_VISITORS_KEY);
    if (highlightVisitors == null) {
      highlightVisitors=myProject.getComponents(HighlightVisitor.class).clone();
      myProject.putUserData(HIGHLIGHT_VISITORS_KEY,highlightVisitors);
      for (int i=0; i < highlightVisitors.length; i++) {
        HighlightVisitor highlightVisitor=highlightVisitors[i];
        highlightVisitors[i]=highlightVisitor.clone();
      }
    }
 else {
      myProject.putUserData(HIGHLIGHT_VISITORS_KEY,null);
    }
  }
  for (  final HighlightVisitor highlightVisitor : highlightVisitors) {
    highlightVisitor.init();
  }
  return highlightVisitors;
}
