{
  final LinkedHashSet<String> conflicts=new LinkedHashSet<String>();
  for (  final PsiMember member : membersToMove) {
    if (member instanceof PsiMethod) {
      PsiMethod method=(PsiMethod)member;
      if (hasMethod(targetClass,method)) {
        String message=ConflictsUtil.getDescription(method,false) + " already exists in the target class.";
        message=ConflictsUtil.capitalize(message);
        conflicts.add(message);
      }
    }
 else     if (member instanceof PsiField) {
      PsiField field=(PsiField)member;
      if (hasField(targetClass,field)) {
        String message=ConflictsUtil.getDescription(field,false) + " already exists in the target class.";
        message=ConflictsUtil.capitalize(message);
        conflicts.add(message);
      }
    }
  }
  return analyzeAccessibilityConflicts(membersToMove,targetClass,conflicts,newVisibility);
}
