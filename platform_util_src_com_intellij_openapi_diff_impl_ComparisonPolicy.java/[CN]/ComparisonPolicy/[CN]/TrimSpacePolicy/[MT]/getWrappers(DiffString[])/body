{
  Object[] result=new Object[strings.length];
  boolean atBeginning=true;
  for (int i=0; i < strings.length; i++) {
    DiffString string=strings[i];
    DiffString wrapper=atBeginning ? string.trimLeading() : string;
    if (wrapper.endsWith('\n')) {
      atBeginning=true;
      wrapper=wrapper.trimTrailing();
    }
 else {
      atBeginning=false;
    }
    result[i]=wrapper;
  }
  return result;
}
