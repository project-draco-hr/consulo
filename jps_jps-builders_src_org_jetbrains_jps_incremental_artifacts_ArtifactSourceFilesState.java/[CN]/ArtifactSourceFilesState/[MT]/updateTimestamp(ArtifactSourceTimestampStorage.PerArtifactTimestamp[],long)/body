{
  final ArtifactSourceTimestampStorage.PerArtifactTimestamp newItem=new ArtifactSourceTimestampStorage.PerArtifactTimestamp(myArtifactId,timestamp);
  if (oldState == null) {
    return new ArtifactSourceTimestampStorage.PerArtifactTimestamp[]{newItem};
  }
  for (int i=0, length=oldState.length; i < length; i++) {
    if (oldState[i].myArtifactId == myArtifactId) {
      oldState[i]=newItem;
      return oldState;
    }
  }
  return ArrayUtil.append(oldState,newItem);
}
