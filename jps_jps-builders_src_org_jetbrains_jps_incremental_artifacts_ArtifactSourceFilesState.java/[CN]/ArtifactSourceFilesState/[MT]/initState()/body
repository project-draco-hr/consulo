{
  final Set<String> currentPaths=new HashSet<String>();
  myChangedFiles.clear();
  myDeletedFiles.clear();
  getOrCreateInstructions().processRoots(new ArtifactRootProcessor(){
    @Override public boolean process(    ArtifactSourceRoot root,    int rootIndex,    Collection<DestinationInfo> destinations) throws IOException {
      final File rootFile=root.getRootFile();
      if (rootFile.exists()) {
        processRecursively(rootFile,rootIndex,root.getFilter(),currentPaths);
      }
      return true;
    }
  }
);
  final ArtifactSourceToOutputMapping mapping=getOrCreateSrcOutMapping();
  final Iterator<String> iterator=mapping.getKeysIterator();
  while (iterator.hasNext()) {
    String path=iterator.next();
    if (!currentPaths.contains(path)) {
      myDeletedFiles.add(path);
    }
  }
}
