{
  for (  String filePath : deletedFiles) {
    final ArtifactSourceTimestampStorage.PerArtifactTimestamp[] state=myTimestampStorage.getState(filePath);
    if (state == null)     continue;
    for (int i=0, length=state.length; i < length; i++) {
      if (state[i].myArtifactId == myArtifactId) {
        ArrayUtil.remove(state,i);
        myTimestampStorage.update(filePath,state);
        break;
      }
    }
  }
  for (  String filePath : changedFiles) {
    final ArtifactSourceTimestampStorage.PerArtifactTimestamp[] state=myTimestampStorage.getState(filePath);
    if (state == null)     continue;
    for (int i=0, length=state.length; i < length; i++) {
      if (state[i].myArtifactId == myArtifactId) {
        File file=new File(FileUtil.toSystemDependentName(filePath));
        state[i]=new ArtifactSourceTimestampStorage.PerArtifactTimestamp(myArtifactId,file.lastModified());
        myTimestampStorage.update(filePath,state);
        break;
      }
    }
  }
  myDeletedFiles.clear();
  myChangedFiles.clear();
}
