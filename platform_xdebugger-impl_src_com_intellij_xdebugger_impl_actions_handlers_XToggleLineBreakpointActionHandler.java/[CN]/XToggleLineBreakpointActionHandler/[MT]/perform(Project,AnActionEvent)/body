{
  XSourcePosition position=XDebuggerUtilImpl.getCaretPosition(project,event.getDataContext());
  if (position == null)   return;
  ExpandRegionAction.expandRegionAtCaret(project,event.getData(PlatformDataKeys.EDITOR));
  int line=position.getLine();
  VirtualFile file=position.getFile();
  final XBreakpointManager breakpointManager=XDebuggerManager.getInstance(project).getBreakpointManager();
  for (  XLineBreakpointType<?> type : XDebuggerUtil.getInstance().getLineBreakpointTypes()) {
    final XLineBreakpoint<? extends XBreakpointProperties> breakpoint=breakpointManager.findBreakpointAtLine(type,file,line);
    if (breakpoint != null && myTemporary && !breakpoint.isTemporary()) {
      breakpoint.setTemporary(true);
    }
 else     if (type.canPutAt(file,line,project) || breakpoint != null) {
      XDebuggerUtil.getInstance().toggleLineBreakpoint(project,type,file,line,myTemporary);
      return;
    }
  }
}
