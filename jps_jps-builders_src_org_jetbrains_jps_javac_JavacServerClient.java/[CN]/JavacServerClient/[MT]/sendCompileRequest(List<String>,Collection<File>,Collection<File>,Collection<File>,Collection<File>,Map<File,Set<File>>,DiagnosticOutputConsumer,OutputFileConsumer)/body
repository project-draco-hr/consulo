{
  final JavacServerResponseHandler rh=new JavacServerResponseHandler(diagnosticSink,outputSink);
  final JavacRemoteProto.Message.Request request=JavacProtoUtil.createCompilationRequest(options,files,classpath,platformCp,sourcePath,outs);
  return sendRequest(request,rh,new RequestFuture.CancelAction<JavacServerResponseHandler>(){
    public void cancel(    RequestFuture<JavacServerResponseHandler> javacServerResponseHandlerRequestFuture) throws Exception {
      sendRequest(JavacProtoUtil.createCancelRequest(),null,null);
    }
  }
);
}
