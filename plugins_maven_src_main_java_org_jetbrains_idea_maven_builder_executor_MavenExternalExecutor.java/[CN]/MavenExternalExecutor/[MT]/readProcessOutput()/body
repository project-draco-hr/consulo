{
  ProgressIndicator indicator=ProgressManager.getInstance().getProgressIndicator();
  BufferedReader procout=new BufferedReader(new InputStreamReader(mavenProcess.getInputStream()));
  try {
    String line;
    while ((line=procout.readLine()) != null) {
      if (indicator != null) {
        if (indicator.isCanceled()) {
          cancel();
        }
        if (line.matches(INFO_REGEXP)) {
          indicator.setText2(line.substring(INFO_PREFIX_SIZE));
        }
      }
      consoleOutput.print(line);
    }
  }
 catch (  IOException e) {
    consoleOutput.message(MavenBuildLogger.LEVEL_ERROR,BuilderBundle.message("external.io.error"),e);
    try {
      procout.close();
    }
 catch (    IOException ignore) {
    }
  }
}
