{
  return new Processor<VirtualFile>(){
    @Override public boolean process(    final VirtualFile file){
      if (!(file instanceof VirtualFileSystemEntry))       return false;
      Document cachedDocument=FileDocumentManager.getInstance().getCachedDocument(file);
      if (cachedDocument == null)       return true;
      ProgressManager.progress("Reloading files...",file.getPresentableUrl());
      TransactionGuard.submitTransaction(ApplicationManager.getApplication(),new Runnable(){
        @Override public void run(){
          clearAndReload(file);
        }
      }
);
      return true;
    }
  }
;
}
