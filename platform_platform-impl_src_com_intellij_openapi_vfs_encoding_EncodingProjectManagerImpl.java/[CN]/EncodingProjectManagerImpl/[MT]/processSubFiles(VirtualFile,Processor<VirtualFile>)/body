{
  if (file == null) {
    for (    VirtualFile virtualFile : ProjectRootManager.getInstance(myProject).getContentRoots()) {
      if (!processSubFiles(virtualFile,processor))       return false;
    }
    return true;
  }
  return VirtualFileVisitor.CONTINUE == VfsUtilCore.visitChildrenRecursively(file,new VirtualFileVisitor(){
    @Override public boolean visitFile(    @NotNull final VirtualFile file){
      return processor.process(file);
    }
  }
);
}
