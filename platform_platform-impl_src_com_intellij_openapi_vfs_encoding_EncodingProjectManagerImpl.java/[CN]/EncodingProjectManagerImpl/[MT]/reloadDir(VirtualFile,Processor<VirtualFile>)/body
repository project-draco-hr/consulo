{
  if (file == null) {
    for (    VirtualFile virtualFile : ProjectRootManager.getInstance(myProject).getContentRoots()) {
      reloadDir(virtualFile,processor);
    }
    return;
  }
  VfsUtilCore.visitChildrenRecursively(file,new VirtualFileVisitor(){
    @Override public boolean visitFile(    @NotNull final VirtualFile file){
      return processor.process(file);
    }
  }
);
}
