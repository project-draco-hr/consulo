{
  myProgress.setText(ProjectBundle.message("maven.downloading.artifact",classifier));
  int step=0;
  for (  Map.Entry<MavenArtifact,Set<MavenRemoteRepository>> eachEntry : libraryArtifacts.entrySet()) {
    MavenArtifact eachArtifact=eachEntry.getKey();
    myProgress.checkCanceled();
    myProgress.setFraction(((double)step++) / libraryArtifacts.size());
    myProgress.setText2(eachArtifact.toString());
    Artifact a=myEmbedder.createArtifact(eachArtifact.getGroupId(),eachArtifact.getArtifactId(),eachArtifact.getVersion(),MavenConstants.TYPE_JAR,classifier);
    myEmbedder.resolve(a,new ArrayList<MavenRemoteRepository>(eachEntry.getValue()),myProgress);
    if (a.isResolved())     downloadedFiles.add(a.getFile());
  }
}
