{
  Map<MavenId,Set<MavenRemoteRepository>> result=new THashMap<MavenId,Set<MavenRemoteRepository>>();
  for (  MavenProject eachProject : myMavenProjects) {
    List<MavenRemoteRepository> repositories=eachProject.getRemoteRepositories();
    for (    MavenArtifact eachDependency : eachProject.getDependencies()) {
      if (Artifact.SCOPE_SYSTEM.equalsIgnoreCase(eachDependency.getScope()))       continue;
      if (myProjectsTree.findProject(eachDependency.getMavenId()) != null)       continue;
      if (!eachProject.isSupportedDependency(eachDependency))       continue;
      if (!eachDependency.isResolved())       continue;
      MavenId depId=eachDependency.getMavenId();
      Set<MavenRemoteRepository> registeredRepositories=result.get(depId);
      if (registeredRepositories == null) {
        registeredRepositories=new LinkedHashSet<MavenRemoteRepository>();
        result.put(depId,registeredRepositories);
      }
      registeredRepositories.addAll(repositories);
    }
  }
  return result;
}
