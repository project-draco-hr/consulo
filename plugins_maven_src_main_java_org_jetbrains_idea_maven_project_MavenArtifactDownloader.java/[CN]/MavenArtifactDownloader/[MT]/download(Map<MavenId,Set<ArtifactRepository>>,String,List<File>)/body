{
  myProgress.setText(ProjectBundle.message("maven.downloading.artifact",classifier));
  int step=0;
  for (  Map.Entry<MavenId,Set<ArtifactRepository>> entry : libraryArtifacts.entrySet()) {
    myProgress.checkCanceled();
    final MavenId id=entry.getKey();
    myProgress.setFraction(((double)step++) / libraryArtifacts.size());
    myProgress.setText2(id.toString());
    Artifact a=myEmbedder.createArtifact(id.groupId,id.artifactId,id.version,MavenConstants.JAR_TYPE,classifier);
    myEmbedder.resolve(a,new ArrayList<ArtifactRepository>(entry.getValue()));
    if (a.isResolved())     downloadedFiles.add(a.getFile());
  }
}
