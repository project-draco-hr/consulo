{
  List<File> downloadedFiles=new ArrayList<File>();
  try {
    Map<MavenArtifact,Set<MavenRemoteRepository>> artifacts=collectArtifactsToDownload();
    download(MavenConstants.SOURCES_CLASSIFIER,artifacts,downloadedFiles);
    download(MavenConstants.JAVADOC_CLASSIFIER,artifacts,downloadedFiles);
  }
  finally {
    scheduleFilesRefresh(downloadedFiles);
  }
}
