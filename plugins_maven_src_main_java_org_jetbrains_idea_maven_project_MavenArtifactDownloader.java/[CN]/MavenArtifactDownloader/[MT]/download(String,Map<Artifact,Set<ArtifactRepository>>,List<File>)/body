{
  myProgress.setText(ProjectBundle.message("maven.downloading.artifact",classifier));
  int step=0;
  for (  Map.Entry<Artifact,Set<ArtifactRepository>> eachEntry : libraryArtifacts.entrySet()) {
    Artifact eachArtifact=eachEntry.getKey();
    myProgress.checkCanceled();
    myProgress.setFraction(((double)step++) / libraryArtifacts.size());
    myProgress.setText2(eachArtifact.toString());
    Artifact a=myEmbedder.createArtifact(eachArtifact.getGroupId(),eachArtifact.getArtifactId(),eachArtifact.getVersion(),MavenConstants.JAR_TYPE,classifier);
    myEmbedder.resolve(a,new ArrayList<ArtifactRepository>(eachEntry.getValue()));
    if (a.isResolved())     downloadedFiles.add(a.getFile());
  }
}
