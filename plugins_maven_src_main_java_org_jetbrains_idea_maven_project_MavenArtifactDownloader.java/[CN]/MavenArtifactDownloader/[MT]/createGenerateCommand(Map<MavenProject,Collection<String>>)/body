{
  final List<MavenRunnerParameters> commands=new ArrayList<MavenRunnerParameters>();
  final List<String> goals=Arrays.asList(generateGoals);
  final LinkedHashSet<String> modulePaths=new LinkedHashSet<String>();
  for (  Map.Entry<MavenProject,Collection<String>> entry : projects.entrySet()) {
    ProjectUtil.collectAbsoluteModulePaths(entry.getKey(),entry.getValue(),modulePaths);
  }
  for (  Map.Entry<MavenProject,Collection<String>> entry : projects.entrySet()) {
    final File file=entry.getKey().getFile();
    if (!modulePaths.contains(FileUtil.toSystemIndependentName(file.getPath()))) {
      commands.add(new MavenRunnerParameters(file.getPath(),goals,entry.getValue()));
    }
  }
  return commands;
}
