{
  final MultiProcessCommand reloadClassesCommand=new MultiProcessCommand();
  reloadClassesProgress.setCancelWorker(new Runnable(){
    public void run(){
      reloadClassesCommand.cancel();
    }
  }
);
  for (  final DebuggerSession debuggerSession : modifiedClasses.keySet()) {
    reloadClassesCommand.addCommand(debuggerSession.getProcess(),new DebuggerCommandImpl(){
      protected void action() throws Exception {
        reloadClassesProgress.setDebuggerSession(debuggerSession);
        getInstance(reloadClassesProgress.getProject()).reloadClasses(debuggerSession,modifiedClasses.get(debuggerSession),reloadClassesProgress);
      }
    }
);
  }
  reloadClassesProgress.setTitle(DebuggerBundle.message("progress.hotswap.reloading"));
  reloadClassesCommand.run();
}
