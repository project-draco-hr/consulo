{
  try {
    final String superClassName=myClass.getName();
    final String oldQualifiedName=myClass.getQualifiedName();
    myClass.setName(myNewClassName);
    PsiClass superClass=extractSuper(superClassName);
    for (    final UsageInfo usage : usages) {
      if (usage instanceof BindToOldUsageInfo) {
        final PsiReference reference=((BindToOldUsageInfo)usage).reference;
        if (reference.getElement().isValid()) {
          reference.bindToElement(myClass);
        }
      }
    }
    if (!Comparing.equal(oldQualifiedName,superClass.getQualifiedName())) {
      processTurnToSuperRefs(usages,superClass);
    }
  }
 catch (  IncorrectOperationException e) {
    LOG.error(e);
  }
  performVariablesRenaming();
}
