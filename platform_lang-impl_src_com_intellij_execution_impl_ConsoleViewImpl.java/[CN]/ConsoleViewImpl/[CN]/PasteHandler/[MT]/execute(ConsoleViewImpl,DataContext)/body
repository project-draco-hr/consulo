{
  String s=CopyPasteManager.getInstance().getContents(DataFlavor.stringFlavor);
  if (s == null)   return;
  s=StringUtil.convertLineSeparators(s);
  ApplicationManager.getApplication().assertIsDispatchThread();
  Editor editor=consoleView.myEditor;
  SelectionModel selectionModel=editor.getSelectionModel();
  if (selectionModel.hasSelection()) {
    consoleView.replaceUserText(s,selectionModel.getSelectionStart(),selectionModel.getSelectionEnd());
  }
 else {
    consoleView.insertUserText(s,editor.getCaretModel().getOffset());
  }
}
