{
  String text=CopyPasteManager.getInstance().getContents(DataFlavor.stringFlavor);
  if (text == null)   return;
  text=StringUtil.convertLineSeparators(text);
  ApplicationManager.getApplication().assertIsDispatchThread();
  Editor editor=consoleView.myEditor;
  SelectionModel selectionModel=editor.getSelectionModel();
  if (selectionModel.hasSelection()) {
    consoleView.replaceUserText(text,selectionModel.getSelectionStart(),selectionModel.getSelectionEnd());
  }
 else {
    consoleView.insertUserText(text,editor.getCaretModel().getOffset());
  }
}
