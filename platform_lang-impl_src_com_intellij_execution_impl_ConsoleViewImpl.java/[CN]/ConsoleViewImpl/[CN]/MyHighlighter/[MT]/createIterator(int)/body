{
  final int startIndex=findTokenInfoIndexByOffset(startOffset);
  return new HighlighterIterator(){
    private int myIndex=startIndex;
    public TextAttributes getTextAttributes(){
      if (myFileType != null && getTokenInfo().contentType == ConsoleViewContentType.USER_INPUT) {
        return ConsoleViewContentType.NORMAL_OUTPUT.getAttributes();
      }
      return getTokenInfo() == null ? null : getTokenInfo().attributes;
    }
    public int getStart(){
      return getTokenInfo() == null ? 0 : getTokenInfo().startOffset;
    }
    public int getEnd(){
      return getTokenInfo() == null ? 0 : getTokenInfo().endOffset;
    }
    public IElementType getTokenType(){
      return null;
    }
    public void advance(){
      myIndex++;
    }
    public void retreat(){
      myIndex--;
    }
    public boolean atEnd(){
      return myIndex < 0 || myIndex >= myTokens.size();
    }
    public Document getDocument(){
      return myEditor.getDocument();
    }
    private TokenInfo getTokenInfo(){
      return myTokens.get(myIndex);
    }
  }
;
}
