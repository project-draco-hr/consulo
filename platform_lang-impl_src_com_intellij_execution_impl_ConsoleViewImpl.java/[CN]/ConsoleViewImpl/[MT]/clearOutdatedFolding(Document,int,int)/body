{
  final THashSet<FoldRegion> toRemove=new THashSet<FoldRegion>();
  final int dirtyRegionStart=document.getLineStartOffset(startLine);
  final int diretyRegionEnd=document.getLineEndOffset(endLine);
  for (  FoldRegion region : myEditor.getFoldingModel().getAllFoldRegions()) {
    final int regStart=region.getStartOffset();
    final int regEnd=region.getEndOffset();
    if (regStart >= dirtyRegionStart && regStart <= dirtyRegionStart || regEnd >= dirtyRegionStart && regEnd <= diretyRegionEnd) {
      toRemove.add(region);
    }
  }
  return toRemove;
}
