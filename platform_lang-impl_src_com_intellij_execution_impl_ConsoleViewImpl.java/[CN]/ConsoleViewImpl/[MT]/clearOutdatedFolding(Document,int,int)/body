{
  final THashSet<FoldRegion> toRemove=new THashSet<FoldRegion>();
  final int dirtyRegionStart=document.getLineStartOffset(startLine);
  final int diretyRegionEnd=document.getLineEndOffset(endLine);
  for (  FoldRegion region : myEditor.getFoldingModel().getAllFoldRegions()) {
    if (region.getStartOffset() >= dirtyRegionStart || region.getEndOffset() <= diretyRegionEnd) {
      toRemove.add(region);
    }
  }
  return toRemove;
}
