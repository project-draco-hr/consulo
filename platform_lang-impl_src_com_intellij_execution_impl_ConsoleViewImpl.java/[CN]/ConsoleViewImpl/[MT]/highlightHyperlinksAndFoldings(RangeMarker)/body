{
  boolean canHighlightHyperlinks=!myFilters.isEmpty();
  if (!canHighlightHyperlinks && myUpdateFoldingsEnabled) {
    return;
  }
  final int line1=lastProcessedOutput.isValid() ? myEditor.getDocument().getLineNumber(lastProcessedOutput.getEndOffset()) : 0;
  lastProcessedOutput.dispose();
  int endLine=myEditor.getDocument().getLineCount() - 1;
  ApplicationManager.getApplication().assertIsDispatchThread();
  if (canHighlightHyperlinks) {
    myHyperlinks.highlightHyperlinks(myFilters,line1,endLine);
  }
  if (myAllowHeavyFilters && myFilters.isAnyHeavy() && myFilters.shouldRunHeavy()) {
    runHeavyFilters(line1,endLine);
  }
  if (myUpdateFoldingsEnabled) {
    updateFoldings(line1,endLine);
  }
}
