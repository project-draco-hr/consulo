{
  boolean needNew=true;
  if (!myTokens.isEmpty()) {
    final TokenInfo lastToken=myTokens.get(myTokens.size() - 1);
    if (lastToken.contentType == contentType) {
      lastToken.endOffset=myContentSize;
      needNew=false;
    }
  }
  if (needNew) {
    myTokens.add(new TokenInfo(contentType,myContentSize - length,myContentSize));
  }
}
