{
  boolean canHighlightHyperlinks=!myCustomFilter.isEmpty() || !myPredefinedMessageFilter.isEmpty();
  if (!canHighlightHyperlinks && myUpdateFoldingsEnabled) {
    return;
  }
  ApplicationManager.getApplication().assertIsDispatchThread();
  PsiDocumentManager.getInstance(myProject).commitAllDocuments();
  if (canHighlightHyperlinks) {
    highlightHyperlinks(myEditor,myHyperlinks,myCustomFilter,myPredefinedMessageFilter,line1,endLine);
  }
  if (myUpdateFoldingsEnabled) {
    updateFoldings(line1,endLine,true);
  }
}
