{
synchronized (LOCK) {
    Pair<String,Integer> pair=myBuffer.print(s,contentType,info);
    s=pair.first;
    myContentSize+=s.length() - pair.second;
    if (contentType == ConsoleViewContentType.USER_INPUT && NEW_LINE_MATCHER.indexIn(s) >= 0) {
      flushDeferredUserInput();
    }
    if (myEditor != null) {
      final boolean shouldFlushNow=myBuffer.isUseCyclicBuffer() && myBuffer.getLength() >= myBuffer.getCyclicBufferSize();
      addFlushRequest(new MyFlushRunnable(),shouldFlushNow ? 0 : DEFAULT_FLUSH_DELAY);
    }
  }
}
