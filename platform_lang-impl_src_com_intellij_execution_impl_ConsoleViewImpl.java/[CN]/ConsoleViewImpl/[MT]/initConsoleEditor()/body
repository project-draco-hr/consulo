{
  myEditor=createConsoleEditor();
  registerConsoleEditorActions();
  myEditor.getScrollPane().setBorder(null);
  MouseAdapter mouseListener=new MouseAdapter(){
    @Override public void mousePressed(    MouseEvent e){
      updateStickToEndState(true);
    }
    @Override public void mouseDragged(    MouseEvent e){
      updateStickToEndState(false);
    }
    @Override public void mouseWheelMoved(    MouseWheelEvent e){
      updateStickToEndState(false);
    }
  }
;
  myEditor.getScrollPane().addMouseWheelListener(mouseListener);
  myEditor.getScrollPane().getVerticalScrollBar().addMouseListener(mouseListener);
  myEditor.getScrollPane().getVerticalScrollBar().addMouseMotionListener(mouseListener);
  myHyperlinks=new EditorHyperlinkSupport(myEditor,myProject);
  myEditor.getScrollingModel().addVisibleAreaListener(new VisibleAreaListener(){
    @Override public void visibleAreaChanged(    VisibleAreaEvent e){
      Rectangle oldR=e.getOldRectangle();
      if (oldR != null && oldR.height <= 0 && e.getNewRectangle().height > 0 && isStickingToEnd()) {
        scrollToEnd();
      }
    }
  }
);
}
