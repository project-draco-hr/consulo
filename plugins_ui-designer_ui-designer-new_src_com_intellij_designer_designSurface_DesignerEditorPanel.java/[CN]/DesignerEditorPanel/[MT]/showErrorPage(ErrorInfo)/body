{
  storeState();
  hideProgress();
  myRootComponent=null;
  myErrorMessage.setText(info.displayMessage);
  if (info.stack) {
    ByteArrayOutputStream stream=new ByteArrayOutputStream();
    info.throwable.printStackTrace(new PrintStream(stream));
    myErrorStack.setText(stream.toString());
    myErrorStack.setVisible(true);
  }
 else {
    myErrorStack.setText(null);
    myErrorStack.setVisible(false);
  }
  myLayout.show(this,ERROR_CARD);
  DesignerToolWindowManager.getInstance(getProject()).refresh(true);
  repaint();
}
