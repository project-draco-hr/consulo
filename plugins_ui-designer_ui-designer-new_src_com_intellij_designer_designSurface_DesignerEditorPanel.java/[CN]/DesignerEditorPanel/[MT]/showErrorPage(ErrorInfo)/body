{
  storeState();
  hideProgress();
  myRootComponent=null;
  myErrorMessages.removeAll();
  if (info.myShowStack) {
    info.myMessages.add(0,new FixableMessageInfo(true,info.myDisplayMessage,"","",null,null));
    ByteArrayOutputStream stream=new ByteArrayOutputStream();
    info.myThrowable.printStackTrace(new PrintStream(stream));
    myErrorStack.setText(stream.toString());
    myErrorStackLayout.show(myErrorStackPanel,ERROR_STACK_CARD);
  }
 else {
    myErrorStack.setText(null);
    myErrorStackLayout.show(myErrorStackPanel,ERROR_NO_STACK_CARD);
  }
  for (  FixableMessageInfo message : info.myMessages) {
    addErrorMessage(message,message.myErrorIcon ? Messages.getErrorIcon() : Messages.getWarningIcon());
  }
  myErrorPanel.revalidate();
  myLayout.show(this,ERROR_CARD);
  DesignerToolWindowManager.getInstance(getProject()).refresh(true);
  repaint();
}
