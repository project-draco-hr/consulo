{
  storeState();
  hideProgress();
  myRootComponent=null;
  myErrorMessages.removeAll();
  if (info.myShowStack) {
    info.myMessages.add(0,new FixableMessageInfo(true,info.myDisplayMessage + " ","Show details","",new Runnable(){
      @Override public void run(){
        myErrorStackLayout.next(myErrorStackPanel);
        myLastShowStack=!myLastShowStack;
      }
    }
,null));
    ByteArrayOutputStream stream=new ByteArrayOutputStream();
    info.myThrowable.printStackTrace(new PrintStream(stream));
    myErrorStack.setText(stream.toString());
    myErrorStackLayout.show(myErrorStackPanel,myLastShowStack ? "Stack" : "No_Stack");
  }
 else {
    myErrorStack.setText(null);
    myErrorStackLayout.show(myErrorStackPanel,"No_Stack");
  }
  for (  FixableMessageInfo message : info.myMessages) {
    addErrorMessage(message,message.myErrorIcon ? Messages.getErrorIcon() : Messages.getWarningIcon());
  }
  myErrorPanel.revalidate();
  myLayout.show(this,ERROR_CARD);
  DesignerToolWindowManager.getInstance(getProject()).refresh(true);
  repaint();
}
