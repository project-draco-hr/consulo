{
  DesignerToolWindowManager toolManager=DesignerToolWindowManager.getInstance(getProject());
  if (myExpandedState == null || mySelectionProperty == null || myRootComponent == null) {
    toolManager.refresh(true);
  }
 else {
    List<RadComponent> expanded=new ArrayList<RadComponent>();
    for (    int[] path : myExpandedState) {
      pathToComponent(expanded,myRootComponent,path,0);
    }
    myExpandedComponents=expanded;
    toolManager.expandFromState();
    List<RadComponent> selection=new ArrayList<RadComponent>();
    for (    int[] path : mySelectionState) {
      pathToComponent(selection,myRootComponent,path,0);
    }
    mySurfaceArea.setSelection(selection);
  }
  myExpandedState=null;
  mySelectionState=null;
}
