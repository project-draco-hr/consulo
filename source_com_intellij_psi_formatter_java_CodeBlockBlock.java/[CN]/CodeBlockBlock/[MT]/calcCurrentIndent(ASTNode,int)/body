{
  if (child.getElementType() == ElementType.RBRACE) {
    return Formatter.getInstance().getNoneIndent();
  }
  if (state == BEFORE_FIRST)   return Formatter.getInstance().getNoneIndent();
  if (child.getElementType() == ElementType.SWITCH_LABEL_STATEMENT) {
    return getCodeBlockInternalIndent(myChildrenIndent);
  }
  if (state == AFTER_CASE_LABEL) {
    if (child.getElementType() == ElementType.BLOCK_STATEMENT) {
      return getCodeBlockInternalIndent(myChildrenIndent);
    }
 else {
      return getCodeBlockInternalIndent(myChildrenIndent + 1);
    }
  }
  if (state == BEFORE_LBRACE) {
    if (child.getElementType() == ElementType.LBRACE) {
      return Formatter.getInstance().getNoneIndent();
    }
 else {
      return Formatter.getInstance().createContinuationIndent();
    }
  }
 else {
    if (child.getElementType() == ElementType.RBRACE) {
      return Formatter.getInstance().getNoneIndent();
    }
 else {
      return getCodeBlockInternalIndent(myChildrenIndent);
    }
  }
}
