{
  final ArrayList<Block> localResult=new ArrayList<Block>();
  processChild(localResult,child,null,null,Indent.getNoneIndent());
  child=child.getTreeNext();
  while (child != null) {
    if (!FormatterUtil.containsWhiteSpacesOnly(child)) {
      final boolean rBrace=isRBrace(child);
      final Indent childIndent=rBrace ? Indent.getNoneIndent() : getCodeBlockInternalIndent(myChildrenIndent);
      child=processChild(localResult,child,null,null,childIndent);
      if (rBrace) {
        result.add(createCodeBlockBlock(localResult,indent));
        return child;
      }
    }
    if (child != null) {
      child=child.getTreeNext();
    }
  }
  result.add(createCodeBlockBlock(localResult,indent));
  return null;
}
