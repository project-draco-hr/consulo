{
  final PsiFile file=getContainingFile();
  if (file == null)   return Collections.emptyList();
  if (myOptions != null) {
    final Function<PsiFile,Collection<PsiFileSystemItem>> value=DEFAULT_PATH_EVALUATOR_OPTION.getValue(myOptions);
    if (value != null) {
      final Collection<PsiFileSystemItem> roots=value.fun(file);
      if (roots != null) {
        for (        PsiFileSystemItem root : roots) {
          LOG.assertTrue(root != null,"Default path evaluator " + value + " produced a null root for "+ file);
        }
        return roots;
      }
    }
  }
  if (isAbsolutePathReference()) {
    return getAbsoluteTopLevelDirLocations(file);
  }
  final CachedValueProvider<Collection<PsiFileSystemItem>> myDefaultContextProvider=new CachedValueProvider<Collection<PsiFileSystemItem>>(){
    public Result<Collection<PsiFileSystemItem>> compute(){
      final Collection<PsiFileSystemItem> contexts=getContextByFile(file);
      return Result.createSingleDependency(contexts,PsiModificationTracker.OUT_OF_CODE_BLOCK_MODIFICATION_COUNT);
    }
  }
;
  final CachedValuesManager cachedValuesManager=CachedValuesManager.getManager(myElement.getProject());
  final Collection<PsiFileSystemItem> value=cachedValuesManager.getCachedValue(file,DEFAULT_CONTEXTS_KEY,myDefaultContextProvider,false);
  return value == null ? Collections.<PsiFileSystemItem>emptyList() : value;
}
