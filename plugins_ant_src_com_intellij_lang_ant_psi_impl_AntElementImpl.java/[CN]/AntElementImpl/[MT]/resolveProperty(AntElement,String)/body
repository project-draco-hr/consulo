{
  AntElement temp=element;
  while (temp != null) {
    final PsiElement psiElement=temp.getProperty(name);
    if (psiElement != null) {
      return psiElement;
    }
    temp=temp.getAntParent();
  }
  final AntElement anchor=AntPsiUtil.getSubProjectElement(element);
  for (  PsiElement child : element.getAntProject().getChildren()) {
    if (child == anchor)     break;
    if (child instanceof AntProperty) {
      AntProperty prop=(AntProperty)child;
      final PropertiesFile propFile=prop.getPropertiesFile();
      if (propFile != null) {
        final Property property=propFile.findPropertyByKey(name);
        if (property != null) {
          return property;
        }
      }
    }
  }
  return null;
}
