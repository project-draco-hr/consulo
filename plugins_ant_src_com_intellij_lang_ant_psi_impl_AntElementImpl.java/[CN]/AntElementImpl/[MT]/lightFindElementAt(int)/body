{
synchronized (PsiLock.LOCK) {
    if (myChildren == null) {
      return this;
    }
    final TextRange ownRange=getTextRange();
    final int offsetInFile=offset + ownRange.getStartOffset();
    for (    final AntElement element : getChildren()) {
      final TextRange textRange=element.getTextRange();
      if (textRange.contains(offsetInFile)) {
        return element.lightFindElementAt(offsetInFile - textRange.getStartOffset());
      }
    }
    return ownRange.contains(offsetInFile) ? this : null;
  }
}
