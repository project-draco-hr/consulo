{
  final TextRange textRange=getTextRange();
  if (textRange.getStartOffset() <= offset && textRange.getEndOffset() >= offset) {
    final PsiElement[] children=getChildren();
    for (    PsiElement child : children) {
      final PsiElement psiElement=child.findElementAt(offset);
      if (psiElement != null) {
        return psiElement;
      }
    }
    return this;
  }
  return null;
}
