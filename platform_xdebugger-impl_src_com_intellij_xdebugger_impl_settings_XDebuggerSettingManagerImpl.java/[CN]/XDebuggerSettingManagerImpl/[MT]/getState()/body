{
  SettingsState settingsState=new SettingsState();
  settingsState.setDataViewSettings(myDataViewSettings);
  settingsState.setGeneralSettings(myGeneralSettings);
  initSettings();
  if (!mySettingsById.isEmpty()) {
    SkipDefaultValuesSerializationFilters filter=new SkipDefaultValuesSerializationFilters();
    for (    XDebuggerSettings<?> settings : mySettingsById.values()) {
      Object subState=settings.getState();
      if (subState != null) {
        Element serializedState=XmlSerializer.serializeIfNotDefault(subState,filter);
        if (!JDOMUtil.isEmpty(serializedState)) {
          SpecificSettingsState state=new SpecificSettingsState();
          state.id=settings.getId();
          state.configuration=serializedState;
          settingsState.specificStates.add(state);
        }
      }
    }
  }
  return settingsState;
}
