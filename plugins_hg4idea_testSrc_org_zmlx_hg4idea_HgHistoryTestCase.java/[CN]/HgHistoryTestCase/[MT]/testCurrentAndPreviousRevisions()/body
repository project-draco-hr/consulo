{
  int versions=0;
  fillFile(myProjectRepo,new String[]{AFILE},FILE_CONTENT);
  addAll();
  commitAll("initial content");
  versions++;
  fillFile(myProjectRepo,new String[]{AFILE},FILE_CONTENT_2);
  commitAll("updated content");
  versions++;
  final VcsHistorySession session=getHistorySession(AFILE);
  final List<VcsFileRevision> revisions=session.getRevisionList();
  for (  VcsFileRevision rev : revisions) {
    rev.loadContent();
  }
  assertEquals(revisions.size(),versions);
  assertTrue(session.isCurrentRevision(revisions.get(0).getRevisionNumber()));
  assertEquals(revisions.get(0).getContent(),FILE_CONTENT_2.getBytes());
  assertEquals(revisions.get(1).getContent(),FILE_CONTENT.getBytes());
}
