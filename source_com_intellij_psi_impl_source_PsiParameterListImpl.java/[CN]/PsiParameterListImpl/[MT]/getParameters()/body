{
synchronized (PsiLock.LOCK) {
    long repositoryId=getRepositoryId();
    if (repositoryId >= 0) {
      if (myRepositoryParameters == null) {
        int count;
        CompositeElement treeElement=getTreeElement();
        if (treeElement != null) {
          count=treeElement.countChildren(PARAMETER_BIT_SET);
        }
 else {
          count=getRepositoryManager().getMethodView().getParameterCount(repositoryId);
        }
        myRepositoryParameters=new PsiParameterImpl[count];
        for (int i=0; i < myRepositoryParameters.length; i++) {
          myRepositoryParameters[i]=new PsiParameterImpl(myManager,this,i);
        }
      }
      return myRepositoryParameters;
    }
 else {
      return calcTreeElement().getChildrenAsPsiElements(PARAMETER_BIT_SET,PSI_PARAMETER_ARRAY_CONSTRUCTOR);
    }
  }
}
