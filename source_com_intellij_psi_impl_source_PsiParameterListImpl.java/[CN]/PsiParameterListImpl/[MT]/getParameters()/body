{
  long repositoryId=getRepositoryId();
  if (repositoryId >= 0) {
    PsiParameter[] repositoryParameters=myRepositoryParameters;
    if (repositoryParameters == null) {
      int count;
      CompositeElement treeElement=getTreeElement();
      if (treeElement != null) {
        count=treeElement.countChildren(PARAMETER_BIT_SET);
      }
 else {
        count=getRepositoryManager().getMethodView().getParameterCount(repositoryId);
      }
      repositoryParameters=count == 0 ? PsiParameter.EMPTY_ARRAY : new PsiParameterImpl[count];
      for (int i=0; i < count; i++) {
        repositoryParameters[i]=new PsiParameterImpl(myManager,this,i);
      }
      myRepositoryParameters=repositoryParameters;
    }
    return repositoryParameters;
  }
 else {
    return calcTreeElement().getChildrenAsPsiElements(PARAMETER_BIT_SET,PSI_PARAMETER_ARRAY_CONSTRUCTOR);
  }
}
