{
  if (myOriginalDocument == null) {
    final Editor editor=getEditor();
    if (editor != null) {
      myOriginalDocument=new StringBuffer(editor.getDocument().getText());
    }
  }
 else {
    if (ConsoleBuffer.useCycleBuffer()) {
      final int toRemove=myOriginalDocument.length() - ConsoleBuffer.getCycleBufferSize();
      if (toRemove > 0) {
        myOriginalDocument.delete(0,toRemove);
      }
    }
  }
  return myOriginalDocument;
}
