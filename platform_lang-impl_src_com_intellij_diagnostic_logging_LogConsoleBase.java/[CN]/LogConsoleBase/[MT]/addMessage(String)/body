{
  if (text == null)   return;
  if (myContentPreprocessor != null) {
    final List<LogFragment> fragments=myContentPreprocessor.parseLogLine(text + "\n");
    myOriginalDocument=getOriginalDocument();
    for (    LogFragment fragment : fragments) {
      myProcessHandler.notifyTextAvailable(fragment.getText(),fragment.getOutputType());
      if (myOriginalDocument != null) {
        myOriginalDocument.append(fragment.getText());
      }
    }
  }
 else {
    final LogFilterModel.MyProcessingResult processingResult=myModel.processLine(text);
    if (processingResult.isApplicable()) {
      final Key key=processingResult.getKey();
      if (key != null) {
        final String messagePrefix=processingResult.getMessagePrefix();
        if (messagePrefix != null) {
          myProcessHandler.notifyTextAvailable(messagePrefix,key);
        }
        myProcessHandler.notifyTextAvailable(text + "\n",key);
      }
    }
    myOriginalDocument=getOriginalDocument();
    if (myOriginalDocument != null) {
      myOriginalDocument.append(text).append("\n");
    }
  }
}
