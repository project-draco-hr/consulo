{
  if (myLibraryTable != null) {
    ApplicationManager.getApplication().assertWriteAccessAllowed();
  }
 else   if (myRootModel != null) {
    LOG.assertTrue(myRootModel.isWritable());
  }
  if (!Comparing.equal(fromModel.myName,myName)) {
    myName=fromModel.myName;
    if (myLibraryTable instanceof LibraryTableBase) {
      ((LibraryTableBase)myLibraryTable).fireLibraryRenamed(this);
    }
  }
  if (areRootsChanged(fromModel)) {
    disposeMyPointers();
    copyRootsFrom(fromModel);
    myJarDirectories.clear();
    myJarDirectories.putAll(fromModel.myJarDirectories);
    updateWatchedRoots();
    myRootProvider.fireRootSetChanged();
  }
}
