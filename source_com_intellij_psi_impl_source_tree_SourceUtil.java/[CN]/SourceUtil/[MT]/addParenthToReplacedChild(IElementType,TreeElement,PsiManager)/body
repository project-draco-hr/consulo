{
  CompositeElement parenthExpr=Factory.createCompositeElement(parenthType);
  TreeElement dummyExpr=(TreeElement)newChild.clone();
  final CharTable charTableByTree=SharedImplUtil.findCharTableByTree(newChild);
  new DummyHolder(manager,parenthExpr,null,charTableByTree);
  parenthExpr.putUserData(CharTable.CHAR_TABLE_KEY,charTableByTree);
  TreeUtil.addChildren(parenthExpr,Factory.createLeafElement(JavaTokenType.LPARENTH,new char[]{'('},0,1,-1,charTableByTree));
  TreeUtil.addChildren(parenthExpr,dummyExpr);
  TreeUtil.addChildren(parenthExpr,Factory.createLeafElement(JavaTokenType.RPARENTH,new char[]{')'},0,1,-1,charTableByTree));
  try {
    CodeStyleManager codeStyleManager=manager.getCodeStyleManager();
    parenthExpr=(CompositeElement)SourceTreeToPsiMap.psiElementToTree(codeStyleManager.reformat(SourceTreeToPsiMap.treeElementToPsi(parenthExpr)));
  }
 catch (  IncorrectOperationException e) {
    LOG.error(e);
  }
  newChild.putUserData(CharTable.CHAR_TABLE_KEY,SharedImplUtil.findCharTableByTree(newChild));
  TreeUtil.replaceWithList(dummyExpr,newChild);
  newChild=parenthExpr;
  TreeUtil.clearCaches(TreeUtil.getFileElement(newChild));
  return newChild;
}
