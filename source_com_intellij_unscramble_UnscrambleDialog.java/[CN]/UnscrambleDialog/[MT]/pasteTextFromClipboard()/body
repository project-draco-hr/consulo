{
  String text=getTextInClipboard();
  if (text != null) {
    final String text1=text;
    Runnable runnable=new Runnable(){
      public void run(){
        ApplicationManager.getApplication().runWriteAction(new Runnable(){
          public void run(){
            myEditor.getDocument().insertString(0,StringUtil.convertLineSeparators(text1));
          }
        }
);
      }
    }
;
    CommandProcessor.getInstance().executeCommand(myProject,runnable,"",this);
  }
}
