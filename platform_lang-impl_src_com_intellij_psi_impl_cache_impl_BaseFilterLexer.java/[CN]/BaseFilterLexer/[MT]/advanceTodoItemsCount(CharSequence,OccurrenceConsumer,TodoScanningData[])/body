{
  if (todoScanningData == null) {
    IndexPattern[] patterns=IndexPatternUtil.getIndexPatterns();
    todoScanningData=new TodoScanningData[patterns.length];
    for (int i=0; i < patterns.length; ++i) {
      IndexPattern indexPattern=patterns[i];
      Pattern pattern=indexPattern.getPattern();
      if (pattern != null) {
        todoScanningData[i]=new TodoScanningData(indexPattern,pattern.matcher(""));
      }
    }
  }
  for (  TodoScanningData data : todoScanningData) {
    if (data == null)     continue;
    Matcher matcher=data.matcher;
    matcher.reset(input);
    while (matcher.find()) {
      if (matcher.start() != matcher.end()) {
        consumer.incTodoOccurrence(data.pattern);
      }
    }
  }
  return todoScanningData;
}
