{
  SuspendManager suspendManager=context.getDebugProcess().getSuspendManager();
  ThreadReferenceProxyImpl thread=context.getThread();
  ResumeData resumeData=new ResumeData(suspendManager.isFrozen(thread),context.myResumedThreads);
  if (resumeData.myIsFrozen) {
    suspendManager.unfreezeThread(thread);
  }
  if (LOG.isDebugEnabled()) {
    LOG.debug("Resuming SuspendContextImpl...");
  }
  if (context.myResumedThreads != null) {
    for (Iterator<ThreadReferenceProxyImpl> iterator=context.myResumedThreads.iterator(); iterator.hasNext(); ) {
      ThreadReferenceProxyImpl resumedThreads=iterator.next();
      resumedThreads.suspend();
    }
    context.myResumedThreads=null;
  }
  return resumeData;
}
