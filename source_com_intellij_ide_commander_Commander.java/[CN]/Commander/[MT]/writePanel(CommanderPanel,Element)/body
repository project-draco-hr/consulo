{
  final AbstractListBuilder builder=panel.getBuilder();
  if (builder == null)   return;
  final Object parentElement=builder.getParentElement();
  if (parentElement instanceof PsiDirectory) {
    final PsiDirectory directory=(PsiDirectory)parentElement;
    element.setAttribute("url",directory.getVirtualFile().getUrl());
  }
 else   if (parentElement instanceof PsiClass) {
    for (PsiElement e=(PsiElement)parentElement; e != null; e=e.getParent()) {
      if (e instanceof PsiClass) {
        final String qualifiedName=((PsiClass)e).getQualifiedName();
        if (qualifiedName != null) {
          element.setAttribute("class",qualifiedName);
          break;
        }
      }
    }
  }
}
