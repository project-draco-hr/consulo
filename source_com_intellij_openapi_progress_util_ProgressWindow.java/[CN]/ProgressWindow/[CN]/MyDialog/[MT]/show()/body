{
  if (ApplicationManager.getApplication().isHeadlessEnvironment())   return;
  if (myParentWindow == null)   return;
  if (myPopup != null) {
    myPopup.close(DialogWrapper.CANCEL_EXIT_CODE);
  }
  myPopup=myParentWindow.isShowing() ? new MyDialogWrapper(myParentWindow) : new MyDialogWrapper(myProject);
  myPopup.setUndecorated(true);
  SwingUtilities.invokeLater(new Runnable(){
    public void run(){
      myCancelButton.requestFocus();
    }
  }
);
  myPopup.show();
}
