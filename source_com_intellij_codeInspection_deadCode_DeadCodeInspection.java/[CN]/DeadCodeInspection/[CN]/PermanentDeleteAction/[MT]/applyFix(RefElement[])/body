{
  ArrayList<RefElement> deletedRefs=new ArrayList<RefElement>(1);
  final ArrayList<PsiElement> psiElements=new ArrayList<PsiElement>();
  for (  RefElement refElement : refElements) {
    PsiElement psiElement=refElement.getElement();
    if (psiElement == null)     continue;
    psiElements.add(psiElement);
    RefUtil.removeRefElement(refElement,deletedRefs);
  }
  ApplicationManager.getApplication().invokeLater(new Runnable(){
    public void run(){
      SafeDeleteHandler.invoke(getManager().getProject(),psiElements.toArray(new PsiElement[psiElements.size()]),false);
    }
  }
);
  return true;
}
