{
  ArrayList<RefElement> deletedRefs=new ArrayList<RefElement>(1);
  final ArrayList<PsiElement> psiElements=new ArrayList<PsiElement>();
  for (int i=0; i < refElements.length; i++) {
    RefElement refElement=refElements[i];
    PsiElement psiElement=refElement.getElement();
    if (psiElement == null)     continue;
    psiElements.add(psiElement);
    RefUtil.removeRefElement(refElement,deletedRefs);
  }
  ApplicationManager.getApplication().invokeLater(new Runnable(){
    public void run(){
      new SafeDeleteHandler().invoke(myProject,psiElements.toArray(new PsiElement[psiElements.size()]),false);
    }
  }
);
  return true;
}
