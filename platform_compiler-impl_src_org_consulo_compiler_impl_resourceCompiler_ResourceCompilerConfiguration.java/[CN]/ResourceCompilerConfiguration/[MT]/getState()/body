{
  Element parentNode=new Element("state");
  final Element newChild=addChild(parentNode,JpsJavaCompilerConfigurationSerializer.RESOURCE_EXTENSIONS);
  for (  final String pattern : getRegexpPatterns()) {
    addChild(newChild,JpsJavaCompilerConfigurationSerializer.ENTRY).setAttribute(JpsJavaCompilerConfigurationSerializer.NAME,pattern);
  }
  if (myWildcardPatternsInitialized || !myWildcardPatterns.isEmpty()) {
    final Element wildcardPatterns=addChild(parentNode,JpsJavaCompilerConfigurationSerializer.WILDCARD_RESOURCE_PATTERNS);
    for (    final String wildcardPattern : myWildcardPatterns) {
      addChild(wildcardPatterns,JpsJavaCompilerConfigurationSerializer.ENTRY).setAttribute(JpsJavaCompilerConfigurationSerializer.NAME,wildcardPattern);
    }
  }
  return parentNode;
}
