{
  JPanel panel=new JPanel(new VerticalFlowLayout());
  panel.setBorder(IdeBorderFactory.createBorder());
  JLabel nameLabel=new JLabel("Name for extracted include file (without extension):");
  nameLabel.setDisplayedMnemonic('n');
  panel.add(nameLabel);
  myNameField=new JTextField();
  nameLabel.setLabelFor(myNameField);
  myNameField.addKeyListener(new KeyAdapter(){
    public void keyPressed(    KeyEvent e){
      validateOKButton();
    }
  }
);
  panel.add(myNameField);
  JLabel targetDirLabel=new JLabel("Extract to directory:");
  targetDirLabel.setDisplayedMnemonic('d');
  panel.add(targetDirLabel);
  myTargetDirectoryField=new TextFieldWithBrowseButton();
  myTargetDirectoryField.setText(myCurrentDirectory.getVirtualFile().getPresentableUrl());
  myTargetDirectoryField.addBrowseFolderListener("Select target directory","The file will be created in this directory",null,FileChooserDescriptorFactory.createSingleFolderDescriptor());
  targetDirLabel.setLabelFor(myTargetDirectoryField);
  panel.add(myTargetDirectoryField);
  myTargetDirectoryField.getTextField().getDocument().addDocumentListener(new DocumentAdapter(){
    public void textChanged(    DocumentEvent event){
      validateOKButton();
    }
  }
);
  validateOKButton();
  return panel;
}
