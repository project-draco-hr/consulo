{
  try {
    Element versionComponent=getVersionComponent(projectFilePath);
    if (versionComponent != null && isConverted(versionComponent))     return true;
    final ProjectConverter converter=getConverter(projectFilePath);
    if (converter == null)     return true;
    converter.prepare();
    if (!converter.isConversionNeeded())     return true;
    listener.conversionNeeded();
    final List<File> readonlyFiles=getReadonlyFiles(converter);
    if (!readonlyFiles.isEmpty()) {
      listener.cannotWriteToFiles(readonlyFiles);
      return false;
    }
    final File file=backupAndConvert(converter);
    listener.succesfullyConverted(file);
    return true;
  }
 catch (  QualifiedJDomException e) {
    listener.error(e.getFilePath() + ": " + e.getCause().getMessage());
  }
catch (  IOException e) {
    listener.error(e.getMessage());
  }
  return false;
}
