{
  Element element=new Element("state");
  ProductivityFeaturesRegistry registry=ProductivityFeaturesRegistry.getInstance();
  Set<String> ids=registry.getFeatureIds();
  for (  String id : ids) {
    Element featureElement=new Element(FEATURE_TAG);
    featureElement.setAttribute(ATT_ID,id);
    FeatureDescriptor descriptor=registry.getFeatureDescriptor(id);
    descriptor.writeStatistics(featureElement);
    element.addContent(featureElement);
  }
  element.setAttribute(ATT_FIRST_RUN,String.valueOf(getFirstRunTime()));
  element.setAttribute(ATT_COMPLETION_STATS_START,String.valueOf(COMPLETION_STATS_START));
  element.setAttribute(ATT_SPARED_BY_COMPLETION,String.valueOf(SPARED_BY_COMPLETION));
  element.setAttribute(ATT_SPARED_BY_COMPLETION,String.valueOf(SPARED_BY_COMPLETION));
  element.setAttribute(ATT_HAVE_BEEN_SHOWN,String.valueOf(HAVE_BEEN_SHOWN));
  element.setAttribute(ATT_SHOW_IN_OTHER,String.valueOf(SHOW_IN_OTHER_PROGRESS));
  element.setAttribute(ATT_SHOW_IN_COMPILATION,String.valueOf(SHOW_IN_COMPILATION_PROGRESS));
  return element;
}
