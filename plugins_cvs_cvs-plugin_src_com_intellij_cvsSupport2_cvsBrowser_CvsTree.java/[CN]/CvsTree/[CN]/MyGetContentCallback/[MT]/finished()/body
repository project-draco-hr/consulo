{
  removeListener(this);
  ApplicationManager.getApplication().invokeLater(new Runnable(){
    @Override public void run(){
      myLoadingNodeManager.removeFrom(myParentNode);
      myParentNode.setLoading(false);
      if (mySelectionPath != null) {
        if (mySelectionPath.getLastPathComponent() instanceof LoadingNode) {
          final TreeNode firstChild=myParentNode.getFirstChild();
          myTree.setSelectionPath(mySelectionPath.getParentPath().pathByAddingChild(firstChild));
        }
 else         if (myTree.getSelectionPath() == null) {
          myTree.setSelectionPath(mySelectionPath);
        }
      }
    }
  }
,myModalityState);
}
