{
  final ArrayList<CvsElement> selection=new ArrayList<CvsElement>();
  if (paths != null) {
    for (    TreePath path : paths) {
      final Object selectedObject=path.getLastPathComponent();
      if (!(selectedObject instanceof CvsElement))       continue;
      final CvsElement cvsElement=(CvsElement)selectedObject;
      if (cvsElement.getElementPath().equals(".") && !myAllowRootSelection)       continue;
      selection.add(cvsElement);
    }
  }
  myCurrentSelection=selection.toArray(new CvsElement[selection.size()]);
  mySelectionObservable.notifyObservers(SELECTION_CHANGED);
}
