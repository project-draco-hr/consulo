{
  final List<ProcessingItem> successfullyProcessed=new ArrayList<ProcessingItem>(items.length);
  for (int idx=0; idx < items.length; idx++) {
    final CopyItem item=(CopyItem)items[idx];
    final String fromPath=item.getSourcePath();
    final String toPath=item.getDestinationPath();
    try {
      FileUtil.copy(new File(fromPath),new File(toPath));
      successfullyProcessed.add(item);
    }
 catch (    IOException e) {
      context.addMessage(CompilerMessageCategory.ERROR,"Error copying " + fromPath + "\nto "+ toPath+ ":\n"+ e.getMessage(),null,-1,-1);
    }
  }
  return successfullyProcessed.toArray(new ProcessingItem[successfullyProcessed.size()]);
}
