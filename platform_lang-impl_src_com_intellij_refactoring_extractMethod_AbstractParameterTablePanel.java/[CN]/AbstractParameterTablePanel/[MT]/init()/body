{
  myTableModel=new MyTableModel();
  myTable=new JBTable(myTableModel);
  DefaultCellEditor defaultEditor=(DefaultCellEditor)myTable.getDefaultEditor(Object.class);
  defaultEditor.setClickCountToStart(1);
  myTable.setTableHeader(null);
  myTable.getSelectionModel().setSelectionMode(ListSelectionModel.SINGLE_SELECTION);
  myTable.getColumnModel().getColumn(MyTableModel.CHECKMARK_COLUMN).setMaxWidth(new JCheckBox().getPreferredSize().width);
  myTable.getColumnModel().getColumn(MyTableModel.PARAMETER_NAME_COLUMN).setCellRenderer(new DefaultTableCellRenderer(){
    @Override public Component getTableCellRendererComponent(    JTable table,    Object value,    boolean isSelected,    boolean hasFocus,    int row,    int column){
      super.getTableCellRendererComponent(table,value,isSelected,hasFocus,row,column);
      AbstractVariableData data=myVariableData[row];
      setText(data.name);
      return this;
    }
  }
);
  myTable.setPreferredScrollableViewportSize(new Dimension(250,myTable.getRowHeight() * 5));
  myTable.setShowGrid(false);
  myTable.setIntercellSpacing(new Dimension(0,0));
  @NonNls final InputMap inputMap=myTable.getInputMap();
  inputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_SPACE,0),"enable_disable");
  @NonNls final ActionMap actionMap=myTable.getActionMap();
  actionMap.put("enable_disable",new AbstractAction(){
    @Override public void actionPerformed(    ActionEvent e){
      if (myTable.isEditing())       return;
      int[] rows=myTable.getSelectedRows();
      if (rows.length > 0) {
        boolean valueToBeSet=false;
        for (        int row : rows) {
          if (!myVariableData[row].passAsParameter) {
            valueToBeSet=true;
            break;
          }
        }
        for (        int row : rows) {
          myVariableData[row].passAsParameter=valueToBeSet;
        }
        myTableModel.fireTableRowsUpdated(rows[0],rows[rows.length - 1]);
        TableUtil.selectRows(myTable,rows);
      }
    }
  }
);
  inputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_F2,0),"edit_parameter_name");
  actionMap.put("edit_parameter_name",new AbstractAction(){
    @Override public void actionPerformed(    ActionEvent e){
      if (!myTable.isEditing()) {
        int row=myTable.getSelectedRow();
        if (row >= 0 && row < myTableModel.getRowCount()) {
          TableUtil.editCellAt(myTable,row,MyTableModel.PARAMETER_NAME_COLUMN);
        }
      }
    }
  }
);
  JPanel listPanel=ToolbarDecorator.createDecorator(myTable).disableAddAction().disableRemoveAction().createPanel();
  add(listPanel,BorderLayout.CENTER);
  if (myVariableData.length > 1) {
    myTable.getSelectionModel().setSelectionInterval(0,0);
  }
}
