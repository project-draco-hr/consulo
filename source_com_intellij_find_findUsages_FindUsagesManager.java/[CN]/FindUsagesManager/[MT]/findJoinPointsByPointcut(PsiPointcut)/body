{
  final ArrayList<UsageInfo> usages=new ArrayList<UsageInfo>();
  PsiManager psiManager=PsiManager.getInstance(myProject);
  PsiSearchHelper psiSearchHelper=psiManager.getSearchHelper();
  psiSearchHelper.processJoinPointsByPointcut(new PsiBaseElementProcessor(){
    public boolean execute(    PsiElement element){
      usages.add(new UsageInfo(element));
      return true;
    }
  }
,pointcut,GlobalSearchScope.projectScope(myProject));
  return usages.toArray(new UsageInfo[usages.size()]);
}
