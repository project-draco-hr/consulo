{
  return new UsageSearcher(){
    public void generate(    final Processor<Usage> processor){
      if (scopeFile != null) {
        options.searchScope=new LocalSearchScope(scopeFile);
      }
      final Processor<UsageInfo> usageInfoProcessorToUsageProcessorAdapter=new Processor<UsageInfo>(){
        public boolean process(        UsageInfo usageInfo){
          return processor.process(UsageInfoToUsageConverter.convert(descriptor,usageInfo));
        }
      }
;
      final PsiElement[] primaryElements=descriptor.getPrimaryElements();
      for (int idx=0; idx < primaryElements.length; idx++) {
        FindUsagesUtil.processUsages(primaryElements[idx],usageInfoProcessorToUsageProcessorAdapter,options);
      }
      final PsiElement[] additionalElements=descriptor.getAdditionalElements();
      for (int idx=0; idx < additionalElements.length; idx++) {
        FindUsagesUtil.processUsages(additionalElements[idx],usageInfoProcessorToUsageProcessorAdapter,options);
      }
    }
  }
;
}
