{
  if (element instanceof PsiPackage) {
    return new FindPackageUsagesDialog(element,myProject,myFindPackageOptions,this,isSingleFile);
  }
 else   if (element instanceof PsiClass) {
    return new FindClassUsagesDialog(element,myProject,myFindClassOptions,this,isSingleFile);
  }
 else   if (element instanceof PsiMethod) {
    return new FindMethodUsagesDialog(element,myProject,myFindMethodOptions,this,isSingleFile);
  }
 else   if (element instanceof PsiVariable) {
    return new FindVariableUsagesDialog(element,myProject,myFindVariableOptions,this,isSingleFile);
  }
 else   if (ThrowSearchUtil.isSearchable(element)) {
    return new FindThrowUsagesDialog(element,myProject,myFindPointcutOptions,this,isSingleFile);
  }
 else {
    FindUsagesProvider handler=getFindHandler(element);
    if (handler != null) {
      return new CommonFindUsagesDialog(element,myProject,createFindUsagesOptions(myProject),this,isSingleFile);
    }
    return null;
  }
}
