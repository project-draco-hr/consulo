{
  if (element instanceof PsiPackage) {
    return new FindPackageUsagesDialog(element,myProject,myFindPackageOptions,isOpenInNewTab,isOpenInNewTabEnabled,isSingleFile);
  }
 else   if (element instanceof PsiClass) {
    return new FindClassUsagesDialog(element,myProject,myFindClassOptions,isOpenInNewTab,isOpenInNewTabEnabled,isSingleFile);
  }
 else   if (element instanceof PsiMethod) {
    return new FindMethodUsagesDialog(element,myProject,myFindMethodOptions,isOpenInNewTab,isOpenInNewTabEnabled,isSingleFile);
  }
 else   if (element instanceof PsiVariable) {
    return new FindVariableUsagesDialog(element,myProject,myFindVariableOptions,isOpenInNewTab,isOpenInNewTabEnabled,isSingleFile);
  }
 else   if (element instanceof PsiPointcutDef) {
    return new FindPointcutUsagesDialog(element,myProject,myFindPointcutOptions,isOpenInNewTab,isOpenInNewTabEnabled,isSingleFile);
  }
 else   if (ThrowSearchUtil.isSearchable(element)) {
    return new FindThrowUsagesDialog(element,myProject,myFindPointcutOptions,isOpenInNewTab,isOpenInNewTabEnabled,isSingleFile);
  }
 else {
    FindUsagesProvider handler=getFindHandler(element);
    if (handler != null) {
      return new CommonFindUsagesDialog(element,myProject,createFindUsagesOptions(SearchScopeCache.getInstance(myProject)),isOpenInNewTab,isOpenInNewTabEnabled,isSingleFile);
    }
    return null;
  }
}
