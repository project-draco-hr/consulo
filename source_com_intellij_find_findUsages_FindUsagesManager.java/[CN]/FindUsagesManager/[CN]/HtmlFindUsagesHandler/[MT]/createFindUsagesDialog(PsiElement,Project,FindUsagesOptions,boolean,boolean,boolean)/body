{
  if (styleHandler != null && styleHandler.canFindUsagesFor(element)) {
    return styleHandler.createFindUsagesDialog(element,project,findUsagesOptions,isSingleFile,isOpenInNewTab,isOpenInNewTabEnabled);
  }
  return new FindUsagesDialog(element,project,findUsagesOptions,isOpenInNewTab,isOpenInNewTabEnabled,isSingleFile){
    private StateRestoringCheckBox myCbUsages;
    public FindUsagesOptions getShownOptions(){
      return new FindUsagesOptions(element.getProject(),SearchScopeCache.getInstance(element.getProject()));
    }
    protected void update(){
    }
    protected JPanel createFindWhatPanel(){
      JPanel findWhatPanel=new JPanel();
      findWhatPanel.setBorder(IdeBorderFactory.createTitledBorder("Find"));
      findWhatPanel.setLayout(new BoxLayout(findWhatPanel,BoxLayout.Y_AXIS));
      myCbUsages=addCheckboxToPanel("Usages",myFindUsagesOptions.isUsages,findWhatPanel,true,'U');
      return findWhatPanel;
    }
    protected JComponent getPreferredFocusedControl(){
      return myCbUsages;
    }
  }
;
}
