{
  final Runnable fireRunnable=new Runnable(){
    public void run(){
      myBus.syncPublisher(AppTopics.FILE_DOCUMENT_SYNC).fileContentLoaded(file,document);
    }
  }
;
  if (ApplicationManager.getApplication().isDispatchThread() && ModalityState.current() == ModalityState.NON_MODAL) {
    fireRunnable.run();
  }
 else {
    ApplicationManager.getApplication().invokeLater(fireRunnable,ModalityState.NON_MODAL);
  }
}
