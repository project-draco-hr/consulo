{
  int approxLexCount=Math.max(10,myText.length() / 5);
  myLexStarts=new int[approxLexCount];
  myLexEnds=new int[approxLexCount];
  myLexTypes=new IElementType[approxLexCount];
  int i=0;
  myLexer.start(myText,0,myText.length(),0);
  while (true) {
    IElementType type=myLexer.getTokenType();
    if (myRemapper != null) {
      type=myRemapper.filter(type,myLexer.getTokenStart(),myLexer.getTokenEnd(),myLexer.getBufferSequence());
    }
    if (type == null)     break;
    if (i >= myLexStarts.length) {
      resizeLexems(i * 3 / 2);
    }
    myLexStarts[i]=myLexer.getTokenStart();
    myLexEnds[i]=myLexer.getTokenEnd();
    myLexTypes[i]=type;
    i++;
    myLexer.advance();
  }
  myLexemCount=i;
}
