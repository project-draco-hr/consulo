{
  if (myWhitespaces.contains(type)) {
    return new PsiWhiteSpaceImpl(myText,start,end,myCharTable);
  }
  if (myComments.contains(type)) {
    return new PsiCommentImpl(type,myText,start,end,myCharTable);
  }
  if (type instanceof IChameleonElementType) {
    return new ChameleonElement(type,myText,start,end,myCharTable);
  }
  if (type instanceof ILeafElementType) {
    return (LeafElement)((ILeafElementType)type).createLeafNode(myText,start,end,myCharTable);
  }
  final ASTFactory factory=LanguageASTFactory.INSTANCE.forLanguage(type.getLanguage());
  return factory.createLeaf(type,myText,start,end,myCharTable);
}
