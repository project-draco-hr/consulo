{
  final ConcurrentMap<String,List<ProviderInfo<Provider,ElementPattern>>> map=caseSensitive ? myNamesToProvidersMap : myNamesToProvidersMapInsensitive;
  for (  final String attributeName : names) {
    List<ProviderInfo<Provider,ElementPattern>> psiReferenceProviders=map.get(attributeName);
    if (psiReferenceProviders == null) {
      String key=caseSensitive ? attributeName : attributeName.toLowerCase();
      psiReferenceProviders=ConcurrencyUtil.cacheOrGet(map,key,ContainerUtil.<ProviderInfo<Provider,ElementPattern>>createLockFreeCopyOnWriteList());
    }
    psiReferenceProviders.add(new ProviderInfo<Provider,ElementPattern>(provider,filter,priority));
  }
}
