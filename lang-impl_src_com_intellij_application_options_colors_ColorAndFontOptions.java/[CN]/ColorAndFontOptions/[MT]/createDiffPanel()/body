{
  final DiffPreviewPanel diffPreviewPanel=new DiffPreviewPanel();
  diffPreviewPanel.setMergeRequest(null);
  final DiffOptionsPanel optionsPanel=new DiffOptionsPanel(this);
  optionsPanel.addListener(new ColorAndFontSettingsListener.Abstract(){
    public void actionPerformed(    final ActionEvent e){
      optionsPanel.applyChangesToScheme();
      diffPreviewPanel.updateView();
    }
  }
);
  SchemesPanel schemesPanel=new SchemesPanel(this);
  schemesPanel.addListener(new ColorAndFontSettingsListener.Abstract(){
    public void schemeChanged(    final Object source){
      diffPreviewPanel.setColorScheme(getSelectedScheme());
      optionsPanel.updateOptionsList();
      diffPreviewPanel.updateView();
    }
  }
);
  return new NewColorAndFontPanel(schemesPanel,optionsPanel,diffPreviewPanel,ColorAndFontOptions.DIFF_GROUP,null,null);
}
