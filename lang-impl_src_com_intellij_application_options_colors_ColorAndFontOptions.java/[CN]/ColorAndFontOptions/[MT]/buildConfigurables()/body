{
  initAll();
  mySubPanels=createSubPanels();
  for (  NewColorAndFontPanel subPanel : mySubPanels) {
    subPanel.addListener(new ColorAndFontSettingsListener.Abstract(){
      public void schemeChanged(){
        if (!myIsReset) {
          resetSchemesCombo();
        }
      }
    }
);
  }
  List<Configurable> result=new ArrayList<Configurable>();
  for (  final NewColorAndFontPanel subPanel : mySubPanels) {
    result.add(new Configurable(){
      @Nls public String getDisplayName(){
        return subPanel.getDisplayName();
      }
      public Icon getIcon(){
        return null;
      }
      public String getHelpTopic(){
        return null;
      }
      public JComponent createComponent(){
        return subPanel;
      }
      public boolean isModified(){
        for (        MyColorScheme scheme : mySchemes.values()) {
          for (          EditorSchemeAttributeDescriptor descriptor : scheme.getDescriptors()) {
            if (subPanel.contains(descriptor) && descriptor.isModified()) {
              return true;
            }
          }
        }
        return false;
      }
      public void apply() throws ConfigurationException {
        ColorAndFontOptions.this.apply();
      }
      public void reset(){
        ColorAndFontOptions.this.reset();
      }
      public void disposeUIResources(){
        subPanel.dispose();
      }
    }
);
  }
  return result.toArray(new Configurable[result.size()]);
}
