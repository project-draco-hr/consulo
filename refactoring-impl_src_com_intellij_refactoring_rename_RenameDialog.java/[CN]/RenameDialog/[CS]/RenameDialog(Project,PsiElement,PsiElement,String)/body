{
  super(project,true);
  myProject=project;
  myPsiElement=psiElement;
  myNameSuggestionContext=nameSuggestionContext;
  setTitle(REFACTORING_NAME);
  createNewNameComponent();
  init();
  myNameLabel.setText(RefactoringBundle.message("rename.0.and.its.usages.to",getFullName()));
  boolean toSearchInComments=RefactoringSettings.getInstance().isToSearchInCommentsForRename(myPsiElement);
  boolean toSearchForTextOccurences=RefactoringSettings.getInstance().isToSearchForTextOccurencesForRename(myPsiElement);
  myCbSearchInComments.setSelected(toSearchInComments);
  if (myCbSearchTextOccurences.isEnabled()) {
    myCbSearchTextOccurences.setSelected(toSearchForTextOccurences);
  }
  if (!showSearchCheckboxes(myPsiElement)) {
    myCbSearchInComments.setVisible(false);
    myCbSearchTextOccurences.setVisible(false);
  }
  validateButtons();
  myHelpID=helpID;
}
