{
  final Rectangle visibleArea=myHistoryViewer.getScrollingModel().getVisibleArea();
  final LogicalPosition pos=ApplicationManager.getApplication().runReadAction(new Computable<LogicalPosition>(){
    @Override public LogicalPosition compute(){
      return myHistoryViewer.xyToLogicalPosition(new Point(visibleArea.x,visibleArea.y + visibleArea.height));
    }
  }
);
  final int lineCount=myHistoryViewer.getDocument().getLineCount();
  return pos.line >= lineCount - 1;
}
