{
  final TextAttributes mainAttributes=mainType.getAttributes();
  final TextAttributes attributes;
  if (additionalType == null) {
    attributes=mainAttributes;
  }
 else {
    attributes=additionalType.getAttributes().clone();
    attributes.setBackgroundColor(mainAttributes.getBackgroundColor());
  }
  Application application=ApplicationManager.getApplication();
  if (application.isDispatchThread()) {
    console.printToHistory(string,attributes);
  }
 else {
    application.invokeLater(new Runnable(){
      public void run(){
        console.printToHistory(string,attributes);
      }
    }
,ModalityState.stateForComponent(console.getComponent()));
  }
}
