{
  final TextAttributes mainAttributes=mainType.getAttributes();
  final TextAttributes attributes;
  if (additionalType == null) {
    attributes=mainAttributes;
  }
 else {
    attributes=additionalType.getAttributes().clone();
    attributes.setBackgroundColor(mainAttributes.getBackgroundColor());
  }
  ApplicationManager.getApplication().invokeLater(new Runnable(){
    public void run(){
      console.printToHistory(string,attributes);
    }
  }
,ModalityState.stateForComponent(console.getComponent()));
}
