{
  if (text == null || text.length() == 0)   return;
  Document history=myHistoryViewer.getDocument();
  MarkupModel markupModel=DocumentMarkupModel.forDocument(history,myProject,true);
  int offset=history.getTextLength();
  appendToHistoryDocument(history,text);
  if (attributes == null)   return;
  markupModel.addRangeHighlighter(offset,offset + text.length(),HighlighterLayer.SYNTAX,attributes,HighlighterTargetArea.EXACT_RANGE);
}
