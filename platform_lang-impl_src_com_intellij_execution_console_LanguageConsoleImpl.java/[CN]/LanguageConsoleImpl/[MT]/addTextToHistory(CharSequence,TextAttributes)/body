{
  if (StringUtil.isEmpty(text)) {
    return;
  }
  Document history=myHistoryViewer.getDocument();
  MarkupModel markupModel=DocumentMarkupModel.forDocument(history,myProject,true);
  int offset=appendToHistoryDocument(history,text);
  if (attributes == null)   return;
  markupModel.addRangeHighlighter(offset,offset + text.length(),HighlighterLayer.SYNTAX,attributes,HighlighterTargetArea.EXACT_RANGE);
}
