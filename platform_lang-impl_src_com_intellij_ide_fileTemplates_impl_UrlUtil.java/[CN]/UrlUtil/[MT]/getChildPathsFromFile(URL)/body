{
  final List<String> paths=new ArrayList<String>();
  final File rootFile=new File(FileUtil.unquote(root.getPath()));
  new Object(){
    void collectFiles(    File fromFile,    String prefix){
      final File[] list=fromFile.listFiles();
      if (list != null) {
        for (        File file : list) {
          final String childRelativePath=prefix.length() == 0 ? file.getName() : prefix + URL_PATH_SEPARATOR + file.getName();
          if (file.isDirectory()) {
            collectFiles(file,childRelativePath);
          }
 else {
            paths.add(childRelativePath);
          }
        }
      }
    }
  }
.collectFiles(rootFile,"");
  return paths;
}
