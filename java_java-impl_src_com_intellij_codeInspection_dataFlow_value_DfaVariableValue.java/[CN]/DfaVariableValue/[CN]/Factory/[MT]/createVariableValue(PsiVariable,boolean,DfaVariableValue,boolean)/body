{
  mySharedInstance.myVariable=myVariable;
  mySharedInstance.myIsNegated=isNegated;
  mySharedInstance.myQualifier=qualifier;
  mySharedInstance.myViaMethods=viaMethods;
  String id=mySharedInstance.toString();
  ArrayList<DfaVariableValue> conditions=myStringToObject.get(id);
  if (conditions == null) {
    conditions=new ArrayList<DfaVariableValue>();
    myStringToObject.put(id,conditions);
  }
 else {
    for (    DfaVariableValue aVar : conditions) {
      if (aVar.hardEquals(mySharedInstance))       return aVar;
    }
  }
  DfaVariableValue result=new DfaVariableValue(myVariable,isNegated,myFactory,qualifier,viaMethods);
  if (qualifier != null) {
    myQualifiersToChainedVariables.putValue(qualifier,result);
  }
  conditions.add(result);
  return result;
}
