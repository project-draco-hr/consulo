def archivelist(self, nodeid):
    allowed = self.configlist('web', 'allow_archive')
    for (i, spec) in self.archive_specs.iteritems():
        if ((i in allowed) or self.configbool('web', ('allow' + i))):
            yield {'type': i, 'extension': spec[2], 'node': nodeid, }
