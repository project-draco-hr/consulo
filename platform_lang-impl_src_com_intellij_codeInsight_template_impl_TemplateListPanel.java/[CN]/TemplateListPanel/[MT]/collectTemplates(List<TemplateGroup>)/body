{
  ArrayList<TemplateImpl> result=new ArrayList<TemplateImpl>();
  for (  TemplateGroup group : groups) {
    result.addAll(group.getElements());
  }
  Collections.sort(result,new Comparator<TemplateImpl>(){
    public int compare(    final TemplateImpl o1,    final TemplateImpl o2){
      final int groupsEqual=o1.getGroupName().compareToIgnoreCase(o2.getGroupName());
      if (groupsEqual != 0) {
        return groupsEqual;
      }
      return o1.getKey().compareToIgnoreCase(o2.getKey());
    }
  }
);
  return result;
}
