{
  if (originalGroup.size() != newGroup.size())   return false;
  for (int i=0; i < newGroup.size(); i++) {
    TemplateImpl newTemplate=newGroup.get(i);
    newTemplate.parseSegments();
    TemplateImpl originalTemplate=originalGroup.get(i);
    originalTemplate.parseSegments();
    if (!originalTemplate.equals(newTemplate)) {
      return false;
    }
    if (originalTemplate.isDeactivated() != newTemplate.isDeactivated()) {
      return false;
    }
    if (!newTemplate.getVariables().equals(originalTemplate.getVariables())) {
      return false;
    }
    if (!areOptionsEqual(newTemplate,originalTemplate)) {
      return false;
    }
    if (!areContextsEqual(newTemplate,originalTemplate)) {
      return false;
    }
  }
  return true;
}
