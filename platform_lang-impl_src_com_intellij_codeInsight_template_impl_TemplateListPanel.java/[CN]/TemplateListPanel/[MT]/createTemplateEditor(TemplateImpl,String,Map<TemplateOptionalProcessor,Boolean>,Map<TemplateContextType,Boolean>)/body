{
  myCurrentTemplateEditor=new LiveTemplateSettingsEditor(template,shortcut,options,context,new Runnable(){
    @Override public void run(){
      DefaultMutableTreeNode node=getNode(getSingleSelectedIndex());
      if (node != null) {
        ((DefaultTreeModel)myTree.getModel()).nodeChanged(node);
        TemplateSettings.getInstance().setLastSelectedTemplate(template.getGroupName(),template.getKey());
      }
    }
  }
,TemplateSettings.getInstance().getTemplate(template.getKey(),template.getGroupName()) != null);
  for (  Component component : myDetailsPanel.getComponents()) {
    if (component instanceof LiveTemplateSettingsEditor) {
      myDetailsPanel.remove(component);
    }
  }
  myDetailsPanel.add(myCurrentTemplateEditor,TEMPLATE_SETTINGS);
}
