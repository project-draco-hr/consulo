{
  int selected=getSelectedIndex();
  if (selected < 0)   return;
  TemplateImpl orTemplate=getTemplate(selected);
  LOG.assertTrue(orTemplate != null);
  TemplateImpl template=orTemplate.copy();
  myTemplateOptions.put(getKey(template),getOptions(orTemplate));
  myTemplateContext.put(getKey(template),getContext(orTemplate));
  EditTemplateDialog dialog=new EditTemplateDialog(this,CodeInsightBundle.message("dialog.copy.live.template.title"),template,getTemplateGroups(),(String)myExpandByCombo.getSelectedItem(),getOptions(template),getContext(template),true);
  dialog.show();
  if (!dialog.isOK())   return;
  dialog.apply();
  addTemplate(template);
}
