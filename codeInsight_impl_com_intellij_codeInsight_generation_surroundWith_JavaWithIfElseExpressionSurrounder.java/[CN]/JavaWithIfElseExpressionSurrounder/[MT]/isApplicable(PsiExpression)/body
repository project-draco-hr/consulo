{
  PsiType type=expr.getType();
  if (PsiType.BOOLEAN != type)   return false;
  PsiElement parent=expr.getParent();
  if (!(parent instanceof PsiExpressionStatement))   return false;
  final PsiElement psiElement=parent.getParent();
  if (!(psiElement instanceof PsiCodeBlock) && !(PsiUtil.isInJspFile(psiElement) && psiElement instanceof PsiFile))   return false;
  return true;
}
