{
  GlobalSearchScope actualScope=srcOnly ? new GrSourceFilterScope(scope) : scope;
  final Collection<GroovyFile> files=StubIndex.getInstance().get(GrFullScriptNameIndex.KEY,name.hashCode(),myProject,actualScope);
  if (files.isEmpty()) {
    return Collections.emptyList();
  }
  final ArrayList<PsiClass> result=new ArrayList<PsiClass>();
  for (  GroovyFile file : files) {
    if (file.isScript()) {
      final PsiClass scriptClass=file.getScriptClass();
      if (scriptClass != null && name.equals(scriptClass.getQualifiedName())) {
        result.add(scriptClass);
      }
    }
  }
  return result;
}
