{
  Collection<GroovyFile> scripts=StubIndex.getInstance().get(GrFullScriptNameIndex.KEY,name.hashCode(),myProject,scope);
  final Collection<String> keys=StubIndex.getInstance().getAllKeys(GrScriptClassNameIndex.KEY);
  scripts=ContainerUtil.findAll(scripts,new Condition<GroovyFile>(){
    public boolean value(    final GroovyFile groovyFile){
      final PsiClass clazz=groovyFile.getScriptClass();
      return groovyFile.isScript() && clazz != null && name.equals(clazz.getQualifiedName());
    }
  }
);
  return ContainerUtil.map(scripts,new Function<GroovyFile,PsiClass>(){
    public PsiClass fun(    final GroovyFile groovyFile){
      return groovyFile.getScriptClass();
    }
  }
);
}
