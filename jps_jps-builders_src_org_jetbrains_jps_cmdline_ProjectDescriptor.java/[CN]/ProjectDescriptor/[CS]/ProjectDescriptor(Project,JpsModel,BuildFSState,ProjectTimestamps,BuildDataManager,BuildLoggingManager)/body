{
  this.project=project;
  this.jpsModel=jpsModel;
  this.jpsProject=jpsModel.getProject();
  this.fsState=fsState;
  this.timestamps=timestamps;
  this.dataManager=dataManager;
  myLoggingManager=loggingManager;
  rootsIndex=new ModuleRootsIndex(jpsProject,dataManager);
  myArtifactRootsIndex=new ArtifactRootsIndex(jpsModel,project,dataManager,rootsIndex);
  myProjectJavaSdks=new HashSet<JpsTypedLibrary<JpsSdkProperties>>();
  myEncodingConfiguration=new CompilerEncodingConfiguration(project.getFilePathToCharset(),project.getProjectCharset(),rootsIndex);
  for (  JpsModule module : jpsProject.getModules()) {
    final JpsTypedLibrary<JpsSdkProperties> sdk=module.getSdk(JpsJavaSdkType.INSTANCE);
    if (sdk != null && !myProjectJavaSdks.contains(sdk) && sdk.getProperties().getVersionString() != null && sdk.getProperties().getHomePath() != null) {
      myProjectJavaSdks.add(sdk);
    }
  }
}
