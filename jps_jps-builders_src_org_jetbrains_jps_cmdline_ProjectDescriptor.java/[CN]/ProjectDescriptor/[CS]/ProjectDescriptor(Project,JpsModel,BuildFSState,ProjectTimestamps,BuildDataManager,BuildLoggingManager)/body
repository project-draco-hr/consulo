{
  this.project=project;
  this.jpsModel=jpsModel;
  this.jpsProject=jpsModel.getProject();
  this.fsState=fsState;
  this.timestamps=timestamps;
  this.dataManager=dataManager;
  myLoggingManager=loggingManager;
  rootsIndex=new ModuleRootsIndex(jpsModel,dataManager);
  myArtifactRootsIndex=new ArtifactRootsIndex(jpsModel,project,dataManager,rootsIndex);
  myProjectJavaSdks=new HashSet<JpsSdk<?>>();
  myEncodingConfiguration=new CompilerEncodingConfiguration(jpsModel,rootsIndex);
  for (  JpsModule module : jpsProject.getModules()) {
    final JpsSdk<?> sdk=module.getSdk(JpsJavaSdkType.INSTANCE);
    if (sdk != null && !myProjectJavaSdks.contains(sdk) && sdk.getVersionString() != null && sdk.getHomePath() != null) {
      myProjectJavaSdks.add(sdk);
    }
  }
}
