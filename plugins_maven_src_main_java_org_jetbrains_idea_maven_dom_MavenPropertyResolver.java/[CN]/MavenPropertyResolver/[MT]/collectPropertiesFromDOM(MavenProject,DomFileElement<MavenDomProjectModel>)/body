{
  Properties result=new Properties();
  MavenDomProjectModel mavenModel=dom.getRootElement();
  collectPropertiesFromDOM(result,mavenModel.getProperties());
  for (  MavenDomProfile each : mavenModel.getProfiles().getProfiles()) {
    String id=each.getId().getStringValue();
    if (id == null || !project.getActiveProfilesIds().contains(id))     continue;
    collectPropertiesFromDOM(result,each.getProperties());
  }
  return result;
}
