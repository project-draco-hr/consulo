{
  XmlElement element=projectDom.getXmlElement();
  if (element == null)   return text;
  VirtualFile file=MavenDomUtil.getVirtualFile(element);
  if (file == null)   return text;
  MavenProjectsManager manager=MavenProjectsManager.getInstance(element.getProject());
  MavenProject mavenProject=manager.findProject(file);
  if (mavenProject == null)   return text;
  StringBuilder res=new StringBuilder();
  try {
    doFilterText(PATTERN,manager,mavenProject,text,collectPropertiesFromDOM(mavenProject,projectDom),null,null,null,res);
  }
 catch (  IOException e) {
    throw new RuntimeException(e);
  }
  return res.toString();
}
