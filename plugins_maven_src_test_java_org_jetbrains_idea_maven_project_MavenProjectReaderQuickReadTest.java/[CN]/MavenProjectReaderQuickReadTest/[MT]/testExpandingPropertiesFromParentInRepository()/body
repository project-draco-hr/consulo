{
  File repositoryPath=new File(myDir,"repository");
  setRepositoryPath(repositoryPath.getPath());
  File parentFile=new File(repositoryPath,"org/test/parent/1/parent-1.pom");
  parentFile.getParentFile().mkdirs();
  FileUtil.writeToFile(parentFile,createPomXml("<groupId>org.test</groupId>" + "<artifactId>parent</artifactId>" + "<version>1</version>"+ "<properties>"+ "  <prop>value</prop>"+ "</properties>").getBytes());
  createProjectPom("<parent>" + "  <groupId>org.test</groupId>" + "  <artifactId>parent</artifactId>"+ "  <version>1</version>"+ "</parent>"+ "<name>${prop}</name>");
  org.apache.maven.project.MavenProject p=readProject(myProjectPom,new MavenProjectReaderProjectLocator(){
    public VirtualFile findProjectFile(    MavenId coordinates){
      return null;
    }
  }
);
  assertEquals("value",p.getName());
}
