{
  new WriteCommandAction(aClass.getProject(),getTitle(aClass),getTitle(aClass)){
    @Override protected void run(    Result result) throws Throwable {
      final PsiClass containingClass=aClass.getContainingClass();
      LOG.assertTrue(containingClass != null);
      final PsiTypeParameterList oldTypeParameterList=aClass.getTypeParameterList();
      PsiClass classFromText=JavaPsiFacade.getElementFactory(aClass.getProject()).createClass(aClass.getName() + IMPL_SUFFIX);
      classFromText=(PsiClass)containingClass.addAfter(classFromText,aClass);
      startTemplate(oldTypeParameterList,aClass.getProject(),aClass,classFromText,true);
    }
  }
.execute();
}
