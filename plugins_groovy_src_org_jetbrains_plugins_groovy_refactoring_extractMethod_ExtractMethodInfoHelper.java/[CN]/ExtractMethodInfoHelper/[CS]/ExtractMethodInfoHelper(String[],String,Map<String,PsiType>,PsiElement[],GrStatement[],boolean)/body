{
  myInnerElements=innerElements;
  myStatements=statements;
  myIsStatic=isStatic;
  int i=0;
  for (  String name : inputNames) {
    PsiType type=typeMap.get(name);
    ParameterInfo info=new ParameterInfo(name,i,type);
    myInputNamesMap.put(name,info);
    i++;
  }
  myOutputName=outputName;
  if (myOutputName != null) {
    PsiType type=typeMap.get(myOutputName);
    if (type == null)     myOutputType=PsiType.VOID;
 else     myOutputType=type;
  }
 else {
    if (ExtractMethodUtil.isSingleExpression(statements) || statements.length == 1 && statements[0] instanceof GrExpression && !(statements[0] instanceof GrAssignmentExpression)) {
      PsiType type=((GrExpression)statements[0]).getType();
      if (type != null) {
        myOutputType=type;
      }
 else {
        myOutputType=PsiType.VOID;
      }
    }
 else {
      PsiType returnType=referTypeFromContext(myStatements);
      myOutputType=returnType == null ? PsiType.VOID : returnType;
    }
  }
}
