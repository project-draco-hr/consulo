{
  final GitVcsSettings settings=GitVcsSettings.getInstance(project);
  if (settings == null) {
    return getDefaultUpdaterForBranch(project,git,root,trackedBranches,progressIndicator,updatedFiles);
  }
switch (settings.getUpdateType()) {
case REBASE:
    return new GitRebaseUpdater(project,git,root,trackedBranches,progressIndicator,updatedFiles);
case MERGE:
  return new GitMergeUpdater(project,git,root,trackedBranches,progressIndicator,updatedFiles);
case BRANCH_DEFAULT:
return getDefaultUpdaterForBranch(project,git,root,trackedBranches,progressIndicator,updatedFiles);
}
return getDefaultUpdaterForBranch(project,git,root,trackedBranches,progressIndicator,updatedFiles);
}
