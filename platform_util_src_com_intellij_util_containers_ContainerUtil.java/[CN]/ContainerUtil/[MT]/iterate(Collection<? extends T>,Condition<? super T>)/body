{
  if (collection.isEmpty())   return emptyIterable();
  return new Iterable<T>(){
    @NotNull @Override public Iterator<T> iterator(){
      return new Iterator<T>(){
        private final Iterator<? extends T> impl=collection.iterator();
        private T next=findNext();
        @Override public boolean hasNext(){
          return next != null;
        }
        @Override public T next(){
          T result=next;
          next=findNext();
          return result;
        }
        @Nullable private T findNext(){
          while (impl.hasNext()) {
            T each=impl.next();
            if (condition.value(each)) {
              return each;
            }
          }
          return null;
        }
        @Override public void remove(){
          throw new UnsupportedOperationException();
        }
      }
;
    }
  }
;
}
