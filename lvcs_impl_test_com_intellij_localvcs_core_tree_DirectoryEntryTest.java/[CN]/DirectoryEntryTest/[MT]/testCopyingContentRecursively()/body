{
  Entry dir=new DirectoryEntry(-1,null);
  Entry child1=new FileEntry(1,"child1",null,-1);
  Entry child2=new DirectoryEntry(2,"child2");
  Entry child3=new FileEntry(3,"child3",null,-1);
  dir.addChild(child1);
  dir.addChild(child2);
  child2.addChild(child3);
  Entry copy=dir.copy();
  List<Entry> children=copy.getChildren();
  assertEquals(2,children.size());
  assertEquals(1,children.get(1).getChildren().size());
  Entry copyChild1=children.get(0);
  Entry copyChild2=children.get(1);
  Entry copyChild3=copyChild2.getChildren().get(0);
  assertEquals(1,copyChild1.getId());
  assertEquals(2,copyChild2.getId());
  assertEquals(3,copyChild3.getId());
  assertSame(copy,copyChild1.getParent());
  assertSame(copy,copyChild2.getParent());
  assertSame(copyChild2,copyChild3.getParent());
}
