{
  while (true) {
    try {
      if (!myProject.isOpen())       return;
      final TaskDescriptor current=getNextMatching();
      if (current == null) {
        if (myTriggerSuspend) {
          mySemaphore.down();
          while (myTriggerSuspend) {
            mySemaphore.waitFor(500);
          }
          continue;
        }
 else {
          return;
        }
      }
      if (Where.AWT.equals(current.getWhere())) {
        WaitForProgressToShow.runOrInvokeAndWaitAboveProgress(new Runnable(){
          @Override public void run(){
            current.run(SameProgressRunner.this);
          }
        }
);
      }
 else {
        current.run(this);
      }
    }
 catch (    ProcessCanceledException ignored) {
    }
catch (    Throwable t) {
      LOG.error(t);
      myIndicator.cancel();
    }
  }
}
