{
  final SMTestRunnerResultsForm.FormSelectionListener selectionListener=createSelectionListener();
  return new TestProxySelectionChangedListener(){
    public void onChangeSelection(    @Nullable final SMTestProxy selectedTestProxy,    @NotNull final Object sender,    final boolean requestFocus){
      if (requestFocus) {
        selectionListener.onSelectedRequest(selectedTestProxy);
        UIUtil.addToInvokeLater(new Runnable(){
          public void run(){
            final JBTabs myTabs=((TestResultsViewer)sender).getTabs();
            final List<TabInfo> tabs=myTabs.getTabs();
            for (            TabInfo tab : tabs) {
              if (tab.getComponent() == StatisticsPanel.this) {
                myTabs.select(tab,true);
                break;
              }
            }
            IdeFocusManager.getInstance(myProject).requestFocus(myStatisticsTableView,true);
          }
        }
);
      }
    }
  }
;
}
