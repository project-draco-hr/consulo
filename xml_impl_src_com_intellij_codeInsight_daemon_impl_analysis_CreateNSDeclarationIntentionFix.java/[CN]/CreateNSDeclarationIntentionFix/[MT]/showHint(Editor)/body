{
  if (!XmlSettings.getInstance().SHOW_XML_ADD_IMPORT_HINTS || !myElement.isValid() || myNamespacePrefix.length() == 0) {
    return false;
  }
  final Set<String> namespaces=XmlExtension.getExtension(myFile).guessUnboundNamespaces(myElement,myFile);
  if (!namespaces.isEmpty()) {
    final String message=ShowAutoImportPass.getMessage(namespaces.size() > 1,namespaces.iterator().next());
    final String title=getTitle();
    final ImportNSAction action=new ImportNSAction(namespaces,myFile,myElement,editor,title);
    if (myElement instanceof XmlTag) {
      if (VisibleHighlightingPassFactory.calculateVisibleRange(editor).contains(myToken.getTextRange())) {
        HintManager.getInstance().showQuestionHint(editor,message,myToken.getTextOffset(),myToken.getTextOffset() + myNamespacePrefix.length(),action);
        return true;
      }
    }
 else {
      HintManager.getInstance().showQuestionHint(editor,message,myElement.getTextOffset(),myElement.getTextRange().getEndOffset(),action);
      return true;
    }
  }
  return false;
}
