{
  final PsiElement elementAtSelection=file.findElementAt(selectionStart);
  if (!(elementAtSelection instanceof PsiJavaToken)) {
    return null;
  }
  final IElementType tokenType=((PsiJavaToken)elementAtSelection).getTokenType();
  if ((tokenType != JavaTokenType.STRING_LITERAL && tokenType != JavaTokenType.CHARACTER_LITERAL)) {
    return null;
  }
  final TextRange textRange=elementAtSelection.getTextRange();
  if (selectionStart <= textRange.getStartOffset() || selectionEnd >= textRange.getEndOffset()) {
    return null;
  }
  return tokenType;
}
