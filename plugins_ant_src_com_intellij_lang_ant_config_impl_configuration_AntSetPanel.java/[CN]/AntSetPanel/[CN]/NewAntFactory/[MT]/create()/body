{
  VirtualFile[] files=FileChooser.chooseFiles(myParent,FileChooserDescriptorFactory.createSingleFolderDescriptor());
  if (files.length == 0)   return null;
  VirtualFile homePath=files[0];
  try {
    return AntInstallation.fromHome(homePath.getPresentableUrl());
  }
 catch (  AntInstallation.ConfigurationException e) {
    Messages.showErrorDialog(myParent,e.getMessage(),AntBundle.message("ant.setup.dialog.title"));
    return null;
  }
}
