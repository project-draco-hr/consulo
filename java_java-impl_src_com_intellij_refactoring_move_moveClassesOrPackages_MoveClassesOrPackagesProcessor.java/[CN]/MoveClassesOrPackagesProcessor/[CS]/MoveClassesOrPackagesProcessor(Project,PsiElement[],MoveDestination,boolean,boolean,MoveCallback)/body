{
  super(project);
  final Set<PsiElement> toMove=new LinkedHashSet<PsiElement>();
  for (  PsiElement element : elements) {
    if (element instanceof PsiJavaFile) {
      Collections.addAll(toMove,((PsiJavaFile)element).getClasses());
    }
 else {
      toMove.add(element);
    }
  }
  myElementsToMove=toMove.toArray(new PsiElement[toMove.size()]);
  myMoveDestination=moveDestination;
  myTargetPackage=myMoveDestination.getTargetPackage();
  mySearchInComments=searchInComments;
  mySearchInNonJavaFiles=searchInNonJavaFiles;
  myMoveCallback=moveCallback;
}
