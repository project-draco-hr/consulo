{
  List<NonCodeUsageInfo> nonCodeUsages=new ArrayList<NonCodeUsageInfo>();
  for (  UsageInfo usage : usages) {
    if (usage instanceof NonCodeUsageInfo) {
      nonCodeUsages.add((NonCodeUsageInfo)usage);
    }
 else     if (usage instanceof MoveRenameUsageInfo) {
      final MoveRenameUsageInfo moveRenameUsage=(MoveRenameUsageInfo)usage;
      final PsiElement oldElement=moveRenameUsage.getReferencedElement();
      final PsiElement newElement=oldToNewElementsMapping.get(oldElement);
      LOG.assertTrue(newElement != null);
      final PsiReference reference=moveRenameUsage.getReference();
      if (reference != null) {
        try {
          reference.bindToElement(newElement);
        }
 catch (        IncorrectOperationException e) {
        }
      }
    }
  }
  return nonCodeUsages.toArray(new NonCodeUsageInfo[nonCodeUsages.size()]);
}
