{
  if (e == null)   return EMPTY_ARRAY;
  VirtualFile virtualFile=e.getData(PlatformDataKeys.VIRTUAL_FILE);
  Collection<Charset> charsets=EncodingManager.getInstance().getFavorites();
  List<AnAction> children=new ArrayList<AnAction>();
  for (  Charset charset : charsets) {
    ChangeFileEncodingTo action=new ChangeFileEncodingTo(virtualFile,charset);
    children.add(action);
  }
  children.add(new More(virtualFile));
  children.add(new Separator());
  return children.toArray(new AnAction[children.size()]);
}
