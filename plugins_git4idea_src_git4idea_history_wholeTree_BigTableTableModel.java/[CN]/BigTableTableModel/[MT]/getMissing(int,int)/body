{
  if (myLines == null || myRootsHolder == null)   return MultiMap.emptyInstance();
  final MultiMap<VirtualFile,AbstractHash> result=new MultiMap<VirtualFile,AbstractHash>();
  for (int i=startRow; i <= endRow; i++) {
    final CommitI commitI=myLines.get(i);
    if (commitI.holdsDecoration())     continue;
    final AbstractHash hash=commitI.getHash();
    final VirtualFile root=commitI.selectRepository(myRootsHolder.getRoots());
    if (myCache.convert(root,commitI.getHash()) == null) {
      result.putValue(root,hash);
    }
  }
  return result;
}
