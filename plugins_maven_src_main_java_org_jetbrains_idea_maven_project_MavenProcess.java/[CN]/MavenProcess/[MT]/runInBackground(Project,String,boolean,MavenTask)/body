{
  final Semaphore startSemaphore=new Semaphore();
  final Semaphore finishSemaphore=new Semaphore();
  final ProgressIndicator[] indicator=new ProgressIndicator[1];
  startSemaphore.up();
  finishSemaphore.up();
  ProgressManager.getInstance().run(new Task.Backgroundable(project,title,canBeCancelled){
    public void run(    @NotNull ProgressIndicator i){
      try {
        indicator[0]=i;
        startSemaphore.down();
        t.run(new MavenProcess(i));
      }
 catch (      CanceledException ignore) {
      }
 finally {
        finishSemaphore.down();
      }
    }
    @Override public boolean shouldStartInBackground(){
      return !canBeCancelled;
    }
  }
);
  return new MavenTaskHandler(startSemaphore,finishSemaphore,indicator);
}
