{
  if (myRootFile == null) {
    return detectWhenNoRoot(fullPath,detector);
  }
  if (fullPath.startsWith(myURL)) {
    return LocationDetector.filePathByUrlAndPath(fullPath,myURL,myRootFile.getPresentableUrl(),detector);
  }
 else {
    final RootMixedInfo rootForUrl=vcs.getSvnFileUrlMapping().getWcRootForUrl(fullPath);
    if (rootForUrl != null) {
      return LocationDetector.filePathByUrlAndPath(fullPath,rootForUrl.getUrl().toString(),rootForUrl.getFilePath(),detector);
    }
  }
  return null;
}
