def prompt(self, msg, default='y'):
    'Prompt user with msg, read response.\n        If ui is not interactive, the default is returned.\n        '
    if (not self.interactive()):
        self.write(msg, ' ', default, '\n')
        return default
    try:
        r = self._readline((msg + ' '))
        if (not r):
            return default
        return r
    except EOFError:
        raise util.Abort(_('response expected'))
