{
  StackTraceElement[] edtStack=null;
  boolean dumpSuccessful=false;
  try {
    ThreadInfo[] threads=threadMXBean.dumpAllThreads(false,false);
    for (    ThreadInfo info : threads) {
      if (info != null) {
        if (info.getThreadName().equals("AWT-EventQueue-1")) {
          edtStack=info.getStackTrace();
        }
        dumpThreadInfo(info,f);
      }
    }
    dumpSuccessful=true;
  }
 catch (  Exception ignored) {
  }
  if (!dumpSuccessful) {
    final long[] threadIds=threadMXBean.getAllThreadIds();
    final ThreadInfo[] threadInfo=threadMXBean.getThreadInfo(threadIds,Integer.MAX_VALUE);
    for (    ThreadInfo info : threadInfo) {
      if (info != null) {
        if (info.getThreadName().equals("AWT-EventQueue-1")) {
          edtStack=info.getStackTrace();
        }
        dumpThreadInfo(info,f);
      }
    }
  }
  return edtStack;
}
