{
  Arrays.sort(threads,new Comparator<ThreadInfo>(){
    @Override public int compare(    ThreadInfo o1,    ThreadInfo o2){
      final String t1=o1.getThreadName();
      final String t2=o2.getThreadName();
      if (t1.startsWith("AWT-EventQueue"))       return -1;
      if (t2.startsWith("AWT-EventQueue"))       return 1;
      final boolean r1=o1.getThreadState() == Thread.State.RUNNABLE;
      final boolean r2=o2.getThreadState() == Thread.State.RUNNABLE;
      if (r1 && !r2)       return -1;
      if (r2 && !r1)       return 1;
      return 0;
    }
  }
);
  return threads;
}
