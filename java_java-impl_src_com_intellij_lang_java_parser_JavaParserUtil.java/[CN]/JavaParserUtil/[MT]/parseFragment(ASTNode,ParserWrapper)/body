{
  final PsiBuilderFactory factory=PsiBuilderFactory.getInstance();
  final LanguageLevel level=LanguageLevel.HIGHEST;
  final PsiBuilder builder=factory.createBuilder(JavaParserDefinition.createLexer(level),StdLanguages.JAVA,chameleon.getChars());
  setLanguageLevel(builder,level);
  final PsiBuilder.Marker root=builder.mark();
  wrapper.parse(builder);
  if (!builder.eof()) {
    final PsiBuilder.Marker extras=builder.mark();
    while (!builder.eof())     builder.advanceLexer();
    extras.error(JavaErrorMessages.message("unexpected.tokens"));
  }
  root.done(chameleon.getElementType());
  return builder.getTreeBuilt().getFirstChildNode();
}
