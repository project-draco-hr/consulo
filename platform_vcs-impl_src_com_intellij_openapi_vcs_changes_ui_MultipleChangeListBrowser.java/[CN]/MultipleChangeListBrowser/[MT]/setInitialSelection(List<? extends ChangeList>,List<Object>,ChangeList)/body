{
  myAllChanges=ContainerUtil.newArrayList();
  mySelectedChangeList=initialListSelection;
  for (  ChangeList list : changeLists) {
    if (list instanceof LocalChangeList) {
      myAllChanges.addAll(list.getChanges());
      if (initialListSelection == null && ContainerUtil.intersects(list.getChanges(),changes)) {
        mySelectedChangeList=list;
      }
    }
  }
  if (mySelectedChangeList == null) {
    mySelectedChangeList=ObjectUtils.chooseNotNull(findDefaultList(changeLists),ContainerUtil.getFirstItem(changeLists));
  }
}
