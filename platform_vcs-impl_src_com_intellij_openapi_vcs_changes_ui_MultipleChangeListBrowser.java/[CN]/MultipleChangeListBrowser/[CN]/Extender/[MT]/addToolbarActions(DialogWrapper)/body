{
  final Icon icon=AllIcons.Vcs.Refresh;
  if (myBrowser.myChangesToDisplay == null) {
    myBrowser.addToolbarAction(new AnAction("Refresh Changes"){
      @Override public void actionPerformed(      AnActionEvent e){
        myBrowser.rebuildList();
      }
      @Override public void update(      AnActionEvent e){
        e.getPresentation().setIcon(icon);
      }
    }
);
  }
  RollbackDialogAction rollback=new RollbackDialogAction();
  EmptyAction.setupAction(rollback,IdeActions.CHANGES_VIEW_ROLLBACK,myBrowser);
  myBrowser.addToolbarAction(rollback);
  final EditSourceInCommitAction editSourceAction=new EditSourceInCommitAction(dialogWrapper);
  editSourceAction.registerCustomShortcutSet(CommonShortcuts.getEditSource(),myBrowser);
  myBrowser.addToolbarAction(editSourceAction);
  myBrowser.addToolbarAction(ActionManager.getInstance().getAction("Vcs.CheckinProjectToolbar"));
  final List<AnAction> actions=AdditionalLocalChangeActionsInstaller.calculateActions(myProject,myBrowser.getAllChanges());
  if (actions != null) {
    for (    AnAction action : actions) {
      myBrowser.addToolbarAction(action);
    }
  }
  if (myAdditionalActions != null && myAdditionalActions.length > 0) {
    for (int i=0; i < myAdditionalActions.length; i++) {
      final AnAction action=myAdditionalActions[i];
      myBrowser.addToolbarAction(action);
    }
  }
}
