{
  if (method.isConstructor()) {
    return factory.createConstructor(method.getName());
  }
  final PsiType substitutedReturnType=substituteType(substitutor,method.getReturnType());
  return factory.createMethod(method.getName(),substitutedReturnType instanceof PsiWildcardType ? TypeConversionUtil.erasure(substitutedReturnType) : substitutedReturnType);
}
