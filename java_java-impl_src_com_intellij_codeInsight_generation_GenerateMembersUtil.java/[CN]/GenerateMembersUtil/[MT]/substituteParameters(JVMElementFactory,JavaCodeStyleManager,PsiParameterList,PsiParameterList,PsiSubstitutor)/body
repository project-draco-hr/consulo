{
  PsiParameter[] parameters=sourceParameterList.getParameters();
  UniqueNameGenerator generator=new UniqueNameGenerator();
  for (int i=0; i < parameters.length; i++) {
    PsiParameter parameter=parameters[i];
    final PsiType parameterType=parameter.getType();
    final PsiType substituted=substituteType(substitutor,parameterType);
    @NonNls String paramName=parameter.getName();
    boolean isBaseNameGenerated=true;
    final boolean isSubstituted=substituted.equals(parameterType);
    if (!isSubstituted && isBaseNameGenerated(codeStyleManager,TypeConversionUtil.erasure(parameterType),paramName)) {
      isBaseNameGenerated=false;
    }
    if (paramName == null || isBaseNameGenerated && !isSubstituted && isBaseNameGenerated(codeStyleManager,parameterType,paramName)) {
      String[] names=codeStyleManager.suggestVariableName(VariableKind.PARAMETER,null,null,substituted).names;
      if (names.length > 0) {
        paramName=generator.generateUniqueName(names[0]);
      }
    }
    if (paramName == null)     paramName="p" + i;
    generator.addExistingName(paramName);
    final PsiParameter newParameter=factory.createParameter(paramName,substituted);
    copyOrReplaceModifierList(parameter,newParameter);
    targetParameterList.add(newParameter);
  }
}
