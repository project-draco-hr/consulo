{
  final JavaPsiFacade psiFacade=JavaPsiFacade.getInstance(project);
  final Set<String> toRemove=new HashSet<String>();
  for (  PsiAnnotation annotation : modifierList.getAnnotations()) {
    final String qualifiedName=annotation.getQualifiedName();
    for (    OverrideImplementsAnnotationsHandler handler : Extensions.getExtensions(OverrideImplementsAnnotationsHandler.EP_NAME)) {
      final String[] annotations2Remove=handler.annotationsToRemove(project,qualifiedName);
      Collections.addAll(toRemove,annotations2Remove);
      if (moduleScope != null && psiFacade.findClass(qualifiedName,moduleScope) == null) {
        toRemove.add(qualifiedName);
      }
    }
  }
  for (  String fqn : toRemove) {
    final PsiAnnotation psiAnnotation=modifierList.findAnnotation(fqn);
    if (psiAnnotation != null) {
      psiAnnotation.delete();
    }
  }
}
