{
  for (  PsiType type : substitutor.getSubstitutionMap().values()) {
    if (type != null && Comparing.equal(type.getCanonicalText(),typeParam.getName())) {
      final String newName=suggestUniqueTypeParameterName(typeParam.getName(),sourceTypeParameterList,PsiTreeUtil.getParentOfType(target,PsiClass.class,false));
      final PsiTypeParameter newTypeParameter=factory.createTypeParameter(newName,typeParam.getSuperTypes());
      substitutor.put(typeParam,factory.createType(newTypeParameter));
      return newTypeParameter;
    }
  }
  return typeParam;
}
