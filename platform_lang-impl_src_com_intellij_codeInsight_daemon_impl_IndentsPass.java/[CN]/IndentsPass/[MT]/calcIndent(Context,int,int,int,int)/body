{
  final HighlighterIterator it=context.highlighter.createIterator(indentOffset);
  if (context.comments.contains(it.getTokenType()) && indentOffset == it.getStart()) {
    String prefix=COMMENT_PREFIXES.get(it.getTokenType());
    if (prefix == null) {
      prefix=parseComments(it.getTokenType());
    }
    if (!NO_COMMENT_INFO_MARKER.equals(prefix)) {
      final int indentInsideCommentOffset=CharArrayUtil.shiftForward(context.chars,indentOffset + prefix.length()," \t");
      if (indentInsideCommentOffset < lineEndOffset) {
        return myEditor.calcColumnNumber(indentInsideCommentOffset,line);
      }
    }
  }
  return fallbackColumn;
}
