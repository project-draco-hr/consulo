{
  Map<String,VirtualFile> result=new HashMap<String,VirtualFile>();
  for (  String path : paths) {
    String[] pathElements=path.split("/");
    boolean lastIsDir=path.endsWith("/");
    VirtualFile currentParent=myRepo.getDir();
    for (int i=0; i < pathElements.length - 1; i++) {
      currentParent=createDirInCommand(currentParent,pathElements[i]);
    }
    String lastElement=pathElements[pathElements.length - 1];
    currentParent=lastIsDir ? createDirInCommand(currentParent,lastElement) : createFileInCommand(currentParent,lastElement,"initial content");
    result.put(path,currentParent);
  }
  return result;
}
