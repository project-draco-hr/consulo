{
  setStandardConfirmation(GitVcs.NAME,VcsConfiguration.StandardConfirmation.ADD,VcsShowConfirmationOption.Value.DO_NOTHING_SILENTLY);
  VirtualFile file=create(myRootDir,"new.txt");
  MockChangelistBuilder builder=new MockChangelistBuilder();
  myChangeProvider.getChanges(myDirtyScope,builder,new EmptyProgressIndicator(),new MockChangeListManagerGate(ChangeListManager.getInstance(myProject)));
  List<VirtualFile> unversionedFiles=builder.getUnversionedFiles();
  assertEquals(unversionedFiles.size(),1,"Incorrect number of unversioned files.");
  assertEquals(unversionedFiles.get(0),file,"Unversioned file doesn't match.");
}
