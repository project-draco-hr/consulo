{
  aClass.accept(new JavaRecursiveElementWalkingVisitor(){
    @Override public void visitMethod(    PsiMethod method){
    }
    @Override public void visitClassInitializer(    PsiClassInitializer initializer){
    }
    @Override public void visitReferenceExpression(    PsiReferenceExpression expression){
      final PsiExpression qualifier=expression.getQualifierExpression();
      if (qualifier == null || qualifier instanceof PsiThisExpression && ((PsiThisExpression)qualifier).getQualifier() == null) {
        final PsiElement resolved=expression.resolve();
        if (resolved instanceof PsiField) {
          final PsiField field=(PsiField)resolved;
          if (aClass.equals(field.getContainingClass())) {
            candidates.remove(field);
          }
        }
      }
      super.visitReferenceExpression(expression);
    }
  }
);
}
