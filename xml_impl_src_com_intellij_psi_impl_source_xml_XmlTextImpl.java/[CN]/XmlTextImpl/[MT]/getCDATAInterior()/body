{
  PsiElement[] elements=getChildren();
  int start=0;
  if (elements.length != 0 && elements[0].getNode().getElementType() == XmlElementType.XML_CDATA) {
    ASTNode startNode=elements[0].getNode().findChildByType(XmlElementType.XML_CDATA_START);
    if (startNode != null) {
      start=startNode.getTextRange().getEndOffset() - getTextRange().getStartOffset();
    }
  }
  int end=getTextLength();
  if (elements.length != 0 && elements[elements.length - 1].getNode().getElementType() == XmlElementType.XML_CDATA) {
    ASTNode startNode=elements[elements.length - 1].getNode().findChildByType(XmlElementType.XML_CDATA_END);
    if (startNode != null) {
      end=startNode.getTextRange().getStartOffset() - getTextRange().getStartOffset();
    }
  }
  return new TextRange(start,end);
}
