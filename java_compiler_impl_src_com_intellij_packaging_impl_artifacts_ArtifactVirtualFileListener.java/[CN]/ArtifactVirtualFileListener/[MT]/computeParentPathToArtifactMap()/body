{
  final MultiValuesMap<String,Artifact> result=new MultiValuesMap<String,Artifact>();
  for (  final Artifact artifact : myArtifactManager.getArtifacts()) {
    ArtifactUtil.processFileOrDirectoryCopyElements(artifact,new PackagingElementProcessor<FileOrDirectoryCopyPackagingElement<?>>(){
      @Override public boolean process(      @NotNull List<CompositePackagingElement<?>> parents,      @NotNull FileOrDirectoryCopyPackagingElement<?> element){
        String path=element.getFilePath();
        while (path.length() > 0) {
          result.put(path,artifact);
          path=PathUtil.getParentPath(path);
        }
        return true;
      }
    }
,myArtifactManager.getResolvingContext(),false);
  }
  return result;
}
