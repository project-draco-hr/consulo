{
  if (hex == null)   throw new IllegalArgumentException("null argument");
  if ((hex.length() % 2) != 0)   throw new IllegalArgumentException("Uneven string length in hex encoding.");
  byte decoded[]=new byte[hex.length() / 2];
  for (int i=0; i < decoded.length; i++) {
    int hi=hexToInt(hex.charAt(i * 2));
    int lo=hexToInt(hex.charAt((i * 2) + 1));
    decoded[i]=(byte)(hi * 16 + lo);
  }
  return decoded;
}
