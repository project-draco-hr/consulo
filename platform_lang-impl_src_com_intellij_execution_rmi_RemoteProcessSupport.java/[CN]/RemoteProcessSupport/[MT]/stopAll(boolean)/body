{
  final ArrayList<ProcessHandler> allHandlers=new ArrayList<ProcessHandler>();
synchronized (myProcMap) {
    for (    Object o : myProcMap.values()) {
      final ProcessHandler handler=o instanceof PendingInfo ? ((PendingInfo)o).handler : o instanceof Info ? ((Info)o).handler : null;
      ContainerUtil.addIfNotNull(handler,allHandlers);
    }
    myProcMap.clear();
  }
  for (  ProcessHandler handler : allHandlers) {
    handler.destroyProcess();
  }
  if (wait) {
    for (    ProcessHandler handler : allHandlers) {
      handler.waitFor();
    }
  }
}
