{
  if (!myUIInitialized)   return;
  if (!ApplicationManager.getApplication().isHeadlessEnvironment()) {
    Runnable runnable=new Runnable(){
      public void run(){
        if (isDisposed())         return;
        myPendingNewFacets.addAll(added);
        for (        FacetDetectedNotification notification : myNotifications) {
          for (          DetectedFacetInfo<Module> facetInfo : removed) {
            notification.processFacetRemoved(facetInfo);
          }
        }
        queueNotificationPopup();
      }
    }
;
    ApplicationManager.getApplication().invokeLater(runnable,ModalityState.NON_MODAL);
  }
}
