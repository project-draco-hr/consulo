{
  myProject=project;
  List<VirtualFile> roots=chooserDescriptor.getRoots();
  final VirtualFile[] rootFiles=VfsUtil.toVirtualFileArray(roots);
  VirtualFile rootFile=rootFiles.length == 1 ? rootFiles[0] : null;
  myRootElement=new RootFileElement(rootFiles,rootFile != null ? rootFile.getPresentableUrl() : chooserDescriptor.getTitle(),chooserDescriptor.isShowFileSystemRoots());
  myChooserDescriptor=chooserDescriptor;
  String value=PropertiesComponent.getInstance().getValue("FileChooser.showHiddens");
  myShownHiddens=Boolean.valueOf(value).booleanValue();
}
