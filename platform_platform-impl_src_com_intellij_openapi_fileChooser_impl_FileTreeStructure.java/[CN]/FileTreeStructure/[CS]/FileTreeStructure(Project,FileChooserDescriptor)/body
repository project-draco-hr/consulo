{
  myProject=project;
  final List<String> rootPaths=chooserDescriptor.getRootPaths();
  final String name=rootPaths.size() == 1 ? rootPaths.get(0) : chooserDescriptor.getTitle();
  final VirtualFile[] rootFiles=VfsUtil.toVirtualFileArray(FileChooserUtil.pathsToFiles(rootPaths,false));
  myRootElement=new RootFileElement(rootFiles,name,chooserDescriptor.isShowFileSystemRoots());
  myChooserDescriptor=chooserDescriptor;
  myShowHidden=PropertiesComponent.getInstance().getBoolean("FileChooser.showHiddens",false);
}
