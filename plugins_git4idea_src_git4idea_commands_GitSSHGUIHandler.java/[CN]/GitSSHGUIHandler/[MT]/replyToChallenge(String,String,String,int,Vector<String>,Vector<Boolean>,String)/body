{
  final AtomicReference<Vector<String>> rc=new AtomicReference<Vector<String>>();
  try {
    EventQueue.invokeAndWait(new Runnable(){
      public void run(){
        showError(lastError);
        GitSSHKeyboardInteractiveDialog dialog=new GitSSHKeyboardInteractiveDialog(name,numPrompts,instruction,prompt,echo,username);
        dialog.show();
        if (dialog.isOK()) {
          rc.set(dialog.getResults());
        }
      }
    }
);
  }
 catch (  InterruptedException e) {
    throw new RuntimeException("dialog failed",e);
  }
catch (  InvocationTargetException e) {
    throw new RuntimeException("dialog failed",e);
  }
  return rc.get();
}
