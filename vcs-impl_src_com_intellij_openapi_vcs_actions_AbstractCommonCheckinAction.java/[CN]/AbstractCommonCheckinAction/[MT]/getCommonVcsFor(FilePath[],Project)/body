{
  if (roots.length == 0)   return null;
  AbstractVcs firstVcs=VcsUtil.getVcsFor(project,roots[0]);
  if (firstVcs == null)   return null;
  for (  FilePath file : roots) {
    AbstractVcs vcs=VcsUtil.getVcsFor(project,file);
    if (vcs == null)     return null;
    if (firstVcs != vcs) {
      return null;
    }
  }
  return firstVcs;
}
