{
  ThreadReference thread=event.thread();
  LOG.assertTrue(thread.isSuspended());
  preprocessEvent(suspendContext,thread);
  final DebugProcessEvents debugProcess=(DebugProcessEvents)suspendContext.getDebugProcess();
  debugProcess.getManagerThread().invokeLater(new SuspendContextCommandImpl(suspendContext){
    public void contextAction() throws Exception {
      SuspendContextImpl evaluatingContext=SuspendManagerUtil.getEvaluatingContext(debugProcess.getSuspendManager(),getSuspendContext().getThread());
      if (evaluatingContext != null && !evaluatingContext.getEvaluationContext().isAllowBreakpoints()) {
        getSuspendManager().voteResume(suspendContext);
        return;
      }
      LocatableEventRequestor requestor=(LocatableEventRequestor)debugProcess.getRequestsManager().findRequestor(event.request());
      boolean shouldResumeExecution=true;
      if (requestor != null) {
        shouldResumeExecution=requestor.processLocatableEvent(this,event);
      }
      if (shouldResumeExecution) {
        getSuspendManager().voteResume(suspendContext);
      }
 else {
        getSuspendManager().voteSuspend(suspendContext);
        showStatusText(debugProcess,event);
      }
    }
  }
);
}
