{
  try {
    final ManagingFS managingFS=ManagingFS.getInstance();
    for (    VirtualFile file : files) {
      if (!file.isValid()) {
        return false;
      }
      final DataInputStream stream=INSTANCE.readAttribute(file);
      if (stream == null) {
        return false;
      }
      try {
        final int savedStamp=stream.readInt();
        if (savedStamp != managingFS.getModificationCount(file)) {
          return false;
        }
      }
  finally {
        stream.close();
      }
    }
  }
 catch (  IOException e) {
    LOG.info(e);
    return false;
  }
  return true;
}
