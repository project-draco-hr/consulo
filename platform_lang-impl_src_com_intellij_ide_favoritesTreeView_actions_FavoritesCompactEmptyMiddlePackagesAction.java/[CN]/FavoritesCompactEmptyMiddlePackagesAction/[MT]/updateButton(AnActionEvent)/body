{
  super.updateButton(e);
  Presentation presentation=e.getPresentation();
  if (getViewSettings().isFlattenPackages()) {
    presentation.setText(IdeBundle.message("action.hide.empty.middle.packages"));
    presentation.setDescription(IdeBundle.message("action.show.hide.empty.middle.packages"));
  }
 else {
    presentation.setText(IdeBundle.message("action.compact.empty.middle.packages"));
    presentation.setDescription(IdeBundle.message("action.show.compact.empty.middle.packages"));
  }
}
