{
  DocumentAdapter l=new DocumentAdapter(){
    @Override protected void textChanged(    DocumentEvent e){
      if (Arrays.equals(passwordField1.getPassword(),passwordField2.getPassword())) {
        setError.process(null);
      }
 else {
        setError.process("The new password and confirm passwords do not match.");
      }
    }
  }
;
  passwordField1.getDocument().addDocumentListener(l);
  passwordField2.getDocument().addDocumentListener(l);
}
