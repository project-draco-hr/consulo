{
  if (newRectangle.y == oldRectangle.y && newRectangle.height == oldRectangle.height)   return;
  EditingSides sidesContainer=context.getSecond();
  FragmentSide masterSide=context.getFirst();
  Editor master=sidesContainer.getEditor(masterSide);
  Editor slave=sidesContainer.getEditor(masterSide.otherSide());
  if (master == null || slave == null)   return;
  Rectangle viewRect=master.getScrollingModel().getVisibleArea();
  int middleY=viewRect.height / 3;
  int materVerticalScrollOffset=master.getScrollingModel().getVerticalScrollOffset();
  int slaveVerticalScrollOffset=slave.getScrollingModel().getVerticalScrollOffset();
  LogicalPosition masterPos=master.xyToLogicalPosition(new Point(viewRect.x,materVerticalScrollOffset + middleY));
  int masterCenterLine=masterPos.line;
  int scrollToLine=sidesContainer.getLineBlocks().transform(masterSide,masterCenterLine) + 1;
  int actualLine=scrollToLine - 1;
  slave.getScrollingModel().disableAnimation();
  if (scrollToLine <= 0) {
    int offset=newRectangle.y - oldRectangle.y;
    slave.getScrollingModel().scrollVertically(slaveVerticalScrollOffset + offset);
  }
  int correction=(materVerticalScrollOffset + middleY) % master.getLineHeight();
  int scrollOffset=actualLine * slave.getLineHeight() - middleY;
  slave.getScrollingModel().scrollVertically(scrollOffset + correction);
  slave.getScrollingModel().enableAnimation();
}
