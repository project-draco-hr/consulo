{
  return new Runnable(){
    public void run(){
      if (LOG.isDebugEnabled()) {
        LOG.debug("update runnable (myUpdateByTimerEnabled = " + myUpdateByTimerEnabled + ")");
      }
      if (!myUpdateByTimerEnabled)       return;
      if (myDisposed)       return;
      final FileEditor[] activeEditors=myDaemonListeners.getSelectedEditors();
      if (activeEditors.length == 0)       return;
      Map<FileEditor,HighlightingPass[]> passes=new THashMap<FileEditor,HighlightingPass[]>(activeEditors.length);
      setLastIntentionHint(null);
      for (      FileEditor fileEditor : activeEditors) {
        BackgroundEditorHighlighter highlighter=fileEditor.getBackgroundHighlighter();
        if (highlighter != null) {
          HighlightingPass[] highlightingPasses=highlighter.createPassesForEditor();
          passes.put(fileEditor,highlightingPasses);
        }
      }
      renewUpdateProgress(true);
      for (      Map.Entry<FileEditor,HighlightingPass[]> entry : passes.entrySet()) {
        myPassExecutorService.submitPasses(entry.getKey(),entry.getValue(),myUpdateProgress);
      }
    }
  }
;
}
