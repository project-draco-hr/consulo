{
  VirtualFile virtualFile=file.getVirtualFile();
  if (virtualFile == null)   return false;
  Project project=file.getProject();
  if (!PackageUtil.projectContainsFile(project,virtualFile,false))   return false;
  AbstractVcs activeVcs=ProjectLevelVcsManager.getInstance(project).getVcsFor(virtualFile);
  if (activeVcs == null)   return true;
  FileStatus status=FileStatusManager.getInstance(project).getStatus(virtualFile);
  return status != FileStatus.NOT_CHANGED;
}
