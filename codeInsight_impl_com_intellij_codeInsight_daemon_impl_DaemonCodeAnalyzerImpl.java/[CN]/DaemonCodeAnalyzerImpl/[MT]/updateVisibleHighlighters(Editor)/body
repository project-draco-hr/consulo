{
  ApplicationManager.getApplication().assertIsDispatchThread();
  if (ApplicationManager.getApplication().isUnitTestMode())   return;
  TextEditor textEditor=TextEditorProvider.getInstance().getTextEditor(editor);
  BackgroundEditorHighlighter highlighter=textEditor.getBackgroundHighlighter();
  if (highlighter == null)   return;
  HighlightingPass[] highlightingPasses=highlighter.createPassesForVisibleArea();
  setLastIntentionHint(null);
  renewUpdateProgress();
  myPassExecutorService.submitPasses(textEditor,highlightingPasses,myUpdateProgress);
}
