{
  String[] ids=ActionManagerEx.getInstanceEx().getActionIds(TargetAction.ACTION_ID_PREFIX);
  Arrays.sort(ids);
  Group group=new Group("Ant Targets",ANT_ICON,ANT_OPEN_ICON);
  if (project != null) {
    AntConfiguration antConfiguration=AntConfiguration.getInstance(project);
    com.intellij.util.containers.HashMap buildFileToGroup=new com.intellij.util.containers.HashMap();
    for (int i=0; i < ids.length; i++) {
      String id=ids[i];
      BuildFile buildFile=antConfiguration.findBuildFileByActionId(id);
      if (buildFile == null) {
        LOG.info("no buildfile found for actionId=" + id);
        continue;
      }
      Group subGroup=(Group)buildFileToGroup.get(buildFile);
      if (subGroup == null) {
        subGroup=new Group(buildFile.getPresentableName(),null,null);
        buildFileToGroup.put(buildFile,subGroup);
        group.addGroup(subGroup);
      }
      subGroup.addActionId(id);
    }
  }
  return group;
}
