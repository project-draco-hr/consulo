{
  final PsiReference[] refs=getReferences();
  List<ResolveResult> result=new ArrayList<ResolveResult>();
  for (  PsiReference reference : refs) {
    if (reference instanceof PsiPolyVariantReference) {
      result.addAll(Arrays.asList(((PsiPolyVariantReference)reference).multiResolve(incompleteCode)));
    }
 else {
      final PsiElement resolved=reference.resolve();
      if (resolved != null) {
        result.add(PsiUtil.elementToResolveResult(resolved));
      }
    }
  }
  return result.toArray(new ResolveResult[result.size()]);
}
