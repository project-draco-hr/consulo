{
  Map current=myCache;
  for (  Factor factor : descriptor.affectingFactors) {
    Object key;
switch (factor) {
case placeElement:
      key=descriptor.getPlace();
    break;
case placeFile:
  key=descriptor.getPlaceFile();
break;
case qualifierType:
key=descriptor.getTypeText();
break;
default :
throw new IllegalStateException("Unknown variant: " + factor);
}
Map next=(Map)current.get(key);
if (next == null) current.put(key,next=new ConcurrentHashMap());
current=next;
}
current.put(ourHolderKey,holder);
}
