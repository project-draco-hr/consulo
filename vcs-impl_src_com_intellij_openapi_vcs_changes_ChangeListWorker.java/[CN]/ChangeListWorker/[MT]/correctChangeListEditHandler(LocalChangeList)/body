{
  final LocalChangeListImpl listImpl=(LocalChangeListImpl)list;
  final Collection<Change> changes=list.getChanges();
  ChangeListEditHandler handler=null;
  for (  Change change : changes) {
    final AbstractVcs vcs=ChangesUtil.getVcsForChange(change,myProject);
    if (vcs != null) {
      handler=vcs.getEditHandler();
      if (handler != null) {
        break;
      }
    }
  }
  if (!Comparing.equal(listImpl.getEditHandler(),handler)) {
    if (handler != null && (!listImpl.isReadOnly())) {
      listImpl.setCommentImpl(handler.correctCommentWhenInstalled(listImpl.getName(),listImpl.getComment()));
    }
    listImpl.setEditHandler(handler);
  }
}
