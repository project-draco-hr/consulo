{
  final PsiElement parent=position.getParent();
  if (!(parent instanceof PsiJavaCodeReferenceElement))   return false;
  if (((PsiJavaCodeReferenceElement)parent).getQualifier() != null)   return false;
  PsiElement grand=parent.getParent();
  if (grand instanceof PsiSwitchLabelStatement) {
    return false;
  }
  if (grand instanceof PsiAnonymousClass) {
    grand=grand.getParent();
  }
  if (grand instanceof PsiNewExpression && ((PsiNewExpression)grand).getQualifier() != null) {
    return false;
  }
  final String s=result.getPrefixMatcher().getPrefix();
  if (StringUtil.isEmpty(s) || !Character.isUpperCase(s.charAt(0)))   return false;
  return true;
}
