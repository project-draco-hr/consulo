{
  Map<PsiElement,MoveRenameUsageInfo> moveRenameInfos=new HashMap<PsiElement,MoveRenameUsageInfo>();
  Set<PsiElement> usedElements=new com.intellij.util.containers.hash.HashSet<PsiElement>();
  List<UsageInfo> result=new ArrayList<UsageInfo>(infos.size() / 2);
  for (  UsageInfo info : infos) {
    PsiElement element=info.getElement();
    if (info instanceof MoveRenameUsageInfo) {
      if (usedElements.contains(element))       continue;
      moveRenameInfos.put(element,(MoveRenameUsageInfo)info);
    }
 else {
      moveRenameInfos.remove(element);
      usedElements.add(element);
      result.add(info);
    }
  }
  result.addAll(moveRenameInfos.values());
  return result;
}
