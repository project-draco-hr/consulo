{
  String group=myGroupName;
  if (myGroupName == null) {
    String message="Specify group the " + whatToMove() + " will be shown under.\n\n"+ "Leave the name blank to move module outside any group.";
    group=Messages.showInputDialog(message,"Module Group",Messages.getQuestionIcon());
    if (group == null)     return;
  }
  Project project=myModules[0].getProject();
  if ("".equals(group.trim())) {
    group=null;
  }
  for (int i=0; i < myModules.length; i++) {
    final Module module=myModules[i];
    ModuleManagerImpl.getInstanceImpl(project).setModuleGroup(module,group);
  }
  ProjectView.getInstance(project).getProjectViewPaneById(ProjectViewPane.ID).updateFromRoot(true);
  ProjectView.getInstance(project).getProjectViewPaneById(PackageViewPane.ID).updateFromRoot(true);
  if (group != null) {
    ProjectView.getInstance(project).selectModuleGroup(new ModuleGroup(group),true);
  }
}
