{
  myModuleManager=moduleManager;
  final MessageBusConnection connection=bus.connect();
  connection.subscribe(ProjectTopics.LOGICAL_ROOTS,new LogicalRootListener(){
    public void logicalRootsChanged(){
      updateCache(moduleManager);
    }
  }
);
  connection.subscribe(ProjectTopics.PROJECT_ROOTS,new ModuleRootListener(){
    public void beforeRootsChange(    ModuleRootEvent event){
    }
    public void rootsChanged(    ModuleRootEvent event){
      bus.asyncPublisher(ProjectTopics.LOGICAL_ROOTS).logicalRootsChanged();
    }
  }
);
}
