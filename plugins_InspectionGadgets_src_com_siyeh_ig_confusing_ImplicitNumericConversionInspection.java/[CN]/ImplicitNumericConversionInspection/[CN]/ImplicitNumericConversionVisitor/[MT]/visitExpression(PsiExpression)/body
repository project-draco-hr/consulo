{
  super.visitExpression(exp);
  final PsiElement parent=exp.getParent();
  if (parent != null && parent instanceof PsiParenthesizedExpression) {
    return;
  }
  final PsiType expressionType=exp.getType();
  if (expressionType == null) {
    return;
  }
  if (!ClassUtils.isPrimitiveNumericType(expressionType)) {
    return;
  }
  final PsiType expectedType=ExpectedTypeUtils.findExpectedType(exp);
  if (expectedType == null) {
    return;
  }
  if (!ClassUtils.isPrimitiveNumericType(expectedType)) {
    return;
  }
  if (expectedType.equals(expressionType)) {
    return;
  }
  if (m_ignoreWideningConversions && hasLowerPrecision(expressionType,expectedType)) {
    return;
  }
  registerError(exp);
}
