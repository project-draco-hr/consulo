{
  final Object value=expr.getValue();
  if (!(value instanceof String))   throw new IncorrectOperationException("cannot handle content change for: " + value);
  String oldText=expr.getText();
  newContent=StringUtil.escapeStringCharacters(newContent);
  String newText=oldText.substring(0,range.getStartOffset()) + newContent + oldText.substring(range.getEndOffset());
  final PsiExpression newExpr=JavaPsiFacade.getInstance(expr.getProject()).getElementFactory().createExpressionFromText(newText,null);
  return (PsiLiteralExpression)expr.replace(newExpr);
}
