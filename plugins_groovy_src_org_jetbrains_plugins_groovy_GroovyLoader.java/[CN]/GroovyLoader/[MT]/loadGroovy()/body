{
  ApplicationManager.getApplication().runWriteAction(new Runnable(){
    public void run(){
      FileTypeManager.getInstance().registerFileType(GroovyFileType.GROOVY_FILE_TYPE,GROOVY_EXTENTIONS.toArray(new String[GROOVY_EXTENTIONS.size()]));
    }
  }
);
  ProjectManager.getInstance().addProjectManagerListener(new ProjectManagerAdapter(){
    public void projectOpened(    Project project){
      CompilerManager compilerManager=CompilerManager.getInstance(project);
      compilerManager.addCompiler(new GroovyCompilerProcess());
      compilerManager.addCompiler(new GroovyToJavaGenerator());
      compilerManager.addCompilableFileType(GroovyFileType.GROOVY_FILE_TYPE);
    }
  }
);
}
