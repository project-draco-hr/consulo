{
  Element rootElement=JDOMUtil.loadDocument(text).getRootElement();
  List<Element> groups=rootElement.getChildren("group",NAMESPACE);
  MultiMap<String,ArchivedProjectTemplate> map=new MultiMap<String,ArchivedProjectTemplate>();
  if (groups.isEmpty()) {
    map.put(SAMPLES_GALLERY,createGroupTemplates(rootElement,Namespace.NO_NAMESPACE));
  }
 else {
    for (    Element group : groups) {
      if (checkRequiredPlugins(group,NAMESPACE)) {
        map.put(group.getChildText("name",NAMESPACE),createGroupTemplates(group,NAMESPACE));
      }
    }
  }
  return map;
}
