{
  visited.add(this);
  Type[] classes=getConcreteInterfaceVariants();
  if (classes.length == 1 && classes[0].equals(myClass)) {
    for (    final DomChildDescriptionImpl description : getChildrenDescriptions()) {
      final Convert annotation=description.getAnnotation(Convert.class);
      final boolean hasResolveConverter=annotation != null && (ReflectionCache.isAssignable(ResolvingConverter.class,annotation.value()) || ReflectionCache.isAssignable(CustomReferenceConverter.class,annotation.value()));
      final Type type=description.getType();
      if (condition.value(ReflectionUtil.getRawType(type))) {
        if (hasResolveConverter || !String.class.equals(DomUtil.getGenericValueParameter(type)) || description.getAnnotation(NameValue.class) != null || description.getAnnotation(Referencing.class) != null) {
          set.add(description.getXmlElementName());
        }
      }
 else {
        final GenericInfoImpl childGenericInfo=description.getChildGenericInfo(myDomManager.getProject());
        if (!visited.contains(childGenericInfo)) {
          childGenericInfo.addReferenceElementNames(condition,set,visited);
        }
      }
    }
  }
 else {
    for (    final Type aClass : classes) {
      final GenericInfoImpl info=myDomManager.getGenericInfo(aClass);
      if (!visited.contains(info)) {
        info.addReferenceElementNames(condition,set,visited);
      }
    }
  }
}
