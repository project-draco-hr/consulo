{
  final ClasspathElementChooser<ItemType> dialog=createChooser();
  if (dialog == null) {
    return;
  }
  try {
    dialog.doChoose();
    if (!dialog.isOK()) {
      return;
    }
    final List<ItemType> chosen=dialog.getChosenElements();
    if (chosen.isEmpty()) {
      return;
    }
    List<ClasspathTableItem<?>> toAdd=new ArrayList<ClasspathTableItem<?>>();
    for (    ItemType item : chosen) {
      final ClasspathTableItem<?> tableItem=createTableItem(item);
      if (tableItem != null) {
        toAdd.add(tableItem);
      }
    }
    myClasspathPanel.addItems(toAdd);
  }
  finally {
    Disposer.dispose(dialog);
  }
}
