{
  myProject=project;
  myPanel=new ContentPanel();
  myPanel.setBackground(UIUtil.getTreeTextBackground());
  myUpdateQueue=new MergingUpdateQueue("StructureView",Registry.intValue("structureView.coalesceTime"),false,myPanel,this,myPanel,true);
  myUpdateQueue.setRestartTimerOnAdd(true);
  ActionManager.getInstance().addTimerListener(500,new TimerListener(){
    public ModalityState getModalityState(){
      return ModalityState.stateForComponent(myPanel);
    }
    public void run(){
      checkUpdate();
    }
  }
);
  getComponent().addHierarchyListener(new HierarchyListener(){
    public void hierarchyChanged(    HierarchyEvent e){
      if ((e.getChangeFlags() & HierarchyEvent.DISPLAYABILITY_CHANGED) != 0) {
        scheduleRebuild();
      }
    }
  }
);
}
