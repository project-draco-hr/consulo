{
  Kernel32 kernel32=(Kernel32)Native.loadLibrary("kernel32",Kernel32.class);
  WString cline=kernel32.GetCommandLineW();
  int pid=kernel32.GetCurrentProcessId();
  try {
    String command="restarter " + Integer.toString(pid) + " "+ cline;
    Runtime.getRuntime().exec(command,null,new File(PathManager.getBinPath()));
  }
 catch (  IOException ex) {
    throw new CannotRestartException(ex);
  }
  try {
    Thread.sleep(500);
  }
 catch (  InterruptedException e1) {
  }
  return true;
}
