{
  final AnAction[] actions=new AnAction[]{new ExpandAllAction(myTree){
    public void update(    AnActionEvent e){
      e.getPresentation().setVisible(!myShowFlatten);
    }
  }
,new CollapseAllAction(myTree){
    public void update(    AnActionEvent e){
      e.getPresentation().setVisible(!myShowFlatten);
    }
  }
};
  actions[0].registerCustomShortcutSet(new CustomShortcutSet(KeymapManager.getInstance().getActiveKeymap().getShortcuts(IdeActions.ACTION_EXPAND_ALL)),myTree);
  actions[1].registerCustomShortcutSet(new CustomShortcutSet(KeymapManager.getInstance().getActiveKeymap().getShortcuts(IdeActions.ACTION_COLLAPSE_ALL)),myTree);
  return actions;
}
