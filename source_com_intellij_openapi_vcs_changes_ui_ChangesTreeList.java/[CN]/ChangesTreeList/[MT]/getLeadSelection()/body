{
  if (myShowFlatten) {
    final int index=myList.getLeadSelectionIndex();
    if (index < 0)     return null;
    return (Change)myList.getModel().getElementAt(index);
  }
 else {
    final TreePath path=myTree.getSelectionPath();
    if (path == null)     return null;
    final List<Change> changes=((ChangesBrowserNode)path.getLastPathComponent()).getAllChangesUnder();
    return changes.size() > 0 ? changes.get(0) : null;
  }
}
