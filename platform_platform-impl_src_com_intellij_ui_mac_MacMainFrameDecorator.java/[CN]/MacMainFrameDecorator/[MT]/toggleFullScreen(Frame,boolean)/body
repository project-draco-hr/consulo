{
  if (!SystemInfo.isMacOSLion)   return;
  final ID window=MacUtil.findWindowForTitle(frame.getTitle());
  if (window == null)   return;
  final ID mask=invoke(window,"styleMask");
  boolean inFullscreenAlready=(mask.intValue() & (1 << 14)) == (1 << 14);
  if (state != inFullscreenAlready) {
    invoke(window,"toggleFullScreen:",window);
  }
}
