{
  if (myHC == -1) {
    int hc=0;
    final CharSequence buf=myLexer.getBufferSequence();
    ProductionMarker child=firstChild;
    int lexIdx=myLexemIndex;
    while (child != null) {
      int lastLeaf=child.myLexemIndex;
      for (int i=myLexStarts.get(lexIdx); i < myLexStarts.get(lastLeaf); i++) {
        hc+=buf.charAt(i);
      }
      lexIdx=lastLeaf;
      hc+=child.hc();
      if (child instanceof StartMarker) {
        lexIdx=((StartMarker)child).myDoneMarker.myLexemIndex;
      }
      child=child.next;
    }
    for (int i=myLexStarts.get(lexIdx); i < myLexStarts.get(myDoneMarker.myLexemIndex); i++) {
      hc+=buf.charAt(i);
    }
    myHC=hc;
  }
  return myHC;
}
