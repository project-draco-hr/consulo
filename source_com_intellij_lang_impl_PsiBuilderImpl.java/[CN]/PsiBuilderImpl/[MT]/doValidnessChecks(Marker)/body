{
  final DoneMarker doneMarker=((StartMarker)marker).myDoneMarker;
  if (doneMarker != null) {
    LOG.error("Marker already done.");
  }
  int idx=myProduction.lastIndexOf(marker);
  if (idx < 0) {
    LOG.error("Marker never been added.");
  }
  for (int i=myProduction.size() - 1; i > idx; i--) {
    Object item=myProduction.get(i);
    if (item instanceof Marker) {
      StartMarker otherMarker=(StartMarker)item;
      if (otherMarker.myDoneMarker == null) {
        final Throwable debugAllocOther=otherMarker.myDebugAllocationPosition;
        final Throwable debugAllocThis=((StartMarker)marker).myDebugAllocationPosition;
        if (debugAllocOther != null) {
          debugAllocThis.printStackTrace(System.err);
          debugAllocOther.printStackTrace(System.err);
        }
        LOG.error("Another not done marker added after this one. Must be done before this.");
      }
    }
  }
}
