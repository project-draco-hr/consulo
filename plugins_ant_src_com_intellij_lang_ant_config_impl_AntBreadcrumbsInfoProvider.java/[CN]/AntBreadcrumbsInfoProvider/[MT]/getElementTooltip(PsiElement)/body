{
  final XmlTag tag=((AntStructuredElement)e).getSourceElement();
  final StringBuilder result=StringBuilderSpinAllocator.alloc();
  try {
    result.append("<");
    result.append(tag.getName());
    for (    final XmlAttribute attrib : tag.getAttributes()) {
      result.append(" ").append(attrib.getText());
    }
    if (tag.isEmpty()) {
      result.append("/>");
    }
 else {
      result.append(">...</");
      result.append(tag.getName());
      result.append(">");
    }
    return result.toString();
  }
  finally {
    StringBuilderSpinAllocator.dispose(result);
  }
}
