{
  AntStructuredElement se=(AntStructuredElement)e;
  final AntTypeDefinition typeDef=se.getTypeDefinition();
  if (typeDef == null) {
    return se.getSourceElement().getName();
  }
  final StringBuilder builder=StringBuilderSpinAllocator.alloc();
  try {
    final AntTypeId typeId=typeDef.getTypeId();
    final String nsPrefix=typeId.getNamespacePrefix();
    if (nsPrefix != null) {
      builder.append(nsPrefix);
      builder.append(":");
    }
    builder.append(typeId.getName());
    final String name=se.getName();
    if (name != null) {
      builder.append(" ");
      builder.append(name);
    }
    return builder.toString();
  }
  finally {
    StringBuilderSpinAllocator.dispose(builder);
  }
}
