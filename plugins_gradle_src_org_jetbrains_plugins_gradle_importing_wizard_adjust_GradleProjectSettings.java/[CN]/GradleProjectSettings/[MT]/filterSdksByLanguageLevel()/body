{
  Object selectedItem=mySdkModel.getSelectedItem();
  mySdkModel.removeAllElements();
  LanguageLevel languageLevel=myProject.getLanguageLevel();
  boolean restoreSelection=false;
  List<Sdk> matchedRegisteredSdks=new ArrayList<Sdk>();
  JavaSdk javaSdk=JavaSdk.getInstance();
  List<Sdk> javaSdks=ProjectJdkTable.getInstance().getSdksOfType(javaSdk);
  for (  Sdk sdk : javaSdks) {
    JavaSdkVersion version=javaSdk.getVersion(sdk);
    if (version == null || !version.getMaxLanguageLevel().isAtLeast(languageLevel)) {
      continue;
    }
    matchedRegisteredSdks.add(sdk);
  }
  if (matchedRegisteredSdks.isEmpty()) {
    mySdkModel.addElement(GradleBundle.message("gradle.import.structure.settings.no.sdk.for.language.level.text"));
  }
  for (  Sdk sdk : matchedRegisteredSdks) {
    mySdkModel.addElement(sdk.getName());
    if (sdk.getName().equals(selectedItem)) {
      restoreSelection=true;
    }
  }
  if (restoreSelection) {
    mySdkModel.setSelectedItem(selectedItem);
  }
}
