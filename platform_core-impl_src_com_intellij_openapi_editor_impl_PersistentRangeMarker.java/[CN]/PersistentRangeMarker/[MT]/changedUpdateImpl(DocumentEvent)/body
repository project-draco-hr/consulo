{
  if (!isValid())   return;
  Pair<TextRange,LinesCols> pair=applyChange(e,this,intervalStart(),intervalEnd(),isGreedyToLeft(),isGreedyToRight(),myLinesCols);
  if (pair == null) {
    invalidate(e);
    return;
  }
  setIntervalStart(pair.first.getStartOffset());
  setIntervalEnd(pair.first.getEndOffset());
  myLinesCols=pair.second;
}
