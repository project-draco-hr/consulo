{
  if (method == null || isArrayClone(method,element)) {
    return PsiClassType.EMPTY_ARRAY;
  }
  final PsiClassType[] referencedTypes=method.getThrowsList().getReferencedTypes();
  if (referencedTypes.length > 0) {
    List<PsiClassType> result=new ArrayList<PsiClassType>();
    for (    PsiClassType referencedType : referencedTypes) {
      final PsiType type=substitutor.substitute(referencedType);
      if (!(type instanceof PsiClassType))       continue;
      PsiClassType classType=(PsiClassType)type;
      PsiClass exceptionClass=((PsiClassType)type).resolve();
      if (exceptionClass == null)       continue;
      if (isUncheckedException(classType))       continue;
      if (isHandled(element,classType,topElement))       continue;
      result.add((PsiClassType)type);
    }
    return result.toArray(new PsiClassType[result.size()]);
  }
  return PsiClassType.EMPTY_ARRAY;
}
