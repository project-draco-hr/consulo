{
synchronized (LOCK) {
    try {
      if (myRecursiveWatchRoots.equals(recursive) && myFlatWatchRoots.equals(flat))       return;
      myRecursiveWatchRoots=recursive;
      myFlatWatchRoots=flat;
      writeLine(ROOTS_COMMAND);
      for (      String path : recursive) {
        writeLine(path);
      }
      for (      String path : flat) {
        writeLine("|" + path);
      }
      writeLine("#");
    }
 catch (    IOException e) {
      LOG.error(e);
    }
  }
}
