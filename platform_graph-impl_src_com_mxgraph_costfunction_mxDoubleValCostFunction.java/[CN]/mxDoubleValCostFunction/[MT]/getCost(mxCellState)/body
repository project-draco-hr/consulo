{
  if (state == null || state.getView() == null || state.getView().getGraph() == null) {
    return 1.0;
  }
  mxGraph graph=state.getView().getGraph();
  Object cell=state.getCell();
  Double edgeWeight=null;
  if (graph.getModel().getValue(cell) == null || graph.getModel().getValue(cell) == "") {
    return 1.0;
  }
 else   if (graph.getModel().getValue(cell) instanceof String) {
    edgeWeight=Double.parseDouble((String)graph.getModel().getValue(cell));
  }
 else {
    edgeWeight=(Double)graph.getModel().getValue(cell);
  }
  return edgeWeight;
}
