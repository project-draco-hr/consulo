{
  final PsiElement context=parameters.getPosition();
  final Pair<PsiClass,Integer> pair=getTypeParameterInfo(context);
  if (pair == null)   return;
  final PsiType[] psiTypes=ExpectedTypesGetter.getExpectedTypes(context,false);
  if (psiTypes.length > 0) {
    for (    PsiType type : psiTypes) {
      if (type instanceof PsiClassType) {
        fillExpectedTypeArgs(resultSet,context,pair.first,pair.second,((PsiClassType)type).resolveGenerics());
      }
    }
  }
 else {
    addInheritors(parameters,resultSet,pair.first,pair.second);
  }
}
