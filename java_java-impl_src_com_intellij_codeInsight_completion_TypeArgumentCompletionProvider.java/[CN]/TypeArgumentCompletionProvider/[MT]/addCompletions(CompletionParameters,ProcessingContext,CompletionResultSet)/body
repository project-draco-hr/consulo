{
  final PsiElement context=parameters.getPosition();
  final Pair<PsiClass,Integer> pair=getTypeParameterInfo(context);
  if (pair == null)   return;
  ExpectedTypeInfo[] types=JavaSmartCompletionContributor.getExpectedTypes(parameters,false);
  if (types.length > 0) {
    for (    ExpectedTypeInfo info : types) {
      PsiType type=info.getType();
      if (type instanceof PsiClassType) {
        fillExpectedTypeArgs(resultSet,context,pair.first,pair.second,((PsiClassType)type).resolveGenerics(),mySmart ? info.getTailType() : TailType.NONE);
      }
    }
  }
 else   if (mySmart) {
    addInheritors(parameters,resultSet,pair.first,pair.second);
  }
}
