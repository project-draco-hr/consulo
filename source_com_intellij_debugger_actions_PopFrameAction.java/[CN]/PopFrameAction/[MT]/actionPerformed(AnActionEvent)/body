{
  Project project=(Project)e.getDataContext().getData(DataConstants.PROJECT);
  StackFrameProxyImpl stackFrame=getStackFrameProxy(e);
  if (stackFrame == null)   return;
  try {
    DebuggerContextImpl debuggerContext=DebuggerAction.getDebuggerContext(e.getDataContext());
    DebugProcessImpl debugProcess=debuggerContext.getDebugProcess();
    if (debugProcess == null)     return;
    debugProcess.getManagerThread().invokeLater(debugProcess.createPopFrameCommand(debuggerContext,stackFrame));
  }
 catch (  NativeMethodException e2) {
    Messages.showMessageDialog(project,"None of the frames through and including frame may be native","Drop to Frame",Messages.getErrorIcon());
  }
catch (  InvalidStackFrameException ignored) {
  }
catch (  VMDisconnectedException vde) {
  }
}
