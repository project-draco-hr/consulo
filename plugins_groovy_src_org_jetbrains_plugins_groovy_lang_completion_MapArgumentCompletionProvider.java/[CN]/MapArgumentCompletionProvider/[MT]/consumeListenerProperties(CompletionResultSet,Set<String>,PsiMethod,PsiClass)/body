{
  if (method.getName().startsWith("add") && method.getParameterList().getParametersCount() == 1) {
    final PsiParameter parameter=method.getParameterList().getParameters()[0];
    final PsiType type=parameter.getType();
    if (type instanceof PsiClassType) {
      final PsiClassType classType=(PsiClassType)type;
      final PsiClass listenerClass=classType.resolve();
      if (listenerClass != null) {
        if (InheritanceUtil.isInheritorOrSelf(listenerClass,eventListenerClass,true)) {
          PsiMethod[] listenerMethods=listenerClass.getMethods();
          for (          PsiMethod listenerMethod : listenerMethods) {
            final String name=listenerMethod.getName();
            if (usedNames.add(name)) {
              result.addElement(LookupElementBuilder.create(name).setIcon(GroovyIcons.PROPERTY).setInsertHandler(NamedArgumentInsertHandler.INSTANCE));
            }
          }
        }
      }
    }
  }
}
