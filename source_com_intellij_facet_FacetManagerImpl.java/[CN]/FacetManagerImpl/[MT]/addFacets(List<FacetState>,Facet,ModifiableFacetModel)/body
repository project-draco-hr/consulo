{
  for (  FacetState child : facetStates) {
    final String typeId=child.getFacetType();
    if (typeId != null) {
      final FacetType<?,?> type=myFacetTypeRegistry.findFacetType(typeId);
      if (type != null) {
        try {
          addFacet(type,child,underlyingFacet,model);
        }
 catch (        InvalidDataException e) {
          LOG.info(e);
        }
      }
    }
  }
}
