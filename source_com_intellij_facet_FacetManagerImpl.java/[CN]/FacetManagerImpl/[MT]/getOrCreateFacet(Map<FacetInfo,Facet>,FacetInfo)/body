{
  Facet facet=info2Facet.get(info);
  if (facet == null) {
    final FacetInfo underlyingFacetInfo=info.getUnderlyingFacet();
    final Facet underlyingFacet=underlyingFacetInfo != null ? getOrCreateFacet(info2Facet,underlyingFacetInfo) : null;
    facet=createFacet(info.getFacetType(),info.getName(),info.getConfiguration(),underlyingFacet);
    info2Facet.put(info,facet);
  }
  return facet;
}
