{
  GrClosableBlock result=myFactory.createClosureFromText("{->}",anchor);
  final GrParameterList parameterList=(GrParameterList)prototype.getParameterList().copy();
  result.getParameterList().replace(parameterList);
  StringBuilder call=new StringBuilder();
  final GrParameter[] parameters=result.getParameters();
  for (  GrParameter parameter : parameters) {
    call.append(parameter.getName()).append(", ");
  }
  call.append(myParameterInitializer.getText());
  call.append(");\n}");
  final GrStatement statement=myFactory.createStatementFromText(call.toString());
  result.addStatementBefore(statement,null);
  String newName=InlineMethodConflictSolver.suggestNewName(anchor.getName() + "Delegate",null,result.getParameterList());
  final GrVariableDeclaration declaration=myFactory.createVariableDeclaration(null,null,anchor.getDeclaredType(),newName);
  declaration.getModifierList().replace(anchor.getModifierList().copy());
  return (GrClosableBlock)insertDeclaration(anchor,declaration).getVariables()[0].getInitializerGroovy();
}
