{
  PsiShortNamesCache cache=manager.getShortNamesCache();
  String name=myRef.getReferenceName();
  GlobalSearchScope scope=myRef.getResolveScope();
  PsiClass[] classes=cache.getClassesByName(name,scope);
  ArrayList<PsiClass> classList=new ArrayList<PsiClass>();
  boolean isAnnotationReference=myRef.getParent() instanceof PsiAnnotation;
  for (  PsiClass aClass : classes) {
    if (isAnnotationReference && !aClass.isAnnotationType())     continue;
    PsiFile file=aClass.getContainingFile();
    if (file instanceof PsiJavaFile) {
      if (((PsiJavaFile)file).getPackageName().length() != 0) {
        String qName=aClass.getQualifiedName();
        if (qName != null) {
          if (qName.endsWith(name)) {
            if (aClass.hasModifierProperty(PsiModifier.PUBLIC)) {
              classList.add(aClass);
            }
          }
        }
      }
    }
  }
  return classList;
}
