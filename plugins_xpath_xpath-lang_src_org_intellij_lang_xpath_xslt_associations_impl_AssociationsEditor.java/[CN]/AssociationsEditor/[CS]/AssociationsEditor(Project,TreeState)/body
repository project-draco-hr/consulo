{
  initUI();
  myManager=((FileAssociationsManagerImpl)FileAssociationsManager.getInstance(project)).getTempManager();
  final DefaultTreeModel treeModel=new DefaultTreeModel(new DefaultMutableTreeNode());
  myTree.setModel(treeModel);
  myBuilder=new ProjectTreeBuilder(project,myTree,treeModel,new MyGroupByTypeComparator(),new MyProjectStructure(project));
  myTree.expandRow(0);
  myTree.setCellRenderer(new MyNodeRenderer(myManager));
  new TreeSpeedSearch(myTree);
  SwingUtilities.invokeLater(new Runnable(){
    @Override public void run(){
      ApplicationManager.getApplication().invokeLater(new Runnable(){
        @Override public void run(){
          if (oldState == null) {
            expandTree(treeModel);
          }
 else {
            oldState.applyTo(myTree);
          }
        }
      }
);
    }
  }
);
  myListModel=new AssociationsModel(myTree,myManager);
  myListModel.addListDataListener(new ListDataListener(){
    public void intervalAdded(    ListDataEvent listDataEvent){
      myTree.invalidate();
      myTree.repaint();
    }
    public void intervalRemoved(    ListDataEvent listDataEvent){
      myTree.invalidate();
      myTree.repaint();
    }
    public void contentsChanged(    ListDataEvent listDataEvent){
    }
  }
);
  myList.setModel(myListModel);
}
