{
  final TreePath rootPath=new TreePath(newModel.getRoot());
  myTree.setSelectionPath(rootPath);
  final PsiManager psiManager=PsiManager.getInstance(project);
  final Set<VirtualFile> files=myManager.getAssociations().keySet();
  if (files.size() > 0) {
    for (    VirtualFile file : files) {
      builder.select(psiManager.findFile(file),file,true);
    }
  }
 else {
    final Enumeration<?> enumeration=((DefaultMutableTreeNode)myTree.getModel().getRoot()).children();
    while (enumeration.hasMoreElements()) {
      DefaultMutableTreeNode node=(DefaultMutableTreeNode)enumeration.nextElement();
      myTree.expandPath(new TreePath(node.getPath()));
    }
  }
  myTree.setSelectionPath(rootPath);
  myTree.scrollRectToVisible(new Rectangle(new Point(0,0)));
}
