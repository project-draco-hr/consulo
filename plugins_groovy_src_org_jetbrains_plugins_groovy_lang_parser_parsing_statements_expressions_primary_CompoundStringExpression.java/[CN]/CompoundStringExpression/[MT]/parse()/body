{
  PsiBuilder.Marker marker=myBuilder.mark();
  final PsiBuilder.Marker marker2=myBuilder.mark();
  LOG.assertTrue(ParserUtils.getToken(myBuilder,myBegin));
  if (mySimpleLiteral != null && myBuilder.getTokenType() == myEnd) {
    myBuilder.advanceLexer();
    finishSimpleLiteral(marker,marker2);
    return true;
  }
  if (myBuilder.getTokenType() == myContent) {
    final PsiBuilder.Marker contentMarker=myBuilder.mark();
    myBuilder.advanceLexer();
    if (myBuilder.getTokenType() == mDOLLAR || mySimpleLiteral == null) {
      contentMarker.done(GSTRING_CONTENT);
    }
 else {
      contentMarker.drop();
    }
  }
 else {
    processContent();
  }
  boolean hasInjection=myBuilder.getTokenType() == mDOLLAR;
  while (myBuilder.getTokenType() == mDOLLAR) {
    parseInjection();
    processContent();
  }
  if (!ParserUtils.getToken(myBuilder,myEnd)) {
    myBuilder.error(myMessage);
  }
  if (hasInjection || mySimpleLiteral == null) {
    marker2.drop();
    marker.done(myCompoundLiteral);
  }
 else {
    finishSimpleLiteral(marker,marker2);
  }
  return hasInjection;
}
