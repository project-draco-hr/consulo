{
synchronized (myDataLock) {
    if (myComposite.getVFHolder(FileHolder.HolderType.UNVERSIONED).containsFile(file))     return FileStatus.UNKNOWN;
    if (myComposite.getVFHolder(FileHolder.HolderType.MODIFIED_WITHOUT_EDITING).containsFile(file))     return FileStatus.HIJACKED;
    if (myComposite.getVFHolder(FileHolder.HolderType.IGNORED).containsFile(file))     return FileStatus.IGNORED;
    final Change change=getChange(file);
    if (change != null) {
      final FilePath beforePath=ChangesUtil.getBeforePath(change);
      final FilePath afterPath=ChangesUtil.getAfterPath(change);
      if (afterPath != null && beforePath != null && !beforePath.equals(afterPath)) {
        String revisionPath=FileUtil.toSystemIndependentName(beforePath.getPath());
        if (FileUtil.pathsEqual(revisionPath,file.getPath())) {
          return FileStatus.DELETED;
        }
      }
      return change.getFileStatus();
    }
    if (myComposite.getSwitchedFileHolder().containsFile(file))     return FileStatus.SWITCHED;
    return FileStatus.NOT_CHANGED;
  }
}
