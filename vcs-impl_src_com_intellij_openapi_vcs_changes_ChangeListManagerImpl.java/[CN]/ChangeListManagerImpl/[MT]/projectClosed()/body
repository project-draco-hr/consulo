{
  ProjectLevelVcsManager.getInstance(myProject).removeVcsListener(myVcsListener);
  if (myUpdateChangesProgressIndicator != null) {
    myUpdateChangesProgressIndicator.cancel();
  }
synchronized (myPendingUpdatesLock) {
    myDisposed=true;
    cancelUpdates();
    if (!myWaitingUpdateCompletionQueue.isEmpty()) {
      for (      Runnable runnable : myWaitingUpdateCompletionQueue) {
        invokeWaiter(runnable);
      }
      myWaitingUpdateCompletionQueue.clear();
    }
    waitForUpdateDone(null);
  }
}
