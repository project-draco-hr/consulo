{
synchronized (myDataLock) {
    final List<LocalChangeList> lists=myWorker.getListsCopy();
    for (    ChangeList list : lists) {
      for (      Change change : list.getChanges()) {
        final ContentRevision afterRevision=change.getAfterRevision();
        if (afterRevision != null) {
          String revisionPath=FileUtil.toSystemIndependentName(afterRevision.getFile().getIOFile().getPath());
          if (FileUtil.pathsEqual(revisionPath,file.getPath()))           return change;
        }
        final ContentRevision beforeRevision=change.getBeforeRevision();
        if (beforeRevision != null) {
          String revisionPath=FileUtil.toSystemIndependentName(beforeRevision.getFile().getIOFile().getPath());
          if (FileUtil.pathsEqual(revisionPath,file.getPath()))           return change;
        }
      }
    }
    return null;
  }
}
