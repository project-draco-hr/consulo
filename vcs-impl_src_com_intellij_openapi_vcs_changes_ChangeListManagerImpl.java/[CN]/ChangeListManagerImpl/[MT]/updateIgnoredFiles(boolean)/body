{
synchronized (myDataLock) {
    List<VirtualFile> unversionedFiles=myComposite.getVFHolder(FileHolder.HolderType.UNVERSIONED).getFiles();
    boolean somethingChanged=false;
    for (    VirtualFile file : unversionedFiles) {
      if (isIgnoredFile(file)) {
        somethingChanged=true;
        myComposite.getVFHolder(FileHolder.HolderType.UNVERSIONED).removeFile(file);
        myComposite.getIgnoredFileHolder().addFile(file,"",false);
      }
    }
    if (somethingChanged) {
      myFileStatusManager.fileStatusesChanged();
      myChangesViewManager.scheduleRefresh();
    }
  }
}
