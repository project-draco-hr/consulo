{
  if (i >= elements.length) {
    if (myTree.isSelectionEmpty()) {
      myTree.setSelectionRows(originalRows);
    }
    runDone(onDone);
  }
 else {
    if (!checkDeferred(deferred,onDone)) {
      return;
    }
    doSelect(elements[i],new Runnable(){
      public void run(){
        if (!checkDeferred(deferred,onDone))         return;
        addNext(elements,i + 1,onDone,originalRows,deferred,scrollToVisible,canSmartExpand);
      }
    }
,true,deferred,i == 0,scrollToVisible,canSmartExpand);
  }
}
