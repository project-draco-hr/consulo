{
  try {
    if (myCancelRequest.get()) {
      throw new ProcessCanceledException();
    }
    runnable.run();
    if (myCancelRequest.get()) {
      throw new ProcessCanceledException();
    }
    myCancelRequest.set(false);
  }
 catch (  ProcessCanceledException e) {
    myCancelRequest.set(false);
    if (node != null) {
      addToCancelled(node);
    }
    if (!isReleased()) {
      resetToReady();
    }
    throw e;
  }
}
