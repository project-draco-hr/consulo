{
  try {
    acquireLock();
    myTree.removeTreeExpansionListener(myExpansionListener);
    myTree.removeTreeSelectionListener(mySelectionListener);
    myTree.removeFocusListener(myFocusListener);
    disposeNode(getRootNode());
    myElementToNodeMap.clear();
    getUpdater().cancelAllRequests();
    if (myWorker != null) {
      myWorker.dispose(true);
      clearWorkerTasks();
    }
    TREE_NODE_WRAPPER.setValue(null);
    if (myProgress != null) {
      myProgress.cancel();
    }
    cancelCurrentCleanupTask();
    myTree=null;
    setUpdater(null);
    myWorker=null;
    myTreeStructure=null;
    myBuilder.releaseUi();
    myBuilder=null;
    clearNodeActions();
    myDeferredSelections.clear();
    myDeferredExpansions.clear();
    myYeildingDoneRunnables.clear();
  }
 catch (  InterruptedException e) {
    LOG.info(e);
  }
 finally {
    releaseLock();
  }
}
