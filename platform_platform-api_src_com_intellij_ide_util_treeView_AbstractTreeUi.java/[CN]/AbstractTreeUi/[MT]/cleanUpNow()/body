{
  if (isReleaseRequested())   return;
  final UpdaterTreeState state=new UpdaterTreeState(this);
  myTree.collapsePath(new TreePath(myTree.getModel().getRoot()));
  myTree.clearSelection();
  getRootNode().removeAllChildren();
  myRootNodeWasInitialized=false;
  clearNodeActions();
  myElementToNodeMap.clear();
  myDeferredSelections.clear();
  myDeferredExpansions.clear();
  myLoadedInBackground.clear();
  myUnbuiltNodes.clear();
  myUpdateFromRootRequested=true;
  if (myWorker != null) {
    Disposer.dispose(myWorker);
    myWorker=null;
  }
  myTree.invalidate();
  state.restore(null);
}
