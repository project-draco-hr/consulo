{
  final long now=System.currentTimeMillis();
  final AbstractTreeUi[] uis=ourUi2Countdown.keySet().toArray(new AbstractTreeUi[ourUi2Countdown.size()]);
  for (  AbstractTreeUi eachUi : uis) {
    if (eachUi == null)     continue;
    final Long timeToCleanup=ourUi2Countdown.get(eachUi);
    if (timeToCleanup == null)     continue;
    if (now >= timeToCleanup.longValue()) {
      ourUi2Countdown.remove(eachUi);
      Runnable runnable=new Runnable(){
        public void run(){
          if (isReleased())           return;
          myCleanupTask=null;
          getBuilder().cleanUp();
        }
      }
;
      if (isPassthroughMode()) {
        runnable.run();
      }
 else {
        UIUtil.invokeAndWaitIfNeeded(runnable);
      }
    }
  }
}
