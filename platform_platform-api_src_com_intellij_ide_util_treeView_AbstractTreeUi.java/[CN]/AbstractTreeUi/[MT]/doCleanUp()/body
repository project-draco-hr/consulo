{
  Runnable cleanup=new Runnable(){
    public void run(){
      if (canInitiateNewActivity()) {
        cleanUpNow();
      }
    }
  }
;
  if (isPassthroughMode()) {
    cleanup.run();
  }
 else {
    invokeLaterIfNeeded(cleanup);
  }
}
