{
  Object userObject=node.getUserObject();
  if (!(userObject instanceof NodeDescriptor))   return;
  final NodeDescriptor descriptor=(NodeDescriptor)userObject;
  final Object prevElement=getElementFromDescriptor(descriptor);
  if (prevElement == null)   return;
  update(descriptor,false).doWhenDone(new AsyncResult.Handler<Boolean>(){
    @Override public void run(    Boolean changes){
      if (!isValid(descriptor)) {
        if (isInStructure(prevElement)) {
          getUpdater().addSubtreeToUpdateByElement(getTreeStructure().getParentElement(prevElement));
          return;
        }
      }
      if (changes) {
        updateNodeImageAndPosition(node,false,changes);
      }
    }
  }
);
}
