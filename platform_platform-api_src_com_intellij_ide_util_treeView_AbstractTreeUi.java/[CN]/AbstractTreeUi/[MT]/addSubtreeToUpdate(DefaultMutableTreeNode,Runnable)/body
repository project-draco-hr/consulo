{
  Object element=getElementFor(root);
  if (getTreeStructure().isAlwaysLeaf(element)) {
    removeLoading(root,true);
    if (runAfterUpdate != null) {
      getReady(this).doWhenDone(runAfterUpdate);
    }
    return false;
  }
  if (isReleaseRequested()) {
    processNodeActionsIfReady(root);
  }
 else {
    getUpdater().runAfterUpdate(runAfterUpdate);
    getUpdater().addSubtreeToUpdate(root);
  }
  return true;
}
