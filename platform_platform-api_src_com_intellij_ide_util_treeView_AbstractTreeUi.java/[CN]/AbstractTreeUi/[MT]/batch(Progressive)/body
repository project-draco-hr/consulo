{
  assertIsDispatchThread();
  EmptyProgressIndicator indicator=new EmptyProgressIndicator();
  final ActionCallback callback=new ActionCallback();
  myBatchIndicators.put(progressive,indicator);
  myBatchCallbacks.put(progressive,callback);
  progressive.run(indicator);
  getReady(this).doWhenDone(new Runnable(){
    public void run(){
      if (myBatchIndicators.containsKey(progressive)) {
        myBatchIndicators.remove(progressive);
        myBatchCallbacks.remove(progressive);
        callback.setDone();
      }
    }
  }
);
  return callback;
}
