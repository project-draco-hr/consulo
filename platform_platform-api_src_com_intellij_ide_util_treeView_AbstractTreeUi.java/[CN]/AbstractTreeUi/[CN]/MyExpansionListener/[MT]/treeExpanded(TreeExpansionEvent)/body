{
  dropUpdaterStateIfExternalChange();
  TreePath path=event.getPath();
  final DefaultMutableTreeNode node=(DefaultMutableTreeNode)path.getLastPathComponent();
  if (!myUnbuiltNodes.contains(node)) {
    return;
  }
  removeFromUnbuilt(node);
  getBuilder().expandNodeChildren(node);
  runDone(new Runnable(){
    public void run(){
      final Object element=getElementFor(node);
      removeLoading(node,false);
      if (node.getChildCount() == 0) {
        addNodeAction(element,new NodeAction(){
          public void onReady(          final DefaultMutableTreeNode node){
            expand(element,null);
          }
        }
);
      }
      processSmartExpand(node);
    }
  }
);
}
