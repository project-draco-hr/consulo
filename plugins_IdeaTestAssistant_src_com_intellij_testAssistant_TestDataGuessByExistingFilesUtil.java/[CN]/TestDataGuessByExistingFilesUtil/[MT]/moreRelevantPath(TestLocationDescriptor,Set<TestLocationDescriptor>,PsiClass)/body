{
  final String className=psiClass.getQualifiedName();
  if (className == null) {
    return false;
  }
  final TestLocationDescriptor current=currentDescriptors.iterator().next();
  boolean candidateMatched;
  boolean currentMatched;
  int i=className.lastIndexOf(".");
  if (i >= 0) {
    String packageAsPath=className.substring(0,i).replace('.','/').toLowerCase();
    candidateMatched=candidate.dir.toLowerCase().contains(packageAsPath);
    currentMatched=current.dir.toLowerCase().contains(packageAsPath);
    if (candidateMatched ^ currentMatched) {
      return candidateMatched;
    }
  }
  String simpleName=getSimpleClassName(psiClass);
  if (simpleName != null) {
    String pattern=simpleName.toLowerCase();
    candidateMatched=candidate.dir.toLowerCase().contains(pattern);
    currentMatched=current.dir.toLowerCase().contains(pattern);
    if (candidateMatched ^ currentMatched) {
      return candidateMatched;
    }
  }
  return false;
}
