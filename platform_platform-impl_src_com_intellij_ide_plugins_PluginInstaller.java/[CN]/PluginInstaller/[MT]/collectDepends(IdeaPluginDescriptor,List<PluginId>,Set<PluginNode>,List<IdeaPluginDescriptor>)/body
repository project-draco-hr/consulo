{
  PluginId[] dependentPluginIds=toInstall.getDependentPluginIds();
  for (  PluginId dependentPluginId : dependentPluginIds) {
    if (PluginManager.isPluginInstalled(dependentPluginId) || toInstallOthers.contains(dependentPluginId)) {
      continue;
    }
    PluginNode depPlugin=new PluginNode(dependentPluginId);
    depPlugin.setSize("-1");
    depPlugin.setName(dependentPluginId.getIdString());
    IdeaPluginDescriptor dependInRepo=findDescriptionInRepo(dependentPluginId,repoPlugins);
    if (dependInRepo != null) {
      depends.add(depPlugin);
      collectDepends(dependInRepo,toInstallOthers,depends,repoPlugins);
    }
  }
}
