{
  ProgressIndicator pi=ProgressManager.getInstance().getProgressIndicator();
  final List<PluginId> pluginIds=new ArrayList<PluginId>();
  for (  PluginNode pluginNode : pluginsToInstall) {
    pluginIds.add(pluginNode.getPluginId());
  }
  boolean result=false;
  for (  final PluginNode pluginNode : pluginsToInstall) {
    if (pi != null)     pi.setText(pluginNode.getName());
    try {
      result|=prepareToInstall(pluginNode,pluginIds,allPlugins);
    }
 catch (    IOException e) {
      String title=IdeBundle.message("title.plugin.error");
      Notifications.Bus.notify(new Notification(title,title,pluginNode.getName() + ": " + e.getMessage(),NotificationType.ERROR));
      return false;
    }
  }
  return result;
}
