{
  if (Thread.interrupted())   throw new InterruptedException();
  InterruptedException ie=null;
synchronized (this) {
    if (!startWriteFromNewWriter()) {
      for (; ; ) {
        try {
          WriterLock.this.wait();
          if (startWriteFromWaitingWriter())           return;
        }
 catch (        InterruptedException ex) {
          cancelledWaitingWriter();
          WriterLock.this.notify();
          ie=ex;
          break;
        }
      }
    }
  }
  if (ie != null) {
    readerLock_.signalWaiters();
    throw ie;
  }
}
