{
  FileDocumentManager.getInstance().saveAllDocuments();
  ConsoleView view=createConsole(myProject,myProcess);
  if (myHelpId != null) {
    view.setHelpId(myHelpId);
  }
  Executor executor=DefaultRunExecutor.getRunExecutorInstance();
  DefaultActionGroup actions=new DefaultActionGroup();
  final JComponent consolePanel=createConsolePanel(view,actions);
  RunContentDescriptor descriptor=new RunContentDescriptor(view,myProcess,consolePanel,myTitle);
  Disposer.register(this,descriptor);
  actions.add(new RerunAction(consolePanel));
  actions.add(new StopAction());
  actions.add(new CloseAction(executor,descriptor,myProject));
  ExecutionManager.getInstance(myProject).getContentManager().showRunContent(executor,descriptor);
  if (myActivateToolWindow) {
    activateToolWindow();
  }
  if (myAfterCompletion != null) {
    myProcess.addProcessListener(new ProcessAdapter(){
      @Override public void processTerminated(      ProcessEvent event){
        SwingUtilities.invokeLater(myAfterCompletion);
      }
    }
);
  }
  myProcess.startNotify();
}
