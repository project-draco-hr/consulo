{
  String iml=template.readEntry(new Condition<ZipEntry>(){
    @Override public boolean value(    ZipEntry entry){
      return entry.getName().endsWith(".iml");
    }
  }
);
  if (iml == null)   return ModuleType.EMPTY;
  try {
    Document document=JDOMUtil.loadDocument(iml);
    String type=document.getRootElement().getAttributeValue(Module.ELEMENT_TYPE);
    return ModuleTypeManager.getInstance().findByID(type);
  }
 catch (  Exception e) {
    return ModuleType.EMPTY;
  }
}
