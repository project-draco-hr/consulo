{
  for (  File contentRoot : module.getContentRoots()) {
    final File _contentRoot=appendContentRoot(mainModule,contentRoot);
    final Collection<JavaModuleSourceRoot> sources=module.getSourceRoots(contentRoot);
    for (    JavaModuleSourceRoot source : sources) {
      mainModule.addSourceRoot(_contentRoot,source);
    }
  }
  for (  File jar : module.getLibraryFiles()) {
    mainModule.addLibraryFile(jar);
  }
  for (  ModuleDescriptor dependency : module.getDependencies()) {
    if (!mainModule.equals(dependency)) {
      mainModule.addDependencyOn(dependency);
    }
  }
  myModules.remove(module);
  for (  ModuleDescriptor moduleDescr : myModules) {
    if (moduleDescr.getDependencies().contains(module)) {
      moduleDescr.removeDependencyOn(module);
      if (!moduleDescr.equals(mainModule)) {
        moduleDescr.addDependencyOn(mainModule);
      }
    }
  }
}
