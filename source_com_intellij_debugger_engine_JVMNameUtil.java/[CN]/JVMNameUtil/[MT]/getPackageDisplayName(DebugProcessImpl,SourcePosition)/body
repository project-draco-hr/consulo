{
  PsiClass psiClass=getClassAt(classAt);
  if (psiClass != null) {
    final PsiFile containingFile=psiClass.getContainingFile();
    if (containingFile instanceof PsiJavaFile) {
      return ((PsiJavaFile)containingFile).getPackageName();
    }
  }
  if (debugProcess != null && debugProcess.isAttached()) {
    List<ReferenceType> allClasses=debugProcess.getPositionManager().getAllClasses(classAt);
    if (allClasses.size() > 0) {
      final String className=allClasses.get(0).name();
      int dotIndex=className.lastIndexOf('.');
      if (dotIndex >= 0) {
        return className.substring(0,dotIndex);
      }
    }
  }
  return "";
}
