{
  if (myDisposed)   return;
  if (ApplicationManager.getApplication().isUnitTestMode())   return;
  Document document=getDocument();
  if (document == null)   return;
  EditorColorsScheme scheme=EditorColorsManager.getInstance().getGlobalScheme();
  TextAttributes attributes=scheme.getAttributes(DebuggerColors.BREAKPOINT_ATTRIBUTES);
  removeHighlighter();
  MarkupModelEx markupModel=(MarkupModelEx)DocumentMarkupModel.forDocument(document,getProject(),true);
  RangeHighlighter highlighter=markupModel.addPersistentLineHighlighter(getLine(),DebuggerColors.BREAKPOINT_HIGHLIGHTER_LAYER,attributes);
  if (highlighter != null) {
    updateIcon();
    highlighter.setGutterIconRenderer(createGutterIconRenderer());
    highlighter.putUserData(DebuggerColors.BREAKPOINT_HIGHLIGHTER_KEY,Boolean.TRUE);
  }
  myHighlighter=highlighter;
}
