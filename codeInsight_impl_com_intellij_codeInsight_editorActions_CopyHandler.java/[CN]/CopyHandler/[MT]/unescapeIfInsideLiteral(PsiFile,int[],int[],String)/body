{
  boolean isLiteral=true;
  for (int i=0; i < startOffsets.length && isLiteral; i++) {
    final int startOffset=startOffsets[i];
    final PsiElement elementAtCaret=file.findElementAt(startOffset);
    if (!(elementAtCaret instanceof PsiJavaToken && (((PsiJavaToken)elementAtCaret)).getTokenType() == JavaTokenType.STRING_LITERAL && startOffset > elementAtCaret.getTextRange().getStartOffset() && endOffsets[i] < elementAtCaret.getTextRange().getEndOffset())) {
      isLiteral=false;
    }
  }
  if (isLiteral) {
    text=StringUtil.unescapeStringCharacters(text);
  }
  return text;
}
