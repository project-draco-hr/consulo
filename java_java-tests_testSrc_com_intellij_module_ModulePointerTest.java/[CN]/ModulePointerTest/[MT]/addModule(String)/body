{
  final ModifiableModuleModel model=getModuleManager().getModifiableModel();
  final Module module=model.newModule(myProject.getBaseDir().getPath() + "/" + name+ ".iml",EmptyModuleType.getInstance());
  commitModel(model);
  disposeOnTearDown(new Disposable(){
    public void dispose(){
      if (!module.isDisposed()) {
        getModuleManager().disposeModule(module);
      }
    }
  }
);
  return module;
}
