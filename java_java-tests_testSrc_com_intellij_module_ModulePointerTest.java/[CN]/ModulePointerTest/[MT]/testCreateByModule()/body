{
  final Module module=addModule("x");
  final ModulePointer pointer=getPointerManager().create(module);
  assertSame(pointer,getPointerManager().create(module));
  assertSame(pointer,getPointerManager().create("x"));
  assertSame(module,pointer.getModule());
  assertEquals("x",pointer.getModuleName());
  ModifiableModuleModel model=getModuleManager().getModifiableModel();
  model.disposeModule(module);
  commitModel(model);
  assertNull(pointer.getModule());
  assertEquals("x",pointer.getModuleName());
  final Module newModule=addModule("x");
  assertSame(pointer,getPointerManager().create(newModule));
}
