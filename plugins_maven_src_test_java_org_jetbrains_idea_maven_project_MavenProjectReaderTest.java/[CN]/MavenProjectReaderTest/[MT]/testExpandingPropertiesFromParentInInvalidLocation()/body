{
  final VirtualFile parent=createModulePom("parent","<groupId>test</groupId>" + "<artifactId>parent</artifactId>" + "<version>1</version>"+ "<properties>"+ "  <prop>value</prop>"+ "</properties>");
  VirtualFile module=createModulePom("module","<parent>" + "  <groupId>test</groupId>" + "  <artifactId>parent</artifactId>"+ "  <version>1</version>"+ "</parent>"+ "<name>${prop}</name>");
  MavenModel p=readProject(module,new MavenProjectReaderProjectLocator(){
    @Override public VirtualFile findProjectFile(    MavenId coordinates){
      return new MavenId("test","parent","1").equals(coordinates) ? parent : null;
    }
  }
).mavenModel;
  assertEquals("value",p.getName());
}
