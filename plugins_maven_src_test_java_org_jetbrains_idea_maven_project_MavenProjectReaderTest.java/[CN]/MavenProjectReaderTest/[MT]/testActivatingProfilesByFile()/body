{
  createProjectSubFile("dir/file.txt");
  createProjectPom("<name>${prop1}</name>" + "<packaging>${prop2}</packaging>" + "<profiles>"+ "  <profile>"+ "    <id>one</id>"+ "    <activation>"+ "      <file>"+ "        <exists>${basedir}/dir/file.txt</exists>"+ "      </file>"+ "    </activation>"+ "    <properties>"+ "      <prop1>value1</prop1>"+ "    </properties>"+ "  </profile>"+ "  <profile>"+ "    <id>two</id>"+ "    <activation>"+ "      <file>"+ "        <missing>${basedir}/dir/file.txt</missing>"+ "      </file>"+ "    </activation>"+ "    <properties>"+ "      <prop2>value2</prop2>"+ "    </properties>"+ "  </profile>"+ "</profiles>");
  org.apache.maven.project.MavenProject p=readProject(myProjectPom);
  assertEquals("value1",p.getName());
  assertEquals("${prop2}",p.getPackaging());
}
