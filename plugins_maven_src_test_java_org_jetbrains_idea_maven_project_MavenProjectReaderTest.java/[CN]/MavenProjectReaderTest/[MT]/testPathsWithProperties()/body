{
  createProjectPom("<properties>" + "  <foo>subDir</foo>" + "</properties>"+ "<build>"+ "  <sourceDirectory>${foo}/mySrc</sourceDirectory>"+ "  <testSourceDirectory>${foo}/myTestSrc</testSourceDirectory>"+ "  <scriptSourceDirectory>${foo}/myScriptSrc</scriptSourceDirectory>"+ "  <resources>"+ "    <resource>"+ "      <directory>${foo}/myRes</directory>"+ "    </resource>"+ "  </resources>"+ "  <testResources>"+ "    <testResource>"+ "      <directory>${foo}/myTestRes</directory>"+ "    </testResource>"+ "  </testResources>"+ "  <directory>${foo}/myOutput</directory>"+ "  <outputDirectory>${foo}/myClasses</outputDirectory>"+ "  <testOutputDirectory>${foo}/myTestClasses</testOutputDirectory>"+ "</build>");
  org.apache.maven.project.MavenProject p=readProject(myProjectPom);
  Build build=p.getBuild();
  assertPathEquals(pathFromBasedir("subDir/mySrc"),build.getSourceDirectory());
  assertPathEquals(pathFromBasedir("subDir/myTestSrc"),build.getTestSourceDirectory());
  assertPathEquals(pathFromBasedir("subDir/myScriptSrc"),build.getScriptSourceDirectory());
  assertEquals(1,build.getResources().size());
  assertResource((Resource)build.getResources().get(0),pathFromBasedir("subDir/myRes"),false,null,Collections.EMPTY_LIST,Collections.EMPTY_LIST);
  assertEquals(1,build.getTestResources().size());
  assertResource((Resource)build.getTestResources().get(0),pathFromBasedir("subDir/myTestRes"),false,null,Collections.EMPTY_LIST,Collections.EMPTY_LIST);
  assertPathEquals(pathFromBasedir("subDir/myOutput"),build.getDirectory());
  assertPathEquals(pathFromBasedir("subDir/myClasses"),build.getOutputDirectory());
  assertPathEquals(pathFromBasedir("subDir/myTestClasses"),build.getTestOutputDirectory());
}
