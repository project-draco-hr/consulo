{
  createProjectPom("<groupId>test</groupId>" + "<artifactId>parent</artifactId>" + "<version>1</version>"+ "<profiles>"+ "  <profile>"+ "    <id>profileFromParent</id>"+ "  </profile>"+ "</profiles>");
  VirtualFile module=createModulePom("module","<groupId>test</groupId>" + "<artifactId>module</artifactId>" + "<version>1</version>"+ "<parent>"+ "  <groupId>test</groupId>"+ "  <artifactId>parent</artifactId>"+ "  <version>1</version>"+ "</parent>"+ "<profiles>"+ "  <profile>"+ "    <id>profileFromChild</id>"+ "  </profile>"+ "</profiles>");
  MavenModel p=readProject(module);
  assertOrderedElementsAreEqual(ContainerUtil.map(p.getProfiles(),new Function<MavenProfile,Object>(){
    @Override public Object fun(    MavenProfile profile){
      return profile.getId();
    }
  }
),"profileFromChild","profileFromParent");
}
