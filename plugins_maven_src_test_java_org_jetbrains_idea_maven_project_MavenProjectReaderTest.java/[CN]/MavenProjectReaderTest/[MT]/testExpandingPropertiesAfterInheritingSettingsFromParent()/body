{
  createProjectPom("<groupId>test</groupId>" + "<artifactId>parent</artifactId>" + "<version>1</version>"+ "<properties>"+ "  <prop>subDir</prop>"+ "</properties>"+ "<build>"+ "  <directory>${basedir}/${prop}/custom</directory>"+ "</build>");
  VirtualFile module=createModulePom("module","<parent>" + "  <groupId>test</groupId>" + "  <artifactId>parent</artifactId>"+ "  <version>1</version>"+ "</parent>");
  MavenModel p=readProject(module);
  PlatformTestUtil.assertPathsEqual(pathFromBasedir(module.getParent(),"subDir/custom"),p.getBuild().getDirectory());
}
