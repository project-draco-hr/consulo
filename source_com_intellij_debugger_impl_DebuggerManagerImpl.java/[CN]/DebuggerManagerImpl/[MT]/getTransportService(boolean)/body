{
  TransportService transport=null;
  try {
    try {
      if (forceSocketTransport) {
        transport=createTransport(Class.forName("com.sun.tools.jdi.SocketTransport"));
      }
 else {
        transport=createTransport(Class.forName("com.sun.tools.jdi.SharedMemoryTransport"));
      }
    }
 catch (    UnsatisfiedLinkError e) {
      transport=createTransport(Class.forName("com.sun.tools.jdi.SocketTransport"));
    }
  }
 catch (  Exception e) {
    throw new ExecutionException(e.getClass().getName() + " : " + e.getMessage());
  }
  return transport;
}
