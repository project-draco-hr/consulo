{
  final PsiReferenceExpression expression=(PsiReferenceExpression)descriptor.getPsiElement();
  if (expression.getQualifierExpression() != null) {
    return;
  }
  final PsiField field=(PsiField)expression.resolve();
  if (field == null) {
    return;
  }
  final PsiClass containingClass=field.getContainingClass();
  if (containingClass == null) {
    return;
  }
  final PsiClass parentClass=ClassUtils.getContainingClass(expression);
  @NonNls final String newExpression;
  if (!containingClass.equals(parentClass)) {
    newExpression=containingClass.getQualifiedName() + ".this." + expression.getText();
  }
 else {
    newExpression="this." + expression.getText();
  }
  replaceExpressionAndShorten(expression,newExpression);
}
