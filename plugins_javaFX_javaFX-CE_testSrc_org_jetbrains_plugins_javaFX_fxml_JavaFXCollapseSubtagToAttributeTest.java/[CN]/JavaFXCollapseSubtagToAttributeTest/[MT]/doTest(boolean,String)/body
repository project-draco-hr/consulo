{
  configureByFiles(null,getTestName(true) + ".fxml");
  final List<HighlightInfo> infos=doHighlighting();
  Editor editor=getEditor();
  PsiFile file=getFile();
  IntentionAction intentionAction=findIntentionAction(infos,"Collapse tag '" + tagName + "' to attribute",editor,file);
  if (available) {
    assertNotNull("Collapse tag '" + tagName + "' to attribute",intentionAction);
    assertTrue(ShowIntentionActionsHandler.chooseActionAndInvoke(file,editor,intentionAction,"Collapse tag '" + tagName + "' to attribute"));
    checkResultByFile(getTestName(true) + "_after.fxml");
  }
 else {
    assertNull(intentionAction);
  }
}
