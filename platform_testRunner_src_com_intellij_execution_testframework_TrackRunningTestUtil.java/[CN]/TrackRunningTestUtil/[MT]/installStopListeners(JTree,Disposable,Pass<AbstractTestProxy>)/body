{
  final MouseAdapter userSelectionListener=new MouseAdapter(){
    @Override public void mouseClicked(    MouseEvent e){
      setSelection.pass(setUserSelection(tree.getPathForLocation(e.getX(),e.getY())));
    }
  }
;
  tree.addMouseListener(userSelectionListener);
  final KeyAdapter keyAdapter=new KeyAdapter(){
    @Override public void keyPressed(    KeyEvent e){
      final int keyCode=e.getKeyCode();
      if (keyCode == KeyEvent.VK_DOWN || keyCode == KeyEvent.VK_LEFT || keyCode == KeyEvent.VK_UP || keyCode == KeyEvent.VK_RIGHT) {
        setSelection.pass(setUserSelection(tree.getSelectionPath()));
      }
    }
  }
;
  tree.addKeyListener(keyAdapter);
  Disposer.register(parentDisposable,new Disposable(){
    @Override public void dispose(){
      tree.removeMouseListener(userSelectionListener);
      tree.removeKeyListener(keyAdapter);
    }
  }
);
}
