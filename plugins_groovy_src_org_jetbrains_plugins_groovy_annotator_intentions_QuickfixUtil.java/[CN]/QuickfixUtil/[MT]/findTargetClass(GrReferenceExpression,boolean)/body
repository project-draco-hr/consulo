{
  if (refExpr.getQualifier() == null) {
    return PsiUtil.getContextClass(refExpr);
  }
  PsiType type=GrReferenceResolveUtil.getQualifierType(refExpr);
  if (type == null && compileStatic) {
    return GroovyPsiManager.getInstance(refExpr.getProject()).findClassWithCache(CommonClassNames.JAVA_LANG_OBJECT,refExpr.getResolveScope());
  }
  if (!(type instanceof PsiClassType))   return null;
  return ((PsiClassType)type).resolve();
}
