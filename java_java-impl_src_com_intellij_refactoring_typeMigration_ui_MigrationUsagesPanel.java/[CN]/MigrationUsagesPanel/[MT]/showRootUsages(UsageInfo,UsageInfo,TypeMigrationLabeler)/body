{
  final PsiElement rootElement=root.getElement();
  if (rootElement == null)   return;
  final UsageInfoToUsageConverter.TargetElementsDescriptor targetElementsDescriptor=new UsageInfoToUsageConverter.TargetElementsDescriptor(rootElement);
  final Set<PsiElement> usages=labeler.getTypeUsages((TypeMigrationUsageInfo)migration,((TypeMigrationUsageInfo)root));
  if (usages != null) {
    final List<UsageInfo> infos=new ArrayList<UsageInfo>(usages.size());
    for (    PsiElement usage : usages) {
      if (usage != null && usage.isValid()) {
        infos.add(new UsageInfo(usage));
      }
    }
    showUsages(targetElementsDescriptor,infos.toArray(new UsageInfo[infos.size()]));
  }
 else {
    showUsages(targetElementsDescriptor,new UsageInfo[]{migration});
  }
}
