{
  ArrayList<RangeHighlighter> highlightersToRemove=new ArrayList<RangeHighlighter>();
  Map<RangeHighlighter,HighlightInfo> map=getHighlightInfoMap(editor,false);
  if (map == null)   return false;
  boolean done=false;
  for (  RangeHighlighter highlighter : map.keySet()) {
    HighlightInfo info=map.get(highlighter);
    if (!info.editor.equals(editor))     continue;
    if ((info.flags & mask) != 0) {
      highlightersToRemove.add(highlighter);
      done=true;
    }
  }
  for (  RangeHighlighter highlighter : highlightersToRemove) {
    removeSegmentHighlighter(editor,highlighter);
  }
  return done;
}
