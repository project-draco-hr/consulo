{
  int startOffset=parameters.getOffset();
  PsiElement insertedElement=parameters.getPosition();
  final CompletionResultSet javaResultSet=result.withPrefixMatcher(CompletionUtil.findJavaIdentifierPrefix(insertedElement,startOffset));
  final CompletionResultSet plainResultSet=result.withPrefixMatcher(CompletionUtil.findIdentifierPrefix(insertedElement,startOffset,character().javaIdentifierPart().andNot(character().equalTo('$')),character().javaIdentifierStart()));
  for (  final String word : AllWordsGetter.getAllWords(insertedElement,startOffset)) {
    final LookupElement item=TailTypeDecorator.createDecorator(LookupElementBuilder.create(word),TailType.SPACE);
    javaResultSet.addElement(item);
    plainResultSet.addElement(item);
  }
}
