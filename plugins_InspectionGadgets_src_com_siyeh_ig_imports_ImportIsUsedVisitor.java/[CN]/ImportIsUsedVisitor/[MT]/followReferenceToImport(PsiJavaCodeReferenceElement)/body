{
  final PsiElement element=ref.resolve();
  if (!(element instanceof PsiClass)) {
    return;
  }
  final PsiClass referencedClass=(PsiClass)element;
  if (ref.getQualifier() != null) {
    return;
  }
  final String importName=m_import.getQualifiedName();
  if (importName == null) {
    return;
  }
  final String qualifiedName=referencedClass.getQualifiedName();
  if (qualifiedName == null) {
    return;
  }
  if (m_import.isOnDemand()) {
    final int lastComponentIndex=qualifiedName.lastIndexOf((int)'.');
    if (lastComponentIndex > 0) {
      final String packageName=qualifiedName.substring(0,lastComponentIndex);
      if (importName.equals(packageName)) {
        m_used=true;
      }
    }
  }
 else {
    if (importName.equals(qualifiedName)) {
      m_used=true;
    }
  }
}
