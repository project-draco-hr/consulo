{
  if (!super.processDeclarations(processor,substitutor,lastParent,place))   return false;
  if (myCachedScriptTags == null) {
    final List<XmlTag> scriptTags=new ArrayList<XmlTag>();
    XmlUtil.processXmlElements(getDocument(),new PsiElementProcessor(){
      public boolean execute(      final PsiElement element){
        if (element instanceof XmlTag && "script".equals(((XmlTag)element).getDescriptor().getName())) {
          scriptTags.add((XmlTag)element);
        }
        return true;
      }
    }
,true);
    myCachedScriptTags=scriptTags.toArray(new XmlTag[scriptTags.size()]);
  }
  for (  XmlTag tag : myCachedScriptTags) {
    final XmlTagChild[] children=tag.getValue().getChildren();
    for (    XmlTagChild child : children) {
      if (!child.processDeclarations(processor,substitutor,null,place))       return false;
    }
  }
  return true;
}
