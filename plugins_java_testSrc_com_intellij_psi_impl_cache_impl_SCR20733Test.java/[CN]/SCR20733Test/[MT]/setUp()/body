{
  super.setUp();
  final File root=FileUtil.createTempFile(getName(),"");
  root.delete();
  root.mkdir();
  myFilesToDelete.add(root);
  ApplicationManager.getApplication().runWriteAction(new Runnable(){
    @Override public void run(){
      try {
        VirtualFile rootVFile=LocalFileSystem.getInstance().refreshAndFindFileByPath(root.getAbsolutePath().replace(File.separatorChar,'/'));
        myPrjDir1=rootVFile.createChildDirectory(null,"prj1");
        mySrcDir1=myPrjDir1.createChildDirectory(null,"src1");
        myPackDir=mySrcDir1.createChildDirectory(null,"p");
        VirtualFile file1=myPackDir.createChildData(null,"A.java");
        VfsUtil.saveText(file1,"package p; public class A{ public void foo(); }");
        PsiTestUtil.addContentRoot(myModule,myPrjDir1);
        PsiTestUtil.addSourceRoot(myModule,mySrcDir1);
      }
 catch (      IOException e) {
        LOG.error(e);
      }
    }
  }
);
}
