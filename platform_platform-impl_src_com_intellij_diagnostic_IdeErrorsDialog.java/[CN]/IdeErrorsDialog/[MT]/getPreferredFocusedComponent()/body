{
  final int selectedIndex=myTabs.getSelectedIndex();
  JComponent result;
  if (selectedIndex == 0) {
    result=myInternalMode ? myDetailsTabForm.getPreferredFocusedComponent() : myCommentsTabForm.getPreferredFocusedComponent();
  }
 else   if (selectedIndex == 1) {
    result=myInternalMode ? myAttachmentsTabForm.getPreferredFocusedComponent() : myDetailsTabForm.getPreferredFocusedComponent();
  }
 else {
    result=myAttachmentsTabForm.getPreferredFocusedComponent();
  }
  return result != null ? result : super.getPreferredFocusedComponent();
}
