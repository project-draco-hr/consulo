{
  if (message == null) {
    myInfoLabel.setText("");
    return;
  }
  final Throwable throwable=message.getThrowable();
  if (throwable instanceof MessagePool.TooManyErrorsException) {
    myInfoLabel.setText("");
    return;
  }
  StringBuilder text=new StringBuilder("<html>");
  String url=null;
  PluginId pluginId=findPluginId(throwable);
  if (pluginId == null) {
    if (throwable instanceof AbstractMethodError) {
      text.append(DiagnosticBundle.message("error.list.message.blame.unknown.plugin"));
    }
 else {
      text.append(DiagnosticBundle.message("error.list.message.blame.core",ApplicationNamesInfo.getInstance().getProductName()));
    }
  }
 else {
    text.append(DiagnosticBundle.message("error.list.message.blame.plugin",PluginsFacade.INSTANCE.getPlugin(pluginId).getName()));
  }
  text.append(" ").append(DiagnosticBundle.message("error.list.message.info",DateFormatUtil.formatPrettyDateTime(message.getDate()),myMergedMessages.get(myIndex).size()));
  if (message.isSubmitted()) {
    final SubmittedReportInfo info=message.getSubmissionInfo();
    if (info.getStatus() == SubmittedReportInfo.SubmissionStatus.FAILED) {
      text.append(" ").append(DiagnosticBundle.message("error.list.message.submission.failed"));
    }
 else {
      if (info.getLinkText() != null) {
        final ErrorReportSubmitter submitter=getSubmitter(throwable);
        url=getUrl(info,submitter instanceof ITNReporter);
        text.append(" ").append(DiagnosticBundle.message("error.list.message.submitted.as.link",url,info.getLinkText()));
        if (info.getStatus() == SubmittedReportInfo.SubmissionStatus.DUPLICATE) {
          text.append(" ").append(DiagnosticBundle.message("error.list.message.duplicate"));
        }
      }
 else {
        text.append(DiagnosticBundle.message("error.list.message.submitted"));
      }
    }
    text.append(". ");
  }
 else   if (message.isSubmitting()) {
    text.append(" Submitting...");
  }
 else   if (!message.isRead()) {
    text.append(" ").append(DiagnosticBundle.message("error.list.message.unread"));
  }
  myInfoLabel.setHtmlText(text.toString());
  myInfoLabel.setHyperlinkTarget(url);
}
