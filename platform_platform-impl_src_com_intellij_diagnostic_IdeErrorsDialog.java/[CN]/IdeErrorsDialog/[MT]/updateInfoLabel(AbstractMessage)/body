{
  if (message == null) {
    myInfoLabel.setText("");
    return;
  }
  final Throwable throwable=message.getThrowable();
  if (throwable instanceof MessagePool.TooManyErrorsException) {
    myInfoLabel.setText("");
    return;
  }
  StringBuilder text=new StringBuilder();
  PluginId pluginId=findPluginId(throwable);
  if (pluginId == null || ApplicationInfoEx.getInstanceEx().isEssentialPlugin(pluginId.getIdString())) {
    if (throwable instanceof AbstractMethodError) {
      text.append(DiagnosticBundle.message("error.list.message.blame.unknown.plugin"));
    }
 else {
      text.append(DiagnosticBundle.message("error.list.message.blame.core",ApplicationNamesInfo.getInstance().getProductName()));
    }
  }
 else {
    text.append(DiagnosticBundle.message("error.list.message.blame.plugin",PluginManager.getPlugin(pluginId).getName()));
  }
  text.append(" ").append(DiagnosticBundle.message("error.list.message.info",DateFormatUtil.formatPrettyDateTime(message.getDate()),myMergedMessages.get(myIndex).size()));
  String url=null;
  if (message.isSubmitted()) {
    final SubmittedReportInfo info=message.getSubmissionInfo();
    url=getUrl(info,getSubmitter(throwable) instanceof ITNReporter);
    appendSubmissionInformation(info,text,url);
    text.append(". ");
  }
 else   if (message.isSubmitting()) {
    text.append(" Submitting...");
  }
 else   if (!message.isRead()) {
    text.append(" ").append(DiagnosticBundle.message("error.list.message.unread"));
  }
  myInfoLabel.setHtmlText(XmlStringUtil.wrapInHtml(text));
  myInfoLabel.setHyperlinkTarget(url);
}
