{
  Channel c=new Channel(this);
synchronized (c) {
    c.localID=addChannel(c);
  }
  if (log.isEnabled())   log.log(50,"Sending SSH_MSG_CHANNEL_OPEN (Channel " + c.localID + ")");
  PacketOpenSessionChannel smo=new PacketOpenSessionChannel(c.localID,c.localWindow,c.localMaxPacketSize);
  tm.sendMessage(smo.getPayload());
  waitUntilChannelOpen(c);
  return c;
}
