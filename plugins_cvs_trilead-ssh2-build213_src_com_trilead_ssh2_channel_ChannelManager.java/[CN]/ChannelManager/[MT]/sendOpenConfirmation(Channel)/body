{
  PacketChannelOpenConfirmation pcoc=null;
synchronized (c) {
    if (c.state != Channel.STATE_OPENING)     return;
    c.state=Channel.STATE_OPEN;
    pcoc=new PacketChannelOpenConfirmation(c.remoteID,c.localID,c.localWindow,c.localMaxPacketSize);
  }
synchronized (c.channelSendLock) {
    if (c.closeMessageSent == true)     return;
    tm.sendMessage(pcoc.getPayload());
  }
}
