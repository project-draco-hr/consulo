{
  myOptions=options;
  myPage=page;
  String text=page.getDemoText();
  HighlightsExtractor extractant2=new HighlightsExtractor(page.getAdditionalHighlightingTagToDescriptorMap());
  List<HighlightData> highlights=new ArrayList<HighlightData>();
  String stripped=extractant2.extractHighlights(text,highlights);
  myHighlightData=highlights.toArray(new HighlightData[highlights.size()]);
  int selectedLine=-1;
  myEditor=(EditorEx)FontEditorPreview.createPreviewEditor(stripped,10,3,selectedLine,myOptions,false);
  FontEditorPreview.installTrafficLights(myEditor);
  myBlinkingAlarm=new Alarm().setActivationComponent(myEditor.getComponent());
  if (navigatable) {
    addMouseMotionListener(myEditor,page.getHighlighter(),myHighlightData,false);
    CaretListener listener=new CaretAdapter(){
      @Override public void caretPositionChanged(      CaretEvent e){
        navigate(myEditor,true,e.getNewPosition(),page.getHighlighter(),myHighlightData,false);
      }
    }
;
    myEditor.getCaretModel().addCaretListener(listener);
  }
}
