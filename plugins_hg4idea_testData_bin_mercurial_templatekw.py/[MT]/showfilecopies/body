def showfilecopies(**args):
    (cache, ctx) = (args['cache'], args['ctx'])
    copies = args['revcache'].get('copies')
    if (copies is None):
        if ('getrenamed' not in cache):
            cache['getrenamed'] = getrenamedfn(args['repo'])
        copies = []
        getrenamed = cache['getrenamed']
        for fn in ctx.files():
            rename = getrenamed(fn, ctx.rev())
            if rename:
                copies.append((fn, rename[0]))
    c = [{'name': x[0], 'source': x[1], } for x in copies]
    return showlist('file_copy', c, plural='file_copies', **args)
