{
  String hgPath=globalSettings.getHgExecutable();
  if ((new File(hgPath)).exists()) {
    return true;
  }
  boolean validHgExecutable;
  HgSetExecutableDialog dialog;
  do {
    dialog=new HgSetExecutableDialog(myProject);
    dialog.setBadHgPath(hgPath);
    dialog.show();
    validHgExecutable=dialog.isOK();
    hgPath=dialog.getNewHgPath();
  }
 while (!validHgExecutable && dialog.isOK());
  if (validHgExecutable) {
    globalSettings.setHgExecutable(dialog.getNewHgPath());
    return true;
  }
  return false;
}
