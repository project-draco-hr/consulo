{
  try {
    myProfilesList=Arrays.asList(profiles);
    myImportProcessor=new MavenImportProcessor(myProject);
    myImportProcessor.createMavenProjectModel(myProject,files,myProfilesList,new MavenProgress(new EmptyProgressIndicator()));
    myImportProcessor.commit(myProject);
    if (shouldResolve())     resolveProject();
    myProjectModel=myImportProcessor.getMavenProjectModel();
  }
 catch (  CanceledException e) {
    throw new RuntimeException(e);
  }
}
