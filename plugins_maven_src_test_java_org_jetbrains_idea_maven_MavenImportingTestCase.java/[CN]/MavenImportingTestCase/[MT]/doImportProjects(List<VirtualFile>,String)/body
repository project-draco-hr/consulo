{
  try {
    myProfilesList=Arrays.asList(profiles);
    initMavenProjectsManager(false);
    myMavenProjectsManager.setManagedFiles(files);
    myMavenProjectsManager.setActiveProfiles(myProfilesList);
    myMavenProjectsManager.scheduleUpdateAll();
    myMavenProjectsManager.doReimport();
    myMavenTree=myMavenProjectsManager.getProjectsTree();
  }
 catch (  MavenProcessCanceledException e) {
    throw new RuntimeException(e);
  }
}
