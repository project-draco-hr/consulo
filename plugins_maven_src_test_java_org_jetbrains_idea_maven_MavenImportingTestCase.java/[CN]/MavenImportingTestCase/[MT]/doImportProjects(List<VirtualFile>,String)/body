{
  try {
    myProfilesList=Arrays.asList(profiles);
    myMavenProjectsManager.setOriginalFiles(files);
    myMavenProjectsManager.setActiveProfiles(files.get(0),myProfilesList);
    myMavenProjectsManager.reimport();
    myProjectModel=myMavenProjectsManager.getMavenProjectModel();
    if (shouldResolve())     resolveProject();
  }
 catch (  CanceledException e) {
    throw new RuntimeException(e);
  }
}
