{
  Consumer<CommitHashPlusParents> consumer;
  if (drawHierarchy) {
    final SkeletonBuilder skeletonBuilder=new SkeletonBuilder(ourBigArraysSize,ourBigArraysSize - 1);
    consumer=skeletonBuilder;
    myTreeComposite.addMember(skeletonBuilder.getResult());
  }
 else {
    final StaticReadonlyList<VisibleLine> readonlyList=new StaticReadonlyList<VisibleLine>(ourBigArraysSize);
    consumer=new Consumer<CommitHashPlusParents>(){
      @Override public void consume(      CommitHashPlusParents commitHashPlusParents){
        readonlyList.consume(new TreeSkeletonImpl.Commit(commitHashPlusParents.getHash().getBytes(),0,commitHashPlusParents.getTime()));
      }
    }
;
    myTreeComposite.addMember(readonlyList);
  }
  return consumer;
}
