{
  long taskNumber=myCurrentTaskIndex++;
  MultiMap<VirtualFile,Hash> commits=getCommitsAround(row,tableModel,UP_PRELOAD_COUNT,DOWN_PRELOAD_COUNT);
  for (  Map.Entry<VirtualFile,Collection<Hash>> hashesByRoots : commits.entrySet()) {
    VirtualFile root=hashesByRoots.getKey();
    Collection<Hash> hashes=hashesByRoots.getValue();
    for (    Hash hash : hashes) {
      if (!myCache.isKeyCached(hash)) {
        myCache.put(hash,(T)new LoadingDetails(hash,taskNumber,root));
      }
    }
  }
  TaskDescriptor task=new TaskDescriptor(commits);
  myLoader.queue(task);
}
