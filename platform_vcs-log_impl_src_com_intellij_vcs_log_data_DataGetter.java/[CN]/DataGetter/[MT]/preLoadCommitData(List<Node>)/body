{
  MultiMap<VirtualFile,String> hashesByRoots=new MultiMap<VirtualFile,String>();
  for (  Node node : nodes) {
    VirtualFile root=node.getBranch().getRepositoryRoot();
    hashesByRoots.putValue(root,node.getCommitHash().asString());
  }
  for (  Map.Entry<VirtualFile,Collection<String>> entry : hashesByRoots.entrySet()) {
    List<? extends T> details=readDetails(myLogProviders.get(entry.getKey()),entry.getKey(),new ArrayList<String>(entry.getValue()));
    saveInCache(details);
  }
}
