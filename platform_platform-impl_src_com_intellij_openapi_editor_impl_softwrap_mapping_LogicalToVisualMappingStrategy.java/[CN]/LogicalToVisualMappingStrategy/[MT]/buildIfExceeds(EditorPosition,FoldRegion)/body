{
  int foldEndLine=myEditor.getDocument().getLineNumber(foldRegion.getEndOffset());
  if (myTargetLogical.line > foldEndLine) {
    return null;
  }
  if (myTargetLogical.line < foldEndLine) {
    return context.buildVisualPosition();
  }
  int foldEndColumn=getFoldRegionData(foldRegion).getCollapsedSymbolsWidthInColumns();
  if (foldEndLine == context.logicalLine) {
    foldEndColumn+=context.logicalColumn;
  }
  if (foldEndColumn <= myTargetLogical.column) {
    return null;
  }
  return context.buildVisualPosition();
}
