{
  PsiTypeElement typeElement=variable.getTypeElement();
  int arrayCount=0;
  ASTNode name=SourceTreeToPsiMap.psiElementToTree(variable.getNameIdentifier());
  Loop:   for (ASTNode child=name.getTreeNext(); child != null; child=child.getTreeNext()) {
    IElementType i=child.getElementType();
    if (i == ElementType.LBRACKET) {
      arrayCount++;
    }
 else     if (i == ElementType.RBRACKET || i == ElementType.WHITE_SPACE || i == ElementType.C_STYLE_COMMENT || i == ElementType.DOC_COMMENT || i == ElementType.END_OF_LINE_COMMENT) {
    }
 else {
      break Loop;
    }
  }
  PsiType type;
  if (!(typeElement instanceof PsiTypeElementImpl)) {
    type=typeElement.getType();
  }
 else {
    type=((PsiTypeElementImpl)typeElement).getDetachedType(variable);
  }
  for (int i=0; i < arrayCount; i++) {
    type=type.createArrayType();
  }
  return type;
}
