{
  if (!checkBases) {
    Map<String,PsiField> cachedFields=myCachedFieldsMap;
    if (cachedFields == null) {
      final PsiField[] fields=myClass.getFields();
      if (fields.length > 0) {
        cachedFields=new THashMap<String,PsiField>();
        for (        final PsiField field : fields) {
          cachedFields.put(field.getName(),field);
        }
        myCachedFieldsMap=cachedFields;
      }
 else {
        myCachedFieldsMap=Collections.emptyMap();
        return null;
      }
    }
    return cachedFields.get(name);
  }
  return PsiClassImplUtil.findFieldByName(myClass,name,checkBases);
}
