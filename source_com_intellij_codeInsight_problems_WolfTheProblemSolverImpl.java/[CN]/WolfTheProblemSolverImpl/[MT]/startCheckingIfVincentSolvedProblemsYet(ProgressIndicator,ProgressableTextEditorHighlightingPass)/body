{
  if (!myProject.isOpen())   return;
  long psiModificationCount=PsiManager.getInstance(myProject).getModificationTracker().getOutOfCodeBlockModificationCount();
  if (psiModificationCount == myPsiModificationCount)   return;
  progressablePass.setProgressLimit(myCheckingQueue.size());
  StatusBar statusBar=WindowManager.getInstance().getStatusBar(myProject);
  String oldInfo=null;
  try {
    if (statusBar instanceof StatusBarEx) {
      oldInfo=((StatusBarEx)statusBar).getInfo();
    }
    for (    VirtualFile virtualFile : myCheckingQueue) {
      if (progress.isCanceled())       break;
      statusBar.setInfo("Checking '" + virtualFile.getPresentableUrl() + "'");
      myCheckingQueue.remove(virtualFile);
      if (!virtualFile.isValid() || orderVincentToCleanTheCar(virtualFile,progress)) {
synchronized (myProblems) {
          myProblems.remove(virtualFile);
        }
      }
      progressablePass.advanceProgress(1);
    }
    myPsiModificationCount=psiModificationCount;
  }
  finally {
    restoreStatusBar(statusBar,oldInfo);
  }
}
