{
  if (hasSyntaxErrors(file)) {
    return;
  }
  final Document document=FileDocumentManager.getInstance().getDocument(file);
  if (willBeHighlightedAnyway(file))   return;
  final PsiFile psiFile=PsiManager.getInstance(myProject).findFile(file);
  if (psiFile == null)   return;
  if (!myProject.isOpen())   return;
  GeneralHighlightingPass pass=new GeneralHighlightingPass(myProject,psiFile,document,0,document.getTextLength(),false,true);
  pass.doCollectInformation(progressIndicator);
}
