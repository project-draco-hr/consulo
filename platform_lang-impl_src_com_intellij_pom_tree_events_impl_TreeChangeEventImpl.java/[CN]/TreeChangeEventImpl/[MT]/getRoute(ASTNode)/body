{
  final List<ASTNode> parents=new ArrayList<ASTNode>(20);
  while (node != null) {
    parents.add(node);
    node=node.getTreeParent();
  }
  final int[] root=new int[parents.size() - 1];
  for (int i=0; i < root.length; i++) {
    final ASTNode parent=parents.get(root.length - i - 1);
    int rootIndex=0;
    ASTNode current=parent.getTreeParent().getFirstChildNode();
    while (current != parent) {
      current=current.getTreeNext();
      rootIndex++;
    }
    root[i]=rootIndex;
  }
  return root;
}
