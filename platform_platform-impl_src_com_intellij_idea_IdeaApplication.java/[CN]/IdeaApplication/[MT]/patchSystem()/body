{
  System.setProperty("sun.awt.noerasebackground","true");
  Toolkit.getDefaultToolkit().getSystemEventQueue().push(IdeEventQueue.getInstance());
  if (Patches.SUN_BUG_ID_6209673) {
    RepaintManager.setCurrentManager(new IdeRepaintManager());
  }
  if (SystemInfo.isXWindow && !SystemProperties.getBooleanProperty("idea.skip.wm.patching",false)) {
    String wmName=X11UiUtil.getWmName();
    LOG.info("WM detected: " + wmName);
    if (wmName != null) {
      X11UiUtil.patchDetectedWm(wmName);
    }
  }
  IconLoader.activate();
  new JFrame().pack();
}
