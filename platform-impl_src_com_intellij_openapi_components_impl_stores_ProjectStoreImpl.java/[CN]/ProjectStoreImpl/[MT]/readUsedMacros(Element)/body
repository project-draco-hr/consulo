{
  Element child=root.getChild(USED_MACROS_ELEMENT_NAME);
  if (child == null) {
    return new HashMap<String,String>();
  }
  final List children=child.getChildren(ELEMENT_MACRO);
  final Map<String,String> macroNames=new HashMap<String,String>(children.size());
  for (  final Object aChildren : children) {
    final Element macro=(Element)aChildren;
    String macroName=macro.getAttributeValue(NAME_ATTR);
    if (macroName != null) {
      final String description=macro.getAttributeValue(DESCRIPTION_ATTR);
      macroNames.put(macroName,description != null && description.trim().length() > 0 ? description : null);
    }
  }
  return macroNames;
}
