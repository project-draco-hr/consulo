{
  myProject=project;
  myModificationTracker=new ModificationTracker(){
    @Override public long getModificationCount(){
      return myModificationCount;
    }
  }
;
  final ProfileChangeAdapter profileChangeAdapter=new ProfileChangeAdapter(){
    @Override public void profileActivated(    @NotNull Profile oldProfile,    Profile profile){
      dropAnnotationsCache();
    }
    @Override public void profileChanged(    Profile profile){
      dropAnnotationsCache();
    }
  }
;
  final InspectionProfileManager inspectionProfileManager=InspectionProfileManager.getInstance();
  inspectionProfileManager.addProfileChangeListener(profileChangeAdapter,project);
  Disposer.register(project,new Disposable(){
    @Override public void dispose(){
      inspectionProfileManager.removeProfileChangeListener(profileChangeAdapter);
    }
  }
);
}
