{
  final UsageViewPresentation presentation=new UsageViewPresentation();
  final String scope=getTitleForScope(findModel);
  final String stringToFind=findModel.getStringToFind();
  presentation.setScopeText(scope);
  if (stringToFind.isEmpty()) {
    presentation.setTabText("Files");
    presentation.setToolwindowTitle(BundleBase.format("Files in {0}",scope));
    presentation.setUsagesString("files");
  }
 else {
    presentation.setTabText(FindBundle.message("find.usage.view.tab.text",stringToFind));
    presentation.setToolwindowTitle(FindBundle.message("find.usage.view.toolwindow.title",stringToFind,scope));
    presentation.setUsagesString(FindBundle.message("find.usage.view.usages.text",stringToFind));
    presentation.setUsagesWord(FindBundle.message("occurrence"));
    presentation.setCodeUsagesString(FindBundle.message("found.occurrences"));
  }
  presentation.setOpenInNewTab(toOpenInNewTab);
  presentation.setCodeUsages(false);
  return presentation;
}
