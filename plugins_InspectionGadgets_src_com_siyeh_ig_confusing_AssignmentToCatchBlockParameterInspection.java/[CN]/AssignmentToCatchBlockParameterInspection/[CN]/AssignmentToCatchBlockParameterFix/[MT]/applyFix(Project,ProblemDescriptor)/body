{
  if (isQuickFixOnReadOnlyFile(descriptor))   return;
  try {
    final PsiExpression variable=(PsiExpression)descriptor.getPsiElement();
    final PsiCatchSection catchSection=PsiTreeUtil.getParentOfType(variable,PsiCatchSection.class);
    final PsiCodeBlock body=catchSection.getCatchBlock();
    final String replacementText;
    final PsiType type=variable.getType();
    final PsiManager psiManager=PsiManager.getInstance(project);
    final CodeStyleManager codeStyleManager=psiManager.getCodeStyleManager();
    final String originalVariableName=variable.getText();
    final SuggestedNameInfo suggestions=codeStyleManager.suggestVariableName(VariableKind.LOCAL_VARIABLE,originalVariableName + '1',variable,type);
    final String[] names=suggestions.names;
    final String baseName;
    if (names != null && names.length > 0) {
      baseName=names[0];
    }
 else {
      baseName="value";
    }
    final String variableName=codeStyleManager.suggestUniqueVariableName(baseName,catchSection,false);
    final String className=type.getPresentableText();
    final PsiElement[] children=body.getChildren();
    final StringBuffer buffer=new StringBuffer();
    for (int i=1; i < children.length; i++) {
      replaceVariableName(children[i],variableName,originalVariableName,buffer);
    }
    replacementText='{' + className + ' '+ variableName+ " = "+ originalVariableName+ ';'+ buffer;
    final PsiElementFactory elementFactory=psiManager.getElementFactory();
    final PsiCodeBlock block=elementFactory.createCodeBlockFromText(replacementText,null);
    body.replace(block);
    codeStyleManager.reformat(catchSection);
  }
 catch (  IncorrectOperationException e) {
  }
}
