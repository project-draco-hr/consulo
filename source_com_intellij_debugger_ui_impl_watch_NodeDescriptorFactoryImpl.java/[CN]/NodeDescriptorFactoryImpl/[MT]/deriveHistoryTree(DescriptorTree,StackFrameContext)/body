{
  final MarkedDescriptorTree descriptorTree=new MarkedDescriptorTree();
  final MarkedDescriptorTree displayDescriptorTree=new MarkedDescriptorTree();
  tree.dfst(new DescriptorTree.DFSTWalker(){
    public void visit(    NodeDescriptorImpl parent,    NodeDescriptorImpl child){
      final DescriptorData<NodeDescriptorImpl> descriptorData=DescriptorData.getDescriptorData(child);
      descriptorTree.addChild(parent,child,descriptorData);
      displayDescriptorTree.addChild(parent,child,descriptorData.getDisplayKey());
    }
  }
);
  myDescriptorSearcher=new DescriptorTreeSearcher(descriptorTree);
  myDisplayDescriptorSearcher=new DisplayDescriptorTreeSearcher(displayDescriptorTree);
  myCurrentHistoryTree=createDescriptorTree(context,tree);
}
