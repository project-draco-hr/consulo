{
  final Map<File,Set<File>> toRecompile=isTestRoot ? myTestsToRecompile : mySourcesToRecompile;
  Set<File> files;
synchronized (toRecompile) {
    files=toRecompile.get(root);
    if (files == null) {
      files=createSetOfFiles();
      toRecompile.put(root,files);
    }
  }
  return files.add(file);
}
