{
  final Set<String> deleted=isTest ? myDeletedTests : myDeletedProduction;
synchronized (deleted) {
    try {
      return new HashSet<String>(deleted);
    }
  finally {
      deleted.clear();
    }
  }
}
