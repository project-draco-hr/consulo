{
  final String sourceRev=getSourceBranch();
  if (sourceRev == null || sourceRev.length() == 0) {
    setErrorText(null);
    setOKActionEnabled(false);
    return;
  }
  if (myBranchToCkeckoutValidator.isInvalid()) {
    setErrorText(GitBundle.getString("checkout.validation.failed"));
    setOKActionEnabled(false);
    return;
  }
  final String newBranchName=myNewBranchName.getText();
  if (newBranchName.length() != 0 && !GitBranchNameValidator.INSTANCE.checkInput(newBranchName)) {
    setErrorText(GitBundle.getString("checkout.invalid.new.branch.name"));
    setOKActionEnabled(false);
    return;
  }
  if (existingBranches.contains(newBranchName) && !myOverrideCheckBox.isSelected()) {
    setErrorText(GitBundle.getString("checkout.branch.name.exists"));
    setOKActionEnabled(false);
    return;
  }
  setErrorText(null);
  setOKActionEnabled(true);
}
