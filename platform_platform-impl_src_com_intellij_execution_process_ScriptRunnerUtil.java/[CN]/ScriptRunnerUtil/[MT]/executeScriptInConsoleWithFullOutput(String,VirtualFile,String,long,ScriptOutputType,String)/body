{
  final OSProcessHandler processHandler=execute(exePathString,workingDirectory,scriptFile,parameters);
  final StringBuilder standardOutput=scriptOutputType.readStandardOutput() ? new StringBuilder() : null;
  final StringBuilder errorOutput=scriptOutputType.readErrorOutput() ? new StringBuilder() : null;
  final StringBuilder mergedOutput=(scriptOutputType.readStandardOutput() && scriptOutputType.readErrorOutput()) ? new StringBuilder() : null;
  addReadingProcessListener(scriptOutputType,processHandler,standardOutput,errorOutput,mergedOutput);
  if (!processHandler.waitFor(timeout)) {
    LOG.warn("Process did not complete in " + timeout / 1000 + "s");
    throw new ExecutionException(ExecutionBundle.message("script.execution.timeout",String.valueOf(timeout / 1000)));
  }
  LOG.debug("script output: " + standardOutput);
  return new ScriptOutput(scriptOutputType,standardOutput,errorOutput,mergedOutput);
}
