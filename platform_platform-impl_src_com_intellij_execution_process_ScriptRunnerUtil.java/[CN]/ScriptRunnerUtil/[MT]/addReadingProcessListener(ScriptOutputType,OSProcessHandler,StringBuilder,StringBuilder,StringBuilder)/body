{
  checkOutputs(scriptOutputType,standardOutput,errorOutput,mergedOutput);
  processHandler.addProcessListener(new ProcessAdapter(){
    @Override public void onTextAvailable(    ProcessEvent event,    Key outputType){
      if (outputType == ProcessOutputTypes.STDOUT && scriptOutputType.readStandardOutput()) {
        LOG.assertTrue(standardOutput != null);
        standardOutput.append(event.getText());
      }
 else       if (outputType == ProcessOutputTypes.STDERR && scriptOutputType.readErrorOutput()) {
        LOG.assertTrue(errorOutput != null);
        errorOutput.append(event.getText());
      }
      if (scriptOutputType.readStandardOutput() && scriptOutputType.readErrorOutput()) {
        LOG.assertTrue(mergedOutput != null);
        mergedOutput.append(event.getText());
      }
    }
  }
);
}
