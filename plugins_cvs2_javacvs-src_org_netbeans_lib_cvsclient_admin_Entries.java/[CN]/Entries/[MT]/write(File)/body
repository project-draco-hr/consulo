{
  final File tempFile=new File(entriesFile.getAbsolutePath() + "~");
  write(new FileWriter(tempFile));
  if (entriesFile.exists()) {
    if (!entriesFile.delete()) {
      throw new IOException("Could not delete file " + entriesFile.getAbsolutePath());
    }
  }
  if (!tempFile.renameTo(entriesFile)) {
    throw new IOException("Could not rename file " + tempFile.getAbsolutePath() + " to "+ entriesFile.getAbsolutePath());
  }
}
