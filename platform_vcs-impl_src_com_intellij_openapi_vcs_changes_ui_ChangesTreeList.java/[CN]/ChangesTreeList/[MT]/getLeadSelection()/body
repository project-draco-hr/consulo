{
  if (myShowFlatten) {
    final int index=myList.getLeadSelectionIndex();
    ListModel listModel=myList.getModel();
    if (index < 0 || index >= listModel.getSize())     return null;
    return (T)listModel.getElementAt(index);
  }
 else {
    final TreePath path=myTree.getSelectionPath();
    if (path == null)     return null;
    final List<T> changes=getSelectedObjects(((ChangesBrowserNode)path.getLastPathComponent()));
    return changes.size() > 0 ? changes.get(0) : null;
  }
}
