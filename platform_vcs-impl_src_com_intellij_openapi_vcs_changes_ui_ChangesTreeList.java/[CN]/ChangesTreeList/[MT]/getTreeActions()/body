{
  final ToggleShowDirectoriesAction directoriesAction=new ToggleShowDirectoriesAction();
  final ExpandAllAction expandAllAction=new ExpandAllAction(myTree){
    public void update(    AnActionEvent e){
      e.getPresentation().setVisible(!myShowFlatten);
    }
  }
;
  final CollapseAllAction collapseAllAction=new CollapseAllAction(myTree){
    public void update(    AnActionEvent e){
      e.getPresentation().setVisible(!myShowFlatten);
    }
  }
;
  final SelectAllAction selectAllAction=new SelectAllAction();
  final AnAction[] actions=new AnAction[]{directoriesAction,expandAllAction,collapseAllAction,selectAllAction};
  directoriesAction.registerCustomShortcutSet(new CustomShortcutSet(KeyStroke.getKeyStroke(KeyEvent.VK_P,SystemInfo.isMac ? KeyEvent.META_DOWN_MASK : KeyEvent.CTRL_DOWN_MASK)),this);
  expandAllAction.registerCustomShortcutSet(new CustomShortcutSet(KeymapManager.getInstance().getActiveKeymap().getShortcuts(IdeActions.ACTION_EXPAND_ALL)),myTree);
  collapseAllAction.registerCustomShortcutSet(new CustomShortcutSet(KeymapManager.getInstance().getActiveKeymap().getShortcuts(IdeActions.ACTION_COLLAPSE_ALL)),myTree);
  selectAllAction.registerCustomShortcutSet(new CustomShortcutSet(KeyStroke.getKeyStroke(KeyEvent.VK_A,SystemInfo.isMac ? KeyEvent.META_DOWN_MASK : KeyEvent.CTRL_DOWN_MASK)),this);
  return actions;
}
