{
  VirtualFile file;
  if (object instanceof FilePath) {
    file=((FilePath)object).getVirtualFile();
  }
 else   if (object instanceof Change) {
    file=((Change)object).getVirtualFile();
  }
 else {
    file=ObjectUtils.tryCast(object,VirtualFile.class);
  }
  if (file != null) {
    return FileColorManager.getInstance(myProject).getFileColor(file);
  }
  return super.getFileColorFor(object);
}
