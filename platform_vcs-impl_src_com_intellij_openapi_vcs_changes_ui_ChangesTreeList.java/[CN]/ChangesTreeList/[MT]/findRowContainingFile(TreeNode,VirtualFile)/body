{
  final Ref<Integer> row=Ref.create(-1);
  TreeUtil.traverse(root,new TreeUtil.Traverse(){
    @Override public boolean accept(    Object node){
      if (node instanceof DefaultMutableTreeNode) {
        Object userObject=((DefaultMutableTreeNode)node).getUserObject();
        if (userObject instanceof Change) {
          if (matches((Change)userObject,toSelect)) {
            TreeNode[] path=((DefaultMutableTreeNode)node).getPath();
            row.set(getRowForPath(new TreePath(path)));
          }
        }
      }
      return row.get() == -1;
    }
  }
);
  return row.get();
}
