{
  editButton.addActionListener(new ActionListener(){
    @Override public void actionPerformed(    ActionEvent e){
      final Sdk projectJdk=retrieveJDK.compute();
      if (projectJdk != null) {
        ProjectStructureConfigurable.getInstance(project).select(projectJdk,true);
      }
    }
  }
);
  addActionListener(new ActionListener(){
    @Override public void actionPerformed(    ActionEvent e){
      final SdkComboBoxItem selectedItem=getSelectedItem();
      if (selectedItem instanceof ProjectSdkComboBoxItem) {
        editButton.setEnabled(ProjectStructureConfigurable.getInstance(project).getProjectJdksModel().getProjectSdk() != null);
      }
 else {
        editButton.setEnabled(!(selectedItem instanceof InvalidSdkComboBoxItem) && selectedItem != null && selectedItem.getSdk() != null);
      }
    }
  }
);
}
