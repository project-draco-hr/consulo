{
  final PsiElement forElement=descriptor.getPsiElement();
  final PsiForStatement forStatement=(PsiForStatement)forElement.getParent();
  if (isArrayLoopStatement(forStatement)) {
    final String newExpression=createArrayIterationText(forStatement,project);
    replaceStatementAndShortenClassNames(forStatement,newExpression);
  }
 else   if (isCollectionLoopStatement(forStatement)) {
    final String newExpression=createCollectionIterationText(forStatement,project);
    replaceStatementAndShortenClassNames(forStatement,newExpression);
  }
}
