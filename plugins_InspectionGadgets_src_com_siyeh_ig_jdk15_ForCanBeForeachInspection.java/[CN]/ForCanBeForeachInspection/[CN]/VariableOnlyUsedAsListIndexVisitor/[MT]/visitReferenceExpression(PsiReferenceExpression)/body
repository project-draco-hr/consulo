{
  if (!indexVariableUsedOnlyAsIndex) {
    return;
  }
  super.visitReferenceExpression(reference);
  final PsiElement element=reference.resolve();
  if (indexVariable.equals(element) && !isListIndexExpression(reference,collection)) {
    indexVariableUsedOnlyAsIndex=false;
  }
  if (collection.equals(element) && !isListReferenceInIndexExpression(reference,collection)) {
    indexVariableUsedOnlyAsIndex=false;
  }
}
