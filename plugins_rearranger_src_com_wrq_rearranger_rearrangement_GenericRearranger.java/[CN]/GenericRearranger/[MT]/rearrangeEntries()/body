{
  final List<RuleInstance> prioritizedRuleInstances=new ArrayList<RuleInstance>();
  buildRuleInstanceLists(prioritizedRuleInstances);
  for (  ClassContentsEntry entry : entries) {
    if (entry instanceof ClassEntry) {
      ((ClassEntry)entry).rearrangeContents();
    }
  }
  matchPrioritizedRules(prioritizedRuleInstances);
  rearrangeRelatedItems(entries,myResultRuleInstances);
  if (nestingLevel <= 1 || settings.isRearrangeInnerClasses()) {
    determineEmittedComments();
  }
  return myResultRuleInstances;
}
