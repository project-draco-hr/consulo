{
  final List<IRuleInstance> prioritizedRuleInstances=new ArrayList<IRuleInstance>();
  buildRuleInstanceLists(prioritizedRuleInstances);
  for (  ClassContentsEntry entry : entries) {
    if (entry instanceof ClassEntry) {
      ((ClassEntry)entry).rearrangeContents();
    }
  }
  matchPrioritizedRules(prioritizedRuleInstances);
  rearrangeRelatedItems(entries,resultRuleInstances);
  if (nestingLevel <= 1 || settings.isRearrangeInnerClasses()) {
    determineEmittedComments();
  }
  return resultRuleInstances;
}
