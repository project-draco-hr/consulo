{
  return new TreeExpansionMonitor<PackageDependenciesNode>(tree){
    @Override protected TreePath findPathByNode(    final PackageDependenciesNode node){
      if (node.getPsiElement() == null) {
        return new TreePath(node.getPath());
      }
      PsiManager manager=PsiManager.getInstance(project);
      Enumeration enumeration=((DefaultMutableTreeNode)tree.getModel().getRoot()).breadthFirstEnumeration();
      while (enumeration.hasMoreElements()) {
        final Object nextElement=enumeration.nextElement();
        if (nextElement instanceof PackageDependenciesNode) {
          PackageDependenciesNode child=(PackageDependenciesNode)nextElement;
          if (manager.areElementsEquivalent(child.getPsiElement(),node.getPsiElement())) {
            return new TreePath(child.getPath());
          }
        }
      }
      return null;
    }
  }
;
}
