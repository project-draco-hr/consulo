{
  if (builder.getTokenType() == mRPAREN && mRPAREN.equals(ending)) {
    PsiBuilder.Marker marker=builder.mark();
    marker.done(PARAMETERS_LIST);
    return;
  }
  PsiBuilder.Marker marker=builder.mark();
  if (!ParameterDeclaration.parse(builder,parser)) {
    marker.rollbackTo();
    marker=builder.mark();
    marker.done(PARAMETERS_LIST);
    return;
  }
  while (!builder.eof() && mCOMMA.equals(builder.getTokenType())) {
    ParserUtils.getToken(builder,mCOMMA);
    ParserUtils.getToken(builder,mNLS);
    if (!ParameterDeclaration.parse(builder,parser)) {
      builder.error(GroovyBundle.message("param.expected"));
    }
  }
  ParserUtils.getToken(builder,mNLS);
  if ((ending.equals(mCLOSABLE_BLOCK_OP) && mCLOSABLE_BLOCK_OP.equals(builder.getTokenType())) || ending.equals(mRPAREN)) {
    marker.done(PARAMETERS_LIST);
  }
 else {
    marker.rollbackTo();
    marker=builder.mark();
    marker.done(PARAMETERS_LIST);
  }
}
