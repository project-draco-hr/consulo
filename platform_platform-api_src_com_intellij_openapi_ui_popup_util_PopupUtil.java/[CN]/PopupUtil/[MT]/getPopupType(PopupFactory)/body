{
  try {
    final Method method=PopupFactory.class.getDeclaredMethod("getPopupType");
    method.setAccessible(true);
    final Object result=method.invoke(factory);
    return result instanceof Integer ? (Integer)result : -1;
  }
 catch (  Throwable e) {
    LOG.error(e);
  }
  return -1;
}
