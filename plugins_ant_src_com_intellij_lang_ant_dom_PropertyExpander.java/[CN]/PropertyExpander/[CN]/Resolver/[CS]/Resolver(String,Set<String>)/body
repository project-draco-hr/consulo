{
  myBuilder=new StringBuilder(str);
  int startProp=0;
  while ((startProp=str.indexOf("${",startProp)) >= 0) {
    if (startProp > 0 && str.charAt(startProp - 1) == '$') {
      startProp+=2;
      continue;
    }
    final int endProp=str.indexOf('}',startProp + 2);
    if (endProp <= startProp + 2) {
      startProp+=2;
      continue;
    }
    final String prop=str.substring(startProp + 2,endProp);
    if (!namesToSkip.contains(prop)) {
      if (myPropertyNames == null) {
        myPropertyNames=new ArrayList<Pair<String,Integer>>();
      }
      myPropertyNames.add(new Pair<String,Integer>(prop,startProp));
    }
    startProp+=2;
  }
  if (myPropertyNames == null) {
    myPropertyNames=Collections.emptyList();
  }
}
