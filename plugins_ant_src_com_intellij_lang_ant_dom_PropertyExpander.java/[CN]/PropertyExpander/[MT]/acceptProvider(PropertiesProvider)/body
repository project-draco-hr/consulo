{
  while (myResolver.hasNext()) {
    final String propName=myResolver.next();
    final String value=provider.getPropertyValue(propName);
    if (value != null) {
      final PropertyExpander propertyValueExpander=new PropertyExpander(value);
      propertyValueExpander.setPropertyExpansionListener(myPropertyExpansionListener);
      if (propertyValueExpander.hasPropertiesToExpand()) {
        for (        PropertiesProvider p : myProviders) {
          propertyValueExpander.acceptProvider(p);
          if (!propertyValueExpander.hasPropertiesToExpand()) {
            break;
          }
        }
      }
      final String propValue=propertyValueExpander.getResult();
      myResolver.replace(propValue);
      notifyPropertyExpanded(propName,propValue);
    }
  }
  myProviders.add(provider);
  myResolver.restart();
}
