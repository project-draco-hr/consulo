{
  if (!(element instanceof PsiExpression)) {
    return false;
  }
  if (element instanceof PsiLiteralExpression || element instanceof PsiClassObjectAccessExpression) {
    return false;
  }
  final PsiExpression expression=(PsiExpression)element;
  final PsiType type=expression.getType();
  if (type == null || type.equalsToText("java.lang.String")) {
    return false;
  }
  if (!PsiUtil.isConstantExpression(expression)) {
    return false;
  }
  final PsiManager manager=element.getManager();
  final PsiConstantEvaluationHelper helper=manager.getConstantEvaluationHelper();
  final Object value=helper.computeConstantExpression(expression);
  if (value == null) {
    return false;
  }
  final PsiElement parent=element.getParent();
  return !(parent instanceof PsiExpression && PsiUtil.isConstantExpression((PsiExpression)parent));
}
