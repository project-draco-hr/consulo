{
  if (aClass == null)   return null;
  MethodSignatureUtil.MethodSignatureToMethods allMethods=MethodSignatureUtil.getSameSignatureMethods(aClass);
  MethodSignature methodSignature=method.getSignature(PsiSubstitutor.EMPTY);
  List<MethodSignatureBackedByPsiMethod> sameSignatureMethods=allMethods.get(methodSignature);
  int methodCount=0;
  if (sameSignatureMethods != null) {
    for (int i=0; i < sameSignatureMethods.size(); i++) {
      MethodSignatureBackedByPsiMethod methodBackedMethodSignature=sameSignatureMethods.get(i);
      PsiMethod psiMethod=methodBackedMethodSignature.getMethod();
      if (aClass.getManager().areElementsEquivalent(aClass,psiMethod.getContainingClass())) {
        if (psiMethod.isConstructor() == method.isConstructor()) {
          methodCount++;
          if (methodCount > 1)           break;
        }
      }
    }
  }
  if (methodCount == 1 && aClass.isEnum() && GenericsHighlightUtil.isEnumSyntheticMethod(methodSignature,aClass.getProject())) {
    methodCount=2;
  }
  if (methodCount > 1) {
    String message=MessageFormat.format("''{0}'' is already defined in ''{1}''",new Object[]{HighlightUtil.formatMethod(method),HighlightUtil.formatClass(aClass)});
    TextRange textRange=HighlightUtil.getMethodDeclarationTextRange(method);
    return HighlightInfo.createHighlightInfo(HighlightInfoType.ERROR,textRange,message);
  }
  return null;
}
