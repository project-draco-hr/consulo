{
  List<FocusTrackback> stack=getStackForRoot(root);
  final FocusTrackback[] stackArray=stack.toArray(new FocusTrackback[stack.size()]);
  for (  FocusTrackback eachExisting : stackArray) {
    if (eachExisting != null && eachExisting.isConsumed()) {
      eachExisting.dispose();
    }
 else     if (eachExisting == null) {
      stack.remove(eachExisting);
    }
  }
  return stack;
}
