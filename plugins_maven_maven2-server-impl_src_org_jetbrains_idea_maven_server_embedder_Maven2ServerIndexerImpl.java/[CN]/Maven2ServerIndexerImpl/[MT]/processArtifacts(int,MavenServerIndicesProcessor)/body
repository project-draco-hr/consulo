{
  try {
    final int CHUNK_SIZE=10000;
    IndexReader r=getIndex(indexId).getIndexReader();
    int total=r.numDocs();
    List<MavenId> result=new ArrayList<MavenId>(Math.min(CHUNK_SIZE,total));
    for (int i=0; i < total; i++) {
      if (r.isDeleted(i))       continue;
      Document doc=r.document(i);
      String uinfo=doc.get(SEARCH_TERM_COORDINATES);
      if (uinfo == null)       continue;
      List<String> parts=StringUtil.split(uinfo,"|");
      String groupId=parts.get(0);
      String artifactId=parts.get(1);
      String version=parts.get(2);
      if (groupId == null || artifactId == null || version == null)       continue;
      result.add(new MavenId(groupId,artifactId,version));
      if (result.size() == CHUNK_SIZE) {
        processor.processArtifacts(result);
        result.clear();
      }
    }
    if (!result.isEmpty()) {
      processor.processArtifacts(result);
    }
  }
 catch (  Exception e) {
    throw new MavenServerIndexerException(wrapException(e));
  }
}
