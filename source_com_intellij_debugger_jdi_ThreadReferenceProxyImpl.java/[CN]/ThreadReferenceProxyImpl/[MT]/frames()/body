{
  DebuggerManagerThreadImpl.assertIsManagerThread();
  LOG.assertTrue(getThreadReference().isSuspended());
  checkValid();
  if (myFrames == null) {
    checkFrames();
    myFrames=new ArrayList<StackFrameProxyImpl>(frameCount());
    for (ListIterator<StackFrameProxyImpl> iterator=myFramesFromBottom.listIterator(frameCount()); iterator.hasPrevious(); ) {
      StackFrameProxyImpl stackFrameProxy=iterator.previous();
      myFrames.add(stackFrameProxy);
    }
  }
  return myFrames;
}
