{
  String place=event.getPlace();
  Presentation presentation=event.getPresentation();
  if (ActionPlaces.PROJECT_VIEW_POPUP.equals(place) || ActionPlaces.COMMANDER_POPUP.equals(place))   presentation.setText(IdeBundle.message("action.delete.ellipsis"));
 else   presentation.setText(IdeBundle.message("action.delete"));
  DataContext dataContext=event.getDataContext();
  Project project=DataKeys.PROJECT.getData(dataContext);
  if (project == null) {
    presentation.setEnabled(false);
    return;
  }
  DeleteProvider provider=getDeleteProvider(dataContext);
  if (event.getInputEvent() instanceof KeyEvent) {
    Object component=dataContext.getData(DataConstants.CONTEXT_COMPONENT);
    if (component instanceof JTextComponent)     provider=null;
  }
  presentation.setEnabled(provider != null && provider.canDeleteElement(dataContext));
}
