{
  List<? extends PsiElement> elements=descriptor.getAllElements();
  if (elements.isEmpty()) {
    throw new AssertionError(handler + " " + findUsagesOptions);
  }
  final UsageTarget[] targets=convertToUsageTargets(elements);
  myAnotherManager.searchAndShowUsages(targets,new Factory<UsageSearcher>(){
    @Override public UsageSearcher create(){
      dropResolveCacheRegularly(ProgressManager.getInstance().getProgressIndicator(),myProject);
      return createUsageSearcher(descriptor,handler,findUsagesOptions,null);
    }
  }
,!toSkipUsagePanelWhenOneUsage,true,createPresentation(elements.get(0),findUsagesOptions,toOpenInNewTab),null);
  addToHistory(elements,findUsagesOptions);
}
