{
  if (primaryElements.length == 0) {
    throw new AssertionError(handler + " " + findUsagesOptions);
  }
  Iterable<PsiElement> allElements=ContainerUtil.concat(primaryElements,secondaryElements);
  final UsageTarget[] targets=convertToUsageTargets(allElements,findUsagesOptions);
  myAnotherManager.searchAndShowUsages(targets,new Factory<UsageSearcher>(){
    @Override public UsageSearcher create(){
      dropResolveCacheRegularly(ProgressManager.getInstance().getProgressIndicator(),myProject);
      return createUsageSearcher(primaryElements,secondaryElements,handler,findUsagesOptions,null);
    }
  }
,!toSkipUsagePanelWhenOneUsage,true,createPresentation(primaryElements[0],findUsagesOptions,shouldOpenInNewTab()),null);
  myHistory.add((ConfigurableUsageTarget)targets[0]);
}
