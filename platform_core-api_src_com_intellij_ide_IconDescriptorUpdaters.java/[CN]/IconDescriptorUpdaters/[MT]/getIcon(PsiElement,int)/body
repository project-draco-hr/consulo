{
  CachedValue<IconKey> cachedValue=element.getUserData(KEY);
  if (cachedValue == null) {
    cachedValue=CachedValuesManager.getManager(element.getProject()).createCachedValue(new CachedValueProvider<IconKey>(){
      @Nullable @Override public Result<IconKey> compute(){
        return Result.createSingleDependency(new IconKey(element,getIconWithoutCache(element,flags)),PsiModificationTracker.JAVA_STRUCTURE_MODIFICATION_COUNT);
      }
    }
);
    element.putUserData(KEY,cachedValue);
  }
  IconKey value=cachedValue.getValue();
  return value.myIcon;
}
