{
  myProject=project;
  Disposer.register(project,new Disposable(){
    public void dispose(){
      if (myOutput != null) {
        EditorFactory.getInstance().releaseEditor(myOutput);
        myOutput=null;
      }
      if (myErrorsView != null) {
        myErrorsView.dispose();
        myErrorsView=null;
      }
      LOG.assertTrue(!myIsDisposed);
      try {
        if (!myIsInitialized)         return;
        ToolWindowManager toolWindowManager=ToolWindowManager.getInstance(myProject);
        toolWindowManager.unregisterToolWindow(ToolWindowId.CVS);
      }
  finally {
        myIsDisposed=true;
      }
    }
  }
);
}
