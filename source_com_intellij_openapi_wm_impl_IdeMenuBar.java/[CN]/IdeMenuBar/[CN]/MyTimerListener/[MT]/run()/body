{
  if (!IdeMenuBar.this.isShowing()) {
    return;
  }
  final MenuSelectionManager menuSelectionManager=MenuSelectionManager.defaultManager();
  final MenuElement[] selectedPath=menuSelectionManager.getSelectedPath();
  if (selectedPath.length > 0) {
    return;
  }
  final Window window=KeyboardFocusManager.getCurrentKeyboardFocusManager().getFocusedWindow();
  if (window instanceof Dialog) {
    if (((Dialog)window).isModal()) {
      return;
    }
  }
  updateActions();
}
