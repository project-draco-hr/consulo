{
  final Collection<File> moduleExcludes=index.getModuleExcludes(getModule());
  if (moduleExcludes.isEmpty()) {
    return Collections.emptySet();
  }
  final Set<File> excludes=new THashSet<File>(FileUtil.FILE_HASHING_STRATEGY);
  for (  File excluded : moduleExcludes) {
    if (FileUtil.isAncestor(root,excluded,true)) {
      excludes.add(excluded);
    }
  }
  return excludes;
}
