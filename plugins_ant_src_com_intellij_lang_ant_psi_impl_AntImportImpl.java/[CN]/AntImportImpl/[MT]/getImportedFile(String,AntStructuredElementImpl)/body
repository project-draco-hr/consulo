{
  if (name == null)   return null;
  final PsiFile psiFile=element.findFileByName(name);
  if (psiFile != null) {
    if (psiFile instanceof XmlFile) {
      final FileViewProvider viewProvider=psiFile.getViewProvider();
      final VirtualFile file=psiFile.getVirtualFile();
      if (file != null) {
        AntSupport.markFileAsAntFile(file,viewProvider,true);
      }
      return (AntFile)viewProvider.getPsi(AntSupport.getLanguage());
    }
    if (psiFile instanceof AntFile)     return (AntFile)psiFile;
  }
  return null;
}
