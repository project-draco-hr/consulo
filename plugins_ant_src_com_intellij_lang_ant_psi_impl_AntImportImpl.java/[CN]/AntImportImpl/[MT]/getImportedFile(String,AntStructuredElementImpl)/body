{
  if (name == null)   return null;
  final PsiFile psiFile=element.findFileByName(name);
  if (psiFile != null) {
    if (psiFile instanceof XmlFile) {
      final FileViewProvider viewProvider=psiFile.getViewProvider();
      final VirtualFile file=psiFile.getVirtualFile();
      if (file != null) {
        if (file.getUserData(AntLanguageExtension.ANT_FILE_SIGN) == null) {
          viewProvider.contentsSynchronized();
          file.putUserData(AntLanguageExtension.ANT_FILE_SIGN,true);
        }
      }
      return (AntFile)viewProvider.getPsi(AntSupport.getLanguage());
    }
    if (psiFile instanceof AntFile)     return (AntFile)psiFile;
  }
  return null;
}
