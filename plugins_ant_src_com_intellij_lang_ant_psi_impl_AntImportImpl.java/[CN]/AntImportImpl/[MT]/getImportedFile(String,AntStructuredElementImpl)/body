{
  if (name == null)   return null;
  final PsiFile psiFile=element.findFileByName(name);
  if (psiFile != null) {
    if (psiFile instanceof XmlFile) {
      final VirtualFile file=psiFile.getVirtualFile();
      if (file != null) {
        AntSupport.markFileAsAntFile(file,psiFile.getViewProvider(),true);
      }
      return AntSupport.getAntFile(psiFile);
    }
    if (psiFile instanceof AntFile)     return (AntFile)psiFile;
  }
  return null;
}
