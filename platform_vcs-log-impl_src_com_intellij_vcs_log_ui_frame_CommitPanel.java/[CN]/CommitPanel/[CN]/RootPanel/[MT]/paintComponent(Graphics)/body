{
  if (!myText.isEmpty()) {
    Dimension painterSize=myLabelPainter.calculateSize(myText,getFontMetrics(getLabelFont()));
    JBScrollPane scrollPane=UIUtil.getParentOfType(JBScrollPane.class,this);
    int width;
    if (scrollPane == null) {
      width=getWidth();
    }
 else {
      Rectangle rect=scrollPane.getViewport().getViewRect();
      JScrollBar verticalScrollBar=scrollPane.getVerticalScrollBar();
      width=rect.x + rect.width;
      if (verticalScrollBar.isVisible()) {
        width-=verticalScrollBar.getWidth();
      }
    }
    getWidth();
    myLabelPainter.paint((Graphics2D)g,myText,width - painterSize.width - JBUI.scale(RIGHT_BORDER),0,myColor);
  }
}
