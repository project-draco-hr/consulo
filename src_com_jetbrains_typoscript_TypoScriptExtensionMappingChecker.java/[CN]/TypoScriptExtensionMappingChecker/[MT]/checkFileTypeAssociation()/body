{
  final FileType registered=myFileTypeManager.getFileTypeByExtension(TypoScriptFileType.DEFAULT_EXTENSION);
  if (registered != TypoScriptFileType.INSTANCE) {
    ApplicationManager.getApplication().invokeLater(new Runnable(){
      public void run(){
        Notifications.Bus.notify(new Notification("TypoScript",TypoScriptBundle.message("plugin.title"),TypoScriptBundle.message("file.type.registration.warning",TypoScriptFileType.DEFAULT_EXTENSION),NotificationType.WARNING,new NotificationListener(){
          public void hyperlinkUpdate(          @NotNull final Notification notification,          @NotNull final HyperlinkEvent event){
            fixAssociation();
            notification.expire();
          }
        }
));
      }
    }
);
  }
}
