{
  TextConsoleBuilder builder=TextConsoleBuilderFactory.getInstance().createBuilder(project);
  final List<Filter> filters=ExceptionFilters.getFilters(GlobalSearchScope.allScope(project));
  for (  Filter filter : filters) {
    builder.addFilter(filter);
  }
  builder.addFilter(new RegexpFilter(project,CONSOLE_FILTER_REGEXP){
    @Nullable @Override protected HyperlinkInfo createOpenFileHyperlink(    String fileName,    int line,    int column){
      HyperlinkInfo res=super.createOpenFileHyperlink(fileName,line,column);
      if (res == null && fileName.startsWith("\\") && SystemInfo.isWindows) {
        VirtualFile[] roots=ProjectRootManager.getInstance(project).getContentRoots();
        if (roots.length > 0) {
          String projectPath=roots[0].getPath();
          if (projectPath.matches("[A-Z]:[\\\\/]")) {
            res=super.createOpenFileHyperlink(projectPath.charAt(0) + ":" + fileName,line,column);
          }
        }
      }
      return res;
    }
  }
);
  return builder;
}
