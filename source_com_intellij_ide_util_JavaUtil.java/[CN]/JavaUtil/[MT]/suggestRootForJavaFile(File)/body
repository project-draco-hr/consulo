{
  if (!javaFile.isFile())   return null;
  try {
    Reader reader=new BufferedReader(new FileReader(javaFile));
    char[] chars=new char[(int)javaFile.length()];
    int count=0;
    for (; ; ) {
      int n=reader.read(chars,count,chars.length - count);
      if (n <= 0)       break;
      count+=n;
    }
    reader.close();
    if (count != chars.length) {
      char[] newChars=new char[count];
      System.arraycopy(chars,0,newChars,0,count);
      chars=newChars;
    }
    String packageName=getPackageStatement(chars);
    if (packageName != null) {
      File root=javaFile.getParentFile();
      int index=packageName.length();
      while (index > 0) {
        int index1=packageName.lastIndexOf('.',index - 1);
        String token=packageName.substring(index1 + 1,index);
        String dirName=root.getName();
        if (!SystemInfo.isFileSystemCaseSensitive) {
          token=token.toLowerCase();
          dirName=dirName.toLowerCase();
        }
        if (!dirName.equals(token)) {
          return Pair.create(root,packageName.substring(0,index));
        }
        String parent=root.getParent();
        if (parent == null) {
          return null;
        }
        root=new File(parent);
        index=index1;
      }
      return Pair.create(root,"");
    }
  }
 catch (  IOException e) {
    return null;
  }
  return null;
}
