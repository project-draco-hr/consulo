{
  if (!javaFile.isFile())   return null;
  Reader reader=null;
  try {
    reader=new BufferedReader(new FileReader(javaFile));
    char[] chars=FileUtil.loadFileText(javaFile);
    String packageName=getPackageStatement(chars);
    if (packageName != null) {
      File root=javaFile.getParentFile();
      int index=packageName.length();
      while (index > 0) {
        int index1=packageName.lastIndexOf('.',index - 1);
        String token=packageName.substring(index1 + 1,index);
        String dirName=root.getName();
        if (!SystemInfo.isFileSystemCaseSensitive) {
          token=token.toLowerCase();
          dirName=dirName.toLowerCase();
        }
        if (!dirName.equals(token)) {
          return Pair.create(root,packageName.substring(0,index));
        }
        String parent=root.getParent();
        if (parent == null) {
          return null;
        }
        root=new File(parent);
        index=index1;
      }
      return Pair.create(root,"");
    }
  }
 catch (  IOException e) {
    return null;
  }
 finally {
    if (reader != null) {
      try {
        reader.close();
      }
 catch (      IOException e) {
      }
    }
  }
  return null;
}
