{
  queue(new Update("ViewUpdate"){
    public boolean isExpired(){
      return myTreeBuilder.isDisposed();
    }
    public void run(){
      if (myTreeBuilder.getTreeStructure().hasSomethingToCommit()) {
        myTreeBuilder.getTreeStructure().commit();
        requeueViewUpdateIfNeeded();
        return;
      }
      try {
        performUpdate();
      }
 catch (      ProcessCanceledException e) {
        requeueViewUpdateIfNeeded();
        throw e;
      }
catch (      RuntimeException e) {
        requeueViewUpdateIfNeeded();
        LOG.error(myTreeBuilder.getClass().getName(),e);
      }
    }
  }
);
}
