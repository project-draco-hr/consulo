{
  final PatchBaseVersionProvider[] baseVersionProviders=project.getComponents(PatchBaseVersionProvider.class);
  for (  PatchBaseVersionProvider provider : baseVersionProviders) {
    if (provider.canProvideContent(file,patch.getBeforeVersionId())) {
      return provider;
    }
  }
  final DefaultPatchBaseVersionProvider defaultProvider=new DefaultPatchBaseVersionProvider(project);
  if (defaultProvider.canProvideContent(file,patch.getBeforeVersionId())) {
    return defaultProvider;
  }
  return null;
}
