{
  PsiLanguageInjectionHost host=(PsiLanguageInjectionHost)context;
  InjectedLanguage injectedLanguage=myRegistry.getLanguageFor(host);
  Language language=injectedLanguage != null ? injectedLanguage.getLanguage() : null;
  if (language != null) {
    final ElementManipulator<PsiLanguageInjectionHost> manipulator=ElementManipulators.getManipulator(host);
    if (manipulator == null)     return;
    List<Trinity<PsiLanguageInjectionHost,InjectedLanguage,TextRange>> trinities=Collections.singletonList(Trinity.create(host,injectedLanguage,manipulator.getRangeInElement(host)));
    InjectorUtils.registerInjection(language,trinities,context.getContainingFile(),registrar);
    InjectorUtils.registerSupport(myRegistry.getLanguageInjectionSupport(),false,registrar);
  }
}
