{
  final PsiElement originalContext=PsiUtil.getOriginalElement(context,context.getClass());
  final List<Pair<SmartPsiElementPointer<PsiLanguageInjectionHost>,InjectedLanguage>> list=TemporaryPlacesRegistry.getInstance(context.getProject()).getTempInjectionsSafe();
  for (  final Pair<SmartPsiElementPointer<PsiLanguageInjectionHost>,InjectedLanguage> pair : list) {
    if (pair.first.getElement() == originalContext) {
      final PsiLanguageInjectionHost host=(PsiLanguageInjectionHost)context;
      XmlLanguageInjector.registerInjection(pair.second.getLanguage(),Collections.singletonList(Trinity.create(host,pair.second,ElementManipulators.getManipulator(host).getRangeInElement(host))),context.getContainingFile(),registrar);
      return;
    }
  }
}
