{
  final PsiLanguageInjectionHost host=(PsiLanguageInjectionHost)context;
  final PsiLanguageInjectionHost originalHost=CompletionUtil.getOriginalElement(host);
  final List<TemporaryPlacesRegistry.TemporaryPlace> list=myRegistry.getTempInjectionsSafe(originalHost);
  if (list.isEmpty())   return;
  final ElementManipulator<PsiLanguageInjectionHost> manipulator=ElementManipulators.getManipulator(host);
  if (manipulator == null)   return;
  for (  final TemporaryPlacesRegistry.TemporaryPlace place : list) {
    LOG.assertTrue(place.language != null,"Language should not be NULL");
    InjectorUtils.registerInjection(place.language.getLanguage(),Collections.singletonList(Trinity.create(host,place.language,manipulator.getRangeInElement(host))),context.getContainingFile(),registrar);
    InjectorUtils.registerSupport(myRegistry.getLanguageInjectionSupport(),false,registrar);
  }
}
