{
  for (  PsiElement element : elements) {
    if (element instanceof GroovyPsiElement) {
      ((GroovyPsiElement)element).accept(new MyMemoizingVisitor());
    }
  }
  GroovyElementFactory factory=GroovyElementFactory.getInstance(elements[0].getProject());
  final GrMethodCallExpression call=(GrMethodCallExpression)factory.createTopElementFromText("{ -> \n }.call()");
  final GrClosableBlock closure=(GrClosableBlock)((GrReferenceExpression)call.getInvokedExpression()).getQualifierExpression();
  addStatements(closure,elements);
  return call;
}
