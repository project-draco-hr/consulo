{
  for (  Map.Entry<OrderRootType,? extends Collection<File>> entry : libraryFiles.entrySet()) {
    for (    File file : entry.getValue()) {
      VirtualFile virtualFile=LocalFileSystem.getInstance().findFileByIoFile(file);
      if (virtualFile == null) {
        if (entry.getKey() == OrderRootType.CLASSES) {
          GradleLog.LOG.warn(String.format("Can't find %s of the library '%s' at path '%s'",entry.getKey(),libraryName,file.getAbsolutePath()));
        }
        continue;
      }
      if (virtualFile.isDirectory()) {
        model.addRoot(virtualFile,entry.getKey());
      }
 else {
        VirtualFile jarRoot=JarFileSystem.getInstance().getJarRootForLocalFile(virtualFile);
        if (jarRoot == null) {
          GradleLog.LOG.warn(String.format("Can't parse contents of the jar file at path '%s' for the library '%s''",file.getAbsolutePath(),libraryName));
          continue;
        }
        model.addRoot(jarRoot,entry.getKey());
      }
    }
  }
}
