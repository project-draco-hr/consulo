{
  List<Change> outdatedChanges=new ArrayList<Change>();
  final Collection<Change> currentChanges=new ArrayList<Change>(myChanges);
  for (  Change oldBoy : currentChanges) {
    final ContentRevision before=oldBoy.getBeforeRevision();
    final ContentRevision after=oldBoy.getAfterRevision();
    if (before != null && scope.belongsTo(before.getFile()) || after != null && scope.belongsTo(after.getFile())) {
      myChanges.remove(oldBoy);
      outdatedChanges.add(oldBoy);
    }
  }
  if (myIsDefault) {
    myChanges.addAll(newChanges);
  }
 else {
    for (    Change oldChange : outdatedChanges) {
      for (      Change newChange : newChanges) {
        if (changesEqual(oldChange,newChange)) {
          myChanges.add(newChange);
        }
      }
    }
  }
}
