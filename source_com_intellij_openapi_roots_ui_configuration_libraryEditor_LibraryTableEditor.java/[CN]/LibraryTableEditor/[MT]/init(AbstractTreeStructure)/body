{
  myTree=new Tree(new DefaultTreeModel(new DefaultMutableTreeNode()));
  myTree.setRootVisible(false);
  myTree.setShowsRootHandles(true);
  new MyTreeSpeedSearch(myTree);
  myTree.setCellRenderer(new LibraryTreeRenderer());
  final MyTreeSelectionListener treeSelectionListener=new MyTreeSelectionListener();
  myTree.getSelectionModel().addTreeSelectionListener(treeSelectionListener);
  myTreeBuilder=new LibraryTableTreeBuilder(myTree,(DefaultTreeModel)myTree.getModel(),treeStructure);
  myTreePanel.setLayout(new BorderLayout());
  myTreePanel.add(ScrollPaneFactory.createScrollPane(myTree),BorderLayout.CENTER);
  myAddLibraryButton.setText(myEditingModuleLibraries ? "Add Jar/Directory..." : "Create Library...");
  myAddLibraryButton.setMnemonic(myEditingModuleLibraries ? 'J' : 'L');
  myAddLibraryButton.addActionListener(new AddLibraryAction());
  myRemoveButton.addActionListener(new RemoveAction());
  myRemoveButton.setMnemonic('R');
  myRenameLibraryButton.setMnemonic('e');
  if (myEditingModuleLibraries) {
    myAttachClassesButton.setVisible(false);
    myRenameLibraryButton.setVisible(false);
  }
 else {
    myRenameLibraryButton.setVisible(true);
    myRenameLibraryButton.addActionListener(new RenameLibraryAction());
    myAttachClassesButton.setVisible(true);
    myAttachClassesButton.setMnemonic('C');
    myAttachClassesButton.addActionListener(new AttachClassesAction());
  }
  myAttachSourcesButton.addActionListener(new AttachSourcesAction());
  myAttachSourcesButton.setMnemonic('S');
  myAttachJavadocsButton.addActionListener(new AttachJavadocAction());
  myAttachJavadocsButton.setMnemonic('J');
  myAttachUrlJavadocsButton.addActionListener(new AttachUrlJavadocAction());
  myAttachUrlJavadocsButton.setMnemonic('U');
  treeSelectionListener.updateButtons();
}
