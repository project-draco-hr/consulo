{
  String moduleDirPath=FileUtil.toSystemIndependentName(new File(module.getModuleFilePath()).getParent());
  String genSources=FileUtil.toSystemIndependentName(mavenProject.getGeneratedSourcesDirectory(false));
  if (VfsUtil.isAncestor(new File(moduleDirPath),new File(genSources),true)) {
    String genRelativePath=FileUtil.getRelativePath(moduleDirPath,genSources,'/');
    if (genRelativePath != null) {
      configuration.GEN_FOLDER_RELATIVE_PATH_APT='/' + genRelativePath + "/r";
      configuration.GEN_FOLDER_RELATIVE_PATH_AIDL='/' + genRelativePath + "/aidl";
    }
  }
  String buildDirectory=FileUtil.toSystemIndependentName(mavenProject.getBuildDirectory());
  if (VfsUtil.isAncestor(new File(moduleDirPath),new File(buildDirectory),true)) {
    String buildDirRelPath=FileUtil.getRelativePath(moduleDirPath,buildDirectory,'/');
    configuration.APK_PATH='/' + buildDirRelPath + '/'+ AndroidFacet.getApkName(module);
  }
}
