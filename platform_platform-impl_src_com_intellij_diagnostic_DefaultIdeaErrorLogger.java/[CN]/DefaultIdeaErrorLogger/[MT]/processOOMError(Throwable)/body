{
  ourOomOccured=true;
  throwable.printStackTrace();
  SwingUtilities.invokeAndWait(new Runnable(){
    public void run(){
      String message=throwable.getMessage();
      OutOfMemoryDialog.MemoryKind k=message != null && message.contains(PARAM_PERMGEN) ? OutOfMemoryDialog.MemoryKind.PERM_GEN : message != null && message.contains("CodeCache") ? OutOfMemoryDialog.MemoryKind.CODE_CACHE : OutOfMemoryDialog.MemoryKind.HEAP;
      new OutOfMemoryDialog(k).show();
    }
  }
);
}
