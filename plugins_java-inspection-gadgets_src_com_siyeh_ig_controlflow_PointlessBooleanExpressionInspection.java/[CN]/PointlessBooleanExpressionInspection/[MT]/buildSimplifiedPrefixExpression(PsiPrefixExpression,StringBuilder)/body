{
  final PsiJavaToken sign=expression.getOperationSign();
  final IElementType tokenType=sign.getTokenType();
  final PsiExpression operand=expression.getOperand();
  if (JavaTokenType.EXCL.equals(tokenType)) {
    final Boolean value=evaluate(operand);
    if (value == Boolean.TRUE) {
      out.append(PsiKeyword.FALSE);
      return;
    }
 else     if (value == Boolean.FALSE) {
      out.append(PsiKeyword.TRUE);
      return;
    }
  }
  buildSimplifiedExpression(operand,out.append(sign.getText()));
}
