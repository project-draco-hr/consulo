{
  myInnerChange=true;
  try {
    if (myDetectedBaseDirectory != null) {
      myBaseDirectoryField.setText(myDetectedBaseDirectory);
      myDetectedBaseDirectory=null;
    }
    if (myDetectedStripLeadingDirs != -1) {
      myStripLeadingDirectoriesSpinner.setValue(myDetectedStripLeadingDirs);
      myDetectedStripLeadingDirs=-1;
    }
  }
  finally {
    myInnerChange=false;
  }
  myLoadPatchError=s;
  if (s == null) {
    myStatusLabel.setForeground(UIUtil.getLabelForeground());
    myStatusLabel.setText(buildPatchSummary());
  }
 else {
    myStatusLabel.setText(s);
    myStatusLabel.setForeground(Color.red);
  }
  updatePatchTableModel();
  updateOKAction();
}
