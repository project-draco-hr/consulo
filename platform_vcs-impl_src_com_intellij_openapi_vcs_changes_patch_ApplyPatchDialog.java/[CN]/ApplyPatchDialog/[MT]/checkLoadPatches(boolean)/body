{
  final String fileName=myFileNameField.getText().replace(File.separatorChar,'/');
  final VirtualFile patchFile=ApplicationManager.getApplication().runWriteAction(new Computable<VirtualFile>(){
    public VirtualFile compute(){
      final VirtualFile file=LocalFileSystem.getInstance().refreshAndFindFileByPath(fileName);
      if (file != null) {
        file.refresh(false,false);
        if (file.isDirectory()) {
          return null;
        }
      }
      return file;
    }
  }
);
  if (patchFile == null) {
    queueUpdateStatus("Cannot find patch file");
    return;
  }
  myChangeListChooser.setDefaultName(patchFile.getNameWithoutExtension().replace('_',' ').trim());
  if (async) {
    ApplicationManager.getApplication().executeOnPooledThread(new Runnable(){
      public void run(){
        loadPatchesFromFile(patchFile);
      }
    }
);
  }
 else {
    loadPatchesFromFile(patchFile);
  }
}
