{
  final int position=editor.getCaretModel().getOffset();
  PsiElement element=file.findElementAt(position);
  while (element != null) {
    if (predicate.satisfiedBy(element))     return element;
    if (isStopElement(element))     return null;
    element=element.getParent();
  }
  return null;
}
