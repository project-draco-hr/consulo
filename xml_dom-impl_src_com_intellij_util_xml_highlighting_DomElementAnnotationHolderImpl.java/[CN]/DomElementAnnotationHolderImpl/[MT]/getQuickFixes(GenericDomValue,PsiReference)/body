{
  final List<LocalQuickFix> result=new SmartList<LocalQuickFix>();
  final Converter converter=WrappingConverter.getDeepestConverter(element.getConverter(),element);
  if (converter instanceof ResolvingConverter) {
    final ResolvingConverter resolvingConverter=(ResolvingConverter)converter;
    ContainerUtil.addAll(result,resolvingConverter.getQuickFixes(new ConvertContextImpl(DomManagerImpl.getDomInvocationHandler(element))));
  }
  if (reference instanceof LocalQuickFixProvider) {
    ContainerUtil.addAll(result,((LocalQuickFixProvider)reference).getQuickFixes());
  }
  return result.toArray(new LocalQuickFix[result.size()]);
}
