{
  final AntStructuredElement element=myUndefinedElement;
  final AntProject antProject=(myFile == null) ? element.getAntProject() : myFile.getAntProject();
  final AntElement anchor=(myFile == null) ? AntPsiUtil.getSubProjectElement(element) : PsiTreeUtil.getChildOfType(antProject,AntStructuredElement.class);
  final XmlTag se=element.getSourceElement();
  final XmlTag projectTag=antProject.getSourceElement();
  XmlTag presetDef=projectTag.createChildTag("presetdef",projectTag.getNamespace(),null,false);
  presetDef.setAttribute("name",se.getName());
  presetDef=(XmlTag)((anchor == null) ? projectTag.add(presetDef) : projectTag.addBefore(presetDef,anchor.getSourceElement()));
  ((Navigatable)presetDef).navigate(true);
  if (myFile != null) {
    element.getAntFile().clearCaches();
  }
}
