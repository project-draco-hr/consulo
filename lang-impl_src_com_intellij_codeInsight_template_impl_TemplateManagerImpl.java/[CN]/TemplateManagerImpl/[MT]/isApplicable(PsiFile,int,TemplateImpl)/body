{
  TemplateManager instance=getInstance(file.getProject());
  TemplateContext context=template.getTemplateContext();
  if (context.isEnabled(instance.getContextType(file,offset))) {
    return true;
  }
  Language baseLanguage=file.getViewProvider().getBaseLanguage();
  if (baseLanguage != file.getLanguage()) {
    PsiFile basePsi=file.getViewProvider().getPsi(baseLanguage);
    if (basePsi != null && context.isEnabled(instance.getContextType(basePsi,offset))) {
      return true;
    }
  }
  return false;
}
