{
  if (myStub != null) {
    return (E[])myStub.getChildrenByType(elementType,array);
  }
 else {
    final ASTNode[] nodes=getNode().getChildren(TokenSet.create(elementType));
    E[] psiElements=(E[])java.lang.reflect.Array.newInstance(array.getClass().getComponentType(),nodes.length);
    for (int i=0; i < nodes.length; i++) {
      psiElements[i]=(E)nodes[i].getPsi();
    }
    return psiElements;
  }
}
