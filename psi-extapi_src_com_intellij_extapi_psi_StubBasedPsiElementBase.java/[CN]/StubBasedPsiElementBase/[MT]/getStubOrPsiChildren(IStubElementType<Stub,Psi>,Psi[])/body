{
  if (myStub != null) {
    return (Psi[])myStub.getChildrenByType(elementType,array);
  }
 else {
    final ASTNode[] nodes=getNode().getChildren(TokenSet.create(elementType));
    Psi[] psiElements=(Psi[])java.lang.reflect.Array.newInstance(array.getClass().getComponentType(),nodes.length);
    for (int i=0; i < nodes.length; i++) {
      psiElements[i]=(Psi)nodes[i].getPsi();
    }
    return psiElements;
  }
}
