{
  final IElementType elementType=myNode.getElementType();
  final IElementType type1=((XmlBlock)child1).myNode.getElementType();
  final IElementType type2=((XmlBlock)child2).myNode.getElementType();
  if (elementType == ElementType.XML_TAG) {
    if (isXmlTagName(type1,type2)) {
      final int spaces=mySettings.XML_SPACE_AROUND_TAG_NAME ? 1 : 0;
      return new SpaceProperty(spaces,spaces,0,getMaxLine(),false);
    }
 else     if (type2 == ElementType.XML_ATTRIBUTE) {
      return new SpaceProperty(1,1,0,getMaxLine(),false);
    }
  }
  if ((type2 == ElementType.XML_TAG || type2 == ElementType.XML_END_TAG_START || type2 == ElementType.XML_TEXT) && mySettings.XML_KEEP_WHITESPACES) {
    return new SpaceProperty(0,0,0,0,true);
  }
  if (type1 == ElementType.XML_DATA_CHARACTERS && type2 == ElementType.XML_DATA_CHARACTERS) {
    return new SpaceProperty(1,1,0,getMaxLine(),false);
  }
  if (type2 == ElementType.XML_TEXT && type1 == ElementType.XML_TAG) {
    return new SpaceProperty(0,0,1,getMaxLine(),false);
  }
  if (type1 == ElementType.XML_TEXT && type2 == ElementType.XML_END_TAG_START) {
    return new SpaceProperty(0,0,0,getMaxLine(),false);
  }
  if (type2 == ElementType.XML_TEXT && type1 == ElementType.XML_TAG_END) {
    return new SpaceProperty(0,0,0,getMaxLine(),false);
  }
  if (elementType == ElementType.XML_ATTRIBUTE) {
    if (type1 == ElementType.XML_EQ || type2 == ElementType.XML_EQ) {
      int spaces=mySettings.XML_SPACE_AROUND_EQUALITY_IN_ATTRINUTE ? 1 : 0;
      return new SpaceProperty(spaces,spaces,0,getMaxLine(),false);
    }
  }
  return new SpaceProperty(0,Integer.MAX_VALUE,0,getMaxLine(),false);
}
