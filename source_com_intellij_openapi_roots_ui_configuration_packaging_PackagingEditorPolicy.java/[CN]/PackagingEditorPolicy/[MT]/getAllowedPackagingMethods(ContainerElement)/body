{
  if (element instanceof LibraryLink) {
    final LibraryLink libraryLink=(LibraryLink)element;
    if (libraryLink.getLibrary() == null) {
      return getPackagingMethodForUnresolvedElement(libraryLink);
    }
    return getAllowedPackagingMethodsForLibrary(libraryLink);
  }
  if (element instanceof ModuleLink) {
    final ModuleLink moduleLink=(ModuleLink)element;
    final Module module=moduleLink.getModule();
    if (module != null) {
      return getAllowedPackagingMethodsForModule(module);
    }
    return getPackagingMethodForUnresolvedElement(moduleLink);
  }
  LOG.assertTrue(false,"unexpected element: " + element.getClass());
  return null;
}
