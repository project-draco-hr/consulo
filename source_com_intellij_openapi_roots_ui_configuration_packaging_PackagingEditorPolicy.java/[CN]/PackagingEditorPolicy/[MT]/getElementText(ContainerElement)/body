{
  if (element instanceof LibraryLink) {
    final LibraryLink libraryLink=(LibraryLink)element;
    Library library=libraryLink.getLibrary();
    if (library != null) {
      String name=library.getName();
      VirtualFile[] files=library.getFiles(OrderRootType.CLASSES);
      if (name != null) {
        return "'" + name + "' "+ PackagingEditorUtil.getLibraryTableDisplayName(library);
      }
 else       if (files.length > 0) {
        Module module=((LibraryImpl)library).getModule();
        final String description;
        if (module == null) {
          description="(" + PackagingEditorUtil.getLibraryTableDisplayName(library) + ")";
        }
 else {
          description=ProjectBundle.message("node.text.library.of.module",module.getName());
        }
        return files[0].getName() + " " + description;
      }
    }
  }
  if (element instanceof ModuleLink) {
    final ModuleLink moduleLink=(ModuleLink)element;
    return ProjectBundle.message("text.module.link.description.0.module",moduleLink.getName());
  }
  return element.getPresentableName();
}
