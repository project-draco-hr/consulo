{
  if (!(element instanceof TaskPsiElement))   return null;
  final Task task=((TaskPsiElement)element).getTask();
  final StringBuilder builder=new StringBuilder("<html>");
  builder.append("<b>Summary:</b> ").append(task.getSummary()).append("<br>");
  builder.append("<b>Id:</b> ").append(task.getId()).append("<br>");
  if (task.getCreated() != null) {
    builder.append("<b>Created at:</b> ").append(task.getCreated()).append("<br>");
  }
  if (task.getUpdated() != null) {
    builder.append("<b>Updated at:</b> ").append(task.getUpdated()).append("<br>");
  }
  final String description=task.getDescription();
  if (description != null) {
    builder.append("<b>Description:</b><br>").append(description.replace("\n","<br>"));
  }
  for (  Comment comment : task.getComments()) {
    comment.appendTo(builder);
  }
  builder.append("</html>");
  return builder.toString();
}
