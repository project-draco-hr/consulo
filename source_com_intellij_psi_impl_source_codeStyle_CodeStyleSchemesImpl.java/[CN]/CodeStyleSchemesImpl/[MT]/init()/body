{
  if (myIsInitialized)   return;
  myIsInitialized=true;
  mySchemes.clear();
  File[] files=getSchemeFiles();
  for (  File file : files) {
    if (file.getName().toLowerCase().endsWith(XML_EXTENSION)) {
      try {
        addScheme(CodeStyleSchemeImpl.readScheme(file));
      }
 catch (      Exception e) {
        Messages.showErrorDialog(PsiBundle.message("codestyle.cannot.read.scheme.file.message",file.getName()),PsiBundle.message("codestyle.cannot.read.scheme.file.title"));
      }
    }
  }
  final CodeStyleScheme[] schemes=getSchemes();
  for (  CodeStyleScheme scheme : schemes) {
    ((CodeStyleSchemeImpl)scheme).init(this);
  }
}
