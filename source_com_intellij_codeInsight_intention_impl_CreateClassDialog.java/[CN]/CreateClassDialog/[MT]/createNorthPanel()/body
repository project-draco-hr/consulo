{
  JPanel panel=new JPanel(new GridBagLayout());
  GridBagConstraints gbConstraints=new GridBagConstraints();
  panel.setBorder(IdeBorderFactory.createBorder());
  gbConstraints.insets=new Insets(4,8,4,8);
  gbConstraints.weightx=myClassNameEditable ? 0 : 1;
  gbConstraints.gridwidth=myClassNameEditable ? 1 : 2;
  gbConstraints.fill=GridBagConstraints.HORIZONTAL;
  gbConstraints.anchor=GridBagConstraints.WEST;
  panel.add(myInformationLabel,gbConstraints);
  if (myClassNameEditable) {
    gbConstraints.insets=new Insets(4,8,4,8);
    gbConstraints.gridx=1;
    gbConstraints.weightx=1;
    gbConstraints.gridwidth=1;
    gbConstraints.fill=GridBagConstraints.HORIZONTAL;
    gbConstraints.anchor=GridBagConstraints.WEST;
    panel.add(myTfClassName,gbConstraints);
  }
  gbConstraints.gridx=0;
  gbConstraints.gridy=2;
  gbConstraints.weightx=0;
  gbConstraints.gridwidth=1;
  panel.add(myPackageLabel,gbConstraints);
  gbConstraints.gridx=1;
  gbConstraints.weightx=1;
  new AnAction(){
    public void actionPerformed(    AnActionEvent e){
      myPackageChooseButton.doClick();
    }
  }
.registerCustomShortcutSet(CommonShortcuts.ALT_ENTER,myTfPackage);
  myPackageChooseButton.addActionListener(new ActionListener(){
    public void actionPerformed(    ActionEvent e){
      PackageChooserDialog chooser=new PackageChooserDialog("Choose Destination Package",myProject);
      chooser.selectPackage(myTfPackage.getText());
      chooser.show();
      PsiPackage aPackage=chooser.getSelectedPackage();
      if (aPackage != null) {
        myTfPackage.setText(aPackage.getQualifiedName());
      }
    }
  }
);
  JPanel _panel=new JPanel(new BorderLayout());
  _panel.add(myTfPackage,BorderLayout.CENTER);
  _panel.add(myPackageChooseButton,BorderLayout.EAST);
  panel.add(_panel,gbConstraints);
  return panel;
}
