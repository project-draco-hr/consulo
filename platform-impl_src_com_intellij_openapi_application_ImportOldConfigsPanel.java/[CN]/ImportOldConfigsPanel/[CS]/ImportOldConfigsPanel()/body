{
  super((Dialog)null,true);
  new MnemonicHelper().register(getContentPane());
  ButtonGroup group=new ButtonGroup();
  group.add(myRbDoNotImport);
  group.add(myRbImport);
  myRbDoNotImport.setSelected(true);
  myRbImport.addChangeListener(new ChangeListener(){
    public void stateChanged(    ChangeEvent e){
      update();
    }
  }
);
  if (SystemInfo.isMac) {
    final String mostProbable="/Applications/" + ApplicationNamesInfo.getInstance().getFullProductName();
    if (new File(mostProbable).exists()) {
      myPrevInstallation.setText(mostProbable);
    }
 else {
      myPrevInstallation.setText("/Applications");
    }
  }
  myPrevInstallation.addActionListener(new ActionListener(){
    public void actionPerformed(    ActionEvent e){
      JFileChooser fc=new JFileChooser();
      if (myLastSelection != null) {
        fc=new JFileChooser(myLastSelection);
      }
      if (!SystemInfo.isMac) {
        fc.setFileSelectionMode(JFileChooser.DIRECTORIES_ONLY);
      }
      int returnVal=fc.showOpenDialog(ImportOldConfigsPanel.this);
      if (returnVal == JFileChooser.APPROVE_OPTION) {
        File file=fc.getSelectedFile();
        if (file != null) {
          myLastSelection=file;
          myPrevInstallation.setText(file.getAbsolutePath());
        }
      }
    }
  }
);
  myOkButton.addActionListener(new ActionListener(){
    public void actionPerformed(    ActionEvent e){
      close();
    }
  }
);
  getContentPane().setLayout(new BorderLayout());
  getContentPane().add(myRootPanel);
  setTitle(ApplicationBundle.message("title.complete.installation"));
  update();
  pack();
  Dimension parentSize=Toolkit.getDefaultToolkit().getScreenSize();
  Dimension ownSize=getPreferredSize();
  setLocation((parentSize.width - ownSize.width) / 2,(parentSize.height - ownSize.height) / 2);
}
