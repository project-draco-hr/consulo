{
  Map<String,CachedValue<XmlNSDescriptor>> map=initNSDescriptorsMap();
  final CachedValue<XmlNSDescriptor> descriptor=map.get(namespace);
  if (descriptor != null)   return descriptor.getValue();
  final XmlTag parentTag=getParentTag();
  if (parentTag == null) {
    final XmlDocument parentOfType=PsiTreeUtil.getParentOfType(this,XmlDocument.class);
    if (parentOfType == null)     return null;
    return parentOfType.getDefaultNSDescriptor(namespace,strict);
  }
  return parentTag.getNSDescriptor(namespace,strict);
}
