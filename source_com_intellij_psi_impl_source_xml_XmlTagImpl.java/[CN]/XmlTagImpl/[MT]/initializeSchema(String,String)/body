{
  if (myNSDescriptorsMap == null)   myNSDescriptorsMap=new HashMap<String,CachedValue<XmlNSDescriptor>>();
  final XmlFile file=XmlUtil.findXmlFile(XmlUtil.getContainingFile(this),ExternalResourceManager.getInstance().getResourceLocation(fileLocation));
  final PsiMetaOwner owner;
  if (file == null) {
    final String attributeValue=getAttributeValue("targetNamespace");
    if (namespace.equals(attributeValue)) {
      owner=this;
    }
 else {
      owner=null;
    }
  }
 else {
    owner=file.getDocument();
  }
  if (owner != null) {
    myNSDescriptorsMap.put(namespace,getManager().getCachedValuesManager().createCachedValue(new CachedValueProvider<XmlNSDescriptor>(){
      public CachedValueProvider.Result<XmlNSDescriptor> compute(){
        return new Result<XmlNSDescriptor>((XmlNSDescriptor)owner.getMetaData(),new Object[]{file});
      }
    }
,false));
  }
  return true;
}
