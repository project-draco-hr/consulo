{
  if (myNSDescriptorsMap == null)   myNSDescriptorsMap=new HashMap<String,CachedValue<XmlNSDescriptor>>();
  final XmlFile file=retrieveFile(fileLocation);
  final PsiMetaOwner owner=retrieveOwner(file,namespace);
  if (owner != null) {
    myNSDescriptorsMap.put(namespace,getManager().getCachedValuesManager().createCachedValue(new CachedValueProvider<XmlNSDescriptor>(){
      public CachedValueProvider.Result<XmlNSDescriptor> compute(){
        PsiMetaOwner currentOwner=owner;
        XmlFile currentFile=file;
        if (!((PsiElement)currentOwner).isValid()) {
          currentFile=retrieveFile(fileLocation);
          if (currentFile == null)           return new Result<XmlNSDescriptor>(null,this);
          currentOwner=retrieveOwner(currentFile,namespace);
        }
        return new Result<XmlNSDescriptor>((XmlNSDescriptor)currentOwner.getMetaData(),currentFile);
      }
    }
,false));
  }
  return true;
}
