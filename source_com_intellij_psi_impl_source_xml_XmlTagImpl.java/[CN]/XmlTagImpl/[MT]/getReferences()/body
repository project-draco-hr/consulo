{
  ProgressManager.getInstance().checkCanceled();
  final ASTNode startTagName=XmlChildRole.START_TAG_NAME_FINDER.findChild(this);
  if (startTagName == null)   return PsiReference.EMPTY_ARRAY;
  final ASTNode endTagName=XmlChildRole.CLOSING_TAG_NAME_FINDER.findChild(this);
  final PsiReference[] referencesFromProviders=ResolveUtil.getReferencesFromProviders(this);
  if (endTagName != null) {
    final PsiReference[] psiReferences=new PsiReference[referencesFromProviders.length + 2];
    psiReferences[0]=new TagNameReference(startTagName,true);
    psiReferences[1]=new TagNameReference(endTagName,false);
    for (int i=0; i < referencesFromProviders.length; i++) {
      psiReferences[i + 2]=referencesFromProviders[i];
    }
    return psiReferences;
  }
 else {
    final PsiReference[] psiReferences=new PsiReference[referencesFromProviders.length + 1];
    psiReferences[0]=new TagNameReference(startTagName,true);
    for (int i=0; i < referencesFromProviders.length; i++) {
      psiReferences[i + 1]=referencesFromProviders[i];
    }
    return psiReferences;
  }
}
