{
  final XmlAttribute attribute=getAttribute(qname);
  if (attribute != null) {
    if (value == null) {
      deleteChildInternal(SourceTreeToPsiMap.psiElementToTree(attribute));
      return null;
    }
    attribute.setValue(value);
    return attribute;
  }
  PsiElement xmlAttribute=add(getManager().getElementFactory().createXmlAttribute(qname,value));
  while (!(xmlAttribute instanceof XmlAttribute))   xmlAttribute=xmlAttribute.getNextSibling();
  return (XmlAttribute)xmlAttribute;
}
