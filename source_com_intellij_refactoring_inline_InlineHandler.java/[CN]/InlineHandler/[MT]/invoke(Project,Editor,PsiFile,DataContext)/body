{
  editor.getScrollingModel().scrollToCaret(ScrollType.MAKE_VISIBLE);
  PsiElement element=(PsiElement)dataContext.getData(DataConstants.PSI_ELEMENT);
  if (element instanceof PsiLocalVariable) {
    new InlineLocalHandler().invoke(project,editor,(PsiLocalVariable)element);
  }
 else   if (element instanceof PsiPointcutDef) {
    new InlinePointcutHandler().invoke(project,editor,(PsiPointcutDef)element);
  }
 else   if (element instanceof PsiMethod) {
    new InlineMethodHandler().invoke(project,editor,(PsiMethod)element);
  }
 else   if (element instanceof PsiField) {
    new InlineConstantFieldHandler().invoke(project,editor,(PsiField)element);
  }
 else   if (file instanceof JspFile) {
    new InlineIncludedFileHandler().invoke(project,editor,(JspFile)file);
    ;
  }
 else {
    String message="Cannot perform the refactoring.\n" + "The caret should be positioned at the name of\n" + "the method or local variable to be refactored.";
    RefactoringMessageUtil.showErrorMessage("Inline",message,null,project);
  }
}
