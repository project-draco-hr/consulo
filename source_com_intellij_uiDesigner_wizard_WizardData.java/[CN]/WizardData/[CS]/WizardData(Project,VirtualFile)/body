{
  LOG.assertTrue(formFile != null);
  myProject=project;
  myFormFile=formFile;
  myBindToNewBean=true;
  myGenerateIsModified=true;
  final LwRootContainer[] rootContainer=new LwRootContainer[1];
  final FormProperty[] formProperties=Generator.exposeForm(myProject,myFormFile,rootContainer);
  myBindings=new FormProperty2BeanProperty[formProperties.length];
  for (int i=formProperties.length - 1; i >= 0; i--) {
    myBindings[i]=new FormProperty2BeanProperty(formProperties[i]);
  }
  final PsiManager manager=PsiManager.getInstance(myProject);
  final VirtualFile directory=formFile.getParent();
  LOG.assertTrue(directory.isDirectory());
  final PsiDirectory psiDirectory=manager.findDirectory(directory);
  LOG.assertTrue(psiDirectory != null);
  final PsiPackage aPackage=psiDirectory.getPackage();
  if (aPackage != null) {
    myPackageName=aPackage.getQualifiedName();
  }
}
