{
  final TreeClassChooserFactory factory=TreeClassChooserFactory.getInstance(myProject);
  final GlobalSearchScope scope=GlobalSearchScope.allScope(myProject);
  final PsiClass aClass=JavaPsiFacade.getInstance(myProject).findClass(myField.getText(),scope);
  final TreeClassChooser chooser=factory.createNoInnerClassesScopeChooser("Select Annotation Class",scope,new TreeClassChooser.ClassFilter(){
    public boolean isAccepted(    PsiClass aClass){
      return aClass.isAnnotationType();
    }
  }
,aClass);
  chooser.showDialog();
  final PsiClass psiClass=chooser.getSelectedClass();
  if (psiClass != null) {
    myField.setText(psiClass.getQualifiedName());
  }
}
