{
  return new InputStream(){
    public int read() throws IOException {
      int result=inputStream.read();
      final OutputStream logStream=getInputLogStream();
      logStream.write(result);
      if (result == '\n') {
        logStream.flush();
      }
      return result;
    }
    public void close() throws IOException {
      myCloseCount++;
      if (myCloseCount == 2 && myLogOutput != null) {
        myLogOutput.close();
        myLogOutput=null;
        myCloseCount=0;
      }
    }
    public int read(    byte[] b,    int off,    int len) throws IOException {
      if (len == 0)       return 0;
      final int read=read();
      if (read == -1)       return -1;
      b[off]=(byte)read;
      return 1;
    }
  }
;
}
