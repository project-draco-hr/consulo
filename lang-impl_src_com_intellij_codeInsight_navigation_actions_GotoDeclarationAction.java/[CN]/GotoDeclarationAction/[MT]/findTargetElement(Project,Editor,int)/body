{
  PsiFile file=PsiDocumentManager.getInstance(project).getPsiFile(editor.getDocument());
  if (file == null) {
    return null;
  }
  PsiElement elementAt=file.findElementAt(offset);
  for (  GotoDeclarationHandler handler : Extensions.getExtensions(GotoDeclarationHandler.EP_NAME)) {
    PsiElement result=handler.getGotoDeclarationTarget(elementAt);
    if (result != null) {
      return result;
    }
  }
  int flags=TargetElementUtilBase.getInstance().getAllAccepted() & ~TargetElementUtilBase.ELEMENT_NAME_ACCEPTED;
  return TargetElementUtilBase.findTargetElement(editor,flags);
}
