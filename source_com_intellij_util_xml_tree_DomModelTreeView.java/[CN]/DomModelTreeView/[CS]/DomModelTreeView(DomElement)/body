{
  myRootElement=rootElement;
  myTree=new SimpleTree(new DefaultTreeModel(new DefaultMutableTreeNode()));
  myTree.setRootVisible(false);
  myTree.setShowsRootHandles(true);
  ToolTipManager.sharedInstance().registerComponent(myTree);
  TreeUtil.installActions(myTree);
  final SimpleTreeStructure treeStructure=rootElement != null ? getTreeStructure(rootElement) : new SimpleTreeStructure(){
    public Object getRootElement(){
      return null;
    }
  }
;
  myBuilder=new SimpleTreeBuilder(myTree,(DefaultTreeModel)myTree.getModel(),treeStructure,WeightBasedComparator.INSTANCE);
  myBuilder.setNodeDescriptorComparator(null);
  myBuilder.initRoot();
  add(myTree,BorderLayout.CENTER);
  add(getToolbarPane(),BorderLayout.NORTH);
  myDomEventListener=new DomEventListener(){
    public void eventOccured(    DomEvent event){
      myBuilder.updateFromRoot(true);
    }
  }
;
  myDomManager=rootElement.getManager();
  myDomManager.addDomEventListener(myDomEventListener);
}
