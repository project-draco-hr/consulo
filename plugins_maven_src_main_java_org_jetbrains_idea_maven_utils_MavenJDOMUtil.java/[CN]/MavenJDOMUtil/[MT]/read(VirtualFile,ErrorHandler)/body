{
  String text=ApplicationManager.getApplication().runReadAction(new Computable<String>(){
    public String compute(){
      if (!file.isValid())       return null;
      try {
        return VfsUtil.loadText(file);
      }
 catch (      IOException e) {
        if (handler != null)         handler.onReadError(e);
        return null;
      }
    }
  }
);
  if (text == null)   return null;
  return doRead(text,handler);
}
