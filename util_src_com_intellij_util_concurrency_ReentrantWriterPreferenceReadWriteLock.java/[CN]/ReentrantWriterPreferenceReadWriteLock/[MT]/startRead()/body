{
  Thread t=Thread.currentThread();
  int c=readers_.get(t);
  if (c > 0) {
    readers_.put(t,c + 1);
    ++activeReaders_;
    return true;
  }
 else   if (allowReader()) {
    hasReadLock.set(true);
    readers_.put(t,1);
    ++activeReaders_;
    return true;
  }
 else   return false;
}
