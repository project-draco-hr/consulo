{
  if (requiredLength < 2048) {
    int capacity=1;
    while (requiredLength != 0) {
      capacity*=2;
      requiredLength/=2;
    }
    return capacity;
  }
 else {
    return requiredLength * 3 / 2;
  }
}
