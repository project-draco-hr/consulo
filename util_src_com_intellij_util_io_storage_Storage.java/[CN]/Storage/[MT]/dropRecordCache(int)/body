{
synchronized (ourAppendersCache) {
    final AppenderCacheKey key=new AppenderCacheKey(record,this);
    final AppenderStream stream=ourAppendersCache.get(key);
    if (stream != null) {
      try {
        stream.realClose();
      }
 catch (      IOException e) {
        throw new RuntimeException(e);
      }
    }
    ourAppendersCache.remove(key);
  }
}
