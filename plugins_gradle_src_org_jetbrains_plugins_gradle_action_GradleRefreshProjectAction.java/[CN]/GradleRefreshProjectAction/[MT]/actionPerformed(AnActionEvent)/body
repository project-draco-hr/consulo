{
  final Project project=PlatformDataKeys.PROJECT.getData(e.getDataContext());
  if (project == null) {
    e.getPresentation().setVisible(false);
    return;
  }
  final String projectPath=GradleSettings.getInstance(project).LINKED_PROJECT_FILE_PATH;
  myInProgress.set(true);
  ProgressManager.getInstance().run(new Task.Backgroundable(project,GradleBundle.message("gradle.sync.progress.text")){
    @Override public void run(    @NotNull final ProgressIndicator indicator){
      try {
        GradleResolveProjectTask task=new GradleResolveProjectTask(project,projectPath,true);
        task.execute(indicator);
      }
  finally {
        myInProgress.set(false);
      }
    }
  }
);
}
