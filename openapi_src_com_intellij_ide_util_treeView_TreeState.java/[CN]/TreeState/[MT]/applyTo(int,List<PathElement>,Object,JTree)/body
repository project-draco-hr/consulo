{
  if (!(root instanceof DefaultMutableTreeNode))   return false;
  final DefaultMutableTreeNode treeNode=((DefaultMutableTreeNode)root);
  final Object userObject=treeNode.getUserObject();
  if (!(userObject instanceof NodeDescriptor))   return false;
  final NodeDescriptor nodeDescriptor=((NodeDescriptor)userObject);
  final PathElement pathElement=path.get(positionInPath);
  if (!pathElement.matchedWith(nodeDescriptor))   return false;
  final TreePath currentPath=new TreePath(treeNode.getPath());
  if (!tree.isExpanded(currentPath)) {
    tree.expandPath(currentPath);
  }
  if (positionInPath == path.size() - 1) {
    return true;
  }
  for (int j=0; j < treeNode.getChildCount(); j++) {
    final TreeNode child=treeNode.getChildAt(j);
    final boolean resultFromChild=applyTo(positionInPath + 1,path,child,tree);
    if (resultFromChild) {
      break;
    }
  }
  return true;
}
