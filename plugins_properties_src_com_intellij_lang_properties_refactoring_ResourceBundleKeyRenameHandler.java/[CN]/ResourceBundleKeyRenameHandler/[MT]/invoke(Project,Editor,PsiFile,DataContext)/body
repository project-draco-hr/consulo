{
  ResourceBundleEditor bundleEditor=ResourceBundleUtil.getEditor(dataContext);
  if (bundleEditor == null) {
    return;
  }
  String propertyName=bundleEditor.getState(FileEditorStateLevel.NAVIGATION).getPropertyName();
  if (propertyName == null) {
    return;
  }
  ResourceBundle bundle=ResourceBundleUtil.getResourceBundleFromDataContext(dataContext);
  if (bundle == null) {
    return;
  }
  Messages.showInputDialog(project,PropertiesBundle.message("rename.bundle.enter.new.resource.bundle.key.name.prompt.text"),PropertiesBundle.message("rename.resource.bundle.key.dialog.title"),Messages.getQuestionIcon(),propertyName,new ResourceBundleKeyRenameValidator(project,bundleEditor,bundle,propertyName));
}
