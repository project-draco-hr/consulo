{
  if (!(token instanceof XmlTemplateToken)) {
    throw new IllegalArgumentException();
  }
  XmlTemplateToken xmlTemplateToken=(XmlTemplateToken)token;
  XmlFile file=xmlTemplateToken.getFile();
  XmlDocument document=file.getDocument();
  if (document != null) {
    XmlTag tag=document.getRootTag();
    if (tag != null) {
      return toString(tag,xmlTemplateToken.getAttribute2Value(),hasChildren,context);
    }
  }
  return file.getText();
}
