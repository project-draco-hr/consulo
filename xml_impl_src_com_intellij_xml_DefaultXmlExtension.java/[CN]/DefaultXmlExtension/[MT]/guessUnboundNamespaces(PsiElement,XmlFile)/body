{
  if (!(element instanceof XmlTag)) {
    return Collections.emptySet();
  }
  final XmlTag tag=(XmlTag)element;
  final String name=tag.getLocalName();
  final Set<String> byTagName=getNamespacesByTagName(name,file);
  if (!byTagName.isEmpty()) {
    byTagName.removeAll(Arrays.asList(tag.knownNamespaces()));
    return byTagName;
  }
  final String[] strings=CreateNSDeclarationIntentionFix.guessNamespace(file,name,false);
  final List<String> list=Arrays.asList(strings);
  final HashSet<String> set=new HashSet<String>(list);
  set.removeAll(Arrays.asList(tag.knownNamespaces()));
  return set;
}
