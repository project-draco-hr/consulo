{
  final Set<String> namespaces=new HashSet<String>(Arrays.asList(context.knownNamespaces()));
  final List<XmlSchemaProvider> providers=XmlSchemaProvider.getAvailableProviders(file);
  for (  XmlSchemaProvider provider : providers) {
    namespaces.addAll(provider.getAvailableNamespaces(file,null));
  }
  final ArrayList<String> nsInfo=new ArrayList<String>();
  final String[] names=TagNameReference.getTagNameVariants(context,namespaces,nsInfo);
  final List<Pair<String,String>> set=new ArrayList<Pair<String,String>>(names.length);
  final Iterator<String> iterator=nsInfo.iterator();
  for (  String name : names) {
    final int pos=name.indexOf(':');
    final String s=pos >= 0 ? name.substring(pos + 1) : name;
    set.add(Pair.create(s,iterator.next()));
  }
  return set;
}
