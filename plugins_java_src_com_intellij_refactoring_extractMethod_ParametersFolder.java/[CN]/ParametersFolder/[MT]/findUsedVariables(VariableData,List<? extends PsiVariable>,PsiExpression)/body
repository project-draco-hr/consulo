{
  final Set<PsiVariable> found=new HashSet<PsiVariable>();
  expression.accept(new JavaRecursiveElementVisitor(){
    @Override public void visitReferenceExpression(    PsiReferenceExpression referenceExpression){
      super.visitReferenceExpression(referenceExpression);
      PsiElement resolved=referenceExpression.resolve();
      if (resolved instanceof PsiVariable && inputVariables.contains(resolved)) {
        found.add((PsiVariable)resolved);
      }
    }
  }
);
  found.remove(data.variable);
  return found;
}
