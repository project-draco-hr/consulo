{
  ModulesConfigurator modulesConfigurator=myContext.myModulesConfigurator;
  if (!modulesConfigurator.deleteModule(module)) {
    return false;
  }
  List<Facet> removed=modulesConfigurator.getFacetsConfigurator().removeAllFacets(module);
  FacetStructureConfigurable.getInstance(myProject).removeFacetNodes(removed);
  myContext.myValidityCache.remove(module);
  myContext.invalidateModules(myContext.myModulesDependencyCache.get(module));
  myContext.myModulesDependencyCache.remove(module);
  return true;
}
