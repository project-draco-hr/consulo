{
  final ModuleEditor moduleEditor=myContext.myModulesConfigurator.getModuleEditor(module);
  LOG.assertTrue(moduleEditor != null,"Current module editor was not initialized");
  final ModifiableRootModel modelProxy=moduleEditor.getModifiableRootModelProxy();
  final OrderEntry[] entries=modelProxy.getOrderEntries();
  for (  OrderEntry entry : entries) {
    if (entry instanceof LibraryOrderEntry && Comparing.strEqual(entry.getPresentableName(),library.getName())) {
      modelProxy.removeOrderEntry(entry);
      break;
    }
  }
  myContext.getDaemonAnalyzer().queueUpdate(new ModuleProjectStructureElement(myContext,module));
  myTree.repaint();
}
