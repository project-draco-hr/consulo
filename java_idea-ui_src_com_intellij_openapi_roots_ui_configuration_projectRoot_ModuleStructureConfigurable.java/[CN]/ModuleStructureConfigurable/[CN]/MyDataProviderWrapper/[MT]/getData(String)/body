{
  if (DataKeys.MODULE_CONTEXT_ARRAY.is(dataId)) {
    final TreePath[] paths=myTree.getSelectionPaths();
    if (paths != null) {
      ArrayList<Module> modules=new ArrayList<Module>();
      for (      TreePath path : paths) {
        MyNode node=(MyNode)path.getLastPathComponent();
        final NamedConfigurable configurable=node.getConfigurable();
        LOG.assertTrue(configurable != null,"already disposed");
        final Object o=configurable.getEditableObject();
        if (o instanceof Module) {
          modules.add((Module)o);
        }
      }
      return !modules.isEmpty() ? modules.toArray(new Module[modules.size()]) : null;
    }
  }
  if (DataKeys.MODULE_CONTEXT.is(dataId)) {
    return getSelectedModule();
  }
  if (LangDataKeys.MODIFIABLE_MODULE_MODEL.is(dataId)) {
    return myContext.myModulesConfigurator.getModuleModel();
  }
  return null;
}
