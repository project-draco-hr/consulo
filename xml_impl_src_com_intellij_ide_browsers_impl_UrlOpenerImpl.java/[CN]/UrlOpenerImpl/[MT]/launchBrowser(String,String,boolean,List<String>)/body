{
  final List<String> command=BrowserUtil.getOpenBrowserCommand(browserPath);
  if (SystemInfo.isMac && ExecUtil.getOpenCommandPath().equals(command.get(0))) {
    if (forceOpenNewInstanceOnMac) {
      command.add("-n");
    }
    command.add(url);
    if (!browserArgs.isEmpty()) {
      if (BrowserUtil.isOpenCommandSupportArgs()) {
        command.add("--args");
        command.addAll(browserArgs);
      }
 else {
        LOG.warn("'open' command doesn't allow to pass command line arguments so they will be ignored: " + StringUtil.join(browserArgs," "));
      }
    }
  }
 else {
    command.add(url);
    command.addAll(browserArgs);
  }
  if (LOG.isDebugEnabled()) {
    LOG.debug("Launching browser: " + StringUtil.join(browserArgs," "));
  }
  new ProcessBuilder(command).start();
}
