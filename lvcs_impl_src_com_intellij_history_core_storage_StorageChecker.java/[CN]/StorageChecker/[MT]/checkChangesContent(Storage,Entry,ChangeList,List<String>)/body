{
  final Set<Content> allContents=new HashSet<Content>();
  try {
    cl.getAcceptFun(root,new ChangeVisitor(){
      @Override public void visit(      StructuralChange c){
        allContents.addAll(c.getContentsToPurge());
      }
    }
,false).doAccept();
  }
 catch (  IOException e) {
    throw new RuntimeException(e);
  }
  for (  Content c : allContents) {
    checkContent(s,badContents,c,"");
  }
  return allContents.size();
}
