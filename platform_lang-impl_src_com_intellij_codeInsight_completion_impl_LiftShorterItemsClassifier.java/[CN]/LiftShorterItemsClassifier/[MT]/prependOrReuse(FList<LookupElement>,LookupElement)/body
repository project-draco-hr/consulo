{
  IdentityHashMap<LookupElement,FList<LookupElement>> cache=myPrepends.get(tail);
  if (cache == null) {
    myPrepends.put(tail,cache=newIdentityHashMap());
  }
  FList<LookupElement> result=cache.get(head);
  if (result == null) {
    cache.put(head,result=tail.getHead() == head ? tail : tail.prepend(head));
  }
  return result;
}
