{
  myReferences.getSelectionModel().addListSelectionListener(new ListSelectionListener(){
    public void valueChanged(    final ListSelectionEvent e){
      myRemoveButton.setEnabled(myReferences.getSelectedRowCount() != 0);
    }
  }
);
  myRemoveButton.addActionListener(new ActionListener(){
    public void actionPerformed(    final ActionEvent e){
      myReferencesModel.removeSelectedMapping();
    }
  }
);
  myAddAllTagsButton.addActionListener(new ActionListener(){
    public void actionPerformed(    final ActionEvent e){
      myReferencesModel.addMapping(false,tagName("*"),tagName("*"));
    }
  }
);
  myAddAllBranchesButton.addActionListener(new ActionListener(){
    public void actionPerformed(    final ActionEvent e){
      addAllBranches();
    }
  }
);
  myAddButton.addActionListener(new ActionListener(){
    public void actionPerformed(    final ActionEvent e){
      if (myGitRoot == null) {
        throw new IllegalStateException("Git root must be already set at this point.");
      }
      GitRefspecAddRefsDialog d=new GitRefspecAddRefsDialog(myProject,myGitRoot,myRemote,myRemoteTags,myRemoteHeads);
      d.show();
      if (!d.isOK()) {
        return;
      }
      for (      String tag : d.getSelected(true)) {
        myReferencesModel.addMapping(false,tag,tag);
      }
      for (      String head : d.getSelected(false)) {
        myReferencesModel.addMapping(true,head,remoteName(head.substring(GitBranch.REFS_HEADS_PREFIX.length())));
      }
    }
  }
);
  myDefaultButton.addActionListener(new ActionListener(){
    public void actionPerformed(    final ActionEvent e){
      String remote=myRemote;
      setRemote(null);
      setRemote(remote);
    }
  }
);
}
