{
  if (psiClass.hasModifierProperty(PsiModifier.ABSTRACT)) {
    return RefactoringBundle.message("inline.to.anonymous.no.abstract");
  }
  if (ClassInheritorsSearch.search(psiClass).findFirst() != null) {
    return RefactoringBundle.message("inline.to.anonymous.no.inheritors");
  }
  final PsiClass[] interfaces=psiClass.getInterfaces();
  if (interfaces.length > 1) {
    return RefactoringBundle.message("inline.to.anonymous.no.multiple.interfaces");
  }
  if (interfaces.length == 1) {
    final PsiClass superClass=psiClass.getSuperClass();
    if (superClass != null && !CommonClassNames.JAVA_LANG_OBJECT.equals(superClass.getQualifiedName())) {
      return RefactoringBundle.message("inline.to.anonymous.no.superclass.and.interface");
    }
  }
  return null;
}
