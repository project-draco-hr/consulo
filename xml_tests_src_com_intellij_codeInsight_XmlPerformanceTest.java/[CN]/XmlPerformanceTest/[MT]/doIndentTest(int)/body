{
  configureByFile(getBasePath() + getTestName(false) + ".xml");
  doHighlighting();
  myEditor.getSelectionModel().setSelection(0,myEditor.getDocument().getTextLength());
  PlatformTestUtil.startPerformanceTest("Fix long indent/unindent " + time,time,new ThrowableRunnable(){
    @Override public void run(){
      EditorActionManager.getInstance().getActionHandler("EditorIndentSelection").execute(myEditor,new DataContext(){
        @Override @Nullable public Object getData(        String dataId){
          return null;
        }
      }
);
      EditorActionManager.getInstance().getActionHandler("EditorUnindentSelection").execute(myEditor,new DataContext(){
        @Override @Nullable public Object getData(        String dataId){
          return null;
        }
      }
);
    }
  }
).assertTiming();
  final int startOffset=myEditor.getCaretModel().getOffset();
  myEditor.getSelectionModel().setSelection(startOffset,startOffset);
  checkResultByFile(getBasePath() + getTestName(false) + ".xml");
}
