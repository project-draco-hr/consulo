{
  while (true) {
    KeyFMap map=myUserMap;
    T oldValue=map.get(key);
    if (oldValue != null) {
      return oldValue;
    }
    KeyFMap newMap=map.plus(key,value);
    if (newMap == map || updater.compareAndSet(this,map,newMap)) {
      return value;
    }
  }
}
