{
  final LinkedHashSet<ManagedLibrary> libraries=new LinkedHashSet<ManagedLibrary>();
  for (  OrderEntry entry : myEditorContext.getModifiableRootModel().getOrderEntries()) {
    if (entry instanceof LibraryOrderEntry) {
      final Library library=((LibraryOrderEntry)entry).getLibrary();
      if (library != null) {
        final LibraryManager manager=findManagerFor(library);
        if (manager != null) {
          libraries.add(new ManagedLibrary(library,manager));
        }
      }
    }
  }
  return libraries;
}
