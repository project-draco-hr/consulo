{
  myType=type;
  String resourceType=type.getName();
  Collection<String> resourceNames=manager.getValueResourceNames(resourceType);
  for (  String resourceName : resourceNames) {
    myItems.add(new ResourceItem(this,resourceName,null,RESOURCE_ITEM_ICON));
  }
  Set<String> fileNames=new HashSet<String>();
  List<VirtualFile> dirs=manager.getResourceSubdirs(resourceType);
  for (  VirtualFile dir : dirs) {
    for (    VirtualFile resourceFile : dir.getChildren()) {
      if (!resourceFile.isDirectory()) {
        String fileName=AndroidCommonUtils.getResourceName(resourceType,resourceFile.getName());
        if (fileNames.add(fileName)) {
          myItems.add(new ResourceItem(this,fileName,resourceFile,resourceFile.getFileType().getIcon()));
        }
      }
    }
  }
  if (type == ResourceType.ID) {
    for (    String id : manager.getIds()) {
      if (!resourceNames.contains(id)) {
        myItems.add(new ResourceItem(this,id,null,RESOURCE_ITEM_ICON));
      }
    }
  }
  Collections.sort(myItems,new Comparator<ResourceItem>(){
    @Override public int compare(    ResourceItem resource1,    ResourceItem resource2){
      return resource1.toString().compareTo(resource2.toString());
    }
  }
);
}
