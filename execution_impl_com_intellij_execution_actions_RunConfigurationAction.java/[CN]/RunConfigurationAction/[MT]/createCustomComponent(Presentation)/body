{
  return new ComboBoxButton(presentation){
    protected void updateButtonSize(){
      super.updateButtonSize();
      final Dimension preferredSize=getPreferredSize();
      final int width=preferredSize.width;
      final int height=preferredSize.height;
      if (width > height * 15) {
        setPreferredSize(new Dimension(height * 15,height));
      }
    }
    public void addNotify(){
      super.addNotify();
      final IdeFrameImpl frame=findFrame(this);
      LOG.assertTrue(frame != null);
      frame.getRootPane().putClientProperty(BUTTON_KEY,this);
    }
  }
;
}
