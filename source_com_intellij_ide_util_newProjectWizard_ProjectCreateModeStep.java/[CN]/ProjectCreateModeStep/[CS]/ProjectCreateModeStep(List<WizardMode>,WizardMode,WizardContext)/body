{
  myModes=modes;
  myWizardContext=wizardContext;
  myWholePanel=new JPanel(new GridBagLayout());
  myWholePanel.setBorder(BorderFactory.createEtchedBorder());
  myMode=selection;
  final Insets insets=new Insets(0,0,0,0);
  GridBagConstraints gc=new GridBagConstraints(0,GridBagConstraints.RELATIVE,1,1,1,0,GridBagConstraints.NORTHWEST,GridBagConstraints.HORIZONTAL,insets,0,0);
  final ButtonGroup group=new ButtonGroup();
  for (  final WizardMode mode : modes) {
    insets.top=15;
    insets.left=5;
    final JRadioButton rb=new JRadioButton(mode.getDisplayName(wizardContext),mode == selection);
    rb.setFont(UIUtil.getLabelFont().deriveFont(Font.BOLD));
    rb.addActionListener(new ActionListener(){
      public void actionPerformed(      final ActionEvent e){
        myMode.onChosen(false);
        myMode=mode;
        myMode.onChosen(true);
        update();
      }
    }
);
    myWholePanel.add(rb,gc);
    group.add(rb);
    insets.top=5;
    insets.left=20;
    final JLabel description=new JLabel(mode.getDescription(wizardContext));
    myWholePanel.add(description,gc);
    final JComponent settings=mode.getAdditionalSettings();
    if (settings != null) {
      myWholePanel.add(settings,gc);
    }
  }
  gc.weighty=1;
  gc.fill=GridBagConstraints.BOTH;
  myWholePanel.add(Box.createVerticalBox(),gc);
}
