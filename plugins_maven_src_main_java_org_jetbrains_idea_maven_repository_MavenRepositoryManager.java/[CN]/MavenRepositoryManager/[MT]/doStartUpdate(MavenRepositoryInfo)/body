{
  new Task.Backgroundable(myProject,"Updating Maven Repositories...",true){
    public void run(    @NotNull ProgressIndicator indicator){
      try {
        List<MavenRepositoryInfo> infos=info != null ? Collections.singletonList(info) : myIndex.getInfos();
        for (        MavenRepositoryInfo each : infos) {
          indicator.setText("Updating [" + each.getId() + "]");
          myIndex.update(each,indicator);
        }
        ApplicationManager.getApplication().invokeLater(new Runnable(){
          public void run(){
            rehighlightAllPoms();
          }
        }
);
      }
 catch (      MavenRepositoryException e) {
        showErrorWhenProjectIsOpen(new MavenException(e));
      }
    }
  }
.queue();
}
