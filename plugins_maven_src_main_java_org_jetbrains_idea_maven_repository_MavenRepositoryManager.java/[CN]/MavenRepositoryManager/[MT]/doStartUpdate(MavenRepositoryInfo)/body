{
  new Task.Backgroundable(myProject,"Updating Maven Repositories...",true){
    public void run(    @NotNull ProgressIndicator indicator){
      try {
        if (i != null) {
          myIndex.update(i,indicator);
        }
 else {
          for (          MavenRepositoryInfo each : myIndex.getInfos()) {
            myIndex.update(each,indicator);
          }
        }
        ApplicationManager.getApplication().invokeLater(new Runnable(){
          public void run(){
            rehighlightAllPoms();
          }
        }
);
      }
 catch (      final MavenRepositoryException e) {
        ApplicationManager.getApplication().invokeLater(new Runnable(){
          public void run(){
            Messages.showErrorDialog(e.getMessage(),"Maven Repository Index");
          }
        }
);
      }
    }
  }
.queue();
}
