{
  myLibraryManager.reset();
  Map<VirtualFile,ScriptingLibraryTable.LibraryModel> map=getMappings();
  for (  ScriptingLibraryTable.LibraryModel value : map.values()) {
    if (value instanceof CompoundLibrary) {
      CompoundLibrary container=(CompoundLibrary)value;
      ScriptingLibraryTable.LibraryModel[] libModels=container.getLibraries().toArray(new ScriptingLibraryTable.LibraryModel[container.getLibraryCount()]);
      for (      ScriptingLibraryTable.LibraryModel libraryModel : libModels) {
        String libName=libraryModel.getName();
        if (myLibraryManager.getLibraryByName(libName) == null) {
          container.removeLibrary(libName);
        }
      }
    }
  }
}
