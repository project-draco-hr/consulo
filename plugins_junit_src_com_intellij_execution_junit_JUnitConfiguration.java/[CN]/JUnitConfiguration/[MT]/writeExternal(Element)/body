{
  super.writeExternal(element);
  RunConfigurationExtension.writeSettings(this,element);
  writeModule(element);
  DefaultJDOMExternalizer.writeExternal(this,element);
  DefaultJDOMExternalizer.writeExternal(getPersistentData(),element);
  EnvironmentVariablesComponent.writeExternal(element,getPersistentData().getEnvs());
  final Element patternsElement=new Element(PATTERNS_EL_NAME);
  for (  String o : getPersistentData().getPatterns().keySet()) {
    final Element patternElement=new Element(PATTERN_EL_NAME);
    patternElement.setAttribute(TEST_CLASS_ATT_NAME,o);
    patternElement.setAttribute(ENABLED_ATT_NAME,String.valueOf(getPersistentData().getPatterns().get(o)));
    patternsElement.addContent(patternElement);
  }
  element.addContent(patternsElement);
  PathMacroManager.getInstance(getProject()).collapsePathsRecursively(element);
}
