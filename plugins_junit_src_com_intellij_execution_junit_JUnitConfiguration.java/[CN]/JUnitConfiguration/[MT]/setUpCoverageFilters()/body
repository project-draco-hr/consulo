{
  if (getCoveragePatterns() == null) {
    final Data persistentData=getPersistentData();
    String pattern=null;
    final String mainClassName=persistentData.getMainClassName();
    if (mainClassName.length() > 0) {
      int index=mainClassName.lastIndexOf('.');
      if (index >= 0) {
        pattern=mainClassName.substring(0,index);
      }
    }
 else {
      final String packageName=persistentData.getPackageName();
      if (packageName != null) {
        pattern=packageName;
      }
    }
    if (pattern != null && pattern.length() > 0) {
      setCoveragePatterns(new String[]{pattern + ".*"});
    }
  }
}
