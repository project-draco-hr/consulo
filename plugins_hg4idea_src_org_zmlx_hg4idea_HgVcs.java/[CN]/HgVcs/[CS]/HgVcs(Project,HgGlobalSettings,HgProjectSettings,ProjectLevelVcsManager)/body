{
  super(project,VCS_NAME);
  this.globalSettings=globalSettings;
  this.projectSettings=projectSettings;
  myVcsManager=vcsManager;
  configurable=new HgProjectConfigurable(projectSettings);
  changeProvider=new HgChangeProvider(project,getKeyInstanceMethod());
  rollbackEnvironment=new HgRollbackEnvironment(project);
  diffProvider=new HgDiffProvider(project);
  historyProvider=new HgHistoryProvider(project);
  checkinEnvironment=new HgCheckinEnvironment(project);
  annotationProvider=new HgAnnotationProvider(project);
  updateEnvironment=new HgUpdateEnvironment(project);
  integrateEnvironment=new HgIntegrateEnvironment(project);
  commitedChangesProvider=new HgCachingCommitedChangesProvider(project);
  myDirStateChangeListener=new HgDirStateChangeListener(myProject);
  myMergeProvider=new HgMergeProvider(myProject);
}
