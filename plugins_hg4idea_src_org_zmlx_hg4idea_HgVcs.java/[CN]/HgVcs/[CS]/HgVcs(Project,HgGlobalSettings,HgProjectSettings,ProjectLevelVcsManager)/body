{
  super(project,VCS_NAME);
  this.globalSettings=globalSettings;
  this.projectSettings=projectSettings;
  myVcsManager=vcsManager;
  changeProvider=new HgChangeProvider(project,getKeyInstanceMethod());
  rollbackEnvironment=new HgRollbackEnvironment(project);
  diffProvider=new HgDiffProvider(project);
  historyProvider=new HgHistoryProvider(project);
  checkinEnvironment=new HgCheckinEnvironment(project);
  annotationProvider=new HgAnnotationProvider(project);
  updateEnvironment=new HgUpdateEnvironment(project);
  commitedChangesProvider=new HgCachingCommitedChangesProvider(project,this);
  myMergeProvider=new HgMergeProvider(myProject);
  myCommitAndPushExecutor=new HgCommitAndPushExecutor(checkinEnvironment);
}
