{
  if (!started) {
    return;
  }
  LocalFileSystem.getInstance().removeVirtualFileListener(virtualFileListener);
  StatusBar statusBar=WindowManager.getInstance().getStatusBar(myProject);
  if (messageBusConnection != null) {
    messageBusConnection.disconnect();
  }
  if (changesUpdaterScheduledFuture != null) {
    changesUpdaterScheduledFuture.cancel(true);
  }
  if (statusBar != null) {
    statusBar.removeCustomIndicationComponent(incomingChangesStatus);
    statusBar.removeCustomIndicationComponent(outgoingChangesStatus);
    statusBar.removeCustomIndicationComponent(hgCurrentBranchStatus);
  }
}
