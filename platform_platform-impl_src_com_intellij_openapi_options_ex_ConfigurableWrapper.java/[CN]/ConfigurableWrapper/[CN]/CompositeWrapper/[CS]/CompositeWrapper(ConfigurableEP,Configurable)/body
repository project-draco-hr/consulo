{
  super(ep);
  if (ep.children == null) {
    kids=EMPTY_ARRAY;
  }
 else {
    kids=ContainerUtil.mapNotNull(ep.getChildren(),new NullableFunction<ConfigurableEP,ConfigurableWrapper>(){
      @Override public ConfigurableWrapper fun(      ConfigurableEP ep){
        return ep.isAvailable() ? new ConfigurableWrapper(ep) : null;
      }
    }
,EMPTY_ARRAY);
  }
  if (ep.childrenEPName != null) {
    ExtensionPoint<Object> childrenEP=Extensions.getArea(ep.getProject()).getExtensionPoint(ep.childrenEPName);
    Object[] extensions=childrenEP.getExtensions();
    if (extensions.length > 0) {
      if (extensions[0] instanceof ConfigurableEP) {
        Configurable[] children=ContainerUtil.mapNotNull(((ConfigurableEP<Configurable>[])extensions),CONFIGURABLE_FUNCTION,new Configurable[0]);
        kids=ArrayUtil.mergeArrays(kids,children);
      }
 else {
        kids=ArrayUtil.mergeArrays(kids,((Composite)getConfigurable()).getConfigurables());
      }
    }
  }
  myKids=kids;
}
