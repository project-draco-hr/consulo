{
  super(project,true);
  myProject=project;
  myValidator=validator;
  init();
  setTitle(UIDesignerBundle.message("title.new.gui.form"));
  setOKActionEnabled(false);
  myCreateBoundClassCheckbox.addChangeListener(new ChangeListener(){
    public void stateChanged(    ChangeEvent e){
      myClassNameTextField.setEnabled(myCreateBoundClassCheckbox.isSelected());
    }
  }
);
  myFormNameTextField.getDocument().addDocumentListener(new DocumentAdapter(){
    protected void textChanged(    DocumentEvent e){
      setOKActionEnabled(myFormNameTextField.getText().length() > 0);
      if (myNeedAdjust) {
        myAdjusting=true;
        myClassNameTextField.setText(myFormNameTextField.getText());
        myAdjusting=false;
      }
    }
  }
);
  myClassNameTextField.getDocument().addDocumentListener(new DocumentAdapter(){
    protected void textChanged(    DocumentEvent e){
      if (!myAdjusting) {
        myNeedAdjust=false;
      }
    }
  }
);
  myBaseLayoutManagerCombo.setModel(new DefaultComboBoxModel(LayoutManagerRegistry.getNonDeprecatedLayoutManagerNames()));
  myBaseLayoutManagerCombo.setRenderer(new ColoredListCellRenderer(){
    protected void customizeCellRenderer(    JList list,    Object value,    int index,    boolean selected,    boolean hasFocus){
      append(LayoutManagerRegistry.getLayoutManagerDisplayName((String)value),SimpleTextAttributes.REGULAR_ATTRIBUTES);
    }
  }
);
  myBaseLayoutManagerCombo.setSelectedItem(GuiDesignerConfiguration.getInstance(project).DEFAULT_LAYOUT_MANAGER);
}
