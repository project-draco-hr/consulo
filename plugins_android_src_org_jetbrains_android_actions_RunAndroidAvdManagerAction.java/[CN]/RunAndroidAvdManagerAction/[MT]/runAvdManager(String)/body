{
  ApplicationManager.getApplication().executeOnPooledThread(new Runnable(){
    @Override public void run(){
      final String toolPath=sdkPath + File.separator + AndroidCommonUtils.toolPath(SdkConstants.androidCmdName());
      GeneralCommandLine commandLine=new GeneralCommandLine();
      commandLine.setExePath(toolPath);
      commandLine.addParameter("avd");
      final StringBuildingOutputProcessor processor=new StringBuildingOutputProcessor();
      try {
        if (AndroidUtils.executeCommand(commandLine,processor,WaitingStrategies.WaitForTime.getInstance(500)) == ExecutionStatus.TIMEOUT) {
          return;
        }
      }
 catch (      ExecutionException e) {
        LOG.error(e);
        return;
      }
      final String message=processor.getMessage();
      if (message.contains("Error")) {
        commandLine=new GeneralCommandLine();
        commandLine.setExePath(toolPath);
        try {
          AndroidUtils.executeCommand(commandLine,null,WaitingStrategies.DoNotWait.getInstance());
        }
 catch (        ExecutionException e) {
          LOG.error(e);
        }
      }
    }
  }
);
}
