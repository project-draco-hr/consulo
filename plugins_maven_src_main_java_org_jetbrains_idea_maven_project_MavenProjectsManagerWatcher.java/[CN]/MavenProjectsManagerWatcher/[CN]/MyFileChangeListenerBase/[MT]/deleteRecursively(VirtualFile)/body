{
  if (isRelevant(f.getPath()))   deleteFile(f);
  if (f.isDirectory()) {
    Collection<VirtualFile> children=f instanceof NewVirtualFile ? ((NewVirtualFile)f).getInDbChildren() : Arrays.asList(f.getChildren());
    for (    VirtualFile each : children) {
      if (each != NullVirtualFile.INSTANCE) {
        deleteRecursively(each);
      }
    }
  }
}
