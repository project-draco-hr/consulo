{
  for (  VFileEvent each : events) {
    if (!isRelevant(each.getPath()))     continue;
    if (each instanceof VFileCreateEvent) {
      VFileCreateEvent createEvent=(VFileCreateEvent)each;
      VirtualFile newChild=createEvent.getParent().findChild(createEvent.getChildName());
      if (newChild != null) {
        updateFile(newChild);
      }
    }
 else     if (each instanceof VFileCopyEvent) {
      VFileCopyEvent copyEvent=(VFileCopyEvent)each;
      VirtualFile newChild=copyEvent.getNewParent().findChild(copyEvent.getNewChildName());
      if (newChild != null) {
        updateFile(newChild);
      }
    }
 else     if (each instanceof VFileContentChangeEvent) {
      updateFile(((VFileContentChangeEvent)each).getFile());
    }
 else     if (each instanceof VFilePropertyChangeEvent) {
      if (((VFilePropertyChangeEvent)each).getPropertyName().equals(VirtualFile.PROP_NAME)) {
        updateFile(((VFilePropertyChangeEvent)each).getFile());
      }
    }
 else     if (each instanceof VFileMoveEvent) {
      updateFile(((VFileMoveEvent)each).getFile());
    }
  }
  apply();
}
