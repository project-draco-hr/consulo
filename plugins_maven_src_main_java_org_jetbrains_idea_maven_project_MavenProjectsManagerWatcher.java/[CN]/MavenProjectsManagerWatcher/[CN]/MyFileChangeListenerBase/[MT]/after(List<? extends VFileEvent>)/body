{
  for (  VFileEvent each : events) {
    if (!isRelevant(each.getPath()))     continue;
    if (each instanceof VFileCreateEvent) {
      VFileCreateEvent createEvent=(VFileCreateEvent)each;
      VirtualFile newChild=createEvent.getParent().findChild(createEvent.getChildName());
      if (newChild != null) {
        updateFile(newChild);
      }
    }
 else     if (each instanceof VFileCopyEvent) {
      VFileCopyEvent copyEvent=(VFileCopyEvent)each;
      VirtualFile newChild=copyEvent.getNewParent().findChild(copyEvent.getNewChildName());
      if (newChild != null) {
        updateFile(newChild);
      }
    }
 else     if (each instanceof VFileContentChangeEvent) {
      VirtualFile virtualFile=each.getFile();
      if (virtualFile == null)       continue;
      Integer oldCrc=virtualFile.getUserData(CONTENT_CRC_KEY);
      if (oldCrc != null) {
        try {
          virtualFile.putUserData(CONTENT_CRC_KEY,null);
          String content=VfsUtil.loadText(virtualFile);
          int newCrc=MavenUtil.getXmlCrc(content);
          if (newCrc == oldCrc)           continue;
        }
 catch (        IOException e) {
        }
      }
      updateFile(virtualFile);
    }
 else     if (each instanceof VFilePropertyChangeEvent) {
      if (isRenamed(each)) {
        updateFile(each.getFile());
      }
    }
 else     if (each instanceof VFileMoveEvent) {
      updateFile(each.getFile());
    }
  }
  apply();
}
