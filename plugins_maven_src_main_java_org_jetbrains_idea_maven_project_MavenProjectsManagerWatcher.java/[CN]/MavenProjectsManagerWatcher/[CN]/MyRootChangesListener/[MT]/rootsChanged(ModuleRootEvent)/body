{
  List<VirtualFile> existingFiles=myTree.getFiles();
  List<VirtualFile> newFiles=new ArrayList<VirtualFile>();
  List<VirtualFile> deletedFiles=new ArrayList<VirtualFile>();
  for (  VirtualFile f : myTree.getExistingManagedFiles()) {
    if (!existingFiles.contains(f)) {
      newFiles.add(f);
    }
  }
  for (  VirtualFile f : existingFiles) {
    if (!f.isValid())     deletedFiles.add(f);
  }
  scheduleUpdate(newFiles,deletedFiles);
}
