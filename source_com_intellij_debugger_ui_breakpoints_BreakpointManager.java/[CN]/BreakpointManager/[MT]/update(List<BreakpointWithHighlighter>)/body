{
  final TIntHashSet intHash=new TIntHashSet();
  for (Iterator<BreakpointWithHighlighter> iterator=breakpoints.iterator(); iterator.hasNext(); ) {
    BreakpointWithHighlighter breakpoint=iterator.next();
    SourcePosition sourcePosition=breakpoint.getSourcePosition();
    breakpoint.reload();
    if (breakpoint.isValid()) {
      if (breakpoint.getSourcePosition().getLine() != sourcePosition.getLine()) {
        fireBreakpointChanged(breakpoint);
      }
      if (intHash.contains(breakpoint.getLineIndex())) {
        remove(breakpoint);
      }
 else {
        intHash.add(breakpoint.getLineIndex());
      }
    }
 else {
      remove(breakpoint);
    }
  }
}
