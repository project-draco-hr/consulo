{
  final TreeElement[] result={null};
  element.acceptTree(new RecursiveTreeElementWalkingVisitor(expandChameleons){
    @Override protected void visitNode(    TreeElement node){
      if (result[0] != null)       return;
      if (commonParent != null) {
        initStrongWhitespaceHolder(commonParent,node,false);
      }
      if (!expandChameleons && isCollapsedChameleon(node) || node instanceof LeafElement || node.getElementType() == searchedType) {
        result[0]=node;
        return;
      }
      super.visitNode(node);
    }
  }
);
  return result[0];
}
