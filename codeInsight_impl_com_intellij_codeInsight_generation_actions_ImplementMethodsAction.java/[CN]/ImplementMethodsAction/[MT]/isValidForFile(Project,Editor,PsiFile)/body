{
  Language language=PsiUtilBase.getLanguageAtOffset(file,editor.getCaretModel().getOffset());
  final LanguageCodeInsightActionHandler codeInsightActionHandler=CodeInsightActions.IMPLEMENT_METHOD.forLanguage(language);
  if (codeInsightActionHandler != null)   return codeInsightActionHandler.isValidFor(editor,file);
  if (!(file instanceof PsiJavaFile)) {
    return false;
  }
  PsiClass aClass=OverrideImplementUtil.getContextClass(project,editor,file,false);
  return aClass != null && !OverrideImplementUtil.getMethodSignaturesToImplement(aClass).isEmpty();
}
