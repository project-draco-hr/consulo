{
  VirtualFile f=root.createChildData(this,"foo.txt");
  getVcs().beginChangeSet();
  f.delete(this);
  root.createChildDirectory(this,"foo.txt");
  getVcs().endChangeSet(null);
  revertLastChange();
  f=root.findChild("foo.txt");
  assertNotNull(f);
  assertFalse(f.isDirectory());
}
