{
  final JList list=new JList(new Vector<PsiMethod>(candidates));
  list.setCellRenderer(new MethodCellRenderer(true,PsiFormatUtil.SHOW_NAME));
  new PopupChooserBuilder(list).setTitle(QuickFixBundle.message("static.import.method.choose.method.to.import")).setMovable(true).setItemChoosenCallback(new Runnable(){
    public void run(){
      PsiMethod selectedValue=(PsiMethod)list.getSelectedValue();
      if (selectedValue == null)       return;
      LOG.assertTrue(selectedValue.isValid());
      doImport(selectedValue);
    }
  }
).createPopup().showInBestPositionFor(editor);
}
