{
  if (!(location instanceof NonCodeSearchDescriptionLocation))   return null;
  final NonCodeSearchDescriptionLocation ncdLocation=(NonCodeSearchDescriptionLocation)location;
  if (element instanceof PsiDirectory) {
    if (ncdLocation.isNonJava()) {
      final String qName=PsiDirectoryFactory.getInstance(element.getProject()).getQualifiedName((PsiDirectory)element,false);
      if (qName.length() > 0)       return qName;
      return null;
    }
    return ((PsiDirectory)element).getName();
  }
  if (element instanceof PsiMetaOwner) {
    final PsiMetaOwner psiMetaOwner=(PsiMetaOwner)element;
    final PsiMetaData metaData=psiMetaOwner.getMetaData();
    if (metaData != null) {
      return metaData.getName();
    }
  }
  if (element instanceof PsiNamedElement) {
    return ((PsiNamedElement)element).getName();
  }
 else {
    LOG.error("Unknown element type: " + element);
    return null;
  }
}
