{
  final GrModifierList modifiers=psi.getModifierList();
  String[] annNames;
  if (modifiers == null) {
    annNames=ArrayUtil.EMPTY_STRING_ARRAY;
  }
 else {
    final GrAnnotation[] annotations=modifiers.getAnnotations();
    annNames=ContainerUtil.map(annotations,new Function<GrAnnotation,String>(){
      @Nullable public String fun(      final GrAnnotation grAnnotation){
        final GrCodeReferenceElement element=grAnnotation.getClassReference();
        if (element == null)         return null;
        return element.getReferenceName();
      }
    }
,new String[annotations.length]);
  }
  Set<String>[] namedParametersArray=new Set[0];
  if (psi instanceof GrFieldImpl) {
    namedParametersArray=psi.getNamedParametersArray();
  }
  return new GrFieldStubImpl(parentStub,StringRef.fromString(psi.getName()),annNames,namedParametersArray,FIELD,GrFieldStubImpl.buildFlags(psi));
}
