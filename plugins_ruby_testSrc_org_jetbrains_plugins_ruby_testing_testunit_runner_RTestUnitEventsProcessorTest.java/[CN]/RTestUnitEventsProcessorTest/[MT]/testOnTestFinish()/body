{
  myEventsProcessor.onTestStart("some_test");
  final String fullName=myEventsProcessor.getFullTestName("some_test");
  final RTestUnitTestProxy proxy=myEventsProcessor.getRunningTestsFullNameToProxy().get(fullName);
  myEventsProcessor.onTestFinish("some_test");
  assertEquals(1,myEventsProcessor.getTestsCurrentCount());
  assertEquals(0,myEventsProcessor.getRunningTestsFullNameToProxy().size());
  assertEquals(0,myEventsProcessor.getFailedTestsSet().size());
  assertFalse(proxy.isDefect());
  assertFalse(proxy.isInProgress());
  final Object rootTreeNode=myTreeModel.getRoot();
  assertEquals(1,myTreeModel.getChildCount(rootTreeNode));
  final RTestUnitTestProxy rootProxy=RTestUnitTestTreeView.getTestProxyFor(rootTreeNode);
  assertNotNull(rootProxy);
  assertSameElements(rootProxy.getChildren(),proxy);
}
