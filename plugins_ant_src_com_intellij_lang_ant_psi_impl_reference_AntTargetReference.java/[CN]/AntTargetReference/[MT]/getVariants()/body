{
  final AntElement element=getElement();
  if (element instanceof AntAntImpl) {
    final PsiFile psiFile=((AntAntImpl)element).getCalledAntFile();
    if (psiFile != null) {
      AntFile antFile;
      if (psiFile instanceof AntFile) {
        antFile=(AntFile)psiFile;
      }
 else {
        antFile=(AntFile)psiFile.getViewProvider().getPsi(AntSupport.getLanguage());
      }
      final AntProject project=(antFile == null) ? null : antFile.getAntProject();
      if (project != null) {
        return project.getTargets();
      }
    }
  }
  return super.getVariants();
}
