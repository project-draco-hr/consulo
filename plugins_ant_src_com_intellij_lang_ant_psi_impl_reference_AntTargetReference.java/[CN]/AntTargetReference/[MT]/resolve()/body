{
  final String name=getCanonicalRepresentationText();
  if (name == null)   return null;
  final AntElement element=getElement();
  AntTarget result=null;
  if (element instanceof AntAntImpl) {
    final PsiFile psiFile=((AntAntImpl)element).getCalledAntFile();
    if (psiFile != null) {
      AntFile antFile=AntSupport.getAntFile(psiFile);
      if (antFile != null) {
        final AntProject antProject=antFile.getAntProject();
        if (antProject != null) {
          result=antProject.getTarget(name);
        }
      }
    }
  }
  if (result == null) {
    final AntProject project=element.getAntProject();
    result=project.getTarget(name);
    if (result == null) {
      for (      final AntTarget target : project.getImportedTargets()) {
        if (name.equals(target.getName())) {
          result=target;
          break;
        }
      }
      if (result == null) {
        for (        final AntTarget target : project.getImportedTargets()) {
          if (name.equals(target.getQualifiedName())) {
            result=target;
            break;
          }
        }
      }
    }
  }
  return result;
}
