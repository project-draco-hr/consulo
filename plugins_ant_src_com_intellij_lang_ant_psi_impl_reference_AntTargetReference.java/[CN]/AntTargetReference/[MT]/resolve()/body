{
  final String name=getCanonicalRepresentationText();
  if (name == null)   return null;
  final AntElement element=getElement();
  AntTarget result=null;
  if (element instanceof AntAntImpl) {
    final PsiFile psiFile=((AntAntImpl)element).getCalledAntFile();
    if (psiFile != null) {
      AntFile antFile;
      if (psiFile instanceof AntFile) {
        antFile=(AntFile)psiFile;
      }
 else {
        antFile=(AntFile)psiFile.getViewProvider().getPsi(AntSupport.getLanguage());
      }
      if (antFile != null) {
        final AntProject antProject=antFile.getAntProject();
        if (antProject != null) {
          result=antProject.getTarget(name);
        }
      }
    }
  }
  if (result == null) {
    final AntProject project=element.getAntProject();
    result=project.getTarget(name);
    if (result == null) {
      for (      final AntTarget target : project.getImportedTargets()) {
        if (name.equals(target.getName())) {
          return target;
        }
      }
    }
  }
  return result;
}
