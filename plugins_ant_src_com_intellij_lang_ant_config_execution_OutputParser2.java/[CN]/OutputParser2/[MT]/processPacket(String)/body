{
  SegmentReader reader=new SegmentReader(packet);
  int index=reader.readInt();
  if (myLastPacketIndex + 1 < index) {
    LOG.error("last: " + myLastPacketIndex + " current: "+ index);
  }
  if (myLastPacketIndex + 1 > index)   return;
  myLastPacketIndex++;
  char id=reader.readChar();
  if (id == IdeaAntLogger2.INPUT_REQUEST) {
    try {
      InputRequestHandler.processInput(getProject(),reader,getProcessHandler());
    }
 catch (    IOException e) {
      MessagesEx.error(getProject(),e.getMessage()).showLater();
    }
  }
 else {
    int priority=reader.readInt();
    char contentType=reader.readChar();
    String message=reader.readLimitedString();
switch (id) {
case IdeaAntLogger2.BUILD_END:
      if (contentType == IdeaAntLogger2.EXCEPTION_CONTENT) {
        processTag(IdeaAntLogger2.EXCEPTION,message,priority);
      }
    break;
default :
  processTag(id,message,priority);
}
}
}
