{
  enableSilentOperation(VcsConfiguration.StandardConfirmation.ADD);
  run2variants(new MyRunner(){
    private String myName="a.txt";
    private String myRenamedName="aRenamed.txt";
    @Override protected void run() throws Exception {
      final VirtualFile file=createFileInCommand(myWorkingCopyDir,myName,"123");
      myDirtyScopeManager.markEverythingDirty();
      myChangeListManager.ensureUpToDate(false);
      checkinFile(file,FileStatus.ADDED);
      renameFileInCommand(file,myRenamedName);
      myDirtyScopeManager.markEverythingDirty();
      myChangeListManager.ensureUpToDate(false);
      checkinFile(file,FileStatus.MODIFIED);
    }
    @Override protected void cleanup() throws Exception {
      myName="b.txt";
      myRenamedName="bRenamed.txt";
    }
  }
);
}
