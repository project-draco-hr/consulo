{
  final List<PomModelAspect> allDependants=getAllDependants(aspect);
  final Iterator<PomModelAspect> iterator=allDependants.iterator();
  while (iterator.hasNext()) {
    final PomModelAspect pomModelAspect=iterator.next();
    final ListIterator<Pair<PomModelAspect,PomTransaction>> blocksIterator=myBlockedAspects.listIterator(myBlockedAspects.size());
    while (blocksIterator.hasPrevious()) {
      final Pair<PomModelAspect,PomTransaction> pair=blocksIterator.previous();
      if (pomModelAspect == pair.getFirst() && PsiTreeUtil.isAncestor(pair.getSecond().getChangeScope(),transaction.getChangeScope(),false)) {
        return pair;
      }
    }
  }
  return null;
}
