{
  final ProgressIndicator progressIndicator=ProgressManager.getInstance().getProgressIndicator();
  if (progressIndicator != null)   progressIndicator.startNonCancelableSection();
  try {
synchronized (PsiLock.LOCK) {
      myBlockedAspects.push(aspect);
      final PomModelEvent event;
      try {
        event=transaction.run();
        if (event == null)         return;
      }
 catch (      IncorrectOperationException ioe) {
        return;
      }
 finally {
        myBlockedAspects.pop();
      }
      final List<PomModelAspect> dependants=getAllDependants(aspect);
{
        final Iterator<PomModelAspect> depsIter=dependants.iterator();
        while (depsIter.hasNext()) {
          final PomModelAspect modelAspect=depsIter.next();
          if (myBlockedAspects.contains(modelAspect))           continue;
          modelAspect.update(event);
        }
      }
{
        final Iterator<PomModelListener> listenersIterator=myListeners.iterator();
        while (listenersIterator.hasNext())         listenersIterator.next().modelChanged(event);
      }
    }
  }
  finally {
    if (progressIndicator != null)     progressIndicator.finishNonCancelableSection();
  }
}
