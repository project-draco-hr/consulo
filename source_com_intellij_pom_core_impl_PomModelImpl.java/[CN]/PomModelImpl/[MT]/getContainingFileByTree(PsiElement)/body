{
  LOG.assertTrue(changeScope != null);
  final PsiFile psiFile;
  final ASTNode node=changeScope.getNode();
  if (node == null) {
    psiFile=changeScope.getContainingFile();
  }
 else {
    final FileElement fileElement=TreeUtil.getFileElement((TreeElement)node);
    if (fileElement == null)     return null;
    psiFile=(PsiFile)fileElement.getPsi();
  }
  return psiFile.getLanguage() == psiFile.getViewProvider().getBaseLanguage() ? psiFile : null;
}
