{
  if (lastParent == null)   return true;
  final PsiSwitchStatement switchStatement=getEnclosingSwitchStatement();
  if (switchStatement != null) {
    final PsiExpression expression=switchStatement.getExpression();
    if (expression != null && expression.getType() instanceof PsiClassType) {
      final PsiClass aClass=((PsiClassType)expression.getType()).resolve();
      if (aClass != null)       aClass.processDeclarations(new FilterScopeProcessor(ElementClassFilter.ENUM_CONST,processor),state,this,place);
    }
  }
  return true;
}
