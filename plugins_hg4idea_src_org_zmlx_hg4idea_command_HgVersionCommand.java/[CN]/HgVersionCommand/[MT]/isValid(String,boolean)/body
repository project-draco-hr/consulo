{
  String hgExecutable=StringUtils.trim(executable);
  if (!hgExecutable.endsWith(HgVcs.HG_EXECUTABLE_FILE_NAME)) {
    return false;
  }
  ShellCommand shellCommand=new ShellCommand(isRunViaBash);
  try {
    return !shellCommand.execute(Arrays.asList(hgExecutable,"version"),null,Charset.defaultCharset()).getOutputLines().isEmpty();
  }
 catch (  ShellCommandException e) {
    return false;
  }
catch (  Exception e) {
    return false;
  }
}
