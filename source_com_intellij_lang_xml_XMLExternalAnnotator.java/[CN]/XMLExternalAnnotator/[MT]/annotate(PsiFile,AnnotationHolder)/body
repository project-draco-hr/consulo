{
  myHolder=holder;
  final XmlDocument document=((XmlFile)file).getDocument();
  XmlTag rootTag=document.getRootTag();
  XmlNSDescriptor nsDescriptor=rootTag == null ? null : rootTag.getNSDescriptor(rootTag.getNamespace(),false);
  final Project project=file.getProject();
  final Document doc=PsiDocumentManager.getInstance(project).getDocument(file);
  final HighlightInfo[] errors=DaemonCodeAnalyzerImpl.getHighlights(doc,HighlightSeverity.ERROR,project);
  if (errors.length > 0)   return;
  if (nsDescriptor instanceof Validator) {
    ((Validator)nsDescriptor).validate(document,this);
  }
}
