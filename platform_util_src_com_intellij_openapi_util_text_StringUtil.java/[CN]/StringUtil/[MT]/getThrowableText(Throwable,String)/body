{
  @NonNls final String prefix="\tat ";
  final String skipPattern=prefix + stackFrameSkipPattern;
  final StringWriter stringWriter=new StringWriter();
  final PrintWriter writer=new PrintWriter(stringWriter){
    boolean skipping=false;
    public void println(    final String x){
      if (x != null) {
        if (!skipping && x.startsWith(skipPattern))         skipping=true;
 else         if (skipping && !x.startsWith(prefix))         skipping=false;
      }
      if (skipping)       return;
      super.println(x);
    }
  }
;
  aThrowable.printStackTrace(writer);
  return stringWriter.getBuffer().toString();
}
