{
  final VirtualFile[] directoriesByPackageName=PackageIndex.getInstance(myProject).getDirectoriesByPackageName(psiPackage.getQualifiedName(),false);
  for (  VirtualFile dir : directoriesByPackageName) {
    final VirtualFile[] children=dir.getChildren();
    for (    VirtualFile child : children) {
      final PsiFile file=PsiManager.getInstance(myProject).findFile(child);
      if (file != null) {
        if (!file.processDeclarations(processor,state,psiPackage,place)) {
          return false;
        }
      }
    }
  }
  return true;
}
