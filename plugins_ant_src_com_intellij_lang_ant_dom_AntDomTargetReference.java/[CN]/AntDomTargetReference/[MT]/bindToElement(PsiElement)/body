{
  final DomElement targetDomElement=toDomElement(element);
  if (targetDomElement != null) {
    final AntDomTarget pointingToTarget=targetDomElement.getParentOfType(AntDomTarget.class,false);
    if (pointingToTarget != null) {
      final TargetResolver.Result result=doResolve(null);
      if (result != null) {
        final Map<String,AntDomTarget> variants=result.getVariants();
        String newName=null;
        for (        Map.Entry<String,AntDomTarget> entry : variants.entrySet()) {
          if (pointingToTarget.equals(entry.getValue())) {
            final String candidate=entry.getKey();
            if (newName == null) {
              newName=candidate;
            }
 else {
              if (candidate.length() < newName.length()) {
                newName=candidate;
              }
            }
          }
        }
        if (newName != null) {
          handleElementRename(newName);
        }
      }
    }
  }
  return getElement();
}
