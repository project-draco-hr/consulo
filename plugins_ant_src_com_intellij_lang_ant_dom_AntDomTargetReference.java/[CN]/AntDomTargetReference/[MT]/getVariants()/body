{
  final TargetResolver.Result result=doResolve(getCanonicalText());
  if (result == null) {
    return EMPTY_ARRAY;
  }
  final Map<String,AntDomTarget> variants=result.getVariants();
  final List resVariants=new ArrayList();
  final Set<String> existing=getExistingNames();
  for (  String s : variants.keySet()) {
    if (existing.contains(s)) {
      continue;
    }
    final LookupElementBuilder builder=LookupElementBuilder.create(s).withCaseSensitivity(false);
    final LookupElement element=AutoCompletionPolicy.GIVE_CHANCE_TO_OVERWRITE.applyPolicy(builder);
    resVariants.add(element);
  }
  return ContainerUtil.toArray(resVariants,new Object[resVariants.size()]);
}
