{
  if (printables.isEmpty())   return;
  final ArrayList<Printable> currentPrintables=new ArrayList<Printable>(printables);
  final Runnable request=new Runnable(){
    @Override public void run(){
synchronized (myFileLock) {
        for (        final Printable printable : currentPrintables) {
          printable.printOn(myPrinter);
        }
        myPrinter.close();
      }
      if (myOutputFile != null && new File(myOutputFile).exists()) {
        try {
          final PrintStream printStream=new PrintStream(new FileOutputStream(new File(myOutputFile),true));
          try {
            for (            Printable currentPrintable : currentPrintables) {
              currentPrintable.printOn(new Printer(){
                @Override public void print(                String text,                ConsoleViewContentType contentType){
                  if (contentType != ConsoleViewContentType.SYSTEM_OUTPUT) {
                    printStream.print(text);
                  }
                }
                @Override public void printHyperlink(                String text,                HyperlinkInfo info){
                  printStream.print(text);
                }
                @Override public void onNewAvailable(                @NotNull Printable printable){
                }
                @Override public void mark(){
                }
              }
);
            }
          }
  finally {
            printStream.close();
          }
        }
 catch (        IOException e) {
          LOG.error(e);
        }
      }
    }
  }
;
  invokeInAlarm(request,ApplicationManager.getApplication().isUnitTestMode());
}
