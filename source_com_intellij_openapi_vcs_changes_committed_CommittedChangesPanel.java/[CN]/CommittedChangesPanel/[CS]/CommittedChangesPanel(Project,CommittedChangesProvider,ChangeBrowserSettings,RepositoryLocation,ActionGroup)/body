{
  super(new BorderLayout());
  mySettings=settings;
  myProject=project;
  myProvider=provider;
  myLocation=location;
  myBrowser=new CommittedChangesTreeBrowser(project,new ArrayList<CommittedChangeList>());
  add(myBrowser,BorderLayout.CENTER);
  myErrorLabel.setForeground(Color.red);
  add(myErrorLabel,BorderLayout.SOUTH);
  JPanel toolbarPanel=new JPanel(new BorderLayout());
  ActionGroup group=(ActionGroup)ActionManager.getInstance().getAction("CommittedChangesToolbar");
  ActionToolbar toolBar=myBrowser.createGroupFilterToolbar(project,group,extraActions);
  toolbarPanel.add(toolBar.getComponent(),BorderLayout.WEST);
  toolbarPanel.add(myFilterComponent,BorderLayout.EAST);
  myBrowser.addToolBar(toolbarPanel);
  myBrowser.setTableContextMenu(group);
  final AnAction anAction=ActionManager.getInstance().getAction("CommittedChanges.Refresh");
  anAction.registerCustomShortcutSet(CommonShortcuts.getRerun(),this);
}
