{
  super(new BorderLayout());
  mySettings=settings;
  myProject=project;
  myProvider=provider;
  myBrowser=new CommittedChangesTreeBrowser(project,new ArrayList<CommittedChangeList>());
  add(myBrowser,BorderLayout.CENTER);
  JPanel toolbarPanel=new JPanel(new BorderLayout());
  ActionGroup group=(ActionGroup)ActionManager.getInstance().getAction("CommittedChangesToolbar");
  DefaultActionGroup toolbarGroup=new DefaultActionGroup();
  toolbarGroup.add(group);
  toolbarGroup.addSeparator();
  toolbarGroup.add(new SelectFilteringAction(myBrowser));
  toolbarGroup.add(new SelectGroupingAction(myBrowser));
  ActionToolbar toolBar=ActionManager.getInstance().createActionToolbar(ActionPlaces.UNKNOWN,toolbarGroup,true);
  toolbarPanel.add(toolBar.getComponent(),BorderLayout.WEST);
  toolbarPanel.add(myFilterComponent,BorderLayout.EAST);
  myBrowser.addToolBar(toolbarPanel);
  myBrowser.setTableContextMenu(group);
  final AnAction anAction=ActionManager.getInstance().getAction("CommittedChanges.Refresh");
  anAction.registerCustomShortcutSet(CommonShortcuts.getRerun(),this);
}
