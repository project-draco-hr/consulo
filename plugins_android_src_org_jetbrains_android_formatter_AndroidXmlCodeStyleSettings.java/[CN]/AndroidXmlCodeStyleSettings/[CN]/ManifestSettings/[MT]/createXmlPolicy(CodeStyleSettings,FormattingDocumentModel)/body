{
  return new AndroidXmlPolicy(settings,this,documentModel){
    @Override public boolean insertLineBreakBeforeTag(    XmlTag xmlTag){
      if (GROUP_TAGS_WITH_SAME_NAME) {
        PsiElement element=getPrevSiblingElement(xmlTag);
        if (element instanceof XmlTag) {
          final String name1=((XmlTag)element).getName();
          final String name2=xmlTag.getName();
          if (!name1.equals(name2)) {
            element=getPrevSiblingElement(element);
            if (element instanceof XmlTag && ((XmlTag)element).getName().equals(name1)) {
              return true;
            }
            element=getNextSiblingElement(xmlTag);
            return element instanceof XmlTag && ((XmlTag)element).getName().equals(name2);
          }
        }
      }
      return false;
    }
    @Override public boolean insertLineBreakAfterTagBegin(    XmlTag tag){
      return GROUP_TAGS_WITH_SAME_NAME && tag.getParentTag() == null;
    }
  }
;
}
