{
  if (myPanel == null)   return false;
  if (myPanel.getRootPane() != null) {
    if (myOption != null) {
      final CodeStyleSettingsPanel activePanel=getActivePanel();
      if (activePanel != null && activePanel.isInitialized()) {
        final Runnable runnable=activePanel.showOption(this,myOption);
        if (runnable != null) {
          runnable.run();
        }
        myOption=null;
      }
    }
  }
  if (getSelectedScheme() != CodeStyleSchemes.getInstance().getCurrentScheme())   return true;
  Set<CodeStyleScheme> configuredSchemesSet=new HashSet<CodeStyleScheme>(getCurrentSchemes());
  Set<CodeStyleScheme> savedSchemesSet=new HashSet<CodeStyleScheme>(Arrays.asList(CodeStyleSchemes.getInstance().getSchemes()));
  if (!configuredSchemesSet.equals(savedSchemesSet))   return true;
  return mySettingsStack.isModified();
}
