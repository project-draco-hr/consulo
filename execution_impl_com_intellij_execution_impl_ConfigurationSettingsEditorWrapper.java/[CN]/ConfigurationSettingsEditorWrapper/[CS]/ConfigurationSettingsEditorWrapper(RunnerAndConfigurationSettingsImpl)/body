{
  myEditor=new ConfigurationSettingsEditor(settings);
  Disposer.register(this,myEditor);
  final RunConfiguration runConfiguration=settings.getConfiguration();
  final RunManagerImpl runManager=RunManagerImpl.getInstanceImpl(runConfiguration.getProject());
  myStepsBeforeLaunch=runManager.getStepsBeforeLaunch(runConfiguration);
  final Set<String> list=runManager.getRegisteredStepsBeforeRun();
  myStepsBeforeLaunchRows=new StepBeforeLaunchRow[list.size()];
  myStepsPanel.setLayout(new GridLayout(list.size(),1));
  int idx=0;
  for (  final String method : list) {
    final StepBeforeLaunchRow stepRow=new StepBeforeLaunchRow(runManager,runConfiguration,myStepsBeforeLaunch,method);
    myStepsPanel.add(stepRow);
    myStepsBeforeLaunchRows[idx++]=stepRow;
  }
  myStoreProjectConfiguration=runManager.isConfigurationShared(settings);
  myCbStoreProjectConfiguration.setSelected(myStoreProjectConfiguration);
  myCbStoreProjectConfiguration.addActionListener(new ActionListener(){
    public void actionPerformed(    ActionEvent e){
      myStoreProjectConfiguration=myCbStoreProjectConfiguration.isSelected();
    }
  }
);
}
