{
  super.updateStep();
  if (getNumberOfSteps() == 0)   return;
  WizardStep currentStep=(WizardStep)getCurrentStepObject();
  if (!currentStep.setActive()) {
    doPreviousAction();
    return;
  }
  currentStep.getPreferredFocusedComponent().requestFocus();
  if (!currentStep.nextIsEnabled()) {
    getNextButton().setEnabled(false);
    getFinishButton().setEnabled(false);
  }
 else {
    getFinishButton().setEnabled((getCurrentStep() + 1) == getNumberOfSteps());
  }
}
