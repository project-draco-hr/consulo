{
  final SVNWCClient wcClient=activeVcs.createWCClient();
  final SvnExcludingIgnoredOperation operation=new SvnExcludingIgnoredOperation(activeVcs.getProject(),new SvnExcludingIgnoredOperation.Operation(){
    public void doOperation(    final VirtualFile virtualFile) throws SVNException {
      final File ioFile=new File(virtualFile.getPath());
      final ProgressIndicator indicator=ProgressManager.getInstance().getProgressIndicator();
      if (indicator != null) {
        indicator.checkCanceled();
        indicator.setText(SvnBundle.message("share.or.import.add.progress.text",virtualFile.getPath()));
      }
      wcClient.doAdd(ioFile,true,false,false,SVNDepth.EMPTY,false,false);
    }
  }
,SVNDepth.INFINITY);
  operation.execute(file);
}
