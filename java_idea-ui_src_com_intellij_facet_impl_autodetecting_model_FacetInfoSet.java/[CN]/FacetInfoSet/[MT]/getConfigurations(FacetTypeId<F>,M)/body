{
  Map<C,FacetInfo2<M>> configurations=new LinkedHashMap<C,FacetInfo2<M>>();
  Collection<FacetInfo2<M>> detectedFacets=myInfosByType.get(typeId).get(module);
  if (detectedFacets != null) {
    for (    FacetInfo2 detected : detectedFacets) {
      if (detected instanceof FacetInfoBackedByFacet) {
        configurations.put((C)detected.getConfiguration(),detected);
      }
    }
    for (    FacetInfo2 detected : detectedFacets) {
      if (!(detected instanceof FacetInfoBackedByFacet)) {
        configurations.put((C)detected.getConfiguration(),detected);
      }
    }
  }
  return configurations;
}
