{
  if (aClass instanceof PsiAnonymousClass) {
    if (aClass instanceof PsiEnumConstantInitializer) {
      PsiEnumConstant enumConstant=((PsiEnumConstantInitializer)aClass).getEnumConstant();
      String name=enumConstant.getName();
      return PsiBundle.message("enum.constant.context",name,getContextName(enumConstant,qualified));
    }
    return PsiBundle.message("anonymous.class.context.display",getContextName(aClass,qualified));
  }
  if (qualified) {
    String qName=aClass.getQualifiedName();
    if (qName != null)     return qName;
  }
  String className=aClass.getName();
  String contextName=getContextName(aClass,qualified);
  return contextName != null ? PsiBundle.message("class.context.display",className,contextName) : className;
}
