{
  final AntDomAntlib antLib=AntSupport.getAntLib(xmlFile);
  if (antLib != null) {
    final List<AntDomTypeDef> defs=new ArrayList<AntDomTypeDef>();
    defs.addAll(antLib.getTaskdefs());
    defs.addAll(antLib.getTypedefs());
    if (!defs.isEmpty()) {
      for (      AntDomTypeDef def : defs) {
        final String tagName=def.getName().getStringValue();
        if (tagName == null) {
          continue;
        }
        final String className=def.getClassName().getStringValue();
        if (className == null) {
          continue;
        }
        registerElement(typedef != null ? typedef : def,tagName,uri,className,loader);
      }
    }
  }
}
