{
  Class clazz=null;
  String error="";
  try {
    clazz=loader.loadClass(classname);
  }
 catch (  ClassNotFoundException e) {
    error=e.getMessage();
    clazz=null;
  }
catch (  NoClassDefFoundError e) {
    error=e.getMessage();
    clazz=null;
  }
catch (  UnsupportedClassVersionError e) {
    error=e.getMessage();
    clazz=null;
  }
  final XmlName xmlName=(nsPrefix == null) ? new XmlName(customTagName) : new XmlName(customTagName,nsPrefix);
  if (clazz != null) {
    myCustomElements.put(xmlName,clazz);
    myDeclarations.put(xmlName,DomService.getInstance().createAnchor(typedef));
  }
 else {
    myErrors.put(xmlName,error);
  }
}
