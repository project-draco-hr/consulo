{
  final AntDomMacroDef macrodef=element.getParentOfType(AntDomMacroDef.class,false);
  if (macrodef != null) {
    return new Pair<AntDomMacroDef,AntDomScriptDef>(macrodef,null);
  }
  for (AntDomCustomElement custom=element.getParentOfType(AntDomCustomElement.class,false); custom != null; custom=custom.getParentOfType(AntDomCustomElement.class,true)) {
    final AntDomNamedElement declaring=getDeclaringElement(custom.getXmlName());
    if (declaring instanceof AntDomMacroDef) {
      return new Pair<AntDomMacroDef,AntDomScriptDef>((AntDomMacroDef)declaring,null);
    }
 else     if (declaring instanceof AntDomScriptDef) {
      return new Pair<AntDomMacroDef,AntDomScriptDef>(null,(AntDomScriptDef)declaring);
    }
  }
  return null;
}
