{
  XmlNSDescriptor nsDescriptor=NSDescriptor;
  if (nsDescriptor == null || !NSDescriptor.getDeclaration().isValid()) {
    final XmlFile file=XmlUtil.getContainingFile(getDeclaration());
    if (file == null)     return null;
    final XmlDocument document=file.getDocument();
    if (document == null)     return null;
    NSDescriptor=nsDescriptor=(XmlNSDescriptor)document.getMetaData();
  }
  return nsDescriptor;
}
