{
  XmlElementDescriptor[] elements=getElementsDescriptorsImpl(context);
  for (  XmlElementDescriptor element1 : elements) {
    final XmlElementDescriptorImpl element=(XmlElementDescriptorImpl)element1;
    final String namespaceByContext=element.getNamespaceByContext(context);
    if (element.getName().equals(localName)) {
      if (namespace == null || namespace.equals(namespaceByContext) || namespaceByContext.equals(XmlUtil.EMPTY_URI) || element.getName(context).equals(fullName) || (namespace.length() == 0) && element.getDefaultName().equals(fullName)) {
        return element;
      }
 else {
        final XmlNSDescriptor descriptor=context instanceof XmlTag ? ((XmlTag)context).getNSDescriptor(namespace,true) : null;
        if (descriptor instanceof XmlNSDescriptorImpl) {
          if (((XmlNSDescriptorImpl)descriptor).getDefaultNamespace().equals(namespaceByContext)) {
            return element;
          }
 else {
            ((XmlNSDescriptorImpl)descriptor).getSubstitutes(localName,namespace);
          }
        }
      }
    }
  }
  TypeDescriptor type=getType(context);
  if (type instanceof ComplexTypeDescriptor) {
    ComplexTypeDescriptor descriptor=(ComplexTypeDescriptor)type;
    if (descriptor.canContainTag(localName,namespace,context)) {
      return new AnyXmlElementDescriptor(this,getNSDescriptor());
    }
  }
  return null;
}
