{
  myVcsManager.removeVcsListener(myVcsListener);
  myVcsChangeAlarm.cancelAllRequests();
  myConnection.disconnect();
  if (ApplicationManager.getApplication().isHeadlessEnvironment())   return;
  if (myToolWindow != null) {
    ToolWindowManager.getInstance(myProject).unregisterToolWindow(TOOLWINDOW_ID);
  }
}
