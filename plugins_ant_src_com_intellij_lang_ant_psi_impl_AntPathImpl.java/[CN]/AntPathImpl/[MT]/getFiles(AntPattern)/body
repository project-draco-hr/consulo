{
  final List<File> files=new ArrayList<File>();
  final File baseDir=getCanonicalFile(".");
  addLocation(baseDir,files,computeAttributeValue(getSourceElement().getAttributeValue("location")));
  final String pathString=computeAttributeValue(getSourceElement().getAttributeValue("path"));
  if (pathString != null) {
    final PathTokenizer tokenizer=new PathTokenizer(pathString);
    while (tokenizer.hasMoreTokens()) {
      addLocation(baseDir,files,tokenizer.nextToken());
    }
  }
  final AntElement[] children=getChildren();
  for (  AntElement child : children) {
    if (child instanceof AntFilesProvider) {
      files.addAll(((AntFilesProvider)child).getFiles());
    }
  }
  return files;
}
