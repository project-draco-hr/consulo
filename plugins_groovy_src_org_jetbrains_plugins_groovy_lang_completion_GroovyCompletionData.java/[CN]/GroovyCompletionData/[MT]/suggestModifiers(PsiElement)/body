{
  if (GroovyCompletionUtil.asSimpleVariable(context) || GroovyCompletionUtil.asTypedMethod(context)) {
    return true;
  }
  if (GroovyCompletionUtil.isFirstElementAfterPossibleModifiersInVariableDeclaration(context,false) && !psiElement().afterLeaf("def").accepts(context)) {
    return true;
  }
  if (psiElement().afterLeaf(MODIFIERS).accepts(context) || psiElement().afterLeaf("synchronized").accepts(context)) {
    return true;
  }
  final PsiElement contextParent=context.getParent();
  if (contextParent instanceof GrReferenceElement && contextParent.getParent() instanceof GrTypeElement) {
    PsiElement parent=contextParent.getParent().getParent();
    if (parent instanceof GrVariableDeclaration && (parent.getParent() instanceof GrTypeDefinitionBody || parent.getParent() instanceof GroovyFile) || parent instanceof GrMethod) {
      return true;
    }
  }
  if (contextParent instanceof GrField) {
    final GrVariable variable=(GrVariable)contextParent;
    if (variable.getTypeElementGroovy() == null) {
      return true;
    }
  }
  if (contextParent instanceof GrExpression && contextParent.getParent() instanceof GroovyFile && GroovyCompletionUtil.isNewStatement(context,false)) {
    return true;
  }
  if (context.getTextRange().getStartOffset() == 0 && !(context instanceof OuterLanguageElement)) {
    return true;
  }
  final PsiElement leaf=GroovyCompletionUtil.getLeafByOffset(context.getTextRange().getStartOffset() - 1,context);
  if (leaf != null && GroovyCompletionUtil.isNewStatement(context,false)) {
    PsiElement parent=leaf.getParent();
    if (parent instanceof GroovyFile) {
      return true;
    }
  }
  return contextParent instanceof GrExpression && contextParent.getParent() instanceof GrApplicationStatement && contextParent.getParent().getParent() instanceof GroovyFile&& GroovyCompletionUtil.isNewStatement(context,false);
}
