{
  if (ApplicationManager.getApplication().isInternal()) {
    return;
  }
  project.getMessageBus().connect().subscribe(ModuleExtension.CHANGE_TOPIC,new ModuleExtensionChangeListener(){
    @Override public void extensionChanged(    @NotNull ModuleExtension<?> oldExtension,    @NotNull ModuleExtension<?> newExtension){
      if (!(oldExtension instanceof JavaModuleExtensionImpl)) {
        return;
      }
      LanguageLevel oldLevel=((JavaModuleExtensionImpl)oldExtension).getLanguageLevel();
      LanguageLevel newLevel=((JavaModuleExtensionImpl)newExtension).getLanguageLevel();
      if (oldLevel == newLevel) {
        return;
      }
      ApplicationManager.getApplication().invokeLater(new Runnable(){
        @Override public void run(){
          showWarning(project);
        }
      }
,ModalityState.NON_MODAL);
    }
  }
);
}
