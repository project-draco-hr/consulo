{
  final WhiteSpace whiteSpace=myWhiteSpaceBeforeBlock.get(rootBlock);
  final BlockInfo info=new BlockInfo(rootBlock);
  myStack.push(info);
  try {
    final List<Block> subBlocks=rootBlock.getSubBlocks();
    if (subBlocks.isEmpty()) {
      processToken(rootBlock,info,spaceProperty,whiteSpace);
    }
 else {
      processCompositeBlock(subBlocks,spaceProperty,rootBlock);
    }
  }
  finally {
    myStack.pop();
  }
}
