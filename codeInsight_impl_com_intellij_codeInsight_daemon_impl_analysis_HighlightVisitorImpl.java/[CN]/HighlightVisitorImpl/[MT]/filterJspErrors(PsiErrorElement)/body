{
  PsiElement nextSibling=element.getNextSibling();
  if (nextSibling == null) {
    final PsiFile containingFile=element.getContainingFile();
    if (containingFile instanceof JspFile) {
      nextSibling=((JspFile)containingFile).getBaseLanguageRoot().findElementAt(element.getTextOffset() + 1);
    }
  }
  while (nextSibling instanceof PsiWhiteSpace) {
    nextSibling=nextSibling.getNextSibling();
  }
  if ((nextSibling instanceof OuterLanguageElement || nextSibling instanceof JspExpression || nextSibling instanceof ELExpressionHolder) && !(PsiTreeUtil.findCommonParent(nextSibling,element) instanceof PsiFile)) {
    return true;
  }
  final XmlAttributeValue parentOfType=PsiTreeUtil.getParentOfType(element,XmlAttributeValue.class);
  if (parentOfType != null && parentOfType.getUserData(DO_NOT_VALIDATE_KEY) != null) {
    return true;
  }
  final ASTNode astNode=TreeUtil.prevLeaf(element.getNode());
  if (astNode != null && astNode.getPsi() instanceof OuterLanguageElement) {
    return true;
  }
  return element.getParent().getUserData(DO_NOT_VALIDATE_KEY) != null;
}
