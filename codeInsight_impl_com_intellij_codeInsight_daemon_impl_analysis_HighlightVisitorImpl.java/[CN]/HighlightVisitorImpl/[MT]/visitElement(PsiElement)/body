{
  Language lang=element.getLanguage();
  List<Annotator> annotators=lang.getAnnotators();
  boolean hasAnnotators=false;
  if (annotators.size() > 0) {
    for (int i=0; i < annotators.size(); i++) {
      annotators.get(i).annotate(element,myAnnotationHolder);
    }
    hasAnnotators=true;
  }
 else   if (element instanceof OuterLanguageElement) {
    myXmlVisitor.visitJspElement((OuterLanguageElement)element);
  }
  final PsiFile psiFile=element.getContainingFile();
  if (psiFile instanceof PsiCodeFragment) {
    Annotator[] fileAnnotators=((PsiCodeFragment)psiFile).getAnnotators();
    if (fileAnnotators.length > 0) {
      for (      final Annotator annotator : fileAnnotators) {
        annotator.annotate(element,myAnnotationHolder);
      }
      hasAnnotators=true;
    }
  }
  if (hasAnnotators) {
    convertAnnotationsToHighlightInfos();
  }
}
