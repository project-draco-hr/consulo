{
  Language lang=element.getLanguage();
  myAnnotationHolder.setWritable(true);
  boolean hasAnnotators=highlightInjectedPsi(element);
  List<Annotator> annotators=lang.getAnnotators();
  if (!annotators.isEmpty()) {
    for (int i=0; i < annotators.size(); i++) {
      Annotator annotator=annotators.get(i);
      annotator.annotate(element,myAnnotationHolder);
    }
    hasAnnotators=true;
  }
  if (element instanceof OuterLanguageElement) {
    XmlHighlightVisitor.visitJspElement((OuterLanguageElement)element);
  }
  if (hasAnnotators) {
    convertAnnotationsToHighlightInfos();
  }
  myAnnotationHolder.setWritable(false);
}
