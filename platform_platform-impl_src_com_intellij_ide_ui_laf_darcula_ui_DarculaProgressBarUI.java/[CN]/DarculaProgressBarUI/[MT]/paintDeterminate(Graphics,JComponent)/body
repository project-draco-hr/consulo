{
  if (!(g instanceof Graphics2D)) {
    return;
  }
  if (progressBar.getOrientation() != SwingConstants.HORIZONTAL || !c.getComponentOrientation().isLeftToRight()) {
    super.paintDeterminate(g,c);
    return;
  }
  GraphicsUtil.setupAAPainting(g);
  Insets b=progressBar.getInsets();
  final int w=progressBar.getWidth();
  final int h=progressBar.getHeight();
  int barRectWidth=w - (b.right + b.left);
  int barRectHeight=h - (b.top + b.bottom);
  if (barRectWidth <= 0 || barRectHeight <= 0) {
    return;
  }
  int amountFull=getAmountFull(b,barRectWidth,barRectHeight);
  g.setColor(c.getParent().getBackground());
  Graphics2D g2=(Graphics2D)g;
  g.fillRect(0,0,w,h);
  g2.setColor(progressBar.getForeground());
  g2.fill(new RoundRectangle2D.Double(0,0,w - 1,h - 1,9,9));
  g2.setColor(c.getParent().getBackground());
  g2.fill(new RoundRectangle2D.Double(1,1,w - 3,h - 3,8,8));
  g2.setColor(UIManager.getColor("ProgressBar.stepColor1"));
  g2.fill(new RoundRectangle2D.Double(2,2,amountFull - 5,h - 5,7,7));
  if (progressBar.isStringPainted()) {
    paintString(g,b.left,b.top,barRectWidth,barRectHeight,amountFull,b);
  }
}
