{
  PsiReference[] refs=mySearchHelper.findReferences(myClass,GlobalSearchScope.projectScope(myProject),false);
  final ArrayList<UsageInfo> result=new ArrayList<UsageInfo>();
  detectTurnToSuperRefs(refs,result);
  final PsiPackage originalPackage=myClass.getContainingFile().getContainingDirectory().getPackage();
  if (Comparing.equal(myTargetDirectory.getPackage(),originalPackage)) {
    result.clear();
  }
  for (int i=0; i < refs.length; i++) {
    final PsiReference ref=refs[i];
    final PsiElement element=ref.getElement();
    if (!canTurnToSuper(element)) {
      result.add(new BindToOldUsageInfo(element,ref,myClass));
    }
  }
  UsageInfo[] usageInfos=(UsageInfo[])result.toArray(new UsageInfo[result.size()]);
  return UsageViewUtil.removeDuplicatedUsages(usageInfos);
}
