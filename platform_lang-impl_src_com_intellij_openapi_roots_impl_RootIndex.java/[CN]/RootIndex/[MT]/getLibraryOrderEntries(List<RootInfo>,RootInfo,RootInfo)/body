{
  LinkedHashSet<OrderEntry> orderEntries=ContainerUtil.newLinkedHashSet();
  for (  RootInfo info : hierarchy) {
    if (info == libraryClassInfo && info.sourceRootOf.isEmpty()) {
      orderEntries.addAll(info.libClassRootEntries);
    }
    if (info == librarySourceInfo && libraryClassInfo == null) {
      orderEntries.addAll(info.libSourceRootEntries);
    }
    if (!info.libClassRootEntries.isEmpty() || !info.sourceRootOf.isEmpty() && librarySourceInfo == null) {
      break;
    }
  }
  return orderEntries;
}
