{
  UnusedDeclarationInspection deadCodeInspection=new UnusedDeclarationInspection();
  enableInspectionTool(deadCodeInspection);
  doTest(true,false);
  ApplicationManager.getApplication().runWriteAction(new Runnable(){
    @Override public void run(){
      PsiDirectory directory=myFile.getParent();
      assertNotNull(myFile.toString(),directory);
      PsiFile txt=directory.createFile("x.txt");
      VirtualFile vFile=txt.getVirtualFile();
      assertNotNull(txt.toString(),vFile);
      try {
        VfsUtil.saveText(vFile,"XXX");
      }
 catch (      IOException e) {
        throw new RuntimeException(e);
      }
    }
  }
);
  List<HighlightInfo> infos=doHighlighting(HighlightSeverity.WARNING);
  assertEmpty(infos);
}
