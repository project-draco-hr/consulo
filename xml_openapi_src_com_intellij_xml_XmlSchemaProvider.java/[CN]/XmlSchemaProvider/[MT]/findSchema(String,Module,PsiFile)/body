{
  final boolean dumb=DumbService.getInstance(file.getProject()).isDumb();
  for (  XmlSchemaProvider provider : Extensions.getExtensions(EP_NAME)) {
    if (dumb && !(provider instanceof DumbAware)) {
      continue;
    }
    if (file instanceof XmlFile && !provider.isAvailable((XmlFile)file)) {
      continue;
    }
    final XmlFile schema=provider.getSchema(url,module,file);
    if (schema != null) {
      return schema;
    }
  }
  return null;
}
