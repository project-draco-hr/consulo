{
  final ReturnTypeFilter valueTypeFilter=new ReturnTypeFilter(new GeneratorFilter(AssignableGroupFilter.class,new ExpectedTypesGetter()));
  if (psiElement().withParent(psiElement(PsiReferenceExpression.class).withParent(PsiThrowStatement.class)).accepts(element)) {
    return new Pair<ElementFilter,TailType>(new ReturnTypeFilter(THROWABLE_TYPE_FILTER),TailType.SEMICOLON);
  }
  if (JavaSmartCompletionData.AFTER_THROW_NEW.accepts(element)) {
    return new Pair<ElementFilter,TailType>(new ElementExtractorFilter(THROWABLE_TYPE_FILTER),TailType.SEMICOLON);
  }
  if (psiElement().inside(psiElement(PsiReferenceList.class).save("refList").withParent(PsiJavaPatterns.psiMethod().withThrowsList(get("refList")))).accepts(element)) {
    return new Pair<ElementFilter,TailType>(new ElementExtractorFilter(new AssignableFromFilter(CommonClassNames.JAVA_LANG_THROWABLE)),TailType.NONE);
  }
  if (JavaSmartCompletionData.AFTER_NEW.accepts(element)) {
    return null;
  }
  if (psiElement().afterLeaf(PsiKeyword.INSTANCEOF).accepts(element)) {
    return null;
  }
  if (psiElement().afterLeaf(psiElement().withText(")").withParent(PsiTypeCastExpression.class)).accepts(element)) {
    return new Pair<ElementFilter,TailType>(new ReturnTypeFilter(new GeneratorFilter(AssignableToFilter.class,new CastTypeGetter())),TailType.NONE);
  }
  if (psiElement().afterLeaf(psiElement().withText("(").withParent(PsiTypeCastExpression.class)).accepts(element)) {
    return null;
  }
  if (psiElement().afterLeaf(psiElement().withText(".")).withSuperParent(2,psiElement(PsiNewExpression.class)).accepts(element)) {
    return new Pair<ElementFilter,TailType>(new GeneratorFilter(AssignableGroupFilter.class,new ExpectedTypesGetter()),TailType.UNKNOWN);
  }
  if (PsiJavaPatterns.psiElement().afterLeaf(PsiKeyword.RETURN).inside(PsiReturnStatement.class).accepts(element)) {
    return new Pair<ElementFilter,TailType>(new AndFilter(valueTypeFilter,new ElementExtractorFilter(new ExcludeDeclaredFilter(new ClassFilter(PsiMethod.class)))),TailType.UNKNOWN);
  }
  if (PsiJavaPatterns.psiElement().inside(PsiAnnotationParameterList.class).accepts(element)) {
    return new Pair<ElementFilter,TailType>(new ElementExtractorFilter(new AndFilter(new ClassFilter(PsiField.class),new ModifierFilter(PsiKeyword.STATIC,PsiKeyword.FINAL),new GeneratorFilter(AssignableGroupFilter.class,new ExpectedTypesGetter()))),TailType.NONE);
  }
  if (PsiJavaPatterns.psiElement().inside(PsiJavaPatterns.psiElement(PsiVariable.class)).accepts(element)) {
    return new Pair<ElementFilter,TailType>(new AndFilter(valueTypeFilter,new ElementExtractorFilter(new ExcludeDeclaredFilter(new ClassFilter(PsiVariable.class))),new ElementExtractorFilter(new ExcludeSillyAssignment())),TailType.NONE);
  }
  return new Pair<ElementFilter,TailType>(new AndFilter(valueTypeFilter,new ElementExtractorFilter(new ExcludeSillyAssignment())),TailType.NONE);
}
