{
  LOG.assertTrue(!myStoppedAlready);
  super.stop();
  UIUtil.invokeLaterIfNeeded(new Runnable(){
    @Override public void run(){
      if (myDialog != null) {
        myDialog.hide();
        if (myDialog.wasShown()) {
          myFocusTrackback.restoreFocus();
        }
 else {
          myFocusTrackback.consume();
        }
      }
      myStoppedAlready=true;
      Disposer.dispose(ProgressWindow.this);
    }
  }
);
  SwingUtilities.invokeLater(EmptyRunnable.INSTANCE);
}
