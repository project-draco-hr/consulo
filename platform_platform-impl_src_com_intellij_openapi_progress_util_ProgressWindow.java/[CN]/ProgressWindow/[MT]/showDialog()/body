{
  if (!isRunning() || isCanceled()) {
    return;
  }
  if (!ApplicationManager.getApplication().isHeadlessEnvironment()) {
    Runnable installer=new Runnable(){
      public void run(){
        if (isRunning() && !isCanceled() && getFraction() < 0.15 && myDialog != null) {
          final JComponent cmp=ProgressManager.getInstance().getProvidedFunComponent(myProject,getProcessId());
          if (cmp != null) {
            setFunComponent(cmp);
          }
        }
      }
    }
;
    myInstallFunAlarm.addRequest(installer,3000,getModalityState());
  }
  myWasShown=true;
  myDialog.show();
  if (myDialog != null) {
    myDialog.myRepaintRunnable.run();
  }
}
