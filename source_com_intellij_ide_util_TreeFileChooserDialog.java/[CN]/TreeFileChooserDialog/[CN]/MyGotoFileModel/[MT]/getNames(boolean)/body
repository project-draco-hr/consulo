{
  final String[] fileNames=PsiManager.getInstance(myProject).getShortNamesCache().getAllFileNames();
  final Set<String> array=new THashSet<String>();
  FileTypeManager fileTypeManager=FileTypeManager.getInstance();
  for (  String fileName : fileNames) {
    if (myFileType != null && fileTypeManager.getFileTypeByFileName(fileName) != myFileType) {
      continue;
    }
    if (!array.contains(fileName)) {
      array.add(fileName);
    }
  }
  final String[] result=array.toArray(new String[array.size()]);
  Arrays.sort(result);
  return result;
}
