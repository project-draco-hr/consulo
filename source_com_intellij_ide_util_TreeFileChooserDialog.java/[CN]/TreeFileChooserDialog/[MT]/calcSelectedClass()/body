{
  if (myTabbedPane.getSelectedIndex() == 0) {
    return (PsiFile)myGotoByNamePanel.getChosenElement();
  }
 else {
    final TreePath path=myTree.getSelectionPath();
    if (path == null)     return null;
    final DefaultMutableTreeNode node=(DefaultMutableTreeNode)path.getLastPathComponent();
    final Object userObject=node.getUserObject();
    if (!(userObject instanceof PsiFileNode))     return null;
    final PsiFileNode descriptor=(PsiFileNode)userObject;
    return descriptor.getValue();
  }
}
