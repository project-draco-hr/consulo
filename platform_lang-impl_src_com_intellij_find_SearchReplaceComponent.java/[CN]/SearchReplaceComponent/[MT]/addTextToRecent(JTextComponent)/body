{
  final String text=textField.getText();
  if (text.length() > 0) {
    FindInProjectSettings findInProjectSettings=FindInProjectSettings.getInstance(myProject);
    if (textField == mySearchTextComponent) {
      findInProjectSettings.addStringToFind(text);
      if (mySearchFieldWrapper.getTargetComponent() instanceof SearchTextField) {
        ((SearchTextField)mySearchFieldWrapper.getTargetComponent()).addCurrentTextToHistory();
      }
    }
 else {
      findInProjectSettings.addStringToReplace(text);
      if (myReplaceFieldWrapper.getTargetComponent() instanceof SearchTextField) {
        ((SearchTextField)myReplaceFieldWrapper.getTargetComponent()).addCurrentTextToHistory();
      }
    }
  }
}
