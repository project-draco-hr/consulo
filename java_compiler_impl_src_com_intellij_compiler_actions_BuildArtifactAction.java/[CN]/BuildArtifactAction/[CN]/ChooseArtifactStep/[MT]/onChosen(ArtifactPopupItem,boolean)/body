{
  if (finalChoice) {
    return doFinalStep(new Runnable(){
      @Override public void run(){
        doBuild(myProject,selectedValue,false);
      }
    }
);
  }
  final List<ArtifactActionItem> actions=new ArrayList<ArtifactActionItem>();
  actions.add(new BuildArtifactItem(selectedValue,myProject));
  actions.add(new RebuildArtifactItem(selectedValue,myProject));
  actions.add(new CleanArtifactItem(selectedValue,myProject));
  if (mySettingsService != null) {
    actions.add(new EditArtifactItem(selectedValue,myProject,mySettingsService));
  }
  return new BaseListPopupStep<ArtifactActionItem>("Action",actions){
    @NotNull @Override public String getTextFor(    ArtifactActionItem value){
      return value.getActionName();
    }
    @Override public PopupStep onChosen(    ArtifactActionItem selectedValue,    boolean finalChoice){
      return doFinalStep(selectedValue);
    }
  }
;
}
