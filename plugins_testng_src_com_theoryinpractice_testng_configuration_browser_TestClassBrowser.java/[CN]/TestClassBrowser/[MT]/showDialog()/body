{
  com.intellij.ide.util.TreeClassChooser.ClassFilterWithScope filter;
  try {
    filter=getFilter();
  }
 catch (  MessageInfoException e) {
    com.intellij.openapi.ui.ex.MessagesEx.MessageInfo message=e.getMessageInfo();
    message.showNow();
    return null;
  }
  TreeClassChooser chooser=TreeClassChooserFactory.getInstance(getProject()).createWithInnerClassesScopeChooser("Choose Test Class",filter.getScope(),filter,null);
  init(chooser);
  chooser.showDialog();
  PsiClass psiclass=chooser.getSelectedClass();
  if (psiclass == null) {
    return null;
  }
 else {
    onClassChoosen(psiclass);
    return ExecutionUtil.getRuntimeQualifiedName(psiclass);
  }
}
