{
  final MyProgressIndicator progress=new MyProgressIndicator();
  final String title=getProgressText();
  if (title != null) {
    myTitleLabel.setText(title);
  }
  showCard(PROGRESS_PANEL);
  myProgressIndicator=progress;
  new SwingWorker(){
    public Object construct(){
      final Ref<Result> result=Ref.create(null);
      ProgressManager.getInstance().runProcess(new Runnable(){
        public void run(){
          result.set(calculate());
        }
      }
,progress);
      return result.get();
    }
    public void finished(){
      myProgressIndicator=null;
      ApplicationManager.getApplication().invokeLater(new Runnable(){
        public void run(){
          final Result result=(Result)get();
          onFinished(result,progress.isCanceled());
          showCard(RESULTS_PANEL);
        }
      }
);
    }
  }
.start();
}
