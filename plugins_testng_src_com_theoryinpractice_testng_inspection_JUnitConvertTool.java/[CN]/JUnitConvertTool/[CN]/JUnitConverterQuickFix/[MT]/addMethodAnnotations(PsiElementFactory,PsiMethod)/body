{
  PsiAnnotation annotation=null;
  if (method.getName().startsWith("test")) {
    annotation=factory.createAnnotationFromText("@org.testng.annotations.Test",method);
  }
 else   if ("setUp".equals(method.getName()) && method.getParameterList().getParameters().length == 0) {
    annotation=factory.createAnnotationFromText("@org.testng.annotations.BeforeMethod",method);
  }
 else   if ("tearDown".equals(method.getName()) && method.getParameterList().getParameters().length == 0) {
    annotation=factory.createAnnotationFromText("@org.testng.annotations.AfterMethod",method);
  }
  if (annotation != null) {
    JavaCodeStyleManager.getInstance(annotation.getProject()).shortenClassReferences(method.getModifierList().addAfter(annotation,null));
  }
}
