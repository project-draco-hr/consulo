{
  return ApplicationManager.getApplication().runWriteAction(new Computable<VirtualFile>(){
    @Override public VirtualFile compute(){
      VirtualFile root=getSourceRoot();
      if (path.length() == 0)       return root;
      String trimPath=StringUtil.trimStart(path,"/");
      final List<String> dirs=StringUtil.split(trimPath,"/");
      for (      String dirName : dirs) {
        VirtualFile dir=root.findChild(dirName);
        if (dir != null) {
          root=dir;
        }
 else {
          try {
            root=root.createChildDirectory(this,dirName);
          }
 catch (          IOException e) {
            throw new RuntimeException(e);
          }
        }
      }
      return root;
    }
  }
);
}
