{
  ApplicationManager.getApplication().runWriteAction(new Runnable(){
    @Override public void run(){
      final VirtualFile[] toDelete;
      if (myUsePlatformSourceRoot) {
        toDelete=getSourceRoot().getChildren();
      }
 else {
        toDelete=new VirtualFile[]{mySourceRoot};
      }
      for (      VirtualFile file : toDelete) {
        try {
          file.delete(this);
        }
 catch (        IOException ignored) {
        }
      }
    }
  }
);
}
