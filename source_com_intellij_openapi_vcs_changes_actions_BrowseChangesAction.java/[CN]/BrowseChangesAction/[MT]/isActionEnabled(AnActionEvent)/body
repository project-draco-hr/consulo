{
  Project project=e.getData(DataKeys.PROJECT);
  if (project == null)   return false;
  VirtualFile vFile=e.getData(DataKeys.VIRTUAL_FILE);
  if (vFile == null)   return false;
  AbstractVcs vcs=ProjectLevelVcsManager.getInstance(project).getVcsFor(vFile);
  if (vcs == null || vcs.getCommittedChangesProvider() == null) {
    return false;
  }
  FilePath filePath=PeerFactory.getInstance().getVcsContextFactory().createFilePathOn(vFile);
  return vcs.fileExistsInVcs(filePath);
}
