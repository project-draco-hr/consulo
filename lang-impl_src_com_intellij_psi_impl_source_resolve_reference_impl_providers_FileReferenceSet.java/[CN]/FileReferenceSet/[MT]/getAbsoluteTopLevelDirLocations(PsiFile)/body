{
  final VirtualFile virtualFile=file.getVirtualFile();
  if (virtualFile == null) {
    return Collections.emptyList();
  }
  final Project project=file.getProject();
  final Module module=ModuleUtil.findModuleForFile(virtualFile,project);
  if (module == null) {
    return Collections.emptyList();
  }
  final FileReferenceHelper[] helpers=FileReferenceHelperRegistrar.getHelpers();
  final ArrayList<PsiFileSystemItem> list=new ArrayList<PsiFileSystemItem>();
  for (  FileReferenceHelper helper : helpers) {
    if (helper.isMine(project,virtualFile)) {
      list.addAll(helper.getRoots(module));
    }
  }
  return list;
}
