{
  myHelper.setForceReturn(myForceReturnCheckBox.isSelected());
  String name=getEnteredName();
  if (name == null)   return;
  GrMethod method=ExtractUtil.createMethod(myHelper);
  if (method != null && !validateMethod(method,myHelper)) {
    return;
  }
  final GroovyApplicationSettings settings=GroovyApplicationSettings.getInstance();
  if (myCbSpecifyType.isEnabled()) {
    settings.EXTRACT_METHOD_SPECIFY_TYPE=myCbSpecifyType.isSelected();
  }
  if (myForceReturnCheckBox.isEnabled()) {
    settings.FORCE_RETURN=myForceReturnCheckBox.isSelected();
  }
  settings.EXTRACT_METHOD_VISIBILITY=myVisibilityPanel.getVisibility();
  super.doOKAction();
}
