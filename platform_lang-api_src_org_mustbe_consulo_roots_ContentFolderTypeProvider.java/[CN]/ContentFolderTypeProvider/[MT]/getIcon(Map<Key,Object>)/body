{
  if (map.isEmpty()) {
    return getIcon();
  }
  IconDescriptor iconDescriptor=new IconDescriptor(getIcon());
  for (  ContentFolderPropertyProvider propertyProvider : ContentFolderPropertyProvider.EP_NAME.getExtensions()) {
    Object value=propertyProvider.getKey().get(map);
    if (value == null) {
      continue;
    }
    Icon layerIcon=propertyProvider.getLayerIcon(value);
    if (layerIcon == null) {
      continue;
    }
    iconDescriptor.addLayerIcon(layerIcon);
  }
  return iconDescriptor.toIcon();
}
