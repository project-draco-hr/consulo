{
  final Document doc=FileDocumentManager.getInstance().getDocument(file);
  final PsiFile psi=doc == null ? null : PsiDocumentManager.getInstance(project).getPsiFile(doc);
  if (psi == null) {
    return null;
  }
  int offset=doc.getLineStartOffset(line);
  int endOffset=doc.getLineEndOffset(line);
  for (int i=offset + 1; i < endOffset; i++) {
    PsiElement el=psi.findElementAt(i);
    if (el != null && !(el instanceof PsiWhiteSpace)) {
      offset=el.getTextOffset();
      break;
    }
  }
  return new OpenFileDescriptor(project,file,offset);
}
