{
  final Module module=ModuleUtil.findModuleForFile(file,project);
  if (module != null) {
    return collapse2eclipsePathRelative2Module(file,module);
  }
 else   if (ProjectRootManager.getInstance(project).getFileIndex().isIgnored(file)) {
    for (    Module aModule : ModuleManager.getInstance(project).getModules()) {
      final String path=collapse2eclipsePathRelative2Module(file,aModule);
      if (path != null) {
        return path;
      }
    }
  }
  return null;
}
