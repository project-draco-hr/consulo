{
  final boolean selfSigning=isSelfSigning();
  final int genResult=selfSigning ? genKey(binPath) : 0;
  if (genResult == 0) {
    final List<String> signCommandLine=new ArrayList<String>();
    addParameter(signCommandLine,FileUtil.toSystemDependentName(binPath + File.separator + "jarsigner"));
    collectStoreParams(selfSigning,signCommandLine);
    addParameter(signCommandLine,tempDirectory.getPath() + File.separator + getArtifactRootName());
    addParameter(signCommandLine,getAlias(selfSigning));
    final int signedResult=startProcess(signCommandLine);
    if (signedResult != 0) {
      registerJavaFxPackagerError("JavaFX sign task has failed.");
    }
  }
 else {
    registerJavaFxPackagerError("JavaFX generate certificate task has failed.");
  }
}
