{
  final List<String> commandLine=new ArrayList<String>();
  addParameter(commandLine,FileUtil.toSystemDependentName(binPath + File.separator + "javafxpackager"));
  addParameter(commandLine,"-deploy");
  final String title=getTitle();
  if (!StringUtil.isEmptyOrSpaces(title)) {
    addParameter(commandLine,"-title");
    addParameter(commandLine,title);
  }
  final String vendor=getVendor();
  if (!StringUtil.isEmptyOrSpaces(vendor)) {
    addParameter(commandLine,"-vendor");
    addParameter(commandLine,vendor);
  }
  final String description=getDescription();
  if (!StringUtil.isEmptyOrSpaces(description)) {
    addParameter(commandLine,"-description");
    addParameter(commandLine,description);
  }
  addParameter(commandLine,"-appclass");
  addParameter(commandLine,getAppClass());
  addParameter(commandLine,"-width");
  addParameter(commandLine,"600");
  addParameter(commandLine,"-height");
  addParameter(commandLine,"400");
  addParameter(commandLine,"-name");
  addParameter(commandLine,getArtifactName());
  addParameter(commandLine,"-outdir");
  final File tempDirectory;
  try {
    tempDirectory=FileUtil.createTempDirectory("javafxpackager","out");
  }
 catch (  IOException e) {
    registerJavaFxPackagerError(e);
    return;
  }
  addParameter(commandLine,tempDirectory.getPath());
  addParameter(commandLine,"-outfile");
  addParameter(commandLine,getArtifactName());
  addParameter(commandLine,"-srcdir");
  addParameter(commandLine,tempDirWithCreatedJar.getPath());
  addParameter(commandLine,"-v");
  final int result=startProcess(commandLine);
  FileUtil.delete(tempUnzippedArtifactOutput);
  FileUtil.delete(new File(getArtifactOutputFilePath()));
  copyResultsToArtifactsOutput(tempDirectory);
  copyResultsToArtifactsOutput(tempDirWithCreatedJar);
}
