{
  ComponentAdapter adapterByKey=getComponentAdapter(componentType);
  if (adapterByKey != null) {
    return adapterByKey;
  }
  List found=getComponentAdaptersOfType(componentType);
  if (found.size() == 1) {
    return (ComponentAdapter)found.get(0);
  }
 else   if (found.isEmpty()) {
    if (parent != null) {
      return parent.getComponentAdapterOfType(componentType);
    }
    return null;
  }
 else {
    Class[] foundClasses=new Class[found.size()];
    for (int i=0; i < foundClasses.length; i++) {
      foundClasses[i]=((ComponentAdapter)found.get(i)).getComponentImplementation();
    }
    throw new AmbiguousComponentResolutionException(componentType,foundClasses);
  }
}
