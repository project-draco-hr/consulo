{
  if (componentType == null) {
    return Collections.emptyList();
  }
  Map<ComponentAdapter,Object> adapterToInstanceMap=new HashMap<ComponentAdapter,Object>();
  for (  final ComponentAdapter componentAdapter : componentAdapters.get()) {
    if (ReflectionCache.isAssignable(componentType,componentAdapter.getComponentImplementation())) {
      Object componentInstance=getInstance(componentAdapter);
      adapterToInstanceMap.put(componentAdapter,componentInstance);
      addOrderedComponentAdapter(componentAdapter);
    }
  }
  List<Object> result=new ArrayList<Object>();
  for (  ComponentAdapter componentAdapter : orderedComponentAdapters.get()) {
    final Object componentInstance=adapterToInstanceMap.get(componentAdapter);
    if (componentInstance != null) {
      result.add(componentInstance);
    }
  }
  return result;
}
