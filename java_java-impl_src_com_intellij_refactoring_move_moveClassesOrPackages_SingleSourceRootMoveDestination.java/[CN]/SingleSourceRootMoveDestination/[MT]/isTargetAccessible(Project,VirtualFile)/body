{
  final boolean inTestSourceContent=ProjectRootManager.getInstance(project).getFileIndex().isInTestSourceContent(place);
  final Module module=ModuleUtil.findModuleForFile(place,project);
  final VirtualFile targetVirtualFile=myTargetDirectory.getVirtualFile();
  if (module != null && !GlobalSearchScope.moduleWithDependenciesAndLibrariesScope(module,inTestSourceContent).contains(targetVirtualFile)) {
    return false;
  }
  return true;
}
