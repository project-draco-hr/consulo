{
  int diff=super.difference(past).base();
  final FieldRepr field=(FieldRepr)past;
switch ((value == null ? 0 : 1) + (field.value == null ? 0 : 2)) {
case 3:
    if (!value.equals(field.value)) {
      diff|=Difference.VALUE;
    }
  break;
case 2:
case 1:
diff|=Difference.VALUE;
break;
case 0:
break;
}
return Difference.createBase(diff);
}
