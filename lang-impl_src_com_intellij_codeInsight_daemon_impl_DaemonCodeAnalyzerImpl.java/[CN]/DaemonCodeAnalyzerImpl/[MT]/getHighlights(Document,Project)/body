{
  LOG.assertTrue(ApplicationManager.getApplication().isReadAccessAllowed());
  MarkupModel markup=document.getMarkupModel(project);
  List<HighlightInfo> infos=markup.getUserData(HIGHLIGHTS_IN_EDITOR_DOCUMENT_KEY);
  if (infos != null) {
    for (    HighlightInfo info : infos) {
      assert((MarkupModelEx)markup).containsHighlighter(info.highlighter);
    }
  }
  return infos;
}
