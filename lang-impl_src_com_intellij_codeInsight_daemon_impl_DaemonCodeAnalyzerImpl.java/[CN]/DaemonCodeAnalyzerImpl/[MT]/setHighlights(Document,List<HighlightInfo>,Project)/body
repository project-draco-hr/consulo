{
  ApplicationManager.getApplication().assertIsDispatchThread();
  MarkupModel markup=document.getMarkupModel(project);
  stripWarningsCoveredByErrors(project,highlights,markup);
  markup.putUserData(HIGHLIGHTS_IN_EDITOR_DOCUMENT_KEY,highlights);
  for (  HighlightInfo info : highlights) {
    assert((MarkupModelEx)markup).containsHighlighter(info.highlighter);
  }
  DaemonCodeAnalyzer codeAnalyzer=DaemonCodeAnalyzer.getInstance(project);
  if (codeAnalyzer instanceof DaemonCodeAnalyzerImpl && ((DaemonCodeAnalyzerImpl)codeAnalyzer).myStatusBarUpdater != null) {
    ((DaemonCodeAnalyzerImpl)codeAnalyzer).myStatusBarUpdater.updateStatus();
  }
}
