{
  try {
    if (!getSuspendContext().getDebugProcess().getSuspendManager().isSuspended(thread)) {
      return;
    }
  }
 catch (  ObjectCollectedException e) {
    return;
  }
  final java.util.List<StackFrameDescriptorImpl> descriptors=new ArrayList<StackFrameDescriptorImpl>();
  DebuggerInvocationUtil.invokeAndWait(getProject(),new Runnable(){
    public void run(){
      final DefaultListModel model=myFramesList.getModel();
      final int size=model.getSize();
      for (int i=0; i < size; i++) {
        final Object elem=model.getElementAt(i);
        if (elem instanceof StackFrameDescriptorImpl) {
          descriptors.add((StackFrameDescriptorImpl)elem);
        }
      }
    }
  }
,ModalityState.defaultModalityState());
  final EvaluationContextImpl evaluationContext=getDebuggerContext().createEvaluationContext();
  for (  StackFrameDescriptorImpl descriptor : descriptors) {
    descriptor.setContext(evaluationContext);
    descriptor.updateRepresentation(evaluationContext,DescriptorLabelListener.DUMMY_LISTENER);
  }
}
