{
  if (!DebuggerManagerThreadImpl.isManagerThread()) {
    return;
  }
  final DebuggerContextImpl context=getDebuggerContext();
  final SuspendContextImpl suspendContext=context.getSuspendContext();
  if (suspendContext == null) {
    return;
  }
  final ThreadReferenceProxyImpl threadToSelect=context.getThreadProxy();
  if (threadToSelect == null) {
    return;
  }
  if (!suspendContext.isResumed()) {
    final SuspendContextImpl threadContext=SuspendManagerUtil.getSuspendContextForThread(suspendContext,threadToSelect);
    context.getDebugProcess().getManagerThread().invokeLater(new RebuildFramesListCommand(context,threadContext));
    refillThreadsCombo(threadToSelect);
  }
}
