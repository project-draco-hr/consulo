{
  myConverter=getProvider(getStorageType(module)).createConverter(module);
  final MessageBus messageBus=module.getMessageBus();
  final VirtualFileTracker virtualFileTracker=(VirtualFileTracker)module.getPicoContainer().getComponentInstanceOfType(VirtualFileTracker.class);
  if (virtualFileTracker != null && messageBus != null) {
    final ArrayList<VirtualFile> files=new ArrayList<VirtualFile>();
    myConverter.getFileSet().listFiles(files);
    for (    VirtualFile file : files) {
      final Listener listener=messageBus.syncPublisher(StateStorage.STORAGE_TOPIC);
      virtualFileTracker.addTracker(VfsUtil.pathToUrl(file.getPath()),new VirtualFileAdapter(){
        public void contentsChanged(        final VirtualFileEvent event){
          listener.storageFileChanged(event,ClasspathStorage.this);
        }
      }
,true,module);
    }
  }
}
