{
  final Ref<IOException> ref=new Ref<IOException>();
  ApplicationManager.getApplication().runWriteAction(new Runnable(){
    public void run(){
      try {
        myFileCache.commit();
      }
 catch (      IOException e) {
        ref.set(e);
      }
    }
  }
);
  if (!ref.isNull()) {
    throw new StateStorageException(ref.get());
  }
}
