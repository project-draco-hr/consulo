{
  XSuspendContext suspendContext=node.getTree().getSession().getSuspendContext();
  XDebuggerEvaluator evaluator=XDebuggerUtilImpl.getEvaluator(suspendContext);
  if (evaluator != null && evaluator.isEvaluateOnCopy(node.getName(),node.getValue())) {
    evaluator.evaluateFull(node.getName(),new XDebuggerEvaluator.XEvaluationCallback(){
      @Override public void evaluated(      @NotNull XValue result){
        String value=result.getModifier().getInitialValueEditorText();
        setCopyContents(value);
      }
      @Override public void errorOccurred(      @NotNull String errorMessage){
        String value=node.getValue();
        setCopyContents(value);
      }
    }
,null);
  }
 else {
    String value=node.getValue();
    setCopyContents(value);
  }
}
