{
  if (tree == null)   return;
  List<? extends WatchNode> watchNodes=XWatchesTreeActionBase.getSelectedNodes(tree,WatchNode.class);
  if (watchNodes.isEmpty()) {
    CopyPasteManager.getInstance().setContents(new StringSelection(value));
  }
 else {
    CopyPasteManager.getInstance().setContents(new XWatchTransferable(value,ContainerUtil.map(watchNodes,new Function<WatchNode,XExpression>(){
      @Override public XExpression fun(      WatchNode node){
        return node.getExpression();
      }
    }
)));
  }
}
