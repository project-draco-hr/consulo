{
  if (descriptor instanceof PsiDirectoryNode) {
    return ((PsiDirectoryNode)descriptor).isFQNameShown() ? 7 : 0;
  }
  if (descriptor instanceof PackageElementNode) {
    return 0;
  }
  if (descriptor instanceof PackageViewLibrariesNode) {
    return 6;
  }
  if (descriptor instanceof ModuleGroupNode) {
    return 0;
  }
  if (descriptor instanceof PsiFileNode || descriptor instanceof ClassTreeNode) {
    return 2;
  }
  if (descriptor instanceof PsiMethodNode) {
    return ((PsiMethodNode)descriptor).isConstructor() ? 4 : 5;
  }
  if (descriptor.getElement() instanceof PropertyGroup) {
    return 6;
  }
  if (descriptor instanceof PsiFieldNode) {
    return 7;
  }
  return 3;
}
