{
  final String tagName=(tag instanceof HtmlTag) ? tag.getName().toLowerCase() : tag.getName();
  final String endTokenText=(tag instanceof HtmlTag) ? end.getText().toLowerCase() : end.getText();
  final RenameTagBeginOrEndIntentionAction renameEndAction=new RenameTagBeginOrEndIntentionAction(tagName,endTokenText,false);
  final RenameTagBeginOrEndIntentionAction renameStartAction=new RenameTagBeginOrEndIntentionAction(endTokenText,tagName,true);
  if (start != null) {
    holder.registerProblem(start,XmlErrorMessages.message("tag.has.wrong.closing.tag.name"),ProblemHighlightType.GENERIC_ERROR_OR_WARNING,renameEndAction,renameStartAction);
  }
  holder.registerProblem(end,XmlErrorMessages.message("wrong.closing.tag.name"),ProblemHighlightType.GENERIC_ERROR_OR_WARNING,new RemoveExtraClosingTagIntentionAction(),renameEndAction,renameStartAction);
}
