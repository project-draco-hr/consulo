{
  if (mySourceUrl == null) {
    myBranchField.setEnabled(false);
    return;
  }
  SelectBranchPopup.show(myVcs.getProject(),myRoot.getVirtualFile(),new SelectBranchPopup.BranchSelectedCallback(){
    public void branchSelected(    final Project project,    final SvnBranchConfigurationNew configuration,    final String url,    final long revision){
      myBranchUrl=getBranchForUrl(mySourceUrl);
      if (myBranchUrl == null) {
        myBranchField.setText("");
        return;
      }
      recalculateUrl(url);
      myBranchField.setText(SVNPathUtil.tail(url));
    }
  }
,SvnBundle.message("select.branch.popup.general.title"),myPanel);
}
