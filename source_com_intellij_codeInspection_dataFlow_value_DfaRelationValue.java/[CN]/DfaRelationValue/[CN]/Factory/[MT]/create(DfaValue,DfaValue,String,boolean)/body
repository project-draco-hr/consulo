{
  if (dfaRight instanceof DfaTypeValue && !"instanceof".equals(relation))   return null;
  if (!(dfaLeft instanceof DfaVariableValue || dfaRight instanceof DfaVariableValue)) {
    return null;
  }
  if (!(dfaLeft instanceof DfaVariableValue)) {
    return create(dfaRight,dfaLeft,getSymmetricOperation(relation),negated);
  }
  if ("!=".equals(relation)) {
    relation="==";
    negated=!negated;
  }
 else   if ("<".equals(relation)) {
    relation=">=";
    negated=!negated;
  }
 else   if ("<=".equals(relation)) {
    relation=">";
    negated=!negated;
  }
  mySharedInstance.myLeftOperand=dfaLeft;
  mySharedInstance.myRightOperand=dfaRight;
  mySharedInstance.myRelation=relation;
  mySharedInstance.myIsNegated=negated;
  String id=mySharedInstance.toString();
  ArrayList<DfaRelationValue> conditions=myStringToObject.get(id);
  if (conditions == null) {
    conditions=new ArrayList<DfaRelationValue>();
    myStringToObject.put(id,conditions);
  }
 else {
    for (int i=0; i < conditions.size(); i++) {
      DfaRelationValue rel=conditions.get(i);
      if (rel.hardEquals(mySharedInstance))       return rel;
    }
  }
  DfaRelationValue result=new DfaRelationValue(dfaLeft,dfaRight,relation,negated);
  conditions.add(result);
  return result;
}
