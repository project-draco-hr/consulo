{
  if (!(fileEditor instanceof TextEditor))   return null;
  final Editor editor=((TextEditor)fileEditor).getEditor();
  final Project project=editor.getProject();
  if (project == null || !Boolean.TRUE.equals(editor.getUserData(EditorImpl.FORCED_SOFT_WRAPS)) || PropertiesComponent.getInstance().isTrueValue(DISABLED_NOTIFICATION_KEY)) {
    return null;
  }
  final EditorNotificationPanel panel=new EditorNotificationPanel();
  panel.setText(EditorBundle.message("forced.soft.wrap.message"));
  panel.createActionLabel(EditorBundle.message("forced.soft.wrap.hide.message"),new Runnable(){
    @Override public void run(){
      editor.putUserData(EditorImpl.FORCED_SOFT_WRAPS,null);
      EditorNotifications.getInstance(project).updateNotifications(file);
    }
  }
);
  panel.createActionLabel(EditorBundle.message("forced.soft.wrap.dont.show.again.message"),new Runnable(){
    @Override public void run(){
      PropertiesComponent.getInstance().setValue(DISABLED_NOTIFICATION_KEY,"true");
      EditorNotifications.getInstance(project).updateAllNotifications();
    }
  }
);
  return panel;
}
