{
  ApplicationManager.getApplication().runWriteAction(new Runnable(){
    @Override public void run(){
      String attribute="layout_" + getAttribute();
      String marginAttribute=null;
      String marginValue=null;
      if (myMargin > 0) {
        marginAttribute=myHorizontal ? "layout_marginLeft" : "layout_marginTop";
        marginValue=Integer.toString(myMargin) + "dp";
      }
      for (      RadComponent component : components) {
        XmlTag tag=((RadViewComponent)component).getTag();
        tag.setAttribute(attribute,SdkConstants.NS_RESOURCES,"true");
        if (marginValue != null) {
          tag.setAttribute(marginAttribute,SdkConstants.NS_RESOURCES,marginValue);
        }
      }
    }
  }
);
}
