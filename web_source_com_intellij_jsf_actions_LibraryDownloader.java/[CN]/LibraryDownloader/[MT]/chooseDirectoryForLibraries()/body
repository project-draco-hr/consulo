{
  final FileChooserDescriptor descriptor=FileChooserDescriptorFactory.getDirectoryChooserDescriptor(J2EEBundle.message("dialog.directory.for.libraries.title"));
  final VirtualFile[] files;
  if (myProject != null) {
    files=FileChooser.chooseFiles(myProject,descriptor);
  }
 else {
    files=FileChooser.chooseFiles(myParent,descriptor);
  }
  return files.length > 0 ? files[0] : null;
}
