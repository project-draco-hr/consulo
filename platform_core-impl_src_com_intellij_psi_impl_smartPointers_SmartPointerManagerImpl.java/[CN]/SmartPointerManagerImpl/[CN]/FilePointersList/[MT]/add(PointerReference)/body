{
  if (reference.file.getUserData(reference.key) != this) {
    return false;
  }
  if (nextAvailableIndex >= references.length || nextAvailableIndex > size * 2) {
    int newCapacity=nextAvailableIndex >= references.length ? references.length * 3 / 2 + 1 : size * 3 / 2 + 1;
    PointerReference[] newReferences=new PointerReference[newCapacity];
    int o=0;
    for (    PointerReference oldRef : references) {
      if (SoftReference.dereference(oldRef) != null) {
        newReferences[o++]=oldRef;
      }
    }
    references=newReferences;
    size=nextAvailableIndex=o;
  }
  references[nextAvailableIndex++]=reference;
  size++;
  mySorted=false;
  return true;
}
