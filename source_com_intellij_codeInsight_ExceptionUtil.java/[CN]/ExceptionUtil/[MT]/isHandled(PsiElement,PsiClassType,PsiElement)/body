{
  if (element == null || element.getParent() == topElement || element.getParent() == null)   return false;
  final PsiElement parent=element.getParent();
  if (parent instanceof PsiMethod) {
    PsiMethod method=(PsiMethod)parent;
    return isHandledByMethodThrowsClause(method,exceptionType);
  }
 else   if (parent instanceof PsiClass) {
    if (parent instanceof PsiAnonymousClass) {
      return isHandled(parent,exceptionType,topElement);
    }
    return false;
  }
 else   if (parent instanceof PsiClassInitializer) {
    if (!(parent.getParent() instanceof PsiAnonymousClass)) {
      final PsiClass aClass=((PsiClassInitializer)parent).getContainingClass();
      return isAllConstructorsThrow(aClass,exceptionType);
    }
  }
 else   if (parent instanceof PsiTryStatement) {
    PsiTryStatement tryStatement=(PsiTryStatement)parent;
    if (tryStatement.getTryBlock() == element && isCatched(tryStatement,exceptionType)) {
      return true;
    }
 else {
      return isHandled(parent,exceptionType,topElement);
    }
  }
 else   if (parent instanceof JspFile) {
    return true;
  }
 else   if (parent instanceof PsiFile) {
    return false;
  }
 else   if (parent instanceof PsiField && ((PsiField)parent).getInitializer() == element) {
    final PsiClass aClass=((PsiField)parent).getContainingClass();
    if (aClass != null && !(aClass instanceof PsiAnonymousClass) && !((PsiField)parent).hasModifierProperty(PsiModifier.STATIC)) {
      return isAllConstructorsThrow(aClass,exceptionType);
    }
  }
  return isHandled(parent,exceptionType,topElement);
}
