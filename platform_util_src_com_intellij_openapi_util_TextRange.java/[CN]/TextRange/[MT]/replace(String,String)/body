{
  try {
    String beginning=original.substring(0,getStartOffset());
    String ending=original.substring(getEndOffset(),original.length());
    return beginning + replacement + ending;
  }
 catch (  StringIndexOutOfBoundsException e) {
    throw new StringIndexOutOfBoundsException("Can't replace " + this + " range from '"+ original+ "' with '"+ replacement+ "'");
  }
}
