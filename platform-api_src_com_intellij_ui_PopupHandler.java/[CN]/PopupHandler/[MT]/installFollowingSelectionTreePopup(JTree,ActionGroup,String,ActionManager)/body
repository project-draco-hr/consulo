{
  if (ApplicationManager.getApplication() == null)   return new MouseAdapter(){
  }
;
  PopupHandler handler=new PopupHandler(){
    public void invokePopup(    Component comp,    int x,    int y){
      if (tree.getPathForLocation(x,y) != null && Arrays.binarySearch(tree.getSelectionRows(),tree.getRowForLocation(x,y)) > -1) {
        final ActionPopupMenu popupMenu=actionManager.createActionPopupMenu(place,group);
        popupMenu.getComponent().show(comp,x,y);
      }
    }
  }
;
  tree.addMouseListener(handler);
  return handler;
}
