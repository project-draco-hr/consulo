{
  try {
    return openStream(url);
  }
 catch (  FileNotFoundException ex) {
    @NonNls final String protocol=url.getProtocol();
    String file=null;
    if (protocol.equals(FILE_PROTOCOL)) {
      file=url.getFile();
    }
 else     if (protocol.equals(JAR_PROTOCOL)) {
      int pos=url.getFile().indexOf("!");
      if (pos >= 0) {
        file=url.getFile().substring(pos + 1);
      }
    }
    if (file != null && file.startsWith("/")) {
      InputStream resourceStream=URLUtil.class.getResourceAsStream(file);
      if (resourceStream != null)       return resourceStream;
    }
    throw ex;
  }
}
