{
  Pair<String,String> paths=splitJarUrl(url.getFile());
  if (paths == null) {
    throw new MalformedURLException(url.getFile());
  }
  @SuppressWarnings("IOResourceOpenedButNotSafelyClosed") final ZipFile zipFile=new ZipFile(FileUtil.unquote(paths.first));
  ZipEntry zipEntry=zipFile.getEntry(paths.second);
  if (zipEntry == null) {
    zipFile.close();
    throw new FileNotFoundException("Entry " + paths.second + " not found in "+ paths.first);
  }
  return new FilterInputStream(zipFile.getInputStream(zipEntry)){
    @Override public void close() throws IOException {
      super.close();
      zipFile.close();
    }
  }
;
}
