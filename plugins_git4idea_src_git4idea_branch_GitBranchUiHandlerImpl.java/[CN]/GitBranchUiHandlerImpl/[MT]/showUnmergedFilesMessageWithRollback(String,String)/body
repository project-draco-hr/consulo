{
  final AtomicBoolean ok=new AtomicBoolean();
  UIUtil.invokeAndWaitIfNeeded(new Runnable(){
    @Override public void run(){
      String description=String.format("<html>You have to resolve all merge conflicts before %s.<br/>%s</html>",operationName,rollbackProposal);
      ok.set(Messages.OK == MessageManager.showYesNoDialog(myProject,description,unmergedFilesErrorTitle(operationName),"Rollback","Don't rollback",Messages.getErrorIcon()));
    }
  }
);
  return ok.get();
}
