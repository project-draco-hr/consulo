{
  final JavacRemoteProto.Message.Response.OutputObject.Builder msgBuilder=JavacRemoteProto.Message.Response.OutputObject.newBuilder();
  msgBuilder.setKind(convertKind(fileObject.getKind()));
  msgBuilder.setFilePath(FileUtil.toSystemIndependentName(fileObject.getFile().getPath()));
  final BinaryContent content=fileObject.getContent();
  if (content != null) {
    msgBuilder.setContent(ByteString.copyFrom(content.getBuffer(),content.getOffset(),content.getLength()));
  }
  final String className=fileObject.getClassName();
  if (className != null) {
    msgBuilder.setClassName(className);
  }
  final File outputRoot=fileObject.getOutputRoot();
  if (outputRoot != null) {
    msgBuilder.setOutputRoot(FileUtil.toSystemIndependentName(outputRoot.getPath()));
  }
  final String relativePath=fileObject.getRelativePath();
  if (relativePath != null) {
    msgBuilder.setRelativePath(relativePath);
  }
  final URI srcUri=fileObject.getSourceUri();
  if (srcUri != null) {
    msgBuilder.setSourceUri(srcUri.toString());
  }
  final JavacRemoteProto.Message.Response.Builder builder=JavacRemoteProto.Message.Response.newBuilder();
  builder.setResponseType(JavacRemoteProto.Message.Response.Type.OUTPUT_OBJECT).setOutputObject(msgBuilder.build());
  return builder.build();
}
