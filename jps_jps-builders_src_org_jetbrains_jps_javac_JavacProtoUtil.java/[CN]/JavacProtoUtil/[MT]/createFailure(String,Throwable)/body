{
  final JavacRemoteProto.Message.Failure.Builder builder=JavacRemoteProto.Message.Failure.newBuilder();
  builder.setDescription(description);
  if (ex != null) {
    final ByteArrayOutputStream baos=new ByteArrayOutputStream();
    ex.printStackTrace(new PrintStream(baos));
    builder.setStacktrace(new String(baos.toByteArray()));
  }
  return builder.build();
}
