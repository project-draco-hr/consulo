{
  if (newFacets.isEmpty()) {
    return;
  }
  boolean showNotification=true;
  HashMap<DetectedFacetInfo<Module>,List<VirtualFile>> filesMap=getFilesMap(newFacets);
  if (!filesMap.isEmpty() && showNotification) {
    String name;
    String description;
    final Set<DetectedFacetInfo<Module>> detectedFacetInfos=filesMap.keySet();
    if (filesMap.size() == 1) {
      final DetectedFacetInfo<Module> facetInfo=detectedFacetInfos.iterator().next();
      name=ProjectBundle.message("notification.name.0.facet.detected",facetInfo.getFacetType().getPresentableName());
      final List<VirtualFile> files=filesMap.get(facetInfo);
      description=getNotificationText(facetInfo,files.toArray(new VirtualFile[files.size()]));
    }
 else {
      name=ProjectBundle.message("notification.name.0.facets.detected",filesMap.size());
      description="";
    }
    getNotifications().notify(NOTIFICATION_ID,name,description,NotificationType.INFORMATION,new MyNotificationListener(detectedFacetInfos));
  }
 else {
    myPendingNewFacets.addAll(newFacets);
  }
}
