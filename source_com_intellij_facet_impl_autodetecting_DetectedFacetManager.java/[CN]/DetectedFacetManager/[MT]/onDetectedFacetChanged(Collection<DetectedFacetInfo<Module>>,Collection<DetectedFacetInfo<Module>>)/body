{
  if (!myUIInitialized)   return;
  if (!ApplicationManager.getApplication().isHeadlessEnvironment()) {
    final boolean stopBlinking=myDetectedFacetSet.getAllDetectedFacets().isEmpty();
    Runnable runnable=new Runnable(){
      public void run(){
        if (isDisposed())         return;
        if (!removed.isEmpty() && myNotificationPopup != null) {
          myNotificationPopup.cancel();
        }
        myPendingNewFacets.addAll(added);
        queueNotificationPopup();
        if (stopBlinking) {
          myAttentionComponent.stopBlinking();
        }
        if (!added.isEmpty()) {
          myAttentionComponent.startBlinking();
        }
      }
    }
;
    ApplicationManager.getApplication().invokeLater(runnable,ModalityState.NON_MODAL);
  }
}
