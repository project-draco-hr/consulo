{
  if (getParent() != null) {
    Element component=new Element("component");
    component.setAttribute("tag",myTag.getName());
    XmlAttribute[] attributes=myTag.getAttributes();
    if (attributes.length > 0) {
      Element properties=new Element("properties");
      component.addContent(properties);
      Map<String,Element> namespaces=new HashMap<String,Element>();
      for (      XmlAttribute attribute : attributes) {
        String namespace=attribute.getNamespacePrefix();
        if (namespace.length() == 0) {
          properties.setAttribute(attribute.getName(),attribute.getValue());
        }
 else {
          Element element=namespaces.get(namespace);
          if (element == null) {
            element=new Element(namespace);
            namespaces.put(namespace,element);
          }
          element.setAttribute(attribute.getLocalName(),attribute.getValue());
        }
      }
      for (      Element element : namespaces.values()) {
        properties.addContent(element);
      }
    }
    parent.addContent(component);
    parent=component;
  }
  for (  RadComponent child : myChildren) {
    child.copyTo(parent);
  }
}
