{
  if (mySearchResults.getEditor() == null)   return;
  for (  LiveOccurrence o : mySearchResults.getOccurrences()) {
    for (    TextRange textRange : o.getSecondaryRanges()) {
      highlightRange(textRange,OTHER_TARGETS_ATTRIBUTES,myHighlighters);
    }
    final TextRange range=o.getPrimaryRange();
    TextAttributes attrs=EditorColorsManager.getInstance().getGlobalScheme().getAttributes(EditorColors.TEXT_SEARCH_RESULT_ATTRIBUTES);
    if (mySearchResults.isExcluded(o)) {
      highlightRange(range,strikout(attrs),myHighlighters);
    }
 else {
      final SelectionModel selectionModel=mySearchResults.getEditor().getSelectionModel();
      if (!range.intersects(new TextRange(selectionModel.getSelectionStart(),selectionModel.getSelectionEnd()))) {
        highlightRange(range,attrs,myHighlighters);
      }
 else {
        highlightRange(range,dotted(attrs),myHighlighters);
      }
    }
  }
}
