{
  final Module[] allModules=ModuleManager.getInstance(myProject).getModules();
  List<VirtualFile> allOutputs=new ArrayList<>();
  ContainerUtil.addAll(allOutputs,CompilerPathsImpl.getOutputDirectories(allModules));
  for (  Artifact artifact : ArtifactManager.getInstance(myProject).getArtifacts()) {
    ContainerUtil.addIfNotNull(artifact.getOutputFile(),allOutputs);
  }
  final Set<VirtualFile> affectedOutputPaths=new HashSet<>();
  CompilerUtil.computeIntersectingPaths(myProject,allOutputs,affectedOutputPaths);
  affectedOutputPaths.addAll(ArtifactCompilerUtil.getArtifactOutputsContainingSourceFiles(myProject));
  if (!affectedOutputPaths.isEmpty()) {
    if (CompilerUtil.askUserToContinueWithNoClearing(myProject,affectedOutputPaths)) {
      myShouldClearOutputDirectory=false;
      return true;
    }
 else {
      return false;
    }
  }
  return true;
}
