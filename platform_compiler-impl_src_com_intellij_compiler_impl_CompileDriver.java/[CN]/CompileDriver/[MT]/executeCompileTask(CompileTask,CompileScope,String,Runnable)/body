{
  final CompilerTask progressManagerTask=new CompilerTask(myProject,contentName,false,false,true,isCompilationStartedAutomatically(scope));
  final CompileContextImpl compileContext=new CompileContextImpl(myProject,progressManagerTask,scope,null,false,false);
  FileDocumentManager.getInstance().saveAllDocuments();
  progressManagerTask.start(new Runnable(){
    @Override public void run(){
      try {
        task.execute(compileContext);
      }
 catch (      ProcessCanceledException ex) {
      }
 finally {
        if (onTaskFinished != null) {
          onTaskFinished.run();
        }
      }
    }
  }
,null);
}
