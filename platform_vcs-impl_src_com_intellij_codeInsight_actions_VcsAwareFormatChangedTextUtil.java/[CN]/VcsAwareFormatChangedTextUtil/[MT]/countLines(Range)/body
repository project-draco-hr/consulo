{
  byte rangeType=range.getType();
  if (rangeType == Range.MODIFIED) {
    int currentChangedLines=range.getLine2() - range.getLine1();
    int revisionLinesChanged=range.getVcsLine2() - range.getVcsLine1();
    return Math.max(currentChangedLines,revisionLinesChanged);
  }
 else   if (rangeType == Range.DELETED) {
    return range.getVcsLine2() - range.getVcsLine1();
  }
 else   if (rangeType == Range.INSERTED) {
    return range.getLine2() - range.getLine1();
  }
  return 0;
}
