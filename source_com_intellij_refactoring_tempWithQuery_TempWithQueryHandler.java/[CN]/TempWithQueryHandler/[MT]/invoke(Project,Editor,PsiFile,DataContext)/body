{
  PsiElement element=TargetElementUtil.findTargetElement(editor,TargetElementUtil.ELEMENT_NAME_ACCEPTED | TargetElementUtil.LOOKUP_ITEM_ACCEPTED | TargetElementUtil.REFERENCED_ELEMENT_ACCEPTED);
  editor.getScrollingModel().scrollToCaret(ScrollType.MAKE_VISIBLE);
  if (!(element instanceof PsiLocalVariable)) {
    String message=RefactoringBundle.getCannotRefactorMessage(RefactoringBundle.message("error.wrong.caret.position.local.name"));
    RefactoringMessageUtil.showErrorMessage(REFACTORING_NAME,message,HelpID.REPLACE_TEMP_WITH_QUERY,project);
    return;
  }
  invokeOnVariable(file,project,((PsiLocalVariable)element),editor);
}
