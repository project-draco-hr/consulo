{
  if (!myHint.isVisible()) {
    dispose();
    return;
  }
  HintManagerImpl hintManager=HintManagerImpl.getInstanceImpl();
  short constraint=lookup.isPositionedAboveCaret() ? HintManagerImpl.UNDER : HintManagerImpl.ABOVE;
  Point p=hintManager.getHintPosition(myHint,myEditor,constraint);
  Dimension hintSize=myHint.getComponent().getPreferredSize();
  JLayeredPane layeredPane=myEditor.getComponent().getRootPane().getLayeredPane();
  p.x=Math.min(p.x,layeredPane.getWidth() - hintSize.width);
  p.x=Math.max(p.x,0);
  myHint.setBounds(p.x,p.y,hintSize.width,hintSize.height);
}
