{
  String baseUrl=getBaseUrl(url);
  if (baseUrl == null) {
    return null;
  }
  if (myBranchMap.isEmpty()) {
    return baseUrl;
  }
  int commonPrefixLength=getCommonPrefixLength(url,myTrunkUrl);
  for (  String branchUrl : myBranchMap.keySet()) {
    commonPrefixLength=Math.min(commonPrefixLength,getCommonPrefixLength(url,branchUrl));
    if (commonPrefixLength <= 0) {
      return baseUrl;
    }
  }
  return baseUrl.substring(commonPrefixLength);
}
