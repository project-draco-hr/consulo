{
  if (!StringUtil.isEmpty(override)) {
    return new File(override);
  }
  final File userSettingsFile=resolveUserSettingsFile(userSettings);
  if (userSettingsFile != null) {
    final String fromUserSettings=getRepositoryFromSettings(userSettingsFile);
    if (!StringUtil.isEmpty(fromUserSettings)) {
      return new File(fromUserSettings);
    }
  }
  final File globalSettingsFile=resolveGlobalSettingsFile(mavenHome);
  if (globalSettingsFile != null) {
    final String fromGlobalSettings=getRepositoryFromSettings(globalSettingsFile);
    if (!StringUtil.isEmpty(fromGlobalSettings)) {
      return new File(fromGlobalSettings);
    }
  }
  return new File(resolveM2Dir(),REPOSITORY_DIR);
}
