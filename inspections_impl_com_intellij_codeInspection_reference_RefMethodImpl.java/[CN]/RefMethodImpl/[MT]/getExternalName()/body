{
  final String[] result=new String[1];
  final Runnable runnable=new Runnable(){
    public void run(){
      final PsiMethod psiMethod=(PsiMethod)getElement();
      LOG.assertTrue(psiMethod != null);
      final RefClass refClass=(RefClass)getRefManager().getReference(psiMethod.getContainingClass());
      LOG.assertTrue(refClass != null);
      result[0]=refClass.getExternalName() + " " + PsiFormatUtil.formatMethod(psiMethod,PsiSubstitutor.EMPTY,PsiFormatUtil.SHOW_NAME | PsiFormatUtil.SHOW_FQ_NAME | PsiFormatUtil.SHOW_TYPE| PsiFormatUtil.SHOW_PARAMETERS,PsiFormatUtil.SHOW_NAME | PsiFormatUtil.SHOW_TYPE);
    }
  }
;
  ApplicationManager.getApplication().runReadAction(runnable);
  return result[0];
}
