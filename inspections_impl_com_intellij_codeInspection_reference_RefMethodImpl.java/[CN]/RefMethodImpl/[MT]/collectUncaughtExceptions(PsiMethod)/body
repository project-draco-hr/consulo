{
  if (isLibraryOverride())   return;
  @NonNls final String name=method.getName();
  if (getOwnerClass().isTestCase() && name.startsWith("test"))   return;
  if (getSuperMethods().size() == 0) {
    PsiClassType[] throwsList=method.getThrowsList().getReferencedTypes();
    if (throwsList.length > 0) {
      EjbClassRole role=EjbRolesUtil.getEjbRolesUtil().getEjbRole(method.getContainingClass());
      myUnThrownExceptions=new ArrayList<PsiClassType>(throwsList.length);
      for (      final PsiClassType type : throwsList) {
        String qualifiedName=type.getCanonicalText();
        if (role != null && isEjbException(qualifiedName))         continue;
        myUnThrownExceptions.add(type);
      }
    }
  }
  PsiCodeBlock body=method.getBody();
  if (body == null)   return;
  PsiClassType[] exceptionTypes=ExceptionUtil.collectUnhandledExceptions(method,body);
  if (exceptionTypes != null) {
    for (    final PsiClassType exceptionType : exceptionTypes) {
      updateThrowsList(exceptionType);
    }
  }
}
