{
  boolean changed=false;
  if (myName == null || myComment == null) {
    final String newName=myFileElement.toString();
    if (!newName.equals(myName))     changed=true;
    myName=newName;
  }
  VirtualFile file=myFileElement.getFile();
  if (file == null)   return true;
  setIcon(myOriginalIcon);
  if (myFileElement.isHidden()) {
    setIcon(IconLoader.getTransparentIcon(getIcon()));
  }
  myColor=myFileElement.isHidden() ? SimpleTextAttributes.DARK_TEXT.getFgColor() : null;
  return changed;
}
