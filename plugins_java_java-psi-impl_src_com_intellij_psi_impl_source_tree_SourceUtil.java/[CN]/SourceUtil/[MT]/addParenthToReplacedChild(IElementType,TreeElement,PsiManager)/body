{
  CompositeElement parenthExpr=ASTFactory.composite(parenthType);
  TreeElement dummyExpr=(TreeElement)newChild.clone();
  final CharTable charTableByTree=SharedImplUtil.findCharTableByTree(newChild);
  new DummyHolder(manager,parenthExpr,null,charTableByTree);
  parenthExpr.putUserData(CharTable.CHAR_TABLE_KEY,charTableByTree);
  parenthExpr.rawAddChildren(ASTFactory.leaf(JavaTokenType.LPARENTH,"("));
  parenthExpr.rawAddChildren(dummyExpr);
  parenthExpr.rawAddChildren(ASTFactory.leaf(JavaTokenType.RPARENTH,")"));
  try {
    CodeStyleManager codeStyleManager=CodeStyleManager.getInstance(manager.getProject());
    PsiElement formatted=codeStyleManager.reformat(SourceTreeToPsiMap.treeToPsiNotNull(parenthExpr));
    parenthExpr=(CompositeElement)SourceTreeToPsiMap.psiToTreeNotNull(formatted);
  }
 catch (  IncorrectOperationException e) {
    LOG.error(e);
  }
  newChild.putUserData(CharTable.CHAR_TABLE_KEY,SharedImplUtil.findCharTableByTree(newChild));
  dummyExpr.rawReplaceWithList(newChild);
  newChild=parenthExpr;
  TreeUtil.clearCaches(TreeUtil.getFileElement(newChild));
  return newChild;
}
