{
  handler.checkIsValid();
  FactoryMap<Converter,CachedValue> map=handler.getUserData(DOM_VALUE_KEY);
  if (map == null) {
    final DomManagerImpl domManager=handler.getManager();
    final CachedValuesManager cachedValuesManager=PsiManager.getInstance(domManager.getProject()).getCachedValuesManager();
    handler.putUserData(DOM_VALUE_KEY,map=new FactoryMap<Converter,CachedValue>(){
      protected CachedValue create(      final Converter key){
        return cachedValuesManager.createCachedValue(new CachedValueProvider<Object>(){
          public Result<Object> compute(){
            return Result.create(getValueInner(handler,key),PsiModificationTracker.OUT_OF_CODE_BLOCK_MODIFICATION_COUNT,domManager);
          }
        }
,false);
      }
    }
);
  }
  return map.get(myConverter).getValue();
}
