{
  myExpressionEditor.saveTextInHistory();
  final DebuggerTreeState treeState=new DebuggerTreeState(myTree);
  myNode.setValueModificationStarted();
  myModifier.setValue(myExpressionEditor.getText(),new XValueModifier.XModificationCallback(){
    public void valueModified(){
      DebuggerUIUtil.invokeLater(new Runnable(){
        public void run(){
          myTree.rebuildAndRestore(treeState);
        }
      }
);
    }
    public void errorOccured(    @NotNull final String errorMessage){
      DebuggerUIUtil.invokeLater(new Runnable(){
        public void run(){
          myTree.rebuildAndRestore(treeState);
          Messages.showErrorDialog(myTree,errorMessage);
        }
      }
);
    }
  }
);
  super.doOKAction();
}
