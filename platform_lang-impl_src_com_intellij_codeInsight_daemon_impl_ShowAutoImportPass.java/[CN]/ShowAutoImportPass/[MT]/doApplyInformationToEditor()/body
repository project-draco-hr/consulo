{
  Application application=ApplicationManager.getApplication();
  application.assertIsDispatchThread();
  if (!application.isUnitTestMode() && !myEditor.getContentComponent().hasFocus())   return;
  List<HighlightInfo> visibleHighlights=getVisibleHighlights(myStartOffset,myEndOffset,myProject,myEditor);
  int caretOffset=myEditor.getCaretModel().getOffset();
  for (int i=visibleHighlights.size() - 1; i >= 0; i--) {
    ProgressManager.checkCanceled();
    HighlightInfo info=visibleHighlights.get(i);
    if (info.startOffset <= caretOffset && showAddImportHint(info))     return;
  }
  for (  HighlightInfo visibleHighlight : visibleHighlights) {
    ProgressManager.checkCanceled();
    if (visibleHighlight.startOffset > caretOffset && showAddImportHint(visibleHighlight))     return;
  }
}
