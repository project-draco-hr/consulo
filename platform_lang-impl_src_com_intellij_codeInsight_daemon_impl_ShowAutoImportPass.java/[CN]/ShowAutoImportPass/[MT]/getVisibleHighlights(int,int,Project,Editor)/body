{
  final List<HighlightInfo> highlights=new ArrayList<HighlightInfo>();
  DaemonCodeAnalyzerImpl.processHighlights(editor.getDocument(),project,null,startOffset,endOffset,new Processor<HighlightInfo>(){
    @Override public boolean process(    HighlightInfo info){
      if (info.hasHint() && !editor.getFoldingModel().isOffsetCollapsed(info.startOffset)) {
        highlights.add(info);
      }
      return true;
    }
  }
);
  return highlights;
}
