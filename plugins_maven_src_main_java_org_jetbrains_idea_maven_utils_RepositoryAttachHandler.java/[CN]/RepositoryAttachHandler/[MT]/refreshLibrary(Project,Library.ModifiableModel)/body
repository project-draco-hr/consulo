{
  final ActionCallback result=new ActionCallback();
  final String coord=getMavenCoordinate(library.getName());
  resolveLibrary(project,coord,getDefaultRepositories(),true,new Processor<List<MavenArtifact>>(){
    public boolean process(    final List<MavenArtifact> artifacts){
      ApplicationManager.getApplication().runWriteAction(new Runnable(){
        public void run(){
          replaceLibraryData(project,library,artifacts,null);
          result.setDone();
        }
      }
);
      return true;
    }
  }
);
  return result;
}
