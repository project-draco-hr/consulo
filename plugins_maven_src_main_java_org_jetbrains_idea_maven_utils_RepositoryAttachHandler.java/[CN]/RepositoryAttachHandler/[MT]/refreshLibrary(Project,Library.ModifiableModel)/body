{
  final ActionCallback result=new ActionCallback();
  final String coord=getMavenCoordinate(library.getName());
  resolveLibrary(project,Collections.singleton(coord),true,new Processor<Map<String,List<ArtifactType>>>(){
    public boolean process(    final Map<String,List<ArtifactType>> artifactTypes){
      ApplicationManager.getApplication().runWriteAction(new Runnable(){
        public void run(){
          replaceLibraryData(project,library,artifactTypes.get(coord),null);
          result.setDone();
        }
      }
);
      return true;
    }
  }
);
  return result;
}
