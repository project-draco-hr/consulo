{
  super(owner,internalDecorator.getToolWindow().getId());
  new MnemonicHelper().register(getContentPane());
  myInternalDecorator=internalDecorator;
  setDefaultCloseOperation(JDialog.DO_NOTHING_ON_CLOSE);
  final JComponent cp=(JComponent)getContentPane();
  cp.setLayout(new BorderLayout());
  if (SystemInfo.isWindows) {
    setUndecorated(true);
    cp.add(new BorderItem(ANCHOR_TOP),BorderLayout.NORTH);
    cp.add(new BorderItem(ANCHOR_LEFT),BorderLayout.WEST);
    cp.add(new BorderItem(ANCHOR_BOTTOM),BorderLayout.SOUTH);
    cp.add(new BorderItem(ANCHOR_RIGHT),BorderLayout.EAST);
    cp.add(myInternalDecorator,BorderLayout.CENTER);
  }
 else {
    cp.add(myInternalDecorator,BorderLayout.CENTER);
  }
  setDefaultCloseOperation(WindowConstants.DO_NOTHING_ON_CLOSE);
  addWindowListener(new MyWindowListener());
  myDelayAlarm=new Alarm();
  myFrameTicker=new Alarm(Alarm.ThreadToUse.SHARED_THREAD);
  myAnimator=new MyAnimator();
  myCurrentFrame=0;
  myStartRatio=0.0f;
  myEndRatio=0.0f;
  myUISettingsListener=new MyUISettingsListener();
  getRootPane().setGlassPane(new IdeGlassPaneImpl(getRootPane()));
  apply(info);
}
