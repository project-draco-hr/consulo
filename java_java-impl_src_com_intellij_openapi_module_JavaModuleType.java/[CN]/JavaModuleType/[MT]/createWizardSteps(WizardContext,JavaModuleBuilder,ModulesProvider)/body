{
  final ProjectWizardStepFactory wizardFactory=ProjectWizardStepFactory.getInstance();
  ArrayList<ModuleWizardStep> steps=new ArrayList<ModuleWizardStep>();
  steps.add(wizardFactory.createSourcePathsStep(wizardContext,moduleBuilder,getWizardIcon(),"reference.dialogs.new.project.fromScratch.source"));
  steps.add(wizardFactory.createProjectJdkStep(wizardContext,JavaSdk.getInstance(),moduleBuilder,new Computable<Boolean>(){
    @Override public Boolean compute(){
      final Sdk projectJdk=wizardFactory.getNewProjectSdk(wizardContext);
      return projectJdk == null || projectJdk.getSdkType() != JavaSdk.getInstance() ? Boolean.TRUE : Boolean.FALSE;
    }
  }
,getWizardIcon(),"reference.dialogs.new.project.fromScratch.sdk"));
  final ModuleWizardStep supportForFrameworksStep=wizardFactory.createSupportForFrameworksStep(wizardContext,moduleBuilder,modulesProvider);
  if (supportForFrameworksStep != null) {
    steps.add(supportForFrameworksStep);
  }
  final ModuleWizardStep[] wizardSteps=steps.toArray(new ModuleWizardStep[steps.size()]);
  return ArrayUtil.mergeArrays(wizardSteps,super.createWizardSteps(wizardContext,moduleBuilder,modulesProvider));
}
