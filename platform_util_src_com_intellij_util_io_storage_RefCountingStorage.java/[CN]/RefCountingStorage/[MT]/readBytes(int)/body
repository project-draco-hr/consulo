{
  if (myDoNotZipCaches)   return super.readBytes(record);
  waitForPendingWriteForRecord(record);
synchronized (myLock) {
    byte[] result=super.readBytes(record);
    InflaterInputStream in=new InflaterInputStream(new UnsyncByteArrayInputStream(result));
    try {
      return StreamUtil.loadFromStream(in);
    }
  finally {
      in.close();
    }
  }
}
