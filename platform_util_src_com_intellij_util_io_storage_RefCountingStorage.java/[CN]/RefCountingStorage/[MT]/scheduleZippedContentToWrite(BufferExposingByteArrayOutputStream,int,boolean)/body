{
synchronized (myLock) {
    myPendingWriteRequestsSize+=outputStream.size();
    myPendingWriteRequests.put(record,new WriteRequest(outputStream.getInternalBuffer(),outputStream.size(),record,fixedSize));
    if (myPendingWriteRequestsSize > MAX_PENDING_WRITE_SIZE) {
      flushPendingWrites();
    }
  }
}
