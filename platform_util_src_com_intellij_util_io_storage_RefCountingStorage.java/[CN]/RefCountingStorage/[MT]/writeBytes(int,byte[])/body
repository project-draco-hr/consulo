{
  if (myDoNotZipCaches) {
    super.writeBytes(record,bytes);
    return;
  }
synchronized (myLock) {
    ByteArrayOutputStream s=new ByteArrayOutputStream();
    DeflaterOutputStream out=new DeflaterOutputStream(s);
    try {
      out.write(bytes);
    }
  finally {
      out.close();
    }
    super.writeBytes(record,s.toByteArray());
  }
}
