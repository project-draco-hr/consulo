{
  waitForPendingWriteForRecord(record);
synchronized (myLock) {
    if (((RefCountingRecordsTable)myRecordsTable).decRefCount(record)) {
      doDeleteRecord(record);
    }
  }
}
