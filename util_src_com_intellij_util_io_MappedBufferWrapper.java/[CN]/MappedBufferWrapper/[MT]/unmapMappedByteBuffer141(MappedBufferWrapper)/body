{
  ByteBuffer buffer=holder._buf();
  unmapBuffer(buffer);
  holder.myBufferRef=null;
  boolean needGC=SystemInfo.JAVA_VERSION.startsWith("1.4.0");
  if (!needGC) {
    try {
      File newFile=File.createTempFile(BBU_TEMP_FILE_NAME,"",holder.myFile.getParentFile());
      newFile.delete();
      if (!holder.myFile.renameTo(newFile)) {
        needGC=true;
      }
 else {
        newFile.renameTo(holder.myFile);
      }
    }
 catch (    IOException e) {
      needGC=true;
    }
  }
  if (needGC) {
    System.gc();
    System.runFinalization();
  }
}
