{
  final Task.Backgroundable backgroundable=new Task.Backgroundable(myProject,"Subversion: loading working copies data..",false,new PerformInBackgroundOption(){
    public boolean shouldStartInBackground(){
      return true;
    }
    public void processSentToBackground(){
    }
    public void processRestoredToForeground(){
    }
  }
){
    public void run(    final ProgressIndicator indicator){
      indicator.setIndeterminate(true);
      final JPanel mainPanel=prepareData(location);
      ApplicationManager.getApplication().invokeLater(new Runnable(){
        public void run(){
          if (myPanelWrapper != null) {
            myPanelWrapper.removeAll();
            myPanelWrapper.add(mainPanel,new GridBagConstraints(0,0,1,1,1,1,GridBagConstraints.NORTHWEST,GridBagConstraints.HORIZONTAL,new Insets(0,0,0,0),0,0));
            myPanelWrapper.repaint();
          }
 else {
            myPanel=mainPanel;
          }
          if (afterRefresh != null) {
            afterRefresh.run();
          }
        }
      }
);
    }
  }
;
  ProgressManager.getInstance().run(backgroundable);
}
