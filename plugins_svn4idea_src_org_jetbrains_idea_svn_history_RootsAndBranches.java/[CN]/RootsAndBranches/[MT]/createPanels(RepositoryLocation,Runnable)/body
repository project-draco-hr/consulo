{
  final Task.Backgroundable backgroundable=new Task.Backgroundable(myProject,"Subversion: loading working copies data..",false,new PerformInBackgroundOption(){
    public boolean shouldStartInBackground(){
      return true;
    }
    public void processSentToBackground(){
    }
    public void processRestoredToForeground(){
    }
  }
){
    public void run(    final ProgressIndicator indicator){
      indicator.setIndeterminate(true);
      final JPanel mainPanel=prepareData(location);
      ApplicationManager.getApplication().invokeLater(new Runnable(){
        public void run(){
          if (myPanelWrapper != null) {
            myPanelWrapper.removeAll();
            if (myMergePanels.isEmpty()) {
              final JPanel emptyPanel=new JPanel(new GridBagLayout());
              final GridBagConstraints gb=new GridBagConstraints(0,0,1,1,1,1,GridBagConstraints.NORTHWEST,GridBagConstraints.NONE,new Insets(5,5,0,5),0,0);
              final JLabel label=new JLabel("No Subversion 1.5 working copies\nof 1.5 repositories in the project");
              label.setUI(new MultiLineLabelUI());
              emptyPanel.add(label,gb);
              gb.fill=GridBagConstraints.HORIZONTAL;
              myPanelWrapper.add(emptyPanel,gb);
            }
 else {
              myPanelWrapper.add(mainPanel,new GridBagConstraints(0,0,1,1,1,1,GridBagConstraints.NORTHWEST,GridBagConstraints.HORIZONTAL,new Insets(0,0,0,0),0,0));
            }
            myPanelWrapper.repaint();
          }
 else {
            myPanel=mainPanel;
          }
          if (afterRefresh != null) {
            afterRefresh.run();
          }
        }
      }
);
    }
  }
;
  ProgressManager.getInstance().run(backgroundable);
}
