{
  if (exitValue != 0 && !myCompileContext.getProgressIndicator().isCanceled() && myCompileContext.getMessageCount(CompilerMessageCategory.ERROR) == 0) {
    myCompileContext.addMessage(CompilerMessageCategory.ERROR,CompilerBundle.message("error.compiler.internal.error",exitValue),null,-1,-1);
  }
  myCompiler.compileFinished();
  try {
    ApplicationManager.getApplication().runReadAction(new Runnable(){
      public void run(){
        final String outputDirPath=outputDir.replace(File.separatorChar,'/');
        for (        final Module module : chunk.getModules()) {
          for (          final VirtualFile root : chunk.getSourceRoots(module)) {
            final String packagePrefix=myProjectFileIndex.getPackageNameByDirectory(root);
            if (LOG.isDebugEnabled()) {
              LOG.debug("Building output items for " + root.getPresentableUrl() + "; output dir = "+ outputDirPath+ "; packagePrefix = \""+ packagePrefix+ "\"");
            }
          }
        }
      }
    }
);
  }
  finally {
  }
}
