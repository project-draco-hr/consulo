{
  final StringBuilder buffer=StringBuilderSpinAllocator.alloc();
  try {
    while (true) {
      if (lexer.getTokenType() != JavaTokenType.IDENTIFIER && lexer.getTokenType() != JavaTokenType.ASTERISK) {
        break;
      }
      buffer.append(text,lexer.getTokenStart(),lexer.getTokenEnd() - lexer.getTokenStart());
      advanceLexer(lexer);
      if (lexer.getTokenType() != JavaTokenType.DOT) {
        break;
      }
      buffer.append('.');
      advanceLexer(lexer);
    }
    String packageName=buffer.toString();
    if (packageName.length() == 0 || StringUtil.endsWithChar(packageName,'.') || StringUtil.startsWithChar(packageName,'*')) {
      return null;
    }
    return packageName;
  }
  finally {
    StringBuilderSpinAllocator.dispose(buffer);
  }
}
