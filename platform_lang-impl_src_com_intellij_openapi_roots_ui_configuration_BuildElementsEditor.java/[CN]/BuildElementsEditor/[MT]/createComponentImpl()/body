{
  ModuleCompilerPathsManager moduleCompilerPathsManager=ModuleCompilerPathsManager.getInstance(getModule());
  myInheritCompilerOutput=new JRadioButton(ProjectBundle.message("project.inherit.compile.output.path"));
  myPerModuleCompilerOutput=new JRadioButton(ProjectBundle.message("project.module.compile.output.path"));
  ButtonGroup group=new ButtonGroup();
  group.add(myInheritCompilerOutput);
  group.add(myPerModuleCompilerOutput);
  final ActionListener listener=new ActionListener(){
    @Override public void actionPerformed(    ActionEvent e){
      enableCompilerSettings(!myInheritCompilerOutput.isSelected());
    }
  }
;
  myInheritCompilerOutput.addActionListener(listener);
  myPerModuleCompilerOutput.addActionListener(listener);
  myOutputPathPanel=createOutputPathPanel(ProjectBundle.message("module.paths.output.title"),new CommitPathRunnable(){
    @Override public void saveUrl(    String url){
      if (moduleCompilerPathsManager.isInheritedCompilerOutput()) {
        return;
      }
      moduleCompilerPathsManager.setCompilerOutputUrl(ProductionContentFolderTypeProvider.getInstance(),url);
    }
  }
);
  myTestsOutputPathPanel=createOutputPathPanel(ProjectBundle.message("module.paths.test.output.title"),new CommitPathRunnable(){
    @Override public void saveUrl(    String url){
      if (moduleCompilerPathsManager.isInheritedCompilerOutput()) {
        return;
      }
      moduleCompilerPathsManager.setCompilerOutputUrl(TestContentFolderTypeProvider.getInstance(),url);
    }
  }
);
  myResourcesOutputPathPanel=createOutputPathPanel(ProjectBundle.message("module.paths.resource.output.title"),new CommitPathRunnable(){
    @Override public void saveUrl(    String url){
      if (moduleCompilerPathsManager.isInheritedCompilerOutput()) {
        return;
      }
      moduleCompilerPathsManager.setCompilerOutputUrl(ProductionResourceContentFolderTypeProvider.getInstance(),url);
    }
  }
);
  myTestResourcesOutputPathPanel=createOutputPathPanel(ProjectBundle.message("module.paths.test.resource.output.title"),new CommitPathRunnable(){
    @Override public void saveUrl(    String url){
      if (moduleCompilerPathsManager.isInheritedCompilerOutput()) {
        return;
      }
      moduleCompilerPathsManager.setCompilerOutputUrl(TestResourceContentFolderTypeProvider.getInstance(),url);
    }
  }
);
  myCbExcludeOutput=new JCheckBox(ProjectBundle.message("module.paths.exclude.output.checkbox"),moduleCompilerPathsManager.isExcludeOutput());
  myCbExcludeOutput.addActionListener(new ActionListener(){
    @Override public void actionPerformed(    final ActionEvent e){
      moduleCompilerPathsManager.setExcludeOutput(myCbExcludeOutput.isSelected());
    }
  }
);
  final JPanel outputPathsPanel=new JPanel(new GridBagLayout());
  outputPathsPanel.add(myInheritCompilerOutput,new GridBagConstraints(0,GridBagConstraints.RELATIVE,2,1,1.0,0.0,GridBagConstraints.WEST,GridBagConstraints.NONE,new Insets(6,0,0,4),0,0));
  outputPathsPanel.add(myPerModuleCompilerOutput,new GridBagConstraints(0,GridBagConstraints.RELATIVE,2,1,1.0,0.0,GridBagConstraints.WEST,GridBagConstraints.NONE,new Insets(6,0,0,4),0,0));
  myOutputLabel=new JLabel(ProjectBundle.message("module.paths.output.label"));
  outputPathsPanel.add(myOutputLabel,new GridBagConstraints(0,GridBagConstraints.RELATIVE,1,1,0.0,0.0,GridBagConstraints.EAST,GridBagConstraints.NONE,new Insets(6,12,0,4),0,0));
  outputPathsPanel.add(myOutputPathPanel,new GridBagConstraints(1,GridBagConstraints.RELATIVE,2,1,1.0,0.0,GridBagConstraints.WEST,GridBagConstraints.HORIZONTAL,new Insets(6,4,0,0),0,0));
  myTestOutputLabel=new JLabel(ProjectBundle.message("module.paths.test.output.label"));
  outputPathsPanel.add(myTestOutputLabel,new GridBagConstraints(0,GridBagConstraints.RELATIVE,1,1,0.0,0.0,GridBagConstraints.EAST,GridBagConstraints.NONE,new Insets(6,16,0,4),0,0));
  outputPathsPanel.add(myTestsOutputPathPanel,new GridBagConstraints(1,GridBagConstraints.RELATIVE,2,1,1.0,0.0,GridBagConstraints.WEST,GridBagConstraints.HORIZONTAL,new Insets(6,4,0,0),0,0));
  myResourceOutputLabel=new JLabel(ProjectBundle.message("module.paths.resource.output.label"));
  outputPathsPanel.add(myResourceOutputLabel,new GridBagConstraints(0,GridBagConstraints.RELATIVE,1,1,0.0,0.0,GridBagConstraints.EAST,GridBagConstraints.NONE,new Insets(6,16,0,4),0,0));
  outputPathsPanel.add(myResourcesOutputPathPanel,new GridBagConstraints(1,GridBagConstraints.RELATIVE,2,1,1.0,0.0,GridBagConstraints.WEST,GridBagConstraints.HORIZONTAL,new Insets(6,4,0,0),0,0));
  myTestResourceOutputLabel=new JLabel(ProjectBundle.message("module.paths.test.resource.output.label"));
  outputPathsPanel.add(myTestResourceOutputLabel,new GridBagConstraints(0,GridBagConstraints.RELATIVE,1,1,0.0,0.0,GridBagConstraints.EAST,GridBagConstraints.NONE,new Insets(6,16,0,4),0,0));
  outputPathsPanel.add(myTestResourcesOutputPathPanel,new GridBagConstraints(1,GridBagConstraints.RELATIVE,2,1,1.0,0.0,GridBagConstraints.WEST,GridBagConstraints.HORIZONTAL,new Insets(6,4,0,0),0,0));
  outputPathsPanel.add(myCbExcludeOutput,new GridBagConstraints(0,GridBagConstraints.RELATIVE,2,1,1.0,0.0,GridBagConstraints.WEST,GridBagConstraints.NONE,new Insets(6,16,0,0),0,0));
  updateOutputPathPresentation();
  final boolean outputPathInherited=moduleCompilerPathsManager.isInheritedCompilerOutput();
  myInheritCompilerOutput.setSelected(outputPathInherited);
  myPerModuleCompilerOutput.setSelected(!outputPathInherited);
  enableCompilerSettings(!outputPathInherited);
  final JPanel panel=new JPanel(new BorderLayout());
  panel.setBorder(IdeBorderFactory.createTitledBorder(ProjectBundle.message("project.roots.output.compiler.title"),true));
  panel.add(outputPathsPanel,BorderLayout.NORTH);
  return panel;
}
