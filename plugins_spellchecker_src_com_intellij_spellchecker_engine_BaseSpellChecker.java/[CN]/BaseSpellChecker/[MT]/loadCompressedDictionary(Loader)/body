{
  if (ApplicationManager.getApplication().isUnitTestMode() || ApplicationManager.getApplication().isHeadlessEnvironment()) {
    final CompressedDictionary dictionary=CompressedDictionary.create(loader,transform);
    if (dictionary != null) {
      addCompressedFixedDictionary(dictionary);
    }
  }
 else {
    loadDictionaryAsync(loader,new Consumer<Dictionary>(){
      @Override public void consume(      final Dictionary dictionary){
        addCompressedFixedDictionary(dictionary);
      }
    }
);
  }
}
