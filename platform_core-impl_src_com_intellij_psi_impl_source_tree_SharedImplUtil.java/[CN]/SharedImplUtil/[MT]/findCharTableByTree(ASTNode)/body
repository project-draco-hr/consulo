{
  while (tree != null) {
    final CharTable userData=tree.getUserData(CharTable.CHAR_TABLE_KEY);
    if (userData != null)     return userData;
    if (tree instanceof FileElement)     return ((FileElement)tree).getCharTable();
    tree=tree.getTreeParent();
  }
  LOG.error("Invalid root element");
  return null;
}
