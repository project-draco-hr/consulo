{
  startElement(statement);
  PsiExpression expr=statement.getExpression();
  if (expr != null) {
    expr.accept(this);
  }
  PsiCodeBlock body=statement.getBody();
  if (body != null) {
    PsiStatement[] statements=body.getStatements();
    PsiSwitchLabelStatement defaultLabel=null;
    for (    PsiStatement aStatement : statements) {
      ProgressIndicatorProvider.checkCanceled();
      if (aStatement instanceof PsiSwitchLabelStatement) {
        if (((PsiSwitchLabelStatement)aStatement).isDefaultCase()) {
          defaultLabel=(PsiSwitchLabelStatement)aStatement;
        }
        Instruction instruction=new ConditionalGoToInstruction(0,statement.getExpression());
        myCurrentFlow.addInstruction(instruction);
        addElementOffsetLater(aStatement,true);
      }
    }
    if (defaultLabel == null) {
      Instruction instruction=new GoToInstruction(0);
      myCurrentFlow.addInstruction(instruction);
      addElementOffsetLater(body,false);
    }
    body.accept(this);
  }
  finishElement(statement);
}
