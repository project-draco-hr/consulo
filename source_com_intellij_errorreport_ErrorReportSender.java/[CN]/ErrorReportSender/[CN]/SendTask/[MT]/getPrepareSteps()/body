{
  if (prepareTasks == null)   prepareTasks=new ITask[]{new ITask(){
    private boolean checked=false;
    public boolean isSuccessful(){
      return checked;
    }
    public String getDescription(){
      return DiagnosticBundle.message("error.report.step.check.new.eap");
    }
    public void run(){
      try {
        UpdateChecker.NewVersion newVersion=UpdateChecker.checkForUpdates();
        if (newVersion != null) {
          throw new NewBuildException(Integer.toString(newVersion.getLatestBuild()));
        }
        checked=true;
        exceptionBean=new ExceptionBean(throwable);
      }
 catch (      NewBuildException e) {
        throw new SendException(e);
      }
catch (      ConnectionException e) {
        throw new SendException(e);
      }
    }
  }
};
  return prepareTasks;
}
