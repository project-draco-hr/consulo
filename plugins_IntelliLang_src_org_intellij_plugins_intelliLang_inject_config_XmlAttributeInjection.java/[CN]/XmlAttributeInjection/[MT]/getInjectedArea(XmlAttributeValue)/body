{
  if (myCompiledValuePattern == null) {
    return Collections.singletonList(TextRange.from(1,element.getTextLength() - 2));
  }
 else {
    final XmlAttribute attr=(XmlAttribute)element.getParent();
    final List<TextRange> ranges=getMatchingRanges(myCompiledValuePattern.matcher(attr.getDisplayValue()),1);
    return ranges.size() > 0 ? ContainerUtil.map(ranges,new Function<TextRange,TextRange>(){
      public TextRange fun(      TextRange s){
        return new TextRange(attr.displayToPhysical(s.getStartOffset()),attr.displayToPhysical(s.getEndOffset()));
      }
    }
) : Collections.<TextRange>emptyList();
  }
}
