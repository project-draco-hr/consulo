{
  PsiVariable[] usedVariables=ControlFlowUtil.getUsedVariables(myControlFlow,start,end);
  for (int i=0; i < usedVariables.length; i++) {
    PsiVariable variable=usedVariables[i];
    boolean toDeclare=!isDeclaredInside(variable) && !contains(myInputVariables,variable);
    if (toDeclare) {
      String name=variable.getName();
      PsiDeclarationStatement statement=myElementFactory.createVariableDeclarationStatement(name,variable.getType(),null);
      body.add(statement);
    }
  }
}
