{
  if (myShowErrorDialogs) {
    StringBuffer buffer=new StringBuffer();
    buffer.append("Cannot perform the refactoring.\n");
    buffer.append("There are multiple output values for the selected code fragment:\n");
    if (myHasExpressionOutput) {
      buffer.append("    expression result : ");
      buffer.append(PsiFormatUtil.formatType(expressionType,0,PsiSubstitutor.EMPTY));
      buffer.append(",\n");
    }
    for (int i=0; i < myOutputVariables.length; i++) {
      PsiVariable var=myOutputVariables[i];
      buffer.append("    ");
      buffer.append(var.getName());
      buffer.append(" : ");
      buffer.append(PsiFormatUtil.formatType(var.getType(),0,PsiSubstitutor.EMPTY));
      if (i < myOutputVariables.length - 1) {
        buffer.append(",\n");
      }
 else {
        buffer.append(".");
      }
    }
    RefactoringMessageUtil.showErrorMessage(myRefactoringName,buffer.toString(),myHelpId,myProject);
  }
}
