{
  List<PsiFile> result=new ArrayList<PsiFile>();
  Set<String> extensionSet=new HashSet<String>();
  addAll(extensionSet,extensions);
  for (  VirtualFile dir : getResourceSubdirs(resType)) {
    for (    final VirtualFile resFile : dir.getChildren()) {
      String extension=resFile.getExtension();
      if (extensions.length == 0 || extensionSet.contains(extension)) {
        String s=getResourceName(resType,resFile.getName());
        if (resName == null || equal(resName,s,distinguishDelimetersInName)) {
          PsiFile file=ApplicationManager.getApplication().runReadAction(new Computable<PsiFile>(){
            @Nullable public PsiFile compute(){
              return PsiManager.getInstance(myModule.getProject()).findFile(resFile);
            }
          }
);
          if (file != null) {
            result.add(file);
          }
        }
      }
    }
  }
  return result;
}
