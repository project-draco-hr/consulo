{
  final List<ResourceElement> result=new ArrayList<ResourceElement>();
  Collection<Resources> resourceFiles=getResourceElements(files);
  for (  final Resources resources : resourceFiles) {
    ApplicationManager.getApplication().runReadAction(new Runnable(){
      @Override public void run(){
        if (!resources.isValid() || myModule.isDisposed() || myModule.getProject().isDisposed()) {
          return;
        }
        result.addAll(AndroidResourceUtil.getValueResourcesFromElement(resourceType,resources));
      }
    }
);
  }
  return result;
}
