{
  List<VirtualFile> dirs=new ArrayList<VirtualFile>();
  if (ArrayUtil.find(FILE_RESOURCE_TYPES,resourceType) < 0 && resourceType != null) {
    return dirs;
  }
  VirtualFile[] resourcesDirs=getAllResourceDirs();
  for (  VirtualFile resourcesDir : resourcesDirs) {
    if (resourcesDir == null)     return dirs;
    if (resourceType == null) {
      ContainerUtil.addAll(dirs,resourcesDir.getChildren());
    }
 else {
      for (      VirtualFile child : resourcesDir.getChildren()) {
        String type=getResourceTypeByDirName(child.getName());
        if (resourceType.equals(type))         dirs.add(child);
      }
    }
  }
  return dirs;
}
