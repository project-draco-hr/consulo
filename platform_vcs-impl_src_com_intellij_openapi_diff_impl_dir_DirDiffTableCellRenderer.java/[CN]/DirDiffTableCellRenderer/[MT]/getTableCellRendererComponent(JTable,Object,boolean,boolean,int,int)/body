{
  final DirDiffTableModel model=(DirDiffTableModel)table.getModel();
  final DirDiffElement element=model.myElements.get(row);
  if (element.isSeparator()) {
    return new JPanel(){
      @Override public void paint(      Graphics g){
        super.paint(g);
        int offset=0;
        int i=0;
        final TableColumnModel columnModel=table.getColumnModel();
        while (i < column) {
          offset+=columnModel.getColumn(i).getWidth();
          i++;
        }
        int width=columnModel.getColumn(column).getWidth();
        int height=table.getRowHeight(row);
        final BufferedImage image=getOrCreate(element.getName());
        g.drawImage(image,0,0,width,height,offset,0,offset + width,height,null);
      }
    }
;
  }
  final Component c=super.getTableCellRendererComponent(table,value,isSelected,hasFocus,row,column);
  if (c instanceof JLabel && (hasFocus || isSelected)) {
    ((JLabel)c).setBorder(noFocusBorder);
  }
  return c;
}
