def debugsub(ui, repo, rev=None):
    if (rev == ''):
        rev = None
    for (k, v) in sorted(repo[rev].substate.items()):
        ui.write(('path %s\n' % k))
        ui.write((' source   %s\n' % v[0]))
        ui.write((' revision %s\n' % v[1]))
