def debugindex(ui, file_):
    'dump the contents of an index file'
    r = revlog.revlog(util.opener(os.getcwd(), audit=False), file_)
    ui.write('   rev    offset  length   base linkrev nodeid       p1           p2\n')
    for i in r:
        node = r.node(i)
        try:
            pp = r.parents(node)
        except:
            pp = [nullid, nullid]
        ui.write(('% 6d % 9d % 7d % 6d % 7d %s %s %s\n' % (i, r.start(i), r.length(i), r.base(i), r.linkrev(i), short(node), short(pp[0]), short(pp[1]))))
