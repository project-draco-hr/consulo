def manifest(ui, repo, node=None, rev=None):
    'output the current or given revision of the project manifest\n\n    Print a list of version controlled files for the given revision.\n    If no revision is given, the first parent of the working directory\n    is used, or the null revision if no revision is checked out.\n\n    With -v, print file permissions, symlink and executable bits.\n    With --debug, print file revision hashes.\n    '
    if (rev and node):
        raise util.Abort(_('please specify just one revision'))
    if (not node):
        node = rev
    decor = {'l': '644 @ ', 'x': '755 * ', '': '644   ', }
    ctx = repo[node]
    for f in ctx:
        if ui.debugflag:
            ui.write(('%40s ' % hex(ctx.manifest()[f])))
        if ui.verbose:
            ui.write(decor[ctx.flags(f)])
        ui.write(('%s\n' % f))
