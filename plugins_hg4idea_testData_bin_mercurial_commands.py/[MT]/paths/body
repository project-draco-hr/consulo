def paths(ui, repo, search=None):
    "show aliases for remote repositories\n\n    Show definition of symbolic path name NAME. If no name is given,\n    show definition of all available names.\n\n    Path names are defined in the [paths] section of /etc/mercurial/hgrc\n    and $HOME/.hgrc. If run inside a repository, .hg/hgrc is used, too.\n\n    The path names ``default`` and ``default-push`` have a special\n    meaning.  When performing a push or pull operation, they are used\n    as fallbacks if no location is specified on the command-line.\n    When ``default-push`` is set, it will be used for push and\n    ``default`` will be used for pull; otherwise ``default`` is used\n    as the fallback for both.  When cloning a repository, the clone\n    source is written as ``default`` in ``.hg/hgrc``.  Note that\n    ``default`` and ``default-push`` apply to all inbound (e.g. ``hg\n    incoming``) and outbound (e.g. ``hg outgoing``, ``hg email`` and\n    ``hg bundle``) operations.\n\n    See 'hg help urls' for more information.\n    "
    if search:
        for (name, path) in ui.configitems('paths'):
            if (name == search):
                ui.write(('%s\n' % url.hidepassword(path)))
                return
        ui.warn(_('not found!\n'))
        return 1
    else:
        for (name, path) in ui.configitems('paths'):
            ui.write(('%s = %s\n' % (name, url.hidepassword(path))))
