def debugindexdot(ui, file_):
    'dump an index DAG as a graphviz dot file'
    r = revlog.revlog(util.opener(os.getcwd(), audit=False), file_)
    ui.write('digraph G {\n')
    for i in r:
        node = r.node(i)
        pp = r.parents(node)
        ui.write(('\t%d -> %d\n' % (r.rev(pp[0]), i)))
        if (pp[1] != nullid):
            ui.write(('\t%d -> %d\n' % (r.rev(pp[1]), i)))
    ui.write('}\n')
