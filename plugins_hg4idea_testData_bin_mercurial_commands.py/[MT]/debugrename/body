def debugrename(ui, repo, file1, *pats, **opts):
    'dump rename information'
    ctx = repo[opts.get('rev')]
    m = cmdutil.match(repo, ((file1,) + pats), opts)
    for abs in ctx.walk(m):
        fctx = ctx[abs]
        o = fctx.filelog().renamed(fctx.filenode())
        rel = m.rel(abs)
        if o:
            ui.write((_('%s renamed from %s:%s\n') % (rel, o[0], hex(o[1]))))
        else:
            ui.write((_('%s not renamed\n') % rel))
