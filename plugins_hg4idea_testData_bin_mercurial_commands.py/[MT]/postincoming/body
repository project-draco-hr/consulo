def postincoming(ui, repo, modheads, optupdate, checkout):
    if (modheads == 0):
        return
    if optupdate:
        if (((modheads <= 1) or (len(repo.branchheads()) == 1)) or checkout):
            return hg.update(repo, checkout)
        else:
            ui.status(_('not updating, since new heads added\n'))
    if (modheads > 1):
        ui.status(_("(run 'hg heads' to see heads, 'hg merge' to merge)\n"))
    else:
        ui.status(_("(run 'hg update' to get a working copy)\n"))
