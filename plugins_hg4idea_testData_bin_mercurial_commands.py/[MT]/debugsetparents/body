def debugsetparents(ui, repo, rev1, rev2=None):
    'manually set the parents of the current working directory\n\n    This is useful for writing repository conversion tools, but should\n    be used with care.\n    '
    if (not rev2):
        rev2 = hex(nullid)
    wlock = repo.wlock()
    try:
        repo.dirstate.setparents(repo.lookup(rev1), repo.lookup(rev2))
    finally:
        wlock.release()
