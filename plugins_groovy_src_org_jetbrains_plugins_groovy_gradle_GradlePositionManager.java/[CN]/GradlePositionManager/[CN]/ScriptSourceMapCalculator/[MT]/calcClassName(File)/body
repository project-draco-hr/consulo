{
  final ClassLoader loader=getGradleClassLoader(myModule);
  if (loader != null) {
    Class<?> fileScriptSource;
    try {
      fileScriptSource=Class.forName("org.gradle.groovy.scripts.UriScriptSource",true,loader);
    }
 catch (    ClassNotFoundException e) {
      try {
        fileScriptSource=Class.forName("org.gradle.groovy.scripts.FileScriptSource",true,loader);
      }
 catch (      ClassNotFoundException e1) {
        return null;
      }
    }
    try {
      final Object source=fileScriptSource.getConstructor(String.class,File.class).newInstance("script",scriptFile);
      return (String)fileScriptSource.getMethod("getClassName").invoke(source);
    }
 catch (    Exception e) {
      LOG.error(e);
    }
  }
  return null;
}
