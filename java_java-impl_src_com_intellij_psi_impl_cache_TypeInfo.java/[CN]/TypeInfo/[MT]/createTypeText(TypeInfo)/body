{
  if (typeInfo == NULL)   return null;
  if (typeInfo.text == null)   return null;
  if (typeInfo.arrayCount == 0 && typeInfo.myAnnotationStubs.isEmpty())   return typeInfo.text.getString();
  String text=typeInfo.text.getString();
  StringBuilder buf=new StringBuilder(text.length());
  for (  PsiAnnotationStub stub : typeInfo.myAnnotationStubs) {
    buf.append(stub.getText()).append(" ");
  }
  buf.append(text);
  final int arrayCount=typeInfo.isEllipsis ? typeInfo.arrayCount - 1 : typeInfo.arrayCount;
  for (int i=0; i < arrayCount; i++)   buf.append("[]");
  if (typeInfo.isEllipsis) {
    buf.append("...");
  }
  return buf.toString();
}
