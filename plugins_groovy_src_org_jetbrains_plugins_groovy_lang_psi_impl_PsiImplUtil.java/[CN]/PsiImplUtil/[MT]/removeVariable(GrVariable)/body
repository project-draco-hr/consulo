{
  final GrVariableDeclaration varDecl=(GrVariableDeclaration)variable.getParent();
  final List<GrVariable> variables=Arrays.asList(varDecl.getVariables());
  if (!variables.contains(variable)) {
    throw new IllegalArgumentException();
  }
  final ASTNode varDeclNode=varDecl.getNode();
  final PsiElement parent=varDecl.getParent();
  final ASTNode owner=parent.getNode();
  if (variables.size() == 1 && owner != null) {
    owner.removeChild(varDeclNode);
    PsiUtil.reformatCode(parent);
    return;
  }
  final ASTNode varNode=variable.getNode();
  if (varNode != null) {
    varDeclNode.removeChild(varNode);
  }
  PsiUtil.reformatCode(varDecl);
}
