{
  final GrVariableDeclaration varDecl=(GrVariableDeclaration)variable.getParent();
  final List<GrVariable> variables=Arrays.asList(varDecl.getVariables());
  if (!variables.contains(variable)) {
    throw new IllegalArgumentException();
  }
  final PsiElement parent=varDecl.getParent();
  final ASTNode owner=parent.getNode();
  if (variables.size() == 1 && owner != null) {
    PsiElement next=varDecl.getNextSibling();
    while (next != null && next.getNode() != null && next.getNode().getElementType() == mSEMI) {
      PsiElement tmpNext=next.getNextSibling();
      next.delete();
      next=tmpNext;
    }
    removeNewLineAfter(varDecl);
    varDecl.delete();
    return;
  }
  variable.delete();
}
