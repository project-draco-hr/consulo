{
  final Element rootElement=new Element("root");
  rootElement.setAttribute("isBackward",String.valueOf(!myForward));
  for (  PsiFile file : myDependencies.keySet()) {
    final Element fileElement=new Element("file");
    fileElement.setAttribute("path",file.getVirtualFile().getPath());
    for (    PsiFile dep : myDependencies.get(file)) {
      Element depElement=new Element("dependency");
      depElement.setAttribute("path",dep.getVirtualFile().getPath());
      fileElement.addContent(depElement);
    }
    rootElement.addContent(fileElement);
  }
  PathMacroManager.getInstance(myProject).collapsePaths(rootElement);
  return JDOMUtil.writeDocument(new Document(rootElement),SystemProperties.getLineSeparator());
}
