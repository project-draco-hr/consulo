{
  final InspectionTool tool=myTree.getSelectedTool();
  final InspectionProfile inspectionProfile=myInspectionProfile;
  LOG.assertTrue(inspectionProfile != null);
  if (tool != null) {
    final HighlightDisplayKey key=HighlightDisplayKey.find(tool.getShortName());
    if (key != null) {
      if (new EditInspectionToolsSettingsAction(key).editToolSettings(myProject,(InspectionProfileImpl)inspectionProfile,false)) {
        updateCurrentProfile(inspectionProfile);
      }
      return;
    }
  }
  if (EditInspectionToolsSettingsAction.editToolSettings(myProject,(InspectionProfileImpl)inspectionProfile,false,null,InspectionProjectProfileManager.getInstance(myProject))) {
    updateCurrentProfile(inspectionProfile);
  }
}
