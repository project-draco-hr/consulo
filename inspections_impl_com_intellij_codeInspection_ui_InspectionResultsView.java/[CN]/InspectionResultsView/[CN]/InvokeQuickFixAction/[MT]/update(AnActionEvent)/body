{
  if (!isSingleToolInSelection()) {
    e.getPresentation().setEnabled(false);
    return;
  }
  final @NotNull InspectionTool tool=myTree.getSelectedTool();
  List<RefEntity> selectedElements=new ArrayList<RefEntity>();
  final TreePath[] selectionPaths=myTree.getSelectionPaths();
  for (  TreePath path : selectionPaths) {
    traverseRefElements((InspectionTreeNode)path.getLastPathComponent(),selectedElements);
  }
  final QuickFixAction[] quickFixes=tool.getQuickFixes(selectedElements.toArray(new RefEntity[selectedElements.size()]));
  if (quickFixes == null || quickFixes.length == 0) {
    e.getPresentation().setEnabled(false);
    return;
  }
  ActionGroup fixes=new ActionGroup(){
    public AnAction[] getChildren(    @Nullable AnActionEvent e){
      List<QuickFixAction> children=new ArrayList<QuickFixAction>();
      for (      QuickFixAction fix : quickFixes) {
        if (fix != null) {
          children.add(fix);
        }
      }
      return children.toArray(new AnAction[children.size()]);
    }
  }
;
  e.getPresentation().setEnabled(!ActionGroupUtil.isGroupEmpty(fixes,e));
}
