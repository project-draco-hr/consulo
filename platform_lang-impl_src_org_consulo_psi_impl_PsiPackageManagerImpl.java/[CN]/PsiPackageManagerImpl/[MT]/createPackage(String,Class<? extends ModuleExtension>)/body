{
  Query<VirtualFile> dirs=myDirectoryIndex.getDirectoriesByPackageName(qualifiedName,false);
  if (dirs.findFirst() == null) {
    return null;
  }
  for (  VirtualFile next : dirs) {
    for (    PsiPackageResolver psiPackageResolver : PsiPackageResolver.EP_NAME.getExtensions()) {
      final PsiPackage psiPackage=psiPackageResolver.resolvePackage(this,next,extensionClass,qualifiedName);
      if (psiPackage != null) {
        return psiPackage;
      }
    }
  }
  return null;
}
