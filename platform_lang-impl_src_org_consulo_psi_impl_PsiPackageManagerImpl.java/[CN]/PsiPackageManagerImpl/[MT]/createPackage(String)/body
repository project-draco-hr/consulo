{
  Query<VirtualFile> dirs=myDirectoryIndex.getDirectoriesByPackageName(qualifiedName,false);
  if (dirs.findFirst() == null) {
    return null;
  }
  PsiManager psiManager=PsiManager.getInstance(myModule.getProject());
  final Iterator<VirtualFile> iterator=dirs.iterator();
  while (iterator.hasNext()) {
    final VirtualFile next=iterator.next();
    final Module moduleForFile=ModuleUtil.findModuleForFile(next,myModule.getProject());
    if (moduleForFile == null) {
      continue;
    }
    for (    PsiPackageSupportProvider p : PsiPackageSupportProvider.EP_NAME.getExtensions()) {
      if (p.isSupported(myModule)) {
        return p.createPackage(psiManager,this,qualifiedName);
      }
    }
  }
  return null;
}
