{
  myInstructions=new ArrayList<InstructionImpl>();
  myProcessingStack=new Stack<InstructionImpl>();
  myPending=new ArrayList<Pair<InstructionImpl,GroovyPsiElement>>();
  myInstructionNumber=0;
  myHead=new InstructionImpl(scope,myInstructionNumber++);
  myStartInScope=startInScope;
  myEndInScope=endInScope;
  Instruction head=myHead;
  scope.accept(this);
  final InstructionImpl end=startNode(null);
  checkPending(end);
  return head;
}
