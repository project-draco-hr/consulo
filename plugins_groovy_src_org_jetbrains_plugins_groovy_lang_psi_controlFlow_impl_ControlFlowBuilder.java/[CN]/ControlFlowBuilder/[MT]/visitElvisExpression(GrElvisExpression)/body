{
  GrExpression condition=expression.getCondition();
  GrExpression elseBranch=expression.getElseBranch();
  condition.accept(this);
  List<GotoInstruction> negations=collectAndRemoveAllPendingNegations(expression);
  addPendingEdge(expression,myHead);
  if (elseBranch != null) {
    myHead=reduceAllNegationsIntoInstruction(expression,negations);
    elseBranch.accept(this);
    handlePossibleReturn(elseBranch);
  }
}
