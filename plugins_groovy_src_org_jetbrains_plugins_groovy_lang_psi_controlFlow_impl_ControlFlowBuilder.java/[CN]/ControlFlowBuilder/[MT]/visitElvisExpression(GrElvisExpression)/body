{
  GrExpression condition=expression.getCondition();
  GrExpression elseBranch=expression.getElseBranch();
  condition.accept(this);
  List<GotoInstruction> negations=collectAndRemoveAllPendingNegations(expression);
  InstructionImpl head=myHead;
  handlePossibleReturn(condition);
  addPendingEdge(expression,myHead);
  myHead=head;
  if (elseBranch != null) {
    head=reduceAllNegationsIntoInstruction(expression,negations);
    if (head != null)     myHead=head;
    elseBranch.accept(this);
    handlePossibleReturn(elseBranch);
  }
}
