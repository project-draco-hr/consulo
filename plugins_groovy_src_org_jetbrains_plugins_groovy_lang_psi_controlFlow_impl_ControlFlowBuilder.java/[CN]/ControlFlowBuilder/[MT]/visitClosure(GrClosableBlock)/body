{
  if (closure.getParent() instanceof GrStringInjection) {
    super.visitClosure(closure);
    return;
  }
  Set<String> names=new HashSet<String>();
  ReadWriteVariableInstruction[] reads=ControlFlowBuilderUtil.getReadsWithoutPriorWrites(closure.getControlFlow());
  for (  ReadWriteVariableInstruction read : reads) {
    names.add(read.getVariableName());
  }
  for (  String name : names) {
    addNodeAndCheckPending(new ReadWriteVariableInstruction(name,closure,myInstructionNumber++,READ));
  }
  addNodeAndCheckPending(new InstructionImpl(closure,myInstructionNumber++));
}
