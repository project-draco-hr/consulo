{
  super.visitReferenceExpression(refExpr);
  if (refExpr.getQualifierExpression() == null) {
    String name=refExpr.getReferenceName();
    if (name == null)     return;
    if (ControlFlowUtils.isIncOrDecOperand(refExpr)) {
      final InstructionImpl i=new ReadWriteVariableInstruction(name,refExpr,myInstructionNumber++,READ);
      addNodeAndCheckPending(i);
      addNode(new ReadWriteVariableInstruction(name,refExpr,myInstructionNumber++,WRITE));
    }
 else {
      final int type=PsiUtil.isLValue(refExpr) ? WRITE : READ;
      addNodeAndCheckPending(new ReadWriteVariableInstruction(name,refExpr,myInstructionNumber++,type));
      if (refExpr.getParent() instanceof GrArgumentList && refExpr.getParent().getParent() instanceof GrCall) {
        addNodeAndCheckPending(new ArgumentInstruction(refExpr,myInstructionNumber++));
      }
    }
  }
 else   if (!(refExpr.getParent() instanceof GrCall)) {
    visitCall(refExpr);
  }
}
