{
  final AbstractVcs[] vcs=new AbstractVcs[1];
  final boolean done=myLife.doIfAlive(new Runnable(){
    public void run(){
      vcs[0]=myGuess.getVcsForDirty(dir);
      if (vcs[0] != null) {
        myScopes.addDirtyDirRecursively(vcs[0],new FilePathImpl(dir));
      }
    }
  }
);
  if (done && vcs[0] != null) {
    myChangeListManager.scheduleUpdate();
  }
}
