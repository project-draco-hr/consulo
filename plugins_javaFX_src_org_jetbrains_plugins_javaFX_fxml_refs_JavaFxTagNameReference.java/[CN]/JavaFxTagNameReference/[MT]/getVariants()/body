{
  final PsiElement element=getElement();
  if (!myStartTagFlag) {
    return super.getVariants();
  }
  final XmlTag xmlTag=(XmlTag)element;
  final List<XmlElementDescriptor> variants=TagNameReference.<XmlElementDescriptor>getTagNameVariants(xmlTag,Arrays.asList(xmlTag.knownNamespaces()),new ArrayList<String>(),Function.ID);
  final List<LookupElement> elements=new ArrayList<LookupElement>(variants.size());
  for (  XmlElementDescriptor descriptor : variants) {
    final String descriptorName=descriptor.getName(element);
    if (descriptorName != null) {
      LookupElementBuilder lookupElement=LookupElementBuilder.create(descriptor,descriptorName);
      elements.add(lookupElement.withInsertHandler(JavaFxTagInsertHandler.INSTANCE));
    }
  }
  return elements.toArray(new LookupElement[elements.size()]);
}
