{
  final Ref<LighterASTNode[]> prologChildren=new Ref<LighterASTNode[]>(null);
  final int prologChildrenCount=structure.getChildren(structure.prepareForGetChildren(prolog),prologChildren);
  for (int i=0; i < prologChildrenCount; i++) {
    LighterASTNode node=prologChildren.get()[i];
    IElementType type=node.getTokenType();
    if (type == XmlElementType.XML_DOCTYPE) {
      processDoctypeNode(builder,structure,node);
      break;
    }
    if (type == TokenType.ERROR_ELEMENT) {
      processErrorNode(psiBuilder,node,builder);
    }
  }
}
