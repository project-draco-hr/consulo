{
  if (status == FileStatus.NOT_CHANGED) {
    if (file != null) {
      final Document document=FileDocumentManager.getInstance().getCachedDocument(file);
      if (document != null && FileDocumentManager.getInstance().isDocumentUnsaved(document)) {
        builder.processChange(new Change(new CvsUpToDateRevision(filePath,number),new CurrentContentRevision(filePath),FileStatus.MODIFIED));
      }
    }
    return;
  }
  if (status == FileStatus.MODIFIED || status == FileStatus.MERGE || status == FileStatus.MERGED_WITH_CONFLICTS) {
    builder.processChange(new Change(new CvsUpToDateRevision(filePath,number),new CurrentContentRevision(filePath),status));
  }
 else   if (status == FileStatus.ADDED) {
    builder.processChange(new Change(null,new CurrentContentRevision(filePath),status));
  }
 else   if (status == FileStatus.DELETED) {
    builder.processChange(new Change(new CvsUpToDateRevision(filePath,number),null,status));
  }
 else   if (status == FileStatus.DELETED_FROM_FS) {
    builder.processLocallyDeletedFile(filePath);
  }
 else   if (status == FileStatus.UNKNOWN) {
    builder.processUnversionedFile(filePath.getVirtualFile());
  }
}
