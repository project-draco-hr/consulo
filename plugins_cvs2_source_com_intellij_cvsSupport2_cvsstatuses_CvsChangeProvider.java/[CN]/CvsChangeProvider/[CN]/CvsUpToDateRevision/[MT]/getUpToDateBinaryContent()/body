{
  VirtualFile virtualFile=myPath.getVirtualFile();
  byte[] result=null;
  if (virtualFile != null) {
    result=getLastUpToDateContentFor(virtualFile);
  }
  if (result == null) {
    final GetFileContentOperation operation;
    if (virtualFile != null) {
      operation=GetFileContentOperation.createForFile(virtualFile,SimpleRevision.createForTheSameVersionOf(virtualFile));
    }
 else {
      operation=GetFileContentOperation.createForFile(myPath);
    }
    if (operation.getRoot().isOffline())     return null;
    CvsVcs2.executeQuietOperation(CvsBundle.message("operation.name.get.file.content"),operation,myVcs.getProject());
    result=operation.tryGetFileBytes();
  }
  return result;
}
