{
  String path=message.getFileAbsolutePath();
  VirtualFile virtualFile=getVirtualFileFor(path);
  final int messageType=message.getType();
  if (virtualFile != null && messageType == FileMessage.NOT_IN_REPOSITORY && FileTypeManager.getInstance().isFileIgnored(virtualFile)) {
    return;
  }
  FileGroup collection=getCollectionFor(messageType,virtualFile);
  LOG.assertTrue(collection != null,String.valueOf(messageType));
  final CvsRevisionNumber revision=message.getRevision();
  collection.add(path,CvsVcs2.getKey(),revision);
}
