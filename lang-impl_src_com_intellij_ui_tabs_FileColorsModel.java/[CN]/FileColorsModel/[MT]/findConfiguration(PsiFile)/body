{
  for (  final FileColorConfiguration configuration : myConfigurations) {
    final NamedScope scope=NamedScopeManager.getScope(myProject,configuration.getScopeName());
    if (scope != null) {
      final NamedScopesHolder namedScopesHolder=NamedScopeManager.getHolder(myProject,configuration.getScopeName(),null);
      if (scope.getValue() != null && namedScopesHolder != null && scope.getValue().contains(colored,namedScopesHolder)) {
        return configuration;
      }
    }
  }
  for (  FileColorConfiguration configuration : mySharedConfigurations) {
    final NamedScope scope=NamedScopeManager.getScope(myProject,configuration.getScopeName());
    if (scope != null) {
      final NamedScopesHolder namedScopesHolder=NamedScopeManager.getHolder(myProject,configuration.getScopeName(),null);
      if (scope.getValue() != null && namedScopesHolder != null && scope.getValue().contains(colored,namedScopesHolder)) {
        return configuration;
      }
    }
  }
  return null;
}
