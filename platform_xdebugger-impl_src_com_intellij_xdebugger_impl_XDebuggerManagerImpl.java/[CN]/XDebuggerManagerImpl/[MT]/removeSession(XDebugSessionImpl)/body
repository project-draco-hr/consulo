{
  XDebugSessionTab sessionTab=session.getSessionTab();
  mySessions.remove(session.getDebugProcess().getProcessHandler());
  if (sessionTab != null) {
    final RunContentDescriptor descriptor=sessionTab.getRunContentDescriptor();
    mySessionData.put(descriptor,session.getSessionData());
    mySessionTabs.put(descriptor,sessionTab);
    final ProcessHandler handler=session.getDebugProcess().getProcessHandler();
    Disposer.register(sessionTab,new Disposable(){
      @Override public void dispose(){
        mySessionData.remove(descriptor);
        mySessionTabs.remove(descriptor);
        mySessions.remove(handler);
      }
    }
);
  }
  if (myActiveSession == session) {
    myActiveSession=null;
    onActiveSessionChanged();
  }
}
