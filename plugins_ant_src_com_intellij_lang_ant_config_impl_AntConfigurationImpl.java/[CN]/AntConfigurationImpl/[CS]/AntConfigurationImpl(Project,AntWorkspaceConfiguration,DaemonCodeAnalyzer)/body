{
  super(project);
  getProperties().registerProperty(DEFAULT_ANT,AntReference.EXTERNALIZER);
  getProperties().rememberKey(INSTANCE);
  getProperties().rememberKey(DEFAULT_JDK_NAME);
  INSTANCE.set(getProperties(),this);
  myAntWorkspaceConfiguration=antWorkspaceConfiguration;
  myPsiManager=PsiManager.getInstance(project);
  myStartupManager=StartupManager.getInstance(project);
  addAntConfigurationListener(new AntConfigurationListener(){
    public void configurationLoaded(){
      daemon.restart();
    }
    public void buildFileChanged(    final AntBuildFile buildFile){
      daemon.restart();
    }
    public void buildFileAdded(    final AntBuildFile buildFile){
      daemon.restart();
    }
    public void buildFileRemoved(    final AntBuildFile buildFile){
      daemon.restart();
    }
  }
);
}
