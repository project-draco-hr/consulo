{
  if (filter == null) {
    return Pair.empty();
  }
  String text=filter.getText().trim();
  if (StringUtil.isEmptyOrSpaces(text)) {
    return Pair.empty();
  }
  List<String> hashes=ContainerUtil.newArrayList();
  for (  String word : StringUtil.split(text," ")) {
    if (!StringUtil.isEmptyOrSpaces(word) && word.matches(HASH_PATTERN)) {
      hashes.add(word);
    }
 else {
      break;
    }
  }
  VcsLogTextFilter textFilter;
  VcsLogHashFilterImpl hashFilter;
  if (!hashes.isEmpty()) {
    textFilter=null;
    hashFilter=new VcsLogHashFilterImpl(hashes);
  }
 else {
    textFilter=new VcsLogTextFilterImpl(text);
    hashFilter=null;
  }
  return Pair.<VcsLogTextFilter,VcsLogHashFilter>create(textFilter,hashFilter);
}
