{
  if (myNontrivialPackagePrefixes == null) {
    myNontrivialPackagePrefixes=new HashSet<String>();
    final ProjectRootManager rootManager=myProjectRootManager;
    final VirtualFile[] sourceRoots=rootManager.getContentSourceRoots();
    final ProjectFileIndex fileIndex=rootManager.getFileIndex();
    for (int i=0; i < sourceRoots.length; i++) {
      final VirtualFile sourceRoot=sourceRoots[i];
      final String packageName=fileIndex.getPackageNameByDirectory(sourceRoot);
      if (packageName != null && packageName.length() > 0) {
        myNontrivialPackagePrefixes.add(packageName);
      }
    }
  }
  return myNontrivialPackagePrefixes;
}
