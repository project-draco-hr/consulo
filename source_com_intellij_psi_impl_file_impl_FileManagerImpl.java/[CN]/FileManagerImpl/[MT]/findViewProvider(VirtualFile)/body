{
  FileViewProvider viewProvider;
synchronized (PsiLock.LOCK) {
    viewProvider=myVFileToPsiFileMap.get(file);
    if (viewProvider == null) {
      viewProvider=createFileViewProvider(file);
      myVFileToPsiFileMap.put(file,viewProvider);
    }
  }
  return viewProvider;
}
