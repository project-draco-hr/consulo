{
  FileViewProvider viewProvider=null;
  final FileType fileType=file.getFileType();
  if (fileType instanceof LanguageFileType) {
    final LanguageFileType languageFileType=(LanguageFileType)fileType;
    final FileViewProviderFactory factory=LanguageFileViewProviders.INSTANCE.forLanguage(languageFileType.getLanguage());
    viewProvider=factory != null ? factory.createFileViewProvider(file,languageFileType.getLanguage(),myManager,true) : null;
  }
  if (viewProvider == null)   viewProvider=new SingleRootFileViewProvider(myManager,file);
  return viewProvider;
}
