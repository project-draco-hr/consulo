{
  FileViewProvider viewProvider=null;
  Language language=getLanguage(file);
  if (language != null) {
    final FileViewProviderFactory factory=LanguageFileViewProviders.INSTANCE.forLanguage(language);
    viewProvider=factory != null ? factory.createFileViewProvider(file,language,myManager,true) : null;
  }
  if (viewProvider == null)   viewProvider=new SingleRootFileViewProvider(myManager,file);
  return viewProvider;
}
