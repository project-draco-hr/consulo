{
  Language language=null;
  final LanguageProvider[] providers=Extensions.getExtensions(LanguageProvider.EP_NAME);
  for (  LanguageProvider provider : providers) {
    language=provider.getLanguage(file,myManager.getProject());
    if (language != null)     break;
  }
  if (language == null) {
    final FileType fileType=file.getFileType();
    if (fileType instanceof LanguageFileType) {
      language=((LanguageFileType)fileType).getLanguage();
    }
  }
  return language;
}
