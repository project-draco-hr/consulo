{
  if (vFile.isDirectory())   return null;
  final ProjectEx project=(ProjectEx)myManager.getProject();
  if (project.isDummy() || project.isDefault())   return null;
  ApplicationManager.getApplication().assertReadAccessAllowed();
  if (!vFile.isValid()) {
    LOG.assertTrue(false,"Invalid file: " + vFile);
    return null;
  }
  dispatchPendingEvents();
  final FileViewProvider viewProvider=findViewProvider(vFile);
  return viewProvider.getPsi(viewProvider.getBaseLanguage());
}
