{
  prepareLocalChangesAndBranchWithSameModifiedFilesWithoutConflicts(myUltimate);
  prepareLocalChangesAndBranchWithSameModifiedFilesWithoutConflicts(myCommunity);
  prepareLocalChangesAndBranchWithSameModifiedFilesWithoutConflicts(myContrib);
  myDialogManager.registerDialogHandler(GitWouldBeOverwrittenByCheckoutDialog.class,new TestDialogHandler<GitWouldBeOverwrittenByCheckoutDialog>(){
    @Override public int handleDialog(    GitWouldBeOverwrittenByCheckoutDialog dialog){
      return DialogWrapper.OK_EXIT_CODE;
    }
  }
);
  doCheckout("feature",null);
  assertBranch("feature");
  for (  GitRepository repository : myRepositories) {
    refresh(repository);
    assertBranch(repository,"feature");
    assertEquals(read(repository,"local.txt"),"master\ninitial content\nfeature content\n");
  }
}
