{
  prepareLocalChangesAndBranchWithSameModifiedFilesWithoutConflicts(myCommunity);
  branch(myUltimate,"feature");
  branch(myContrib,"feature");
  myDialogManager.registerDialogHandler(GitWouldBeOverwrittenByCheckoutDialog.class,new TestDialogHandler<GitWouldBeOverwrittenByCheckoutDialog>(){
    @Override public int handleDialog(    GitWouldBeOverwrittenByCheckoutDialog dialog){
      return DialogWrapper.CANCEL_EXIT_CODE;
    }
  }
);
  doCheckout("feature",null);
  assertMessage("Couldn't checkout feature","Local changes would be overwritten by checkout.<br/>Stash or commit them before checking out a branch.<br/>" + "However checkout has succeeded for the following repository:<br/>" + myUltimate.getPresentableUrl() + "<br/>You may rollback (checkout back to master) not to let branches diverge.","Rollback","Don't rollback");
}
