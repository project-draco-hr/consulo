{
  return new JavaElementVisitor(){
    @Override public void visitMethodCallExpression(    PsiMethodCallExpression expression){
      PsiReferenceExpression methodExpression=expression.getMethodExpression();
      if ("setTitle".equals(methodExpression.getReferenceName())) {
        PsiMethod psiMethod=expression.resolveMethod();
        if (psiMethod == null) {
          return;
        }
        PsiClass containingClass=psiMethod.getContainingClass();
        if (containingClass == null || !"com.intellij.openapi.ui.DialogWrapper".equals(containingClass.getQualifiedName())) {
          return;
        }
        PsiExpression[] args=expression.getArgumentList().getExpressions();
        if (args.length == 0) {
          return;
        }
        String titleValue=getTitleValue(args[0]);
        if (titleValue != null && !hasTitleCapitalization(titleValue)) {
          holder.registerProblem(args[0],"Dialog title '" + titleValue + "' is not properly capitalized. It should have title capitalization",ProblemHighlightType.GENERIC_ERROR_OR_WARNING);
        }
      }
    }
  }
;
}
