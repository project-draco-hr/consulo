{
  myStatusPanel.setBusy(true);
  myProgress=new EmptyProgressIndicator();
  final List<TextMergeChange> scheduled=ContainerUtil.newArrayList(myScheduled);
  myScheduled.clear();
  final Document[] documents=new Document[]{getEditor(ThreeSide.LEFT).getDocument(),getEditor(ThreeSide.BASE).getDocument(),getEditor(ThreeSide.RIGHT).getDocument()};
  final List<InnerChunkData> data=ContainerUtil.map(scheduled,new Function<TextMergeChange,InnerChunkData>(){
    @Override public InnerChunkData fun(    TextMergeChange change){
      return new InnerChunkData(change,documents);
    }
  }
);
  final ProgressIndicator indicator=myProgress;
  ApplicationManager.getApplication().executeOnPooledThread(new Runnable(){
    @Override public void run(){
      performRediff(scheduled,data,indicator);
    }
  }
);
}
