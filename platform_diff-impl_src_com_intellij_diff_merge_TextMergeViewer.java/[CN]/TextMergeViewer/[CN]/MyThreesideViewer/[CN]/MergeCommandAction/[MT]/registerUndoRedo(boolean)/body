{
  if (myUndoManager == null)   return;
  List<TextMergeChange> affectedChanges=getAffectedChanges();
  final List<TextMergeChange.State> states=new ArrayList<TextMergeChange.State>(affectedChanges.size());
  for (  TextMergeChange change : affectedChanges) {
    states.add(change.storeState());
  }
  myUndoManager.undoableActionPerformed(new MyUndoableAction(TextMergeViewer.this,states,undo));
}
