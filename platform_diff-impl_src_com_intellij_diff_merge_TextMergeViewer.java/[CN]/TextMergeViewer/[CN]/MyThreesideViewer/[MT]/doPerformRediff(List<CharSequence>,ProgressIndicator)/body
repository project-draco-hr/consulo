{
  try {
    indicator.checkCanceled();
    List<MergeLineFragment> lineFragments=ByLine.compareTwoStep(sequences.get(0),sequences.get(1),sequences.get(2),ComparisonPolicy.DEFAULT,indicator);
    return apply(lineFragments);
  }
 catch (  DiffTooBigException e) {
    return applyNotification(DiffNotifications.createDiffTooBig());
  }
catch (  ProcessCanceledException e) {
    throw e;
  }
catch (  Throwable e) {
    LOG.error(e);
    return new Runnable(){
      @Override public void run(){
        clearDiffPresentation();
        myPanel.setErrorContent();
      }
    }
;
  }
}
