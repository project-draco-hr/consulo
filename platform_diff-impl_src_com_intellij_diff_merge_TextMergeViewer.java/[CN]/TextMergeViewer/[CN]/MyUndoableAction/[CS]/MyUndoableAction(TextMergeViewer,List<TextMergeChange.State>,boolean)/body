{
  super(viewer.getViewer().getEditor().getDocument());
  myViewerRef=new WeakReference<TextMergeViewer>(viewer);
  myStates=states;
  myUndo=undo;
}
