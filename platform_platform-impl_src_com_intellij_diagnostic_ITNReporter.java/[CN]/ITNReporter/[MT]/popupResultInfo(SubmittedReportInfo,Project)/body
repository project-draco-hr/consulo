{
  ApplicationManager.getApplication().invokeLater(new Runnable(){
    @Override public void run(){
      StringBuilder text=new StringBuilder("<html>");
      final String url=IdeErrorsDialog.getUrl(reportInfo,false);
      IdeErrorsDialog.appendSubmissionInformation(reportInfo,text,url);
      text.append(".");
      final SubmittedReportInfo.SubmissionStatus status=reportInfo.getStatus();
      if (status == SubmittedReportInfo.SubmissionStatus.NEW_ISSUE) {
        text.append("<br/>").append(DiagnosticBundle.message("error.report.gratitude"));
      }
 else       if (status == SubmittedReportInfo.SubmissionStatus.DUPLICATE) {
        text.append("<br/>Possible duplicate report");
      }
      text.append("</html>");
      NotificationType type;
      if (status == SubmittedReportInfo.SubmissionStatus.FAILED) {
        type=NotificationType.ERROR;
      }
 else       if (status == SubmittedReportInfo.SubmissionStatus.DUPLICATE) {
        type=NotificationType.WARNING;
      }
 else {
        type=NotificationType.INFORMATION;
      }
      NotificationListener listener=url != null ? new NotificationListener(){
        @Override public void hyperlinkUpdate(        @NotNull Notification notification,        @NotNull HyperlinkEvent event){
          BrowserUtil.launchBrowser(url);
          notification.expire();
        }
      }
 : null;
      ReportMessages.GROUP.createNotification(ReportMessages.ERROR_REPORT,text.toString(),type,listener).notify(project);
    }
  }
);
}
