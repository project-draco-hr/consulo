{
  final String artifactName=myArtifact.getName();
  final String entryName="Artifact '" + artifactName + "'";
  final String messagePrefix="[" + entryName + "] ";
  final JpsModule module=myExtension.getModule();
  final AndroidPlatform platform=AndroidJpsUtil.getAndroidPlatform(module,context,BUILDER_NAME);
  if (platform == null) {
    return;
  }
  final String sdkLocation=platform.getSdk().getHomePath();
  final String artifactFilePath=myArtifact.getOutputFilePath();
  final String keyStorePath=myProps.getKeyStoreUrl() != null ? JpsPathUtil.urlToPath(myProps.getKeyStoreUrl()) : "";
  final String keyStorePassword=myProps.getKeyStorePassword();
  final String plainKeyStorePassword=keyStorePassword != null && keyStorePassword.length() > 0 ? Base64Converter.decode(keyStorePassword) : null;
  final String keyPassword=myProps.getKeyPassword();
  final String plainKeyPassword=keyPassword != null && keyPassword.length() > 0 ? Base64Converter.decode(keyPassword) : null;
  try {
    final Map<AndroidCompilerMessageKind,List<String>> messages=AndroidCommonUtils.buildArtifact(artifactName,messagePrefix,sdkLocation,artifactFilePath,keyStorePath,myProps.getKeyAlias(),plainKeyStorePassword,plainKeyPassword);
    AndroidJpsUtil.addMessages(context,messages,BUILDER_NAME,entryName);
  }
 catch (  GeneralSecurityException e) {
    AndroidJpsUtil.reportExceptionError(context,null,e,BUILDER_NAME);
  }
catch (  IOException e) {
    AndroidJpsUtil.reportExceptionError(context,null,e,BUILDER_NAME);
  }
}
