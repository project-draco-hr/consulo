{
  if (Thread.interrupted())   throw new InterruptedException();
  InterruptedException ie=null;
synchronized (this) {
    if (msecs <= 0)     return startWrite();
 else     if (startWriteFromNewWriter())     return true;
 else {
      long waitTime=msecs;
      long start=System.currentTimeMillis();
      for (; ; ) {
        try {
          wait(waitTime);
        }
 catch (        InterruptedException ex) {
          cancelledWaitingWriter();
          notify();
          ie=ex;
          break;
        }
        if (startWriteFromWaitingWriter())         return true;
 else {
          waitTime=msecs - (System.currentTimeMillis() - start);
          if (waitTime <= 0) {
            cancelledWaitingWriter();
            notify();
            break;
          }
        }
      }
    }
  }
  readerLock_.signalWaiters();
  if (ie != null)   throw ie;
 else   return false;
}
