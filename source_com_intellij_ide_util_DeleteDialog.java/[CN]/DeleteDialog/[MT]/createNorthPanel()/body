{
  final JPanel panel=new JPanel(new GridBagLayout());
  final GridBagConstraints gbc=new GridBagConstraints();
  final String warningMessage=DeleteUtil.generateWarningMessage(IdeBundle.message("prompt.delete.elements"),myElements);
  gbc.insets=new Insets(4,8,4,8);
  gbc.weighty=1;
  gbc.weightx=1;
  gbc.gridx=0;
  gbc.gridy=0;
  gbc.gridwidth=2;
  gbc.fill=GridBagConstraints.BOTH;
  gbc.anchor=GridBagConstraints.WEST;
  panel.add(new JLabel(warningMessage),gbc);
  gbc.gridy++;
  gbc.gridx=0;
  gbc.weightx=0.0;
  gbc.gridwidth=1;
  gbc.insets=new Insets(4,8,0,8);
  myCbSafeDelete=new JCheckBox(IdeBundle.message("checkbox.safe.delete.with.usage.search"));
  panel.add(myCbSafeDelete,gbc);
  gbc.gridy++;
  gbc.gridx=0;
  gbc.weightx=0.0;
  gbc.gridwidth=1;
  gbc.insets=new Insets(0,8,4,8);
  myCbSearchInComments=new StateRestoringCheckBox(IdeBundle.message("checkbox.search.in.comments.and.strings"));
  panel.add(myCbSearchInComments,gbc);
  gbc.gridx++;
  myCbSearchInNonJava=new StateRestoringCheckBox(IdeBundle.message("checkbox.search.in.non.java.files"));
  panel.add(myCbSearchInNonJava,gbc);
  final JavaRefactoringSettings refactoringSettings=JavaRefactoringSettings.getInstance();
  myCbSafeDelete.setSelected(refactoringSettings.SAFE_DELETE_WHEN_DELETE);
  myCbSearchInComments.setSelected(refactoringSettings.SAFE_DELETE_SEARCH_IN_COMMENTS);
  myCbSearchInNonJava.setSelected(refactoringSettings.SAFE_DELETE_SEARCH_IN_NON_JAVA);
  myCbSafeDelete.addItemListener(new ItemListener(){
    public void itemStateChanged(    ItemEvent e){
      updateControls();
    }
  }
);
  updateControls();
  return panel;
}
