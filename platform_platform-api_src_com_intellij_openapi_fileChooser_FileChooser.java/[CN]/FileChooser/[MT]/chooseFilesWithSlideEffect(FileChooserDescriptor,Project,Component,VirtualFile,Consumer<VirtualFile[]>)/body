{
  final String path=toSelect != null ? FileChooserUtil.getSelectionPath(toSelect) : null;
  choosePaths(descriptor,project,parent,path,new Consumer<List<String>>(){
    @Override public void consume(    final List<String> paths){
      final List<VirtualFile> files=FileChooserUtil.pathsToFiles(paths,true);
      callback.consume(VfsUtil.toVirtualFileArray(files));
    }
  }
);
}
