{
  super(project);
  mySettings=settings;
  myExpression=expression;
  myOtherExpressions=settings.isReplaceAll() ? otherExpressions : Collections.<XPathExpression>emptySet();
  final XmlTag templateTag=XsltCodeInsightUtil.getTemplateTag(myExpression,true,true);
  myTemplate=templateTag != null ? XsltElementFactory.getInstance().wrapElement(templateTag,XsltTemplate.class) : null;
  setPreviewUsages(settings.isPreview());
}
