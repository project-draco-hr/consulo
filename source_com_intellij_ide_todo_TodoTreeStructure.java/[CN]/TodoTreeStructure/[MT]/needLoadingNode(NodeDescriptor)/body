{
  Object element=descriptor.getElement();
  if (element == getRootElement()) {
    return true;
  }
 else   if (element instanceof SummaryNode) {
    return true;
  }
 else   if (element instanceof PsiDirectoryNode) {
    return true;
  }
 else   if (element instanceof PsiFileNode) {
    return mySearchHelper.getTodoItemsCount(((PsiFileNode)element).getValue()) > 0;
  }
 else   if (element instanceof TodoItemNode) {
    return false;
  }
 else   if (element instanceof ModuleToDoNode) {
    return true;
  }
 else {
    throw new IllegalArgumentException(element.getClass().getName());
  }
}
