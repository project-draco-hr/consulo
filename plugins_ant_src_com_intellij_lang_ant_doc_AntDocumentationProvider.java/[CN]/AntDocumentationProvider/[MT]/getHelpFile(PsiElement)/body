{
  if (!(element instanceof AntElement)) {
    return null;
  }
  final AntElement antElement=(AntElement)element;
  final AntFile antFile=antElement.getAntFile();
  if (antFile == null) {
    return null;
  }
  final AntFile originalFile=(AntFile)antFile.getOriginalFile();
  final AntInstallation installation=originalFile.getAntInstallation();
  if (installation == null) {
    return null;
  }
  final String antHomeDir=AntInstallation.HOME_DIR.get(installation.getProperties());
  if (antHomeDir == null) {
    return null;
  }
  @NonNls String path=antHomeDir + "/docs/manual";
  String url;
  if (new File(path).exists()) {
    url=VirtualFileManager.constructUrl(LocalFileSystem.PROTOCOL,FileUtil.toSystemIndependentName(path));
  }
 else {
    path=antHomeDir + "/docs.zip";
    if (new File(path).exists()) {
      url=VirtualFileManager.constructUrl(JarFileSystem.PROTOCOL,FileUtil.toSystemIndependentName(path) + JarFileSystem.JAR_SEPARATOR + "docs/manual");
    }
 else {
      return null;
    }
  }
  final VirtualFile documentationRoot=VirtualFileManager.getInstance().findFileByUrl(url);
  if (documentationRoot == null) {
    return null;
  }
  return getHelpFile(antElement,documentationRoot);
}
