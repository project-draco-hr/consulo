{
  File modulesFile=new File(ideaProjectDir,"modules.xml");
  if (!modulesFile.exists()) {
    return;
  }
  final Document document=ideaProjectModel.loadDocument(modulesFile);
  XPath xpathExpression=XPath.newInstance("/project[@version='4']/component[@name='ProjectModuleManager']/modules/*");
  final List list=xpathExpression.selectNodes(document);
  for (  Object o : list) {
    Element element=(Element)o;
    String filepath=element.getAttributeValue("filepath");
    if (filepath == null) {
      continue;
    }
    final IdeaModuleModel moduleModel=new IdeaModuleModel(filepath);
    moduleModel.load(ideaProjectModel,ideaProjectDir);
    myModules.add(moduleModel);
  }
}
