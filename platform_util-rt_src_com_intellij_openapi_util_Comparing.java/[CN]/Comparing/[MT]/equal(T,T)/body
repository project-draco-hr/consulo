{
  if (arg1 == arg2)   return true;
  if (arg1 == null || arg2 == null) {
    return false;
  }
  if (arg1 instanceof Object[] && arg2 instanceof Object[]) {
    Object[] arr1=(Object[])arg1;
    Object[] arr2=(Object[])arg2;
    return Arrays.equals(arr1,arr2);
  }
  if (arg1 instanceof CharSequence && arg2 instanceof CharSequence) {
    return equal((CharSequence)arg1,(CharSequence)arg2,true);
  }
  return arg1.equals(arg2);
}
