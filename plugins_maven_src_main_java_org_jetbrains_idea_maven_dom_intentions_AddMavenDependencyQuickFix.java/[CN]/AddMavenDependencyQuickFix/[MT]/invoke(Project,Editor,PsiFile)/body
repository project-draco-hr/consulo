{
  if (!myRef.isValid())   return;
  MavenProject mavenProject=MavenDomUtil.findContainingProject(file);
  if (mavenProject == null)   return;
  final List<MavenId> ids=MavenArtifactSearchDialog.searchForClass(project,getReferenceText());
  if (ids.isEmpty())   return;
  final MavenDomProjectModel model=MavenDomUtil.getMavenDomProjectModel(project,mavenProject.getFile());
  if (model == null)   return;
  new WriteCommandAction(project,"Add Maven Dependency",DomUtil.getFile(model)){
    @Override protected void run(    Result result) throws Throwable {
      for (      MavenId each : ids) {
        MavenDomUtil.createDomDependency(model,null,each);
      }
    }
  }
.execute();
}
