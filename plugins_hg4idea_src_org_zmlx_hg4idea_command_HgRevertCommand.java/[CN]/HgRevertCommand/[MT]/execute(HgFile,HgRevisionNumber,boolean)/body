{
  List<String> arguments=new LinkedList<String>();
  if (vcsRevisionNumber != null) {
    arguments.add("--rev");
    if (StringUtils.isNotBlank(vcsRevisionNumber.getChangeset())) {
      arguments.add(vcsRevisionNumber.getChangeset());
    }
 else {
      arguments.add(vcsRevisionNumber.getRevision());
    }
  }
  if (!backupFile) {
    arguments.add("--no-backup");
  }
  ContainerUtil.addAll(arguments,hgFile.getRelativePath());
  new HgCommandExecutor(project).execute(hgFile.getRepo(),"revert",arguments,null);
  project.getMessageBus().syncPublisher(HgVcs.BRANCH_TOPIC).update(project);
}
