{
  if (myIsInitialized)   return;
  myIsInitialized=true;
  final PsiAnnotationStub stub=getStub();
  final CompositeElement mirror=stub.getTreeElement();
  myReferenceElement=new ClsJavaCodeReferenceElementImpl(this,mirror.findChildByRole(ChildRole.CLASS_REFERENCE).getText());
  final PsiAnnotationParameterList paramList=(PsiAnnotationParameterList)mirror.findChildByRoleAsPsiElement(ChildRole.PARAMETER_LIST);
  myParameterList=new ClsAnnotationParameterListImpl(this);
  PsiNameValuePair[] psiAttributes=paramList.getAttributes();
  ClsNameValuePairImpl[] attributes=new ClsNameValuePairImpl[psiAttributes.length];
  myParameterList.setAttributes(attributes);
  for (int i=0; i < attributes.length; i++) {
    attributes[i]=new ClsNameValuePairImpl(myParameterList);
    attributes[i].setNameIdentifier(new ClsIdentifierImpl(attributes[i],psiAttributes[i].getName()));
    attributes[i].setMemberValue(ClsAnnotationsUtil.getMemberValue(psiAttributes[i].getValue(),attributes[i]));
  }
}
