{
  int end=myEnd;
  for (int i=0; i < myCurrentHighlighters.size(); i++) {
    RangeHighlighterImpl highlighter=myCurrentHighlighters.get(i);
    if (highlighter.getAffectedAreaEndOffset() < end) {
      end=highlighter.getAffectedAreaEndOffset();
    }
  }
  if (myNextDocumentHighlighter != null && myNextDocumentHighlighter.getAffectedAreaStartOffset() < end) {
    end=myNextDocumentHighlighter.getAffectedAreaStartOffset();
  }
  if (myNextViewHighlighter != null && myNextViewHighlighter.getAffectedAreaStartOffset() < end) {
    end=myNextViewHighlighter.getAffectedAreaStartOffset();
  }
  return end;
}
