{
  final List<PsiField> out=new ArrayList<PsiField>(5);
  out.add(field);
  PsiField nextField=PsiTreeUtil.getNextSiblingOfType(field,PsiField.class);
  if (nextField != null) {
    PsiTypeElement nextTypeElement=nextField.getTypeElement();
    while (nextTypeElement != null && nextTypeElement.equals(field.getTypeElement())) {
      out.add(nextField);
      nextField=PsiTreeUtil.getNextSiblingOfType(nextField,PsiField.class);
      if (nextField == null) {
        break;
      }
      nextTypeElement=nextField.getTypeElement();
    }
  }
  return out;
}
