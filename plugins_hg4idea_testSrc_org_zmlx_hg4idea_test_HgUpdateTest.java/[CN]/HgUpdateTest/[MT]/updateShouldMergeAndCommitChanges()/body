{
  changeFile_A_AndCommitInRemoteRepository();
  createAndCommitNewFileInLocalRepository();
  PreUpdateInformation preUpdateInformation=new PreUpdateInformation().getPreUpdateInformation();
  HgRevisionNumber incomingHead=preUpdateInformation.getIncomingHead();
  HgRevisionNumber headBeforeUpdate=preUpdateInformation.getHeadBeforeUpdate();
  List<VcsException> warnings=updateThroughPlugin();
  assertEquals(warnings.size(),0,"Plain update should not generate warnings");
  assertCurrentHeadIsMerge(incomingHead,headBeforeUpdate);
}
