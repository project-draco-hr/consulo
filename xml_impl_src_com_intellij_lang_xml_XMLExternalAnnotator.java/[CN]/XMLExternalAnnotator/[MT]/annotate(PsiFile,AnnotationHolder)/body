{
  if (!(file instanceof XmlFile))   return;
  VirtualFile virtualFile=file.getVirtualFile();
  if (virtualFile != null && XHtmlFileType.INSTANCE.equals(virtualFile.getFileType()) && file.getViewProvider() instanceof TemplateLanguageFileViewProvider)   return;
  myHolder=holder;
  final XmlDocument document=((XmlFile)file).getDocument();
  if (document == null)   return;
  XmlTag rootTag=document.getRootTag();
  XmlNSDescriptor nsDescriptor=rootTag == null ? null : rootTag.getNSDescriptor(rootTag.getNamespace(),false);
  if (nsDescriptor instanceof Validator) {
    ((Validator<XmlDocument>)nsDescriptor).validate(document,this);
  }
}
