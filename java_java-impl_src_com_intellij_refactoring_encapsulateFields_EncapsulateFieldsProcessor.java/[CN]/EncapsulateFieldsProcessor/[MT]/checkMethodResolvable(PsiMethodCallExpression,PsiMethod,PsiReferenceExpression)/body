{
  PsiElementFactory factory=JavaPsiFacade.getInstance(targetMethod.getProject()).getElementFactory();
  final PsiElement resolved=methodCall.getMethodExpression().resolve();
  if (resolved != targetMethod) {
    PsiClass containingClass;
    if (resolved instanceof PsiMethod) {
      containingClass=((PsiMethod)resolved).getContainingClass();
    }
 else     if (resolved instanceof PsiClass) {
      containingClass=(PsiClass)resolved;
    }
 else {
      return null;
    }
    if (containingClass.isInheritor(myClass,false)) {
      final PsiExpression newMethodExpression=factory.createExpressionFromText("super." + targetMethod.getName(),context);
      methodCall.getMethodExpression().replace(newMethodExpression);
    }
 else {
      methodCall=null;
    }
  }
  return methodCall;
}
