{
  PsiElement element=descriptor.getPsiElement();
  while (true) {
    PsiElement parent=element.getParent();
    if (parent instanceof PsiReferenceExpression || parent instanceof PsiMethodCallExpression) {
      element=parent;
    }
 else {
      break;
    }
  }
  if (!(element instanceof PsiExpression)) {
    return;
  }
  final PsiExpression expression=(PsiExpression)element;
  final PsiFile file=expression.getContainingFile();
  if (!CodeInsightUtilBase.prepareFileForWrite(file))   return;
  final PsiConditionalExpression conditionalExpression=replaceWthConditionalExpression(project,myText + "!=null",expression,suggestDefaultValue(expression));
  final PsiExpression elseExpression=conditionalExpression.getElseExpression();
  if (elseExpression != null) {
    selectInEditor(elseExpression);
  }
}
