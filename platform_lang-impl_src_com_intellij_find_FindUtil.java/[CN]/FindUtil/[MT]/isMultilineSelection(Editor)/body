{
  SelectionModel selectionModel=editor != null ? editor.getSelectionModel() : null;
  if (selectionModel != null) {
    String selectedText=selectionModel.getSelectedText();
    if (selectedText != null) {
      if (selectedText.indexOf("\n") != -1) {
        return true;
      }
      final Document document=editor.getDocument();
      final int line=document.getLineNumber(selectionModel.getSelectionStart());
      final String lineText=document.getText(new TextRange(document.getLineStartOffset(line),document.getLineEndOffset(line)));
      if (lineText.trim().equals(selectedText)) {
        return true;
      }
    }
  }
  return false;
}
