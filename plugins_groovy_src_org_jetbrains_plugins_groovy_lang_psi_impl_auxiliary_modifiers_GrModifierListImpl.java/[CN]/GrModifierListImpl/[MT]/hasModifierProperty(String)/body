{
  final PsiElement parent=getParent();
  if (parent instanceof GrVariableDeclaration && parent.getParent() instanceof GrTypeDefinitionBody && !hasExplicitVisibilityModifiers()) {
    if (modifier.equals(PsiModifier.PUBLIC))     return false;
    if (modifier.equals(PsiModifier.PROTECTED))     return false;
    if (modifier.equals(PsiModifier.PRIVATE))     return true;
  }
  if (modifier.equals(PsiModifier.PUBLIC)) {
    return findChildByType(GroovyElementTypes.kPRIVATE) == null && findChildByType(GroovyElementTypes.kPROTECTED) == null;
  }
  if (modifier.equals(PsiModifier.PRIVATE))   return findChildByType(GroovyElementTypes.kPRIVATE) != null;
  if (modifier.equals(PsiModifier.PROTECTED))   return findChildByType(GroovyElementTypes.kPROTECTED) != null;
  if (modifier.equals(PsiModifier.SYNCHRONIZED))   return findChildByType(GroovyElementTypes.kSYNCHRONIZED) != null;
  if (modifier.equals(PsiModifier.STRICTFP))   return findChildByType(GroovyElementTypes.kSTRICTFP) != null;
  if (modifier.equals(PsiModifier.STATIC))   return findChildByType(GroovyElementTypes.kSTATIC) != null;
  if (modifier.equals(PsiModifier.FINAL))   return findChildByType(GroovyElementTypes.kFINAL) != null;
  if (modifier.equals(PsiModifier.TRANSIENT))   return findChildByType(GroovyElementTypes.kTRANSIENT) != null;
  if (modifier.equals(PsiModifier.VOLATILE))   return findChildByType(GroovyElementTypes.kVOLATILE) != null;
  if (!(parent instanceof GrVariableDeclaration)) {
    if (modifier.equals(PsiModifier.ABSTRACT)) {
      return (parent instanceof GrTypeDefinition && ((GrTypeDefinition)parent).isInterface()) || findChildByType(GroovyElementTypes.kABSTRACT) != null;
    }
    if (modifier.equals(PsiModifier.NATIVE))     return findChildByType(GroovyElementTypes.kNATIVE) != null;
  }
  return false;
}
