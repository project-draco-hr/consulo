{
  final PsiElement parent=getParent();
  if (parent instanceof GrVariableDeclaration && parent.getParent() instanceof GrTypeDefinitionBody && !hasExplicitVisibilityModifiers()) {
    PsiElement pParent=parent.getParent().getParent();
    if (!(pParent instanceof PsiClass) || !((PsiClass)pParent).isInterface()) {
      if (modifier.equals(PsiModifier.PUBLIC))       return false;
      if (modifier.equals(PsiModifier.PROTECTED))       return false;
      if (modifier.equals(PsiModifier.PRIVATE))       return true;
    }
 else {
      if (modifier.equals(PsiModifier.STATIC))       return true;
      if (modifier.equals(PsiModifier.FINAL))       return true;
    }
  }
  if (modifier.equals(PsiModifier.PUBLIC)) {
    return findChildByType(GroovyElementTypes.kPRIVATE) == null && findChildByType(GroovyElementTypes.kPROTECTED) == null;
  }
  if (hasOtherModifiers(modifier)) {
    return true;
  }
  if (!(parent instanceof GrVariableDeclaration)) {
    if (modifier.equals(PsiModifier.ABSTRACT)) {
      return (parent instanceof GrTypeDefinition && ((GrTypeDefinition)parent).isInterface()) || findChildByType(GroovyElementTypes.kABSTRACT) != null;
    }
    if (modifier.equals(PsiModifier.NATIVE))     return findChildByType(GroovyElementTypes.kNATIVE) != null;
  }
  return false;
}
