{
  GradleProject lastProjectState=myLastProjectState;
  if (lastProjectState == null) {
    lastProjectState=updateCurrentProjectState();
    if (lastProjectState == null) {
      return;
    }
  }
  GradleProject currentProjectState=buildCurrentIdeProject();
  if (currentProjectState == null) {
    return;
  }
  Context context=new Context(lastProjectState,currentProjectState);
  buildModulePresenceChanges(context);
  buildDependencyPresenceChanges(context);
  mySettings.setUserProjectChanges(context.currentChanges);
}
