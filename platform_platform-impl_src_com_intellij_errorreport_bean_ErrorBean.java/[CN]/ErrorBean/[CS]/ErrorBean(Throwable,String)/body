{
  appIsInternal=ApplicationManager.getApplication().isInternal();
  appUpdateChannel=consulo.ide.updateSettings.UpdateSettings.getInstance().getChannel();
  ApplicationInfoEx appInfo=(ApplicationInfoEx)ApplicationInfo.getInstance();
  appBuild=appInfo.getBuild().asString();
  appVersionMajor=appInfo.getMajorVersion();
  appVersionMinor=appInfo.getMinorVersion();
  appBuildDate=appInfo.getBuildDate() == null ? null : String.valueOf(appInfo.getBuildDate().getTimeInMillis());
  if (throwable != null) {
    message=throwable.getMessage();
    ByteArrayOutputStream stream=new ByteArrayOutputStream();
    throwable.printStackTrace(new PrintStream(stream,true));
    stackTrace=stream.toString();
  }
  this.lastAction=lastAction;
}
