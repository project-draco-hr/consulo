{
  final AntBuildModelBase model=(AntBuildModelBase)buildFile.getModel();
  if (model.getDefaultTargetName() != null) {
    DefaultActionGroup subgroup=new DefaultActionGroup();
    subgroup.add(getOrCreateAction(buildFile,TargetAction.DEFAULT_TARGET_NAME,new String[]{TargetAction.DEFAULT_TARGET_NAME},null,model.getDefaultTargetActionId()));
    group.add(subgroup);
  }
  final Set<String> addedTargetNames=StringSetSpinAllocator.alloc();
  try {
    addGroupOfTargets(buildFile,model.getFilteredTargets(),addedTargetNames,group);
    addGroupOfTargets(buildFile,antConfiguration.getMetaTargets(buildFile),addedTargetNames,group);
  }
  finally {
    StringSetSpinAllocator.dispose(addedTargetNames);
  }
}
