{
  MavenRepositoryIndex.IndexInfo i1=new MavenRepositoryIndex.IndexInfo("local",getTestDataPath("local2"),false);
  MavenRepositoryIndex.IndexInfo i2=new MavenRepositoryIndex.IndexInfo("remote","file:///" + getTestDataPath("remote"),true);
  index.add(i1);
  index.add(i2);
  index.update(i1,new EmptyProgressIndicator());
  index.update(i2,new EmptyProgressIndicator());
  index.save();
  shutdownIndex();
  initIndex();
  List<ArtifactInfo> result=index.find("junit*");
  assertEquals(3,result.size());
  assertEquals("4.0",result.get(0).version);
  result=index.find("jmock*");
  assertEquals(3,result.size());
  assertEquals("1.2.0",result.get(0).version);
}
