{
  final long prevLastModifiedValue=file.lastModified();
  if (file.exists()) {
    FileUtil.delete(file);
  }
  file.getParentFile().mkdirs();
  final DataOutputStream os=new DataOutputStream(new FileOutputStream(file));
  try {
    os.writeInt(version);
    os.writeInt(VERSION);
  }
  finally {
    ourIndexIdToCreationStamp.clear();
    os.close();
    long max=Math.max(System.currentTimeMillis(),Math.max(prevLastModifiedValue + 2000,ourLastStamp));
    ourLastStamp=max;
    file.setLastModified(max);
  }
}
