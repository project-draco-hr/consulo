{
  final JpsIntelliLangConfigurationImpl configuration=new JpsIntelliLangConfigurationImpl();
  final String annotationName=JDOMExternalizerUtil.readField(componentTag,PATTERN_ANNOTATION_NAME);
  if (annotationName != null) {
    configuration.setPatternAnnotationClassName(annotationName);
  }
  final String instrumentationType=JDOMExternalizerUtil.readField(componentTag,INSTRUMENTATION_TYPE_NAME);
  if (instrumentationType != null) {
    try {
      final InstrumentationType type=InstrumentationType.valueOf(instrumentationType);
      configuration.setInstrumentationType(type);
    }
 catch (    IllegalArgumentException ignored) {
      LOG.info(ignored);
    }
  }
  JpsIntelliLangExtensionService.getInstance().setConfiguration(global,configuration);
}
