{
  PsiElementFactory factory=field.getManager().getElementFactory();
  Project project=field.getProject();
  String name=field.getName();
  String getName=suggestGetterName(project,field);
  try {
    PsiMethod getMethod=factory.createMethod(getName,field.getType());
    getMethod.getModifierList().setModifierProperty(PsiModifier.PUBLIC,true);
    if (field.hasModifierProperty(PsiModifier.STATIC)) {
      getMethod.getModifierList().setModifierProperty(PsiModifier.STATIC,true);
    }
    final PsiAnnotation annotation=AnnotationUtil.findAnnotation(field,AnnotationUtil.ALL_ANNOTATIONS);
    if (annotation != null) {
      getMethod.getModifierList().addAfter(factory.createAnnotationFromText("@" + annotation.getQualifiedName(),getMethod),null);
    }
    PsiCodeBlock body=factory.createCodeBlockFromText("{\nreturn " + name + ";\n}",null);
    getMethod.getBody().replace(body);
    getMethod=(PsiMethod)CodeStyleManager.getInstance(project).reformat(getMethod);
    return getMethod;
  }
 catch (  IncorrectOperationException e) {
    LOG.error(e);
    return null;
  }
}
