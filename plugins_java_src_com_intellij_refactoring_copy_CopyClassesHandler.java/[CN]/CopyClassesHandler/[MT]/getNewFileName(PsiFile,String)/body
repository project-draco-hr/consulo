{
  if (name != null) {
    if (file instanceof PsiClassOwner) {
      final PsiClass[] classes=((PsiClassOwner)file).getClasses();
      if (classes.length > 0 && !(classes[0] instanceof SyntheticElement)) {
        return name + "." + file.getViewProvider().getVirtualFile().getExtension();
      }
    }
    return name;
  }
  return file.getName();
}
