{
  final RemotelyConfigurableStatisticsService statisticsService=new RemotelyConfigurableStatisticsService(new StatisticsConnectionService(),new StatisticsHttpClientSender(),new StatisticsUploadAssistant());
  if (StatisticsUploadAssistant.showNotification()) {
    StatisticsNotificationManager.showNotification(statisticsService,myProject);
  }
 else {
    Collection<StatisticsService> services=ContainerUtilRt.newArrayList();
    if (StatisticsUploadAssistant.isSendAllowed() && StatisticsUploadAssistant.isTimeToSend()) {
      services.add(statisticsService);
    }
    services.addAll(Arrays.asList(StatisticsService.EP_NAME.getExtensions()));
    if (!services.isEmpty()) {
      runWithDelay(services);
    }
  }
}
