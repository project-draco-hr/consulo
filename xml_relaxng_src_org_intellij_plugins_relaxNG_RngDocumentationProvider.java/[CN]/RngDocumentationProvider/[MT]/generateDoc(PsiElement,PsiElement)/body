{
  final XmlElement c=PsiTreeUtil.getParentOfType(originalElement,XmlTag.class,XmlAttribute.class);
  if (c instanceof XmlTag) {
    final XmlTag xmlElement=(XmlTag)c;
    final XmlElementDescriptor descriptor=xmlElement.getDescriptor();
    if (descriptor instanceof CompositeDescriptor) {
      final StringBuilder sb=new StringBuilder();
      final CompositeDescriptor d=(CompositeDescriptor)descriptor;
      final DElementPattern[] patterns=d.getElementPatterns();
      for (      DElementPattern pattern : patterns) {
        final PsiElement psiElement=d.getDeclaration(pattern.getLocation());
        if (psiElement instanceof XmlTag) {
          if (sb.length() > 0) {
            sb.append("<hr>");
          }
          sb.append(getDocumentationFromTag((XmlTag)psiElement,xmlElement.getLocalName(),"Element"));
        }
      }
      return makeDocumentation(sb);
    }
 else     if (descriptor instanceof RngElementDescriptor) {
      final RngElementDescriptor d=(RngElementDescriptor)descriptor;
      final PsiElement declaration=d.getDeclaration();
      if (declaration instanceof XmlTag) {
        return makeDocumentation(getDocumentationFromTag((XmlTag)declaration,xmlElement.getLocalName(),"Element"));
      }
    }
  }
 else   if (c instanceof XmlAttribute) {
    final XmlAttribute attribute=(XmlAttribute)c;
    final XmlAttributeDescriptor descriptor=attribute.getDescriptor();
    if (descriptor instanceof RngXmlAttributeDescriptor) {
      final RngXmlAttributeDescriptor d=(RngXmlAttributeDescriptor)descriptor;
      final StringBuilder sb=new StringBuilder();
      final Collection<PsiElement> declaration=d.getDeclarations();
      for (      PsiElement psiElement : declaration) {
        if (psiElement instanceof XmlTag) {
          if (sb.length() > 0) {
            sb.append("<hr>");
          }
          sb.append(getDocumentationFromTag((XmlTag)element,d.getName(),"Attribute"));
        }
      }
    }
  }
 else   if (element instanceof XmlTag) {
    return makeDocumentation(getDocumentationFromTag((XmlTag)element,((XmlTag)element).getLocalName(),"Element"));
  }
  return null;
}
