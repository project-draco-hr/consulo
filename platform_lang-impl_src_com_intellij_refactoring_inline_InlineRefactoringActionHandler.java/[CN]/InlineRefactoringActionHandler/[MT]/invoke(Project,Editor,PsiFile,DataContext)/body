{
  editor.getScrollingModel().scrollToCaret(ScrollType.MAKE_VISIBLE);
  PsiElement element=LangDataKeys.PSI_ELEMENT.getData(dataContext);
  if (element == null) {
    element=BaseRefactoringAction.getElementAtCaret(editor,file);
  }
  if (element != null) {
    for (    InlineActionHandler handler : Extensions.getExtensions(InlineActionHandler.EP_NAME)) {
      if (handler.canInlineElementInEditor(element,editor)) {
        handler.inlineElement(project,editor,element);
        return;
      }
    }
    if (invokeInliner(editor,element))     return;
    String message=RefactoringBundle.getCannotRefactorMessage(RefactoringBundle.message("error.wrong.caret.position.method.or.local.name"));
    CommonRefactoringUtil.showErrorHint(project,editor,message,REFACTORING_NAME,null);
  }
}
