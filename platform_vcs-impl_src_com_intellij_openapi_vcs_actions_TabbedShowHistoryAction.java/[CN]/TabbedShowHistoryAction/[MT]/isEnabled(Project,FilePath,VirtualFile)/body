{
  boolean result=false;
  AbstractVcs vcs=ChangesUtil.getVcsForFile(fileOrParent,project);
  if (vcs != null) {
    VcsHistoryProvider provider=vcs.getVcsHistoryProvider();
    result=provider != null && (provider.supportsHistoryForDirectories() || !path.isDirectory()) && AbstractVcs.fileInVcsByFileStatus(project,fileOrParent) && provider.canShowHistoryFor(fileOrParent);
  }
  return result;
}
