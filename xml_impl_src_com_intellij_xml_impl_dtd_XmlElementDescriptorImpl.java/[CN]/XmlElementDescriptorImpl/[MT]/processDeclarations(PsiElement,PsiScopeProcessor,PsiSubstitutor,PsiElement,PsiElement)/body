{
  final ElementClassHint hint=processor.getHint(ElementClassHint.class);
  final XmlTag tag=(XmlTag)context;
  final PsiMetaDataBase meta=tag.getMetaData();
  if (meta == null) {
    return true;
  }
  if (hint == null || hint.shouldProcess(XmlAttributeDecl.class)) {
    final XmlAttlistDecl[] decls=getAttlistDecls();
    for (    XmlAttlistDecl decl : decls) {
      final String name=decl.getName();
      if (name != null && name.equals(meta.getName())) {
        final XmlAttributeDecl[] attributes=decl.getAttributeDecls();
        for (        XmlAttributeDecl attribute : attributes) {
          if (!processor.execute(attribute,substitutor))           return false;
        }
      }
    }
  }
  if (hint == null || hint.shouldProcess(XmlElementDecl.class)) {
    final XmlElementDescriptor[] decls=getElementsDescriptors(tag);
    for (    final XmlElementDescriptor decl : decls) {
      if (!processor.execute(decl.getDeclaration(),substitutor))       return false;
    }
  }
  return true;
}
