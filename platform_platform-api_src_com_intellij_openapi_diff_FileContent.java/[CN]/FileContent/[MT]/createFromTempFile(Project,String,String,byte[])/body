{
  final File tempFile;
  if (content.length == 0) {
    tempFile=FileUtil.createTempFile(name,"txt");
    FileUtil.writeToFile(tempFile,"Does not exist");
  }
 else {
    tempFile=FileUtil.createTempFile(name,ext);
    FileUtil.writeToFile(tempFile,content);
  }
  tempFile.deleteOnExit();
  final LocalFileSystem lfs=LocalFileSystem.getInstance();
  VirtualFile file=lfs.findFileByIoFile(tempFile);
  if (file == null) {
    file=lfs.refreshAndFindFileByIoFile(tempFile);
  }
  if (file != null) {
    final FileContent fileContent=new FileContent(project,file);
    fileContent.myType=detectType(file);
    return fileContent;
  }
  throw new IOException("Can not create temp file for revision content");
}
