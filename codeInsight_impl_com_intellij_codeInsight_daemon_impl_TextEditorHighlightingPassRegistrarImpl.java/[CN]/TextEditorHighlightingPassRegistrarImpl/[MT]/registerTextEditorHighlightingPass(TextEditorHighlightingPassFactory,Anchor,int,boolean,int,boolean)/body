{
  if (myRegisteredPasses == null) {
    myRegisteredPasses=new HashMap<TextEditorHighlightingPassFactory,TextEditorPassBean>();
  }
  if (selfPassNumber != -1 && inPostHighlighterGroup) {
    myPostHighlighterPasses=ArrayUtil.mergeArrays(myPostHighlighterPasses,new int[]{selfPassNumber});
  }
  myRegisteredPasses.put(factory,new TextEditorPassBean(anchor,anchorPass,selfPassNumber,inPostHighlighterGroup));
  if (needAdditionalPass) {
    myNeedAdditionalIntentionsPass=true;
  }
}
