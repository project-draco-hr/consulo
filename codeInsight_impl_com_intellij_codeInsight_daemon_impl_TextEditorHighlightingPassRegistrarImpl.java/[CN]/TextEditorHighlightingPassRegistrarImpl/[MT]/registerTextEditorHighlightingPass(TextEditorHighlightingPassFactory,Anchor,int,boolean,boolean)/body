{
  if (myRegisteredPasses == null) {
    myRegisteredPasses=new HashMap<TextEditorHighlightingPassFactory,Pair<Anchor,Integer>>();
  }
  if (inPostHighlightingPass) {
    int idx=5;
    while (Arrays.binarySearch(myPostHighlightingPassGroups,idx) != -1) {
      idx++;
    }
    myPostHighlightingPassGroups=ArrayUtil.mergeArrays(myPostHighlightingPassGroups,new int[]{idx});
  }
  myRegisteredPasses.put(factory,Pair.create(anchor,anchorPass));
  if (needAdditionalPass) {
    myNeedAdditionalIntentionsPass=true;
  }
}
