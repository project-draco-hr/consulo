{
  if (element instanceof PsiType) {
    return (PsiType)element;
  }
  if (element instanceof PsiClass) {
    return PsiType.getJavaLangClass(context.getManager(),GlobalSearchScope.allScope(context.getProject()));
  }
  if (element instanceof PsiMethod) {
    return PsiUtil.getSmartReturnType((PsiMethod)element);
  }
  if (element instanceof GrVariable) {
    if (GroovyRefactoringUtil.isLocalVariable(element)) {
      return TypeInferenceHelper.getInferredType(context,((GrVariable)element).getName());
    }
 else {
      return ((GrVariable)element).getTypeGroovy();
    }
  }
  if (element instanceof GrExpression) {
    return ((GrExpression)element).getType();
  }
  if (element instanceof PsiField) {
    return ((PsiField)element).getType();
  }
  return null;
}
