{
  final Module module=addModule("x");
  final NamedPointer<Module> pointer=ModuleUtilCore.createPointer(module);
  assertSame(pointer,ModuleUtilCore.createPointer(module));
  assertSame(pointer,ModuleUtilCore.createPointer(getProject(),"x"));
  assertSame(module,pointer.get());
  assertEquals("x",pointer.getName());
  ModifiableModuleModel model=getModuleManager().getModifiableModel();
  model.disposeModule(module);
  commitModel(model);
  assertNull(pointer.get());
  assertEquals("x",pointer.getName());
  final Module newModule=addModule("x");
  assertSame(pointer,ModuleUtilCore.createPointer(newModule));
}
