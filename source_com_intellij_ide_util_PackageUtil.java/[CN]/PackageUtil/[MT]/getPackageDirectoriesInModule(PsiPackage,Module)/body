{
  PsiManager manager=PsiManager.getInstance(module.getProject());
  final String packageName=rootPackage.getQualifiedName();
  ModuleRootManager moduleRootManager=ModuleRootManager.getInstance(module);
  final ModuleFileIndex moduleFileIndex=moduleRootManager.getFileIndex();
  final VirtualFile[] directories=moduleFileIndex.getDirectoriesByPackageName(packageName,false);
  List<PsiDirectory> moduleDirectoryList=new ArrayList<PsiDirectory>();
  for (int i=0; i < directories.length; i++) {
    VirtualFile directory=directories[i];
    moduleDirectoryList.add(manager.findDirectory(directory));
  }
  return moduleDirectoryList.toArray(new PsiDirectory[moduleDirectoryList.size()]);
}
