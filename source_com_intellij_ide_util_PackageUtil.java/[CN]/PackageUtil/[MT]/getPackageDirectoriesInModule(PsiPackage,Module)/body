{
  final PsiManager manager=PsiManager.getInstance(module.getProject());
  final String packageName=rootPackage.getQualifiedName();
  ModuleRootManager moduleRootManager=ModuleRootManager.getInstance(module);
  final ModuleFileIndex moduleFileIndex=moduleRootManager.getFileIndex();
  final List<PsiDirectory> moduleDirectoryList=new ArrayList<PsiDirectory>();
  moduleFileIndex.getDirsByPackageName(packageName,false).forEach(new Processor<VirtualFile>(){
    public boolean process(    final VirtualFile directory){
      moduleDirectoryList.add(manager.findDirectory(directory));
      return true;
    }
  }
);
  return moduleDirectoryList.toArray(new PsiDirectory[moduleDirectoryList.size()]);
}
