{
  final Set<String> gradleBinaryPaths=new HashSet<String>(gradleEntity.getPaths(gradleType));
  final Set<String> ideBinaryPaths=new HashSet<String>();
  for (  VirtualFile file : ideEntity.getFiles(ideType)) {
    final String path=myPlatformFacade.getLocalFileSystemPath(file);
    if (!gradleBinaryPaths.remove(path)) {
      ideBinaryPaths.add(path);
    }
  }
  if (!gradleBinaryPaths.isEmpty()) {
    LibraryId libraryId=new LibraryId(ProjectSystemId.GRADLE,gradleEntity.getName());
    for (    String path : gradleBinaryPaths) {
      context.register(new JarPresenceChange(new JarId(path,gradleType,libraryId),null));
    }
  }
  if (!ideBinaryPaths.isEmpty()) {
    LibraryId libraryId=new LibraryId(ProjectSystemId.IDE,GradleUtil.getLibraryName(ideEntity));
    for (    String path : ideBinaryPaths) {
      context.register(new JarPresenceChange(null,new JarId(path,gradleType,libraryId)));
    }
  }
}
