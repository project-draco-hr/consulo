{
  myWizardContext=new WizardContext(project);
  if (defaultPath != null) {
    myWizardContext.setProjectFileDirectory(defaultPath);
    myWizardContext.setProjectName(defaultPath.substring(FileUtil.toSystemIndependentName(defaultPath).lastIndexOf("/") + 1));
  }
  myWizardContext.addContextListener(new WizardContext.Listener(){
    public void buttonsUpdateRequested(){
      updateButtons();
    }
  }
);
  myRootStep=new ProjectCreateModeStep(defaultPath,myWizardContext){
    protected void update(){
      updateButtons();
    }
  }
;
  addStep(myRootStep);
  for (  WizardMode mode : myRootStep.getModes()) {
    appendSteps(mode.getSteps(myWizardContext,modulesProvider));
  }
  init();
}
