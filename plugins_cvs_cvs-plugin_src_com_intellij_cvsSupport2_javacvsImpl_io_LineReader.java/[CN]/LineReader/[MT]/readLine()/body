{
  if (myBytesBuffered == -1) {
    return null;
  }
 else   if (myPosition >= myBytesBuffered) {
    fillBuffer();
    if (myBytesBuffered == -1) {
      return EMPTY_BYTE_ARRAY;
    }
  }
  while (myBytesBuffered != -1) {
    for (; myPosition < myBytesBuffered; myPosition++) {
      final byte c=myBuffer.get()[myPosition];
switch (c) {
case '\r':
        if (myEolFlag < 2) {
          myEolFlag++;
        }
 else {
          myPosition-=2;
          return getLineArray();
        }
      break;
case '\n':
    return getLineArray();
default :
switch (myEolFlag) {
case 2:
    myPosition--;
case 1:
  myPosition--;
return getLineArray();
default :
myEolFlag=0;
myOutputStream.write(c);
}
break;
}
}
fillBuffer();
}
return getLineArray();
}
