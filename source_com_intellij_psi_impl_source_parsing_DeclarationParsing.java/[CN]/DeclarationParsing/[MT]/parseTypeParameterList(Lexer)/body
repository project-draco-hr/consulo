{
  final CompositeElement result=ASTFactory.composite(JavaElementType.TYPE_PARAMETER_LIST);
  if (lexer.getTokenType() != JavaTokenType.LT) {
    return result;
  }
  result.rawAddChildren(ParseUtil.createTokenElement(lexer,myContext.getCharTable()));
  lexer.advance();
  do {
    CompositeElement typeParameter=parseTypeParameter(lexer);
    if (typeParameter == null) {
      typeParameter=Factory.createErrorElement(JavaErrorMessages.message("expected.type.parameter"));
    }
    result.rawAddChildren(typeParameter);
    if (lexer.getTokenType() == JavaTokenType.COMMA) {
      result.rawAddChildren(ParseUtil.createTokenElement(lexer,myContext.getCharTable()));
      lexer.advance();
    }
 else {
      break;
    }
  }
 while (true);
  if (lexer.getTokenType() == JavaTokenType.GT) {
    result.rawAddChildren(ParseUtil.createTokenElement(lexer,myContext.getCharTable()));
    lexer.advance();
  }
 else {
    if (lexer.getTokenType() == JavaTokenType.IDENTIFIER) {
      final LexerPosition position=lexer.getCurrentPosition();
      lexer.advance();
      final IElementType lookahead=lexer.getTokenType();
      lexer.restore(position);
      if (lookahead == JavaTokenType.GT) {
        final CompositeElement errorElement=Factory.createErrorElement(JavaErrorMessages.message("unexpected.identifier"));
        errorElement.rawAddChildren(ParseUtil.createTokenElement(lexer,myContext.getCharTable()));
        result.rawAddChildren(errorElement);
        lexer.advance();
        result.rawAddChildren(ParseUtil.createTokenElement(lexer,myContext.getCharTable()));
        lexer.advance();
      }
 else {
        result.rawAddChildren(Factory.createErrorElement(JavaErrorMessages.message("expected.gt")));
      }
    }
 else {
      result.rawAddChildren(Factory.createErrorElement(JavaErrorMessages.message("expected.gt")));
    }
  }
  return result;
}
