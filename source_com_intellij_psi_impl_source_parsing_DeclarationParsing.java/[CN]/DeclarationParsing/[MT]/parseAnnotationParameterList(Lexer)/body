{
  CompositeElement parameterList=Factory.createCompositeElement(ANNOTATION_PARAMETER_LIST);
  if (lexer.getTokenType() == LPARENTH) {
    TreeUtil.addChildren(parameterList,ParseUtil.createTokenElement(lexer,myContext.getCharTable()));
    lexer.advance();
    IElementType tokenType=lexer.getTokenType();
    if (tokenType == RPARENTH) {
      TreeUtil.addChildren(parameterList,ParseUtil.createTokenElement(lexer,myContext.getCharTable()));
      lexer.advance();
      return parameterList;
    }
    CompositeElement firstParam=parseAnnotationParameter(lexer,true);
    TreeUtil.addChildren(parameterList,firstParam);
    boolean isFirstParamNamed=firstParam.getChildRole(firstParam.getFirstChildNode()) == ChildRole.NAME;
    boolean afterBad=false;
    while (true) {
      tokenType=lexer.getTokenType();
      if (tokenType == RPARENTH) {
        TreeUtil.addChildren(parameterList,ParseUtil.createTokenElement(lexer,myContext.getCharTable()));
        lexer.advance();
        return parameterList;
      }
 else       if (tokenType == COMMA) {
        TreeElement comma=ParseUtil.createTokenElement(lexer,myContext.getCharTable());
        lexer.advance();
        CompositeElement param=parseAnnotationParameter(lexer,false);
        if (!isFirstParamNamed && param != null && param.getChildRole(param.getFirstChildNode()) == ChildRole.NAME) {
          TreeUtil.addChildren(parameterList,Factory.createErrorElement(JavaErrorMessages.message("annotation.name.is.missing")));
        }
        TreeUtil.addChildren(parameterList,comma);
        TreeUtil.addChildren(parameterList,param);
      }
 else       if (!afterBad) {
        TreeUtil.addChildren(parameterList,Factory.createErrorElement(JavaErrorMessages.message("expected.comma.or.rparen")));
        TreeUtil.addChildren(parameterList,ParseUtil.createTokenElement(lexer,myContext.getCharTable()));
        lexer.advance();
        afterBad=true;
      }
 else {
        afterBad=false;
        TreeUtil.addChildren(parameterList,parseAnnotationParameter(lexer,false));
      }
    }
  }
 else {
    return parameterList;
  }
}
