{
  while (true) {
synchronized (myQueueLock) {
      if (myQueue.isEmpty())       return null;
      TaskDescriptor current=myQueue.remove(0);
      if (!current.isHaveMagicCure()) {
        if (myIndicator != null && myIndicator.isCanceled()) {
          continue;
        }
 else {
          for (          Map.Entry<Object,Object> entry : myDisasters.entrySet()) {
            if (!entry.getValue().equals(current.hasCure(entry.getKey()))) {
              current=null;
              break;
            }
          }
        }
      }
      if (current != null)       return current;
    }
  }
}
