{
  final ObjectReference exceptionObj=ex.getExceptionFromTargetVM();
  if (exceptionObj != null) {
    try {
      final List<Method> methods=exceptionObj.referenceType().methodsByName("getStackTrace");
      if (methods.size() > 0) {
        evaluationContext.getDebugProcess().invokeMethod(evaluationContext,exceptionObj,methods.get(0),Collections.emptyList());
      }
    }
 catch (    EvaluateException ignored) {
    }
  }
  return exceptionObj;
}
