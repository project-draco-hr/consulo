{
  if (commentText == null) {
    FileType ftype=FileTypeUtil.getInstance().getFileTypeByFile(root);
    LanguageOptions opts=CopyrightManager.getInstance(project).getOptions().getMergedOptions(ftype.getName());
    String base=myCopyrightProfile.getNotice();
    if (base.length() > 0) {
      String expanded=VelocityHelper.evaluate(manager.findFile(root),project,module,base);
      String cmt=FileTypeUtil.buildComment(root.getFileType(),opts.isUseAlternate(),expanded,opts.getTemplateOptions());
      commentText=prefix + cmt + suffix;
    }
 else {
      commentText="";
    }
  }
  return commentText;
}
