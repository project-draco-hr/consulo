{
  if (onIdeProjectStructureChange) {
    return;
  }
  AbstractExternalSystemSettings<?,?> settings=mySettingsManager.getSettings(project,externalSystemId);
  if (!settings.isUseAutoImport() || StringUtil.isEmpty(settings.getLinkedExternalProjectPath())) {
    return;
  }
  Set<ExternalProjectStructureChange> nonProcessed;
  myInProgress.set(true);
  try {
    Set<UserProjectChange<?>> userChanges=UserProjectChanges.getInstance(project).getUserProjectChanges();
    nonProcessed=myEntityManageHelper.eliminateChange(project,changes,userChanges,true);
  }
  finally {
    myInProgress.set(false);
  }
  changes.clear();
  changes.addAll(nonProcessed);
}
