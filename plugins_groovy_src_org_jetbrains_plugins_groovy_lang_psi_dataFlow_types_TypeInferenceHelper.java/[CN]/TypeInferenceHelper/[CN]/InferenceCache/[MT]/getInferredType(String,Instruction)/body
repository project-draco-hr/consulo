{
  if (tooComplex.contains(instruction))   return null;
  TypeDfaState cache=varTypes.get().get(instruction.num());
  if (!cache.containsVariable(variableName)) {
    Pair<ReachingDefinitionsDfaInstance,List<DefinitionMap>> defUse=getDefUseMaps(scope);
    if (defUse == null) {
      tooComplex.add(instruction);
      return null;
    }
    Set<Instruction> interesting=collectRequiredInstructions(instruction,variableName,defUse);
    List<TypeDfaState> dfaResult=performTypeDfa(scope,flow,interesting);
    if (dfaResult == null) {
      tooComplex.addAll(interesting);
    }
 else {
      cacheDfaResult(dfaResult);
    }
  }
  DFAType dfaType=getCachedInferredType(variableName,instruction);
  return dfaType == null ? null : dfaType.getResultType();
}
