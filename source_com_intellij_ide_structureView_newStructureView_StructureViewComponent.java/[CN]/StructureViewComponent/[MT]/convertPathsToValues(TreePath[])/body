{
  if (selectionPaths != null) {
    ArrayList result=new ArrayList();
    for (    TreePath selectionPath : selectionPaths) {
      final Object userObject=((DefaultMutableTreeNode)selectionPath.getLastPathComponent()).getUserObject();
      if (userObject instanceof AbstractTreeNode) {
        Object value=((AbstractTreeNode)userObject).getValue();
        if (value instanceof TreeElement) {
          value=((StructureViewTreeElement)value).getValue();
        }
        result.add(value);
      }
    }
    return result.toArray(new Object[result.size()]);
  }
 else {
    return null;
  }
}
