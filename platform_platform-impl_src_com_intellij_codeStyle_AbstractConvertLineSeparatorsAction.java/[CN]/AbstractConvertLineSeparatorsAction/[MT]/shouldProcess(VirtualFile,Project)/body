{
  if (file.isDirectory() || !file.isWritable() || FileTypeManager.getInstance().isFileIgnored(file.getName())|| file.getFileType().isBinary()|| file.equals(project.getProjectFile())|| file.equals(project.getWorkspaceFile())) {
    return false;
  }
  Module module=FileIndexFacade.getInstance(project).getModuleForFile(file);
  return module == null || !file.equals(module.getModuleFile());
}
