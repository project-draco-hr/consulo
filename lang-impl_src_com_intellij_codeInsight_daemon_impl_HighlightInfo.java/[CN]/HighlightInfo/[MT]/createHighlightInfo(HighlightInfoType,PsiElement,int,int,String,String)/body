{
  LOG.assertTrue(ArrayUtil.find(HighlightSeverity.DEFAULT_SEVERITIES,type.getSeverity(element)) != -1 || element != null,"Custom type demands element to detect text attributes");
  HighlightInfoFilter[] filters=getFilters();
  HighlightInfo highlightInfo=new HighlightInfo(type,element,start,end,description,toolTip);
  for (  HighlightInfoFilter filter : filters) {
    if (!filter.accept(highlightInfo,element != null ? element.getContainingFile() : null)) {
      return null;
    }
  }
  return highlightInfo;
}
