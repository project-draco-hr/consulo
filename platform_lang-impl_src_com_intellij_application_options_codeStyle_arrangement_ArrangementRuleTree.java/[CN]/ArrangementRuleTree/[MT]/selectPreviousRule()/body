{
  ArrangementTreeNode currentSelectionBottom=getCurrentSelectionBottom();
  if (currentSelectionBottom == null) {
    return;
  }
  for (ArrangementTreeNode parent=currentSelectionBottom.getParent(); parent != null; currentSelectionBottom=parent, parent=parent.getParent()) {
    int i=parent.getIndex(currentSelectionBottom);
    if (i <= 0) {
      continue;
    }
    ArrangementTreeNode toSelect=parent.getChildAt(i - 1);
    while (toSelect.getChildCount() > 0) {
      toSelect=toSelect.getLastChild();
    }
    mySelectionModel.setSelectionPath(new TreePath(toSelect.getPath()));
    break;
  }
}
