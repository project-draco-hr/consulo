{
  if (value instanceof ArrangementRepresentationAwareNode) {
    return ((ArrangementRepresentationAwareNode)value).getRenderer();
  }
  ArrangementMatchCondition node=((ArrangementTreeNode)value).getBackingCondition();
  if (node == null) {
    return EMPTY_RENDERER;
  }
  if (isEmptyCondition(node)) {
    return NEW_CONDITION_RENDERER;
  }
  if (row < 0) {
    ArrangementMatchNodeComponent component=myFactory.getComponent(node,null);
    doUpdateCanvasWidth(row);
    return component.getUiComponent();
  }
  ArrangementMatchNodeComponent component=getNodeComponentAt(row,node,myModels.get(row));
  component.setSelected(selected);
  return component.getUiComponent();
}
