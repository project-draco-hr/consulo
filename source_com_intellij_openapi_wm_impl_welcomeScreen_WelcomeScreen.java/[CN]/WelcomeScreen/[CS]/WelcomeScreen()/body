{
  myPluginsPanel=new PluginsPanel(new GridBagLayout());
  myPluginsPanel.setBackground(PLUGINS_PANEL_COLOR);
  JLabel pluginsCaption=new JLabel("Plugins");
  pluginsCaption.setFont(CAPTION_FONT);
  pluginsCaption.setForeground(CAPTION_COLOR);
  JLabel installedPluginsCaption=new JLabel("Installed Plugins:");
  installedPluginsCaption.setFont(LINK_FONT);
  installedPluginsCaption.setForeground(CAPTION_COLOR);
  JPanel installedPluginsPanel=new JPanel(new GridBagLayout());
  installedPluginsPanel.setBackground(PLUGINS_PANEL_COLOR);
  JLabel embeddedPluginsCaption=new JLabel("Bundled Plugins:");
  embeddedPluginsCaption.setFont(LINK_FONT);
  embeddedPluginsCaption.setForeground(CAPTION_COLOR);
  JPanel embeddedPluginsPanel=new JPanel(new GridBagLayout());
  embeddedPluginsPanel.setBackground(PLUGINS_PANEL_COLOR);
  JPanel topPluginsPanel=new JPanel(new GridBagLayout());
  topPluginsPanel.setBackground(PLUGINS_PANEL_COLOR);
  PluginDescriptor[] myInstalledPlugins=PluginManager.getPlugins();
  if (myInstalledPlugins == null || myInstalledPlugins.length == 0) {
    addListItemToPlugins(installedPluginsPanel,"<i>No plugins currently installed.</i>",null,null,null,null);
    addListItemToPlugins(embeddedPluginsPanel,"<i>All bundled plugins were uninstalled.</i>",null,null,null,null);
  }
 else {
    final Comparator<PluginDescriptor> pluginsComparator=new Comparator<PluginDescriptor>(){
      public int compare(      final PluginDescriptor o1,      final PluginDescriptor o2){
        return o1.getName().compareTo(o2.getName());
      }
    }
;
    Arrays.sort(myInstalledPlugins,pluginsComparator);
    int embeddedPlugins=0;
    int installedPlugins=0;
    for (int i=0; i < myInstalledPlugins.length; i++) {
      PluginDescriptor plugin=myInstalledPlugins[i];
      if (JET_BRAINS.equalsIgnoreCase(plugin.getVendor()) || INTELLIJ.equalsIgnoreCase(plugin.getVendor())) {
        embeddedPlugins++;
        addListItemToPlugins(embeddedPluginsPanel,plugin.getName(),plugin.getDescription(),plugin.getVendorLogoPath(),plugin.getPluginClassLoader(),plugin.getUrl());
      }
 else {
        installedPlugins++;
        addListItemToPlugins(installedPluginsPanel,plugin.getName(),plugin.getDescription(),plugin.getVendorLogoPath(),plugin.getPluginClassLoader(),plugin.getUrl());
      }
    }
    if (embeddedPlugins == 0) {
      addListItemToPlugins(embeddedPluginsPanel,"<i>All bundled plugins were uninstalled.</i>",null,null,null,null);
    }
    if (installedPlugins == 0) {
      addListItemToPlugins(installedPluginsPanel,"<i>No plugins currently installed.</i>",null,null,null,null);
    }
  }
  GridBagConstraints gBC=new GridBagConstraints(0,0,1,1,0,0,GridBagConstraints.NORTHWEST,GridBagConstraints.NONE,new Insets(17,25,0,0),0,0);
  topPluginsPanel.add(pluginsCaption,gBC);
  JLabel emptyLabel_1=new JLabel();
  emptyLabel_1.setBackground(PLUGINS_PANEL_COLOR);
  gBC=new GridBagConstraints(1,0,1,1,1,0,GridBagConstraints.NORTHWEST,GridBagConstraints.NONE,new Insets(0,0,0,0),0,0);
  topPluginsPanel.add(emptyLabel_1,gBC);
  gBC=new GridBagConstraints(2,0,1,1,0,0,GridBagConstraints.NORTHWEST,GridBagConstraints.NONE,new Insets(13,0,0,10),0,0);
  MyActionButton openPluginManager=new PluginsActionButton(OPEN_PLUGINS_ICON,null){
    protected void onPress(    InputEvent e){
      ShowSettingsUtil.getInstance().editConfigurable(myPluginsPanel,PluginManagerConfigurable.getInstance());
    }
    public Dimension getMaximumSize(){
      return OPEN_PLUGIN_MANAGER_SIZE;
    }
    public Dimension getMinimumSize(){
      return OPEN_PLUGIN_MANAGER_SIZE;
    }
    public Dimension getPreferredSize(){
      return OPEN_PLUGIN_MANAGER_SIZE;
    }
  }
;
  openPluginManager.setCursor(Cursor.getPredefinedCursor(Cursor.HAND_CURSOR));
  topPluginsPanel.add(openPluginManager,gBC);
  openPluginManager.setupWithinPanel(myPluginsPanel,PLUGINS_GROUP,myPluginsButtonsCount,0);
  myPluginsButtonsCount++;
  gBC=new GridBagConstraints(0,1,1,1,0,0,GridBagConstraints.NORTHWEST,GridBagConstraints.NONE,new Insets(15,25,0,0),0,0);
  topPluginsPanel.add(installedPluginsCaption,gBC);
  JLabel emptyLabel_2=new JLabel();
  emptyLabel_2.setBackground(PLUGINS_PANEL_COLOR);
  gBC=new GridBagConstraints(1,1,2,1,1,0,GridBagConstraints.NORTHWEST,GridBagConstraints.NONE,new Insets(0,0,0,0),0,0);
  topPluginsPanel.add(emptyLabel_2,gBC);
  gBC=new GridBagConstraints(0,0,1,1,0.5,0,GridBagConstraints.NORTHWEST,GridBagConstraints.HORIZONTAL,new Insets(0,0,0,0),0,0);
  myPluginsPanel.add(topPluginsPanel,gBC);
  gBC=new GridBagConstraints(0,1,1,1,1,0,GridBagConstraints.NORTHWEST,GridBagConstraints.BOTH,new Insets(0,5,0,0),0,0);
  myPluginsPanel.add(installedPluginsPanel,gBC);
  JPanel emptyPanel_1=new JPanel();
  emptyPanel_1.setBackground(PLUGINS_PANEL_COLOR);
  gBC=new GridBagConstraints(0,2,1,1,0,0,GridBagConstraints.NORTHWEST,GridBagConstraints.NONE,new Insets(25,25,0,0),0,0);
  myPluginsPanel.add(embeddedPluginsCaption,gBC);
  gBC=new GridBagConstraints(0,3,1,1,1,0,GridBagConstraints.NORTHWEST,GridBagConstraints.BOTH,new Insets(5,5,0,0),0,0);
  myPluginsPanel.add(embeddedPluginsPanel,gBC);
  gBC=new GridBagConstraints(0,4,1,1,1,1,GridBagConstraints.NORTHWEST,GridBagConstraints.BOTH,new Insets(0,0,0,0),0,0);
  myPluginsPanel.add(emptyPanel_1,gBC);
  JScrollPane myPluginsScrollPane=ScrollPaneFactory.createScrollPane(myPluginsPanel);
  myPluginsScrollPane.setBorder(BorderFactory.createLineBorder(GRAY_BORDER_COLOR));
  myPluginsScrollPane.setHorizontalScrollBarPolicy(JScrollPane.HORIZONTAL_SCROLLBAR_AS_NEEDED);
  myPluginsScrollPane.setVerticalScrollBarPolicy(JScrollPane.VERTICAL_SCROLLBAR_AS_NEEDED);
  myMainPanel=new JPanel(new GridBagLayout());
  myMainPanel.setBackground(MAIN_PANEL_COLOR);
  ActionGroupDescriptor quickStarts=new ActionGroupDescriptor("Quick Start",0);
  MyActionButton newProject=new MyActionButton(NEW_PROJECT_ICON,null){
    protected void onPress(    InputEvent e){
      ProjectUtil.createNewProject(null);
    }
  }
;
  quickStarts.addButton(newProject,"Create New Project","Start the \"New Project\" Wizard that will guide you through " + "the steps necessary for creating a new project.");
  final ActionManager actionManager=ActionManager.getInstance();
  MyActionButton openRecentProject=new ButtonWithExtension(REOPEN_RECENT_ICON,null){
    protected void onPress(    InputEvent e,    final MyActionButton button){
      final AnAction action=new RecentProjectsAction();
      action.actionPerformed(new AnActionEvent(e,new DataContext(){
        public Object getData(        String dataId){
          if (DataConstants.PROJECT.equals(dataId)) {
            return null;
          }
          return button;
        }
      }
,ActionPlaces.UNKNOWN,new PresentationFactory().getPresentation(action),actionManager,0));
    }
  }
;
  quickStarts.addButton(openRecentProject,"Reopen Recent Project...","You can open one of the most recent " + "projects you were working with. Click the icon " + "or link to select a project from the list.");
  MyActionButton getFromVCS=new ButtonWithExtension(FROM_VCS_ICON,null){
    protected void onPress(    InputEvent e,    final MyActionButton button){
      final GetFromVcsAction action=new GetFromVcsAction();
      action.actionPerformed(button,e);
    }
  }
;
  quickStarts.addButton(getFromVCS,"Get Project From Version Control...","You can check out an entire project from " + "a Version Control System. Click the icon or link to " + "select your VCS.");
  quickStarts.appendActionsFromGroup((DefaultActionGroup)actionManager.getAction(IdeActions.GROUP_WELCOME_SCREEN_QUICKSTART));
  ActionGroupDescriptor docsGroup=new ActionGroupDescriptor("Documentation",1);
  MyActionButton readHelp=new MyActionButton(READ_HELP_ICON,null){
    protected void onPress(    InputEvent e){
      HelpManagerImpl.getInstance().invokeHelp("");
    }
  }
;
  docsGroup.addButton(readHelp,"Read Help","Open IntelliJ IDEA \"Help Topics\" in a new window.");
  MyActionButton defaultKeymap=new MyActionButton(KEYMAP_ICON,null){
    protected void onPress(    InputEvent e){
      try {
        BrowserUtil.launchBrowser(KEYMAP_URL);
      }
 catch (      IllegalThreadStateException ex) {
      }
    }
  }
;
  docsGroup.addButton(defaultKeymap,"Default Keymap","Open PDF file with the default keymap reference card.");
  docsGroup.appendActionsFromGroup((DefaultActionGroup)actionManager.getAction(IdeActions.GROUP_WELCOME_SCREEN_DOC));
  JPanel emptyPanel_2=new JPanel();
  emptyPanel_2.setBackground(MAIN_PANEL_COLOR);
  final JPanel quickStartPanel=quickStarts.getPanel();
  quickStartPanel.add(emptyPanel_2,new GridBagConstraints(0,quickStarts.getIdx() + 2,2,1,1,1,GridBagConstraints.NORTHWEST,GridBagConstraints.BOTH,new Insets(0,0,0,0),0,0));
  JPanel emptyPanel_3=new JPanel();
  emptyPanel_3.setBackground(MAIN_PANEL_COLOR);
  final JPanel docsPanel=docsGroup.getPanel();
  docsPanel.add(emptyPanel_3,new GridBagConstraints(0,docsGroup.getIdx() + 2,2,1,1,1,GridBagConstraints.NORTHWEST,GridBagConstraints.BOTH,new Insets(0,0,0,0),0,0));
  gBC=new GridBagConstraints(0,0,1,1,1,1,GridBagConstraints.NORTHWEST,GridBagConstraints.BOTH,new Insets(0,30,0,0),0,0);
  myMainPanel.add(quickStartPanel,gBC);
  gBC=new GridBagConstraints(1,0,1,1,1,1,GridBagConstraints.NORTHWEST,GridBagConstraints.BOTH,new Insets(0,15,0,0),0,0);
  myMainPanel.add(docsPanel,gBC);
  myMainPanel.setPreferredSize(new Dimension(650,450));
  JScrollPane myMainScrollPane=ScrollPaneFactory.createScrollPane(myMainPanel);
  myMainScrollPane.setBorder(null);
  myMainScrollPane.setHorizontalScrollBarPolicy(JScrollPane.HORIZONTAL_SCROLLBAR_AS_NEEDED);
  myMainScrollPane.setVerticalScrollBarPolicy(JScrollPane.VERTICAL_SCROLLBAR_AS_NEEDED);
  JPanel topPanel=new JPanel(new GridBagLayout()){
    public void paint(    Graphics g){
      Icon welcome=CAPTION_IMAGE;
      welcome.paintIcon(null,g,0,0);
      g.setColor(CAPTION_BACKGROUND);
      g.fillRect(welcome.getIconWidth(),0,this.getWidth() - welcome.getIconWidth(),welcome.getIconHeight());
      super.paint(g);
    }
  }
;
  topPanel.setOpaque(false);
  JPanel transparentTopPanel=new JPanel();
  transparentTopPanel.setOpaque(false);
  topPanel.add(transparentTopPanel,new GridBagConstraints(0,0,1,1,1,0,GridBagConstraints.CENTER,GridBagConstraints.HORIZONTAL,new Insets(0,0,0,0),0,0));
  topPanel.add(new JLabel(DEVELOP_SLOGAN),new GridBagConstraints(1,0,1,1,0,0,GridBagConstraints.SOUTHWEST,GridBagConstraints.NONE,new Insets(0,0,0,10),0,0));
  myWelcomePanel=new JPanel(new GridBagLayout());
  myWelcomePanel.setBackground(MAIN_PANEL_BACKGROUND);
  gBC=new GridBagConstraints(0,0,3,1,1,0,GridBagConstraints.NORTHWEST,GridBagConstraints.HORIZONTAL,new Insets(10,5,0,5),0,0);
  myWelcomePanel.add(topPanel,gBC);
  gBC=new GridBagConstraints(0,1,2,1,1.4,1,GridBagConstraints.NORTHWEST,GridBagConstraints.BOTH,new Insets(15,15,15,0),0,0);
  myWelcomePanel.add(myMainScrollPane,gBC);
  gBC=new GridBagConstraints(2,1,1,1,0.6,1,GridBagConstraints.NORTHWEST,GridBagConstraints.BOTH,new Insets(15,15,15,15),0,0);
  myWelcomePanel.add(myPluginsScrollPane,gBC);
}
