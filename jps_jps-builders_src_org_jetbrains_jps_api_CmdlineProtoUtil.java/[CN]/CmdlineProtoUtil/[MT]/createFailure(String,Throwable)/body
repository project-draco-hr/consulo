{
  final CmdlineRemoteProto.Message.Failure.Builder builder=CmdlineRemoteProto.Message.Failure.newBuilder();
  builder.setDescription(description);
  if (cause != null) {
    final ByteArrayOutputStream baos=new ByteArrayOutputStream();
    final PrintStream stream=new PrintStream(baos);
    try {
      cause.printStackTrace(stream);
    }
  finally {
      stream.close();
    }
    builder.setStacktrace(new String(baos.toByteArray()));
  }
  return builder.build();
}
