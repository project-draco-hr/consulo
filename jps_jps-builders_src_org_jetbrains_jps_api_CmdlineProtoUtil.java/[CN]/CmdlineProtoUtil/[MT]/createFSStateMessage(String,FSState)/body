{
  final CmdlineRemoteProto.Message.FSStateMessage.Builder stateBuilder=CmdlineRemoteProto.Message.FSStateMessage.newBuilder();
  stateBuilder.setModuleName(moduleName);
  stateBuilder.addAllDeletedProduction(fsState.getDeletedPaths(moduleName,false));
  stateBuilder.addAllDeletedTests(fsState.getDeletedPaths(moduleName,true));
  fillRecompilePaths(moduleName,fsState,false,stateBuilder);
  fillRecompilePaths(moduleName,fsState,true,stateBuilder);
  return stateBuilder.build();
}
