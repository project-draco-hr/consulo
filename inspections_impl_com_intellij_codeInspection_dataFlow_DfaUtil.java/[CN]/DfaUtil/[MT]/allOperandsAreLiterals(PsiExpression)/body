{
  if (expression == null)   return false;
  if (expression instanceof PsiLiteralExpression)   return true;
  if (expression instanceof PsiBinaryExpression) {
    final LinkedList<PsiExpression> stack=new LinkedList<PsiExpression>();
    stack.add(expression);
    while (!stack.isEmpty()) {
      final PsiExpression psiExpression=stack.removeFirst();
      if (psiExpression instanceof PsiBinaryExpression) {
        final PsiBinaryExpression binaryExpression=(PsiBinaryExpression)psiExpression;
        stack.addLast(binaryExpression.getLOperand());
        final PsiExpression right=binaryExpression.getROperand();
        if (right != null) {
          stack.addLast(right);
        }
      }
 else       if (!(psiExpression instanceof PsiLiteralExpression)) {
        return false;
      }
    }
    return true;
  }
  return false;
}
