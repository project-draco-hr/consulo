{
  final List<VirtualFile> addedFiles=acquireAddedFiles();
  for (Iterator<VirtualFile> iterator=addedFiles.iterator(); iterator.hasNext(); ) {
    VirtualFile file=iterator.next();
    if (myVcsFileListenerContextHelper.isAdditionIgnored(file)) {
      iterator.remove();
    }
  }
  final Map<VirtualFile,VirtualFile> copyFromMap=acquireCopiedFiles();
  if (!addedFiles.isEmpty()) {
    executeAdd(addedFiles,copyFromMap);
  }
}
