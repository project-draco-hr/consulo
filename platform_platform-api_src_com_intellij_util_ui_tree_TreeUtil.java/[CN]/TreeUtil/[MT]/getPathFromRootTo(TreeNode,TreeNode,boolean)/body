{
  int height=0;
  for (TreeNode n=node; n != root; n=n.getParent()) {
    height++;
  }
  TreeNode[] path=new TreeNode[includeRoot ? height + 1 : height];
  int i=path.length - 1;
  for (TreeNode n=node; i >= 0; n=n.getParent()) {
    path[i--]=n;
  }
  return path;
}
