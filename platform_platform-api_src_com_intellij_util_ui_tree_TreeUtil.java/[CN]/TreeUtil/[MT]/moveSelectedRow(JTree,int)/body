{
  final TreePath selectionPath=tree.getSelectionPath();
  final DefaultMutableTreeNode treeNode=(DefaultMutableTreeNode)selectionPath.getLastPathComponent();
  final DefaultMutableTreeNode parent=(DefaultMutableTreeNode)treeNode.getParent();
  final int idx=parent.getIndex(treeNode);
  ((DefaultTreeModel)tree.getModel()).removeNodeFromParent(treeNode);
  ((DefaultTreeModel)tree.getModel()).insertNodeInto(treeNode,parent,idx + direction);
  selectNode(tree,treeNode);
}
