{
  Rectangle bounds=tree.getRowBounds(0);
  int rowHeight=bounds == null ? 0 : bounds.height;
  return rowHeight == 0 ? tree.getVisibleRowCount() : tree.getVisibleRect().height / rowHeight;
}
