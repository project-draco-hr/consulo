{
  StringBuilder messageBuilder=new StringBuilder(VcsBundle.message("apply.patch.create.dirs.prompt.header"));
  for (  String missingDir : missingDirs) {
    messageBuilder.append(missingDir).append("\r\n");
  }
  messageBuilder.append(VcsBundle.message("apply.patch.create.dirs.prompt.footer"));
  int rc=Messages.showYesNoCancelDialog(myProject,messageBuilder.toString(),VcsBundle.message("patch.apply.dialog.title"),Messages.getQuestionIcon());
  if (rc == 0) {
    for (    String dir : missingDirs) {
      new File(dir).mkdirs();
    }
    ApplicationManager.getApplication().runWriteAction(new Runnable(){
      public void run(){
        for (        String dir : missingDirs) {
          LocalFileSystem.getInstance().refreshAndFindFileByPath(dir);
        }
      }
    }
);
  }
 else   if (rc != 1) {
    return false;
  }
  return true;
}
