{
  int newFiles=0;
  int changedFiles=0;
  int deletedFiles=0;
  for (  FilePatch patch : myPatches) {
    if (patch.isNewFile()) {
      newFiles++;
    }
 else     if (patch.isDeletedFile()) {
      deletedFiles++;
    }
 else {
      changedFiles++;
    }
  }
  StringBuilder summaryBuilder=new StringBuilder("<html><body><b>Summary:</b> ");
  appendSummary(changedFiles,0,summaryBuilder,"patch.summary.changed.files");
  appendSummary(newFiles,changedFiles,summaryBuilder,"patch.summary.new.files");
  appendSummary(deletedFiles,changedFiles + newFiles,summaryBuilder,"patch.summary.deleted.files");
  summaryBuilder.append("</body></html>");
  return summaryBuilder.toString();
}
