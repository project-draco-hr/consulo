{
  List<ModuleWizardStep> steps=new ArrayList<ModuleWizardStep>();
  ProjectWizardStepFactory factory=ProjectWizardStepFactory.getInstance();
  steps.add(factory.createSourcePathsStep(wizardContext,this,null,"reference.dialogs.new.project.fromScratch.source"));
  if (!hasAppropriateJdk()) {
    steps.add(new ProjectJdkForModuleStep(wizardContext,JavaSdk.getInstance()){
      @Override public void updateDataModel(){
      }
      @Override public boolean validate(){
        for (        Object o : getAllJdks()) {
          if (o instanceof Sdk) {
            Sdk sdk=(Sdk)o;
            if (AndroidSdkUtils.isApplicableJdk(sdk)) {
              return true;
            }
          }
        }
        Messages.showErrorDialog(AndroidBundle.message("no.jdk.error"),CommonBundle.getErrorTitle());
        return false;
      }
    }
);
  }
  steps.add(new AndroidModuleWizardStep(this,wizardContext));
  return steps.toArray(new ModuleWizardStep[steps.size()]);
}
