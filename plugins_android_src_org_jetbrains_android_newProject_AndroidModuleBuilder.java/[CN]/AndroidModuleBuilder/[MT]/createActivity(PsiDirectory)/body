{
  CreateActivityAction hackAction=new CreateActivityAction(true){
    @Override protected boolean asStartupActivity(){
      return true;
    }
  }
;
  final PsiClass c=hackAction.createActivity(myActivityName,"",packageDir);
  if (c != null) {
    StartupManager.getInstance(c.getProject()).runWhenProjectIsInitialized(new Runnable(){
      public void run(){
        c.getProject().save();
      }
    }
);
    ApplicationManager.getApplication().invokeLater(new Runnable(){
      public void run(){
        c.getContainingFile().navigate(true);
      }
    }
);
  }
}
