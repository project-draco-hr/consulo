{
  super.visitDeclarationStatement(statement);
  final PsiElement[] declaredElements=statement.getDeclaredElements();
  if (declaredElements.length == 0) {
    return;
  }
  for (  final PsiElement declaredElement : declaredElements) {
    if (!(declaredElement instanceof PsiLocalVariable)) {
      return;
    }
    final PsiLocalVariable variable=(PsiLocalVariable)declaredElement;
    if (!variable.hasModifierProperty(PsiModifier.FINAL)) {
      return;
    }
  }
  final PsiCodeBlock containingBlock=PsiTreeUtil.getParentOfType(statement,PsiCodeBlock.class);
  if (containingBlock == null) {
    return;
  }
  for (  PsiElement declaredElement : declaredElements) {
    final PsiLocalVariable variable=(PsiLocalVariable)declaredElement;
    if (VariableAccessUtils.variableIsUsedInInnerClass(variable,containingBlock)) {
      return;
    }
  }
  final PsiLocalVariable variable=(PsiLocalVariable)statement.getDeclaredElements()[0];
  registerModifierError(PsiModifier.FINAL,variable,variable,PsiModifier.FINAL);
}
