{
  final PsiMethod[] constructors=clazz.getConstructors();
  if (constructors.length > 0) {
    for (    PsiMethod cls : constructors) {
      if ((!checkModifiers || cls.hasModifierProperty(PsiModifier.PUBLIC) || allowProtected && cls.hasModifierProperty(PsiModifier.PROTECTED)) && cls.getParameterList().getParametersCount() == 0) {
        return true;
      }
    }
  }
 else {
    final PsiClass superClass=clazz.getSuperClass();
    if (superClass == null) {
      return true;
    }
    if (visited == null)     visited=new THashSet<PsiClass>();
    if (!visited.add(clazz))     return false;
    return hasDefaultCtrInHierarchy(superClass,true,true,visited);
  }
  return false;
}
