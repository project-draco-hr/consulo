{
  if (o1 instanceof PsiParameter && ((PsiParameter)o1).isVarArgs())   return 1;
  if (o2 instanceof PsiParameter && ((PsiParameter)o2).isVarArgs())   return -1;
  if (o1 instanceof PsiField && o2 instanceof PsiField) {
    return o1.getTextOffset() - o2.getTextOffset();
  }
  if (o1 instanceof PsiParameter && o2 instanceof PsiParameter) {
    return myParameterList.getParameterIndex((PsiParameter)o1) - myParameterList.getParameterIndex((PsiParameter)o2);
  }
  if (o1 instanceof PsiField && o2 instanceof PsiParameter) {
    final PsiField field=CreateFieldFromParameterAction.getParameterAssignedToField((PsiParameter)o2);
    if (field == null)     return 1;
    return o1.getTextOffset() - field.getTextOffset();
  }
  if (o1 instanceof PsiParameter && o2 instanceof PsiField) {
    final PsiField field=CreateFieldFromParameterAction.getParameterAssignedToField((PsiParameter)o1);
    if (field == null)     return -1;
    return field.getTextOffset() - o2.getTextOffset();
  }
  return 0;
}
