{
  final int newRowCount=myTable.getRowCount();
  if (newRowCount == 0)   return;
  int row=Math.min(newRowCount < rowCount ? selectedRow : selectedRow + 1,newRowCount - 1);
  final DirDiffElementImpl element=getElementAt(row);
  if (element != null && element.isSeparator()) {
    if (getElementAt(row + 1) != null) {
      row+=1;
    }
 else {
      row-=1;
    }
  }
  final DirDiffElementImpl el=getElementAt(row);
  row=el == null || el.isSeparator() ? 0 : row;
  myTable.getSelectionModel().setSelectionInterval(row,row);
  TableUtil.scrollSelectionToVisible(myTable);
}
