{
  if (component instanceof SettingsSavingComponent) {
    SettingsSavingComponent settingsSavingComponent=(SettingsSavingComponent)component;
    mySettingsSavingComponents.add(settingsSavingComponent);
  }
  boolean isSerializable=component instanceof JDOMExternalizable || component instanceof PersistentStateComponent;
  if (!isSerializable)   return;
  try {
    ApplicationManagerEx.getApplicationEx().runReadAction(new Runnable(){
      @Override public void run(){
        if (component instanceof PersistentStateComponent) {
          initPersistentComponent((PersistentStateComponent<?>)component,false);
        }
 else {
          initJdomExternalizable((JDOMExternalizable)component);
        }
      }
    }
);
  }
 catch (  StateStorageException e) {
    throw e;
  }
catch (  Exception e) {
    LOG.error(e);
  }
}
