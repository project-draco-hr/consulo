{
  boolean isSerializable=component instanceof JDOMExternalizable || component instanceof PersistentStateComponent || component instanceof SettingsSavingComponent;
  if (!isSerializable)   return null;
  if (component instanceof SettingsSavingComponent) {
    SettingsSavingComponent settingsSavingComponent=(SettingsSavingComponent)component;
    mySettingsSavingComponents.add(settingsSavingComponent);
  }
  final String[] componentName={null};
  final Runnable r=new Runnable(){
    public void run(){
      if (component instanceof PersistentStateComponent) {
        componentName[0]=initPersistentComponent((PersistentStateComponent<?>)component,false);
      }
 else       if (component instanceof JDOMExternalizable) {
        componentName[0]=initJdomExternalizable((JDOMExternalizable)component);
      }
    }
  }
;
  final ApplicationEx applicationEx=ApplicationManagerEx.getApplicationEx();
  if (applicationEx.isUnitTestMode()) {
    r.run();
  }
 else {
    applicationEx.runReadAction(r);
  }
  return componentName[0];
}
