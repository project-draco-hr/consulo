{
  if (!child.getWhiteSpace().containsLineFeeds()) {
    return null;
  }
  AlignmentImpl alignment=getAlignmentAtStartOffset();
  if (alignment == null || alignment == child.getAlignment()) {
    return null;
  }
  AbstractBlockWrapper previous=child.getPreviousBlock();
  LeafBlockWrapper anchorOffsetBlock=alignment.getOffsetRespBlockBefore(child);
  if (anchorOffsetBlock != null && anchorOffsetBlock.getStartOffset() != getStartOffset()) {
    boolean onDifferentLines=false;
    for (LeafBlockWrapper b=anchorOffsetBlock.getNextBlock(); b != null && b.getStartOffset() < getStartOffset(); b=b.getNextBlock()) {
      if (b.getWhiteSpace().containsLineFeeds()) {
        onDifferentLines=true;
        break;
      }
    }
    if (!onDifferentLines) {
      return null;
    }
  }
  if (previous == null) {
    return indentFromParent;
  }
  IndentData symbolsBeforeCurrent;
  if (anchorOffsetBlock == null) {
    symbolsBeforeCurrent=getNumberOfSymbolsBeforeBlock();
  }
 else {
    symbolsBeforeCurrent=anchorOffsetBlock.getNumberOfSymbolsBeforeBlock();
  }
  int indentSpaces=symbolsBeforeCurrent.getIndentSpaces() + indentFromParent.getSpaces() + indentFromParent.getIndentSpaces();
  return new IndentData(indentSpaces,symbolsBeforeCurrent.getSpaces());
}
