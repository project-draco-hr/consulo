{
  StringBuffer sb=new StringBuffer(30);
  while (true) {
    if (sb.length() > 8192)     throw new IOException("Remote scp sent a too long line");
    int c=is.read();
    if (c < 0)     throw new IOException("Remote scp terminated unexpectedly.");
    if (c == '\n')     break;
    sb.append((char)c);
  }
  return sb.toString();
}
