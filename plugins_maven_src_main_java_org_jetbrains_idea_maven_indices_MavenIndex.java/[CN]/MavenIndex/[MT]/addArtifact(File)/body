{
  doIndexTask(new IndexTask<Object>(){
    public Object doTask() throws Exception {
      MavenId id=myIndexer.addArtifact(myData.indexId,artifactFile);
      String groupId=id.getGroupId();
      String artifactId=id.getArtifactId();
      String version=id.getVersion();
      myData.groups.enumerate(groupId);
      myData.hasGroupCache.put(groupId,true);
      String groupWithArtifact=groupId + ":" + artifactId;
      myData.groupsWithArtifacts.enumerate(groupWithArtifact);
      myData.hasArtifactCache.put(groupWithArtifact,true);
      addToCache(myData.groupToArtifactMap,groupId,artifactId);
      String groupWithArtifactWithVersion=groupWithArtifact + ":" + version;
      myData.groupsWithArtifactsWithVersions.enumerate(groupWithArtifactWithVersion);
      myData.hasVersionCache.put(groupWithArtifactWithVersion,true);
      addToCache(myData.groupWithArtifactToVersionMap,groupWithArtifact,version);
      myData.flush();
      return null;
    }
  }
,null);
}
