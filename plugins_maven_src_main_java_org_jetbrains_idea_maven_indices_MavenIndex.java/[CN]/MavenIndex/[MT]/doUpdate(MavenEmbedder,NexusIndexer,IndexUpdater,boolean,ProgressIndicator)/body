{
  try {
    IndexingContext context=createContext(indexer);
    try {
      if (updateContext)       updateContext(context,embedder,indexer,updater,progress);
      updateData(context,progress);
      save();
    }
  finally {
      indexer.removeIndexingContext(context,false);
    }
  }
 catch (  IOException e) {
    throw new MavenIndexException(e);
  }
catch (  UnsupportedExistingLuceneIndexException e) {
    throw new MavenIndexException(e);
  }
}
