{
  try {
    File dataDir;
    if (myDataDirName == null) {
      dataDir=createNewDataDir();
      myDataDirName=dataDir.getName();
    }
 else {
      dataDir=new File(myDir,myDataDirName);
      dataDir.mkdirs();
    }
    myData=new IndexData(dataDir);
  }
 catch (  Exception e) {
    cleanupBrokenData();
    throw e;
  }
}
