{
  try {
    if (fullUpdate) {
      if (myKind == Kind.LOCAL)       FileUtil.delete(getUpdateDir());
      IndexingContext context=createContext(getUpdateDir(),"update");
      try {
        updateContext(context,updater,proxyInfo,progress);
      }
  finally {
        myIndexer.removeIndexingContext(context,false);
      }
    }
    updateData(progress);
    isBroken=false;
    myFailureMessage=null;
  }
 catch (  IOException e) {
    handleUpdateException(e);
  }
catch (  UnsupportedExistingLuceneIndexException e) {
    handleUpdateException(e);
  }
  save();
}
