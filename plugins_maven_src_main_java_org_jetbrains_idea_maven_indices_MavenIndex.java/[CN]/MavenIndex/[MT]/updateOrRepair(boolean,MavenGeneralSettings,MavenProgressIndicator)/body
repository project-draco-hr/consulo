{
  try {
    if (fullUpdate) {
      if (myKind == Kind.LOCAL)       FileUtil.delete(getUpdateDir());
      int context=createContext(getUpdateDir(),"update");
      try {
        updateContext(context,settings,progress);
      }
  finally {
        myIndexer.releaseIndex(context);
      }
    }
    updateData(progress);
    isBroken=false;
    myFailureMessage=null;
  }
 catch (  MavenProcessCanceledException e) {
    throw e;
  }
catch (  Exception e) {
    handleUpdateException(e);
  }
  save();
}
