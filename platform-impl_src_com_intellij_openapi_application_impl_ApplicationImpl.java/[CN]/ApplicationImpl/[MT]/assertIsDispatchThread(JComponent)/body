{
  if (component == null)   return;
  Thread curThread=Thread.currentThread();
  if (ourDispatchThread == curThread) {
    return;
  }
  if (Boolean.TRUE.equals(component.getClientProperty(WAS_EVER_SHOWN))) {
    assertIsDispatchThread();
  }
 else {
    final JRootPane root=component.getRootPane();
    if (root != null) {
      component.putClientProperty(WAS_EVER_SHOWN,Boolean.TRUE);
      assertIsDispatchThread();
    }
  }
}
