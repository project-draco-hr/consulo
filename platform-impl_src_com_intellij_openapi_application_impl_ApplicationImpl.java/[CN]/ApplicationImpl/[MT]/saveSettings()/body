{
  if (myDoNotSave)   return;
  try {
    doSave();
  }
 catch (  final Throwable ex) {
    if (isUnitTestMode()) {
      System.out.println("Saving application settings failed");
      ex.printStackTrace();
    }
 else {
      LOG.info("Saving application settings failed",ex);
      invokeLater(new Runnable(){
        public void run(){
          Messages.showMessageDialog(ApplicationBundle.message("application.save.settings.error",ex.getLocalizedMessage()),CommonBundle.getErrorTitle(),Messages.getErrorIcon());
        }
      }
);
    }
  }
}
