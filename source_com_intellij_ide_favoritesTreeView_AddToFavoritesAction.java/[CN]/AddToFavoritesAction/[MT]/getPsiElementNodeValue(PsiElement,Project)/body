{
  if (psiElement instanceof PsiPackage) {
    final PsiPackage psiPackage=(PsiPackage)psiElement;
    final PsiDirectory[] directories=psiPackage.getDirectories();
    final VirtualFile firstDir=directories[0].getVirtualFile();
    final boolean isLibraryRoot=PackageUtil.isLibraryRoot(firstDir,project);
    return new PackageElement(null,psiPackage,isLibraryRoot);
  }
  return psiElement;
}
