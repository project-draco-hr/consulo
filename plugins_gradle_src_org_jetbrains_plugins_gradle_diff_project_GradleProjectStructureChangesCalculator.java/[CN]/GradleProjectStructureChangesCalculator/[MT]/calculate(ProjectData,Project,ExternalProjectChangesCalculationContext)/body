{
  calculateProjectChanges(gradleEntity,ideEntity,context.getCurrentChanges());
  final Set<? extends ModuleData> gradleSubEntities=gradleEntity.getModules();
  final Collection<Module> intellijSubEntities=myPlatformFacade.getModules(ideEntity);
  GradleDiffUtil.calculate(myModuleChangesCalculator,gradleSubEntities,intellijSubEntities,context);
  LibraryTable libraryTable=myPlatformFacade.getProjectLibraryTable(ideEntity);
  GradleDiffUtil.calculate(myLibraryChangesCalculator,gradleEntity.getLibraries(),Arrays.asList(libraryTable.getLibraries()),context);
}
