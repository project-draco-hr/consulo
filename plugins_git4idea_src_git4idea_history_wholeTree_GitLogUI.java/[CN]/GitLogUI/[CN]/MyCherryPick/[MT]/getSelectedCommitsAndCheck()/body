{
  if (myJBTable == null)   return null;
  final int[] rows=myJBTable.getSelectedRows();
  final MultiMap<VirtualFile,GitCommit> hashes=new MultiMap<VirtualFile,GitCommit>();
  for (  int row : rows) {
    final CommitI commitI=myTableModel.getCommitAt(row);
    if (commitI == null)     return null;
    if (commitI.holdsDecoration())     return null;
    if (myIdsInProgress.contains(commitI.getHash()))     return null;
    final VirtualFile root=commitI.selectRepository(myRootsUnderVcs);
    final GitCommit gitCommit=myDetailsCache.convert(root,commitI.getHash());
    if (gitCommit == null)     return null;
    hashes.putValue(root,gitCommit);
  }
  return hashes;
}
