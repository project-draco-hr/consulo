{
  if (myJBTable == null) {
    return MultiMap.emptyInstance();
  }
  final int[] rows=myJBTable.getSelectedRows();
  final MultiMap<VirtualFile,GitCommit> hashes=new MultiMap<VirtualFile,GitCommit>();
  for (  int row : rows) {
    final CommitI commitI=myTableModel.getCommitAt(row);
    if (commitI == null) {
      return MultiMap.emptyInstance();
    }
    if (commitI.holdsDecoration()) {
      return MultiMap.emptyInstance();
    }
    if (myIdsInProgress.contains(commitI.getHash())) {
      return MultiMap.emptyInstance();
    }
    final VirtualFile root=commitI.selectRepository(myRootsUnderVcs);
    final GitCommit gitCommit=myDetailsCache.convert(root,commitI.getHash());
    if (gitCommit == null) {
      return MultiMap.emptyInstance();
    }
    hashes.putValue(root,gitCommit);
  }
  return hashes;
}
