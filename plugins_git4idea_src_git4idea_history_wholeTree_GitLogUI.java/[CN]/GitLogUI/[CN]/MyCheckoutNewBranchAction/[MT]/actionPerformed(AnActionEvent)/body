{
  final int[] selectedRows=myJBTable.getSelectedRows();
  if (selectedRows.length != 1)   return;
  final CommitI commitAt=myTableModel.getCommitAt(selectedRows[0]);
  if (commitAt.holdsDecoration() || myTableModel.isStashed(commitAt))   return;
  final GitRepository repository=GitUtil.getRepositoryManager(myProject).getRepositoryForRoot(commitAt.selectRepository(myRootsUnderVcs));
  if (repository == null)   return;
  String reference=commitAt.getHash().getString();
  final String name=GitBranchUiUtil.getNewBranchNameFromUser(myProject,Collections.singleton(repository),"Checkout New Branch From " + reference);
  if (name != null) {
    new GitBranchOperationsProcessor(repository,myRefresh).checkoutNewBranchStartingFrom(name,reference);
  }
}
