{
  if (commit == null) {
    myJEditorPane.setText("");
    myMarksPanel.removeAll();
    myMissingBranchesInfo=false;
  }
 else {
    final List<String> branches=myDetailsCache.getBranches(root,commit.getShortHash());
    myMissingBranchesInfo=branches == null;
    final Font font=myJEditorPane.getFont().deriveFont((float)(myJEditorPane.getFont().getSize() - 1));
    final String currentBranch=commit.getCurrentBranch();
    myMarksPanel.removeAll();
    for (    String s : commit.getLocalBranches()) {
      myMarksPanel.add(new JLabel(new CaptionIcon(Colors.local,font,s,myMarksPanel,CaptionIcon.Form.SQUARE,false,s.equals(currentBranch))));
    }
    for (    String s : commit.getRemoteBranches()) {
      myMarksPanel.add(new JLabel(new CaptionIcon(Colors.remote,font,s,myMarksPanel,CaptionIcon.Form.SQUARE,false,s.equals(currentBranch))));
    }
    for (    String s : commit.getTags()) {
      myMarksPanel.add(new JLabel(new CaptionIcon(Colors.tag,font,s,myMarksPanel,CaptionIcon.Form.ROUNDED,false,s.equals(currentBranch))));
    }
    myMarksPanel.repaint();
    myJEditorPane.setText(parseDetails(root,commit,branches));
  }
}
