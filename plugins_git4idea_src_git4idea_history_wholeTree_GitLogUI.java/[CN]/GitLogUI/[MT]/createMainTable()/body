{
  final ActionToolbar actionToolbar=createToolbar();
  myJBTable=new JBTable(myTableModel){
    @Override public TableCellRenderer getCellRenderer(    int row,    int column){
      final TableCellRenderer custom=myTableModel.getColumnInfo(column).getRenderer(myTableModel.getValueAt(row,column));
      return custom == null ? super.getCellRenderer(row,column) : custom;
    }
  }
;
  final TableLinkMouseListener tableLinkListener=new TableLinkMouseListener(){
    @Override protected Object tryGetTag(    MouseEvent e,    JTable table,    int row,    int column){
      myDescriptionRenderer.getTableCellRendererComponent(table,table.getValueAt(row,column),false,false,row,column);
      final Rectangle rc=table.getCellRect(row,column,false);
      int index=myDescriptionRenderer.myInner.findFragmentAt(e.getPoint().x - rc.x - myDescriptionRenderer.getCurrentWidth());
      if (index >= 0) {
        return myDescriptionRenderer.myInner.getFragmentTag(index);
      }
      return null;
    }
  }
;
  tableLinkListener.install(myJBTable);
  myJBTable.getExpandableItemsHandler().setEnabled(false);
  myJBTable.setShowGrid(false);
  myJBTable.setModel(myTableModel);
  myJBTable.addMouseListener(new PopupHandler(){
    @Override public void invokePopup(    Component comp,    int x,    int y){
      createContextMenu().getComponent().show(comp,x,y);
    }
  }
);
  final JScrollPane scrollPane=ScrollPaneFactory.createScrollPane(myJBTable);
  new AdjustComponentWhenShown(){
    @Override protected boolean init(){
      return adjustColumnSizes(scrollPane);
    }
    @Override protected boolean canExecute(){
      return myStarted;
    }
  }
.install(myJBTable);
  myMyChangeListener=new GitTableScrollChangeListener(myJBTable,myDetailsCache,myTableModel,new Runnable(){
    @Override public void run(){
      updateSelection();
    }
  }
);
  scrollPane.getViewport().addChangeListener(myMyChangeListener);
  final JPanel wrapper=new DataProviderPanel(new BorderLayout());
  wrapper.add(actionToolbar.getComponent(),BorderLayout.NORTH);
  final JPanel mainBorderWrapper=new JPanel(new BorderLayout());
  mainBorderWrapper.add(scrollPane,BorderLayout.CENTER);
  mainBorderWrapper.setBorder(BorderFactory.createLineBorder(UIUtil.getBorderColor()));
  wrapper.add(mainBorderWrapper,BorderLayout.CENTER);
  final JComponent specificDetails=myDetails.create();
  final JPanel borderWrapper=new JPanel(new BorderLayout());
  borderWrapper.setBorder(BorderFactory.createLineBorder(UIUtil.getBorderColor()));
  borderWrapper.add(specificDetails,BorderLayout.CENTER);
  final Splitter splitter=new Splitter(true,0.6f);
  splitter.setFirstComponent(wrapper);
  splitter.setSecondComponent(borderWrapper);
  splitter.setDividerWidth(4);
  return splitter;
}
