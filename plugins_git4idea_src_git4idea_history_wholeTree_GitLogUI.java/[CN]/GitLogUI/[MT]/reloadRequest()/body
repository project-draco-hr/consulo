{
  final int was=myTableModel.getRowCount();
  final Collection<String> startingPoints=mySelectedBranch == null ? Collections.<String>emptyList() : Collections.singletonList(mySelectedBranch);
  if (StringUtil.isEmptyOrSpaces(myPreviousFilter)) {
    mySearchContext.clear();
    myMediator.reload(new RootsHolder(myRootsUnderVcs),startingPoints,Collections.<ChangesFilter.Filter>emptyList(),null);
  }
 else {
    final List<ChangesFilter.Filter> filters=new ArrayList<ChangesFilter.Filter>();
    String preparse=preparse(myPreviousFilter);
    filters.add(new ChangesFilter.Comment(preparse));
    filters.add(new ChangesFilter.Author(preparse));
    filters.add(new ChangesFilter.Committer(preparse));
    myMediator.reload(new RootsHolder(myRootsUnderVcs),startingPoints,filters,myPreviousFilter.split("[\\s]"));
  }
  selectionChanged();
  fireTableRepaint();
  myTableModel.fireTableRowsDeleted(0,was);
}
