{
  myRepoLayout=new CardLayout();
  myRepoPanel=new JPanel(myRepoLayout);
  myRepositoryChangesBrowser=new RepositoryChangesBrowser(myProject,Collections.<CommittedChangeList>emptyList(),Collections.<Change>emptyList(),null);
  myRepositoryChangesBrowser.getDiffAction().registerCustomShortcutSet(CommonShortcuts.getDiff(),myJBTable);
  myJBTable.getSelectionModel().addListSelectionListener(new ListSelectionListener(){
    @Override public void valueChanged(    ListSelectionEvent e){
      myGraphGutter.getComponent().repaint();
      mySelectionRequestsMerger.request();
    }
  }
);
  myRepoPanel.add("main",myRepositoryChangesBrowser);
  myRepoPanel.add("loading",panelWithCenteredText("Loading..."));
  myRepoPanel.add("tooMuch",panelWithCenteredText("Too many rows selected"));
  myRepoPanel.add("empty",panelWithCenteredText("Nothing selected"));
  myRepoLayout.show(myRepoPanel,"empty");
  return myRepoPanel;
}
