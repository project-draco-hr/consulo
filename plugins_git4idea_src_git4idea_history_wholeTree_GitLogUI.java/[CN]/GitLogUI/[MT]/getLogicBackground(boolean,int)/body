{
  Color bkgColor;
  final CommitI commitAt=myTableModel.getCommitAt(row);
  GitCommit gitCommit=null;
  if (commitAt != null && (!commitAt.holdsDecoration())) {
    gitCommit=fullCommitPresentation(commitAt);
  }
  if (isSelected) {
    bkgColor=UIUtil.getTableSelectionBackground();
  }
 else {
    bkgColor=UIUtil.getTableBackground();
    if (gitCommit != null) {
      if (myDetailsCache.getStashName(commitAt.selectRepository(myRootsUnderVcs),gitCommit.getShortHash()) != null) {
        bkgColor=Colors.stashed;
      }
 else       if (gitCommit.isOnLocal() && gitCommit.isOnTracked()) {
        bkgColor=Colors.commonThisBranch;
      }
 else       if (gitCommit.isOnLocal()) {
        bkgColor=Colors.ownThisBranch;
      }
    }
  }
  return bkgColor;
}
