{
  final int[] selectedRows=myJBTable.getSelectedRows();
  if (selectedRows != null && selectedRows.length > 0) {
    for (    int selectedRow : selectedRows) {
      if (selectedRow == row) {
        return UIUtil.getTableSelectionBackground();
      }
    }
  }
  if (myClearedHighlightingRoots.isEmpty()) {
    return myTableModel.isInCurrentBranch(row) ? Colors.highlighted : UIUtil.isUnderDarcula() ? UIUtil.getTableBackground().darker() : UIUtil.getTableBackground();
  }
  final CommitI commitAt=myTableModel.getCommitAt(row);
  if (commitAt.holdsDecoration()) {
    return UIUtil.getTableBackground();
  }
  final VirtualFile virtualFile=commitAt.selectRepository(myRootsUnderVcs);
  return myClearedHighlightingRoots.contains(virtualFile) ? UIUtil.getTableBackground() : (myTableModel.isInCurrentBranch(row) ? Colors.highlighted : UIUtil.getTableBackground());
}
