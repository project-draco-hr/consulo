{
  String homePath=PathManager.getHomePath();
  List<String> relativePaths=TEST_DATA_RELATIVE_PATHS.get(strategy);
  if (relativePaths.isEmpty()) {
    throw new IllegalStateException(String.format("Can't determine test data path. Reason: no predefined relative paths are configured for test data " + "lookup strategy %s. Configured mappings: %s",strategy,TEST_DATA_RELATIVE_PATHS));
  }
  File candidate=null;
  for (  String relativePath : relativePaths) {
    candidate=new File(homePath,relativePath);
    if (candidate.isDirectory()) {
      return candidate.getPath();
    }
  }
  if (candidate == null) {
    throw new IllegalStateException("Can't determine test data path. Looks like programming error - reached 'if' block that was " + "never expected to be executed");
  }
  return candidate.getPath();
}
