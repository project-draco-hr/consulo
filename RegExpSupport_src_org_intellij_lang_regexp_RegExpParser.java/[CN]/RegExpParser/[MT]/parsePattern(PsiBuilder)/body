{
  final PsiBuilder.Marker marker=builder.mark();
  if (!parseBranch(builder)) {
    marker.drop();
    return false;
  }
  while (builder.getTokenType() == RegExpTT.UNION) {
    builder.advanceLexer();
    if (!parseBranch(builder)) {
      patternExpected(builder);
      break;
    }
  }
  marker.done(RegExpElementTypes.PATTERN);
  return true;
}
