{
  final LexerPosition pos=lexer.getCurrentPosition();
  CompositeElement modifierList=parseModifierList(lexer);
  CompositeElement type=allowEllipsis ? parseTypeWithEllipsis(lexer) : parseType(lexer);
  if (type == null && modifierList.getFirstChildNode() == null) {
    lexer.restore(pos);
    return null;
  }
  CompositeElement param=ASTFactory.composite(JavaElementType.PARAMETER);
  param.rawAddChildren(modifierList);
  if (type == null) {
    type=ASTFactory.composite(JavaElementType.TYPE);
    param.rawAddChildren(Factory.createErrorElement(JavaErrorMessages.message("expected.type")));
  }
  param.rawAddChildren(type);
  if (lexer.getTokenType() == JavaTokenType.IDENTIFIER) {
    param.rawAddChildren(ParseUtil.createTokenElement(lexer,myContext.getCharTable()));
    lexer.advance();
    while (lexer.getTokenType() == JavaTokenType.LBRACKET) {
      param.rawAddChildren(ParseUtil.createTokenElement(lexer,myContext.getCharTable()));
      lexer.advance();
      if (lexer.getTokenType() != JavaTokenType.RBRACKET) {
        param.rawAddChildren(Factory.createErrorElement(JavaErrorMessages.message("expected.rbracket")));
        break;
      }
      param.rawAddChildren(ParseUtil.createTokenElement(lexer,myContext.getCharTable()));
      lexer.advance();
    }
    return param;
  }
 else {
    param.rawAddChildren(Factory.createErrorElement(JavaErrorMessages.message("expected.identifier")));
    return param.getFirstChildNode();
  }
}
