{
  if (myTaskDefinitions != null)   return myTaskDefinitions.get(taskClassName);
  myTaskDefinitions=new HashMap<String,AntTaskDefinition>();
  Project project=new Project();
  project.init();
  final Hashtable ht=project.getTaskDefinitions();
  if (ht == null)   return null;
  final Enumeration tasks=ht.keys();
  while (tasks.hasMoreElements()) {
    final String taskName=(String)tasks.nextElement();
    final Class taskClass=(Class)ht.get(taskName);
    final IntrospectionHelper helper=getHelperExceptionSafe(taskClass);
    if (helper == null)     continue;
    final HashMap<String,AntAttributeType> attributes=new HashMap<String,AntAttributeType>();
    final Enumeration attrEnum=helper.getAttributes();
    while (attrEnum.hasMoreElements()) {
      String attr=(String)attrEnum.nextElement();
      final Class attrClass=helper.getAttributeType(attr);
      if (int.class.equals(attrClass)) {
        attributes.put(attr,AntAttributeType.INTEGER);
      }
 else       if (boolean.class.equals(attrClass)) {
        attributes.put(attr,AntAttributeType.BOOLEAN);
      }
 else {
        attributes.put(attr,AntAttributeType.STRING);
      }
    }
    HashMap<Pair<String,String>,String> nestedDefinitions=new HashMap<Pair<String,String>,String>();
    final Enumeration nestedEnum=helper.getNestedElements();
    while (nestedEnum.hasMoreElements()) {
      final String nestedElement=(String)nestedEnum.nextElement();
      final String className=((Class)helper.getNestedElementMap().get(nestedElement)).getName();
      nestedDefinitions.put(new Pair<String,String>(nestedElement,""),className);
    }
    AntTaskDefinition def=new AntTaskDefinitionImpl(new Pair<String,String>(taskName,getSourceElement().getNamespace()),taskClass.getName(),attributes,nestedDefinitions);
    myTaskDefinitions.put(def.getClassName(),def);
  }
  return myTaskDefinitions.get(taskClassName);
}
