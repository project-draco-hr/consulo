{
  if (elementsDepthStack.contains(project))   return;
  elementsDepthStack.add(project);
  try {
    for (    final AntFile imported : project.getImportedFiles()) {
      final AntProject importedProject=imported.getAntProject();
      if (importedProject != null && !elementsDepthStack.contains(importedProject)) {
        for (        final AntTarget target : importedProject.getTargets()) {
          targets.add(target);
        }
      }
      getImportedTargets(importedProject,targets,elementsDepthStack);
    }
  }
  finally {
    elementsDepthStack.remove(project);
  }
}
