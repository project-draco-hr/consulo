{
  myFileNameField.addActionListener(new ActionListener(){
    public void actionPerformed(    ActionEvent e){
      JFileChooser fileChooser=new JFileChooser();
      fileChooser.setSelectedFile(new File(myFileNameField.getText()));
      if (fileChooser.showSaveDialog(myFileNameField) != JFileChooser.APPROVE_OPTION) {
        return;
      }
      myFileNameField.setText(fileChooser.getSelectedFile().getPath());
    }
  }
);
  myFileNameField.getTextField().addInputMethodListener(new InputMethodListener(){
    public void inputMethodTextChanged(    final InputMethodEvent event){
      checkName();
    }
    public void caretPositionChanged(    final InputMethodEvent event){
    }
  }
);
  myFileNameField.getTextField().addKeyListener(new KeyListener(){
    public void keyTyped(    final KeyEvent e){
      checkName();
    }
    public void keyPressed(    final KeyEvent e){
      checkName();
    }
    public void keyReleased(    final KeyEvent e){
      checkName();
    }
  }
);
  myErrorLabel.setForeground(Color.RED);
  checkName();
}
