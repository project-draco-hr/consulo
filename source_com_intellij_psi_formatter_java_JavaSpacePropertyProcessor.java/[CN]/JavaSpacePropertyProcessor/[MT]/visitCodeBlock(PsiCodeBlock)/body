{
  boolean keepInOneLine=keepInOneLine(block);
  if (myParent instanceof JspCodeBlock) {
    myResult=Formatter.getInstance().createSpaceProperty(0,0,1,mySettings.KEEP_LINE_BREAKS,mySettings.KEEP_BLANK_LINES_IN_CODE);
  }
 else   if (myRole1 == ChildRole.NONE || myRole2 == ChildRole.NONE) {
    if (myChild1.getElementType() == ElementType.END_OF_LINE_COMMENT) {
      myResult=Formatter.getInstance().createSpaceProperty(0,0,1,mySettings.KEEP_LINE_BREAKS,mySettings.KEEP_BLANK_LINES_IN_CODE);
    }
 else {
      myResult=null;
    }
  }
 else   if (myRole1 == ChildRole.LBRACE) {
    if (!keepInOneLine) {
      myResult=Formatter.getInstance().createSpaceProperty(0,0,1,mySettings.KEEP_LINE_BREAKS,mySettings.KEEP_BLANK_LINES_IN_CODE);
    }
 else {
      myResult=Formatter.getInstance().createDependentLFProperty(0,1,block.getTextRange(),mySettings.KEEP_LINE_BREAKS,mySettings.KEEP_BLANK_LINES_IN_CODE);
    }
  }
 else   if (myRole2 == ChildRole.RBRACE) {
    if (!keepInOneLine) {
      myResult=Formatter.getInstance().createSpaceProperty(0,0,1,mySettings.KEEP_LINE_BREAKS,mySettings.KEEP_BLANK_LINES_BEFORE_RBRACE);
    }
 else {
      myResult=Formatter.getInstance().createDependentLFProperty(0,1,block.getTextRange(),mySettings.KEEP_LINE_BREAKS,mySettings.KEEP_BLANK_LINES_BEFORE_RBRACE);
    }
  }
 else   if (myRole1 == ChildRole.STATEMENT_IN_BLOCK && myRole2 == ChildRole.STATEMENT_IN_BLOCK) {
    if (!keepInOneLine) {
      myResult=Formatter.getInstance().createSpaceProperty(0,0,1,mySettings.KEEP_LINE_BREAKS,mySettings.KEEP_BLANK_LINES_IN_CODE);
    }
 else {
      myResult=Formatter.getInstance().createDependentLFProperty(1,1,block.getTextRange(),mySettings.KEEP_LINE_BREAKS,mySettings.KEEP_BLANK_LINES_IN_CODE);
    }
  }
}
