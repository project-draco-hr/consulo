{
  if (dependantRange != null && braceStyle == CodeStyleSettings.NEXT_LINE_IF_WRAPPED) {
    int space=spaceBeforeLbrace ? 1 : 0;
    return createNonLFSpace(space,false,dependantRange);
  }
 else   if (braceStyle == CodeStyleSettings.END_OF_LINE) {
    int space=spaceBeforeLbrace ? 1 : 0;
    return createNonLFSpace(space,false,null);
  }
 else   if (keepOneLine) {
    int space=spaceBeforeLbrace ? 1 : 0;
    return Spacing.createDependentLFSpacing(space,space,myParent.getTextRange(),mySettings.KEEP_LINE_BREAKS,mySettings.KEEP_BLANK_LINES_IN_CODE);
  }
 else {
    return Spacing.createSpacing(0,0,1,false,mySettings.KEEP_BLANK_LINES_IN_CODE);
  }
}
