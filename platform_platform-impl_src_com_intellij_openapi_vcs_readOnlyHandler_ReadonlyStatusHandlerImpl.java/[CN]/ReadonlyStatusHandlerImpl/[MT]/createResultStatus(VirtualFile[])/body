{
  List<VirtualFile> readOnlyFiles=new ArrayList<VirtualFile>();
  for (  VirtualFile file : files) {
    if (file.exists()) {
      if (!file.isWritable()) {
        readOnlyFiles.add(file);
      }
    }
  }
  return new OperationStatusImpl(readOnlyFiles.isEmpty() ? VirtualFile.EMPTY_ARRAY : readOnlyFiles.toArray(new VirtualFile[readOnlyFiles.size()]));
}
