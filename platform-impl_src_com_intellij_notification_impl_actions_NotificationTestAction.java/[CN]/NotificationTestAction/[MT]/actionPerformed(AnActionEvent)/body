{
  final Project project=PlatformDataKeys.PROJECT.getData(e.getDataContext());
  final MessageBus messageBus=project == null ? ApplicationManager.getApplication().getMessageBus() : project.getMessageBus();
  messageBus.syncPublisher(Notifications.TOPIC).notify("Idea.Test","Test Notification","Test Notification Description",NotificationType.INFORMATION,new NotificationListener(){
    @NotNull public OnClose perform(){
      final int i=Messages.showChooseDialog("Notification message","Test",new String[]{"Leave","Remove"},"Remove",null);
      return i == 1 ? OnClose.REMOVE : OnClose.LEAVE;
    }
  }
);
}
