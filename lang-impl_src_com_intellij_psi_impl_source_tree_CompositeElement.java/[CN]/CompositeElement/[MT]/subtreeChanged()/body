{
  clearCaches();
  if (!(this instanceof PsiElement)) {
    final PsiElement psi=getPsi();
    if (psi instanceof ASTDelegatePsiElement) {
      ((ASTDelegatePsiElement)psi).subtreeChanged();
    }
 else     if (psi instanceof PsiFile) {
      ((PsiFile)psi).subtreeChanged();
    }
  }
  CompositeElement treeParent=getTreeParent();
  if (treeParent != null)   treeParent.subtreeChanged();
}
