{
  if (parameter.indexOf(' ') < 0) {
    return parameter;
  }
  if (parameter.length() >= 2 && parameter.charAt(0) == '"' && parameter.charAt(parameter.length() - 1) == '"' && !parameter.endsWith("\\\"")) {
    return parameter;
  }
  return SystemInfo.isWindows ? "\"" + parameter + "\"" : parameter;
}
