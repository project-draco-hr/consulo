{
  myProfiles.setRenderer(new ListCellRendererWrapper<Profile>(myProfiles.getRenderer()){
    @Override public void customize(    final JList list,    final Profile value,    final int index,    final boolean selected,    final boolean hasFocus){
      final String profileName=value.getName();
      setText(profileName);
      final SingleInspectionProfilePanel panel=myPanels.get(profileName);
      setIcon(panel != null && panel.isProfileShared() ? Profile.PROJECT_PROFILE : Profile.LOCAL_PROFILE);
    }
  }
);
  myProfiles.addActionListener(new ActionListener(){
    public void actionPerformed(    ActionEvent e){
      final InspectionProfileImpl profile=(InspectionProfileImpl)myProfiles.getSelectedItem();
      myDeleteButton.setEnabled(isDeleteEnabled(profile));
      myLayout.show(myPanel,profile.getName());
      SingleInspectionProfilePanel panel=getSelectedPanel();
      if (panel != null) {
        myShareProfileCheckBox.setSelected(panel.isProfileShared());
      }
    }
  }
);
  myShareProfileCheckBox.addActionListener(new ActionListener(){
    public void actionPerformed(    ActionEvent e){
      final SingleInspectionProfilePanel panel=getSelectedPanel();
      LOG.assertTrue(panel != null,"No settings panel for: " + getSelectedObject());
      panel.setProfileShared(myShareProfileCheckBox.isSelected());
      myProfiles.repaint();
    }
  }
);
  myPanel.setLayout(myLayout);
  return myWholePanel;
}
