{
  final Map<String,SingleInspectionProfilePanel> panels=new LinkedHashMap<String,SingleInspectionProfilePanel>();
  for (  final String name : myPanels.keySet()) {
    if (myDeletedProfiles.remove(name)) {
      final String profileName=getProfilePanel(name).getSelectedProfile().getName();
      deleteProfile(profileName);
    }
 else {
      final SingleInspectionProfilePanel panel=getProfilePanel(name);
      panel.apply();
      final ModifiableModel profile=panel.getSelectedProfile();
      panels.put(getProfilePrefix(profile) + profile.getName(),panel);
    }
  }
  myPanels.clear();
  myPanels.putAll(panels);
}
