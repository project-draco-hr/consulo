{
  myDeletedProfiles.clear();
  myPanels.clear();
  final DefaultComboBoxModel model=new DefaultComboBoxModel();
  myProfiles.setModel(model);
  for (  Profile profile : getProfiles()) {
    model.addElement(profile);
    final String profileName=profile.getName();
    final SingleInspectionProfilePanel panel=new SingleInspectionProfilePanel(myProjectProfileManager,profileName,((InspectionProfileImpl)profile).getModifiableModel());
    myPanels.put(profileName,panel);
    myPanel.add(profileName,panel);
  }
  final InspectionProfileImpl inspectionProfile=getCurrentProfile();
  myProfiles.setSelectedItem(inspectionProfile);
  myLayout.show(myPanel,inspectionProfile.getName());
  myDeleteButton.setEnabled(isDeleteEnabled(inspectionProfile));
  final SingleInspectionProfilePanel panel=getSelectedPanel();
  if (panel != null) {
    panel.setVisible(true);
    mySelectionAlarm=new Alarm(Alarm.ThreadToUse.SWING_THREAD);
    SwingUtilities.invokeLater(new Runnable(){
      public void run(){
        if (mySelectionAlarm != null) {
          mySelectionAlarm.addRequest(new Runnable(){
            public void run(){
              panel.updateSelection();
            }
          }
,200);
        }
      }
    }
);
    myShareProfileCheckBox.setSelected(panel.isProfileShared());
  }
}
