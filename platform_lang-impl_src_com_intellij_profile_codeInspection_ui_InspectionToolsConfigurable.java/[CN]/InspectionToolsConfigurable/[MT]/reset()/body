{
  myDeletedProfiles.clear();
  myPanels.clear();
  final DefaultComboBoxModel model=new DefaultComboBoxModel();
  myProfiles.setModel(model);
  for (  Profile profile : getProfiles()) {
    model.addElement(profile);
    final String profileName=profile.getName();
    final SingleInspectionProfilePanel panel=new SingleInspectionProfilePanel(myProjectProfileManager,profileName,((InspectionProfileImpl)profile).getModifiableModel());
    myPanels.put(profileName,panel);
    panel.reset();
    myPanel.add(profileName,panel);
  }
  final InspectionProfileImpl inspectionProfile=getCurrentProfile();
  myProfiles.setSelectedItem(inspectionProfile);
  myLayout.show(myPanel,inspectionProfile.getName());
  myDeleteButton.setEnabled(getProfiles().size() > 1 && inspectionProfile.getProfileManager() == myProfileManager);
  final SingleInspectionProfilePanel panel=getSelectedPanel();
  if (panel != null) {
    mySelectionAlarm=new Alarm(Alarm.ThreadToUse.SWING_THREAD);
    mySelectionAlarm.addRequest(new Runnable(){
      public void run(){
        panel.updateSelection();
      }
    }
,200);
    myShareProfileCheckBox.setSelected(panel.isProfileShared());
  }
}
