{
  try {
    final Git git=convertToGit(repository);
    final GitHttpCredentialsProvider provider=new GitHttpCredentialsProvider(repository.getProject(),remoteUrl);
    GitHttpRemoteCommand.LsRemote lsRemoteCommand=new GitHttpRemoteCommand.LsRemote(git,provider,remoteUrl);
    callWithAuthRetry(lsRemoteCommand,repository.getProject());
    return convertRefsToStrings(lsRemoteCommand.getRefs());
  }
 catch (  IOException e) {
    logException(repository,remoteName,remoteUrl,e,"fetching");
  }
catch (  InvalidRemoteException e) {
    logException(repository,remoteName,remoteUrl,e,"fetching");
  }
catch (  URISyntaxException e) {
    logException(repository,remoteName,remoteUrl,e,"fetching");
  }
  return Collections.emptyList();
}
