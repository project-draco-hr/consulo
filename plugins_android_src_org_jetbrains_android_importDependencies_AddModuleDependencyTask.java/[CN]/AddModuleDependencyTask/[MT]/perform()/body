{
  final Module module=myModuleProvider.getModule();
  final Module depModule=myDepModuleProvider.getModule();
  if (module == null || depModule == null) {
    return null;
  }
  final ModuleRootManager rootManager=ModuleRootManager.getInstance(module);
  if (!rootManager.isDependsOn(depModule)) {
    final ModifiableRootModel model=rootManager.getModifiableModel();
    model.addModuleOrderEntry(depModule);
    ApplicationManager.getApplication().runWriteAction(new Runnable(){
      @Override public void run(){
        model.commit();
      }
    }
);
  }
  return null;
}
