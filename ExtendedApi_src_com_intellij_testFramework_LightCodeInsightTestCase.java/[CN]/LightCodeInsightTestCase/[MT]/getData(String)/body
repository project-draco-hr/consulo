{
  if (dataId.equals(DataConstants.EDITOR)) {
    return myEditor;
  }
  if (dataId.equals(AnActionEvent.injectedId(DataConstants.EDITOR))) {
    return InjectedLanguageUtil.getEditorForInjectedLanguage(getEditor(),getFile());
  }
  if (dataId.equals(DataConstants.PSI_FILE)) {
    return myFile;
  }
  if (dataId.equals(AnActionEvent.injectedId(DataConstants.PSI_FILE))) {
    Editor editor=InjectedLanguageUtil.getEditorForInjectedLanguage(getEditor(),getFile());
    return editor instanceof EditorDelegate ? ((EditorDelegate)editor).getInjectedFile() : getFile();
  }
  return super.getData(dataId);
}
