{
  boolean calledOnThis=isCalledOnThis(elementToHighlight);
  boolean isInheritedMethod=false;
  if (calledOnThis) {
    PsiClass enclosingClass=findEnclosingClass(elementToHighlight);
    isInheritedMethod=isMethodInHierarchy(method,enclosingClass.getSuperClass());
  }
  HighlightInfoType type=getMethodNameHighlightType(method,isDeclaration,isInheritedMethod);
  if (type != null && elementToHighlight != null) {
    TextAttributes attributes=mergeWithScopeAttributes(method,type,colorsScheme);
    HighlightInfo info=HighlightInfo.createHighlightInfo(type,elementToHighlight.getTextRange(),null,null,attributes);
    if (info != null)     return info;
  }
  return null;
}
