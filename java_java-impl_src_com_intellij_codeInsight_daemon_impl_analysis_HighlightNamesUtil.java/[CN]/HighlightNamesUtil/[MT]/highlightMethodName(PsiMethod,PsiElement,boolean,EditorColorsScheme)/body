{
  boolean isInherited=false;
  if (!isDeclaration) {
    if (isCalledOnThis(elementToHighlight)) {
      PsiClass enclosingClass=PsiTreeUtil.getParentOfType(elementToHighlight,PsiClass.class);
      isInherited=enclosingClass.isInheritor(method.getContainingClass(),true);
    }
  }
  HighlightInfoType type=getMethodNameHighlightType(method,isDeclaration,isInherited);
  if (type != null && elementToHighlight != null) {
    TextAttributes attributes=mergeWithScopeAttributes(method,type,colorsScheme);
    HighlightInfo info=HighlightInfo.createHighlightInfo(type,elementToHighlight.getTextRange(),null,null,attributes);
    if (info != null)     return info;
  }
  return null;
}
