{
  Map<VirtualFile,T> repositories;
  try {
    REPO_LOCK.readLock().lock();
    repositories=new HashMap<VirtualFile,T>(myRepositories);
  }
  finally {
    REPO_LOCK.readLock().unlock();
  }
  for (  VirtualFile root : repositories.keySet()) {
    updateRepository(root);
  }
}
