{
  if (refElement instanceof RefImplicitConstructor) {
    return createElement((RefElement)refElement.getOwner(),parentNode,actualLine);
  }
  Element problem=new Element("problem");
  PsiElement psiElement=refElement.getElement();
  PsiFile psiFile=psiElement.getContainingFile();
  Element fileElement=new Element("file");
  Element lineElement=new Element("line");
  fileElement.addContent(psiFile.getVirtualFile().getUrl());
  if (actualLine == -1) {
    Document document=PsiDocumentManager.getInstance(refElement.getRefManager().getProject()).getDocument(psiFile);
    lineElement.addContent(String.valueOf(document.getLineNumber(psiElement.getTextOffset()) + 1));
  }
 else {
    lineElement.addContent(String.valueOf(actualLine));
  }
  problem.addContent(fileElement);
  problem.addContent(lineElement);
  if (refElement instanceof RefMethod) {
    RefMethod refMethod=(RefMethod)refElement;
    appendMethod(refMethod,problem);
  }
 else   if (refElement instanceof RefField) {
    RefField refField=(RefField)refElement;
    appendField(refField,problem);
  }
 else   if (refElement instanceof RefClass) {
    RefClass refClass=(RefClass)refElement;
    appendClass(refClass,problem);
  }
 else {
    LOG.info("Unknown refElement: " + refElement);
  }
  parentNode.addContent(problem);
  return problem;
}
