{
  assertDispatchThread();
  setTabsMode(uiSettings.EDITOR_TAB_PLACEMENT != UISettings.TABS_NONE && !uiSettings.PRESENTATION_MODE);
  for (  EditorsSplitters each : getAllSplitters()) {
    each.setTabsPlacement(uiSettings.EDITOR_TAB_PLACEMENT);
    each.trimToSize(uiSettings.EDITOR_TAB_LIMIT);
    if (uiSettings.SCROLL_TAB_LAYOUT_IN_EDITOR) {
      each.setTabLayoutPolicy(JTabbedPane.SCROLL_TAB_LAYOUT);
    }
 else {
      each.setTabLayoutPolicy(JTabbedPane.WRAP_TAB_LAYOUT);
    }
  }
  final VirtualFile[] openFiles=getOpenFiles();
  for (int i=openFiles.length - 1; i >= 0; i--) {
    final VirtualFile file=openFiles[i];
    updateFileIcon(file);
    updateFileName(file);
    updateFileBackgroundColor(file);
  }
}
