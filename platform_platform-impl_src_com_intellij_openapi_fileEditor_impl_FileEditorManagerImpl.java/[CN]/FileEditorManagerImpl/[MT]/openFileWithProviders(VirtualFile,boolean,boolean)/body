{
  if (!file.isValid()) {
    throw new IllegalArgumentException("file is not valid: " + file);
  }
  assertDispatchThread();
  EditorWindow wndToOpenIn=null;
  if (searchForSplitter) {
    for (    EditorsSplitters splitters : getAllSplitters()) {
      final EditorWindow window=splitters.getCurrentWindow();
      if (window == null)       continue;
      if (window.isFileOpen(file)) {
        wndToOpenIn=window;
        break;
      }
    }
  }
 else {
    wndToOpenIn=getSplitters().getCurrentWindow();
  }
  if (wndToOpenIn == null) {
    wndToOpenIn=getSplitters().getOrCreateCurrentWindow(file);
  }
  return openFileImpl2(wndToOpenIn,file,focusEditor);
}
