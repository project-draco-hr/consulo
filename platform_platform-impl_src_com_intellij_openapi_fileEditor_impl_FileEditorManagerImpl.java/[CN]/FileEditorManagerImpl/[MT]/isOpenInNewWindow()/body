{
  AWTEvent event=IdeEventQueue.getInstance().getTrueCurrentEvent();
  if (event instanceof MouseEvent && ((MouseEvent)event).isShiftDown() && (event.getID() == MouseEvent.MOUSE_CLICKED || event.getID() == MouseEvent.MOUSE_PRESSED || event.getID() == MouseEvent.MOUSE_RELEASED)) {
    return true;
  }
  if (event instanceof KeyEvent) {
    KeyEvent ke=(KeyEvent)event;
    Keymap keymap=KeymapManager.getInstance().getActiveKeymap();
    String[] ids=keymap.getActionIds(KeyStroke.getKeyStroke(ke.getKeyCode(),ke.getModifiers()));
    return Arrays.asList(ids).contains("OpenElementInNewWindow");
  }
  return false;
}
