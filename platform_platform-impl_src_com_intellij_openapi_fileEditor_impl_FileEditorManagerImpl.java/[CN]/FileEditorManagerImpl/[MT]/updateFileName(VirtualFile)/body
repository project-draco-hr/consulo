{
  myQueue.queue(new Update("UpdateFileName " + (file == null ? "" : file.getPath())){
    public boolean isExpired(){
      return myProject.isDisposed() || !myProject.isOpen() || (file == null ? super.isExpired() : !file.isValid());
    }
    public void run(){
      final WindowManagerEx windowManagerEx=WindowManagerEx.getInstanceEx();
      final IdeFrameImpl frame=windowManagerEx.getFrame(myProject);
      LOG.assertTrue(frame != null);
      getSplitters().updateFileName(file);
      File ioFile=file == null ? null : new File(file.getPresentableUrl());
      frame.setFileTitle(file == null ? null : FrameTitleBuilder.getInstance().getFileTitle(myProject,file),ioFile);
    }
  }
);
}
