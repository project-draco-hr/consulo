{
  final AsyncResult<EditorsSplitters> result=new AsyncResult<EditorsSplitters>();
  final IdeFocusManager fm=IdeFocusManager.getInstance(myProject);
  fm.doWhenFocusSettlesDown(new Runnable(){
    @Override public void run(){
      if (myProject.isDisposed()) {
        result.setRejected();
        return;
      }
      Component focusOwner=fm.getFocusOwner();
      if (focusOwner != null) {
        Set<EditorsSplitters> splitters=getAllSplitters();
        for (        EditorsSplitters each : splitters) {
          if (each == focusOwner || SwingUtilities.isDescendingFrom(focusOwner,each)) {
            result.setDone(each);
            return;
          }
        }
      }
      result.setDone(getMainSplitters());
    }
  }
);
  return result;
}
