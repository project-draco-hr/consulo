{
  if (file instanceof VirtualFileWindow)   file=((VirtualFileWindow)file).getDelegate();
  final EditorWithProviderComposite composite=getCurrentEditorWithProviderComposite(file);
  if (composite != null) {
    return composite.getSelectedEditorWithProvider();
  }
  final List<EditorWithProviderComposite> composites=getEditorComposites(file);
  return composites.isEmpty() ? null : composites.get(0).getSelectedEditorWithProvider();
}
