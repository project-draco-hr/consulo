{
  myProject=project;
  myDockManager=dockManager;
  myEditorHistoryManager=editorHistoryManager;
  myListenerList=new MessageListenerList<FileEditorManagerListener>(myProject.getMessageBus(),FileEditorManagerListener.FILE_EDITOR_MANAGER);
  if (Extensions.getExtensions(FileEditorAssociateFinder.EP_NAME).length > 0) {
    myListenerList.add(new FileEditorManagerAdapter(){
      @Override public void selectionChanged(      @NotNull FileEditorManagerEvent event){
        EditorsSplitters splitters=getSplitters();
        openAssociatedFile(event.getNewFile(),splitters.getCurrentWindow(),splitters);
      }
    }
);
  }
  myQueue.setTrackUiActivity(true);
}
