{
  init();
  final String selectPath=FileChooserUtil.getPathToSelect(myChooserDescriptor,project,toSelect,ourLastPath);
  final VirtualFile file=selectPath != null ? LocalFileSystem.getInstance().findFileByPath(selectPath) : null;
  if (file != null && file.isValid()) {
    myFileSystemTree.select(file,new Runnable(){
      public void run(){
        if (!file.equals(myFileSystemTree.getSelectedFile())) {
          VirtualFile parent=file.getParent();
          if (parent != null) {
            myFileSystemTree.select(parent,null);
          }
        }
 else         if (file.isDirectory()) {
          myFileSystemTree.expand(file,null);
        }
      }
    }
);
  }
  show();
}
