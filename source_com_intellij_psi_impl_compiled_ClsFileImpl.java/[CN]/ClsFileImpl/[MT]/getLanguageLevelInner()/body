{
  final LanguageLevel defaultLevel=JavaProjectExtension.getInstance(getManager().getProject()).getLanguageLevel();
  if (myClass != null && myClass.isContentsLoaded()) {
    final ClassFileData data=myClass.getClassFileData();
    if (data != null) {
      return getLanguageLevelFromClassFileData(data,defaultLevel);
    }
  }
  return getLanguageLevel(getVirtualFile(),defaultLevel);
}
