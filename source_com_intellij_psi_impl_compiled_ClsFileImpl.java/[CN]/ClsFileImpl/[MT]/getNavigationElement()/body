{
  String packageName=getPackageName();
  PsiClass[] classes=getClasses();
  if (classes.length == 0)   return this;
  String sourceFileName=((ClsClassImpl)classes[0]).getSourceFileName();
  String relativeFilePath=packageName.length() == 0 ? sourceFileName : packageName.replace('.','/') + '/' + sourceFileName;
  final VirtualFile vFile=getContainingFile().getVirtualFile();
  ProjectFileIndex projectFileIndex=ProjectRootManager.getInstance(getProject()).getFileIndex();
  final List<OrderEntry> orderEntries=projectFileIndex.getOrderEntriesForFile(vFile);
  for (  OrderEntry orderEntry : orderEntries) {
    VirtualFile[] files=orderEntry.getFiles(OrderRootType.SOURCES);
    for (    VirtualFile file : files) {
      VirtualFile source=file.findFileByRelativePath(relativeFilePath);
      if (source != null) {
        PsiFile psiSource=getManager().findFile(source);
        if (psiSource instanceof PsiClassOwner) {
          return psiSource;
        }
      }
    }
  }
  return this;
}
