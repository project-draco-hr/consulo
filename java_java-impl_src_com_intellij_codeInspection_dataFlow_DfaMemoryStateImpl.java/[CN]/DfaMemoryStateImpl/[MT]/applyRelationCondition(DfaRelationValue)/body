{
  DfaValue dfaLeft=dfaRelation.getLeftOperand();
  DfaValue dfaRight=dfaRelation.getRightOperand();
  if (dfaRight == null || dfaLeft == null)   return false;
  boolean isNegated=dfaRelation.isNegated();
  if (dfaLeft instanceof DfaNotNullValue && dfaRight == myFactory.getConstFactory().getNull()) {
    return isNegated;
  }
  if (dfaRight instanceof DfaTypeValue) {
    if (dfaLeft instanceof DfaVariableValue) {
      DfaVariableState varState=getVariableState((DfaVariableValue)dfaLeft);
      DfaVariableValue dfaVar=(DfaVariableValue)dfaLeft;
      if (isNegated) {
        return varState.addNotInstanceofValue((DfaTypeValue)dfaRight) || applyCondition(compareToNull(dfaVar,false));
      }
      return applyCondition(compareToNull(dfaVar,true)) && varState.setInstanceofValue((DfaTypeValue)dfaRight);
    }
    return true;
  }
  if (dfaRight instanceof DfaNotNullValue) {
    return true;
  }
  if (dfaRight == myFactory.getConstFactory().getNull() && dfaLeft instanceof DfaVariableValue) {
    final DfaVariableState varState=getVariableState((DfaVariableValue)dfaLeft);
    if (varState.isNotNull())     return isNegated;
    varState.setNullable(!isNegated);
  }
  if (dfaLeft instanceof DfaUnknownValue || dfaRight instanceof DfaUnknownValue)   return true;
  return applyEquivalenceRelation(dfaRelation,dfaLeft,dfaRight);
}
