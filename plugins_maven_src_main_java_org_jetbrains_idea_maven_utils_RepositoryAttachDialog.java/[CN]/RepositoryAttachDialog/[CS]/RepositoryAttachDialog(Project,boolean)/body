{
  super(project,true);
  myProject=project;
  myManaged=managed;
  myProgressIcon=new AsyncProcessIcon("Progress");
  myProgressIcon.setVisible(false);
  myProgressIcon.suspend();
  myInfoLabel=new JLabel("");
  myCombobox=new JComboBox(new CollectionComboBoxModel(myShownItems,null));
  myCombobox.setEditable(true);
  ((JTextField)myCombobox.getEditor().getEditorComponent()).setColumns(50);
  myCombobox.getEditor().getEditorComponent().addKeyListener(new KeyAdapter(){
    @Override public void keyPressed(    KeyEvent e){
      final boolean popupVisible=myCombobox.isPopupVisible();
      if (e.getKeyCode() == KeyEvent.VK_ENTER && e.getModifiers() == 0) {
        if (!popupVisible) {
          if (performSearch()) {
            e.consume();
          }
        }
      }
 else       if (e.getKeyCode() == KeyEvent.VK_UP || e.getKeyCode() == KeyEvent.VK_DOWN || e.getKeyCode() == KeyEvent.VK_PAGE_UP || e.getKeyCode() == KeyEvent.VK_PAGE_DOWN) {
        if (popupVisible) {
          ApplicationManager.getApplication().invokeLater(new Runnable(){
            public void run(){
              if (myProgressIcon.isDisposed())               return;
              myCombobox.getEditor().setItem(myCombobox.getSelectedItem());
            }
          }
);
        }
      }
 else {
        ApplicationManager.getApplication().invokeLater(new Runnable(){
          public void run(){
            if (myProgressIcon.isDisposed())             return;
            updateComboboxSelection(false);
          }
        }
);
      }
    }
  }
);
  updateInfoLabel();
  init();
}
