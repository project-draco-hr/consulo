{
  final String text=getCoordinateText();
  if (myCoordinates.contains(text))   return false;
  if (myProgressIcon.isVisible())   return false;
  myProgressIcon.setVisible(true);
  myProgressIcon.resume();
  RepositoryAttachHandler.searchArtifacts(myProject,text,new PairProcessor<Collection<MavenArtifactInfo>,Boolean>(){
    public boolean process(    Collection<MavenArtifactInfo> artifacts,    Boolean tooMany){
      if (myProgressIcon.isDisposed())       return true;
      myProgressIcon.suspend();
      myProgressIcon.setVisible(false);
      final int prevSize=myCoordinates.size();
      for (      MavenArtifactInfo each : artifacts) {
        myCoordinates.put(each.getGroupId() + ":" + each.getArtifactId()+ ":"+ each.getVersion(),each);
      }
      myRepositoryUrl.setModel(new CollectionComboBoxModel(new ArrayList<String>(myRepositories.keySet()),myRepositoryUrl.getEditor().getItem()));
      if (Boolean.TRUE.equals(tooMany)) {
        final Point point=new Point(myCombobox.getWidth() / 2,0);
        JBPopupFactory.getInstance().createHtmlTextBalloonBuilder("Too many results found, please refine your query.",MessageType.WARNING,null).setHideOnClickOutside(true).createBalloon().show(new RelativePoint(myCombobox,point),Balloon.Position.above);
      }
      updateComboboxSelection(prevSize != myCoordinates.size());
      return true;
    }
  }
,new Processor<Collection<MavenRepositoryInfo>>(){
    public boolean process(    Collection<MavenRepositoryInfo> repos){
      for (      MavenRepositoryInfo each : repos) {
        if (!myRepositories.containsKey(each.getUrl())) {
          myRepositories.put(each.getUrl(),each);
        }
      }
      return true;
    }
  }
);
  return true;
}
