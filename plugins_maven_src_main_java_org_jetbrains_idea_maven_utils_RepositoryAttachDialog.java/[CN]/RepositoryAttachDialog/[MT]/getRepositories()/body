{
  final String selectedRepository=(String)myRepositoryUrl.getEditor().getItem();
  if (StringUtil.isNotEmpty(selectedRepository) && !DEFAULT_REPOSITORY.equals(selectedRepository) && !myRepositories.containsKey(selectedRepository)) {
    return Collections.singletonList(new MavenFacade.Repository("custom",selectedRepository,"default"));
  }
 else {
    final ArtifactType artifact=myCoordinates.get(getCoordinateText());
    final MavenFacade.Repository repository=artifact != null && artifact.getResourceUri() != null ? myRepositories.get(artifact.getResourceUri()) : null;
    return repository != null ? Collections.singletonList(repository) : ContainerUtil.findAll(myRepositories.values(),Condition.NOT_NULL);
  }
}
