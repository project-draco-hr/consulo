{
  if (!isOKActionEnabled())   return;
  String errorText=null;
  JComponent errorComponent=null;
  if (!isValidCoordinateSelected()) {
    errorComponent=myCombobox;
    errorText="Please enter valid coordinate, discover it or select one from the list";
  }
 else   if (!myManaged) {
    final File dir=new File(myDirectoryField.getText());
    if (!dir.exists() && !dir.mkdirs() || !dir.isDirectory()) {
      errorComponent=myDirectoryField.getTextField();
      errorText="Please enter valid library files path";
    }
  }
  if (errorText != null && errorComponent != null) {
    final Point point=new Point(errorComponent.getWidth() / 2,0);
    JBPopupFactory.getInstance().createHtmlTextBalloonBuilder(errorText,MessageType.WARNING,null).setHideOnClickOutside(false).setHideOnKeyOutside(true).createBalloon().show(new RelativePoint(errorComponent,point),Balloon.Position.above);
    IdeFocusManager.findInstance().requestFocus(errorComponent,true);
  }
 else {
    super.doOKAction();
  }
}
