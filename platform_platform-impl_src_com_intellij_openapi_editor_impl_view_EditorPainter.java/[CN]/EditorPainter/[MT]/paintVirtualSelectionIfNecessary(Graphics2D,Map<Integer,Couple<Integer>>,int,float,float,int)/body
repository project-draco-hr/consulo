{
  int visualLine=myView.yToVisualLine(y);
  Couple<Integer> selectionRange=virtualSelectionMap.get(visualLine);
  if (selectionRange == null || selectionRange.second <= columnStart)   return;
  float startX=selectionRange.first <= columnStart ? xStart : myView.visualPositionToXY(new VisualPosition(visualLine,selectionRange.first)).x;
  float endX=Math.min(xEnd,myView.visualPositionToXY(new VisualPosition(visualLine,selectionRange.second)).x);
  paintBackground(g,myEditor.getColorsScheme().getColor(EditorColors.SELECTION_BACKGROUND_COLOR),startX,y,endX - startX);
}
