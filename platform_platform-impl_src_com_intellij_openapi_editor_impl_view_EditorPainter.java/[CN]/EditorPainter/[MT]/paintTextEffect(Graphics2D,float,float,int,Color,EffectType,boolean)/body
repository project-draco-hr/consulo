{
  int xStart=(int)xFrom;
  int xEnd=(int)xTo;
  g.setColor(effectColor);
  if (effectType == EffectType.LINE_UNDERSCORE) {
    UIUtil.drawLine(g,xStart,y + 1,xEnd,y + 1);
  }
 else   if (effectType == EffectType.BOLD_LINE_UNDERSCORE) {
    int height=JBUI.scale(Registry.intValue("editor.bold.underline.height",2));
    g.fillRect(xStart,y,xEnd - xStart,height);
  }
 else   if (effectType == EffectType.STRIKEOUT) {
    int y1=y - myView.getCharHeight() / 2;
    UIUtil.drawLine(g,xStart,y1,xEnd,y1);
  }
 else   if (effectType == EffectType.WAVE_UNDERSCORE) {
    UIUtil.drawWave(g,new Rectangle(xStart,y + 1,xEnd - xStart,myView.getDescent() - 1));
  }
 else   if (effectType == EffectType.BOLD_DOTTED_LINE) {
    UIUtil.drawBoldDottedLine(g,xStart,xEnd,SystemInfo.isMac ? y : y + 1,myEditor.getBackgroundColor(),g.getColor(),false);
  }
 else   if (allowBorder && (effectType == EffectType.BOXED || effectType == EffectType.ROUNDED_BOX)) {
    drawSimpleBorder(g,xStart,xEnd - 1,y - myView.getAscent(),effectType == EffectType.ROUNDED_BOX);
  }
}
