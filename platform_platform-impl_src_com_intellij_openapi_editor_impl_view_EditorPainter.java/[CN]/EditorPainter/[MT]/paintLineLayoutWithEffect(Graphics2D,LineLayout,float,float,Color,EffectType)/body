{
  if (hasTextEffect(effectColor,effectType,false)) {
    paintTextEffect(g,x,x + layout.getWidth(),(int)y,effectColor,effectType,false);
  }
  for (  LineLayout.VisualFragment fragment : layout.getFragmentsInVisualOrder(x)) {
    fragment.draw(g,x,y);
    x=fragment.getEndX();
  }
  return x;
}
