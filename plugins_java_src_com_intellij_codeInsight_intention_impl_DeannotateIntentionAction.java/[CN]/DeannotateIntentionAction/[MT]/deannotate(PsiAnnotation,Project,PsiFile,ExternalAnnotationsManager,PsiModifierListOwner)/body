{
  new WriteCommandAction(project,getText()){
    @Override protected void run(    final Result result) throws Throwable {
      final VirtualFile virtualFile=file.getVirtualFile();
      String qualifiedName=annotation.getQualifiedName();
      LOG.assertTrue(qualifiedName != null);
      if (annotationsManager.deannotate(listOwner,qualifiedName) && virtualFile != null && virtualFile.isInLocalFileSystem()) {
        UndoUtil.markPsiFileForUndo(file);
      }
    }
  }
.execute();
}
