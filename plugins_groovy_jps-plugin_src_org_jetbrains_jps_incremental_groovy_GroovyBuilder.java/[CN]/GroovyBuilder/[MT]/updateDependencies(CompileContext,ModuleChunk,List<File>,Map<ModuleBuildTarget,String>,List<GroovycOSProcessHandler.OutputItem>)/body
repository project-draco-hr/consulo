{
  final Mappings delta=context.getProjectDescriptor().dataManager.getMappings().createDelta();
  final List<File> successfullyCompiledFiles=new ArrayList<File>();
  if (!successfullyCompiled.isEmpty()) {
    final Callbacks.Backend callback=delta.getCallback();
    final FileGeneratedEvent generatedEvent=new FileGeneratedEvent();
    for (    GroovycOSProcessHandler.OutputItem item : successfullyCompiled) {
      final String sourcePath=FileUtil.toSystemIndependentName(item.sourcePath);
      final String outputPath=FileUtil.toSystemIndependentName(item.outputPath);
      final RootDescriptor moduleAndRoot=context.getProjectDescriptor().getBuildRootIndex().getModuleAndRoot(context,new File(sourcePath));
      if (moduleAndRoot != null) {
        final ModuleBuildTarget target=moduleAndRoot.target;
        context.getProjectDescriptor().dataManager.getSourceToOutputMap(target).appendData(sourcePath,outputPath);
        String moduleOutputPath=generationOutputs.get(target);
        generatedEvent.add(moduleOutputPath,FileUtil.getRelativePath(moduleOutputPath,outputPath,'/'));
      }
      callback.associate(outputPath,sourcePath,new ClassReader(FileUtil.loadFileBytes(new File(outputPath))));
      successfullyCompiledFiles.add(new File(sourcePath));
    }
    context.processMessage(generatedEvent);
  }
  return JavaBuilderUtil.updateMappings(context,delta,chunk,toCompile,successfullyCompiledFiles);
}
