{
  final Mappings delta=context.getProjectDescriptor().dataManager.getMappings().createDelta();
  final List<File> successfullyCompiledFiles=new ArrayList<File>();
  if (!successfullyCompiled.isEmpty()) {
    final Callbacks.Backend callback=delta.getCallback();
    final FileGeneratedEvent generatedEvent=new FileGeneratedEvent();
    for (    GroovycOSProcessHandler.OutputItem item : successfullyCompiled) {
      final String sourcePath=FileUtil.toSystemIndependentName(item.sourcePath);
      final String outputPath=FileUtil.toSystemIndependentName(item.outputPath);
      final BuildRootIndex rootIndex=context.getProjectDescriptor().getBuildRootIndex();
      final JavaSourceRootDescriptor rd=rootIndex.findJavaRootDescriptor(context,new File(sourcePath));
      if (rd != null) {
        final String moduleOutputPath=FileUtil.toSystemIndependentName(generationOutputs.get(rd.target));
        generatedEvent.add(moduleOutputPath,FileUtil.getRelativePath(moduleOutputPath,outputPath,'/'));
      }
      callback.associate(outputPath,sourcePath,new ClassReader(FileUtil.loadFileBytes(new File(outputPath))));
      successfullyCompiledFiles.add(new File(sourcePath));
    }
    context.processMessage(generatedEvent);
  }
  return JavaBuilderUtil.updateMappings(context,delta,dirtyFilesHolder,chunk,toCompile,successfullyCompiledFiles);
}
