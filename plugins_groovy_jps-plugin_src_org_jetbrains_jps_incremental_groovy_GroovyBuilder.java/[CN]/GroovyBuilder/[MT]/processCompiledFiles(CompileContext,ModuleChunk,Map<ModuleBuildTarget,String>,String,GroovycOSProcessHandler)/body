{
  ProjectDescriptor pd=context.getProjectDescriptor();
  final Map<ModuleBuildTarget,Collection<GroovycOSProcessHandler.OutputItem>> compiled=new THashMap<ModuleBuildTarget,Collection<GroovycOSProcessHandler.OutputItem>>();
  for (  final GroovycOSProcessHandler.OutputItem item : handler.getSuccessfullyCompiled()) {
    if (Utils.IS_TEST_MODE || LOG.isDebugEnabled()) {
      LOG.info("compiled=" + item);
    }
    final JavaSourceRootDescriptor rd=pd.getBuildRootIndex().findJavaRootDescriptor(context,new File(item.sourcePath));
    if (rd != null) {
      final String outputPath=ensureCorrectOutput(chunk,item,generationOutputs,compilerOutput,rd.target);
      Collection<GroovycOSProcessHandler.OutputItem> items=compiled.get(rd.target);
      if (items == null) {
        items=new ArrayList<GroovycOSProcessHandler.OutputItem>();
        compiled.put(rd.target,items);
      }
      items.add(new GroovycOSProcessHandler.OutputItem(outputPath,item.sourcePath));
    }
 else {
      if (Utils.IS_TEST_MODE || LOG.isDebugEnabled()) {
        LOG.info("No java source root descriptor for th e item found =" + item);
      }
    }
  }
  return compiled;
}
