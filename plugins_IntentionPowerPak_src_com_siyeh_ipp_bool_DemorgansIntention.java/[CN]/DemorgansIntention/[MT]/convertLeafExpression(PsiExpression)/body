{
  if (BoolUtils.isNegation(condition)) {
    final PsiExpression negated=BoolUtils.getNegated(condition);
    if (ParenthesesUtils.getPrecendence(negated) > ParenthesesUtils.OR_PRECEDENCE) {
      return '(' + negated.getText() + ')';
    }
    return negated.getText();
  }
 else   if (ComparisonUtils.isComparison(condition)) {
    final PsiBinaryExpression binaryExpression=(PsiBinaryExpression)condition;
    final PsiJavaToken sign=binaryExpression.getOperationSign();
    final String operator=sign.getText();
    final String negatedComparison=ComparisonUtils.getNegatedComparison(operator);
    final PsiExpression lhs=binaryExpression.getLOperand();
    final PsiExpression rhs=binaryExpression.getROperand();
    return lhs.getText() + negatedComparison + rhs.getText();
  }
 else   if (ParenthesesUtils.getPrecendence(condition) > ParenthesesUtils.PREFIX_PRECEDENCE) {
    return "!(" + condition.getText() + ')';
  }
 else {
    return '!' + condition.getText();
  }
}
