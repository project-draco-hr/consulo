{
  final Set<String> vars=new HashSet<String>();
  for (int i=0; i < myTemplate.getVariableCount(); i++) {
    String variableName=myTemplate.getVariableNameAt(i);
    if (!vars.add(variableName))     continue;
    int segmentNumber=myTemplate.getVariableSegmentNumber(variableName);
    if (segmentNumber < 0)     continue;
    RangeHighlighter segmentHighlighter=getSegmentHighlighter(segmentNumber,false,false);
    myTabStopHighlighters.add(segmentHighlighter);
  }
  int endSegmentNumber=myTemplate.getEndSegmentNumber();
  if (endSegmentNumber >= 0) {
    RangeHighlighter segmentHighlighter=getSegmentHighlighter(endSegmentNumber,false,true);
    myTabStopHighlighters.add(segmentHighlighter);
  }
}
