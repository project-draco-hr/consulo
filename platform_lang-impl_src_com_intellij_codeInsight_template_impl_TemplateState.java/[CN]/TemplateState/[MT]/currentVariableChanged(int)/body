{
  TemplateEditingListener[] listeners=myListeners.toArray(new TemplateEditingListener[myListeners.size()]);
  for (  TemplateEditingListener listener : listeners) {
    listener.currentVariableChanged(this,myTemplate,oldIndex,myCurrentVariableNumber);
  }
  if (myCurrentSegmentNumber < 0) {
    if (myCurrentVariableNumber >= 0) {
      LOG.error("A variable with no segment: " + myCurrentVariableNumber + "; "+ presentTemplate(myTemplate));
    }
    releaseAll();
  }
}
