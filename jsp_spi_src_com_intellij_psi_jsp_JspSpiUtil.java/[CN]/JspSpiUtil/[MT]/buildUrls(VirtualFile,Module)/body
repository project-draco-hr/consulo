{
  List<URL> urls=new ArrayList<URL>();
  if (isJarFile(virtualFile)) {
    addUrl(urls,virtualFile);
  }
  if (module != null) {
    final VirtualFile[] files=ModuleRootManager.getInstance(module).getFiles(OrderRootType.CLASSES_AND_OUTPUT);
    for (    VirtualFile file1 : files) {
      final VirtualFile file;
      if (file1.getFileSystem().getProtocol().equals(JarFileSystem.PROTOCOL)) {
        file=JarFileSystem.getInstance().getVirtualFileForJar(file1);
      }
 else {
        file=file1;
      }
      addUrl(urls,file);
    }
  }
  return urls;
}
