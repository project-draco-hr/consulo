{
  try {
    final boolean isNewFile=file.length() == 0;
    myTrie=new PersistentTrieImpl(file,CACHE_SIZE);
    if (!isNewFile && !myTrie.isTrieComplete()) {
      try {
        throw new CacheCorruptedException(CompilerBundle.message("error.compiler.caches.corrupted"));
      }
  finally {
        myTrie.close();
      }
    }
    myTrie.setNodeCacheSize(myTrie.getNodeCacheSize() * 4);
  }
 catch (  IOException e) {
    throw new CacheCorruptedException(e);
  }
}
