{
  List<Element> elements=groupElement.getChildren(TEMPLATE,ns);
  return ContainerUtil.mapNotNull(elements,new NullableFunction<Element,ArchivedProjectTemplate>(){
    @Override public ArchivedProjectTemplate fun(    final Element element){
      if (!checkRequiredPlugins(element,ns))       return null;
      String type=element.getChildText("moduleType");
      final ModuleType moduleType=ModuleTypeManager.getInstance().findByID(type);
      final List<WizardInputField> inputFields=getFields(element,ns);
      final String path=element.getChildText("path",ns);
      final String description=element.getChildTextTrim("description",ns);
      String name=element.getChildTextTrim("name",ns);
      return new ArchivedProjectTemplate(name){
        @Override protected ModuleType getModuleType(){
          return moduleType;
        }
        @Override public List<WizardInputField> getInputFields(){
          return inputFields;
        }
        @Override public ZipInputStream getStream() throws IOException {
          final HttpURLConnection connection=getConnection(path);
          return new ZipInputStream(connection.getInputStream()){
            @Override public void close() throws IOException {
              super.close();
              connection.disconnect();
            }
          }
;
        }
        @Nullable @Override public String getDescription(){
          return description;
        }
      }
;
    }
  }
);
}
