{
  if (e == null)   return EMPTY_ARRAY;
  final Project project=e.getData(PlatformDataKeys.PROJECT);
  if (project == null)   return EMPTY_ARRAY;
  final Artifact[] artifacts=ArtifactManager.getInstance(project).getSortedArtifacts();
  List<AnAction> actions=new ArrayList<AnAction>();
  for (  Artifact artifact : artifacts) {
    if (!StringUtil.isEmpty(artifact.getOutputPath())) {
      actions.add(new BuildArtifactAction(project,artifact));
    }
  }
  if (actions.size() > 1) {
    actions.add(0,new BuildAllArtifactsAction());
    actions.add(1,Separator.getInstance());
  }
  return actions.toArray(new AnAction[actions.size()]);
}
