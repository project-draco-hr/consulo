{
  Boolean processed=virtualFile.getUserData(PROCESSING_BACKGROUND_TASK);
  if (processed == Boolean.TRUE) {
    return;
  }
  final List<BackgroundTaskByVfsChangeTask> tasks=findTasks(virtualFile);
  if (tasks.isEmpty()) {
    return;
  }
  final List<BackgroundTaskByVfsChangeTask> enabledTasks=new ArrayList<BackgroundTaskByVfsChangeTask>(tasks.size());
  for (  BackgroundTaskByVfsChangeTask task : tasks) {
    if (task.isEnabled()) {
      enabledTasks.add(task);
    }
  }
  if (enabledTasks.isEmpty()) {
    return;
  }
  Task.Backgroundable backgroundTask=new Task.Backgroundable(myProject,"Processing: " + virtualFile.getName()){
    @Override public void run(    @NotNull ProgressIndicator indicator){
      virtualFile.putUserData(PROCESSING_BACKGROUND_TASK,Boolean.TRUE);
      call(indicator,virtualFile,enabledTasks,0);
    }
  }
;
  backgroundTask.queue();
}
