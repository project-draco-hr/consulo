{
  Element element=new Element("state");
  for (  BackgroundTaskByVfsChangeTaskImpl task : myTasks) {
    Element taskElement=new Element("task");
    element.addContent(taskElement);
    taskElement.setAttribute("url",task.getVirtualFilePointer().getUrl());
    taskElement.setAttribute("provider-name",task.getProviderName());
    taskElement.setAttribute("name",task.getName());
    taskElement.setAttribute("enabled",String.valueOf(task.isEnabled()));
    Element serialize=XmlSerializer.serialize(task.getParameters());
    taskElement.addContent(serialize);
    ExpandMacroToPathMap expandMacroToPathMap=task.createExpandMacroToPathMap();
    expandMacroToPathMap.substitute(serialize,false,true);
  }
  return element;
}
