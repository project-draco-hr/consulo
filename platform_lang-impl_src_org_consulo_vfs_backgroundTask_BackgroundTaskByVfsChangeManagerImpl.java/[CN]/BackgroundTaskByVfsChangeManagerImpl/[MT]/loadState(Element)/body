{
  for (  Element element : state.getChildren("task")) {
    String url=element.getAttributeValue("url");
    String providerName=element.getAttributeValue("provider-name");
    VirtualFilePointer virtualFilePointer=VirtualFilePointerManager.getInstance().create(url,this,null);
    BackgroundTaskByVfsParametersImpl parameters=new BackgroundTaskByVfsParametersImpl(myProject);
    BackgroundTaskByVfsChangeTaskImpl task=new BackgroundTaskByVfsChangeTaskImpl(myProject,virtualFilePointer,providerName,parameters);
    Element parametersElement=element.getChild("parameters");
    if (parametersElement != null) {
      ReplacePathToMacroMap replaceMacroToPathMap=task.createReplaceMacroToPathMap();
      replaceMacroToPathMap.substitute(parametersElement,false,true);
      XmlSerializer.deserializeInto(parameters,parametersElement);
    }
    myTasks.add(task);
  }
}
