{
  return new JobLauncher(){
    @Override public <T>boolean invokeConcurrentlyUnderProgress(    @NotNull List<T> things,    ProgressIndicator progress,    boolean failFastOnAcquireReadAction,    @NotNull Processor<T> thingProcessor) throws ProcessCanceledException {
      for (      T thing : things) {
        if (!thingProcessor.process(thing))         return false;
      }
      return true;
    }
    @Override public <T>AsyncFuture<Boolean> invokeConcurrentlyUnderProgressAsync(    @NotNull List<T> things,    ProgressIndicator progress,    boolean failFastOnAcquireReadAction,    @NotNull Processor<T> thingProcessor){
      final AsyncFutureResult<Boolean> asyncFutureResult=AsyncFutureFactory.getInstance().createAsyncFutureResult();
      try {
        final boolean result=invokeConcurrentlyUnderProgress(things,progress,failFastOnAcquireReadAction,thingProcessor);
        asyncFutureResult.set(result);
      }
 catch (      Throwable t) {
        asyncFutureResult.setException(t);
      }
      return asyncFutureResult;
    }
    @Override public Job<Void> submitToJobThread(    int priority,    @NotNull Runnable action,    Consumer<Future> onDoneCallback){
      action.run();
      if (onDoneCallback != null)       onDoneCallback.consume(EmptyFuture.getInstance());
      return null;
    }
  }
;
}
