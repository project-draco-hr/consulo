{
  if (element == selectedElement) {
    builder.replaceElement(element,PRIMARY_VARIABLE_NAME,createLookupExpression(),true);
  }
 else   if (textRange != null) {
    builder.replaceElement(element,textRange,OTHER_VARIABLE_NAME,PRIMARY_VARIABLE_NAME,false);
  }
 else {
    builder.replaceElement(element,OTHER_VARIABLE_NAME,PRIMARY_VARIABLE_NAME,false);
  }
}
