{
  for (  PsiReference ref : refs) {
    final PsiElement element=ref.getElement();
    if (ref.getRangeInElement().shiftRight(element.getTextRange().getStartOffset()).containsOffset(offset))     return element;
  }
  if (nameIdentifier != null) {
    final TextRange range=nameIdentifier.getTextRange();
    if (range != null && range.containsOffset(offset))     return nameIdentifier;
  }
  for (  Pair<PsiElement,TextRange> stringUsage : stringUsages) {
    final PsiElement element=stringUsage.first;
    if (stringUsage.second.shiftRight(element.getTextRange().getStartOffset()).containsOffset(offset))     return element;
  }
  LOG.error(nameIdentifier + " by " + this.getClass().getName());
  return null;
}
