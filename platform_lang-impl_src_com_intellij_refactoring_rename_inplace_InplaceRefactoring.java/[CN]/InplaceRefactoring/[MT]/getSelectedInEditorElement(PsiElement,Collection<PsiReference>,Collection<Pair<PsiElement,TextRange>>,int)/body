{
  if (nameIdentifier != null) {
    final TextRange range=nameIdentifier.getTextRange();
    if (range != null && contains(range,offset))     return nameIdentifier;
  }
  for (  PsiReference ref : refs) {
    final PsiElement element=ref.getElement();
    if (contains(ref.getRangeInElement().shiftRight(element.getTextRange().getStartOffset()),offset))     return element;
  }
  for (  Pair<PsiElement,TextRange> stringUsage : stringUsages) {
    final PsiElement element=stringUsage.first;
    if (contains(stringUsage.second.shiftRight(element.getTextRange().getStartOffset()),offset))     return element;
  }
  LOG.error(nameIdentifier);
  return null;
}
