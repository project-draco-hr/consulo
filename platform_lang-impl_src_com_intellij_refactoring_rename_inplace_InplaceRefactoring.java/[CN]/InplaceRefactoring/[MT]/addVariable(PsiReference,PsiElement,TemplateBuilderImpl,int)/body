{
  if (reference.getElement() == selectedElement && reference.getRangeInElement().shiftRight(selectedElement.getTextRange().getStartOffset()).containsOffset(offset)) {
    builder.replaceElement(reference,PRIMARY_VARIABLE_NAME,createLookupExpression(),true);
  }
 else {
    builder.replaceElement(reference,OTHER_VARIABLE_NAME,PRIMARY_VARIABLE_NAME,false);
  }
}
