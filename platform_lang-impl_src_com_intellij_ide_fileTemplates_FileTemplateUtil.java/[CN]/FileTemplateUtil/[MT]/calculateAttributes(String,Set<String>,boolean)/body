{
  final Set<String> unsetAttributes=new LinkedHashSet<String>();
  final Set<String> definedAttributes=new HashSet<String>();
  SimpleNode template=VelocityWrapper.parse(new StringReader(templateContent),"MyTemplate");
  collectAttributes(unsetAttributes,definedAttributes,template,propertiesNames,includeDummies);
  for (  String definedAttribute : definedAttributes) {
    unsetAttributes.remove(definedAttribute);
  }
  return ArrayUtil.toStringArray(unsetAttributes);
}
