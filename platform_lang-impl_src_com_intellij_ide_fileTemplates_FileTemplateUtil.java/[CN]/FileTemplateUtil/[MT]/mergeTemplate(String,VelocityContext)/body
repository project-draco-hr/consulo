{
  initVelocity();
  StringWriter stringWriter=new StringWriter();
  try {
    Velocity.evaluate(context,stringWriter,"",templateContent);
  }
 catch (  VelocityException e) {
    LOG.error("Error evaluating template:\n" + templateContent,e);
    ApplicationManager.getApplication().invokeLater(new Runnable(){
      public void run(){
        Messages.showErrorDialog(IdeBundle.message("error.parsing.file.template"),IdeBundle.message("title.velocity.error"));
      }
    }
);
  }
  return stringWriter.toString();
}
