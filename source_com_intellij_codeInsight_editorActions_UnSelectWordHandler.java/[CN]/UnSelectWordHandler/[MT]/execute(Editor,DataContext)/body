{
  Project project=(Project)DataManager.getInstance().getDataContext(editor.getComponent()).getData(DataConstants.PROJECT);
  Document document=editor.getDocument();
  final PsiFile file=PsiDocumentManager.getInstance(project).getPsiFile(document);
  if (file == null) {
    if (myOriginalHandler != null) {
      myOriginalHandler.execute(editor,dataContext);
    }
    return;
  }
  PsiDocumentManager.getInstance(project).commitAllDocuments();
  doAction(editor,file);
}
