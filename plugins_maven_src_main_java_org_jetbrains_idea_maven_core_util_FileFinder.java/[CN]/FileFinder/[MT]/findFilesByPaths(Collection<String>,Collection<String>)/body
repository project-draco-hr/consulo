{
  final ArrayList<VirtualFile> found=new ArrayList<VirtualFile>();
  ApplicationManager.getApplication().runWriteAction(new Runnable(){
    public void run(){
      for (      String path : paths) {
        VirtualFile file=LocalFileSystem.getInstance().refreshAndFindFileByPath(path);
        if (file != null) {
          found.add(file);
        }
 else {
          notFound.add(path);
        }
      }
    }
  }
);
  return found;
}
