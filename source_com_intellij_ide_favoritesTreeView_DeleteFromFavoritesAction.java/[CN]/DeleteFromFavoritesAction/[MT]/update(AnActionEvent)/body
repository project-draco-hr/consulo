{
  final DataContext dataContext=e.getDataContext();
  Project project=(Project)dataContext.getData(DataConstants.PROJECT);
  if (project == null) {
    e.getPresentation().setEnabled(false);
    return;
  }
  final FavoritesTreeNodeDescriptor[] selectedNodeDescriptors=FavoritesViewImpl.getInstance(project).getCurrentTreeViewPanel().getSelectedNodeDescriptors();
  if (selectedNodeDescriptors == null || selectedNodeDescriptors.length == 0) {
    e.getPresentation().setEnabled(false);
  }
 else {
    final AbstractTreeNode node=selectedNodeDescriptors[0].getElement();
    e.getPresentation().setEnabled(node != null && !(node.getValue() instanceof String));
  }
}
