{
  final DataContext dataContext=e.getDataContext();
  Project project=(Project)dataContext.getData(DataConstants.PROJECT);
  if (project == null) {
    return;
  }
  if (e.getPlace().equals(ActionPlaces.FAVORITES_VIEW_POPUP) || e.getPlace().equals(ActionPlaces.FAVORITES_VIEW_TOOLBAR)) {
    FavoritesTreeNodeDescriptor[] selectedNodeDescriptors=FavoritesViewImpl.getInstance(project).getCurrentTreeViewPanel().getSelectedNodeDescriptors();
    for (int i=0; i < selectedNodeDescriptors.length; i++) {
      FavoritesTreeNodeDescriptor selectedNodeDescriptor=selectedNodeDescriptors[i];
      selectedNodeDescriptor=getFavoritesRoot(selectedNodeDescriptor,project);
      if (selectedNodeDescriptor != null) {
        FavoritesViewImpl.getInstance(project).getCurrentTreeViewPanel().removeFromFavorites((AbstractTreeNode)selectedNodeDescriptor.getElement());
      }
    }
  }
}
