{
  ((ProjectEx)myProject).setSavePathsRelative(true);
  String level=getTargetLevel();
  if (level != null) {
    String options=JavacSettings.getInstance(myProject).ADDITIONAL_OPTIONS_STRING;
    Pattern pattern=Pattern.compile("(-target ([\\d\\.]+))");
    Matcher matcher=pattern.matcher(options);
    if (matcher.find()) {
      String value=matcher.group(2);
      if (level.compareToIgnoreCase(value) < 0) {
        StringBuffer buffer=new StringBuffer();
        matcher.appendReplacement(buffer,"-target " + level);
        matcher.appendTail(buffer);
        options=buffer.toString();
      }
    }
 else {
      if (!StringUtil.isEmptyOrSpaces(options))       options+=" ";
      options+="-target " + level;
    }
    JavacSettings.getInstance(myProject).ADDITIONAL_OPTIONS_STRING=options;
  }
}
