{
  boolean isPathSelected=tree.getSelectionModel().isPathSelected(path);
  Icon expandIcon=isPathSelected && tree.hasFocus() ? TREE_SELECTED_EXPANDED_ICON : TREE_EXPANDED_ICON;
  Icon collapseIcon=isPathSelected && tree.hasFocus() ? TREE_SELECTED_COLLAPSED_ICON : TREE_COLLAPSED_ICON;
  if (!isLeaf(row)) {
    setExpandedIcon(expandIcon);
    setCollapsedIcon(collapseIcon);
  }
  super.paintExpandControl(g,clipBounds,insets,bounds,path,row,isExpanded,hasBeenExpanded,isLeaf);
}
