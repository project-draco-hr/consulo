{
  final TreeSelectionModel selectionModel=getSelectionModel();
  final int[] selectedRows=selectionModel.getSelectionRows();
  if (selectedRows != null) {
    for (    final int row : selectedRows) {
      Rectangle bounds=tree.getRowBounds(row);
      Graphics2D selectionBackgroundGraphics=(Graphics2D)g.create();
      selectionBackgroundGraphics.translate(0,bounds.y);
      selectionBackgroundGraphics.setColor(tree.hasFocus() ? SELECTION_COLOR : UNFOCUSED_SELECTION_COLOR);
      selectionBackgroundGraphics.fillRect(0,0,c.getWidth(),bounds.height - 1);
      selectionBackgroundGraphics.dispose();
    }
  }
  super.paint(g,c);
}
