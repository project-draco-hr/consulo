{
  GraphicsConfig config=GraphicsUtil.setupAAPainting(g);
  Stroke oldStroke=g.getStroke();
  try {
    g.setStroke(new BasicStroke(0.7F));
    double cycle=4;
    final double wavedAt=rectangle.y + (double)rectangle.height / 2 - .5;
    GeneralPath wavePath=new GeneralPath();
    wavePath.moveTo(rectangle.x,wavedAt - Math.cos(rectangle.x * 2 * Math.PI / cycle));
    for (int x=rectangle.x + 1; x <= rectangle.x + rectangle.width; x++) {
      wavePath.lineTo(x,wavedAt - Math.cos(x * 2 * Math.PI / cycle));
    }
    g.draw(wavePath);
  }
  finally {
    config.restore();
    g.setStroke(oldStroke);
  }
}
