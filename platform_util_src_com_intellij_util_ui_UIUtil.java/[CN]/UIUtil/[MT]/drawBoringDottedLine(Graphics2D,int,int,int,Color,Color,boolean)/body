{
  final Color oldColor=g.getColor();
  if (opaque && bgColor != null) {
    g.setColor(bgColor);
    drawLine(g,startX,lineY,endX,lineY);
    drawLine(g,startX,lineY + 1,endX,lineY + 1);
  }
  final int step=4;
  final int startPosCorrection=startX % step < 3 ? 0 : 1;
  g.setColor(fgColor != null ? fgColor : oldColor);
  for (int dotXi=(startX / step + startPosCorrection) * step; dotXi < endX; dotXi+=step) {
    g.drawLine(dotXi,lineY,dotXi + 1,lineY);
    g.drawLine(dotXi,lineY + 1,dotXi + 1,lineY + 1);
  }
  g.setColor(oldColor);
}
