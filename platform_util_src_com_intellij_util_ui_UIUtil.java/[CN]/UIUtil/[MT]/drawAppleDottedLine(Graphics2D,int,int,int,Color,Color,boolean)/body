{
  final Color oldColor=g.getColor();
  if (opaque && bgColor != null) {
    g.setColor(bgColor);
    drawLine(g,startX,lineY,endX,lineY);
    drawLine(g,startX,lineY + 1,endX,lineY + 1);
    drawLine(g,startX,lineY + 2,endX,lineY + 2);
  }
  final int step=4;
  final int startPosCorrection=startX % step < 3 ? 0 : 1;
  final Composite oldComposite=g.getComposite();
  g.setComposite(AlphaComposite.getInstance(AlphaComposite.SRC_OVER));
  final BufferedImage image=getAppleDotStamp(fgColor,oldColor);
  final int dotX0=(startX / step + startPosCorrection) * step;
  for (int dotXi=dotX0; dotXi < endX; dotXi+=step) {
    g.drawImage(image,dotXi,lineY,null);
  }
  g.setComposite(oldComposite);
}
