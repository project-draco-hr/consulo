{
  myComponent=new JPanel();
  GridBagLayout layout=new GridBagLayout();
  myComponent.setLayout(layout);
  GridBagConstraints gb=new GridBagConstraints();
  gb.weightx=0;
  gb.weighty=0;
  gb.gridx=0;
  gb.gridy=0;
  gb.anchor=GridBagConstraints.WEST;
  gb.gridwidth=3;
  myUseDefaultCheckBox=new JCheckBox(SvnBundle.message("checkbox.configure.use.system.default.configuration.directory"));
  add(myUseDefaultCheckBox,gb);
  myUseDefaultCheckBox.addActionListener(this);
  gb.gridy+=1;
  gb.fill=GridBagConstraints.HORIZONTAL;
  gb.gridwidth=3;
  gb.insets=new Insets(5,5,1,5);
  myUpgradeAskButton=new JRadioButton(SvnBundle.message("radio.configure.upgrade.ask"));
  myUpgradeNoneButton=new JRadioButton(SvnBundle.message("radio.configure.upgrade.none"));
  myUpgradeAutoButton=new JRadioButton(SvnBundle.message("radio.configure.upgrade.auto"));
  ButtonGroup group=new ButtonGroup();
  group.add(myUpgradeAskButton);
  group.add(myUpgradeNoneButton);
  group.add(myUpgradeAutoButton);
  JLabel upgradeLabel=new JLabel(SvnBundle.message("label.configure.upgrade.strategy"));
  JLabel warningLabel=new JLabel(SvnBundle.message("label.configure.upgrade.warning"));
  warningLabel.setFont(warningLabel.getFont().deriveFont(Font.BOLD));
  warningLabel.setUI(new MultiLineLabelUI());
  add(warningLabel,gb);
  gb.gridy+=1;
  add(upgradeLabel,gb);
  gb.gridy+=1;
  add(myUpgradeAskButton,gb);
  gb.gridy+=1;
  add(myUpgradeNoneButton,gb);
  gb.gridy+=1;
  add(myUpgradeAutoButton,gb);
  gb.gridy+=1;
  add(new JLabel(),gb);
  gb.gridy+=1;
  gb.fill=GridBagConstraints.HORIZONTAL;
  gb.gridwidth=3;
  gb.insets=new Insets(5,5,1,5);
  JLabel label=new JLabel(SvnBundle.message("label.configuration.configuration.directory"));
  myConfigurationDirectoryLabel=label;
  myConfigurationDirectoryText=new TextFieldWithBrowseButton(new ActionListener(){
    public void actionPerformed(    ActionEvent e){
      if (myBrowserDescriptor == null) {
        myBrowserDescriptor=new FileChooserDescriptor(false,true,false,false,false,false);
        myBrowserDescriptor.setShowFileSystemRoots(true);
        myBrowserDescriptor.setTitle(SvnBundle.message("dialog.title.select.configuration.directory"));
        myBrowserDescriptor.setDescription(SvnBundle.message("dialog.description.select.configuration.directory"));
        myBrowserDescriptor.setHideIgnored(false);
      }
      @NonNls String path=myConfigurationDirectoryText.getText().trim();
      path="file://" + path.replace(File.separatorChar,'/');
      VirtualFile root=VirtualFileManager.getInstance().findFileByUrl(path);
      String oldValue=PropertiesComponent.getInstance().getValue("FileChooser.showHiddens");
      PropertiesComponent.getInstance().setValue("FileChooser.showHiddens",Boolean.TRUE.toString());
      VirtualFile[] files=FileChooser.chooseFiles(myComponent,myBrowserDescriptor,root);
      PropertiesComponent.getInstance().setValue("FileChooser.showHiddens",oldValue);
      if (files == null || files.length != 1 || files[0] == null) {
        return;
      }
      myConfigurationDirectoryText.setText(files[0].getPath().replace('/',File.separatorChar));
    }
  }
);
  myConfigurationDirectoryText.setEditable(false);
  label.setLabelFor(myConfigurationDirectoryText);
  add(label,gb);
  gb.gridy+=1;
  gb.fill=GridBagConstraints.HORIZONTAL;
  gb.weightx=1;
  gb.insets=new Insets(0,5,5,0);
  gb.gridwidth=3;
  add(myConfigurationDirectoryText,gb);
  gb.weighty=0;
  gb.insets=new Insets(5,5,5,5);
  gb.weightx=0;
  gb.fill=GridBagConstraints.NONE;
  gb.gridwidth=1;
  gb.gridheight=1;
  gb.gridx=0;
  gb.gridy+=1;
  myClearAuthButton=new JButton(SvnBundle.message("button.text.clear.authentication.cache"));
  myClearAuthButton.addActionListener(this);
  add(myClearAuthButton,gb);
  gb.gridwidth=2;
  gb.gridx=1;
  gb.fill=GridBagConstraints.HORIZONTAL;
  label=new JLabel(SvnBundle.message("label.text.delete.stored.credentials"));
  label.setEnabled(false);
  add(label,gb);
  gb.gridx=0;
  gb.gridy+=1;
  gb.gridwidth=1;
  myEditProxiesButton=new JButton(SvnBundle.message("button.text.edit.proxies"));
  myEditProxiesButton.addActionListener(new ConfigureProxiesListener(myProject));
  add(myEditProxiesButton,gb);
  gb.gridwidth=2;
  gb.gridx=1;
  gb.fill=GridBagConstraints.HORIZONTAL;
  label=new JLabel(SvnBundle.message("label.text.edit.proxies"));
  label.setEnabled(false);
  add(label,gb);
  gb.fill=GridBagConstraints.NONE;
  gb.gridheight=1;
  gb.gridx=0;
  gb.gridy+=1;
  gb.weighty=1;
  gb.weightx=1;
  gb.fill=GridBagConstraints.HORIZONTAL;
  gb.gridwidth=3;
  add(new JLabel(),gb);
  return myComponent;
}
