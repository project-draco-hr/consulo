{
  myProject=project;
  myUseDefaultCheckBox.addActionListener(new ActionListener(){
    public void actionPerformed(    final ActionEvent e){
      boolean enabled=!myUseDefaultCheckBox.isSelected();
      myConfigurationDirectoryText.setEnabled(enabled);
      myConfigurationDirectoryLabel.setEnabled(enabled);
      SvnConfiguration configuration=SvnConfiguration.getInstance(myProject);
      String path=configuration.getConfigurationDirectory();
      if (!enabled || path == null) {
        myConfigurationDirectoryText.setText(IdeaSubversionConfigurationDirectory.getPath());
      }
 else {
        myConfigurationDirectoryText.setText(path);
      }
    }
  }
);
  myCommandLineClient.addBrowseFolderListener("Subversion","Select path to Subversion executable (1.7+)",project,FileChooserDescriptorFactory.createSingleFileNoJarsDescriptor());
  myClearAuthButton.addActionListener(new ActionListener(){
    public void actionPerformed(    final ActionEvent e){
      clearAuthenticationCache(myProject,myComponent,myConfigurationDirectoryText.getText());
    }
  }
);
  myConfigurationDirectoryText.addActionListener(new ActionListener(){
    public void actionPerformed(    ActionEvent e){
      @NonNls String path=myConfigurationDirectoryText.getText().trim();
      selectConfigirationDirectory(path,new Consumer<String>(){
        @Override public void consume(        String s){
          myConfigurationDirectoryText.setText(s);
        }
      }
,myProject,myComponent);
    }
  }
);
  myConfigurationDirectoryText.setEditable(false);
  myConfigurationDirectoryLabel.setLabelFor(myConfigurationDirectoryText);
  myUseCommonProxy.setText(SvnBundle.message("use.idea.proxy.as.default",ApplicationNamesInfo.getInstance().getProductName()));
  myEditProxiesButton.addActionListener(new ActionListener(){
    @Override public void actionPerformed(    ActionEvent e){
      final SvnConfigureProxiesDialog dialog=new SvnConfigureProxiesDialog(myProject);
      dialog.show();
      myHttpTimeout.setValue(Long.valueOf(SvnConfiguration.getInstance(myProject).getHttpTimeout() / 1000));
    }
  }
);
  myMaximumNumberOfRevisionsCheckBox.addActionListener(new ActionListener(){
    public void actionPerformed(    ActionEvent e){
      myNumRevsInAnnotations.setEnabled(myMaximumNumberOfRevisionsCheckBox.isSelected());
    }
  }
);
  myNumRevsInAnnotations.setEnabled(myMaximumNumberOfRevisionsCheckBox.isSelected());
}
