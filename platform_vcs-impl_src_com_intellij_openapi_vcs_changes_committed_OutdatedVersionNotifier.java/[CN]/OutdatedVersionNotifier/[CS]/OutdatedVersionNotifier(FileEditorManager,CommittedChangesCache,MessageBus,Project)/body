{
  myFileEditorManager=fileEditorManager;
  myCache=cache;
  myProject=project;
  messageBus.connect().subscribe(CommittedChangesCache.COMMITTED_TOPIC,new CommittedChangesAdapter(){
    public void incomingChangesUpdated(    @Nullable final List<CommittedChangeList> receivedChanges){
      if (myCache.getCachedIncomingChanges() == null) {
        requestLoadIncomingChanges();
      }
 else {
        updateAllEditorsLater();
      }
    }
    @Override public void changesCleared(){
      updateAllEditorsLater();
    }
  }
);
}
