{
  final AndroidFacet facet=AndroidFacet.getInstance(aClass);
  if (facet == null) {
    return null;
  }
  final Manifest manifest=facet.getManifest();
  if (manifest == null) {
    return null;
  }
  final Application application=manifest.getApplication();
  if (application == null) {
    return null;
  }
  if (isInheritor(aClass,AndroidUtils.ACTIVITY_BASE_CLASS_NAME)) {
    for (    Activity activity : application.getActivities()) {
      final AndroidAttributeValue<PsiClass> activityClass=activity.getActivityClass();
      if (activityClass.getValue() == aClass) {
        return activityClass;
      }
    }
  }
 else   if (isInheritor(aClass,AndroidUtils.SERVICE_CLASS_NAME)) {
    for (    Service service : application.getServices()) {
      final AndroidAttributeValue<PsiClass> serviceClass=service.getServiceClass();
      if (serviceClass.getValue() == aClass) {
        return serviceClass;
      }
    }
  }
 else   if (isInheritor(aClass,AndroidUtils.RECEIVER_CLASS_NAME)) {
    for (    Receiver receiver : application.getReceivers()) {
      final AndroidAttributeValue<PsiClass> receiverClass=receiver.getReceiverClass();
      if (receiverClass.getValue() == aClass) {
        return receiverClass;
      }
    }
  }
 else   if (isInheritor(aClass,AndroidUtils.PROVIDER_CLASS_NAME)) {
    for (    Provider provider : application.getProviders()) {
      final AndroidAttributeValue<PsiClass> providerClass=provider.getProviderClass();
      if (providerClass.getValue() == aClass) {
        return providerClass;
      }
    }
  }
  return null;
}
