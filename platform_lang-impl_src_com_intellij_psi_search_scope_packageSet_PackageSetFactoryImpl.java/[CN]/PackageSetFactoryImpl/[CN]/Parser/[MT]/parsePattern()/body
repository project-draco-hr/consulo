{
  String scope=null;
  for (  PackageSetParserExtension extension : Extensions.getExtensions(PackageSetParserExtension.EP_NAME)) {
    scope=extension.parseScope(myLexer);
    if (scope != null)     break;
  }
  if (scope == null)   error("Unknown scope type");
  String modulePattern=parseModulePattern();
  if (myLexer.getTokenType() == ScopeTokenTypes.COLON) {
    myLexer.advance();
  }
  for (  PackageSetParserExtension extension : Extensions.getExtensions(PackageSetParserExtension.EP_NAME)) {
    final PackageSet packageSet=extension.parsePackageSet(myLexer,scope,modulePattern);
    if (packageSet != null)     return packageSet;
  }
  error("Unknown scope type");
  return null;
}
