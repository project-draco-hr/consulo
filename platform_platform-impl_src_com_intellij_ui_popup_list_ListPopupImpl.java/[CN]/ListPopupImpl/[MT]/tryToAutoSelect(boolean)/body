{
  ListPopupStep<Object> listStep=getListStep();
  boolean selected=false;
  if (listStep instanceof MultiSelectionListPopupStep<?>) {
    int[] indices=((MultiSelectionListPopupStep)listStep).getDefaultOptionIndices();
    if (indices.length > 0) {
      ScrollingUtil.ensureIndexIsVisible(myList,indices[0],0);
      myList.setSelectedIndices(indices);
      selected=true;
    }
  }
 else {
    final int defaultIndex=listStep.getDefaultOptionIndex();
    if (defaultIndex >= 0 && defaultIndex < myList.getModel().getSize()) {
      ScrollingUtil.selectItem(myList,defaultIndex);
      selected=true;
    }
  }
  if (!selected) {
    selectFirstSelectableItem();
  }
  if (listStep.isAutoSelectionEnabled()) {
    if (!isVisible() && getSelectableCount() == 1) {
      return _handleSelect(handleFinalChoices,null);
    }
 else     if (isVisible() && hasSingleSelectableItemWithSubmenu()) {
      return _handleSelect(handleFinalChoices,null);
    }
  }
  return false;
}
