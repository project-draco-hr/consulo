{
  add(new Property(getPropertyFileName(project)));
  add(new Comment("Uncomment the following property if no tests compilation is needed",new Property(PROPERTY_SKIP_TESTS,"true")));
  final JavacSettings javacSettings=JavacSettings.getInstance(project);
  if (genOptions.enableFormCompiler) {
    add(new Comment("The task requires the following libraries from IntelliJ IDEA distribution:"),1);
    add(new Comment("  javac2.jar; jdom.jar; bcel.jar"));
    add(new Tag("taskdef",new Pair[]{new Pair<String,String>("name","javac2"),new Pair<String,String>("classname","com.intellij.uiDesigner.ant.Javac2")}));
  }
  add(new Comment("Compiler options"),1);
  add(new Property(PROPERTY_COMPILER_GENERATE_DEBUG_INFO,javacSettings.DEBUGGING_INFO ? "on" : "off"),1);
  add(new Property(PROPERTY_COMPILER_GENERATE_NO_WARNINGS,javacSettings.GENERATE_NO_WARNINGS ? "on" : "off"));
  add(new Property(PROPERTY_COMPILER_ADDITIONAL_ARGS,javacSettings.ADDITIONAL_OPTIONS_STRING));
  add(new Property(PROPERTY_COMPILER_MAX_MEMORY,Integer.toString(javacSettings.MAXIMUM_HEAP_SIZE) + "m"));
  add(new IgnoredFiles());
  if (CompilerExcludes.isAvailable(project)) {
    add(new CompilerExcludes(project,genOptions));
  }
  add(new CompilerResourcePatterns(project));
  if (genOptions.forceTargetJdk) {
    createJdkGenerators(project);
  }
  LibraryDefinitionsGeneratorFactory factory=new LibraryDefinitionsGeneratorFactory((ProjectEx)project,genOptions);
  final Generator projectLibs=factory.create(LibraryTablesRegistrar.getInstance().getLibraryTable(project),getProjectBaseDir(project),"Project Libraries");
  if (projectLibs != null) {
    add(projectLibs);
  }
  final Generator globalLibs=factory.create(LibraryTablesRegistrar.getInstance().getLibraryTable(),null,"Global Libraries");
  if (globalLibs != null) {
    add(globalLibs);
  }
  LibraryTable appServerLibraryTable=((ApplicationServersManagerImpl)ApplicationServersManager.getInstance()).getLibraryTable();
  if (appServerLibraryTable.getLibraries().length != 0) {
    final Generator appServerLibs=factory.create(appServerLibraryTable,null,"Application Server Libraries");
    if (appServerLibs != null) {
      add(appServerLibs);
    }
  }
}
