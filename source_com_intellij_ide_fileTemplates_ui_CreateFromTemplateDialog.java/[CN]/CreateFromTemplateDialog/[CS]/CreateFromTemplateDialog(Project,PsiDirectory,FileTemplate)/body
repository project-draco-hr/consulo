{
  super(project,true);
  LOG.assertTrue(directory != null,"Directory cannot be null");
  LOG.assertTrue(template != null,"Template cannot be null");
  myDirectory=directory;
  myProject=project;
  myTemplate=template;
  setTitle(IdeBundle.message("title.new.from.template",template.getName()));
  PsiPackage aPackage=myDirectory.getPackage();
  String packageName=aPackage == null ? "" : aPackage.getQualifiedName();
  Properties defaultProperties=FileTemplateManager.getInstance().getDefaultProperties();
  defaultProperties.setProperty(FileTemplateUtil.PACKAGE_ATTR,packageName);
  myAttrPanel=new CreateFromTemplatePanel(myTemplate,defaultProperties);
  myAttrComponent=myAttrPanel.getComponent();
  init();
}
