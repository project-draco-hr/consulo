{
  char[] password=passwordField.getPassword();
  char[] confirmedPassword=confirmedPasswordField.getPassword();
  try {
    checkPassword(password);
    if (password.length < 6) {
      throw new CommitStepException(AndroidBundle.message("android.export.package.incorrect.password.length"));
    }
    if (!Arrays.equals(password,confirmedPassword)) {
      throw new CommitStepException(AndroidBundle.message("android.export.package.passwords.not.match.error"));
    }
  }
  finally {
    Arrays.fill(password,'\0');
    Arrays.fill(confirmedPassword,'\0');
  }
}
