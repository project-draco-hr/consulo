{
  final VirtualFile dir=myPrjDir1.createChildDirectory(null,"aaa");
  EventsTestListener listener=new EventsTestListener();
  myPsiManager.addPsiTreeChangeListener(listener,getTestRootDisposable());
  ApplicationManager.getApplication().runWriteAction(new Runnable(){
    @Override public void run(){
      final ModifiableRootModel rootModel=ModuleRootManager.getInstance(myModule).getModifiableModel();
      final ContentEntry contentEntry1=rootModel.getContentEntries()[0];
      contentEntry1.addExcludeFolder(dir);
      rootModel.commit();
    }
  }
);
  String string=listener.getEventsString();
  String expected="beforePropertyChange\n" + "propertyChanged\n";
  assertEquals(expected,string);
}
