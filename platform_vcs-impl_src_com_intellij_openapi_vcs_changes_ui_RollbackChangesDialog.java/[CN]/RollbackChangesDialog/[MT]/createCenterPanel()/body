{
  JPanel panel=new JPanel(new GridBagLayout());
  final GridBagConstraints gb=new GridBagConstraints(0,0,1,1,0,0,GridBagConstraints.NORTHWEST,GridBagConstraints.NONE,new Insets(1,1,1,1),0,0);
  JComponent browserHeader=myBrowser.getHeaderPanel();
  myBrowser.remove(browserHeader);
  gb.fill=GridBagConstraints.HORIZONTAL;
  gb.weightx=1;
  gb.gridwidth=2;
  panel.add(browserHeader,gb);
  final JPanel border=new JPanel(new BorderLayout());
  border.setBorder(BorderFactory.createEmptyBorder(2,0,0,0));
  border.add(myBrowser,BorderLayout.CENTER);
  gb.fill=GridBagConstraints.BOTH;
  gb.weighty=1;
  gb.gridwidth=1;
  gb.gridheight=3;
  ++gb.gridy;
  panel.add(border,gb);
  final JPanel commitLegendPanel=myCommitLegendPanel.getComponent();
  commitLegendPanel.setBorder(BorderFactory.createEmptyBorder(0,4,0,0));
  gb.fill=GridBagConstraints.NONE;
  gb.weightx=0;
  gb.weighty=0;
  gb.gridheight=1;
  ++gb.gridx;
  panel.add(commitLegendPanel,gb);
  if (myDeleteLocallyAddedFiles != null) {
    ++gb.gridy;
    panel.add(new JSeparator(),gb);
    ++gb.gridy;
    panel.add(myDeleteLocallyAddedFiles,gb);
  }
  return panel;
}
