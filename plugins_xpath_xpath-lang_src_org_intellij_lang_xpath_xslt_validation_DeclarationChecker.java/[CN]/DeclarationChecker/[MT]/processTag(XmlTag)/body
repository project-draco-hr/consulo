{
  if (t != myRoot) {
    if (myValue.equals(t.getAttributeValue("name"))) {
      if (t.getParent() == myRoot.getParent() || !myVar || isInclude()) {
        myProblemsHolder.registerProblem(myToken,"Duplicate declaration");
      }
 else {
        final String innerKind=XsltSupport.isParam(myRoot) ? "Parameter" : "Variable";
        final String outerKind=XsltSupport.isParam(t) ? "parameter" : "variable";
        final LocalQuickFix fix1=new RenameVariableFix(myRoot,"local").createQuickFix(myOnTheFly);
        final LocalQuickFix fix2=new RenameVariableFix(t,"outer").createQuickFix(myOnTheFly);
        myProblemsHolder.registerProblem(myToken,innerKind + " '" + myValue+ "' shadows "+ outerKind+ " in outer scope",AbstractFix.createFixes(fix1,fix2));
      }
      myContinue=false;
    }
  }
}
