{
  final ModifiableModuleModel modifiableModuleModel=ModuleManager.getInstance(project).getModifiableModel();
  EclipseProjectImporter.convertModules(modifiableModuleModel,modules,libraries);
  if (link) {
    for (    IdeaModuleModel moduleModel : modules) {
      ClasspathStorage.setStorageType(modifiableModuleModel.findModuleByName(moduleModel.getName()),EclipseClasspathStorageProvider.ID);
    }
  }
  try {
    modifiableModuleModel.commit();
  }
 catch (  ModuleCircularDependencyException e) {
  }
}
