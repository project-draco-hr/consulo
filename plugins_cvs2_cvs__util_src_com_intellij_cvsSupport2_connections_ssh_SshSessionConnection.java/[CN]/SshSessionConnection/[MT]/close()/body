{
  myState=LifeStages.CLOSING;
  SshLogger.debug("session set to closing; closing streams...");
  try {
    if (myInputStream != null) {
      try {
        myInputStream.close();
      }
 catch (      IOException e) {
      }
    }
    if (myOutputStream != null) {
      try {
        myOutputStream.close();
      }
 catch (      IOException e) {
      }
    }
    if (myErrorStreamGobbler != null) {
      try {
        myErrorStreamGobbler.close();
      }
 catch (      IOException e) {
      }
      SshLogger.debug("session itself to be closed");
      mySession.close();
      mySession.waitForCondition(ChannelCondition.CLOSED,0);
    }
  }
  finally {
    SshLogger.debug("session closed, notifying connection");
    myCloseListener.consume(this);
    myState=LifeStages.CLOSED;
  }
}
