{
  super(XDebuggerBundle.message("dialog.title.evaluate.code.fragment"));
  myMultilineEditor=new XDebuggerExpressionEditor(project,editorsProvider,"evaluateCodeFragment",sourcePosition,statements != null ? statements : XExpressionImpl.EMPTY_CODE_FRAGMENT,true,true);
  myMainPanel=new JPanel(new BorderLayout());
  JPanel editorPanel=new JPanel(new BorderLayout());
  editorPanel.add(myMultilineEditor.getComponent(),BorderLayout.CENTER);
  DefaultActionGroup group=new DefaultActionGroup();
  group.add(new HistoryNavigationAction(false,IdeActions.ACTION_PREVIOUS_OCCURENCE,parentDisposable));
  group.add(new HistoryNavigationAction(true,IdeActions.ACTION_NEXT_OCCURENCE,parentDisposable));
  editorPanel.add(ActionManager.getInstance().createActionToolbar(ActionPlaces.UNKNOWN,group,false).getComponent(),BorderLayout.EAST);
  myMainPanel.add(editorPanel,BorderLayout.CENTER);
  if (statements != null) {
    myMultilineEditor.setExpression(statements);
  }
  mySplitterProportionKey=splitterProportionKey;
}
