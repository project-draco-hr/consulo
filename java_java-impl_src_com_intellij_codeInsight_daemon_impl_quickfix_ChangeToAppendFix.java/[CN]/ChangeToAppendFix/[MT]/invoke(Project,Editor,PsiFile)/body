{
  if (!CodeInsightUtilBase.prepareFileForWrite(file))   return;
  final PsiExpression rhs=myAssignmentExpression.getRExpression();
  if (rhs == null) {
    return;
  }
  final StringBuilder appendCallText=buildAppendExpression(rhs,myLhsType.equalsToText("java.lang.Appendable"),new StringBuilder(myAssignmentExpression.getLExpression().getText()));
  if (appendCallText == null) {
    return;
  }
  final PsiElementFactory factory=JavaPsiFacade.getElementFactory(myAssignmentExpression.getProject());
  final PsiExpression appendCall=factory.createExpressionFromText(appendCallText.toString(),myAssignmentExpression);
  myAssignmentExpression.replace(appendCall);
}
