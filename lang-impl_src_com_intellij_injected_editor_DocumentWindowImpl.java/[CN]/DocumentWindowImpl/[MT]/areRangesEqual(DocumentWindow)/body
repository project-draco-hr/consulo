{
  DocumentWindowImpl window=(DocumentWindowImpl)otherd;
  if (myShreds.size() != window.myShreds.size())   return false;
  for (int i=0; i < myShreds.size(); i++) {
    PsiLanguageInjectionHost.Shred shred=myShreds.get(i);
    PsiLanguageInjectionHost.Shred otherShred=window.myShreds.get(i);
    if (!shred.prefix.equals(otherShred.prefix))     return false;
    if (!shred.suffix.equals(otherShred.suffix))     return false;
    RangeMarker hostRange=shred.getHostRangeMarker();
    RangeMarker other=otherShred.getHostRangeMarker();
    if (hostRange.getStartOffset() != other.getStartOffset())     return false;
    if (hostRange.getEndOffset() != other.getEndOffset())     return false;
  }
  return true;
}
