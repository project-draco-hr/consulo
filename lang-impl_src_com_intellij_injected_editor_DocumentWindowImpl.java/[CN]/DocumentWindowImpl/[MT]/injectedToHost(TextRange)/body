{
  ProperTextRange.assertProperRange(injected);
  int start=injectedToHost(injected.getStartOffset(),false);
  int end=injectedToHost(injected.getEndOffset(),true);
  if (end < start) {
    end=injectedToHost(injected.getEndOffset(),false);
  }
  return new ProperTextRange(start,end);
}
