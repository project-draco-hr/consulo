{
  final Module[] modules=ModuleManager.getInstance(getProject()).getModules();
  final ArrayList<AbstractTreeNode> nodes=new ArrayList<AbstractTreeNode>();
  nodes.addAll(modulesAndGroups(modules));
  final VirtualFile baseDir=getProject().getBaseDir();
  if (baseDir == null)   return nodes;
  final PsiManager psiManager=PsiManager.getInstance(getProject());
  final VirtualFile[] files=baseDir.getChildren();
  for (  VirtualFile file : files) {
    if (ModuleUtil.findModuleForFile(file,getProject()) == null) {
      if (!file.isDirectory()) {
        nodes.add(new PsiFileNode(getProject(),psiManager.findFile(file),getSettings()));
      }
    }
  }
  return nodes;
}
