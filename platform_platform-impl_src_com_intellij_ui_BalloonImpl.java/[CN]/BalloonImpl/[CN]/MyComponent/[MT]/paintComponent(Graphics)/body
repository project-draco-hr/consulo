{
  super.paintComponent(g);
  final Graphics2D g2d=(Graphics2D)g;
  final Point pointTarget=SwingUtilities.convertPoint(myLayeredPane,myBalloon.myTargetPoint,this);
  Rectangle shapeBounds=myContent.getBounds();
  if (myImage == null && myAlpha != -1) {
    myImage=new BufferedImage(getWidth(),getHeight(),BufferedImage.TYPE_INT_ARGB);
    myBalloon.myPosition.paintComponent(myBalloon,shapeBounds,(Graphics2D)myImage.getGraphics(),pointTarget,this);
  }
  if (myImage != null && myAlpha != -1) {
    g2d.setComposite(AlphaComposite.getInstance(AlphaComposite.SRC_OVER,myAlpha));
    g2d.drawImage(myImage,0,0,null);
  }
 else {
    myBalloon.myPosition.paintComponent(myBalloon,shapeBounds,(Graphics2D)g,pointTarget,this);
  }
}
