{
  mySmartFadeout=true;
  mySmartFadeoutDelay=delay;
  FrameStateManager.getInstance().addListener(new FrameStateListener.Adapter(){
    @Override public void onFrameDeactivated(){
      if (myFadeoutAlarm.getActiveRequestCount() > 0) {
        myFadeoutAlarm.cancelAllRequests();
        mySmartFadeoutDelay=myFadeoutRequestDelay - (int)(System.currentTimeMillis() - myFadeoutRequestMillis);
        if (mySmartFadeoutDelay <= 0) {
          mySmartFadeoutDelay=1;
        }
      }
    }
  }
,this);
}
