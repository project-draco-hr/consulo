{
  final Enumeration<TreeNode> children=node.children();
  while (children.hasMoreElements()) {
    final RepositoryTreeNode treeNode=(RepositoryTreeNode)children.nextElement();
    final String name=treeNode.getSVNDirEntry().getName();
    final ChildrenData thirdLevelLoaded=myThirdLevel.get(name);
    if (thirdLevelLoaded != null) {
      treeNode.setAlienChildren(thirdLevelLoaded.getChildren(),thirdLevelLoaded.getChildrenState());
      if (thirdLevelLoaded.isExpanded()) {
        myBrowser.expandNode(treeNode);
      }
    }
  }
  for (  TreeNode expandedNode : myExpanded) {
    myBrowser.expandNode(expandedNode);
  }
  mySelectionExpander.onAfterRefresh(node);
}
