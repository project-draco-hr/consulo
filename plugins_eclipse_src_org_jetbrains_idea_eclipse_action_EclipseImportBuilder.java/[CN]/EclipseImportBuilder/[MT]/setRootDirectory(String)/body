{
  ProgressManager.getInstance().run(new Task.Modal(getCurrentProject(),EclipseBundle.message("eclipse.import.scanning"),true){
    public void run(    @NotNull ProgressIndicator indicator){
      getParameters().workspace=EclipseWorkspace.load(path,new EclipseProjectReader.Options());
      if (indicator != null && indicator.isCanceled()) {
        return;
      }
      Collections.sort(getParameters().workspace.getProjects(),new Comparator<EclipseProjectModel>(){
        public int compare(        EclipseProjectModel o1,        EclipseProjectModel o2){
          return o1.getName().compareToIgnoreCase(o2.getName());
        }
      }
);
    }
    public void onCancel(){
      getParameters().workspace=null;
    }
  }
);
  return getParameters().workspace != null;
}
