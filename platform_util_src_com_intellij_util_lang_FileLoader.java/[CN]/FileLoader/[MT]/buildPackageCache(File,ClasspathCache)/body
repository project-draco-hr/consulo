{
  cache.addResourceEntry(getRelativeResourcePath(dir),this);
  final File[] files=dir.listFiles();
  if (files == null) {
    return;
  }
  boolean containsClasses=false;
  for (  File file : files) {
    final boolean isClass=file.getPath().endsWith(UrlClassLoader.CLASS_EXTENSION);
    if (isClass) {
      if (!containsClasses) {
        cache.addResourceEntry(getRelativeResourcePath(file),this);
        containsClasses=true;
      }
      cache.addNameEntry(file.getName(),this);
    }
 else {
      cache.addNameEntry(file.getName(),this);
      buildPackageCache(file,cache);
    }
  }
}
