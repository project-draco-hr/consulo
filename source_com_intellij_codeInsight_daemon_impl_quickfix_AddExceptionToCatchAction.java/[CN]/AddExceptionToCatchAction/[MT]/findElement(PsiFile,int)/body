{
  PsiElement element=file.findElementAt(offset);
  if (element instanceof PsiWhiteSpace)   element=file.findElementAt(offset - 1);
  if (element == null)   return null;
  PsiElement parent=PsiTreeUtil.getParentOfType(element,PsiTryStatement.class,PsiMethod.class);
  if (parent == null || parent instanceof PsiMethod)   return null;
  PsiTryStatement statement=(PsiTryStatement)parent;
  PsiCodeBlock tryBlock=statement.getTryBlock();
  if (tryBlock.getTextRange().getStartOffset() <= offset && tryBlock.getTextRange().getEndOffset() > offset) {
    if (ExceptionUtil.collectUnhandledExceptions(tryBlock,statement.getParent()) != null) {
      return tryBlock;
    }
  }
  return null;
}
