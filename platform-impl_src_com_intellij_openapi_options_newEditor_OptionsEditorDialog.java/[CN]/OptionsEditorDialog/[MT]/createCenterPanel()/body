{
  myEditor=new OptionsEditor(myProject,myGroups,myPreselected);
  myEditor.getContext().addColleague(new OptionsEditorColleague.Adapter(){
    @Override public void onModifiedAdded(    final Configurable colleague){
      myApplyAction.setEnabled(myEditor.canApply());
    }
    @Override public void onModifiedRemoved(    final Configurable configurable){
      myApplyAction.setEnabled(myEditor.canApply());
    }
    @Override public void onErrorsChanged(){
      final Map<Configurable,ConfigurationException> errors=myEditor.getContext().getErrors();
      if (errors.size() == 0) {
        setErrorText(null);
      }
 else {
        setErrorText("Applying changes was incomplete due to errors");
      }
    }
  }
);
  Disposer.register(myDisposable,myEditor);
  return myEditor;
}
