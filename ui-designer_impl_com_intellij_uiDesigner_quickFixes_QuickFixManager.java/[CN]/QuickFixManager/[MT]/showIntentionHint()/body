{
  if (!myComponent.isShowing() || !IJSwingUtilities.hasFocus(myComponent)) {
    hideIntentionHint();
    return;
  }
  hideIntentionHint();
  final ErrorInfo[] errorInfos=getErrorInfos();
  if (!haveFixes(errorInfos)) {
    hideIntentionHint();
    return;
  }
  final Rectangle bounds=getErrorBounds();
  if (bounds == null) {
    return;
  }
  final LightBulbComponentImpl lightBulbComponent;
  final int width;
  try {
    final Robot robot=new Robot();
    final Point locationOnScreen=myComponent.getLocationOnScreen();
    width=myIcon.getIconWidth() + 4;
    final int height=myIcon.getIconHeight() + 4;
    final BufferedImage image=robot.createScreenCapture(new Rectangle(locationOnScreen.x + bounds.x - width,locationOnScreen.y + bounds.y,width,height));
    final Graphics2D g=image.createGraphics();
    try {
      myIcon.paintIcon(myComponent,g,(width - myIcon.getIconWidth()) / 2,(height - myIcon.getIconHeight()) / 2);
    }
  finally {
      g.dispose();
    }
    lightBulbComponent=new LightBulbComponentImpl(this,image);
  }
 catch (  AWTException ignored) {
    return;
  }
  final HeavyweightHint hint=new HeavyweightHint(lightBulbComponent,false);
  setHint(hint);
  myLastHintBounds=bounds;
  hint.show(myComponent,bounds.x - width,bounds.y,myComponent);
}
