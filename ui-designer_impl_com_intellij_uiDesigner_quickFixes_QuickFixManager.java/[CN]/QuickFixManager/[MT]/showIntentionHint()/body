{
  if (!myComponent.isShowing() || !IJSwingUtilities.hasFocus(myComponent)) {
    hideIntentionHint();
    return;
  }
  hideIntentionHint();
  final ErrorInfo errorInfo=getErrorInfo();
  if (errorInfo == null || errorInfo.myFixes.length == 0) {
    hideIntentionHint();
    return;
  }
  final Rectangle bounds=getErrorBounds();
  if (bounds == null) {
    return;
  }
  final LightBulbComponentImpl lightBulbComponent;
  final int width;
  try {
    final Robot robot=new Robot();
    final Icon icon=IconLoader.getIcon("/actions/intentionBulb.png");
    final Point locationOnScreen=myComponent.getLocationOnScreen();
    width=icon.getIconWidth() + 4;
    final int height=icon.getIconHeight() + 4;
    final BufferedImage image=robot.createScreenCapture(new Rectangle(locationOnScreen.x + bounds.x - width,locationOnScreen.y + bounds.y,width,height));
    final Graphics2D g=image.createGraphics();
    try {
      icon.paintIcon(myComponent,g,(width - icon.getIconWidth()) / 2,(height - icon.getIconHeight()) / 2);
    }
  finally {
      g.dispose();
    }
    lightBulbComponent=new LightBulbComponentImpl(this,image);
  }
 catch (  AWTException ignored) {
    return;
  }
  final HeavyweightHint hint=new HeavyweightHint(lightBulbComponent,false);
  setHint(hint);
  hint.show(myComponent,bounds.x - width,bounds.y,myComponent);
}
