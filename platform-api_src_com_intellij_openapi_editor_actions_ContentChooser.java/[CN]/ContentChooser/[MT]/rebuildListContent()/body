{
  List<Data> allContents=new ArrayList<Data>(getContents());
  ArrayList<String> shortened=new ArrayList<String>();
  for (  Data content : allContents) {
    String fullString=getStringRepresentationFor(content);
    if (fullString != null) {
      fullString=StringUtil.convertLineSeparators(fullString);
      int newLineIdx=fullString.indexOf('\n');
      if (newLineIdx == -1) {
        shortened.add(fullString.trim());
      }
 else {
        int lastLooked=0;
        do {
          int nextLineIdx=fullString.indexOf("\n",lastLooked);
          if (nextLineIdx > lastLooked) {
            shortened.add(fullString.substring(lastLooked,nextLineIdx).trim() + " ...");
            break;
          }
 else           if (nextLineIdx == -1) {
            shortened.add(" ...");
            break;
          }
          lastLooked=nextLineIdx + 1;
        }
 while (true);
      }
    }
  }
  myAllContents=allContents;
  myList.setListData(ArrayUtil.toStringArray(shortened));
}
