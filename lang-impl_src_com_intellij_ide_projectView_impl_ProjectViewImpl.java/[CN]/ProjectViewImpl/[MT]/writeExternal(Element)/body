{
  Element navigatorElement=new Element(ELEMENT_NAVIGATOR);
  AbstractProjectViewPane currentPane=getCurrentProjectViewPane();
  if (currentPane != null) {
    navigatorElement.setAttribute(ATTRIBUTE_CURRENT_VIEW,currentPane.getId());
    String subId=currentPane.getSubId();
    if (subId != null) {
      navigatorElement.setAttribute(ATTRIBUTE_CURRENT_SUBVIEW,subId);
    }
  }
  writeOption(navigatorElement,myFlattenPackages,ELEMENT_FLATTEN_PACKAGES);
  writeOption(navigatorElement,myShowMembers,ELEMENT_SHOW_MEMBERS);
  writeOption(navigatorElement,myShowModules,ELEMENT_SHOW_MODULES);
  writeOption(navigatorElement,myShowLibraryContents,ELEMENT_SHOW_LIBRARY_CONTENTS);
  writeOption(navigatorElement,myHideEmptyPackages,ELEMENT_HIDE_EMPTY_PACKAGES);
  writeOption(navigatorElement,myAbbreviatePackageNames,ELEMENT_ABBREVIATE_PACKAGE_NAMES);
  writeOption(navigatorElement,myAutoscrollToSource,ELEMENT_AUTOSCROLL_TO_SOURCE);
  writeOption(navigatorElement,myAutoscrollFromSource,ELEMENT_AUTOSCROLL_FROM_SOURCE);
  writeOption(navigatorElement,mySortByType,ELEMENT_SORT_BY_TYPE);
  splitterProportions.saveSplitterProportions(myPanel);
  splitterProportions.writeExternal(navigatorElement);
  parentNode.addContent(navigatorElement);
  @Deprecated @NonNls final String ATTRIBUTE_SPLITTER_PROPORTION="splitterProportion";
  navigatorElement.setAttribute(ATTRIBUTE_SPLITTER_PROPORTION,"0.5");
}
