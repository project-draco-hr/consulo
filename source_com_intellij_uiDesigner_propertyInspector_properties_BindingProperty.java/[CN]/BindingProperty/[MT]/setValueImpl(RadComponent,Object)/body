{
  final String newBinding=(String)value;
  if (newBinding.length() == 0) {
    component.setBinding(null);
    return;
  }
  if (!GuiEditorUtil.isBindingUnique(component,newBinding,myGuiEditor.getRootContainer())) {
    throw new Exception("binding is not unique");
  }
  final String oldBinding=(String)getValue(component);
  component.setBinding(newBinding);
  if (oldBinding == null) {
    return;
  }
  final String classToBind=myGuiEditor.getRootContainer().getClassToBind();
  if (classToBind == null) {
    return;
  }
  final Project project=myGuiEditor.getProject();
  final PsiClass aClass=PsiManager.getInstance(project).findClass(classToBind,GlobalSearchScope.allScope(project));
  if (aClass == null) {
    return;
  }
  final PsiField oldField=aClass.findFieldByName(oldBinding,true);
  if (oldField == null) {
    return;
  }
  if (aClass.findFieldByName(newBinding,true) != null) {
    return;
  }
  final int option=Messages.showYesNoDialog(myGuiEditor,"Do you want to rename field \"" + oldBinding + "\" to \""+ newBinding+ "\" as well?","Rename",Messages.getQuestionIcon());
  if (option != 0) {
    return;
  }
  myGuiEditor.refreshAndSave(false);
  PsiDocumentManager.getInstance(myGuiEditor.getProject()).commitAllDocuments();
  final RenameProcessor processor=new RenameProcessor(project,oldField,newBinding,true,true,false);
  processor.run((Object)null);
}
