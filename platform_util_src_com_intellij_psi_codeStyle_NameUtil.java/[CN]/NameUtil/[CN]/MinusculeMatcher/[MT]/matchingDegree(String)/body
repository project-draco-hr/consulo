{
  Iterable<TextRange> iterable=matchingFragments(name);
  if (iterable == null)   return Integer.MIN_VALUE;
  int matchingCaps=0;
  int fragmentCount=0;
  for (  TextRange range : iterable) {
    matchingCaps+=StringUtil.capitalsOnly(name.substring(range.getStartOffset(),range.getEndOffset())).length();
    fragmentCount++;
  }
  int patternCaps=StringUtil.capitalsOnly(new String(myPattern)).length();
  int commonStart=0;
  while (commonStart < name.length() && commonStart < myPattern.length && name.charAt(commonStart) == myPattern[commonStart]) {
    commonStart++;
  }
  return -fragmentCount - Math.max(0,patternCaps - matchingCaps) * 10 + commonStart;
}
