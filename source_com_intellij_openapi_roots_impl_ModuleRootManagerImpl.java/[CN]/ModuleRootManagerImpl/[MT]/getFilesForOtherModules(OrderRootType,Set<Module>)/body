{
  Set<VirtualFilePointer> files=myCachedExportedFiles.get(rootType);
  if (files == null) {
    files=new THashSet<VirtualFilePointer>();
    List<String> result=new ArrayList<String>();
    if (OrderRootType.SOURCES.equals(rootType) || OrderRootType.COMPILATION_CLASSES.equals(rootType)) {
      myRootModel.addExportedUrs(rootType,result,processed);
    }
 else     if (OrderRootType.CLASSES.equals(rootType)) {
      myRootModel.addExportedUrs(rootType,result,processed);
    }
 else     if (OrderRootType.CLASSES_AND_OUTPUT.equals(rootType)) {
      return getFiles(OrderRootType.CLASSES_AND_OUTPUT,processed);
    }
 else     if (OrderRootType.JAVADOC.equals(rootType)) {
      return getFiles(OrderRootType.JAVADOC,processed);
    }
 else     if (OrderRootType.ANNOTATIONS.equals(rootType)) {
      return getFiles(OrderRootType.ANNOTATIONS,processed);
    }
 else {
      LOG.error("Unknown root type: " + rootType);
      return null;
    }
    final VirtualFilePointerManager pointerManager=VirtualFilePointerManager.getInstance();
    for (    String url : result) {
      if (url != null) {
        files.add(pointerManager.create(url,null));
      }
    }
    myCachedExportedFiles.put(rootType,files);
  }
  return convertPointers(files);
}
