{
  List<VirtualFile> result=new ArrayList<VirtualFile>();
  if (OrderRootType.SOURCES.equals(rootType) || OrderRootType.COMPILATION_CLASSES.equals(rootType)) {
    myRootModel.addExportedFiles(rootType,result,processed);
    return result.toArray(new VirtualFile[result.size()]);
  }
 else   if (OrderRootType.JAVADOC.equals(rootType)) {
    return VirtualFile.EMPTY_ARRAY;
  }
 else   if (OrderRootType.CLASSES.equals(rootType)) {
    myRootModel.addExportedFiles(rootType,result,processed);
    return result.toArray(new VirtualFile[result.size()]);
  }
 else   if (OrderRootType.CLASSES_AND_OUTPUT.equals(rootType)) {
    return ModuleRootManagerImpl.this.getFiles(OrderRootType.CLASSES_AND_OUTPUT,processed);
  }
  LOG.error("Unknown root type: " + rootType);
  return null;
}
