{
  final PsiExpression initializer=variable.getInitializer();
  if (!(initializer instanceof PsiNewExpression)) {
    return;
  }
  final PsiNewExpression newExpression=(PsiNewExpression)initializer;
  final PsiJavaCodeReferenceElement classReference=newExpression.getClassReference();
  if (classReference == null) {
    return;
  }
  final PsiTypeElement typeElement=variable.getTypeElement();
  if (typeElement != null && typeElement.getParent() == variable) {
    typeElement.replace(newTypeElement);
  }
  classReference.replace(newClassReference);
}
