{
  String path=FileUtil.toSystemIndependentName(libraryRoot.getAbsolutePath());
  if (FileTypeManager.getInstance().getFileTypeByFileName(libraryRoot.getName()) == FileTypes.ARCHIVE) {
    return VirtualFileManager.constructUrl(JarFileSystem.getInstance().getProtocol(),path + JarFileSystem.JAR_SEPARATOR);
  }
 else {
    return VirtualFileManager.constructUrl(LocalFileSystem.getInstance().getProtocol(),path);
  }
}
