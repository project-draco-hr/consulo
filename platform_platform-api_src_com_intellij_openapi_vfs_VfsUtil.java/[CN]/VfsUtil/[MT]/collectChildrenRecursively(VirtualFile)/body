{
  final List<VirtualFile> result=new ArrayList<VirtualFile>();
  processFilesRecursively(root,new Processor<VirtualFile>(){
    @Override public boolean process(    final VirtualFile t){
      result.add(t);
      return true;
    }
  }
);
  return result;
}
