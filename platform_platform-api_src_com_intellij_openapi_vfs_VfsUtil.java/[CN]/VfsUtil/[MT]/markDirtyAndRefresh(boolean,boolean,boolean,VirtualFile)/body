{
  List<VirtualFile> list=ContainerUtil.filter(Condition.NOT_NULL,files);
  if (list.isEmpty()) {
    return;
  }
  for (  VirtualFile file : list) {
    if (loadChildren) {
      file.getChildren();
    }
    if (file instanceof NewVirtualFile) {
      if (recursive) {
        ((NewVirtualFile)file).markDirtyRecursively();
      }
 else {
        ((NewVirtualFile)file).markDirty();
      }
    }
  }
  LocalFileSystem.getInstance().refreshFiles(list,async,recursive,null);
}
