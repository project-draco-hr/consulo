{
  final ProjectRootManager projectRootManager=ProjectRootManager.getInstance(project);
  final Sdk projectJdk=projectRootManager.getProjectJdk();
  final CellAppearance appearance;
  if (projectJdk != null) {
    appearance=forJdk(projectJdk,false,false);
  }
 else {
    final String projectJdkName=projectRootManager.getProjectJdkName();
    if (projectJdkName != null) {
      appearance=SimpleTextCellAppearance.invalid(ProjectBundle.message("jdk.combo.box.invalid.item",projectJdkName),CellAppearanceUtils.INVALID_ICON);
    }
 else {
      appearance=forJdk(null,false,false);
    }
  }
  return appearance;
}
