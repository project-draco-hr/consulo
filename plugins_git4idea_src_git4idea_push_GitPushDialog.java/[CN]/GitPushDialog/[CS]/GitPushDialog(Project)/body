{
  super(project);
  myProject=project;
  myPusher=new GitPusher(myProject,new EmptyProgressIndicator());
  myRepositoryManager=GitUtil.getRepositoryManager(myProject);
  myRepositories=getRepositoriesWithRemotes();
  myLoadingPanel=new JBLoadingPanel(new BorderLayout(),this.getDisposable());
  myListPanel=new GitPushLog(myProject,myRepositories,new RepositoryCheckboxListener());
  myRefspecPanel=new GitManualPushToBranch(myRepositories,new RefreshButtonListener());
  if (GitManualPushToBranch.getRemotesWithCommonNames(myRepositories).isEmpty()) {
    myRefspecPanel.setVisible(false);
    setErrorText("Can't push, because no remotes are defined");
    setOKActionEnabled(false);
    myPushPossible=false;
  }
 else {
    myPushPossible=true;
  }
  init();
  setOKButtonText("Push");
  setOKButtonMnemonic('P');
  setTitle("Git Push");
}
