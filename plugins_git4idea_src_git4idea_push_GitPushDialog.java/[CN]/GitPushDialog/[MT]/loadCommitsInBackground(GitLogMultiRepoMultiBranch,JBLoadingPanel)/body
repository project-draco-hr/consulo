{
  ApplicationManager.getApplication().executeOnPooledThread(new Runnable(){
    public void run(){
      Map<GitRepository,Collection<GitBranch>> repositoriesToBranches=prepareRepositoriesAndBranchesToPush();
      final GitCommitsByRepoAndBranch gitCommits=myPusher.collectCommitsToPush(repositoriesToBranches);
      UIUtil.invokeLaterIfNeeded(new Runnable(){
        @Override public void run(){
          myListPanel.setCommits(gitCommits);
          loadingPanel.stopLoading();
        }
      }
);
    }
  }
);
}
