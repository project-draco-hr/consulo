{
  Collection<GitRepository> repositories=myListPanel.getSelectedRepositories();
  Collection<GitRemote> commonRemotes=getRemotesWithCommonNames(repositories);
  myRefspecPanel.setRemotes(commonRemotes,getDefaultRemote(repositories));
  String commonTargetBranch=getCommonTargetBranch(repositories);
  setOKActionEnabled(false);
  if (repositories.isEmpty()) {
    setErrorText("No repositories were selected");
  }
 else   if (commonRemotes.isEmpty()) {
    setErrorText(repositories.size() > 1 ? "No common remotes are defined in the selected repositories" : "No remotes are defined");
  }
 else   if (commonTargetBranch == null) {
    setErrorText(repositories.size() > 1 ? "No common target branch" : "No target branch");
  }
 else {
    myRefspecPanel.setTargetBranch(commonTargetBranch);
    setErrorText(null);
    setOKActionEnabled(true);
  }
}
