{
  Map<GitRepository,GitPushSpec> defaultSpecs=new HashMap<GitRepository,GitPushSpec>();
  for (  GitRepository repository : myRepositories) {
    GitBranch currentBranch=repository.getCurrentBranch();
    if (currentBranch == null) {
      continue;
    }
    String remoteName=currentBranch.getTrackedRemoteName(repository.getProject(),repository.getRoot());
    String trackedBranchName=currentBranch.getTrackedBranchName(repository.getProject(),repository.getRoot());
    GitRemote remote=findRemoteByName(repository,remoteName);
    GitBranch tracked=findRemoteBranchByName(repository,remote,trackedBranchName);
    if (remote == null || tracked == null) {
      continue;
    }
    GitPushSpec pushSpec=new GitPushSpec(remote,currentBranch,tracked);
    defaultSpecs.put(repository,pushSpec);
  }
  return defaultSpecs;
}
