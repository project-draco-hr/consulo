{
  myLoadingPanel.startLoading();
  ApplicationManager.getApplication().executeOnPooledThread(new Runnable(){
    public void run(){
      final AtomicReference<String> error=new AtomicReference<String>();
synchronized (COMMITS_LOADING_LOCK) {
        error.set(collectInfoToPush());
      }
      UIUtil.invokeLaterIfNeeded(new Runnable(){
        @Override public void run(){
          if (error.get() != null) {
            myListPanel.displayError(error.get());
          }
 else {
            myListPanel.setCommits(myGitCommitsToPush);
          }
          myRefspecPanel.setBranchToPushIfNotSet(getTrackedCurrentBranchName());
          myLoadingPanel.stopLoading();
        }
      }
);
    }
  }
);
}
