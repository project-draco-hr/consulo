{
synchronized (COMMITS_LOADING_LOCK) {
    GitCommitsByRepoAndBranch selectedCommits;
    if (myGitCommitsToPush == null) {
      collectInfoToPush(myPushAllCheckbox.isSelected());
      selectedCommits=myGitCommitsToPush;
    }
 else {
      Collection<GitRepository> selectedRepositories=myListPanel.getSelectedRepositories();
      selectedCommits=myGitCommitsToPush.retainAll(selectedRepositories);
    }
    return new GitPushInfo(selectedCommits,myPushSpecs);
  }
}
