{
synchronized (COMMITS_LOADING_LOCK) {
    GitCommitsByRepoAndBranch selectedCommits;
    if (myGitCommitsToPush == null) {
      collectInfoToPush();
      selectedCommits=myGitCommitsToPush;
    }
 else {
      if (refreshNeeded()) {
        collectInfoToPush();
      }
      Collection<GitRepository> selectedRepositories=myListPanel.getSelectedRepositories();
      selectedCommits=myGitCommitsToPush.retainAll(selectedRepositories);
    }
    return new GitPushInfo(selectedCommits,myPushSpecs);
  }
}
