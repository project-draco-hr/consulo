{
  ApplicationManager.getApplication().executeOnPooledThread(new Runnable(){
    public void run(){
      final AtomicReference<String> error=new AtomicReference<String>();
      try {
        myGitCommitsToPush=myPusher.collectCommitsToPush(myPushSpec);
      }
 catch (      VcsException e) {
        myGitCommitsToPush=GitCommitsByRepoAndBranch.empty();
        error.set(e.getMessage());
        LOG.error("Couldn't collect commits to push. Push spec: " + myPushSpec,e);
      }
      UIUtil.invokeLaterIfNeeded(new Runnable(){
        @Override public void run(){
          if (error.get() != null) {
            myListPanel.displayError(error.get());
          }
 else {
            myListPanel.setCommits(myGitCommitsToPush);
          }
          loadingPanel.stopLoading();
        }
      }
);
    }
  }
);
}
