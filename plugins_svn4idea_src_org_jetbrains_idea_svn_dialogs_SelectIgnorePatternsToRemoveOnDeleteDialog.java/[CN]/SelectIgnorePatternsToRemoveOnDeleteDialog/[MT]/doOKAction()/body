{
  final TreeModel treeModel=myTree.getModel();
  final CheckedTreeNode root=(CheckedTreeNode)treeModel.getRoot();
  final Enumeration files=root.children();
  while (files.hasMoreElements()) {
    final MyFileNode fileNode=(MyFileNode)files.nextElement();
    final IgnoredFileInfo info=new IgnoredFileInfo(fileNode.myFile,fileNode.myPropValue);
    final Enumeration patterns=fileNode.children();
    while (patterns.hasMoreElements()) {
      final MyPatternNode patternNode=(MyPatternNode)patterns.nextElement();
      if (patternNode.isChecked()) {
        info.addPattern(patternNode.myPattern);
      }
    }
    if (!info.getPatterns().isEmpty()) {
      myResult.add(info);
    }
  }
  super.doOKAction();
}
