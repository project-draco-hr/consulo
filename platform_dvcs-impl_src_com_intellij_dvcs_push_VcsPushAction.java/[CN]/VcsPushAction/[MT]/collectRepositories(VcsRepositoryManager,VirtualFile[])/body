{
  if (files == null)   return Collections.emptyList();
  Collection<Repository> repositories=ContainerUtil.newHashSet();
  for (  VirtualFile file : files) {
    Repository repo=vcsRepositoryManager.getRepositoryForFile(file);
    if (repo != null) {
      repositories.add(repo);
    }
  }
  return repositories;
}
