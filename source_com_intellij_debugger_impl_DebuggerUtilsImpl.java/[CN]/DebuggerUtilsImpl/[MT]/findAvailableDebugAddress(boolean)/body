{
  final TransportServiceWrapper transportService=TransportServiceWrapper.getTransportService(useSockets);
  if (useSockets) {
    final int freePort=findAvailableSocketPort();
    return Integer.toString(freePort);
  }
  try {
    String address=transportService.startListening();
    transportService.stopListening(address);
    return address;
  }
 catch (  IOException e) {
    throw new ExecutionException(DebugProcessImpl.processError(e));
  }
}
