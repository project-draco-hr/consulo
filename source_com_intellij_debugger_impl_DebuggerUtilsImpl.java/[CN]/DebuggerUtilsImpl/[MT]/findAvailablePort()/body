{
  int port;
  try {
    final ServerSocket serverSocket=new ServerSocket(0);
    port=serverSocket.getLocalPort();
synchronized (serverSocket) {
      try {
        serverSocket.wait(1);
      }
 catch (      InterruptedException e) {
        LOG.error(e);
      }
    }
    serverSocket.close();
  }
 catch (  IOException e) {
    throw new ExecutionException(DebugProcessImpl.processError(e));
  }
  return port;
}
