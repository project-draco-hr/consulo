{
  List<Pair<FacetPointerImpl,String>> changed=new ArrayList<Pair<FacetPointerImpl,String>>();
  for (  FacetPointerImpl pointer : myPointers.values()) {
    final String oldId=pointer.getId();
    pointer.refresh(module.getProject());
    if (!oldId.equals(pointer.getId())) {
      changed.add(Pair.create(pointer,oldId));
    }
  }
  for (  Pair<FacetPointerImpl,String> pair : changed) {
    FacetPointerImpl pointer=pair.getFirst();
    final Facet facet=pointer.getFacet(module.getProject());
    Class facetClass=facet != null ? facet.getClass() : Facet.class;
    while (facetClass != Object.class) {
      final EventDispatcher<FacetPointerListener> dispatcher=myDispatchers.get(facetClass);
      if (dispatcher != null) {
        dispatcher.getMulticaster().pointerIdChanged(pointer,pair.getSecond());
      }
      facetClass=facetClass.getSuperclass();
    }
  }
}
