{
  if (!CodeInsightUtil.prepareFileForWrite(myClass.getContainingFile()))   return;
  PsiDirectory dir=file.getContainingDirectory();
  try {
    PsiClass placeHolder=myClass.isInterface() ? dir.createInterface(myClass.getName()) : dir.createClass(myClass.getName());
    PsiClass newClass=(PsiClass)placeHolder.replace(myClass);
    myClass.delete();
    OpenFileDescriptor descriptor=new OpenFileDescriptor(project,newClass.getContainingFile().getVirtualFile(),newClass.getTextOffset());
    FileEditorManager.getInstance(project).openTextEditor(descriptor,true);
  }
 catch (  IncorrectOperationException e) {
    LOG.error(e);
  }
}
