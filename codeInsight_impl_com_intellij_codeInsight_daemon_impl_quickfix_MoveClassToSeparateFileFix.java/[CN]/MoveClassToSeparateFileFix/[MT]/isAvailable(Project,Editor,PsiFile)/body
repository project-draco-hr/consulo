{
  if (!myClass.isValid() || !myClass.getManager().isInProject(myClass))   return false;
  PsiDirectory dir=file.getContainingDirectory();
  if (dir == null)   return false;
  try {
    if (myClass.isInterface()) {
      dir.checkCreateInterface(myClass.getName());
    }
 else {
      dir.checkCreateClass(myClass.getName());
    }
  }
 catch (  IncorrectOperationException e) {
    return false;
  }
  return true;
}
