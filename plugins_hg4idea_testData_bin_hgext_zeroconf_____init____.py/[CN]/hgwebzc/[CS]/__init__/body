def __init__(self, repo, name=None):
    super(hgwebzc, self).__init__(repo, name)
    name = (self.reponame or os.path.basename(repo.root))
    path = self.repo.ui.config('web', 'prefix', '').strip('/')
    desc = self.repo.ui.config('web', 'description', name)
    publish(name, desc, path, int(repo.ui.config('web', 'port', 8000)))
