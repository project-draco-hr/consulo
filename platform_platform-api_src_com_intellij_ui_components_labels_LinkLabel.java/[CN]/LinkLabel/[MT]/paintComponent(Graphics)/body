{
  setForeground(getTextColor());
  super.paintComponent(g);
  if (getText() != null) {
    g.setColor(getTextColor());
    if (myUnderline && myPaintUnderline) {
      Rectangle bounds=getTextBounds();
      int lineY=getUI().getBaseline(this,getWidth(),getHeight()) + 1;
      g.drawLine(bounds.x,lineY,bounds.x + bounds.width,lineY);
    }
    if (isFocusOwner()) {
      g.setColor(UIUtil.getTreeSelectionBorderColor());
      Rectangle bounds=getTextBounds();
      FontMetrics fm=getFontMetrics(getFont());
      int baseLine=getUI().getBaseline(this,getWidth(),getHeight());
      int textY=baseLine - fm.getLeading() - fm.getAscent();
      int textHeight=fm.getHeight();
      UIUtil.drawDottedRectangle(g,bounds.x,textY,bounds.x + bounds.width - 1,textY + textHeight - 1);
    }
  }
}
