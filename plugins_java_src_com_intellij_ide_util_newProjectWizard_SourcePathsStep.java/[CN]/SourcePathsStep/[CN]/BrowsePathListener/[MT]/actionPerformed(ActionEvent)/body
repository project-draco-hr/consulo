{
  final VirtualFile contentEntryDir=getContentEntryDir();
  if (contentEntryDir != null) {
    myChooserDescriptor.setRoots(contentEntryDir);
    final String textBefore=myField.getText().trim();
    super.actionPerformed(e);
    if (!textBefore.equals(myField.getText().trim())) {
      final String fullPath=myField.getText().trim().replace(File.separatorChar,'/');
      final VirtualFile fileByPath=LocalFileSystem.getInstance().findFileByPath(fullPath);
      LOG.assertTrue(fileByPath != null);
      myField.setText(VfsUtilCore.getRelativePath(fileByPath,contentEntryDir,File.separatorChar));
    }
  }
}
