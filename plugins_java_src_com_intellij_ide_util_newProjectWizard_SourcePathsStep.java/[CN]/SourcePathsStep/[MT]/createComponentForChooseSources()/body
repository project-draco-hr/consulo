{
  final JPanel panel=new JPanel(new GridBagLayout());
  mySourcePathsChooser=new ElementsChooser<JavaModuleSourceRoot>(true){
    public String getItemText(    @NotNull JavaModuleSourceRoot sourceRoot){
      StringBuilder builder=StringBuilderSpinAllocator.alloc();
      try {
        builder.append(sourceRoot.getDirectory().getAbsolutePath());
        final String packagePrefix=sourceRoot.getPackagePrefix();
        if (!packagePrefix.isEmpty()) {
          builder.append(" (").append(packagePrefix).append(")");
        }
        builder.append(" [").append(sourceRoot.getRootTypeName()).append("]");
        return builder.toString();
      }
  finally {
        StringBuilderSpinAllocator.dispose(builder);
      }
    }
  }
;
  final String text=IdeBundle.message("label.java.source.files.have.been.found");
  final JLabel label=new JLabel(text);
  label.setUI(new MultiLineLabelUI());
  panel.add(label,new GridBagConstraints(0,GridBagConstraints.RELATIVE,2,1,1.0,0.0,GridBagConstraints.NORTHWEST,GridBagConstraints.HORIZONTAL,new Insets(8,10,0,10),0,0));
  panel.add(mySourcePathsChooser,new GridBagConstraints(0,GridBagConstraints.RELATIVE,2,1,1.0,1.0,GridBagConstraints.NORTHWEST,GridBagConstraints.BOTH,new Insets(8,10,8,10),0,0));
  final JButton markAllButton=new JButton(IdeBundle.message("button.mark.all"));
  panel.add(markAllButton,new GridBagConstraints(0,GridBagConstraints.RELATIVE,1,1,0.0,0.0,GridBagConstraints.NORTHWEST,GridBagConstraints.NONE,new Insets(0,10,8,2),0,0));
  final JButton unmarkAllButton=new JButton(IdeBundle.message("button.unmark.all"));
  panel.add(unmarkAllButton,new GridBagConstraints(1,GridBagConstraints.RELATIVE,1,1,1.0,0.0,GridBagConstraints.NORTHWEST,GridBagConstraints.NONE,new Insets(0,0,8,10),0,0));
  markAllButton.addActionListener(new ActionListener(){
    public void actionPerformed(    ActionEvent e){
      mySourcePathsChooser.setAllElementsMarked(true);
    }
  }
);
  unmarkAllButton.addActionListener(new ActionListener(){
    public void actionPerformed(    ActionEvent e){
      mySourcePathsChooser.setAllElementsMarked(false);
    }
  }
);
  return panel;
}
