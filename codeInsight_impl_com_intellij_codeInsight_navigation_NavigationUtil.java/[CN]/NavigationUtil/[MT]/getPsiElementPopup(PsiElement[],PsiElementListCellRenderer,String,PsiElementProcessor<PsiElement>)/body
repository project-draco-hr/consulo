{
  final JList list=new JList(elements);
  list.setCellRenderer(renderer);
  renderer.installSpeedSearch(list);
  final Runnable runnable=new Runnable(){
    public void run(){
      int[] ids=list.getSelectedIndices();
      if (ids == null || ids.length == 0)       return;
      Object[] selectedElements=list.getSelectedValues();
      for (      Object element : selectedElements) {
        processor.execute((PsiElement)element);
      }
    }
  }
;
  return new PopupChooserBuilder(list).setTitle(title).setItemChoosenCallback(runnable).createPopup();
}
