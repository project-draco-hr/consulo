{
  final PsiElement element=descriptor.getPsiElement();
  final PsiElement parent=element.getParent();
  if (!(parent instanceof PsiReferenceList)) {
    return;
  }
  final PsiReferenceList referenceList=(PsiReferenceList)parent;
  final PsiElementFactory factory=JavaPsiFacade.getElementFactory(project);
  if (!originalNeeded) {
    element.delete();
  }
  for (  SmartPsiElementPointer<PsiClass> type : types) {
    PsiClass aClass=type.getElement();
    if (aClass == null)     continue;
    final PsiJavaCodeReferenceElement referenceElement=factory.createReferenceExpression(aClass);
    referenceList.add(referenceElement);
  }
}
