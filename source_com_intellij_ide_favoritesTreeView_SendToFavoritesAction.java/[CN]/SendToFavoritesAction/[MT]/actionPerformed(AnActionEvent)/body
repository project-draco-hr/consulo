{
  final DataContext dataContext=e.getDataContext();
  Project project=(Project)dataContext.getData(DataConstants.PROJECT);
  final FavoritesViewImpl favoritesView=FavoritesViewImpl.getInstance(project);
  final FavoritesTreeViewPanel currentTreeViewPanel=favoritesView.getCurrentTreeViewPanel();
  final FavoritesTreeNodeDescriptor[] selectedNodeDescriptors=currentTreeViewPanel.getSelectedNodeDescriptors();
  favoritesView.getAddToFavoritesAction(myName).actionPerformed(e);
  ((DeleteFromFavoritesAction)ActionManager.getInstance().getAction(IdeActions.REMOVE_FROM_FAVORITES)).removeNodes(selectedNodeDescriptors,project,currentTreeViewPanel.getName());
}
