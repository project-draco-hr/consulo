{
  if (mySignatureArea == null)   return;
  @NonNls StringBuffer buffer=new StringBuffer();
  final String visibilityString=VisibilityUtil.getVisibilityString(myVisibilityPanel.getVisibility());
  buffer.append(visibilityString);
  if (buffer.length() > 0) {
    buffer.append(" ");
  }
  if (isMakeStatic() && !isChainedConstructor()) {
    buffer.append("static ");
  }
  if (myTypeParameterList != null) {
    buffer.append(myTypeParameterList.getText());
    buffer.append(" ");
  }
  if (isChainedConstructor()) {
    buffer.append(myTargetClass.getName());
  }
 else {
    buffer.append(PsiFormatUtil.formatType(myReturnType,0,PsiSubstitutor.EMPTY));
    buffer.append(" ");
    buffer.append(myNameField.getText());
  }
  buffer.append("(");
  int count=0;
  final String INDENT="    ";
  for (int i=0; i < myVariableData.length; i++) {
    ParameterTablePanel.VariableData data=myVariableData[i];
    if (data.passAsParameter) {
      PsiType type=data.type;
      if (i == myVariableData.length - 1 && type instanceof PsiArrayType && myCbMakeVarargs.isSelected()) {
        type=new PsiEllipsisType(((PsiArrayType)type).getComponentType());
      }
      String typeText=type.getPresentableText();
      if (count > 0) {
        buffer.append(",");
      }
      buffer.append("\n");
      buffer.append(INDENT);
      buffer.append(typeText);
      buffer.append(" ");
      buffer.append(data.name);
      count++;
    }
  }
  if (count > 0) {
    buffer.append("\n");
  }
  buffer.append(")");
  if (myExceptions.length > 0) {
    buffer.append("\n");
    buffer.append("throws\n");
    for (    PsiType exception : myExceptions) {
      buffer.append(INDENT);
      buffer.append(PsiFormatUtil.formatType(exception,0,PsiSubstitutor.EMPTY));
      buffer.append("\n");
    }
  }
  mySignatureArea.setText(buffer.toString());
}
