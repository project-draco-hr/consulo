{
  Object value=myAccessor.read(o);
  Element targetElement=new Element(myTagName);
  if (!StringUtil.isEmpty(myNameAttribute)) {
    targetElement.setAttribute(myNameAttribute,myName);
  }
  if (value == null) {
    return targetElement;
  }
  if (myConverter == null) {
    if (myBinding == null) {
      targetElement.setAttribute(myValueAttribute,XmlSerializerImpl.convertToString(value));
    }
 else     if (myBinding instanceof BeanBinding && myValueAttribute.isEmpty()) {
      ((BeanBinding)myBinding).serializeInto(value,targetElement,filter);
    }
 else {
      Object node=myBinding.serialize(value,targetElement,filter);
      if (node != null && targetElement != node) {
        JDOMUtil.addContent(targetElement,node);
      }
    }
  }
 else {
    targetElement.setAttribute(myValueAttribute,myConverter.toString(value));
  }
  return targetElement;
}
