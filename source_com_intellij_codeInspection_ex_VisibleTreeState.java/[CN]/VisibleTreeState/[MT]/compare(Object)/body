{
  if (!(object instanceof VisibleTreeState))   return false;
  final VisibleTreeState that=(VisibleTreeState)object;
  if (myExpandedNodes == null && that.myExpandedNodes != null) {
    return false;
  }
  if (myExpandedNodes.size() != that.myExpandedNodes.size())   return false;
  for (Iterator<String> iterator=myExpandedNodes.iterator(); iterator.hasNext(); ) {
    if (!that.myExpandedNodes.contains(iterator.next())) {
      return false;
    }
  }
  if (mySelectedNodes == null) {
    return that.mySelectedNodes == null;
  }
  if (mySelectedNodes.size() != that.mySelectedNodes.size())   return false;
  for (Iterator<String> iterator=mySelectedNodes.iterator(); iterator.hasNext(); ) {
    if (!that.mySelectedNodes.contains(iterator.next())) {
      return false;
    }
  }
  return true;
}
