{
  if (UIUtil.isUnderAquaLookAndFeel() && editor.isOneLineMode() && (!Boolean.TRUE.equals(getClientProperty("JComboBox.isTableCellEditor")) && SwingUtilities.getAncestorOfClass(JTable.class,this) == null)) {
    final Container parent=getParent();
    if (parent instanceof JTable || parent instanceof CellRendererPane)     return;
    editor.setBorder(new MacUIUtil.EditorTextFieldBorder(this));
    editor.addFocusListener(new FocusChangeListener(){
      @Override public void focusGained(      Editor editor){
        repaint();
      }
      @Override public void focusLost(      Editor editor){
        repaint();
      }
    }
);
  }
}
