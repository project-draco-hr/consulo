{
  final Project project=module.getProject();
  final MvcModuleStructureSynchronizer mvcModuleStructureSynchronizer=MvcModuleStructureSynchronizer.getInstance(project);
  if (mvcModuleStructureSynchronizer.myOutOfModuleDirectoryCreatedActionAdded) {
    mvcModuleStructureSynchronizer.myOutOfModuleDirectoryCreatedActionAdded=false;
    Set<VirtualFile> roots=new HashSet<VirtualFile>();
    for (    String rootPath : MvcWatchedRootProvider.getRootsToWatch(project)) {
      ContainerUtil.addIfNotNull(roots,LocalFileSystem.getInstance().findFileByPath(rootPath));
    }
    if (!roots.equals(mvcModuleStructureSynchronizer.myPluginRoots)) {
      mvcModuleStructureSynchronizer.myPluginRoots=roots;
      ApplicationManager.getApplication().invokeLater(new Runnable(){
        @Override public void run(){
          mvcModuleStructureSynchronizer.queue(UpdateProjectStructure,project);
        }
      }
);
    }
  }
}
