{
  boolean endsWithNewLine=false;
  PsiBuilder.Marker modifiersMarker=builder.mark();
  IElementType annotation=Annotation.parse(builder);
  IElementType modifier=Modifier.parse(builder);
  IElementType def=ParserUtils.getToken(builder,kDEF) ? kDEF : NONE;
  if (!(ANNOTATION.equals(annotation) || MODIFIERS.equals(modifier) || kDEF.equals(def))) {
    modifiersMarker.done(MODIFIERS);
    return WRONGWAY;
  }
  PsiBuilder.Marker newLineMarker=builder.mark();
  while (ANNOTATION.equals(annotation) || MODIFIERS.equals(modifier) || kDEF.equals(def)) {
    newLineMarker.drop();
    newLineMarker=builder.mark();
    endsWithNewLine=ParserUtils.getToken(builder,mNLS);
    annotation=Annotation.parse(builder);
    modifier=Modifier.parse(builder);
    def=ParserUtils.getToken(builder,kDEF) ? kDEF : NONE;
  }
  if (endsWithNewLine) {
    newLineMarker.rollbackTo();
  }
 else {
    newLineMarker.drop();
  }
  modifiersMarker.done(MODIFIERS);
  ParserUtils.getToken(builder,mNLS);
  return MODIFIERS;
}
