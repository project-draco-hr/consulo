{
  boolean isAnonymous=stub.isAnonymous();
  if (isAnonymous) {
    String baseref=stub.getBaseClassReferenceText();
    if (baseref != null) {
      sink.occurrence(JavaAnonymousClassBaseRefOccurenceIndex.KEY,PsiNameHelper.getShortClassName(baseref));
    }
  }
 else {
    final String shortname=stub.getName();
    if (shortname != null) {
      sink.occurrence(JavaShortClassNameIndex.KEY,shortname);
    }
    final String fqn=stub.getQualifiedName();
    if (fqn != null) {
      sink.occurrence(JavaFullClassNameIndex.KEY,fqn.hashCode());
    }
  }
}
