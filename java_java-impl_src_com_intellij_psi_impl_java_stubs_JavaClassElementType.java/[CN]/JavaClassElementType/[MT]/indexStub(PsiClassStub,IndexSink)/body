{
  boolean isAnonymous=stub.isAnonymous();
  if (isAnonymous) {
    String baseRef=stub.getBaseClassReferenceText();
    if (baseRef != null) {
      sink.occurrence(JavaStubIndexKeys.ANONYMOUS_BASEREF,PsiNameHelper.getShortClassName(baseRef));
    }
  }
 else {
    final String shortName=stub.getName();
    if (shortName != null) {
      sink.occurrence(JavaStubIndexKeys.CLASS_SHORT_NAMES,shortName);
    }
    final String fqn=stub.getQualifiedName();
    if (JavaFullClassNameIndex.DEBUG) {
      System.out.println("Indexing " + fqn);
    }
    if (fqn != null) {
      sink.occurrence(JavaStubIndexKeys.CLASS_FQN,fqn.hashCode());
    }
  }
}
