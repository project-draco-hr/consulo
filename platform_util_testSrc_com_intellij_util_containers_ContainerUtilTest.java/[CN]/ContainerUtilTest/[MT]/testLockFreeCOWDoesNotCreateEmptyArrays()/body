{
  LockFreeCopyOnWriteArrayList<Object> my=(LockFreeCopyOnWriteArrayList<Object>)ContainerUtil.createLockFreeCopyOnWriteList();
  for (int i=0; i < 2; i++) {
    Object[] array=my.getArray();
    assertSame(ArrayUtil.EMPTY_OBJECT_ARRAY,array);
    assertReallyEmpty(my);
    my.add(this);
    my.remove(this);
    assertReallyEmpty(my);
    my.add(this);
    my.remove(0);
    assertReallyEmpty(my);
    my.add(this);
    my.clear();
    assertReallyEmpty(my);
  }
}
