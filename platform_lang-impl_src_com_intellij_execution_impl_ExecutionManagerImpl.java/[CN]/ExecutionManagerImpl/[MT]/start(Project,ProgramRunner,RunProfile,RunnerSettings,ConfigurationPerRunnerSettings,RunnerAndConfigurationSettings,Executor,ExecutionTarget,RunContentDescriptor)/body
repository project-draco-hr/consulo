{
  Runnable restarter=descriptor != null ? descriptor.getRestarter() : null;
  if (runner != null && runProfile != null) {
    try {
      runner.execute(new ExecutionEnvironment(runProfile,executor,target,project,runnerSettings,configurationPerRunnerSettings,descriptor,configuration,runner.getRunnerId()));
    }
 catch (    RunCanceledByUserException ignore) {
    }
catch (    ExecutionException e1) {
      Messages.showErrorDialog(project,e1.getMessage(),ExecutionBundle.message("restart.error.message.title"));
    }
  }
 else   if (configuration != null) {
    ProgramRunnerUtil.executeConfiguration(project,configuration,executor,target,descriptor,true);
  }
 else   if (restarter != null) {
    restarter.run();
  }
}
