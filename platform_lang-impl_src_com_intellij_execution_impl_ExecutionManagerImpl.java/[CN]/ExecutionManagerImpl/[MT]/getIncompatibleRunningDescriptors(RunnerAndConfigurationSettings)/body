{
  final RunConfiguration configurationToCheckCompatibility=configurationAndSettings.getConfiguration();
  return getRunningDescriptors(new Predicate<RunnerAndConfigurationSettings>(){
    @Override public boolean apply(    @Nullable RunnerAndConfigurationSettings runningConfigurationAndSettings){
      if (runningConfigurationAndSettings == null)       return false;
      RunConfiguration runningConfiguration=runningConfigurationAndSettings.getConfiguration();
      if (runningConfiguration == null || !(runningConfiguration instanceof CompatibilityAwareRunProfile))       return false;
      return ((CompatibilityAwareRunProfile)runningConfiguration).mustBeStoppedToRun(configurationToCheckCompatibility);
    }
  }
);
}
