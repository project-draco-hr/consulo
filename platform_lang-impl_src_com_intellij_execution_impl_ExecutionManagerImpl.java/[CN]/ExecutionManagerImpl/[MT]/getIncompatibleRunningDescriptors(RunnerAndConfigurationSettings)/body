{
  final RunConfiguration configurationToCheckCompatibility=configurationAndSettings.getConfiguration();
  return getRunningDescriptors(new Condition<RunnerAndConfigurationSettings>(){
    @Override public boolean value(    @Nullable RunnerAndConfigurationSettings runningConfigurationAndSettings){
      RunConfiguration runningConfiguration=runningConfigurationAndSettings == null ? null : runningConfigurationAndSettings.getConfiguration();
      if (runningConfiguration == null || !(runningConfiguration instanceof CompatibilityAwareRunProfile)) {
        return false;
      }
      return ((CompatibilityAwareRunProfile)runningConfiguration).mustBeStoppedToRun(configurationToCheckCompatibility);
    }
  }
);
}
