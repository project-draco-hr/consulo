{
  final String path=FileUtil.toSystemIndependentName(dir);
  final Ref<IOException> err=new Ref<IOException>();
  ApplicationManager.getApplication().runWriteAction(new Runnable(){
    public void run(){
      try {
        createDirectoryIfMissing(path);
      }
 catch (      IOException e) {
        err.set(e);
      }
    }
  }
);
  if (!err.isNull())   throw err.get();
}
