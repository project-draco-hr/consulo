{
  final VirtualFile[] files;
synchronized (myFilesToCheck) {
    files=myFilesToCheck.toArray(new VirtualFile[myFilesToCheck.size()]);
    myFilesToCheck.clear();
  }
  final List<VirtualFile> newEditedGeneratedFiles=new ArrayList<VirtualFile>();
  new ReadAction(){
    protected void run(    final @NotNull Result result){
      if (myProject.isDisposed())       return;
      for (      VirtualFile file : files) {
        if (isGenerated(file)) {
          newEditedGeneratedFiles.add(file);
        }
      }
    }
  }
.execute();
  if (!newEditedGeneratedFiles.isEmpty()) {
    List<VirtualFile> toNotify=new ArrayList<VirtualFile>();
synchronized (myEditedGeneratedFiles) {
      for (      VirtualFile file : newEditedGeneratedFiles) {
        if (myEditedGeneratedFiles.add(file)) {
          toNotify.add(file);
        }
      }
    }
    for (    VirtualFile file : toNotify) {
      myEditorNotifications.updateNotifications(file);
    }
  }
}
