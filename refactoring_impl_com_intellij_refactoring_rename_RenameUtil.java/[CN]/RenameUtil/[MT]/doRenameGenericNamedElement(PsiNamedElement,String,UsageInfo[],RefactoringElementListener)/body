{
  for (  UsageInfo usage : usages) {
    rename(usage,newName);
  }
  boolean hasWritableMetaData=false;
  if (namedElement instanceof PsiMetaBaseOwner) {
    final PsiMetaDataBase metaData=((PsiMetaBaseOwner)namedElement).getMetaData();
    if (metaData instanceof PsiWritableMetaData) {
      hasWritableMetaData=true;
      ((PsiWritableMetaData)metaData).setName(newName);
    }
  }
  if (!hasWritableMetaData) {
    namedElement.setName(newName);
  }
  listener.elementRenamed(namedElement);
}
