{
  return new ElementPresentation(){
    @Override public String getElementName(){
      NullableFunction<DomElement,String> namer=myNamer.getValue();
      return namer == null ? ElementPresentationManager.getElementName(element) : namer.fun(element);
    }
    @Override public String getTypeName(){
      if (StringUtil.isNotEmpty(myPresentation.typeName()))       return myPresentation.typeName();
      return ElementPresentationManager.getTypeNameForObject(element);
    }
    @Override public Icon getIcon(){
      NullableFunction<DomElement,Icon> iconProvider=myIconProvider.getValue();
      return iconProvider == null ? myIcon.getValue() : iconProvider.fun(element);
    }
  }
;
}
