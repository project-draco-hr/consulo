{
  Set<String> conflicts=new HashSet<String>();
  if (myCreateInnerClassRb.isSelected()) {
    if (myTargetClass.findInnerClassByName(myInnerClassName.getText(),false) != null) {
      conflicts.add("Inner class " + myInnerClassName.getText() + " already defined in class "+ myTargetClass.getName());
    }
  }
  if (conflicts.size() > 0) {
    final ConflictsDialog conflictsDialog=new ConflictsDialog(myProject,conflicts);
    conflictsDialog.show();
    if (!conflictsDialog.isOK())     return;
  }
  if (myCbMakeVarargs != null && myCbMakeVarargs.isSelected()) {
    final ParameterTablePanel.VariableData data=myVariableData[myVariableData.length - 1];
    if (data.type instanceof PsiArrayType) {
      data.type=new PsiEllipsisType(((PsiArrayType)data.type).getComponentType());
    }
  }
  super.doOKAction();
}
