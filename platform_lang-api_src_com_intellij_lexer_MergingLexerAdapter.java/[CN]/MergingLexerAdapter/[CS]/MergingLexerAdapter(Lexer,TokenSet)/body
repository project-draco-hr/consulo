{
  super(original,new MergeFunction(){
    private IElementType currentTokenType;
    @Override public boolean startMerge(    final IElementType type){
      if (tokensToMerge.contains(type)) {
        currentTokenType=type;
        return true;
      }
      return false;
    }
    @Override public boolean mergeWith(    final IElementType type){
      return currentTokenType == type;
    }
    @Override public IElementType getMergedTokenType(    final IElementType type){
      return type;
    }
  }
);
}
