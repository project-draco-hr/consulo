{
  boolean old=CodeInsightSettings.getInstance().AUTOCOMPLETE_ON_SMART_TYPE_COMPLETION;
  if (c != Lookup.NORMAL_SELECT_CHAR) {
    CodeInsightSettings.getInstance().AUTOCOMPLETE_ON_SMART_TYPE_COMPLETION=false;
  }
  try {
    configureByFile(BASE_PATH + "/" + getTestName(false)+ ".java");
    if (myItems != null && myItems.length == 1) {
      select(c);
    }
    checkResultByFile(BASE_PATH + "/" + getTestName(false)+ "-out.java");
  }
  finally {
    if (c != Lookup.NORMAL_SELECT_CHAR) {
      CodeInsightSettings.getInstance().AUTOCOMPLETE_ON_SMART_TYPE_COMPLETION=old;
    }
  }
}
