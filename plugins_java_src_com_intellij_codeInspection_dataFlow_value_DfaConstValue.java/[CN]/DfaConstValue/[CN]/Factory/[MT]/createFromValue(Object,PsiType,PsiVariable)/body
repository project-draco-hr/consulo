{
  if (value == Boolean.TRUE)   return dfaTrue;
  if (value == Boolean.FALSE)   return dfaFalse;
  if (TypeConversionUtil.isNumericType(type) && !TypeConversionUtil.isFloatOrDoubleType(type)) {
    value=TypeConversionUtil.computeCastTo(value,PsiType.LONG);
  }
  Object key=constant != null ? constant : value;
  DfaConstValue instance=myValues.get(key);
  if (instance == null) {
    instance=new DfaConstValue(value,myFactory,constant);
    myValues.put(key,instance);
  }
  return instance;
}
