{
  LOG.assertTrue(myEditor == null);
  myEditor=myState.createEditor();
  if (myEditor == null)   return;
  add(myEditor.getComponent(),BorderLayout.CENTER);
  myEditor.getScrollingModel().addVisibleAreaListener(myVisibleAreaListener);
  myEditor.getCaretModel().addCaretListener(new CaretListener(){
    @Override public void caretPositionChanged(    CaretEvent e){
      repaint();
    }
  }
);
  repaint();
  fireEditorCreated();
}
