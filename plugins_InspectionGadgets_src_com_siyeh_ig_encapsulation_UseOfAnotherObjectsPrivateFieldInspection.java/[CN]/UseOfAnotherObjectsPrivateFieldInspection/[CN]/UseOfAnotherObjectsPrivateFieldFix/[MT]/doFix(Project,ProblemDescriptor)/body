{
  final PsiElement element=descriptor.getPsiElement();
  final PsiElement parent=element.getParent();
  if (!(parent instanceof PsiReferenceExpression)) {
    return;
  }
  final PsiReferenceExpression referenceExpression=(PsiReferenceExpression)parent;
  final StringBuilder methodCallText=new StringBuilder();
  final PsiExpression qualifierExpression=referenceExpression.getQualifierExpression();
  if (qualifierExpression != null) {
    methodCallText.append(qualifierExpression.getText());
    methodCallText.append('.');
  }
  methodCallText.append(method.getName());
  if (!PsiUtil.isOnAssignmentLeftHand(referenceExpression)) {
    methodCallText.append("()");
    replaceExpression(referenceExpression,methodCallText.toString());
  }
 else {
    final PsiAssignmentExpression assignmentExpression=PsiTreeUtil.getParentOfType(referenceExpression,PsiAssignmentExpression.class);
    if (assignmentExpression == null) {
      return;
    }
    methodCallText.append('(');
    final PsiExpression rhs=assignmentExpression.getRExpression();
    if (rhs != null) {
      methodCallText.append(rhs.getText());
    }
    methodCallText.append(')');
    replaceExpression(assignmentExpression,methodCallText.toString());
  }
}
