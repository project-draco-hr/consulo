{
  final List<RangeHighlighter> newHighlighters=new ArrayList<RangeHighlighter>();
  if (show) {
    TextAttributes attr=EditorColorsManager.getInstance().getGlobalScheme().getAttributes(CodeInsightColors.BLINKING_HIGHLIGHTS_ATTRIBUTES);
    for (int i=0; i < spotMarkers.size(); i++) {
      final RangeMarker rangeMarker=spotMarkers.get(i);
      RangeHighlighter newRangeHighlighter=myEditor.getMarkupModel().addRangeHighlighter(rangeMarker.getStartOffset(),rangeMarker.getEndOffset(),HighlighterLayer.ADDITIONAL_SYNTAX,attr,HighlighterTargetArea.EXACT_RANGE);
      newHighlighters.add(newRangeHighlighter);
    }
  }
 else {
    for (int i=0; i < oldHighlighters.size(); i++) {
      final RangeHighlighter rangeHighlighter=oldHighlighters.get(i);
      if (rangeHighlighter.isValid()) {
        myEditor.getMarkupModel().removeHighlighter(rangeHighlighter);
      }
    }
  }
  stopBlinking();
  myBlinkingAlarm.addRequest(new Runnable(){
    public void run(){
      startBlinking(spotMarkers,newHighlighters,!show);
    }
  }
,400);
}
