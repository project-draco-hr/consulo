{
  if (myDimensionServiceKey != null && myInitialSize != null && myOpened) {
    final Project projectGuess=DataKeys.PROJECT.getData(DataManager.getInstance().getDataContext(MyDialog.this));
    Point location=getLocation();
    DimensionService.getInstance().setLocation(myDimensionServiceKey,location,projectGuess);
    Dimension size=getSize();
    if (!myInitialSize.equals(size)) {
      DimensionService.getInstance().setSize(myDimensionServiceKey,size,projectGuess);
    }
    myOpened=false;
  }
}
