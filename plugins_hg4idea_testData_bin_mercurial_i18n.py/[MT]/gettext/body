def gettext(message):
    "Translate message.\n\n    The message is looked up in the catalog to get a Unicode string,\n    which is encoded in the local encoding before being returned.\n\n    Important: message is restricted to characters in the encoding\n    given by sys.getdefaultencoding() which is most likely 'ascii'.\n    "
    if (message is None):
        return message
    u = t.ugettext(message)
    try:
        return u.encode(encoding.encoding, 'replace')
    except LookupError:
        return message
