{
  GitSimpleHandler handler=new GitSimpleHandler(myProject,root,GitCommand.COMMIT);
  handler.setNoSSH(true);
  File gitDir=new File(VfsUtilCore.virtualToIoFile(root),GitUtil.DOT_GIT);
  File messageFile=new File(gitDir,GitRepositoryFiles.MERGE_MSG);
  if (!messageFile.exists()) {
    final GitBranch branch=GitBranch.current(myProject,root);
    final String branchName=branch != null ? branch.getName() : "";
    handler.addParameters("-m","Merge branch '" + branchName + "' of "+ root.getPresentableUrl()+ " with conflicts.");
  }
 else {
    handler.addParameters("-F",messageFile.getAbsolutePath());
  }
  handler.endOptions();
  handler.run();
}
