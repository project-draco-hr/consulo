{
  GroovyLoader.loadGroovy();
  super.setUp();
  final ModifiableRootModel rootModel=ModuleRootManager.getInstance(getModule()).getModifiableModel();
  VirtualFile root=LocalFileSystem.getInstance().findFileByPath(getTestDataPath());
  assertNotNull(root);
  ContentEntry contentEntry=rootModel.addContentEntry(root);
  String testName=getTestName(true);
  VirtualFile sourceRoot=root.findChild(testName);
  assertNotNull(sourceRoot);
  contentEntry.addSourceFolder(sourceRoot,false);
  ApplicationManager.getApplication().runWriteAction(new Runnable(){
    public void run(){
      rootModel.commit();
    }
  }
);
}
