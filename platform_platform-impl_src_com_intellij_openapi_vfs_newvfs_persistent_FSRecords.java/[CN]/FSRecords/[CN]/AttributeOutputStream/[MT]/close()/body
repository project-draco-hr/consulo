{
  super.close();
  try {
synchronized (myAttributeId) {
      final int page;
      int encodedAttId;
      lock.lock();
      try {
        DbConnection.markDirty();
        incModCount(myFileId);
        encodedAttId=DbConnection.getAttributeId(myAttributeId);
        page=findAttributePage(myFileId,encodedAttId,true);
      }
  finally {
        lock.unlock();
      }
      final DataOutputStream sinkStream=getAttributes(encodedAttId).writeStream(page);
      sinkStream.write(((ByteArrayOutputStream)out).toByteArray());
      sinkStream.close();
    }
  }
 catch (  Throwable e) {
    throw DbConnection.handleError(e);
  }
}
