{
  int page;
  RefCountingStorage contentStorage=getContentStorage();
  try {
    w.lock();
    incModCount(myFileId);
    checkFileIsValid(myFileId);
    page=getContentRecordId(myFileId);
    if (page == 0 || contentStorage.getRefCount(page) > 1) {
      page=contentStorage.acquireNewRecord();
      setContentRecordId(myFileId,page);
    }
  }
  finally {
    w.unlock();
  }
  contentStorage.writeBytes(page,bytes,myFixedSize);
}
