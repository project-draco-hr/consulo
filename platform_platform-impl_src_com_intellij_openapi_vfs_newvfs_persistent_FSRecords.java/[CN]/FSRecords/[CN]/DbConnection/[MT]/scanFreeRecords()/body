{
  final int filelength=(int)getRecords().length();
  LOG.assertTrue(filelength % RECORD_SIZE == 0,"invalid file size: " + filelength);
  int count=filelength / RECORD_SIZE;
  for (int n=2; n < count; n++) {
    if ((getFlags(n) & FREE_RECORD_FLAG) != 0) {
      addFreeRecord(n);
    }
  }
}
