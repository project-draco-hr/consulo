{
  if (id == parent) {
    LOG.error("Cyclic parent/child relations");
    return;
  }
synchronized (lock) {
    try {
      DbConnection.markDirty();
      Bits.putInt(myRecordBuffer,PARENT_OFFSET,parent);
      Bits.putInt(myRecordBuffer,NAME_OFFSET,getNames().enumerate(name));
      Bits.putInt(myRecordBuffer,FLAGS_OFFSET,flags);
      Bits.putLong(myRecordBuffer,TIMESTAMP_OFFSET,timeStamp);
      Bits.putLong(myRecordBuffer,LENGTH_OFFSET,length);
      getRecords().put(getOffset(id,PARENT_OFFSET),myRecordBuffer,0,RECORD_SIZE);
      incModCount(id);
    }
 catch (    Throwable e) {
      throw DbConnection.handleError(e);
    }
  }
}
