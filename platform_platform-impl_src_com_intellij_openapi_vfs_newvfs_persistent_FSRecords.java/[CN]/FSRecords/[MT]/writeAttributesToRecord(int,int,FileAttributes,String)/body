{
  try {
    w.lock();
    setName(id,name);
    setTimestamp(id,attributes.lastModified);
    setLength(id,attributes.isDirectory() ? -1L : attributes.length);
    setFlags(id,(attributes.isDirectory() ? PersistentFS.IS_DIRECTORY_FLAG : 0) | (attributes.isWritable() ? 0 : PersistentFS.IS_READ_ONLY) | (attributes.isSymLink() ? PersistentFS.IS_SYMLINK : 0)| (attributes.isSpecial() ? PersistentFS.IS_SPECIAL : 0)| (attributes.isHidden() ? PersistentFS.IS_HIDDEN : 0),true);
    setParent(id,parentId);
  }
 catch (  Throwable e) {
    throw DbConnection.handleError(e);
  }
 finally {
    w.unlock();
  }
}
