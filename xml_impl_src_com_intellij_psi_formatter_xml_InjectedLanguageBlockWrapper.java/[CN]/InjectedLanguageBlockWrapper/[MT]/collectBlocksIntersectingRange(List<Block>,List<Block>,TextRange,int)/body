{
  for (  Block b : list) {
    final TextRange textRange=b.getTextRange();
    if (range.contains(textRange)) {
      result.add(new InjectedLanguageBlockWrapper(b,blockStartOffset - range.getStartOffset()));
    }
 else     if (textRange.intersectsStrict(range)) {
      collectBlocksIntersectingRange(b.getSubBlocks(),result,range,blockStartOffset);
    }
  }
}
