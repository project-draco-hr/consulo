{
  if (myLoadedState == null)   return;
  List windows=myLoadedState.getChildren("window");
  for (  Object window1 : windows) {
    Element eachWindow=(Element)window1;
    if (eachWindow == null)     continue;
    String eachId=eachWindow.getAttributeValue("id");
    Element eachContent=eachWindow.getChild("content");
    if (eachContent == null)     continue;
    String eachType=eachContent.getAttributeValue("type");
    if (eachType == null || !type.equals(eachType) || !myFactories.containsKey(eachType))     continue;
    DockContainerFactory factory=myFactories.get(eachType);
    if (!(factory instanceof DockContainerFactory.Persistent))     continue;
    DockContainerFactory.Persistent persistentFactory=(DockContainerFactory.Persistent)factory;
    DockContainer container=persistentFactory.loadContainerFrom(eachContent);
    register(container);
    final DockWindow window=createWindowFor(eachId,container);
    UIUtil.invokeLaterIfNeeded(new Runnable(){
      @Override public void run(){
        window.show();
      }
    }
);
  }
}
