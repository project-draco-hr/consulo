{
  super(project);
  myId=id;
  myContainer=container;
  setProject(project);
  setComponent(myContainer.getComponent());
  addDisposable(container);
  IdeEventQueue.getInstance().addPostprocessor(this,this);
  myContainer.addListener(new DockContainer.Listener.Adapter(){
    @Override public void contentRemoved(    Object key){
      getReady().doWhenDone(new Runnable(){
        @Override public void run(){
          if (myContainer.isEmpty()) {
            close();
          }
        }
      }
);
    }
  }
,this);
}
