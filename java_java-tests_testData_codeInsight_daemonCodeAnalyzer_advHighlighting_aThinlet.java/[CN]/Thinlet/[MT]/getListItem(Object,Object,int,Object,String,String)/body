{
  Object row=null;
  if (keycode == KeyEvent.VK_UP) {
    for (Object prev=get(component,itemname); prev != lead; prev=getNextItem(component,prev,leafname)) {
      row=prev;
    }
  }
 else   if (keycode == KeyEvent.VK_DOWN) {
    row=(lead == null) ? get(component,itemname) : getNextItem(component,lead,leafname);
  }
 else   if ((keycode == KeyEvent.VK_PAGE_UP) || (keycode == KeyEvent.VK_PAGE_DOWN)) {
    Rectangle view=getRectangle(scrollpane,":view");
    Rectangle port=getRectangle(scrollpane,":port");
    Rectangle rl=(lead != null) ? getRectangle(lead,"bounds") : null;
    int vy=(keycode == KeyEvent.VK_PAGE_UP) ? view.y : (view.y + port.height - 2);
    if ((keycode == KeyEvent.VK_PAGE_UP) && (rl != null) && (rl.y <= view.y)) {
      vy-=port.height - 2;
    }
    if ((keycode == KeyEvent.VK_PAGE_DOWN) && (rl != null) && (rl.y + rl.height >= view.y + port.height - 2)) {
      vy+=port.height - 2;
    }
    for (Object item=get(component,itemname); item != null; item=getNextItem(component,item,leafname)) {
      Rectangle r=getRectangle(item,"bounds");
      if (keycode == KeyEvent.VK_PAGE_UP) {
        row=item;
        if (r.y + r.height > vy) {
          break;
        }
      }
 else {
        if (r.y > vy) {
          break;
        }
        row=item;
      }
    }
  }
 else   if (keycode == KeyEvent.VK_HOME) {
    row=get(component,itemname);
  }
 else   if (keycode == KeyEvent.VK_END) {
    for (Object last=lead; last != null; last=getNextItem(component,last,leafname)) {
      row=last;
    }
  }
  return row;
}
