{
  super(model);
  if (!isSupported(type))   throw new IllegalArgumentException("Type is invalid " + type);
  myPsiMethod=psiMethod;
  myModel=model;
  myType=type;
  if (myPsiMethod != null) {
    setEnabled(true);
    myModel.addAll(getParameterWrappers());
    if (psiParameter != null) {
      for (Iterator iterator=myModel.iterator(); iterator.hasNext(); ) {
        ParameterWrapper wrapper=(ParameterWrapper)iterator.next();
        if (wrapper.getPsiParameter().equals(psiParameter))         setSelectedItem(wrapper);
      }
    }
  }
 else {
    setEnabled(false);
  }
}
