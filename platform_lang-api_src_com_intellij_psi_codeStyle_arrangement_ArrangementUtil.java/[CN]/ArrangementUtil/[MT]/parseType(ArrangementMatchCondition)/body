{
  final Ref<ArrangementSettingsToken> result=new Ref<ArrangementSettingsToken>();
  condition.invite(new ArrangementMatchConditionVisitor(){
    @Override public void visit(    @NotNull ArrangementAtomMatchCondition condition){
      if (StdArrangementTokens.EntryType.is(condition.getType())) {
        result.set(condition.getType());
      }
    }
    @Override public void visit(    @NotNull ArrangementCompositeMatchCondition condition){
      for (      ArrangementMatchCondition c : condition.getOperands()) {
        c.invite(this);
        if (result.get() != null) {
          return;
        }
      }
    }
  }
);
  return result.get();
}
