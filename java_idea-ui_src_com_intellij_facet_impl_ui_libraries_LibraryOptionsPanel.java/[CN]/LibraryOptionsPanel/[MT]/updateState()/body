{
  myMessageLabel.setIcon(null);
  String message="";
  boolean showConfigurePanel=true;
switch (myButtonEnumModel.getSelected()) {
case DOWNLOAD:
    message=getDownloadFilesMessage();
  break;
case USE_LIBRARY:
final Object item=myExistingLibraryComboBox.getSelectedItem();
if (item == null) {
myMessageLabel.setIcon(IconLoader.getIcon("/runConfigurations/configurationWarning.png"));
message="<b>Error:</b> library is not specified";
}
 else if (item instanceof NewLibraryEditor) {
final LibraryEditor libraryEditor=(LibraryEditor)item;
message=MessageFormat.format("{0} level library <b>{1}</b>" + " with {2} file(s) will be created",mySettings.getNewLibraryLevel(),libraryEditor.getName(),libraryEditor.getFiles(OrderRootType.CLASSES).length);
}
 else {
message=MessageFormat.format("<b>{0}</b> library will be used",((ExistingLibraryEditor)item).getName());
}
break;
default :
showConfigurePanel=false;
}
if (!showConfigurePanel && mySettings.getDownloadSettings() != null) {
message=getDownloadFilesMessage();
}
((CardLayout)myConfigurationPanel.getLayout()).show(myConfigurationPanel,showConfigurePanel ? "configure" : "empty");
myMessageLabel.setText("<html>" + message + "</html>");
}
