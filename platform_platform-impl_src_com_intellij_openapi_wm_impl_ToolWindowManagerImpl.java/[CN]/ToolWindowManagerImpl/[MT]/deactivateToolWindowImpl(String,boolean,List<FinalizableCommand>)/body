{
  if (LOG.isDebugEnabled()) {
    LOG.debug("enter: deactivateToolWindowImpl(" + id + ","+ shouldHide+ ")");
  }
  final WindowInfoImpl info=getInfo(id);
  if (shouldHide && info.isVisible()) {
    info.setVisible(false);
    if (info.isFloating()) {
      appendRemoveFloatingDecoratorCmd(info,commandsList);
    }
 else     if (info.isWindowed()) {
      appendRemoveWindowedDecoratorCmd(info,commandsList);
    }
 else {
      appendRemoveDecoratorCmd(id,false,commandsList);
    }
  }
  info.setActive(false);
  appendApplyWindowInfoCmd(info,commandsList);
}
