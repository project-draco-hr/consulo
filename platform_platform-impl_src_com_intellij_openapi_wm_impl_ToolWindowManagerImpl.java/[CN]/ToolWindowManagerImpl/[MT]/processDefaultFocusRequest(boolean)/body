{
  if (ModalityState.NON_MODAL.equals(ModalityState.current())) {
    final String activeId=getActiveToolWindowId();
    if (isEditorComponentActive() || activeId == null || getToolWindow(activeId) == null) {
      activateEditorComponent(forced,true);
    }
 else {
      activateToolWindow(activeId,forced,true);
    }
  }
  return new ActionCallback.Done();
}
