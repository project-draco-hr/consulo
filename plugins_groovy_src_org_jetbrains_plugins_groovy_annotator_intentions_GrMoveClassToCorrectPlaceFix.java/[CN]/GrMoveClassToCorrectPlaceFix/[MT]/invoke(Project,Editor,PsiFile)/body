{
  final GrTypeDefinition containingClass=PsiTreeUtil.getParentOfType(myClass,GrTypeDefinition.class);
  if (containingClass != null) {
    containingClass.add(myClass);
  }
 else {
    final PsiFile containingFile=myClass.getContainingFile();
    final PsiElement added=containingFile.add(myClass);
    final PsiElement prevSibling=added.getPrevSibling();
    if (prevSibling != null && prevSibling.getNode().getElementType() != GroovyTokenTypes.mNLS) {
      containingFile.getNode().addLeaf(GroovyTokenTypes.mNLS,"\n",added.getNode());
    }
  }
  myClass.delete();
}
