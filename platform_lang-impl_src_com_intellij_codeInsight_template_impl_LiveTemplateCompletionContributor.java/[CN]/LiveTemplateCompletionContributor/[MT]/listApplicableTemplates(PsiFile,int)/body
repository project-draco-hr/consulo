{
  final ArrayList<TemplateImpl> result=CollectionFactory.arrayList();
  for (  final TemplateImpl template : TemplateSettings.getInstance().getTemplates()) {
    if (!template.isDeactivated() && !template.isSelectionTemplate() && TemplateManagerImpl.isApplicable(file,offset,template)) {
      result.add(template);
    }
  }
  return result;
}
