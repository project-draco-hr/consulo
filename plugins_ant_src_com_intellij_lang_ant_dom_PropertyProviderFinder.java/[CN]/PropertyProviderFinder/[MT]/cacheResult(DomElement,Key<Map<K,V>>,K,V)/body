{
  if (context != null) {
    Map<K,V> cachemap=context.getUserData(cacheKind);
    if (cachemap == null) {
      context.putUserData(cacheKind,cachemap=Collections.synchronizedMap(new HashMap<K,V>()));
    }
    cachemap.put(key,value);
  }
}
