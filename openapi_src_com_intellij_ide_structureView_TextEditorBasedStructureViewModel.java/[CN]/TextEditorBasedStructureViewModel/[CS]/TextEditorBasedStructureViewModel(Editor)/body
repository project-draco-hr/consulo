{
  myEditor=editor;
  myCaretListener=new CaretListener(){
    public void caretPositionChanged(    CaretEvent e){
      if (Comparing.equal(e.getEditor(),myEditor)) {
        fireCaretPositionChanged();
      }
    }
    private void fireCaretPositionChanged(){
      for (      FileEditorPositionListener listener : myListeners) {
        listener.onCurrentElementChanged();
      }
    }
  }
;
  EditorFactory.getInstance().getEventMulticaster().addCaretListener(myCaretListener);
}
