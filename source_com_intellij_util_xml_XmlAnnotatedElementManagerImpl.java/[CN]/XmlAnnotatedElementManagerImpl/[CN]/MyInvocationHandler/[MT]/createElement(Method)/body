{
  final Class<?> returnType=method.getReturnType();
  if (XmlAnnotatedElement.class.isAssignableFrom(returnType)) {
    final String qname=getSubTagName(method);
    if (qname != null) {
      final XmlTag subTag=myTag.findFirstSubTag(qname);
      if (subTag != null) {
        createXmlAnnotatedElement((Class<XmlAnnotatedElement>)returnType,subTag);
        return;
      }
    }
  }
  final Class<? extends XmlAnnotatedElement> aClass=extractElementType(method.getGenericReturnType());
  if (aClass != null) {
    final String qname=getSubTagNameForCollection(method);
    if (qname != null) {
      for (      XmlTag xmlTag : myTag.findSubTags(qname)) {
        createXmlAnnotatedElement(aClass,xmlTag);
      }
    }
  }
}
