{
  List<String> filesToDelete=new ArrayList<String>();
  Set<String> outputPaths=createPathsHashSet();
  for (  ArtifactPackagingProcessingItem item : allProcessingItems) {
    for (    Pair<DestinationInfo,Boolean> destinationInfo : item.getDestinations()) {
      String outputPath=getOutputPathWithJarSeparator(destinationInfo.getFirst());
      outputPaths.add(outputPath);
    }
  }
  final Iterator<String> pathIterator=getOutputItemsCache(context.getProject()).getUrlsIterator();
  while (pathIterator.hasNext()) {
    String path=pathIterator.next();
    if (!outputPaths.contains(path)) {
      filesToDelete.add(path);
    }
  }
  if (LOG.isDebugEnabled()) {
    LOG.debug("Files to delete (" + filesToDelete.size() + "):");
    for (    String path : filesToDelete) {
      LOG.debug(path);
    }
  }
  if (filesToDelete.isEmpty()) {
    return false;
  }
  context.putUserData(FILES_TO_DELETE_KEY,filesToDelete);
  return true;
}
