{
  if (file.isDirectory()) {
    long startTime=System.currentTimeMillis();
    try {
      return file.findChild(MavenConstants.POM_XML) != null;
    }
  finally {
      long now=System.currentTimeMillis();
      int limit=ApplicationManager.getApplication().isInternal() ? 100 : 500;
      if (now - startTime > limit) {
        LOG.error("Finding pom.xml got " + (now - startTime) + "ms. See IDEA-71265. "+ file.getPath(),new Exception());
      }
    }
  }
 else {
    if (MavenConstants.POM_XML.equals(file.getName())) {
      return true;
    }
  }
  return false;
}
