{
  try {
    final Gson gson=new Gson();
    final InputStreamReader stream=new InputStreamReader(new Endpoint.Repositories(url).getRepositoryDetailsListJson(null).getInputStream());
    final ArtifactoryModel.RepositoryType[] repos=gson.fromJson(stream,ArtifactoryModel.RepositoryType[].class);
    final List<MavenRepositoryInfo> result=new ArrayList<MavenRepositoryInfo>(repos.length);
    for (    ArtifactoryModel.RepositoryType repo : repos) {
      result.add(convert(repo));
    }
    return result;
  }
 catch (  JsonSyntaxException e) {
    return Collections.emptyList();
  }
catch (  Exception e) {
    throw new IOException(e);
  }
}
