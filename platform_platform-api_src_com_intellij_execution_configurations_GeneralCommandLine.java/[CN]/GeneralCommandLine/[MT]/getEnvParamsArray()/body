{
  final Map<String,String> envParams=collectEnvParams();
  if (envParams == null)   return null;
  for (Iterator<String> iterator=envParams.keySet().iterator(); iterator.hasNext(); ) {
    final String key=iterator.next();
    if (envParams.get(key) == null) {
      LOG.info("null value for env variable: " + key);
      iterator.remove();
    }
  }
  final String[] result=new String[envParams.size()];
  int i=0;
  for (  final String key : envParams.keySet()) {
    result[i++]=key + "=" + envParams.get(key).trim();
  }
  return result;
}
