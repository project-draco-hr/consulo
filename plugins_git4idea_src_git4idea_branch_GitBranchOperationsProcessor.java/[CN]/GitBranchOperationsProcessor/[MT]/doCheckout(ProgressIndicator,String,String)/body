{
  GitMultiRootBranchConfig multiRootBranchConfig=new GitMultiRootBranchConfig(myRepositories);
  String currentBranch=multiRootBranchConfig.getCurrentBranch();
  LOG.assertTrue(currentBranch != null,"Repositories have unexpectedly diverged. " + multiRootBranchConfig);
  GitMultiRootOperationExecutor executor=new GitMultiRootOperationExecutor(myProject,myRepositories);
  GitCheckoutOperation operation=new GitCheckoutOperation(myProject,myRepositories,reference,newBranch,currentBranch,executor,indicator);
  executor.execute(operation);
}
