{
  if (editor.isOneLineMode())   return null;
  if (!CodeInsightSettings.getInstance().HIGHLIGHT_IDENTIFIER_UNDER_CARET) {
    return null;
  }
  if (!TargetElementUtilBase.inVirtualSpace(editor,editor.getCaretModel().getOffset())) {
    return null;
  }
  return new IdentifierHighlighterPass(file.getProject(),file,editor);
}
