{
  if (component == null) {
    throw new IllegalArgumentException("component cannot be null");
  }
  if (bundleName == null) {
    throw new IllegalArgumentException("bundleName cannot be null");
  }
  if (key == null) {
    throw new IllegalArgumentException("key cannot be null");
  }
  final String text=getResourceString(bundleName,key);
  final TextWithMnemonic textWithMnemonic=SupportCode.parseText(text);
  if (component instanceof JLabel) {
    final JLabel label=(JLabel)component;
    label.setText(textWithMnemonic.myText);
    if (textWithMnemonic.myMnemonicIndex != -1) {
      label.setDisplayedMnemonic(textWithMnemonic.getMnemonicChar());
      setDisplayedMnemonicIndex(label,textWithMnemonic.myMnemonicIndex);
    }
  }
 else   if (component instanceof AbstractButton) {
    final AbstractButton button=(AbstractButton)component;
    button.setText(textWithMnemonic.myText);
    if (textWithMnemonic.myMnemonicIndex != -1) {
      button.setMnemonic(textWithMnemonic.getMnemonicChar());
      setDisplayedMnemonicIndex(button,textWithMnemonic.myMnemonicIndex);
    }
  }
 else {
    throw new IllegalArgumentException("unexpected class: " + component.getClass());
  }
}
