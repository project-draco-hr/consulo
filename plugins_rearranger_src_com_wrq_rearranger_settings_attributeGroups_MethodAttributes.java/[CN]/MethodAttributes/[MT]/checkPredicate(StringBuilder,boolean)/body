{
  if (predicateAdded && nextPredicate != null) {
    buffer.append(',');
    if (finalPredicate) {
      buffer.append(" and");
    }
  }
  if (nextPredicate != null) {
    buffer.append(' ');
    buffer.append(nextPredicate);
    predicateAdded=true;
    nextPredicate=null;
  }
}
