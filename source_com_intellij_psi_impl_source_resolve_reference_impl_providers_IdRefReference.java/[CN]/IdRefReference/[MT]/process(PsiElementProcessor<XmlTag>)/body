{
  final PsiFile psiFile=getElement().getContainingFile();
  CachedValue<List<XmlTag>> value=psiFile.getUserData(ourBeansCachedValueKey);
  if (value == null) {
    value=psiFile.getManager().getCachedValuesManager().createCachedValue(new CachedValueProvider<List<XmlTag>>(){
      public Result<List<XmlTag>> compute(){
        final List<XmlTag> result=new LinkedList<XmlTag>();
        psiFile.acceptChildren(new PsiRecursiveElementVisitor(){
          public void visitXmlTag(          XmlTag tag){
            if (isAcceptableTagType(tag))             result.add(tag);
            super.visitXmlTag(tag);
          }
        }
);
        return new Result<List<XmlTag>>(result,psiFile);
      }
    }
,false);
    psiFile.putUserData(ourBeansCachedValueKey,value);
  }
  for (  XmlTag tag : value.getValue()) {
    if (!processor.execute(tag))     return;
  }
}
