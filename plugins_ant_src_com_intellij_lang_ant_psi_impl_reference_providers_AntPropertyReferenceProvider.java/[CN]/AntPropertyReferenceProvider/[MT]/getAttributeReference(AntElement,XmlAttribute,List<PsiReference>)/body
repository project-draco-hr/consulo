{
  final AntFile antFile=element.getAntFile();
  final String value=attr.getValue();
  if (value == null) {
    return;
  }
  if (antFile.isEnvironmentProperty(value) && antFile.getProperty(value) == null) {
    return;
  }
  final XmlAttributeValue xmlAttributeValue=attr.getValueElement();
  if (xmlAttributeValue != null) {
    final int offsetInPosition=xmlAttributeValue.getTextRange().getStartOffset() - element.getTextRange().getStartOffset() + 1;
    refs.add(new AntPropertyReference(this,element,value,new TextRange(offsetInPosition,offsetInPosition + value.length()),attr){
      public boolean shouldBeSkippedByAnnotator(){
        return getCanonicalText().length() > 0;
      }
      public String getUnresolvedMessagePattern(){
        return AntBundle.message("please.specify.a.property");
      }
    }
);
  }
}
