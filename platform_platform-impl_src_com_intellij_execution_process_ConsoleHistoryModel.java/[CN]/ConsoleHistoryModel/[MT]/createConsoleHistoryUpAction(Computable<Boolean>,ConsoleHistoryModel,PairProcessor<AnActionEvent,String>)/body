{
  final AnAction upAction=new AnAction(){
    @Override public void actionPerformed(    final AnActionEvent e){
      processor.process(e,model.getHistoryNext());
    }
    @Override public void update(    final AnActionEvent e){
      final boolean hasHistory=model.hasHistory(true);
      if (!hasHistory) {
        e.getPresentation().setEnabled(false);
        return;
      }
      e.getPresentation().setEnabled(!canMoveUpInEditor.compute());
    }
  }
;
  upAction.registerCustomShortcutSet(KeyEvent.VK_UP,0,null);
  upAction.getTemplatePresentation().setVisible(false);
  return upAction;
}
