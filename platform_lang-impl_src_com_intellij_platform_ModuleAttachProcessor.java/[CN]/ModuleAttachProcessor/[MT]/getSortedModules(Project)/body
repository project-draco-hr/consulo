{
  List<Module> result=new ArrayList<Module>();
  final Module primaryModule=getPrimaryModule(project);
  final Module[] modules=ModuleManager.getInstance(project).getModules();
  for (  Module module : modules) {
    if (module != primaryModule) {
      result.add(module);
    }
  }
  Collections.sort(result,new Comparator<Module>(){
    @Override public int compare(    Module module,    Module module2){
      return module.getName().compareTo(module2.getName());
    }
  }
);
  if (primaryModule != null) {
    result.add(0,primaryModule);
  }
  return result;
}
