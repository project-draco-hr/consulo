{
  List<Module> result=new ArrayList<Module>();
  final Module primaryModule=getPrimaryModule(project);
  if (primaryModule != null) {
    result.add(primaryModule);
  }
  final Module[] modules=ModuleManager.getInstance(project).getModules();
  for (  Module module : modules) {
    if (module != primaryModule) {
      result.add(module);
    }
  }
  return result;
}
