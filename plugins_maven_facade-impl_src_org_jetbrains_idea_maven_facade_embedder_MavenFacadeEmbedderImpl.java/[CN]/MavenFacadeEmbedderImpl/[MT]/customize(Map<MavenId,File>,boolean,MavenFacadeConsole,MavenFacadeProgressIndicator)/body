{
  try {
    ((CustomArtifactFactory)getComponent(ArtifactFactory.class)).customize();
    ((CustomArtifactFactory)getComponent(ProjectArtifactFactory.class)).customize();
    ((CustomArtifactResolver)getComponent(ArtifactResolver.class)).customize(projectIdToFileMap,failOnUnresolvedDependency);
    ((CustomRepositoryMetadataManager)getComponent(RepositoryMetadataManager.class)).customize(projectIdToFileMap);
    ((CustomWagonManager)getComponent(WagonManager.class)).customize(failOnUnresolvedDependency);
    setConsoleAndIndicator(console,indicator);
  }
 catch (  Exception e) {
    throw rethrowException(e);
  }
}
