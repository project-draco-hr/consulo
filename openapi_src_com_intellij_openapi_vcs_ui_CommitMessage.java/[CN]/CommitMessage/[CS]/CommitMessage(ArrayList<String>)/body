{
  super(new BorderLayout());
  add(new JScrollPane(myCommentArea),BorderLayout.CENTER);
  add(new JLabel("Comment:"),BorderLayout.NORTH);
  if (!recentMessages.isEmpty()) {
    add(myRecentMessages,BorderLayout.SOUTH);
    myRecentMessages.addItem(new RecentMessage(false,"<Recent messages>",null));
    for (Iterator<String> iterator=recentMessages.iterator(); iterator.hasNext(); ) {
      String s=iterator.next();
      myRecentMessages.addItem(new RecentMessage(true,createPresentation(s),s));
    }
    myRecentMessages.setRenderer(new ColoredListCellRenderer(){
      protected void customizeCellRenderer(      JList list,      Object value,      int index,      boolean selected,      boolean hasFocus){
        if (value instanceof RecentMessage) {
          append(((RecentMessage)value).getPresentation(),SimpleTextAttributes.REGULAR_ATTRIBUTES);
        }
      }
    }
);
    myRecentMessages.addActionListener(new ActionListener(){
      public void actionPerformed(      ActionEvent e){
        final Object selectedItem=myRecentMessages.getSelectedItem();
        if (selectedItem instanceof RecentMessage && ((RecentMessage)selectedItem).canBeInserted) {
          setText(((RecentMessage)selectedItem).getValue());
        }
      }
    }
);
  }
}
