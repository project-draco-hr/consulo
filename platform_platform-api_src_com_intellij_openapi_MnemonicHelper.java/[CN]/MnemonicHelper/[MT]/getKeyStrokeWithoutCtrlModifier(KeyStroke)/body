{
  try {
    Method method=AWTKeyStroke.class.getDeclaredMethod("getCachedStroke",char.class,int.class,int.class,boolean.class);
    method.setAccessible(true);
    int modifiers=stroke.getModifiers() & ~InputEvent.CTRL_MASK & ~InputEvent.CTRL_DOWN_MASK;
    return (KeyStroke)method.invoke(null,stroke.getKeyChar(),stroke.getKeyCode(),modifiers,stroke.isOnKeyRelease());
  }
 catch (  Exception exception) {
    throw new IllegalStateException(exception);
  }
}
