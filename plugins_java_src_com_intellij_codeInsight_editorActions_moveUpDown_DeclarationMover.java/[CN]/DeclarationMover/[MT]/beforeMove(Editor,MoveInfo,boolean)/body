{
  super.beforeMove(editor,info,down);
  if (myEnumToInsertSemicolonAfter != null) {
    TreeElement semicolon=Factory.createSingleLeafElement(JavaTokenType.SEMICOLON,";",0,1,null,myEnumToInsertSemicolonAfter.getManager());
    try {
      PsiElement inserted=myEnumToInsertSemicolonAfter.getParent().addAfter(semicolon.getPsi(),myEnumToInsertSemicolonAfter);
      inserted=CodeInsightUtilBase.forcePsiPostprocessAndRestoreElement(inserted);
      final LogicalPosition position=editor.offsetToLogicalPosition(inserted.getTextRange().getEndOffset());
      info.toMove2=new LineRange(position.line + 1,position.line + 1);
    }
 catch (    IncorrectOperationException e) {
      LOG.error(e);
    }
 finally {
      myEnumToInsertSemicolonAfter=null;
    }
  }
}
