{
  if (inspection == null)   return;
  DomElementAnnotationsManagerImpl annotationsManager=getAnnotationsManager(fileElement);
  if (DomElementAnnotationsManagerImpl.isHolderUpToDate(fileElement) && annotationsManager.getProblemHolder(fileElement).isInspectionCompleted(inspection))   return;
  final DomElementAnnotationHolderImpl annotationHolder=new DomElementAnnotationHolderImpl();
  inspection.checkFileElement(fileElement,annotationHolder);
  annotationsManager.appendProblems(fileElement,annotationHolder,inspection.getClass());
  for (  final DomElementProblemDescriptor descriptor : annotationHolder) {
    toFill.addAll(descriptor.getAnnotations());
  }
  toFill.addAll(annotationHolder.getAnnotations());
}
