{
  GradleProject projectToUse=gradleProject;
  for (  GradleProjectStructureChangesPreProcessor preProcessor : myPreProcessors) {
    projectToUse=preProcessor.preProcess(projectToUse,myProject);
  }
  myGradleProject.set(projectToUse);
  final GradleChangesCalculationContext context=getCurrentChangesContext(projectToUse,onIdeProjectStructureChange);
  if (!context.hasNewChanges()) {
    return;
  }
  myChanges.set(context.getCurrentChanges());
  for (  GradleProjectStructureChangeListener listener : myListeners) {
    listener.onChanges(context.getKnownChanges(),context.getCurrentChanges());
  }
}
