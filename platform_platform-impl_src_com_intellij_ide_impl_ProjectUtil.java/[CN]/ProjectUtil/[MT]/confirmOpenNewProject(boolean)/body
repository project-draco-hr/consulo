{
  final GeneralSettings settings=GeneralSettings.getInstance();
  if (settings.getConfirmOpenNewProject() == GeneralSettings.OPEN_PROJECT_ASK) {
    if (isNewProject) {
      Messages.showYesNoDialog(IdeBundle.message("prompt.open.project.in.new.frame"),IdeBundle.message("title.new.project"),IdeBundle.message("button.existingframe"),IdeBundle.message("button.newframe"),Messages.getQuestionIcon(),new ProjectNewWindowDoNotAskOption());
    }
 else {
      return Messages.showYesNoCancelDialog(IdeBundle.message("prompt.open.project.in.new.frame"),IdeBundle.message("title.open.project"),IdeBundle.message("button.existingframe"),IdeBundle.message("button.newframe"),CommonBundle.getCancelButtonText(),Messages.getQuestionIcon(),new ProjectNewWindowDoNotAskOption());
    }
  }
  return settings.getConfirmOpenNewProject();
}
