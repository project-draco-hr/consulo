{
  final GeneralSettings settings=GeneralSettings.getInstance();
  if (settings.getConfirmOpenNewProject() == GeneralSettings.OPEN_PROJECT_ASK) {
    return Messages.showYesNoCancelDialog(IdeBundle.message("prompt.open.project.in.new.frame"),isNewProject ? IdeBundle.message("title.new.project") : IdeBundle.message("title.open.project"),IdeBundle.message("button.existingframe"),IdeBundle.message("button.newframe"),CommonBundle.getCancelButtonText(),Messages.getQuestionIcon(),new ProjectNewWindowDoNotAskOption());
  }
  return settings.getConfirmOpenNewProject();
}
