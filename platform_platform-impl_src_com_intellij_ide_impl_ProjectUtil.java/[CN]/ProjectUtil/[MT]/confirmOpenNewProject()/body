{
  final GeneralSettings settings=GeneralSettings.getInstance();
  if (settings.getConfirmOpenNewProject() == GeneralSettings.OPEN_PROJECT_ASK) {
    return Messages.showYesNoCancelDialog(IdeBundle.message("prompt.open.project.in.new.frame"),IdeBundle.message("title.open.project"),IdeBundle.message("button.newframe"),IdeBundle.message("button.existingframe"),CommonBundle.getCancelButtonText(),Messages.getQuestionIcon(),new ProjectNewWindowDoNotAskOption());
  }
 else {
    return settings.getConfirmOpenNewProject();
  }
}
