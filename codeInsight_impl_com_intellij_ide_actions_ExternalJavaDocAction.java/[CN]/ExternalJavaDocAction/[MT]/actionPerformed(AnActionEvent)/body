{
  DataContext dataContext=e.getDataContext();
  Project project=DataKeys.PROJECT.getData(dataContext);
  if (project == null) {
    return;
  }
  PsiElement element=DataKeys.PSI_ELEMENT.getData(dataContext);
  if (element == null) {
    Messages.showMessageDialog(project,IdeBundle.message("message.please.select.element.for.javadoc"),IdeBundle.message("title.no.element.selected"),Messages.getErrorIcon());
    return;
  }
  PsiFile context=DataKeys.PSI_FILE.getData(dataContext);
  Editor editor=DataKeys.EDITOR.getData(dataContext);
  PsiElement originalElement=(context != null && editor != null) ? context.findElementAt(editor.getCaretModel().getOffset()) : null;
  try {
    element.putUserData(JavaDocManager.ORIGINAL_ELEMENT_KEY,SmartPointerManager.getInstance(originalElement.getProject()).createSmartPsiElementPointer(originalElement));
  }
 catch (  RuntimeException ex) {
  }
  JavaDocManager.getInstance(project).openJavaDoc(element);
}
