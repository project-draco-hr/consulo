{
  String selectedItem=(String)myForkCb.getSelectedItem();
  if (selectedItem == null) {
    selectedItem=NONE;
  }
  if (myAllInPackageButton.isSelected()) {
    myPackagePanel.setVisible(true);
    myPattern.setVisible(false);
    myClass.setVisible(false);
    myMethod.setVisible(false);
    myDir.setVisible(false);
    myForkCb.setEnabled(true);
    myForkCb.setModel(new DefaultComboBoxModel(FORK_MODE_ALL));
    myForkCb.setSelectedItem(selectedItem);
  }
 else   if (myTestDirButton.isSelected()) {
    myPackagePanel.setVisible(false);
    myDir.setVisible(true);
    myPattern.setVisible(false);
    myClass.setVisible(false);
    myMethod.setVisible(false);
    myForkCb.setEnabled(true);
    myForkCb.setModel(new DefaultComboBoxModel(FORK_MODE_ALL));
    myForkCb.setSelectedItem(selectedItem);
  }
 else   if (myClassButton.isSelected()) {
    myPackagePanel.setVisible(false);
    myPattern.setVisible(false);
    myDir.setVisible(false);
    myClass.setVisible(true);
    myMethod.setVisible(false);
    myForkCb.setEnabled(true);
    myForkCb.setModel(new DefaultComboBoxModel(FORK_MODE));
    myForkCb.setSelectedItem(selectedItem != KLASS ? selectedItem : METHOD);
  }
 else   if (myTestMethodButton.isSelected()) {
    myPackagePanel.setVisible(false);
    myPattern.setVisible(false);
    myDir.setVisible(false);
    myClass.setVisible(true);
    myMethod.setVisible(true);
    myForkCb.setEnabled(false);
    myForkCb.setSelectedItem(NONE);
  }
 else {
    myPackagePanel.setVisible(false);
    myPattern.setVisible(true);
    myDir.setVisible(false);
    myClass.setVisible(false);
    myMethod.setVisible(false);
    myForkCb.setEnabled(true);
    myForkCb.setModel(new DefaultComboBoxModel(FORK_MODE_ALL));
    myForkCb.setSelectedItem(selectedItem);
  }
}
