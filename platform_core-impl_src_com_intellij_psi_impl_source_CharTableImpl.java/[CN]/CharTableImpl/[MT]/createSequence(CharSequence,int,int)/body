{
  if (text instanceof String) {
    return ((String)text).substring(startOffset,endOffset);
  }
  char[] buf=new char[endOffset - startOffset];
  CharArrayUtil.getChars(text,buf,startOffset,0,buf.length);
  return StringFactory.createShared(buf);
}
