{
  List<Annotator> annotators=cachedAnnotators.get(element.getLanguage());
  if (annotators.isEmpty())   return;
  final boolean dumb=DumbService.getInstance(myProject).isDumb();
  JobUtil.invokeConcurrentlyUnderMyProgress(annotators,new Processor<Annotator>(){
    public boolean process(    Annotator annotator){
      if (dumb && !(annotator instanceof DumbAware)) {
        return true;
      }
      annotator.annotate(element,annotationHolder);
      return true;
    }
  }
,"annotators");
synchronized (annotationHolder) {
    if (annotationHolder.hasAnnotations()) {
      for (      Annotation annotation : annotationHolder) {
        holder.add(HighlightInfo.fromAnnotation(annotation));
      }
      annotationHolder.clear();
    }
  }
}
