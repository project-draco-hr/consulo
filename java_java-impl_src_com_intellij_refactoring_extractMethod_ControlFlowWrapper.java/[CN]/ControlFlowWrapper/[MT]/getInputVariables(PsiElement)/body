{
  final List<PsiVariable> inputVariables=ControlFlowUtil.getInputVariables(myControlFlow,myFlowStart,myFlowEnd);
  List<PsiVariable> myInputVariables;
  if (myGenerateConditionalExit) {
    List<PsiVariable> inputVariableList=new ArrayList<PsiVariable>(inputVariables);
    removeParametersUsedInExitsOnly(codeFragment,inputVariableList);
    myInputVariables=inputVariableList;
  }
 else {
    myInputVariables=inputVariables;
  }
  Collections.sort(myInputVariables,new Comparator<PsiVariable>(){
    public int compare(    final PsiVariable v1,    final PsiVariable v2){
      if (v1.getType() instanceof PsiEllipsisType) {
        return 1;
      }
      if (v2.getType() instanceof PsiEllipsisType) {
        return -1;
      }
      return v1.getTextOffset() - v2.getTextOffset();
    }
  }
);
  return myInputVariables;
}
