{
  processor.setAllWhiteSpacesAreReadOnly();
  whiteSpace.setLineFeedsAreReadOnly(true);
  final IndentInfo indent;
  if (hasContentAfterLineBreak(documentModel,offset,whiteSpace)) {
    whiteSpace.setReadOnly(false);
    processor.formatWithoutRealModifications();
    indent=new IndentInfo(0,whiteSpace.getIndentOffset(),whiteSpace.getSpaces());
  }
 else {
    indent=processor.getIndentAt(offset);
  }
  return indent;
}
