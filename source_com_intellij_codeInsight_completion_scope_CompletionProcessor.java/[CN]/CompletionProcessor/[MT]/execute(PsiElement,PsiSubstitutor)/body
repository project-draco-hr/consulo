{
  if (!(element instanceof PsiClass) && element instanceof PsiModifierListOwner) {
    PsiModifierListOwner modifierListOwner=(PsiModifierListOwner)element;
    if (myStatic) {
      if (!modifierListOwner.hasModifierProperty(PsiModifier.STATIC)) {
        return true;
      }
    }
 else {
      if (!mySettings.SHOW_STATIC_AFTER_INSTANCE && modifierListOwner.hasModifierProperty(PsiModifier.STATIC) && !myMembersFlag) {
        return true;
      }
    }
  }
  final PsiElement elementParent=myElement.getParent();
  if (element instanceof PsiPackage) {
    if (!mySettings.LIST_PACKAGES_IN_CODE && myScope instanceof PsiClass) {
      if (!(elementParent instanceof PsiJavaCodeReferenceElement && ((PsiJavaCodeReferenceElement)elementParent).isQualified())) {
        return true;
      }
    }
  }
  PsiResolveHelper resolveHelper=myElement.getManager().getResolveHelper();
  if (!(element instanceof PsiMember) || resolveHelper.isAccessible(((PsiMember)element),myElement,myQualifierClass)) {
    final String name=PsiUtil.getName(element);
    if (name != null && (CompletionUtil.checkName(name,myPrefix) || myMatcher.reset(name).matches()) && myFilter.isClassAcceptable(element.getClass()) && myFilter.isAcceptable(new CandidateInfo(element,substitutor),myElement))     add(new CompletionElement(myQualifierType,element,substitutor));
  }
  return true;
}
