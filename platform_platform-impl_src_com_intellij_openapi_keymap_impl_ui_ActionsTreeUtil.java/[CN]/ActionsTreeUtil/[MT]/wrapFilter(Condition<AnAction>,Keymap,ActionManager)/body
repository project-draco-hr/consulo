{
  if (Registry.is("keymap.show.alias.actions"))   return filter;
  return new Condition<AnAction>(){
    @Override public boolean value(    final AnAction action){
      if (action == null)       return false;
      final String id=action instanceof ActionStub ? ((ActionStub)action).getId() : actionManager.getId(action);
      if (id != null) {
        boolean actionBound=isActionBound(keymap,id);
        return filter == null ? !actionBound : !actionBound && filter.value(action);
      }
      return filter == null ? true : filter.value(action);
    }
  }
;
}
