{
  super(new InitialPatternCondition<Object>(Object.class){
    public boolean accepts(    @Nullable final Object o,    final ProcessingContext context){
      return filter == null || o != null && filter.isClassAcceptable(o.getClass()) && filter.isAcceptable(o,o instanceof PsiElement ? (PsiElement)o : null);
    }
  }
);
  myFilter=filter;
}
