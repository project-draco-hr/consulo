{
  final ArrayList<ParameterTablePanel.VariableData> inputData=new ArrayList<ParameterTablePanel.VariableData>(inputVariables.size());
  for (  PsiVariable var : inputVariables) {
    String name=var.getName();
    if (!(var instanceof PsiParameter)) {
      JavaCodeStyleManager codeStyleManager=JavaCodeStyleManager.getInstance(myProject);
      VariableKind kind=codeStyleManager.getVariableKind(var);
      name=codeStyleManager.variableNameToPropertyName(name,kind);
      name=codeStyleManager.propertyNameToVariableName(name,VariableKind.PARAMETER);
    }
    PsiType type=var.getType();
    if (type instanceof PsiEllipsisType) {
      type=((PsiEllipsisType)type).toArrayType();
    }
    ParameterTablePanel.VariableData data=new ParameterTablePanel.VariableData(var,type);
    data.name=name;
    data.passAsParameter=true;
    inputData.add(data);
    if (myFoldingAvailable)     myFolding.isParameterFoldable(data,myScope,inputVariables);
  }
  if (myFoldingAvailable) {
    final Set<ParameterTablePanel.VariableData> toDelete=new HashSet<ParameterTablePanel.VariableData>();
    for (int i=inputData.size() - 1; i >= 0; i--) {
      final ParameterTablePanel.VariableData data=inputData.get(i);
      if (myFolding.isParameterSafeToDelete(data,myScope)) {
        toDelete.add(data);
      }
    }
    inputData.removeAll(toDelete);
  }
  return inputData;
}
