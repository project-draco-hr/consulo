{
  if (flow.getEndOffset(ifStatement) == flow.getEndOffset(thenBranch)) {
    if (thenBranch instanceof PsiContinueStatement) {
      PsiStatement elseBranch=ifStatement.getElseBranch();
      if (elseBranch != null) {
        elseBranch.delete();
      }
      return;
    }
 else     if (thenBranch instanceof PsiBlockStatement) {
      PsiStatement[] statements=((PsiBlockStatement)thenBranch).getCodeBlock().getStatements();
      if (statements.length > 0 && statements[statements.length - 1] instanceof PsiContinueStatement) {
        statements[statements.length - 1].delete();
      }
    }
  }
  ifStatement.setElseBranch(thenBranch);
}
