{
  if (isPathNameSyncEnabled() && (myForceSync || !myIsNameChangedByUser)) {
    try {
      setNamePathSyncEnabled(false);
      final String path=getText(0,getLength());
      final int lastSeparatorIndex=path.lastIndexOf(File.separator);
      if (lastSeparatorIndex >= 0 && (lastSeparatorIndex + 1) < path.length()) {
        setNameValue(path.substring(lastSeparatorIndex + 1));
      }
    }
 catch (    BadLocationException e) {
      LOG.error(e);
    }
 finally {
      setNamePathSyncEnabled(true);
    }
  }
}
