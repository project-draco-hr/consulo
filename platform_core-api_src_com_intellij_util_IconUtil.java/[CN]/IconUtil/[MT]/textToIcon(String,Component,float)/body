{
  final Font font=JBFont.create(JBUI.Fonts.label().deriveFont(fontSize));
  FontMetrics metrics=component.getFontMetrics(font);
  final int width=metrics.stringWidth(text) + JBUI.scale(4);
  final int height=metrics.getHeight();
  return new Icon(){
    @Override public void paintIcon(    Component c,    Graphics g,    int x,    int y){
      g=g.create();
      try {
        GraphicsUtil.setupAntialiasing(g);
        g.setFont(font);
        UIUtil.drawStringWithHighlighting(g,text,x + JBUI.scale(2),y + height - JBUI.scale(1),JBColor.foreground(),JBColor.background());
      }
  finally {
        g.dispose();
      }
    }
    @Override public int getIconWidth(){
      return width;
    }
    @Override public int getIconHeight(){
      return height;
    }
  }
;
}
