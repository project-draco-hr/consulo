{
  final List<? extends RootDetector> detectors=getRootDetectors();
  if (detectors.isEmpty()) {
    throw new IllegalStateException("Detectors list is empty for " + this);
  }
  return new LibraryRootsDetectorImpl(detectors);
}
