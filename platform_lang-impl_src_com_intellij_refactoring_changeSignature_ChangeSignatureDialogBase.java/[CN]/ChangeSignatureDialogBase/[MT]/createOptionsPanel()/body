{
  final JPanel panel=new JPanel(new BorderLayout());
  if (myAllowDelegation) {
    myDelegationPanel=createDelegationPanel();
    panel.add(myDelegationPanel,BorderLayout.WEST);
  }
  myPropagateParamChangesButton=new AnActionButton(RefactoringBundle.message("changeSignature.propagate.parameters.title"),null,PlatformIcons.NEW_PARAMETER){
    @Override public void actionPerformed(    AnActionEvent e){
      final Ref<CallerChooserBase<M>> chooser=new Ref<CallerChooserBase<M>>();
      Consumer<Set<M>> callback=new Consumer<Set<M>>(){
        @Override public void consume(        Set<M> callers){
          myMethodsToPropagateParameters=callers;
          myParameterPropagationTreeToReuse=chooser.get().getTree();
        }
      }
;
      try {
        chooser.set(createCallerChooser(RefactoringBundle.message("changeSignature.parameter.caller.chooser"),myParameterPropagationTreeToReuse,callback));
      }
 catch (      ProcessCanceledException ex) {
        return;
      }
      chooser.get().show();
    }
  }
;
  final JPanel result=new JPanel(new VerticalFlowLayout(VerticalFlowLayout.TOP));
  result.add(panel);
  return result;
}
