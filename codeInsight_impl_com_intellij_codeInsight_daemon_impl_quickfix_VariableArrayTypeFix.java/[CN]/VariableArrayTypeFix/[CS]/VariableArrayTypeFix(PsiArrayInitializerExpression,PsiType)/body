{
  PsiArrayType arrayType=new PsiArrayType(componentType);
  PsiArrayInitializerExpression arrayInitializer=initializer;
  while (arrayInitializer.getParent() instanceof PsiArrayInitializerExpression) {
    arrayInitializer=(PsiArrayInitializerExpression)arrayInitializer.getParent();
    arrayType=new PsiArrayType(arrayType);
  }
  myInitializer=arrayInitializer;
  myTargetType=arrayType;
  PsiNewExpression newExpressionLocal=null;
  PsiVariable variableLocal=null;
  final PsiElement parent=myInitializer.getParent();
  if (parent instanceof PsiVariable) {
    variableLocal=(PsiVariable)parent;
  }
 else   if (parent instanceof PsiNewExpression) {
    newExpressionLocal=(PsiNewExpression)parent;
    final PsiElement newParent=newExpressionLocal.getParent();
    if (newParent instanceof PsiAssignmentExpression) {
      variableLocal=getFromAssignment((PsiAssignmentExpression)newParent);
    }
 else     if (newParent instanceof PsiVariable) {
      variableLocal=(PsiVariable)newParent;
    }
  }
 else   if (parent instanceof PsiAssignmentExpression) {
    variableLocal=getFromAssignment((PsiAssignmentExpression)parent);
  }
  myNewExpression=newExpressionLocal;
  myVariable=variableLocal;
}
