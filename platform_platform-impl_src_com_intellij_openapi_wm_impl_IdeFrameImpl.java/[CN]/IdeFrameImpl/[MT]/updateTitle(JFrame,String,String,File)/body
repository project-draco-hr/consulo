{
  if (myUpdatingTitle)   return;
  try {
    myUpdatingTitle=true;
    final StringBuilder sb=new StringBuilder();
    if (title != null && title.length() > 0) {
      sb.append(title);
    }
    if (fileTitle != null && fileTitle.length() > 0) {
      sb.append(" - ").append(fileTitle);
    }
    frame.getRootPane().putClientProperty("Window.documentFile",currentFile);
    if (!SystemInfo.isMac || ProjectManager.getInstance().getOpenProjects().length == 0) {
      if (sb.length() > 0)       sb.append(" - ");
      sb.append(((ApplicationInfoEx)ApplicationInfo.getInstance()).getFullApplicationName());
    }
    frame.setTitle(sb.toString());
  }
  finally {
    myUpdatingTitle=false;
  }
}
