{
  int state=getExtendedState();
  if (!WindowManager.getInstance().isFullScreenSupportedInCurrentOS() || !SystemInfo.isWindows || myRootPane == null) {
    return;
  }
  myRootPane.setBorder(null);
  boolean isNotClassic=Boolean.parseBoolean(String.valueOf(Toolkit.getDefaultToolkit().getDesktopProperty("win.xpstyle.themeActive")));
  if (isNotClassic && (state & MAXIMIZED_BOTH) != 0) {
    IdeFrame[] projectFrames=WindowManager.getInstance().getAllProjectFrames();
    GraphicsDevice device=ScreenUtil.getScreenDevice(getBounds());
    for (    IdeFrame frame : projectFrames) {
      if (frame == this)       continue;
      if (((IdeFrameImpl)frame).isInFullScreen() && ScreenUtil.getScreenDevice(((IdeFrameImpl)frame).getBounds()) == device) {
        Insets insets=ScreenUtil.getScreenInsets(device.getDefaultConfiguration());
        int mask=SideBorder.NONE;
        if (insets.top != 0)         mask|=SideBorder.TOP;
        if (insets.left != 0)         mask|=SideBorder.LEFT;
        if (insets.bottom != 0)         mask|=SideBorder.BOTTOM;
        if (insets.right != 0)         mask|=SideBorder.RIGHT;
        myRootPane.setBorder(new SideBorder(JBColor.BLACK,mask,3));
        break;
      }
    }
  }
}
