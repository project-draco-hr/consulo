{
  super(applicationInfoEx.getFullApplicationName());
  myRootPane=createRootPane(actionManager,uiSettings,dataManager,application);
  setRootPane(myRootPane);
  setBackground(UIUtil.getPanelBackground());
  AppUIUtil.updateWindowIcon(this);
  final Dimension size=ScreenUtil.getMainScreenBounds().getSize();
  size.width-=20;
  size.height-=40;
  setSize(size);
  setLocationRelativeTo(null);
  LayoutFocusTraversalPolicyExt layoutFocusTraversalPolicy=new LayoutFocusTraversalPolicyExt();
  setFocusTraversalPolicy(layoutFocusTraversalPolicy);
  setupCloseAction();
  new MnemonicHelper().register(this);
  myBalloonLayout=new BalloonLayoutImpl(myRootPane.getLayeredPane(),new Insets(8,8,8,8));
  if (!Registry.is("ide.windowSystem.focusAppOnStartup") && !isThereActiveFrame()) {
    setFocusableWindowState(false);
  }
  if (SystemInfo.isMac)   setIconImage(null);
  MouseGestureManager.getInstance().add(this);
  myFrameDecorator=IdeFrameDecorator.decorate(this);
}
