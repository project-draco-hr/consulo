{
  super(applicationInfoEx.getFullApplicationName());
  myRootPane=new IdeRootPane(actionManager,uiSettings,dataManager,application,commandLineArgs,this);
  setRootPane(myRootPane);
  AppUIUtil.updateFrameIcon(this);
  final Dimension screenSize=Toolkit.getDefaultToolkit().getScreenSize();
  setBounds(10,10,screenSize.width - 20,screenSize.height - 40);
  myLayoutFocusTraversalPolicy=new LayoutFocusTraversalPolicyExt();
  setFocusTraversalPolicy(myLayoutFocusTraversalPolicy);
  setupCloseAction();
  new MnemonicHelper().register(this);
  myBalloonLayout=new BalloonLayout(myRootPane.getLayeredPane(),new Insets(8,8,8,8));
  if (!Registry.is("ide.windowSystem.focusAppOnStartup") && !isThereActiveFrame()) {
    setFocusableWindowState(false);
  }
  if (SystemInfo.isMac)   setIconImage(null);
  if (SystemInfo.isMacOSLion)   FullScreenUtilities.setWindowCanFullScreen(this,true);
  MouseGestureManager.getInstance().add(this);
}
