{
  final SocketLock lock1=new SocketLock();
  final SocketLock lock2=new SocketLock();
  try {
    assertEquals(SocketLock.ActivateStatus.NO_INSTANCE,lock1.lock("1",false));
    assertEquals(SocketLock.ActivateStatus.NO_INSTANCE,lock1.lock("1.1",false));
    assertEquals(SocketLock.ActivateStatus.NO_INSTANCE,lock2.lock("2",false));
    assertEquals(SocketLock.ActivateStatus.ACTIVATED,lock1.lock("2",false));
    assertEquals(SocketLock.ActivateStatus.ACTIVATED,lock2.lock("1",false));
    assertEquals(SocketLock.ActivateStatus.ACTIVATED,lock2.lock("1.1",false));
  }
  finally {
    lock1.dispose();
    lock2.dispose();
  }
}
