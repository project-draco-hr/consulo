{
  final PsiElement element=parameters.getPosition();
  if (JavaCompletionData.isAfterTypeDot(element)) {
    addKeyword(result,element,PsiKeyword.CLASS);
    addKeyword(result,element,PsiKeyword.THIS);
  }
  if (!AFTER_DOT.accepts(element)) {
    new CollectionsUtilityMethodsProvider(parameters.getPosition(),parameters.getExpectedType(),parameters.getDefaultType(),result).addCompletions(parameters.getParameters().getInvocationCount() > 1 || StringUtil.isNotEmpty(matcher.getPrefix()));
    ClassLiteralGetter.addCompletions(parameters,result,matcher);
    final PsiElement position=parameters.getPosition();
    final PsiType expectedType=parameters.getExpectedType();
    for (    final TemplateImpl template : TemplateSettings.getInstance().getTemplates()) {
      if (!template.isDeactivated() && template.getTemplateContext().isEnabled(new SmartCompletionContextType())) {
        result.consume(new SmartCompletionTemplateItem(template,position));
      }
    }
    addKeyword(result,position,PsiKeyword.TRUE);
    addKeyword(result,position,PsiKeyword.FALSE);
    final PsiElement parent=position.getParent();
    if (parent != null && !(parent.getParent() instanceof PsiSwitchLabelStatement)) {
      for (      final PsiExpression expression : ThisGetter.getThisExpressionVariants(position)) {
        result.consume(new ExpressionLookupItem(expression));
      }
    }
    processDataflowExpressionTypes(position,expectedType,matcher,result);
  }
}
