{
  PluginDescriptor descriptor=null;
  try {
    ZipFile zipFile=new ZipFile(file);
    try {
      final ZipEntry entry=zipFile.getEntry("META-INF/plugin.xml");
      if (entry != null) {
        descriptor=new PluginDescriptor(file);
        final InputStream inputStream=zipFile.getInputStream(entry);
        final Element rootElement=JDOMUtil.loadDocument(inputStream).getRootElement();
        inputStream.close();
        descriptor.readExternal(rootElement);
      }
    }
  finally {
      zipFile.close();
    }
  }
 catch (  Exception e) {
    getLogger().info("Cannot load " + file,e);
  }
  return descriptor;
}
