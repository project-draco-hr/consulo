{
  try {
    final String libPath=aIdeaHomePath + File.separator + "jre"+ File.separator+ "lib"+ File.separator;
    File toolsFile=new File(libPath + TOOLS_JAR);
    if (!toolsFile.exists()) {
      toolsFile=null;
    }
    if (toolsFile != null) {
      classPath.add(toolsFile.toURL());
    }
    final File[] extFiles=new File(libPath + EXTENSIONS_DIR).listFiles();
    if (extFiles != null) {
      for (int idx=0; idx < extFiles.length; idx++) {
        File extFile=extFiles[idx];
        if (isJarOrZip(extFile)) {
          classPath.add(extFile.toURL());
        }
      }
    }
  }
 catch (  MalformedURLException e) {
    getLogger().error(e);
  }
}
