{
  final PluginId[] ids=idToDescriptorMap.keySet().toArray(new PluginId[idToDescriptorMap.size()]);
  return GraphGenerator.create(CachingSemiGraph.create(new GraphGenerator.SemiGraph<PluginId>(){
    public Collection<PluginId> getNodes(){
      return Arrays.asList(ids);
    }
    public Iterator<PluginId> getIn(    PluginId pluginId){
      final PluginDescriptor descriptor=idToDescriptorMap.get(pluginId);
      return Arrays.asList(descriptor.getDependentPluginIds()).iterator();
    }
  }
));
}
