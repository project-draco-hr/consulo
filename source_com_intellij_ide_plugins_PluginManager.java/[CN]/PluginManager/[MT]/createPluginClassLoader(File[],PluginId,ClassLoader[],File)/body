{
  if (ApplicationManager.getApplication().isUnitTestMode())   return null;
  try {
    final List<URL> urls=new ArrayList<URL>(classPath.length);
    for (    File aClassPath : classPath) {
      final File file=aClassPath.getCanonicalFile();
      urls.add(file.toURL());
    }
    return new PluginClassLoader(urls,parentLoaders,pluginId,pluginRoot);
  }
 catch (  MalformedURLException e) {
    e.printStackTrace();
  }
catch (  IOException e) {
    e.printStackTrace();
  }
  return null;
}
