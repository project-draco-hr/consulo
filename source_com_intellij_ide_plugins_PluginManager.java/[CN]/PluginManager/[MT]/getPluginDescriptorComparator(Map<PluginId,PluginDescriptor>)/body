{
  final Graph<PluginId> graph=createPluginIdGraph(idToDescriptorMap);
  final DFSTBuilder<PluginId> builder=new DFSTBuilder<PluginId>(graph);
  final Comparator<PluginId> idComparator=builder.comparator();
  return new Comparator<PluginDescriptor>(){
    public int compare(    PluginDescriptor o1,    PluginDescriptor o2){
      return idComparator.compare(o1.getPluginId(),o2.getPluginId());
    }
  }
;
}
