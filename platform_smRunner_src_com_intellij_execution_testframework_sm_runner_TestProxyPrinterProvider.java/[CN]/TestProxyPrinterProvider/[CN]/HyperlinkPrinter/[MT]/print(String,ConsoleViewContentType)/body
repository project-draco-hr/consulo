{
  if (contentType == null || !myContentTypeCondition.value(contentType)) {
    defaultPrint(text,contentType);
    return;
  }
  text=StringUtil.replace(text,"\r\n",NL,false);
  StringTokenizer tokenizer=new StringTokenizer(text,NL,true);
  while (tokenizer.hasMoreTokens()) {
    String line=tokenizer.nextToken();
    if (NL.equals(line)) {
      defaultPrint(line,contentType);
    }
 else {
      printLine(line,contentType);
    }
  }
}
