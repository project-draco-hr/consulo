{
  VirtualFile projectDir=myProject.getProjectFile().getParent();
  if (myIgnoreSpecifiedFileRadioButton.isSelected()) {
    IgnoredFileBean[] result=new IgnoredFileBean[myFilesToIgnore.size()];
    for (int i=0; i < myFilesToIgnore.size(); i++) {
      result[i]=new IgnoredFileBean();
      result[i].setPath(VfsUtil.getRelativePath(myFilesToIgnore.get(i),projectDir,'/'));
    }
    return result;
  }
  if (myIgnoreAllFilesUnderRadioButton.isSelected()) {
    IgnoredFileBean result=new IgnoredFileBean();
    String path=FileUtil.getRelativePath(new File(projectDir.getPresentableUrl()),new File(myIgnoreDirectoryTextField.getText()));
    if (path == null) {
      result.setPath(myIgnoreDirectoryTextField.getText().replace(File.separatorChar,'/'));
    }
 else {
      result.setPath(path.replace(File.separatorChar,'/'));
    }
    return new IgnoredFileBean[]{result};
  }
  if (myIgnoreAllFilesMatchingRadioButton.isSelected()) {
    IgnoredFileBean result=new IgnoredFileBean();
    result.setMask(myIgnoreMaskTextField.getText());
    return new IgnoredFileBean[]{result};
  }
  return new IgnoredFileBean[0];
}
