{
  super(new BorderLayout());
  mySchemesPanel=schemesPanel;
  myOptionsPanel=optionsPanel;
  myPreviewPanel=previewPanel;
  myCategory=category;
  JPanel top=new JPanel(new BorderLayout());
  top.add(mySchemesPanel,BorderLayout.NORTH);
  top.add(myOptionsPanel.getPanel(),BorderLayout.CENTER);
  if (myPreviewPanel.getPanel() != null) {
    add(top,BorderLayout.NORTH);
    add(myPreviewPanel.getPanel(),BorderLayout.CENTER);
  }
 else {
    add(top,BorderLayout.CENTER);
  }
  previewPanel.addListener(new ColorAndFontSettingsListener.Abstract(){
    @Override public void selectionInPreviewChanged(    final String typeToSelect){
      optionsPanel.selectOption(typeToSelect);
    }
  }
);
  optionsPanel.addListener(new ColorAndFontSettingsListener.Abstract(){
    @Override public void settingsChanged(){
      if (schemesPanel.updateDescription(true)) {
        optionsPanel.applyChangesToScheme();
        previewPanel.updateView();
      }
    }
    public void selectedOptionChanged(    final Object selected){
      myPreviewPanel.blinkSelectedHighlightType(selected);
    }
  }
);
  mySchemesPanel.addListener(new ColorAndFontSettingsListener.Abstract(){
    public void schemeChanged(    final Object source){
      myOptionsPanel.updateOptionsList();
      myPreviewPanel.updateView();
    }
  }
);
}
