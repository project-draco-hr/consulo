{
  final PsiElement location=descriptor.getPsiElement();
  final PsiMethod method=(PsiMethod)location.getParent();
  final Application application=ApplicationManager.getApplication();
  application.invokeLater(new Runnable(){
    public void run(){
      final RefactoringActionHandlerFactory factory=RefactoringActionHandlerFactory.getInstance();
      final RefactoringActionHandler moveHandler=factory.createMoveHandler();
      final DataManager dataManager=DataManager.getInstance();
      final DataContext dataContext=new DataContext(){
        public Object getData(        @NonNls String name){
          if (LangDataKeys.TARGET_PSI_ELEMENT.is(name)) {
            return usageClass.getElement();
          }
          return dataManager.getDataContext().getData(name);
        }
      }
;
      moveHandler.invoke(project,new PsiElement[]{method},dataContext);
    }
  }
);
}
