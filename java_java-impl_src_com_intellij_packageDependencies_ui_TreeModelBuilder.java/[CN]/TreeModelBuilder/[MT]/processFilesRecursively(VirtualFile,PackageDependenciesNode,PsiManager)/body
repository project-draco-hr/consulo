{
  if (file.isDirectory()) {
    VirtualFile[] children=file.getChildren();
    PackageDependenciesNode dirNode=null;
    for (    VirtualFile aChildren : children) {
      dirNode=processFilesRecursively(aChildren,dirNode,psiManager);
    }
  }
 else {
    final PsiFile psiFile=psiManager.findFile(file);
    if (psiFile != null) {
      return buildFileNode(psiFile,parent);
    }
  }
  return null;
}
