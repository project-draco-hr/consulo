{
  if (AntFileStructureList.canShowFor(psiFile) && AntDOMProject.getOtCreate(psiFile) != null) {
    return AntFileStructureList.createDialog(editor,psiFile);
  }
  StructureViewModel structureViewModel;
  if (structureViewBuilder instanceof TreeBasedStructureViewBuilder) {
    structureViewModel=((TreeBasedStructureViewBuilder)structureViewBuilder).createStructureViewModel();
  }
 else   if (psiFile instanceof PropertiesFile) {
    structureViewModel=new PropertiesFileStructureViewModel((PropertiesFile)psiFile);
  }
 else   if (psiFile instanceof JspFile) {
    Language language=((LanguageFileType)psiFile.getFileType()).getLanguage();
    StructureViewComposite structureViewComposite=(StructureViewComposite)language.getStructureViewBuilder(psiFile).createStructureView(fileEditor,project);
    StructureView structureView=structureViewComposite.getSelectedStructureView();
    structureViewModel=((StructureViewComponent)structureView).getTreeModel();
  }
 else {
    return null;
  }
  return createStructureViewBasedDialog(structureViewModel,editor,project,navigatable);
}
