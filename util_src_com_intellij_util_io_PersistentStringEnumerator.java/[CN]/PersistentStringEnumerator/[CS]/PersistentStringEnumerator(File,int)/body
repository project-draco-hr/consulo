{
  myStorage=new MappedFile(file,initialSize);
  if (myStorage.length() == 0) {
    markDirty(true);
    allocVector();
  }
 else {
    if (myStorage.getInt(0) != CORRECTLY_CLOSED_MAGIC) {
      myStorage.close();
      throw new CorruptedException(file);
    }
  }
}
