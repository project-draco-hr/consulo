{
  Presentation presentation=type.getAnnotation(Presentation.class);
  if (presentation != null) {
    return new PresentationTemplateImpl(presentation,type);
  }
  final NullableLazyValue<Icon> icon=myIcons.get(type.getName());
  final NullableLazyValue<String> typeName=myNames.get(type.getName());
  if (icon != null || typeName != null) {
    return new PresentationTemplate(){
      @Override public Icon getIcon(      Object o,      int flags){
        return icon == null ? null : icon.getValue();
      }
      @Override public String getName(      Object o){
        return null;
      }
      @Override public String getTypeName(){
        return typeName == null ? null : typeName.getValue();
      }
      @Override public String getTypeName(      Object o){
        return getTypeName();
      }
    }
;
  }
  return null;
}
