{
  myFixture.configureByFile(filePath);
  int offset=myFixture.getEditor().getCaretModel().getOffset();
  final PsiFile file=myFixture.getFile();
  final ConvertParameterToMapEntryIntention intention=new ConvertParameterToMapEntryIntention();
  PsiElement element=file.findElementAt(offset);
  while (element != null && !(element instanceof GrReferenceExpression || element instanceof GrParameter)) {
    element=element.getParent();
  }
  Assert.assertNotNull(element);
  final PsiElementPredicate condition=intention.getElementPredicate();
  Assert.assertTrue(condition.satisfiedBy(element));
  intention.processIntention(element,myFixture.getProject(),myFixture.getEditor());
  PostprocessReformattingAspect.getInstance(getProject()).doPostponedFormatting();
  final String result=file.getText();
  myFixture.checkResultByFile(filePath.replace(".groovy",".test"),true);
}
