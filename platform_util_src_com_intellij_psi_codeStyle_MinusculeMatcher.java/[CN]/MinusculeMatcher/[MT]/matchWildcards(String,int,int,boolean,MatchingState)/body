{
  if (nameIndex < 0) {
    return null;
  }
  if (!isWildcard(patternIndex)) {
    if (patternIndex == myPattern.length) {
      return FList.emptyList();
    }
    return matchFragment(name,patternIndex,nameIndex,isAsciiName,matchingState);
  }
  do {
    patternIndex++;
  }
 while (isWildcard(patternIndex));
  boolean space=isPatternChar(patternIndex - 1,' ');
  if (patternIndex == myPattern.length) {
    if (space && nameIndex != name.length() && (patternIndex < 2 || !NameUtil.isWordStart(myPattern[patternIndex - 2]))) {
      return null;
    }
    return FList.emptyList();
  }
  FList<TextRange> ranges=matchFragment(name,patternIndex,nameIndex,isAsciiName,matchingState);
  if (ranges != null) {
    return ranges;
  }
  return matchSkippingWords(name,patternIndex,nameIndex,true,isAsciiName,matchingState);
}
