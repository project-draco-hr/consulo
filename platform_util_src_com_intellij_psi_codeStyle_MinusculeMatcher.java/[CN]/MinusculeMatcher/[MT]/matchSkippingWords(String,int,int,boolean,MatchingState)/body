{
  boolean star=isPatternChar(patternIndex - 1,'*');
  final char p=myPattern[patternIndex];
  while (true) {
    int nextOccurrence=star ? indexOfIgnoreCase(name,nameIndex + 1,p,patternIndex,matchingState.isAsciiName) : indexOfWordStart(name,patternIndex,nameIndex);
    if (nextOccurrence < 0) {
      return null;
    }
    if (!allowSpecialChars && !myHasSeparators && !myHasHumps&& StringUtil.containsAnyChar(name,HARD_SEPARATORS,nameIndex,nextOccurrence)) {
      return null;
    }
    if (!allowSpecialChars && myHasDots && !isPatternChar(patternIndex - 1,'.')&& StringUtil.contains(name,nameIndex,nextOccurrence,'.')) {
      return null;
    }
    if (!isUpperCase[patternIndex] || Character.isUpperCase(name.charAt(nextOccurrence)) || isWordStart(name,nextOccurrence)|| !myHasHumps && myOptions != NameUtil.MatchingCaseSensitivity.ALL) {
      FList<TextRange> ranges=matchFragment(name,patternIndex,nextOccurrence,matchingState);
      if (ranges != null) {
        return ranges;
      }
    }
    nameIndex=nextOccurrence;
  }
}
