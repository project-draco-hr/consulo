{
  String qualifiedName=targetClass.getQualifiedName();
  if (qualifiedName != null && qualifiedName.contains(".")) {
    String packageName=qualifiedName.substring(0,qualifiedName.lastIndexOf("."));
    if (!packageName.equals(qualifier)) {
      final AccessToken accessToken=WriteAction.start();
      try {
        groovyFile.addImportForClass(targetClass);
      }
  finally {
        accessToken.finish();
      }
    }
  }
}
