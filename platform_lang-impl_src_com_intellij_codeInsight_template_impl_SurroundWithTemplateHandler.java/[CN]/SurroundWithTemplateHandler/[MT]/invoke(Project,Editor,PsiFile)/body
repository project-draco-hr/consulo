{
  if (!CodeInsightUtilBase.prepareEditorForWrite(editor))   return;
  DefaultActionGroup group=createActionGroup(project,editor,file);
  if (group == null)   return;
  final ListPopup popup=JBPopupFactory.getInstance().createActionGroupPopup(CodeInsightBundle.message("templates.select.template.chooser.title"),group,DataManager.getInstance().getDataContext(editor.getContentComponent()),JBPopupFactory.ActionSelectionAid.MNEMONICS,false);
  popup.showInBestPositionFor(editor);
}
