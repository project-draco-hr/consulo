{
  if (!squash && !trim)   return oldFragments;
  if (oldFragments.isEmpty())   return oldFragments;
  final List<LineFragment> newFragments=new ArrayList<LineFragment>();
  processAdjoining(oldFragments,new Consumer<List<LineFragment>>(){
    @Override public void consume(    List<LineFragment> fragments){
      newFragments.addAll(processAdjoining(fragments,text1,text2,policy,squash,trim));
    }
  }
);
  return newFragments;
}
