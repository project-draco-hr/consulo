{
  ApplicationManager.getApplication().invokeLater(new Runnable(){
    @Override public void run(){
      final String sessionName=descriptor.getDisplayName();
      final ToolWindow toolWindow=ToolWindowManager.getInstance(project).getToolWindow(executor.getToolWindowId());
      final Content content=descriptor.getAttachedContent();
      final String notificationMessage;
      if (content != null && content.isSelected() && toolWindow.isVisible()) {
        if (!notifySelectedContent) {
          return;
        }
        notificationMessage="Session '" + sessionName + "': "+ status;
      }
 else {
        notificationMessage="Session <a href=''>'" + sessionName + "'</a>: "+ status;
      }
      NotificationGroup.toolWindowGroup("Android Session Restarted",executor.getToolWindowId(),true).createNotification("",notificationMessage,type,new NotificationListener(){
        @Override public void hyperlinkUpdate(        @NotNull Notification notification,        @NotNull HyperlinkEvent event){
          if (event.getEventType() == HyperlinkEvent.EventType.ACTIVATED) {
            final RunContentManager contentManager=ExecutionManager.getInstance(project).getContentManager();
            for (            RunContentDescriptor d : contentManager.getAllDescriptors()) {
              if (d.equals(descriptor)) {
                final Content content=d.getAttachedContent();
                content.getManager().setSelectedContent(content);
                toolWindow.activate(null,true,true);
                break;
              }
            }
          }
        }
      }
).notify(project);
    }
  }
);
}
