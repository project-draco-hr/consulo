{
  final ExecutionManager manager=ExecutionManager.getInstance(project);
  ProcessHandler[] processes=manager.getRunningProcesses();
  for (  ProcessHandler process : processes) {
    final RunContentDescriptor descriptor=process.getUserData(ANDROID_PROCESS_HANDLER);
    if (descriptor != null) {
      process.addProcessListener(new ProcessAdapter(){
        @Override public void processTerminated(        ProcessEvent event){
          ApplicationManager.getApplication().invokeLater(new Runnable(){
            public void run(){
              manager.getContentManager().removeRunContent(executor,descriptor);
            }
          }
);
        }
      }
);
      process.destroyProcess();
    }
  }
}
