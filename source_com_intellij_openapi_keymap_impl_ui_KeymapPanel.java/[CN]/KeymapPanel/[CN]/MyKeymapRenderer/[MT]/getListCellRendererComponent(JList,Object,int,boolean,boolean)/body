{
  super.getListCellRendererComponent(list,value,index,selected,cellHasFocus);
  Keymap keymap=(Keymap)value;
  Font font=getFont();
  if (keymap == myActiveKeymap) {
    font=font.deriveFont(Font.BOLD);
  }
  setFont(font);
  if (selected) {
    setForeground(UIManager.getColor("List.selectionForeground"));
  }
 else {
    if (keymap.canModify()) {
      setForeground(UIManager.getColor("List.foreground"));
    }
 else {
      setForeground(Color.GRAY);
    }
  }
  String name=keymap.getPresentableName();
  if (name == null) {
    name="<unnamed>";
  }
  if (keymap == myActiveKeymap) {
    name+=" (active)";
  }
  setText(name);
  return this;
}
