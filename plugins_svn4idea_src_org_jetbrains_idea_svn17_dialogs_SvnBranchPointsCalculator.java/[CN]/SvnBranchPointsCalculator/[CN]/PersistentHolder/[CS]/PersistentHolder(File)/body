{
  myLock=new Object();
  myPersistentMap=new SmallMapSerializer<String,TreeMap<String,BranchCopyData>>(file,new EnumeratorStringDescriptor(),new BranchDataExternalizer());
  myForSearchMap=new MultiMap<String,String>();
  for (  String s : myPersistentMap.keySet()) {
    final TreeMap<String,BranchCopyData> map=myPersistentMap.get(s);
    if (map != null) {
      myForSearchMap.put(s,new ArrayList<String>(map.keySet()));
    }
  }
  for (  String key : myForSearchMap.keySet()) {
    Collections.sort((List<String>)myForSearchMap.get(key));
  }
}
