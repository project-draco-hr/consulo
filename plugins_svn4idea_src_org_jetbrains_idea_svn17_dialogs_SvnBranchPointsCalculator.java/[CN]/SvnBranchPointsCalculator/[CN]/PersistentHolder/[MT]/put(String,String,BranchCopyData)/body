{
synchronized (myLock) {
    TreeMap<String,BranchCopyData> map=myPersistentMap.get(uid);
    if (map == null) {
      map=new TreeMap<String,BranchCopyData>();
    }
    map.put(target,data);
    myPersistentMap.put(uid,map);
    if (myForSearchMap.containsKey(uid)) {
      final List<String> list=(List<String>)myForSearchMap.get(uid);
      final int idx=Collections.binarySearch(list,target);
      if (idx < 0) {
        final int insertionIdx=-idx - 1;
        list.add(insertionIdx,target);
      }
    }
 else {
      myForSearchMap.putValue(uid,target);
    }
  }
  myPersistentMap.force();
}
