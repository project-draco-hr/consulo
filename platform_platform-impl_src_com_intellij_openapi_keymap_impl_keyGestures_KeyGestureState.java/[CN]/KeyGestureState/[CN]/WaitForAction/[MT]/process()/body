{
  if (isPureModifierEvent(KeyEvent.KEY_PRESSED)) {
    myContext.actionKey=myContext.keyToProcess;
    return true;
  }
  if (myContext.keyToProcess.getID() == KeyEvent.KEY_RELEASED && myContext.keyToProcess.getKeyChar() == KeyEvent.CHAR_UNDEFINED) {
    final int pressedModifiers=myContext.keyToProcess.getKeyCode() & myContext.actionKey.getModifiersEx();
    if (pressedModifiers == 0) {
      myProcessor.setState(myProcessor.myFinish);
      return myProcessor.myState.process();
    }
  }
  if (myContext.keyToProcess.getID() == KeyEvent.KEY_PRESSED) {
    myContext.actionKey=myContext.keyToProcess;
    myProcessor.setState(myProcessor.myWaitForActionEnd);
    return true;
  }
  return false;
}
