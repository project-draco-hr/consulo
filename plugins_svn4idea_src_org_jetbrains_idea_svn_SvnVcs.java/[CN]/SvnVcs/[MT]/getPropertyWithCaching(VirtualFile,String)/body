{
  Map<String,Pair<SVNPropertyValue,Long>> cachedMap=myPropertyCache.get(file);
  final Pair<SVNPropertyValue,Long> cachedValue=(cachedMap == null) ? null : cachedMap.get(propName);
  final File ioFile=new File(file.getPath());
  final File dirPropsFile=getDirPropsFile(ioFile);
  long dirPropsModified=dirPropsFile.lastModified();
  if (cachedValue != null) {
    if (dirPropsModified == cachedValue.getSecond().longValue()) {
      return cachedValue.getFirst();
    }
  }
  final SVNPropertyData value=createWCClient().doGetProperty(ioFile,propName,SVNRevision.WORKING,SVNRevision.WORKING,false);
  final SVNPropertyValue propValue=(value == null) ? null : value.getValue();
  if (cachedMap == null) {
    cachedMap=new HashMap<String,Pair<SVNPropertyValue,Long>>();
    myPropertyCache.put(file,cachedMap);
  }
  cachedMap.put(propName,new Pair<SVNPropertyValue,Long>(propValue,dirPropsModified));
  return propValue;
}
