{
  if (!supportOptions.changeListsSynchronized()) {
    final MessageBusConnection messageBusConnection=ApplicationManager.getApplication().getMessageBus().connect();
    messageBusConnection.subscribe(ChangeListManagerImpl.LISTS_LOADED,new LocalChangeListsLoadedListener(){
      public void processLoadedLists(      final List<LocalChangeList> lists){
        try {
          processChangeLists(lists);
          supportOptions.upgradeToChangeListsSynchronized();
        }
 catch (        ProcessCanceledException e) {
        }
        messageBusConnection.disconnect();
      }
    }
);
  }
}
