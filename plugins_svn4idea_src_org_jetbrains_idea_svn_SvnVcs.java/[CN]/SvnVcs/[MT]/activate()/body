{
  final ProjectLevelVcsManager vcsManager=ProjectLevelVcsManager.getInstance(myProject);
  if (!myProject.isDefault()) {
    ChangeListManager.getInstance(myProject).addChangeListListener(myChangeListListener);
    vcsManager.addVcsListener(myVcsListener);
  }
  SvnApplicationSettings.getInstance().svnActivated();
  VirtualFileManager.getInstance().addVirtualFileListener(myEntriesFileListener);
  LoadedRevisionsCache.getInstance(myProject);
  FrameStateManager.getInstance().addListener(myFrameStateListener);
  myAuthNotifier.init();
  mySvnBranchPointsCalculator=new SvnBranchPointsCalculator(myProject);
  mySvnBranchPointsCalculator.activate();
  if (SystemInfo.isWindows) {
    if (!SVNJNAUtil.isJNAPresent()) {
      Notifications.Bus.notify(new Notification(getDisplayName(),"Subversion plugin: no JNA","A problem with JNA initialization for svnkit library. Encryption is not available.",NotificationType.WARNING),NotificationDisplayType.BALLOON,myProject);
    }
 else     if (!SVNJNAUtil.isWinCryptEnabled()) {
      Notifications.Bus.notify(new Notification(getDisplayName(),"Subversion plugin: no encryption","A problem with encryption module (Crypt32.dll) initialization for svnkit library. Encryption is not available.",NotificationType.WARNING),NotificationDisplayType.BALLOON,myProject);
    }
  }
  StartupManager.getInstance(myProject).runWhenProjectIsInitialized(new DumbAwareRunnable(){
    public void run(){
      postStartup();
    }
  }
);
  vcsManager.addVcsListener(myRootsToWorkingCopies);
}
