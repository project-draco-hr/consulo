{
  final MessageBusConnection connection=bus.connect();
  connection.subscribe(ChangeListManagerImpl.LISTS_LOADED,new LocalChangeListsLoadedListener(){
    public void processLoadedLists(    final List<LocalChangeList> lists){
      try {
        ChangeListManager.getInstanceChecked(myProject).setReadOnly(SvnChangeProvider.ourDefaultListName,true);
        final SvnConfiguration.SvnSupportOptions supportOptions=myConfiguration.getSupportOptions();
        upgradeTo15(supportOptions);
        if (!supportOptions.changeListsSynchronized()) {
          processChangeLists(lists);
          supportOptions.upgradeToChangeListsSynchronized();
        }
      }
 catch (      ProcessCanceledException e) {
      }
      connection.disconnect();
    }
  }
);
}
