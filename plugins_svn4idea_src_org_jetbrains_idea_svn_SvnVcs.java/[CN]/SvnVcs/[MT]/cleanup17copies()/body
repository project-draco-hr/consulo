{
  final boolean[] result=new boolean[1];
  result[0]=true;
  final Runnable runnable=new Runnable(){
    public void run(){
      myCopiesRefreshManager.getCopiesRefresh().synchRequest();
      final List<WCInfo> infos=getAllWcInfos();
      for (      WCInfo info : infos) {
        if (WorkingCopyFormat.ONE_DOT_SEVEN.equals(info.getFormat())) {
          try {
            createWCClient().doCleanup(new File(info.getPath()));
          }
 catch (          SVNException e) {
            LOG.info(e);
            result[0]=false;
          }
        }
      }
    }
  }
;
  if (ApplicationManager.getApplication().isDispatchThread()) {
    ProgressManager.getInstance().runProcessWithProgressSynchronously(runnable,"Cleanup working copies",true,myProject);
  }
 else {
    runnable.run();
  }
  return result[0];
}
