{
  final Runnable refresher=new Runnable(){
    public void run(){
      myRootsInfo.realRefresh();
      myProject.getMessageBus().syncPublisher(ROOTS_RELOADED).run();
    }
  }
;
  if (hidden) {
    final Application appManager=ApplicationManager.getApplication();
    appManager.executeOnPooledThread(refresher);
  }
 else {
    ProgressManager.getInstance().runProcessWithProgressSynchronously(refresher,SvnBundle.message("refreshing.working.copies.roots.progress.text"),true,myProject);
  }
}
