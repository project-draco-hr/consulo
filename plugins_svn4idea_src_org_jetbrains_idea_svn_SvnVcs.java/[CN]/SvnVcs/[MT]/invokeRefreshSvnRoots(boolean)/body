{
  REFRESH_LOG.debug("refresh: ",new Throwable());
  if (myCopiesRefreshManager != null) {
    if (asynchronous) {
      myCopiesRefreshManager.getCopiesRefresh().asynchRequest();
    }
 else {
      if (ApplicationManager.getApplication().isDispatchThread()) {
        ProgressManager.getInstance().runProcessWithProgressSynchronously(new Runnable(){
          @Override public void run(){
            myCopiesRefreshManager.getCopiesRefresh().synchRequest();
          }
        }
,SvnBundle.message("refreshing.working.copies.roots.progress.text"),true,myProject);
      }
 else {
        myCopiesRefreshManager.getCopiesRefresh().synchRequest();
      }
    }
  }
}
