{
  final List<RootUrlInfo> infos=new ArrayList<RootUrlInfo>(in.size());
  for (  VirtualFile vf : in) {
    final File ioFile=new File(vf.getPath());
    final RootUrlInfo info=myRootsInfo.getWcRootForFilePath(ioFile);
    if (info == null)     continue;
    infos.add(info);
  }
  final List<RootUrlInfo> filtered=new ArrayList<RootUrlInfo>(infos.size());
  ForNestedRootChecker.filterOutSuperfluousChildren(this,infos,filtered);
  return ObjectsConvertor.convert(filtered,new Convertor<RootUrlInfo,VirtualFile>(){
    public VirtualFile convert(    RootUrlInfo o){
      return o.getVirtualFile();
    }
  }
);
}
