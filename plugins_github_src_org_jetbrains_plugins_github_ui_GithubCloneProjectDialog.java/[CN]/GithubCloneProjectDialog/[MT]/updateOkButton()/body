{
  final String selectedRepositoryId=getSelectedRepositoryId();
  if (!PATTERN.matcher(selectedRepositoryId).matches()) {
    setErrorText("Wrong repository format. owner/repository expected");
    setOKActionEnabled(false);
    return;
  }
  final String path=getSelectedPath();
  if (path == null) {
    setErrorText("Please specify selected folder");
    setOKActionEnabled(false);
    return;
  }
  final VirtualFile file=LocalFileSystem.getInstance().findFileByPath(path);
  if (file == null || !file.exists() || !file.isDirectory()) {
    setErrorText("Cannot find selected folder");
    setOKActionEnabled(false);
    return;
  }
  final String projectName=getProjectName();
  if (file.findChild(projectName) != null) {
    setErrorText("Folder " + projectName + " already exists");
    setOKActionEnabled(false);
    return;
  }
  setErrorText(null);
  setOKActionEnabled(true);
}
