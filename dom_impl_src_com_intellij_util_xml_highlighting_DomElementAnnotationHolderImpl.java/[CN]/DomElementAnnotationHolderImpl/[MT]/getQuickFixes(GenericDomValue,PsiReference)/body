{
  final List<LocalQuickFix> result=new SmartList<LocalQuickFix>();
  final Converter converter=WrappingConverter.getDeepestConverter(element.getConverter(),element);
  if (converter instanceof ResolvingConverter) {
    final ResolvingConverter resolvingConverter=(ResolvingConverter)converter;
    result.addAll(Arrays.asList(resolvingConverter.getQuickFixes(new ConvertContextImpl(DomManagerImpl.getDomInvocationHandler(element)))));
  }
  if (reference instanceof LocalQuickFixProvider) {
    result.addAll(Arrays.asList(((LocalQuickFixProvider)reference).getQuickFixes()));
  }
  return result.toArray(new LocalQuickFix[result.size()]);
}
