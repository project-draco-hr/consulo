{
  final Object selectedObject=getSelectedObject();
  final MyNode selectedNode=(MyNode)myTree.getSelectionPath().getLastPathComponent();
  final Set<String> dependencies=myContext.getCachedDependencies(selectedObject,selectedNode,true);
  if (dependencies == null || dependencies.isEmpty()) {
    Messages.showInfoMessage(myTree,FindBundle.message("find.usage.view.no.usages.text"),FindBundle.message("find.pointcut.applications.not.found.title"));
    return;
  }
  final int selectedRow=myTree.getSelectionRows()[0];
  final Rectangle rowBounds=myTree.getRowBounds(selectedRow);
  final Point location=rowBounds.getLocation();
  location.x+=rowBounds.width;
  JBPopupFactory.getInstance().createListPopup(new BaseListPopupStep<String>(ProjectBundle.message("dependencies.used.in.popup.title"),dependencies.toArray(new String[dependencies.size()])){
    public PopupStep onChosen(    final String nameToSelect,    final boolean finalChoice){
      selectNodeInTree(nameToSelect);
      return PopupStep.FINAL_CHOICE;
    }
    public Icon getIconFor(    String selection){
      final Module module=myContext.myModulesConfigurator.getModule(selection);
      LOG.assertTrue(module != null,selection + " was not found");
      return module.getModuleType().getNodeIcon(false);
    }
  }
).show(new RelativePoint(myTree,location));
}
