{
  if (tabPlacement == TOP || myPaintContentBorder) {
    boolean leftToRight=isLeftToRight(tabPane);
    int right=x + w - 1;
    Rectangle selRect=selectedIndex < 0 ? null : getTabBounds(selectedIndex,calcRect);
    g.setColor(darkShadow);
    if (tabPlacement != TOP || selectedIndex < 0 || (selRect.y + selRect.height + 1 < y) || (selRect.x < x || selRect.x > x + w)) {
      g.drawLine(x,y,x + w - 1,y);
    }
 else {
      boolean lastInRun=isLastInRun(selectedIndex);
      g.drawLine(x,y,selRect.x,y);
      if (selRect.x + selRect.width < right - 1) {
        if (leftToRight && !lastInRun) {
          g.drawLine(selRect.x + selRect.width - 2,y,right,y);
        }
 else {
          g.drawLine(selRect.x + selRect.width - 2,y,right,y);
        }
      }
 else {
        g.drawLine(x + w - 2,y,x + w - 2,y);
      }
    }
  }
}
