{
  final CoverageDataManager manager=getCoverageDataManager();
  final CoverageSuitesBundle currentSuite=manager.getCurrentSuitesBundle();
  final CoverageAnnotator coverageAnnotator=currentSuite != null ? currentSuite.getAnnotator(node.getProject()) : null;
  if (coverageAnnotator == null) {
    return;
  }
  final Object value=node.getValue();
  PsiElement element=null;
  if (value instanceof PsiElement) {
    element=(PsiElement)value;
  }
 else   if (value instanceof SmartPsiElementPointer) {
    element=((SmartPsiElementPointer)value).getElement();
  }
  String informationString=null;
  if (element instanceof PsiDirectory) {
    informationString=coverageAnnotator.getDirCoverageInformationString((PsiDirectory)element,currentSuite,manager);
  }
 else   if (element instanceof PsiFile) {
    informationString=coverageAnnotator.getFileCoverageInformationString((PsiFile)element,currentSuite,manager);
  }
  if (informationString != null) {
    data.setLocationString(informationString);
  }
}
