{
  DefaultMutableTreeNode treeNode=(DefaultMutableTreeNode)node;
  Object userObject=treeNode.getUserObject();
  if (userObject instanceof Project)   return;
  VirtualFile file=(VirtualFile)userObject;
  Charset charset=(Charset)aValue;
  if (charset == null) {
    myCurrentMapping.remove(file);
  }
 else {
    myCurrentMapping.put(file,charset);
  }
  fireTreeNodesChanged(this,new Object[]{getRoot()},null,null);
}
