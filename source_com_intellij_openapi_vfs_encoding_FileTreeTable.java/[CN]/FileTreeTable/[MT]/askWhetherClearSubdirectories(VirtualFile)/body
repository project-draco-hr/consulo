{
  Map<VirtualFile,Charset> mappings=EncodingProjectManager.getInstance(myProject).getAllMappings();
  Map<VirtualFile,Charset> subdirectoryMappings=new THashMap<VirtualFile,Charset>();
  for (  VirtualFile file : mappings.keySet()) {
    if (file != null && (parent == null || VfsUtil.isAncestor(parent,file,true))) {
      subdirectoryMappings.put(file,mappings.get(file));
    }
  }
  if (subdirectoryMappings.isEmpty()) {
    return 0;
  }
 else {
    int ret=Messages.showDialog(myProject,"There are encodings specified for the subdirectories. Override them?","Override Subdirectory Encoding",new String[]{"Override","Do Not Override","Cancel"},0,Messages.getWarningIcon());
    if (ret == 0) {
      for (      VirtualFile file : subdirectoryMappings.keySet()) {
        myModel.setValueAt(null,new DefaultMutableTreeNode(file),1);
      }
    }
    return ret;
  }
}
