{
  initExtensionPoints(PLUGIN_NAME,EXTENSION_POINTS_ROOT,null);
  initExtensions(EXTENSIONS_ROOT,null);
  assertTrue(Extensions.getRootArea().hasExtensionPoint(TEST_EP_NAME));
  assertEquals(1,Extensions.getExtensions(TEST_EP_NAME).length);
  assertEquals(321,((XMLTestBean)Extensions.getRootArea().getExtensionPoint(TEST_EP_NAME).getExtension()).getProp1());
  assertEquals("the.test.plugin",((XMLTestBean)Extensions.getRootArea().getExtensionPoint(TEST_EP_NAME).getExtension()).getPluginId().getIdString());
  DependentObjectOne dependentObjectOne=(DependentObjectOne)Extensions.getRootArea().getExtensionPoint(TEST_DEPENDENT1_NAME).getExtension();
  assertEquals(1,dependentObjectOne.getTestBeans().length);
  AreaInstance areaInstance=new MyAreaInstance();
  Extensions.instantiateArea("area",areaInstance,null);
  initExtensionPoints(PLUGIN_NAME,EXTENSION_POINTS_4_AREA,areaInstance);
  initExtensions(EXTENSIONS_4_AREA,areaInstance);
  ExtensionPoint extensionPoint=Extensions.getArea(areaInstance).getExtensionPoint("the.test.plugin.extensionPoint4area");
  assertNotNull(extensionPoint);
  assertSame(areaInstance,extensionPoint.getArea());
  assertNotNull(extensionPoint.getExtension());
  DependentObjectTwo dependentObjectTwo=(DependentObjectTwo)Extensions.getArea(areaInstance).getExtensionPoint(TEST_DEPENDENT2_NAME).getExtension();
  assertSame(dependentObjectOne,dependentObjectTwo.getOne());
}
