{
  final String testFile=getTestName(true) + ".test";
  final List<String> strings=TestUtils.readInput(getTestDataPath() + "/" + testFile);
  GroovyFileBase psiFile=(GroovyFileBase)myFixture.addFileToProject("foo.groovy",strings.get(0));
  StringBuffer buffer=new StringBuffer();
  GrTypeDefinition[] grTypeDefinitions=psiFile.getTypeDefinitions();
  GrTypeDefinition lastTypeDefinition=psiFile.getTypeDefinitions()[grTypeDefinitions.length - 1];
  PsiMethod[] psiMethods=lastTypeDefinition.getMethods();
  for (  PsiMethod method : psiMethods) {
    PsiMethod[] superMethods=findMethod(method);
    String[] classes=sortUseContaingClass(superMethods);
    for (    String classAsString : classes) {
      buffer.append(classAsString);
      buffer.append("\n");
    }
    buffer.append("\n");
  }
  buffer.append("\n");
  assertEquals(strings.get(1),buffer.toString().trim());
}
