{
  myDefValue=defValue;
  myInitializer=initializer;
  resetIndex();
  MessageBusConnection connection=ApplicationManager.getApplication().getMessageBus().connect(parentDisposable);
  connection.subscribe(FileTypeManager.TOPIC,new FileTypeListener(){
    @Override public void fileTypesChanged(    @NotNull FileTypeEvent event){
      resetIndex();
    }
  }
);
  connection.subscribe(VirtualFileManager.VFS_CHANGES,new BulkFileListener(){
    @Override public void before(    @NotNull List<? extends VFileEvent> events){
    }
    @Override public void after(    @NotNull List<? extends VFileEvent> events){
      for (      VFileEvent event : events) {
        VirtualFile file=event.getFile();
        if (file == null || file.isDirectory()) {
          resetIndex();
          break;
        }
      }
    }
  }
);
}
