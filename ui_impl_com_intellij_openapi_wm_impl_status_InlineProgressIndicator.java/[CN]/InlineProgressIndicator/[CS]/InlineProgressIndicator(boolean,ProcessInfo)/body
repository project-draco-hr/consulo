{
  myCompact=compact;
  myCancelButton=new InplaceButton(IconLoader.getIcon("/actions/cleanLight.png"),IconLoader.getIcon("/actions/clean.png")){
    protected void execute(){
      cancelRequest();
    }
  }
;
  myCancelButton.setOpaque(true);
  myCancelButton.setToolTipText(processInfo.getCancelTooltip());
  if (myCompact) {
    myComponent.setLayout(new BorderLayout(2,0));
    final JPanel textAndProgress=new JPanel(new BorderLayout());
    myText.setHorizontalAlignment(JLabel.RIGHT);
    textAndProgress.add(myText,BorderLayout.CENTER);
    textAndProgress.add(myProgress,BorderLayout.EAST);
    myComponent.add(textAndProgress,BorderLayout.CENTER);
    myComponent.add(myCancelButton,BorderLayout.EAST);
    myComponent.setToolTipText(processInfo.getProcessTitle() + ". " + IdeBundle.message("progress.text.clickToViewProgressWindow"));
    myProgress.setActive(false);
  }
 else {
    myComponent.setLayout(new BorderLayout());
    myCancelButton.setBorder(new EmptyBorder(0,2,0,0));
    myComponent.add(myCancelButton,BorderLayout.EAST);
    myComponent.add(myText,BorderLayout.NORTH);
    myComponent.add(myProgress,BorderLayout.CENTER);
    myComponent.add(myText2,BorderLayout.SOUTH);
  }
  UIUtil.removeQuaquaVisualMarginsIn(myComponent);
  if (!myCompact) {
    myText.recomputeSize();
    myText2.recomputeSize();
  }
}
