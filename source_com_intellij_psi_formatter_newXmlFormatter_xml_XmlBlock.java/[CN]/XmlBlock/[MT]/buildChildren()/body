{
  final ArrayList<Block> result=new ArrayList<Block>();
  if (myNode.getElementType() == ElementType.XML_ATTRIBUTE_VALUE) {
    return result;
  }
  if (myNode.getElementType() == ElementType.XML_TEXT) {
    if (myXmlFormattingPolicy.getShouldKeepWhiteSpaces()) {
      return result;
    }
    final ASTNode treeParent=myNode.getTreeParent();
    if (myXmlFormattingPolicy.keepWhiteSpacesInsideTag(getTag(treeParent))) {
      return result;
    }
  }
  if (myNode instanceof CompositeElement) {
    ChameleonTransforming.transformChildren(myNode);
    ASTNode child=myNode.getFirstChildNode();
    while (child != null) {
      if (!containsWhiteSpacesOnly(child) && child.getTextLength() > 0) {
        result.add(createChildBlock(child,null,null));
      }
      child=child.getTreeNext();
    }
  }
  return result;
}
