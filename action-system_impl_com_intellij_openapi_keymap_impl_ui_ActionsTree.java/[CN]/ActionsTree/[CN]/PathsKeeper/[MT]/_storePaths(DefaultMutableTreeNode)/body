{
  ArrayList<TreeNode> childNodes=childrenToArray(root);
  for (  final Object childNode1 : childNodes) {
    DefaultMutableTreeNode childNode=(DefaultMutableTreeNode)childNode1;
    TreePath path=new TreePath(childNode.getPath());
    if (myTree.isPathSelected(path)) {
      mySelectionPaths.add(getPath(childNode));
    }
    if (myTree.isExpanded(path) || childNode.getChildCount() == 0) {
      myPathsToExpand.add(getPath(childNode));
      _storePaths(childNode);
    }
  }
}
