{
  if (!(fileOrDir.getFileSystem() instanceof LocalFileSystem)) {
    return true;
  }
  final PsiDirectory directory=getPsiDirectory(fileOrDir);
  if (directory == null) {
    if (!StdFileTypes.JAVA.equals(FileTypeManager.getInstance().getFileTypeByFile(fileOrDir))) {
      return true;
    }
    PsiPackage psiPackage=getPsiPackage(fileOrDir.getParent());
    if (psiPackage != null && psiPackage.getQualifiedName().length() == 0) {
      myPackages.add(PathUtil.getLocalPath(fileOrDir));
    }
    return true;
  }
 else   if (!dirContainsJavaFiles(directory)) {
    return true;
  }
  PsiPackage psiPackage=directory.getPackage();
  if (psiPackage == null) {
    return true;
  }
  myPackages.add(psiPackage.getQualifiedName());
  return true;
}
