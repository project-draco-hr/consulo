{
  if (VirtualFile.PROP_NAME.equals(e.getPropertyName())) {
    assertThread();
    final VirtualFile file=e.getFile();
    if (isFileOpen(file)) {
      updateFileName(file);
      updateFileIcon(file);
    }
  }
 else   if (VirtualFile.PROP_WRITABLE.equals(e.getPropertyName())) {
    assertThread();
    final VirtualFile file=e.getFile();
    if (isFileOpen(file)) {
      updateFileIcon(file);
      if (file.equals(getSelectedFiles()[0])) {
        final StatusBarEx statusBar=(StatusBarEx)WindowManager.getInstance().getStatusBar(myProject);
        LOG.assertTrue(statusBar != null);
        statusBar.setWriteStatus(!file.isWritable());
      }
    }
  }
}
