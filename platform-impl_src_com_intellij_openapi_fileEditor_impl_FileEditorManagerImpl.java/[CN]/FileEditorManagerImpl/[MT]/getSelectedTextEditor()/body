{
  assertDispatchThread();
  final EditorWindow currentWindow=getSplitters().getCurrentWindow();
  if (currentWindow != null) {
    final EditorWithProviderComposite selectedEditor=currentWindow.getSelectedEditor();
    if (selectedEditor != null && selectedEditor.getSelectedEditor() instanceof TextEditor) {
      return ((TextEditor)selectedEditor.getSelectedEditor()).getEditor();
    }
  }
  return null;
}
