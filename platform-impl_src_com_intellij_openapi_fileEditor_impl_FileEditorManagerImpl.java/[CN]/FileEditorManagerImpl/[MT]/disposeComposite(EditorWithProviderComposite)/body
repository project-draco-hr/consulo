{
  if (getAllEditors().length == 0) {
    setCurrentWindow(null);
  }
  if (editor.equals(getLastSelected())) {
    editor.getSelectedEditor().deselectNotify();
    getSplitters().setCurrentWindow(null,false);
  }
  final FileEditor[] editors=editor.getEditors();
  final FileEditorProvider[] providers=editor.getProviders();
  final FileEditor selectedEditor=editor.getSelectedEditor();
  for (int i=editors.length - 1; i >= 0; i--) {
    final FileEditor editor1=editors[i];
    final FileEditorProvider provider=providers[i];
    if (!editor.equals(selectedEditor)) {
      if (selectedEditor.equals(editor1)) {
        editor1.deselectNotify();
      }
    }
    editor1.removePropertyChangeListener(myEditorPropertyChangeListener);
    provider.disposeEditor(editor1);
  }
  Disposer.dispose(editor);
}
