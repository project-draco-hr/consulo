{
  if (src == null || dst == null) {
    return -1;
  }
  DefaultMutableTreeNode p=(DefaultMutableTreeNode)src.getParent();
  int result=p.getIndex(src);
  src=(DefaultMutableTreeNode)src.getParent();
  dst=(DefaultMutableTreeNode)dst.getParent();
  while (src != null && dst != null) {
    if (src instanceof RearrangerTreeNode) {
      if (dst instanceof RearrangerTreeNode) {
        RearrangerTreeNode s=(RearrangerTreeNode)src;
        RearrangerTreeNode d=(RearrangerTreeNode)dst;
        if (!s.name.equals(d.name)) {
          return -1;
        }
      }
 else {
        return -1;
      }
    }
 else     if (dst instanceof RearrangerTreeNode) {
      return -1;
    }
    src=(DefaultMutableTreeNode)src.getParent();
    dst=(DefaultMutableTreeNode)dst.getParent();
  }
  return src == null && dst == null ? result : -1;
}
