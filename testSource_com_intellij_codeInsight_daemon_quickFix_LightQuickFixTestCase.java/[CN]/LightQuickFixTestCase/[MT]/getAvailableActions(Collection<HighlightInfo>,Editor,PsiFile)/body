{
  final int offset=editor.getCaretModel().getOffset();
  final List<IntentionAction> availableActions=new ArrayList<IntentionAction>();
  if (infos != null) {
    for (    HighlightInfo info : infos) {
      final int startOffset=info.fixStartOffset;
      final int endOffset=info.fixEndOffset;
      if (startOffset <= offset && offset <= endOffset && info.quickFixActionRanges != null) {
        for (int j=0; j < info.quickFixActionRanges.size(); j++) {
          Pair<Pair<IntentionAction,List<IntentionAction>>,TextRange> pair=info.quickFixActionRanges.get(j);
          IntentionAction action=pair.first.first;
          TextRange range=pair.second;
          if (range.getStartOffset() <= offset && offset <= range.getEndOffset() && action.isAvailable(getProject(),editor,file)) {
            availableActions.add(action);
            if (pair.first.second != null) {
              for (              IntentionAction intentionAction : pair.first.second) {
                if (intentionAction.isAvailable(getProject(),editor,file)) {
                  availableActions.add(intentionAction);
                }
              }
            }
          }
        }
      }
    }
  }
  return availableActions;
}
