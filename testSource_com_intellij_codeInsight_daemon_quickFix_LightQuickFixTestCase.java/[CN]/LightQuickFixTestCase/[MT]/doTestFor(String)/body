{
  final String relativePath=getBasePath() + "/before" + testName;
  final String testFullPath=getTestDataPath().replace(File.separatorChar,'/') + relativePath;
  final File ioFile=new File(testFullPath);
  String contents=StringUtil.convertLineSeparators(new String(FileUtil.loadFileText(ioFile)),"\n");
  configureFromFileText(ioFile.getName(),contents);
  String comment=getFile() instanceof XmlFile ? "<!--" : "//";
  Pattern pattern=Pattern.compile("^" + comment + " \"([^\"]*)\" \"(\\S*)\".*",Pattern.DOTALL);
  Matcher matcher=pattern.matcher(contents);
  assertTrue(matcher.matches());
  final String text=matcher.group(1);
  final boolean actionShouldBeAvailable=Boolean.valueOf(matcher.group(2)).booleanValue();
  doAction(text,actionShouldBeAvailable,testFullPath,testName);
}
