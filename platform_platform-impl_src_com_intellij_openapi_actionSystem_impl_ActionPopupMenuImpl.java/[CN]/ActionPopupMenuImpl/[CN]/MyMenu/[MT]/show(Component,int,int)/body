{
  if (!component.isShowing()) {
    throw new IllegalArgumentException("component must be shown on the screen");
  }
  removeAll();
  int x2=Math.max(0,Math.min(x,component.getWidth() - 1));
  int y2=Math.max(0,Math.min(y,component.getHeight() - 1));
  myContext=myDataContextProvider != null ? myDataContextProvider.get() : DataManager.getInstance().getDataContext(component,x2,y2);
  Utils.fillMenu(myGroup,this,true,myPresentationFactory,myContext,myPlace,false,false);
  if (getComponentCount() == 0) {
    return;
  }
  if (myApp != null) {
    if (myApp.isActive()) {
      Component frame=UIUtil.findUltimateParent(component);
      if (frame instanceof IdeFrame) {
        myFrame=(IdeFrame)frame;
      }
      myConnection=myApp.getMessageBus().connect();
      myConnection.subscribe(ApplicationActivationListener.TOPIC,ActionPopupMenuImpl.this);
    }
  }
  super.show(component,x,y);
}
