{
synchronized (myFilesToIgnore) {
    if (myFilesToIgnore.size() == 0) {
      return false;
    }
    String filePath=null;
    final VirtualFile baseDir=myProject.getBaseDir();
    if (baseDir != null) {
      filePath=FileUtil.getRelativePath(new File(baseDir.getPath()),new File(file.getPath()));
      if (filePath != null) {
        filePath=FileUtil.toSystemIndependentName(filePath);
      }
    }
    for (    IgnoredFileBean bean : myFilesToIgnore) {
      if (filePath != null) {
        final String prefix=bean.getPath();
        if (prefix != null && StringUtil.startsWithIgnoreCase(filePath,FileUtil.toSystemIndependentName(prefix))) {
          return true;
        }
      }
      final Pattern pattern=bean.getPattern();
      if (pattern != null && pattern.matcher(file.getName()).matches()) {
        return true;
      }
    }
    return false;
  }
}
