{
  myDisposed=true;
  cancelUpdates();
  myRepaintAlarm.cancelAllRequests();
synchronized (myPendingUpdatesLock) {
    waitForUpdateDone(null);
  }
  ToolWindowManager.getInstance(myProject).unregisterToolWindow(TOOLWINDOW_ID);
}
