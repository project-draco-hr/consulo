{
  if (revision == null)   return new SimpleContent("");
  if (revision instanceof CurrentContentRevision) {
    final CurrentContentRevision current=(CurrentContentRevision)revision;
    final VirtualFile vFile=current.getVirtualFile();
    return vFile != null ? new FileContent(myProject,vFile) : new SimpleContent("");
  }
  SimpleContent content=new SimpleContent(revision.getContent(),revision.getFile().getFileType());
  content.setReadOnly(true);
  return content;
}
