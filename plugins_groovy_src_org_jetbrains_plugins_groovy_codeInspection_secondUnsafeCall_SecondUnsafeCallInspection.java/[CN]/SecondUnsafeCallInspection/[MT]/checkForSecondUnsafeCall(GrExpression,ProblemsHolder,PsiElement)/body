{
  if (hightlightElement == null)   hightlightElement=expression;
  final GrReferenceExpression referenceExpression=(GrReferenceExpression)expression;
  if (GroovyElementTypes.mDOT.equals(referenceExpression.getDotTokenType())) {
    final GrExpression qualifierExpression=referenceExpression.getQualifierExpression();
    if (qualifierExpression instanceof GrMethodCallExpression) {
      final GrExpression expression1=((GrMethodCallExpression)qualifierExpression).getInvokedExpression();
      if (!(expression1 instanceof GrReferenceExpression))       return;
      if (GroovyElementTypes.mOPTIONAL_DOT.equals(((GrReferenceExpression)expression1).getDotTokenType())) {
        holder.registerProblem(hightlightElement,GroovyInspectionBundle.message("call.can.throw.npe"),new SecondUnsafeCallQuickFix());
      }
    }
 else     if (qualifierExpression instanceof GrReferenceExpression) {
      if (GroovyElementTypes.mOPTIONAL_DOT.equals(((GrReferenceExpression)qualifierExpression).getDotTokenType())) {
        holder.registerProblem(hightlightElement,GroovyInspectionBundle.message("call.can.throw.npe"),new SecondUnsafeCallQuickFix());
      }
    }
  }
}
