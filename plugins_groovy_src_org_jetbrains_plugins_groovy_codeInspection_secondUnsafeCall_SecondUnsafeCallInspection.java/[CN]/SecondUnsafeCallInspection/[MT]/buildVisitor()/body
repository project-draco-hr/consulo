{
  return new BaseInspectionVisitor(){
    public void visitReferenceExpression(    GrReferenceExpression expression){
      final GrReferenceExpression referenceExpression=(GrReferenceExpression)expression;
      if (GroovyElementTypes.mDOT.equals(referenceExpression.getDotTokenType())) {
        final GrExpression qualifierExpression=referenceExpression.getQualifierExpression();
        if (qualifierExpression instanceof GrMethodCallExpression) {
          final GrExpression expression1=((GrMethodCallExpression)qualifierExpression).getInvokedExpression();
          if (!(expression1 instanceof GrReferenceExpression))           return;
          if (GroovyElementTypes.mOPTIONAL_DOT.equals(((GrReferenceExpression)expression1).getDotTokenType())) {
            registerError(expression,GroovyInspectionBundle.message("call.can.throw.npe"));
          }
        }
 else         if (qualifierExpression instanceof GrReferenceExpression) {
          if (GroovyElementTypes.mOPTIONAL_DOT.equals(((GrReferenceExpression)qualifierExpression).getDotTokenType())) {
            registerError(expression,GroovyInspectionBundle.message("call.can.throw.npe"),new SecondUnsafeCallQuickFix());
          }
        }
      }
    }
  }
;
}
