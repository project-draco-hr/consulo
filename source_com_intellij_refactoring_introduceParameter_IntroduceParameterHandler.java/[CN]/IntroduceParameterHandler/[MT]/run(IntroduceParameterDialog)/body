{
  boolean isDeleteLocalVariable=false;
  if (myLocalVar != null) {
    if (dialog.isUseInitializer()) {
      PsiExpression varInitializer=myLocalVar.getInitializer();
      if (varInitializer != null) {
        myParameterInitializer=varInitializer;
      }
    }
    isDeleteLocalVariable=dialog.isDeleteLocalVariable();
  }
  new IntroduceParameterProcessor(myProject,myMethod,myMethodToSearchFor,myParameterInitializer,myExpressionToSearchFor,myLocalVar,isDeleteLocalVariable,dialog.getParameterName(),dialog.isReplaceAllOccurences(),dialog.getReplaceFieldsWithGetters(),dialog.isDeclareFinal(),dialog.getSelectedType(),new Runnable(){
    public void run(){
      dialog.close(DialogWrapper.CANCEL_EXIT_CODE);
    }
  }
).run(null);
}
