{
  DataContext dataContext=DataManager.getInstance().getDataContext(tree);
  getReady(dataContext).doWhenDone(new Runnable(){
    @Override public void run(){
      DataContext context=DataManager.getInstance().getDataContext(tree);
      final VirtualFile vFile=PlatformDataKeys.VIRTUAL_FILE.getData(context);
      if (vFile != null) {
        if (vFile.getFileType() == FileTypes.UNKNOWN || vFile.getFileType() instanceof INativeFileType)         return;
        if (vFile.getLength() > PersistentFSConstants.getMaxIntellisenseFileSize())         return;
      }
      Navigatable[] navigatables=PlatformDataKeys.NAVIGATABLE_ARRAY.getData(context);
      if (navigatables != null) {
        if (navigatables.length > 1) {
          return;
        }
        for (        Navigatable navigatable : navigatables) {
          if (!navigatable.canNavigateToSource())           return;
        }
      }
      OpenSourceUtil.openSourcesFrom(context,false);
    }
  }
);
}
