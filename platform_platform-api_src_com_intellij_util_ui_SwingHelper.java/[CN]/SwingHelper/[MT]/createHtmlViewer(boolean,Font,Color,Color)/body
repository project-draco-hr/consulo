{
  final JEditorPane textPane;
  if (lineWrap) {
    textPane=new JEditorPane(){
      @Override public Dimension getPreferredSize(){
        Dimension dimension=super.getPreferredSize();
        dimension.width=0;
        return dimension;
      }
    }
;
  }
 else {
    textPane=new JEditorPane();
  }
  textPane.setFont(font != null ? font : UIUtil.getLabelFont());
  textPane.setEditorKit(UIUtil.getHTMLEditorKit());
  textPane.setEditable(false);
  if (background != null) {
    textPane.setBackground(background);
  }
 else {
    NonOpaquePanel.setTransparent(textPane);
  }
  textPane.setForeground(foreground != null ? foreground : UIUtil.getLabelForeground());
  textPane.setFocusable(false);
  return textPane;
}
