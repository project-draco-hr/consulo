{
  String exec=System.getenv(GIT_EXECUTABLE_PATH);
  if (exec != null) {
    myClientBinaryPath=new File(exec);
  }
  if (exec == null || !myClientBinaryPath.exists()) {
    final File pluginRoot=new File(PluginPathManager.getPluginHomePath("git4idea"));
    myClientBinaryPath=new File(pluginRoot,"tests/git4idea/tests/data/bin");
  }
  myRepo=GitTestRepository.create(this);
  myRepo.config("user.name",CONFIG_USER_NAME);
  myRepo.config("user.email",CONFIG_USER_EMAIL);
  myProjectDir=new File(myRepo.getDirFixture().getTempDirPath());
  initProject(myProjectDir);
  activateVCS(GitVcs.NAME);
  myTraceClient=true;
  doActionSilently(VcsConfiguration.StandardConfirmation.ADD);
  doActionSilently(VcsConfiguration.StandardConfirmation.REMOVE);
}
