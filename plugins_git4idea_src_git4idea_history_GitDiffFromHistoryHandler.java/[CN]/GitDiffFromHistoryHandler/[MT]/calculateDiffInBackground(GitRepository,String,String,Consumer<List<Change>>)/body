{
  new Task.Backgroundable(myProject,"Comparing revisions..."){
    private List<Change> myChanges;
    @Override public void run(    @NotNull ProgressIndicator indicator){
      try {
        myChanges=new ArrayList<Change>(GitChangeUtils.getDiff(repository.getProject(),repository.getRoot(),hash1,hash2,null));
      }
 catch (      VcsException e) {
        showError(e,"Error during requesting diff for directory");
      }
    }
    @Override public void onSuccess(){
      successHandler.consume(myChanges);
    }
  }
.queue();
}
