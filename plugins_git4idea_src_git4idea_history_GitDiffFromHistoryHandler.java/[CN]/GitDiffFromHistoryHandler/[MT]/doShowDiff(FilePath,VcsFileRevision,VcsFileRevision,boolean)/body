{
  if (!filePath.isDirectory()) {
    VcsHistoryUtil.showDifferencesInBackground(myProject,filePath,revision1,revision2,autoSort);
  }
 else {
    GitFileRevision left=(GitFileRevision)revision1;
    GitFileRevision right=(GitFileRevision)revision2;
    if (autoSort) {
      Pair<VcsFileRevision,VcsFileRevision> pair=VcsHistoryUtil.sortRevisions(revision1,revision2);
      left=(GitFileRevision)pair.first;
      right=(GitFileRevision)pair.second;
    }
    showDiffForDirectory(filePath,left,right);
  }
}
