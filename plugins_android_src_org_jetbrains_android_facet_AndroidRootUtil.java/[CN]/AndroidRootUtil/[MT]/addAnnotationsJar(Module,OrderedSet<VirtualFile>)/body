{
  final Sdk sdk=ModuleRootManager.getInstance(module).getSdk();
  if (sdk == null || !sdk.getSdkType().equals(AndroidSdkType.getInstance())) {
    return;
  }
  final String sdkHomePath=sdk.getHomePath();
  if (sdkHomePath == null) {
    return;
  }
  final AndroidSdkAdditionalData data=(AndroidSdkAdditionalData)sdk.getSdkAdditionalData();
  if (data == null) {
    return;
  }
  final AndroidPlatform platform=data.getAndroidPlatform();
  if (platform != null && platform.needToAddAnnotationsJarToClasspath()) {
    final String annotationsJarPath=FileUtil.toSystemIndependentName(sdkHomePath) + AndroidSdkUtils.ANNOTATIONS_JAR_RELATIVE_PATH;
    final VirtualFile annotationsJar=LocalFileSystem.getInstance().findFileByPath(annotationsJarPath);
    if (annotationsJar != null) {
      libs.add(annotationsJar);
    }
  }
}
