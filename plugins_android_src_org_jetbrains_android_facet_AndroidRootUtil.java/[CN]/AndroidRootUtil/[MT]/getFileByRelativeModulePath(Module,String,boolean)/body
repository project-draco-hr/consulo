{
  String moduleDirPath=new File(module.getModuleFilePath()).getParent();
  if (moduleDirPath == null)   return null;
  String absPath=FileUtil.toSystemIndependentName(moduleDirPath + relativePath);
  VirtualFile file=LocalFileSystem.getInstance().findFileByPath(absPath);
  if (file != null) {
    return file;
  }
  if (lookInContentRoot) {
    for (    VirtualFile contentRoot : ModuleRootManager.getInstance(module).getContentRoots()) {
      absPath=FileUtil.toSystemIndependentName(contentRoot.getPath() + relativePath);
      file=LocalFileSystem.getInstance().findFileByPath(absPath);
      if (file != null) {
        return file;
      }
    }
  }
  return null;
}
