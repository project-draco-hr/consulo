{
  PsiParameter myParameter=FieldFromParameterUtils.findParameterAtCursor(file,editor);
  if (!CodeInsightUtilBase.prepareFileForWrite(file))   return;
  final PsiMethod method=myParameter != null ? (PsiMethod)myParameter.getDeclarationScope() : PsiTreeUtil.getParentOfType(file.findElementAt(editor.getCaretModel().getOffset()),PsiMethod.class);
  LOG.assertTrue(method != null);
  final HashSet<String> usedNames=new HashSet<String>();
  for (  PsiParameter selected : selectParameters(project,method,copyUnboundedParamsAndClearOriginal(method),isInteractive)) {
    processParameter(project,selected,usedNames);
  }
}
