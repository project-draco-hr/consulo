{
  int index=resourceName.lastIndexOf('/');
  String packageName=index >= 0 ? resourceName.substring(0,index).replace('/','.') : "";
  final String fileName=index >= 0 ? resourceName.substring(index + 1) : resourceName;
  Query<VirtualFile> directoriesByPackageName=DirectoryIndex.getInstance(project).getDirectoriesByPackageName(packageName,true);
  for (  VirtualFile virtualFile : directoriesByPackageName) {
    final VirtualFile child=virtualFile.findChild(fileName);
    if (child != null && scope.contains(child)) {
      return child;
    }
  }
  return null;
}
