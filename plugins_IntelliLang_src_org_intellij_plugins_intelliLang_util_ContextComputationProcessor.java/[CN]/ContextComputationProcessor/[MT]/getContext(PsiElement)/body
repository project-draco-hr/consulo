{
  final PsiConditionalExpression conditionalExpression=PsiTreeUtil.getParentOfType(place,PsiConditionalExpression.class);
  if (conditionalExpression != null && PsiTreeUtil.isAncestor(conditionalExpression.getCondition(),place,false))   return null;
  PsiElement element=place;
  PsiElement prev=place;
  while (true) {
    final PsiElement parent=element.getParent();
    if (!(parent instanceof PsiBinaryExpression || parent instanceof PsiParenthesizedExpression || parent instanceof PsiTypeCastExpression|| parent instanceof PsiConditionalExpression)) {
      break;
    }
    prev=element;
    element=parent;
  }
  if (element instanceof PsiConditionalExpression) {
    return prev;
  }
  return element;
}
