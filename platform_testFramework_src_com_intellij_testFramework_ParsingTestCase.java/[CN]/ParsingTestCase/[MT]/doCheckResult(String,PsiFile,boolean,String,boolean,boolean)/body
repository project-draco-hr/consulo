{
  final PsiElement[] psiRoots=checkAllPsiRoots ? file.getPsiRoots() : PsiElement.EMPTY_ARRAY;
  if (psiRoots.length > 1) {
    for (int i=0; i < psiRoots.length; i++) {
      final PsiElement psiRoot=psiRoots[i];
      doCheckResult(myFullDataPath,targetDataName + "." + i,toParseTreeText(psiRoot,skipSpaces,printRanges).trim());
    }
  }
 else {
    doCheckResult(myFullDataPath,targetDataName,toParseTreeText(file,skipSpaces,printRanges).trim());
  }
}
