{
  if (myEditor != null) {
    e.getPresentation().setEnabled(true);
    return;
  }
  final DataContext context=e.getDataContext();
  final Project project=(Project)context.getData(DataConstants.PROJECT);
  if (project == null) {
    e.getPresentation().setVisible(false);
    return;
  }
  final VirtualFile vFile=(VirtualFile)context.getData(DataConstants.VIRTUAL_FILE);
  if (vFile == null) {
    e.getPresentation().setVisible(false);
    return;
  }
  final FileType fileType=FileTypeManager.getInstance().getFileTypeByFile(vFile);
  if (!StdFileTypes.GUI_DESIGNER_FORM.equals(fileType)) {
    e.getPresentation().setVisible(false);
    return;
  }
  e.getPresentation().setVisible(true);
}
