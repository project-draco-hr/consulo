{
  DragGestureListener dragGestureListener=new DragGestureListener(){
    public void dragGestureRecognized(    DragGestureEvent e){
      if (graphComponent.isDragEnabled() && first != null) {
        final TransferHandler th=graphComponent.getTransferHandler();
        if (th instanceof mxGraphTransferHandler) {
          final mxGraphTransferable t=(mxGraphTransferable)((mxGraphTransferHandler)th).createTransferable(graphComponent);
          if (t != null) {
            e.startDrag(null,mxSwingConstants.EMPTY_IMAGE,new Point(),t,new DragSourceAdapter(){
              /** 
 */
              public void dragDropEnd(              DragSourceDropEvent dsde){
                ((mxGraphTransferHandler)th).exportDone(graphComponent,t,TransferHandler.NONE);
                first=null;
              }
            }
);
          }
        }
      }
    }
  }
;
  DragSource dragSource=new DragSource();
  dragSource.createDefaultDragGestureRecognizer(graphComponent.getGraphControl(),DnDConstants.ACTION_COPY_OR_MOVE,dragGestureListener);
}
