{
  final List<PropertiesFile> propertiesFiles=myResourceBundle.getPropertiesFiles(myProject);
  for (  PropertiesFile propertiesFile : propertiesFiles) {
    if (!CodeInsightUtilBase.prepareFileForWrite(propertiesFile))     return false;
  }
  final RenameProcessor renameProcessor=new RenameProcessor(myProject);
  String baseName=myResourceBundle.getBaseName();
  for (  PropertiesFile propertiesFile : propertiesFiles) {
    final VirtualFile virtualFile=propertiesFile.getVirtualFile();
    if (virtualFile == null) {
      continue;
    }
    final String newName=inputString + virtualFile.getNameWithoutExtension().substring(baseName.length()) + "."+ virtualFile.getExtension();
    renameProcessor.addElement(propertiesFile,newName);
  }
  renameProcessor.setCommandName(PropertiesBundle.message("rename.resource.bundle.dialog.title"));
  renameProcessor.doRun();
  return true;
}
