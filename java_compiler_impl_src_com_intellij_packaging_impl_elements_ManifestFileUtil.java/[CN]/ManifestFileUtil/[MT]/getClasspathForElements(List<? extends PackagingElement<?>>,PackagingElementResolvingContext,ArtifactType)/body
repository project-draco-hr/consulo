{
  final List<String> classpath=new ArrayList<String>();
  final PackagingElementProcessor<PackagingElement<?>> processor=new PackagingElementProcessor<PackagingElement<?>>(){
    @Override public boolean process(    @NotNull List<CompositePackagingElement<?>> parents,    @NotNull PackagingElement<?> element){
      if (element instanceof FileCopyPackagingElement) {
        final String fileName=((FileCopyPackagingElement)element).getOutputFileName();
        classpath.add(DeploymentUtil.appendToPath(getPathFromRoot(parents,"/"),fileName));
      }
 else       if (element instanceof DirectoryCopyPackagingElement) {
        classpath.add(getPathFromRoot(parents,"/"));
      }
 else       if (element instanceof ArchivePackagingElement) {
        final String archiveName=((ArchivePackagingElement)element).getName();
        classpath.add(DeploymentUtil.appendToPath(getPathFromRoot(parents,"/"),archiveName));
      }
      return true;
    }
  }
;
  for (  PackagingElement<?> element : elements) {
    ArtifactUtil.processPackagingElements(element,null,processor,context,true,artifactType);
  }
  return classpath;
}
