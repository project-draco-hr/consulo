{
  final boolean hasUnsafeBgTasks=ProgressManager.getInstance().hasUnsafeProgressIndicator();
  final ConfirmExitDialog confirmExitDialog=new ConfirmExitDialog(hasUnsafeBgTasks);
  if (confirmExitDialog.isToBeShown()) {
    confirmExitDialog.show();
    if (!confirmExitDialog.isOK()) {
      return false;
    }
  }
  Disposer.dispose(confirmExitDialog.getDisposable());
  return true;
}
