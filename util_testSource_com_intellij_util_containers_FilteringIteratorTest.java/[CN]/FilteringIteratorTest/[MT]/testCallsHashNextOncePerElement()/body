{
  ArrayList list=new ArrayList(Arrays.asList(new Object[]{null,"a",null,"b"}));
  MockIterator mockIterator=new MockIterator(list.iterator());
  MockCondition mockCondition=new MockCondition(STRINGS_ONLY);
  Iterator iterator=FilteringIterator.create(mockIterator,mockCondition);
  Assert.assertTrue(iterator.hasNext());
  Assert.assertTrue(iterator.hasNext());
  Assert.assertEquals(2,mockIterator.myHasNextCalls);
  Assert.assertEquals(2,mockCondition.myValueCalls);
  Assert.assertEquals("a",iterator.next());
  Assert.assertEquals(2,mockIterator.myHasNextCalls);
  Assert.assertEquals(2,mockCondition.myValueCalls);
  iterator.remove();
  Assert.assertEquals(2,mockIterator.myHasNextCalls);
  Assert.assertEquals(2,mockCondition.myValueCalls);
  Assert.assertTrue(iterator.hasNext());
  Assert.assertTrue(iterator.hasNext());
  Assert.assertEquals(4,mockIterator.myHasNextCalls);
  Assert.assertEquals(4,mockCondition.myValueCalls);
  Assert.assertEquals("b",iterator.next());
  Assert.assertEquals(4,mockIterator.myHasNextCalls);
  Assert.assertEquals(4,mockCondition.myValueCalls);
  Assert.assertEquals(3,list.size());
}
