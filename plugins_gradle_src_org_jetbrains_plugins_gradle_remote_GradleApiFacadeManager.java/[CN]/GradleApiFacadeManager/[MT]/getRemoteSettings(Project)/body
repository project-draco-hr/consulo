{
  File gradleHome=myGradleInstallationManager.getGradleHome(project);
  boolean useWrapper=true;
  if (project != null) {
    useWrapper=!GradleSettings.getInstance(project).isPreferLocalInstallationToWrapper();
  }
  String localGradlePath=null;
  if (gradleHome != null) {
    try {
      localGradlePath=gradleHome.getCanonicalPath();
    }
 catch (    IOException e) {
      localGradlePath=gradleHome.getAbsolutePath();
    }
  }
  RemoteGradleProcessSettings result=new RemoteGradleProcessSettings(localGradlePath,useWrapper);
  String ttlAsString=System.getProperty(REMOTE_PROCESS_TTL_IN_MS_KEY);
  if (ttlAsString != null) {
    try {
      long ttl=Long.parseLong(ttlAsString.trim());
      result.setTtlInMs(ttl);
    }
 catch (    NumberFormatException e) {
      GradleLog.LOG.warn("Incorrect remote process ttl value detected. Expected to find number, found '" + ttlAsString + "'");
    }
  }
  GradleJavaHelper javaHelper=new GradleJavaHelper();
  result.setJavaHome(javaHelper.getJdkHome());
  return result;
}
