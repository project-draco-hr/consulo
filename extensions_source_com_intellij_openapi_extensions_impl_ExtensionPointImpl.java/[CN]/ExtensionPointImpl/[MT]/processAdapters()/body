{
  if (!myExtensionAdapters.isEmpty()) {
    List<ExtensionComponentAdapter> allAdapters=new ArrayList<ExtensionComponentAdapter>(myExtensionAdapters.size() + myLoadedAdapters.size());
    allAdapters.addAll(myExtensionAdapters);
    allAdapters.addAll(myLoadedAdapters);
    myExtensions.clear();
    List<ExtensionComponentAdapter> loadedAdapters=myLoadedAdapters;
    myLoadedAdapters=new CopyOnWriteArrayList<ExtensionComponentAdapter>();
    ExtensionComponentAdapter[] adapters=allAdapters.toArray(new ExtensionComponentAdapter[myExtensionAdapters.size()]);
    LoadingOrder.sort(adapters);
    for (int i=0; i < adapters.length; i++) {
      ExtensionComponentAdapter adapter=adapters[i];
      T extension=(T)adapter.getExtension();
      internalRegisterExtension(extension,adapter,i,!loadedAdapters.contains(adapter));
    }
    myExtensionAdapters.clear();
  }
}
