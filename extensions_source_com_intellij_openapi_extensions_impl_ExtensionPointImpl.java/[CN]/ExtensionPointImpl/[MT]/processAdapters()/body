{
  if (!myExtensionAdapters.isEmpty()) {
    List<ExtensionComponentAdapter> allAdapters=new ArrayList<ExtensionComponentAdapter>(myExtensionAdapters.size() + myLoadedAdapters.size());
    allAdapters.addAll(myExtensionAdapters);
    allAdapters.addAll(myLoadedAdapters);
    myExtensions.clear();
    ExtensionComponentAdapter[] loadedAdapters=myLoadedAdapters.toArray(new ExtensionComponentAdapter[myLoadedAdapters.size()]);
    myLoadedAdapters.clear();
    ExtensionComponentAdapter[] adapters=allAdapters.toArray(new ExtensionComponentAdapter[myExtensionAdapters.size()]);
    LoadingOrder.sort(adapters);
    for (int i=0; i < adapters.length; i++) {
      ExtensionComponentAdapter adapter=adapters[i];
      T extension=(T)adapter.getExtension();
      internalRegisterExtension(extension,adapter,i,ArrayUtil.find(loadedAdapters,adapter) == -1);
    }
    myExtensionAdapters.clear();
  }
}
