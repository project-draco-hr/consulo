{
  myExtensionsCache=null;
  if (!myExtensions.contains(extension)) {
    throw new IllegalArgumentException("Extension to be removed not found: " + extension);
  }
  int index=myExtensions.indexOf(extension);
  myExtensions.remove(index);
  myLoadedAdapters.remove(index);
  notifyListenersOnRemove(extension,pluginDescriptor);
  if (extension instanceof Extension) {
    Extension o=(Extension)extension;
    try {
      o.extensionRemoved(this);
    }
 catch (    Throwable e) {
      myLogger.error(e);
    }
  }
}
