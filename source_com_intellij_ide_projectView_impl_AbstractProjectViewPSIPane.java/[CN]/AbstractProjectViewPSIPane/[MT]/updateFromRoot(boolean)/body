{
  final ArrayList<Object> pathsToExpand=new ArrayList<Object>();
  final ArrayList<Object> selectionPaths=new ArrayList<Object>();
  if (restoreExpandedPaths) {
    TreeBuilderUtil.storePaths(myTreeBuilder,(DefaultMutableTreeNode)myTree.getModel().getRoot(),pathsToExpand,selectionPaths,true);
  }
  myTreeBuilder.updateFromRoot();
  if (restoreExpandedPaths) {
    myTree.setSelectionPaths(new TreePath[0]);
    TreeBuilderUtil.restorePaths(myTreeBuilder,pathsToExpand,selectionPaths,true);
  }
}
