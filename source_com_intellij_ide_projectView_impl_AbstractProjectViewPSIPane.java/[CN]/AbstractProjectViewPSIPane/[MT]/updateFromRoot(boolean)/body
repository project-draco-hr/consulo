{
  final ArrayList pathsToExpand=new ArrayList();
  final ArrayList selectionPaths=new ArrayList();
  if (restoreExpandedPaths) {
    TreeBuilderUtil.storePaths(myTreeBuilder,(DefaultMutableTreeNode)myTree.getModel().getRoot(),pathsToExpand,selectionPaths,true);
  }
  myTreeBuilder.updateFromRoot();
  if (restoreExpandedPaths) {
    myTree.setSelectionPaths(new TreePath[0]);
    TreeBuilderUtil.restorePaths(myTreeBuilder,pathsToExpand,selectionPaths,true);
  }
}
