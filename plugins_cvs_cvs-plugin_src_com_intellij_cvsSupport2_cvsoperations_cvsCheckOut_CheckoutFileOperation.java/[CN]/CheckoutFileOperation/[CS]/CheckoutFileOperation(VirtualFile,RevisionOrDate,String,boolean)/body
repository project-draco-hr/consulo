{
  super(new CheckoutAdminReader());
  myMakeNewFilesReadOnly=makeNewFilesReadOnly;
  myRevisionOrDate=revisionOrDate;
  myFile=CvsVfsUtil.getFileFor(parent,fileName);
  myIsDirectory=myFile.isDirectory();
  new WriteAction(){
    protected void run(    Result result) throws Throwable {
      final String parentModule=CvsUtil.getModuleName(parent);
      VirtualFile file=parent.findChild(fileName);
      if (parentModule == null && file != null) {
        myModuleName=CvsUtil.getModuleName(file);
      }
 else {
        myModuleName=parentModule + "/" + fileName;
      }
    }
  }
.execute();
  addFile(myFile.getAbsolutePath());
}
