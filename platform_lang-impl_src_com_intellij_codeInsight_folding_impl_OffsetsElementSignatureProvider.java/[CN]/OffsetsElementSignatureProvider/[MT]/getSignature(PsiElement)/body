{
  TextRange range=element.getTextRange();
  if (range.isEmpty()) {
    return null;
  }
  StringBuilder buffer=new StringBuilder();
  buffer.append(TYPE_MARKER).append("#");
  buffer.append(range.getStartOffset());
  buffer.append(ELEMENT_TOKENS_SEPARATOR);
  buffer.append(range.getEndOffset());
  int index=0;
  for (PsiElement e=element.getParent(); e != null && range.equals(e.getTextRange()); e=e.getParent()) {
    index++;
  }
  buffer.append(ELEMENT_TOKENS_SEPARATOR).append(index);
  return buffer.toString();
}
