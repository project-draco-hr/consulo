{
  fillFile(myProjectRepo,new String[]{"file.txt"},"initial contents");
  runHgOnProjectRepo("add",".");
  runHgOnProjectRepo("commit","-m","initial contents");
  runHgOnProjectRepo("rename","file.txt","file2.txt");
  runHgOnProjectRepo("commit","-m","file renamed");
  fillFile(myProjectRepo,new String[]{"file2.txt"},"updated contents");
  runHgOnProjectRepo("commit","-m","updated contents");
  HgCatCommand command=new HgCatCommand(myProject);
  String content=command.execute(getHgFile("file2.txt"),HgRevisionNumber.getLocalInstance("0"),Charset.defaultCharset());
  assertEquals(content,"initial contents");
}
