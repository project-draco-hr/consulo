{
  Lexer lexer=new PropertiesLexer();
  lexer.start(text.toCharArray());
  int idx=0;
  while (lexer.getTokenType() != null) {
    if (idx > expectedTokens.length)     fail("Too many tokens");
    String tokenName=lexer.getTokenType().toString();
    assertEquals(expectedTokens[idx],tokenName);
    idx++;
    lexer.advance();
  }
  if (idx < expectedTokens.length)   fail("Not enough tokens");
}
