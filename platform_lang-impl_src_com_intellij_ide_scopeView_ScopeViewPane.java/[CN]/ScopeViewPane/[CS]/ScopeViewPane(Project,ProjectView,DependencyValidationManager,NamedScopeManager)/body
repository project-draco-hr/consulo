{
  super(project);
  myProjectView=projectView;
  myDependencyValidationManager=dependencyValidationManager;
  myNamedScopeManager=namedScopeManager;
  myScopeListener=new NamedScopesHolder.ScopeListener(){
    Alarm refreshProjectViewAlarm=new Alarm();
    public void scopesChanged(){
      refreshProjectViewAlarm.cancelAllRequests();
      refreshProjectViewAlarm.addRequest(new Runnable(){
        public void run(){
          if (myProject.isDisposed())           return;
          String subId=getSubId();
          myProjectView.removeProjectPane(ScopeViewPane.this);
          myProjectView.addProjectPane(ScopeViewPane.this);
          myProjectView.changeView(getId(),subId);
        }
      }
,10);
    }
  }
;
  myDependencyValidationManager.addScopeListener(myScopeListener);
  myNamedScopeManager.addScopeListener(myScopeListener);
}
