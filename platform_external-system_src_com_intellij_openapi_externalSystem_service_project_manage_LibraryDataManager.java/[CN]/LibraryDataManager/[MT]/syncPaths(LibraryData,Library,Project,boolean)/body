{
  Set<String> toRemove=ContainerUtilRt.newHashSet();
  Set<String> toAdd=ContainerUtilRt.newHashSet(gradleLibrary.getPaths(LibraryPathType.BINARY));
  for (  VirtualFile ideFile : ideLibrary.getFiles(OrderRootType.CLASSES)) {
    String idePath=ExternalSystemUtil.getLocalFileSystemPath(ideFile);
    if (!toAdd.remove(idePath)) {
      toRemove.add(idePath);
    }
  }
  if (toRemove.isEmpty() && toAdd.isEmpty()) {
    return;
  }
  Function<String,JarData> jarMapper=new Function<String,JarData>(){
    @Override public JarData fun(    String path){
      return new JarData(path,LibraryPathType.BINARY,ideLibrary,null,ProjectSystemId.IDE);
    }
  }
;
  if (!toRemove.isEmpty()) {
    List<JarData> jarsToRemove=ContainerUtil.map(toRemove,jarMapper);
    myJarManager.removeJars(jarsToRemove,project,synchronous);
  }
  if (!toAdd.isEmpty()) {
    List<JarData> jarsToAdd=ContainerUtil.map(toAdd,jarMapper);
    myJarManager.importJars(jarsToAdd,project,synchronous);
  }
}
