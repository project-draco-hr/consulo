{
class SelectSubIdAction extends AnAction {
    private final String mySubId;
    public SelectSubIdAction(    String subId,    String presentableName){
      super(presentableName);
      mySubId=subId;
    }
    public void update(    AnActionEvent e){
      e.getPresentation().setEnabled(target.isSubIdSelectable(mySubId,context));
    }
    public void actionPerformed(    AnActionEvent e){
      target.setSubId(mySubId);
      target.selectIn(context,true);
    }
  }
  DefaultActionGroup group=new DefaultActionGroup();
  int i=0;
  for (  String subId : target.getSubIds()) {
    SelectSubIdAction action=new SelectSubIdAction(subId,numberingText(i++,target.getSubIdPresentableName(subId)));
    group.add(action);
  }
  DataContext dataContext=DataManager.getInstance().getDataContext();
  final Component component=(Component)dataContext.getData(DataConstants.CONTEXT_COMPONENT);
  String subTitle=IdeBundle.message("title.popup.select.subtarget",target.toString());
  return JBPopupFactory.getInstance().createActionsStep(group,dataContext,false,true,subTitle,component,true);
}
