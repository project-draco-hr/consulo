{
  final String projectJdkName=myProjectRootManager.getProjectJdkName();
  if (!getRootModel().isWritable() || ApplicationManager.getApplication().isUnitTestMode()) {
    return projectJdkName;
  }
  final ProjectJdk projectJdk=getJdk();
  if (projectJdk != null) {
    return projectJdk.getName();
  }
 else {
    final Project project=getRootModel().getModule().getProject();
    return ProjectJdksModel.getInstance(project).findSdk(projectJdkName) == null ? projectJdkName : null;
  }
}
