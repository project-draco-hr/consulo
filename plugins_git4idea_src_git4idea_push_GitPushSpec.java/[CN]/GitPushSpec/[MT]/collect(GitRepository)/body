{
  repository.update();
  GitLocalBranch currentBranch=repository.getCurrentBranch();
  LOG.assertTrue(currentBranch != null,"Push shouldn't be available in the detached HEAD state");
  return new GitPushSpec(currentBranch,currentBranch.findTrackedBranch(repository));
}
