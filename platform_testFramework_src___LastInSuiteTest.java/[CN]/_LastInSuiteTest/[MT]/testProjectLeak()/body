{
  new WriteCommandAction.Simple(null){
    @Override protected void run() throws Throwable {
      LightPlatformTestCase.closeAndDeleteProject();
    }
  }
.execute().throwException();
  final Application application=ApplicationManager.getApplication();
  LeakedProjectHunter.checkProjectLeak(application);
  UIUtil.invokeAndWaitIfNeeded(new Runnable(){
    @Override public void run(){
      try {
        LightPlatformTestCase.disposeApplication();
      }
 catch (      Exception e) {
        throw new RuntimeException(e);
      }
    }
  }
);
  Disposer.assertIsEmpty();
}
