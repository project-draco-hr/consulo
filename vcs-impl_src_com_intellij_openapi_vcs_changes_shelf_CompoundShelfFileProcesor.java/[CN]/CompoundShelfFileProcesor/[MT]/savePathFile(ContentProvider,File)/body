{
  OutputStreamWriter writer=new OutputStreamWriter(new FileOutputStream(patchPath));
  try {
    contentProvider.writeContentTo(writer);
  }
  finally {
    writer.close();
  }
  for (  StreamProvider serverStreamProvider : myServerStreamProviders) {
    FileInputStream input=new FileInputStream(patchPath);
    try {
      serverStreamProvider.saveContent(FILE_SPEC + patchPath.getName(),input,patchPath.length(),PER_USER);
    }
  finally {
      input.close();
    }
  }
}
