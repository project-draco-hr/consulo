{
synchronized (PsiLock.LOCK) {
    myInvalidated=invalidate;
    if (!myInitializedChildren.isEmpty()) {
      for (      DomInvocationHandler handler : myFixedChildren.values()) {
        handler.detach(invalidate);
      }
      if (myXmlTag != null && myXmlTag.isValid()) {
        for (        CollectionElementInvocationHandler handler : getCollectionChildren()) {
          handler.detach(true);
        }
      }
    }
    myInitializedChildren.clear();
    removeFromCache();
    setXmlTagToNull();
  }
}
