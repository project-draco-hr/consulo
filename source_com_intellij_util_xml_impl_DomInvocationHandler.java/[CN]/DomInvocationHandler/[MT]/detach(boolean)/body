{
synchronized (PsiLock.LOCK) {
    if (myXmlTag == null)     return;
    myInvalidated=invalidate;
    if (!myInitializedChildren.isEmpty()) {
      Set<DomInvocationHandler> fixedChildren=new HashSet<DomInvocationHandler>(myFixedChildren.values());
      for (      DomInvocationHandler handler : fixedChildren) {
        handler.detach(invalidate);
      }
      for (      CollectionElementInvocationHandler handler : getCollectionChildren()) {
        handler.detach(true);
      }
    }
    myInitializedChildren.clear();
    removeFromCache();
    setXmlTagToNull();
  }
}
