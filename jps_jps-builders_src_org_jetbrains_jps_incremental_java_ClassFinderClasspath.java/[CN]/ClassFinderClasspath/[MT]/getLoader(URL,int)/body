{
  String s;
  try {
    s=url.toURI().getSchemeSpecificPart();
  }
 catch (  URISyntaxException thisShouldNotHappen) {
    thisShouldNotHappen.printStackTrace();
    s=url.getFile();
  }
  Loader loader=null;
  if (s != null && new File(s).isDirectory()) {
    if (FILE_PROTOCOL.equals(url.getProtocol())) {
      loader=new FileLoader(url,index);
    }
  }
 else {
    loader=new JarLoader(url,index);
  }
  return loader;
}
