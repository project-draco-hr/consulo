{
  final String path=myContext.getProjectFileDirectory() + "/empty-java.iml";
  final ExistingModuleLoader loader=ImportImlMode.setUpLoader(path);
  return new ProjectBuilder(){
    @Nullable @Override public List<Module> commit(    Project project,    ModifiableModuleModel model,    ModulesProvider modulesProvider){
      VirtualFile file=LocalFileSystem.getInstance().refreshAndFindFileByPath(myContext.getProjectFileDirectory());
      doGenerate(project,file,myPeer.getValue().getSettings());
      return loader.commit(project,model,modulesProvider);
    }
  }
;
}
