{
  if (ApplicationManager.getApplication() != null) {
    final CodeInsightSettings defaultSettings=new CodeInsightSettings(null);
    final CodeInsightSettings settings=CodeInsightSettings.getInstance();
    final boolean eq=areSettingsEqual(defaultSettings,settings);
    if (!eq) {
      Element defaultElement=new Element("temp");
      defaultSettings.writeExternal(defaultElement);
      Element element=new Element("temp");
      settings.writeExternal(element);
      settings.readExternal(defaultElement);
      assertEquals("Code insight settings damaged",JDOMUtil.writeElement(defaultElement,"\n"),JDOMUtil.writeElement(element,"\n"));
    }
  }
  Disposer.dispose(myTestRootDisposable);
  super.tearDown();
}
