{
  if (ApplicationManager.getApplication() != null) {
    final CodeInsightSettings defaultSettings=new CodeInsightSettings(null);
    final CodeInsightSettings settings=CodeInsightSettings.getInstance();
    final boolean eq=areSettingsEqual(defaultSettings,settings);
    if (!eq) {
      final Element element=new Element("temp");
      defaultSettings.writeExternal(element);
      settings.readExternal(element);
      fail("Code insight settings damaged");
    }
  }
  Disposer.dispose(myTestRootDisposable);
  super.tearDown();
}
