{
  final List<VirtualFile> virtualFiles=myFileGroupList.get(group);
  if (virtualFiles == null || virtualFiles.isEmpty()) {
    return AntBuildFile.EMPTY_ARRAY;
  }
  List<AntBuildFile> files=new ArrayList<AntBuildFile>();
  final AntConfigurationBase antConfiguration=AntConfigurationBase.getInstance(myProject);
  final PsiManager manager=PsiManager.getInstance(myProject);
  for (  VirtualFile virtualFile : virtualFiles) {
    final PsiFile file=manager.findFile(virtualFile);
    if (!(file instanceof XmlFile)) {
      continue;
    }
    final AntBuildFileBase antBuildFile=antConfiguration.getAntBuildFile(file);
    if (antBuildFile == null) {
      continue;
    }
    files.add(antBuildFile);
  }
  return files.toArray(new AntBuildFile[files.size()]);
}
