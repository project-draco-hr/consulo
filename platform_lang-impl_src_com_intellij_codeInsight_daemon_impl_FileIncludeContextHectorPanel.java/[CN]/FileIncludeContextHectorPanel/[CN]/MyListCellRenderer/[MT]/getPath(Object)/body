{
  final VirtualFile file=(VirtualFile)value;
  final ProjectFileIndex fileIndex=ProjectRootManager.getInstance(myFile.getProject()).getFileIndex();
  if (file != null) {
    VirtualFile root=fileIndex.getSourceRootForFile(file);
    if (root == null) {
      root=fileIndex.getContentRootForFile(file);
    }
    if (root != null) {
      return VfsUtilCore.getRelativePath(file,root,'/');
    }
  }
  return null;
}
