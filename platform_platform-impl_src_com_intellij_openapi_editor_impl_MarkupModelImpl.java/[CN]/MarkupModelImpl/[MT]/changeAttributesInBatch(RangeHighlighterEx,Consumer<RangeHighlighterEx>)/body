{
  ApplicationManager.getApplication().assertIsDispatchThread();
  boolean changed=highlighter instanceof PersistentRangeHighlighterImpl ? ((PersistentRangeHighlighterImpl)highlighter).changeAttributesInBatch(changeAttributesAction) : ((RangeHighlighterImpl)highlighter).changeAttributesInBatch(changeAttributesAction);
  if (changed) {
    fireAttributesChanged(highlighter);
  }
}
