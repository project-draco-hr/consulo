{
  if (myProject.isDefault())   return null;
  final String path=getProjectFilePath();
  if (!StringUtil.isEmptyOrSpaces(path)) {
    return myScheme == StorageScheme.DEFAULT ? new File(path).getParent() : new File(path).getParentFile().getParent();
  }
  final StateStorage s=getStateStorageManager().getFileStateStorage(StoragePathMacros.PROJECT_FILE);
  if (!(s instanceof FileBasedStorage))   return null;
  final FileBasedStorage storage=(FileBasedStorage)s;
  final File file=storage.getFile();
  if (file == null)   return null;
  return myScheme == StorageScheme.DEFAULT ? file.getParent() : file.getParentFile().getParent();
}
