{
  final String componentName=super.initComponent(component,service);
  if (!ApplicationManager.getApplication().isHeadlessEnvironment() && !ApplicationManager.getApplication().isUnitTestMode()) {
    if (service && componentName != null && myProject.isInitialized()) {
      final TrackingPathMacroSubstitutor substitutor=getStateStorageManager().getMacroSubstitutor();
      if (substitutor != null) {
        final Collection<String> macros=substitutor.getUnknownMacros(componentName);
        if (!macros.isEmpty()) {
          Notifications.Bus.notify(new Notification("Load Error","Error loading component",String.format("<p>Undefined Path Variables: <i>%s</i>. <a href=\"\">Fix it!</a></p>",StringUtil.join(macros,", ")),NotificationType.ERROR,new NotificationListener(){
            public void hyperlinkUpdate(            @NotNull Notification notification,            @NotNull HyperlinkEvent event){
              ((ComponentManagerEx)myProject).checkUnknownMacros(myProject,notification);
            }
          }
),NotificationDisplayType.STICKY_BALLOON,myProject);
        }
      }
    }
  }
  return componentName;
}
