{
  final Change change=(Change)userObject;
  final FilePath filePath=ChangesUtil.getFilePath(change);
  final String fileName=filePath.getName();
  VirtualFile vFile=filePath.getVirtualFile();
  final Color changeColor=change.getFileStatus().getColor();
  renderer.appendFileName(vFile,fileName,changeColor);
  if (change.isRenamed() || change.isMoved()) {
    FilePath beforePath=change.getBeforeRevision().getFile();
    if (change.isRenamed()) {
      renderer.append(" - renamed from " + beforePath.getName(),SimpleTextAttributes.REGULAR_ATTRIBUTES);
    }
 else {
      renderer.append(" - moved from " + change.getMoveRelativePath(),SimpleTextAttributes.REGULAR_ATTRIBUTES);
    }
  }
  if (renderer.isShowFlatten()) {
    final File parentFile=filePath.getIOFile().getParentFile();
    if (parentFile != null) {
      renderer.append(" (" + parentFile.getPath() + ")",SimpleTextAttributes.GRAYED_ATTRIBUTES);
    }
  }
 else   if (getCount() != 1 || getDirectoryCount() != 0) {
    appendCount(renderer);
  }
  if (filePath.isDirectory()) {
    renderer.setIcon(Icons.DIRECTORY_CLOSED_ICON);
  }
 else {
    renderer.setIcon(filePath.getFileType().getIcon());
  }
}
