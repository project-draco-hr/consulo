{
  mySdkModel=sdkModel;
  myInternalJdkComboBox.setModel(myJdksModel);
  myInternalJdkComboBox.setRenderer(new DefaultListCellRenderer(){
    public Component getListCellRendererComponent(    final JList list,    final Object value,    final int index,    final boolean isSelected,    final boolean cellHasFocus){
      final Component rendererComponent=super.getListCellRendererComponent(list,value,index,isSelected,cellHasFocus);
      if (value instanceof Sdk) {
        setText(((Sdk)value).getName());
      }
      return rendererComponent;
    }
  }
);
  myBuildTargetComboBox.setModel(myBuildTargetsModel);
  myBuildTargetComboBox.setRenderer(new DefaultListCellRenderer(){
    public Component getListCellRendererComponent(    final JList list,    final Object value,    final int index,    final boolean isSelected,    final boolean cellHasFocus){
      final Component rendererComponent=super.getListCellRendererComponent(list,value,index,isSelected,cellHasFocus);
      if (value instanceof IAndroidTarget) {
        setText(AndroidSdkUtils.getTargetPresentableName((IAndroidTarget)value));
      }
      return rendererComponent;
    }
  }
);
  myBuildTargetComboBox.addItemListener(new ItemListener(){
    public void itemStateChanged(    final ItemEvent e){
      final IAndroidTarget target=(IAndroidTarget)e.getItem();
      List<OrderRoot> roots=AndroidSdkUtils.getLibraryRootsForTarget(target,mySdkLocation);
      Map<OrderRootType,VirtualFile[]> configuredRoots=new HashMap<OrderRootType,VirtualFile[]>();
      for (      OrderRootType type : OrderRootType.getAllTypes()) {
        configuredRoots.put(type,sdkModificator.getRoots(type));
      }
      for (      OrderRoot root : roots) {
        if (e.getStateChange() == ItemEvent.DESELECTED) {
          sdkModificator.removeRoot(root.getFile(),root.getType());
        }
 else {
          VirtualFile[] configuredRootsForType=configuredRoots.get(root.getType());
          if (ArrayUtil.find(configuredRootsForType,root.getFile()) == -1) {
            sdkModificator.addRoot(root.getFile(),root.getType());
          }
        }
      }
    }
  }
);
}
