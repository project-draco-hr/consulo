{
  Set<String> result=new HashSet<String>();
  if (myType == PROJECT || myType == CUSTOM) {
    final ProjectProfileManager profileManager=ProjectProfileManager.getProjectProfileManager(myProject,Profile.INSPECTION);
    LOG.assertTrue(profileManager != null);
    result.addAll(profileManager.getProfilesUsedInProject().values());
  }
 else   if (myType == MODULE) {
    processModule(result,myModule);
  }
 else   if (myType == MODULES) {
    for (    Module module : myModules) {
      processModule(result,module);
    }
  }
 else   if (myType == FILE || myType == DIRECTORY) {
    final ProjectProfileManager profileManager=ProjectProfileManager.getProjectProfileManager(myElement.getProject(),Profile.INSPECTION);
    LOG.assertTrue(profileManager != null);
    result.add(profileManager.getProfile(((PsiFile)myElement).getVirtualFile()));
  }
 else   if (myType == PACKAGE) {
    final ProjectProfileManager profileManager=ProjectProfileManager.getProjectProfileManager(myElement.getProject(),Profile.INSPECTION);
    LOG.assertTrue(profileManager != null);
    final PsiDirectory[] psiDirectories=((PsiPackage)myElement).getDirectories();
    for (    PsiDirectory directory : psiDirectories) {
      result.add(profileManager.getProfile(directory.getVirtualFile()));
    }
  }
  return result;
}
