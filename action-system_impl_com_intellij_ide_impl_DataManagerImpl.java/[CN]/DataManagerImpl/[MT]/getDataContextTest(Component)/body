{
  TypeSafeDataContext dataContext=getDataContext(component);
  if (myWindowManager == null) {
    return dataContext;
  }
  Project project=(Project)dataContext.getData(DataConstants.PROJECT);
  Component focusedComponent=myWindowManager.getFocusedComponent(project);
  if (focusedComponent != null) {
    dataContext=getDataContext(focusedComponent);
  }
  return dataContext;
}
