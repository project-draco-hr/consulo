{
  DataProvider dataProvider=null;
  if (c instanceof DataProvider) {
    dataProvider=(DataProvider)c;
  }
 else   if (c instanceof TypeSafeDataProvider) {
    dataProvider=new TypeSafeDataProviderAdapter((TypeSafeDataProvider)c);
  }
 else   if (c instanceof JComponent) {
    JComponent component=(JComponent)c;
    dataProvider=(DataProvider)component.getClientProperty(CLIENT_PROPERTY_DATA_PROVIDER);
  }
  return dataProvider;
}
