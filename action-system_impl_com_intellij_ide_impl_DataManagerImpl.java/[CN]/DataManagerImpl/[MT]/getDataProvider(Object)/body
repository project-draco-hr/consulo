{
  DataProvider dataProvider=null;
  if (component instanceof DataProvider) {
    dataProvider=(DataProvider)component;
  }
 else   if (component instanceof TypeSafeDataProvider) {
    dataProvider=new TypeSafeDataProviderAdapter((TypeSafeDataProvider)component);
  }
 else   if (component instanceof JComponent) {
    dataProvider=(DataProvider)((JComponent)component).getClientProperty(CLIENT_PROPERTY_DATA_PROVIDER);
  }
  return dataProvider;
}
