{
  Set<GitLocalBranch> localBranches=readUnpackedLocalBranches();
  Set<GitRemoteBranch> remoteBranches=readUnpackedRemoteBranches(remotes);
  GitBranchesCollection packedBranches=readPackedBranches(remotes);
  localBranches.addAll(packedBranches.getLocalBranches());
  remoteBranches.addAll(packedBranches.getRemoteBranches());
  return new GitBranchesCollection(localBranches,remoteBranches);
}
