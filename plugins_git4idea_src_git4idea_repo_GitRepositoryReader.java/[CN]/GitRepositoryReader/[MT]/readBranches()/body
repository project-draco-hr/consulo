{
  Set<GitBranch> localBranches=readUnpackedLocalBranches();
  Set<GitBranch> remoteBranches=readUnpackedRemoteBranches();
  GitBranchesCollection packedBranches=readPackedBranches();
  localBranches.addAll(packedBranches.getLocalBranches());
  remoteBranches.addAll(packedBranches.getRemoteBranches());
  GitBranch currentBranch=readCurrentBranch();
  markActiveBranch(localBranches,currentBranch);
  return new GitBranchesCollection(localBranches,remoteBranches);
}
