{
  final Set<GitRemoteBranch> branches=new HashSet<GitRemoteBranch>();
  if (!myRefsRemotesDir.exists()) {
    return branches;
  }
  FileUtil.processFilesRecursively(myRefsRemotesDir,new Processor<File>(){
    @Override public boolean process(    File file){
      if (!file.isDirectory()) {
        final String relativePath=FileUtil.getRelativePath(myGitDir,file);
        if (relativePath != null) {
          String branchName=FileUtil.toSystemIndependentName(relativePath);
          String hash=loadHashFromBranchFile(file);
          GitRemoteBranch remoteBranch=GitBranchUtil.parseRemoteBranch(branchName,createHash(hash),remotes);
          if (remoteBranch != null) {
            branches.add(remoteBranch);
          }
        }
      }
      return true;
    }
  }
);
  return branches;
}
