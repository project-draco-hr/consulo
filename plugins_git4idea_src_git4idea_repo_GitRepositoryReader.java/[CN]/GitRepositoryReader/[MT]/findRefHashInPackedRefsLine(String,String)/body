{
  if (line.startsWith("#")) {
    return null;
  }
  if (PACKED_REFS_TAGREF_LINE.matcher(line).matches()) {
    return null;
  }
  Matcher matcher=PACKED_REFS_BRANCH_LINE.matcher(line);
  if (matcher.matches()) {
    String hash=matcher.group(1);
    String branch=matcher.group(2);
    if (branch.endsWith(ref)) {
      return hash;
    }
  }
 else {
    LOG.info("Ignoring invalid packed-refs line: [" + line + "]");
    return null;
  }
  return null;
}
