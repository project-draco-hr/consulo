{
  final Map<String,File> branches=new HashMap<String,File>();
  if (!myRefsHeadsDir.exists()) {
    return branches;
  }
  FileUtil.processFilesRecursively(myRefsHeadsDir,new Processor<File>(){
    @Override public boolean process(    File file){
      if (!file.isDirectory()) {
        String relativePath=FileUtil.getRelativePath(myRefsHeadsDir,file);
        if (relativePath != null) {
          branches.put(FileUtil.toSystemIndependentName(relativePath),file);
        }
      }
      return true;
    }
  }
);
  return branches;
}
