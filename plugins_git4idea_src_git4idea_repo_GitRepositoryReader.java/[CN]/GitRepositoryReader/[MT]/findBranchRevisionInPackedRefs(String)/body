{
  final File packedRefs=new File(myGitDir,"packed-refs");
  if (!packedRefs.exists()) {
    return null;
  }
  return tryOrThrow(new Callable<String>(){
    @Override public String call() throws Exception {
      BufferedReader reader=null;
      try {
        reader=new BufferedReader(new FileReader(packedRefs));
        String line;
        while ((line=reader.readLine()) != null) {
          String hash=findRefHashInPackedRefsLine(line,ref);
          if (hash != null) {
            return hash;
          }
        }
        return null;
      }
  finally {
        if (reader != null) {
          reader.close();
        }
      }
    }
  }
,packedRefs);
}
