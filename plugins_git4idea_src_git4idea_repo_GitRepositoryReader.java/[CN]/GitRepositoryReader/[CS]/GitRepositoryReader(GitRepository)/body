{
  myRepository=repository;
  myGitDir=new File(VfsUtil.virtualToIoFile(myRepository.getRoot()),".git");
  assertFileExists(myGitDir,".git directory not found in " + myRepository.getRoot());
  myHeadFile=new File(myGitDir,"HEAD");
  assertFileExists(myHeadFile,".git/HEAD file not found in " + myRepository.getRoot());
  myRefsHeadsDir=new File(new File(myGitDir,"refs"),"heads");
  myRefsRemotesDir=new File(new File(myGitDir,"refs"),"remotes");
  myPackedRefsFile=new File(myGitDir,"packed-refs");
}
