{
  final Module[] modules=chunk.getModules();
  if (isPlugins(modules)) {
    final BuildTargetsFactory factory=BuildTargetsFactory.getInstance();
    final Module module=modules[0];
    PluginBuildConfiguration buildProperties=PluginBuildConfiguration.getInstance(module);
    final Set<Library> libs=new HashSet<Library>();
    PluginBuildUtil.getLibraries(module,libs);
    @NonNls String jarPath=chunk.getBaseDir().getPath() + "/" + chunk.getName();
    if (libs.isEmpty()) {
      jarPath+=".jar";
    }
 else {
      jarPath+=".zip";
    }
    generator.add(new Property(PluginBuildProperties.getJarPathProperty(chunk.getName()),GenerationUtils.toRelativePath(jarPath,chunk,genOptions)),1);
    generator.add(factory.createComment(DevKitBundle.message("ant.build.jar.comment",chunk.getName())),1);
    generator.add(new BuildJarTarget(chunk,genOptions,buildProperties));
  }
}
