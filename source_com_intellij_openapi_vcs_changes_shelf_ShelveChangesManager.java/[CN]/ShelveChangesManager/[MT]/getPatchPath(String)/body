{
  File file=new File(myShelfPath);
  if (!file.exists()) {
    file.mkdirs();
  }
  @NonNls String defaultPath=commitMessage.replace(' ',' ').replace('.','_').replace(File.separatorChar,'_');
  if (defaultPath.length() == 0) {
    defaultPath="unnamed";
  }
  String path=defaultPath + PATCH_EXTENSION;
  int index=0;
  while (new File(file,path).exists()) {
    index++;
    path=defaultPath + index + PATCH_EXTENSION;
  }
  return new File(file,path);
}
