{
  PsiElement element=elements.length == 1 ? elements[0] : null;
  if (element == null)   element=getElement(dataContext);
  LOG.assertTrue(element != null);
  Editor editor=PlatformDataKeys.EDITOR.getData(dataContext);
  if (ApplicationManager.getApplication().isUnitTestMode()) {
    final String newName=DEFAULT_NAME.getData(dataContext);
    LOG.assertTrue(newName != null);
    rename(element,project,element,editor,newName);
  }
 else {
    invoke(element,project,element,editor);
  }
}
