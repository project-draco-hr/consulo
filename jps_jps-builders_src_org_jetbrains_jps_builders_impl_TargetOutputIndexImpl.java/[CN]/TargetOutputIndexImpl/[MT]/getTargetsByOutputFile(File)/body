{
  File current=file;
  Collection<BuildTarget<?>> result=null;
  while (current != null) {
    List<BuildTarget<?>> targets=myOutputToTargets.get(current);
    if (targets != null) {
      if (result == null) {
        result=targets;
      }
 else {
        result=new ArrayList<BuildTarget<?>>(result);
        result.addAll(targets);
      }
    }
    current=FileUtilRt.getParentFile(current);
  }
  return result != null ? result : Collections.<BuildTarget<?>>emptyList();
}
