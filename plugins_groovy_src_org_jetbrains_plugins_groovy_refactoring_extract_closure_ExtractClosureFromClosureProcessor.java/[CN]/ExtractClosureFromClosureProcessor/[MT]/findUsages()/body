{
  final List<UsageInfo> result=new ArrayList<UsageInfo>();
  final GrVariable var=(GrVariable)myHelper.getToSearchFor();
  for (  PsiReference ref : ReferencesSearch.search(var,GlobalSearchScope.allScope(myHelper.getProject()),true)) {
    final PsiElement element=ref.getElement();
    if (element.getLanguage() != GroovyFileType.GROOVY_LANGUAGE) {
      result.add(new OtherLanguageUsageInfo(ref));
      continue;
    }
    final GrCall call=GroovyRefactoringUtil.getCallExpressionByMethodReference(element);
    if (call == null)     continue;
    result.add(new ExternalUsageInfo(element));
  }
  return result.toArray(new UsageInfo[result.size()]);
}
