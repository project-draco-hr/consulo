{
  ProgressManager.checkCanceled();
  final ASTNode startTagName=XmlChildRole.START_TAG_NAME_FINDER.findChild(this);
  if (startTagName == null)   return PsiReference.EMPTY_ARRAY;
  final ASTNode endTagName=XmlChildRole.CLOSING_TAG_NAME_FINDER.findChild(this);
  final PsiReference[] referencesFromProviders=ReferenceProvidersRegistry.getReferencesFromProviders(this,XmlTag.class);
  if (endTagName != null) {
    final PsiReference[] psiReferences=new PsiReference[referencesFromProviders.length + 2];
    psiReferences[0]=TagNameReference.create(this,startTagName,true);
    psiReferences[1]=TagNameReference.create(this,endTagName,false);
    System.arraycopy(referencesFromProviders,0,psiReferences,2,referencesFromProviders.length);
    return psiReferences;
  }
 else {
    final PsiReference[] psiReferences=new PsiReference[referencesFromProviders.length + 1];
    psiReferences[0]=TagNameReference.create(this,startTagName,true);
    System.arraycopy(referencesFromProviders,0,psiReferences,1,referencesFromProviders.length);
    return psiReferences;
  }
}
