{
  boolean sameNsAsTag=false;
  if (namespace == null || namespace.equals(XmlUtil.ANY_URI) || (sameNsAsTag=namespace.equals(getNamespace()))) {
    final XmlAttribute attribute=getAttribute(name);
    if (attribute != null || !sameNsAsTag)     return attribute;
  }
  if (name != null && name.indexOf(':') != -1 || XmlUtil.EMPTY_URI.equals(namespace)) {
    return getAttribute(name);
  }
  final String prefix=getPrefixByNamespace(namespace);
  if (prefix == null)   return null;
  String qname=prefix.length() > 0 ? prefix + ":" + name : name;
  return getAttribute(qname);
}
