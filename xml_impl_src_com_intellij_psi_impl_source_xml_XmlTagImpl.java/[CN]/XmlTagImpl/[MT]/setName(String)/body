{
  final PomModel model=PomManager.getModel(getProject());
  final XmlAspect aspect=model.getModelAspect(XmlAspect.class);
  model.runTransaction(new PomTransactionBase(this,aspect){
    public PomModelEvent runInner() throws IncorrectOperationException {
      final String oldName=getName();
      final XmlTagImpl dummyTag=(XmlTagImpl)XmlElementFactory.getInstance(getProject()).createTagFromText(XmlTagUtil.composeTagText(name,"aa"));
      final XmlTagImpl tag=XmlTagImpl.this;
      final CharTable charTableByTree=SharedImplUtil.findCharTableByTree(tag);
      ASTNode child=XmlChildRole.START_TAG_NAME_FINDER.findChild(tag);
      LOG.assertTrue(child != null,"It seems '" + name + "' is not a valid tag name");
      TreeElement tagElement=(TreeElement)XmlChildRole.START_TAG_NAME_FINDER.findChild(dummyTag);
      LOG.assertTrue(tagElement != null,"What's wrong with it? '" + name + "'");
      tag.replaceChild(child,ChangeUtil.copyElement(tagElement,charTableByTree));
      final ASTNode childByRole=XmlChildRole.CLOSING_TAG_NAME_FINDER.findChild(tag);
      if (childByRole != null) {
        final TreeElement treeElement=(TreeElement)XmlChildRole.CLOSING_TAG_NAME_FINDER.findChild(dummyTag);
        if (treeElement != null) {
          tag.replaceChild(childByRole,ChangeUtil.copyElement(treeElement,charTableByTree));
        }
      }
      return XmlTagNameChangedImpl.createXmlTagNameChanged(model,tag,oldName);
    }
  }
);
  return this;
}
