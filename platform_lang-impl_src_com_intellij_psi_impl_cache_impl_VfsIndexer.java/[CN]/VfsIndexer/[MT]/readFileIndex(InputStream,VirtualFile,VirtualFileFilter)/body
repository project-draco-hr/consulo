{
  List<VirtualFile> result=new ArrayList<VirtualFile>();
  DataInputStream in=new DataInputStream(stream);
  String rootName=in.readUTF();
  LOG.assertTrue(root.getName().equals(rootName));
  _readFileIndex(in,root,filter,result);
  return VfsUtil.toVirtualFileArray(result);
}
