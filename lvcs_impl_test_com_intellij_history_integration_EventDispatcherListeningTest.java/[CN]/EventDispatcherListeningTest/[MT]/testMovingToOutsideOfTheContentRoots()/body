{
  vcs.createDirectory("myRoot");
  long timestamp=-1;
  vcs.createFile("myRoot/file",null,timestamp,false);
  TestVirtualFile f=testFile("file","content");
  TestVirtualFile oldParent=testDir("myRoot");
  TestVirtualFile newParent=testDir("anotherRoot");
  newParent.addChild(f);
  filter.setFilesNotUnderContentRoot(newParent);
  fireMoved(f,oldParent,newParent);
  assertFalse(vcs.hasEntry("myRoot/file"));
  assertFalse(vcs.hasEntry("anotherRoot/file"));
}
