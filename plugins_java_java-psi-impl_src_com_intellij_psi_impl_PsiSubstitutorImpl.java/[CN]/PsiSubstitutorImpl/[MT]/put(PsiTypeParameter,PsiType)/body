{
  PsiSubstitutorImpl ret=clone();
  if (mapping != null && !mapping.isValid()) {
    LOG.error("Invalid type in substitutor: " + mapping + "; "+ mapping.getClass());
  }
  ret.mySubstitutionMap.put(typeParameter,mapping);
  return ret;
}
