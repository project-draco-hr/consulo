{
  final AtomicReference<ProcessOutput> result=new AtomicReference<ProcessOutput>();
  final Runnable action=new Runnable(){
    @Override public void run(){
      try {
        result.set(myTest.executeCommand(new File(myDirFixture.getTempDirPath()),commandWithParameters));
      }
 catch (      IOException e) {
        result.set(null);
      }
    }
  }
;
  if (ApplicationManager.getApplication() == null) {
    action.run();
    return result.get();
  }
  if (writeAction) {
    ApplicationManager.getApplication().runWriteAction(action);
  }
 else {
    ApplicationManager.getApplication().runReadAction(action);
  }
  return result.get();
}
