{
  String id=ToolWindowManager.getInstance(project).getActiveToolWindowId();
  if (ToolWindowId.COMMANDER.equals(id)) {
    Commander commander=Commander.getInstance(project);
    CommanderPanel panel=selectInActivePanel ? commander.getActivePanel() : commander.getInactivePanel();
    panel.getBuilder().selectElement(newElement,BasePsiNode.getVirtualFile(newElement));
  }
 else   if (ToolWindowId.PROJECT_VIEW.equals(id)) {
    ProjectView.getInstance(project).selectPsiElement(newElement,true);
  }
 else   if (ToolWindowId.STRUCTURE_VIEW.equals(id)) {
    VirtualFile virtualFile=newElement.getContainingFile().getVirtualFile();
    FileEditor editor=FileEditorManager.getInstance(newElement.getProject()).getSelectedEditor(virtualFile);
    StructureViewFactory.getInstance(project).getStructureView().selectCurrentElement(editor,true);
  }
}
