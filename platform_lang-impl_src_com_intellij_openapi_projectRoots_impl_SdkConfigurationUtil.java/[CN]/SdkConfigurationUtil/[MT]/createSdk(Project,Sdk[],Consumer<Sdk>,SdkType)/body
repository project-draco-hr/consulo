{
  if (sdkTypes.length == 0) {
    onSdkCreatedCallBack.consume(null);
    return;
  }
  final FileChooserDescriptor descriptor=createCompositeDescriptor(sdkTypes);
  String suggestedPath=sdkTypes[0].suggestHomePath();
  VirtualFile suggestedDir=suggestedPath == null ? null : LocalFileSystem.getInstance().findFileByPath(FileUtil.toSystemIndependentName(suggestedPath));
  FileChooser.chooseFilesWithSlideEffect(descriptor,project,suggestedDir,new Consumer<VirtualFile[]>(){
    @Override public void consume(    VirtualFile[] selectedFiles){
      if (selectedFiles.length > 0) {
        for (        SdkType sdkType : sdkTypes) {
          if (sdkType.isValidSdkHome(selectedFiles[0].getPath())) {
            onSdkCreatedCallBack.consume(setupSdk(existingSdks,selectedFiles[0],sdkType,false,null,null));
            return;
          }
        }
      }
      onSdkCreatedCallBack.consume(null);
    }
  }
);
}
