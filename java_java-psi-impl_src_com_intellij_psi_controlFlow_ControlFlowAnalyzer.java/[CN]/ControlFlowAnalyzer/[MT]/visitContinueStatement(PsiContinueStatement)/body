{
  startElement(statement);
  PsiStatement continuedStatement=statement.findContinuedStatement();
  if (continuedStatement != null) {
    PsiElement body=null;
    if (continuedStatement instanceof PsiForStatement) {
      body=((PsiForStatement)continuedStatement).getBody();
    }
 else     if (continuedStatement instanceof PsiWhileStatement) {
      body=((PsiWhileStatement)continuedStatement).getBody();
    }
 else     if (continuedStatement instanceof PsiDoWhileStatement) {
      body=((PsiDoWhileStatement)continuedStatement).getBody();
    }
 else     if (continuedStatement instanceof PsiForeachStatement) {
      body=((PsiForeachStatement)continuedStatement).getBody();
    }
    if (body == null) {
      body=myCodeFragment;
    }
    final Instruction instruction;
    final PsiElement finallyBlock=findEnclosingFinallyBlockElement(statement,continuedStatement);
    final int finallyStartOffset=finallyBlock == null ? -1 : myCurrentFlow.getStartOffset(finallyBlock);
    if (finallyBlock != null && finallyStartOffset != -1) {
      CallInstruction callInstruction=(CallInstruction)myCurrentFlow.getInstructions().get(finallyStartOffset - 2);
      instruction=new ReturnInstruction(0,myStack,callInstruction);
    }
 else {
      instruction=new GoToInstruction(0);
    }
    myCurrentFlow.addInstruction(instruction);
    addElementOffsetLater(body,false);
  }
  finishElement(statement);
}
