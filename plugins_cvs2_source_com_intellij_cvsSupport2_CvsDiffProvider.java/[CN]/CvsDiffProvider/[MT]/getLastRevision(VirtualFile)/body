{
  final String stickyData=CvsUtil.getStickyDateForDirectory(virtualFile.getParent());
  if (stickyData != null) {
    return new Pair<Boolean,VcsRevisionNumber>(Boolean.TRUE,new CvsRevisionNumber(stickyData));
  }
 else {
    CvsOperationExecutor executor=new CvsOperationExecutor(myProject);
    final StatusOperation statusOperation=new StatusOperation(Collections.singletonList(new File(virtualFile.getPath())));
    final Ref<Boolean> success=new Ref<Boolean>();
    executor.performActionSync(new CommandCvsHandler(CvsBundle.message("operation.name.get.file.status"),statusOperation),new CvsOperationExecutorCallback(){
      public void executionFinished(      final boolean successfully){
      }
      public void executionFinishedSuccessfully(){
        success.set(Boolean.TRUE);
      }
      public void executeInProgressAfterAction(      final ModalityContext modaityContext){
      }
    }
);
    if (Boolean.TRUE.equals(success.get())) {
      return new Pair<Boolean,VcsRevisionNumber>((statusOperation.getStatus() != null) && (!FileStatus.REMOVED.equals(statusOperation.getStatus())),new CvsRevisionNumber(statusOperation.getRepositoryRevision()));
    }
    return new Pair<Boolean,VcsRevisionNumber>(Boolean.TRUE,new CvsRevisionNumber("HEAD"));
  }
}
