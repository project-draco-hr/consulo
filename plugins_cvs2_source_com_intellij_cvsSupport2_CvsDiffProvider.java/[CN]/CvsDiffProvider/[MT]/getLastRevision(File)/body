{
  final String stickyData=CvsUtil.getStickyDateForDirectory(file.getParentFile());
  if (stickyData != null) {
    return new ItemLatestState(new CvsRevisionNumber(stickyData),true);
  }
 else {
    CvsOperationExecutor executor=new CvsOperationExecutor(myProject);
    final StatusOperation statusOperation=new StatusOperation(Collections.singletonList(file));
    final Ref<Boolean> success=new Ref<Boolean>();
    executor.performActionSync(new CommandCvsHandler(CvsBundle.message("operation.name.get.file.status"),statusOperation),new CvsOperationExecutorCallback(){
      public void executionFinished(      final boolean successfully){
      }
      public void executionFinishedSuccessfully(){
        success.set(Boolean.TRUE);
      }
      public void executeInProgressAfterAction(      final ModalityContext modaityContext){
      }
    }
);
    if (Boolean.TRUE.equals(success.get())) {
      return new ItemLatestState(new CvsRevisionNumber(statusOperation.getRepositoryRevision()),(statusOperation.getStatus() != null) && (!FileStatus.REMOVED.equals(statusOperation.getStatus())));
    }
    return new ItemLatestState(new CvsRevisionNumber("HEAD"),true);
  }
}
