{
  if ((revisionNumber instanceof CvsRevisionNumber)) {
    final CvsConnectionSettings settings=CvsEntriesManager.getInstance().getCvsConnectionSettingsFor(selectedFile.getParent());
    final File file=new File(CvsUtil.getModuleName(selectedFile));
    final CvsRevisionNumber cvsRevisionNumber=((CvsRevisionNumber)revisionNumber);
    final RevisionOrDate versionInfo;
    if (cvsRevisionNumber.getDateOrRevision() != null) {
      versionInfo=RevisionOrDateImpl.createOn(cvsRevisionNumber.getDateOrRevision());
    }
 else {
      versionInfo=new SimpleRevision(cvsRevisionNumber.asString());
    }
    if (selectedFile.getFileType().isBinary()) {
      return new CvsBinaryContentRevision(file,versionInfo,settings,myProject);
    }
 else {
      return new CvsContentRevision(file,versionInfo,settings,myProject);
    }
  }
 else {
    return null;
  }
}
