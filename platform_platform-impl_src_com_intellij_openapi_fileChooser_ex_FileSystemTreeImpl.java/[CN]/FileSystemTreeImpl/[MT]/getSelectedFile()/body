{
  final TreePath path=myTree.getSelectionPath();
  if (path == null)   return null;
  final DefaultMutableTreeNode node=(DefaultMutableTreeNode)path.getLastPathComponent();
  if (!(node.getUserObject() instanceof FileNodeDescriptor))   return null;
  final FileElement element=((FileNodeDescriptor)node.getUserObject()).getElement();
  final VirtualFile file=element.getFile();
  FileChooserUtil.setSelectionPath(file,element.getPath());
  return file;
}
