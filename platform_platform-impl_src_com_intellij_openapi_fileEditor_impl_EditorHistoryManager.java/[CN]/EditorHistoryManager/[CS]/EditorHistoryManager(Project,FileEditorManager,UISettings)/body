{
  super(project);
  myEntriesList=new ArrayList<HistoryEntry>();
  MyEditorManagerListener editorManagerListener=new MyEditorManagerListener();
  final MyUISettingsListener myUISettingsListener=new MyUISettingsListener();
  fileEditorManager.addFileEditorManagerListener(editorManagerListener,project);
  project.getMessageBus().connect().subscribe(FileEditorManagerListener.Before.FILE_EDITOR_MANAGER,new MyEditorManagerBeforeListener());
  uiSettings.addUISettingsListener(myUISettingsListener);
  Disposer.register(project,new Disposable(){
    public void dispose(){
      uiSettings.removeUISettingsListener(myUISettingsListener);
    }
  }
);
}
