{
synchronized (myMessageViewLock) {
    if (myErrorTreeView != null) {
      final Navigatable navigatable=message.getNavigatable();
      final VirtualFile file=message.getVirtualFile();
      final int type=translateCategory(message.getCategory());
      final String[] text=convertMessage(message);
      if (navigatable != null) {
        final String groupName=file != null ? file.getPresentableUrl() : message.getCategory().getPresentableText();
        myErrorTreeView.addMessage(type,text,groupName,navigatable,message.getExportTextPrefix(),message.getRenderTextPrefix(),null);
      }
 else {
        myErrorTreeView.addMessage(type,text,file,-1,-1,null);
      }
      WolfTheProblemSolver.getInstance(myProject).addProblemFromCompiler(message);
    }
  }
}
