{
  super.start();
  if (IS_UNIT_TEST_MODE) {
    return;
  }
  CompilerErrorTreeView errorTreeView=new CompilerErrorTreeView(myProject);
  errorTreeView.setProcessController(new NewErrorTreeViewPanel.ProcessController(){
    public void stopProcess(){
      cancel();
    }
    public boolean isProcessStopped(){
      return !isRunning();
    }
  }
);
  myProblemsToolWindow.initErrorTreeView(errorTreeView,new CloseListener());
  if (myIsBackgroundMode) {
    openMessageView();
  }
 else {
    ApplicationManager.getApplication().invokeLater(new Runnable(){
      public void run(){
        if (isRunning()) {
synchronized (myMessageViewLock) {
            myProblemsToolWindow.clearAllContents();
          }
          final CompilerProgressDialog dialog=openProgressDialog();
          dialog.show();
        }
      }
    }
,ModalityState.NON_MMODAL);
  }
}
