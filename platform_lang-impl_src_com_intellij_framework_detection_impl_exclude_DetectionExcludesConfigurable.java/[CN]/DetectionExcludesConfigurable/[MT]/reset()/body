{
  myModel.clear();
  final ExcludesConfigurationState state=myConfiguration.getState();
  for (  String typeId : state.getFrameworkTypes()) {
    final FrameworkType frameworkType=FrameworkDetectorRegistry.getInstance().findFrameworkType(typeId);
    myModel.add(frameworkType != null ? new ValidExcludeListItem(frameworkType,null) : new InvalidExcludeListItem(typeId,null));
  }
  for (  ExcludedFileState fileState : state.getFiles()) {
    VirtualFile file=VirtualFileManager.getInstance().findFileByUrl(fileState.getUrl());
    final String typeId=fileState.getFrameworkType();
    if (typeId == null) {
      myModel.add(file != null ? new ValidExcludeListItem(null,file) : new InvalidExcludeListItem(null,fileState.getUrl()));
    }
 else {
      final FrameworkType frameworkType=FrameworkDetectorRegistry.getInstance().findFrameworkType(typeId);
      myModel.add(frameworkType != null && file != null ? new ValidExcludeListItem(frameworkType,file) : new InvalidExcludeListItem(typeId,fileState.getUrl()));
    }
  }
}
