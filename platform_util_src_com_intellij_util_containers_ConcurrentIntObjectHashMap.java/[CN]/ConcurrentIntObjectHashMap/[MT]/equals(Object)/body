{
  if (o != this) {
    if (!(o instanceof ConcurrentIntObjectMap)) {
      return false;
    }
    ConcurrentIntObjectMap<?> m=(ConcurrentIntObjectMap)o;
    Node<V>[] t;
    int f=(t=table) == null ? 0 : t.length;
    Traverser<V> it=new Traverser<V>(t,f,0,f);
    for (Node<V> p; (p=it.advance()) != null; ) {
      V val=p.val;
      Object v=m.get(p.key);
      if (v == null || (v != val && !v.equals(val))) {
        return false;
      }
    }
    for (    IntEntry e : m.entries()) {
      int mk=e.getKey();
      Object mv;
      Object v;
      if ((mv=e.getValue()) == null || (v=get(mk)) == null || (mv != v && !mv.equals(v))) {
        return false;
      }
    }
  }
  return true;
}
