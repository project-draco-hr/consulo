{
  final Presentation presentation=e.getPresentation();
  CaptionSelection selection=(CaptionSelection)e.getDataContext().getData(CaptionSelection.class.getName());
  if (selection == null) {
    presentation.setEnabled(false);
  }
 else {
    presentation.setEnabled(selection.getContainer() != null);
    if (!selection.isRow()) {
      presentation.setText(UIDesignerBundle.message("action.split.column"));
      presentation.setIcon(IconLoader.getIcon("/com/intellij/uiDesigner/icons/splitColumn.png"));
    }
 else {
      presentation.setText(UIDesignerBundle.message("action.split.row"));
      presentation.setIcon(IconLoader.getIcon("/com/intellij/uiDesigner/icons/splitRow.png"));
    }
  }
}
