{
  LineRange deletionRange=hunk.getPatchDeletionRange();
  LineRange insertionRange=hunk.getPatchInsertionRange();
  if (deletionRange.isEmpty() || insertionRange.isEmpty())   return null;
  try {
    DocumentEx patchDocument=viewer.getPatchEditor().getDocument();
    CharSequence deleted=DiffUtil.getLinesContent(patchDocument,deletionRange.start,deletionRange.end);
    CharSequence inserted=DiffUtil.getLinesContent(patchDocument,insertionRange.start,insertionRange.end);
    return ByWord.compare(deleted,inserted,ComparisonPolicy.DEFAULT,DumbProgressIndicator.INSTANCE);
  }
 catch (  DiffTooBigException ignore) {
    return null;
  }
}
