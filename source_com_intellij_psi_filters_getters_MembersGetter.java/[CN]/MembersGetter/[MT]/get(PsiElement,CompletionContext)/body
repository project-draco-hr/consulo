{
  final FilterScopeProcessor processor=new FilterScopeProcessor(TrueFilter.INSTANCE,context);
  final Object[] elements=myBaseGetter.get(context,completionContext);
  for (  final Object element : elements) {
    final PsiClass psiClass;
    if (element instanceof PsiClass) {
      psiClass=(PsiClass)context;
      PsiScopesUtil.processScope(psiClass,processor,PsiSubstitutor.EMPTY,null,context);
    }
 else     if (element instanceof PsiType) {
      psiClass=PsiUtil.resolveClassInType((PsiType)element);
      if (psiClass != null) {
        PsiScopesUtil.processScope(psiClass,processor,PsiSubstitutor.EMPTY,null,context);
      }
    }
 else {
      PsiScopesUtil.processScope((PsiElement)element,processor,PsiSubstitutor.EMPTY,null,context);
    }
  }
  final List results=processor.getResults();
  return (PsiElement[])results.toArray(new PsiElement[results.size()]);
}
