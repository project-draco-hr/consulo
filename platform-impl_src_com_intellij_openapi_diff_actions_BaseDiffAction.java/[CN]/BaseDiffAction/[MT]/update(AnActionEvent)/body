{
  DiffRequest diffData=getDiffData(e.getDataContext());
  boolean enabled;
  if (diffData == null || diffData.getContents() == null)   enabled=false;
 else   enabled=DiffManager.getInstance().getDiffTool().canShow(diffData);
  Presentation presentation=e.getPresentation();
  presentation.setEnabled(enabled);
  if (enabled)   presentation.setVisible(true);
 else   disableAction(presentation);
}
