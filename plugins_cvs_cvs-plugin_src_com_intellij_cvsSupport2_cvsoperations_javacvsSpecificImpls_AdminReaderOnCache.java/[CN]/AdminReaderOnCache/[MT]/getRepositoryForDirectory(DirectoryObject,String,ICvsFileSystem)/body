{
  File parent=cvsFileSystem.getAdminFileSystem().getFile(directoryObject);
  VirtualFile virtualFile=CvsVfsUtil.findFileByIoFile(parent);
  String repositoryDerectory=myCvsEntriesManager.getRepositoryFor(virtualFile);
  if (repositoryDerectory == null) {
    String parentRepository=myCvsEntriesManager.getRepositoryFor(virtualFile.getParent());
    repositoryDerectory=parentRepository + "/" + virtualFile.getName();
  }
  if (StringUtil.startsWithChar(repositoryDerectory,'/')) {
    return repositoryDerectory;
  }
 else {
    return FileUtils.ensureTrailingSlash(repository) + repositoryDerectory;
  }
}
