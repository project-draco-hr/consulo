{
  if (!PsiInvalidElementAccessException.isTrackingInvalidation()) {
    return;
  }
  if (ourPsiModificationTrace.get() == null) {
    ourPsiModificationTrace.set(trace != null ? trace : new Throwable());
  }
  Integer depth=ourPsiModificationDepth.get();
  if (depth == null)   depth=0;
  ourPsiModificationDepth.set(depth + 1);
}
