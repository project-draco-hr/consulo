{
  Application application=ApplicationManager.getApplication();
  application.assertIsDispatchThread();
  if (project != null && project.isDisposed()) {
    CommandLog.LOG.error("Project " + project + " already disposed");
    return;
  }
  if (CommandLog.LOG.isDebugEnabled()) {
    CommandLog.LOG.debug("executeCommand: " + command + ", name = "+ name+ ", groupId = "+ groupId);
  }
  if (myCurrentCommand != null) {
    command.run();
    return;
  }
  Throwable throwable=null;
  try {
    myCurrentCommand=new CommandDescriptor(command,project,name,groupId,confirmationPolicy,shouldRecordCommandForActiveDocument,document);
    fireCommandStarted();
    command.run();
  }
 catch (  Throwable th) {
    throwable=th;
  }
 finally {
    finishCommand(project,myCurrentCommand,throwable);
  }
}
