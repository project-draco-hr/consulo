{
  final Project project=sourceClass.getProject();
  final PsiNameHelper nameHelper=JavaPsiFacade.getInstance(project).getNameHelper();
  final List<PsiMethod> methods=getMethodsToExtract();
  final List<PsiField> fields=getFieldsToExtract();
  final List<PsiClass> innerClasses=getClassesToExtract();
  if (methods.isEmpty() && fields.isEmpty() && innerClasses.isEmpty()) {
    throw new ConfigurationException("Nothing found to extract");
  }
  final String className=getClassName();
  if (className.length() == 0 || !nameHelper.isIdentifier(className)) {
    throw new ConfigurationException("\'" + StringUtil.first(className,10,true) + "\' is invalid extracted class name");
  }
  final String packageName=getPackageName();
  if (packageName.length() == 0 || !nameHelper.isQualifiedName(packageName)) {
    throw new ConfigurationException("\'" + StringUtil.last(packageName,10,true) + "\' is invalid extracted class package name");
  }
}
