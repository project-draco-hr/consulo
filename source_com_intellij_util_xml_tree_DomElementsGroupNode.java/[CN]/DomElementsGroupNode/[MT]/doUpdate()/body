{
  setUniformIcon(getNodeIcon());
  clearColoredText();
  final boolean showErrors=!isExpanded() && hasErrors();
  final int childrenCount=getChildren().length;
  if (childrenCount > 0) {
    addColoredFragment(getNodeName(),new SimpleTextAttributes(SimpleTextAttributes.STYLE_BOLD,showErrors ? SimpleTextAttributes.ERROR_ATTRIBUTES.getFgColor() : SimpleTextAttributes.REGULAR_ATTRIBUTES.getFgColor()));
    addColoredFragment(" (" + childrenCount + ')',showErrors ? J2EEBundle.message("dom.elements.tree.childs.contain.errors") : null,SimpleTextAttributes.GRAY_ITALIC_ATTRIBUTES);
  }
 else {
    addColoredFragment(getNodeName(),SimpleTextAttributes.GRAYED_BOLD_ATTRIBUTES);
  }
  return true;
}
