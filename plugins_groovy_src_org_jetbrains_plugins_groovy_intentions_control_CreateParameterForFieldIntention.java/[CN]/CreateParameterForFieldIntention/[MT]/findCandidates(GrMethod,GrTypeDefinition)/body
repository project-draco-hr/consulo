{
  final List<GrField> usedFields=new ArrayList<GrField>();
  final GrOpenBlock block=constructor.getBlock();
  LOG.assertTrue(block != null);
  final PsiManager manager=clazz.getManager();
  block.accept(new GroovyRecursiveElementVisitor(){
    @Override public void visitReferenceExpression(    GrReferenceExpression referenceExpression){
      super.visitReferenceExpression(referenceExpression);
      final PsiElement resolved=referenceExpression.resolve();
      if (resolved instanceof GrField && manager.areElementsEquivalent(((GrField)resolved).getContainingClass(),clazz) && PsiUtil.isAccessedForWriting(referenceExpression)) {
        usedFields.add((GrField)resolved);
      }
    }
    @Override public void visitTypeDefinition(    GrTypeDefinition typeDefinition){
    }
    @Override public void visitClosure(    GrClosableBlock closure){
    }
  }
);
  List<GrField> fields=new ArrayList<GrField>();
  for (  final GrField field : clazz.getFields()) {
    if (field.getInitializerGroovy() != null)     continue;
    if (ContainerUtil.find(usedFields,new Condition<PsiField>(){
      @Override public boolean value(      PsiField o){
        return manager.areElementsEquivalent(o,field);
      }
    }
) == null) {
      fields.add(field);
    }
  }
  return fields;
}
