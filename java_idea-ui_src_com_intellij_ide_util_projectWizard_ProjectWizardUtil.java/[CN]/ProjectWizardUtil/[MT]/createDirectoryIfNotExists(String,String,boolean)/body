{
  File dir=new File(directoryPath);
  if (!dir.exists()) {
    if (promptUser) {
      final int answer=Messages.showOkCancelDialog(IdeBundle.message("promot.projectwizard.directory.does.not.exist",promptPrefix,dir.getPath(),ApplicationNamesInfo.getInstance().getProductName()),IdeBundle.message("title.directory.does.not.exist"),Messages.getQuestionIcon());
      if (answer != 0) {
        return false;
      }
    }
    try {
      VfsUtil.createDirectories(dir.getPath());
    }
 catch (    IOException e) {
      Messages.showErrorDialog(IdeBundle.message("error.failed.to.create.directory",dir.getPath()),CommonBundle.getErrorTitle());
      return false;
    }
  }
  return true;
}
