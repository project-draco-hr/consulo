{
  ColumnSpec[] colSpecs;
  RowSpec[] rowSpecs;
  try {
    Method method=layout.getClass().getMethod("getRowCount",ArrayUtil.EMPTY_CLASS_ARRAY);
    int rowCount=((Integer)method.invoke(layout,ArrayUtil.EMPTY_OBJECT_ARRAY)).intValue();
    method=layout.getClass().getMethod("getColumnCount",ArrayUtil.EMPTY_CLASS_ARRAY);
    int columnCount=((Integer)method.invoke(layout,ArrayUtil.EMPTY_OBJECT_ARRAY)).intValue();
    rowSpecs=new RowSpec[rowCount];
    colSpecs=new ColumnSpec[columnCount];
    method=layout.getClass().getMethod("getRowSpec",int.class);
    for (int i=0; i < rowCount; i++) {
      rowSpecs[i]=(RowSpec)createSerializedCopy(method.invoke(layout,i + 1));
    }
    method=layout.getClass().getMethod("getColumnSpec",int.class);
    for (int i=0; i < columnCount; i++) {
      colSpecs[i]=(ColumnSpec)createSerializedCopy(method.invoke(layout,i + 1));
    }
  }
 catch (  Exception ex) {
    throw new RuntimeException(ex);
  }
  container.setLayout(new FormLayout(colSpecs,rowSpecs));
}
