{
  CellConstraints cc=(CellConstraints)component.getCustomLayoutConstraints();
  CellConstraints.Alignment al=horizontal ? cc.hAlign : cc.vAlign;
  if (al == CellConstraints.DEFAULT) {
    FormLayout formLayout=(FormLayout)component.getParent().getLayout();
    FormSpec formSpec=horizontal ? formLayout.getColumnSpec(component.getConstraints().getColumn() + 1) : formLayout.getRowSpec(component.getConstraints().getRow() + 1);
switch (formSpec.getDefaultAlignment().abbreviation()) {
case 'f':
      return GridConstraints.ALIGN_FILL;
case 'l':
case 't':
    return GridConstraints.ALIGN_LEFT;
case 'c':
  return GridConstraints.ALIGN_CENTER;
default :
return GridConstraints.ALIGN_RIGHT;
}
}
return Utils.alignFromConstraints(component.getConstraints(),horizontal);
}
