{
  if (myCurrentSuitesBundle == suite && suite == null) {
    return;
  }
  LOG.assertTrue(!myProject.isDefault());
  fireBeforeSuiteChosen();
  mySubCoverageIsActive=false;
  if (myCurrentSuitesBundle != null) {
    myCurrentSuitesBundle.getCoverageEngine().getCoverageAnnotator(myProject).onSuiteChosen(suite);
  }
  myCurrentSuitesBundle=suite;
  disposeAnnotators();
  if (suite == null) {
    triggerPresentationUpdate();
    return;
  }
  for (  CoverageSuite coverageSuite : myCurrentSuitesBundle.getSuites()) {
    final boolean suiteFileExists=coverageSuite.getCoverageDataFileProvider().ensureFileExists();
    if (!suiteFileExists) {
      chooseSuitesBundle(null);
      return;
    }
  }
  renewCoverageData(suite);
  fireAfterSuiteChosen();
}
