{
  final Editor editor=event.getEditor();
  if (editor.getProject() != myProject)   return;
  try {
    final SrcFileAnnotator fileAnnotator;
synchronized (ANNOTATORS_LOCK) {
      fileAnnotator=myAnnotators.remove(editor);
    }
    if (fileAnnotator != null) {
      Disposer.dispose(fileAnnotator);
    }
  }
  finally {
    final Runnable request=myCurrentEditors.remove(editor);
    if (request != null) {
      myAlarm.cancelRequest(request);
    }
  }
}
