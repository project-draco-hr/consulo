{
  final HashMap<String,ChangesBrowserNode> foldersCache=new HashMap<String,ChangesBrowserNode>();
  final ChangesGroupingPolicy policy=createGroupingPolicy();
  for (  Change change : changes) {
    insertChangeNode(change,foldersCache,policy,root);
  }
  collapseDirectories(model,root);
  sortNodes();
  return model;
}
