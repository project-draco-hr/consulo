{
  final PsiType resourceType=resource.getType();
  if (!(resourceType instanceof PsiClassType))   return null;
  final PsiClass resourceClass=((PsiClassType)resourceType).resolve();
  if (resourceClass == null)   return null;
  final Project project=resource.getProject();
  final JavaPsiFacade facade=JavaPsiFacade.getInstance(project);
  final PsiClass autoCloseable=facade.findClass(CommonClassNames.JAVA_LANG_AUTO_CLOSEABLE,ProjectScope.getLibrariesScope(project));
  if (autoCloseable == null)   return null;
  if (!InheritanceUtil.isInheritorOrSelf(resourceClass,autoCloseable,true))   return null;
  final PsiMethod[] closes=autoCloseable.findMethodsByName("close",false);
  return closes.length == 1 ? resourceClass.findMethodBySignature(closes[0],true) : null;
}
