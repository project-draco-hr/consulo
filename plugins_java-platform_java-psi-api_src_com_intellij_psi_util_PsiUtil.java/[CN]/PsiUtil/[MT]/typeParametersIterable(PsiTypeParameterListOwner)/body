{
  ArrayList<PsiTypeParameter> result=null;
  PsiTypeParameterListOwner currentOwner=owner;
  while (currentOwner != null) {
    PsiTypeParameter[] typeParameters=currentOwner.getTypeParameters();
    if (typeParameters.length > 0) {
      if (result == null)       result=new ArrayList<PsiTypeParameter>(typeParameters.length);
      for (int i=typeParameters.length - 1; i >= 0; i--) {
        result.add(typeParameters[i]);
      }
    }
    if (currentOwner.hasModifierProperty(PsiModifier.STATIC))     break;
    currentOwner=currentOwner.getContainingClass();
  }
  if (result == null)   return EmptyIterable.getInstance();
  return result;
}
