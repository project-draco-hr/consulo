{
  PsiElement parent=element.getParent();
  if (element instanceof PsiExpressionListStatement) {
    if (!(parent instanceof PsiForStatement))     return false;
    final PsiForStatement forStatement=(PsiForStatement)parent;
    if (!(element == forStatement.getInitialization() || element == forStatement.getUpdate()))     return false;
    final PsiExpressionList expressionList=((PsiExpressionListStatement)element).getExpressionList();
    final PsiExpression[] expressions=expressionList.getExpressions();
    for (    PsiExpression expression : expressions) {
      if (!isStatement(expression))       return false;
    }
    return true;
  }
 else   if (element instanceof PsiExpressionStatement) {
    return isStatement(((PsiExpressionStatement)element).getExpression());
  }
  if (element instanceof PsiDeclarationStatement) {
    if (parent instanceof PsiCodeBlock)     return true;
    if (parent instanceof PsiCodeFragment)     return true;
    if (!(parent instanceof PsiForStatement) || ((PsiForStatement)parent).getBody() == element) {
      return false;
    }
  }
  if (element instanceof PsiStatement)   return true;
  if (element instanceof PsiAssignmentExpression)   return true;
  if (isIncrementDecrementOperation(element))   return true;
  if (element instanceof PsiMethodCallExpression)   return true;
  if (element instanceof PsiNewExpression) {
    return !(((PsiNewExpression)element).getType() instanceof PsiArrayType);
  }
  return element instanceof PsiCodeBlock;
}
