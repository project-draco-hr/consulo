{
  final ShowIntentionsPass.IntentionsInfo info=new ShowIntentionsPass.IntentionsInfo();
  ApplicationManager.getApplication().runReadAction(new Runnable(){
    @Override public void run(){
      ShowIntentionsPass.getActionsToShow(editor,file,info,-1);
    }
  }
);
  if (info.isEmpty())   return null;
  final List<HighlightInfo.IntentionActionDescriptor> actions=new ArrayList<HighlightInfo.IntentionActionDescriptor>();
  actions.addAll(info.errorFixesToShow);
  actions.addAll(info.inspectionFixesToShow);
  actions.addAll(info.intentionsToShow);
  final ApplyIntentionAction[] result=new ApplyIntentionAction[actions.size()];
  for (int i=0; i < result.length; i++) {
    final HighlightInfo.IntentionActionDescriptor descriptor=actions.get(i);
    final String actionText=ApplicationManager.getApplication().runReadAction(new Computable<String>(){
      @Override public String compute(){
        return descriptor.getAction().getText();
      }
    }
);
    result[i]=new ApplyIntentionAction(descriptor,actionText,editor,file);
  }
  return result;
}
