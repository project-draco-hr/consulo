{
  final ExternalSystemFacadeManager manager=ServiceManager.getService(ExternalSystemFacadeManager.class);
  Project ideProject=getIdeProject();
  RemoteExternalSystemProjectResolver resolver=manager.getFacade(ideProject,getExternalSystemId()).getResolver();
  setState(ExternalSystemTaskState.IN_PROGRESS);
  ExternalSystemSettingsManager settingsManager=ServiceManager.getService(ExternalSystemSettingsManager.class);
  ProjectStructureChangesModel model=null;
  if (!ideProject.isDisposed()) {
    model=ServiceManager.getService(ProjectStructureChangesModel.class);
  }
  ExternalSystemExecutionSettings settings=settingsManager.getExecutionSettings(ideProject,getExternalSystemId());
  DataNode<ProjectData> project=resolver.resolveProjectInfo(getId(),myProjectPath,myResolveLibraries,settings);
  if (project == null) {
    return;
  }
  myExternalProject.set(project);
  setState(ExternalSystemTaskState.FINISHED);
  if (model != null) {
    model.update(project,ideProject,false);
  }
}
