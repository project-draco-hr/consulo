def open(ui, url, data=None):
    scheme = None
    m = scheme_re.search(url)
    if m:
        scheme = m.group(1).lower()
    if (not scheme):
        path = util.normpath(os.path.abspath(url))
        url = ('file://' + urllib.pathname2url(path))
        authinfo = None
    else:
        (url, authinfo) = getauthinfo(url)
    return opener(ui, authinfo).open(url, data)
