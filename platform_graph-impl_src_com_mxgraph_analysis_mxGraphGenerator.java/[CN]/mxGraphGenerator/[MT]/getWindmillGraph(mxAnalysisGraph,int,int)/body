{
  if (numBranches < 2 || branchSize < 2) {
    throw new IllegalArgumentException();
  }
  mxGraph graph=aGraph.getGraph();
  Object parent=graph.getDefaultParent();
  int numVertices=numBranches * branchSize + 1;
  Object[] vertices=new Object[numVertices];
  int vertexCount=0;
  for (int i=0; i < numBranches; i++) {
    for (int j=0; j < branchSize; j++) {
      vertices[vertexCount]=graph.insertVertex(parent,null,new Integer(vertexCount).toString(),0,0,25,25);
      vertexCount++;
    }
  }
  vertices[numVertices - 1]=graph.insertVertex(parent,null,new Integer(numVertices - 1).toString(),0,0,25,25);
  Object centerVertex=vertices[numVertices - 1];
  for (int i=0; i < numBranches; i++) {
    for (int j=0; j < branchSize; j++) {
      Object vertex1=vertices[i * (branchSize) + j];
      if (!mxGraphStructure.areConnected(aGraph,centerVertex,vertex1)) {
        graph.insertEdge(parent,null,getNewEdgeValue(aGraph),centerVertex,vertex1);
      }
      for (int k=0; k < branchSize; k++) {
        Object vertex2=vertices[i * (branchSize) + k];
        if (j != k && !mxGraphStructure.areConnected(aGraph,vertex1,vertex2)) {
          graph.insertEdge(parent,null,getNewEdgeValue(aGraph),vertex1,vertex2);
        }
      }
    }
  }
}
