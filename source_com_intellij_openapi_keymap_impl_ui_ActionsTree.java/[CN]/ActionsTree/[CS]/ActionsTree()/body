{
  myRoot=new DefaultMutableTreeNode("ROOT");
  myShortcutColumnCellRenderer=new ShortcutColumnCellRenderer();
  myTreeTable=new TreeTable(new MyModel(myRoot)){
    public TreeTableCellRenderer createTableRenderer(    TreeTableModel treeTableModel){
      TreeTableCellRenderer tableRenderer=super.createTableRenderer(treeTableModel);
      tableRenderer.putClientProperty("JTree.lineStyle","Angled");
      return tableRenderer;
    }
    public TableCellRenderer getCellRenderer(    int row,    int column){
      if (convertColumnIndexToModel(column) == 1) {
        return myShortcutColumnCellRenderer;
      }
      return super.getCellRenderer(row,column);
    }
  }
;
  myTreeTable.getTree().setCellRenderer(new DefaultTreeCellRenderer(){
    public Component getTreeCellRendererComponent(    JTree tree,    Object value,    boolean sel,    boolean expanded,    boolean leaf,    int row,    boolean hasFocus){
      super.getTreeCellRendererComponent(tree,value,sel,expanded,leaf,row,hasFocus);
      setBorderSelectionColor(null);
      if (value instanceof DefaultMutableTreeNode) {
        Object userObject=((DefaultMutableTreeNode)value).getUserObject();
        boolean changed;
        if (userObject instanceof Group) {
          Group group=(Group)userObject;
          setText(group.getName());
          Keymap originalKeymap=myKeymap.getParent();
          changed=originalKeymap != null && isGroupChanged(group,originalKeymap,myKeymap);
          Icon icon=expanded ? group.getOpenIcon() : group.getIcon();
          if (icon == null) {
            icon=expanded ? getOpenIcon() : getClosedIcon();
          }
          setIcon(icon);
        }
 else         if (userObject instanceof String) {
          String actionId=(String)userObject;
          AnAction action=ActionManager.getInstance().getAction(actionId);
          setText(action != null ? action.getTemplatePresentation().getText() : actionId);
          Icon icon=EMPTY_ICON;
          if (action != null) {
            Icon actionIcon=action.getTemplatePresentation().getIcon();
            if (actionIcon != null) {
              icon=actionIcon;
            }
          }
          setIcon(icon);
          Keymap originalKeymap=myKeymap.getParent();
          changed=originalKeymap != null && isActionChanged(actionId,originalKeymap,myKeymap);
        }
 else         if (userObject instanceof QuickList) {
          QuickList list=(QuickList)userObject;
          setIcon(EMPTY_ICON);
          setText(list.getDisplayName());
          Keymap originalKeymap=myKeymap.getParent();
          changed=originalKeymap != null && isActionChanged(list.getActionId(),originalKeymap,myKeymap);
        }
 else         if (userObject instanceof Separator) {
          changed=false;
          setText("-------------");
          setIcon(EMPTY_ICON);
        }
 else {
          throw new IllegalArgumentException("unknown userObject: " + userObject);
        }
        if (sel) {
          setForeground(UIManager.getColor("Tree.selectionForeground"));
        }
 else {
          if (changed) {
            setForeground(Color.BLUE);
          }
 else {
            setForeground(UIManager.getColor("Tree.foreground"));
          }
        }
      }
      return this;
    }
  }
);
  myTreeTable.getSelectionModel().setSelectionMode(ListSelectionModel.SINGLE_SELECTION);
  myTreeTable.getColumnModel().getColumn(0).setPreferredWidth(200);
  myTreeTable.getColumnModel().getColumn(1).setPreferredWidth(100);
  JScrollPane scrollPane=ScrollPaneFactory.createScrollPane(myTreeTable);
  myComponent=scrollPane;
}
