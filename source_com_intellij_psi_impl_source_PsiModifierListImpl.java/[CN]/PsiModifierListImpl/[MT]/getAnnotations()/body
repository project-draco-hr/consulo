{
  if (getRepositoryId() >= 0) {
    PsiAnnotation[] repositoryAnnotations=myRepositoryAnnotations;
    if (repositoryAnnotations != null)     return repositoryAnnotations;
    long parentId=((SrcRepositoryPsiElement)getParent()).getRepositoryId();
    DeclarationView view=(DeclarationView)getRepositoryManager().getItemView(parentId);
    String[] annotationStrings=view.getAnnotations(parentId);
    if (annotationStrings == null)     annotationStrings=ArrayUtil.EMPTY_STRING_ARRAY;
    repositoryAnnotations=annotationStrings.length == 0 ? PsiAnnotation.EMPTY_ARRAY : new PsiAnnotation[annotationStrings.length];
    for (int i=0; i < annotationStrings.length; i++) {
      repositoryAnnotations[i]=new PsiAnnotationImpl(myManager,this,i);
    }
    myRepositoryAnnotations=repositoryAnnotations;
    return repositoryAnnotations;
  }
 else {
    return calcTreeElement().getChildrenAsPsiElements(ANNOTATION_BIT_SET,PSI_ANNOTATION_ARRAY_CONSTRUCTOR);
  }
}
