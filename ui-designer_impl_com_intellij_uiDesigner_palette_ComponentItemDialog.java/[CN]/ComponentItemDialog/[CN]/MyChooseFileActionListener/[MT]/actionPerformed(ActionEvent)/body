{
  final TreeClassChooserFactory factory=TreeClassChooserFactory.getInstance(myProject);
  PsiFile iconFile=null;
  if (myTextField.getText().length() > 0) {
    VirtualFile iconVFile=ModuleUtil.findResourceFileInProject(myProject,myTextField.getText());
    if (iconVFile != null) {
      iconFile=PsiManager.getInstance(myProject).findFile(iconVFile);
    }
  }
  TreeFileChooser fileChooser=factory.createFileChooser(UIDesignerBundle.message("add.component.choose.form"),iconFile,null,myFilter);
  fileChooser.showDialog();
  PsiFile file=fileChooser.getSelectedFile();
  if (file != null) {
    myTextField.setText(GuiEditorUtil.buildResourceName(file));
  }
}
