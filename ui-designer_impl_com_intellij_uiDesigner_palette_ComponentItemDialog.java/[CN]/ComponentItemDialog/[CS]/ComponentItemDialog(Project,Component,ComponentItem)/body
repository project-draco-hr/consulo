{
  super(parent,false);
  myItemToBeEdited=itemToBeEdited;
  myTfClassName.setText(myItemToBeEdited.getClassName());
  myTfClassName.getButton().setEnabled(!project.isDefault());
  myTfClassName.addActionListener(new ActionListener(){
    public void actionPerformed(    final ActionEvent e){
      final TreeClassChooserFactory factory=TreeClassChooserFactory.getInstance(project);
      final TreeClassChooser chooser=factory.createInheritanceClassChooser(UIDesignerBundle.message("title.choose.component.class"),GlobalSearchScope.allScope(project),PsiManager.getInstance(project).findClass(JComponent.class.getName(),GlobalSearchScope.allScope(project)),true,false,null);
      chooser.showDialog();
      final PsiClass result=chooser.getSelectedClass();
      if (result != null) {
        myTfClassName.setText(result.getQualifiedName());
      }
    }
  }
);
  myTfIconPath.setText(myItemToBeEdited.getIconPath());
  myTfIconPath.addActionListener(new ActionListener(){
    public void actionPerformed(    ActionEvent e){
      final TreeClassChooserFactory factory=TreeClassChooserFactory.getInstance(project);
      PsiFile iconFile=null;
      if (myItemToBeEdited.getIconPath() != null) {
        VirtualFile iconVFile=ModuleUtil.findResourceFileInProject(project,myItemToBeEdited.getIconPath());
        if (iconVFile != null) {
          iconFile=PsiManager.getInstance(project).findFile(iconVFile);
        }
      }
      TreeFileChooser fileChooser=factory.createFileChooser(UIDesignerBundle.message("title.choose.icon.file"),iconFile,null,new ImageFileFilter(null));
      fileChooser.showDialog();
      PsiFile file=fileChooser.getSelectedFile();
      if (file != null) {
        myTfIconPath.setText("/" + GuiEditorUtil.buildResourceName(file));
      }
    }
  }
);
  final GridConstraints defaultConstraints=myItemToBeEdited.getDefaultConstraints();
{
    final int hSizePolicy=defaultConstraints.getHSizePolicy();
    myChkHorCanShrink.setSelected((hSizePolicy & GridConstraints.SIZEPOLICY_CAN_SHRINK) != 0);
    myChkHorCanGrow.setSelected((hSizePolicy & GridConstraints.SIZEPOLICY_CAN_GROW) != 0);
    myChkHorWantGrow.setSelected((hSizePolicy & GridConstraints.SIZEPOLICY_WANT_GROW) != 0);
  }
{
    final int vSizePolicy=defaultConstraints.getVSizePolicy();
    myChkVerCanShrink.setSelected((vSizePolicy & GridConstraints.SIZEPOLICY_CAN_SHRINK) != 0);
    myChkVerCanGrow.setSelected((vSizePolicy & GridConstraints.SIZEPOLICY_CAN_GROW) != 0);
    myChkVerWantGrow.setSelected((vSizePolicy & GridConstraints.SIZEPOLICY_WANT_GROW) != 0);
  }
  myLblClass.setLabelFor(myTfClassName);
  myLblIcon.setLabelFor(myTfIconPath);
  init();
}
