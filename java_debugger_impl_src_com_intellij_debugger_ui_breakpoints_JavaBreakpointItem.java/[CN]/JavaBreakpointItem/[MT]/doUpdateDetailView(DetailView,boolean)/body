{
  BreakpointPropertiesPanel breakpointPropertiesPanel=null;
  if (!editorOnly) {
    breakpointPropertiesPanel=myBreakpointFactory != null ? myBreakpointFactory.createBreakpointPropertiesPanel(myBreakpoint.getProject(),false) : null;
    if (breakpointPropertiesPanel != null) {
      breakpointPropertiesPanel.initFrom(myBreakpoint,true);
      breakpointPropertiesPanel.setSaveOnRemove(true);
      final JPanel mainPanel=breakpointPropertiesPanel.getPanel();
      panel.setPropertiesPanel(mainPanel);
    }
 else {
      panel.setPropertiesPanel(null);
    }
  }
  if (myBreakpoint instanceof BreakpointWithHighlighter) {
    SourcePosition sourcePosition=((BreakpointWithHighlighter)myBreakpoint).getSourcePosition();
    VirtualFile virtualFile=sourcePosition.getFile().getVirtualFile();
    showInEditor(panel,virtualFile,sourcePosition.getLine());
  }
 else {
    panel.clearEditor();
  }
  if (breakpointPropertiesPanel != null) {
    breakpointPropertiesPanel.setDetailView(panel);
  }
}
