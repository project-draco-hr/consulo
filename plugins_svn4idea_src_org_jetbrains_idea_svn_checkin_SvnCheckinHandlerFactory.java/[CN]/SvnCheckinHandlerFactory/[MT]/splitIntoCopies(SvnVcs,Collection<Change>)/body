{
  final SvnFileUrlMapping mapping=vcs.getSvnFileUrlMapping();
  final Map<String,Integer> copiesInfo=new java.util.HashMap<String,Integer>();
  for (  Change change : changes) {
    final File ioFile=ChangesUtil.getFilePath(change).getIOFile();
    final RootUrlInfo path=mapping.getWcRootForFilePath(ioFile);
    if (path == null)     continue;
    final Integer integer=copiesInfo.get(path.getRepositoryUrl());
    int result=integer == null ? 0 : integer;
    if (result != 3) {
      if (WorkingCopyFormat.ONE_DOT_SEVEN.equals(path.getFormat())) {
        result|=2;
      }
 else {
        result|=1;
      }
      copiesInfo.put(path.getRepositoryUrl(),result);
    }
  }
  return copiesInfo;
}
