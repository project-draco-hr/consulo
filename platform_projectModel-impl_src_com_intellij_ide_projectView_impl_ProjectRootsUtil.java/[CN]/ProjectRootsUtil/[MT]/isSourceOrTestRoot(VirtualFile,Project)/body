{
  final ProjectFileIndex projectFileIndex=ProjectRootManager.getInstance(project).getFileIndex();
  final Module module=projectFileIndex.getModuleForFile(virtualFile);
  if (module == null)   return false;
  final ContentEntry[] contentEntries=ModuleRootManager.getInstance(module).getContentEntries();
  for (  ContentEntry contentEntry : contentEntries) {
    final ContentFolder[] contentFolders=ArrayUtil.mergeArrays(contentEntry.getFolders(ContentFolder.ContentFolderType.SOURCE),contentEntry.getFolders(ContentFolder.ContentFolderType.TEST));
    for (    ContentFolder sourceFolder : contentFolders) {
      if (Comparing.equal(virtualFile,sourceFolder.getFile()))       return true;
    }
  }
  return false;
}
