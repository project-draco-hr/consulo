{
  final XmlTag element=getTagElement();
  if (element == null)   return null;
  if (newElementName.indexOf(':') == -1) {
    final String namespacePrefix=element.getNamespacePrefix();
    if (namespacePrefix.length() > 0) {
      final PsiElement psiElement=resolve();
      if (psiElement instanceof PsiFile) {
        final int index=newElementName.lastIndexOf('.');
        if (index != -1)         newElementName=newElementName.substring(0,index);
      }
      newElementName=namespacePrefix + ":" + newElementName;
    }
  }
  element.setName(newElementName);
  return element;
}
