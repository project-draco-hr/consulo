{
  Collection<VirtualFile> roots=filter.getRootFilter() == null ? getAllRoots() : filter.getRootFilter().getRoots();
  Collection<FilePath> files=filter.getStructureFilter() == null ? Collections.<FilePath>emptySet() : filter.getStructureFilter().getFiles();
  Collection<VirtualFile> visibleRoots=VcsLogUtil.getAllVisibleRoots(getAllRoots(),filter.getRootFilter(),filter.getStructureFilter());
  if (files.isEmpty()) {
    return getTextFromRoots(roots,"roots",true,visibleRoots.size() == getAllRoots().size());
  }
 else {
    return getTextFromFilePaths(files,"folders",false,files.isEmpty());
  }
}
