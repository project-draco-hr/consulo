{
  if (!WebEditorOptions.getInstance().isAutomaticallyInsertRequiredSubTags())   return false;
  List<XmlElementDescriptor> requiredSubTags=GenerateXmlTagAction.getRequiredSubTags(descriptor);
  if (!requiredSubTags.isEmpty()) {
    template.addTextSegment(">");
    template.setToReformat(true);
  }
  for (  XmlElementDescriptor subTag : requiredSubTags) {
    if (subTag == null) {
      template.addTextSegment("<");
      template.addVariable(new MacroCallNode(new CompleteSmartMacro()),true);
      continue;
    }
    template.addTextSegment("<" + subTag.getName());
    addRequiredAttributes(subTag,null,template,file);
    completeTagTail(template,subTag,file,context,false);
  }
  if (!requiredSubTags.isEmpty()) {
    addTagEnd(template,descriptor,context);
  }
  return !requiredSubTags.isEmpty();
}
