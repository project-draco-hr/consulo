{
  try {
    r.lock();
    int encodedAttId=myConnection.getAttributeId(attId);
    int att_page=myConnection.getRecords().getInt(id * RECORD_SIZE + ATTREF_OFFSET);
    while (att_page != 0) {
      final DataInputStream page=myConnection.getAttributes().readStream(att_page);
      int attIdOnPage;
      int next;
      try {
        attIdOnPage=page.readInt();
        next=page.readInt();
      }
 catch (      IOException e) {
        LOG.error(e);
        attIdOnPage=0;
        next=0;
      }
      if (attIdOnPage == encodedAttId) {
        return page;
      }
      att_page=next;
      page.close();
    }
    return null;
  }
 catch (  IOException e) {
    throw new RuntimeException(e);
  }
 finally {
    r.unlock();
  }
}
