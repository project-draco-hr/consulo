{
  final XPathType type=mapType(lOperand,lOperand.getType());
  if (XPathTokenTypes.ADD_OPS.contains(op)) {
    if (XPathType.isAssignable(XPath2Type.NUMERIC,type)) {
      return XPath2Type.NUMERIC;
    }
 else     if (XPathType.isAssignable(XPath2Type.DATE,type) || XPathType.isAssignable(XPath2Type.TIME,type) || XPathType.isAssignable(XPath2Type.DATETIME,type)) {
      return XPath2Type.DURATION;
    }
 else     if (XPathType.isAssignable(XPath2Type.DURATION,type)) {
      return XPathType.ChoiceType.create(XPath2Type.DURATION,XPath2Type.DATE,XPath2Type.TIME,XPath2Type.DATETIME);
    }
  }
 else   if (XPath2TokenTypes.MULT_OPS.contains(op)) {
    if (XPathType.isAssignable(XPath2Type.NUMERIC,type)) {
      return XPathType.ChoiceType.create(XPath2Type.NUMERIC,XPath2Type.DURATION);
    }
 else     if (XPath2Type.DURATION.isAssignableFrom(type)) {
      return XPath2Type.NUMERIC;
    }
  }
  return XPathType.UNKNOWN;
}
