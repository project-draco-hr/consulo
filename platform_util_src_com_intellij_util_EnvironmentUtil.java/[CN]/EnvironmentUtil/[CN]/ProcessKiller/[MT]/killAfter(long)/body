{
  final long stop=System.currentTimeMillis() + timeout;
  new Thread(){
    @Override public void run(){
synchronized (myWaiter) {
        while (System.currentTimeMillis() < stop) {
          try {
            myProcess.exitValue();
            break;
          }
 catch (          IllegalThreadStateException ignore) {
          }
          try {
            myWaiter.wait(100);
          }
 catch (          InterruptedException ignore) {
          }
        }
      }
      try {
        myProcess.exitValue();
      }
 catch (      IllegalThreadStateException e) {
        UnixProcessManager.sendSigKillToProcessTree(myProcess);
        LOG.warn("timed out");
      }
    }
  }
.start();
}
