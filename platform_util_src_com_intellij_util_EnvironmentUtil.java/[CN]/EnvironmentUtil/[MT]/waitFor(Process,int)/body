{
  long stop=System.currentTimeMillis() + timeoutMillis;
  while (System.currentTimeMillis() < stop) {
    TimeoutUtil.sleep(100);
    try {
      return process.exitValue();
    }
 catch (    IllegalThreadStateException ignore) {
    }
  }
  return null;
}
