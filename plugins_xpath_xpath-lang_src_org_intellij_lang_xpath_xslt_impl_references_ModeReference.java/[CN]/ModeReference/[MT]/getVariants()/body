{
  final PsiFile containingFile=myAttribute.getContainingFile();
  if (containingFile instanceof XmlFile && XsltSupport.isXsltFile(containingFile)) {
    final List<Object> l=new ArrayList<Object>();
    if (!myImplicitModeElement.hasPrefix()) {
      final Object[] prefixes=PrefixReference.getPrefixCompletions(myAttribute);
      l.addAll(Arrays.asList(prefixes));
    }
    if (myImplicitModeElement.getQName() != null) {
      final PsiElement[] modes=ResolveUtil.collect(getMatcher().variantMatcher());
      l.addAll(Arrays.asList(modes));
    }
    return l.toArray(new Object[l.size()]);
  }
  return ArrayUtil.EMPTY_OBJECT_ARRAY;
}
