{
  final PsiFile containingFile=myAttribute.getContainingFile();
  if (containingFile instanceof XmlFile && XsltSupport.isXsltFile(containingFile)) {
    final List<Object> l=new ArrayList<Object>();
    if (!myImplicitModeElement.hasPrefix()) {
      final Object[] prefixes=getPrefixCompletions(myAttribute);
      ContainerUtil.addAll(l,prefixes);
    }
    if (myImplicitModeElement.getQName() != null) {
      final PsiElement[] modes=ResolveUtil.collect(getMatcher().variantMatcher());
      ContainerUtil.addAll(l,modes);
    }
    return ArrayUtil.toObjectArray(l);
  }
  return ArrayUtil.EMPTY_OBJECT_ARRAY;
}
