{
  Collection<AbstractTreeNode> l=children;
  int i=0;
  for (  AbstractTreeNode o : children) {
    if (o instanceof ProjectViewNode) {
      final ProjectViewNode node=(ProjectViewNode)o;
      final Object element=node.getValue();
      if (element instanceof PsiFile) {
        if (XsltSupport.isXsltFile((PsiFile)element)) {
          if (l == children && l.getClass() != ArrayList.class) {
            l=new ArrayList<AbstractTreeNode>(children);
          }
          final XsltFileNode fileNode=new XsltFileNode(myProject,(PsiFile)element,settings);
          ((List<AbstractTreeNode>)l).set(i,fileNode);
        }
      }
    }
    i++;
  }
  return l;
}
