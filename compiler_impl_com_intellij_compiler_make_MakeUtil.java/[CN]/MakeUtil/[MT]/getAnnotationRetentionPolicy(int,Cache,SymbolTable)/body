{
  final AnnotationConstantValue retentionPolicyAnnotation=findAnnotation("java.lang.annotation.Retention",cache.getRuntimeVisibleAnnotations(annotationQName),symbolTable);
  if (retentionPolicyAnnotation == null) {
    return RetentionPolicies.CLASS;
  }
  final AnnotationNameValuePair[] memberValues=retentionPolicyAnnotation.getMemberValues();
  final EnumConstantValue value=(EnumConstantValue)memberValues[0].getValue();
  final String constantName=symbolTable.getSymbol(value.getConstantName());
  if (RetentionPolicies.SOURCE_STR.equals(constantName)) {
    return RetentionPolicies.SOURCE;
  }
  if (RetentionPolicies.CLASS_STR.equals(constantName)) {
    return RetentionPolicies.CLASS;
  }
  if (RetentionPolicies.RUNTIME_STR.equals(constantName)) {
    return RetentionPolicies.RUNTIME;
  }
  LOG.error("Unknown retention policy: " + constantName);
  return -1;
}
