{
  super(prevIndicator);
  myEditor=editor;
  myProject=editor.getProject();
  focusStamp=IdeFocusManager.getInstance(myProject).getTimestamp(true);
  ActionManager.getInstance().addAnActionListener(new AnActionListener.Adapter(){
    @Override public void beforeActionPerformed(    AnAction action,    DataContext dataContext,    AnActionEvent event){
      actionsHappened=true;
    }
  }
,this);
  myEditor.getDocument().addDocumentListener(new DocumentAdapter(){
    @Override public void documentChanged(    DocumentEvent e){
      if (!ignoreDocumentChanges) {
        actionsHappened=true;
      }
    }
  }
,this);
}
