{
  myConflictsPanel.setToInitialPosition();
  myUsagesPanel.setToInitialPosition();
  final DefaultMutableTreeNode[] migrationNodes=myRootsTree.getSelectedNodes(DefaultMutableTreeNode.class,null);
  if (migrationNodes == null || migrationNodes.length == 0)   return;
  final Object userObject=migrationNodes[0].getUserObject();
  if (userObject instanceof MigrationNode) {
    final MigrationNode migrationNode=(MigrationNode)userObject;
    final UsageInfo[] failedUsages=myLabeler.getFailedUsages();
    if (failedUsages.length > 0) {
      myConflictsPanel.showUsages(new UsageInfoToUsageConverter.TargetElementsDescriptor(new PsiElement[0]),failedUsages);
    }
    final AbstractTreeNode rootNode=migrationNode.getParent();
    if (rootNode instanceof MigrationNode) {
      myUsagesPanel.showRootUsages(((MigrationNode)rootNode).getInfo(),migrationNode.getInfo(),myLabeler);
    }
  }
}
