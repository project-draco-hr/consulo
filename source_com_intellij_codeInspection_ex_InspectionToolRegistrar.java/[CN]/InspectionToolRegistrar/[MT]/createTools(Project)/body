{
  int ordinaryToolsSize=myInspectionTools.size();
  InspectionTool[] tools=new InspectionTool[ordinaryToolsSize + myLocalInspectionTools.size()];
  for (int i=0; i < tools.length; i++) {
    tools[i]=i < ordinaryToolsSize ? instantiateTool(myInspectionTools.get(i),project) : new LocalInspectionToolWrapper(instantiateLocalTool(myLocalInspectionTools.get(i - ordinaryToolsSize)));
  }
  return tools;
}
