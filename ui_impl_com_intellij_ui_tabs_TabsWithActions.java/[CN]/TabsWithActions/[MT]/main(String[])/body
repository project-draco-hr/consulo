{
  final JFrame frame=new JFrame();
  frame.getContentPane().setLayout(new BorderLayout());
  final int[] count=new int[1];
  final TabsWithActions tabs=new TabsWithActions(null){
    protected JComponent createToolbarComponent(    final TabInfo tabInfo){
      final JLabel jLabel=new JLabel("X" + (++count[0]));
      jLabel.setBorder(new LineBorder(Color.red));
      return jLabel;
    }
  }
;
  frame.getContentPane().add(tabs);
  tabs.addListener(new TabsListener(){
    public void selectionChanged(    final TabInfo oldSelection,    final TabInfo newSelection){
      System.out.println("TabsWithActions.selectionChanged old=" + oldSelection + " new="+ newSelection);
    }
  }
);
  tabs.addTab(new TabInfo(new JTree())).setText("Tree").setActions(new DefaultActionGroup(),null).setIcon(IconLoader.getIcon("/debugger/frame.png"));
  tabs.addTab(new TabInfo(new JTree())).setText("Tree2");
  tabs.addTab(new TabInfo(new JTable())).setText("Table").setActions(new DefaultActionGroup(),null);
  tabs.setBorder(new EmptyBorder(6,6,6,6));
  frame.setBounds(200,200,300,200);
  frame.show();
}
