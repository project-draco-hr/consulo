{
  System.out.println("Statistics:");
  final TObjectIntHashMap<Object> map=new TObjectIntHashMap<Object>();
  final PsiElementVisitor psiRecursiveElementVisitor=new XmlRecursiveElementVisitor(){
    @NonNls private static final String TOKENS_KEY="Tokens";
    @NonNls private static final String ELEMENTS_KEY="Elements";
    @Override public void visitXmlToken(    XmlToken token){
      inc(TOKENS_KEY);
    }
    @Override public void visitElement(    PsiElement element){
      inc(ELEMENTS_KEY);
      super.visitElement(element);
    }
    private void inc(    final String key){
      map.put(key,map.get(key) + 1);
    }
  }
;
  this.accept(psiRecursiveElementVisitor);
  final Object[] keys=map.keys();
  for (  final Object key : keys) {
    System.out.println(key + ": " + map.get(key));
  }
}
