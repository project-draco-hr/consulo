{
  boolean htmlTag=false;
  if (tag instanceof HtmlTag) {
    htmlTag=true;
    if (isAdditionallyDeclared(inspection.getAdditionalEntries(),name))     return;
  }
  final InspectionProfile profile=InspectionProjectProfileManager.getInstance(tag.getProject()).getInspectionProfile();
  if (htmlTag && profile.isToolEnabled(key,tag)) {
    addElementsForTagWithManyQuickFixes(tag,localizedMessage,isInjectedHtmlTagForWhichNoProblemsReporting((HtmlTag)tag) ? HighlightInfoType.INFORMATION : SeverityRegistrar.getSeverityRegistrar(tag.getProject()).getHighlightInfoTypeBySeverity(profile.getErrorLevel(key,tag).getSeverity()),addAttributeFix,basicIntention);
  }
 else   if (!htmlTag) {
    addElementsForTag(tag,localizedMessage,HighlightInfoType.ERROR,basicIntention);
  }
}
