{
  if (array.length > Byte.MAX_VALUE) {
    dataStream.writeByte(TOO_LONG);
    dataStream.writeInt(array.length);
  }
 else {
    dataStream.writeByte(array.length);
  }
  for (  String s : array) {
    LOG.assertTrue(s != null);
    dataStream.writeName(s);
  }
}
