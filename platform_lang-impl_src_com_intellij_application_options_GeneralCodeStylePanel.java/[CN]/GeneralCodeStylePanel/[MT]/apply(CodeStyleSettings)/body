{
  settings.LINE_SEPARATOR=getSelectedLineSeparator();
  settings.setDefaultRightMargin(getRightMargin());
  settings.WRAP_WHEN_TYPING_REACHES_RIGHT_MARGIN=myCbWrapWhenTypingReachesRightMargin.isSelected();
  settings.FORMATTER_TAGS_ENABLED=myEnableFormatterTags.isSelected();
  settings.FORMATTER_TAGS_ACCEPT_REGEXP=myAcceptRegularExpressionsCheckBox.isSelected();
  settings.FORMATTER_OFF_TAG=getTagText(myFormatterOffTagField,settings.FORMATTER_OFF_TAG);
  settings.setFormatterOffPattern(compilePattern(settings,myFormatterOffTagField,settings.FORMATTER_OFF_TAG));
  settings.FORMATTER_ON_TAG=getTagText(myFormatterOnTagField,settings.FORMATTER_ON_TAG);
  settings.setFormatterOnPattern(compilePattern(settings,myFormatterOnTagField,settings.FORMATTER_ON_TAG));
  settings.AUTODETECT_INDENTS=myAutodetectIndentsBox.isSelected();
  if (myShowDetectedIndentNotification.isEnabled()) {
    FileIndentOptionsProvider.setShowNotification(myShowDetectedIndentNotification.isSelected());
  }
  for (  GeneralCodeStyleOptionsProvider option : myAdditionalOptions) {
    option.apply(settings);
  }
}
