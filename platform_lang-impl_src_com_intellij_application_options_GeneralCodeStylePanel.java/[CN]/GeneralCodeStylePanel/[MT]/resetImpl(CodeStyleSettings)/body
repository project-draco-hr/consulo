{
  myCbUseSameIndents.setSelected(settings.USE_SAME_INDENTS);
  myOtherIndentOptions.reset(settings,settings.OTHER_INDENT_OPTIONS);
  boolean first=true;
  for (  Map.Entry<FileType,IndentOptionsEditor> entry : myAdditionalIndentOptions.entrySet()) {
    final IndentOptionsEditor editor=entry.getValue();
    if (settings.USE_SAME_INDENTS && first) {
      first=false;
      editor.reset(settings,settings.OTHER_INDENT_OPTIONS);
    }
 else {
      FileType type=entry.getKey();
      CommonCodeStyleSettings.IndentOptions additionalIndentOptions=settings.getAdditionalIndentOptions(type);
      if (additionalIndentOptions != null) {
        editor.reset(settings,additionalIndentOptions);
      }
    }
  }
  String lineSeparator=settings.LINE_SEPARATOR;
  if ("\n".equals(lineSeparator)) {
    myLineSeparatorCombo.setSelectedItem(UNIX_STRING);
  }
 else   if ("\r\n".equals(lineSeparator)) {
    myLineSeparatorCombo.setSelectedItem(WINDOWS_STRING);
  }
 else   if ("\r".equals(lineSeparator)) {
    myLineSeparatorCombo.setSelectedItem(MACINTOSH_STRING);
  }
 else {
    myLineSeparatorCombo.setSelectedItem(SYSTEM_DEPENDANT_STRING);
  }
  myRightMarginField.setText(String.valueOf(settings.RIGHT_MARGIN));
  myCbWrapWhenTypingReachesRightMargin.setSelected(settings.WRAP_WHEN_TYPING_REACHES_RIGHT_MARGIN);
  update();
}
