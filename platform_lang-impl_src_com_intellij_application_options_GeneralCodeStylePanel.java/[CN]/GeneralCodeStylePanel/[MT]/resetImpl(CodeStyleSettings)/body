{
  String lineSeparator=settings.LINE_SEPARATOR;
  if ("\n".equals(lineSeparator)) {
    myLineSeparatorCombo.setSelectedItem(UNIX_STRING);
  }
 else   if ("\r\n".equals(lineSeparator)) {
    myLineSeparatorCombo.setSelectedItem(WINDOWS_STRING);
  }
 else   if ("\r".equals(lineSeparator)) {
    myLineSeparatorCombo.setSelectedItem(MACINTOSH_STRING);
  }
 else {
    myLineSeparatorCombo.setSelectedItem(SYSTEM_DEPENDANT_STRING);
  }
  myRightMarginSpinner.setValue(settings.getDefaultRightMargin());
  myCbWrapWhenTypingReachesRightMargin.setSelected(settings.WRAP_WHEN_TYPING_REACHES_RIGHT_MARGIN);
  myIndentOptionsEditor.reset(settings,settings.OTHER_INDENT_OPTIONS);
  myIndentOptionsEditor.setEnabled(true);
  myAcceptRegularExpressionsCheckBox.setSelected(settings.FORMATTER_TAGS_ACCEPT_REGEXP);
  myEnableFormatterTags.setSelected(settings.FORMATTER_TAGS_ENABLED);
  myFormatterOnTagField.setText(settings.FORMATTER_ON_TAG);
  myFormatterOffTagField.setText(settings.FORMATTER_OFF_TAG);
  setFormatterTagControlsEnabled(settings.FORMATTER_TAGS_ENABLED);
  myAutodetectIndentsBox.setSelected(settings.AUTODETECT_INDENTS);
  for (  GeneralCodeStyleOptionsProvider option : myAdditionalOptions) {
    option.reset(settings);
  }
}
