{
  super(settings);
  myLineSeparatorCombo.addItem(SYSTEM_DEPENDANT_STRING);
  myLineSeparatorCombo.addItem(UNIX_STRING);
  myLineSeparatorCombo.addItem(WINDOWS_STRING);
  myLineSeparatorCombo.addItem(MACINTOSH_STRING);
  addPanelToWatch(myPanel);
  myRightMarginSpinner.setModel(new SpinnerNumberModel(settings.getDefaultRightMargin(),1,1000000,1));
  myIndentOptionsEditor=new SmartIndentOptionsEditor();
  myDefaultIndentOptionsPanel.add(myIndentOptionsEditor.createPanel(),BorderLayout.CENTER);
  myEnableFormatterTags.addActionListener(new ActionListener(){
    @Override public void actionPerformed(    ActionEvent e){
      boolean tagsEnabled=myEnableFormatterTags.isSelected();
      setFormatterTagControlsEnabled(tagsEnabled);
    }
  }
);
  myMarkersPanel.setBorder(IdeBorderFactory.createTitledBorder(ApplicationBundle.message("settings.code.style.general.formatter.marker.title"),true));
  myMarkerOptionsPanel.setBorder(IdeBorderFactory.createTitledBorder(ApplicationBundle.message("settings.code.style.general.formatter.marker.options.title"),true));
  myPanel.setBorder(BorderFactory.createEmptyBorder(10,10,10,10));
  myScrollPane=ScrollPaneFactory.createScrollPane(null,true);
  myScrollPane.setViewport(new GradientViewport(myPanel,5,0,0,0,true));
  myScrollPane.getVerticalScrollBar().setUnitIncrement(10);
  myAdditionalSettingsPanel.setLayout(new VerticalFlowLayout(true,true));
  myAdditionalSettingsPanel.removeAll();
  myAdditionalOptions=ConfigurableWrapper.createConfigurables(GeneralCodeStyleOptionsProviderEP.EP_NAME);
  for (  GeneralCodeStyleOptionsProvider provider : myAdditionalOptions) {
    myAdditionalSettingsPanel.add(provider.createComponent());
  }
}
