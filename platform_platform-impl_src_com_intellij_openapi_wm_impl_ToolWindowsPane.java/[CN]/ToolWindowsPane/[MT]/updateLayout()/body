{
  if (myWidescreen != UISettings.getInstance().WIDESCREEN_SUPPORT) {
    JComponent documentComponent=(myWidescreen ? myVerticalSplitter : myHorizontalSplitter).getInnerComponent();
    myWidescreen=UISettings.getInstance().WIDESCREEN_SUPPORT;
    if (myWidescreen) {
      myVerticalSplitter.setInnerComponent(null);
      myHorizontalSplitter.setInnerComponent(myVerticalSplitter);
    }
 else {
      myHorizontalSplitter.setInnerComponent(null);
      myVerticalSplitter.setInnerComponent(myHorizontalSplitter);
    }
    myLayeredPane.remove(myWidescreen ? myVerticalSplitter : myHorizontalSplitter);
    myLayeredPane.add(myWidescreen ? myHorizontalSplitter : myVerticalSplitter,DEFAULT_LAYER);
    setDocumentComponent(documentComponent);
  }
  if (myLeftHorizontalSplit != UISettings.getInstance().LEFT_HORIZONTAL_SPLIT) {
    JComponent component=getComponentAt(ToolWindowAnchor.LEFT);
    if (component instanceof Splitter) {
      Splitter splitter=(Splitter)component;
      InternalDecorator first=(InternalDecorator)splitter.getFirstComponent();
      InternalDecorator second=(InternalDecorator)splitter.getSecondComponent();
      setComponent(splitter,ToolWindowAnchor.LEFT,ToolWindowAnchor.LEFT.isSplitVertically() ? first.getWindowInfo().getWeight() : first.getWindowInfo().getWeight() + second.getWindowInfo().getWeight());
    }
    myLeftHorizontalSplit=UISettings.getInstance().LEFT_HORIZONTAL_SPLIT;
  }
  if (myRightHorizontalSplit != UISettings.getInstance().RIGHT_HORIZONTAL_SPLIT) {
    JComponent component=getComponentAt(ToolWindowAnchor.RIGHT);
    if (component instanceof Splitter) {
      Splitter splitter=(Splitter)component;
      InternalDecorator first=(InternalDecorator)splitter.getFirstComponent();
      InternalDecorator second=(InternalDecorator)splitter.getSecondComponent();
      setComponent(splitter,ToolWindowAnchor.RIGHT,ToolWindowAnchor.RIGHT.isSplitVertically() ? first.getWindowInfo().getWeight() : first.getWindowInfo().getWeight() + second.getWindowInfo().getWeight());
    }
    myRightHorizontalSplit=UISettings.getInstance().RIGHT_HORIZONTAL_SPLIT;
  }
}
