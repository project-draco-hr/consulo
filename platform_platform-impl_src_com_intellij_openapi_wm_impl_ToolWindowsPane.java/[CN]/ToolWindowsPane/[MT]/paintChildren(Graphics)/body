{
  super.paintChildren(g);
  UISettings settings=UISettings.getInstance();
  if (myTopStripe.isVisible() && myStripesOverlayed && settings.HIDE_TOOL_STRIPES) {
    Dimension topSize=myTopStripe.getSize();
    Dimension bottomSize=myBottomStripe.getSize();
    Dimension leftSize=myLeftStripe.getSize();
    Dimension rightSize=myRightStripe.getSize();
    Dimension size=getSize();
    Rectangle rec=new Rectangle(leftSize.width,topSize.height,size.width - leftSize.width - rightSize.width,size.height - topSize.height - bottomSize.height);
    g.setColor(Color.gray);
    boolean strikeoutTop=settings.SHOW_MAIN_TOOLBAR && !settings.SHOW_NAVIGATION_BAR && topSize.height == 0;
    if (topSize.height > 0) {
      g.drawLine(rec.x,rec.y,rec.x + rec.width,rec.y);
    }
    if (leftSize.width > 0) {
      g.drawLine(rec.x,rec.y,rec.x,rec.y + rec.height);
      if (strikeoutTop) {
        g.drawLine(0,rec.y,rec.x,rec.y);
      }
    }
    if (bottomSize.height > 0) {
      g.drawLine(rec.x,rec.y + rec.height,rec.x + rec.width,rec.y + rec.height);
    }
    if (rightSize.width > 0) {
      g.drawLine(rec.x + rec.width,rec.y,rec.x + rec.width,rec.y + rec.height);
      if (strikeoutTop) {
        g.drawLine(rec.x + rec.width,rec.y,size.width,rec.y);
      }
    }
  }
}
