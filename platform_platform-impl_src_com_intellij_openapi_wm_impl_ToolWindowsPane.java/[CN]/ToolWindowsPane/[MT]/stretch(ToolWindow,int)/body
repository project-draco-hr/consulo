{
  if (!wnd.isVisible())   return;
  Resizer resizer=null;
  Component cmp=null;
  if (wnd.getType() == ToolWindowType.DOCKED) {
    cmp=getComponentAt(wnd.getAnchor());
    if (cmp != null) {
      if (wnd.getAnchor().isHorizontal()) {
        resizer=myVerticalSplitter.getFirstComponent() == cmp ? new Resizer.Splitter.FirstComponent(myVerticalSplitter) : new Resizer.Splitter.LastComponent(myVerticalSplitter);
      }
 else {
        resizer=myHorizontalSplitter.getFirstComponent() == cmp ? new Resizer.Splitter.FirstComponent(myHorizontalSplitter) : new Resizer.Splitter.LastComponent(myHorizontalSplitter);
      }
    }
  }
  if (wnd.getType() == ToolWindowType.SLIDING) {
    cmp=wnd.getComponent();
    while (cmp != null) {
      if (cmp.getParent() == myLayeredPane)       break;
      cmp=cmp.getParent();
    }
    if (cmp != null) {
      if (wnd.getAnchor() == ToolWindowAnchor.TOP) {
        resizer=new Resizer.LayeredPane.Top(cmp);
      }
 else       if (wnd.getAnchor() == ToolWindowAnchor.BOTTOM) {
        resizer=new Resizer.LayeredPane.Bottom(cmp);
      }
 else       if (wnd.getAnchor() == ToolWindowAnchor.LEFT) {
        resizer=new Resizer.LayeredPane.Left(cmp);
      }
 else       if (wnd.getAnchor() == ToolWindowAnchor.RIGHT) {
        resizer=new Resizer.LayeredPane.Right(cmp);
      }
    }
  }
  if (resizer == null || cmp == null)   return;
  int currentValue=wnd.getAnchor().isHorizontal() ? cmp.getHeight() : cmp.getWidth();
  int actualSize=currentValue + value;
  int minValue=wnd.getAnchor().isHorizontal() ? ((ToolWindowEx)wnd).getDecorator().getTitlePanel().getPreferredSize().height : 16 + myHorizontalSplitter.getDividerWidth();
  int maxValue=wnd.getAnchor().isHorizontal() ? myLayeredPane.getHeight() : myLayeredPane.getWidth();
  if (actualSize < minValue) {
    actualSize=minValue;
  }
  if (actualSize > maxValue) {
    actualSize=maxValue;
  }
  resizer.setSize(actualSize);
}
