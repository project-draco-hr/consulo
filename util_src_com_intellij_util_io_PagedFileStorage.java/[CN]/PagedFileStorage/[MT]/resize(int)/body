{
  final int current=(int)myFile.length();
  if (current == size)   return;
  unmap();
  if (size > current) {
    FileOutputStream stream=new FileOutputStream(myFile,true);
    FileChannel channel=stream.getChannel();
    try {
      byte[] temp=new byte[size - current];
      Arrays.fill(temp,(byte)0);
      channel.write(ByteBuffer.wrap(temp));
      channel.force(true);
    }
  finally {
      channel.close();
      stream.close();
    }
  }
 else {
    RandomAccessFile raf=new RandomAccessFile(myFile,RW);
    try {
      raf.setLength(size);
    }
  finally {
      raf.close();
    }
  }
  map();
}
