{
  List<Facet> facets=new ArrayList<Facet>();
  FacetModel facetModel=getOrCreateModifiableModel(module);
  for (  Facet facet : facetModel.getAllFacets()) {
    if (!myCreatedFacets.contains(facet)) {
      myFacetsToDispose.add(facet);
    }
    LOG.assertTrue(facet.getModule().equals(module),module + " expected but " + facet.getModule()+ " found");
    facets.addAll(removeFacet(facet));
  }
  mySharedModuleData.remove(module);
  myModifiableModels.remove(module);
  return facets;
}
