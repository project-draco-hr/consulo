{
  final PsiManager manager=variable.getManager();
  final PsiElementFactory factory=manager.getElementFactory();
  final PsiDeclarationStatement newDeclaration=factory.createVariableDeclarationStatement(variable.getName(),variable.getType(),initializer,false);
  final PsiLocalVariable newVariable=(PsiLocalVariable)newDeclaration.getDeclaredElements()[0];
  final PsiModifierList newModifierList=newVariable.getModifierList();
  final PsiModifierList modifierList=variable.getModifierList();
  if (modifierList.hasExplicitModifier(PsiModifier.FINAL)) {
    newModifierList.setModifierProperty(PsiModifier.FINAL,true);
  }
 else {
    newModifierList.setModifierProperty(PsiModifier.FINAL,false);
  }
  final PsiAnnotation[] annotations=modifierList.getAnnotations();
  for (  PsiAnnotation annotation : annotations) {
    newModifierList.add(annotation);
  }
  return newDeclaration;
}
