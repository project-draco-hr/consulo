{
  final String referencedName=reference.getReferencedName();
  if (referencedName.length() > 0) {
    final TextRange range=reference.getTextRange().shiftRight(1).grown(-1);
    final Annotation ann=holder.createErrorAnnotation(range,"Unresolved variable '" + referencedName + "'");
    ann.setHighlightType(ProblemHighlightType.LIKE_UNKNOWN_SYMBOL);
    final VariableContext variableContext=ContextProvider.getContextProvider(reference).getVariableContext();
    if (variableContext != null) {
      final IntentionAction[] fixes=variableContext.getUnresolvedVariableFixes(reference);
      for (      IntentionAction fix : fixes) {
        ann.registerFix(fix);
      }
    }
  }
}
