{
  if (usage instanceof AnnotationUsage) {
    final AnnotationUsage annotationUsage=(AnnotationUsage)usage;
    if (!myType.equals(annotationUsage.myType)) {
      return false;
    }
    boolean argumentsSatisfy=false;
    if (myUsedArguments != null) {
      final TIntHashSet arguments=new TIntHashSet(myUsedArguments.toArray());
      arguments.removeAll(annotationUsage.myUsedArguments.toArray());
      argumentsSatisfy=!arguments.isEmpty();
    }
    boolean targetsSatisfy=false;
    if (myUsedTargets != null) {
      final Collection<ElemType> targets=EnumSet.copyOf(myUsedTargets);
      targets.retainAll(annotationUsage.myUsedTargets);
      targetsSatisfy=!targets.isEmpty();
    }
    return argumentsSatisfy || targetsSatisfy;
  }
  return false;
}
