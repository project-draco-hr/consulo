{
  if (isInvalid(myCompiledXPathCondition)) {
    return null;
  }
 else   if (myCompiledXPathCondition != null) {
    return (XPath)myCompiledXPathCondition;
  }
 else   if (myXPathCondition != null && myXPathCondition.length() > 0) {
    try {
      final XPathSupportProxy xPathSupport=XPathSupportProxy.getInstance();
      if (xPathSupport != null) {
        return (XPath)(myCompiledXPathCondition=xPathSupport.createXPath(myXPathCondition));
      }
 else {
        myCompiledXPathCondition=XPathSupportProxy.UNSUPPORTED;
      }
    }
 catch (    JaxenException e) {
      myCompiledXPathCondition=XPathSupportProxy.INVALID;
      Logger.getInstance(getClass().getName()).info("Invalid XPath expression",e);
    }
  }
  return null;
}
