{
  ApplicationManager.getApplication().assertIsDispatchThread();
  ServerConnection connection=myConnections.get(server);
  if (connection == null) {
    ServerTaskExecutorImpl executor=new ServerTaskExecutorImpl();
    connection=new ServerConnectionImpl(server,server.getType().createConnector(server.getConfiguration(),executor),this);
    myConnections.put(server,connection);
    myEventDispatcher.fireConnectionCreated(connection);
  }
  return connection;
}
