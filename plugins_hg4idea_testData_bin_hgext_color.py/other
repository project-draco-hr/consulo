"colorize output from some commands\n\nThis extension modifies the status and resolve commands to add color to their\noutput to reflect file status, the qseries command to add color to reflect\npatch status (applied, unapplied, missing), and to diff-related\ncommands to highlight additions, removals, diff headers, and trailing\nwhitespace.\n\nOther effects in addition to color, like bold and underlined text, are\nalso available. Effects are rendered with the ECMA-48 SGR control\nfunction (aka ANSI escape codes). This module also provides the\nrender_text function, which can be used to add effects to any text.\n\nDefault effects may be overridden from the .hgrc file::\n\n  [color]\n  status.modified = blue bold underline red_background\n  status.added = green bold\n  status.removed = red bold blue_background\n  status.deleted = cyan bold underline\n  status.unknown = magenta bold underline\n  status.ignored = black bold\n\n  # 'none' turns off all effects\n  status.clean = none\n  status.copied = none\n\n  qseries.applied = blue bold underline\n  qseries.unapplied = black bold\n  qseries.missing = red bold\n\n  diff.diffline = bold\n  diff.extended = cyan bold\n  diff.file_a = red bold\n  diff.file_b = green bold\n  diff.hunk = magenta\n  diff.deleted = red\n  diff.inserted = green\n  diff.changed = white\n  diff.trailingwhitespace = bold red_background\n\n  resolve.unresolved = red bold\n  resolve.resolved = green bold\n\n  bookmarks.current = green\n"
import os, sys
from mercurial import cmdutil, commands, extensions
from mercurial.i18n import _
_effect_params = {'none': 0, 'black': 30, 'red': 31, 'green': 32, 'yellow': 33, 'blue': 34, 'magenta': 35, 'cyan': 36, 'white': 37, 'bold': 1, 'italic': 3, 'underline': 4, 'inverse': 7, 'black_background': 40, 'red_background': 41, 'green_background': 42, 'yellow_background': 43, 'blue_background': 44, 'purple_background': 45, 'cyan_background': 46, 'white_background': 47, }
_status_abbreviations = {'M': 'modified', 'A': 'added', 'R': 'removed', '!': 'deleted', '?': 'unknown', 'I': 'ignored', 'C': 'clean', ' ': 'copied', }
_status_effects = {'modified': ['blue', 'bold'], 'added': ['green', 'bold'], 'removed': ['red', 'bold'], 'deleted': ['cyan', 'bold', 'underline'], 'unknown': ['magenta', 'bold', 'underline'], 'ignored': ['black', 'bold'], 'clean': ['none'], 'copied': ['none'], }
_resolve_abbreviations = {'U': 'unresolved', 'R': 'resolved', }
_resolve_effects = {'unresolved': ['red', 'bold'], 'resolved': ['green', 'bold'], }
_bookmark_effects = {'current': ['green'], }
_patch_effects = {'applied': ['blue', 'bold', 'underline'], 'missing': ['red', 'bold'], 'unapplied': ['black', 'bold'], }
_diff_prefixes = [('diff', 'diffline'), ('copy', 'extended'), ('rename', 'extended'), ('old', 'extended'), ('new', 'extended'), ('deleted', 'extended'), ('---', 'file_a'), ('+++', 'file_b'), ('@', 'hunk'), ('-', 'deleted'), ('+', 'inserted')]
_diff_effects = {'diffline': ['bold'], 'extended': ['cyan', 'bold'], 'file_a': ['red', 'bold'], 'file_b': ['green', 'bold'], 'hunk': ['magenta'], 'deleted': ['red'], 'inserted': ['green'], 'changed': ['white'], 'trailingwhitespace': ['bold', 'red_background'], }
