{
  Collection<Pair<String,MavenProfileState>> result=new ArrayListSet<Pair<String,MavenProfileState>>();
  Pair<Collection<String>,Collection<String>> profiles=getAvailableAndActiveProfiles(true,true);
  Collection<String> available=profiles.first;
  Collection<String> active=profiles.second;
  Collection<String> explicitProfiles=getExplicitProfiles();
  for (  String each : available) {
    MavenProfileState state=MavenProfileState.NONE;
    if (explicitProfiles.contains(each)) {
      state=MavenProfileState.EXPLICIT;
    }
 else     if (active.contains(each))     state=MavenProfileState.IMPLICIT;
    result.add(Pair.create(each,state));
  }
  return result;
}
