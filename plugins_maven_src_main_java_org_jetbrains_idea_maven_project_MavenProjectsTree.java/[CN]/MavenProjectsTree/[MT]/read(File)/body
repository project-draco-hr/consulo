{
  FileInputStream fs=new FileInputStream(file);
  DataInputStream in=new DataInputStream(fs);
  MavenProjectsTree result=new MavenProjectsTree();
  try {
    if (!VERSION.equals(in.readUTF()))     return null;
    result.myManagedFilesPaths=readList(in);
    result.myActiveProfiles=readList(in);
    result.myLastGlobalSettingsTimestamp=in.readLong();
    result.myLastUserSettingsTimestamp=in.readLong();
    result.myRootProjects=readProjectsRecursively(in,result.myMavenIdToProject,result.myModuleMapping);
  }
  finally {
    in.close();
    fs.close();
  }
  return result;
}
