{
  FileInputStream fs=new FileInputStream(file);
  DataInputStream in=new DataInputStream(fs);
  MavenProjectsTree result=new MavenProjectsTree();
  try {
    try {
      if (!STORAGE_VERSION.equals(in.readUTF()))       return null;
      result.myManagedFilesPaths=readList(in);
      result.myIgnoredFilesPaths=readList(in);
      result.myIgnoredFilesPatterns=readList(in);
      result.myExplicitProfiles=readCollection(in,new Function<Integer,Set<String>>(){
        public Set<String> fun(        Integer integer){
          return new THashSet<String>(integer);
        }
      }
);
      result.myRootProjects.addAll(readProjectsRecursively(in,result));
    }
 catch (    Throwable e) {
      IOException ioException=new IOException();
      ioException.initCause(e);
      throw ioException;
    }
  }
  finally {
    in.close();
    fs.close();
  }
  return result;
}
