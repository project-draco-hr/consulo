{
  MavenProjectsTree result=new MavenProjectsTree();
  DataInputStream in=new DataInputStream(new BufferedInputStream(new FileInputStream(file)));
  try {
    try {
      if (!STORAGE_VERSION.equals(in.readUTF()))       return null;
      result.myManagedFilesPaths=readList(in);
      result.myIgnoredFilesPaths=readList(in);
      result.myIgnoredFilesPatterns=readList(in);
      result.myExplicitProfiles=readCollection(in,new Function<Integer,Set<String>>(){
        public Set<String> fun(        Integer integer){
          return new THashSet<String>();
        }
      }
);
      result.myRootProjects.addAll(readProjectsRecursively(in,result));
    }
 catch (    IOException e) {
      in.close();
      file.delete();
      throw e;
    }
catch (    Throwable e) {
      throw new IOException(e);
    }
  }
  finally {
    in.close();
  }
  return result;
}
