{
  MavenEmbedderWrapper e=MavenEmbedderFactory.createEmbedderForResolve(generalSettings,console,process,this);
  try {
    List<MavenProjectModel> projects=getProjects();
    for (    MavenProjectModel each : projects) {
      process.checkCanceled();
      process.setText(ProjectBundle.message("maven.resolving.pom",FileUtil.toSystemDependentName(each.getPath())));
      process.setText2("");
      each.resolve(e,process);
      fireUpdated(each);
    }
    doDownload(downloadingSettings,process,e,projects,false);
  }
  finally {
    e.release();
  }
}
