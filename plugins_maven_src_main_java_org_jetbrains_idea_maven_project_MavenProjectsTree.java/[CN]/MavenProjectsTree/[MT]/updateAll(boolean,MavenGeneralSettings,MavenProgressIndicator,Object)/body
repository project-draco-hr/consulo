{
  List<VirtualFile> managedFiles=getExistingManagedFiles();
  List<String> activeProfiles=getActiveProfiles();
  MavenProjectReader projectReader=new MavenProjectReader();
  update(managedFiles,true,force,activeProfiles,projectReader,generalSettings,process,message);
  List<VirtualFile> obsoleteFiles=getRootProjectsFiles();
  obsoleteFiles.removeAll(managedFiles);
  delete(projectReader,obsoleteFiles,activeProfiles,generalSettings,process,message);
}
