{
  List<MavenProject> ignoredBefore;
  List<MavenProject> ignoredAfter;
synchronized (myStateLock) {
    ignoredBefore=getIgnoredProjects();
    runnable.run();
    ignoredAfter=getIgnoredProjects();
  }
  List<MavenProject> ignored=new ArrayList<MavenProject>(ignoredAfter);
  ignored.removeAll(ignoredBefore);
  List<MavenProject> unignored=new ArrayList<MavenProject>(ignoredBefore);
  unignored.removeAll(ignoredAfter);
  if (ignored.isEmpty() && unignored.isEmpty())   return;
  fireProjectsIgnoredStateChanged(ignored,unignored,message);
}
