{
  if (files.isEmpty())   return;
  UpdateContext updateContext=new UpdateContext();
  Stack<MavenProject> updateStack=new Stack<MavenProject>();
  Set<MavenProject> inheritorsToUpdate=new THashSet<MavenProject>();
  for (  VirtualFile each : files) {
    MavenProject mavenProject=findProject(each);
    if (mavenProject == null)     return;
    inheritorsToUpdate.addAll(findInheritors(mavenProject));
    doDelete(findAggregator(mavenProject),mavenProject,updateContext);
  }
  inheritorsToUpdate.removeAll(updateContext.deletedProjects);
  for (  MavenProject each : inheritorsToUpdate) {
    doUpdate(each,null,false,false,false,explicitProfiles,updateContext,updateStack,projectReader,generalSettings,process);
  }
  updateExplicitProfiles();
  updateContext.fireUpdatedIfNecessary(message);
}
