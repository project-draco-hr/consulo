{
  MavenEmbedderWrapper embedder=embeddersManager.getEmbedder(MavenEmbeddersManager.EmbedderKind.FOR_DOWNLOAD);
  embedder.customizeForResolve(console,process);
  try {
    MavenArtifactDownloader.DownloadResult result=MavenArtifactDownloader.download(this,projects,artifacts,downloadSources,downloadDocs,embedder,process);
    for (    MavenProject each : projects) {
      fireArtifactsDownloaded(each);
    }
    return result;
  }
  finally {
    embeddersManager.release(embedder);
  }
}
