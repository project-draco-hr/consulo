{
  MavenEmbedderWrapper embedder=embeddersManager.getEmbedder(MavenEmbeddersManager.EmbedderKind.FOR_DOWNLOAD);
  embedder.customizeForResolve(console,process);
  try {
    Artifact artifact=embedder.createArtifact(id.getGroupId(),id.getArtifactId(),id.getVersion(),MavenConstants.TYPE_JAR,null);
    artifact.setScope(Artifact.SCOPE_COMPILE);
    embedder.resolve(artifact,mavenProject.getRemoteRepositories());
    return new MavenArtifact(artifact,mavenProject.getLocalRepository());
  }
  finally {
    embeddersManager.release(embedder);
  }
}
