{
  return (MavenProjectTimestamp)new ReadAction(){
    protected void run(    Result result) throws Throwable {
      FileAndPsiTimestamp pomTimestamp=calcFileAndPsiTimestamp(mavenProject.getFile());
      MavenProject parent=findParent(mavenProject);
      long parentLastReadStamp=parent == null ? -1 : parent.getLastReadStamp();
      VirtualFile profilesXmlFile=mavenProject.getDirectoryFile().findChild(MavenConstants.PROFILES_XML);
      FileAndPsiTimestamp profilesTimestamp=calcFileAndPsiTimestamp(profilesXmlFile);
      File userSettings=MavenEmbedderFactory.resolveUserSettingsFile(generalSettings.getMavenSettingsFile());
      File globalSettings=MavenEmbedderFactory.resolveGlobalSettingsFile(generalSettings.getMavenHome());
      FileAndPsiTimestamp userSettingsTimestamp=calcFileAndPsiTimestamp(userSettings);
      FileAndPsiTimestamp globalSettingsTimestamp=calcFileAndPsiTimestamp(globalSettings);
      int profilesHashCode=new HashSet<String>(activeProfiles).hashCode();
      result.setResult(new MavenProjectTimestamp(quickRead,pomTimestamp,parentLastReadStamp,profilesTimestamp,userSettingsTimestamp,globalSettingsTimestamp,profilesHashCode));
    }
  }
.execute().getResultObject();
}
