{
  MavenProject prevAggregator=findAggregator(project);
  writeLock();
  try {
    if (prevAggregator != null) {
      removeModule(prevAggregator,project);
    }
 else {
      myRootProjects.remove(project);
    }
    if (newAggregator != null) {
      addModule(newAggregator,project);
    }
 else {
      myRootProjects.add(project);
    }
  }
  finally {
    writeUnlock();
  }
  return prevAggregator != newAggregator;
}
