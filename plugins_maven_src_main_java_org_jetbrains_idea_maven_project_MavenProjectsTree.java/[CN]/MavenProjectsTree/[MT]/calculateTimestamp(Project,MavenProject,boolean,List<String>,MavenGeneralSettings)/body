{
  FileAndPsiTimestamp pomTimestamp=calcFileAndPsiTimestamp(project,mavenProject.getFile());
  MavenProject parent=findParent(mavenProject);
  long parentLastReadStamp=parent == null ? -1 : parent.getLastReadStamp();
  VirtualFile profilesXmlFile=mavenProject.getDirectoryFile().findChild(MavenConstants.PROFILES_XML);
  FileAndPsiTimestamp profilesTimestamp=calcFileAndPsiTimestamp(project,profilesXmlFile);
  File userSettings=MavenEmbedderFactory.resolveUserSettingsFile(generalSettings.getMavenSettingsFile());
  File globalSettings=MavenEmbedderFactory.resolveGlobalSettingsFile(generalSettings.getMavenHome());
  FileAndPsiTimestamp userSettingsTimestamp=calcFileAndPsiTimestamp(project,userSettings);
  FileAndPsiTimestamp globalSettingsTimestamp=calcFileAndPsiTimestamp(project,globalSettings);
  int profilesHashCode=new HashSet<String>(activeProfiles).hashCode();
  return new MavenProjectTimestamp(quickRead,pomTimestamp,parentLastReadStamp,profilesTimestamp,userSettingsTimestamp,globalSettingsTimestamp,profilesHashCode);
}
