{
  MavenEmbedderWrapper e=MavenEmbedderFactory.createEmbedderForResolve(coreSettings,this);
  try {
    List<MavenProjectModel> projects=getProjects();
    for (    MavenProjectModel each : projects) {
      p.checkCanceled();
      p.setText(ProjectBundle.message("maven.resolving.pom",FileUtil.toSystemDependentName(each.getPath())));
      p.setText2("");
      each.resolve(e);
      fireUpdated(each);
    }
    doDownload(artifactSettings,p,e,projects,false);
  }
  finally {
    e.release();
  }
}
