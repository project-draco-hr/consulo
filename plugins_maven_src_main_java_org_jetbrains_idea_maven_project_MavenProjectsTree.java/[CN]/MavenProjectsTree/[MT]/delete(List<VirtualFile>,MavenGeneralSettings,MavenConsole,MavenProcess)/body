{
  if (files.isEmpty())   return;
  List<MavenProject> projectsToUpdate=new ArrayList<MavenProject>();
  List<MavenProject> removedProjects=new ArrayList<MavenProject>();
  for (  VirtualFile each : files) {
    process.checkCanceled();
    MavenProject mavenProject=findProject(each);
    if (mavenProject == null)     return;
    projectsToUpdate.addAll(findInheritors(mavenProject));
    doRemove(findAggregator(mavenProject),mavenProject,removedProjects);
  }
  projectsToUpdate.removeAll(removedProjects);
  List<VirtualFile> filesToUpdate=new ArrayList<VirtualFile>();
  for (  MavenProject each : projectsToUpdate) {
    filesToUpdate.add(each.getFile());
  }
  update(filesToUpdate,generalSettings,console,process,false);
}
