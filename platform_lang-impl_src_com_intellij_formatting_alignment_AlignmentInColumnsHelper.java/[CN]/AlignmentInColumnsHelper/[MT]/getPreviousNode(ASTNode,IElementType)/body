{
  ASTNode prev=startNode.getTreePrev();
  for (ASTNode node=startNode; prev == null && node != null; node=node.getTreeParent()) {
    prev=node.getTreePrev();
  }
  ASTNode result=prev;
  if (prev != null) {
    for (; prev != null && prev.getElementType() != targetType; prev=prev.getLastChildNode()) {
      result=prev;
    }
  }
  return result;
}
