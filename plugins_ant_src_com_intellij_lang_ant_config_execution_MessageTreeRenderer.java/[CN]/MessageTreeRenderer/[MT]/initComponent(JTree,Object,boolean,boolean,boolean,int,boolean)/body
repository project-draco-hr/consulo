{
  if (value instanceof MessageNode) {
    MessageNode messageNode=(MessageNode)value;
    setText(messageNode.getText(),messageNode.getTypeString() + messageNode.getPositionString());
  }
 else {
    String[] text=new String[]{value.toString()};
    if (text[0] == null) {
      text[0]="";
    }
    setText(text,null);
  }
  Icon icon=null;
  if (value instanceof MessageNode) {
    MessageNode node=(MessageNode)value;
    AntBuildMessageView.MessageType type=node.getType();
    if (type == AntBuildMessageView.MessageType.BUILD) {
      icon=myBuildIcon;
    }
 else     if (type == AntBuildMessageView.MessageType.TARGET) {
      icon=AntIcons.ANT_TARGET_ICON;
    }
 else     if (type == AntBuildMessageView.MessageType.TASK) {
      icon=PlatformIcons.TASK_ICON;
    }
 else     if (type == AntBuildMessageView.MessageType.MESSAGE) {
      if (node.getPriority() == AntBuildMessageView.PRIORITY_WARN) {
        icon=myWarningIcon;
      }
 else {
        icon=myMessageIcon;
      }
    }
 else     if (type == AntBuildMessageView.MessageType.ERROR) {
      icon=myErrorIcon;
    }
  }
  setIcon(icon);
}
