{
  final GradleApiFacadeManager manager=ServiceManager.getService(GradleApiFacadeManager.class);
  GradleProjectResolver resolver=manager.getFacade(getIntellijProject()).getResolver();
  setState(GradleTaskState.IN_PROGRESS);
  final GradleProject project=resolver.resolveProjectInfo(getId(),myProjectPath,myResolveLibraries);
  if (project == null) {
    return;
  }
  myGradleProject.set(project);
  setState(GradleTaskState.FINISHED);
  final Project intellijProject=getIntellijProject();
  if (intellijProject == null || intellijProject.isDisposed()) {
    return;
  }
  final GradleProjectStructureChangesModel model=intellijProject.getComponent(GradleProjectStructureChangesModel.class);
  if (model != null) {
    model.update(project);
  }
}
