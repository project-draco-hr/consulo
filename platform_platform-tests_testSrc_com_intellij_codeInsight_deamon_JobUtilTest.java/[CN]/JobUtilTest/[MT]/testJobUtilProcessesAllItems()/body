{
  List<String> list=Collections.nCopies(10000,null);
  final AtomicReference<Exception> exception=new AtomicReference<Exception>();
  for (int i=0; i < 10; i++) {
    long start=System.currentTimeMillis();
    COUNT.set(0);
    JobLauncher.getInstance().invokeConcurrentlyUnderProgress(list,null,false,new Processor<String>(){
      @Override public boolean process(      String name){
        busySleep(1);
        return true;
      }
    }
);
    if (exception.get() != null)     throw exception.get();
    long finish=System.currentTimeMillis();
    System.out.println("Elapsed: " + (finish - start) + "ms");
    assertEquals(list.size(),COUNT.get());
  }
}
