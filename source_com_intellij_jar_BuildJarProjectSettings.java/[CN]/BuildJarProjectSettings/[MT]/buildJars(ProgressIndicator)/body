{
  Module[] modules=ModuleManager.getInstance(myProject).getModules();
  try {
    for (    Module module : modules) {
      BuildJarSettings buildJarSettings=BuildJarSettings.getInstance(module);
      if (buildJarSettings == null || !buildJarSettings.isBuildJar())       continue;
      String presentableJarPath="'" + buildJarSettings.getJarPath() + "'";
      progressIndicator.setText(IdeBundle.message("jar.build.progress",presentableJarPath));
      buildJar(module,buildJarSettings);
      WindowManager.getInstance().getStatusBar(myProject).setInfo(IdeBundle.message("jar.build.success.message",presentableJarPath));
    }
  }
 catch (  ProcessCanceledException e) {
    WindowManager.getInstance().getStatusBar(myProject).setInfo(IdeBundle.message("jar.build.cancelled"));
  }
catch (  IOException e) {
    Messages.showErrorDialog(myProject,e.toString(),IdeBundle.message("jar.build.error.title"));
  }
}
