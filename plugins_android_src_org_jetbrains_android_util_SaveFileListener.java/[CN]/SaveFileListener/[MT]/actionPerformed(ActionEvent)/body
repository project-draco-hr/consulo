{
  String path=myTextField.getText().trim();
  if (path.length() == 0) {
    String defaultLocation=getDefaultLocation();
    path=defaultLocation != null ? defaultLocation : "";
  }
  File file=new File(path);
  if (!file.exists()) {
    path=file.getParent();
  }
  JFileChooser fileChooser=new JFileChooser(path);
  FileView fileView=new FileView(){
    public Icon getIcon(    File f){
      if (f.isDirectory())       return super.getIcon(f);
      FileType fileType=FileTypeManager.getInstance().getFileTypeByFileName(f.getName());
      return fileType.getIcon();
    }
  }
;
  fileChooser.setFileView(fileView);
  fileChooser.setMultiSelectionEnabled(false);
  fileChooser.setAcceptAllFileFilterUsed(false);
  fileChooser.setDialogTitle(myDialogTitle);
  if (fileChooser.showSaveDialog(myContentPanel) != JFileChooser.APPROVE_OPTION)   return;
  file=fileChooser.getSelectedFile();
  if (file == null)   return;
  myTextField.setText(file.getPath());
}
