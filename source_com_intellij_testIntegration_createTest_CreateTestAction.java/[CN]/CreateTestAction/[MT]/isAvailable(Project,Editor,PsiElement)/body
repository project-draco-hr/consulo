{
  if (element == null)   return false;
  if (Extensions.getExtensions(TestFrameworkDescriptor.EXTENSION_NAME).length == 0)   return false;
  PsiClass psiClass=PsiTreeUtil.getParentOfType(element,PsiClass.class,false);
  if (psiClass == null || psiClass.isAnnotationType() || psiClass.isInterface() || psiClass.isEnum() || psiClass instanceof PsiAnonymousClass || PsiTreeUtil.getParentOfType(psiClass,PsiClass.class) != null || isUnderTestSources(psiClass)) {
    return false;
  }
  PsiJavaToken leftBrace=psiClass.getLBrace();
  if (leftBrace == null)   return false;
  if (element.getTextOffset() >= leftBrace.getTextOffset())   return false;
  TextRange declarationRange=HighlightNamesUtil.getClassDeclarationTextRange(psiClass);
  if (!declarationRange.contains(element.getTextRange()))   return false;
  return true;
}
