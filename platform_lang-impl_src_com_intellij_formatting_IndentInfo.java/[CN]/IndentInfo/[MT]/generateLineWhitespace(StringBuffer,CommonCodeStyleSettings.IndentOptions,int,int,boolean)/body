{
  if (options.USE_TAB_CHARACTER && tabsAllowed) {
    if (options.SMART_TABS) {
      int tabCount=indentSpaces / options.TAB_SIZE;
      int leftSpaces=indentSpaces - tabCount * options.TAB_SIZE;
      if (tabCount > 0) {
        StringUtil.repeatSymbol(buffer,'\t',tabCount);
      }
      if (leftSpaces + alignmentSpaces > 0) {
        StringUtil.repeatSymbol(buffer,' ',leftSpaces + alignmentSpaces);
      }
    }
 else {
      int size=indentSpaces + alignmentSpaces;
      while (size > 0) {
        if (size >= options.TAB_SIZE) {
          buffer.append('\t');
          size-=options.TAB_SIZE;
        }
 else {
          buffer.append(' ');
          size--;
        }
      }
    }
  }
 else {
    int spaces=indentSpaces + alignmentSpaces;
    if (spaces > 0) {
      StringUtil.repeatSymbol(buffer,' ',spaces);
    }
  }
}
