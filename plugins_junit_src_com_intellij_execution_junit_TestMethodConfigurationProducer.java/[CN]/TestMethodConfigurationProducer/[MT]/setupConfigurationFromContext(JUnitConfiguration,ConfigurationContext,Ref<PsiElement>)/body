{
  if (PatternConfigurationProducer.isMultipleElementsSelected(context)) {
    return false;
  }
  Location<PsiMethod> methodLocation=getTestMethod(context.getLocation());
  if (methodLocation == null)   return false;
  sourceElement.set(methodLocation.getPsiElement());
  setupConfigurationModule(context,configuration);
  final Module originalModule=configuration.getConfigurationModule().getModule();
  configuration.beMethodConfiguration(methodLocation);
  configuration.restoreOriginalModule(originalModule);
  JavaRunConfigurationExtensionManager.getInstance().extendCreatedConfiguration(configuration,context.getLocation());
  return true;
}
