{
  myParameter=CreateFieldFromParameterAction.findParameterAtCursor(file,editor);
  final PsiType type=getType();
  PsiClass targetClass=myParameter == null ? null : PsiTreeUtil.getParentOfType(myParameter,PsiClass.class);
  if (myParameter == null || !myParameter.isValid() || !(myParameter.getDeclarationScope() instanceof PsiMethod) || !myParameter.getManager().isInProject(myParameter) || type == null || !type.isValid() || targetClass == null || targetClass.isInterface() || CreateFieldFromParameterAction.isParameterAssignedToField(myParameter)) {
    return false;
  }
  PsiField field=findFieldToAssign();
  if (field == null)   return false;
  setText(MessageFormat.format("Assign Parameter to Field ''{0}''",new Object[]{field.getName()}));
  return true;
}
