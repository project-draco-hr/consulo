{
  final PsiElement element=descriptor.getPsiElement();
  final PsiElement parent=element.getParent();
  if (!(parent instanceof PsiReferenceList)) {
    return;
  }
  final PsiReferenceList referenceList=(PsiReferenceList)parent;
  final PsiElementFactory factory=JavaPsiFacade.getElementFactory(project);
  if (!originalNeeded) {
    element.delete();
  }
  for (  SmartTypePointer type : types) {
    final PsiType psiType=type.getType();
    if (psiType instanceof PsiClassType) {
      final PsiJavaCodeReferenceElement referenceElement=factory.createReferenceElementByType((PsiClassType)psiType);
      referenceList.add(referenceElement);
    }
  }
}
