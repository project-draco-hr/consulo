{
  final LocalHistoryAction lvcsAction=LocalVcs.getInstance(project).startAction_New(VcsBundle.message("changes.action.rollback.text"),"",true);
  VirtualFileManager.getInstance().refresh(asynchronous,new Runnable(){
    public void run(){
      lvcsAction.finish();
      if (!project.isDisposed()) {
        FileStatusManager.getInstance(project).fileStatusesChanged();
        for (        FilePath path : pathsToRefresh) {
          VcsDirtyScopeManager.getInstance(project).fileDirty(path);
        }
      }
    }
  }
);
}
