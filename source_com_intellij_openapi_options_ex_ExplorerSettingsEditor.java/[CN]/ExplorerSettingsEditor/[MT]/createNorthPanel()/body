{
  final JPanel panel=new JPanel(new GridBagLayout());
  mySearchField=new FilterComponent("SEARCH_OPTION",5,false,false){
    public void filter(){
      final SearchableOptionsRegistrar optionsRegistrar=SearchableOptionsRegistrar.getInstance();
      final @NonNls String searchPattern=mySearchField.getFilter();
      if (searchPattern != null && searchPattern.length() > 0) {
        myOptionContainers=optionsRegistrar.getConfigurables(myGroups,searchPattern,CodeStyleSettingsManager.getInstance(myProject).USE_PER_PROJECT_SETTINGS);
      }
 else {
        myOptionContainers=null;
      }
      if (myOptionContainers != null && myOptionContainers.isEmpty()) {
        myShowHintAlarm.cancelAllRequests();
        myShowHintAlarm.addRequest(new Runnable(){
          public void run(){
            final String filter=mySearchField.getFilter();
            if (filter == null || filter.length() == 0)             return;
            final List<String> hints=optionsRegistrar.findPossibleExtension(filter);
            if (hints.size() > 0) {
              final ListPopup listPopup=JBPopupFactory.getInstance().createWizardStep(new BaseListPopupStep<String>("",hints){
                public PopupStep onChosen(                final String selectedValue,                final boolean finalChoice){
                  mySearchField.setFilter(selectedValue);
                  mySearchField.filter();
                  return FINAL_CHOICE;
                }
              }
);
              listPopup.showUnderneathOf(mySearchField);
              SwingUtilities.invokeLater(new Runnable(){
                public void run(){
                  mySearchField.requestFocusInWindow();
                }
              }
);
            }
          }
        }
,300,ModalityState.defaultModalityState());
      }
      initToolbar();
      if (mySelectedConfigurable instanceof SearchableConfigurable) {
        selectOption((SearchableConfigurable)mySelectedConfigurable);
      }
      myComponentPanel.revalidate();
      myComponentPanel.repaint();
    }
  }
;
  mySearchField.reset();
  final GridBagConstraints gc=new GridBagConstraints(0,0,1,1,1,0,GridBagConstraints.EAST,GridBagConstraints.HORIZONTAL,new Insets(0,0,0,0),0,0);
  panel.add(Box.createHorizontalBox(),gc);
  gc.gridx++;
  gc.weightx=0;
  gc.fill=GridBagConstraints.NONE;
  panel.add(new JLabel(IdeBundle.message("search.textfield.title")),gc);
  gc.gridx++;
  final int height=mySearchField.getPreferredSize().height;
  mySearchField.setPreferredSize(new Dimension(100,height));
  panel.add(mySearchField,gc);
  return panel;
}
