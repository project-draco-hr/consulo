{
  final ElementClassHint hint=processor.getHint(ElementClassHint.class);
  processor.handleEvent(PsiScopeProcessor.Event.SET_DECLARATION_HOLDER,method);
  if (hint == null || hint.shouldProcess(PsiClass.class)) {
    final PsiTypeParameterList list=method.getTypeParameterList();
    if (list != null && !list.processDeclarations(processor,substitutor,null,place))     return false;
  }
  if (lastParent instanceof PsiCodeBlock) {
    final PsiParameter[] parameters=method.getParameterList().getParameters();
    for (int i=0; i < parameters.length; i++) {
      if (!processor.execute(parameters[i],substitutor))       return false;
    }
  }
  return true;
}
