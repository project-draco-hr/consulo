{
  final List<CandidateInfo> list=new ArrayList<CandidateInfo>();
  PsiScopesUtil.processScope(psiClass,new FilterScopeProcessor(new ClassFilter(PsiField.class),null,list){
    protected void add(    PsiElement element,    PsiSubstitutor substitutor){
      list.add(new CandidateInfo(element,substitutor));
    }
  }
,PsiSubstitutor.EMPTY,null,psiClass);
  final Map<String,List<CandidateInfo>> fields=new HashMap<String,List<CandidateInfo>>();
  final Iterator<CandidateInfo> iterator=list.iterator();
  while (iterator.hasNext()) {
    final CandidateInfo info=iterator.next();
    final PsiField field=(PsiField)info.getElement();
    final String name=field.getName();
    List<CandidateInfo> fieldsList=fields.get(name);
    if (fieldsList == null) {
      fieldsList=new ArrayList<CandidateInfo>(1);
      fields.put(name,fieldsList);
    }
    fieldsList.add(info);
  }
  return fields;
}
