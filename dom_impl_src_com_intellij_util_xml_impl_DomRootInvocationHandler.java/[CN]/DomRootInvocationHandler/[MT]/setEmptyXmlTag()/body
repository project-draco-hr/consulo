{
  final XmlTag[] result=new XmlTag[]{null};
  getManager().runChange(new Runnable(){
    public void run(){
      try {
        final String namespace=getXmlName().getNamespace(getFile());
        @NonNls final String nsDecl=StringUtil.isEmpty(namespace) ? "" : " xmlns=\"" + namespace + "\"";
        final XmlFile xmlFile=getFile();
        final XmlTag tag=xmlFile.getManager().getElementFactory().createTagFromText("<" + getXmlElementName() + nsDecl+ "/>");
        result[0]=((XmlDocument)xmlFile.getDocument().replace(((XmlFile)tag.getContainingFile()).getDocument())).getRootTag();
      }
 catch (      IncorrectOperationException e) {
        LOG.error(e);
      }
    }
  }
);
  return result[0];
}
