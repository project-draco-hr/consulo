{
  FacetType selectedFacetType=null;
  List<FacetEditor> facetEditors=new ArrayList<FacetEditor>();
  for (  NamedConfigurable selectedConfigurable : selectedConfigurables) {
    if (selectedConfigurable instanceof FacetConfigurable) {
      FacetConfigurable facetConfigurable=(FacetConfigurable)selectedConfigurable;
      FacetType facetType=facetConfigurable.getEditableObject().getType();
      if (selectedFacetType != null && selectedFacetType != facetType) {
        return false;
      }
      selectedFacetType=facetType;
      facetEditors.add(facetConfigurable.getEditor());
    }
  }
  if (facetEditors.size() <= 1 || selectedFacetType == null) {
    return false;
  }
  FacetEditor[] selectedEditors=facetEditors.toArray(new FacetEditor[facetEditors.size()]);
  MultipleFacetSettingsEditor editor=selectedFacetType.createMultipleConfigurationsEditor(myProject,selectedEditors);
  if (editor == null) {
    return false;
  }
  updateSelection(null);
  myCurrentMultipleSettingsEditor=editor;
  detailsComponent.setText(ProjectBundle.message("multiple.facets.banner.0.1.facets",selectedEditors.length,selectedFacetType.getPresentableName()));
  detailsComponent.setContent(editor.createComponent());
  return true;
}
