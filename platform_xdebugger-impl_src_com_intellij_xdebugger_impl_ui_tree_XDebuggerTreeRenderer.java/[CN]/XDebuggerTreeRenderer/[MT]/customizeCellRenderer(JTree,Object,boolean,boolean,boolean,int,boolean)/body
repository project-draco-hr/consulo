{
  myHaveLink=false;
  myLink.getTreeCellRendererComponent(tree,value,selected,expanded,leaf,row,hasFocus);
  XDebuggerTreeNode node=(XDebuggerTreeNode)value;
  node.appendToComponent(this);
  setIcon(node.getIcon());
  Rectangle treeVisibleRect=tree.getVisibleRect();
  TreePath path=tree.getPathForRow(row);
  int rowX=path != null ? getRowX((BasicTreeUI)tree.getUI(),row,path.getPathCount() - 1) : 0;
  if (myHaveLink) {
    setupLinkDimensions(treeVisibleRect,rowX);
  }
 else {
    if (rowX + super.getPreferredSize().width > treeVisibleRect.x + treeVisibleRect.width) {
      if (node instanceof XValueNodeImpl) {
        final String rawValue=DebuggerUIUtil.getNodeRawValue((XValueNodeImpl)node);
        if (!StringUtil.isEmpty(rawValue)) {
          myLongTextLink.setupComponent(rawValue,((XDebuggerTree)tree).getProject());
          append(myLongTextLink.getLinkText(),myLongTextLink.getTextAttributes(),myLongTextLink);
          setupLinkDimensions(treeVisibleRect,rowX);
          myLinkWidth=0;
        }
      }
    }
  }
  putClientProperty(AbstractExpandableItemsHandler.DISABLE_EXPANDABLE_HANDLER,myHaveLink ? true : null);
}
