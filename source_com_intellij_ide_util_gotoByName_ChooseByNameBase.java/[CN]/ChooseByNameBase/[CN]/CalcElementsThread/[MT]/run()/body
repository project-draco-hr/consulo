{
  myShowSearchingAlarm.cancelAllRequests();
  myShowSearchingAlarm.addRequest(new Runnable(){
    public void run(){
      myCard.show(myCardContainer,SEARCHING_CARD);
    }
  }
,200,myModalityState);
  final List<Object> elements=new ArrayList<Object>();
  Runnable action=new Runnable(){
    public void run(){
      try {
        ensureNamesLoaded(myCheckboxState);
        addElementsByPattern(elements,myPattern);
      }
 catch (      ProcessCanceledException e) {
      }
    }
  }
;
  ApplicationManager.getApplication().runReadAction(action);
  if (myCancelled[0])   return;
  if (elements.size() == 0 && !myCheckboxState) {
    myCard.show(myCardContainer,NOT_FOUND_MESSAGE_CARD);
    myCheckboxState=true;
    ApplicationManager.getApplication().runReadAction(action);
  }
 else {
    myShowSearchingAlarm.cancelAllRequests();
    if (elements.size() != 0) {
      myCard.show(myCardContainer,CHECK_BOX_CARD);
    }
  }
  myShowSearchingAlarm.cancelAllRequests();
  if (elements.size() == 0) {
    myCard.show(myCardContainer,NOT_FOUND_CARD);
  }
  myElements=elements;
  ApplicationManager.getApplication().invokeLater(new Runnable(){
    public void run(){
      myCallback.run(myElements);
    }
  }
,myModalityState);
}
