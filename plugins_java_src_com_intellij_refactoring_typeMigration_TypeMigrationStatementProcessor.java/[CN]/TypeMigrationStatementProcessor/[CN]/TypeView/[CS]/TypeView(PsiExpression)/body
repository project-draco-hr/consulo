{
  PsiType exprType=expr.getType();
  exprType=exprType instanceof PsiEllipsisType ? ((PsiEllipsisType)exprType).toArrayType() : exprType;
  myOriginType=GenericsUtil.getVariableTypeByExpressionType(exprType);
  PsiType type=myTypeEvaluator.evaluateType(expr);
  type=type instanceof PsiEllipsisType ? ((PsiEllipsisType)type).toArrayType() : type;
  myType=GenericsUtil.getVariableTypeByExpressionType(type);
  myChanged=(myOriginType == null || myType == null) ? false : !myType.equals(myOriginType);
}
