{
  myPatch=patch.pathsOnlyCopy();
  myStrippable=new PatchStrippable(patch);
  myAutoBases=new ArrayList<VirtualFile>();
  if (autoBases != null) {
    setAutoBases(autoBases);
  }
  myStatus=getStatus(myPatch);
  if (myAutoBases.isEmpty()) {
    setNewBase(baseDir);
  }
 else {
    setNewBase(myAutoBases.get(0));
  }
}
