{
  try {
    if (event.getThrowable() instanceof OutOfMemoryError) {
      processOOMError(event);
    }
 else {
      if (ourOomOccured) {
        SwingUtilities.invokeAndWait(new Runnable(){
          public void run(){
            JOptionPane.showMessageDialog(JOptionPane.getRootFrame(),"OutOfMemoryException occured before this problem and " + "it can be the reason of current one. So we recommend " + "you to restart your IDEA.","Error",JOptionPane.ERROR_MESSAGE);
          }
        }
);
        return;
      }
      myEventsCache.add(event);
      SwingUtilities.invokeAndWait(new Runnable(){
        public void run(){
          while (myEventsCache.size() > 0) {
            IdeaLoggingEvent event=myEventsCache.get(0);
            ErrorOccuredDialog errorOccuredDialog=new ErrorOccuredDialog(event);
            errorOccuredDialog.show();
            if (errorOccuredDialog.isShouldClose()) {
              try {
                ApplicationManager.getApplication().exit();
              }
 catch (              Throwable e) {
                System.exit(0);
              }
            }
            myEventsCache.remove(0);
          }
        }
      }
);
    }
  }
 catch (  Exception e) {
    e.printStackTrace();
  }
}
