{
  int caretPosInSourceFile=content.indexOf(CARET_TAG);
  int selectionStartInSourceFile=content.indexOf(SELECTION_START_TAG);
  int selectionEndInSourceFile=content.indexOf(SELECTION_END_TAG);
  if (selectionStartInSourceFile >= 0) {
    if (caretPosInSourceFile >= 0) {
      if (caretPosInSourceFile < selectionStartInSourceFile) {
        selectionStartInSourceFile-=CARET_TAG.length();
        selectionEndInSourceFile-=CARET_TAG.length();
      }
 else {
        if (caretPosInSourceFile < selectionEndInSourceFile) {
          caretPosInSourceFile-=SELECTION_START_TAG.length();
        }
 else {
          caretPosInSourceFile-=SELECTION_START_TAG.length() + SELECTION_END_TAG.length();
        }
      }
    }
    selectionEndInSourceFile-=SELECTION_START_TAG.length();
  }
  return new int[]{caretPosInSourceFile,selectionStartInSourceFile,selectionEndInSourceFile};
}
