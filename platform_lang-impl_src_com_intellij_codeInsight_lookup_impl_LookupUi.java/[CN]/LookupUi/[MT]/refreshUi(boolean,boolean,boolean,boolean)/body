{
  Editor editor=myLookup.getTopLevelEditor();
  if (editor.getComponent().getRootPane() == null || editor instanceof EditorWindow && !((EditorWindow)editor).isValid()) {
    return;
  }
  updateScrollbarVisibility();
  if (myLookup.myResizePending || itemsChanged) {
    myMaximumHeight=Integer.MAX_VALUE;
  }
  Rectangle rectangle=calculatePosition();
  myMaximumHeight=rectangle.height;
  if (myLookup.myResizePending || itemsChanged) {
    myLookup.myResizePending=false;
    myLookup.pack();
  }
  HintManagerImpl.updateLocation(myLookup,editor,rectangle.getLocation());
  if (reused || selectionVisible || onExplicitAction) {
    myLookup.ensureSelectionVisible(false);
  }
}
