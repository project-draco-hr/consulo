{
  removeAll();
  String[] lines=SplittingUtil.splitText(text,getFontMetrics(BOLD_FONT),myWidthLimit,',');
  myOneLineComponents=new OneLineComponent[lines.length];
  int lineOffset=0;
  for (int i=0; i < lines.length; i++) {
    String line=lines[i];
    myOneLineComponents[i]=new OneLineComponent();
    int startOffset=-1;
    int endOffset=-1;
    if (highlightStartOffset >= 0 && highlightEndOffset > lineOffset && highlightStartOffset < lineOffset + line.length()) {
      startOffset=Math.max(highlightStartOffset - lineOffset,0);
      endOffset=Math.min(highlightEndOffset - lineOffset,line.length());
    }
    myOneLineComponents[i].setup(line,startOffset,endOffset,isDisabled,strikeout,background);
    if (isDisabledBeforeHighlight) {
      if (highlightStartOffset < 0 || highlightEndOffset > lineOffset) {
        myOneLineComponents[i].setDisabledBeforeHighlight();
      }
    }
    add(myOneLineComponents[i],new GridBagConstraints(0,i,1,1,1,0,GridBagConstraints.WEST,GridBagConstraints.HORIZONTAL,new Insets(0,0,0,0),0,0));
    lineOffset+=line.length();
  }
}
