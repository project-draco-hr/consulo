{
  ArrayList<Pair<IntentionAction,List<IntentionAction>>> filteredIntentions=new ArrayList<Pair<IntentionAction,List<IntentionAction>>>(intentions.size());
  Set<IntentionAction> seenIntentions=new HashSet<IntentionAction>();
  for (  Pair<IntentionAction,List<IntentionAction>> pair : intentions) {
    if (seenIntentions.contains(pair.first))     continue;
    seenIntentions.add(pair.first);
    filteredIntentions.add(pair);
  }
  ArrayList<Pair<IntentionAction,List<IntentionAction>>> filteredFixes=new ArrayList<Pair<IntentionAction,List<IntentionAction>>>(quickFixes.size());
  Set<IntentionAction> seenFixes=new HashSet<IntentionAction>();
  for (  Pair<IntentionAction,List<IntentionAction>> pair : quickFixes) {
    if (seenFixes.contains(pair.first))     continue;
    seenFixes.add(pair.first);
    filteredFixes.add(pair);
  }
  final IntentionHintComponent component=new IntentionHintComponent(project,view,filteredIntentions,filteredFixes);
  if (showExpanded) {
    component.showIntentionHintImpl(false);
    ApplicationManager.getApplication().invokeLater(new Runnable(){
      public void run(){
        component.showPopup();
      }
    }
);
  }
 else {
    component.showIntentionHintImpl(true);
  }
  return component;
}
