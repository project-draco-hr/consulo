{
  ApplicationManager.getApplication().invokeLater(new Runnable(){
    public void run(){
      HintManager.getInstance().hideAllHints();
      ApplicationManager.getApplication().invokeLater(new Runnable(){
        public void run(){
          PsiDocumentManager.getInstance(myProject).commitAllDocuments();
          final PsiFile file=PsiDocumentManager.getInstance(myProject).getPsiFile(myEditor.getDocument());
          final IntentionAction action=cachedAction.getAction();
          if (file == null || !action.isAvailable(myProject,myEditor,file)) {
            return;
          }
          Runnable runnable=new Runnable(){
            public void run(){
              removeActionFromList(cachedAction);
              try {
                action.invoke(myProject,myEditor,file);
              }
 catch (              IncorrectOperationException e) {
                LOG.error(e);
              }
              DaemonCodeAnalyzer.getInstance(myProject).updateVisibleHighlighters(myEditor);
            }
          }
;
          if (action.startInWriteAction()) {
            final Runnable _runnable=runnable;
            runnable=new Runnable(){
              public void run(){
                ApplicationManager.getApplication().runWriteAction(_runnable);
              }
            }
;
          }
          CommandProcessor.getInstance().executeCommand(myProject,runnable,cachedAction.getText(),null);
        }
      }
);
    }
  }
);
}
