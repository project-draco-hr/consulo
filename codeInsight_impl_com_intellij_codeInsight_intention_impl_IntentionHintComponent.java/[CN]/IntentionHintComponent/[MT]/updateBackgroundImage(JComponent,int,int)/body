{
  Dimension size=getPreferredSize();
  size.width+=2;
  size.height+=2;
  BufferedImage bufferedImage=new BufferedImage(size.width,size.height,BufferedImage.TYPE_INT_RGB);
  JLayeredPane layeredPane=parentComponent.getRootPane().getLayeredPane();
  Point layeredPanePoint=SwingUtilities.convertPoint(parentComponent,x,y,layeredPane);
  Graphics2D graphics=bufferedImage.createGraphics();
  graphics.setClip(0,0,size.width,size.height);
  graphics.translate(-layeredPanePoint.x,-layeredPanePoint.y);
  layeredPane.paint(graphics);
  myBackgroundIcon=new ImageIcon(bufferedImage);
}
