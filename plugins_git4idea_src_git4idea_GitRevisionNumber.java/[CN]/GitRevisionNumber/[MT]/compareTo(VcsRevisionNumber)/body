{
  if (this == crev)   return 0;
  if (crev instanceof GitRevisionNumber) {
    GitRevisionNumber crevg=(GitRevisionNumber)crev;
    if ((crevg.myRevisionStr != null) && myRevisionStr.equals(crevg.myRevisionStr)) {
      return 0;
    }
    if ((crevg.myRevisionStr.indexOf("[") > 0) && (crevg.myTimestamp != null)) {
      return myTimestamp.compareTo(crevg.myTimestamp);
    }
    String crevName=null;
    String revName=null;
    int crevNum=-1;
    int revNum=-1;
    if (crevg.myRevisionStr.contains("~")) {
      int tildeIdx=crevg.myRevisionStr.indexOf('~');
      crevName=crevg.myRevisionStr.substring(0,tildeIdx);
      crevNum=Integer.parseInt(crevg.myRevisionStr.substring(tildeIdx));
    }
    if (myRevisionStr.contains("~")) {
      int tildeIdx=myRevisionStr.indexOf('~');
      revName=myRevisionStr.substring(0,tildeIdx);
      revNum=Integer.parseInt(myRevisionStr.substring(tildeIdx));
    }
    if (crevName == null && revName == null) {
      return myTimestamp.compareTo(crevg.myTimestamp);
    }
 else     if (crevName == null) {
      return 1;
    }
 else     if (revName == null) {
      return -1;
    }
 else {
      return revNum - crevNum;
    }
  }
  return -1;
}
