{
  final PsiElement tag=descriptor.getPsiElement();
  if (!CodeInsightUtilBase.prepareFileForWrite(tag.getContainingFile())) {
    return;
  }
  PsiDocumentManager.getInstance(project).commitAllDocuments();
  final ASTNode child=XmlChildRole.START_TAG_END_FINDER.findChild(tag.getNode());
  if (child == null)   return;
  final int offset=child.getTextRange().getStartOffset();
  VirtualFile file=tag.getContainingFile().getVirtualFile();
  final Document document=FileDocumentManager.getInstance().getDocument(file);
  new WriteCommandAction(project){
    protected void run(    final Result result) throws Throwable {
      document.replaceString(offset,tag.getTextRange().getEndOffset(),"/>");
    }
  }
.execute();
}
