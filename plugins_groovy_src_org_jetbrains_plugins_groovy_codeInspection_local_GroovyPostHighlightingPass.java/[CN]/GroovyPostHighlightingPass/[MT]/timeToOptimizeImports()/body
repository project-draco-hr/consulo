{
  if (!CodeInsightSettings.getInstance().OPTIMIZE_IMPORTS_ON_THE_FLY)   return false;
  DaemonCodeAnalyzerImpl codeAnalyzer=(DaemonCodeAnalyzerImpl)DaemonCodeAnalyzer.getInstance(myProject);
  if (!codeAnalyzer.isHighlightingAvailable(myFile))   return false;
  if (!codeAnalyzer.isErrorAnalyzingFinished(myFile))   return false;
  boolean errors=containsErrorsPreventingOptimize();
  return !errors && DaemonListeners.canChangeFileSilently(myFile);
}
