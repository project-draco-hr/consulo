{
  String path=file.getPath().substring(moduleDirectory.getPath().length() + 1);
  if (file.getFileSystem() instanceof ArchiveFileSystem) {
    path=path + ArchiveFileSystem.ARCHIVE_SEPARATOR;
  }
  Element orderEntry=new Element("orderEntry");
  orderEntry.setAttribute("type","module-library");
  Element library=new Element("library");
  orderEntry.addContent(library);
  Element classes=new Element("CLASSES");
  library.addContent(classes);
  Element root=new Element("root");
  root.setAttribute("url","file://" + getModulePath(path,moduleDirectory.getPath()));
  classes.addContent(root);
  return orderEntry;
}
