{
  BasicAction.saveAll();
  GitCloneDialog dialog=new GitCloneDialog(project);
  dialog.show();
  if (!dialog.isOK()) {
    return;
  }
  dialog.rememberSettings();
  final LocalFileSystem lfs=LocalFileSystem.getInstance();
  final File parent=new File(dialog.getParentDirectory());
  VirtualFile destinationParent=lfs.findFileByIoFile(parent);
  if (destinationParent == null) {
    destinationParent=lfs.refreshAndFindFileByIoFile(parent);
  }
  if (destinationParent == null) {
    return;
  }
  final String sourceRepositoryURL=dialog.getSourceRepositoryURL();
  final String directoryName=dialog.getDirectoryName();
  final String parentDirectory=dialog.getParentDirectory();
  clone(project,listener,destinationParent,sourceRepositoryURL,directoryName,parentDirectory);
}
