{
  ASTNode treePrev=parent.getTreePrev();
  while (treePrev != null) {
    if (treePrev.getTextLength() > 0)     return treePrev;
    treePrev=treePrev.getTreePrev();
  }
  final ASTNode treeParent=parent.getTreeParent();
  if (treeParent != null) {
    return findElementBefore(treeParent);
  }
 else {
    return null;
  }
}
