{
  if (!canModifyWS(elementBeforeNext.getPsi().getContainingFile())) {
    final String text=prevElement.getText() + elementBeforeNext.getText();
    delete(elementBeforeNext);
    replace(prevElement,text);
  }
 else   if (!elementBeforeNext.textContains('\n') && prevElement.textContains('\n')) {
    delete(elementBeforeNext);
  }
 else {
    final String text=composeNewWS(prevElement.getText(),elementBeforeNext.getText(),options);
    delete(elementBeforeNext);
    replace(prevElement,text);
  }
}
