{
  if (checkWhiteSpaces) {
    final ASTNode nextLeaf=TreeUtil.nextLeaf(newChild);
    final ASTNode prevLeaf=TreeUtil.nextLeaf(newChild);
    if (isWS(nextLeaf) && isWS(prevLeaf)) {
      final PsiFile file=parent.getPsi().getContainingFile();
      final CodeStyleSettings.IndentOptions options=CodeStyleSettingsManager.getSettings(file.getProject()).getIndentOptions(file.getFileType());
      replaceTwoSpacesWithOne(prevLeaf,nextLeaf,options);
    }
 else     if (isInvalidWhiteSpace(prevLeaf)) {
      replaceInvalidWhiteSpace(prevLeaf);
    }
 else     if (isInvalidWhiteSpace(nextLeaf)) {
      replaceInvalidWhiteSpace(nextLeaf);
    }
  }
}
