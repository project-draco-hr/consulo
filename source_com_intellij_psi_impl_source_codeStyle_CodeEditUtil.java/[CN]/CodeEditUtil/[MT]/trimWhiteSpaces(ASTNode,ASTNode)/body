{
  ASTNode current=first;
  ASTNode result=first;
  while (current != null && current != lastChild) {
    LeafElement leaf=TreeUtil.findFirstLeaf(current);
    if (leaf != null && leaf.getElementType() == ElementType.WHITE_SPACE) {
      if (leaf == result)       result=leaf.getTreeNext();
      delete(leaf);
    }
    leaf=TreeUtil.findLastLeaf(current);
    if (leaf != null && leaf.getElementType() == ElementType.WHITE_SPACE) {
      if (leaf == result)       result=leaf.getTreeNext();
      delete(leaf);
    }
    current=current.getTreeNext();
  }
  return result;
}
