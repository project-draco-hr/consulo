{
  if (editor == null || file == null)   return null;
  PsiElement target=TargetElementUtil.findTargetElement(editor,TargetElementUtilBase.REFERENCED_ELEMENT_ACCEPTED);
  if (target instanceof MavenPsiElementWrapper) {
    return ((MavenPsiElementWrapper)target).getWrappee();
  }
  if (target == null || isSchema(target)) {
    target=file.findElementAt(editor.getCaretModel().getOffset());
    if (target == null)     return null;
  }
  if (!MavenDomUtil.isMavenFile(target))   return null;
  return PsiTreeUtil.getParentOfType(target,XmlTag.class,false);
}
