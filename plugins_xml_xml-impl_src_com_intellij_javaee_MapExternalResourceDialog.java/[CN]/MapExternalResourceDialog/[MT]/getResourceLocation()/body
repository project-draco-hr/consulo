{
  if (myLocation != null)   return myLocation;
  if (myTabs.getSelectedIndex() == 0) {
    TreePath path=mySchemasTree.getSelectionPath();
    if (path == null)     return null;
    Object object=((DefaultMutableTreeNode)path.getLastPathComponent()).getUserObject();
    if (!(object instanceof PsiFile))     return null;
    return FileUtil.toSystemIndependentName(((PsiFile)object).getVirtualFile().getPath());
  }
 else {
    VirtualFile file=myExplorer.getSelectedFile();
    return file == null ? null : FileUtil.toSystemIndependentName(file.getPath());
  }
}
