{
  if (LocalInspectionTool.class.isAssignableFrom(aClass)) {
    return registerLocalInspection(aClass,store);
  }
 else   if (GlobalInspectionTool.class.isAssignableFrom(aClass)) {
    return registerGlobalInspection(aClass,store);
  }
 else {
    ensureInitialized();
    return registerInspectionToolFactory(new Factory<InspectionToolWrapper>(){
      public InspectionToolWrapper create(){
        return new CommonInspectionToolWrapper((InspectionTool)instantiateTool(aClass));
      }
    }
,store);
  }
}
