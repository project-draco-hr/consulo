{
  if (LocalInspectionTool.class.isAssignableFrom(aClass)) {
    return registerLocalInspection(aClass,store);
  }
  if (GlobalInspectionTool.class.isAssignableFrom(aClass)) {
    return registerGlobalInspection(aClass,store);
  }
  ensureInitialized();
  return registerInspectionToolFactory(new Factory<InspectionToolWrapper>(){
    @Override public InspectionToolWrapper create(){
      return new CommonInspectionToolWrapper((InspectionTool)instantiateTool(aClass));
    }
  }
,store);
}
