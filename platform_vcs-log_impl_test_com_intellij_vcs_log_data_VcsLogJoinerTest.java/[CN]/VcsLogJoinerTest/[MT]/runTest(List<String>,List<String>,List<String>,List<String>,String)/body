{
  List<TimedVcsCommit> savedLog=TimedCommitParser.log(ArrayUtil.toStringArray(initial));
  List<? extends TimedVcsCommit> firstBlock=TimedCommitParser.log(ArrayUtil.toStringArray(updateBlock));
  Collection<VcsRef> vcsOldRefs=ContainerUtil.map(oldRefs,new Function<String,VcsRef>(){
    @Override public VcsRef fun(    String s){
      return ref(s,s);
    }
  }
);
  Collection<VcsRef> vcsNewRefs=ContainerUtil.map(newRefs,new Function<String,VcsRef>(){
    @Override public VcsRef fun(    String s){
      return ref(s,s);
    }
  }
);
  List<? extends TimedVcsCommit> result=new VcsLogJoiner().addCommits(savedLog,vcsOldRefs,firstBlock,vcsNewRefs).getFirst();
  assertEquals(expected,toStr(result));
}
