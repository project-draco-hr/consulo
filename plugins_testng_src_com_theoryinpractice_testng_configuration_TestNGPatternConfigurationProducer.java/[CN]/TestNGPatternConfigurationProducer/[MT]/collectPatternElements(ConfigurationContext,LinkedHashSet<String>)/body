{
  final DataContext dataContext=context.getDataContext();
  PsiElement[] elements=LangDataKeys.PSI_ELEMENT_ARRAY.getData(dataContext);
  if (elements != null) {
    for (    PsiMember psiMember : collectTestMembers(elements)) {
      if (psiMember instanceof PsiClass) {
        classes.add(((PsiClass)psiMember).getQualifiedName());
      }
 else {
        classes.add(psiMember.getContainingClass().getQualifiedName() + "," + psiMember.getName());
      }
    }
    return elements;
  }
 else {
    final PsiFile file=LangDataKeys.PSI_FILE.getData(dataContext);
    if (file instanceof PsiClassOwner) {
      for (      PsiMember psiMember : collectTestMembers(((PsiClassOwner)file).getClasses())) {
        classes.add(((PsiClass)psiMember).getQualifiedName());
      }
      return new PsiElement[]{file};
    }
  }
  return null;
}
