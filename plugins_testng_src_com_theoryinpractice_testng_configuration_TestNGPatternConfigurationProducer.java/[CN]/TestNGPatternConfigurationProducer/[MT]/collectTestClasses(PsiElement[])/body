{
  final Set<PsiClass> foundClasses=new LinkedHashSet<PsiClass>();
  for (  PsiElement psiElement : psiElements) {
    if (psiElement instanceof PsiClassOwner) {
      final PsiClass[] classes=((PsiClassOwner)psiElement).getClasses();
      for (      PsiClass aClass : classes) {
        if (JUnitUtil.isTestClass(aClass)) {
          foundClasses.add(aClass);
        }
      }
    }
 else     if (psiElement instanceof PsiClass) {
      if (TestNGUtil.hasTest((PsiClass)psiElement)) {
        foundClasses.add((PsiClass)psiElement);
      }
    }
  }
  return foundClasses;
}
