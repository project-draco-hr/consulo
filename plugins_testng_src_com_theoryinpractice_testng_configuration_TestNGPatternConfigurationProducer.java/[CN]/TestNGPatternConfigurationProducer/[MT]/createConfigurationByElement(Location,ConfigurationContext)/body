{
  final Project project=location.getProject();
  final LinkedHashSet<String> classes=new LinkedHashSet<String>();
  myElements=collectPatternElements(context,classes);
  if (classes.size() <= 1)   return null;
  RunnerAndConfigurationSettings settings=cloneTemplateConfiguration(project,context);
  final TestNGConfiguration configuration=(TestNGConfiguration)settings.getConfiguration();
  final TestData data=configuration.getPersistantData();
  data.getPatterns().addAll(classes);
  data.TEST_OBJECT=TestType.PATTERN.getType();
  data.setScope(setupPackageConfiguration(context,project,configuration,data.getScope()));
  configuration.setGeneratedName();
  JavaRunConfigurationExtensionManager.getInstance().extendCreatedConfiguration(configuration,location);
  return settings;
}
