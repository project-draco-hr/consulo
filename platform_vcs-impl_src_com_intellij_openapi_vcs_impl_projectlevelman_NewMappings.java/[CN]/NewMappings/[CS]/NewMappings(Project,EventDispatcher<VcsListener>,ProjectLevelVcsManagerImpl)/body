{
  myProject=project;
  myLock=new Object();
  myVcsToPaths=new HashMap<String,List<VcsDirectoryMapping>>();
  myDirectoryMappingWatches=new HashMap<VcsDirectoryMapping,LocalFileSystem.WatchRequest>();
  myDefaultVcsRootPolicy=DefaultVcsRootPolicy.getInstance(project);
  myActiveVcses=new AbstractVcs[0];
  myEventDispatcher=eventDispatcher;
  final ArrayList<VcsDirectoryMapping> listStr=new ArrayList<VcsDirectoryMapping>();
  final VcsDirectoryMapping mapping=new VcsDirectoryMapping("","");
  listStr.add(mapping);
  myVcsToPaths.put("",listStr);
  mySortedMappings=new VcsDirectoryMapping[]{mapping};
  myActivated=false;
  vcsManager.addInitializationRequest(VcsInitObject.MAPPINGS,new DumbAwareRunnable(){
    public void run(){
      activateActiveVcses();
    }
  }
);
}
