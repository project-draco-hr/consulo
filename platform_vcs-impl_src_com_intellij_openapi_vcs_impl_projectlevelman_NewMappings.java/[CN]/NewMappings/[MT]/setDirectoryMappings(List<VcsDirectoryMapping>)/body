{
  LOG.debug("setDirectoryMappings, size: " + items.size());
  MySetMappingsPreProcessor setMappingsPreProcessor=new MySetMappingsPreProcessor(items);
  setMappingsPreProcessor.invoke();
  final List<VcsDirectoryMapping> itemsCopy;
  if (items.isEmpty()) {
    itemsCopy=Collections.singletonList(new VcsDirectoryMapping("",""));
  }
 else {
    itemsCopy=items;
  }
  keepActiveVcs(new Runnable(){
    public void run(){
      myVcsToPaths.clear();
      for (      VcsDirectoryMapping mapping : itemsCopy) {
        listForVcsFromMap(mapping.getVcs()).add(mapping);
      }
      sortedMappingsByMap();
    }
  }
);
  mappingsChanged();
}
