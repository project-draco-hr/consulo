{
  final MyVcsActivator activator;
synchronized (myLock) {
    if (!myActivated) {
      runnable.run();
      return;
    }
    final HashSet<String> old=new HashSet<String>();
    for (    AbstractVcs activeVcs : myActiveVcses) {
      old.add(activeVcs.getName());
    }
    activator=new MyVcsActivator(old);
    runnable.run();
    restoreActiveVcses();
  }
  activator.activate(myVcsToPaths.keySet(),AllVcses.getInstance(myProject));
}
