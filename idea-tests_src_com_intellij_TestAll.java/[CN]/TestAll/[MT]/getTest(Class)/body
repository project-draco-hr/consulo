{
  if ((testCaseClass.getModifiers() & Modifier.PUBLIC) == 0)   return null;
  try {
    Method suiteMethod=testCaseClass.getMethod("suite",new Class[0]);
    return (Test)suiteMethod.invoke(null,new Class[0]);
  }
 catch (  NoSuchMethodException e) {
    if (JUnitUtil.isJUnit4TestClass(testCaseClass)) {
      return new JUnit4TestAdapter(testCaseClass);
    }
    return new TestSuite(testCaseClass){
      public void addTest(      Test test){
        if (!(test instanceof TestCase)) {
          super.addTest(test);
        }
 else {
          Method method=findTestMethod((TestCase)test);
          if (method == null || !TestCaseLoader.isBombed(method)) {
            super.addTest(test);
          }
        }
      }
      private Method findTestMethod(      final TestCase testCase){
        try {
          return testCase.getClass().getMethod(testCase.getName());
        }
 catch (        NoSuchMethodException e1) {
          return null;
        }
      }
    }
;
  }
catch (  Exception e) {
    System.err.println("Failed to execute suite ()");
    e.printStackTrace();
  }
  return null;
}
