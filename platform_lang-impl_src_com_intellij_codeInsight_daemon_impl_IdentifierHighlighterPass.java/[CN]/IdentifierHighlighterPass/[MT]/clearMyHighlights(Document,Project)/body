{
  MarkupModel markupModel=document.getMarkupModel(project);
  List<HighlightInfo> old=DaemonCodeAnalyzerImpl.getHighlights(document,project);
  List<HighlightInfo> result=new ArrayList<HighlightInfo>(old == null ? Collections.<HighlightInfo>emptyList() : old);
  for (  RangeHighlighter highlighter : markupModel.getAllHighlighters()) {
    Object tooltip=highlighter.getErrorStripeTooltip();
    if (!(tooltip instanceof HighlightInfo)) {
      continue;
    }
    HighlightInfo info=(HighlightInfo)tooltip;
    if (info.type == ourReadHighlightInfoType || info.type == ourWriteHighlightInfoType) {
      result.remove(info);
      markupModel.removeHighlighter(highlighter);
    }
  }
  DaemonCodeAnalyzerImpl.setHighlights(markupModel,project,result,Collections.<HighlightInfo>emptyList());
}
