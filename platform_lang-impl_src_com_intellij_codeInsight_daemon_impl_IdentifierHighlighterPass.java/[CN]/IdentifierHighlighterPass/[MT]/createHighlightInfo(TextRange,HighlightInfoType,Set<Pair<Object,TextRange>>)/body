{
  int start=range.getStartOffset();
  String tooltip=start <= myDocument.getTextLength() ? HighlightHandlerBase.getLineTextErrorStripeTooltip(myDocument,start,false) : null;
  String unescapedTooltip=existingMarkupTooltips.contains(new Pair<Object,TextRange>(tooltip,range)) ? null : tooltip;
  HighlightInfo.Builder builder=HighlightInfo.newHighlightInfo(type).range(range);
  if (unescapedTooltip != null) {
    builder.unescapedToolTip(unescapedTooltip);
  }
  return builder.createUnconditionally();
}
