{
  List<Pair<String,VcsKey>> wasAffected=was.getAffectedFilesUnderVcs();
  if (!myInitialized) {
    sendPlus(wasAffected);
    myInitialized=true;
    return true;
  }
  final Set<Pair<String,VcsKey>> toRemove=new HashSet<Pair<String,VcsKey>>();
  final Set<Pair<String,VcsKey>> toAdd=new HashSet<Pair<String,VcsKey>>();
  was.getDelta(became,toRemove,toAdd);
  for (  Pair<String,VcsKey> pair : toRemove) {
    myDeltaListener.minus(convertPair(pair));
  }
  sendPlus(toAdd);
  return !toRemove.isEmpty() || !toAdd.isEmpty();
}
