{
  List<Pair<String,VcsKey>> wasAffected=was.getAffectedFilesUnderVcs();
  if (!myInitialized) {
    sendPlus(wasAffected);
    myInitialized=true;
    return true;
  }
  final List<Pair<String,VcsKey>> becameAffected=became.getAffectedFilesUnderVcs();
  final Set<Pair<String,VcsKey>> toRemove=CollectionsDelta.notInSecond(wasAffected,becameAffected);
  final Set<Pair<String,VcsKey>> toAdd=CollectionsDelta.notInSecond(becameAffected,wasAffected);
  if (toRemove != null) {
    for (    Pair<String,VcsKey> pair : toRemove) {
      myDeltaListener.minus(convertPair(pair));
    }
  }
  sendPlus(toAdd);
  return toRemove != null || toAdd != null;
}
