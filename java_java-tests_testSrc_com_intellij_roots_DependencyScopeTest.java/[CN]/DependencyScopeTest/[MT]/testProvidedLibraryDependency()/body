{
  Module m=createModule("a.iml",StdModuleTypes.JAVA);
  VirtualFile libraryRoot=addLibrary(m,DependencyScope.PROVIDED);
  final Collection<VirtualFile> runtimeClasspath=getRuntimeClasspath(m);
  assertEmpty(runtimeClasspath);
  final Collection<VirtualFile> compilationClasspath=getCompilationClasspath(m);
  assertOrderedEquals(compilationClasspath,libraryRoot);
  VirtualFile libraryClass=myFixture.createFile("lib/Test.java","public class Test { }");
  assertTrue(m.getModuleWithDependenciesAndLibrariesScope(true).contains(libraryClass));
  assertTrue(m.getModuleWithDependenciesAndLibrariesScope(false).contains(libraryClass));
}
