{
  if (parent.getElementType() == JavaElementType.JAVA_CODE_REFERENCE || parent.getElementType() == JavaElementType.REFERENCE_EXPRESSION) {
    array.add(parent);
    return;
  }
  if (parent.getPsi() instanceof PsiFile) {
    JspFile jspFile=JspPsiUtil.getJspFile(parent.getPsi());
    if (jspFile != null) {
      JspClass jspClass=(JspClass)jspFile.getJavaClass();
      addReferencesInRange(array,(TreeElement)jspClass.getNode(),startOffset,endOffset);
      return;
    }
  }
  addReferencesInRangeForComposite(array,parent,startOffset,endOffset);
}
