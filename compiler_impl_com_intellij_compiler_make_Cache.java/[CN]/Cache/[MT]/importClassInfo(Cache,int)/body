{
  try {
    final int fromClassId=fromCache.getClassId(qName);
    LOG.assertTrue(fromClassId != UNKNOWN);
synchronized (myViewPool.getClassInfosLock()) {
      final ClassInfoView classInfoView=myViewPool.getClassInfoView(getClassId(qName));
      classInfoView.setQualifiedName(qName);
      classInfoView.setGenericSignature(fromCache.getGenericSignature(fromClassId));
      classInfoView.setPath(fromCache.getPath(fromClassId));
      final int superQualifiedName=fromCache.getSuperQualifiedName(fromClassId);
      LOG.assertTrue(qName != superQualifiedName);
      classInfoView.setSuperQualifiedName(superQualifiedName);
      classInfoView.setSuperInterfaces(fromCache.getSuperInterfaces(fromClassId));
      classInfoView.setSourceFileName(fromCache.getSourceFileName(fromClassId));
      classInfoView.setFlags(fromCache.getFlags(fromClassId));
      classInfoView.setRuntimeVisibleAnnotations(fromCache.getRuntimeVisibleAnnotations(fromClassId));
      classInfoView.setRuntimeInvisibleAnnotations(fromCache.getRuntimeInvisibleAnnotations(fromClassId));
      getQNameToClassInfoIdMap().put(qName,classInfoView.getRecordId());
    }
    final int fromClassDeclarationId=fromCache.getClassDeclarationId(qName);
    final int[] fromFieldIds=fromCache.getFieldIds(fromClassDeclarationId);
    final int[] fromMethodIds=fromCache.getMethodIds(fromClassDeclarationId);
    final MemberInfo[] members=new MemberInfo[fromFieldIds.length + fromMethodIds.length];
    int currentMemberIndex=0;
    for (    int fromFieldId : fromFieldIds) {
      members[currentMemberIndex++]=fromCache.createFieldInfo(fromFieldId);
    }
    for (    final int methodId : fromMethodIds) {
      members[currentMemberIndex++]=fromCache.createMethodInfo(methodId);
    }
    updateMemberDeclarations(qName,members);
  }
 catch (  Throwable e) {
    throw new CacheCorruptedException(e);
  }
}
