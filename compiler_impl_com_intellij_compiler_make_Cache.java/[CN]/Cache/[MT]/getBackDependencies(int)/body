{
  final int classDeclarationId=getClassDeclarationId(classQName);
  if (classDeclarationId == UNKNOWN) {
    return Dependency.EMPTY_ARRAY;
  }
  try {
    final TIntObjectHashMap<Dependency> dependencies=new TIntObjectHashMap<Dependency>();
    final int[] classReferencers=getClassReferencers(classDeclarationId);
    for (    final int referencer : classReferencers) {
      if (referencer != classQName) {
        addDependency(dependencies,referencer);
      }
    }
    final int[] fieldIds=getFieldIds(classDeclarationId);
    for (    final int fieldId : fieldIds) {
      final int[] fieldReferencers=getFieldReferencers(fieldId);
      for (      int referencer : fieldReferencers) {
        if (referencer != classQName) {
          final Dependency dependency=addDependency(dependencies,referencer);
          dependency.addMemberInfo(createFieldInfo(fieldId));
        }
      }
    }
    final int[] methodIds=getMethodIds(classDeclarationId);
    for (    final int methodId : methodIds) {
      final int[] methodReferencers=getMethodReferencers(methodId);
      for (      int referencer : methodReferencers) {
        if (referencer != classQName) {
          final Dependency dependency=addDependency(dependencies,referencer);
          dependency.addMemberInfo(createMethodInfo(methodId));
        }
      }
    }
    final Dependency[] dependencyArray=new Dependency[dependencies.size()];
    dependencies.forEachValue(new TObjectProcedure<Dependency>(){
      private int index=0;
      public boolean execute(      Dependency object){
        dependencyArray[index++]=object;
        return true;
      }
    }
);
    return dependencyArray;
  }
 catch (  Throwable e) {
    throw new CacheCorruptedException(e);
  }
}
