{
  SymbolTable symbolTable=null;
  File symbolTableFile=new File(mySymbolTableFilePath);
  try {
    try {
      final byte[] buf=FileUtil.loadFileBytes(symbolTableFile);
      DataInputStream stream=new DataInputStream(new ByteArrayInputStream(buf));
      try {
        symbolTable=new SymbolTable(stream);
        if (symbolTable.getVersion() != CompilerConfiguration.DEPENDENCY_FORMAT_VERSION || symbolTable.isFull()) {
          throw new CacheCorruptedException(CompilerBundle.message("error.caches.old.format"));
        }
      }
  finally {
        stream.close();
      }
    }
 catch (    FileNotFoundException e) {
      symbolTable=new SymbolTable();
    }
  }
 catch (  IOException e) {
    LOG.info(e);
    throw new CacheCorruptedException(e);
  }
  return symbolTable;
}
