{
  final CompilerConfigurationImpl compilerConfiguration=(CompilerConfigurationImpl)CompilerConfiguration.getInstance(project);
  final ExcludeEntryDescription[] excludeEntryDescriptions=compilerConfiguration.getExcludedEntriesConfiguration().getExcludeEntryDescriptions();
  myPatternSet=new PatternSet(BuildProperties.PROPERTY_COMPILER_EXCLUDES);
  for (  final ExcludeEntryDescription entry : excludeEntryDescriptions) {
    final String path=genOptions.subsitutePathWithMacros(VirtualFileManager.extractPath(entry.getUrl()));
    if (entry.isFile()) {
      myPatternSet.add(new Exclude(path));
    }
 else {
      if (entry.isIncludeSubdirectories()) {
        myPatternSet.add(new Exclude(path + "/**"));
      }
 else {
        myPatternSet.add(new Exclude(path + "/*"));
      }
    }
  }
}
