{
synchronized (HANDLERS_LOCK) {
    XmlRpcServer xmlRpcServer=XmlRpcServer.SERVICE.getInstance();
    if (!xmlRpcServer.hasHandler(myHandlerName)) {
      xmlRpcServer.addHandler(myHandlerName,createRpcRequestHandlerDelegate());
    }
    while (true) {
      int candidate=RANDOM.nextInt();
      if (candidate == Integer.MIN_VALUE) {
        continue;
      }
      candidate=Math.abs(candidate);
      if (handlers.containsKey(candidate)) {
        continue;
      }
      handlers.put(candidate,handler);
      return candidate;
    }
  }
}
