{
  if (value instanceof DfaBoxedValue) {
    return ((DfaBoxedValue)value).getWrappedValue();
  }
  if (value instanceof DfaConstValue) {
    if (value == value.myFactory.getConstFactory().getNull())     return DfaUnknownValue.getInstance();
    return value;
  }
  DfaValue result;
  if (value instanceof DfaVariableValue) {
    PsiVariable var=((DfaVariableValue)value).getPsiVariable();
    Map<PsiVariable,DfaUnboxedValue> map=((DfaVariableValue)value).isNegated() ? cachedNegatedUnboxedValues : cachedUnboxedValues;
    result=map.get(var);
    if (result == null) {
      result=new DfaUnboxedValue((DfaVariableValue)value,myFactory);
      map.put(var,(DfaUnboxedValue)result);
    }
  }
 else {
    result=DfaUnknownValue.getInstance();
  }
  return result;
}
