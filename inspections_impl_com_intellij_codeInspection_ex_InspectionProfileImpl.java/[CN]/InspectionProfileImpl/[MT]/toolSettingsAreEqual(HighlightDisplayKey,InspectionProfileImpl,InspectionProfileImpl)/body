{
  final String toolName=key.toString();
  final InspectionTool tool1=profile1.getInspectionTool(toolName);
  final InspectionTool tool2=profile2.getInspectionTool(toolName);
  if (tool1 == null && tool2 == null) {
    return true;
  }
  if (tool1 != null && tool2 != null) {
    try {
      @NonNls String tempRoot="root";
      Element oldToolSettings=new Element(tempRoot);
      tool1.writeExternal(oldToolSettings);
      Element newToolSettings=new Element(tempRoot);
      tool2.writeExternal(newToolSettings);
      return JDOMUtil.areElementsEqual(oldToolSettings,newToolSettings);
    }
 catch (    WriteExternalException e) {
      LOG.error(e);
    }
  }
  return false;
}
