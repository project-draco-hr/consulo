{
  super.writeExternal(element);
  element.setAttribute(VERSION_TAG,VALID_VERSION);
  element.setAttribute(IS_LOCKED,String.valueOf(myLockedProfile));
  Element highlightSettings=new Element(USED_LEVELS);
  SeverityRegistrar.getInstance().writeExternal(highlightSettings);
  element.addContent(highlightSettings);
  for (  final HighlightDisplayKey key : myDisplayLevelMap.keySet()) {
    Element inspectionElement=new Element(INSPECTION_TOOL_TAG);
    final String toolName=key.toString();
    inspectionElement.setAttribute(CLASS_TAG,toolName);
    inspectionElement.setAttribute(LEVEL_TAG,getToolState(key).getLevel().toString());
    inspectionElement.setAttribute(ENABLED_TAG,Boolean.toString(isToolEnabled(key)));
    final InspectionTool tool=myTools.get(toolName);
    if (tool != null) {
      tool.writeSettings(inspectionElement);
    }
    element.addContent(inspectionElement);
  }
}
