{
  if (PlatformDataKeys.SOURCE_NAVIGATION_LOCKED.is(dataId)) {
    return Boolean.TRUE;
  }
  if (myDataProvider == null) {
    return null;
  }
  if (PlatformDataKeys.EDITOR.is(dataId)) {
    if (myBottomComponent != null) {
      final Component focusOwner=KeyboardFocusManager.getCurrentKeyboardFocusManager().getFocusOwner();
      if (myBottomComponent.isAncestorOf(focusOwner)) {
        return null;
      }
    }
    final FocusDiffSide side=(FocusDiffSide)myDataProvider.getData(FocusDiffSide.DATA_KEY.getName());
    if (side != null) {
      final Editor editor=side.getEditor();
      return editor != null && editor.getComponent().hasFocus() ? editor : null;
    }
  }
  return myDataProvider.getData(dataId);
}
