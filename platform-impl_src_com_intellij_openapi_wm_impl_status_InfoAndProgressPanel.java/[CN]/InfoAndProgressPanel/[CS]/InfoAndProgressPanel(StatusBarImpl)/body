{
  myStatusBar=statusBar;
  setOpaque(false);
  myEmptyBorder=new EmptyBorder(0,3,0,2);
  myCompoundBorder=BorderFactory.createCompoundBorder(new StatusBarImpl.SeparatorBorder.Left(),new EmptyBorder(0,2,0,2));
  myProgressIcon=new AsyncProcessIcon("Background process");
  myProgressIcon.setOpaque(true);
  myProgressIcon.setToolTipText(ActionsBundle.message("action.ShowProcessWindow.text"));
  new BaseButtonBehavior(myProgressIcon){
    protected void execute(    final MouseEvent e){
      triggerPopupShowing();
    }
  }
;
  myProgressIcon.setCursor(Cursor.getPredefinedCursor(Cursor.HAND_CURSOR));
  new StatusBarInformer(myProgressIcon,ActionsBundle.message("action.ShowProcessWindow.double.click"),myStatusBar);
  myUpdateQueue=new MergingUpdateQueue("Progress indicator",250,true,null);
  myPopup=new ProcessPopup(this);
  restoreEmptyStatus();
}
