{
  if (!(mySettingsNode instanceof ArrangementSettingsCompositeNode)) {
    return;
  }
  ArrangementSettingsNode newNode=mySettingsNode.clone();
  ArrangementSettingsCompositeNode composite=(ArrangementSettingsCompositeNode)newNode;
  composite.getOperands().remove(node);
  if (composite.getOperands().size() == 1) {
    newNode=composite.getOperands().iterator().next();
  }
  HierarchicalArrangementSettingsNode grouped=myGrouper.group(newNode);
  int newDepth=ArrangementConfigUtil.getDepth(grouped);
  int oldDepth=ArrangementConfigUtil.distance(myTopMost,myBottomMost);
  if (oldDepth == newDepth) {
    mySettingsNode=newNode;
    myBottomMost.setUserObject(ArrangementConfigUtil.getLast(grouped).getCurrent());
    return;
  }
}
