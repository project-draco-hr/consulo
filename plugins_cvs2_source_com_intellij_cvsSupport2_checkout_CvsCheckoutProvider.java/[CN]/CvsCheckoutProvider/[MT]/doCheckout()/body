{
  File checkoutDirectory;
  CvsElement[] selectedElements;
  CheckoutWizard checkoutWizard=new CheckoutWizard(null);
  checkoutWizard.show();
  if (!checkoutWizard.isOK())   return;
  boolean useAlternateCheckoutPath=checkoutWizard.useAlternativeCheckoutLocation();
  checkoutDirectory=checkoutWizard.getCheckoutDirectory();
  selectedElements=checkoutWizard.getSelectedElements();
  final CvsHandler checkoutHandler=CommandCvsHandler.createCheckoutHandler(checkoutWizard.getSelectedConfiguration(),collectCheckoutPaths(selectedElements),checkoutDirectory,useAlternateCheckoutPath,CvsApplicationLevelConfiguration.getInstance().MAKE_CHECKED_OUT_FILES_READONLY);
  final CvsOperationExecutor executor=new CvsOperationExecutor(null);
  executor.performActionSync(checkoutHandler,CvsOperationExecutorCallback.EMPTY);
  if (!executor.hasNoErrors()) {
    Messages.showErrorDialog(com.intellij.CvsBundle.message("message.error.checkout",executor.getResult().composeError().getLocalizedMessage()),com.intellij.CvsBundle.message("operation.name.check.out.project"));
  }
  VirtualFileManager.getInstance().refresh(true);
}
