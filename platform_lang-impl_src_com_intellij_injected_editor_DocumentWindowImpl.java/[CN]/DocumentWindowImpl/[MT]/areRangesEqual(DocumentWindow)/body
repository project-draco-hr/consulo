{
  DocumentWindowImpl window=(DocumentWindowImpl)otherd;
  Place shreds=getShreds();
  Place otherShreds=window.getShreds();
  if (shreds.size() != otherShreds.size())   return false;
  for (int i=0; i < shreds.size(); i++) {
    PsiLanguageInjectionHost.Shred shred=shreds.get(i);
    PsiLanguageInjectionHost.Shred otherShred=otherShreds.get(i);
    if (!shred.prefix.equals(otherShred.prefix))     return false;
    if (!shred.suffix.equals(otherShred.suffix))     return false;
    RangeMarker hostRange=shred.getHostRangeMarker();
    RangeMarker other=otherShred.getHostRangeMarker();
    if (hostRange.getStartOffset() != other.getStartOffset())     return false;
    if (hostRange.getEndOffset() != other.getEndOffset())     return false;
  }
  return true;
}
