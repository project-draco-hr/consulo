{
  int length=0;
synchronized (myLock) {
    for (    PsiLanguageInjectionHost.Shred shred : myShreds) {
      RangeMarker hostRange=shred.getHostRangeMarker();
      length+=shred.prefix.length();
      length+=hostRange.getEndOffset() - hostRange.getStartOffset();
      length+=shred.suffix.length();
    }
  }
  return length;
}
