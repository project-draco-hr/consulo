{
synchronized (myLock) {
    LOG.assertTrue(offset >= myShreds.get(0).prefix.length(),myShreds.get(0).prefix);
    LOG.assertTrue(offset <= getTextLength() - myShreds.get(myShreds.size() - 1).suffix.length(),myShreds.get(myShreds.size() - 1).suffix);
  }
  if (isOneLine()) {
    s=StringUtil.replace(s.toString(),"\n","");
  }
  myDelegate.insertString(injectedToHost(offset),s);
}
