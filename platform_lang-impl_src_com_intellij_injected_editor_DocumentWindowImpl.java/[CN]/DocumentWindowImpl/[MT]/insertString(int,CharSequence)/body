{
synchronized (myLock) {
    LOG.assertTrue(offset >= myShreds.get(0).getPrefix().length(),myShreds.get(0).getPrefix());
    LOG.assertTrue(offset <= getTextLength() - myShreds.get(myShreds.size() - 1).getSuffix().length(),myShreds.get(myShreds.size() - 1).getSuffix());
  }
  if (isOneLine()) {
    s=StringUtil.replace(s.toString(),"\n","");
  }
  myDelegate.insertString(injectedToHost(offset),s);
}
