{
  if (togglePopup(e))   return;
  if (!isPopupShowing())   return;
  final Object action=getAction(e,myList);
  final LookupFile selected=(LookupFile)myList.getSelectedValue();
  if ("selectNextRow".equals(action)) {
    ensureSelectionExists();
    ListScrollingUtil.moveDown(myList,e.getModifiersEx());
  }
 else   if ("selectPreviousRow".equals(action)) {
    ListScrollingUtil.moveUp(myList,e.getModifiersEx());
  }
 else   if ("scrollDown".equals(action)) {
    ListScrollingUtil.movePageDown(myList);
  }
 else   if ("scrollUp".equals(action)) {
    ListScrollingUtil.movePageUp(myList);
  }
 else   if (selected != null && e.getKeyCode() == KeyEvent.VK_ENTER || e.getKeyChar() == File.separatorChar || e.getKeyCode() == KeyEvent.VK_TAB) {
    myCurrentPopup.cancel();
    e.consume();
    processChosenFromCompletion(selected);
  }
}
