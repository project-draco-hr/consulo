{
  myPathTextField=new JTextField();
  if (uiUpdater == null) {
    myUiUpdater=new MergingUpdateQueue("FileTextField.UiUpdater",200,false,myPathTextField);
    new UiNotifyConnector(myPathTextField,myUiUpdater);
    Disposer.register(this,myUiUpdater);
  }
 else {
    myUiUpdater=uiUpdater;
  }
  if (worker == null) {
    myWorker=new WorkerThread("FileTextField.FileLocator",200);
    myWorker.start();
    Disposer.register(this,myWorker);
  }
 else {
    myWorker=worker;
  }
  myFinder=finder;
  myFilter=filter;
  myFileSpitRegExp=myFinder.getSeparator().replaceAll("\\\\","\\\\\\\\");
  myPathTextField.getDocument().addDocumentListener(new DocumentListener(){
    public void insertUpdate(    final DocumentEvent e){
      processTextChanged();
    }
    public void removeUpdate(    final DocumentEvent e){
      processTextChanged();
    }
    public void changedUpdate(    final DocumentEvent e){
      processTextChanged();
    }
  }
);
  myPathTextField.addKeyListener(new KeyAdapter(){
    public void keyPressed(    final KeyEvent e){
      processListNavigation(e);
    }
  }
);
  myPathTextField.addFocusListener(new FocusAdapter(){
    public void focusLost(    final FocusEvent e){
      closePopup();
    }
  }
);
}
