{
  LOG.assertTrue(ChildRole.isUnique(role));
switch (role) {
default :
    return null;
case ChildRole.CONDITION:
  return firstChild;
case ChildRole.QUEST:
return TreeUtil.findChild(this,QUEST);
case ChildRole.THEN_EXPRESSION:
{
ASTNode quest=findChildByRole(ChildRole.QUEST);
ASTNode child=quest.getTreeNext();
while (true) {
  if (child == null)   return null;
  if (EXPRESSION_BIT_SET.isInSet(child.getElementType()))   break;
  child=child.getTreeNext();
}
return (TreeElement)child;
}
case ChildRole.COLON:
return TreeUtil.findChild(this,COLON);
case ChildRole.ELSE_EXPRESSION:
{
ASTNode colon=findChildByRole(ChildRole.COLON);
if (colon == null) return null;
return EXPRESSION_BIT_SET.isInSet(lastChild.getElementType()) ? lastChild : null;
}
}
}
