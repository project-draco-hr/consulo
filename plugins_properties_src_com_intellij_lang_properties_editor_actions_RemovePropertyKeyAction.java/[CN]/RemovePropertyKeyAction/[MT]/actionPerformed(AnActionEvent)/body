{
  final Project project=e.getData(CommonDataKeys.PROJECT);
  final List<StructureViewComponent.StructureViewTreeElementWrapper> treeElements=TreeUtil.collectSelectedObjectsOfType(myTree,StructureViewComponent.StructureViewTreeElementWrapper.class);
  String joinedProperties=StringUtil.join(treeElements,new Function<StructureViewComponent.StructureViewTreeElementWrapper,String>(){
    @Override public String fun(    StructureViewComponent.StructureViewTreeElementWrapper temp){
      return temp.getName();
    }
  }
,", ");
  final int result=Messages.showYesNoDialog(project,PropertiesBundle.message("remove.dialog.confirm.description",joinedProperties),PropertiesBundle.message("remove.dialog.confirm.title"),AllIcons.General.QuestionDialog);
  if (result != Messages.OK) {
    return;
  }
  ApplicationManager.getApplication().runWriteAction(new Runnable(){
    @Override public void run(){
      final List<PropertiesFile> propertiesFiles=myBundle.getPropertiesFiles(project);
      for (      PropertiesFile propertiesFile : propertiesFiles) {
        for (        StructureViewComponent.StructureViewTreeElementWrapper treeElement : treeElements) {
          propertiesFile.removeProperties(treeElement.getName());
        }
      }
    }
  }
);
}
