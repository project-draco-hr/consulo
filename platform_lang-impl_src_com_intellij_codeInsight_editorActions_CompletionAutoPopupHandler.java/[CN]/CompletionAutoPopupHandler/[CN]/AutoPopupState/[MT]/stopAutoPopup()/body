{
  connection.disconnect();
  editor.removeEditorMouseListener(mouseListener);
  editor.getCaretModel().removeCaretListener(caretListener);
  editor.getDocument().removeDocumentListener(documentListener);
  LookupManager.getInstance(project).removePropertyChangeListener(lookupListener);
  editor.putUserData(STATE_KEY,null);
}
