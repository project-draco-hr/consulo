{
  final AutoPopupState state=getAutoPopupState(editor);
  if (state != null && LookupManager.getActiveLookup(editor) == null) {
    state.changeGuard=true;
    try {
      EditorModificationUtil.typeInStringAtCaretHonorBlockSelection(editor,String.valueOf(c),true);
    }
  finally {
      state.changeGuard=false;
    }
    return Result.STOP;
  }
  return Result.CONTINUE;
}
