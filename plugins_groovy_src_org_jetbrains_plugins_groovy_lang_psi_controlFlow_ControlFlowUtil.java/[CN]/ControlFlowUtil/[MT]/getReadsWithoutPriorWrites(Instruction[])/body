{
  List<ReadWriteVariableInstruction> result=new ArrayList<ReadWriteVariableInstruction>();
  TObjectIntHashMap<String> namesIndex=buildNamesIndex(flow);
  ArrayList<TIntHashSet> definitelyAssigned=new ArrayList<TIntHashSet>();
  for (int i=0; i < flow.length; i++)   definitelyAssigned.add(null);
  int[] postorder=postorder(flow);
  int[] revpostorder=revpostorder(postorder);
  findReadsBeforeWrites(flow,definitelyAssigned,result,namesIndex,postorder,revpostorder);
  return result.toArray(new ReadWriteVariableInstruction[result.size()]);
}
