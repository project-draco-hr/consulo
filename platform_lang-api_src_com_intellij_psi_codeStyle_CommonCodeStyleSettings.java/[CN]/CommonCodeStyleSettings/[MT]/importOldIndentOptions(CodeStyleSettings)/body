{
  if (myFileType != null && myIndentOptions != null) {
    if (getFileTypeIndentOptionsProvider() == null) {
      IndentOptions fileTypeIdentOptions=rootSettings.getAdditionalIndentOptions(myFileType);
      if (fileTypeIdentOptions != null) {
        myIndentOptions.copyFrom(fileTypeIdentOptions);
        rootSettings.unregisterAdditionalIndentOptions(myFileType);
      }
 else       if (rootSettings.USE_SAME_INDENTS && !rootSettings.IGNORE_SAME_INDENTS_FOR_LANGUAGES) {
        myIndentOptions.copyFrom(rootSettings.OTHER_INDENT_OPTIONS);
      }
    }
  }
}
