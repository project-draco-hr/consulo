{
  CommonCodeStyleSettings defaultSettings=getDefaultSettings();
  final LanguageCodeStyleSettingsProvider provider=LanguageCodeStyleSettingsProvider.forLanguage(myLanguage);
  final Set<String> fieldNames=provider == null ? null : provider.getSupportedFields();
  DefaultJDOMExternalizer.writeExternal(this,element,new DifferenceFilter<CommonCodeStyleSettings>(this,defaultSettings){
    @Override public boolean isAccept(    Field field){
      if (fieldNames == null || "PARENT_SETTINGS_INSTALLED".equals(field.getName()) || fieldNames.contains(field.getName())) {
        return super.isAccept(field);
      }
      return false;
    }
  }
);
  if (myIndentOptions != null) {
    IndentOptions defaultIndentOptions=defaultSettings != null ? defaultSettings.getIndentOptions() : null;
    Element indentOptionsElement=new Element(INDENT_OPTIONS_TAG);
    myIndentOptions.serialize(indentOptionsElement,defaultIndentOptions);
    if (indentOptionsElement.getChildren().size() > 0) {
      element.addContent(indentOptionsElement);
    }
  }
}
