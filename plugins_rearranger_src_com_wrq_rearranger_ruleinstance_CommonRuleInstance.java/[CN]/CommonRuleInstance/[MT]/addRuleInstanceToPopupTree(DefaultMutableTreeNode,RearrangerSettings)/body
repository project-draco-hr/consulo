{
  DefaultMutableTreeNode top=node;
  if (settings.isShowRules() && (!settings.isShowMatchedRules() || hasMatches())) {
    top=new DefaultMutableTreeNode(this);
    node.add(top);
  }
  for (  PopupTreeRangeEntry entry : getMatches()) {
    entry.addToPopupTree(top,settings);
  }
}
