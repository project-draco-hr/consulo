{
  if (f.isDirectory()) {
    for (    VirtualFile child : f.getChildren()) {
      collectFiles(child,result);
    }
  }
 else {
    result.add(f);
  }
  return result;
}
