{
  ArrayList array=new ArrayList();
  HashMap methodNameToItem=new HashMap();
  for (  LookupItem item : items) {
    if (item.getAttribute(LookupItem.FORCE_SHOW_SIGNATURE_ATTR) != null) {
      array.add(item);
      continue;
    }
    Object o=item.getObject();
    if (o instanceof PsiMethod) {
      String name=((PsiMethod)o).getName();
      LookupItem item1=(LookupItem)methodNameToItem.get(name);
      if (item1 != null) {
        ArrayList allMethods=(ArrayList)item1.getAttribute(LookupImpl.ALL_METHODS_ATTRIBUTE);
        allMethods.add(o);
        continue;
      }
 else {
        methodNameToItem.put(name,item);
        ArrayList allMethods=new ArrayList();
        allMethods.add(o);
        item.setAttribute(LookupImpl.ALL_METHODS_ATTRIBUTE,allMethods);
      }
    }
    array.add(item);
  }
  items=(LookupItem[])array.toArray(new LookupItem[array.size()]);
  for (  LookupItem item : items) {
    ArrayList allMethods=(ArrayList)item.getAttribute(LookupImpl.ALL_METHODS_ATTRIBUTE);
    if (allMethods != null) {
      item.setAttribute(LookupImpl.ALL_METHODS_ATTRIBUTE,allMethods.toArray(new PsiMethod[allMethods.size()]));
    }
  }
  return items;
}
