{
  if (!myRoot.isFile())   return;
  ProjectBuilderLogger logger=context.getLoggingManager().getProjectBuilderLogger();
  if (logger.isEnabled()) {
    logger.logCompiledPaths(Collections.singletonList(filePath),IncArtifactBuilder.BUILDER_NAME,"Extracting archive:");
  }
  processEntries(new EntryProcessor(){
    @Override public void process(    @Nullable InputStream inputStream,    @NotNull String relativePath,    ZipEntry entry) throws IOException {
      final String fullOutputPath=FileUtil.toSystemIndependentName(JpsArtifactPathUtil.appendToPath(outputPath,relativePath));
      final File outputFile=new File(fullOutputPath);
      FileUtil.createParentDirs(outputFile);
      if (inputStream == null) {
        outputFile.mkdir();
      }
 else {
        if (outSrcMapping.getState(fullOutputPath) == null) {
          final BufferedInputStream from=new BufferedInputStream(inputStream);
          final BufferedOutputStream to=new BufferedOutputStream(new FileOutputStream(outputFile));
          try {
            FileUtil.copy(from,to);
          }
  finally {
            from.close();
            to.close();
          }
          outputConsumer.registerOutputFile(outputFile,Collections.singletonList(filePath));
        }
        outSrcMapping.appendData(fullOutputPath,Collections.singletonList(new ArtifactOutputToSourceMapping.SourcePathAndRootIndex(filePath,rootIndex)));
      }
    }
  }
);
}
