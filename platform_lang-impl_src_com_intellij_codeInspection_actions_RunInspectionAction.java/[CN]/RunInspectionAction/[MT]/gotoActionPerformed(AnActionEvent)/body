{
  final Project project=e.getData(CommonDataKeys.PROJECT);
  if (project == null)   return;
  PsiDocumentManager.getInstance(project).commitAllDocuments();
  final PsiElement psiElement=LangDataKeys.PSI_ELEMENT.getData(e.getDataContext());
  final PsiFile psiFile=LangDataKeys.PSI_FILE.getData(e.getDataContext());
  final VirtualFile virtualFile=PlatformDataKeys.VIRTUAL_FILE.getData(e.getDataContext());
  FeatureUsageTracker.getInstance().triggerFeatureUsed("navigation.goto.inspection");
  final GotoInspectionModel model=new GotoInspectionModel(project);
  showNavigationPopup(e,model,new GotoActionCallback<Object>(){
    @Override protected ChooseByNameFilter<Object> createFilter(    @NotNull ChooseByNamePopup popup){
      popup.setSearchInAnyPlace(true);
      return super.createFilter(popup);
    }
    @Override public void elementChosen(    ChooseByNamePopup popup,    final Object element){
      ApplicationManager.getApplication().invokeLater(new Runnable(){
        @Override public void run(){
          runInspection(project,(InspectionToolWrapper)element,virtualFile,psiElement,psiFile);
        }
      }
);
    }
  }
);
}
