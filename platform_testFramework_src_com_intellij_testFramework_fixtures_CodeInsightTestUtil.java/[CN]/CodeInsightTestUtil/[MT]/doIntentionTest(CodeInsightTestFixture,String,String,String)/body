{
  fixture.configureByFile(before);
  List<IntentionAction> availableIntentions=fixture.getAvailableIntentions();
  final IntentionAction intentionAction=findIntentionByText(availableIntentions,action);
  if (intentionAction == null) {
    Assert.fail("Action not found: " + action + " in place: "+ fixture.getElementAtCaret()+ " among "+ availableIntentions);
  }
  new WriteCommandAction(fixture.getProject()){
    @Override protected void run(    Result result) throws Throwable {
      fixture.launchAction(intentionAction);
    }
  }
.execute();
  fixture.checkResultByFile(after,false);
}
