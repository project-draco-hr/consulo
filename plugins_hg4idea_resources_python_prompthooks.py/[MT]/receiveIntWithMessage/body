def receiveIntWithMessage(client, message):
    requiredLength = struct.calcsize('>L')
    buffer = ''
    while (len(buffer) < requiredLength):
        chunk = client.recv((requiredLength - len(buffer)))
        if (chunk == ''):
            raise util.Abort(message)
        buffer = (buffer + chunk)
    (intToReturn,) = struct.unpack('>L', buffer)
    return intToReturn
