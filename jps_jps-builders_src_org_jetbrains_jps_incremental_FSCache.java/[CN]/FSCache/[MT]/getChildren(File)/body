{
synchronized (myMap) {
    final File[] children=myMap.get(file);
    if (children != null) {
      return children == NULL_VALUE ? null : children;
    }
    final File[] files=file.listFiles();
    myMap.put(file,files == null ? NULL_VALUE : (files.length == 0 ? EMPTY_FILE_ARRAY : files));
    return files;
  }
}
