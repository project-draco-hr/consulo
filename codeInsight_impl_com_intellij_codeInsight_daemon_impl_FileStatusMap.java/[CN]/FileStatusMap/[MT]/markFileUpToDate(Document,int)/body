{
synchronized (myDocumentToStatusMap) {
    FileStatus status=myDocumentToStatusMap.get(document);
    if (status == null) {
      PsiFile file=PsiDocumentManager.getInstance(myProject).getPsiFile(document);
      status=new FileStatus(file,file,file);
      myDocumentToStatusMap.put(document,status);
    }
    status.defensivelyMarked=false;
switch (passId) {
case Pass.UPDATE_ALL:
case Pass.POST_UPDATE_ALL:
      status.dirtyScope=null;
    break;
case Pass.UPDATE_OVERRIDEN_MARKERS:
  status.overridenDirtyScope=null;
break;
case Pass.LOCAL_INSPECTIONS:
status.localInspectionsDirtyScope=null;
break;
case WolfPassFactory.PASS_ID:
status.wolfPassFinfished=true;
break;
default :
break;
}
}
}
