{
  if (scope1 == null)   return scope2;
  if (scope2 == null)   return scope1;
  if (!scope1.isValid() || !scope2.isValid())   return null;
  final PsiElement commonParent=PsiTreeUtil.findCommonParent(scope1,scope2);
  if (commonParent instanceof PsiDirectory)   return null;
  return commonParent;
}
