{
  String desc=isUndoOrRedoAvailable(editor,undo) ? doFormatAvailableUndoRedoAction(editor,undo) : null;
  if (desc == null)   desc="";
  String shortActionName=StringUtil.first(desc,30,true);
  if (desc.length() == 0) {
    desc=undo ? ActionsBundle.message("action.undo.description.empty") : ActionsBundle.message("action.redo.description.empty");
  }
  return Pair.create((undo ? ActionsBundle.message("action.undo.text",shortActionName) : ActionsBundle.message("action.redo.text",shortActionName)).trim(),(undo ? ActionsBundle.message("action.undo.description",desc) : ActionsBundle.message("action.redo.description",desc)).trim());
}
