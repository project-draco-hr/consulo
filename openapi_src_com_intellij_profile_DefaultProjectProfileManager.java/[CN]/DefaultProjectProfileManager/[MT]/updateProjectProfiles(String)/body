{
  String projectProfileName=profile;
  if (!myProfiles.containsKey(profile)) {
    final Profile projectProfile=myApplicationProfileManager.createProfile();
    projectProfile.copyFrom(myApplicationProfileManager.getProfile(profile));
    projectProfile.setLocal(false);
    projectProfileName=Messages.showInputDialog(myProject,"","",Messages.getInformationIcon(),projectProfile.getName() + "<project>",new InputValidator(){
      public boolean checkInput(      String inputString){
        return inputString.length() > 0 && !myProfiles.keySet().contains(inputString) && ArrayUtil.find(myApplicationProfileManager.getAvailableProfileNames(),inputString) == -1;
      }
      public boolean canClose(      String inputString){
        return checkInput(inputString);
      }
    }
);
    if (projectProfileName == null)     return null;
    projectProfile.setName(projectProfileName);
    myProfiles.put(projectProfileName,projectProfile);
  }
  return projectProfileName;
}
