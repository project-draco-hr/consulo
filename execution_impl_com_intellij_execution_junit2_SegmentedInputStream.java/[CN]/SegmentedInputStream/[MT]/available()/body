{
  while (mySourceStream.ready()) {
    while (myStartupPassed < SegmentedStream.STARTUP_MESSAGE.length()) {
      final int aChar=readNext();
      if (aChar != SegmentedStream.STARTUP_MESSAGE.charAt(myStartupPassed)) {
        mySourceStream.pushBack(aChar);
        mySourceStream.pushBack(SegmentedStream.STARTUP_MESSAGE.substring(0,myStartupPassed).toCharArray());
        myStartupPassed=0;
        return 0;
      }
      myStartupPassed++;
    }
    final int b=mySourceStream.next();
    if (b != SegmentedStream.SPECIAL_SYMBOL) {
      mySourceStream.pushBack(b);
      return 1;
    }
    final boolean packetRead=readControlSequence();
    if (!packetRead) {
      mySourceStream.pushBack(b);
      return 1;
    }
  }
  return 0;
}
