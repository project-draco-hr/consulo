{
  final String result=super.addToHistoryInner(textRange,editor,erase,preserveMarkup);
  if ("purge variables".equals(result.trim())) {
    clearVariables();
  }
 else   if ("purge classes".equals(result.trim())) {
    clearClasses();
  }
 else   if ("purge imports".equals(result.trim())) {
    clearImports();
  }
 else   if ("purge all".equals(result.trim())) {
    clearVariables();
    clearClasses();
    clearImports();
  }
 else {
    processCode();
  }
  return result;
}
