{
synchronized (myDocumentToStatusMap) {
    PsiFile file=PsiDocumentManager.getInstance(myProject).getPsiFile(document);
    if (CollectHighlightsUtil.isOutOfSourceRootJavaFile(file))     return true;
    FileStatus status=myDocumentToStatusMap.get(document);
    return status != null && !status.defensivelyMarked && status.wolfPassFinfished && status.allDirtyScopesAreNull();
  }
}
