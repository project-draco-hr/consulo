{
  assert myAllowDirt;
  if (LOG.isDebugEnabled()) {
    LOG.debug("********************************* Mark dirty: " + scope);
  }
synchronized (myDocumentToStatusMap) {
    FileStatus status=myDocumentToStatusMap.get(document);
    if (status == null)     return;
    if (status.defensivelyMarked) {
      status.defensivelyMarked=false;
    }
    status.combineScopesWith(scope,fileLength,document);
  }
}
