{
  assertAllowModifications();
synchronized (myDocumentToStatusMap) {
    FileStatus status=myDocumentToStatusMap.get(document);
    if (status == null) {
      return;
    }
    if (passId == Pass.WOLF) {
      status.wolfPassFinished=false;
    }
 else {
      LOG.assertTrue(status.dirtyScopes.containsKey(passId));
      RangeMarker marker=status.dirtyScopes.get(passId);
      if (marker != null && marker != WHOLE_FILE_MARKER) {
        marker.dispose();
      }
      marker=WHOLE_FILE_MARKER;
      status.dirtyScopes.put(passId,marker);
    }
  }
}
