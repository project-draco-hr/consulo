{
  try {
    final UISettings uiSettings=UISettings.getInstance();
    if (!myDirtyMode && uiSettings.ANIMATE_WINDOWS) {
      final Rectangle bounds=myComponent.getBounds();
      final Image topImage=myLayeredPane.getTopImage();
      final Graphics topGraphics=topImage.getGraphics();
      try {
        myComponent.paint(topGraphics);
      }
  finally {
        topGraphics.dispose();
      }
      final Image bottomImage=myLayeredPane.getBottomImage();
      final Graphics bottomGraphics=bottomImage.getGraphics();
      try {
        myLayeredPane.remove(myComponent);
        bottomGraphics.clipRect(0,0,bounds.width,bounds.height);
        bottomGraphics.translate(-bounds.x,-bounds.y);
        myLayeredPane.paint(bottomGraphics);
      }
  finally {
        bottomGraphics.dispose();
      }
      final Surface surface=new Surface(topImage,bottomImage,-1,myInfo.getAnchor(),uiSettings.ANIMATION_SPEED * 2);
      myLayeredPane.add(surface,JLayeredPane.PALETTE_LAYER);
      surface.setBounds(bounds);
      myLayeredPane.validate();
      myLayeredPane.repaint();
      surface.runMovement();
      myLayeredPane.remove(surface);
    }
 else {
      myLayeredPane.remove(myComponent);
    }
    if (!myDirtyMode) {
      myLayeredPane.validate();
      myLayeredPane.repaint();
    }
  }
  finally {
    finish();
  }
}
