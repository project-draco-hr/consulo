{
  final Set<VirtualFile> result=new THashSet<VirtualFile>(original.size());
  for (  VirtualFile vf : original) {
    final VirtualFile root=convertRoot(vf);
    if (root != null) {
      result.add(root);
    }
  }
  return new ArrayList<VirtualFile>(result);
}
