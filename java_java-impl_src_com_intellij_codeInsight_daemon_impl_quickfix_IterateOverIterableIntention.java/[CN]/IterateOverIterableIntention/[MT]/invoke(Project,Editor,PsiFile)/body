{
  final TemplateImpl template=getTemplate();
  SelectionModel selectionModel=editor.getSelectionModel();
  if (!selectionModel.hasSelection()) {
    final PsiExpression iterableExpression=getIterableExpression(editor,file);
    LOG.assertTrue(iterableExpression != null);
    TextRange textRange=iterableExpression.getTextRange();
    selectionModel.setSelection(textRange.getStartOffset(),textRange.getEndOffset());
  }
  new InvokeTemplateAction(template,editor,project,new HashSet<Character>()).perform();
}
