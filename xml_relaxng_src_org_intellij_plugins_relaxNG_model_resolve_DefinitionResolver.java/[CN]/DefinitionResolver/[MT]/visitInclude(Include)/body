{
  include.acceptChildren(this);
  final PsiFile value=include.getInclude();
  if (myVisitedFiles.get() == null) {
    myVisitedFiles.set(new THashSet<PsiFile>(TObjectHashingStrategy.IDENTITY));
  }
  if (value != null && myVisitedFiles.get().add(value)) {
    if (value instanceof RncFile) {
      final Grammar grammar=((RncFile)value).getGrammar();
      if (grammar != null) {
        grammar.acceptChildren(this);
      }
    }
 else     if (value instanceof XmlFile) {
      final DomManager mgr=DomManager.getDomManager(value.getProject());
      final DomFileElement<RngGrammar> element=mgr.getFileElement((XmlFile)value,RngGrammar.class);
      if (element != null) {
        element.getRootElement().acceptChildren(this);
      }
    }
  }
}
