{
  if (!hasNeededLanguageLevel(typeElement)) {
    return;
  }
  final PsiType type=typeElement.getType();
  if (type instanceof PsiArrayType) {
    return;
  }
  super.visitTypeElement(typeElement);
  final PsiElement parent=typeElement.getParent();
  if (parent instanceof PsiInstanceOfExpression || parent instanceof PsiClassObjectAccessExpression) {
    return;
  }
  if (ignoreTypeCasts && parent instanceof PsiTypeCastExpression) {
    return;
  }
  if (PsiTreeUtil.getParentOfType(typeElement,PsiComment.class) != null) {
    return;
  }
  final PsiAnnotationMethod annotationMethod=PsiTreeUtil.getParentOfType(typeElement,PsiAnnotationMethod.class,true,PsiClass.class);
  if (ignoreUncompilable && annotationMethod != null) {
    final PsiAnnotationMemberValue defaultValue=annotationMethod.getDefaultValue();
    if (defaultValue != null && parent != annotationMethod) {
      return;
    }
  }
  final PsiJavaCodeReferenceElement referenceElement=typeElement.getInnermostComponentReferenceElement();
  checkReferenceElement(referenceElement);
}
