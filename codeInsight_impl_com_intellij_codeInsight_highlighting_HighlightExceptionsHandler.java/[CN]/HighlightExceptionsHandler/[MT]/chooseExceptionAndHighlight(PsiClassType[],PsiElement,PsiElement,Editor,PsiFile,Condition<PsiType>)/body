{
  final Project project=target.getProject();
  final boolean clearHighlights=HighlightUsagesHandler.isClearHighlights(editor,HighlightManager.getInstance(target.getProject()));
  if (psiClassTypes == null || psiClassTypes.length == 0) {
    String text=CodeInsightBundle.message("highlight.exceptions.thrown.notfound");
    HintManager.getInstance().showInformationHint(editor,text);
    return;
  }
  new ChooseClassAndDoHighlightRunnable(psiClassTypes,editor,CodeInsightBundle.message("highlight.exceptions.thrown.chooser.title")){
    protected void selected(    PsiClass... classes){
      List<PsiReference> refs=new ArrayList<PsiReference>();
      final ArrayList<PsiElement> otherOccurrences=new ArrayList<PsiElement>();
      final PsiElementFactory factory=JavaPsiFacade.getInstance(project).getElementFactory();
      for (      PsiClass aClass : classes) {
        addExceptionThrownPlaces(refs,otherOccurrences,factory.createType(aClass),place,typeFilter);
      }
      new HighlightUsagesHandler.DoHighlightRunnable(refs,project,target,editor,file,clearHighlights).run();
      HighlightUsagesHandler.highlightOtherOccurrences(otherOccurrences,project,editor,clearHighlights);
    }
  }
.run();
}
