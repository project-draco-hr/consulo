{
  while (len > 0) {
    int space=BUFF_SIZE - out_buffer_pos;
    int copy=(len > space) ? space : len;
    System.arraycopy(src,off,out_buffer,out_buffer_pos,copy);
    off+=copy;
    out_buffer_pos+=copy;
    len-=copy;
    if (out_buffer_pos >= BUFF_SIZE) {
      bo.write(out_buffer,0,BUFF_SIZE);
      out_buffer_pos=0;
    }
  }
}
