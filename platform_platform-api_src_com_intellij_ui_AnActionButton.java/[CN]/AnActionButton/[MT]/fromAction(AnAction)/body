{
  final Presentation presentation=action.getTemplatePresentation();
  return new AnActionButton(presentation.getText(),presentation.getDescription(),presentation.getIcon()){
    @Override public void actionPerformed(    AnActionEvent e){
      action.actionPerformed(e);
    }
    @Override public void updateButton(    AnActionEvent e){
      action.update(e);
      final boolean enabled=e.getPresentation().isEnabled();
      final boolean visible=e.getPresentation().isVisible();
      if (enabled && visible) {
        super.updateButton(e);
      }
    }
  }
;
}
