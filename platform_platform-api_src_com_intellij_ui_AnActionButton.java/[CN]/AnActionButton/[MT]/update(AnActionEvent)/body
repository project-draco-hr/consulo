{
  boolean myActionVisible=true;
  boolean myActionEnabled=true;
  if (myAction != null) {
    myAction.update(e);
    myActionEnabled=e.getPresentation().isEnabled();
    myActionVisible=e.getPresentation().isVisible();
  }
  boolean enabled=isEnabled() && isContextComponentOk() && myActionEnabled;
  if (enabled) {
    for (    AnActionButtonUpdater updater : myUpdaters) {
      if (!updater.isEnabled(e)) {
        enabled=false;
        break;
      }
    }
  }
  e.getPresentation().setEnabled(enabled);
  e.getPresentation().setVisible(isVisible() && myActionVisible);
  if (enabled) {
    updateButton(e);
  }
}
