{
  if (arg.isMultiArg) {
    if (arg.args.size() == 0)     return PsiType.getJavaLangObject(manager,resolveScope).createArrayType();
    PsiType leastUpperBound=null;
    PsiElement first=arg.args.get(0);
    if (first instanceof GrNamedArgument) {
      GrNamedArgument[] args=new GrNamedArgument[arg.args.size()];
      for (int i=0, size=arg.args.size(); i < size; i++) {
        args[i]=(GrNamedArgument)arg.args.get(i);
      }
      return new GrMapType(first,args);
    }
 else {
      for (      PsiElement elem : arg.args) {
        if (elem instanceof GrExpression) {
          leastUpperBound=TypesUtil.getLeastUpperBoundNullable(leastUpperBound,((GrExpression)elem).getType(),manager);
        }
      }
      if (leastUpperBound == null)       return null;
      return leastUpperBound.createArrayType();
    }
  }
 else {
    if (arg.args.size() == 0)     return null;
    PsiElement elem=arg.args.get(0);
    if (elem instanceof GrExpression) {
      return ((GrExpression)elem).getType();
    }
    return null;
  }
}
