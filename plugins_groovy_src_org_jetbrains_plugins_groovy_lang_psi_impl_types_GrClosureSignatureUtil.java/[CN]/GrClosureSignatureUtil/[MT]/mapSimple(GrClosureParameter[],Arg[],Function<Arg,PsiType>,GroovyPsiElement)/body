{
  ArgInfo<Arg>[] map=new ArgInfo[params.length];
  int optional=getOptionalParamCount(params,false);
  int notOptional=params.length - optional;
  int optionalArgs=args.length - notOptional;
  int cur=0;
  for (int i=0; i < args.length; i++, cur++) {
    while (optionalArgs == 0 && cur < params.length && params[cur].isOptional()) {
      cur++;
    }
    if (cur == params.length)     return null;
    if (params[cur].isOptional())     optionalArgs--;
    if (!isAssignableByConversion(params[cur].getType(),typeComputer.fun(args[i]),context))     return null;
    map[cur]=new ArgInfo<Arg>(args[i]);
  }
  for (int i=0; i < map.length; i++) {
    if (map[i] == null)     map[i]=new ArgInfo<Arg>(Collections.<Arg>emptyList(),false);
  }
  return map;
}
