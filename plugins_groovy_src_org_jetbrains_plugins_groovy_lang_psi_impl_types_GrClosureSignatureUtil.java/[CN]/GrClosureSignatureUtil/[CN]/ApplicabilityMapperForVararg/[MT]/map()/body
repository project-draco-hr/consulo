{
  boolean hasNamedArgs=namedArgs.length > 0;
  ArgInfo[] map=new ArgInfo[params.length];
  if (hasNamedArgs) {
    if (params.length == 0)     return null;
    PsiType type=params[0].getType();
    if (InheritanceUtil.isInheritor(type,CommonClassNames.JAVA_UTIL_MAP)) {
      map[0]=new ArgInfo(Arrays.<PsiElement>asList(namedArgs),true);
    }
 else {
      return null;
    }
  }
  int start=hasNamedArgs ? 1 : 0;
  int notOptionals=0;
  for (int i=start; i < paramLength; i++) {
    if (!params[i].isOptional())     notOptionals++;
  }
  return mapInternal(start,0,false,notOptionals,map);
}
