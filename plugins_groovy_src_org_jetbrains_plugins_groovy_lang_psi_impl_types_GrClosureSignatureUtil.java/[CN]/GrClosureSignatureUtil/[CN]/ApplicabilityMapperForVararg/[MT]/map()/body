{
  boolean hasNamedArgs=namedArgs.length > 0;
  List<PsiElement>[] map=new List[params.length];
  if (hasNamedArgs) {
    if (params.length == 0)     return null;
    PsiType type=params[0].getType();
    PsiClassType mapType=PsiUtil.createMapType(manager,scope);
    if (TypesUtil.isAssignable(mapType,type,manager,scope)) {
      map[0]=Arrays.<PsiElement>asList(namedArgs);
    }
 else {
      return null;
    }
  }
  int start=hasNamedArgs ? 1 : 0;
  int notOptionals=0;
  for (int i=start; i < paramLength; i++) {
    if (!params[i].isOptional())     notOptionals++;
  }
  return mapInternal(start,0,false,notOptionals,map);
}
