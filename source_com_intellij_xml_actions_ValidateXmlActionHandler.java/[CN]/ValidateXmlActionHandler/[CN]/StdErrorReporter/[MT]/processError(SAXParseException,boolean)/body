{
  String error=buildMessageString(ex);
  if (LOG.isDebugEnabled()) {
    LOG.debug("enter: processError(error='" + error + "')");
  }
  myErrorsDetected=true;
  if (!ApplicationManager.getApplication().isUnitTestMode()) {
    SwingUtilities.invokeLater(new Runnable(){
      public void run(){
        myErrorsView.addMessage(warning ? MessageCategory.WARNING : MessageCategory.ERROR,new String[]{ex.getLocalizedMessage()},myFile.getVirtualFile(),ex.getLineNumber(),ex.getColumnNumber(),null);
      }
    }
);
  }
}
