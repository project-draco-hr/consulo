{
  try {
    if (myParser instanceof SAXParser) {
      SAXParser parser=(SAXParser)myParser;
      try {
        parser.parse(new InputSource(new StringReader(myFile.getText())),new DefaultHandler(){
          public void warning(          SAXParseException e){
            myErrorReporter.processError(e,true);
          }
          public void error(          SAXParseException e){
            myErrorReporter.processError(e,false);
          }
          public void fatalError(          SAXParseException e){
            myErrorReporter.processError(e,false);
          }
          public InputSource resolveEntity(          String publicId,          String systemId){
            final PsiFile psiFile=myXmlResourceResolver.resolve(null,systemId);
            if (psiFile == null)             return null;
            return new InputSource(new StringReader(psiFile.getText()));
          }
          public void startDocument() throws SAXException {
            super.startDocument();
            ((SAXParser)myParser).setProperty("http://apache.org/xml/properties/internal/entity-resolver",myXmlResourceResolver);
          }
        }
);
      }
 catch (      SAXException e) {
        LOG.debug(e);
      }
catch (      UnknownHostException ex) {
        LOG.debug(ex);
      }
    }
 else {
      LOG.error("unknown parser: " + myParser);
    }
  }
 catch (  Exception exception) {
    filterAppException(exception);
  }
}
