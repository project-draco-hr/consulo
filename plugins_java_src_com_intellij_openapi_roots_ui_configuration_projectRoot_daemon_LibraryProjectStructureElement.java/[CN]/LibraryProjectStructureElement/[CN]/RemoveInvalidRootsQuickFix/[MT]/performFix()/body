{
  final LibraryTable.ModifiableModel libraryTable=myContext.getModifiableLibraryTable(myLibrary.getTable());
  if (libraryTable instanceof LibrariesModifiableModel) {
    for (    String invalidRoot : myInvalidUrls) {
      final ExistingLibraryEditor libraryEditor=((LibrariesModifiableModel)libraryTable).getLibraryEditor(myLibrary);
      libraryEditor.removeRoot(invalidRoot,myType);
    }
    myContext.getDaemonAnalyzer().queueUpdate(LibraryProjectStructureElement.this);
    final ProjectStructureConfigurable structureConfigurable=ProjectStructureConfigurable.getInstance(myContext.getProject());
    navigate().doWhenDone(new Runnable(){
      @Override public void run(){
        final NamedConfigurable configurable=structureConfigurable.getConfigurableFor(myLibrary).getSelectedConfigurable();
        if (configurable instanceof LibraryConfigurable) {
          ((LibraryConfigurable)configurable).updateComponent();
        }
      }
    }
);
  }
}
