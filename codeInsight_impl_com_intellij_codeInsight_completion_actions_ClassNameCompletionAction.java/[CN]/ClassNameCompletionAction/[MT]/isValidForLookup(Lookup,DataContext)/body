{
  if (lookup == null)   return false;
  final LookupItem item=lookup.getCurrentItem();
  if (item == null)   return false;
  final Object o=item.getObject();
  return o instanceof PsiElement && ((PsiElement)o).isValid() && isValidForFile(null,null,((PsiElement)o).getContainingFile());
}
