{
  if (!JavaPsiFacade.getInstance(psiClass.getProject()).getResolveHelper().isAccessible(psiClass,context,psiClass)) {
    return false;
  }
  if (pkgContext) {
    PsiFile classFile=psiClass.getContainingFile();
    if (classFile instanceof PsiClassOwner && StringUtil.isEmpty(((PsiClassOwner)classFile).getPackageName())) {
      return false;
    }
  }
  return true;
}
