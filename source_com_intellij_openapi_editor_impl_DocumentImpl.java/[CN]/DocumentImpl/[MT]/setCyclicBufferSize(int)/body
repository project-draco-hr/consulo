{
  final CharArray charArray=bufferSize == 0 ? (CharArray)new CharArray(){
    protected DocumentEvent beforeChangedUpdate(    int offset,    CharSequence oldString,    CharSequence newString){
      return DocumentImpl.this.beforeChangedUpdate(offset,oldString,newString);
    }
    protected void afterChangedUpdate(    DocumentEvent event,    long newModificationStamp){
      changedUpdate(event,newModificationStamp);
    }
  }
 : new CyclicCharArray(bufferSize){
    protected DocumentEvent beforeChangedUpdate(    int offset,    CharSequence oldString,    CharSequence newString){
      return DocumentImpl.this.beforeChangedUpdate(offset,oldString,newString);
    }
    protected void afterChangedUpdate(    DocumentEvent event,    long newModificationStamp){
      changedUpdate(event,newModificationStamp);
    }
  }
;
  setCharArray(charArray);
}
