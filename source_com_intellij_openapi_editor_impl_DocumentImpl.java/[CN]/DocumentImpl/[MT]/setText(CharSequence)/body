{
  if (!CommandProcessor.getInstance().isUndoTransparentActionInProgress()) {
    CommandProcessor.getInstance().executeCommand(new Runnable(){
      public void run(){
        replaceString(0,getTextLength(),text);
      }
    }
,"file text set",null);
  }
 else {
    replaceString(0,getTextLength(),text);
  }
  clearLineModificationFlags();
}
