{
  ArrayList<EditorBookmark> bookmarksVector=new ArrayList<EditorBookmark>();
  List<EditorBookmark> validEditorBookmarks=getValidEditorBookmarks();
  for (Iterator<EditorBookmark> iterator=validEditorBookmarks.iterator(); iterator.hasNext(); ) {
    EditorBookmark bookmark=iterator.next();
    if (document.equals(bookmark.getDocument())) {
      bookmarksVector.add(bookmark);
    }
  }
  EditorBookmark[] bookmarks=bookmarksVector.toArray(new EditorBookmark[bookmarksVector.size()]);
  Arrays.sort(bookmarks,new Comparator(){
    public int compare(    Object o1,    Object o2){
      EditorBookmark bookmark1=(EditorBookmark)o1;
      EditorBookmark bookmark2=(EditorBookmark)o2;
      return bookmark1.getLineIndex() - bookmark2.getLineIndex();
    }
  }
);
  return bookmarks;
}
