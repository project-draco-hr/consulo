{
  if (expression instanceof PsiParenthesizedExpression) {
    return createChainedVariableValue(((PsiParenthesizedExpression)expression).getExpression());
  }
  PsiReferenceExpression refExpr;
  if (expression instanceof PsiMethodCallExpression) {
    refExpr=((PsiMethodCallExpression)expression).getMethodExpression();
  }
 else   if (expression instanceof PsiReferenceExpression) {
    refExpr=(PsiReferenceExpression)expression;
  }
 else {
    return null;
  }
  PsiElement target=refExpr.resolve();
  PsiModifierListOwner var=getAccessedVariable(target);
  if (var == null) {
    return null;
  }
  PsiExpression qualifier=refExpr.getQualifierExpression();
  if (qualifier == null) {
    DfaVariableValue result=myFactory.getVarFactory().createVariableValue(var,refExpr.getType(),false,null);
    if (var instanceof PsiField) {
      myFields.add(result);
    }
    return result;
  }
  if (!(var instanceof PsiField) || !var.hasModifierProperty(PsiModifier.TRANSIENT) && !var.hasModifierProperty(PsiModifier.VOLATILE)) {
    DfaVariableValue qualifierValue=createChainedVariableValue(qualifier);
    if (qualifierValue != null) {
      return myFactory.getVarFactory().createVariableValue(var,refExpr.getType(),false,qualifierValue);
    }
  }
  return null;
}
