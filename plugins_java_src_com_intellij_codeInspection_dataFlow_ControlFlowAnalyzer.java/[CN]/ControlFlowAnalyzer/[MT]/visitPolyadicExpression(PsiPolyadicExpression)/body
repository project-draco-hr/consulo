{
  startElement(expression);
  DfaValue dfaValue=myFactory.createValue(expression);
  if (dfaValue != null) {
    addInstruction(new PushInstruction(dfaValue,expression));
    finishElement(expression);
    return;
  }
  IElementType op=expression.getOperationTokenType();
  PsiExpression[] operands=expression.getOperands();
  if (operands.length <= 1) {
    pushUnknown();
    finishElement(expression);
    return;
  }
  PsiType type=expression.getType();
  if (op == JavaTokenType.ANDAND) {
    generateAndExpression(operands,type,true);
  }
 else   if (op == JavaTokenType.OROR) {
    generateOrExpression(operands,type,true);
  }
 else   if (op == JavaTokenType.XOR && PsiType.BOOLEAN.equals(type)) {
    generateXorExpression(expression,operands,type);
  }
 else   if (op == JavaTokenType.AND && PsiType.BOOLEAN.equals(type)) {
    generateAndExpression(operands,type,false);
  }
 else   if (op == JavaTokenType.OR && PsiType.BOOLEAN.equals(type)) {
    generateOrExpression(operands,type,false);
  }
 else {
    generateOther(expression,op,operands,type);
  }
  finishElement(expression);
}
