{
  startElement(expression);
  try {
    DfaValue dfaValue=myFactory.createValue(expression);
    if (dfaValue != null) {
      addInstruction(new PushInstruction(dfaValue,expression));
      return;
    }
    IElementType op=expression.getOperationTokenType();
    PsiExpression[] operands=expression.getOperands();
    if (operands.length <= 1) {
      pushUnknown();
      return;
    }
    PsiType type=expression.getType();
    if (op == JavaTokenType.ANDAND) {
      generateAndExpression(operands,type);
    }
 else     if (op == JavaTokenType.OROR) {
      generateOrExpression(operands,type);
    }
 else     if (op == JavaTokenType.XOR && PsiType.BOOLEAN.equals(type)) {
      generateXorExpression(expression,operands,type);
    }
 else {
      generateOther(expression,op,operands,type);
    }
  }
  finally {
    finishElement(expression);
  }
}
