{
  final PsiReferenceExpression methodExpression=expression.getMethodExpression();
  final PsiReferenceParameterList list=methodExpression.getParameterList();
  if (list == null || list.getTextLength() <= 5) {
    return;
  }
  PsiMethodCallExpression element=expression;
  while (true) {
    if (!quick && !resolvesCorrectly(element.getMethodExpression()))     return;
    final PsiElement parent=element.getParent();
    if (!(parent instanceof PsiExpressionList) || !(parent.getParent() instanceof PsiMethodCallExpression))     break;
    element=(PsiMethodCallExpression)parent.getParent();
  }
  addTypeParametersFolding(foldElements,document,list,3,quick);
}
