{
  initInspectionTools(null);
  final Element scopes=element.getChild(DefaultProjectProfileManager.SCOPES);
  if (scopes != null) {
    final List children=scopes.getChildren(SCOPE);
    if (children != null) {
      for (      Object s : children) {
        Element scopeElement=(Element)s;
        final String profile=scopeElement.getAttributeValue(DefaultProjectProfileManager.PROFILE);
        if (profile != null) {
          final InspectionProfileImpl inspectionProfile=(InspectionProfileImpl)getProfileManager().getProfile(profile);
          if (inspectionProfile != null) {
            final NamedScope scope=getProfileManager().getScopesManager().getScope(scopeElement.getAttributeValue(NAME));
            if (scope != null) {
              for (              InspectionProfileEntry entry : inspectionProfile.getInspectionTools(null)) {
                final HighlightDisplayKey key=HighlightDisplayKey.find(entry.getShortName());
                try {
                  getTools(entry.getShortName()).addTool(scope,copyToolSettings((InspectionToolWrapper)entry),inspectionProfile.isToolEnabled(key),inspectionProfile.getErrorLevel(key,(NamedScope)null));
                }
 catch (                Exception e) {
                  LOG.error(e);
                }
              }
            }
          }
        }
      }
      reduceConvertedScopes();
    }
  }
}
