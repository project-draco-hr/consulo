{
  final Set<FilePath> filePaths=new HashSet<FilePath>();
  for (  CommittedChangeList changeList : changeLists) {
    for (    Change change : changeList.getChanges()) {
      final FilePath filePath=ChangesUtil.getFilePath(change);
      final FilePath parentPath=filePath.getParentPath();
      if (parentPath == null) {
        filePaths.add(filePath);
      }
 else {
        filePaths.add(parentPath);
      }
    }
  }
  final TreeModelBuilder builder=new TreeModelBuilder(myProject,false);
  myStructureTree.setModel(builder.buildModelFromFilePaths(filePaths));
  if (!myRendererInitialized) {
    myRendererInitialized=true;
    myStructureTree.setCellRenderer(new ChangesBrowserNodeRenderer(myProject,false,false));
  }
}
