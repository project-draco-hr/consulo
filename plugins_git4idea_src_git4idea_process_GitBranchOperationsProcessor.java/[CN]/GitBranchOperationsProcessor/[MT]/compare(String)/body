{
  final List<GitCommit> headToBranch;
  final List<GitCommit> branchToHead;
  try {
    headToBranch=GitHistoryUtils.history(myProject,myRepository.getRoot(),".." + branchName);
    branchToHead=GitHistoryUtils.history(myProject,myRepository.getRoot(),branchName + "..");
  }
 catch (  VcsException e) {
    throw new GitExecutionException("Couldn't get [git log .." + branchName + "] on repository ["+ myRepository.getRoot()+ "]",e);
  }
  UIUtil.invokeAndWaitIfNeeded(new Runnable(){
    @Override public void run(){
      new GitCompareBranchesDialog(myRepository,branchName,headToBranch,branchToHead).show();
    }
  }
);
}
