{
  GitSimpleEventDetector notFullyMergedDetector=new GitSimpleEventDetector(GitSimpleEventDetector.Event.BRANCH_NOT_FULLY_MERGED);
  GitCommandResult result=Git.branchDelete(myRepository,branchName,false,notFullyMergedDetector);
  if (result.success()) {
    notifyBranchDeleteSuccess(branchName);
  }
 else   if (notFullyMergedDetector.hasHappened()) {
    boolean forceDelete=showNotFullyMergedDialog(branchName);
    if (forceDelete) {
      doForceDelete(branchName);
    }
  }
 else {
    showErrorMessage("Couldn't delete " + branchName,result.getErrorOutput());
  }
}
