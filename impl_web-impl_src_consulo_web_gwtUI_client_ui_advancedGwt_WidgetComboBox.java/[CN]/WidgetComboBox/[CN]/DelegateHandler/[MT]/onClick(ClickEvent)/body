{
  int count=getModel().getCount();
  Object sender=event.getSource();
  if (sender instanceof ToggleButton || !isCustomTextAllowed()) {
    if (count > 0 && !getListPanel().isShowing()) {
      getListPanel().show();
      getListPanel().prepareList();
      if (getItemCount() <= 0)       getListPanel().hide();
      getChoiceButton().setDown(true);
    }
 else {
      getListPanel().hide();
      getChoiceButton().setDown(false);
    }
  }
  fireEvent(event);
}
