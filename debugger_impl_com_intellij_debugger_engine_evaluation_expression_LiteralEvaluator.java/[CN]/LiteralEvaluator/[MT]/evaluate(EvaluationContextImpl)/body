{
  if (myValue == null) {
    return null;
  }
  VirtualMachineProxyImpl vm=context.getDebugProcess().getVirtualMachineProxy();
  if (myValue instanceof Boolean) {
    return DebuggerUtilsEx.createValue(vm,myExpectedType,((Boolean)myValue).booleanValue());
  }
  if (myValue instanceof Character) {
    return DebuggerUtilsEx.createValue(vm,myExpectedType,((Character)myValue).charValue());
  }
  if (myValue instanceof Double) {
    return DebuggerUtilsEx.createValue(vm,myExpectedType,((Number)myValue).doubleValue());
  }
  if (myValue instanceof Float) {
    return DebuggerUtilsEx.createValue(vm,myExpectedType,((Number)myValue).floatValue());
  }
  if (myValue instanceof Number) {
    return DebuggerUtilsEx.createValue(vm,myExpectedType,((Number)myValue).longValue());
  }
  if (myValue instanceof String) {
    return vm.mirrorOf((String)myValue);
  }
  throw EvaluateExceptionUtil.createEvaluateException(DebuggerBundle.message("evaluation.error.unknown.expression.type",myExpectedType));
}
