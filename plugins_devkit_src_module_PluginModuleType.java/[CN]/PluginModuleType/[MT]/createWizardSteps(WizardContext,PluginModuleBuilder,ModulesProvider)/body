{
  final ProjectWizardStepFactory stepFactory=ProjectWizardStepFactory.getInstance();
  ArrayList<ModuleWizardStep> steps=new ArrayList<ModuleWizardStep>();
  steps.add(stepFactory.createSourcePathsStep(wizardContext,moduleBuilder,ADD_PLUGIN_MODULE_ICON,"reference.dialogs.new.project.fromScratch.source"));
  steps.add(stepFactory.createProjectJdkStep(wizardContext,IdeaJdk.getInstance(),moduleBuilder,new Computable<Boolean>(){
    public Boolean compute(){
      final Sdk projectJdk=wizardContext.getProjectJdk();
      return IdeaJdk.findIdeaJdk(projectJdk) == null ? Boolean.TRUE : Boolean.FALSE;
    }
  }
,ADD_PLUGIN_MODULE_ICON,"reference.dialogs.new.project.fromScratch.sdk"));
  final ModuleWizardStep[] wizardSteps=steps.toArray(new ModuleWizardStep[steps.size()]);
  return ArrayUtil.mergeArrays(wizardSteps,super.createWizardSteps(wizardContext,moduleBuilder,modulesProvider),ModuleWizardStep.class);
}
