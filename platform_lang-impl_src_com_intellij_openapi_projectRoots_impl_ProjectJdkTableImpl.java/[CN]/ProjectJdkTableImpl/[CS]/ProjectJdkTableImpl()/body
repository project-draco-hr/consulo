{
  myMessageBus=ApplicationManager.getApplication().getMessageBus();
  myListenerList=new MessageListenerList<Listener>(myMessageBus,JDK_TABLE_TOPIC);
  VirtualFileManager.getInstance().addVirtualFileListener(new VirtualFileAdapter(){
    public void fileCreated(    VirtualFileEvent event){
      updateJdks(event.getFile());
    }
    private void updateJdks(    VirtualFile file){
      if (file.isDirectory() || !FileTypes.ARCHIVE.equals(file.getFileType())) {
        return;
      }
      for (      Sdk sdk : mySdks) {
        final SdkType sdkType=(SdkType)sdk.getSdkType();
        if (!(sdkType instanceof JavaSdkType)) {
          continue;
        }
        final VirtualFile home=sdk.getHomeDirectory();
        if (home == null) {
          continue;
        }
        if (VfsUtil.isAncestor(home,file,true)) {
          sdkType.setupSdkPaths(sdk);
          break;
        }
      }
    }
  }
);
}
