{
  Sdk projectJdk=findJdk(name);
  if (projectJdk != null) {
    return projectJdk;
  }
  final String sdkTypeName=getSdkTypeName(type);
  final String uniqueName=sdkTypeName + "." + name;
  projectJdk=myCachedProjectJdks.get(uniqueName);
  if (projectJdk != null)   return projectJdk;
  @NonNls final String jdkPrefix="jdk.";
  final String jdkPath=System.getProperty(jdkPrefix + name);
  if (jdkPath == null)   return null;
  final SdkType[] sdkTypes=SdkType.getAllTypes();
  for (  SdkType sdkType : sdkTypes) {
    if (Comparing.strEqual(sdkTypeName,sdkType.getName())) {
      if (sdkType.isValidSdkHome(jdkPath)) {
        ProjectJdkImpl projectJdkImpl=new ProjectJdkImpl(name,sdkType);
        projectJdkImpl.setHomePath(jdkPath);
        sdkType.setupSdkPaths(projectJdkImpl);
        myCachedProjectJdks.put(uniqueName,projectJdkImpl);
        return projectJdkImpl;
      }
      break;
    }
  }
  return null;
}
