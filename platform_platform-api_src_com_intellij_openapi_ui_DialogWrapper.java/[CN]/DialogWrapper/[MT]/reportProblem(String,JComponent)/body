{
  SwingUtilities.invokeLater(new Runnable(){
    public void run(){
      if (myDisposed)       return;
      if (isShowErrorBorder()) {
        if (myLastErrorComponent != comp) {
          if (myLastErrorComponent != null) {
            myLastErrorComponent.setBorder((Border)myLastErrorComponent.getClientProperty(OLD_BORDER));
            if (myLastErrorComponent instanceof AbstractButton && myLastPaintButtonBorder != null) {
              ((AbstractButton)myLastErrorComponent).setBorderPainted(myLastPaintButtonBorder);
            }
          }
          myLastErrorComponent=comp;
          if (comp != null) {
            if (comp instanceof AbstractButton) {
              myLastPaintButtonBorder=((AbstractButton)comp).isBorderPainted();
              ((AbstractButton)comp).setBorderPainted(true);
            }
            final Object border=comp.getClientProperty(OLD_BORDER);
            if (border == null) {
              comp.putClientProperty(OLD_BORDER,comp.getBorder());
            }
            comp.setBorder(BorderFactory.createLineBorder(getErrorColor(),1));
          }
        }
      }
      setErrorText(message);
      getOKAction().setEnabled(false);
    }
  }
);
}
