{
  final HashMap<PsiTypeVariable,Integer> result=new HashMap<PsiTypeVariable,Integer>();
  for (final Iterator<Constraint> c=constraints.iterator(); c.hasNext(); ) {
    final Constraint constr=c.next();
    final PsiTypeVarCollector collector=new PsiTypeVarCollector();
    new Object(){
      void setDegree(      final HashSet<PsiTypeVariable> set){
        for (final Iterator<PsiTypeVariable> v=set.iterator(); v.hasNext(); ) {
          final PsiTypeVariable var=v.next();
          final Integer deg=result.get(var);
          if (deg == null) {
            result.put(var,new Integer(1));
          }
 else {
            result.put(var,new Integer(deg.intValue() + 1));
          }
        }
      }
    }
.setDegree(collector.getSet(constr.getRight()));
  }
  return result;
}
