{
  if (isSyncSearch()) {
    THashSet<PsiClass> classes=new THashSet<PsiClass>();
    boolean isJUnit4=ConfigurationUtil.findAllTestClasses(classFilter,classes);
    callback.found(classes);
    return;
  }
  final THashSet<PsiClass> classes=new THashSet<PsiClass>();
  ProgressManager.getInstance().runProcessWithProgressSynchronously(new Runnable(){
    public void run(){
      ConfigurationUtil.findAllTestClasses(classFilter,classes);
    }
  }
,ExecutionBundle.message("seaching.test.progress.title"),true,classFilter.getProject());
  callback.found(classes);
}
