{
  super.initialize();
  final JUnitConfiguration.Data data=myConfiguration.getPersistentData();
  getClassFilter(data);
  configureClasspath();
  try {
    myTempFile=FileUtil.createTempFile("idea_junit",".tmp");
    myTempFile.deleteOnExit();
    myJavaParameters.getProgramParametersList().add("@" + myTempFile.getAbsolutePath());
  }
 catch (  IOException e) {
    LOG.error(e);
  }
  try {
    myServerSocket=new ServerSocket(0,0,InetAddress.getByName("127.0.0.1"));
    myJavaParameters.getProgramParametersList().add("-socket" + myServerSocket.getLocalPort());
  }
 catch (  IOException e) {
    LOG.error(e);
  }
}
