{
  final JUnitProcessHandler handler=super.createHandler();
  final SearchForTestsTask[] tasks=new SearchForTestsTask[1];
  handler.addProcessListener(new ProcessAdapter(){
    @Override public void startNotified(    ProcessEvent event){
      super.startNotified(event);
      tasks[0]=(SearchForTestsTask)findTests();
    }
    @Override public void processTerminated(    ProcessEvent event){
      handler.removeProcessListener(this);
      if (mySearchForTestsIndicator != null && !mySearchForTestsIndicator.isCanceled()) {
        if (tasks[0] != null) {
          tasks[0].finish();
        }
      }
    }
  }
);
  return handler;
}
