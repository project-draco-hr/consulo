{
  final RegExpCharRange.Endpoint from=range.getFrom();
  final RegExpCharRange.Endpoint to=range.getTo();
  final boolean a=from instanceof RegExpChar;
  final boolean b=to instanceof RegExpChar;
  if (a && b) {
    final Character t=((RegExpChar)to).getValue();
    final Character f=((RegExpChar)from).getValue();
    if (t != null && f != null) {
      if (t < f) {
        myHolder.createErrorAnnotation(range,"Illegal character range (to < from)");
      }
 else       if (t == f) {
        myHolder.createWarningAnnotation(range,"Redundant character range");
      }
    }
  }
 else   if (a != b) {
    myHolder.createErrorAnnotation(range,"Character class (e.g. '\\\\w') may not be used inside character range");
  }
 else   if (from.getText().equals(to.getText())) {
    myHolder.createWarningAnnotation(range,"Redundant character range");
  }
}
