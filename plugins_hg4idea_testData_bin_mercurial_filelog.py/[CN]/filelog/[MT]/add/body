def add(self, text, meta, transaction, link, p1=None, p2=None):
    if (meta or text.startswith('\x01\n')):
        mt = ''
        if meta:
            mt = [('%s: %s\n' % (k, v)) for (k, v) in sorted(meta.iteritems())]
        text = ('\x01\n%s\x01\n%s' % (''.join(mt), text))
    return self.addrevision(text, transaction, link, p1, p2)
