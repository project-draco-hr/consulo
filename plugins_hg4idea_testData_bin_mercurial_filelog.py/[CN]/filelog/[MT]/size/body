def size(self, rev):
    'return the size of a given revision'
    node = self.node(rev)
    if self.renamed(node):
        return len(self.read(node))
    return revlog.revlog.size(self, rev)
