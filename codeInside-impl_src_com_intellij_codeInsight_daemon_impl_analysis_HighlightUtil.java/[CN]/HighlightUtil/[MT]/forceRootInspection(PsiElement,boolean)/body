{
  final HighlightingSettingsPerFile component=HighlightingSettingsPerFile.getInstance(root.getProject());
  if (component == null)   return;
  final PsiFile file=root.getContainingFile();
  final FileHighlighingSetting inspectionLevel=inspectionFlag ? FileHighlighingSetting.FORCE_HIGHLIGHTING : FileHighlighingSetting.SKIP_INSPECTION;
  if (file != null && file instanceof JspFile && root.getLanguage() instanceof JavaLanguage) {
    final JspClass jspClass=(JspClass)((JspFile)file).getJavaRoot();
    component.setHighlightingSettingForRoot(jspClass.getClassDummyHolder(),inspectionLevel);
    component.setHighlightingSettingForRoot(jspClass.getMethodDummyHolder(),inspectionLevel);
  }
 else {
    component.setHighlightingSettingForRoot(root,inspectionLevel);
  }
}
