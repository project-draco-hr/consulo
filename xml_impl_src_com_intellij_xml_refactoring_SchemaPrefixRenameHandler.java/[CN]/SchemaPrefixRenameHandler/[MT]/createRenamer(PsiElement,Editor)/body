{
  PossiblePrefixReference reference=getReference(elementToRename.getContainingFile(),editor);
  if (reference != null) {
    PsiElement prefix=reference.resolve();
    if (prefix instanceof SchemaPrefix) {
      return new VariableInplaceRenamer((PsiNamedElement)prefix,editor){
        @Override protected void addReferenceAtCaret(        Collection<PsiReference> refs){
        }
        @Override protected boolean isReferenceAtCaret(        PsiElement selectedElement,        PsiReference ref){
          return false;
        }
      }
;
    }
  }
  if (ApplicationManager.getApplication().isUnitTestMode()) {
    System.out.println("Reference: " + reference);
    if (reference != null) {
      System.out.println("Resolved: " + reference.resolve());
    }
  }
  return null;
}
