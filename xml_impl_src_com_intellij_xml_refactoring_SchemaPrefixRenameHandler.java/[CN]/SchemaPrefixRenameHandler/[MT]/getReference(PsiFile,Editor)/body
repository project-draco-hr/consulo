{
  if (file != null && editor != null) {
    int offset=editor.getCaretModel().getOffset();
    PsiReference reference=file.findReferenceAt(offset);
    if (reference instanceof PsiMultiReference) {
      PsiReference[] references=((PsiMultiReference)reference).getReferences();
      for (      PsiReference psiReference : references) {
        if (psiReference instanceof SchemaPrefixReference) {
          return (SchemaPrefixReference)psiReference;
        }
      }
    }
    if (reference instanceof SchemaPrefixReference) {
      return (SchemaPrefixReference)reference;
    }
  }
  return null;
}
