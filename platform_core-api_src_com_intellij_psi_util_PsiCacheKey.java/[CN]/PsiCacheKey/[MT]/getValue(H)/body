{
  T result=getCachedValueOrNull(h);
  if (result != null) {
    return result;
  }
  result=myFunction.fun(h);
  final long count=h.getManager().getModificationTracker().getJavaStructureModificationCount();
  h.putUserData(this,new SoftReference<Pair<Long,T>>(new Pair<Long,T>(count,result)));
  return result;
}
