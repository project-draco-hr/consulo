{
  executeProcessUnderProgress(new Runnable(){
    public void run(){
synchronized (process) {
        process.notifyAll();
      }
      try {
        if (progress != null && !progress.isRunning()) {
          progress.start();
        }
        process.run();
        maybeSleep();
      }
  finally {
        if (progress != null && progress.isRunning()) {
          progress.stop();
          if (progress instanceof ProgressIndicatorEx) {
            ((ProgressIndicatorEx)progress).processFinish();
          }
synchronized (process) {
            process.notifyAll();
          }
        }
      }
    }
  }
,progress);
}
