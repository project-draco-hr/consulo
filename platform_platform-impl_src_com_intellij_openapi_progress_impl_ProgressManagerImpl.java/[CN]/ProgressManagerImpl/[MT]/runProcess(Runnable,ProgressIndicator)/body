{
  executeProcessUnderProgress(new Runnable(){
    @Override public void run(){
      try {
        try {
          if (progress != null && !progress.isRunning()) {
            progress.start();
          }
        }
 catch (        Throwable e) {
          LOG.info("Unexpected error when starting progress: ",e);
          throw new RuntimeException(e);
        }
        process.run();
      }
  finally {
        if (progress != null && progress.isRunning()) {
          progress.stop();
          if (progress instanceof ProgressIndicatorEx) {
            ((ProgressIndicatorEx)progress).processFinish();
          }
        }
      }
    }
  }
,progress);
}
