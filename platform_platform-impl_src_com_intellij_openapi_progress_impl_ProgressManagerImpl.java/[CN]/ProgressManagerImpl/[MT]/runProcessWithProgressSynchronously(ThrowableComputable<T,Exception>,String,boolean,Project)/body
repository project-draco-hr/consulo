{
  final Ref<T> result=new Ref<T>();
  final Ref<Exception> exceptionRef=new Ref<Exception>();
  Task.Modal task=new Task.Modal(project,progressTitle,canBeCanceled){
    public void run(    @NotNull ProgressIndicator indicator){
      try {
        T compute=process.compute();
        result.set(compute);
      }
 catch (      Exception e) {
        exceptionRef.set(e);
      }
    }
  }
;
  runProcessWithProgressSynchronously(task,null);
  if (!exceptionRef.isNull())   throw exceptionRef.get();
  return result.get();
}
