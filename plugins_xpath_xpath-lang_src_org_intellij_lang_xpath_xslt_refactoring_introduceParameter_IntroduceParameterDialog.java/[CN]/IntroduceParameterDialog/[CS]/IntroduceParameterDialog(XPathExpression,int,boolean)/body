{
  super(expression.getProject(),LanguageNamesValidation.INSTANCE.forLanguage(expression.getLanguage()));
  myForceDefault=forceDefault;
  init(expression,numberOfExpressions,TITLE);
  getOKAction().addPropertyChangeListener(new PropertyChangeListener(){
    @SuppressWarnings({"AutoUnboxing"}) public void propertyChange(    PropertyChangeEvent evt){
      if (evt.getPropertyName().equals("enabled")) {
        myPreviewAction.setEnabled(((Boolean)evt.getNewValue()) && !myCreateWithDefault.isSelected());
      }
    }
  }
);
  if (forceDefault) {
    myCreateWithDefault.setSelected(true);
    myCreateWithDefault.setVisible(false);
  }
 else {
    myCreateWithDefault.addItemListener(new ItemListener(){
      public void itemStateChanged(      ItemEvent e){
        myPreviewAction.setEnabled(getOKAction().isEnabled() && !myCreateWithDefault.isSelected());
      }
    }
);
  }
  myPreviewAction.setEnabled(false);
}
