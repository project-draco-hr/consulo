{
  final TargetElementUtilBase targetElementUtil=TargetElementUtilBase.getInstance();
  boolean onRef=ApplicationManager.getApplication().runReadAction(new Computable<Boolean>(){
    @Override public Boolean compute(){
      return targetElementUtil.findTargetElement(editor,getFlags() & ~TargetElementUtilBase.REFERENCED_ELEMENT_ACCEPTED,offset) == null;
    }
  }
);
  return searchImplementations(element,offset,onRef && targetElementUtil.includeSelfInGotoImplementation(element),onRef);
}
