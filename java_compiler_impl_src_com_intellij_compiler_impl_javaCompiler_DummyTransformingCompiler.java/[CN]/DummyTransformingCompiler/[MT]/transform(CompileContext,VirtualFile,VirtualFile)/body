{
  System.out.println("DummyTransformingCompiler.transform");
  final String url=ApplicationManager.getApplication().runReadAction(new Computable<String>(){
    public String compute(){
      return file.getPresentableUrl();
    }
  }
);
  context.getProgressIndicator().setText("Transforming file: " + url);
  try {
    OutputStream os=new BufferedOutputStream(new FileOutputStream(new File(url)));
    DataOutput out=new DataOutputStream(os);
    out.writeBytes("package a; ");
    out.writeBytes("public class A { public static void main(String[] args) { System.out.println(\"Hello from modified class\");} }");
    os.close();
    return true;
  }
 catch (  FileNotFoundException e) {
    context.addMessage(CompilerMessageCategory.ERROR,e.getMessage(),null,-1,-1);
  }
catch (  IOException e) {
    context.addMessage(CompilerMessageCategory.ERROR,e.getMessage(),null,-1,-1);
  }
  return false;
}
