{
  final PsiStatement[] statements=body.getStatements();
  if (statements.length == 1) {
    if (statements[0] instanceof PsiBlockStatement) {
      return getExpression(((PsiBlockStatement)statements[0]).getCodeBlock());
    }
    if (statements[0] instanceof PsiReturnStatement || statements[0] instanceof PsiExpressionStatement) {
      if (statements[0] instanceof PsiReturnStatement) {
        final PsiReturnStatement returnStatement=(PsiReturnStatement)statements[0];
        return returnStatement.getReturnValue();
      }
 else {
        final PsiExpression expression=((PsiExpressionStatement)statements[0]).getExpression();
        final PsiType psiType=expression.getType();
        if (psiType != PsiType.VOID) {
          return null;
        }
        return expression;
      }
    }
  }
  return null;
}
