{
  String stripped=StringUtil.strip(ProjectRootManagerImpl.extractLocalPath(PathMacroManager.getInstance(myModel.getModule()).collapsePath(path)),new CharFilter(){
    public boolean accept(    final char ch){
      return ch != '$';
    }
  }
);
  boolean leaveLeadingSlash=false;
  if (!Comparing.strEqual(stripped,ProjectRootManagerImpl.extractLocalPath(path))) {
    leaveLeadingSlash=kind[0] == null;
    kind[0]=EclipseXml.VAR_KIND;
  }
  return (leaveLeadingSlash ? "/" : "") + stripped;
}
