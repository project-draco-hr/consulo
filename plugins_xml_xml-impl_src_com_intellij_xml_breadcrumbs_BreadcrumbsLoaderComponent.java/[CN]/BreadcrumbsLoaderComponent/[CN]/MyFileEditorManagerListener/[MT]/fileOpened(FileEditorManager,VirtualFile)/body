{
  if (isEnabled() && isSuitable(source.getProject(),file)) {
    final FileEditor[] fileEditors=source.getEditors(file);
    for (    final FileEditor fileEditor : fileEditors) {
      if (fileEditor instanceof TextEditor) {
        final BreadcrumbsXmlWrapper wrapper=new BreadcrumbsXmlWrapper(((TextEditor)fileEditor).getEditor());
        final JComponent c=wrapper.getComponent();
        source.addTopComponent(fileEditor,c);
        Disposer.register(fileEditor,wrapper);
        Disposer.register(fileEditor,new Disposable(){
          public void dispose(){
            source.removeTopComponent(fileEditor,c);
          }
        }
);
      }
    }
  }
}
