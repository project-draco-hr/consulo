{
  GlobalSearchScope filter=createFilter(project);
  final List<Set<SchemaTypeInfo>> list=FileBasedIndex.getInstance().getValues(NAME,NsPlusTag.INSTANCE.encode(Pair.create(ns,name)),filter);
  if (file != null && !filter.accept(file)) {
    try {
      final MultiMap<SchemaTypeInfo,SchemaTypeInfo> multiMap=XsdComplexTypeInfoBuilder.parse(CharArrayUtil.readerFromCharSequence(VfsUtil.loadText(file)));
      final SchemaTypeInfo info=new SchemaTypeInfo(name,true,ns);
      Collection<SchemaTypeInfo> infos=multiMap.get(info);
      if (infos != null && !infos.isEmpty()) {
        list.add(new HashSet<SchemaTypeInfo>(infos));
      }
    }
 catch (    IOException e) {
      LOG.info(e);
    }
  }
  return list;
}
