{
  return new DataIndexer<String,Set<SchemaTypeInfo>,FileContent>(){
    @NotNull @Override public Map<String,Set<SchemaTypeInfo>> map(    FileContent inputData){
      final Map<String,Set<SchemaTypeInfo>> map=new HashMap<String,Set<SchemaTypeInfo>>();
      final MultiMap<SchemaTypeInfo,SchemaTypeInfo> multiMap=XsdComplexTypeInfoBuilder.parse(CharArrayUtil.readerFromCharSequence(inputData.getContentAsText()));
      for (      SchemaTypeInfo key : multiMap.keySet()) {
        map.put(NsPlusTag.INSTANCE.encode(Pair.create(key.getNamespaceUri(),key.getTagName())),new HashSet<SchemaTypeInfo>(multiMap.get(key)));
      }
      return map;
    }
  }
;
}
