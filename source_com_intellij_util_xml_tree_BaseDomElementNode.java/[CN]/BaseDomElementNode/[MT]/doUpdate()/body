{
  if (!myDomElement.isValid())   return true;
  setUniformIcon(getNodeIcon());
  clearColoredText();
  boolean isExpanded=isExpanded();
  final List<DomElementProblemDescriptor> problems=DomElementAnnotationsManager.getInstance().getProblems(myDomElement,true,highlightIfChildrenHasProblems());
  if (problems.size() > 0) {
    addColoredFragment(getNodeName(),TooltipUtils.getTooltipText(problems),SimpleTextAttributes.ERROR_ATTRIBUTES);
  }
 else   if (myDomElement.getXmlTag() != null) {
    addColoredFragment(getNodeName(),SimpleTextAttributes.REGULAR_ATTRIBUTES);
  }
 else {
    addColoredFragment(getNodeName(),SimpleTextAttributes.GRAYED_ATTRIBUTES);
  }
  return true;
}
