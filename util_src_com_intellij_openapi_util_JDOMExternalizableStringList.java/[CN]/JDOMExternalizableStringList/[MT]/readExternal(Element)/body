{
  clear();
  for (Iterator i=element.getChildren().iterator(); i.hasNext(); ) {
    Element e=(Element)i.next();
    if (ATTR_LIST.equals(e.getName())) {
      Element listElement=e;
      String sizeString=listElement.getAttributeValue(ATTR_LISTSIZE);
      int listSize;
      try {
        listSize=Integer.parseInt(sizeString);
      }
 catch (      NumberFormatException ex) {
        throw new InvalidDataException("Size " + sizeString + " found. Must be integer!");
      }
      for (int j=0; j < listSize; j++) {
        this.add(null);
      }
      final ClassLoader classLoader=Reflection.getCallerClass(2).getClassLoader();
      for (Iterator listIterator=listElement.getChildren().iterator(); listIterator.hasNext(); ) {
        Element listItemElement=(Element)listIterator.next();
        if (!ATTR_ITEM.equals(listItemElement.getName())) {
          throw new InvalidDataException("Unable to read list item. Unknown element found: " + listItemElement.getName());
        }
        String listItem;
        String itemIndexString=listItemElement.getAttributeValue(ATTR_INDEX);
        String itemClassString=listItemElement.getAttributeValue(ATTR_CLASS);
        Class itemClass;
        try {
          itemClass=Class.forName(itemClassString,true,classLoader);
        }
 catch (        ClassNotFoundException ex) {
          throw new InvalidDataException("Unable to read list item: unable to load class: " + itemClassString + " \n"+ ex.getMessage());
        }
        listItem=listItemElement.getAttributeValue(ATTR_VALUE);
        LOG.assertTrue(String.class.equals(itemClass));
        this.set(Integer.parseInt(itemIndexString),listItem);
      }
    }
  }
}
