{
  int index=1;
  final List<PopupAction> actions=new ArrayList<PopupAction>();
  actions.add(new ChooseAndAddAction(index++,"Jar...",PlatformIcons.JAR_ICON){
    @NotNull protected List<Library> doChoose(){
      final ChooseJarDialog dialog=new ChooseJarDialog(SimpleClasspathPanel.this,getVirtualFiles(),myDisposable);
      dialog.doChoose();
      return dialog.getChosenElements();
    }
  }
);
  actions.add(new ChooseAndAddAction(index++,"Library...",PlatformIcons.LIBRARY_ICON){
    @NotNull protected List<Library> doChoose(){
      final Set<VirtualFile> existingFiles=getVirtualFiles();
      final ChooseLibrariesDialogBase dialog=new SimpleClasspathChooseLibrariesDialog(SimpleClasspathPanel.this,existingFiles);
      dialog.show();
      final List<Library> libraries=dialog.getSelectedLibraries();
      final ArrayList<Library> result=new ArrayList<Library>();
      for (      Library o : libraries) {
        result.addAll(ensureApplicationLevel(o,existingFiles,myDisposable));
      }
      return result;
    }
  }
);
  return actions.toArray(new PopupAction[actions.size()]);
}
