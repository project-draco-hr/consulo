{
  DataContext dataContext=e.getDataContext();
  Project project=PlatformDataKeys.PROJECT.getData(dataContext);
  if (project == null) {
    e.getPresentation().setEnabled(false);
    return;
  }
  DebuggerManagerEx debuggerManager=DebuggerManagerEx.getInstanceEx(project);
  DebuggerSession session=debuggerManager.getContext().getDebuggerSession();
  e.getPresentation().setEnabled(session != null && session.isAttached() && session.getProcess().canRedefineClasses());
}
