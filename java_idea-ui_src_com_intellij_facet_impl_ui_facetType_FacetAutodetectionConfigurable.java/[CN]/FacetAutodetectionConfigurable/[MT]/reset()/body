{
  DisabledAutodetectionByTypeElement autodetectionInfo=getAutodetectingManager().getDisabledAutodetectionState(myFacetType);
  myModulesListModel.removeAllElements();
  myFilesListModel.removeAllElements();
  myFile2Module.clear();
  myRemovedModules.clear();
  myAddedModules.clear();
  myRemovedFiles.clear();
  myEnableAutoDetectionCheckBox.setSelected(true);
  if (autodetectionInfo != null) {
    List<DisabledAutodetectionInModuleElement> moduleElements=autodetectionInfo.getModuleElements();
    if (moduleElements.isEmpty()) {
      myEnableAutoDetectionCheckBox.setSelected(false);
    }
 else {
      List<String> modules=new ArrayList<String>();
      List<String> urls=new ArrayList<String>();
      for (      DisabledAutodetectionInModuleElement moduleElement : moduleElements) {
        String moduleName=moduleElement.getModuleName();
        if (moduleElement.isDisableInWholeModule()) {
          modules.add(moduleName);
        }
 else {
          for (          String url : moduleElement.getFiles()) {
            myFile2Module.put(url,moduleName);
            urls.add(url);
          }
          for (          String url : moduleElement.getDirectories()) {
            myFile2Module.put(url,moduleName);
            urls.add(url);
          }
        }
      }
      Collections.sort(urls);
      Collections.sort(modules);
      for (      String url : urls) {
        myFilesListModel.addElement(url);
      }
      for (      String moduleName : modules) {
        myModulesListModel.addElement(moduleName);
      }
    }
  }
  myAutodetectionWasEnabled=myEnableAutoDetectionCheckBox.isSelected();
  mySkipFilesListPanel.setVisible(!myFilesListModel.isEmpty());
  updateButtons();
}
