{
  final RunContentManager contentManager=myExecutionManager.getContentManager();
  LOG.assertTrue(contentManager != null,"Content manager is null");
  final RunContentListener myContentListener=new RunContentListener(){
    public void contentSelected(    RunContentDescriptor descriptor){
      DebuggerSessionTab sessionTab=descriptor != null ? getSessionTab(descriptor.getProcessHandler()) : null;
      if (sessionTab != null) {
        getContextManager().setState(sessionTab.getContextManager().getContext(),sessionTab.getSession().getState(),DebuggerSession.EVENT_CONTEXT,null);
      }
 else {
        getContextManager().setState(DebuggerContextImpl.EMPTY_CONTEXT,DebuggerSession.STATE_DISPOSED,DebuggerSession.EVENT_CONTEXT,null);
      }
    }
    public void contentRemoved(    RunContentDescriptor descriptor){
      DebuggerSessionTab sessionTab=getSessionTab(descriptor.getProcessHandler());
      if (sessionTab != null) {
        mySessionTabs.remove(descriptor.getProcessHandler());
        Disposer.dispose(sessionTab);
      }
    }
  }
;
  contentManager.addRunContentListener(myContentListener,DefaultDebugExecutor.getDebugExecutorInstance());
  Disposer.register(myProject,new Disposable(){
    public void dispose(){
      contentManager.removeRunContentListener(myContentListener);
    }
  }
);
}
