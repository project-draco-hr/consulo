{
  if (ApplicationManager.getApplication().isCompilerServerMode()) {
    CompilerClientConnector.getInstance(myProject).updateIcon();
    return;
  }
  val toolWindow=myToolWindowManager.getToolWindow(PROBLEMS_TOOLWINDOW_ID);
  UIUtil.invokeLaterIfNeeded(new Runnable(){
    @Override public void run(){
      toolWindow.setIcon(myPanel.containsErrorMessages() ? AllIcons.Toolwindows.Problems : IconLoader.getDisabledIcon(AllIcons.Toolwindows.Problems));
    }
  }
);
}
