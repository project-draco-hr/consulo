{
  LOG.assertTrue(!myDisposed);
  myData.setContents(content1,content2);
  Project project=myData.getProject();
  FileType[] types=DiffUtil.chooseContentTypes(new DiffContent[]{content1,content2});
  VirtualFile baseFile=content1.getFile();
  if (baseFile == null && myDiffRequest != null) {
    String path=myDiffRequest.getWindowTitle();
    if (path != null)     baseFile=LocalFileSystem.getInstance().findFileByPath(path);
  }
  myLeftSide.setHighlighterFactory(createHighlighter(types[0],baseFile,project));
  myRightSide.setHighlighterFactory(createHighlighter(types[1],baseFile,project));
  rediff();
  if (myIsRequestFocus) {
    myPanel.requestScrollEditors();
  }
}
