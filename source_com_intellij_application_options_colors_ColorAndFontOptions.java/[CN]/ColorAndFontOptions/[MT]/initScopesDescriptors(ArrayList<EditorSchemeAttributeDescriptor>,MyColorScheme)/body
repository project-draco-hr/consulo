{
  Collection<NamedScope> namedScopes=new THashSet<NamedScope>();
  Project[] projects=ProjectManager.getInstance().getOpenProjects();
  for (  Project project : projects) {
    final NamedScopesHolder[] holders=project.getComponents(NamedScopesHolder.class);
    for (    NamedScopesHolder holder : holders) {
      NamedScope[] scopes=holder.getEditableScopes();
      namedScopes.addAll(Arrays.asList(scopes));
    }
  }
  for (  NamedScope namedScope : namedScopes) {
    String name=namedScope.getName();
    TextAttributesKey textAttributesKey=getScopeTextAttributeKey(name);
    if (scheme.getAttributes(textAttributesKey) == null) {
      scheme.setAttributes(textAttributesKey,new TextAttributes());
    }
    addSchemedDescription(descriptions,name,SCOPES_GROUP,textAttributesKey,scheme);
  }
}
