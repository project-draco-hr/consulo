{
  try {
    EditorColorsManager myColorsManager=EditorColorsManager.getInstance();
    myColorsManager.removeAllSchemes();
    for (Iterator iterator=mySchemes.values().iterator(); iterator.hasNext(); ) {
      MyColorScheme scheme=(MyColorScheme)iterator.next();
      if (!scheme.isDefault()) {
        scheme.apply();
        myColorsManager.addColorsScheme(scheme.getOriginalScheme());
      }
    }
    EditorColorsScheme originalScheme=mySelectedScheme.getOriginalScheme();
    myColorsManager.setGlobalScheme(originalScheme);
    myColorsManager.saveAllSchemes();
    EditorFactory.getInstance().refreshAllEditors();
    Project[] projects=ProjectManager.getInstance().getOpenProjects();
    for (int i=0; i < projects.length; i++) {
      Project project1=projects[i];
      updateBreakpoints(project1);
    }
    initAll();
    myPanel.resetSchemesCombo();
    Project[] openProjects=ProjectManager.getInstance().getOpenProjects();
    for (int i=0; i < openProjects.length; i++) {
      FileStatusManager.getInstance(openProjects[i]).fileStatusesChanged();
    }
    myPanel.apply();
  }
 catch (  IOException e) {
    throw new ConfigurationException(e.getMessage());
  }
}
