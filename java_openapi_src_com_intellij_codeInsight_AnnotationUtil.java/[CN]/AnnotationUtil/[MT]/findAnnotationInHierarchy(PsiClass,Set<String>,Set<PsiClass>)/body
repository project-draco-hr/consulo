{
  final PsiClass[] superClasses=psiClass.getSupers();
  for (  final PsiClass superClass : superClasses) {
    if (processed == null)     processed=new THashSet<PsiClass>();
    if (!processed.add(superClass))     return null;
    final PsiAnnotation annotation=findAnnotation(superClass,annotationNames);
    if (annotation != null)     return annotation;
    final PsiAnnotation annotationInHierarchy=findAnnotationInHierarchy(superClass,annotationNames,processed);
    if (annotationInHierarchy != null)     return annotationInHierarchy;
  }
  return null;
}
