{
  PsiAnnotation directAnnotation=findAnnotation(listOwner,annotationNames);
  if (directAnnotation != null)   return directAnnotation;
  if (listOwner instanceof PsiMethod) {
    PsiMethod method=(PsiMethod)listOwner;
    PsiClass aClass=method.getContainingClass();
    if (aClass == null)     return null;
    HierarchicalMethodSignature methodSignature=method.getHierarchicalMethodSignature();
    return findAnnotationInHierarchy(methodSignature,annotationNames,method,null,JavaPsiFacade.getInstance(method.getProject()).getResolveHelper());
  }
  if (listOwner instanceof PsiClass) {
    return findAnnotationInHierarchy((PsiClass)listOwner,annotationNames,null);
  }
  if (listOwner instanceof PsiParameter) {
    PsiParameter parameter=(PsiParameter)listOwner;
    return doFindAnnotationInHierarchy(parameter,annotationNames,null);
  }
  return null;
}
