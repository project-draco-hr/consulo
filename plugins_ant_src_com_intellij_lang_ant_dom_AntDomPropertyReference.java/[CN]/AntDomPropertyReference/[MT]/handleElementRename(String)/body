{
  final MyResolveResult resolveResult=doResolve();
  if (resolveResult != null) {
    final PsiElement resolve=resolveResult.getElement();
    final String refText=getCanonicalText();
    if (refText.startsWith(ANT_FILE_PREFIX)) {
      if (resolve instanceof PomTargetPsiElement) {
        final PomTarget target=((PomTargetPsiElement)resolve).getTarget();
        if (target instanceof DomTarget) {
          final DomTarget domTarget=(DomTarget)target;
          final String oldName=domTarget.getName();
          if (oldName != null && (refText.length() == ANT_FILE_PREFIX.length() + oldName.length()) && refText.endsWith(oldName)) {
            newElementName=ANT_FILE_PREFIX + newElementName;
          }
        }
      }
    }
 else {
      final PropertiesProvider provider=resolveResult.getProvider();
      final String prefix=provider instanceof AntDomProperty ? ((AntDomProperty)provider).getPropertyPrefixValue() : null;
      if (prefix != null) {
        newElementName=prefix + newElementName;
      }
    }
  }
  return super.handleElementRename(newElementName);
}
