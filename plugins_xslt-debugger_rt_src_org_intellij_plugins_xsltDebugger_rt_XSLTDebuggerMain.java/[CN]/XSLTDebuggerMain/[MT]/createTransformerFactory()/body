{
  final String type=System.getProperty("xslt.transformer.type");
  if ("xalan".equalsIgnoreCase(type)) {
    return XalanSupport.createTransformerFactory();
  }
 else   if ("saxon".equalsIgnoreCase(type)) {
    return SaxonSupport.createTransformerFactory();
  }
 else   if ("saxon9".equalsIgnoreCase(type)) {
    return Saxon9Support.createTransformerFactory();
  }
 else   if (type != null) {
    throw new UnsupportedOperationException("Unsupported Transformer type '" + type + "'");
  }
  return XalanSupport.prepareFactory(XSLTRunner.createTransformerFactoryStatic());
}
