{
  final Project project=e.getData(PlatformDataKeys.PROJECT);
  final MavenProjectsManager projectsManager=project != null ? MavenProjectsManager.getInstance(project) : null;
  final VirtualFile[] files=e.getData(PlatformDataKeys.VIRTUAL_FILE_ARRAY);
  final boolean enabled=projectsManager != null && files != null && isEnabled(projectsManager,files);
  e.getPresentation().setEnabled(enabled);
  e.getPresentation().setText((enabled && projectsManager.getIgnoredFlag(files[0])) ? StateBundle.message("maven.ignore.clear") : (enabled && projectsManager.isIgnored(files[0])) ? StateBundle.message("maven.ignore.edit") : StateBundle.message("maven.ignore"));
}
