{
  return new Computable<PsiType>(){
    public PsiType compute(){
      PsiType rType=rValue.getType();
      if (rType == null)       return null;
      if (rType instanceof GrTupleType) {
        PsiType[] componentTypes=((GrTupleType)rType).getComponentTypes();
        if (idx < componentTypes.length)         return componentTypes[idx];
      }
 else       if (rType instanceof PsiClassType) {
        PsiClassType.ClassResolveResult result=((PsiClassType)rType).resolveGenerics();
        PsiClass clazz=result.getElement();
        if (clazz != null) {
          PsiClass listClass=rValue.getManager().findClass("java.util.List",rValue.getResolveScope());
          if (listClass != null && listClass.getTypeParameters().length == 1) {
            PsiSubstitutor substitutor=TypeConversionUtil.getClassSubstitutor(listClass,clazz,result.getSubstitutor());
            if (substitutor != null) {
              return substitutor.substitute(listClass.getTypeParameters()[0]);
            }
          }
        }
      }
      return null;
    }
  }
;
}
