{
  if (dependencies == null) {
    return new Data<T>(value,null,null);
  }
  TLongArrayList timeStamps=new TLongArrayList(dependencies.length);
  List<Object> deps=new ArrayList<Object>(dependencies.length);
  collectDependencies(timeStamps,deps,dependencies);
  return new Data<T>(value,ArrayUtil.toObjectArray(deps),timeStamps.toNativeArray());
}
