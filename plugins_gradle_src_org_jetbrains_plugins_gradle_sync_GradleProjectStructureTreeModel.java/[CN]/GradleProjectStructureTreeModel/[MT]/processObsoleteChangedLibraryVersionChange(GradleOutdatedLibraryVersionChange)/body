{
  Library library=myProjectStructureHelper.findIdeLibraryByBaseName(change.getBaseLibraryName());
  if (library == null) {
    return;
  }
  for (  Map.Entry<String,GradleProjectStructureNode<GradleSyntheticId>> entry : myModuleDependencies.entrySet()) {
    String moduleName=entry.getKey();
    GradleCompositeLibraryDependencyId outdatedEntityId=new GradleCompositeLibraryDependencyId(new GradleLibraryDependencyId(GradleEntityOwner.GRADLE,moduleName,change.getGradleLibraryId().getLibraryName()),new GradleLibraryDependencyId(GradleEntityOwner.IDE,moduleName,change.getIdeLibraryId().getLibraryName()));
    GradleProjectStructureNode<GradleSyntheticId> dependenciesNode=entry.getValue();
    Collection<GradleProjectStructureNode<GradleCompositeLibraryDependencyId>> dependencyNodes=dependenciesNode.getChildren(GradleCompositeLibraryDependencyId.class);
    for (    GradleProjectStructureNode<GradleCompositeLibraryDependencyId> oldDependencyNode : dependencyNodes) {
      if (!outdatedEntityId.equals(oldDependencyNode.getDescriptor().getElement())) {
        continue;
      }
      dependenciesNode.remove(oldDependencyNode);
      LibraryOrderEntry libraryDependency=myProjectStructureHelper.findIdeLibraryDependency(moduleName,GradleUtil.getLibraryName(library));
      if (libraryDependency != null) {
        GradleLibraryDependencyId newDependencyId=GradleEntityIdMapper.mapEntityToId(libraryDependency);
        GradleProjectStructureNode<GradleLibraryDependencyId> newDependencyNode=buildNode(newDependencyId,newDependencyId.getDependencyName());
        populateLibraryDependencyNode(newDependencyNode,libraryDependency.getLibrary());
        dependenciesNode.add(newDependencyNode);
      }
    }
  }
}
