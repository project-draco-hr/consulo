{
  final ProjectStructureNode<GradleSyntheticId> holder=myModuleDependencies.get(id.getOwnerModuleName());
  if (holder == null) {
    return;
  }
  for (  ProjectStructureNode<? extends AbstractExternalDependencyId> node : holder.getChildren(id.getClass())) {
    ProjectStructureNodeDescriptor<? extends AbstractExternalDependencyId> descriptor=node.getDescriptor();
    if (!id.equals(descriptor.getElement())) {
      continue;
    }
    if (removeNode) {
      holder.remove(node);
    }
 else {
      descriptor.setAttributes(ExternalSystemTextAttributes.NO_CHANGE);
      holder.correctChildPositionIfNecessary(node);
      if (!passFilters(node)) {
        node.removeFromParent();
        removeModuleDependencyNodeIfEmpty(holder,id.getOwnerModuleId());
        removeModuleNodeIfEmpty(myModules.get(id.getOwnerModuleName()));
      }
    }
    return;
  }
}
