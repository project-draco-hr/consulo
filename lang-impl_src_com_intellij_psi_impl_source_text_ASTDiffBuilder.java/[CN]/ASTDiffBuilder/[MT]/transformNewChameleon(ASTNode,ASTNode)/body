{
  if (newNode instanceof ChameleonElement) {
    final FileElement dummyRoot=new DummyHolder(oldNode.getPsi().getManager(),oldNode.getPsi().getContainingFile(),SharedImplUtil.findCharTableByTree(oldNode)).getTreeElement();
    dummyRoot.rawAddChildren((TreeElement)newNode);
    newNode=ChameleonTransforming.transform((ChameleonElement)newNode);
  }
  return newNode;
}
