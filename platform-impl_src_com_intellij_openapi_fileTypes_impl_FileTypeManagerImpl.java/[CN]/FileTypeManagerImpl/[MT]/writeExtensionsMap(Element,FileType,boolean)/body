{
  final List<FileNameMatcher> assocs=myPatternsTable.getAssociations(type);
  final Set<FileNameMatcher> defaultAssocs=new HashSet<FileNameMatcher>(myInitialAssociations.getAssociations(type));
  for (  FileNameMatcher matcher : assocs) {
    if (defaultAssocs.contains(matcher)) {
      defaultAssocs.remove(matcher);
    }
 else     if (shouldSave(type)) {
      Element content=AbstractFileType.writeMapping(type,matcher,specifyTypeName);
      if (content != null) {
        map.addContent(content);
      }
    }
  }
  for (  FileNameMatcher matcher : defaultAssocs) {
    Element content=AbstractFileType.writeRemovedMapping(type,matcher,specifyTypeName);
    if (content != null) {
      map.addContent(content);
    }
  }
}
