{
  final ArrayList<ASTNode> nodes=new ArrayList<ASTNode>();
  final ArrayList<Block> subBlocks=new ArrayList<Block>();
  collectNodes(nodes,node);
  final Wrap wrap=Wrap.createWrap(getWrapType(mySettings.METHOD_CALL_CHAIN_WRAP),false);
  while (!nodes.isEmpty()) {
    ArrayList<ASTNode> subNodes=readToNextDot(nodes);
    subBlocks.add(createSynthBlock(subNodes,wrap));
  }
  return new SyntheticCodeBlock(subBlocks,alignment,mySettings,Indent.getContinuationWithoutFirstIndent(),blockWrap);
}
