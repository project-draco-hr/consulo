{
  final Ref<Boolean> refCannotEvaluate=new Ref<Boolean>();
  initializerInMethod.accept(new PsiRecursiveElementVisitor(){
    public void visitReferenceExpression(    final PsiReferenceExpression expression){
      final PsiElement element=expression.resolve();
      if (element instanceof PsiLocalVariable) {
        final PsiLocalVariable localVariable=(PsiLocalVariable)element;
        final PsiElement localReplacement=localReplacements.get(localVariable);
        if (localReplacement != null) {
          elementsToReplace.put(expression,localReplacement);
        }
 else {
          refCannotEvaluate.set(Boolean.TRUE);
        }
      }
 else {
        refCannotEvaluate.set(Boolean.TRUE);
      }
    }
  }
);
  return refCannotEvaluate.isNull();
}
