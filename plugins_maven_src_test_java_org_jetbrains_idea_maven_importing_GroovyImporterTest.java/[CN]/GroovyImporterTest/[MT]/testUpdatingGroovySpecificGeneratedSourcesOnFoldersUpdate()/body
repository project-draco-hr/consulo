{
  importProject("<groupId>test</groupId>" + "<artifactId>project</artifactId>" + "<version>1</version>"+ "<build>"+ "  <plugins>"+ "    <plugin>"+ "      <groupId>org.codehaus.groovy.maven</groupId>"+ "      <artifactId>gmaven-plugin</artifactId>"+ "      <executions>"+ "        <execution>"+ "          <goals>"+ "            <goal>generateStubs</goal>"+ "            <goal>generateTestStubs</goal>"+ "          </goals>"+ "        </execution>"+ "      </executions>"+ "    </plugin>"+ "  </plugins>"+ "</build>");
  ApplicationManager.getApplication().runWriteAction(new Runnable(){
    public void run(){
      MavenRootModelAdapter a=new MavenRootModelAdapter(myProjectsTree.findProject(myProjectPom),getModule("project"),new MavenDefaultModifiableModelsProvider(myProject));
      a.unregisterAll(getProjectPath() + "/target",true,true);
      a.getRootModel().commit();
    }
  }
);
  assertSources("project");
  assertTestSources("project");
  assertExcludes("project");
  createProjectSubDirs("src/main/groovy","src/test/groovy","target/generated-sources/xxx/yyy","target/generated-sources/groovy-stubs/main/foo","target/generated-sources/groovy-stubs/test/bar");
  resolveFoldersAndImport();
  assertSources("project","src/main/groovy","target/generated-sources/xxx");
  assertTestSources("project","src/test/groovy");
  assertExcludes("project","target/generated-sources/groovy-stubs");
}
