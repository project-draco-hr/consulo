{
  return new RW.Reader<AbstractType>(){
    public AbstractType read(    final BufferedReader r){
      AbstractType elementType;
      int level=0;
      while (true) {
        final String tag=RW.readString(r);
        if (tag.equals("primitive")) {
          elementType=context.getType(new PrimitiveType(new DependencyContext.S(r)));
          break;
        }
        if (tag.equals("class")) {
          elementType=context.getType(new ClassType(context,r));
          break;
        }
        if (tag.equals("array")) {
          level++;
        }
      }
      for (int i=0; i < level; i++) {
        elementType=context.getType(new ArrayType(elementType));
      }
      return elementType;
    }
  }
;
}
