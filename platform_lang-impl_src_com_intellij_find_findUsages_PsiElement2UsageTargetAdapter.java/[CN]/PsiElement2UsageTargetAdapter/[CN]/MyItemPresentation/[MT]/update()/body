{
  final PsiElement element=getElement();
  if (element != null && element.isValid()) {
    final ItemPresentation presentation=((NavigationItem)element).getPresentation();
    myIcon=presentation != null ? ComputableIcon.create(presentation,true) : null;
    myPresentableText=presentation != null ? presentation.getPresentableText() : UsageViewUtil.createNodeText(element);
    if (myIcon == null) {
      if (element instanceof PsiMetaOwner) {
        final PsiMetaOwner psiMetaOwner=(PsiMetaOwner)element;
        final PsiMetaData metaData=psiMetaOwner.getMetaData();
        if (metaData instanceof PsiPresentableMetaData) {
          final PsiPresentableMetaData psiPresentableMetaData=(PsiPresentableMetaData)metaData;
          if (myIcon == null)           myIcon=ComputableIcon.create(psiPresentableMetaData);
        }
      }
 else       if (element instanceof PsiFile) {
        final PsiFile psiFile=(PsiFile)element;
        final VirtualFile virtualFile=psiFile.getVirtualFile();
        if (virtualFile != null) {
          myIcon=ComputableIcon.create(virtualFile);
        }
      }
    }
  }
}
