{
  Module module=getValue();
  if (module == null || module.isDisposed())   return false;
  final VirtualFile testee;
  if (file.getFileSystem() instanceof ArchiveFileSystem) {
    testee=((ArchiveFileSystem)file.getFileSystem()).getLocalVirtualFileFor(file);
    if (testee == null)     return false;
  }
 else {
    testee=file;
  }
  for (  VirtualFile root : ModuleRootManager.getInstance(module).getContentRoots()) {
    if (VfsUtilCore.isAncestor(root,testee,false))     return true;
  }
  return false;
}
