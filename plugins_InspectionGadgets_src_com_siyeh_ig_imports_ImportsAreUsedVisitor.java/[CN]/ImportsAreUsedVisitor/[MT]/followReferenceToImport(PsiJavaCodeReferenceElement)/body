{
  if (reference.getQualifier() != null) {
    return;
  }
  final PsiElement element=reference.advancedResolve(true).getElement();
  if (!(element instanceof PsiClass)) {
    return;
  }
  final PsiClass referencedClass=(PsiClass)element;
  final String qualifiedName=referencedClass.getQualifiedName();
  if (qualifiedName == null) {
    return;
  }
  final List<PsiImportStatement> importStatementsCopy=new ArrayList<PsiImportStatement>(importStatements);
  for (  PsiImportStatement importStatement : importStatementsCopy) {
    final String importName=importStatement.getQualifiedName();
    if (importName == null) {
      return;
    }
    if (importStatement.isOnDemand()) {
      final int lastComponentIndex=qualifiedName.lastIndexOf((int)'.');
      if (lastComponentIndex > 0) {
        final String packageName=qualifiedName.substring(0,lastComponentIndex);
        if (importName.equals(packageName)) {
          removeAll(importStatement);
          break;
        }
      }
    }
 else     if (importName.equals(qualifiedName)) {
      removeAll(importStatement);
      break;
    }
  }
}
