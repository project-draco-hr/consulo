{
  if (reference.getQualifier() != null) {
    return;
  }
  final PsiElement element=reference.resolve();
  if (!(element instanceof PsiClass)) {
    return;
  }
  final PsiClass referencedClass=(PsiClass)element;
  final String qualifiedName=referencedClass.getQualifiedName();
  if (qualifiedName == null) {
    return;
  }
  for (  PsiImportStatement importStatement : importStatements) {
    final String importName=importStatement.getQualifiedName();
    if (importName == null) {
      return;
    }
    if (importStatement.isOnDemand()) {
      final int lastComponentIndex=qualifiedName.lastIndexOf((int)'.');
      if (lastComponentIndex > 0) {
        final String packageName=qualifiedName.substring(0,lastComponentIndex);
        if (importName.equals(packageName)) {
          importStatements.remove(importStatement);
          break;
        }
      }
    }
 else {
      if (importName.equals(qualifiedName)) {
        importStatements.remove(importStatement);
        break;
      }
    }
  }
}
