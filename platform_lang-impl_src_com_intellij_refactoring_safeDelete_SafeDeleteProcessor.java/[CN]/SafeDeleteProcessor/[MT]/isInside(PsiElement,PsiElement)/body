{
  if (ancestor instanceof PsiDirectoryContainer) {
    final PsiDirectory[] directories=((PsiDirectoryContainer)ancestor).getDirectories(place.getResolveScope());
    for (    PsiDirectory directory : directories) {
      if (isInside(place,directory))       return true;
    }
  }
  if (ancestor instanceof PsiFile) {
    for (    PsiFile file : ((PsiFile)ancestor).getViewProvider().getAllFiles()) {
      if (PsiTreeUtil.isAncestor(file,place,false))       return true;
    }
  }
  return PsiTreeUtil.isAncestor(ancestor,place,false);
}
