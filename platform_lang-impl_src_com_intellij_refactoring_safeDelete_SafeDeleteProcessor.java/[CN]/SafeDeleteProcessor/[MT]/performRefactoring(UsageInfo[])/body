{
  try {
    for (    UsageInfo usage : usages) {
      if (usage instanceof SafeDeleteCustomUsageInfo) {
        ((SafeDeleteCustomUsageInfo)usage).performRefactoring();
      }
    }
    for (    PsiElement element : myElements) {
      for (      SafeDeleteProcessorDelegate delegate : Extensions.getExtensions(SafeDeleteProcessorDelegate.EP_NAME)) {
        delegate.prepareForDeletion(element);
      }
      element.delete();
    }
  }
 catch (  IncorrectOperationException e) {
    RefactoringUIUtil.processIncorrectOperation(myProject,e);
  }
}
