{
  PsiStatement container=getContainer();
  ReadonlyStatusHandler.getInstance(project).ensureFilesWritable(new VirtualFile[]{container.getContainingFile().getVirtualFile()});
  PsiElement prev=PsiTreeUtil.skipSiblingsBackward(container,new Class[]{PsiWhiteSpace.class});
  PsiElementFactory factory=myContext.getManager().getElementFactory();
  if (prev instanceof PsiComment) {
    String text=prev.getText();
    if (text.startsWith(COMMENT_START_TEXT)) {
      prev.replace(factory.createCommentFromText(text + "," + myID,null));
      return;
    }
  }
  boolean caretWasBeforeStatement=editor.getCaretModel().getOffset() == container.getTextRange().getStartOffset();
  container.getParent().addBefore(factory.createCommentFromText(COMMENT_START_TEXT + myID,null),container);
  if (caretWasBeforeStatement) {
    editor.getCaretModel().moveToOffset(container.getTextRange().getStartOffset());
  }
  QuickFixAction.markDocumentForUndo(file);
}
