{
  List<OutputChunk> chunks=new ArrayList<OutputChunk>();
  OutputChunk lastChunk=null;
synchronized (myStdOutChunks) {
    for (    OutputChunk chunk : myStdOutChunks) {
      if (lastChunk != null && chunk.getKey() == lastChunk.getKey()) {
        lastChunk.append(chunk.getText());
      }
 else {
        lastChunk=chunk;
        chunks.add(chunk);
      }
    }
    myStdOutChunks.clear();
  }
  final boolean isTCLikeFakeOutput=chunks.size() == 1;
  for (  OutputChunk chunk : chunks) {
    onLineAvailable(chunk.getText(),chunk.getKey(),isTCLikeFakeOutput);
  }
}
