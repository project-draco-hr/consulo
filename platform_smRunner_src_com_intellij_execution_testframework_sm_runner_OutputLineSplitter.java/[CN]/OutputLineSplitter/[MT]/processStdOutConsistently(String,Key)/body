{
  final int textLength=text.length();
  if (textLength == 0) {
    return;
  }
synchronized (myStdOutChunks) {
    myStdOutChunks.add(new OutputChunk(outputType,text));
  }
  final char lastChar=text.charAt(textLength - 1);
  if (lastChar == '\n' || lastChar == '\r') {
    flushStdOutBuffer();
  }
 else {
    if (myStdinSupportEnabled && !isMostLikelyServiceMessagePart(text)) {
      flushStdOutBuffer();
    }
  }
}
