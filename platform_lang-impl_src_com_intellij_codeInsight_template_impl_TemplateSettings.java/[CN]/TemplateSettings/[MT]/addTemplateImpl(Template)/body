{
  TemplateImpl templateImpl=(TemplateImpl)template;
  if (getTemplate(templateImpl.getKey(),templateImpl.getGroupName()) == null) {
    myTemplates.putValue(template.getKey(),templateImpl);
  }
  myMaxKeyLength=Math.max(myMaxKeyLength,template.getKey().length());
  myState.deletedKeys.remove(TemplateKey.keyOf((TemplateImpl)template));
}
