{
  if (document == null) {
    throw new InvalidDataException();
  }
  Element root=document.getRootElement();
  if (root == null || !TEMPLATE_SET.equals(root.getName())) {
    throw new InvalidDataException();
  }
  for (  final Object o1 : root.getChildren(TEMPLATE)) {
    addTemplateById(readTemplateFromElement(false,null,(Element)o1,getClass().getClassLoader()));
  }
}
