def fetch(N, url, delay=0):
    import time
    lens = []
    starttime = time.time()
    for i in range(N):
        if (delay and (i > 0)):
            time.sleep(delay)
        fo = urllib2.urlopen(url)
        foo = fo.read()
        fo.close()
        lens.append(len(foo))
    diff = (time.time() - starttime)
    j = 0
    for i in lens[1:]:
        j = (j + 1)
        if (not (i == lens[0])):
            print ('WARNING: inconsistent length on read %i: %i' % (j, i))
    return diff
