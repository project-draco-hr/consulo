def comp(N, url):
    print ('  making %i connections to:\n  %s' % (N, url))
    sys.stdout.write('  first using the normal urllib handlers')
    opener = urllib2.build_opener()
    urllib2.install_opener(opener)
    t1 = fetch(N, url)
    print ('  TIME: %.3f s' % t1)
    sys.stdout.write('  now using the keepalive handler       ')
    opener = urllib2.build_opener(HTTPHandler())
    urllib2.install_opener(opener)
    t2 = fetch(N, url)
    print ('  TIME: %.3f s' % t2)
    print ('  improvement factor: %.2f' % (t1 / t2))
