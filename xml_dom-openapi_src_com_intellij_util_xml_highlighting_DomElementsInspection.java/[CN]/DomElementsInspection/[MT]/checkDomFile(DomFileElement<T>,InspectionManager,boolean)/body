{
  final DomElementAnnotationsManager annotationsManager=DomElementAnnotationsManager.getInstance(manager.getProject());
  final List<DomElementProblemDescriptor> list=annotationsManager.checkFileElement(domFileElement,this);
  if (list.isEmpty())   return ProblemDescriptor.EMPTY_ARRAY;
  List<ProblemDescriptor> problems=ContainerUtil.concat(list,new Function<DomElementProblemDescriptor,Collection<? extends ProblemDescriptor>>(){
    public Collection<ProblemDescriptor> fun(    final DomElementProblemDescriptor s){
      return annotationsManager.createProblemDescriptors(manager,s);
    }
  }
);
  return problems.toArray(new ProblemDescriptor[problems.size()]);
}
