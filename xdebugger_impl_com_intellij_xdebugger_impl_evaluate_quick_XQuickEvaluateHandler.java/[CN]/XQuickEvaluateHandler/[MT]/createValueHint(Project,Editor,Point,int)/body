{
  XDebugSession session=XDebuggerManager.getInstance(project).getCurrentSession();
  if (session == null)   return null;
  XSuspendContext suspendContext=session.getSuspendContext();
  XDebuggerEvaluator evaluator=suspendContext.getEvaluator();
  if (evaluator == null)   return null;
  TextRange range=evaluator.getSelectedExpressionRange(editor,AbstractValueHint.calculateOffset(editor,point));
  if (range == null)   return null;
  return new XValueHint(project,editor,point,type,range,evaluator,session);
}
