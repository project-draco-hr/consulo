{
  XDebugSession session=XDebuggerManager.getInstance(project).getCurrentSession();
  if (session == null)   return null;
  XSuspendContext suspendContext=session.getSuspendContext();
  XDebuggerEvaluator evaluator=suspendContext.getEvaluator();
  if (evaluator == null)   return null;
  int offset=AbstractValueHint.calculateOffset(editor,point);
  TextRange range=getExpressionRange(evaluator,project,type,editor,offset);
  if (range == null)   return null;
  return new XValueHint(project,editor,point,type,range,evaluator,session);
}
