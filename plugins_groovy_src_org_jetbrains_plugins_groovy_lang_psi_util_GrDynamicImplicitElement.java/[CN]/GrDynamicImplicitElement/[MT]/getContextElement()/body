{
  if (myScope == null)   return null;
  if (myScope instanceof GroovyScriptClass)   return ((GroovyScriptClass)myScope);
  if (myScope instanceof GrReferenceExpression) {
    final PsiType type=((GrReferenceExpression)myScope).getType();
    if (!(type instanceof PsiClassType))     return null;
    return ((PsiClassType)type).resolve();
  }
  if (myScope instanceof GrMethodCallExpression) {
    final PsiType type=((GrMethodCallExpression)myScope).getType();
    if (!(type instanceof PsiClassType))     return null;
    return ((PsiClassType)type).resolve();
  }
  return null;
}
