{
  Object componentKey=componentAdapter.getComponentKey();
  if (componentKeyToAdapterCache.containsKey(componentKey)) {
    throw new DuplicateComponentKeyRegistrationException(componentKey);
  }
  componentAdapters.add(componentAdapter);
  componentKeyToAdapterCache.put(componentKey,componentAdapter);
  return componentAdapter;
}
