{
  expression=PsiUtil.deparenthesizeExpression(expression);
  if (inElse) {
    if (expression instanceof PsiPrefixExpression) {
      final PsiPrefixExpression prefixExpression=(PsiPrefixExpression)expression;
      final IElementType tokenType=prefixExpression.getOperationTokenType();
      if (tokenType != JavaTokenType.EXCL) {
        return;
      }
      expression=PsiUtil.deparenthesizeExpression(prefixExpression.getOperand());
      checkInstanceOfExpression(expression);
    }
  }
 else {
    checkInstanceOfExpression(expression);
  }
  if (expression instanceof PsiBinaryExpression) {
    final PsiBinaryExpression binaryExpression=(PsiBinaryExpression)expression;
    visitBinaryExpression(binaryExpression);
  }
}
