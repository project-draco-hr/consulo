{
  final List<PsiReferenceProvider> ret=new ArrayList<PsiReferenceProvider>();
  PsiElement current;
  do {
    current=element;
    for (    final ProviderBinding binding : myBindings) {
      if (binding.isAcceptable(current)) {
        ret.addAll(Arrays.asList(binding.getProviders()));
      }
    }
    element=ResolveUtil.getContext(element);
  }
 while (!isScopeFinal(current.getClass()));
  return ret.toArray(new PsiReferenceProvider[ret.size()]);
}
