{
  TemplateImpl template=new TemplateImpl("","",TemplateSettings.USER_GROUP_NAME);
  myTemplateOptions.put(template,template.createOptions());
  myTemplateContext.put(template,template.createContext());
  EditTemplateDialog dialog=new EditTemplateDialog(this,CodeInsightBundle.message("dialog.add.live.template.title"),template,getTemplateGroups(),(String)myExpandByCombo.getSelectedItem(),myTemplateOptions.get(template),myTemplateContext.get(template));
  dialog.show();
  if (!dialog.isOK())   return;
  dialog.apply();
  addTemplate(template);
  isModified=true;
}
