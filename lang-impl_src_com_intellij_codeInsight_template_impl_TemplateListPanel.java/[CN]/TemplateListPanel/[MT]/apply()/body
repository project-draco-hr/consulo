{
  TemplateSettings templateSettings=TemplateSettings.getInstance();
  List<TemplateGroup> templateGroups=getTemplateGroups();
  for (  TemplateGroup templateGroup : templateGroups) {
    for (    TemplateImpl template : templateGroup.getElements()) {
      template.applyOptions(getOptions(template));
      template.applyContext(getContext(template));
    }
  }
  templateSettings.setTemplates(templateGroups);
  templateSettings.setDefaultShortcutChar(getDefaultShortcutChar());
  isModified=false;
}
