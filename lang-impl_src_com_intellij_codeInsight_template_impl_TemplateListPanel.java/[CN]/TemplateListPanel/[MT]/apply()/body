{
  TemplateSettings templateSettings=TemplateSettings.getInstance();
  List<TemplateGroup> templateGroups=getTemplateGroups();
  for (  TemplateGroup templateGroup : templateGroups) {
    for (    TemplateImpl template : templateGroup.getElements()) {
      template.applyOptions(myTemplateOptions.get(template));
      template.applyContext(myTemplateContext.get(template));
    }
  }
  templateSettings.setTemplates(templateGroups);
  templateSettings.setDefaultShortcutChar(getDefaultShortcutChar());
  isModified=false;
}
