{
  if (absPath.indexOf('/') < 0 && absPath.indexOf(File.separatorChar) < 0) {
    throw new ConfigurationException(AndroidBundle.message("file.must.be.under.module.error",FileUtil.toSystemDependentName(absPath)));
  }
  String relativeGenPathR=toRelativePath(absPath);
  if (relativeGenPathR == null || relativeGenPathR.length() == 0) {
    throw new ConfigurationException(AndroidBundle.message("file.must.be.under.module.error",FileUtil.toSystemDependentName(absPath)));
  }
  if (checkExists && LocalFileSystem.getInstance().findFileByPath(FileUtil.toSystemIndependentName(absPath)) == null) {
    throw new ConfigurationException(AndroidBundle.message("android.file.not.exist.error",FileUtil.toSystemDependentName(absPath)));
  }
  return relativeGenPathR;
}
