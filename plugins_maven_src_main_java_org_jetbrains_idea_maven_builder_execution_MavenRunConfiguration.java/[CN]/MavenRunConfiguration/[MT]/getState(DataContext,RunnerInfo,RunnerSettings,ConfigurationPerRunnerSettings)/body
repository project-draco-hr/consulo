{
  JavaCommandLineState state=new JavaCommandLineState(runnerSettings,configurationSettings){
    protected JavaParameters createJavaParameters() throws ExecutionException {
      return MavenExternalParameters.createJavaParameters(myMavenSettings.buildParameters,myMavenSettings.coreState,myMavenSettings.builderState);
    }
  }
;
  state.setConsoleBuilder(TextConsoleBuilderFactory.getInstance().createBuilder(getProject()));
  state.setModulesToCompile(getModules());
  return state;
}
