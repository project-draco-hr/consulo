{
  ExitCode exitCode=ExitCode.NOTHING_DONE;
  if (!outputConsumer.getCompiledClasses().isEmpty()) {
    final Map<ModuleBuildTarget,Collection<ClassItem>> remoteClasses=new THashMap<ModuleBuildTarget,Collection<ClassItem>>();
    for (    ModuleBuildTarget target : chunk.getTargets()) {
      for (      CompiledClass compiledClass : outputConsumer.getTargetCompiledClasses(target)) {
        try {
          if (isRemote(compiledClass,finder)) {
            Collection<ClassItem> list=remoteClasses.get(target);
            if (list == null) {
              list=new ArrayList<ClassItem>();
              remoteClasses.put(target,list);
            }
            list.add(new ClassItem(compiledClass));
          }
        }
 catch (        IOException e) {
          context.processMessage(new CompilerMessage(getPresentableName(),e));
        }
      }
    }
    if (!remoteClasses.isEmpty()) {
      exitCode=generateRmiStubs(context,remoteClasses,chunk,outputConsumer);
    }
  }
  return exitCode;
}
