{
  final Set<String> outputPaths=new OrderedSet<String>((TObjectHashingStrategy<String>)TObjectHashingStrategy.CANONICAL);
  for (int idx=0; idx < modules.length; idx++) {
    Module module=modules[idx];
    ModuleRootManager moduleRootManager=ModuleRootManager.getInstance(module);
    String outputPathUrl=moduleRootManager.getCompilerOutputPathUrl();
    if (outputPathUrl != null) {
      outputPaths.add(VirtualFileManager.extractPath(outputPathUrl).replace('/',File.separatorChar));
    }
    String outputPathForTestsUrl=moduleRootManager.getCompilerOutputPathForTestsUrl();
    if (outputPathForTestsUrl != null) {
      outputPaths.add(VirtualFileManager.extractPath(outputPathForTestsUrl).replace('/',File.separatorChar));
    }
  }
  return outputPaths.toArray(new String[outputPaths.size()]);
}
