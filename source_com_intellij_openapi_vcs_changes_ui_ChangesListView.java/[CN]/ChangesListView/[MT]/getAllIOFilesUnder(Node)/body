{
  List<File> files=new ArrayList<File>();
  final Enumeration enumeration=node.breadthFirstEnumeration();
  while (enumeration.hasMoreElements()) {
    Node child=(Node)enumeration.nextElement();
    final Object value=child.getUserObject();
    if (child.isLeaf() && value instanceof FilePath) {
      final FilePath file=(FilePath)value;
      files.add(file.getIOFile());
    }
  }
  return files;
}
