{
  if (key == DataKeys.CHANGES) {
    sink.put(DataKeys.CHANGES,getSelectedChanges());
  }
 else   if (key == DataKeys.CHANGE_LISTS) {
    sink.put(DataKeys.CHANGE_LISTS,getSelectedChangeLists());
  }
 else   if (key == DataKeys.VIRTUAL_FILE_ARRAY) {
    sink.put(DataKeys.VIRTUAL_FILE_ARRAY,getSelectedFiles());
  }
 else   if (key == DataKeys.NAVIGATABLE) {
    final VirtualFile[] files=getSelectedFiles();
    if (files.length == 1 && !files[0].isDirectory()) {
      sink.put(DataKeys.NAVIGATABLE,new OpenFileDescriptor(myProject,files[0],0));
    }
  }
 else   if (key == DataKeys.NAVIGATABLE_ARRAY) {
    sink.put(DataKeys.NAVIGATABLE_ARRAY,ChangesUtil.getNavigatableArray(myProject,getSelectedFiles()));
  }
 else   if (key == DataKeys.DELETE_ELEMENT_PROVIDER) {
    sink.put(DataKeys.DELETE_ELEMENT_PROVIDER,this);
  }
 else   if (key == DataKeys.COPY_PROVIDER) {
    sink.put(DataKeys.COPY_PROVIDER,myCopyProvider);
  }
 else   if (key == UNVERSIONED_FILES_DATA_KEY) {
    sink.put(UNVERSIONED_FILES_DATA_KEY,getSelectedUnversionedFiles());
  }
 else   if (key == MODIFIED_WITHOUT_EDITING_DATA_KEY) {
    sink.put(MODIFIED_WITHOUT_EDITING_DATA_KEY,getSelectedModifiedWithoutEditing());
  }
 else   if (key == MISSING_FILES_DATA_KEY) {
    sink.put(MISSING_FILES_DATA_KEY,getSelectedMissingFiles());
  }
 else   if (key == HELP_ID_DATA_KEY) {
    sink.put(HELP_ID_DATA_KEY,ourHelpId);
  }
 else   if (key == CHANGES_IN_LIST_KEY) {
    final TreePath selectionPath=getSelectionPath();
    if (selectionPath != null && selectionPath.getPathCount() > 1) {
      ChangesBrowserNode firstNode=(ChangesBrowserNode)selectionPath.getPathComponent(1);
      if (firstNode instanceof ChangesBrowserChangeListNode) {
        final List<Change> list=firstNode.getAllChangesUnder();
        sink.put(CHANGES_IN_LIST_KEY,list);
      }
    }
  }
}
