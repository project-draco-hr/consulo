{
  aEvent.hideHighlighter();
  Object attached=aEvent.getAttachedObject();
  if (!(attached instanceof ChangeListDragBean))   return false;
  final ChangeListDragBean dragBean=(ChangeListDragBean)attached;
  if (dragBean.getView() != ChangesListView.this)   return false;
  dragBean.setTargetList(null);
  RelativePoint dropPoint=aEvent.getRelativePoint();
  Point onTable=dropPoint.getPoint(ChangesListView.this);
  final int dropRow=rowAtPoint(onTable);
  final TreePath dropPath=getTree().getPathForRow(dropRow);
  if (dropPath == null)   return false;
  Object object;
  DefaultMutableTreeNode dropNode=(DefaultMutableTreeNode)dropPath.getLastPathComponent();
  do {
    if (dropNode == null || dropNode.isRoot())     return false;
    object=dropNode.getUserObject();
    if (object instanceof ChangeList)     break;
    dropNode=(DefaultMutableTreeNode)dropNode.getParent();
  }
 while (true);
  ChangeList dropList=(ChangeList)object;
  final Change[] changes=dragBean.getChanges();
  for (  Change change : dropList.getChanges()) {
    for (    Change incomingChange : changes) {
      if (change == incomingChange)       return false;
    }
  }
  final Rectangle tableCellRect=getCellRect(getTree().getRowForPath(new TreePath(dropNode.getPath())),0,false);
  aEvent.setHighlighting(new RelativeRectangle(ChangesListView.this,tableCellRect),DnDEvent.DropTargetHighlightingType.RECTANGLE);
  aEvent.setDropPossible(true,null);
  dragBean.setTargetList(dropList);
  return false;
}
