{
  if (myBufferingEnabled) {
    ValueContainerImpl<Value> container=myMap.get(key);
    if (container == null && !myRemovedKeys.contains(key)) {
      final ValueContainer<Value> backendContainer=myBackendStorage.read(key);
      if (backendContainer != null) {
        container=copyOf(backendContainer);
      }
    }
    if (container != null) {
      container.removeValue(inputId,value);
      if (container.size() == 0) {
        remove(key);
      }
    }
  }
 else {
    myBackendStorage.removeValue(key,inputId,value);
  }
}
