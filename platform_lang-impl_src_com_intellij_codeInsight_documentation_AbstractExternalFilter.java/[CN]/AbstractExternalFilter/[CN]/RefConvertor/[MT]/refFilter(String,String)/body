{
  String toMatch=StringUtilRt.toUpperCase(read);
  StringBuffer ready=new StringBuffer();
  int prev=0;
  Matcher matcher=mySelector.matcher(toMatch);
  while (matcher.find()) {
    String before=read.substring(prev,matcher.start(1) - 1);
    final String href=read.substring(matcher.start(1),matcher.end(1));
    prev=matcher.end(1) + 1;
    ready.append(before);
    ready.append("\"");
    ready.append(ApplicationManager.getApplication().runReadAction(new Computable<String>(){
      public String compute(){
        return convertReference(root,href);
      }
    }
));
    ready.append("\"");
  }
  ready.append(read.substring(prev,read.length()));
  return ready.toString();
}
