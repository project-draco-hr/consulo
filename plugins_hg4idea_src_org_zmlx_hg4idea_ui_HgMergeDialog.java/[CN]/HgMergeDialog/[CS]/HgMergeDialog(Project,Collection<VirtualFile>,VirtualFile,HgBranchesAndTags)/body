{
  super(project,false);
  this.project=project;
  branchesForRepos=branchesAndTags.getBranchesForRepos();
  tagsForRepos=branchesAndTags.getTagsForRepos();
  bookmarksForRepos=branchesAndTags.getBookmarksForRepos();
  setRoots(roots,selectedRepo);
  hgRepositorySelectorComponent.setTitle("Select repository to merge");
  hgRepositorySelectorComponent.addActionListener(new ActionListener(){
    public void actionPerformed(    ActionEvent e){
      updateRepository();
    }
  }
);
  ChangeListener changeListener=new ChangeListener(){
    public void stateChanged(    ChangeEvent e){
      updateOptions();
    }
  }
;
  branchOption.addChangeListener(changeListener);
  tagOption.addChangeListener(changeListener);
  bookmarkOption.addChangeListener(changeListener);
  revisionOption.addChangeListener(changeListener);
  otherHeadRadioButton.addChangeListener(changeListener);
  setTitle("Merge");
  init();
}
