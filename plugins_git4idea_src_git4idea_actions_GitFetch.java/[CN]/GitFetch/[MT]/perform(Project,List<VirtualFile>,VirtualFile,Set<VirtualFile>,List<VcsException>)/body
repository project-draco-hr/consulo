{
  final GitFetchDialog d=new GitFetchDialog(project,gitRoots,defaultRoot);
  d.show();
  if (!d.isOK()) {
    return;
  }
  final GitLineHandler h=d.fetchHandler();
  GitTask fetchTask=new GitTask(project,h,GitBundle.message("fetching.title",d.getRemote()));
  fetchTask.setProgressAnalyzer(new GitStandardProgressAnalyzer());
  fetchTask.executeAsync(new GitTaskResultHandlerAdapter(){
    @Override protected void onSuccess(){
      GitUIUtil.notifySuccess(project,"Fetched successfully","Fetched " + d.getRemote());
      GitRepositoryManager.getInstance(project).refreshRepository(d.getGitRoot());
    }
    @Override protected void onFailure(){
      GitUIUtil.notifyGitErrors(project,"Error fetching " + d.getRemote(),"",h.errors());
      GitRepositoryManager.getInstance(project).refreshRepository(d.getGitRoot());
    }
  }
);
}
