{
  if (myChildren == null) {
    myChildren=new AnAction[3];
    myChildren[0]=createAddLibrariesGroup();
    myChildren[1]=createAddJdkGroup();
    myChildren[2]=new AnAction(ProjectBundle.message("add.new.module.text")){
      public void actionPerformed(      AnActionEvent e){
        final Module module=myModulesConfigurator.addModule(myTree);
        if (module != null) {
          final MyNode node=new MyNode(new ModuleConfigurable(myModulesConfigurator,module,TREE_UPDATER));
          addNode(node,myModulesNode);
          selectNodeInTree(node);
        }
      }
      public void update(      AnActionEvent e){
        e.getPresentation().setEnabled(!myProject.isDefault());
      }
    }
;
  }
  if (myFromPopup) {
    final int index=getDefaultIndex();
    if (index == 0 || index == 1) {
      return ((DefaultActionGroup)myChildren[index]).getChildren(e);
    }
  }
  return myChildren;
}
