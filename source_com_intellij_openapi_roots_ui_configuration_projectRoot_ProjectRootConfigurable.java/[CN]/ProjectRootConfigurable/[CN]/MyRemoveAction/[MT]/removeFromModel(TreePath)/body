{
  final MyNode node=(MyNode)selectionPath.getLastPathComponent();
  final NamedConfigurable configurable=node.getConfigurable();
  final Object editableObject=configurable.getEditableObject();
  if (editableObject instanceof ProjectJdk) {
    final ProjectJdk jdk=(ProjectJdk)editableObject;
    myJdksTreeModel.removeJdk(jdk);
    myJdkDependencyCache.remove(jdk);
    myValidityCache.clear();
  }
 else   if (editableObject instanceof Module) {
    final Module module=(Module)editableObject;
    if (!myModulesConfigurator.deleteModule(module)) {
      return false;
    }
    myValidityCache.remove(module);
    invalidateModules(myModulesDependencyCache.get(module));
    myModulesDependencyCache.remove(module);
  }
 else   if (editableObject instanceof Facet) {
    Facet facet=(Facet)editableObject;
    if (!ProjectFileVersion.getInstance(myProject).isFacetDeletionEnabled(facet.getTypeId())) {
      return false;
    }
    getFacetConfigurator().removeFacet(facet);
  }
 else   if (editableObject instanceof Library) {
    final Library library=(Library)editableObject;
    final LibraryTable table=library.getTable();
    if (table != null) {
      final String level=table.getTableLevel();
      myLevel2Providers.get(level).removeLibrary(library);
      invalidateModules(myLibraryDependencyCache.get(library));
      myLibraryDependencyCache.remove(library);
    }
 else {
      Module module=(Module)((MyNode)node.getParent()).getConfigurable().getEditableObject();
      myModule2LibrariesMap.get(module).removeLibrary(library);
      final ModuleEditor moduleEditor=myModulesConfigurator.getModuleEditor(module);
      LOG.assertTrue(moduleEditor != null,"Current module editor was not initialized");
      moduleEditor.updateOrderEntriesInEditors();
    }
  }
  return true;
}
