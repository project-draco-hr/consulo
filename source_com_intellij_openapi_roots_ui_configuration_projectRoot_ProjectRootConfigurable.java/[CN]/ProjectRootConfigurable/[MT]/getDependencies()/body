{
  final Object selectedObject=getSelectedObject();
  if (selectedObject instanceof Module) {
    return getDependencies(new Condition<OrderEntry>(){
      public boolean value(      final OrderEntry orderEntry){
        return orderEntry instanceof ModuleOrderEntry && Comparing.equal(((ModuleOrderEntry)orderEntry).getModule(),selectedObject);
      }
    }
);
  }
 else   if (selectedObject instanceof Library) {
    if (((Library)selectedObject).getTable() == null) {
      final MyNode node=(MyNode)myTree.getSelectionPath().getLastPathComponent();
      final Set<String> set=new HashSet<String>();
      set.add(((MyNode)node.getParent()).getDisplayName());
      return set;
    }
    return getDependencies(new Condition<OrderEntry>(){
      public boolean value(      final OrderEntry orderEntry){
        if (orderEntry instanceof LibraryOrderEntry) {
          final LibraryImpl library=(LibraryImpl)((LibraryOrderEntry)orderEntry).getLibrary();
          return library != null && Comparing.equal(library.getSource(),selectedObject);
        }
        return false;
      }
    }
);
  }
 else   if (selectedObject instanceof ProjectJdk) {
    return getDependencies(new Condition<OrderEntry>(){
      public boolean value(      final OrderEntry orderEntry){
        return orderEntry instanceof JdkOrderEntry && Comparing.equal(((JdkOrderEntry)orderEntry).getJdk(),selectedObject);
      }
    }
);
  }
  return null;
}
