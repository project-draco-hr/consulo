{
  myJdksTreeModel.reset(myProject);
  myModulesConfigurator=new ModulesConfigurator(myProject,this);
  myModulesConfigurator.resetModuleEditors();
  myProjectConfigurable=myModulesConfigurator.getModulesConfigurable();
  final LibraryTablesRegistrar tablesRegistrar=LibraryTablesRegistrar.getInstance();
  myLevel2Providers.clear();
  myLevel2Providers.put(LibraryTablesRegistrar.APPLICATION_LEVEL,new LibrariesModifiableModel(tablesRegistrar.getLibraryTable()));
  myLevel2Providers.put(LibraryTablesRegistrar.PROJECT_LEVEL,new LibrariesModifiableModel(tablesRegistrar.getLibraryTable(myProject)));
  for (  final LibraryTable table : tablesRegistrar.getCustomLibraryTables()) {
    myLevel2Providers.put(table.getTableLevel(),new LibrariesModifiableModel(table));
  }
  for (  Module module : myModulesConfigurator.getModules()) {
    final ModuleEditor moduleEditor=myModulesConfigurator.getModuleEditor(module);
    LOG.assertTrue(moduleEditor != null,"Module editor was not created");
    final ModifiableRootModel modelProxy=moduleEditor.getModifiableRootModelProxy();
    myModule2LibrariesMap.put(module,new LibrariesModifiableModel(modelProxy.getModuleLibraryTable()));
  }
  reloadTree();
  super.reset();
}
