{
  final ModuleEditor moduleEditor=myModulesConfigurator.getModuleEditor(module);
  final ModifiableRootModel modelProxy=moduleEditor.getModifiableRootModelProxy();
  modelProxy.addLibraryEntry(library);
  Set<String> modules=myLibraryDependencyCache.get(library);
  if (modules == null) {
    modules=new HashSet<String>();
    myLibraryDependencyCache.put(library,modules);
  }
  modules.add(module.getName());
  myTree.repaint();
}
