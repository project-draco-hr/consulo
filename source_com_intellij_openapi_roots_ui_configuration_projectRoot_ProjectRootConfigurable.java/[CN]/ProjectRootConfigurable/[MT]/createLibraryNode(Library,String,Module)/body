{
  final LibraryTable table=library.getTable();
  if (table != null) {
    final String level=table.getTableLevel();
    final LibraryConfigurable configurable=new LibraryConfigurable(createModifiableModelProvider(level),library,myProject,TREE_UPDATER);
    final MyNode node=new MyNode(configurable);
    addNode(node,myLevel2Nodes.get(level));
    return node;
  }
  LOG.assertTrue(module != null);
  final LibraryConfigurable configurable=new LibraryConfigurable(getModifiableModelProvider(module),library,presentableName,myProject,TREE_UPDATER);
  final MyNode node=new MyNode(configurable);
  addNode(node,findModuleNode(module));
  return node;
}
