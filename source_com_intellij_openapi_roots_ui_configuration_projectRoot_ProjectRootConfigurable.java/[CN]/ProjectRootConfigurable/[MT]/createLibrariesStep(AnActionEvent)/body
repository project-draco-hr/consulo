{
  DefaultActionGroup group=new DefaultActionGroup();
  group.add(new AnAction(ProjectBundle.message("add.new.global.library.text")){
    public void actionPerformed(    AnActionEvent e){
      final LibraryTableEditor editor=LibraryTableEditor.editLibraryTable(getGlobalLibrariesProvider(),myProject);
      editor.createAddLibraryAction(true,myWholePanel).actionPerformed(null);
      Disposer.dispose(editor);
    }
  }
);
  group.add(new AnAction(ProjectBundle.message("add.new.application.server.library.text")){
    public void actionPerformed(    AnActionEvent e){
      LibraryTableEditor.editLibraryTable(getApplicationServerLibrariesProvider(),myProject).createAddLibraryAction(true,myWholePanel).actionPerformed(null);
    }
  }
);
  group.add(new AnAction(ProjectBundle.message("add.new.project.library.text")){
    public void actionPerformed(    AnActionEvent e){
      LibraryTableEditor.editLibraryTable(getProjectLibrariesProvider(),myProject).createAddLibraryAction(true,myWholePanel).actionPerformed(null);
    }
  }
);
  group.add(new AnAction(ProjectBundle.message("add.new.module.library.text")){
    public void actionPerformed(    AnActionEvent e){
      Module module=(Module)getSelectedObject();
      final LibraryTableModifiableModelProvider modifiableModelProvider=getModifiableModelProvider(module);
      LibraryTableEditor.editLibraryTable(modifiableModelProvider,myProject).createAddLibraryAction(true,myWholePanel).actionPerformed(null);
    }
    public void update(    AnActionEvent e){
      e.getPresentation().setEnabled(getSelectedObject() instanceof Module);
    }
  }
);
  final JBPopupFactory popupFactory=JBPopupFactory.getInstance();
  return popupFactory.createActionsStep(group,e.getDataContext(),false,false,ProjectBundle.message("add.new.library.title"),myTree,true);
}
