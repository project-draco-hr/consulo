{
  final String level=library.getTable().getTableLevel();
  if (level == LibraryTablesRegistrar.APPLICATION_LEVEL) {
    final LibraryConfigurable configurable=new LibraryConfigurable(getGlobalLibrariesProvider(),library,myProject);
    final MyNode node=new MyNode(configurable,true);
    addNode(node,myGlobalLibrariesNode);
    return node;
  }
 else   if (level == LibraryTablesRegistrar.PROJECT_LEVEL) {
    final LibraryConfigurable configurable=new LibraryConfigurable(getProjectLibrariesProvider(),library,myProject);
    final MyNode node=new MyNode(configurable,true);
    addNode(node,myProjectLibrariesNode);
    return node;
  }
 else {
    final LibraryConfigurable configurable=new LibraryConfigurable(getApplicationServerLibrariesProvider(),library,myProject);
    final MyNode node=new MyNode(configurable,true);
    addNode(node,myApplicationServerLibrariesNode);
    return node;
  }
}
