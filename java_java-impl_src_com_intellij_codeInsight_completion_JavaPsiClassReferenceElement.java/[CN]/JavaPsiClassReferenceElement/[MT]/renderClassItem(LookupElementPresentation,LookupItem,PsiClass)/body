{
  presentation.setIcon(DefaultLookupItemRenderer.getRawIcon(item,presentation.isReal()));
  final boolean bold=item.getAttribute(LookupItem.HIGHLIGHTED_ATTR) != null;
  boolean strikeout=JavaElementLookupRenderer.isToStrikeout(item);
  final boolean forceLookupString=item.getAttribute(LookupItem.FORCE_LOOKUP_STRING) != null;
  presentation.setItemText(forceLookupString ? item.getLookupString() : getName(psiClass,item));
  presentation.setStrikeout(strikeout);
  presentation.setItemTextBold(bold);
  String tailText=StringUtil.notNullize((String)item.getAttribute(LookupItem.TAIL_TEXT_ATTR));
  PsiSubstitutor substitutor=(PsiSubstitutor)item.getAttribute(LookupItem.SUBSTITUTOR);
  if (item.getAttribute(LookupItem.INDICATE_ANONYMOUS) != null && (psiClass.isInterface() || psiClass.hasModifierProperty(PsiModifier.ABSTRACT))) {
    tailText="{...}" + tailText;
  }
  if (substitutor == null && !forceLookupString && psiClass.getTypeParameters().length > 0) {
    tailText="<" + StringUtil.join(psiClass.getTypeParameters(),new Function<PsiTypeParameter,String>(){
      public String fun(      PsiTypeParameter psiTypeParameter){
        return psiTypeParameter.getName();
      }
    }
,"," + (showSpaceAfterComma(psiClass) ? " " : "")) + ">"+ tailText;
  }
  presentation.setTailText(tailText,true);
}
