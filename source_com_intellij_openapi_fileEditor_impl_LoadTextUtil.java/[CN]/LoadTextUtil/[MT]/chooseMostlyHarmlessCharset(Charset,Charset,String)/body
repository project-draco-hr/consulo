{
  if (existing == null)   return specified;
  if (specified == null)   return existing;
  if (specified.equals(existing))   return specified;
  boolean isExistingLossy=false;
  boolean isSpecifiedLossy=false;
  for (int i=0; i < text.length(); i++) {
    char c=text.charAt(i);
    String str=Character.toString(c);
    isExistingLossy|=!isSupported(existing,str);
    isSpecifiedLossy|=!isSupported(specified,str);
  }
  if (!isSpecifiedLossy)   return specified;
  if (!isExistingLossy)   return existing;
  return specified;
}
