{
  myComponent=component;
  myUiInspector=uiInspector;
  getRootPane().setBorder(BorderFactory.createEmptyBorder(5,5,5,5));
  setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);
  setLayout(new BorderLayout());
  final String simpleName=component.getClass().getSimpleName();
  setTitle(simpleName.length() == 0 ? component.getClass().getName() : simpleName);
  JToolBar bar=new JToolBar(JToolBar.HORIZONTAL);
  bar.setFloatable(false);
  bar.add(new AbstractAction("Show parent",IconLoader.getIcon("/nodes/parentsIntroduction.png")){
    public void actionPerformed(    ActionEvent e){
      Container parent=component.getParent();
      if (parent instanceof JComponent) {
        myUiInspector.showInspector((JComponent)parent);
      }
    }
    @Override public boolean isEnabled(){
      return myComponent.getParent() != null;
    }
  }
);
  bar.add(new AbstractAction("Highlight",IconLoader.getIcon("/toolbar/unknown.png")){
    public void actionPerformed(    ActionEvent e){
      myHighlighted=!myHighlighted;
      highlight(myComponent,!myHighlighted);
    }
    @Override public boolean isEnabled(){
      return myComponent.isVisible();
    }
  }
);
  bar.addSeparator();
  bar.add(new AbstractAction("Refresh",IconLoader.getIcon("/vcs/refresh.png")){
    public void actionPerformed(    ActionEvent e){
      myInspectorTable.refresh();
    }
    @Override public boolean isEnabled(){
      return myComponent.isVisible();
    }
  }
);
  add(bar,BorderLayout.NORTH);
  add(new JLabel(component.getClass().getName()),BorderLayout.SOUTH);
  myInspectorTable=new InspectorTable(component);
  add(myInspectorTable,BorderLayout.CENTER);
  addWindowListener(new WindowAdapter(){
    @Override public void windowClosing(    WindowEvent e){
      myUiInspector.closed(InspectorWindow.this);
      close();
    }
  }
);
  getRootPane().getActionMap().put("CLOSE",new AbstractAction(){
    public void actionPerformed(    ActionEvent e){
      myUiInspector.closed(InspectorWindow.this);
      close();
      InspectorWindow.this.setVisible(false);
      InspectorWindow.this.dispose();
    }
  }
);
  getRootPane().getInputMap(JComponent.WHEN_IN_FOCUSED_WINDOW).put(KeyStroke.getKeyStroke(KeyEvent.VK_ESCAPE,0),"CLOSE");
}
