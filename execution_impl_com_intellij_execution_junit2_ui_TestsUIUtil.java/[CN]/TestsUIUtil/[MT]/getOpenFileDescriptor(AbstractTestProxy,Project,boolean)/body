{
  if (proxy != null) {
    final Location location=proxy.getLocation(project);
    if (openFailureLine) {
      return proxy.getDescriptor(location);
    }
    final OpenFileDescriptor openFileDescriptor=location == null ? null : location.getOpenFileDescriptor();
    if (openFileDescriptor != null && openFileDescriptor.getFile().isValid()) {
      return openFileDescriptor;
    }
  }
  return null;
}
