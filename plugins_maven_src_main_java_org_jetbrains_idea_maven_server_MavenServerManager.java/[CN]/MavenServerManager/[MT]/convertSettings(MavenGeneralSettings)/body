{
  MavenServerSettings result=new MavenServerSettings();
  result.setLoggingLevel(settings.getOutputLevel().getLevel());
  result.setOffline(settings.isWorkOffline());
  result.setMavenHome(settings.getEffectiveMavenHome());
  result.setUserSettingsFile(settings.getEffectiveUserSettingsIoFile());
  result.setGlobalSettingsFile(settings.getEffectiveGlobalSettingsIoFile());
  result.setLocalRepository(settings.getEffectiveLocalRepository());
  result.setPluginUpdatePolicy(settings.getPluginUpdatePolicy().getServerPolicy());
  result.setSnapshotUpdatePolicy(settings.isAlwaysUpdateSnapshots() ? MavenServerSettings.UpdatePolicy.ALWAYS_UPDATE : MavenServerSettings.UpdatePolicy.DO_NOT_UPDATE);
  return result;
}
