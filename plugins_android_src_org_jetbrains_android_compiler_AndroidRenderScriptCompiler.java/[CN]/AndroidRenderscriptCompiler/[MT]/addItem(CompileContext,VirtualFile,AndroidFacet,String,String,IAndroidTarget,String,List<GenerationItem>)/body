{
  final Module module=facet.getModule();
  final String sourceRootPath=facet.getAidlGenSourceRootPath();
  if (sourceRootPath == null) {
    context.addMessage(CompilerMessageCategory.ERROR,AndroidBundle.message("android.compilation.error.apt.gen.not.specified",module.getName()),null,-1,-1);
    return;
  }
  final ProjectFileIndex fileIndex=ProjectRootManager.getInstance(context.getProject()).getFileIndex();
  final String rawDirPath=resourceDirPath + '/' + AndroidConstants.FD_RES_RAW;
  AndroidCompileUtil.createSourceRootIfNotExist(sourceRootPath,module);
  items.add(new MyGenerationItem(module,sourceFile,sourceRootPath,packageName,rawDirPath,fileIndex.isInTestSourceContent(sourceFile),sdkLocation,target));
}
