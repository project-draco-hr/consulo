{
  final PsiClass containingClass=cls.getContainingClass();
  if (containingClass != null) {
    final PsiClass newParent=getOriginalElement(containingClass);
    if (newParent != containingClass) {
      return findClassByName(cls,newParent.getInnerClasses());
    }
  }
  final PsiFile containingFile=cls.getContainingFile();
  if (containingFile instanceof PsiClassOwner) {
    return findClassByName(cls,((PsiClassOwner)containingFile.getOriginalFile()).getClasses());
  }
  return cls;
}
