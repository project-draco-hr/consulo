{
  final Module dep=createModule("dep");
  final VirtualFile output=setModuleOutput(dep,false);
  final VirtualFile testOutput=setModuleOutput(dep,true);
  addLibraryDependency(dep,createJDomLibrary());
  addModuleDependency(myModule,dep);
  doTest(ProjectClasspathTraversing.FULL_CLASSPATH,getRtJar());
  doTest(ProjectClasspathTraversing.FULL_CLASS_RECURSIVE_WO_JDK,testOutput,output,getJDomJar());
  doTest(ProjectClasspathTraversing.FULL_CLASSPATH_RECURSIVE,getRtJar(),testOutput,output,getJDomJar());
  doTest(ProjectClasspathTraversing.FULL_CLASSPATH_WITHOUT_JDK_AND_TESTS,output,getJDomJar());
  doTest(ProjectClasspathTraversing.FULL_CLASSPATH_WITHOUT_TESTS,getRtJar(),output,getJDomJar());
}
