{
  final AntFile antFile=getElement().getAntFile();
  final String text=getCanonicalText();
  final AntProperty resolved=antFile != null ? antFile.getProperty(text) : null;
  if (resolved != null) {
    final String propName=cutPrefix(text,resolved.getPrefix());
    final PropertiesFile propFile=resolved.getPropertiesFile();
    if (propFile != null) {
      return propFile.findPropertyByKey(propName);
    }
    return resolved.getFormatElement(propName);
  }
  return null;
}
