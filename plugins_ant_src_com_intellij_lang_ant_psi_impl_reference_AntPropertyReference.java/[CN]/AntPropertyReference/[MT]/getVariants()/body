{
  final Set<String> variants=StringSetSpinAllocator.alloc();
  try {
    final AntProject project=getElement().getAntProject();
    for (    final AntProperty property : project.getProperties()) {
      final String[] names=property.getNames();
      if (names != null) {
        for (        final String name : names) {
          variants.add(name);
        }
      }
    }
    getVariants(project,variants);
    for (    final AntFile imported : project.getImportedFiles()) {
      getVariants(imported.getAntProject(),variants);
    }
    return variants.toArray(new String[variants.size()]);
  }
  finally {
    StringSetSpinAllocator.dispose(variants);
  }
}
