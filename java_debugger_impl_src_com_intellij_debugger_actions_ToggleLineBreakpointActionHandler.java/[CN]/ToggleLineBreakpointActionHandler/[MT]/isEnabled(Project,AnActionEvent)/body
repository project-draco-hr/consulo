{
  PlaceInDocument place=getPlace(project,event);
  if (place != null) {
    final Document document=place.getDocument();
    final int offset=place.getOffset();
    int line=document.getLineNumber(offset);
    VirtualFile file=FileDocumentManager.getInstance().getFile(document);
    PsiFile psiFile=PsiManager.getInstance(project).findFile(file);
    if (DebuggerUtils.supportsJVMDebugging(file.getFileType()) || DebuggerUtils.supportsJVMDebugging(psiFile)) {
      final BreakpointManager breakpointManager=DebuggerManagerEx.getInstanceEx(project).getBreakpointManager();
      return breakpointManager.findBreakpoint(document,offset,LineBreakpoint.CATEGORY) != null || LineBreakpoint.canAddLineBreakpoint(project,document,line);
    }
  }
  return false;
}
