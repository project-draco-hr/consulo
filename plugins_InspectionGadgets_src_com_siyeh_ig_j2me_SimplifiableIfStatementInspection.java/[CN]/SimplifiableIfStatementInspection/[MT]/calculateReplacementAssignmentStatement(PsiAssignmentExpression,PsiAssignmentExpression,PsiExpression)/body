{
  final PsiExpression lhs=thenAssignment.getLExpression();
  final PsiExpression thenRhs=thenAssignment.getRExpression();
  if (thenRhs == null) {
    return "";
  }
  final PsiExpression elseRhs=elseAssignment.getRExpression();
  if (elseRhs == null) {
    return "";
  }
  final PsiJavaToken token=elseAssignment.getOperationSign();
  if (BoolUtils.isTrue(thenRhs)) {
    return lhs.getText() + ' ' + token.getText()+ ' '+ buildExpressionText(condition,ParenthesesUtils.OR_PRECEDENCE)+ " || "+ buildExpressionText(elseRhs,ParenthesesUtils.OR_PRECEDENCE)+ ';';
  }
 else   if (BoolUtils.isFalse(thenRhs)) {
    return lhs.getText() + ' ' + token.getText()+ ' '+ buildNegatedExpressionText(condition,ParenthesesUtils.AND_PRECEDENCE)+ " && "+ buildExpressionText(elseRhs,ParenthesesUtils.AND_PRECEDENCE)+ ';';
  }
  if (BoolUtils.isTrue(elseRhs)) {
    return lhs.getText() + ' ' + token.getText()+ ' '+ buildNegatedExpressionText(condition,ParenthesesUtils.OR_PRECEDENCE)+ " || "+ buildExpressionText(thenRhs,ParenthesesUtils.OR_PRECEDENCE)+ ';';
  }
 else {
    return lhs.getText() + ' ' + token.getText()+ ' '+ buildExpressionText(condition,ParenthesesUtils.AND_PRECEDENCE)+ " && "+ buildExpressionText(thenRhs,ParenthesesUtils.AND_PRECEDENCE)+ ';';
  }
}
