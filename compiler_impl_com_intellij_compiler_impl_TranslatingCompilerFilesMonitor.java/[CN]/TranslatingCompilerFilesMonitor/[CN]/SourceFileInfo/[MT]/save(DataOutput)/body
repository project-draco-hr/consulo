{
  final Collection<String> projects=getProjectIds();
  out.writeInt(projects.size());
  for (  String projectId : projects) {
    CompilerIOUtil.writeString(projectId,out);
    out.writeLong(getTimestamp(projectId));
    final Object value=myProjectToOutputPathMap != null ? myProjectToOutputPathMap.get(projectId) : null;
    if (value instanceof String) {
      out.writeInt(1);
      CompilerIOUtil.writeString(((String)value),out);
    }
 else     if (value instanceof Set) {
      final Set<String> set=(Set<String>)value;
      out.writeInt(set.size());
      for (      String path : set) {
        CompilerIOUtil.writeString(path,out);
      }
    }
 else {
      out.writeInt(0);
    }
  }
}
