{
  remoteRepoDir.setUp();
  File remoteRepo=new File(remoteRepoDir.getTempDirPath(),dirName);
  assertTrue(remoteRepo.mkdir());
  verify(runHg(remoteRepo,"init"));
  File aFile=fillFile(remoteRepo,new String[]{"com","a.txt"},"file contents");
  verify(runHg(remoteRepo,"add",aFile.getPath()));
  verify(runHg(remoteRepo,"status"),HgTestOutputParser.added("com","a.txt"));
  verify(runHg(remoteRepo,"commit","-m","initial contents"));
  return remoteRepo;
}
