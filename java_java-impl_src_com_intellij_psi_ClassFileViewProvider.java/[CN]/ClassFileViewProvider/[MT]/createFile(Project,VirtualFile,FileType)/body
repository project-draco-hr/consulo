{
  final FileIndexFacade fileIndex=ServiceManager.getService(project,FileIndexFacade.class);
  if (fileIndex.isInLibraryClasses(vFile) || !fileIndex.isInSource(vFile)) {
    String name=vFile.getName();
    int dotIndex=name.lastIndexOf('.');
    if (dotIndex < 0)     dotIndex=name.length();
    int index=name.lastIndexOf('$',dotIndex);
    if (index >= 0)     return null;
    return new ClsFileImpl((PsiManagerImpl)PsiManager.getInstance(project),this);
  }
  return null;
}
