{
  FileContent content;
synchronized (this) {
    content=new FileContent(file);
    try {
      if (content.getPhysicalLength() < SIZE_THRESHOLD) {
        while (totalSize > SIZE_THRESHOLD) {
          wait();
        }
        totalSize+=content.getPhysicalBytes().length;
      }
    }
 catch (    IOException e) {
      content.setEmptyContent();
    }
  }
  put(content);
}
