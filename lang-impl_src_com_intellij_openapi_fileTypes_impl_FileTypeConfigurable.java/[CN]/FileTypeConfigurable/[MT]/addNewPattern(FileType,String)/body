{
  FileNameMatcher matcher=FileTypeManager.parseFromString(pattern);
  FileType fileTypeByExtension=myTempPatternsTable.findAssociatedFileType(matcher);
  if (fileTypeByExtension != null && fileTypeByExtension != FileTypes.UNKNOWN) {
    return fileTypeByExtension;
  }
  FileType registeredFileType=FileTypeManager.getInstance().getFileTypeByExtension(pattern);
  if (registeredFileType != FileTypes.UNKNOWN && registeredFileType.isReadOnly()) {
    return registeredFileType;
  }
  myTempPatternsTable.addAssociation(matcher,type);
  myPatterns.addPatternAndSelect(pattern);
  myPatterns.myPatternsList.requestFocus();
  return null;
}
