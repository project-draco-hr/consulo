{
  if (path.isDirectory()) {
    stClient.doStatus(path.getIOFile(),recursively,false,false,false,new ISVNStatusHandler(){
      public void handleStatus(      SVNStatus status) throws SVNException {
        if (status.getKind() == SVNNodeKind.FILE) {
          processStatus(PeerFactory.getInstance().getVcsContextFactory().createFilePathOn(status.getFile()),status,builder);
        }
      }
    }
);
  }
 else {
    processFile(path,stClient,builder);
  }
}
