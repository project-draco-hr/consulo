{
  if (status == null) {
    return FileStatus.UNKNOWN;
  }
  if (status.getContentsStatus() == SVNStatusType.STATUS_UNVERSIONED) {
    return FileStatus.UNKNOWN;
  }
 else   if (status.getContentsStatus() == SVNStatusType.STATUS_MISSING) {
    return FileStatus.DELETED_FROM_FS;
  }
 else   if (status.getContentsStatus() == SVNStatusType.STATUS_EXTERNAL) {
    return SvnFileStatus.EXTERNAL;
  }
 else   if (status.getContentsStatus() == SVNStatusType.STATUS_OBSTRUCTED) {
    return SvnFileStatus.OBSTRUCTED;
  }
 else   if (status.getContentsStatus() == SVNStatusType.STATUS_IGNORED) {
    return FileStatus.IGNORED;
  }
 else   if (status.getContentsStatus() == SVNStatusType.STATUS_ADDED) {
    return FileStatus.ADDED;
  }
 else   if (status.getContentsStatus() == SVNStatusType.STATUS_DELETED) {
    return FileStatus.DELETED;
  }
 else   if (status.getContentsStatus() == SVNStatusType.STATUS_REPLACED) {
    return SvnFileStatus.REPLACED;
  }
 else   if (status.getContentsStatus() == SVNStatusType.STATUS_CONFLICTED || status.getPropertiesStatus() == SVNStatusType.STATUS_CONFLICTED) {
    return FileStatus.MERGED_WITH_CONFLICTS;
  }
 else   if (status.getContentsStatus() == SVNStatusType.STATUS_MODIFIED || status.getPropertiesStatus() == SVNStatusType.STATUS_MODIFIED) {
    return FileStatus.MODIFIED;
  }
 else   if (status.isSwitched()) {
    return SvnFileStatus.SWITCHED;
  }
 else   if (status.isCopied()) {
    return FileStatus.ADDED;
  }
  if (file.isDirectory() && file.getParentFile() != null) {
    String childURL=null;
    String parentURL=null;
    SVNWCAccess wcAccess=SVNWCAccess.newInstance(null);
    try {
      wcAccess.open(file,false,0);
      SVNAdminArea parentDir=wcAccess.open(file.getParentFile(),false,0);
      if (wcAccess.getEntry(file,false) != null) {
        childURL=wcAccess.getEntry(file,false).getURL();
      }
      if (parentDir != null) {
        parentURL=parentDir.getEntry("",false).getURL();
      }
    }
  finally {
      try {
        wcAccess.close();
      }
 catch (      SVNException e) {
      }
    }
    try {
      if (parentURL != null && !SVNWCUtil.isWorkingCopyRoot(file)) {
        parentURL=SVNPathUtil.append(parentURL,SVNEncodingUtil.uriEncode(file.getName()));
        if (childURL != null && !parentURL.equals(childURL)) {
          return SvnFileStatus.SWITCHED;
        }
      }
    }
 catch (    SVNException e) {
    }
  }
  return FileStatus.NOT_CHANGED;
}
