{
  if (endElement == null) {
    return null;
  }
  final LinkedList<PsiElement> result=new LinkedList<PsiElement>();
  PsiElement element=endElement;
  while (element != null) {
    if (myInfoProvider.acceptElement(element)) {
      result.addFirst(element);
    }
    element=element.getParent();
  }
  return result;
}
