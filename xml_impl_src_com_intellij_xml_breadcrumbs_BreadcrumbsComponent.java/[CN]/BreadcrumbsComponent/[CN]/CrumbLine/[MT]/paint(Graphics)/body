{
  final Graphics2D g2=((Graphics2D)g);
  final Dimension d=getSize();
  final FontMetrics fm=g2.getFontMetrics();
  boolean veryDirty=(myCrumbs == null);
  final List<Crumb> crumbList=veryDirty ? createCrumbList(fm,myElementList,d.width) : myCrumbs;
  if (crumbList != null) {
    if (myDirty) {
      myBuffer=createBuffer(this,crumbList,d.height);
      myDirty=false;
    }
    BufferedImage image2draw=myBuffer;
    if (myBuffer.getWidth() > d.width) {
      if (veryDirty) {
        myBufferOffset=myBuffer.getWidth() - d.width;
      }
      int subSize=d.width;
      int offset=myBufferOffset;
      if (myBuffer.getWidth() < d.width) {
        subSize=myBuffer.getWidth();
      }
 else       if (myBufferOffset < 0) {
        subSize=d.width + myBufferOffset;
        offset=0;
      }
      image2draw=myBuffer.getSubimage(offset,0,subSize,d.height);
    }
    g2.drawImage(image2draw,myBufferOffset < 0 ? Math.abs(myBufferOffset) : 0,0,this);
    myCrumbs=crumbList;
  }
}
