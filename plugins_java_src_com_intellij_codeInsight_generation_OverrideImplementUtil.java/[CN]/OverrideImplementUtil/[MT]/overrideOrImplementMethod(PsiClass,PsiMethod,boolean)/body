{
  final PsiClass containingClass=method.getContainingClass();
  LOG.assertTrue(containingClass != null);
  PsiSubstitutor substitutor=aClass.isInheritor(containingClass,true) ? TypeConversionUtil.getSuperClassSubstitutor(containingClass,aClass,PsiSubstitutor.EMPTY) : PsiSubstitutor.EMPTY;
  return overrideOrImplementMethod(aClass,method,substitutor,toCopyJavaDoc,CodeStyleSettingsManager.getSettings(aClass.getProject()).INSERT_OVERRIDE_ANNOTATION);
}
