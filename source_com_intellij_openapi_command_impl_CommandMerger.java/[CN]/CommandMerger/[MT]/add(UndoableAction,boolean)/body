{
  if (!isUndoTransparent)   myOnlyUndoTransparents=false;
  if (isUndoTransparent)   myHasUndoTransparents=true;
  myCurrentActions.add(action);
  myAffectedDocuments.addAll(Arrays.asList(action.getAffectedDocuments()));
  myIsComplex|=action.isComplex() || affectsMultipleDocs();
}
