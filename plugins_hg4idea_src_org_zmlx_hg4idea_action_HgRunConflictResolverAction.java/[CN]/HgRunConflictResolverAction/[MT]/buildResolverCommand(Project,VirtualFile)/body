{
  return new HgGlobalCommand(){
    public VirtualFile getRepo(){
      return repository;
    }
    public void execute(){
      new Task.Modal(project,"Mercurial resolves conflicts",false){
        @Override public void run(        @NotNull ProgressIndicator indicator){
          new HgConflictResolver(project).resolve(repository);
        }
      }
.queue();
    }
  }
;
}
