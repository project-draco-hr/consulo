{
  setText(tree.convertValueToText(value,selected,expanded,leaf,row,hasFocus));
  setFont(UIUtil.getTreeFont());
  setIcon(null);
  if (tree.getUI() instanceof MacTreeUI && ((MacTreeUI)tree.getUI()).isWideSelection()) {
    setOpaque(false);
    myIsSelected=false;
    myHasFocus=false;
    setDoNotHighlight(selected && hasFocus);
    setForeground(selected && hasFocus ? UIUtil.getTreeSelectionForeground() : UIUtil.getTreeForeground());
  }
 else {
    setOpaque(true);
    myIsSelected=selected;
    myHasFocus=hasFocus;
    setDoNotHighlight(false);
  }
  myHasFocus=hasFocus;
  return this;
}
