{
  ApplicationManager.getApplication().invokeLater(new Runnable(){
    @Override public void run(){
      if ((project == null) || project.isDisposed()) {
        emptyTextAndTooltip();
        return;
      }
      emptyTextAndTooltip();
      if (null != myCurrentBranchStatus.getStatusText()) {
        myText=myCurrentBranchStatus.getStatusText();
        myTooltip=myCurrentBranchStatus.getToolTipText();
      }
      if (myIncomingChangesStatus.getNumChanges() > 0) {
        myText+="; " + myIncomingChangesStatus.getStatusName() + ": "+ myIncomingChangesStatus.getNumChanges();
        myTooltip="\n" + myIncomingChangesStatus.getToolTip();
      }
      if (myOutgoingChangesStatus.getNumChanges() > 0) {
        myText+="; " + myOutgoingChangesStatus.getStatusName() + ": "+ myOutgoingChangesStatus.getNumChanges();
        myTooltip+="\n" + myOutgoingChangesStatus.getToolTip();
      }
      int maxLength=MAX_STRING.length();
      myText=StringUtil.shortenTextWithEllipsis(myText,maxLength,5);
      myStatusBar.updateWidget(ID());
    }
  }
);
}
