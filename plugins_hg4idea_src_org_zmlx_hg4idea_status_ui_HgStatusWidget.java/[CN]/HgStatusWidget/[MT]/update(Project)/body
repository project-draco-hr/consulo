{
  ApplicationManager.getApplication().invokeLater(new Runnable(){
    @Override public void run(){
      if ((project == null) || project.isDisposed()) {
        emptyTextAndTooltip();
        return;
      }
      emptyTextAndTooltip();
      if (null != myCurrentBranchStatus.getStatusText()) {
        myText=myCurrentBranchStatus.getStatusText();
        myTooltip=myCurrentBranchStatus.getToolTipText();
      }
      int maxLength=MAX_STRING.length();
      myText=StringUtil.shortenTextWithEllipsis(myText,maxLength,5);
      if (!isDisposed() && myStatusBar != null) {
        myStatusBar.updateWidget(ID());
      }
    }
  }
);
}
