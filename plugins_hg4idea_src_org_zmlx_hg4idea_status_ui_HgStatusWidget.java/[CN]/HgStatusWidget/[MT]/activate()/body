{
  Project project=getProject();
  if (null == project) {
    return;
  }
  busConnection=project.getMessageBus().connect();
  busConnection.subscribe(Topics.STATUS_TOPIC,this);
  branchStatusUpdater=new HgCurrentBranchStatusUpdater(vcs,currentBranchStatus);
  branchStatusUpdater.activate();
  remoteUpdater=new HgRemoteStatusUpdater(vcs,incomingChangesStatus,outgoingChangesStatus,projectSettings);
  remoteUpdater.activate();
  StatusBar statusBar=WindowManager.getInstance().getStatusBar(project);
  if (null != statusBar) {
    statusBar.addWidget(this,project);
  }
}
