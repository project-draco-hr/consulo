{
  Project project=getProject();
  if (null == project) {
    return;
  }
  myBusConnection=project.getMessageBus().connect();
  myBusConnection.subscribe(Topics.STATUS_TOPIC,this);
  myCurrentBranchStatusUpdater=new HgCurrentBranchStatusUpdater(myVcs,myCurrentBranchStatus);
  myCurrentBranchStatusUpdater.activate();
  myRemoteStatusUpdater=new HgRemoteStatusUpdater(myVcs,myIncomingChangesStatus,myOutgoingChangesStatus,myProjectSettings);
  myRemoteStatusUpdater.activate();
  StatusBar statusBar=WindowManager.getInstance().getStatusBar(project);
  if (null != statusBar) {
    statusBar.addWidget(this,project);
  }
}
