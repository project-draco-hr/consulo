{
  final Runnable command=new Runnable(){
    @Override public void run(){
      ApplicationManager.getApplication().runWriteAction(new Runnable(){
        public void run(){
          final PsiModificationTracker tracker=PsiManager.getInstance(myView.getProject()).getModificationTracker();
          final long startCount=tracker.getModificationCount();
          CommandProcessor.getInstance().markCurrentCommandAsGlobal(myView.getProject());
          fix.applyFix(myView.getProject(),descriptor);
          if (startCount != tracker.getModificationCount()) {
            final DescriptorProviderInspection tool=((DescriptorProviderInspection)myView.getTree().getSelectedTool());
            if (tool != null) {
              tool.ignoreProblem(element,descriptor,idx);
            }
            myView.updateView(false);
          }
        }
      }
);
    }
  }
;
  CommandProcessor.getInstance().executeCommand(myView.getProject(),command,fix.getName(),null);
}
