{
  if (myLineIndex == myLines.length) {
    return null;
  }
  String curLine=myLines[myLineIndex];
  if (curLine.startsWith("--- ")) {
    return null;
  }
  if (!curLine.startsWith("@@ ")) {
    throw new PatchSyntaxException(myLineIndex,"Hunk start expected");
  }
  Matcher m=myHunkStartPattern.matcher(curLine);
  if (!m.matches()) {
    throw new PatchSyntaxException(myLineIndex,"Unknown hunk start syntax");
  }
  int startLineBefore=Integer.parseInt(m.group(1));
  int endLineBefore=Integer.parseInt(m.group(2));
  int startLineAfter=Integer.parseInt(m.group(3));
  int endLineAfter=Integer.parseInt(m.group(4));
  PatchHunk hunk=new PatchHunk(startLineBefore,endLineBefore,startLineAfter,endLineAfter);
  myLineIndex++;
  while (myLineIndex < myLines.length) {
    curLine=myLines[myLineIndex];
    if (curLine.startsWith("--- ") || curLine.startsWith("@@ ")) {
      break;
    }
    hunk.addLine(parsePatchLine(curLine));
    myLineIndex++;
  }
  return hunk;
}
