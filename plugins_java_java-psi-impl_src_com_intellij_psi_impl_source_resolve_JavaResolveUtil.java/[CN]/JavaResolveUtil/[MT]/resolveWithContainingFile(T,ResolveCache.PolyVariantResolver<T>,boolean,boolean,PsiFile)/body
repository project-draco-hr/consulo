{
  boolean valid=containingFile.isValid();
  if (!valid) {
    return JavaResolveResult.EMPTY_ARRAY;
  }
  Project project=containingFile.getProject();
  ResolveResult[] results=ResolveCache.getInstance(project).resolveWithCaching(ref,resolver,needToPreventRecursion,incompleteCode,containingFile);
  return results.length == 0 ? JavaResolveResult.EMPTY_ARRAY : (JavaResolveResult[])results;
}
