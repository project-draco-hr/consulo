{
  PsiElement rBrace=getRBrace();
  if (anchor == null && rBrace == null) {
    throw new IncorrectOperationException();
  }
  if (anchor != null && !this.equals(anchor.getParent())) {
    throw new IncorrectOperationException();
  }
  ASTNode elemNode=declaration.getNode();
  final ASTNode anchorNode=anchor != null ? anchor.getNode() : rBrace.getNode();
  getNode().addChild(elemNode,anchorNode);
  getNode().addLeaf(GroovyTokenTypes.mNLS,"\n",anchorNode);
  return (GrVariableDeclaration)elemNode.getPsi();
}
