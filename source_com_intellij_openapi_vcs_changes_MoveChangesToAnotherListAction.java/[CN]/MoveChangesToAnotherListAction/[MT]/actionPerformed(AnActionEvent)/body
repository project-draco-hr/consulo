{
  Project project=(Project)e.getDataContext().getData(DataConstants.PROJECT);
  Change[] changes=(Change[])e.getDataContext().getData(DataConstants.CHANGES);
  List<VirtualFile> unversionedFiles=(List<VirtualFile>)e.getDataContext().getData(ChangesListView.UNVERSIONED_FILES_KEY);
  if (project != null && changes == null && unversionedFiles == null) {
    unversionedFiles=new ArrayList<VirtualFile>();
    changes=getChangedFiles(project,changes,unversionedFiles,e);
  }
  if (changes == null)   return;
  askAndMove(project,changes,unversionedFiles);
}
