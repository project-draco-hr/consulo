{
  final PsiElement parent=PsiTreeUtil.skipParentsOfType(expression,PsiParenthesizedExpression.class);
  if (!(parent instanceof PsiAssignmentExpression)) {
    return true;
  }
  final PsiAssignmentExpression assignmentExpression=(PsiAssignmentExpression)parent;
  final PsiExpression lhs=assignmentExpression.getLExpression();
  if (!PsiTreeUtil.isAncestor(lhs,expression,false)) {
    return true;
  }
  final IElementType tokenType=assignmentExpression.getOperationTokenType();
  return tokenType != JavaTokenType.EQ;
}
