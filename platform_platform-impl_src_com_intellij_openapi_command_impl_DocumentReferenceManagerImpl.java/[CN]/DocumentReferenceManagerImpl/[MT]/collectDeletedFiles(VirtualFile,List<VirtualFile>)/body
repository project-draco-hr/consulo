{
  if (!(f instanceof NewVirtualFile))   return files;
  if (!f.isDirectory()) {
    files.add(f);
  }
 else {
    for (    VirtualFile each : ((NewVirtualFile)f).getInDbChildren()) {
      if (each == NullVirtualFile.INSTANCE)       continue;
      collectDeletedFiles(each,files);
    }
  }
  return files;
}
