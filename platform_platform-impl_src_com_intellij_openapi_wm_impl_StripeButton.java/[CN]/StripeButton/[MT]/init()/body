{
  setFocusable(false);
  setBackground(ourBackgroundColor);
  final Border border=BorderFactory.createEmptyBorder(5,5,0,5);
  setBorder(border);
  updateText();
  updateState();
  apply(myDecorator.getWindowInfo());
  myDecorator.getToolWindow().addPropertyChangeListener(myToolWindowHandler);
  addActionListener(this);
  addMouseListener(new MyPopupHandler());
  setRolloverEnabled(true);
  setOpaque(false);
  enableEvents(AWTEvent.MOUSE_EVENT_MASK);
  addMouseMotionListener(new MouseMotionAdapter(){
    @Override public void mouseDragged(    final MouseEvent e){
      processDrag(e);
    }
  }
);
  KeymapManager.getInstance().addKeymapManagerListener(myKeymapListener);
}
