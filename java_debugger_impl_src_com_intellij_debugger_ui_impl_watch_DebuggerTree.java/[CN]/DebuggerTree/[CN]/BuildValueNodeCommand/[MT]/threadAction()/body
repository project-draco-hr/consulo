{
  final DebuggerTreeNodeImpl node=getNode();
  ValueDescriptorImpl descriptor=(ValueDescriptorImpl)node.getDescriptor();
  try {
    final NodeRenderer renderer=descriptor.getRenderer(getSuspendContext().getDebugProcess());
    renderer.buildChildren(descriptor.getValue(),this,getDebuggerContext().createEvaluationContext());
  }
 catch (  ObjectCollectedException e) {
    final String message=e.getMessage();
    DebuggerInvocationUtil.swingInvokeLater(getProject(),new Runnable(){
      @Override public void run(){
        node.removeAllChildren();
        node.add(getNodeFactory().createMessageNode(new MessageDescriptor(DebuggerBundle.message("error.cannot.build.node.children.object.collected",message))));
        node.childrenChanged(false);
      }
    }
);
  }
}
