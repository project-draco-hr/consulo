{
  if (cm == cachedModel) {
    if (cached != null) {
      Raster ras=cached.get();
      if (ras != null && ras.getWidth() >= w && ras.getHeight() >= h) {
        cached=null;
        return ras;
      }
    }
  }
  return cm.createCompatibleWritableRaster(w,h);
}
