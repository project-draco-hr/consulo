{
  if (changeInfo.isNameChanged()) {
    if (element instanceof GrCodeReferenceElement) {
      ((GrCodeReferenceElement)element).bindToElement(method);
    }
  }
  if (toChangeArguments) {
    JavaParameterInfo[] parameters=changeInfo.getNewParameters();
    GrArgumentList argumentList=((GrCall)element.getParent()).getArgumentList();
    if (argumentList == null)     return;
    List<PsiElement>[] map=GrClosureSignatureUtil.mapParametersToArguments(GrClosureSignatureUtil.createSignature(method),argumentList,element.getManager(),method.getResolveScope());
    if (map == null)     return;
    PsiElement child=argumentList.getFirstChild();
    if (child != null) {
      argumentList.deleteChildRange(child,argumentList.getLastChild());
    }
    GroovyPsiElementFactory factory=GroovyPsiElementFactory.getInstance(element.getProject());
    for (int i=0; i < parameters.length; i++) {
      JavaParameterInfo parameter=parameters[i];
      int index=parameter.getOldIndex();
      if (index >= 0) {
        List<PsiElement> arguments=map[index];
        if (arguments.size() == 1) {
          PsiElement arg=arguments.iterator().next();
          if (i > 0 && arg instanceof GrNamedArgument) {
            arg=factory.createExpressionFromText("[" + arg.getText() + "]");
          }
          argumentList.add(arg);
        }
 else         if (arguments.size() > 1) {
          if (i == 0 && arguments.iterator().next() instanceof GrNamedArgument || i == parameters.length - 1 && parameter.isVarargType()) {
            for (            PsiElement argument : arguments) {
              argumentList.add(argument);
            }
          }
 else {
            StringBuilder argText=new StringBuilder();
            argText.append("[");
            for (            PsiElement argument : arguments) {
              argText.append(argument.getText()).append(", ");
            }
            argText.replace(argText.length() - 2,argText.length(),"]");
            argumentList.add(factory.createExpressionFromText(argText.toString()));
          }
        }
 else         if (i < parameters.length - 1) {
          argumentList.add(factory.createExpressionFromText("[]"));
        }
      }
    }
  }
}
