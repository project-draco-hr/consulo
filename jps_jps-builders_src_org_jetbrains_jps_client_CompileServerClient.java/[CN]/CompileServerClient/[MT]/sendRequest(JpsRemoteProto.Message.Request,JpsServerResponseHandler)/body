{
  final RequestFuture.CancelAction<JpsServerResponseHandler> cancelAction=handler == null ? null : new RequestFuture.CancelAction<JpsServerResponseHandler>(){
    public void cancel(    RequestFuture<JpsServerResponseHandler> future) throws Exception {
      sendCancelBuildRequest(future.getRequestID());
    }
  }
;
  final UUID sessionUUID=UUID.randomUUID();
  return sendMessage(sessionUUID,ProtoUtil.toMessage(sessionUUID,request),handler,cancelAction);
}
