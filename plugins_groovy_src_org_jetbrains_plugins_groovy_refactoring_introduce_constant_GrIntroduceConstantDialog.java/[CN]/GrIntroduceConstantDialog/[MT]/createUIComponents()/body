{
  myJavaVisibilityPanel=new JavaVisibilityPanel(false,true);
  if (myContext.getExpression() == null) {
    myTypeCombo=GrTypeComboBox.createTypeComboBoxWithDefType(myContext.getVar().getDeclaredType());
  }
 else {
    myTypeCombo=GrTypeComboBox.createTypeComboBoxFromExpression(myContext.getExpression());
  }
  List<String> names=new ArrayList<String>();
  final GrVariable var=myContext.getVar();
  if (var != null) {
    names.add(var.getName());
  }
  String[] possibleNames=GroovyNameSuggestionUtil.suggestVariableNames(myContext.getExpression(),new GroovyVariableValidator(myContext),true);
  ContainerUtil.addAll(names,possibleNames);
  myNameField=TextFieldWithAutoCompletion.create(myContext.getProject(),names,null,true);
  if (names.size() > 0) {
    myNameField.setText(names.get(0));
    myNameField.selectAll();
  }
  GrTypeComboBox.registerUpDownHint(myNameField,myTypeCombo);
}
