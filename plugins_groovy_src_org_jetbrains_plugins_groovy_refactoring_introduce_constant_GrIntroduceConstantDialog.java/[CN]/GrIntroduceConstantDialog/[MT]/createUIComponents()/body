{
  myJavaVisibilityPanel=new JavaVisibilityPanel(false,true);
  if (myContext.getExpression() == null) {
    myTypeCombo=GrTypeComboBox.createTypeComboBoxWithDefType(myContext.getVar().getDeclaredType());
  }
 else {
    myTypeCombo=GrTypeComboBox.createTypeComboBoxFromExpression(myContext.getExpression());
  }
  List<String> names=new ArrayList<String>();
  final GrVariable var=myContext.getVar();
  if (var != null) {
    names.add(var.getName());
  }
  String[] possibleNames=GroovyNameSuggestionUtil.suggestVariableNames(myContext.getExpression(),new GroovyVariableValidator(myContext),true);
  ContainerUtil.addAll(names,possibleNames);
  myNameField=new NameSuggestionsField(ArrayUtil.toStringArray(names),myContext.getProject(),GroovyFileType.GROOVY_FILE_TYPE);
  GrTypeComboBox.registerUpDownHint(myNameField,myTypeCombo);
}
