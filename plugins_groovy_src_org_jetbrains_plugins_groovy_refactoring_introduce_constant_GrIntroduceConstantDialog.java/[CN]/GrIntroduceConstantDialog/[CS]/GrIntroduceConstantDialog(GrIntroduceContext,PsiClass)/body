{
  super(context.project);
  myContext=context;
  myTargetClass=defaultTargetClass;
  myDefaultTargetClass=defaultTargetClass;
  setTitle(GrIntroduceConstantHandler.REFACTORING_NAME);
  init();
  myJavaVisibilityPanel.setVisibility(JavaRefactoringSettings.getInstance().INTRODUCE_CONSTANT_VISIBILITY);
  mySpecifyType.addActionListener(new ActionListener(){
    @Override public void actionPerformed(    ActionEvent e){
      myTypeCombo.setEnabled(mySpecifyType.isSelected());
    }
  }
);
  mySpecifyType.setSelected(context.expression == null ? context.var.getDeclaredType() != null : context.expression.getType() != null);
  myTypeCombo.setEnabled(mySpecifyType.isSelected());
  updateVisibilityPanel();
  updateOkStatus();
  myNameComboBox.requestFocus();
}
