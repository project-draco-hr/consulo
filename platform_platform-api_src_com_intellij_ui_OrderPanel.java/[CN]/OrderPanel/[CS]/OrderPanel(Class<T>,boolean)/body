{
  super(new BorderLayout());
  myEntryClass=entryClass;
  myEntryTable=new Table(new MyTableModel(showSheckboxes));
  myEntryTable.setShowGrid(false);
  myEntryTable.setDragEnabled(false);
  myEntryTable.setShowHorizontalLines(false);
  myEntryTable.setShowVerticalLines(false);
  myEntryTable.setIntercellSpacing(new Dimension(0,0));
  myEntryTable.getSelectionModel().setSelectionMode(ListSelectionModel.MULTIPLE_INTERVAL_SELECTION);
  myEntryTable.registerKeyboardAction(new ActionListener(){
    public void actionPerformed(    ActionEvent e){
      if (getCheckboxColumn() == -1)       return;
      final int[] selectedRows=myEntryTable.getSelectedRows();
      boolean currentlyMarked=true;
      for (int idx=0; idx < selectedRows.length; idx++) {
        final int selectedRow=selectedRows[idx];
        if (selectedRow < 0 || !myEntryTable.isCellEditable(selectedRow,getCheckboxColumn())) {
          return;
        }
        currentlyMarked&=((Boolean)myEntryTable.getValueAt(selectedRow,getCheckboxColumn())).booleanValue();
      }
      for (int idx=0; idx < selectedRows.length; idx++) {
        myEntryTable.setValueAt(currentlyMarked ? Boolean.FALSE : Boolean.TRUE,selectedRows[idx],getCheckboxColumn());
      }
    }
  }
,KeyStroke.getKeyStroke(KeyEvent.VK_SPACE,0),JComponent.WHEN_FOCUSED);
  add(ScrollPaneFactory.createScrollPane(myEntryTable),BorderLayout.CENTER);
  if (myEntryTable.getRowCount() > 0) {
    myEntryTable.getSelectionModel().setSelectionInterval(0,0);
  }
}
