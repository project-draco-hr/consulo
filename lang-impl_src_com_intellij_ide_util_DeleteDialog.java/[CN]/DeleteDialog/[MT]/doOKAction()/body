{
  final RefactoringSettings refactoringSettings=RefactoringSettings.getInstance();
  refactoringSettings.SAFE_DELETE_WHEN_DELETE=myCbSafeDelete.isSelected();
  if (deleteSafely()) {
    if (myCallback != null) {
      myCallback.run(this);
    }
 else {
      super.doOKAction();
    }
    refactoringSettings.SAFE_DELETE_SEARCH_IN_COMMENTS=isSearchInComments();
    refactoringSettings.SAFE_DELETE_SEARCH_IN_NON_JAVA=isSearchInNonJava();
  }
 else {
    super.doOKAction();
  }
}
