{
  final LookupImpl lookup=(LookupImpl)LookupManager.getInstance(project).createLookup(editor,LookupElement.EMPTY_ARRAY,prefix,new TemplatesArranger());
  for (  TemplateImpl template : matchingTemplates) {
    lookup.addItem(createTemplateElement(template),new PlainPrefixMatcher(prefix));
  }
  for (  Map.Entry<String,Collection<CustomLiveTemplateLookupElement>> entry : customTemplatesLookupElements.entrySet()) {
    for (    CustomLiveTemplateLookupElement lookupElement : entry.getValue()) {
      lookup.addItem(lookupElement,new PlainPrefixMatcher(entry.getKey()));
    }
  }
  showLookup(lookup,file);
}
