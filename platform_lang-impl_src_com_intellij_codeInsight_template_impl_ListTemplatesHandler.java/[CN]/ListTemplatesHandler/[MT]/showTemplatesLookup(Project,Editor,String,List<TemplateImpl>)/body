{
  List<LookupElement> array=new ArrayList<LookupElement>();
  for (  TemplateImpl template : matchingTemplates) {
    array.add(new LiveTemplateLookupElement(template,false));
  }
  LookupElement[] items=array.toArray(new LookupElement[array.size()]);
  final LookupImpl lookup=(LookupImpl)LookupManager.getInstance(project).createLookup(editor,items,prefix,LookupArranger.DEFAULT);
  lookup.addLookupListener(new MyLookupAdapter(project,editor,null));
  lookup.showLookup();
}
