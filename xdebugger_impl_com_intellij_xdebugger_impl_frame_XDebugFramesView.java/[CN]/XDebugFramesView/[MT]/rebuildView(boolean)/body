{
  myListenersEnabled=false;
  if (!onlyFrameChanged) {
    for (    StackFramesListBuilder builder : myBuilders.values()) {
      builder.dispose();
    }
    myBuilders.clear();
  }
  XSuspendContext suspendContext=mySession.getSuspendContext();
  if (suspendContext == null) {
    myThreadComboBox.removeAllItems();
    myFramesList.clear();
    return;
  }
  XExecutionStack[] executionStacks=suspendContext.getExecutionStacks();
  for (  XExecutionStack executionStack : executionStacks) {
    myThreadComboBox.addItem(executionStack);
  }
  XExecutionStack activeExecutionStack=suspendContext.getActiveExecutionStack();
  myThreadComboBox.setSelectedItem(activeExecutionStack);
  myThreadComboBox.setVisible(executionStacks.length != 1);
  updateFrames(activeExecutionStack);
  myListenersEnabled=true;
}
