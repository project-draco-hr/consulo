{
  if (myDaemonCodeAnalyzer.getUpdateProgress().isCanceled())   return;
  if (LOG.isDebugEnabled()) {
    LOG.debug("cancelling code highlighting by write action:" + action);
  }
  if (action instanceof DocumentRunnable) {
    Document document=((DocumentRunnable)action).getDocument();
    if (!worthBothering(document)) {
      return;
    }
  }
  stopDaemon(false);
}
