{
  this.editor=(EditorImpl)editor;
  this.gutterContentProvider=gutterContentProvider;
  this.atLineStart=atLineStart;
  if (atLineStart) {
    setOpaque(gutterContentProvider.getLineStartGutterOverlap(editor) == 0);
  }
 else {
    addListeners();
    setOpaque(false);
  }
  int spaceWidth=EditorUtil.getSpaceWidth(Font.PLAIN,editor);
  gap=atLineStart ? spaceWidth * GutterContentProvider.MAX_LINE_END_GUTTER_WIDTH_IN_CHAR : spaceWidth;
  maxContentWidth=atLineStart ? gap : 0;
}
