{
  final Throwable[] throwable=new Throwable[1];
  final PostprocessReformattingAspect component=getProject().getComponent(PostprocessReformattingAspect.class);
  try {
    ((FormatterImpl)FormatterEx.getInstance()).disableFormatting();
    component.disablePostprocessFormattingInside(new Computable<Object>(){
      public Object compute(){
        try {
          r.run();
        }
 catch (        Throwable t) {
          throwable[0]=t;
        }
        return null;
      }
    }
);
  }
  finally {
    ((FormatterImpl)FormatterEx.getInstance()).enableFormatting();
  }
  if (throwable[0] != null)   throw (T)throwable[0];
}
