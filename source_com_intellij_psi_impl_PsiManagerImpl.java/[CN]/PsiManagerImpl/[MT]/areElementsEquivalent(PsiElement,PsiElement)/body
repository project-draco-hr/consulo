{
  myProgressManager.checkCanceled();
  if (element1 == element2)   return true;
  if (element1 == null || element2 == null) {
    return false;
  }
  if (element1.equals(element2) || element1.isEquivalentTo(element2))   return true;
  if (element1 instanceof JspImplicitVariable) {
    if (element2 instanceof JspImplicitVariable) {
      final JspImplicitVariable implicitVariable=(JspImplicitVariable)element1;
      final JspImplicitVariable implicitVariable2=(JspImplicitVariable)element2;
      final String name=implicitVariable.getName();
      return name != null && name.equals(implicitVariable2.getName()) && areElementsEquivalent(implicitVariable.getDeclaration(),implicitVariable2.getDeclaration());
    }
 else     if (areElementsEquivalent(((JspImplicitVariable)element1).getDeclaration(),element2)) {
      return true;
    }
  }
 else   if (element2 instanceof JspImplicitVariable) {
    if (areElementsEquivalent(((JspImplicitVariable)element2).getDeclaration(),element1)) {
      return true;
    }
  }
  return false;
}
