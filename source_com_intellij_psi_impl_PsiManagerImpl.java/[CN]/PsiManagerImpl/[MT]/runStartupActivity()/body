{
  if (LOG.isDebugEnabled()) {
    LOG.debug("PsiManager.runStartupActivity()");
  }
  myFileManager.runStartupActivity();
  myCacheManager.initialize();
  myShortNamesCache.runStartupActivity();
  StartupManagerEx startupManager=StartupManagerEx.getInstanceEx(myProject);
  if (startupManager != null) {
    FileSystemSynchronizer synchronizer=startupManager.getFileSystemSynchronizer();
    if (PsiManagerConfiguration.getInstance().REPOSITORY_ENABLED) {
      synchronizer.registerCacheUpdater(myRepositoryManager.getCacheUpdater());
      CacheUpdater[] updaters=myCacheManager.getCacheUpdaters();
      for (int i=0; i < updaters.length; i++) {
        synchronizer.registerCacheUpdater(updaters[i]);
      }
    }
  }
}
