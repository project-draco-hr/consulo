{
  final PsiElement element=node.getElement();
  if (element instanceof PsiClass) {
    node.setText(PsiFormatUtil.formatClass((PsiClass)element,PsiFormatUtil.SHOW_NAME | PsiFormatUtil.SHOW_FQ_NAME));
    node.setIcon(element.getIcon(0));
  }
 else   if (element instanceof PsiMethod) {
    int methodOptions=PsiFormatUtil.SHOW_NAME | PsiFormatUtil.SHOW_TYPE | PsiFormatUtil.TYPE_AFTER| PsiFormatUtil.SHOW_PARAMETERS;
    int paramOptions=PsiFormatUtil.SHOW_NAME | PsiFormatUtil.SHOW_TYPE | PsiFormatUtil.TYPE_AFTER;
    node.setText(PsiFormatUtil.formatMethod((PsiMethod)element,PsiSubstitutor.EMPTY,methodOptions,paramOptions));
    node.setIcon(element.getIcon(Iconable.ICON_FLAG_VISIBILITY));
  }
 else   if (element instanceof PsiField) {
    int options=PsiFormatUtil.SHOW_NAME | PsiFormatUtil.SHOW_TYPE | PsiFormatUtil.TYPE_AFTER;
    node.setText(PsiFormatUtil.formatVariable((PsiField)element,options,PsiSubstitutor.EMPTY));
    node.setIcon(element.getIcon(Iconable.ICON_FLAG_VISIBILITY));
  }
}
