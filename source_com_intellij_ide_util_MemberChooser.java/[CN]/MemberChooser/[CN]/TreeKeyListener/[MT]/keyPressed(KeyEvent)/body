{
  if (e.getKeyCode() == KeyEvent.VK_ENTER) {
    TreePath path=myTree.getLeadSelectionPath();
    if (path == null)     return;
    if (path.getLastPathComponent() instanceof ElementNode) {
      ElementNode node=(ElementNode)path.getLastPathComponent();
      if (node.getElement() instanceof PsiClass)       return;
    }
    doOKAction();
    e.consume();
  }
 else   if (e.getKeyCode() == KeyEvent.VK_INSERT) {
    TreePath path=myTree.getLeadSelectionPath();
    if (path == null)     return;
    if (path.getLastPathComponent() instanceof ElementNode) {
      ElementNode node=(ElementNode)path.getLastPathComponent();
      if (node.getElement() instanceof PsiClass)       return;
      if (!mySelectedNodes.contains(node)) {
        if (node.getNextNode() != null) {
          myTree.setSelectionPath(new TreePath(node.getNextNode().getPath()));
        }
      }
 else {
        if (node.getNextNode() != null) {
          myTree.removeSelectionPath(new TreePath(node.getPath()));
          myTree.setSelectionPath(new TreePath(node.getNextNode().getPath()));
          myTree.repaint();
        }
      }
      e.consume();
    }
  }
}
