{
  final Processor<VirtualFile> processor=new Processor<VirtualFile>(){
    public boolean process(    VirtualFile fileOrDir){
      boolean isPropertiesFile=myPropertiesFilesManager.addNewFile(fileOrDir);
      if (isPropertiesFile) {
        myChangedFiles.add(fileOrDir);
      }
      return true;
    }
  }
;
  ProjectRootManager.getInstance(myProject).getFileIndex().iterateContent(new ContentIterator(){
    public boolean processFile(    VirtualFile fileOrDir){
      return processor.process(fileOrDir);
    }
  }
);
  for (  VirtualFile virtualFile : EditorHistoryManager.getInstance(myProject).getFiles()) {
    processor.process(virtualFile);
  }
}
