{
  final PsiReferenceProvider referenceProvider=new PropertiesReferenceProvider();
  ReferenceProvidersRegistry.getInstance(myProject).registerReferenceProvider(PsiLiteralExpression.class,referenceProvider);
  StartupManager.getInstance(myProject).registerPostStartupActivity(new Runnable(){
    public void run(){
      ProjectRootManager.getInstance(myProject).getFileIndex().iterateContent(new ContentIterator(){
        public boolean processFile(        VirtualFile fileOrDir){
          boolean isPropertiesFile=myPropertiesFilesManager.addNewFile(fileOrDir);
          if (isPropertiesFile) {
synchronized (myChangedFiles) {
              myChangedFiles.add(fileOrDir);
            }
          }
          return true;
        }
      }
);
    }
  }
);
}
