{
  VirtualFile[] fileArray=(VirtualFile[])myContext.getData(DataConstants.VIRTUAL_FILE_ARRAY);
  if (fileArray != null) {
    return filterLocalFiles(fileArray);
  }
  VirtualFile virtualFile=(VirtualFile)myContext.getData(DataConstants.VIRTUAL_FILE);
  if (virtualFile != null && isLocal(virtualFile)) {
    return new VirtualFile[]{virtualFile};
  }
  return VirtualFile.EMPTY_ARRAY;
}
