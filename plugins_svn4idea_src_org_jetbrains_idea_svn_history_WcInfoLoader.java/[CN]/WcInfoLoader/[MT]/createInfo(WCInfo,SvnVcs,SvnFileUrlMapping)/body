{
  if (!info.getFormat().supportsMergeInfo()) {
    return null;
  }
  final String url=info.getUrl().toString();
  if ((myLocation != null) && (!myLocation.toPresentableString().startsWith(url)) && (!url.startsWith(myLocation.toPresentableString()))) {
    return null;
  }
  if (!SvnUtil.checkRepositoryVersion15(vcs,url)) {
    return null;
  }
  final RootUrlInfo rootForUrl=urlMapping.getWcRootForUrl(url);
  if (rootForUrl == null) {
    return null;
  }
  final VirtualFile root=rootForUrl.getRoot();
  final VirtualFile wcRoot=rootForUrl.getVirtualFile();
  if (wcRoot == null) {
    return null;
  }
  final SvnBranchConfigurationNew configuration;
  try {
    configuration=SvnBranchConfigurationManager.getInstance(myProject).get(wcRoot);
  }
 catch (  VcsException e) {
    LOG.info(e);
    return null;
  }
  if (configuration == null) {
    return null;
  }
  final List<WCInfoWithBranches.Branch> items=new ArrayList<WCInfoWithBranches.Branch>();
  final String branchRoot=createBranchesList(url,configuration,items);
  return new WCInfoWithBranches(info.getPath(),info.getUrl(),info.getFormat(),info.getRepositoryRoot(),info.isIsWcRoot(),items,root,branchRoot,info.getType(),info.getStickyDepth());
}
