{
  if (text == null) {
    return null;
  }
  if (text.indexOf('$') < 0) {
    return text;
  }
  for (  Map.Entry<String,String> entry : myPlainMap.entrySet()) {
    text=StringUtil.replace(text,entry.getKey(),entry.getValue(),false);
  }
  for (  Map.Entry<String,String> entry : myMacroExpands.entrySet()) {
    text=replaceMacro(text,entry.getKey(),entry.getValue());
  }
  return text;
}
