{
  final Object input=getInput(value);
  final IntIterator it;
  if (input instanceof TIntHashSet) {
    it=new IntSetIterator((TIntHashSet)input);
  }
 else   if (input instanceof Integer) {
    it=new SingleValueIterator(((Integer)input).intValue());
  }
 else   if (input instanceof IdBitSet) {
    it=new IntIterator(){
      private final IdBitSet myIdBitSet=(IdBitSet)input;
      private int nextSetBit=myIdBitSet.nextSetBit(0);
      @Override public boolean hasNext(){
        return nextSetBit != -1;
      }
      @Override public int next(){
        int setBit=nextSetBit;
        nextSetBit=myIdBitSet.nextSetBit(setBit + 1);
        return setBit;
      }
      @Override public int size(){
        return myIdBitSet.numberOfBitsSet();
      }
    }
;
  }
 else {
    it=EMPTY_ITERATOR;
  }
  return it;
}
