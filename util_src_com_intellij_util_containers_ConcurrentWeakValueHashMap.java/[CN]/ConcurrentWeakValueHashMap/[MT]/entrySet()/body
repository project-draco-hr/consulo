{
  final Set<K> keys=keySet();
  Set<Entry<K,V>> entries=new HashSet<Entry<K,V>>();
  for (  final K key : keys) {
    final V value=get(key);
    if (value != null) {
      entries.add(new Entry<K,V>(){
        public K getKey(){
          return key;
        }
        public V getValue(){
          return value;
        }
        public V setValue(        V value){
          throw new UnsupportedOperationException("setValue is not implemented");
        }
      }
);
    }
  }
  return entries;
}
