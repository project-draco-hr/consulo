{
  if (myModel == null) {
    myModel=new CodeStyleSchemesModel(myProject);
    myRootSchemesPanel=new CodeStyleSchemesPanel(myModel);
    myModel.addListener(new CodeStyleSettingsListener(){
      @Override public void currentSchemeChanged(      final Object source){
        if (source != myRootSchemesPanel) {
          myRootSchemesPanel.onSelectedSchemeChanged();
        }
      }
      @Override public void schemeListChanged(){
        myRootSchemesPanel.resetSchemesCombo();
      }
      @Override public void currentSettingsChanged(){
      }
      @Override public void usePerProjectSettingsOptionChanged(){
        myRootSchemesPanel.usePerProjectSettingsOptionChanged();
      }
      @Override public void schemeChanged(      final CodeStyleScheme scheme){
      }
    }
);
  }
  return myModel;
}
