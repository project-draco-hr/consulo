{
  if ((anchorMember instanceof PsiField) && anchorMember.hasModifierProperty(PsiModifier.STATIC) == psiField.hasModifierProperty(PsiModifier.STATIC)) {
    return (PsiField)destClass.addBefore(psiField,anchorMember);
  }
 else   if (anchorMember instanceof PsiClassInitializer) {
    PsiField field=(PsiField)destClass.addBefore(psiField,anchorMember);
    destClass.addBefore(CodeEditUtil.createLineFeed(field.getManager()),anchorMember);
    return field;
  }
 else {
    final PsiField forwardReference=initializerPlace == InitializationPlace.IN_FIELD_DECLARATION ? checkForwardRefs(initializer,parentClass) : null;
    if (forwardReference != null) {
      return forwardReference.getParent() == destClass ? (PsiField)destClass.addAfter(psiField,forwardReference) : (PsiField)forwardReference.getParent().addAfter(psiField,forwardReference);
    }
 else {
      return (PsiField)destClass.add(psiField);
    }
  }
}
