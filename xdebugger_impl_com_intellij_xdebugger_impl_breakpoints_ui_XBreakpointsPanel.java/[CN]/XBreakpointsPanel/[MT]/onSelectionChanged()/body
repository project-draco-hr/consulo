{
  List<B> breakpoints=myTree.getSelectedBreakpoints();
  for (  XBreakpointPanelAction<B> action : myActions) {
    JButton button=myButtons.get(action);
    button.setEnabled(action.isEnabled(breakpoints));
  }
  B selectedBreakpoint=breakpoints.size() == 1 ? breakpoints.get(0) : null;
  B oldBreakpoint=mySelectedPropertiesPanel != null ? mySelectedPropertiesPanel.getBreakpoint() : null;
  if (mySelectedPropertiesPanel != null && oldBreakpoint != selectedBreakpoint) {
    mySelectedPropertiesPanel.saveProperties();
    mySelectedPropertiesPanel.dispose();
    mySelectedPropertiesPanel=null;
    myPropertiesPanel.removeAll();
  }
  if (selectedBreakpoint != null && selectedBreakpoint != oldBreakpoint) {
    mySelectedPropertiesPanel=new XBreakpointPropertiesPanel<B>(myProject,getBreakpointManager(),selectedBreakpoint);
    myPropertiesPanel.add(mySelectedPropertiesPanel.getMainPanel(),BorderLayout.CENTER);
    myPropertiesPanelWrapper.revalidate();
  }
  updatePropertiesWrapper();
}
