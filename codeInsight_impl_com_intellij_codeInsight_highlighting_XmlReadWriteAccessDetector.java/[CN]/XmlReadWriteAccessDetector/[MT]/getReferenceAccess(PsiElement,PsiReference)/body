{
  PsiElement refElement=reference.getElement();
  return (refElement instanceof XmlAttributeValue && (!(referencedElement instanceof XmlTag) || refElement.getParent().getParent() == referencedElement)) || refElement instanceof XmlElementDecl || refElement instanceof XmlComment ? Access.Write : Access.Read;
}
