{
  List<ParameterInfo> result=new ArrayList<ParameterInfo>();
  final PsiParameter[] parameters=myMethod.getParameterList().getParameters();
  final PsiElementFactory factory=myMethod.getManager().getElementFactory();
  final CodeStyleManager codeStyleManager=CodeStyleManager.getInstance(myMethod.getProject());
  final SuggestedNameInfo nameInfo=codeStyleManager.suggestVariableName(VariableKind.PARAMETER,null,null,myParameterType);
  final PsiParameter newParameter=factory.createParameter(nameInfo.names[0],myParameterType);
  for (int i=0; i < parameters.length; i++) {
    PsiParameter parameter=parameters[i];
    if (i == myIndex) {
      parameter=newParameter;
    }
    result.add(new ParameterInfo(i,parameter.getName(),parameter.getType()));
  }
  if (parameters.length == myIndex) {
    result.add(new ParameterInfo(myIndex,newParameter.getName(),newParameter.getType()));
  }
  return result.toArray(new ParameterInfo[result.size()]);
}
