{
  ImportSourceChooserDialog<CodeStyleScheme> importSourceChooserDialog=new ImportSourceChooserDialog<CodeStyleScheme>(myContentPane,CodeStyleScheme.class);
  if (importSourceChooserDialog.showAndGet()) {
    if (importSourceChooserDialog.isImportFromSharedSelected()) {
      new SchemesToImportPopup<CodeStyleScheme>(myContentPane){
        @Override protected void onSchemeSelected(        CodeStyleScheme scheme){
          if (scheme != null) {
            myModel.addScheme(scheme,true);
          }
        }
      }
.show(myModel.getSchemes());
    }
 else {
      String selectedImporterName=importSourceChooserDialog.getSelectedSourceName();
      if (selectedImporterName != null) {
        try {
          String schemeName=importExternalCodeStyle(selectedImporterName);
          if (schemeName != null) {
            showStatus(myImportButton,ApplicationBundle.message("message.code.style.scheme.import.success",selectedImporterName,schemeName),MessageType.INFO);
          }
        }
 catch (        SchemeImportException e) {
          showStatus(myImportButton,ApplicationBundle.message("message.code.style.scheme.import.failure",selectedImporterName,e.getMessage()),MessageType.ERROR);
        }
      }
    }
  }
}
