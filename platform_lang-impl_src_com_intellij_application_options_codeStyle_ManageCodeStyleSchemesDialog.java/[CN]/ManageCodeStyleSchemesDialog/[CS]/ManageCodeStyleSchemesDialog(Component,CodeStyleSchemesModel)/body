{
  super(parent,true);
  myParent=parent;
  myModel=schemesModel;
  setTitle("Code Style Schemes");
  mySchemesTableModel=new MySchemesTableModel(schemesModel);
  mySchemesTable.setModel(mySchemesTableModel);
  mySchemesTable.setSelectionMode(ListSelectionModel.SINGLE_SELECTION);
  mySchemesTable.getSelectionModel().addListSelectionListener(new ListSelectionListener(){
    @Override public void valueChanged(    ListSelectionEvent e){
      updateActions();
    }
  }
);
  setDefaultSelection();
  myDeleteButton.addActionListener(new ActionListener(){
    @Override public void actionPerformed(    ActionEvent e){
      deleteSelected();
    }
  }
);
  mySaveAsButton.addActionListener(new ActionListener(){
    @Override public void actionPerformed(    ActionEvent e){
      onSaveAs();
    }
  }
);
  myCopyToProjectButton.addActionListener(new ActionListener(){
    @Override public void actionPerformed(    ActionEvent e){
      onCopyToProject();
    }
  }
);
  myCloseButton.addActionListener(new ActionListener(){
    @Override public void actionPerformed(    ActionEvent e){
      doCancelAction();
    }
  }
);
  final SchemesManager<CodeStyleScheme,CodeStyleSchemeImpl> schemesManager=CodeStyleSchemesModel.getSchemesManager();
  if (schemesManager.isExportAvailable()) {
    myExportButton.setVisible(true);
    myExportButton.addActionListener(new ActionListener(){
      @Override public void actionPerformed(      final ActionEvent e){
        CodeStyleScheme selected=getSelectedScheme();
        ExportSchemeAction.doExport((CodeStyleSchemeImpl)selected,schemesManager);
      }
    }
);
    myExportButton.setMnemonic('S');
  }
 else {
    myExportButton.setVisible(false);
  }
  if (schemesManager.isImportAvailable()) {
    myImportButton.setVisible(true);
    myImportButton.addActionListener(new ActionListener(){
      @Override public void actionPerformed(      final ActionEvent e){
        SchemesToImportPopup<CodeStyleScheme,CodeStyleSchemeImpl> popup=new SchemesToImportPopup<CodeStyleScheme,CodeStyleSchemeImpl>(parent){
          @Override protected void onSchemeSelected(          final CodeStyleSchemeImpl scheme){
            if (scheme != null) {
              myModel.addScheme(scheme,true);
            }
          }
        }
;
        popup.show(schemesManager,myModel.getSchemes());
      }
    }
);
  }
 else {
    myImportButton.setVisible(false);
  }
  init();
}
