{
  if (place == null)   return null;
  return ApplicationManager.getApplication().runReadAction(new Computable<PsiElement>(){
    @Nullable public PsiElement compute(){
      final PsiElement statement=SuppressionUtil.getStatementToolSuppressedIn(place,toolId,PsiStatement.class);
      if (statement != null) {
        return statement;
      }
      PsiLocalVariable local=PsiTreeUtil.getParentOfType(place,PsiLocalVariable.class);
      if (local != null && getAnnotationMemberSuppressedIn(local,toolId) != null) {
        PsiModifierList modifierList=local.getModifierList();
        return modifierList != null ? modifierList.findAnnotation(SUPPRESS_INSPECTIONS_ANNOTATION_NAME) : null;
      }
      PsiDocCommentOwner container=PsiTreeUtil.getNonStrictParentOfType(place,PsiDocCommentOwner.class);
      while (true) {
        if (!(container instanceof PsiTypeParameter))         break;
        container=PsiTreeUtil.getParentOfType(container,PsiDocCommentOwner.class);
      }
      if (container != null) {
        PsiElement element=getElementMemberSuppressedIn(container,toolId);
        if (element != null)         return element;
      }
      PsiDocCommentOwner classContainer=PsiTreeUtil.getParentOfType(container,PsiDocCommentOwner.class,true);
      if (classContainer != null) {
        PsiElement element=getElementMemberSuppressedIn(classContainer,toolId);
        if (element != null)         return element;
      }
      return null;
    }
  }
);
}
