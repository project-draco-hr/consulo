{
  final GrParameter[] parameters=baseMethod.getParameters();
  final GrLightParameterListBuilder parameterList=(GrLightParameterListBuilder)getParameterList();
  List<GrParameter> skipped=new ArrayList<GrParameter>();
  if (categoryType != null) {
    parameterList.addParameter(new GrLightParameter(CATEGORY_PARAMETER_NAME,categoryType,this));
  }
  for (  GrParameter parameter : parameters) {
    if (parameter.isOptional()) {
      if (optionalParams < 1) {
        skipped.add(parameter);
        continue;
      }
      optionalParams--;
    }
    parameterList.addParameter(new GrLightParameter(parameter.getName(),parameter.getDeclaredType(),this));
  }
  LOG.assertTrue(optionalParams == 0,optionalParams + "methodText: " + baseMethod.getText());
  mySkippedParameters=skipped.toArray(new GrParameter[skipped.size()]);
}
