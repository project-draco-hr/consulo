{
  final ArrayList<PsiElement> results=new ArrayList<PsiElement>();
  processCommentsContainingIdentifier(identifier,searchScope,new Processor<PsiElement>(){
    @Override public boolean process(    PsiElement element){
synchronized (results) {
        results.add(element);
      }
      return true;
    }
  }
);
synchronized (results) {
    return PsiUtilCore.toPsiElementArray(results);
  }
}
