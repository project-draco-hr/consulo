{
  String commonName=null;
  short searchContext=0;
  boolean caseSensitive=true;
  for (  RequestWithProcessor r : data) {
    String name=r.request.containerName;
    if (name != null) {
      if (commonName == null) {
        commonName=r.request.containerName;
        searchContext=r.request.searchContext;
        caseSensitive=r.request.caseSensitive;
      }
 else       if (commonName.equals(name)) {
        searchContext|=r.request.searchContext;
        caseSensitive&=r.request.caseSensitive;
      }
 else {
        return null;
      }
    }
  }
  if (commonName == null)   return null;
  Set<VirtualFile> containerFiles=new THashSet<VirtualFile>();
  List<IdIndexEntry> entries=getWordEntries(commonName,caseSensitive);
  if (entries.isEmpty())   return null;
  entries.addAll(keys);
  final short finalSearchContext=searchContext;
  Condition<Integer> contextMatches=new Condition<Integer>(){
    @Override public boolean value(    Integer context){
      return (context.intValue() & finalSearchContext) != 0;
    }
  }
;
  processFilesContainingAllKeys(myManager.getProject(),commonScope,contextMatches,entries,new CommonProcessors.CollectProcessor<VirtualFile>(containerFiles));
  return containerFiles;
}
