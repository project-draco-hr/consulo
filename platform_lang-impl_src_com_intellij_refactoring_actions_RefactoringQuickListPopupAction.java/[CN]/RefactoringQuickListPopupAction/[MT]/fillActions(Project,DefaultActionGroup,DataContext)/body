{
  if (project == null) {
    return;
  }
  final ActionManager actionManager=ActionManager.getInstance();
  final AnAction action=actionManager.getAction(IdeActions.GROUP_REFACTOR);
  if (action instanceof DefaultActionGroup) {
    final AnAction[] children=((DefaultActionGroup)action).getChildren(null);
    for (    AnAction child : children) {
      if (child instanceof Separator) {
        group.add(child);
      }
 else       if (child instanceof BaseRefactoringAction && ((BaseRefactoringAction)child).getHandler(dataContext) != null) {
        final Presentation presentation=new Presentation();
        final AnActionEvent event=new AnActionEvent(null,dataContext,ActionPlaces.UNKNOWN,presentation,actionManager,0);
        child.update(event);
        if (presentation.isEnabled() && presentation.isVisible()) {
          group.add(child);
        }
      }
    }
  }
}
