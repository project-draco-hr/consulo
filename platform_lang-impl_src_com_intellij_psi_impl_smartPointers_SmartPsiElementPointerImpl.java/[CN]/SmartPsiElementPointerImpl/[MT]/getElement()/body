{
  if (myElement != null && !myElement.isValid()) {
    if (myElementInfo == null) {
      myElement=null;
    }
 else {
      PsiElement restored=myElementInfo.restoreElement();
      if (restored != null && (!areElementKindEqual(restored,myElement) || !restored.isValid())) {
        restored=null;
      }
      myElement=(E)restored;
    }
  }
  return myElement;
}
