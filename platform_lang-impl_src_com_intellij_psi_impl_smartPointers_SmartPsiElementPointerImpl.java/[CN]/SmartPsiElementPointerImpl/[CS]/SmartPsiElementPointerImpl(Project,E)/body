{
  myProject=project;
  ApplicationManager.getApplication().assertReadAccessAllowed();
  myElement=element;
  myElementInfo=null;
  PsiFile file=element.getContainingFile();
  if (file != null) {
    final PsiDocumentManager psiDocumentManager=PsiDocumentManager.getInstance(project);
    if (psiDocumentManager instanceof PsiDocumentManagerImpl) {
      Document doc=psiDocumentManager.getCachedDocument(file);
      if (doc != null) {
        if (!(element instanceof PsiFile)) {
          LOG.assertTrue(!psiDocumentManager.isUncommited(doc) || ((PsiDocumentManagerImpl)psiDocumentManager).isCommittingDocument(doc));
        }
      }
    }
  }
}
