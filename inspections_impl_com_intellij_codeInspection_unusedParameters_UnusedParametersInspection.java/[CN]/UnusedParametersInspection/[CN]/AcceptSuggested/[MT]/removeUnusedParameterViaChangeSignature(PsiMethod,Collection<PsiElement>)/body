{
  ArrayList<ParameterInfo> newParameters=new ArrayList<ParameterInfo>();
  PsiParameter[] oldParameters=psiMethod.getParameterList().getParameters();
  for (int i=0; i < oldParameters.length; i++) {
    PsiParameter oldParameter=oldParameters[i];
    if (!parametersToDelete.contains(oldParameter)) {
      newParameters.add(new ParameterInfo(i,oldParameter.getName(),oldParameter.getType()));
    }
  }
  ParameterInfo[] parameterInfos=newParameters.toArray(new ParameterInfo[newParameters.size()]);
  ChangeSignatureProcessor csp=new ChangeSignatureProcessor(psiMethod.getProject(),psiMethod,false,null,psiMethod.getName(),psiMethod.getReturnType(),parameterInfos);
  csp.run();
}
