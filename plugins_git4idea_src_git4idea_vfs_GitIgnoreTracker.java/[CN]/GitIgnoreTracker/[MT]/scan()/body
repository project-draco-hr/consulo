{
  ApplicationManager.getApplication().executeOnPooledThread(new Runnable(){
    @Override public void run(){
      VirtualFile[] contentRoots=myVcsManager.getRootsUnderVcs(myVcs);
      if (contentRoots == null || contentRoots.length == 0) {
        return;
      }
      HashMap<VirtualFile,String> newRoots=new HashMap<VirtualFile,String>();
      for (      VirtualFile root : contentRoots) {
        VirtualFile gitRoot=scanParents(root);
        if (!newRoots.containsKey(gitRoot)) {
          newRoots.put(gitRoot,getExcludeFile(gitRoot));
        }
      }
synchronized (myExcludeFiles) {
        myExcludeFiles.clear();
        myExcludeFiles.putAll(newRoots);
        myExcludeFilesPaths.clear();
        myExcludeFilesPaths.addAll(myExcludeFiles.values());
      }
    }
  }
);
}
