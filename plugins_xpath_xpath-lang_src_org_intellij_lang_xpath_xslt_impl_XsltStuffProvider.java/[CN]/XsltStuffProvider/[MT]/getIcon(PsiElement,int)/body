{
  if (active || !myConfig.isEnabled())   return null;
  active=true;
  try {
    TIntObjectHashMap<Icon> icons=element.getUserData(ICON_KEY);
    if (icons != null) {
      final Icon icon=icons.get(flags);
      if (icon != null) {
        return icon;
      }
    }
    if (element instanceof PsiFile) {
      if (XsltSupport.isXsltFile((PsiFile)element)) {
        if (icons == null) {
          element.putUserData(ICON_KEY,icons=new TIntObjectHashMap<Icon>(3));
        }
        final Icon i=XsltSupport.createXsltIcon(element.getIcon(flags));
        icons.put(flags,i);
        return i;
      }
    }
    return null;
  }
  finally {
    active=false;
  }
}
