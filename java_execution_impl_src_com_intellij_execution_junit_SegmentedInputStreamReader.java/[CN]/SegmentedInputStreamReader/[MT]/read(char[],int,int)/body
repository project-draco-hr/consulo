{
  final int maxBytes=Math.min(len,myStream.available());
  int bytesRead=0;
  while (bytesRead < maxBytes) {
    final int aChar=myStream.read();
    if (aChar == -1) {
      return bytesRead == 0 ? -1 : bytesRead;
    }
    cbuf[off + (bytesRead++)]=(char)aChar;
  }
  return bytesRead;
}
