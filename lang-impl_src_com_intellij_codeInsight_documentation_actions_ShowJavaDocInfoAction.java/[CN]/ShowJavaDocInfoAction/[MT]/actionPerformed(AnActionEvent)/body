{
  DataContext dataContext=e.getDataContext();
  final Project project=PlatformDataKeys.PROJECT.getData(dataContext);
  final Editor editor=PlatformDataKeys.EDITOR.getData(dataContext);
  final PsiElement element=LangDataKeys.PSI_ELEMENT.getData(dataContext);
  if (project != null && editor != null) {
    FeatureUsageTracker.getInstance().triggerFeatureUsed(CODEASSISTS_QUICKJAVADOC_FEATURE);
    final LookupImpl lookup=(LookupImpl)LookupManager.getInstance(project).getActiveLookup();
    if (lookup != null) {
      dumpLookupElementWeights(lookup);
      FeatureUsageTracker.getInstance().triggerFeatureUsed(CODEASSISTS_QUICKJAVADOC_LOOKUP_FEATURE);
    }
    actionPerformedImpl(project,editor);
  }
 else   if (project != null) {
    if (DocumentationManager.getProviderFromElement(element) != null) {
      FeatureUsageTracker.getInstance().triggerFeatureUsed("codeassists.quickjavadoc.ctrln");
      CommandProcessor.getInstance().executeCommand(project,new Runnable(){
        public void run(){
          DocumentationManager.getInstance(project).showJavaDocInfo(element,null);
        }
      }
,getCommandName(),null);
    }
  }
}
