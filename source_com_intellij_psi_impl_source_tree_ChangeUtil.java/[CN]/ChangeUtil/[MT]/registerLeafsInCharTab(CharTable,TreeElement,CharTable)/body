{
  if (newCharTab == oldCharTab)   return;
  while (child != null) {
    CharTable charTable=child.getUserData(CharTable.CHAR_TABLE_KEY);
    if (child instanceof LeafElement) {
      ((LeafElement)child).registerInCharTable(newCharTab,oldCharTab);
    }
 else {
      registerLeafsInCharTab(newCharTab,((CompositeElement)child).firstChild,charTable != null ? charTable : oldCharTab);
    }
    if (charTable != null) {
      child.putUserData(CharTable.CHAR_TABLE_KEY,null);
    }
    child=child.getTreeNext();
  }
}
