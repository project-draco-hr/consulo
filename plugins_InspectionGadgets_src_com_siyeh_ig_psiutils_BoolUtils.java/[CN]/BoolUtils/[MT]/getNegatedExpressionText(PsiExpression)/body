{
  if (condition == null) {
    return "";
  }
  if (condition instanceof PsiParenthesizedExpression) {
    final PsiParenthesizedExpression parenthesizedExpression=(PsiParenthesizedExpression)condition;
    final PsiExpression contentExpression=parenthesizedExpression.getExpression();
    return '(' + getNegatedExpressionText(contentExpression) + ')';
  }
 else   if (isNegation(condition)) {
    final PsiExpression negated=getNegated(condition);
    if (negated == null) {
      return "";
    }
    return negated.getText();
  }
 else   if (ComparisonUtils.isComparison(condition)) {
    final PsiPolyadicExpression polyadicExpression=(PsiPolyadicExpression)condition;
    final String negatedComparison=ComparisonUtils.getNegatedComparison(polyadicExpression.getOperationTokenType());
    final StringBuilder result=new StringBuilder();
    final PsiExpression[] operands=polyadicExpression.getOperands();
    final boolean isEven=(operands.length & 1) != 1;
    for (int i=0, length=operands.length; i < length; i++) {
      final PsiExpression operand=operands[i];
      if (i > 0) {
        if (isEven && (i & 1) != 1) {
          final PsiJavaToken token=polyadicExpression.getTokenBeforeOperand(operand);
          if (token != null) {
            result.append(token.getText());
          }
        }
 else {
          result.append(negatedComparison);
        }
      }
      result.append(operand.getText());
    }
    return result.toString();
  }
 else   if (ParenthesesUtils.getPrecedence(condition) > ParenthesesUtils.PREFIX_PRECEDENCE) {
    return "!(" + condition.getText() + ')';
  }
 else {
    return '!' + condition.getText();
  }
}
