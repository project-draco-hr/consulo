{
  if (exceptionsThrown.contains(typeCaught)) {
    exceptionsCaught.add(typeCaught);
    exceptionsThrown.remove(typeCaught);
  }
  final List<PsiClass> typesMasked=new ArrayList();
  for (  PsiClassType typeThrown : exceptionsThrown) {
    if (!exceptionsCaught.contains(typeThrown) && typeCaught.isAssignableFrom(typeThrown)) {
      exceptionsCaught.add(typeThrown);
      final PsiClass aClass=typeThrown.resolve();
      if (aClass != null) {
        typesMasked.add(aClass);
      }
    }
  }
  if (onlyWarnOnRootExceptions) {
    if (!ExceptionUtils.isGenericExceptionClass(typeCaught)) {
      return Collections.emptyList();
    }
  }
  return typesMasked;
}
