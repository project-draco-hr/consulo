{
  myStructureViewWrapperImpl=new StructureViewWrapperImpl(myProject);
  final Content content=ContentFactory.SERVICE.getInstance().createContent(myStructureViewWrapperImpl.getComponent(),"",false);
  Disposer.register(content,myStructureViewWrapperImpl);
  toolWindow.getContentManager().addContent(content);
  final FileEditor[] fileEditors=FileEditorManager.getInstance(myProject).getSelectedEditors();
  if (fileEditors.length > 0) {
    myStructureViewWrapperImpl.setFileEditor(fileEditors[0]);
  }
  if (myRunWhenInitialized != null) {
    myRunWhenInitialized.run();
    myRunWhenInitialized=null;
  }
}
