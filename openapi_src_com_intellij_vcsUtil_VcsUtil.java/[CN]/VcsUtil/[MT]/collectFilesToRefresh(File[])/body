{
  final ArrayList<VirtualFile> result=new ArrayList<VirtualFile>();
  for (  File root : roots) {
    VirtualFile vFile=findFileFor(root);
    if (vFile != null) {
      for (Iterator<VirtualFile> iterator=result.iterator(); iterator.hasNext(); ) {
        VirtualFile existing=iterator.next();
        if (VfsUtil.isAncestor(existing,vFile,false))         break;
        if (VfsUtil.isAncestor(vFile,existing,false)) {
          iterator.remove();
        }
      }
      result.add(vFile);
    }
  }
  return result;
}
