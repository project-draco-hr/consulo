{
  final Application app=ApplicationManager.getApplication();
  final Runnable action=new Runnable(){
    public void run(){
      file.refresh(false,file.isDirectory());
    }
  }
;
  if (app.isDispatchThread())   app.runWriteAction(action);
 else   app.invokeAndWait(new Runnable(){
    public void run(){
      app.runWriteAction(action);
    }
  }
,ModalityState.defaultModalityState());
}
