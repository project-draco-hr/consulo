{
  RunnerAndConfigurationSettings configuration=context.findExisting();
  final RunManagerEx runManager=(RunManagerEx)context.getRunManager();
  if (configuration == null) {
    configuration=context.getConfiguration();
    if (configuration == null) {
      return;
    }
    runManager.setTemporaryConfiguration(configuration);
  }
  runManager.setSelectedConfiguration(configuration);
  Project project=context.getProject();
  if (configuration.isSingleton()) {
    ExecutionTarget activeTarget=ExecutionTargetManager.getActiveTarget(project);
    ExecutionManager.getInstance(project).restartRunProfile(project,myExecutor,activeTarget,configuration,null);
  }
 else {
    ProgramRunnerUtil.executeConfiguration(project,configuration,myExecutor);
  }
}
