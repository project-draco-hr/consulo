{
  for (  MavenArtifact artifact : myMavenProject.getDependencies()) {
    if (!myMavenProject.isSupportedDependency(artifact,SupportedRequestType.FOR_IMPORT))     continue;
    DependencyScope scope=selectScope(artifact.getScope());
    MavenProject depProject=myMavenTree.findProject(artifact.getMavenId());
    if (depProject != null) {
      if (depProject == myMavenProject)       continue;
      myRootModelAdapter.addModuleDependency(myMavenProjectToModuleName.get(depProject),scope);
      Element buildHelperCfg=depProject.getPluginGoalConfiguration("org.codehaus.mojo","build-helper-maven-plugin","attach-artifact");
      if (buildHelperCfg != null) {
        addAttachArtifactDependency(buildHelperCfg,scope,depProject,artifact);
      }
    }
 else {
      myRootModelAdapter.addLibraryDependency(artifact,scope,myModifiableModelsProvider,myMavenProject);
    }
  }
}
