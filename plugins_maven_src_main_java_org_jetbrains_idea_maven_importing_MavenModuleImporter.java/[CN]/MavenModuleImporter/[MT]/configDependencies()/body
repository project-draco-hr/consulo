{
  for (  MavenArtifact artifact : myMavenProject.getDependencies()) {
    if (!myMavenProject.isSupportedDependency(artifact,SupportedRequestType.FOR_IMPORT))     continue;
    DependencyScope scope=selectScope(artifact.getScope());
    MavenProject depProject=myMavenTree.findProject(artifact.getMavenId());
    if (depProject != null && !myMavenTree.isIgnored(depProject)) {
      if (depProject == myMavenProject)       continue;
      boolean isTestJar=MavenConstants.TYPE_TEST_JAR.equals(artifact.getType()) || "tests".equals(artifact.getClassifier());
      myRootModelAdapter.addModuleDependency(myMavenProjectToModuleName.get(depProject),scope,isTestJar);
      Element buildHelperCfg=depProject.getPluginGoalConfiguration("org.codehaus.mojo","build-helper-maven-plugin","attach-artifact");
      if (buildHelperCfg != null) {
        addAttachArtifactDependency(buildHelperCfg,scope,depProject,artifact);
      }
      if (artifact.getClassifier() != null && !"system".equals(artifact.getScope())) {
        MavenArtifact a=new MavenArtifact(artifact.getGroupId(),artifact.getArtifactId(),artifact.getVersion(),artifact.getBaseVersion(),artifact.getType(),artifact.getClassifier(),artifact.getScope(),artifact.isOptional(),artifact.getExtension(),null,myMavenProject.getLocalRepository(),false,false);
        myRootModelAdapter.addLibraryDependency(a,scope,myModifiableModelsProvider,myMavenProject);
      }
    }
 else     if ("system".equals(artifact.getScope())) {
      myRootModelAdapter.addSystemDependency(artifact,scope);
    }
 else {
      myRootModelAdapter.addLibraryDependency(artifact,scope,myModifiableModelsProvider,myMavenProject);
    }
  }
  configSurefirePlugin();
}
