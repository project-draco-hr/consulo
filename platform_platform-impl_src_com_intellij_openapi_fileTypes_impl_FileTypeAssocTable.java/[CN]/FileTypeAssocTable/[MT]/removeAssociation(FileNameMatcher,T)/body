{
  if (matcher instanceof ExtensionFileNameMatcher) {
    String extension=((ExtensionFileNameMatcher)matcher).getExtension();
    if (myExtensionMappings.get(extension) == type) {
      myExtensionMappings.remove(extension);
      return true;
    }
    return false;
  }
  if (matcher instanceof ExactFileNameMatcher) {
    final ExactFileNameMatcher exactFileNameMatcher=(ExactFileNameMatcher)matcher;
    final Map<String,T> mapToUse;
    String fileName=exactFileNameMatcher.getFileName();
    if (exactFileNameMatcher.isIgnoreCase()) {
      fileName=caseInsensitiveNameKey(fileName);
      mapToUse=myExactFileNameAnyCaseMappings;
    }
 else {
      mapToUse=myExactFileNameMappings;
    }
    if (mapToUse.get(fileName) == type) {
      mapToUse.remove(fileName);
      return true;
    }
    return false;
  }
  List<Pair<FileNameMatcher,T>> copy=new ArrayList<Pair<FileNameMatcher,T>>(myMatchingMappings);
  for (  Pair<FileNameMatcher,T> assoc : copy) {
    if (matcher.equals(assoc.getFirst())) {
      myMatchingMappings.remove(assoc);
      return true;
    }
  }
  return false;
}
