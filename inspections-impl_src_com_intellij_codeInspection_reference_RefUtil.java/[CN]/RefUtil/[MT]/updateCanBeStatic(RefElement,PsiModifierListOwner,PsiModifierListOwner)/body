{
  if (refElement.getOwner() instanceof RefPackage)   return;
  if (psiWhat instanceof PsiLocalVariable || psiWhat instanceof PsiParameter)   return;
  if (psiThis.hasModifierProperty(PsiModifier.STATIC))   return;
  if (psiThis instanceof PsiAnonymousClass) {
    RefElement refOwner=(RefElement)refElement.getOwner();
    updateCanBeStatic(refOwner,((PsiModifierListOwner)refOwner.getElement()),psiWhat);
  }
 else   if (!psiWhat.hasModifierProperty(PsiModifier.STATIC)) {
    PsiClass whatClass=getPsiOwnerClass(psiWhat);
    PsiClass myClass=getPsiOwnerClass(psiThis);
    if (whatClass == null || myClass == null)     return;
    if (isInheritor(myClass,whatClass)) {
      refElement.setCanBeStatic(false);
      if (refElement instanceof RefClass)       return;
    }
    RefElement refMyClass=refElement.getRefManager().getReference(myClass);
    updateCanBeStatic(refMyClass,myClass,psiWhat);
  }
}
