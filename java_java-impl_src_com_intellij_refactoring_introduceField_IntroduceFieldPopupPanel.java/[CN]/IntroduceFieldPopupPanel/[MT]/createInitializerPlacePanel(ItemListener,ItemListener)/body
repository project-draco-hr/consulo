{
  JPanel groupPanel=new JPanel(new GridBagLayout());
  final GridBagConstraints gridBagConstraints=new GridBagConstraints(0,0,1,1,1,0,GridBagConstraints.NORTHWEST,GridBagConstraints.HORIZONTAL,new Insets(0,0,0,0),0,0);
  myInitialisersPlaceModel=new DefaultComboBoxModel();
  myInitialisersPlaceModel.addElement(BaseExpressionToFieldHandler.InitializationPlace.IN_CURRENT_METHOD);
  myInitialisersPlaceModel.addElement(BaseExpressionToFieldHandler.InitializationPlace.IN_FIELD_DECLARATION);
  myInitialisersPlaceModel.addElement(BaseExpressionToFieldHandler.InitializationPlace.IN_CONSTRUCTOR);
  if (TestFrameworks.getInstance().isTestClass(myParentClass)) {
    myInitialisersPlaceModel.addElement(BaseExpressionToFieldHandler.InitializationPlace.IN_SETUP_METHOD);
  }
  initializeInitializerPlace(myInitializerExpression,InplaceIntroduceFieldPopup.ourLastInitializerPlace);
  if (myInitialisersPlaceModel.getSize() > 1) {
    final JLabel initLabel=new JLabel(RefactoringBundle.message("initialize.in.border.title") + ":");
    initLabel.setDisplayedMnemonic('i');
    gridBagConstraints.insets.left=5;
    gridBagConstraints.anchor=GridBagConstraints.WEST;
    groupPanel.add(initLabel,gridBagConstraints);
    JComboBox initializersCombo=new JComboBox(myInitialisersPlaceModel);
    KeyboardComboSwitcher.setupActions(initializersCombo,myParentClass.getProject());
    initLabel.setLabelFor(initializersCombo);
    initializersCombo.setRenderer(new ListCellRendererWrapper<BaseExpressionToFieldHandler.InitializationPlace>(initializersCombo){
      @Override public void customize(      JList list,      BaseExpressionToFieldHandler.InitializationPlace value,      int index,      boolean selected,      boolean hasFocus){
        setText(getPresentableText(value));
      }
    }
);
    initializersCombo.addActionListener(new ActionListener(){
      @Override public void actionPerformed(      ActionEvent e){
        itemListener.itemStateChanged(null);
        finalUpdater.itemStateChanged(null);
      }
    }
);
    gridBagConstraints.gridx=1;
    gridBagConstraints.insets.top=0;
    gridBagConstraints.insets.left=0;
    groupPanel.add(initializersCombo,gridBagConstraints);
    myInitializerCombo=initializersCombo;
  }
  return groupPanel;
}
