{
  final InspectionProfile inspectionProfile;
  final Profile profile=profileName != null ? InspectionProjectProfileManager.getInstance(project).getProfile(profileName) : null;
  if (profile != null) {
    inspectionProfile=(InspectionProfile)profile;
  }
 else {
    inspectionProfile=new InspectionProfileImpl("Server Side"){
      public boolean isToolEnabled(      final HighlightDisplayKey key){
        return resMap.containsKey(key.toString());
      }
      public HighlightDisplayLevel getErrorLevel(      final HighlightDisplayKey key){
        return ((InspectionProfile)InspectionProfileManager.getInstance().getRootProfile()).getErrorLevel(key);
      }
    }
;
  }
  return showOfflineView(project,resMap,inspectionProfile,profileName);
}
