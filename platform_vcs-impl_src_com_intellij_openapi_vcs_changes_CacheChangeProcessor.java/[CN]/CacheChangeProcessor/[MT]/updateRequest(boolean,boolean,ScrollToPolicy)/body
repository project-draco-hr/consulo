{
  if (isDisposed())   return;
  final Change change=myCurrentChange;
  DiffRequest cachedRequest=loadRequestFast(change,useCache);
  if (cachedRequest != null) {
    applyRequest(cachedRequest,force,scrollToChangePolicy);
    return;
  }
  myQueue.executeAndTryWait(new Function<ProgressIndicator,Runnable>(){
    @Override public Runnable fun(    ProgressIndicator indicator){
      final DiffRequest request=loadRequest(change,indicator);
      return new Runnable(){
        @Override @CalledInAwt public void run(){
          myRequestCache.put(change,Pair.create(change,request));
          applyRequest(request,force,scrollToChangePolicy);
        }
      }
;
    }
  }
,new Runnable(){
    @Override public void run(){
      applyRequest(new LoadingDiffRequest(ChangeDiffRequestProducer.getRequestTitle(change)),force,scrollToChangePolicy);
    }
  }
,ProgressWindow.DEFAULT_PROGRESS_DIALOG_POSTPONE_TIME_MILLIS);
}
