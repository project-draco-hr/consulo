{
  List<Balloon> balloons=PROJECT_BALLOONS.get(project);
  if (balloons == null) {
    PROJECT_BALLOONS.put(project,balloons=new CopyOnWriteArrayList<Balloon>());
    final List<Balloon> b=balloons;
    Disposer.register(project,new Disposable(){
      @Override public void dispose(){
        for (        Balloon balloon : b) {
          if (!balloon.isDisposed()) {
            Disposer.dispose(balloon);
          }
        }
        PROJECT_BALLOONS.remove(project);
      }
    }
);
  }
  return new GradleBalloonBuilder(JBPopupFactory.getInstance().createBalloonBuilder(content),balloons);
}
