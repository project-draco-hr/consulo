{
  final Project project=e.getData(CommonDataKeys.PROJECT);
  final ChangeRequestChain chain=e.getData(VcsDataKeys.DIFF_REQUEST_CHAIN);
  if (project == null || chain == null || !isEnabled(chain)) {
    return;
  }
  DiffViewer diffViewer=e.getData(PlatformDataKeys.COMPOSITE_DIFF_VIEWER);
  if (diffViewer == null) {
    diffViewer=e.getData(PlatformDataKeys.DIFF_VIEWER);
  }
  if (diffViewer == null) {
    return;
  }
  actionPerformed(e,project,chain,diffViewer);
}
