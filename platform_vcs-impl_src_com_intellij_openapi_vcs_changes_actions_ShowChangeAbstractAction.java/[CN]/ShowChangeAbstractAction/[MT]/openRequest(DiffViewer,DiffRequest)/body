{
  if (request != null) {
    if (diffViewer.acceptsType(request.getType())) {
      diffViewer.setDiffRequest(request);
    }
 else {
      final Window window=KeyboardFocusManager.getCurrentKeyboardFocusManager().getActiveWindow();
      if (window != null) {
        window.setVisible(false);
      }
      DiffManager.getInstance().getDiffTool().show(request);
    }
  }
}
