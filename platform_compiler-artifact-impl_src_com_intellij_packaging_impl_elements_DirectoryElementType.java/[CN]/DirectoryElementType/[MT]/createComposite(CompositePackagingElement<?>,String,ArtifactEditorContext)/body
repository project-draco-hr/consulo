{
  final String initialValue=PackagingElementFactoryImpl.suggestFileName(parent,baseName != null ? baseName : "folder","");
  String path=Messages.showInputDialog(context.getProject(),"Enter directory name: ","New Directory",null,initialValue,new FilePathValidator());
  if (path == null) {
    return null;
  }
  path=FileUtil.toSystemIndependentName(path);
  final String parentPath=PathUtil.getParentPath(path);
  final String fileName=PathUtil.getFileName(path);
  final PackagingElement<?> element=new DirectoryPackagingElement(fileName);
  return (CompositePackagingElement<?>)PackagingElementFactoryImpl.getInstance().createParentDirectories(parentPath,element);
}
