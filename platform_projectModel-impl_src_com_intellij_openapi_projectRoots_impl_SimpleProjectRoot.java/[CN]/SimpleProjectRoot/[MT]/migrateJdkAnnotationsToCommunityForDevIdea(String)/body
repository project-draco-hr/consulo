{
  File root=new File(VfsUtilCore.urlToPath(url) + "/..");
  boolean isOldJdkAnnotations=new File(root,"community/java/jdkAnnotations").exists() && new File(root,"idea.iml").exists() && new File(root,"testData").exists();
  if (isOldJdkAnnotations) {
    return VfsUtilCore.pathToUrl(PathUtil.getCanonicalPath(VfsUtilCore.urlToPath(url + "/../community/java/jdkAnnotations")));
  }
  return url;
}
