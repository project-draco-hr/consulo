{
  Object userObject=root.getUserObject();
  if (userObject instanceof IntentionActionMetaData) {
    IntentionActionMetaData actionMetaData=(IntentionActionMetaData)userObject;
    boolean enabled=IntentionManagerSettings.getInstance().isEnabled(actionMetaData.myFamily);
    return enabled != root.isChecked();
  }
 else {
    final boolean[] modified=new boolean[]{false};
    visitChildren(root,new CheckedNodeVisitor(){
      public void visit(      CheckedTreeNode node){
        modified[0]|=isModified(node);
      }
    }
);
    return modified[0];
  }
}
