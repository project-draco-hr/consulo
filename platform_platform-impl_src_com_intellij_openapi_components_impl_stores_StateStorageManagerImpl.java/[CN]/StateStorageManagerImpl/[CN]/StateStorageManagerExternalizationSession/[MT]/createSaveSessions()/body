{
  if (mySessions.isEmpty()) {
    return Collections.emptyList();
  }
  List<SaveSession> saveSessions=null;
  Collection<StateStorage.ExternalizationSession> externalizationSessions=mySessions.values();
  for (  StateStorage.ExternalizationSession session : externalizationSessions) {
    SaveSession saveSession=session.createSaveSession();
    if (saveSession != null) {
      if (saveSessions == null) {
        if (externalizationSessions.size() == 1) {
          return Collections.singletonList(saveSession);
        }
        saveSessions=new SmartList<SaveSession>();
      }
      saveSessions.add(saveSession);
    }
  }
  return ContainerUtil.notNullize(saveSessions);
}
