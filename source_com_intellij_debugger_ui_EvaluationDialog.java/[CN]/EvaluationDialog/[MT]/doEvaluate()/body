{
  if (myEditor == null || myEvaluationPanel == null) {
    return;
  }
  myEvaluationPanel.clear();
  TextWithImports codeToEvaluate=getCodeToEvaluate();
  if (codeToEvaluate == null) {
    return;
  }
  try {
    setOKActionEnabled(false);
    NodeDescriptorImpl descriptor=myEvaluationPanel.getWatchTree().addWatch(codeToEvaluate).getDescriptor();
    myEvaluationPanel.getWatchTree().rebuild(getDebuggerContext());
    descriptor.myIsExpanded=true;
  }
  finally {
    setOKActionEnabled(true);
  }
  getEditor().addRecent(getCodeToEvaluate());
}
