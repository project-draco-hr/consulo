{
  String styleableName=AndroidManifestUtils.getStyleableNameByTagName(tagName);
  final Set<XmlName> newSkippedNames=new HashSet<XmlName>(skippedNames);
  for (  String attrName : AndroidManifestUtils.getStaticallyDefinedAttrs(element)) {
    newSkippedNames.add(new XmlName(attrName,SdkConstants.NS_RESOURCES));
  }
  SystemResourceManager manager=facet.getSystemResourceManager();
  if (manager == null)   return;
  AttributeDefinitions attrDefs=manager.getAttributeDefinitions();
  if (attrDefs == null)   return;
  StyleableDefinition styleable=attrDefs.getStyleableByName(styleableName);
  if (styleable == null)   return;
  registerStyleableAttributes(element,new StyleableDefinition[]{styleable},SdkConstants.NS_RESOURCES,registrar,null,newSkippedNames);
  Set<String> subtagSet=new HashSet<String>();
  Collections.addAll(subtagSet,AndroidManifestUtils.getStaticallyDefinedSubtags(element));
  for (  StyleableDefinition child : styleable.getChildren()) {
    String childTagName=AndroidManifestUtils.getTagNameByStyleableName(child.getName());
    if (childTagName != null && !subtagSet.contains(childTagName)) {
      Class c=AndroidManifestUtils.getClassByManifestStyleableName(child.getName());
      if (c != null) {
        registerSubtags(childTagName,c,registrar,registeredSubtags);
      }
    }
  }
}
