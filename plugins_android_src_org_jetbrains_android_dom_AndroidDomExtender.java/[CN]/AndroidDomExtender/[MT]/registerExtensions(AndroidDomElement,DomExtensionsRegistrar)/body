{
  AndroidFacet facet=AndroidFacet.getInstance(element);
  if (facet == null)   return;
  XmlTag tag=element.getXmlTag();
  final Set<XmlName> skippedAttributes=registerExistingAttributes(facet,tag,registrar,element);
  String tagName=tag.getName();
  Set<String> registeredSubtags=new HashSet<String>();
  if (element instanceof ManifestElement) {
    registerExtensionsForManifest(facet,tagName,(ManifestElement)element,registrar,registeredSubtags,skippedAttributes);
  }
 else   if (element instanceof LayoutElement) {
    registerExtensionsForLayout(facet,tag,(LayoutElement)element,registrar,registeredSubtags,skippedAttributes);
  }
 else   if (element instanceof AnimationElement) {
    registerExtensionsForAnimation(facet,tagName,(AnimationElement)element,registrar,registeredSubtags,skippedAttributes);
  }
 else   if (element instanceof AnimatorElement) {
    registerExtensionsForAnimator(facet,tagName,(AnimatorElement)element,registrar,registeredSubtags,skippedAttributes);
  }
 else   if (element instanceof MenuElement) {
    String styleableName=StringUtil.capitalize(tagName);
    if (!styleableName.equals("Menu")) {
      styleableName="Menu" + styleableName;
    }
    registerAttributes(facet,element,styleableName,SYSTEM_RESOURCE_PACKAGE,registrar,skippedAttributes);
  }
 else   if (element instanceof XmlResourceElement) {
    registerExtensionsForXmlResources(facet,tagName,(XmlResourceElement)element,registrar,registeredSubtags,skippedAttributes);
  }
 else   if (element instanceof DrawableDomElement || element instanceof ColorDomElement) {
    registerExtensionsForDrawable(facet,tagName,element,registrar,skippedAttributes);
  }
  Collections.addAll(registeredSubtags,AndroidDomUtil.getStaticallyDefinedSubtags(element));
}
