{
  Map<String,PsiClass> map=getViewClassMap(facet);
  if (element instanceof Include) {
    for (    String className : map.keySet()) {
      PsiClass c=map.get(className);
      registerLayoutAttributes(facet,element,c,registrar,ourLayoutAttrsProcessor);
    }
    return;
  }
 else   if (element instanceof Fragment) {
    registerAttributes(facet,element,new String[]{"Fragment"},registrar,ourLayoutAttrsProcessor);
  }
 else {
    String tagName=tag.getName();
    if (!tagName.equals("view")) {
      PsiClass c=map.get(tagName);
      registerAttributesForClassAndSuperclasses(facet,element,c,registrar,ourLayoutAttrsProcessor);
    }
 else {
      String[] styleableNames=getClassNames(map.values());
      registerAttributes(facet,element,styleableNames,registrar,ourLayoutAttrsProcessor);
    }
  }
  registerLayoutAttributes(facet,element,tag,registrar,ourLayoutAttrsProcessor);
  for (  String viewClassName : map.keySet()) {
    PsiClass viewClass=map.get(viewClassName);
    if (!AndroidUtils.isAbstract(viewClass)) {
      registerSubtags(viewClassName,LayoutViewElement.class,registrar,registeredSubtags);
    }
  }
}
