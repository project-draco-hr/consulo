{
  String styleableName=AndroidXmlResourcesUtil.SPECIAL_STYLEABLE_NAMES.get(tagName);
  if (styleableName != null) {
    String[] attrsToSkip=element instanceof Intent ? new String[]{"action"} : ArrayUtil.EMPTY_STRING_ARRAY;
    registerAttributes(facet,element,styleableName,SYSTEM_RESOURCE_PACKAGE,registrar,attrsToSkip);
  }
  if (tagName.equals("searchable")) {
    registerSubtags("actionkey",XmlResourceElement.class,registrar,registeredSubtags);
  }
  Map<String,PsiClass> prefClassMap=getPreferencesClassMap(facet);
  String prefClassName=element.getXmlTag().getName();
  PsiClass c=prefClassMap.get(prefClassName);
  registerAttributesForClassAndSuperclasses(facet,element,c,registrar,null);
  String suffix="Preference";
  if (prefClassName.endsWith(suffix)) {
    String widgetClassName=prefClassName.substring(0,prefClassName.length() - suffix.length());
    Map<String,PsiClass> viewClassMap=getViewClassMap(facet);
    PsiClass widgetClass=viewClassMap.get(widgetClassName);
    registerAttributesForClassAndSuperclasses(facet,element,widgetClass,registrar,null);
  }
  if (c != null && isPreference(prefClassMap,c)) {
    for (    String subtagName : prefClassMap.keySet()) {
      registerSubtags(subtagName,PreferenceElement.class,registrar,registeredSubtags);
    }
  }
}
