{
  Project project=myEnvironment.getProject();
  try {
    MavenRunConfiguration runConfiguration=((MavenRunConfiguration)myEnvironment.getRunProfile()).clone();
    List<String> goals=runConfiguration.getRunnerParameters().getGoals();
    if (goals.size() > 2 && "-rf".equals(goals.get(goals.size() - 2))) {
      goals.set(goals.size() - 1,myResumeModuleId);
    }
 else {
      goals.add("-rf");
      goals.add(myResumeModuleId);
    }
    myRunner.execute(myExecutor,new ExecutionEnvironment(runConfiguration,project,myEnvironment.getRunnerSettings(),myEnvironment.getConfigurationSettings(),null));
  }
 catch (  RunCanceledByUserException ignore) {
  }
catch (  ExecutionException e1) {
    Messages.showErrorDialog(project,e1.getMessage(),ExecutionBundle.message("restart.error.message.title"));
  }
}
