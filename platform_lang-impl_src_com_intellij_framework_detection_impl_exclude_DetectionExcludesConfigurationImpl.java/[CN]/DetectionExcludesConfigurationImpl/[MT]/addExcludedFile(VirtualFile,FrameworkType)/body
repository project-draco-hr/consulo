{
  final String typeId=type != null ? type.getId() : null;
  if (typeId != null && myExcludedFrameworks.contains(typeId) || isFileExcluded(file,typeId)) {
    return;
  }
  final VirtualFilePointerContainer container=myExcludedFiles.get(typeId);
  if (typeId == null) {
    for (    VirtualFilePointerContainer pointerContainer : myExcludedFiles.values()) {
      removeDescendants(file,pointerContainer);
    }
  }
 else {
    removeDescendants(file,container);
  }
  container.add(file);
}
