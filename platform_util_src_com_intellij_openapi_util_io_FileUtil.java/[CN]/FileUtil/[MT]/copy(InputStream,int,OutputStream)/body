{
  final byte[] buffer=BUFFER.get();
  int toRead=maxSize;
  while (toRead > 0) {
    int read=inputStream.read(buffer,0,Math.min(buffer.length,toRead));
    if (read < 0)     break;
    toRead-=read;
    outputStream.write(buffer,0,read);
  }
}
