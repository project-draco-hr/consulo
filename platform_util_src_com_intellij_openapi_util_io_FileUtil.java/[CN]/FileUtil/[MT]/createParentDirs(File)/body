{
  if (!file.exists()) {
    String parentDirPath=file.getParent();
    if (parentDirPath != null) {
      final File parentFile=new File(parentDirPath);
      int attributes=getBooleanAttributes(file);
      boolean ok=attributes != -1 && (attributes & (BA_EXISTS | BA_DIRECTORY)) == (BA_EXISTS | BA_DIRECTORY) || parentFile.exists() && parentFile.isDirectory();
      return ok || parentFile.mkdirs();
    }
  }
  return true;
}
