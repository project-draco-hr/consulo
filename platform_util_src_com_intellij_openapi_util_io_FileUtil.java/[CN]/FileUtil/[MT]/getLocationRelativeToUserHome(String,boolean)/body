{
  if (path == null)   return null;
  if (SystemInfo.isUnix || !unixOnly) {
    File projectDir=new File(path);
    File userHomeDir=new File(SystemProperties.getUserHome());
    if (isAncestor(userHomeDir,projectDir,true)) {
      return '~' + File.separator + getRelativePath(userHomeDir,projectDir);
    }
  }
  return path;
}
