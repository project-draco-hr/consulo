{
  List<File> tempFiles=new ArrayList<File>();
  for (  File file : files) {
    final File tempFile=renameToTempFileOrDelete(file);
    if (tempFile != null) {
      tempFiles.add(tempFile);
    }
  }
  if (!tempFiles.isEmpty()) {
    return startDeletionThread(tempFiles.toArray(new File[tempFiles.size()]));
  }
  return new CompletedFuture<Void>();
}
