{
  int pos=StringUtil.lastIndexOf(path,'/',0,path.length() - 1);
  if (pos < 0) {
    pos=pathRootEnd(path);
    if (pos < 0) {
      throw new IllegalArgumentException("Illegal path: '" + originalPath + "'");
    }
  }
  path.delete(pos + 1,path.length());
}
