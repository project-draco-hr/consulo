{
  if (file.isDirectory() && !SymLinkUtil.isSymLink(file)) {
    File[] files=file.listFiles();
    if (files != null) {
      for (      File child : files) {
        if (!delete(child))         return false;
      }
    }
  }
  for (int i=0; i < MAX_FILE_DELETE_ATTEMPTS; i++) {
    if (file.delete() || !file.exists())     return true;
    try {
      Thread.sleep(10);
    }
 catch (    InterruptedException ignored) {
    }
  }
  return false;
}
