{
  if (path == null)   return null;
  if (SystemInfo.isUnix) {
    final File projectDir=new File(path);
    final File userHomeDir=new File(SystemProperties.getUserHome());
    if (isAncestor(userHomeDir,projectDir,true)) {
      return "~/" + getRelativePath(userHomeDir,projectDir);
    }
  }
  return path;
}
