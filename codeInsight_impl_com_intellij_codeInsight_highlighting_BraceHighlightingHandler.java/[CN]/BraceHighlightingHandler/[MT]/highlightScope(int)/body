{
  if (myEditor.getFoldingModel().isOffsetCollapsed(offset))   return;
  HighlighterIterator iterator=((EditorEx)myEditor).getHighlighter().createIterator(offset);
  final CharSequence chars=myDocument.getCharsSequence();
  if (!BraceMatchingUtil.isStructuralBraceToken(myFileType,iterator,chars)) {
  }
 else {
    if (BraceMatchingUtil.isRBraceTokenToHighlight(iterator,chars,myFileType) || BraceMatchingUtil.isLBraceTokenToHighlight(iterator,chars,myFileType))     return;
  }
  if (!BraceMatchingUtil.findStructuralLeftBrace(myFileType,iterator,chars)) {
    removeLineMarkers();
    return;
  }
  highlightLeftBrace(iterator,true);
}
