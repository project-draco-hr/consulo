{
  super(project);
  myDirectories=directories;
  myTargetDirectory=targetDirectory;
  mySearchInComments=searchInComments;
  mySearchInNonJavaFiles=searchInNonJavaFiles;
  myMoveCallback=moveCallback;
  myClassesToMove=new HashMap<PsiClass,TargetDirectoryWrapper>();
  for (  PsiDirectory dir : directories) {
    collectClasses(myClassesToMove,dir,includeSelf ? dir.getParentDirectory() : dir,getTargetDirectory(dir));
  }
}
