{
  super(project);
  myDirectories=directories;
  myTargetDirectory=targetDirectory;
  mySearchInComments=searchInComments;
  mySearchInNonJavaFiles=searchInNonJavaFiles;
  myMoveCallback=moveCallback;
  myFilesToMove=new HashMap<PsiFile,TargetDirectoryWrapper>();
  for (  PsiDirectory dir : directories) {
    collectFiles2Move(myFilesToMove,dir,includeSelf ? dir.getParentDirectory() : dir,getTargetDirectory(dir));
  }
}
