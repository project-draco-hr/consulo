{
  final ArrayList<ParameterInfo> newParameters=patchParams(psiMethod);
  final PsiImmediateClassType expressionType=getChangedReturnType(psiMethod);
  final ChangeSignatureProcessor csp=new ChangeSignatureProcessor(psiMethod.getProject(),psiMethod,false,null,psiMethod.getName(),expressionType != null ? expressionType : psiMethod.getReturnType(),newParameters.toArray(new ParameterInfo[newParameters.size()]));
  csp.run();
}
