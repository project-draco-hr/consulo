{
  final VirtualFile file=directory.getVirtualFile();
  for (  VirtualFile root : myClasspath) {
    if (VfsUtilCore.isAncestor(root,file,false)) {
      String relativePath=FileUtil.getRelativePath(root.getPath(),file.getPath(),'/');
      if (relativePath == null) {
        continue;
      }
      return createPackage(myPsiManager,this,extensionClass,relativePath.replace('/','.'));
    }
  }
  return null;
}
