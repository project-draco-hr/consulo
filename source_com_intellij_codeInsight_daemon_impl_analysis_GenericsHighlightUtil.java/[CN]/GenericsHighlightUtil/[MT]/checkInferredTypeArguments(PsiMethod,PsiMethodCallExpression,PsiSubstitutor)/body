{
  PsiTypeParameter[] typeParameters=genericMethod.getTypeParameters();
  for (  PsiTypeParameter typeParameter : typeParameters) {
    PsiType substituted=substitutor.substitute(typeParameter);
    if (substituted == null)     return null;
    PsiClassType[] extendsTypes=typeParameter.getExtendsListTypes();
    for (    PsiClassType type : extendsTypes) {
      PsiType extendsType=substitutor.substituteAndFullCapture(type);
      if (!TypeConversionUtil.isAssignable(extendsType,substituted)) {
        PsiClass boundClass=extendsType instanceof PsiClassType ? ((PsiClassType)extendsType).resolve() : null;
        String description=MessageFormat.format("Inferred type ''{3}'' for type parameter ''{0}'' is not within its bound; should {1} ''{2}''",new Object[]{HighlightUtil.formatClass(typeParameter),(boundClass == null || typeParameter.isInterface() == boundClass.isInterface() ? "extend" : "implement"),HighlightUtil.formatType(extendsType),HighlightUtil.formatType(substituted)});
        return HighlightInfo.createHighlightInfo(HighlightInfoType.ERROR,call,description);
      }
    }
  }
  return null;
}
