{
  PsiJavaCodeReferenceElement classReference=expression.getClassReference();
  if (classReference == null) {
    final PsiAnonymousClass anonymousClass=expression.getAnonymousClass();
    if (anonymousClass != null)     classReference=anonymousClass.getBaseClassReference();
  }
  if (classReference == null)   return null;
  final ResolveResult result=classReference.advancedResolve(false);
  if (result.getElement() instanceof PsiTypeParameter) {
    final PsiTypeParameter typeParameter=(PsiTypeParameter)result.getElement();
    String description=MessageFormat.format("Type parameter ''{0}'' cannot be instantiated directly",new Object[]{HighlightUtil.formatClass(typeParameter)});
    return HighlightInfo.createHighlightInfo(HighlightInfoType.ERROR,classReference,description);
  }
  return null;
}
