{
  if (Boolean.TRUE.equals(e.getData(PlatformDataKeys.IS_MODAL_CONTEXT))) {
    e.getPresentation().setEnabledAndVisible(false);
    return;
  }
  if (myAnnotation.getFile() == null) {
    e.getPresentation().setEnabledAndVisible(false);
    return;
  }
  if (getRevisions() == null) {
    e.getPresentation().setEnabledAndVisible(false);
    return;
  }
  e.getPresentation().setVisible(true);
  super.update(e);
}
