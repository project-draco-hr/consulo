{
  processBlocksBefore(offset);
  AbstractBlockWrapper parent=getParentFor(offset,myCurrentBlock);
  if (parent == null)   return new IndentInfo(0,0,0);
  int index=getNewChildPosition(parent,offset);
  final Block block=parent.getBlock();
  ChildAttributesInfo info=getChildAttributesInfo(block,index);
  return adjustLineIndent(myInfos.get(info.parent),info.attributes,info.index);
}
