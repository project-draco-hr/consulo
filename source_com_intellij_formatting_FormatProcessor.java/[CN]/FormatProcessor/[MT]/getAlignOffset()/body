{
  AbstractBlockWrapper current=myCurrentBlock;
  while (true) {
    final AlignmentImpl alignment=(AlignmentImpl)current.getBlock().getAlignment();
    if (alignment != null && alignment.getOffsetRespBlockBefore(myCurrentBlock) != null) {
      return getOffsetBefore(alignment.getOffsetRespBlockBefore(myCurrentBlock).getBlock());
    }
 else {
      current=current.getParent();
      if (current == null)       return -1;
      if (current.getStartOffset() != myCurrentBlock.getStartOffset())       return -1;
    }
  }
}
