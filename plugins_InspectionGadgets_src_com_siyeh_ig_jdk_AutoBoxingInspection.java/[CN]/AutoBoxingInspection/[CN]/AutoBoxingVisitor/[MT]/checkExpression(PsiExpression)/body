{
  if (expression.getParent() instanceof PsiParenthesizedExpression) {
    return;
  }
  final PsiType expressionType=expression.getType();
  if (expressionType == null) {
    return;
  }
  if (expressionType.equals(PsiType.VOID)) {
    return;
  }
  if (!TypeConversionUtil.isPrimitiveAndNotNull(expressionType)) {
    return;
  }
  final PsiPrimitiveType primitiveType=(PsiPrimitiveType)expressionType;
  final PsiClassType boxedType=primitiveType.getBoxedType(expression.getManager(),expression.getResolveScope());
  if (boxedType == null) {
    return;
  }
  final PsiType expectedType=ExpectedTypeUtils.findExpectedType(expression,false);
  if (expectedType == null) {
    return;
  }
  if (ClassUtils.isPrimitive(expectedType)) {
    return;
  }
  if (!expectedType.isAssignableFrom(boxedType)) {
    return;
  }
  registerError(expression);
}
