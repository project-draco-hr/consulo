{
  if (!getField().isFocusOwner())   return;
  myUiUpdater.queue(new Update("textField.suggestCompletion"){
    public void run(){
      final String base=getCompletionBase();
      if (base == null)       return;
      myWorker.addTaskFirst(new Runnable(){
        public void run(){
          final List<LookupFile> toComplete=getCompletion(base);
          SwingUtilities.invokeLater(new Runnable(){
            public void run(){
              if (!base.equals(getCompletionBase()))               return;
              int pos=myPathTextField.getCaretPosition();
              myPathTextField.setCaretPosition(myPathTextField.getText().length());
              myPathTextField.moveCaretPosition(pos);
              showCompletionPopup(toComplete,pos);
            }
          }
);
        }
      }
);
    }
  }
);
}
