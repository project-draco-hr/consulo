{
  LOG.assertTrue(myName != null);
  LOG.assertTrue(myModuleFilePath != null);
  final ModuleType moduleType=getModuleType();
  final Module module=moduleModel.newModule(myModuleFilePath,moduleType);
  final ModifiableRootModel modifiableModel=ModuleRootManager.getInstance(module).getModifiableModel();
  setupRootModel(modifiableModel);
  for (  ModuleConfigurationUpdater updater : myUpdaters) {
    updater.update(module,modifiableModel);
  }
  modifiableModel.commit();
  module.setSavePathsRelative(true);
  FacetManager.getInstance(module).createAndCommitFacets(myFacetInfos);
  return module;
}
