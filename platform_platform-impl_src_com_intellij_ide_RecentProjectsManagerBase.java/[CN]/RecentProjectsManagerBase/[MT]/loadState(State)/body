{
synchronized (myStateLock) {
    myState=state;
    if (myState.lastPath != null && !new File(myState.lastPath).exists()) {
      myState.lastPath=null;
    }
    if (myState.lastPath != null) {
      File lastFile=new File(myState.lastPath);
      if (lastFile.isDirectory() && !new File(lastFile,Project.DIRECTORY_STORE_FOLDER).exists()) {
        myState.lastPath=null;
      }
    }
  }
}
