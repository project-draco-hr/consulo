{
synchronized (myStateLock) {
    for (Iterator i=myState.recentPaths.iterator(); i.hasNext(); ) {
      String s=(String)i.next();
      if (s == null) {
        i.remove();
      }
    }
    while (myState.recentPaths.size() > Registry.intValue("ide.max.recent.projects")) {
      final int index=myState.recentPaths.size() - 1;
      myState.names.remove(myState.recentPaths.get(index));
      myState.recentPaths.remove(index);
    }
  }
}
