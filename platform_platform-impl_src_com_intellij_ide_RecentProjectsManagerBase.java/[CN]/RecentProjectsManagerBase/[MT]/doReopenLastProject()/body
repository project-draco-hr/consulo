{
  GeneralSettings generalSettings=GeneralSettings.getInstance();
  if (generalSettings.isReopenLastProject()) {
    Set<String> openPaths;
    boolean forceNewFrame=true;
synchronized (myStateLock) {
      openPaths=ContainerUtil.newLinkedHashSet(myState.openPaths);
      if (openPaths.isEmpty()) {
        openPaths=ContainerUtil.createMaybeSingletonSet(myState.lastPath);
        forceNewFrame=false;
      }
    }
    for (    String openPath : openPaths) {
      if (isValidProjectPath(openPath)) {
        doOpenProject(openPath,null,forceNewFrame);
      }
    }
  }
}
