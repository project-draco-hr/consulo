{
  final File file=new File(path);
  if (file.isDirectory()) {
    final File nameFile=new File(new File(path,Project.DIRECTORY_STORE_FOLDER),".name");
    if (nameFile.exists()) {
      BufferedReader in=null;
      try {
        in=new BufferedReader(new InputStreamReader(new FileInputStream(nameFile),"UTF-8"));
        final String name=in.readLine();
        if (name != null && name.length() > 0)         return name.trim();
      }
 catch (      IOException e) {
      }
 finally {
        if (in != null) {
          try {
            in.close();
          }
 catch (          IOException e) {
          }
        }
      }
    }
    return file.getName();
  }
 else {
    return FileUtil.getNameWithoutExtension(file.getName());
  }
}
