{
  String cached=myNameCache.get(path);
  if (cached != null) {
    return cached;
  }
  myNamesResolver.cancelAllRequests();
synchronized (myNamesToResolve) {
    myNamesToResolve.add(path);
  }
  myNamesResolver.addRequest(new Runnable(){
    @Override public void run(){
      final Set<String> paths=Collections.synchronizedSet(myNamesToResolve);
synchronized (myNamesToResolve) {
        myNamesToResolve.clear();
      }
      for (      String p : paths) {
        myNameCache.put(p,readProjectName(p));
      }
    }
  }
,50);
  String name=new File(path).getName();
  return path.endsWith(".ipr") ? FileUtilRt.getNameWithoutExtension(name) : name;
}
