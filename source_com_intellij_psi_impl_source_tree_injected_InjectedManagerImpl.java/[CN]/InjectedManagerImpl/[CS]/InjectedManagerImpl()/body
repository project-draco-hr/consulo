{
  myProjectListener=new ProjectManagerAdapter(){
    public void projectClosing(    final Project project){
      Iterator<VirtualFileDelegate> iterator=cachedFiles.iterator();
      while (iterator.hasNext()) {
        VirtualFileDelegate file=iterator.next();
        DocumentRange documentRange=file.getDocumentRange();
        PsiFile injected=PsiDocumentManager.getInstance(project).getCachedPsiFile(documentRange);
        if (injected != null) {
          InjectedLanguageUtil.clearCaches(injected,documentRange);
          iterator.remove();
        }
      }
    }
  }
;
}
