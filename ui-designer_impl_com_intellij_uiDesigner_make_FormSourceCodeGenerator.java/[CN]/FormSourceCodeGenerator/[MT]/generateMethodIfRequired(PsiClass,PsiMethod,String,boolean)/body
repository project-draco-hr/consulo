{
  PsiElementFactory elementFactory=PsiManager.getInstance(myProject).getElementFactory();
  PsiMethod grcMethod=null;
  PsiMethod[] grcMethods=aClass.findMethodsByName(AsmCodeGenerator.GET_ROOT_COMPONENT_METHOD_NAME,false);
  if (!condition) {
    for (    PsiMethod oldGrcMethod : grcMethods) {
      oldGrcMethod.delete();
    }
  }
 else {
    grcMethod=elementFactory.createMethodFromText(methodText,aClass);
    if (grcMethods.length > 0) {
      grcMethods[0].replace(grcMethod);
    }
 else {
      aClass.addAfter(grcMethod,method);
    }
  }
  if (grcMethod != null) {
    CodeStyleManager csm=CodeStyleManager.getInstance(myProject);
    csm.shortenClassReferences(grcMethod);
  }
}
