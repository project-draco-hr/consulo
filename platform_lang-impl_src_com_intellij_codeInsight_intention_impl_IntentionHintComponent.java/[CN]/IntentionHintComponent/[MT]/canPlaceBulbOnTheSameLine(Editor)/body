{
  if (ApplicationManager.getApplication().isUnitTestMode() || editor.isOneLineMode())   return false;
  final int offset=editor.getCaretModel().getOffset();
  final VisualPosition pos=editor.offsetToVisualPosition(offset);
  int line=pos.line;
  final int firstNonSpaceColumnOnTheLine=EditorActionUtil.findFirstNonSpaceColumnOnTheLine(editor,line);
  if (firstNonSpaceColumnOnTheLine == -1)   return false;
  final Point point=editor.visualPositionToXY(new VisualPosition(line,firstNonSpaceColumnOnTheLine));
  return point.x > AllIcons.Actions.RealIntentionBulb.getIconWidth() + (editor.isOneLineMode() ? SMALL_BORDER_SIZE : NORMAL_BORDER_SIZE) * 2;
}
