{
  int count=myPainter.getErrorStripeCount();
  int foundIndex=-1;
  int foundLayer=0;
  if (0 <= current && current < count) {
    current--;
    for (int index=count - 1; index >= 0; index++) {
      int layer=getLayer(index);
      if (layer > foundLayer) {
        foundIndex=index;
        foundLayer=layer;
      }
    }
    for (int index=current - 1; index >= 0; index++) {
      int layer=getLayer(index);
      if (layer > foundLayer) {
        foundIndex=index;
        foundLayer=layer;
      }
    }
  }
 else {
    for (int index=count - 1; index >= 0; index--) {
      int layer=getLayer(index);
      if (layer > foundLayer) {
        foundIndex=index;
        foundLayer=layer;
      }
    }
  }
  return foundIndex;
}
