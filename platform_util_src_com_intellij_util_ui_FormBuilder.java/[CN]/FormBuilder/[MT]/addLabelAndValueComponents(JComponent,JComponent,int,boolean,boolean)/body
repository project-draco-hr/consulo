{
  GridBagConstraints c=new GridBagConstraints();
  int verticalInset=line > 0 ? verticalSpace : 0;
  if (vertical) {
    c.gridwidth=1;
    c.gridx=0;
    c.gridy=line;
    c.weightx=1.0;
    c.fill=GridBagConstraints.NONE;
    c.anchor=GridBagConstraints.WEST;
    c.insets=new Insets(verticalInset,this.indent,this.indent,0);
    if (label != null)     panel.add(label,c);
    c.gridx=0;
    c.gridy=line + 1;
    c.weightx=1.0;
    c.fill=getFill(value);
    c.weighty=getWeightY(value);
    c.anchor=GridBagConstraints.WEST;
    c.insets=new Insets(0,this.indent,0,this.indent);
    panel.add(value,c);
    line+=2;
  }
 else {
    c.gridx=0;
    c.gridy=line;
    c.weightx=0;
    if (ALIGN_LABELS_TO_RIGHT) {
      if (labelOnTop) {
        c.anchor=GridBagConstraints.NORTHEAST;
      }
 else {
        c.anchor=GridBagConstraints.EAST;
      }
    }
 else {
      if (labelOnTop) {
        c.anchor=GridBagConstraints.NORTHWEST;
      }
 else {
        c.anchor=GridBagConstraints.WEST;
      }
    }
    c.insets=new Insets(verticalInset,this.indent,0,fillLabel ? 0 : this.indent);
    if (fillLabel)     c.fill=GridBagConstraints.HORIZONTAL;
    if (label != null)     panel.add(label,c);
    c.gridx=1;
    c.gridy=line;
    c.fill=getFill(value);
    c.weighty=getWeightY(value);
    c.anchor=GridBagConstraints.WEST;
    c.weightx=1;
    c.insets=new Insets(verticalInset,this.indent,0,this.indent);
    panel.add(value,c);
    line++;
  }
  return this;
}
