{
  final PsiElement element=descriptor.getPsiElement();
  final PsiIfStatement ifStatement=(PsiIfStatement)element.getParent();
  final String newStatement=calculateReplacementStatement(ifStatement);
  if (newStatement == null) {
    return;
  }
  if (ifStatement.getElseBranch() == null) {
    final PsiElement nextStatement=PsiTreeUtil.skipSiblingsForward(ifStatement,PsiWhiteSpace.class);
    if (nextStatement != null) {
      nextStatement.delete();
    }
  }
  replaceStatement(ifStatement,newStatement);
}
