{
  if (!isToFixLostTyping())   return false;
  final String text=getTrimmedText();
  if (ok && myCalcElementsThread != null && !text.isEmpty()) {
    myPostponedOkAction=new ActionCallback();
    IdeFocusManager.getInstance(myProject).typeAheadUntil(myPostponedOkAction);
    return true;
  }
  return false;
}
