{
  GrCall call=getContainingCall(closableBlock);
  if (call == null)   return null;
  GroovyResolveResult result=resolveCall(call);
  if (GdkMethodUtil.isWithOrIdentity(result)) {
    final GrExpression qualifier=inferCallQualifier((GrMethodCall)call);
    if (qualifier == null)     return null;
    return new DelegatesToInfo(qualifier.getType(),Closure.DELEGATE_FIRST);
  }
  final GrClosureSignature signature=GrClosureSignatureUtil.createSignature(result);
  if (signature == null)   return null;
  final GrClosureSignatureUtil.ArgInfo<PsiElement>[] map=GrClosureSignatureUtil.mapParametersToArguments(signature,call.getNamedArguments(),call.getExpressionArguments(),call.getClosureArguments(),place,false,true);
  if (map == null) {
    return null;
  }
  final PsiParameter parameter=findParameter(closableBlock,map,result);
  if (parameter == null)   return null;
  final PsiModifierList modifierList=parameter.getModifierList();
  if (modifierList == null)   return null;
  final PsiAnnotation delegatesTo=modifierList.findAnnotation(GroovyCommonClassNames.GROOVY_LANG_DELEGATES_TO);
  if (delegatesTo == null)   return null;
  final PsiType type=inferDelegateType(delegatesTo,map);
  if (type == null)   return null;
  final int strategyValue=getStrategyValue(delegatesTo.findAttributeValue("strategy"));
  return new DelegatesToInfo(type,strategyValue);
}
