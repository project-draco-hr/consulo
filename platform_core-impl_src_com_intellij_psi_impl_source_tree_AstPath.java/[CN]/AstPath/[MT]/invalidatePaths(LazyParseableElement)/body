{
  CompositeElement[] children=scope.getUserData(PATH_CHILDREN);
  if (children == null)   return;
  scope.putUserData(PATH_CHILDREN,null);
  for (  CompositeElement child : children) {
    child.putUserData(NODE_PATH,null);
    PsiElement cachedPsi=child.getCachedPsi();
    if (cachedPsi instanceof StubBasedPsiElementBase) {
      if (((StubBasedPsiElementBase)cachedPsi).getSubstrateRef() instanceof AstPath) {
        throw new AssertionError(cachedPsi.hashCode());
      }
    }
    if (child instanceof LazyParseableElement) {
      invalidatePaths((LazyParseableElement)child);
    }
  }
}
