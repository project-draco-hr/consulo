{
  if (node instanceof FileElement) {
    PsiElement psi=node.getCachedPsi();
    if (!(psi instanceof PsiFileImpl))     return null;
    PsiFileImpl file=(PsiFileImpl)psi;
    if (!(file.getVirtualFile() instanceof VirtualFileWithId) || file.getElementTypeForStubBuilder() == null) {
      return null;
    }
    return new RootPath(file);
  }
  return node.getUserData(NODE_PATH);
}
