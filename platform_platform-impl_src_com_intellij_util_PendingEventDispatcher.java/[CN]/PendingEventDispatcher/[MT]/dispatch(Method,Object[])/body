{
  assertDispatchThread();
  if (myCurrentDispatchMethod != null) {
    LOG.error("Event cannot be raised when dispatching another event is in progress. Dispatching " + myCurrentDispatchMethod.getName());
  }
  method.setAccessible(true);
  ourDispatchingEventsCounter++;
  myCurrentDispatchMethod=method;
  myCurrentDispatchArgs=args;
  try {
    List<T> listeners=getListeners();
    for (int i=0; i < listeners.size(); i++) {
      myListenersState.put(listeners.get(i),Boolean.FALSE);
    }
    for (int i=0; i < listeners.size(); i++) {
      invoke(listeners.get(i));
    }
  }
  finally {
    ourDispatchingEventsCounter--;
    myCurrentDispatchMethod=null;
    myCurrentDispatchArgs=null;
  }
}
