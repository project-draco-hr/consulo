{
  DebuggerManagerThreadImpl.assertIsManagerThread();
  final NodeRenderer renderer=getRenderer(context.getDebugProcess());
  final EvaluateException valueException=myValueException;
  myIsExpandable=(valueException == null || valueException.getExceptionFromTargetVM() != null) && renderer.isExpandable(getValue(),context,this);
  try {
    setValueIcon(renderer.calcValueIcon(this,context,labelListener));
  }
 catch (  EvaluateException e) {
    LOG.info(e);
    setValueIcon(null);
  }
  String label;
  if (valueException == null) {
    try {
      label=renderer.calcLabel(this,context,labelListener);
    }
 catch (    EvaluateException e) {
      label=setValueLabelFailed(e);
    }
  }
 else {
    label=setValueLabelFailed(valueException);
  }
  return setValueLabel(label);
}
