{
  SegmentedOutputStream out=new SegmentedOutputStream(System.out);
  SegmentedOutputStream err=new SegmentedOutputStream(System.err);
  if (!canWorkWithJUnitVersion(err)) {
    err.flush();
    System.exit(-3);
  }
  if (!checkVersion(args,err)) {
    err.flush();
    System.exit(-3);
  }
  System.exit(prepareStreamsAndStart(removeVersionParameter(args),out,err));
}
