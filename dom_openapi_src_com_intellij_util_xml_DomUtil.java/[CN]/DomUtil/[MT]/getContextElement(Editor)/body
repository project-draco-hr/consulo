{
  if (editor == null)   return null;
  final Project project=editor.getProject();
  if (project == null)   return null;
  final PsiFile file=PsiDocumentManager.getInstance(project).getPsiFile(editor.getDocument());
  if (!(file instanceof XmlFile)) {
    return null;
  }
  int offset=editor.getCaretModel().getOffset();
  PsiElement element=file.findElementAt(offset);
  return getDomElement(element);
}
