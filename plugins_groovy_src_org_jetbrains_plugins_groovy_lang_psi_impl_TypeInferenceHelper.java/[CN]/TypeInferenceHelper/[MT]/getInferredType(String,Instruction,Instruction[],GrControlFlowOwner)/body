{
  final Pair<ReachingDefinitionsDfaInstance,List<TIntObjectHashMap<TIntHashSet>>> pair=getDefUseMaps(scope);
  List<TIntObjectHashMap<TIntHashSet>> dfaResult=pair.second;
  if (dfaResult == null)   return null;
  final int varIndex=pair.first.getVarIndex(varName);
  final TIntObjectHashMap<TIntHashSet> allDefs=dfaResult.get(instruction.num());
  final TIntHashSet varDefs=allDefs.get(varIndex);
  if (varDefs == null)   return null;
  PsiType result=null;
  for (  int defIndex : varDefs.toArray()) {
    PsiType defType=getDefinitionType(flow[defIndex],flow,scope);
    if (defType != null) {
      defType=TypesUtil.boxPrimitiveType(defType,scope.getManager(),scope.getResolveScope());
      result=result == null ? defType : TypesUtil.getLeastUpperBound(result,defType,scope.getManager());
    }
  }
  return result;
}
