{
synchronized (myIdToDirCache) {
    final VirtualFile cached=myIdToDirCache.get(id);
    if (cached != null) {
      return cached;
    }
    final VirtualFile result=doFindFile(id);
    if (result != null && result.isDirectory()) {
      myIdToDirCache.put(id,result);
    }
    return result;
  }
}
