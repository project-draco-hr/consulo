{
synchronized (ourLock) {
    if (myKeyStorage == null) {
      throw new UnsupportedOperationException("Iteration over InlineIntegerKeyDescriptors is not supported");
    }
    myKeyStorage.force();
    DataInputStream keysStream=new DataInputStream(new BufferedInputStream(new LimitedInputStream(new FileInputStream(keystreamFile()),(int)myKeyStorage.length())));
    try {
      try {
        while (true) {
          Data key=myDataDescriptor.read(keysStream);
          if (!processor.process(key))           return false;
        }
      }
 catch (      EOFException e) {
      }
      return true;
    }
  finally {
      keysStream.close();
    }
  }
}
