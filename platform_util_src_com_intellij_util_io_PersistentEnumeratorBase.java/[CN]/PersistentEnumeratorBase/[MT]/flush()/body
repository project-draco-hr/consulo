{
  lockStorage();
  try {
    if (myStorage.isDirty() || isDirty()) {
      doFlush();
    }
  }
  finally {
    unlockStorage();
  }
}
