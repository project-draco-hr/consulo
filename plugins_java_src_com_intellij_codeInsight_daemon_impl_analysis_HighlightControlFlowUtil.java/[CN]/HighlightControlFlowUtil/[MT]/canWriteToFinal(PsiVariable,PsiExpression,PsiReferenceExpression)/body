{
  if (variable.hasInitializer())   return false;
  if (variable instanceof PsiParameter)   return false;
  PsiClass innerClass=getInnerClassVariableReferencedFrom(variable,expression);
  if (variable instanceof PsiField) {
    if (HighlightUtil.findEnclosingFieldInitializer(expression) != null)     return true;
    PsiField field=(PsiField)variable;
    if (innerClass != null && !innerClass.getManager().areElementsEquivalent(innerClass,field.getContainingClass()))     return false;
    final PsiMember enclosingCtrOrInitializer=PsiUtil.findEnclosingConstructorOrInitializer(expression);
    return enclosingCtrOrInitializer != null && isSameField(variable,enclosingCtrOrInitializer,field,reference);
  }
  if (variable instanceof PsiLocalVariable) {
    boolean isAccessedFromOtherClass=innerClass != null;
    if (isAccessedFromOtherClass) {
      return false;
    }
  }
  return true;
}
