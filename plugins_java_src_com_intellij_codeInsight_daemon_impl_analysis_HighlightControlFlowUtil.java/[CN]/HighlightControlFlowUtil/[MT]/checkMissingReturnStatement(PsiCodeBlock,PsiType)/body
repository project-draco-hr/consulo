{
  if (body == null || returnType == null || PsiType.VOID.equals(returnType.getDeepComponentType())) {
    return null;
  }
  try {
    ControlFlow controlFlow=getControlFlowNoConstantEvaluate(body);
    if (!ControlFlowUtil.returnPresent(controlFlow)) {
      PsiJavaToken rBrace=body.getRBrace();
      PsiElement context=rBrace == null ? body.getLastChild() : rBrace;
      String message=JavaErrorMessages.message("missing.return.statement");
      HighlightInfo info=HighlightInfo.newHighlightInfo(HighlightInfoType.ERROR).range(context).descriptionAndTooltip(message).create();
      PsiElement parent=body.getParent();
      if (parent instanceof PsiMethod) {
        PsiMethod method=(PsiMethod)parent;
        QuickFixAction.registerQuickFixAction(info,QUICK_FIX_FACTORY.createAddReturnFix(method));
        QuickFixAction.registerQuickFixAction(info,QUICK_FIX_FACTORY.createMethodReturnFix(method,PsiType.VOID,true));
      }
      return info;
    }
  }
 catch (  AnalysisCanceledException ignored) {
  }
  return null;
}
