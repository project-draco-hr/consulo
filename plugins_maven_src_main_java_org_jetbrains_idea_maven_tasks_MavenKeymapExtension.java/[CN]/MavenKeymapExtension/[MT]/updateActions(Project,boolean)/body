{
  String actionIdPrefix=getActionPrefix(project,null);
  if (delete) {
    doUpdateActions(actionIdPrefix,Collections.<MavenGoalAction>emptyList());
    return;
  }
  MavenProjectsManager projectsManager=MavenProjectsManager.getInstance(project);
  MavenTasksManager eventsHandler=MavenTasksManager.getInstance(project);
  List<MavenGoalAction> actionList=new ArrayList<MavenGoalAction>();
  for (  MavenProject eachProject : projectsManager.getProjects()) {
    if (projectsManager.isIgnored(eachProject))     continue;
    actionList.addAll(collectActions(eachProject,projectsManager,eventsHandler));
  }
  doUpdateActions(actionIdPrefix,actionList);
}
