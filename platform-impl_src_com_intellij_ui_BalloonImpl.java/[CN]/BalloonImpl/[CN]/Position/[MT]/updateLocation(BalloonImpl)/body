{
  Rectangle bounds=balloon.myForcedBounds;
  if (bounds == null) {
    final Dimension size=balloon.myComp.getPreferredSize();
    balloon.myComp.setSize(size);
    final Dimension layeredPaneSize=balloon.myLayeredPane.getSize();
    Point location=balloon.myShowPointer ? getLocation(layeredPaneSize,balloon.myTargetPoint,size) : new Point(balloon.myTargetPoint.x - size.width / 2,balloon.myTargetPoint.y - size.height / 2);
    bounds=new Rectangle(location.x,location.y,size.width,size.height);
    ScreenUtil.moveToFit(bounds,new Rectangle(0,0,layeredPaneSize.width,layeredPaneSize.height),balloon.myContainerInsets);
  }
  balloon.myComp.setBounds(bounds);
}
