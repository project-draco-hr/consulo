{
  super(document);
  myOffset=offset;
  myOldString=oldString == null ? "" : oldString;
  myOldLength=myOldString.length();
  myNewString=newString == null ? "" : newString;
  myNewLength=myNewString.length();
  myOldTimeStamp=oldTimeStamp;
  if (getDocument().getTextLength() == 0) {
    isOnlyOneLineChangedCalculated=true;
    isOnlyOneLineChanged=false;
    myIsWholeDocReplaced=false;
  }
 else {
    myIsWholeDocReplaced=offset == 0 && document.getTextLength() == myOldLength;
  }
}
