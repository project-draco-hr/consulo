{
  final Library[] libraries=libraryTable.getLibraries();
  if (libraries.length == 0) {
    return null;
  }
  final CompositeGenerator gen=new CompositeGenerator();
  gen.add(new Comment(comment),1);
  TreeMap<String,Library> sortedLibs=new TreeMap<String,Library>();
  for (  final Library library : libraries) {
    final String libraryName=library.getName();
    if (!myUsedLibraries.contains(libraryName)) {
      continue;
    }
    sortedLibs.put(BuildProperties.getLibraryPathId(libraryName),library);
  }
  for (  final Library library : sortedLibs.values()) {
    final String libraryName=library.getName();
    final Path libraryPath=new Path(BuildProperties.getLibraryPathId(libraryName));
    genLibraryContent(myProject,myGenOptions,library,baseDir,libraryPath);
    gen.add(libraryPath,1);
  }
  return gen.getGeneratorCount() > 0 ? gen : null;
}
