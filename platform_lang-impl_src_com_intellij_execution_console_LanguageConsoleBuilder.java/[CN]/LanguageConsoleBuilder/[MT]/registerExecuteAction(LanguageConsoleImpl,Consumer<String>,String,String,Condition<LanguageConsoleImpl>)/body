{
  ConsoleExecuteAction.ConsoleExecuteActionHandler handler=new ConsoleExecuteAction.ConsoleExecuteActionHandler(true){
    @Override void doExecute(    @NotNull String text,    @NotNull LanguageConsoleImpl console,    @Nullable LanguageConsoleView consoleView){
      executeActionHandler.consume(text);
    }
  }
;
  ConsoleExecuteAction action=new ConsoleExecuteAction(console,handler,enabledCondition);
  action.registerCustomShortcutSet(action.getShortcutSet(),console.getConsoleEditor().getComponent());
  ConsoleHistoryController historyController=new ConsoleHistoryController(historyType,historyPersistenceId,console,handler.getConsoleHistoryModel());
  historyController.install();
  return new Pair<AnAction,ConsoleHistoryController>(action,historyController);
}
