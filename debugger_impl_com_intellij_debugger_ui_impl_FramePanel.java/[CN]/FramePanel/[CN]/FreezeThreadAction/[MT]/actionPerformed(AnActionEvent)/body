{
  final ThreadDescriptorImpl thread=(ThreadDescriptorImpl)myThreadsCombo.getSelectedItem();
  if (thread != null && thread.isSuspended()) {
    final ThreadReferenceProxyImpl threadReferenceProxy=thread.getThreadReference();
    final DebuggerContextImpl debuggerContext=getContext();
    final DebugProcessImpl process=debuggerContext.getDebugProcess();
    process.getManagerThread().invokeLater(new SuspendContextCommandImpl(debuggerContext.getSuspendContext()){
      public void contextAction() throws Exception {
        if (thread.isFrozen()) {
          process.createResumeThreadCommand(getSuspendContext(),threadReferenceProxy).run();
        }
 else {
          process.createFreezeThreadCommand(threadReferenceProxy).run();
        }
      }
    }
);
  }
}
