{
  super(project,stateManager);
  setBorder(null);
  myThreadsCombo=new JBComboBox();
  myThreadsCombo.setRenderer(new DebuggerComboBoxRenderer());
  myThreadsListener=new ThreadsListener();
  myThreadsCombo.addItemListener(myThreadsListener);
  myFramesList=new FramesList();
  myFramesListener=new FramesListener();
  myFramesList.addListSelectionListener(myFramesListener);
  registerThreadsPopupMenu(myFramesList);
  myThreadsPanel=new JPanel(new BorderLayout());
  myThreadsPanel.setBorder(null);
  myThreadsPanel.add(myThreadsCombo,BorderLayout.NORTH);
  myThreadsPanel.add(new JScrollPane(myFramesList),BorderLayout.CENTER);
  final FrameDebuggerTree frameTree=getFrameTree();
  myVarsPanel=new JPanel(new BorderLayout());
  myVarsPanel.add(new JScrollPane(frameTree),BorderLayout.CENTER);
  registerDisposable(DebuggerAction.installEditAction(frameTree,DebuggerActions.EDIT_NODE_SOURCE));
  overrideShortcut(frameTree,DebuggerActions.SET_VALUE,KeyStroke.getKeyStroke(KeyEvent.VK_F2,0));
  overrideShortcut(frameTree,DebuggerActions.MARK_OBJECT,KeyStroke.getKeyStroke(KeyEvent.VK_F11,0));
  add(myThreadsPanel,BorderLayout.CENTER);
}
