{
  ButtonGroup group=new ButtonGroup();
  group.add(myImlAtModuleContentRootsButton);
  group.add(myImlAtProjectDirButton);
  JPanel panel=new JPanel(new GridLayout(2,1));
  panel.add(myImlAtModuleContentRootsButton);
  panel.add(myImlAtProjectDirButton);
  myImlAtModuleContentRootsButton.addItemListener(new ItemListener(){
    @Override public void itemStateChanged(    ItemEvent e){
      if (e.getStateChange() != ItemEvent.SELECTED) {
        return;
      }
      for (      GradleModule module : myProject.getModules()) {
        Collection<GradleContentRoot> contentRoots=module.getContentRoots();
        if (contentRoots.isEmpty()) {
          continue;
        }
        module.setModuleFileDirectoryPath(contentRoots.iterator().next().getRootPath());
      }
      PropertiesComponent.getInstance().setValue(KEEP_IML_AT_MODULE_DIR_PROPERTY_KEY,String.valueOf(true));
    }
  }
);
  myImlAtProjectDirButton.addItemListener(new ItemListener(){
    @Override public void itemStateChanged(    ItemEvent e){
      if (e.getStateChange() != ItemEvent.SELECTED) {
        return;
      }
      String dirPath=myProjectConfigLocationField.getText();
      if (StringUtil.isEmpty(dirPath)) {
        return;
      }
      boolean goodDir=FileUtilRt.createDirectory(new File(dirPath));
      if (!goodDir) {
        return;
      }
      for (      GradleModule module : myProject.getModules()) {
        module.setModuleFileDirectoryPath(dirPath);
      }
      PropertiesComponent.getInstance().setValue(KEEP_IML_AT_MODULE_DIR_PROPERTY_KEY,String.valueOf(false));
    }
  }
);
  boolean imlAtModuleDir=PropertiesComponent.getInstance().getBoolean(KEEP_IML_AT_MODULE_DIR_PROPERTY_KEY,true);
  if (imlAtModuleDir) {
    myImlAtModuleContentRootsButton.setSelected(true);
  }
 else {
    myImlAtProjectDirButton.setSelected(true);
  }
  builder.add("gradle.import.structure.settings.label.iml.location",panel);
}
