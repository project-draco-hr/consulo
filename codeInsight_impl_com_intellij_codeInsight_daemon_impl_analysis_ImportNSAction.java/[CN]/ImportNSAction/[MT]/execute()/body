{
  final Object[] objects=myList.toArray();
  Arrays.sort(objects);
  final JList list=new JList(objects);
  list.setSelectedIndex(0);
  final Runnable runnable=new Runnable(){
    public void run(){
      final String value=(String)list.getSelectedValue();
      if (value != null) {
        final Project project=myFile.getProject();
        new WriteCommandAction.Simple(project,myFile){
          protected void run() throws Throwable {
            CreateNSDeclarationIntentionFix.insertTaglibDeclaration((XmlFile)myFile,value,project,myPrefix);
          }
        }
.executeSilently();
      }
    }
  }
;
  if (list.getModel().getSize() == 1) {
    runnable.run();
  }
 else {
    new PopupChooserBuilder(list).setTitle(myTitle).setItemChoosenCallback(runnable).createPopup().showInBestPositionFor(myEditor);
  }
  return true;
}
