{
  final ArrayList<AnAction> groups=ContainerUtil.newArrayList();
  String groupName;
  for (  AnAction anAction : action.getChildren(null)) {
    if (anAction instanceof ActionGroup) {
      groupName=getActionText(anAction);
      for (      AnAction childAction : ((ActionGroup)anAction).getChildren(null)) {
        if (groupName != null) {
          setParentGroupName(groupName,childAction);
        }
        groups.add(childAction);
      }
    }
 else {
      groups.add(anAction);
    }
  }
  return groups;
}
