{
  final LeftNeighbour entityFilter=new LeftNeighbour(new XmlTextFilter("%"));
  declareFinalScope(XmlToken.class);
{
    final CompletionVariant variant=new CompletionVariant(new AndFilter(new LeftNeighbour(new OrFilter(new XmlTextFilter(new String[]{"#","!","(",",","|","["}),new XmlTokenTypeFilter(XmlTokenType.XML_NAME))),new NotFilter(entityFilter)));
    variant.includeScopeClass(XmlToken.class,true);
    variant.addCompletion(new String[]{"#PCDATA","#IMPLIED","#REQUIRED","#FIXED","<!ATTLIST","<!ELEMENT","<!NOTATION","INCLUDE","IGNORE","CDATA","ID","IDREF","EMPTY","ANY","IDREFS","ENTITIES","ENTITY","<!ENTITY","NMTOKEN","NMTOKENS","SYSTEM","PUBLIC"},TailType.NONE);
    variant.setInsertHandler(new MyInsertHandler());
    registerVariant(variant);
  }
{
    final CompletionVariant variant=new CompletionVariant(entityFilter);
    variant.includeScopeClass(XmlToken.class,true);
    variant.addCompletion(new DtdEntityGetter());
    variant.setInsertHandler(new XmlCompletionData.EntityRefInsertHandler());
    registerVariant(variant);
  }
}
