{
  final List<String> results=new LinkedList<String>();
  final PsiElementProcessor processor=new PsiElementProcessor(){
    public boolean execute(    @NotNull final PsiElement element){
      if (element instanceof XmlEntityDecl) {
        final XmlEntityDecl xmlEntityDecl=(XmlEntityDecl)element;
        if (xmlEntityDecl.isInternalReference()) {
          results.add(xmlEntityDecl.getName());
        }
      }
      return true;
    }
  }
;
  XmlUtil.processXmlElements((XmlFile)context.getContainingFile().getOriginalFile(),processor,true);
  return ArrayUtil.toObjectArray(results);
}
