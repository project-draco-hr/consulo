def _send(self, data, flush=False):
    self.pipeo.write(('%d\n' % len(data)))
    if data:
        self.pipeo.write(data)
    if flush:
        self.pipeo.flush()
    self.readerr()
