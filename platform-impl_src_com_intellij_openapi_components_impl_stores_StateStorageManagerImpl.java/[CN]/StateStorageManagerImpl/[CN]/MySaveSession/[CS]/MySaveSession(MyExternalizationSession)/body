{
  myCompoundSaveSession=new CompoundSaveSession(externalizationSession.myCompoundExternalizationSession);
  RuntimeException creationPoint=new RuntimeException();
  StringWriter stringWriter=new StringWriter();
  PrintWriter writer=new PrintWriter(stringWriter);
  try {
    creationPoint.printStackTrace(writer);
  }
  finally {
    writer.close();
  }
  myCreationPoint=stringWriter.toString();
  Map<IFile,StateStorage> fileToStorage=new HashMap<IFile,StateStorage>();
  fileToStorage.clear();
  for (  StateStorage storage : myCompoundSaveSession.getStateStorages()) {
    final List<IFile> storageFiles=myCompoundSaveSession.getSaveSession(storage).getAllStorageFiles();
    for (    IFile storageFile : storageFiles) {
      fileToStorage.put(storageFile,storage);
    }
  }
}
