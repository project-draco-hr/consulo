{
  final Sdk jdk=ModuleRootManager.getInstance(module).getSdk();
  final VirtualFile homeDirectory=jdk.getHomeDirectory();
  if (homeDirectory == null) {
    throw new IllegalArgumentException(CompilerBundle.jdkHomeNotFoundMessage(jdk));
  }
  final String jdkPath=homeDirectory.getPath().replace('/',File.separatorChar);
  @NonNls final String compilerPath=jdkPath + File.separator + "bin"+ File.separator+ "rmic";
  @NonNls final List<String> commandLine=new ArrayList<String>();
  commandLine.add(compilerPath);
  CompilerUtil.addLocaleOptions(commandLine,true,EncodingProjectManager.getInstance(myProject).getDefaultCharset().name());
  commandLine.add("-verbose");
  commandLine.addAll(Arrays.asList(RmicSettings.getInstance(myProject).getOptions()));
  commandLine.add("-classpath");
  commandLine.add(getCompilationClasspath(module));
  commandLine.add("-d");
  commandLine.add(outputPath);
  for (  RmicProcessingItem item : items) {
    commandLine.add(item.getClassQName());
  }
  return commandLine.toArray(new String[commandLine.size()]);
}
