{
  List<JavadocParameterInfo> result=new ArrayList<JavadocParameterInfo>();
  final PsiElement elementAtCaret=psiFile.findElementAt(offset);
  if (elementAtCaret == null) {
    return EMPTY;
  }
  PsiDocTag tag=PsiTreeUtil.getParentOfType(elementAtCaret,PsiDocTag.class);
  if (tag == null) {
    if (elementAtCaret instanceof PsiWhiteSpace) {
      for (PsiElement e=elementAtCaret.getPrevSibling(); e != null && tag == null; e=e.getPrevSibling()) {
        tag=PsiTreeUtil.getParentOfType(e,PsiDocTag.class,false);
        if (e instanceof PsiWhiteSpace || (e instanceof PsiDocToken && ((PsiDocToken)e).getTokenType() == JavaDocTokenType.DOC_COMMENT_LEADING_ASTERISKS)) {
          continue;
        }
        break;
      }
    }
  }
  if (tag == null) {
    return EMPTY;
  }
  JavadocParameterInfo anchorInfo=parse(tag,editor);
  if (anchorInfo == null) {
    return EMPTY;
  }
  for (PsiElement e=tag.getPrevSibling(); e != null; e=e.getPrevSibling()) {
    JavadocParameterInfo info=parse(e,editor);
    if (info == null) {
      break;
    }
    result.add(0,info);
  }
  result.add(anchorInfo);
  for (PsiElement e=tag.getNextSibling(); e != null; e=e.getNextSibling()) {
    JavadocParameterInfo info=parse(e,editor);
    if (info == null) {
      break;
    }
    result.add(info);
  }
  return new Pair<JavadocParameterInfo,List<JavadocParameterInfo>>(anchorInfo,result);
}
