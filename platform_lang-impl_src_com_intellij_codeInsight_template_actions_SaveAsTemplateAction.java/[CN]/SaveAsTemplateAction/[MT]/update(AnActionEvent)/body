{
  DataContext dataContext=e.getDataContext();
  Editor editor=PlatformDataKeys.EDITOR.getData(dataContext);
  PsiFile file=LangDataKeys.PSI_FILE.getData(dataContext);
  if (file == null || editor == null) {
    e.getPresentation().setEnabled(false);
  }
 else {
    e.getPresentation().setEnabled(editor.getSelectionModel().hasSelection());
  }
}
