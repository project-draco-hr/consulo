{
  final CompositeElement treeElement=getTreeElement();
  if (treeElement != null) {
    myCachedType=null;
    return SharedImplUtil.getType(this);
  }
 else {
    if (myCachedType != null) {
      PsiType type=myCachedType.get();
      if (type != null)       return type;
    }
    String typeText=getRepositoryManager().getMethodView().getParameterTypeText(getRepositoryId(),getIndex());
    try {
      final PsiType type=getManager().getParserFacade().createTypeFromText(typeText,this);
      myCachedType=new PatchedSoftReference<PsiType>(type);
      return type;
    }
 catch (    IncorrectOperationException e) {
      LOG.error(e);
      return null;
    }
  }
}
