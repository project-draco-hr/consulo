{
  component.setCursor(Cursor.getPredefinedCursor(Cursor.WAIT_CURSOR));
  final PsiElement psiElement=component.getElement();
  final PsiManager manager=PsiManager.getInstance(getProject(psiElement));
  if (url.startsWith(PSI_ELEMENT_PROTOCOL)) {
    final String refText=url.substring(PSI_ELEMENT_PROTOCOL.length());
    DocumentationProvider provider=getProviderFromElement(psiElement);
    if (provider != null) {
      final PsiElement targetElement=provider.getDocumentationElementForLink(manager,refText,psiElement);
      if (targetElement != null) {
        fetchDocInfo(getDefaultCollector(targetElement,null),component);
      }
    }
  }
 else {
    final String docUrl=url;
    fetchDocInfo(new DocumentationCollector(){
      public String getDocumentation() throws Exception {
        if (docUrl.startsWith(DOC_ELEMENT_PROTOCOL)) {
          final DocumentationProvider provider=getProviderFromElement(psiElement);
          if (provider instanceof ExtensibleDocumentationProvider) {
            final ExtensibleDocumentationProvider documentationProvider=(ExtensibleDocumentationProvider)provider;
            final String text=documentationProvider.getExternalDocumentation(docUrl.substring(DOC_ELEMENT_PROTOCOL.length()),getProject(psiElement));
            if (text != null) {
              return text;
            }
            documentationProvider.openExternalDocumentation(psiElement,getOriginalElement(psiElement));
          }
        }
 else {
          BrowserUtil.launchBrowser(docUrl);
        }
        return "";
      }
      public PsiElement getElement(){
        return psiElement;
      }
    }
,component);
  }
  component.setCursor(Cursor.getPredefinedCursor(Cursor.DEFAULT_CURSOR));
}
