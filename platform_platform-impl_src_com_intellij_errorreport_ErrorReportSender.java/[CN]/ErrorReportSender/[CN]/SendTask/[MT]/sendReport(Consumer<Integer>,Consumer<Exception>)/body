{
  Task.Backgroundable task=new Task.Backgroundable(myProject,DiagnosticBundle.message("title.submitting.error.report")){
    @Override public void run(    @NotNull ProgressIndicator indicator){
      try {
        HttpConfigurable.getInstance().prepareURL(WebServiceApi.MAIN.buildUrl());
        if (!StringUtil.isEmpty(myLogin)) {
          int threadId=ITNProxy.postNewThread(myLogin,myPassword,errorBean,IdeaLogger.getOurCompilationTimestamp());
          callback.consume(threadId);
        }
      }
 catch (      Exception ex) {
        errback.consume(ex);
      }
    }
  }
;
  if (myProject == null) {
    task.run(new EmptyProgressIndicator());
  }
 else {
    ProgressManager.getInstance().run(task);
  }
}
