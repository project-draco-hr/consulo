{
  final Namespace namespace=DomReflectionUtil.findAnnotationDFS(myRootElementClass,Namespace.class);
  if (namespace != null) {
    final String key=namespace.value();
    final NotNullFunction<XmlTag,List<String>> function=myNamespacePolicies.get(key);
    LOG.assertTrue(function != null,"No namespace policy for namespace " + key + " in "+ this);
    final XmlDocument document=file.getDocument();
    if (document != null) {
      final XmlTag tag=document.getRootTag();
      if (tag != null) {
        return function.fun(tag).contains(tag.getNamespace());
      }
    }
    return false;
  }
  return true;
}
