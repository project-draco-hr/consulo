{
  if (name == null) {
    ourNames.markCorrupted();
    throw new RuntimeException("VFS name enumerator corrupted");
  }
  String suffix=findSuffix(name);
  Object rawName=convertToBytesIfAsciiString(stripSuffix(name,suffix));
synchronized (ourCacheLock) {
    ourSuffixCache.put(idx,suffix);
    ourNameCache.put(idx,rawName);
  }
  return returnName ? rawName : suffix;
}
