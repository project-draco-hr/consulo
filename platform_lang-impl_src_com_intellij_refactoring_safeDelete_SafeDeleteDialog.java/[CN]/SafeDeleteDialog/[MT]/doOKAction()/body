{
  if (myCallback != null) {
    myCallback.run(this);
  }
 else {
    super.doOKAction();
  }
  if (myDelegate == null) {
    final RefactoringSettings refactoringSettings=RefactoringSettings.getInstance();
    refactoringSettings.SAFE_DELETE_SEARCH_IN_COMMENTS=isSearchInComments();
    if (myCbSearchTextOccurrences != null) {
      refactoringSettings.SAFE_DELETE_SEARCH_IN_NON_JAVA=isSearchForTextOccurences();
    }
    if (myCbSafeDelete != null) {
      refactoringSettings.SAFE_DELETE_WHEN_DELETE=myCbSafeDelete.isSelected();
    }
  }
 else {
    myDelegate.setToSearchInComments(myElements[0],isSearchInComments());
    if (myCbSearchTextOccurrences != null) {
      myDelegate.setToSearchForTextOccurrences(myElements[0],isSearchForTextOccurences());
    }
  }
}
