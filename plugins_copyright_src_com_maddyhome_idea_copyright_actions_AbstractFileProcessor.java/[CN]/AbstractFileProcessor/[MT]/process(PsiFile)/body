{
  if (!CodeInsightUtilBase.preparePsiElementForWrite(file))   return;
  final Runnable[] resultRunnable=new Runnable[1];
  execute(new Runnable(){
    public void run(){
      try {
        resultRunnable[0]=preprocessFile(file);
      }
 catch (      IncorrectOperationException incorrectoperationexception) {
        logger.error(incorrectoperationexception);
      }
    }
  }
,new Runnable(){
    public void run(){
      if (resultRunnable[0] != null) {
        resultRunnable[0].run();
      }
    }
  }
);
}
