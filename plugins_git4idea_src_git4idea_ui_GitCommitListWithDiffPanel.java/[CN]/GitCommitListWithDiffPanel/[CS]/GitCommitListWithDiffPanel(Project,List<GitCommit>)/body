{
  myProject=project;
  myCommits=commits;
  myCommitListPanel=new GitCommitListPanel(myProject,myCommits);
  myCommitListPanel.addListSelectionListener(new Consumer<GitCommit>(){
    @Override public void consume(    GitCommit commit){
      myChangesBrowser.setChangesToDisplay(commit.getChanges());
    }
  }
);
  myChangesBrowser=new ChangesBrowser(myProject,null,Collections.<Change>emptyList(),null,false,true,null,ChangesBrowser.MyUseCase.LOCAL_CHANGES,null);
  myCommitListPanel.registerDiffAction(myChangesBrowser.getDiffAction());
  Splitter splitter=new Splitter(false,0.7f);
  splitter.setFirstComponent(myCommitListPanel);
  splitter.setSecondComponent(myChangesBrowser);
  add(splitter);
}
