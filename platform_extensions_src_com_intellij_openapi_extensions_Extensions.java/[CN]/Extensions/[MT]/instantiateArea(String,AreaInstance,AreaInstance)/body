{
  if (!ourAreaClass2Configuration.containsKey(areaClass)) {
    throw new IllegalArgumentException("Area class is not registered: " + areaClass);
  }
  if (areaInstance == null || ourAreaInstance2area.containsKey(areaInstance)) {
    throw new IllegalArgumentException("Area already instantiated for: " + areaInstance);
  }
  ExtensionsArea parentArea=getArea(parentAreaInstance);
  AreaClassConfiguration configuration=ourAreaClass2Configuration.get(areaClass);
  if (!equals(parentArea.getAreaClass(),configuration.getParentClassName())) {
    throw new IllegalArgumentException("Wrong parent area. Expected class: " + configuration.getParentClassName() + " actual class: "+ parentArea.getAreaClass());
  }
  ExtensionsAreaImpl area=new ExtensionsAreaImpl(areaClass,areaInstance,parentArea.getPicoContainer(),ourLogger);
  ourAreaInstance2area.put(areaInstance,area);
  ourAreaClass2instances.putValue(areaClass,areaInstance);
  ourAreaInstance2class.put(areaInstance,areaClass);
  AreaListener[] listeners=getAreaListeners();
  for (  AreaListener listener : listeners) {
    listener.areaCreated(areaClass,areaInstance);
  }
}
