{
  final Project project=context.getProject();
  ExcludedEntriesConfiguration configuration=((CompilerConfigurationImpl)CompilerConfiguration.getInstance(project)).getExcludedEntriesConfiguration();
  Set<ExcludeEntryDescription> addedEntries=new HashSet<ExcludeEntryDescription>();
  for (  Module module : ModuleManager.getInstance(project).getModules()) {
    AndroidFacet facet=AndroidFacet.getInstance(module);
    if (facet != null && facet.getConfiguration().LIBRARY_PROJECT) {
      excludeAllSourceRoots(module,configuration,addedEntries);
    }
  }
  CompilerManager.getInstance(project).addCompilationStatusListener(new MyCompilationStatusListener(project,addedEntries),project);
  return true;
}
