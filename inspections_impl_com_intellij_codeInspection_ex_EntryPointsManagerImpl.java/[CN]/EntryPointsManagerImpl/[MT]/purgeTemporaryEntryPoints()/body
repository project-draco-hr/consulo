{
  Collection collection=myFQNameToSmartEntryPointRef.values();
  SmartRefElementPointerImpl[] entries=(SmartRefElementPointerImpl[])collection.toArray(new SmartRefElementPointerImpl[collection.size()]);
  for (int i=0; i < entries.length; i++) {
    SmartRefElementPointer entry=entries[i];
    if (!entry.isPersistent()) {
      myFQNameToSmartEntryPointRef.remove(entry.getFQName());
      RefElement refElement=(RefElement)entry.getRefElement();
      if (refElement != null)       ((RefElementImpl)refElement).setEntry(false);
      entry.freeReference();
    }
  }
}
