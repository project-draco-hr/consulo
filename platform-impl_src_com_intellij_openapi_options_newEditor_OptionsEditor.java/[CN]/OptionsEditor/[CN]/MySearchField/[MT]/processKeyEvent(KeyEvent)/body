{
  if (isFocusOwner() && !myDelegatingNow) {
    try {
      myDelegatingNow=true;
      final KeyStroke stroke=KeyStroke.getKeyStrokeForEvent(e);
      final Object action=getInputMap().get(stroke);
      if (action == null) {
        onTextKeyEvent(e);
        return;
      }
    }
  finally {
      myDelegatingNow=false;
    }
  }
  super.processKeyEvent(e);
}
