{
  final Configurable current=getContext().getCurrentConfigurable();
  final String text=mySearch.getText();
  try {
    if (myLastConfigurable == current && myLastText != null && myLastText.equals(text))     return;
    if (!(current instanceof SearchableConfigurable)) {
      myVisible=false;
      myGP.clear();
      return;
    }
    myGP.clear();
    final SearchableConfigurable searchable=(SearchableConfigurable)current;
    final Runnable runnable=SearchUtil.lightOptions(searchable,myContentWrapper,text,myGP);
    if (runnable != null) {
      myVisible=true;
      runnable.run();
      boolean pushFilteringFurther=true;
      if (myFilter.myHits != null) {
        pushFilteringFurther=!myFilter.myHits.getNameHits().contains(current);
      }
      final Runnable ownSearch=searchable.enableSearch(text);
      if (pushFilteringFurther && ownSearch != null) {
        ownSearch.run();
      }
      fireNeedsRepaint(myContentWrapper);
    }
 else {
      myVisible=false;
    }
  }
  finally {
    myLastConfigurable=current;
    myContentWrapper.repaint();
  }
}
