{
  final Configurable current=getContext().getCurrentConfigurable();
  if (current != null && !myConfigurable2Content.containsKey(current))   return false;
  String text=mySearch.getText();
  text=text != null ? text.trim() : text;
  try {
    if (myLastConfigurable == current && myLastText != null && myLastText.equals(text))     return true;
    myLastText=text;
    if (current == null) {
      myVisible=false;
      myGP.clear();
      return true;
    }
    SearchableConfigurable searchable;
    if (current instanceof SearchableConfigurable) {
      searchable=(SearchableConfigurable)current;
    }
 else {
      searchable=new SearachableWrappper(current);
    }
    myGP.clear();
    final Runnable runnable=SearchUtil.lightOptions(searchable,myContentWrapper,text,myGP);
    if (runnable != null) {
      myVisible=true;
      runnable.run();
      boolean pushFilteringFurther=true;
      if (myFilter.myHits != null) {
        pushFilteringFurther=!myFilter.myHits.getNameHits().contains(current);
      }
      final Runnable ownSearch=searchable.enableSearch(text);
      if (pushFilteringFurther && ownSearch != null) {
        ownSearch.run();
      }
      fireNeedsRepaint(myContentWrapper);
    }
 else {
      myVisible=false;
    }
  }
  finally {
    myLastConfigurable=current;
    myOwnDetails.getComponent().repaint();
  }
  return true;
}
