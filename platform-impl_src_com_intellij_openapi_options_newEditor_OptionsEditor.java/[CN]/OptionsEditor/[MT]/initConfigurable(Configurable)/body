{
  final ActionCallback result=new ActionCallback();
  final Ref<ConfigurableContent> content=new Ref<ConfigurableContent>();
  if (configurable instanceof MasterDetails) {
    content.set(new Details((MasterDetails)configurable));
  }
 else {
    content.set(new Simple(configurable));
  }
  if (!myConfigurable2Content.containsKey(configurable)) {
    if (configurable instanceof Place.Navigator) {
      ((Place.Navigator)configurable).setHistory(myHistory);
    }
    configurable.reset();
  }
  UIUtil.invokeLaterIfNeeded(new Runnable(){
    public void run(){
      myConfigurable2Content.put(configurable,content.get());
      result.setDone();
    }
  }
);
  return result;
}
