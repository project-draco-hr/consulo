def goutgoing(ui, repo, dest=None, **opts):
    'show the outgoing changesets alongside an ASCII revision graph\n\n    Print the outgoing changesets alongside a revision graph drawn with\n    ASCII characters.\n\n    Nodes printed as an @ character are parents of the working\n    directory.\n    '
    check_unsupported_flags(opts)
    dest = ui.expandpath((dest or 'default-push'), (dest or 'default'))
    (dest, branches) = hg.parseurl(dest, opts.get('branch'))
    (revs, checkout) = hg.addbranchrevs(repo, repo, branches, opts.get('rev'))
    other = hg.repository(cmdutil.remoteui(ui, opts), dest)
    if revs:
        revs = [repo.lookup(rev) for rev in revs]
    ui.status((_('comparing with %s\n') % url.hidepassword(dest)))
    o = repo.findoutgoing(other, force=opts.get('force'))
    if (not o):
        ui.status(_('no changes found\n'))
        return
    o = repo.changelog.nodesbetween(o, revs)[0]
    revdag = graphrevs(repo, o, opts)
    displayer = show_changeset(ui, repo, opts, buffered=True)
    showparents = [ctx.node() for ctx in repo[None].parents()]
    generate(ui, revdag, displayer, showparents, asciiedges)
