def _wrapcmd(ui, cmd, table, wrapfn):
    'wrap the command'

    def graph(orig, *args, **kwargs):
        if kwargs['graph']:
            return wrapfn(*args, **kwargs)
        return orig(*args, **kwargs)
    entry = extensions.wrapcommand(table, cmd, graph)
    entry[1].append(('G', 'graph', None, _('show the revision DAG')))
