{
  if (!myBaseDir.isDirectory()) {
    return Collections.emptyMap();
  }
  BitSet enabledDetectors=new BitSet(myDetectors.length);
  enabledDetectors.set(0,myDetectors.length);
  for (int i=0; i < myDetectors.length; i++) {
    myDetectedRoots[i]=new ArrayList<DetectedProjectRoot>();
  }
  processRecursively(myBaseDir,enabledDetectors);
  final Map<ProjectStructureDetector,List<DetectedProjectRoot>> result=new LinkedHashMap<ProjectStructureDetector,List<DetectedProjectRoot>>();
  for (int i=0; i < myDetectors.length; i++) {
    if (!myDetectedRoots[i].isEmpty()) {
      result.put(myDetectors[i],myDetectedRoots[i]);
    }
  }
  return result;
}
