{
  if (LOG.isDebugEnabled()) {
    LOG.debug("trying " + this);
  }
  final SuspendContextImpl suspendContext=getSuspendContext();
  if (suspendContext == null) {
    if (LOG.isDebugEnabled()) {
      LOG.debug("skip processing - context is null " + this);
    }
    notifyCancelled();
    return;
  }
  if (suspendContext.myInProgress) {
    suspendContext.postponeCommand(this);
  }
 else {
    try {
      if (!suspendContext.isResumed()) {
        suspendContext.myInProgress=true;
        contextAction();
      }
 else {
        notifyCancelled();
      }
    }
  finally {
      suspendContext.myInProgress=false;
      final SuspendContextCommandImpl postponed=suspendContext.pollPostponedCommand();
      if (postponed != null) {
        suspendContext.getDebugProcess().getManagerThread().invokeLater(postponed);
      }
    }
  }
}
