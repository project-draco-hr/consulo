{
  PsiAdapter psi=PsiAdapterFactory.getPsiAdapter();
  PsiMethod mainMethod=psi.findPublicStaticVoidMainMethod(clazz);
  if (mainMethod != null) {
    PsiMethod[] methods=clazz.getMethods();
    if (mainMethod.equals(methods[methods.length - 1])) {
      return (PsiMethod)clazz.addBefore(newMethod,mainMethod);
    }
  }
  PsiElement last=clazz.getRBrace();
  return (PsiMethod)clazz.addBefore(newMethod,last);
}
