{
  if (PropertyFileIndex.DEBUG) {
    System.out.println("PropertiesReferenceManager.processPropertiesFiles");
    System.out.println("PropertiesFileType.FILE_TYPE = " + PropertiesFileType.FILE_TYPE);
  }
  final Collection<VirtualFile> propertiesFiles=FileBasedIndex.getInstance().getContainingFiles(PropertyFileIndex.NAME,PropertiesFileType.FILE_TYPE.getName(),searchScope);
  for (  VirtualFile file : propertiesFiles) {
    if (PropertyFileIndex.DEBUG) {
      System.out.println("file = " + file.getPath());
    }
    final PsiFile psiFile=myPsiManager.findFile(file);
    if (psiFile instanceof PropertiesFile) {
      final String qName=evaluator.evaluateBundleName(psiFile);
      if (qName != null) {
        processor.process(qName,(PropertiesFile)psiFile);
      }
    }
  }
}
