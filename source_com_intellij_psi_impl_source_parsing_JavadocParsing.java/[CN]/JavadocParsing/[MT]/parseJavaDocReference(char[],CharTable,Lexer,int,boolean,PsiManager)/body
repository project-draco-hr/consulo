{
  FilterLexer lexer=new FilterLexer(originalLexer,new FilterLexer.SetFilter(ElementType.WHITE_SPACE_OR_COMMENT_BIT_SET));
  lexer.start(myBuffer,0,myBuffer.length,state);
  JavaParsingContext context=new JavaParsingContext(charTable);
  final FileElement dummyRoot=new DummyHolder(manager,null,context.getCharTable()).getTreeElement();
  final CompositeElement element;
  if (isType) {
    element=context.getJavadocParsing().parseTypeWithEllipsis(lexer,true,false);
  }
 else {
    element=context.getStatementParsing().parseJavaCodeReference(lexer,true);
  }
  if (element != null) {
    TreeUtil.addChildren(dummyRoot,element);
  }
  while (lexer.getTokenType() != null) {
    TreeUtil.addChildren(dummyRoot,ParseUtil.createTokenElement(lexer,context.getCharTable()));
    lexer.advance();
  }
  ParseUtil.insertMissingTokens(dummyRoot,originalLexer,0,myBuffer.length,state,ParseUtil.WhiteSpaceAndCommentsProcessor.INSTANCE,context);
  return (TreeElement)dummyRoot.getFirstChildNode();
}
