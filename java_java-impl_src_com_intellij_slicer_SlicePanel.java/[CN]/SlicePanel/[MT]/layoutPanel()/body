{
  if (myUsagePreviewPanel != null) {
    Disposer.dispose(myUsagePreviewPanel);
  }
  removeAll();
  if (isPreview()) {
    boolean vertical=myToolWindow.getAnchor() == ToolWindowAnchor.LEFT || myToolWindow.getAnchor() == ToolWindowAnchor.RIGHT;
    Splitter splitter=new Splitter(vertical,UsageViewSettings.getInstance().PREVIEW_USAGES_SPLITTER_PROPORTIONS);
    splitter.setFirstComponent(ScrollPaneFactory.createScrollPane(myTree));
    myUsagePreviewPanel=new UsagePreviewPanel(myProject);
    Disposer.register(this,myUsagePreviewPanel);
    splitter.setSecondComponent(myUsagePreviewPanel);
    add(splitter,BorderLayout.CENTER);
  }
 else {
    add(ScrollPaneFactory.createScrollPane(myTree),BorderLayout.CENTER);
  }
  add(createToolbar().getComponent(),BorderLayout.WEST);
  revalidate();
}
