{
  doTest("Text.txt");
  Charset ascii=CharsetToolkit.forName("US-ASCII");
  EncodingManager.getInstance().setEncoding(myVFile,ascii);
  assertEquals(ascii,myVFile.getCharset());
  int start=myEditor.getCaretModel().getOffset();
  type((char)0x445);
  type((char)0x438);
  int end=myEditor.getCaretModel().getOffset();
  Collection<HighlightInfo> infos=doHighlighting();
  HighlightInfo info=assertOneElement(infos);
  assertEquals("Unsupported characters for the charset 'US-ASCII'",info.description);
  assertEquals(start,info.startOffset);
  assertEquals(end,info.endOffset);
  backspace();
  backspace();
  doTestConfiguredFile(true,false,null);
}
