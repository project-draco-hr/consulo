{
  if (!hasM2Home())   return;
  importProject("<groupId>test</groupId>" + "<artifactId>project</artifactId>" + "<version>1</version>");
  setModuleNameAndRoot("module",getProjectPath() + "/subDir/module");
  setParentProject(myProjectPom);
  createNewModule(new MavenId("org.foo","module","1.0"));
  assertEquals("<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n" + "<project xmlns=\"http://maven.apache.org/POM/4.0.0\"\n" + "         xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n"+ "         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\">\n"+ "    <parent>\n"+ "        <artifactId>project</artifactId>\n"+ "        <groupId>test</groupId>\n"+ "        <version>1</version>\n"+ "        <relativePath>../../pom.xml</relativePath>\n"+ "    </parent>\n"+ "    <modelVersion>4.0.0</modelVersion>\n"+ "\n"+ "    <groupId>org.foo</groupId>\n"+ "    <artifactId>module</artifactId>\n"+ "    <version>1.0</version>\n"+ "\n"+ "\n"+ "</project>",VfsUtil.loadText(myProjectRoot.findFileByRelativePath("subDir/module/pom.xml")));
}
