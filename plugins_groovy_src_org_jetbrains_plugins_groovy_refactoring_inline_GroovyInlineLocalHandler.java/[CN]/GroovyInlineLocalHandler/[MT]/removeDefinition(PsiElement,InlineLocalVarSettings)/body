{
  LOG.assertTrue(element instanceof GrVariable && GroovyRefactoringUtil.isLocalVariable((GrVariable)element),element.getClass());
  final GrExpression initializer=settings.getInitializer();
  final PsiElement parent=initializer.getParent();
  if (parent instanceof GrAssignmentExpression) {
    parent.delete();
    return;
  }
  if (parent instanceof GrVariable) {
    if (!settings.isRemoveDeclaration()) {
      initializer.delete();
      return;
    }
  }
  final PsiElement owner=element.getParent().getParent();
  if (owner instanceof GrVariableDeclarationOwner) {
    ((GrVariableDeclarationOwner)owner).removeVariable((GrVariable)element);
  }
 else {
    element.delete();
  }
}
