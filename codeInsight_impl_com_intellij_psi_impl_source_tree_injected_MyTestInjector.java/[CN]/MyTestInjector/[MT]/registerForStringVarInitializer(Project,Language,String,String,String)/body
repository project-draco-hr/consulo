{
  ConcatenationAwareInjector injector=new ConcatenationAwareInjector(){
    public void getLanguagesToInject(    @NotNull MultiHostRegistrar injectionPlacesRegistrar,    @NotNull PsiElement... operands){
      PsiVariable variable=PsiTreeUtil.getParentOfType(operands[0],PsiVariable.class);
      if (variable == null)       return;
      if (!varName.equals(variable.getName()))       return;
      if (!(operands[0] instanceof PsiLiteralExpression))       return;
      injectionPlacesRegistrar.startInjecting(language);
      for (int i=0; i < operands.length; i++) {
        PsiElement operand=operands[i];
        if (!(operand instanceof PsiLanguageInjectionHost))         continue;
        TextRange textRange=textRangeToInject((PsiLanguageInjectionHost)operand);
        injectionPlacesRegistrar.addPlace(i == 0 ? null : prefix,i == operands.length - 1 ? null : suffix,(PsiLanguageInjectionHost)operand,textRange);
      }
      injectionPlacesRegistrar.doneInjecting();
    }
  }
;
  JavaConcatenationInjectorManager.getInstance(project).registerConcatenationInjector(injector);
  return injector;
}
