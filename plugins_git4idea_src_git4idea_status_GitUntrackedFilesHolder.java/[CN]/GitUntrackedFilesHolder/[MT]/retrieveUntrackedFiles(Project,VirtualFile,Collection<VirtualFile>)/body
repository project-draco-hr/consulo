{
  final Set<VirtualFile> untrackedFiles=new HashSet<VirtualFile>();
  if (files == null) {
    untrackedFiles.addAll(retrieveUntrackedFilesNoChunk(project,root,null));
  }
 else {
    for (    List<String> relativePaths : VcsFileUtil.chunkFiles(root,files)) {
      untrackedFiles.addAll(retrieveUntrackedFilesNoChunk(project,root,relativePaths));
    }
  }
  return untrackedFiles;
}
