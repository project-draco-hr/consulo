{
  if (names == null || names.length == 0) {
    myProvidersWithoutNames.add(new Trinity<PsiReferenceProvider,ElementFilter,Double>(provider,filter,priority));
  }
 else {
    final ConcurrentMap<String,CopyOnWriteArrayList<Trinity<PsiReferenceProvider,ElementFilter,Double>>> map=caseSensitive ? myNamesToProvidersMap : myNamesToProvidersMapInsensitive;
    for (    final String attributeName : names) {
      CopyOnWriteArrayList<Trinity<PsiReferenceProvider,ElementFilter,Double>> psiReferenceProviders=map.get(attributeName);
      if (psiReferenceProviders == null) {
        psiReferenceProviders=ConcurrencyUtil.cacheOrGet(map,caseSensitive ? attributeName : attributeName.toLowerCase(),new CopyOnWriteArrayList<Trinity<PsiReferenceProvider,ElementFilter,Double>>());
      }
      psiReferenceProviders.add(new Trinity<PsiReferenceProvider,ElementFilter,Double>(provider,filter,priority));
    }
  }
}
