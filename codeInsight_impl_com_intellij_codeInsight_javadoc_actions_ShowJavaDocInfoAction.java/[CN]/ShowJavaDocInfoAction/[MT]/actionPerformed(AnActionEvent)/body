{
  DataContext dataContext=e.getDataContext();
  final Project project=DataKeys.PROJECT.getData(dataContext);
  final Editor editor=DataKeys.EDITOR.getData(dataContext);
  final PsiElement element=DataKeys.PSI_ELEMENT.getData(dataContext);
  if (project != null && editor != null) {
    FeatureUsageTracker.getInstance().triggerFeatureUsed("codeassists.quickjavadoc");
    if (LookupManager.getInstance(project).getActiveLookup() != null) {
      FeatureUsageTracker.getInstance().triggerFeatureUsed("codeassists.quickjavadoc.lookup");
    }
    actionPerformedImpl(project,editor);
  }
 else   if (project != null) {
    if (element instanceof PsiMethod || element instanceof PsiClass || element instanceof PsiField|| element instanceof PsiVariable) {
      FeatureUsageTracker.getInstance().triggerFeatureUsed("codeassists.quickjavadoc.ctrln");
      CommandProcessor.getInstance().executeCommand(project,new Runnable(){
        public void run(){
          JavaDocManager.getInstance(project).showJavaDocInfo(element);
        }
      }
,getCommandName(),null);
    }
  }
}
