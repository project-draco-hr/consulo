{
  Node parentNode=findValidParentNode(startedNodeEvent);
  if (parentNode == null) {
    return;
  }
  if (!validateNodeId(startedNodeEvent)) {
    return;
  }
  int nodeId=startedNodeEvent.getId();
  Node childNode=myNodeByIdMap.get(nodeId);
  if (childNode != null) {
    logProblem(startedNodeEvent + " has been already started: " + childNode+ "!");
    return;
  }
  SMTestProxy childProxy=new SMTestProxy(startedNodeEvent.getName(),suite,startedNodeEvent.getLocationUrl(),true);
  TestProxyPrinterProvider printerProvider=myTestProxyPrinterProvider;
  String nodeType=startedNodeEvent.getNodeType();
  if (printerProvider != null && nodeType != null) {
    Printer printer=printerProvider.getPrinterByType(nodeType,startedNodeEvent.getNodeArgs());
    if (printer != null) {
      childProxy.setPreferredPrinter(printer);
    }
  }
  childNode=new Node(startedNodeEvent.getId(),parentNode,childProxy);
  myNodeByIdMap.put(nodeId,childNode);
  myRunningNodes.add(childNode);
  if (myLocator != null) {
    childProxy.setLocator(myLocator);
  }
  parentNode.getProxy().addChild(childProxy);
  childProxy.setStarted();
  if (suite) {
    fireOnSuiteStarted(childProxy);
  }
 else {
    fireOnTestStarted(childProxy);
  }
}
