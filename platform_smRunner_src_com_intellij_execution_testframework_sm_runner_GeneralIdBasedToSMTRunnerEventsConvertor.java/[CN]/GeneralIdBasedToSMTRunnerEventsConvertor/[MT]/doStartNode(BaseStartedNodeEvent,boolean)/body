{
  Node node=findNode(startedNodeEvent);
  if (node != null) {
    if (node.getState() == State.NOT_RUNNING && startedNodeEvent.isRunning()) {
      setNodeAndAncestorsRunning(node);
    }
 else {
      logProblem(startedNodeEvent + " has been already started: " + node+ "!");
    }
    return;
  }
  Node parentNode=findValidParentNode(startedNodeEvent);
  if (parentNode == null) {
    return;
  }
  if (!validateNodeId(startedNodeEvent)) {
    return;
  }
  String nodeName=startedNodeEvent.getName();
  SMTestProxy childProxy=new SMTestProxy(nodeName,suite,startedNodeEvent.getLocationUrl(),true);
  TestProxyPrinterProvider printerProvider=myTestProxyPrinterProvider;
  String nodeType=startedNodeEvent.getNodeType();
  if (printerProvider != null && nodeType != null && nodeName != null) {
    Printer printer=printerProvider.getPrinterByType(nodeType,nodeName,startedNodeEvent.getNodeArgs());
    if (printer != null) {
      childProxy.setPreferredPrinter(printer);
    }
  }
  node=new Node(startedNodeEvent.getId(),parentNode,childProxy);
  myNodeByIdMap.put(startedNodeEvent.getId(),node);
  if (myLocator != null) {
    childProxy.setLocator(myLocator);
  }
  parentNode.getProxy().addChild(childProxy);
  if (startedNodeEvent.isRunning()) {
    setNodeAndAncestorsRunning(node);
  }
}
