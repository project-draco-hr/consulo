{
  SMRunnerUtil.addToInvokeLater(new Runnable(){
    public void run(){
      myEventsListeners.clear();
      if (!myRunningNodes.isEmpty()) {
        Application application=ApplicationManager.getApplication();
        if (!application.isHeadlessEnvironment() && !application.isUnitTestMode()) {
          logProblem("Not all events were processed!");
        }
      }
      myRunningNodes.clear();
      myNodeByIdMap.clear();
    }
  }
);
}
