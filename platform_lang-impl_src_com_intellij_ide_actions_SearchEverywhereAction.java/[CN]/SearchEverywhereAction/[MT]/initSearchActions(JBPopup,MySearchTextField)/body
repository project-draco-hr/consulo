{
  final JTextField editor=searchTextField.getTextEditor();
  new DumbAwareAction(){
    @Override public void actionPerformed(    AnActionEvent e){
      jumpNextGroup(true);
    }
  }
.registerCustomShortcutSet(CustomShortcutSet.fromString("TAB"),editor,balloon);
  new DumbAwareAction(){
    @Override public void actionPerformed(    AnActionEvent e){
      jumpNextGroup(false);
    }
  }
.registerCustomShortcutSet(CustomShortcutSet.fromString("shift TAB"),editor,balloon);
  new DumbAwareAction(){
    @Override public void actionPerformed(    AnActionEvent e){
      if (myBalloon != null && myBalloon.isVisible()) {
        myBalloon.cancel();
      }
      if (myPopup != null && myPopup.isVisible()) {
        myPopup.cancel();
      }
    }
  }
.registerCustomShortcutSet(CustomShortcutSet.fromString("ESCAPE"),editor,balloon);
  new DumbAwareAction(){
    @Override public void actionPerformed(    AnActionEvent e){
      final int index=myList.getSelectedIndex();
      if (index != -1) {
        doNavigate(index);
      }
    }
  }
.registerCustomShortcutSet(CustomShortcutSet.fromString("ENTER"),editor,balloon);
  new DumbAwareAction(){
    @Override public void actionPerformed(    AnActionEvent e){
      final PropertiesComponent storage=PropertiesComponent.getInstance(e.getProject());
      final String[] values=storage.getValues(SE_HISTORY_KEY);
      if (values != null) {
        if (values.length > myHistoryIndex) {
          final List<String> data=StringUtil.split(values[myHistoryIndex],"\t");
          myHistoryItem=new HistoryItem(data.get(0),data.get(1),data.get(2));
          myHistoryIndex++;
          editor.setText(myHistoryItem.pattern);
          editor.setCaretPosition(myHistoryItem.pattern.length());
          editor.moveCaretPosition(0);
        }
      }
    }
    @Override public void update(    AnActionEvent e){
      e.getPresentation().setEnabled(editor.getCaretPosition() == 0);
    }
  }
.registerCustomShortcutSet(CustomShortcutSet.fromString("LEFT"),editor,balloon);
}
