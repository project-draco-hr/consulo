{
  myContentPanel=new JPanel(new BorderLayout());
  myContentPanel.setOpaque(false);
  mySearchLabel=new JBLabel(AllIcons.Actions.Find){
{
      enableEvents(AWTEvent.MOUSE_EVENT_MASK);
      enableEvents(AWTEvent.MOUSE_MOTION_EVENT_MASK);
    }
  }
;
  mySearchLabel.addMouseListener(new MouseAdapter(){
    @Override public void mousePressed(    MouseEvent e){
      myContentPanel.remove(mySearchLabel);
      field.getTextEditor().setColumns(SEARCH_FIELD_COLUMNS);
      myContentPanel.add(field,BorderLayout.CENTER);
      myContentPanel.revalidate();
      myContentPanel.repaint();
      IdeFocusManager.findInstanceByComponent(field.getTextEditor()).requestFocus(field.getTextEditor(),true);
    }
  }
);
  createSearchField();
  LafManager.getInstance().addLafManagerListener(new LafManagerListener(){
    @Override public void lookAndFeelChanged(    LafManager source){
      createSearchField();
    }
  }
);
  myRenderer=new MyListRenderer();
  myList.setCellRenderer(myRenderer);
  myList.addMouseListener(new MouseAdapter(){
    @Override public void mouseClicked(    MouseEvent e){
      final int i=myList.locationToIndex(e.getPoint());
      if (i != -1) {
        myList.setSelectedIndex(i);
        doNavigate(i);
      }
    }
  }
);
  SwingUtilities.invokeLater(new Runnable(){
    public void run(){
      onFocusLost(field.getTextEditor());
    }
  }
);
}
