{
synchronized (myLock) {
    if (myInvocationCounter >= ourInvocationMax)     return;
    ++myCounter;
    --myDownStartCounter;
    if ((myCounter > ourFrequency) || (myDownStartCounter >= 0)) {
      myCounter=0;
      ++myInvocationCounter;
      final Application application=ApplicationManager.getApplication();
      application.executeOnPooledThread(new Runnable(){
        public void run(){
          final List<VirtualFile> suspicious=new ArrayList<VirtualFile>();
          for (          VirtualFile vf : result) {
            if (SvnUtil.seemsLikeVersionedDir(vf)) {
              suspicious.add(vf);
            }
          }
          if (!suspicious.isEmpty()) {
            final String message=(suspicious.size() == 1) ? "Root '" + suspicious.get(0).getPresentableName() + "' is likely to be of unsupported Subversion format" : "Some roots are likely to be of unsupported Subversion format";
            application.invokeLater(new Runnable(){
              public void run(){
                new VcsBalloonProblemNotifier(myProject,message,MessageType.WARNING).run();
              }
            }
,ModalityState.NON_MODAL,new Condition(){
              @Override public boolean value(              Object o){
                return (!myProject.isOpen()) || myProject.isDisposed();
              }
            }
);
          }
        }
      }
);
    }
  }
}
