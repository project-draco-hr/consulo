{
  myTreeTravellingMap=new HashMap<String,Map<String,File>>();
  final MultiMap<VirtualFile,File> tmpMap=new MultiMap<VirtualFile,File>();
  for (  VirtualFile parent : myRoots.keySet()) {
    final Collection<RootUrlInfo> children=myRoots.get(parent);
    for (    RootUrlInfo child : children) {
      VirtualFile current=child.getVirtualFile();
      while (!current.equals(parent)) {
        tmpMap.putValue(current.getParent(),new File(current.getPath()));
        current=current.getParent();
        if (current.getParent() == null)         break;
      }
    }
  }
  for (  VirtualFile dir : tmpMap.keySet()) {
    final Map<String,File> currMap=new HashMap<String,File>();
    final Collection<File> coll=tmpMap.get(dir);
    for (    File file : coll) {
      currMap.put(file.getAbsolutePath(),file);
    }
    myTreeTravellingMap.put(FileUtil.nameToCompare(dir.getPath()),currMap);
  }
}
