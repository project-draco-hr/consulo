{
  VirtualFileAdapter myVirtualFileListener=new VirtualFileAdapter(){
    public void propertyChanged(    @NotNull VirtualFilePropertyEvent event){
      getUpdater().addSubtreeToUpdate(getRootNode());
    }
    public void fileCreated(    @NotNull VirtualFileEvent event){
      getUpdater().addSubtreeToUpdate(getRootNode());
    }
    public void fileDeleted(    @NotNull VirtualFileEvent event){
      getUpdater().addSubtreeToUpdate(getRootNode());
    }
    public void fileMoved(    @NotNull VirtualFileMoveEvent event){
      getUpdater().addSubtreeToUpdate(getRootNode());
    }
  }
;
  VirtualFileManager.getInstance().addVirtualFileListener(myVirtualFileListener,this);
}
