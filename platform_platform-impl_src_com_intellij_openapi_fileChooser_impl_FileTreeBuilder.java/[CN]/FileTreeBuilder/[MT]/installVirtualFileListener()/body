{
  VirtualFileAdapter myVirtualFileListener=new VirtualFileAdapter(){
    public void propertyChanged(    VirtualFilePropertyEvent event){
      getUpdater().addSubtreeToUpdate(getRootNode());
    }
    public void fileCreated(    VirtualFileEvent event){
      getUpdater().addSubtreeToUpdate(getRootNode());
    }
    public void fileDeleted(    VirtualFileEvent event){
      getUpdater().addSubtreeToUpdate(getRootNode());
    }
    public void fileMoved(    VirtualFileMoveEvent event){
      getUpdater().addSubtreeToUpdate(getRootNode());
    }
  }
;
  VirtualFileManager.getInstance().addVirtualFileListener(myVirtualFileListener,this);
}
