{
  super(tree,treeModel,treeStructure,comparator,false);
  myChooserDescriptor=chooserDescriptor;
  initRootNode();
  VirtualFileAdapter listener=new VirtualFileAdapter(){
    @Override public void propertyChanged(    @NotNull VirtualFilePropertyEvent event){
      doUpdate();
    }
    @Override public void fileCreated(    @NotNull VirtualFileEvent event){
      doUpdate();
    }
    @Override public void fileDeleted(    @NotNull VirtualFileEvent event){
      doUpdate();
    }
    @Override public void fileMoved(    @NotNull VirtualFileMoveEvent event){
      doUpdate();
    }
    private void doUpdate(){
      queueUpdateFrom(getRootNode(),false);
    }
  }
;
  VirtualFileManager.getInstance().addVirtualFileListener(listener,this);
}
