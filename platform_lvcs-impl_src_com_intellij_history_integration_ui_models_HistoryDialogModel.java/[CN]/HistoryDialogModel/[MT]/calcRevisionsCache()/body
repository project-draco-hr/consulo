{
  return ApplicationManager.getApplication().runReadAction(new Computable<Pair<Revision,List<RevisionItem>>>(){
    public Pair<Revision,List<RevisionItem>> compute(){
      myGateway.registerUnsavedDocuments(myVcs);
      String path=myFile.getPath();
      RootEntry root=myGateway.createTransientRootEntry();
      RevisionsCollector collector=new RevisionsCollector(myVcs,root,path,myProject.getLocationHash(),myFilter);
      List<Revision> all=collector.getResult();
      return Pair.create(all.get(0),groupRevisions(all.subList(1,all.size())));
    }
  }
);
}
