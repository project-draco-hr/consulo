{
  final SVNWCClient client=vcs.createWCClient();
  SVNInfo localInfo=client.doInfo(url,SVNRevision.UNDEFINED,SVNRevision.WORKING);
  if (localInfo != null && localInfo.getRepositoryRootURL() != null || !allowRemote) {
    return localInfo == null ? null : localInfo.getRepositoryRootURL();
  }
  SVNInfo info=client.doInfo(url,SVNRevision.UNDEFINED,SVNRevision.HEAD);
  return (info == null) ? null : info.getRepositoryRootURL();
}
