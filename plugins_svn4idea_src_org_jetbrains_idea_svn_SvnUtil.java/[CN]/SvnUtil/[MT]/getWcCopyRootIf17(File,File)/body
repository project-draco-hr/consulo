{
  File current=file;
  while (current != null) {
    try {
      final SvnWcGeneration svnWcGeneration=SvnOperationFactory.detectWcGeneration(current,false);
      if (SvnWcGeneration.V17.equals(svnWcGeneration))       return current;
      if (SvnWcGeneration.V16.equals(svnWcGeneration))       return null;
      if (upperBound != null && upperBound.equals(current))       return null;
      current=current.getParentFile();
    }
 catch (    SVNException e) {
      return null;
    }
  }
  return null;
}
