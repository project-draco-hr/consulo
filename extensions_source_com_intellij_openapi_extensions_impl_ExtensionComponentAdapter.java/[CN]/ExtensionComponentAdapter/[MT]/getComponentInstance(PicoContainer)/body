{
  if (myComponentInstance == null) {
    if (!Element.class.equals(getComponentImplementation())) {
      Object componentInstance=getDelegate().getComponentInstance(container);
      if (myDeserializeInstance) {
        try {
          XmlSerializer.deserializeInto(componentInstance,myExtensionElement);
        }
 catch (        Exception e) {
          throw new PicoInitializationException(e);
        }
      }
      ExtensionInitializer initializer=(ExtensionInitializer)container.getComponentInstance(ExtensionInitializer.class);
      if (initializer != null) {
        initializer.initExtension(componentInstance);
      }
      myComponentInstance=componentInstance;
    }
 else {
      myComponentInstance=myExtensionElement;
    }
    if (myComponentInstance instanceof PluginAware) {
      PluginAware pluginAware=(PluginAware)myComponentInstance;
      pluginAware.setPluginDescriptor(myPluginDescriptor);
    }
  }
  return myComponentInstance;
}
