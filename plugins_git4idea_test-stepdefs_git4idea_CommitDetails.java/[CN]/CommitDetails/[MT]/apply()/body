{
  for (  Change change : myChanges) {
    change.apply();
  }
  String commitOutput=git(String.format("commit -am '%1$s' --author '%2$s <%2$s@example.com>'",myMessage,myAuthor));
  CommitDetails realCommit=parseHashFromCommitOutput(commitOutput);
  virtualCommits.register(myHash,realCommit);
  return realCommit;
}
