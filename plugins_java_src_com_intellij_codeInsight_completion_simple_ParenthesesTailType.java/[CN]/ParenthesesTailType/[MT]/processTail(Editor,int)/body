{
  CommonCodeStyleSettings styleSettings=getLocalCodeStyleSettings(editor,tailOffset);
  if (isSpaceBeforeParentheses(styleSettings,editor,tailOffset)) {
    tailOffset=insertChar(editor,tailOffset,' ');
  }
  tailOffset=insertChar(editor,tailOffset,'(');
  if (isSpaceWithinParentheses(styleSettings,editor,tailOffset)) {
    tailOffset=insertChar(editor,tailOffset,' ');
    tailOffset=insertChar(editor,tailOffset,' ');
    tailOffset=insertChar(editor,tailOffset,')');
    moveCaret(editor,tailOffset,-2);
  }
 else {
    tailOffset=insertChar(editor,tailOffset,')');
    moveCaret(editor,tailOffset,-1);
  }
  return tailOffset;
}
