{
  if (candidate.getType() == root.getType() && candidate.getName().equals(root.getName()))   return false;
  List<BeforeRunTask> tasks=myRunManager.getBeforeRunTasks(candidate);
  for (  BeforeRunTask task : tasks) {
    if (task instanceof RunConfigurationBeforeRunProvider.RunConfigurableBeforeRunTask) {
      RunConfigurationBeforeRunProvider.RunConfigurableBeforeRunTask runTask=(RunConfigurationBeforeRunProvider.RunConfigurableBeforeRunTask)task;
      RunnerAndConfigurationSettings settings=runTask.getSettings();
      if (settings != null) {
        if (!canBeAdded(settings.getConfiguration(),root))         return false;
      }
    }
  }
  if (candidate instanceof CompoundRunConfiguration) {
    Set<RunConfiguration> set=((CompoundRunConfiguration)candidate).getSetToRun();
    for (    RunConfiguration configuration : set) {
      if (!canBeAdded(configuration,root))       return false;
    }
  }
  return true;
}
