{
  final DependencyScope scope=moduleOrderEntry.getScope();
  if (!myIncludeTests && !scope.isForProductionCompile() && !scope.isForProductionRuntime())   return;
  Module module=moduleOrderEntry.getModule();
  if (module == null)   return;
  ModuleRootManager moduleRootManager=state.getCurrentModuleManager();
  traverseOrder(module,policy,state);
  state.restoreCurrentModuleManager(moduleRootManager);
}
