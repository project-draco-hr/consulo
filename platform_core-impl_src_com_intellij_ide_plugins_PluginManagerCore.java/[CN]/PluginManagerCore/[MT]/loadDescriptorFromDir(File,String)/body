{
  File descriptorFile=new File(file,META_INF + File.separator + fileName);
  if (descriptorFile.exists()) {
    try {
      IdeaPluginDescriptorImpl descriptor=new IdeaPluginDescriptorImpl(file);
      descriptor.readExternal(descriptorFile.toURI().toURL());
      return descriptor;
    }
 catch (    XmlSerializationException e) {
      getLogger().info("Cannot load " + file,e);
      prepareLoadingPluginsErrorMessage("File '" + file.getName() + "' contains invalid plugin descriptor.");
    }
catch (    Throwable e) {
      getLogger().info("Cannot load " + file,e);
    }
  }
  return null;
}
