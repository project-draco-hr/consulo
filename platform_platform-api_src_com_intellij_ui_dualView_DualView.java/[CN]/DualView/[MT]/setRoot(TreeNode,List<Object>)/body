{
  ListTableModel model=myFlatView.getListTableModel();
  final int column=model.getSortedColumnIndex();
  final int sortingType=model.getSortingType();
  final List<Object> currentlySelected=myFlatView.getSelectedObjects();
  final List<Object> targetSelection=(currentlySelected != null && (!currentlySelected.isEmpty())) ? currentlySelected : selection;
  myTreeView.getTreeViewModel().setRoot(node);
  if (column != -1) {
    model.sortByColumn(column,sortingType);
  }
  if ((targetSelection != null) && (!targetSelection.isEmpty())) {
    final List items=myFlatView.getItems();
    for (    Object selElement : targetSelection) {
      if (items.contains(selElement)) {
        final int idx=items.indexOf(selElement);
        setSelectionInterval(idx,idx);
      }
    }
  }
}
