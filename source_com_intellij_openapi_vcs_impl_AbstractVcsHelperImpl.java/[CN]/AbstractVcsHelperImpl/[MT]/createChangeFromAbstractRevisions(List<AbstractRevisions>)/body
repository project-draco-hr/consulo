{
  List<Change> result=new ArrayList<Change>();
  for (  AbstractRevisions revision : revisions) {
    final DifferenceType type=revision.getDifference();
    final FileStatus status=convertDiffTypeToStatus(type);
    if (type == DifferenceType.INSERTED) {
      result.add(new Change(null,createAfterRevision(revision),status));
    }
 else     if (type == DifferenceType.DELETED) {
      result.add(new Change(createBeforeRevision(revision),null,status));
    }
 else     if (type == DifferenceType.MODIFIED) {
      result.add(new Change(createBeforeRevision(revision),createAfterRevision(revision),status));
    }
    result.addAll(createChangeFromAbstractRevisions(revision.getDirectories()));
    result.addAll(createChangeFromAbstractRevisions(revision.getFiles()));
  }
  return result;
}
