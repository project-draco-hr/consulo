{
  try {
    VcsHistorySession session=vcsHistoryProvider.createSessionFor(path);
    if (session == null)     return;
    List<VcsFileRevision> revisionsList=session.getRevisionList();
    if (revisionsList.isEmpty())     return;
    String actionName=VcsBundle.message("action.name.file.history",path.getName());
    ContentManager contentManager=ProjectLevelVcsManagerEx.getInstanceEx(myProject).getContentManager();
    FileHistoryPanelImpl fileHistoryPanel=new FileHistoryPanelImpl(myProject,path,session,vcsHistoryProvider,annotationProvider,contentManager);
    Content content=PeerFactory.getInstance().getContentFactory().createContent(fileHistoryPanel,actionName,true);
    ContentsUtil.addOrReplaceContent(contentManager,content,true);
    ToolWindow toolWindow=ToolWindowManager.getInstance(myProject).getToolWindow(ToolWindowId.VCS);
    toolWindow.activate(null);
  }
 catch (  Exception exception) {
    reportError(exception);
  }
}
