{
  Map<AbstractVcs,List<VirtualFile>> vcsToFileMap=new HashMap<AbstractVcs,List<VirtualFile>>();
  for (  VirtualFile file : files) {
    AbstractVcs activeVcs=ProjectLevelVcsManager.getInstance(myProject).getVcsFor(file);
    if (activeVcs == null)     continue;
    if (!vcsToFileMap.containsKey(activeVcs))     vcsToFileMap.put(activeVcs,new ArrayList<VirtualFile>());
    vcsToFileMap.get(activeVcs).add(file);
  }
  for (  AbstractVcs abstractVcs : vcsToFileMap.keySet()) {
    doCheckinFiles(abstractVcs,vcsToFileMap.get(abstractVcs),checkinParameters);
  }
}
