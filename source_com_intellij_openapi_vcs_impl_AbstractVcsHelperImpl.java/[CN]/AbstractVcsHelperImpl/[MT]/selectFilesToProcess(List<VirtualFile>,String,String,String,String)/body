{
  if (files.size() == 1 && singleFilePromptTemplate != null) {
    String filePrompt=MessageFormat.format(singleFilePromptTemplate,files.get(0).getPresentableUrl());
    int rc=Messages.showYesNoDialog(myProject,filePrompt,singleFileTitle,Messages.getQuestionIcon());
    if (rc == 0) {
      return files;
    }
    return null;
  }
  SelectFilesDialog dlg=new SelectFilesDialog(myProject,files,prompt);
  dlg.setTitle(title);
  dlg.show();
  return dlg.isOK() ? dlg.getSelectedFiles() : null;
}
