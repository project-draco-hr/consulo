{
  final XmlFile xmlFile=createXmlFile("<a xmlns:sys=\"\"/>");
  final MyElement element=getDomManager().getFileElement(xmlFile,MyElement.class,"a").getRootElement();
  final MyElement hardcodedElement=element.getHardcodedElement();
  new WriteCommandAction(getProject()){
    @Override protected void run(    Result result) throws Throwable {
      hardcodedElement.ensureTagExists();
    }
  }
.execute();
  assertTrue(element.isValid());
  assertTrue(hardcodedElement.isValid());
  assertNotNull(hardcodedElement.getXmlElement());
  assertEquals("<sys:aaa/>",hardcodedElement.getXmlElement().getText());
  assertEquals("sys:aaa",hardcodedElement.getXmlTag().getName());
  new WriteCommandAction(getProject()){
    @Override protected void run(    Result result) throws Throwable {
      hardcodedElement.getHardcodedElement().getHardcodedElement().ensureTagExists();
    }
  }
.execute();
  assertTrue(element.isValid());
  assertTrue(hardcodedElement.isValid());
  assertNotNull(hardcodedElement.getXmlElement());
  assertEquals("sys:aaa",hardcodedElement.getHardcodedElement().getHardcodedElement().getXmlTag().getName());
  assertEquals(1,element.getXmlTag().getSubTags().length);
}
