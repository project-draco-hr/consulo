{
  List<NamedContent> contents=new ArrayList<NamedContent>();
  for (  VirtualFile file : dir.getChildren()) {
    if (!isFileIgnored(file,project)) {
      String pref=addPrefix(dir.getName(),prefix,true);
      List<NamedContent> c=getContentFromFile(file,project,pref);
      if (c == null) {
        return null;
      }
      contents.addAll(c);
    }
  }
  return contents;
}
