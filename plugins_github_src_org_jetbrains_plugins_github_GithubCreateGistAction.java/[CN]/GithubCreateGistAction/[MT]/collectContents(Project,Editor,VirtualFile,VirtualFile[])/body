{
  if (editor != null) {
    NamedContent content=getContentFromEditor(editor,file,project);
    return content == null ? null : Collections.singletonList(content);
  }
  if (files != null) {
    List<NamedContent> contents=new ArrayList<NamedContent>();
    for (    VirtualFile vf : files) {
      List<NamedContent> content=getContentFromFile(vf,project,null);
      if (content == null) {
        return null;
      }
      contents.addAll(content);
    }
    return contents;
  }
  if (file == null) {
    LOG.error("File, files and editor can't be null all at once!");
    return null;
  }
  return getContentFromFile(file,project,null);
}
