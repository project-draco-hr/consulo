{
  final File[] children=listChildren(file,canUseCache);
  final String name=file.getName();
  if (children != null) {
    if (isRootCall || SourceVersion.isIdentifier(name)) {
      for (      File child : children) {
        collectFromDirectoryRecursively(child,fileKinds,result,false,canUseCache);
      }
    }
  }
 else {
    if (isValidFile(name,fileKinds)) {
      JavaFileObject fe=new InputFileObject(file);
      result.append(fe);
    }
  }
}
