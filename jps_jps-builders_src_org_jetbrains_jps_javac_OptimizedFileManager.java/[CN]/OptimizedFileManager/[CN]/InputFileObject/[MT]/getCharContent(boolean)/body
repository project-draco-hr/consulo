{
  SoftReference<CharBuffer> r=myContentCache.get(this);
  CharBuffer cb=(r == null ? null : r.get());
  if (cb == null) {
    InputStream in=new FileInputStream(f);
    try {
      final ByteBuffer bb=makeByteBuffer(in);
      JavaFileObject prev=log.useSource(this);
      try {
        cb=decode(bb,ignoreEncodingErrors);
      }
  finally {
        log.useSource(prev);
      }
      myByteBufferCache.put(bb);
      if (!ignoreEncodingErrors) {
        myContentCache.put(this,new SoftReference<CharBuffer>(cb));
      }
    }
  finally {
      in.close();
    }
  }
  return cb;
}
