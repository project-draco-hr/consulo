{
  if (offset < myPrefix.length())   return getTextRange().getStartOffset();
  if (offset >= getTextLength() - mySuffix.length())   return getTextRange().getEndOffset();
  return offset + getTextRange().getStartOffset() - getPrefix().length();
}
