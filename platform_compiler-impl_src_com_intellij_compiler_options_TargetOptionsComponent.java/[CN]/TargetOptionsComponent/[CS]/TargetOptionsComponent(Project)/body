{
  super(new GridBagLayout());
  myProject=project;
  myCbProjectTargetLevel=createTargetOptionsCombo();
  myTable=new JBTable(new TargetLevelTableModel());
  myTable.setRowHeight(22);
  myTable.getEmptyText().setText("All modules will be compiled with project bytecode version");
  final TableColumn moduleColumn=myTable.getColumnModel().getColumn(0);
  moduleColumn.setHeaderValue("Module");
  moduleColumn.setCellRenderer(new ModuleCellRenderer());
  final TableColumn targetLevelColumn=myTable.getColumnModel().getColumn(1);
  final String columnTitle="Target bytecode version";
  targetLevelColumn.setHeaderValue(columnTitle);
  targetLevelColumn.setCellEditor(new TargetLevelCellEditor());
  targetLevelColumn.setCellRenderer(new TargetLevelCellRenderer());
  final int width=myTable.getFontMetrics(myTable.getFont()).stringWidth(columnTitle) + 10;
  targetLevelColumn.setPreferredWidth(width);
  targetLevelColumn.setMinWidth(width);
  targetLevelColumn.setMaxWidth(width);
  add(new JLabel("Project bytecode version (leave blank for jdk default): "),constraints(0,0,1,1,0.0,0.0,GridBagConstraints.NONE));
  add(myCbProjectTargetLevel,constraints(1,0,1,1,1.0,0.0,GridBagConstraints.NONE));
  add(new JLabel("Per-module bytecode version:"),constraints(0,1,2,1,1.0,0.0,GridBagConstraints.NONE));
  final JPanel tableComp=ToolbarDecorator.createDecorator(myTable).disableUpAction().disableDownAction().setAddAction(new AnActionButtonRunnable(){
    @Override public void run(    AnActionButton anActionButton){
      addModules();
    }
  }
).setRemoveAction(new AnActionButtonRunnable(){
    @Override public void run(    AnActionButton anActionButton){
      removeSelectedModules();
    }
  }
).createPanel();
  tableComp.setPreferredSize(new Dimension(myTable.getWidth(),150));
  add(tableComp,constraints(0,2,2,1,1.0,1.0,GridBagConstraints.BOTH));
}
