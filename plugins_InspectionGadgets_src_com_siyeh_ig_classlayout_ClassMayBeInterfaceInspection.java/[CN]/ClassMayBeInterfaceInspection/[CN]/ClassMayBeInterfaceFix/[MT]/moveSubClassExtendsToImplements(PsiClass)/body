{
  final PsiManager psiManager=oldClass.getManager();
  final PsiSearchHelper searchHelper=psiManager.getSearchHelper();
  final PsiElementFactory elementFactory=psiManager.getElementFactory();
  final PsiJavaCodeReferenceElement classReference=elementFactory.createClassReferenceElement(oldClass);
  final SearchScope searchScope=oldClass.getUseScope();
  final PsiClass[] inheritors=searchHelper.findInheritors(oldClass,searchScope,false);
  for (  final PsiClass inheritor : inheritors) {
    final PsiReferenceList extendsList=inheritor.getExtendsList();
    if (extendsList == null) {
      continue;
    }
    final PsiReferenceList implementsList=inheritor.getImplementsList();
    moveReference(extendsList,implementsList,classReference);
  }
}
