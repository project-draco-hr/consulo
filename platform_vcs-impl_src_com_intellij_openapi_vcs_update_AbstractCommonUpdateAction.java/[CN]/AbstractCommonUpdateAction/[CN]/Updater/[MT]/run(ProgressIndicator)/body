{
  suspendIfNeeded();
  try {
    runImpl(indicator);
  }
 catch (  Throwable t) {
    releaseIfNeeded();
    if (t instanceof Error) {
      throw ((Error)t);
    }
 else     if (t instanceof RuntimeException) {
      throw ((RuntimeException)t);
    }
    throw new RuntimeException(t);
  }
}
