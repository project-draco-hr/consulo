{
  if (this == o)   return true;
  if (!(o instanceof PsiAnchor))   return false;
  final PsiAnchor psiAnchor=(PsiAnchor)o;
  if (psiAnchor.myElement != null && myElement != null) {
    return psiAnchor.myElement.equals(myElement);
  }
  if (psiAnchor.myElement == null && myElement == null) {
    if (myEndOffset != psiAnchor.myEndOffset)     return false;
    if (myStartOffset != psiAnchor.myStartOffset)     return false;
    if (myClass != null ? !myClass.equals(psiAnchor.myClass) : psiAnchor.myClass != null)     return false;
    if (myFile != null ? !myFile.equals(psiAnchor.myFile) : psiAnchor.myFile != null)     return false;
    return true;
  }
 else {
    return false;
  }
}
