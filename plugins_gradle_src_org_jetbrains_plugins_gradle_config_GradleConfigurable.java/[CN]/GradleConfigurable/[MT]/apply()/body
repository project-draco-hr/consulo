{
  if (myProject == null) {
    return;
  }
  Project defaultProject=ProjectManager.getInstance().getDefaultProject();
  if (!myProject.isDefault()) {
    GradleSettings.applyLinkedProjectPath(myLinkedGradleProjectPathField.getText(),myProject);
  }
  boolean preferLocalToWrapper;
  if (myPreferWrapperWheneverPossibleCheckBox.isVisible()) {
    preferLocalToWrapper=!myPreferWrapperWheneverPossibleCheckBox.isSelected();
  }
 else {
    preferLocalToWrapper=myUseLocalDistributionButton.isSelected();
  }
  GradleSettings.applyPreferLocalInstallationToWrapper(preferLocalToWrapper,myProject);
  if (!myProject.isDefault()) {
    GradleSettings.applyPreferLocalInstallationToWrapper(preferLocalToWrapper,defaultProject);
  }
  String gradleHomePath=myGradleHomePathField.getText();
  GradleSettings.applyGradleHome(gradleHomePath,myProject);
  if (isValidGradleHome(gradleHomePath)) {
    myGradleHomeSettingType=GradleHomeSettingType.EXPLICIT_CORRECT;
    if (defaultProject != myProject && !isValidGradleHome(GradleSettings.getInstance(defaultProject).getGradleHome())) {
      GradleSettings.applyGradleHome(gradleHomePath,defaultProject);
    }
    return;
  }
  useNormalColorForPath();
  if (StringUtil.isEmpty(gradleHomePath)) {
    myGradleHomeSettingType=GradleHomeSettingType.UNKNOWN;
  }
 else {
    myGradleHomeSettingType=GradleHomeSettingType.EXPLICIT_INCORRECT;
    new DelayedBalloonInfo(MessageType.ERROR,myGradleHomeSettingType,0).run();
  }
}
