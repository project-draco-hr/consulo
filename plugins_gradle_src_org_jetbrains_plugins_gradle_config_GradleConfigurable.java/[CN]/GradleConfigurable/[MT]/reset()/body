{
  if (myProject == null) {
    return;
  }
  useNormalColorForPath();
  myPathManuallyModified=false;
  String valueToUse=GradleSettings.getInstance(myProject).getGradleHome();
  if (StringUtil.isEmpty(valueToUse)) {
    valueToUse=GradleSettings.getInstance(ProjectManager.getInstance().getDefaultProject()).getGradleHome();
  }
  if (!StringUtil.isEmpty(valueToUse)) {
    myGradleHomeSettingType=myLibraryManager.isGradleSdkHome(new File(valueToUse)) ? GradleHomeSettingType.EXPLICIT_CORRECT : GradleHomeSettingType.EXPLICIT_INCORRECT;
    if (myGradleHomeSettingType == GradleHomeSettingType.EXPLICIT_INCORRECT) {
      new DelayedBalloonInfo(MessageType.ERROR,myGradleHomeSettingType,0).run();
    }
 else {
      myAlarm.cancelAllRequests();
    }
    myGradleHomeComponent.setPath(valueToUse);
    return;
  }
  myGradleHomeSettingType=GradleHomeSettingType.UNKNOWN;
  deduceGradleHomeIfPossible();
}
