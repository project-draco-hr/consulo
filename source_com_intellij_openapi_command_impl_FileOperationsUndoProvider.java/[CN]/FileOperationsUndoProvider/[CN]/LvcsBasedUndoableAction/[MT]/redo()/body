{
  try {
    rollbackTo(myBeforeUndoRevision);
  }
 catch (  IOException e) {
    if (!ApplicationManager.getApplication().isUnitTestMode()) {
      Messages.showErrorDialog(CommonBundle.message("cannot.redo.error.message",e.getLocalizedMessage()),CommonBundle.message("cannot.redo.dialog.title"));
    }
 else {
      throw new RuntimeException(e);
    }
  }
}
