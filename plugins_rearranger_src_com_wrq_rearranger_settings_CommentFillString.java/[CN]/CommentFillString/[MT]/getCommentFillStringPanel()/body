{
  final JPanel cfsPanel=new JPanel(new GridBagLayout());
  final Constraints constraints=new Constraints(GridBagConstraints.NORTHWEST);
  constraints.fill=GridBagConstraints.BOTH;
  constraints.insets=new Insets(4,4,4,0);
  constraints.newRow();
  final JLabel fillStringLabel=new JLabel("Fill string:");
  fillStringLabel.setToolTipText("Occurrences of %FS% in the comment separator text will be replaced with equal \n" + "amounts of the fill string, replicated to make the comment end at the specified column");
  cfsPanel.add(fillStringLabel,constraints.firstCol());
  final JTextField fillString=new JTextField(this.fillString);
  cfsPanel.add(fillString,constraints.weightedLastCol());
  constraints.newRow();
  final JCheckBox useProjectWidthBox=new JCheckBox("Use project right margin as fill width");
  useProjectWidthBox.setSelected(useProjectWidthForFill);
  cfsPanel.add(useProjectWidthBox,constraints.weightedLastCol());
  constraints.lastRow();
  constraints.insets=new Insets(4,15,4,4);
  final JLabel fillWidthLabel=new JLabel("Fill width:");
  cfsPanel.add(fillWidthLabel,constraints.firstCol());
  final IntTextField fillWidthField=new IntTextField(new IntTextField.IGetSet(){
    public int get(){
      return fillWidth;
    }
    public void set(    int value){
      fillWidth=value;
    }
  }
,0,999);
  cfsPanel.add(fillWidthField,constraints.nextCol());
  cfsPanel.add(new JLabel(),constraints.weightedLastCol());
  fillWidthLabel.setEnabled(!useProjectWidthForFill);
  fillWidthField.setEnabled(!useProjectWidthForFill);
  fillString.getDocument().addDocumentListener(new DocumentListener(){
    public void insertUpdate(    DocumentEvent e){
      setFillString(fillString.getText());
    }
    public void removeUpdate(    DocumentEvent e){
      setFillString(fillString.getText());
    }
    public void changedUpdate(    DocumentEvent e){
      setFillString(fillString.getText());
    }
  }
);
  useProjectWidthBox.addActionListener(new ActionListener(){
    public void actionPerformed(    ActionEvent e){
      useProjectWidthForFill=useProjectWidthBox.isSelected();
      fillWidthLabel.setEnabled(!useProjectWidthForFill);
      fillWidthField.setEnabled(!useProjectWidthForFill);
    }
  }
);
  return cfsPanel;
}
