{
  if (SystemInfo.isMac) {
    try {
      Class appleLaf=Class.forName(APPLE_LAF_AQUA_LOOK_AND_FEEL_CLASS_NAME);
      Method getModifiers=appleLaf.getMethod(GET_KEY_MODIFIERS_TEXT_METHOD,new Class[]{int.class,boolean.class});
      return (String)getModifiers.invoke(appleLaf,new Object[]{new Integer(modifiers),Boolean.FALSE});
    }
 catch (    Exception e) {
      if (SystemInfo.isMacOSLeopard) {
        return KeymapUtil.getKeyModifiersTextForMacOSLeopard(modifiers);
      }
    }
  }
  final String keyModifiersText=KeyEvent.getKeyModifiersText(modifiers);
  if (keyModifiersText.length() > 0) {
    return keyModifiersText + "+";
  }
 else {
    return keyModifiersText;
  }
}
