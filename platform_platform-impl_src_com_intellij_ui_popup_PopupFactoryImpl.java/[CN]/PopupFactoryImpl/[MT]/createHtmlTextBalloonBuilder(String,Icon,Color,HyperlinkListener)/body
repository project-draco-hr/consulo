{
  JEditorPane text=IdeTooltipManager.initPane(htmlContent,new HintHint().setAwtTooltip(true),null);
  if (listener != null) {
    text.addHyperlinkListener(listener);
  }
  text.setEditable(false);
  NonOpaquePanel.setTransparent(text);
  text.setBorder(null);
  JLabel label=new JLabel();
  final JPanel content=new NonOpaquePanel(new BorderLayout((int)(label.getIconTextGap() * 1.5),(int)(label.getIconTextGap() * 1.5)));
  final NonOpaquePanel textWrapper=new NonOpaquePanel(new GridBagLayout());
  JScrollPane scrolledText=new JScrollPane(text);
  scrolledText.setBackground(fillColor);
  scrolledText.getViewport().setBackground(fillColor);
  scrolledText.getViewport().setBorder(null);
  scrolledText.setBorder(null);
  textWrapper.add(scrolledText);
  content.add(textWrapper,BorderLayout.CENTER);
  final NonOpaquePanel north=new NonOpaquePanel(new BorderLayout());
  north.add(new JLabel(icon),BorderLayout.NORTH);
  content.add(north,BorderLayout.WEST);
  content.setBorder(new EmptyBorder(2,4,2,4));
  final BalloonBuilder builder=createBalloonBuilder(content);
  builder.setFillColor(fillColor);
  return builder;
}
