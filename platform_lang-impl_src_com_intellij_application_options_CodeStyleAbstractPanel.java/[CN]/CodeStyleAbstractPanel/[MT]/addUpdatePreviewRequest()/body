{
  myUpdateAlarm.addComponentRequest(new Runnable(){
    public void run(){
      try {
        myUpdateAlarm.cancelAllRequests();
        if (isSomethingChanged()) {
          updateEditor();
        }
        if (System.currentTimeMillis() <= myEndHighlightPreviewChangesTimeMillis && !myPreviewRangesToHighlight.isEmpty()) {
          blinkHighlighters();
          myUpdateAlarm.addComponentRequest(this,500);
        }
 else {
          myEditor.getMarkupModel().removeAllHighlighters();
        }
      }
  finally {
        setSomethingChanged(false);
      }
    }
  }
,300);
}
