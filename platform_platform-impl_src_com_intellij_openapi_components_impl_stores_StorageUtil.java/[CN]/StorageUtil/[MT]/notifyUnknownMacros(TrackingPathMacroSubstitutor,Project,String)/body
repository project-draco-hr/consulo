{
  final LinkedHashSet<String> macros=new LinkedHashSet<String>(substitutor.getUnknownMacros(componentName));
  if (macros.isEmpty()) {
    return;
  }
  UIUtil.invokeLaterIfNeeded(new Runnable(){
    public void run(){
      macros.removeAll(getMacrosFromExistingNotifications(project));
      if (!macros.isEmpty()) {
        String content=String.format("<p><i>%s</i> %s undefined. <a href=\"define\">Fix it</a>.</p>",StringUtil.join(macros,", "),macros.size() == 1 ? "is" : "are");
        new UnknownMacroNotification("Load Error","Load error: undefined path variables!",content,NotificationType.ERROR,new NotificationListener(){
          public void hyperlinkUpdate(          @NotNull Notification notification,          @NotNull HyperlinkEvent event){
            ((ProjectEx)project).checkUnknownMacros(true);
          }
        }
,macros).notify(project);
      }
    }
  }
);
}
