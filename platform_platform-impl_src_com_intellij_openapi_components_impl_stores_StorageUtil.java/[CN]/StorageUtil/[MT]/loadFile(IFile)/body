{
  if (!file.exists())   return Pair.create(null,SystemProperties.getLineSeparator());
  String fileText=new String(file.loadBytes(),CharsetToolkit.UTF8);
  if (!Registry.is("storage.preserve.line.separators"))   return Pair.create(fileText,SystemProperties.getLineSeparator());
  final int ndx=fileText.indexOf('\n');
  return Pair.create(fileText,ndx == -1 ? SystemProperties.getLineSeparator() : (ndx - 1 >= 0 ? (fileText.charAt(ndx - 1) == '\r' ? "\r\n" : "\n") : "\n"));
}
