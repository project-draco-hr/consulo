{
  if (file == null || !file.exists()) {
    return Pair.create(null,SystemProperties.getLineSeparator());
  }
  String fileText=new String(file.contentsToByteArray(),CharsetToolkit.UTF8);
  final int index=fileText.indexOf('\n');
  return Pair.create(fileText,index == -1 ? SystemProperties.getLineSeparator() : index - 1 >= 0 ? fileText.charAt(index - 1) == '\r' ? "\r\n" : "\n" : "\n");
}
