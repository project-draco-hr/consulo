{
  if (vFile.isDirectory()) {
    for (    VirtualFile child : vFile.getChildren()) {
      fixSeparators(child);
    }
  }
 else {
    if (vFile.getFileType().isBinary()) {
      return;
    }
    final Document document=FileDocumentManager.getInstance().getDocument(vFile);
    if (areSeparatorsBroken(document)) {
      fixSeparators(document);
    }
  }
}
