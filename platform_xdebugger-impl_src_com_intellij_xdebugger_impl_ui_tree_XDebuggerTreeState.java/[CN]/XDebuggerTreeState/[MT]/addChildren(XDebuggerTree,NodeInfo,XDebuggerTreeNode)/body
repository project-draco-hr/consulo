{
  if (tree.isExpanded(treeNode.getPath())) {
    List<? extends XDebuggerTreeNode> children=treeNode.getLoadedChildren();
    if (children != null) {
      nodeInfo.myExpanded=true;
      for (      XDebuggerTreeNode child : children) {
        final TreePath path=child.getPath();
        final Rectangle bounds=tree.getPathBounds(path);
        if (bounds != null && tree.getVisibleRect().contains(bounds)) {
          myLastVisibleNodeRect=bounds;
        }
        NodeInfo childInfo=createNode(child,tree.isPathSelected(path));
        if (childInfo != null) {
          nodeInfo.addChild(childInfo);
          addChildren(tree,childInfo,child);
        }
      }
    }
  }
}
