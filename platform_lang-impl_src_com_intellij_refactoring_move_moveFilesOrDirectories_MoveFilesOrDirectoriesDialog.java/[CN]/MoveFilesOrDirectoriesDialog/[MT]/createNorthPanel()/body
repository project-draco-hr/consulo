{
  JPanel panel=new JPanel();
  panel.setLayout(new GridBagLayout());
  panel.setBorder(IdeBorderFactory.createBorder());
  myNameLabel=new JLabel();
  panel.add(myNameLabel,new GridBagConstraints(0,0,2,1,1,0,GridBagConstraints.WEST,GridBagConstraints.HORIZONTAL,new Insets(4,8,4,8),0,0));
  panel.add(new JLabel(RefactoringBundle.message("move.files.to.directory.label")),new GridBagConstraints(0,1,1,1,0,0,GridBagConstraints.WEST,GridBagConstraints.HORIZONTAL,new Insets(4,8,4,8),0,0));
  final ComponentWithBrowseButton.BrowseFolderActionListener browseActionListener=new ComponentWithBrowseButton.BrowseFolderActionListener<JComboBox>(RefactoringBundle.message("select.target.directory"),RefactoringBundle.message("the.file.will.be.moved.to.this.directory"),null,myProject,FileChooserDescriptorFactory.createSingleFolderDescriptor(),TextComponentAccessor.STRING_COMBOBOX_WHOLE_TEXT);
  myTargetDirectoryField=new EditorComboWithBrowseButton(browseActionListener,"",myProject,RECENT_KEYS);
  myTargetDirectoryField.setTextFieldPreferredWidth(60);
  panel.add(myTargetDirectoryField,new GridBagConstraints(1,1,1,1,1,0,GridBagConstraints.WEST,GridBagConstraints.HORIZONTAL,new Insets(4,0,4,8),0,0));
  myTargetDirectoryField.getChildComponent().getDocument().addDocumentListener(new DocumentAdapter(){
    @Override public void documentChanged(    DocumentEvent e){
      validateOKButton();
    }
  }
);
  Disposer.register(getDisposable(),myTargetDirectoryField);
  return panel;
}
