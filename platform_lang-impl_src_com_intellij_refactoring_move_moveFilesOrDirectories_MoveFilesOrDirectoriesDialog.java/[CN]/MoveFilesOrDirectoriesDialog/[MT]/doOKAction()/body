{
  RecentsManager.getInstance(myProject).registerRecentEntry(RECENT_KEYS,myTargetDirectoryField.getText());
  CommandProcessor.getInstance().executeCommand(myProject,new Runnable(){
    public void run(){
      final Runnable action=new Runnable(){
        public void run(){
          String directoryName=myTargetDirectoryField.getText().replace(File.separatorChar,'/');
          try {
            myTargetDirectory=DirectoryUtil.mkdirs(PsiManager.getInstance(myProject),directoryName);
          }
 catch (          IncorrectOperationException e) {
          }
        }
      }
;
      ApplicationManager.getApplication().runWriteAction(action);
    }
  }
,RefactoringBundle.message("create.directory"),null);
  if (myTargetDirectory == null) {
    CommonRefactoringUtil.showErrorMessage(getTitle(),RefactoringBundle.message("cannot.create.directory"),myHelpID,myProject);
    return;
  }
  myCallback.run(this);
}
