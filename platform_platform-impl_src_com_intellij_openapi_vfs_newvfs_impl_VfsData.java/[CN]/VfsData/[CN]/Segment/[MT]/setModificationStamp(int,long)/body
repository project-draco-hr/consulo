{
  int offset=getOffset(id) * 2 + 1;
  while (true) {
    int oldInt=myIntArray.get(offset);
    int updated=(oldInt & ALL_FLAGS_MASK) | ((int)stamp & ~ALL_FLAGS_MASK);
    if (myIntArray.compareAndSet(offset,oldInt,updated)) {
      return;
    }
  }
}
