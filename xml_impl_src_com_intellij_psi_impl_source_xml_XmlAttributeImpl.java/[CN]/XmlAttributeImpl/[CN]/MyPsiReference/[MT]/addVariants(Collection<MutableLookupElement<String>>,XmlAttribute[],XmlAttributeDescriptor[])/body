{
  final XmlTag tag=getParent();
  final XmlExtension extension=XmlExtension.getExtension(tag.getContainingFile());
  for (  XmlAttributeDescriptor descriptor : descriptors) {
    if (isValidVariant(descriptor,attributes,extension)) {
      final MutableLookupElement<String> element=LookupElementFactory.getInstance().createLookupElement(descriptor.getName(tag));
      if (descriptor instanceof PsiPresentableMetaData) {
        element.setIcon(((PsiPresentableMetaData)descriptor).getIcon());
      }
      element.setInsertHandler(XmlAttributeInsertHandler.INSTANCE);
      variants.add(element);
    }
  }
}
