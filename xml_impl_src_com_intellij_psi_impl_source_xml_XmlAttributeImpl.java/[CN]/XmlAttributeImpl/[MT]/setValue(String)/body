{
  final ASTNode value=XmlChildRole.ATTRIBUTE_VALUE_FINDER.findChild(this);
  final PomModel model=PomManager.getModel(getProject());
  final XmlAttribute attribute=XmlElementFactory.getInstance(getManager().getProject()).createXmlAttribute("a",valueText);
  final ASTNode newValue=XmlChildRole.ATTRIBUTE_VALUE_FINDER.findChild((ASTNode)attribute);
  final XmlAspect aspect=model.getModelAspect(XmlAspect.class);
  model.runTransaction(new PomTransactionBase(this,aspect){
    public PomModelEvent runInner(){
      final XmlAttributeImpl att=XmlAttributeImpl.this;
      if (value != null) {
        if (newValue != null) {
          att.replaceChild(value,newValue.copyElement());
        }
 else {
          att.removeChild(value);
        }
      }
 else {
        if (newValue != null) {
          att.addChild(newValue.copyElement());
        }
      }
      return XmlAttributeSetImpl.createXmlAttributeSet(model,getParent(),getName(),newValue != null ? newValue.getText() : null);
    }
  }
);
}
