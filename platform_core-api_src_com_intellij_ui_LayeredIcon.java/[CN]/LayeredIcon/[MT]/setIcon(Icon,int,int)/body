{
  int width=getIconWidth();
  int height=getIconHeight();
  int w=icon.getIconWidth();
  int h=icon.getIconHeight();
  if (width <= 1 || height <= 1) {
    setIcon(icon,layer);
    return;
  }
  int x;
  int y;
switch (constraint) {
case SwingConstants.NORTH:
    x=(width - w) / 2;
  y=0;
break;
case SwingConstants.NORTH_EAST:
x=width - w;
y=0;
break;
case SwingConstants.EAST:
x=width - w;
y=(height - h) / 2;
break;
case SwingConstants.SOUTH_EAST:
x=width - w;
y=height - h;
break;
case SwingConstants.SOUTH:
x=(width - w) / 2;
y=height - h;
break;
case SwingConstants.SOUTH_WEST:
x=0;
y=height - h;
break;
case SwingConstants.WEST:
x=0;
y=(height - h) / 2;
break;
case SwingConstants.NORTH_WEST:
x=0;
y=0;
break;
default :
throw new IllegalArgumentException("The constraint should be one of SwingConstants [NORTH...NORTH_WEST], actual value is " + constraint);
}
setIcon(icon,layer,x,y);
}
