{
  FileTypeManager fileTypeManager=FileTypeManager.getInstance();
  FileType type=fileTypeManager.getFileTypeByFileName(name);
  if (type == StdFileTypes.CLASS) {
    throw new IncorrectOperationException("Cannot create class-file");
  }
  VirtualFile existingFile=getVirtualFile().findChild(name);
  if (existingFile != null) {
    throw new IncorrectOperationException(VfsBundle.message("file.already.exists.error",existingFile.getPresentableUrl()));
  }
  CheckUtil.checkWritable(this);
}
