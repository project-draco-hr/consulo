{
  RepositoryTreeNode node=getRepositoryBrowser().getSelectedNode();
  if (node == null || (!(node.getParent() instanceof RepositoryTreeRootNode))) {
    return;
  }
  final String oldUrl=node.getURL().toString();
  final SvnApplicationSettings settings=SvnApplicationSettings.getInstance();
  final AddRepositoryLocationDialog dialog=new AddRepositoryLocationDialog(myProject,settings.getTypedUrlsListCopy()){
    @Override protected String initText(){
      return oldUrl;
    }
    @Override public String getTitle(){
      return SvnBundle.message("repository.browser.edit.location.dialog.title");
    }
  }
;
  dialog.show();
  if (dialog.getExitCode() == DialogWrapper.OK_EXIT_CODE) {
    final String url=dialog.getSelected();
    if (url != null && url.length() > 0) {
      settings.addTypedUrl(url);
      settings.removeCheckoutURL(oldUrl);
      settings.addCheckoutURL(url);
      final RepositoryBrowserComponent browser=getRepositoryBrowser();
      browser.removeURL(oldUrl);
      browser.addURL(url);
    }
  }
}
