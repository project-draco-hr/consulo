{
  if (!(file instanceof PsiJavaFile)) {
    return super.createStubForFile(file,tree);
  }
  String refText="";
  LighterASTNode pkg=LightTreeUtil.firstChildOfType(tree,tree.getRoot(),JavaElementType.PACKAGE_STATEMENT);
  if (pkg != null) {
    LighterASTNode ref=LightTreeUtil.firstChildOfType(tree,pkg,JavaElementType.JAVA_CODE_REFERENCE);
    if (ref != null) {
      refText=SourceUtil.getTextSkipWhiteSpaceAndComments(tree,ref);
    }
  }
  return new PsiJavaFileStubImpl((PsiJavaFile)file,StringRef.fromString(refText),false);
}
