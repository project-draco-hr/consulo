{
  if (args.length == 0) {
    System.err.println("Error: dx path must be passed as first argument");
  }
  String dxPath=args[0];
  if (args.length == 1) {
    System.err.println("Error: out file path must be passed as second argument");
  }
  String outFilePath=args[1];
  if (args.length == 2) {
    System.err.println("Error: no files");
  }
  Set<String> files=new HashSet<String>();
  HashSet<String> visited=new HashSet<String>();
  HashSet<String> qNames=new HashSet<String>();
  int i=2;
  while (i < args.length) {
    String arg=args[i];
    if ("--exclude".equals(arg)) {
      break;
    }
    File file=new File(arg);
    if (file.exists()) {
      try {
        collectFiles(file,files,visited,qNames);
      }
 catch (      IOException e) {
        reportError("I/O error",e);
      }
    }
    i++;
  }
  String[] excludedFiles=new String[args.length - i - 1];
  System.arraycopy(args,i + 1,excludedFiles,0,excludedFiles.length);
  files.removeAll(Arrays.asList(excludedFiles));
  String[] filesArray=files.toArray(new String[files.size()]);
  runDex(dxPath,outFilePath,filesArray);
}
