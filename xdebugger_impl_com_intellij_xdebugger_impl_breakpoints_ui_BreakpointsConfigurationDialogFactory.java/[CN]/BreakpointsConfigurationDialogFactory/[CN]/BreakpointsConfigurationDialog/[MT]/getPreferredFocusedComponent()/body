{
  if (myPreferredComponent != null) {
    if (myPreparePreferredComponent != null) {
      myPreparePreferredComponent.run();
    }
    myPreparePreferredComponent=null;
    return myPreferredComponent;
  }
  final TabbedPaneWrapper tabbedPane=myTabbedPane;
  return tabbedPane != null ? IdeFocusTraversalPolicy.getPreferredFocusedComponent(tabbedPane.getComponent()) : null;
}
