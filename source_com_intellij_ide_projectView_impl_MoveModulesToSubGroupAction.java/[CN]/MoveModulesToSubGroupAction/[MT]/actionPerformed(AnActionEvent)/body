{
  final DataContext dataContext=e.getDataContext();
  final Module[] modules=(Module[])dataContext.getData(DataConstantsEx.MODULE_CONTEXT_ARRAY);
  final String[] newGroup;
  if (myModuleGroup != null) {
    String message="Specify name of " + myModuleGroup.presentableText() + " subgroup the "+ whatToMove(modules)+ " will be shown under.\n\n";
    String subgroup=Messages.showInputDialog(message,"Module Sub Group",Messages.getQuestionIcon());
    if (subgroup == null || "".equals(subgroup.trim()))     return;
    newGroup=ArrayUtil.append(myModuleGroup.getGroupPath(),subgroup);
  }
 else {
    String message="Specify group name the " + whatToMove(modules) + " will be shown under.\n\n";
    String group=Messages.showInputDialog(message,"Module Group",Messages.getQuestionIcon());
    if (group == null || "".equals(group.trim()))     return;
    newGroup=new String[]{group};
  }
  doMove(modules,new ModuleGroup(newGroup));
}
