{
  myElement=element;
  myRange=range;
  final XmlAttribute attribute=PsiTreeUtil.getParentOfType(myElement,XmlAttribute.class);
  final XmlTag tag=attribute.getParent();
  final String localName=tag.getLocalName();
  final String attributeLocalName=attribute.getLocalName();
  if ("ref".equals(attributeLocalName) || "substitutionGroup".equals(attributeLocalName)) {
    if (localName.equals("group")) {
      myType=ReferenceType.GroupReference;
    }
 else     if (localName.equals("attributeGroup")) {
      myType=ReferenceType.AttributeGroupReference;
    }
 else     if ("element".equals(localName)) {
      myType=ReferenceType.ElementReference;
    }
 else     if ("attribute".equals(localName)) {
      myType=ReferenceType.AttributeReference;
    }
  }
 else   if ("type".equals(attributeLocalName) || "base".equals(attributeLocalName) || "memberTypes".equals(attributeLocalName)) {
    myType=ReferenceType.TypeReference;
  }
}
