{
  myElement=element;
  myRange=range;
  final XmlAttribute attribute=PsiTreeUtil.getParentOfType(myElement,XmlAttribute.class);
  final XmlTag tag=attribute.getParent();
  final String localName=tag.getLocalName();
  final String attributeLocalName=attribute.getLocalName();
  if (REF_ATTR_NAME.equals(attributeLocalName) || "substitutionGroup".equals(attributeLocalName)) {
    if (localName.equals(GROUP_TAG_NAME)) {
      myType=ReferenceType.GroupReference;
    }
 else     if (localName.equals(ATTRIBUTE_GROUP_TAG_NAME)) {
      myType=ReferenceType.AttributeGroupReference;
    }
 else     if (ELEMENT_TAG_NAME.equals(localName)) {
      myType=ReferenceType.ElementReference;
    }
 else     if (ATTRIBUTE_TAG_NAME.equals(localName)) {
      myType=ReferenceType.AttributeReference;
    }
  }
 else   if ("type".equals(attributeLocalName) || BASE_XML_NS_ATTR_NAME.equals(attributeLocalName) || MEMBER_TYPES_ATTR_NAME.equals(attributeLocalName)) {
    myType=ReferenceType.TypeReference;
  }
}
