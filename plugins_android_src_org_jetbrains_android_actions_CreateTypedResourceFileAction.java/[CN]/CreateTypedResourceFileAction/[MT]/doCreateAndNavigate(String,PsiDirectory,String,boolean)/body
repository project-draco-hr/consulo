{
  final XmlFile file=AndroidResourceUtil.createFileResource(newName,directory,rootTagName,myResourceType.getName(),myValuesResourceFile);
  doNavigate(file);
  if (chooseTagName) {
    XmlDocument document=file.getDocument();
    if (document != null) {
      XmlTag rootTag=document.getRootTag();
      if (rootTag != null) {
        final Project project=file.getProject();
        final Editor editor=FileEditorManager.getInstance(project).getSelectedTextEditor();
        if (editor != null) {
          CaretModel caretModel=editor.getCaretModel();
          caretModel.moveToOffset(rootTag.getTextOffset() + 1);
          XmlTagInplaceRenamer.rename(editor,rootTag);
        }
      }
    }
  }
  return new PsiElement[]{file};
}
