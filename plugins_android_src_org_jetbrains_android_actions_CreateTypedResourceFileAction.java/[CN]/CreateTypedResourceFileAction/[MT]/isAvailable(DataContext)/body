{
  if (!super.isAvailable(context))   return false;
  final PsiElement element=(PsiElement)context.getData(DataKeys.PSI_ELEMENT.getName());
  return ApplicationManager.getApplication().runReadAction(new Computable<Boolean>(){
    public Boolean compute(){
      PsiElement e=element;
      while (e != null) {
        if (e instanceof PsiDirectory && AndroidResourceUtil.isResourceSubdirectory((PsiDirectory)e,myResourceType)) {
          return true;
        }
        e=e.getParent();
      }
      return false;
    }
  }
);
}
