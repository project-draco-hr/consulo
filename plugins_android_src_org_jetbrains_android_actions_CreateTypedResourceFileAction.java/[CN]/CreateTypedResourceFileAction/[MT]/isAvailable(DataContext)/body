{
  if (!super.isAvailable(context))   return false;
  final PsiElement element=(PsiElement)context.getData(DataKeys.PSI_ELEMENT.getName());
  if (element instanceof PsiDirectory) {
    return ApplicationManager.getApplication().runReadAction(new Computable<Boolean>(){
      public Boolean compute(){
        return ResourceManager.isResourceSubdirectory((PsiDirectory)element,myResourceType);
      }
    }
);
  }
  return false;
}
