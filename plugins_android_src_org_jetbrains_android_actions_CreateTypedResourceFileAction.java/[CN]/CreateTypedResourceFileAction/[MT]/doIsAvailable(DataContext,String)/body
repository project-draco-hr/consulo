{
  final PsiElement element=(PsiElement)context.getData(LangDataKeys.PSI_ELEMENT.getName());
  if (element == null || AndroidFacet.getInstance(element) == null) {
    return false;
  }
  return ApplicationManager.getApplication().runReadAction(new Computable<Boolean>(){
    public Boolean compute(){
      PsiElement e=element;
      while (e != null) {
        if (e instanceof PsiDirectory && AndroidResourceUtil.isResourceSubdirectory((PsiDirectory)e,resourceType)) {
          return true;
        }
        e=e.getParent();
      }
      return false;
    }
  }
);
}
