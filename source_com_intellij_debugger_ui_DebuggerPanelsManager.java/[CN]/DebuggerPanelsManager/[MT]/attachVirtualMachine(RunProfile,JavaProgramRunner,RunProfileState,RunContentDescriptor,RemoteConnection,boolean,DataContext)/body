{
  DebuggerSession debuggerSession=DebuggerManagerEx.getInstanceEx(myProject).attachVirtualMachine(runProfile.getName(),state,remoteConnection,pollConnection);
  DebuggerSessionTab sessionTab=new DebuggerSessionTab(myProject);
  RunContentDescriptor runContentDescriptor=sessionTab.attachToSession(debuggerSession,runner,runProfile,state.getRunnerSettings(),state.getConfigurationSettings(),originContext);
  mySessionTabs.put(runContentDescriptor.getProcessHandler(),sessionTab);
  return runContentDescriptor;
}
