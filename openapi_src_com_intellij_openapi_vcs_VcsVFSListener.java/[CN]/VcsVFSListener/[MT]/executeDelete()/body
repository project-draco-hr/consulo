{
  final List<FilePath> filesToDelete=new ArrayList<FilePath>(myDeletedWithoutConfirmFiles);
  final List<FilePath> deletedFiles=new ArrayList<FilePath>(myDeletedFiles);
  myDeletedWithoutConfirmFiles.clear();
  myDeletedFiles.clear();
  if (myRemoveOption.getValue() != VcsShowConfirmationOption.Value.DO_NOTHING_SILENTLY) {
    if (myRemoveOption.getValue() == VcsShowConfirmationOption.Value.DO_ACTION_SILENTLY || deletedFiles.isEmpty()) {
      filesToDelete.addAll(deletedFiles);
    }
 else {
      AbstractVcsHelper helper=AbstractVcsHelper.getInstance(myProject);
      Collection<FilePath> filePaths=helper.selectFilePathsToProcess(deletedFiles,getDeleteTitle(),null,getSingleFileDeleteTitle(),getSingleFileDeletePromptTemplate(),myRemoveOption);
      if (filePaths != null) {
        filesToDelete.addAll(filePaths);
      }
    }
  }
  performDeletion(filesToDelete);
}
