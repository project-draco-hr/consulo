{
  DetectedFacetsBean facetsBean=new DetectedFacetsBean();
  Collection<DetectedFacetInfo<Module>> facets=getAllDetectedFacets();
  Set<DetectedFacetInfo<Module>> added=new HashSet<DetectedFacetInfo<Module>>();
  for (  DetectedFacetInfo<Module> facet : facets) {
    addFacetBean(facet,facetsBean,added);
  }
  Element element=XmlSerializer.serialize(facetsBean,new SkipDefaultValuesSerializationFilters());
  try {
    FileUtil.delete(file);
    JDOMUtil.writeDocument(new Document(element),file,SystemProperties.getLineSeparator());
  }
 catch (  IOException e) {
    LOG.info(e);
  }
}
