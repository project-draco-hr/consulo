{
  int cStyleArrayCount=0;
  ASTNode name=SourceTreeToPsiMap.psiElementToTree(anchor);
  for (ASTNode child=name.getTreeNext(); child != null; child=child.getTreeNext()) {
    IElementType i=child.getElementType();
    if (i == JavaTokenType.LBRACKET) {
      cStyleArrayCount++;
    }
 else     if (i != JavaTokenType.RBRACKET && i != TokenType.WHITE_SPACE && i != JavaTokenType.C_STYLE_COMMENT && i != JavaDocElementType.DOC_COMMENT && i != JavaTokenType.END_OF_LINE_COMMENT) {
      break;
    }
  }
  PsiType type=typeElement.getTypeNoResolve(context);
  for (int i=0; i < cStyleArrayCount; i++) {
    type=type.createArrayType();
  }
  return type;
}
