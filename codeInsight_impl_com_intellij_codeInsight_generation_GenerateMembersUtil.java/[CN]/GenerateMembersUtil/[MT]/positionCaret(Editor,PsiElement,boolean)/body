{
  LOG.assertTrue(firstMember.isValid());
  if (toEditBody) {
    PsiMethod method=(PsiMethod)firstMember;
    PsiCodeBlock body=method.getBody();
    if (body != null) {
      PsiElement l=body.getFirstBodyElement();
      while (l instanceof PsiWhiteSpace)       l=l.getNextSibling();
      PsiElement r=body.getLastBodyElement();
      while (r instanceof PsiWhiteSpace)       r=r.getPrevSibling();
      LOG.assertTrue(l != null && r != null);
      int start=l.getTextRange().getStartOffset();
      int end=r.getTextRange().getEndOffset();
      editor.getCaretModel().moveToOffset(Math.min(start,end));
      editor.getScrollingModel().scrollToCaret(ScrollType.RELATIVE);
      if (start < end) {
        editor.getSelectionModel().setSelection(start,end);
      }
      return;
    }
  }
  int offset;
  if (firstMember instanceof PsiMethod) {
    PsiMethod method=(PsiMethod)firstMember;
    PsiCodeBlock body=method.getBody();
    if (body == null) {
      offset=method.getTextRange().getStartOffset();
    }
 else {
      offset=body.getLBrace().getTextRange().getEndOffset();
    }
  }
 else {
    offset=firstMember.getTextRange().getStartOffset();
  }
  editor.getCaretModel().moveToOffset(offset);
  editor.getScrollingModel().scrollToCaret(ScrollType.RELATIVE);
  editor.getSelectionModel().removeSelection();
}
