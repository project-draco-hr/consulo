{
  if (string == null)   return null;
  if (string.indexOf('\n') == -1)   return new String[]{string};
  String[] strings=string.split("\n",-1);
  for (int i=0; i < strings.length - 1; i++) {
    strings[i]+="\n";
  }
  if (StringUtil.endsWithChar(string,'\n')) {
    String[] result=new String[strings.length - 1];
    System.arraycopy(strings,0,result,0,strings.length - 1);
    return result;
  }
  return strings;
}
