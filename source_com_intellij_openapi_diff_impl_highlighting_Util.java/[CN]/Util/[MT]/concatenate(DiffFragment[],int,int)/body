{
  StringBuffer buffer1=new StringBuffer();
  StringBuffer buffer2=new StringBuffer();
  boolean isEqual=true;
  for (int j=from; j < to; j++) {
    DiffFragment fragment=line[j];
    isEqual&=fragment.isEqual();
    String text1=fragment.getText1();
    String text2=fragment.getText2();
    if (text1 != null)     buffer1.append(text1);
    if (text2 != null)     buffer2.append(text2);
  }
  String text1=notEmptyContent(buffer1);
  String text2=notEmptyContent(buffer2);
  return isEqual ? DiffFragment.unchanged(text1,text2) : new DiffFragment(text1,text2);
}
