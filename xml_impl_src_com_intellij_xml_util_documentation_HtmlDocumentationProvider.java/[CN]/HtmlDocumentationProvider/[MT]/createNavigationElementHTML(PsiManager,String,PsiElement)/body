{
  String key=text.toLowerCase();
  final HtmlTagDescriptor descriptor=HtmlDescriptorsTable.getTagDescriptor(key);
  if (descriptor != null && !isAttributeContext(context)) {
    try {
      final XmlTag tagFromText=XmlElementFactory.getInstance(psiManager.getProject()).createTagFromText("<" + key + " xmlns=\""+ XmlUtil.XHTML_URI+ "\"/>");
      final XmlElementDescriptor tagDescriptor=tagFromText.getDescriptor();
      return tagDescriptor != null ? tagDescriptor.getDeclaration() : null;
    }
 catch (    IncorrectOperationException ignore) {
    }
  }
 else {
    XmlTag tagContext=findTagContext(context);
    HtmlAttributeDescriptor myAttributeDescriptor=getDescriptor(key,tagContext);
    if (myAttributeDescriptor != null && tagContext != null) {
      XmlElementDescriptor tagDescriptor=tagContext.getDescriptor();
      XmlAttributeDescriptor attributeDescriptor=tagDescriptor != null ? tagDescriptor.getAttributeDescriptor(text,tagContext) : null;
      return (attributeDescriptor != null) ? attributeDescriptor.getDeclaration() : null;
    }
  }
  return null;
}
