{
  Runnable task=new Runnable(){
    @SuppressWarnings("unchecked") @Override public void run(){
      if (SystemProperties.getBooleanProperty(ExternalSystemConstants.NEWLY_IMPORTED_PROJECT,false)) {
        System.setProperty(ExternalSystemConstants.NEWLY_IMPORTED_PROJECT,Boolean.toString(false));
      }
 else {
        for (        ExternalSystemManager manager : ExternalSystemManager.EP_NAME.getExtensions()) {
          ExternalSystemUtil.refreshProjects(project,manager.getSystemId());
        }
      }
    }
  }
;
  if (project.isInitialized()) {
    task.run();
  }
 else {
    StartupManager.getInstance(project).registerPostStartupActivity(task);
  }
}
