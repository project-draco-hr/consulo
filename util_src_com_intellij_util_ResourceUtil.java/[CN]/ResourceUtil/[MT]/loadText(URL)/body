{
  URLConnection connection=url.openConnection();
  InputStream inputStream=connection.getInputStream();
  InputStreamReader reader=null;
  try {
    reader=new InputStreamReader(inputStream,ENCODING_UTF_8);
    StringBuffer text=new StringBuffer();
    char[] buf=new char[5000];
    while (reader.ready()) {
      final int length=reader.read(buf);
      if (length == -1)       break;
      text.append(buf,0,length);
    }
    return text.toString();
  }
  finally {
    if (reader != null) {
      reader.close();
    }
  }
}
