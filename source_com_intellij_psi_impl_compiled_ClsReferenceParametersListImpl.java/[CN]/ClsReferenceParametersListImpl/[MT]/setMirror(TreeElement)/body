{
  LOG.assertTrue(!CHECK_MIRROR_ENABLED || myMirror == null);
  myMirror=element;
  PsiTypeElement[] typeElements=getTypeParameterElements();
  PsiTypeElement[] typeMirrors=((PsiReferenceParameterList)SourceTreeToPsiMap.treeElementToPsi(myMirror)).getTypeParameterElements();
  LOG.assertTrue(typeElements.length == typeMirrors.length);
  if (typeElements.length == typeMirrors.length) {
    for (int i=0; i < typeElements.length; i++) {
      ((ClsElementImpl)typeElements[i]).setMirror((TreeElement)SourceTreeToPsiMap.psiElementToTree(typeMirrors[i]));
    }
  }
}
