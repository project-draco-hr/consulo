{
  final String name;
  if (myElement instanceof PsiClass) {
    name=((PsiClass)myElement).getQualifiedName();
  }
 else   if (myElement instanceof PsiPackage) {
    name=((PsiPackage)myElement).getQualifiedName();
  }
 else   if (myElement instanceof PsiMethod) {
    return ((PsiMethod)myElement).getSignature(mySubstitutor);
  }
 else   if (myElement instanceof PsiField) {
    final String s=((PsiField)myElement).getName();
    if (myQualifierClass != null)     return "#" + s;
    return ((PsiField)myElement).getContainingClass().getQualifiedName() + "#" + s;
  }
 else   if (myElement instanceof PsiElement) {
    name=PsiUtil.getName((PsiElement)myElement);
  }
 else {
    name="";
  }
  return name;
}
