{
  RepositoryTreeNode baseNode=myBrowser.getSelectedNode();
  if (baseNode == null) {
    myErrorLabel.setText(SvnBundle.message("diff.options.no.url.error"));
    getOKAction().setEnabled(false);
    return;
  }
  if (myURL.equals(getTargetURL())) {
    myErrorLabel.setText(SvnBundle.message("diff.options.same.url.error"));
    getOKAction().setEnabled(false);
    return;
  }
  if (myUnifiedDiffButton.isSelected() && (myFileBrowser.getText().length() == 0 || getTargetFile().getParentFile() == null)) {
    myErrorLabel.setText(SvnBundle.message("diff.options.no.patch.file.error"));
    getOKAction().setEnabled(false);
    return;
  }
  myErrorLabel.setText(" ");
  getOKAction().setEnabled(true);
}
