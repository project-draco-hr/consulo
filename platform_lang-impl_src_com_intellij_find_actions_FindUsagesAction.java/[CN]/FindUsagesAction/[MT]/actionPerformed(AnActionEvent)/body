{
  final Project project=e.getData(PlatformDataKeys.PROJECT);
  if (project == null) {
    return;
  }
  PsiDocumentManager.getInstance(project).commitAllDocuments();
  UsageTarget[] usageTargets=e.getData(UsageView.USAGE_TARGETS_KEY);
  if (usageTargets != null) {
    usageTargets[0].findUsages();
    return;
  }
  final Editor editor=e.getData(PlatformDataKeys.EDITOR);
  chooseAmbiguousTargetAndPerform(project,editor,new PsiElementProcessor<PsiElement>(){
    @Override public boolean execute(    @NotNull final PsiElement element){
      new PsiElement2UsageTargetAdapter(element).findUsages();
      return false;
    }
  }
);
}
