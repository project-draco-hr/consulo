{
  final String executable=myAppSettings.getPathToGit();
  try {
    final GitVersion version=GitVersion.identifyVersion(executable);
    if (!version.isSupported() && !myProject.isDefault()) {
      showMessage(GitBundle.message("vcs.unsupported.version",version,GitVersion.MIN),ConsoleViewContentType.SYSTEM_OUTPUT.getAttributes());
    }
 else {
      myVersion=version;
    }
  }
 catch (  Exception e) {
    final String reason=(e.getCause() != null ? e.getCause() : e).getMessage();
    if (!myProject.isDefault()) {
      showMessage(GitBundle.message("vcs.unable.to.run.git",executable,reason),ConsoleViewContentType.SYSTEM_OUTPUT.getAttributes());
    }
  }
}
