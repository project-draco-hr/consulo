{
  final String executable=myAppSettings.getPathToGit();
  try {
    myVersion=GitVersion.identifyVersion(executable);
    if (!myVersion.isSupported()) {
      String message=GitBundle.message("vcs.unsupported.version",myVersion,GitVersion.MIN);
      if (!myProject.isDefault()) {
        showMessage(message,ConsoleViewContentType.SYSTEM_OUTPUT.getAttributes());
      }
      VcsBalloonProblemNotifier.showOverVersionControlView(myProject,message,MessageType.ERROR);
    }
  }
 catch (  Exception e) {
    if (getExecutableValidator().checkExecutableAndNotifyIfNeeded()) {
      final String reason=(e.getCause() != null ? e.getCause() : e).getMessage();
      String message=GitBundle.message("vcs.unable.to.run.git",executable,reason);
      if (!myProject.isDefault()) {
        showMessage(message,ConsoleViewContentType.SYSTEM_OUTPUT.getAttributes());
      }
      VcsBalloonProblemNotifier.showOverVersionControlView(myProject,message,MessageType.ERROR);
    }
  }
}
