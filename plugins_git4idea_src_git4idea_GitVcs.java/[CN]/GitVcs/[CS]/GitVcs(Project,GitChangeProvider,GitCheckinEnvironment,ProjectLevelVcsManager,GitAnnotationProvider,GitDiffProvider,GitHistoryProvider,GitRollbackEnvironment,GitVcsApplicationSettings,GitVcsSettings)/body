{
  super(project,NAME);
  myVcsManager=gitVcsManager;
  myAppSettings=gitSettings;
  myChangeProvider=gitChangeProvider;
  myCheckinEnvironment=gitCheckinEnvironment;
  myAnnotationProvider=gitAnnotationProvider;
  myDiffProvider=gitDiffProvider;
  myHistoryProvider=gitHistoryProvider;
  myRollbackEnvironment=gitRollbackEnvironment;
  myRevSelector=new GitRevisionSelector();
  myConfigurable=new GitVcsConfigurable(gitProjectSettings,myProject);
  myUpdateEnvironment=new GitUpdateEnvironment(myProject,this,gitProjectSettings);
  myMergeProvider=new GitMergeProvider(myProject);
  myReverseMergeProvider=new GitMergeProvider(myProject,true);
  myCommittedChangeListProvider=new GitCommittedChangeListProvider(myProject);
  myOutgoingChangesProvider=new GitOutgoingChangesProvider(myProject);
  myTreeDiffProvider=new GitTreeDiffProvider(myProject);
  myCommitAndPushExecutor=new GitCommitAndPushExecutor(gitCheckinEnvironment);
  myReferenceTracker=new GitReferenceTracker(myProject,this,myReferenceListeners.getMulticaster());
  myTaskQueue=new BackgroundTaskQueue(myProject,GitBundle.getString("task.queue.title"));
  myIndexChangeListener=new RepositoryChangeListener(myProject,".git/index");
  myVcsManager.registerCheckinHandlerFactory(new GitCheckinHandlerFactory());
}
