{
  myEditor=editor;
  myStorage=storage;
  myPainter=painter;
  myApplianceManager=applianceManager;
  myDataMapper=dataMapper;
  myDocumentChangeManager=documentChangeManager;
  myDocumentListeners.add(myDocumentChangeManager);
  Collections.sort(myDocumentListeners,PrioritizedDocumentListener.COMPARATOR);
  myEditor.getFoldingModel().addListener(myApplianceManager);
}
