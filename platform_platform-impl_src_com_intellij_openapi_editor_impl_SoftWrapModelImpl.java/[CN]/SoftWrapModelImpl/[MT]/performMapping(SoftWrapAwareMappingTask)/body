{
  try {
    task.performMapping(true);
  }
 catch (  Exception e) {
    if (Boolean.getBoolean(DEBUG_PROPERTY_NAME)) {
      LOG.error(String.format("Unexpected exception occurred during performing document dimension mapping '%s'. Current soft wraps cache: %n" + "%s%nDocument:%n%s%nFold regions: %s",task,myDataMapper,myEditor.getDocument().getText(),Arrays.toString(myEditor.getFoldingModel().fetchTopLevel())),e);
    }
    myDataMapper.release();
    myApplianceManager.release();
    try {
      task.performMapping(true);
    }
 catch (    Exception e1) {
      LOG.error(String.format("Can't perform document dimension mapping %s even with complete soft wraps cache re-parsing. Current soft wraps cache: %n" + "%s. Document:%n%s%nFold regions: %s",task,myDataMapper,myEditor.getDocument().getText(),Arrays.toString(myEditor.getFoldingModel().fetchTopLevel())),e1);
      myEditor.getSettings().setUseSoftWraps(false);
      task.performMapping(false);
    }
  }
}
