{
  try {
    task.run(true);
  }
 catch (  Throwable e) {
    if (Boolean.getBoolean(DEBUG_PROPERTY_NAME)) {
      LOG.error(String.format("Unexpected exception occurred during performing '%s'. Current soft wraps cache: %n" + "%s%nFold regions: %s",task,myDataMapper,Arrays.toString(myEditor.getFoldingModel().fetchTopLevel())),e);
    }
    myEditor.getFoldingModel().rebuild();
    myDataMapper.release();
    myApplianceManager.reset();
    myStorage.removeAll();
    try {
      task.run(true);
    }
 catch (    Throwable e1) {
      LOG.error(String.format("Can't perform %s even with complete soft wraps cache re-parsing. Current soft wraps cache: %n" + "%s. Document:%n%s%nFold regions: %s",task,myDataMapper,myEditor.getDocument().getText(),Arrays.toString(myEditor.getFoldingModel().fetchTopLevel())),e1);
      myEditor.getSettings().setUseSoftWraps(false);
      task.run(false);
    }
  }
}
