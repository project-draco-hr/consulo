{
  boolean useSoftWraps=myActive <= 0 && isSoftWrappingEnabled() && myEditor.getDocument().getTextLength() > 0 && myFoldBasedApplianceStrategy.processSoftWraps();
  if (!useSoftWraps) {
    return false;
  }
  if (myDirty) {
    myApplianceManager.reset();
    myDeferredFoldRegions.clear();
    myDirty=false;
  }
  return myApplianceManager.recalculateIfNecessary();
}
