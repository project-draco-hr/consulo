{
  if (myUpdateInProgress || myBulkUpdateInProgress || myActive > 0 || !isSoftWrappingEnabled() || myEditor.getDocument().getTextLength() <= 0) {
    return false;
  }
  if (myDirty) {
    myApplianceManager.reset();
    myDeferredFoldRegions.clear();
    myDirty=false;
  }
  return myApplianceManager.recalculateIfNecessary();
}
