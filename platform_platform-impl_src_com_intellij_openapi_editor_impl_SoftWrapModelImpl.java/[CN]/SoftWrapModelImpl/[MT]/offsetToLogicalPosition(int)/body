{
  if (!prepareToMapping()) {
    return myEditor.offsetToLogicalPosition(offset,false);
  }
  myActive++;
  try {
    return myDataMapper.offsetToLogicalPosition(offset);
  }
 catch (  Throwable e) {
    return myDataMapper.offsetToLogicalPosition(offset);
  }
 finally {
    myActive--;
  }
}
