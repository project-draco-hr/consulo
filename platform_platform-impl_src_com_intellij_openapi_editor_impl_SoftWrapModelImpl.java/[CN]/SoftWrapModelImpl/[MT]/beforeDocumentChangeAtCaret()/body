{
  CaretModel caretModel=myEditor.getCaretModel();
  VisualPosition visualCaretPosition=caretModel.getVisualPosition();
  if (!isInsideSoftWrap(visualCaretPosition)) {
    return;
  }
  if (myDocumentChangeManager.makeHardWrap(caretModel.getOffset())) {
    caretModel.moveToVisualPosition(visualCaretPosition);
  }
}
