{
  if (myEditor.isOneLineMode()) {
    return false;
  }
  Rectangle visibleArea=myEditor.getScrollingModel().getVisibleArea();
  if (visibleArea.width <= 0 || visibleArea.height <= 0) {
    return false;
  }
  if (!ApplicationManager.getApplication().isUnitTestMode() && myEditor.getScrollingModel().getVisibleArea().width <= 0) {
    return false;
  }
  if (myLastUseSoftWraps != null && System.currentTimeMillis() - myLastSettingsCheckTimeMillis <= EDITOR_SETTINGS_CHECK_PERIOD_MILLIS) {
    return myLastUseSoftWraps == Boolean.TRUE;
  }
  myLastSettingsCheckTimeMillis=System.currentTimeMillis();
  return myLastUseSoftWraps=myEditor.getSettings().isUseSoftWraps();
}
