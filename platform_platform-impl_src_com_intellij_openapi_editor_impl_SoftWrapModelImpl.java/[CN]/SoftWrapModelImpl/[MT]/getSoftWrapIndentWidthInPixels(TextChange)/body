{
  if (!isSoftWrappingEnabled()) {
    return 0;
  }
  char[] chars=softWrap.getChars();
  int result=myPainter.getMinDrawingWidth(SoftWrapDrawingType.AFTER_SOFT_WRAP);
  int start=0;
  int end=chars.length;
  int i=CharArrayUtil.lastIndexOf(chars,'\n',0,chars.length);
  if (i >= 0) {
    start=i + 1;
  }
  if (start < end) {
    result+=EditorUtil.textWidth(myEditor,chars,start,end,Font.PLAIN,0);
  }
  return result;
}
