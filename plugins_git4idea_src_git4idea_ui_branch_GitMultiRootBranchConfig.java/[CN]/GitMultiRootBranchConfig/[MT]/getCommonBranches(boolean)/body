{
  Collection<String> commonLocal=null;
  for (  GitRepository repository : myRepositories) {
    GitBranchesCollection branchesCollection=repository.getBranches();
    Collection<GitBranch> branches=local ? branchesCollection.getLocalBranches() : branchesCollection.getRemoteBranches();
    if (commonLocal == null) {
      commonLocal=GitUtil.getBranchNames(branches);
    }
 else {
      commonLocal.retainAll(GitUtil.getBranchNames(branches));
    }
  }
  return commonLocal != null ? commonLocal : Collections.<String>emptyList();
}
