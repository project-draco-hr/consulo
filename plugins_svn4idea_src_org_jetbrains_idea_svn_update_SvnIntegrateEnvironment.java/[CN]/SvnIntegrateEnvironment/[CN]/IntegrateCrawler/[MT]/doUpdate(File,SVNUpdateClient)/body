{
  final SvnConfiguration svnConfig=SvnConfiguration.getInstance(myVcs.getProject());
  MergeRootInfo info=svnConfig.getMergeRootInfo(root,myVcs);
  SVNDiffClient diffClient=myVcs.createDiffClient();
  diffClient.setEventHandler(myHandler);
  diffClient.doMerge(info.getUrl1(),info.getRevision1(),info.getUrl2(),info.getRevision2(),root,svnConfig.UPDATE_RECURSIVELY,true,false,svnConfig.MERGE_DRY_RUN);
  SvnConfiguration.getInstance(myVcs.getProject()).LAST_MERGED_REVISION=getLastMergedRevision(info.getRevision2(),info.getUrl2());
  return info.getResultRevision();
}
