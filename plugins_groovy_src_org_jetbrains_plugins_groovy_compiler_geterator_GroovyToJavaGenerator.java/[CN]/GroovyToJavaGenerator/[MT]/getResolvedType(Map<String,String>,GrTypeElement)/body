{
  String methodType;
  if (typeElement == null) {
    methodType="Object";
  }
 else {
    final PsiType type=typeElement.getType();
    final FinalWrapper<String> resolverTypeWrapper=new FinalWrapper<String>();
    ApplicationManager.getApplication().runReadAction(new Runnable(){
      public void run(){
        resolverTypeWrapper.myValue=type.getCanonicalText();
      }
    }
);
    String resolvedType=resolverTypeWrapper.myValue;
    methodType=resolvedType == null ? "<dimaskin>" : resolvedType;
  }
  String qualifiedTypeName=classNameToQualifiedName.get(methodType);
  if (qualifiedTypeName == null)   qualifiedTypeName=methodType;
  return qualifiedTypeName;
}
