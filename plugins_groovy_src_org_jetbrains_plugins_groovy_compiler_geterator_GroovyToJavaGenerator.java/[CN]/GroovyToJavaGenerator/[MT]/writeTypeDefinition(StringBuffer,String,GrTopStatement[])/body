{
  Map<String,String> classNameToQualifiedName=new HashMap<String,String>();
  List<GrImportStatement> importStatements=new ArrayList<GrImportStatement>();
  for (  GrTopStatement statement : statements) {
    if (statement instanceof GrImportStatement)     importStatements.add((GrImportStatement)statement);
  }
  fillClassNameToQualifiedNameMap(importStatements.toArray(new GrImportStatement[0]),classNameToQualifiedName);
  text.append("class");
  text.append(" ");
  text.append(typeDefinitionName);
  text.append(" ");
  text.append("{");
  for (  GrTopStatement statement : statements) {
    if (statement instanceof GrConstructor) {
      writeConstructor(classNameToQualifiedName,text,statement);
      text.append("\n");
    }
    if (statement instanceof GrMethod) {
      writeMethod(classNameToQualifiedName,text,statement);
      text.append("\n");
    }
    if (statement instanceof GrVariableDeclarations) {
      writeVariableDeclarations(classNameToQualifiedName,text,statement);
    }
  }
  text.append("}");
}
