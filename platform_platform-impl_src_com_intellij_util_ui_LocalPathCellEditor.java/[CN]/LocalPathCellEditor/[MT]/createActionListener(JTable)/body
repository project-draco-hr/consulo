{
  return new ActionListener(){
    @Override public void actionPerformed(    ActionEvent e){
      String initial=(String)getCellEditorValue();
      VirtualFile initialFile=StringUtil.isNotEmpty(initial) ? LocalFileSystem.getInstance().findFileByPath(initial) : null;
      FileChooser.chooseFile(getFileChooserDescriptor(),myProject,table,initialFile,new Consumer<VirtualFile>(){
        @Override public void consume(        VirtualFile file){
          String path=file.getPresentableUrl();
          if (SystemInfo.isWindows && path.length() == 2 && Character.isLetter(path.charAt(0)) && path.charAt(1) == ':') {
            path+="\\";
          }
          myComponent.getChildComponent().setText(path);
        }
      }
);
    }
  }
;
}
