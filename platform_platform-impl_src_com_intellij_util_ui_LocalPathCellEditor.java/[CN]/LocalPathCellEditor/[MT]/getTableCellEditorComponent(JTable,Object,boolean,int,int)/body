{
  ActionListener listener=new ActionListener(){
    public void actionPerformed(    ActionEvent e){
      final FileChooserDescriptor d=getFileChooserDescriptor();
      String initial=(String)getCellEditorValue();
      VirtualFile initialFile=StringUtil.isNotEmpty(initial) ? LocalFileSystem.getInstance().findFileByPath(initial) : null;
      VirtualFile file=FileChooser.chooseFile(d,table,myProject,initialFile);
      if (file != null) {
        String path=file.getPresentableUrl();
        if (SystemInfo.isWindows && path.length() == 2 && Character.isLetter(path.charAt(0)) && path.charAt(1) == ':') {
          path+="\\";
        }
        myComponent.getChildComponent().setText(path);
      }
    }
  }
;
  myComponent=new CellEditorComponentWithBrowseButton<JTextField>(new TextFieldWithBrowseButton(listener),this);
  myComponent.getChildComponent().setText((String)value);
  return myComponent;
}
