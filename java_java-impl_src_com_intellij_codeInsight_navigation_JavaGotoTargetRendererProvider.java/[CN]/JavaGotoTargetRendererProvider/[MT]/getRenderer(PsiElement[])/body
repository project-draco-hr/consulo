{
  boolean onlyMethods=true;
  boolean onlyClasses=true;
  for (  PsiElement element : elements) {
    if (!(element instanceof PsiMethod))     onlyMethods=false;
    if (!(element instanceof PsiClass))     onlyClasses=false;
  }
  if (onlyMethods) {
    return new MethodCellRenderer(!PsiUtil.allMethodsHaveSameSignature(Arrays.asList(elements).toArray(PsiMethod.EMPTY_ARRAY)));
  }
 else   if (onlyClasses) {
    return new PsiClassListCellRenderer();
  }
  return null;
}
