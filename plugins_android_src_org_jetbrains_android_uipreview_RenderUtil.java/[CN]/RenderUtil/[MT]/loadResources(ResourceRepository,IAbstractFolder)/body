{
  final ScanningContext scanningContext=new ScanningContext(repository);
  for (  IAbstractFolder rootFolder : rootFolders) {
    for (    IAbstractResource file : rootFolder.listMembers()) {
      if (!(file instanceof IAbstractFolder)) {
        continue;
      }
      final IAbstractFolder folder=(IAbstractFolder)file;
      final ResourceFolder resFolder=repository.processFolder(folder);
      if (resFolder != null) {
        for (        IAbstractResource childRes : folder.listMembers()) {
          if (childRes instanceof IAbstractFile) {
            resFolder.processFile((IAbstractFile)childRes,ResourceDeltaKind.ADDED,scanningContext);
          }
        }
      }
    }
  }
  final List<String> errors=scanningContext.getErrors();
  if (errors != null && errors.size() > 0) {
    LOG.debug(new RenderingException(merge(errors)));
  }
}
