{
  LOG.assertTrue(!fileType.isBinary());
  final Project project=manager.getProject();
  final CharArrayCharSequence text=new CharArrayCharSequence(chars,startOffset,endOffset);
  if (fileType instanceof LanguageFileType) {
    return ((LanguageFileType)fileType).getLanguage().getParserDefinition(project).createFile(project,name,text);
  }
  return new PsiPlainTextFileImpl(project,name,fileType,text);
}
