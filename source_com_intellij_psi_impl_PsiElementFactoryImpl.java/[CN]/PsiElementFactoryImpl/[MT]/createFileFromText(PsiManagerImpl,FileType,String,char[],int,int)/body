{
  LOG.assertTrue(!fileType.isBinary());
  final Project project=manager.getProject();
  final CharArrayCharSequence text=new CharArrayCharSequence(chars,startOffset,endOffset);
  if (fileType instanceof LanguageFileType) {
    final ParserDefinition parserDefinition=((LanguageFileType)fileType).getLanguage().getParserDefinition();
    if (parserDefinition != null) {
      return parserDefinition.createFile(project,name,text);
    }
  }
  return new PsiPlainTextFileImpl(project,name,fileType,text);
}
