{
  FileTemplate catchBodyTemplate=FileTemplateManager.getInstance().getCodeTemplate(FileTemplateManager.TEMPLATE_CATCH_BODY);
  LOG.assertTrue(catchBodyTemplate != null);
  Properties props=new Properties();
  props.setProperty(FileTemplate.ATTRIBUTE_EXCEPTION,exceptionName);
  if (context != null && context.isPhysical()) {
    PsiDirectory directory=context.getContainingFile().getContainingDirectory();
    if (directory != null) {
      FileTemplateUtil.setPackageNameAttribute(props,directory);
    }
  }
  PsiCodeBlock codeBlockFromText;
  try {
    String catchBody=catchBodyTemplate.getText(props);
    codeBlockFromText=createCodeBlockFromText("{\n" + catchBody + "\n}",null);
  }
 catch (  ProcessCanceledException ce) {
    throw ce;
  }
catch (  Exception e) {
    throw new IncorrectOperationException("Incorrect file template",e);
  }
  psiCatchSection.getCatchBlock().replace(codeBlockFromText);
}
