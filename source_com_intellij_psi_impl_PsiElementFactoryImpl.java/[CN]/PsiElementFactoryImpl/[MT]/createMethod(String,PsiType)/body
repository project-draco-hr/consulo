{
  PsiUtil.checkIsIdentifier(myManager,name);
  if (PsiType.NULL.equals(returnType)) {
    throw new IncorrectOperationException("Cannot create field with type \"<null_type>\".");
  }
  @NonNls String text="class _Dummy_ {\n public " + returnType.getCanonicalText() + " "+ name+ "(){}\n}";
  PsiJavaFile aFile=createDummyJavaFile(text);
  PsiClass aClass=aFile.getClasses()[0];
  PsiMethod method=aClass.getMethods()[0];
  JavaCodeStyleManager.getInstance(myManager.getProject()).shortenClassReferences(method);
  return (PsiMethod)CodeStyleManager.getInstance(myManager.getProject()).reformat(method);
}
