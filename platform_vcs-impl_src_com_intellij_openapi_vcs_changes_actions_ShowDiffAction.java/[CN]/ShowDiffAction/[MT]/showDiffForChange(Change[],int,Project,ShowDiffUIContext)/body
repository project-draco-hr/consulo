{
  ApplicationManager.getApplication().executeOnPooledThread(new Runnable(){
    public void run(){
      final Change selected=index >= 0 ? changes[index] : null;
      if (isBinaryDiff(project,changes,index)) {
        showBinaryDiff(project,changes[index]);
        return;
      }
      showDiffForChange(Arrays.asList(changes),new Condition<Change>(){
        @Override public boolean value(        final Change change){
          return selected == null ? false : selected.equals(change);
        }
      }
,project,context);
    }
  }
);
}
