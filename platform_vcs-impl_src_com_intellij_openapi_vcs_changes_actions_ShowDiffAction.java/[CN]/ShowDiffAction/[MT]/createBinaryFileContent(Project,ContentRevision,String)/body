{
  final FileContent fileContent;
  if (contentRevision == null) {
    fileContent=FileContent.createFromTempFile(project,fileName,fileName,ArrayUtil.EMPTY_BYTE_ARRAY);
  }
 else {
    byte[] content=((BinaryContentRevision)contentRevision).getBinaryContent();
    fileContent=FileContent.createFromTempFile(project,contentRevision.getFile().getName(),contentRevision.getFile().getName(),content == null ? ArrayUtil.EMPTY_BYTE_ARRAY : content);
  }
  return fileContent;
}
