{
  final ContentRevision bRev=change.getBeforeRevision();
  final ContentRevision aRev=change.getAfterRevision();
  final VirtualFile vf=change.getVirtualFile();
  if (vf != null) {
    try {
      final FileContent before=FileContent.createFromTempFile(project,"",vf.getName(),((BinaryContentRevision)bRev).getBinaryContent());
      final FileContent after=FileContent.createFromTempFile(project,"",vf.getName(),((BinaryContentRevision)aRev).getBinaryContent());
      final SimpleDiffRequest request=new SimpleDiffRequest(project,vf.getPath());
      request.setContents(before,after);
      if (DiffManager.getInstance().getDiffTool().canShow(request)) {
        DiffManager.getInstance().getDiffTool().show(request);
      }
    }
 catch (    VcsException e) {
    }
  }
}
