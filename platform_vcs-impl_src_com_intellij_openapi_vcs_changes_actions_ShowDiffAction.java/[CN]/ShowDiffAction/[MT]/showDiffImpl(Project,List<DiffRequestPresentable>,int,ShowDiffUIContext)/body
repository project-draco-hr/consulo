{
  final ChangeDiffRequest request=new ChangeDiffRequest(project,changeList,context.getActionsFactory(),context.isShowFrame());
  final DiffTool tool=DiffManager.getInstance().getDiffTool();
  try {
    request.quickCheckHaveStuff();
    ApplicationManager.getApplication().invokeLater(new Runnable(){
      @Override public void run(){
        final DiffRequest simpleRequest=request.init(index);
        if (simpleRequest != null) {
          final DiffNavigationContext navigationContext=context.getDiffNavigationContext();
          if (navigationContext != null) {
            simpleRequest.passForDataContext(DiffTool.SCROLL_TO_LINE,navigationContext);
          }
          tool.show(simpleRequest);
        }
      }
    }
);
  }
 catch (  final VcsException e) {
    ApplicationManager.getApplication().invokeLater(new Runnable(){
      @Override public void run(){
        Messages.showWarningDialog(e.getMessage(),"Show Diff");
      }
    }
);
  }
}
