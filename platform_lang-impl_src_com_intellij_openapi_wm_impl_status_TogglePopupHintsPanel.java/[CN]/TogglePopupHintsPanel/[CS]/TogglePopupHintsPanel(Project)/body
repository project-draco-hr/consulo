{
  super(project);
  myCurrentIcon=EMPTY_ICON;
  final MessageBusConnection connection=project.getMessageBus().connect();
  connection.subscribe(FileEditorManagerListener.FILE_EDITOR_MANAGER,new FileEditorManagerAdapter(){
    @Override public void selectionChanged(    FileEditorManagerEvent event){
      updateStatus();
    }
    @Override public void fileOpened(    FileEditorManager source,    VirtualFile file){
      updateStatus();
    }
  }
);
  connection.subscribe(PowerSaveMode.TOPIC,new PowerSaveMode.Listener(){
    @Override public void powerSaveStateChanged(){
      updateStatus();
    }
  }
);
}
