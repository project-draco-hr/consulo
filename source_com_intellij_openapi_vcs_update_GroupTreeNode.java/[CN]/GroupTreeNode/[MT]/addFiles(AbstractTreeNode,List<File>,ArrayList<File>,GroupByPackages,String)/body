{
  if (roots == null)   return;
  Collections.sort(roots,new Comparator<File>(){
    public int compare(    File file,    File file1){
      if (files.contains(file) == files.contains(file1))       return file.getAbsolutePath().compareToIgnoreCase(file1.getAbsolutePath());
 else       if (files.contains(file))       return 1;
 else       return -1;
    }
  }
);
  for (  final File root : roots) {
    FileOrDirectoryTreeNode child=files.contains(root) ? new FileTreeNode(root.getAbsolutePath(),myInvalidAttributes,myProject,parentPath) : new DirectoryTreeNode(root.getAbsolutePath(),myProject,parentPath);
    Disposer.register(((Disposable)parentNode),child);
    parentNode.add(child);
    addFiles(child,groupByPackages.getChildren(root),files,groupByPackages,child.getFilePath());
  }
}
