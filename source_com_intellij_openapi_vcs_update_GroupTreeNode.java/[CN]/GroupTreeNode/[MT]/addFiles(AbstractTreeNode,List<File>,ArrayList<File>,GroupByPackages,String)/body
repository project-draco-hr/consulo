{
  if (roots == null)   return;
  Collections.sort(roots,new Comparator<File>(){
    public int compare(    File file,    File file1){
      if (files.contains(file) == files.contains(file1))       return file.getAbsolutePath().compareToIgnoreCase(file1.getAbsolutePath());
 else       if (files.contains(file))       return 1;
 else       return -1;
    }
  }
);
  for (Iterator iterator=roots.iterator(); iterator.hasNext(); ) {
    File file=(File)iterator.next();
    FileOrDirectoryTreeNode child=files.contains(file) ? new FileTreeNode(file.getAbsolutePath(),myInvalidAttributes,myProject,parentPath) : (FileOrDirectoryTreeNode)new DirectoryTreeNode(file.getAbsolutePath(),myProject,parentPath);
    parentNode.add(child);
    addFiles(child,groupByPackages.getChildren(file),files,groupByPackages,child.getFilePath());
  }
}
