{
  ArtifactsCompiler artifactsCompiler=ArtifactsCompiler.getInstance(myProject);
  File artifactsCompilerCache=artifactsCompiler != null ? GenericCompilerRunner.getGenericCompilerCacheDir(myProject,artifactsCompiler) : null;
  flushCaches();
  final File[] children=myCachesRoot.listFiles();
  if (children != null) {
    for (    final File child : children) {
      if (child.equals(artifactsCompilerCache))       continue;
      final boolean deleteOk=FileUtil.delete(child);
      if (!deleteOk) {
        context.addMessage(CompilerMessageCategory.ERROR,CompilerBundle.message("compiler.error.failed.to.delete",child.getPath()),null,-1,-1);
      }
    }
  }
}
