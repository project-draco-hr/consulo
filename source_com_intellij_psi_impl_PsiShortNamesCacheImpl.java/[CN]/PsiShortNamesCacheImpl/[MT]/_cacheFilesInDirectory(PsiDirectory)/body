{
  if (LOG.isDebugEnabled()) {
    LOG.debug("Scanning files in " + dir.getVirtualFile().getPresentableUrl());
  }
  ProgressManager progressManager=ProgressManager.getInstance();
  ProgressIndicator progress=progressManager.getProgressIndicator();
  if (progress != null) {
    progress.setText2(dir.getVirtualFile().getPresentableUrl());
  }
  PsiFile[] files=dir.getFiles();
  for (int i=0; i < files.length; i++) {
    cacheFile(files[i]);
  }
  PsiDirectory[] subdirs=dir.getSubdirectories();
  for (int i=0; i < subdirs.length; i++) {
    _cacheFilesInDirectory(subdirs[i]);
  }
}
