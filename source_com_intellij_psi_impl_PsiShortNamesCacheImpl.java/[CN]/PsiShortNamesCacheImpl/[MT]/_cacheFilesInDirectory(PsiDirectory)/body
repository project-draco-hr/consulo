{
  if (LOG.isDebugEnabled()) {
    LOG.debug("Scanning files in " + dir.getVirtualFile().getPresentableUrl());
  }
  ProgressManager progressManager=ProgressManager.getInstance();
  ProgressIndicator progress=progressManager.getProgressIndicator();
  if (progress != null) {
    progress.setText2(dir.getVirtualFile().getPresentableUrl());
  }
  PsiFile[] files=dir.getFiles();
  for (  PsiFile file : files) {
    cacheFile(file);
  }
  PsiDirectory[] subdirs=dir.getSubdirectories();
  for (  PsiDirectory subdir : subdirs) {
    _cacheFilesInDirectory(subdir);
  }
}
