{
  final PsiMethod referencedMethod=methodCall.resolveMethod();
  if (referencedMethod == null || !referencedMethod.isValid() || !methodCall.isValid()) {
    return false;
  }
  final PsiFile methodCallFile=methodCall.getContainingFile();
  final PsiFile methodFile=referencedMethod.getContainingFile();
  if (methodCallFile == null || methodFile == null || !methodCallFile.equals(methodFile)) {
    return false;
  }
  final TextRange rmRange=referencedMethod.getTextRange();
  final int mcOffset=methodCall.getTextRange().getStartOffset();
  return rmRange != null && rmRange.contains(mcOffset);
}
