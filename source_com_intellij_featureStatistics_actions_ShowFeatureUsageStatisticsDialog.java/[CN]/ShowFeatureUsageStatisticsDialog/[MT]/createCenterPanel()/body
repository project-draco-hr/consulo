{
  Splitter splitter=new Splitter(true);
  splitter.setShowDividerControls(true);
  ProductivityFeaturesRegistry registry=ProductivityFeaturesRegistry.getInstance();
  Set<String> ids=registry.getFeatureIds();
  ArrayList<FeatureDescriptor> features=new ArrayList<FeatureDescriptor>();
  for (Iterator<String> iterator=ids.iterator(); iterator.hasNext(); ) {
    String id=iterator.next();
    features.add(registry.getFeatureDescriptor(id));
  }
  final TableView table=new TableView(new ListTableModel(COLUMNS,features,0));
  JPanel controlsPanel=new JPanel(new VerticalFlowLayout());
  Application app=ApplicationManager.getApplication();
  long uptime=System.currentTimeMillis() - app.getStartTime();
  long idletime=app.getIdleTime();
  controlsPanel.add(new JLabel("IDEA uptime: " + DateFormatUtil.formatDuration(uptime) + ", idle time: "+ DateFormatUtil.formatDuration(idletime)),BorderLayout.NORTH);
  final JCheckBox compiler=new JCheckBox("Show productivity hints while compiling");
  compiler.setSelected(FeatureUsageTracker.getInstance().SHOW_IN_COMPILATION_PROGRESS);
  compiler.addActionListener(new ActionListener(){
    public void actionPerformed(    ActionEvent e){
      FeatureUsageTracker.getInstance().SHOW_IN_COMPILATION_PROGRESS=compiler.isSelected();
    }
  }
);
  final JCheckBox other=new JCheckBox("Show productivity hints during startup or other lengthy processes");
  other.setSelected(FeatureUsageTracker.getInstance().SHOW_IN_OTHER_PROGRESS);
  other.addActionListener(new ActionListener(){
    public void actionPerformed(    ActionEvent e){
      FeatureUsageTracker.getInstance().SHOW_IN_OTHER_PROGRESS=other.isSelected();
    }
  }
);
  controlsPanel.add(compiler);
  controlsPanel.add(other);
  JPanel topPanel=new JPanel(new BorderLayout());
  topPanel.add(controlsPanel,BorderLayout.NORTH);
  topPanel.add(ScrollPaneFactory.createScrollPane(table),BorderLayout.CENTER);
  splitter.setFirstComponent(topPanel);
  final JEditorPane browser=new JEditorPane("text/html","");
  splitter.setSecondComponent(ScrollPaneFactory.createScrollPane(browser));
  table.getSelectionModel().setSelectionMode(ListSelectionModel.SINGLE_SELECTION);
  table.getSelectionModel().addListSelectionListener(new ListSelectionListener(){
    public void valueChanged(    ListSelectionEvent e){
      Collection selection=table.getSelection();
      try {
        if (selection.isEmpty()) {
          browser.read(new StringReader(""),null);
        }
 else {
          FeatureDescriptor feature=(FeatureDescriptor)selection.iterator().next();
          TipUIUtil.openTipInBrowser(feature.getTipFileName(),browser,feature.getProvider());
        }
      }
 catch (      IOException ex) {
      }
    }
  }
);
  return splitter;
}
