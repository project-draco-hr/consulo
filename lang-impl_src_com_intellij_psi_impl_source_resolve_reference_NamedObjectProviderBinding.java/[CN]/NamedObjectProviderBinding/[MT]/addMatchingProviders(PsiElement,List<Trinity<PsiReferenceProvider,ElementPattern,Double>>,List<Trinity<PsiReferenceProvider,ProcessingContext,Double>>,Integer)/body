{
  if (providerList == null)   return;
  for (  Trinity<PsiReferenceProvider,ElementPattern,Double> trinity : providerList) {
    final ProcessingContext context=new ProcessingContext();
    if (offset != null) {
      context.put(PomReferenceProvider.OFFSET_IN_ELEMENT,offset);
    }
    if (trinity.second.accepts(position,context)) {
      ret.add(Trinity.create(trinity.first,context,trinity.third));
    }
  }
}
