{
  final Collection<FilePath> paths=ChangesUtil.getPaths(commit.getChanges());
  refreshChangedFiles(paths);
  final String commitMessage=createCommitMessage(commit,paths);
  LocalChangeList previouslyDefaultChangeList=myChangeListManager.getDefaultChangeList();
  LocalChangeList changeList=createChangeListAfterUpdate(commit.getChanges(),paths,commitMessage);
  return new CherryPickData(changeList,commitMessage,previouslyDefaultChangeList);
}
