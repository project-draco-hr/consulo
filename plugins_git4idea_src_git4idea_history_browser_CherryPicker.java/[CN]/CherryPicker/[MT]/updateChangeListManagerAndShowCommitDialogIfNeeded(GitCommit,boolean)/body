{
  final Collection<FilePath> paths=ChangesUtil.getPaths(commit.getChanges());
  refreshChangedFiles(paths);
  final String commitMessage=createCommitMessage(commit,paths);
  LocalChangeList changeList=createChangeListAfterUpdate(commit.getChanges(),paths,commitMessage);
  if (showCommitDialog) {
    return showCommitDialog(commit,changeList,commitMessage);
  }
  return false;
}
