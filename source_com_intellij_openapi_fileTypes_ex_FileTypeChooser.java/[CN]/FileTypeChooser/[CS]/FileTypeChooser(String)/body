{
  super(true);
  myExtension=extension;
  FileType[] fileTypes=FileTypeManager.getInstance().getRegisteredFileTypes();
  Arrays.sort(fileTypes,new Comparator<FileType>(){
    public int compare(    final FileType fileType1,    final FileType fileType2){
      if (fileType1 == null) {
        return 1;
      }
      if (fileType2 == null) {
        return -1;
      }
      return fileType1.getDescription().compareToIgnoreCase(fileType2.getDescription());
    }
  }
);
  for (int i=0; i < fileTypes.length; i++) {
    FileType type=fileTypes[i];
    if (!type.isReadOnly() && type != StdFileTypes.UNKNOWN) {
      myModel.addElement(type);
    }
  }
  setTitle(FileTypesBundle.message("filetype.chooser.title"));
  init();
}
