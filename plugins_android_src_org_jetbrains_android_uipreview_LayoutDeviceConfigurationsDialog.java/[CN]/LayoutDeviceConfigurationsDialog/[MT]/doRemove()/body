{
  final int selectedRow=myTable.getSelectedRow();
  final DefaultMutableTreeNode selectedNode=getSelectedNode();
  if (selectedNode == null) {
    return;
  }
  final Object o=selectedNode.getUserObject();
  if (!(o instanceof LayoutDevice || o instanceof LayoutDeviceConfiguration)) {
    return;
  }
  if (o instanceof LayoutDevice) {
    myLayoutDeviceManager.removeUserDevice((LayoutDevice)o);
  }
 else {
    final LayoutDeviceConfiguration config=(LayoutDeviceConfiguration)o;
    myLayoutDeviceManager.removeUserConfiguration(config.getDevice(),config.getName());
  }
  final TreeNode parent=selectedNode.getParent();
  selectedNode.removeFromParent();
  nodeStructureChanged(parent);
  ApplicationManager.getApplication().invokeLater(new Runnable(){
    @Override public void run(){
      myTable.getSelectionModel().setSelectionInterval(selectedRow,selectedRow);
    }
  }
);
}
