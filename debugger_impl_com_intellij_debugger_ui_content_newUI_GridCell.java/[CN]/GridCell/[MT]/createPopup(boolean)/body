{
  Wrapper wrapper=new Wrapper(myTabs);
  wrapper.setBorder(new EmptyBorder(1,0,0,0));
  final ComponentPopupBuilder builder=JBPopupFactory.getInstance().createComponentPopupBuilder(wrapper,myTabs).setTitle(myContainer.getSessionName()).setMovable(true).setRequestFocus(true).setResizable(true).setCancelButton(new MinimizeButton("Back")).setDimensionServiceKey(myContext.getProject(),getDimensionKey(),true).setCancelOnOtherWindowOpen(false).setCancelOnClickOutside(false).setCancelKeyEnabled(true).setLocateByContent(dragging).setLocateWithinScreenBounds(!dragging).setCancelKeyEnabled(false).setBelongsToGlobalPopupStack(false).setCancelCallback(new Computable<Boolean>(){
    public Boolean compute(){
      myRestoreFromDetach.restoreInGrid();
      myRestoreFromDetach=null;
      myContext.saveUiState();
      return Boolean.TRUE;
    }
  }
);
  return builder.createPopup();
}
