{
  super(project);
  myProject=project;
  setTitle("Save Project As Template");
  myName.setText(project.getName());
  Module[] modules=ModuleManager.getInstance(project).getModules();
  if (modules.length < 2) {
    myModuleLabel.setVisible(false);
    myModuleCombo.setVisible(false);
  }
 else {
    List<String> items=new ArrayList<String>(ContainerUtil.map(modules,new Function<Module,String>(){
      @Override public String fun(      Module module){
        return module.getName();
      }
    }
));
    items.add(WHOLE_PROJECT);
    myModuleCombo.setModel(new CollectionComboBoxModel(items,WHOLE_PROJECT));
  }
  myDescription.setFileType(FileTypeManager.getInstance().getFileTypeByExtension(".html"));
  if (descriptionFile != null) {
    try {
      String s=VfsUtilCore.loadText(descriptionFile);
      myDescription.setText(s);
    }
 catch (    IOException e) {
      LOG.error(e);
    }
  }
  init();
}
