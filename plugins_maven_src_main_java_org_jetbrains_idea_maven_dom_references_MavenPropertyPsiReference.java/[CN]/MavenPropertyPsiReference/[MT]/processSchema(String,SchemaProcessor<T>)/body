{
  VirtualFile file=MavenSchemaProvider.getSchemaFile(schema);
  PsiFile psiFile=PsiManager.getInstance(myProject).findFile(file);
  if (!(psiFile instanceof XmlFile))   return null;
  XmlFile xmlFile=(XmlFile)psiFile;
  XmlDocument document=xmlFile.getDocument();
  XmlNSDescriptor desc=(XmlNSDescriptor)document.getMetaData();
  XmlElementDescriptor[] descriptors=desc.getRootElementsDescriptors(document);
  return doProcessSchema(descriptors,null,processor,new THashSet<XmlElementDescriptor>());
}
