{
  if (event == null || event.getFile() == null) {
    return;
  }
  String path=event.getFile().getAbsolutePath();
  String displayPath=event.getFile().getName();
  String text2=null;
  String text=null;
  if (event.getAction() == SVNEventAction.UPDATE_ADD || event.getAction() == SVNEventAction.ADD) {
    text2=SvnBundle.message("progress.text2.added",displayPath);
    if (myUpdatedFiles.getGroupById(FileGroup.REMOVED_FROM_REPOSITORY_ID).getFiles().contains(path)) {
      myUpdatedFiles.getGroupById(FileGroup.REMOVED_FROM_REPOSITORY_ID).getFiles().remove(path);
      if (myUpdatedFiles.getGroupById(REPLACED_ID) == null) {
        myUpdatedFiles.registerGroup(createFileGroup(SvnBundle.message("status.group.name.replaced"),REPLACED_ID));
      }
      addFileToGroup(REPLACED_ID,event);
    }
 else {
      addFileToGroup(FileGroup.CREATED_ID,event);
    }
  }
 else   if (event.getAction() == SVNEventAction.UPDATE_NONE) {
    return;
  }
 else   if (event.getAction() == SVNEventAction.UPDATE_DELETE) {
    text2=SvnBundle.message("progress.text2.deleted",displayPath);
    addFileToGroup(FileGroup.REMOVED_FROM_REPOSITORY_ID,event);
  }
 else   if (event.getAction() == SVNEventAction.UPDATE_UPDATE) {
    if (event.getContentsStatus() == SVNStatusType.CONFLICTED || event.getPropertiesStatus() == SVNStatusType.CONFLICTED) {
      addFileToGroup(FileGroup.MERGED_WITH_CONFLICT_ID,event);
      text2=SvnBundle.message("progress.text2.conflicted",displayPath);
    }
 else     if (event.getContentsStatus() == SVNStatusType.MERGED || event.getPropertiesStatus() == SVNStatusType.MERGED) {
      text2=SvnBundle.message("progres.text2.merged",displayPath);
      addFileToGroup(FileGroup.MERGED_ID,event);
    }
 else     if (event.getContentsStatus() == SVNStatusType.CHANGED || event.getPropertiesStatus() == SVNStatusType.CHANGED) {
      text2=SvnBundle.message("progres.text2.updated",displayPath);
      addFileToGroup(FileGroup.UPDATED_ID,event);
    }
 else     if (event.getContentsStatus() == SVNStatusType.UNCHANGED && event.getPropertiesStatus() == SVNStatusType.UNCHANGED) {
      text2=SvnBundle.message("progres.text2.updated",displayPath);
    }
 else {
      text2="";
      addFileToGroup(FileGroup.UNKNOWN_ID,event);
    }
  }
 else   if (event.getAction() == SVNEventAction.UPDATE_EXTERNAL) {
    myExternalsCount++;
    if (myUpdatedFiles.getGroupById(EXTERNAL_ID) == null) {
      myUpdatedFiles.registerGroup(new FileGroup(SvnBundle.message("status.group.name.externals"),SvnBundle.message("status.group.name.externals"),false,EXTERNAL_ID,true));
    }
    addFileToGroup(EXTERNAL_ID,event);
    text=SvnBundle.message("progress.text.updating.external.location",event.getFile().getAbsolutePath());
  }
 else   if (event.getAction() == SVNEventAction.RESTORE) {
    text2=SvnBundle.message("progress.text2.restored.file",displayPath);
    addFileToGroup(FileGroup.RESTORED_ID,event);
  }
 else   if (event.getAction() == SVNEventAction.UPDATE_COMPLETED && event.getRevision() >= 0) {
    myExternalsCount--;
    text2=SvnBundle.message("progres.text2.updated.to.revision",event.getRevision());
    if (myExternalsCount == 0) {
      myExternalsCount=1;
      WindowManager.getInstance().getStatusBar(myVCS.getProject()).setInfo(SvnBundle.message("status.text.updated.to.revision",event.getRevision()));
    }
  }
 else   if (event.getAction() == SVNEventAction.SKIP) {
    text2=SvnBundle.message("progress.text2.skipped.file",displayPath);
    if (myUpdatedFiles.getGroupById(SKIP_ID) == null) {
      myUpdatedFiles.registerGroup(new FileGroup(SvnBundle.message("update.group.name.skipped"),SvnBundle.message("update.group.name.skipped"),false,SKIP_ID,true));
    }
    addFileToGroup(SKIP_ID,event);
  }
  if (myProgressIndicator != null) {
    if (text != null) {
      myProgressIndicator.setText(text);
    }
    if (text2 != null) {
      myProgressIndicator.setText2(text2);
    }
  }
}
