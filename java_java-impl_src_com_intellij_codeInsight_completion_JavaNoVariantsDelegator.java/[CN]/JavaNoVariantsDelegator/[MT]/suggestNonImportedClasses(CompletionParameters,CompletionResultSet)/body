{
  final ClassByNameMerger merger=new ClassByNameMerger(parameters.getInvocationCount() == 0,result);
  JavaClassNameCompletionContributor.addAllClasses(parameters,true,JavaCompletionSorting.addJavaSorting(parameters,result).getPrefixMatcher(),new Consumer<LookupElement>(){
    @Override public void consume(    LookupElement element){
      JavaPsiClassReferenceElement classElement=element.as(JavaPsiClassReferenceElement.CLASS_CONDITION_KEY);
      if (classElement != null) {
        classElement.setAutoCompletionPolicy(AutoCompletionPolicy.NEVER_AUTOCOMPLETE);
      }
      merger.consume(classElement);
    }
  }
);
  merger.finishedClassProcessing();
}
