{
  AndroidFacet facet=AndroidFacet.getInstance(module);
  if (facet == null) {
    myAndroidTargetName="";
    return;
  }
  AndroidPlatform platform=facet.getConfiguration().getAndroidPlatform();
  IAndroidTarget target=platform != null ? platform.getTarget() : null;
  myAndroidTargetName=target != null ? target.getFullName() : "";
  VirtualFile manifestFile=AndroidRootUtil.getManifestFile(facet);
  if (manifestFile != null) {
    myResourceTimestamps.put(manifestFile.getPath(),manifestFile.getTimeStamp());
  }
  VirtualFile resourcesDir=getResourcesDir(facet);
  if (resourcesDir != null) {
    collectFiles(resourcesDir);
  }
  VirtualFile assetsDir=AndroidRootUtil.getAssetsDir(facet);
  if (assetsDir != null) {
    collectFiles(assetsDir);
  }
  for (  AndroidFacet depFacet : AndroidSdkUtils.getAllAndroidDependencies(module,true)) {
    VirtualFile depManifest=AndroidRootUtil.getManifestFile(depFacet);
    if (depManifest != null) {
      myResourceTimestamps.put(depManifest.getPath(),depManifest.getTimeStamp());
    }
    VirtualFile depResDir=getResourcesDir(depFacet);
    if (depResDir != null) {
      collectFiles(depResDir);
    }
    final VirtualFile depAssetDir=AndroidRootUtil.getAssetsDir(depFacet);
    if (depAssetDir != null) {
      collectFiles(depAssetDir);
    }
  }
}
