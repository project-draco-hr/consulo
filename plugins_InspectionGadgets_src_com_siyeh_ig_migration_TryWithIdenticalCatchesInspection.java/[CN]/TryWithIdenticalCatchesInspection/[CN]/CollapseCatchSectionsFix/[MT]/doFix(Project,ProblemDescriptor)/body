{
  PsiCatchSection section=(PsiCatchSection)descriptor.getPsiElement();
  PsiTryStatement stmt=(PsiTryStatement)section.getParent();
  PsiCatchSection[] catchSections=stmt.getCatchSections();
  if (myCollapseIntoIndex >= catchSections.length) {
    return;
  }
  PsiCatchSection collapseInto=catchSections[myCollapseIntoIndex];
  PsiParameter parameter1=collapseInto.getParameter();
  PsiParameter parameter2=section.getParameter();
  if (parameter1 == null || parameter2 == null) {
    return;
  }
  String typeText=parameter1.getTypeElement().getText() + " | " + parameter2.getTypeElement().getText()+ " e";
  if (TypeConversionUtil.isAssignable(parameter1.getType(),parameter2.getType())) {
    typeText=parameter1.getText();
  }
 else   if (TypeConversionUtil.isAssignable(parameter2.getType(),parameter1.getType())) {
    typeText=parameter2.getText();
  }
  @NonNls String text="try { } catch(" + typeText + ") { }";
  PsiTryStatement newTryCatch=(PsiTryStatement)JavaPsiFacade.getElementFactory(project).createStatementFromText(text,stmt);
  parameter1.getTypeElement().replace(newTryCatch.getCatchSections()[0].getParameter().getTypeElement());
  section.delete();
}
