{
  if (!tryToRepairOldCursor(oldCursorRange)) {
    if (myFindModel != null) {
      if (oldCursorRange != null && !myFindModel.isGlobal()) {
        myCursor=firstOccurrenceAfterOffset(oldCursorRange.getEndOffset());
      }
 else {
        LiveOccurrence afterCaret=oldCursorRange == null ? firstOccurrenceAtOrAfterCaret() : firstOccurrenceAfterCaret();
        if (afterCaret != null) {
          myCursor=afterCaret;
        }
 else {
          myCursor=null;
        }
      }
    }
 else {
      myCursor=null;
    }
  }
  if (myCursor == null && hasMatches()) {
    setNotFoundState(true);
  }
}
