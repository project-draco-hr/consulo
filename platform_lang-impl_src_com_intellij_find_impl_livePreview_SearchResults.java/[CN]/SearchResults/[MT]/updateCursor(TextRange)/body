{
  if (!tryToRepairOldCursor(oldCursorRange)) {
    LiveOccurrence afterCaret=firstOccurrenceAfterCaret();
    if (afterCaret != null) {
      myCursor=afterCaret;
    }
 else {
      LiveOccurrence occurrence=firstVisibleOccurrence();
      myCursor=occurrence;
    }
  }
}
