{
  if (ApplicationManager.getApplication().isDispatchThread()) {
    SelectionModel selection=editor.getSelectionModel();
    starts.set(selection.getBlockSelectionStarts());
    ends.set(selection.getBlockSelectionEnds());
  }
 else {
    try {
      SwingUtilities.invokeAndWait(new Runnable(){
        @Override public void run(){
          SelectionModel selection=editor.getSelectionModel();
          starts.set(selection.getBlockSelectionStarts());
          ends.set(selection.getBlockSelectionEnds());
        }
      }
);
    }
 catch (    InterruptedException ignore) {
    }
catch (    InvocationTargetException ignore) {
    }
  }
}
