{
  super.visitIfStatement(statement);
  final PsiElement parent=statement.getParent();
  if (parent instanceof PsiIfStatement) {
    return;
  }
  final PsiExpression switchExpression=SwitchUtils.getSwitchExpression(statement,minimumBranches);
  if (switchExpression == null) {
    return;
  }
  final PsiType type=switchExpression.getType();
  if (!suggestIntSwitches && PsiType.INT.equals(type)) {
    return;
  }
  if (!suggestEnumSwitches && type instanceof PsiClassType) {
    final PsiClassType classType=(PsiClassType)type;
    final PsiClass aClass=classType.resolve();
    if (aClass == null || aClass.isEnum()) {
      return;
    }
  }
  registerStatementError(statement,switchExpression);
}
