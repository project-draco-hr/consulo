{
  final InspectionManagerEx manager=((InspectionManagerEx)InspectionManagerEx.getInstance(myProject));
  manager.setExternalProfile(myInspectionProfile);
  final InspectionCodeSettingsPanel dlg=new InspectionCodeSettingsPanel(manager,myScope);
  final InspectionTool selectedTool=getSelectedTool();
  if (selectedTool != null) {
    dlg.selectInspectionTool(selectedTool.getShortName());
  }
  dlg.show();
  ApplicationManager.getApplication().invokeLater(new Runnable(){
    public void run(){
      if (dlg.isOK()) {
        InspectionResultsView.this.update();
        DaemonCodeAnalyzer.getInstance(myProject).restart();
      }
    }
  }
);
}
