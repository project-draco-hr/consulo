{
  final Map<GroupDescriptor,Set<UsageDescriptor>> all=createDescriptors("g:a1:100","g:a2:2","g2:a1:0","g2:a2:1");
  final Map<GroupDescriptor,Set<UsageDescriptor>> sent=createDescriptors("g:a1:2","g:a2:100","g2:a1:1","g2:a2:1","g2:a3:3");
  final Map<GroupDescriptor,Set<PatchedUsage>> patched=StatisticsUploadAssistant.getPatchedUsages(all,sent);
  assertMapEquals(patched,createDescriptors("g:a1:98","g:a2:-98","g2:a1:-1","g2:a3:-3"));
}
