{
  ProgramRunner runner=getRunner(executor.getId(),configuration);
  LOG.assertTrue(runner != null,"Runner MUST not be null!");
  if (!RunManagerImpl.canRunConfiguration(configuration,executor)) {
    final boolean result=RunDialog.editConfiguration(project,configuration,"Edit configuration",executor.getActionName(),executor.getIcon());
    if (!result) {
      return;
    }
    while (!RunManagerImpl.canRunConfiguration(configuration,executor)) {
      if (0 == Messages.showOkCancelDialog(project,"Configuration is still wrong. Do you want to edit it again?","Change configuration settings",Messages.getErrorIcon())) {
        final boolean result2=RunDialog.editConfiguration(project,configuration,"Edit configuration",executor.getActionName(),executor.getIcon());
        if (!result2) {
          return;
        }
      }
 else {
        break;
      }
    }
  }
  try {
    runner.execute(executor,new ExecutionEnvironment(runner,configuration,dataContext));
  }
 catch (  RunCanceledByUserException e) {
  }
catch (  ExecutionException e1) {
    Messages.showErrorDialog(project,ExecutionBundle.message("error.running.configuration.with.error.error.message",configuration.getName(),e1.getMessage()),ExecutionBundle.message("run.error.message.title"));
  }
}
