{
  String fileText;
  if (typeText != null) {
    fileText="def foo(" + typeText + " "+ name+ ") {}";
  }
 else {
    fileText="def foo(" + name + ") {}";
  }
  PsiFile psiFile=PsiManager.getInstance(myProject).getElementFactory().createFileFromText("__DUMMY." + GroovyFileType.GROOVY_FILE_TYPE.getDefaultExtension(),fileText);
  ASTNode node=psiFile.getFirstChild().getNode();
  if (node.getElementType() != GroovyElementTypes.METHOD_DEFINITION)   throw new IncorrectOperationException("Invalid all text");
  return ((GrMethod)node.getPsi()).getParameters()[0];
}
