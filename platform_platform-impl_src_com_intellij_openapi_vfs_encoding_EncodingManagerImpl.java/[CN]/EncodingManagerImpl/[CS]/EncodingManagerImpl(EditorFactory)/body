{
  editorFactory.getEventMulticaster().addDocumentListener(new DocumentAdapter(){
    @Override public void documentChanged(    DocumentEvent e){
      updateEncodingFromContent(e.getDocument());
    }
  }
,this);
  editorFactory.addEditorFactoryListener(new EditorFactoryAdapter(){
    @Override public void editorCreated(    EditorFactoryEvent event){
      updateEncodingFromContent(event.getEditor().getDocument());
    }
  }
,this);
}
