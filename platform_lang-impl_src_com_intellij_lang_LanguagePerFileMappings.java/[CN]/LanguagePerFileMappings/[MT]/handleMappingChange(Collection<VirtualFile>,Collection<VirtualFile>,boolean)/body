{
  final FilePropertyPusher<T> pusher=getFilePropertyPusher();
  if (pusher != null) {
    for (    VirtualFile oldFile : oldFiles) {
      if (oldFile == null)       continue;
      oldFile.putUserData(pusher.getFileDataKey(),null);
    }
    PushedFilePropertiesUpdater updater=PushedFilePropertiesUpdater.getInstance(myProject);
    if (updater == null) {
      if (!myProject.isDefault()) {
        LOG.error("updater = null. project=" + myProject.getName() + ", this="+ getClass().getSimpleName());
      }
    }
 else {
      updater.pushAll(pusher);
    }
  }
  if (shouldReparseFiles()) {
    PsiDocumentManager.getInstance(myProject).reparseFiles(files,includeOpenFiles);
  }
}
