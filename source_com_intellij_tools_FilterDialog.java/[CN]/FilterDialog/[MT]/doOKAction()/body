{
  String errorMessage=null;
  if (noText(myNameField.getText())) {
    errorMessage="Filter name is not defined";
  }
 else   if (noText(myRegexpField.getText())) {
    errorMessage="Regular expression must be defined";
  }
  if (errorMessage != null) {
    Messages.showMessageDialog(getContentPane(),errorMessage,"Error",Messages.getErrorIcon());
    return;
  }
  try {
    checkRegexp(myRegexpField.getText());
  }
 catch (  InvalidExpressionException e) {
    Messages.showMessageDialog(getContentPane(),e.getMessage(),"Invalid Regular Expression",Messages.getErrorIcon());
    return;
  }
  super.doOKAction();
}
