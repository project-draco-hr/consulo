{
  final PsiClass psiClass=method.getContainingClass();
  if (psiClass == null)   return false;
  if (myClassName.equals(psiClass.getQualifiedName()))   return true;
  if (myApplyInHierarchy) {
    final GlobalSearchScope scope=GlobalSearchScope.allScope(method.getProject());
    final PsiClass baseClass=JavaPsiFacade.getInstance(method.getProject()).findClass(myClassName,scope);
    if (baseClass != null && psiClass.isInheritor(baseClass,true)) {
      return true;
    }
  }
  return false;
}
