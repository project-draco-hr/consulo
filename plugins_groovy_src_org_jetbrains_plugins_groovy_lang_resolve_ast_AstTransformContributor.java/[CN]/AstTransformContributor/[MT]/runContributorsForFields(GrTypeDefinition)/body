{
  final List<GrField> fields=RecursionManager.doPreventingRecursion(clazz,false,new Computable<List<GrField>>(){
    @Override public List<GrField> compute(){
      List<GrField> result=RecursionManager.doPreventingRecursion(clazz,true,new Computable<List<GrField>>(){
        @Override public List<GrField> compute(){
          List<GrField> collector=new ArrayList<GrField>();
          for (          final AstTransformContributor contributor : EP_NAME.getExtensions()) {
            contributor.collectFields(clazz,collector);
          }
          return collector;
        }
      }
);
      return result == null ? Collections.<GrField>emptyList() : result;
    }
  }
);
  return fields != null ? fields : Collections.<GrField>emptyList();
}
