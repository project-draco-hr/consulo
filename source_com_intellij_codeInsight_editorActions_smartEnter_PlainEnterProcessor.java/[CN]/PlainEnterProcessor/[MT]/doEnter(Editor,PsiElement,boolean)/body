{
  PsiCodeBlock block=getControlStatementBlock(editor.getCaretModel().getOffset(),psiElement);
  if (block != null) {
    PsiElement firstElement=block.getFirstBodyElement();
    if (firstElement == null)     firstElement=block.getRBrace();
    editor.getCaretModel().moveToOffset(firstElement != null ? firstElement.getTextRange().getStartOffset() : block.getTextRange().getEndOffset());
  }
  getEnterHandler().execute(editor,((EditorEx)editor).getDataContext());
  return true;
}
