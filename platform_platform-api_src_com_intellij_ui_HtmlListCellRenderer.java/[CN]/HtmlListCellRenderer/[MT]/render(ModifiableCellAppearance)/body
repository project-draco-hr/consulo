{
  if (appearance instanceof SimpleTextCellAppearance) {
    final SimpleTextCellAppearance simple=(SimpleTextCellAppearance)appearance;
    append(simple.getText(),simple.getTextAttributes());
  }
 else   if (appearance instanceof CompositeAppearance) {
    final Iterator<CompositeAppearance.TextSection> iterator=((CompositeAppearance)appearance).getSectionsIterator();
    while (iterator.hasNext()) {
      final CompositeAppearance.TextSection section=iterator.next();
      append(section.getText(),SimpleTextAttributes.fromTextAttributes(section.getTextAttributes()));
    }
  }
 else {
    throw new IllegalArgumentException("Unknown class: " + appearance.getClass());
  }
  setIcon(appearance.getIcon());
}
