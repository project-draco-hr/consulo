{
  if (!mySettings.SHOW_VCS_ERROR_NOTIFICATIONS) {
    return;
  }
  Collection<VcsRootError> errors=scan();
  if (errors.isEmpty()) {
synchronized (NOTIFICATION_LOCK) {
      expireNotification();
    }
    return;
  }
  Collection<VcsRootError> unregisteredRoots=getUnregisteredRoots(errors);
  Collection<VcsRootError> invalidRoots=getInvalidRoots(errors);
  String title=makeTitle(unregisteredRoots,invalidRoots);
  String description=makeDescription(unregisteredRoots,invalidRoots);
synchronized (NOTIFICATION_LOCK) {
    expireNotification();
    NotificationGroup notificationGroup=invalidRoots.isEmpty() ? MINOR_NOTIFICATION : IMPORTANT_ERROR_NOTIFICATION;
    NotificationType notificationType=invalidRoots.isEmpty() ? INFORMATION : ERROR;
    myNotification=notificationGroup.createNotification(title,description,notificationType,new MyNotificationListener(myProject,mySettings));
    myNotification.notify(myProject);
  }
}
