{
  final SvnMapping mapping=new SvnMapping();
  mapping.addAll(roots);
  mapping.reportLonelyRoots(lonelyRoots);
  final SvnMapping groupedMapping=new SvnMapping();
  final List<RootUrlInfo> filtered=new ArrayList<RootUrlInfo>();
  ForNestedRootChecker.filterOutSuperfluousChildren(vcs,roots,filtered);
  groupedMapping.addAll(filtered);
  try {
    atomicSectionsAware.enter();
synchronized (myMonitor) {
      myMapping.copyFrom(mapping);
      myMoreRealMapping.copyFrom(groupedMapping);
    }
  }
  finally {
    atomicSectionsAware.exit();
  }
  myProject.getMessageBus().syncPublisher(SvnVcs.ROOTS_RELOADED).run();
}
