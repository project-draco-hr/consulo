{
  if (ThreadLocalDefendedInvoker.isInside())   return result;
synchronized (myMonitor) {
    final List<VirtualFile> cachedRoots=myMapping.getUnderVcsRoots();
    final List<VirtualFile> lonelyRoots=myMapping.getLonelyRoots();
    if (!lonelyRoots.isEmpty()) {
      myChecker.reportNoRoots(lonelyRoots);
    }
    if (cachedRoots.isEmpty()) {
      return result;
    }
    return cachedRoots;
  }
}
