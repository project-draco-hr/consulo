{
synchronized (myMonitor) {
    myNotFilteredRoots=result.toArray(new VirtualFile[result.size()]);
    final Collection<Pair<String,VirtualFile>> pairCollection=myUrl2FileMap.values();
    if (pairCollection.isEmpty()) {
      return result;
    }
    final List<VirtualFile> converted=new ArrayList<VirtualFile>();
    for (    Pair<String,VirtualFile> pair : pairCollection) {
      converted.add(pair.getSecond());
    }
    return converted;
  }
}
