{
  FoldRegion[] foldRegions=((FoldingModelEx)editor.getFoldingModel()).getAllFoldRegionsIncludingInvalid();
  for (int i=0; i < foldRegions.length; i++) {
    FoldRegion region=foldRegions[i];
    if (region.isValid() && region.getStartOffset() == startOffset && region.getEndOffset() == endOffset) {
      return region;
    }
  }
  return null;
}
