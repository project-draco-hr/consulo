{
  final double width=getWidth();
  final double height=getHeight();
  if (!isNull(myFirstComponent) && myFirstComponent.isVisible() && !isNull(mySecondComponent)&& mySecondComponent.isVisible()) {
    Rectangle firstRect=new Rectangle();
    Rectangle dividerRect=new Rectangle();
    Rectangle secondRect=new Rectangle();
    final double componentSize=getOrientation() ? height : width;
    double dividerWidth=getDividerWidth();
    double firstComponentSize;
    double secondComponentSize;
    if (componentSize <= dividerWidth) {
      firstComponentSize=0;
      secondComponentSize=0;
      dividerWidth=componentSize;
    }
 else {
      firstComponentSize=myProportion * (float)(componentSize - dividerWidth);
      secondComponentSize=getOrientation() ? height - firstComponentSize - dividerWidth : width - firstComponentSize - dividerWidth;
      if (isHonorMinimumSize()) {
        final double firstMinSize=getOrientation() ? myFirstComponent.getMinimumSize().getHeight() : myFirstComponent.getMinimumSize().getWidth();
        final double secondMinSize=getOrientation() ? mySecondComponent.getMinimumSize().getHeight() : mySecondComponent.getMinimumSize().getWidth();
        if (firstComponentSize + secondComponentSize < firstMinSize + secondMinSize) {
          double proportion=firstMinSize / (firstMinSize + secondMinSize);
          firstComponentSize=(int)(proportion * (float)(componentSize - dividerWidth));
          secondComponentSize=getOrientation() ? height - firstComponentSize - dividerWidth : width - firstComponentSize - dividerWidth;
        }
 else {
          if (firstComponentSize < firstMinSize) {
            secondComponentSize-=firstMinSize - firstComponentSize;
            firstComponentSize=firstMinSize;
          }
 else           if (secondComponentSize < secondMinSize) {
            firstComponentSize-=secondMinSize - secondComponentSize;
            secondComponentSize=secondMinSize;
          }
        }
      }
    }
    myProportion=(float)(firstComponentSize / (firstComponentSize + secondComponentSize));
    if (getOrientation()) {
      firstRect.setBounds(0,0,(int)width,(int)firstComponentSize);
      dividerRect.setBounds(0,(int)firstComponentSize,(int)width,(int)dividerWidth);
      secondRect.setBounds(0,(int)(firstComponentSize + dividerWidth),(int)width,(int)secondComponentSize);
    }
 else {
      firstRect.setBounds(0,0,(int)firstComponentSize,(int)height);
      dividerRect.setBounds((int)firstComponentSize,0,(int)dividerWidth,(int)height);
      secondRect.setBounds((int)(firstComponentSize + dividerWidth),0,(int)secondComponentSize,(int)height);
    }
    myDivider.setVisible(true);
    myFirstComponent.setBounds(firstRect);
    myDivider.setBounds(dividerRect);
    mySecondComponent.setBounds(secondRect);
    myFirstComponent.revalidate();
    mySecondComponent.revalidate();
  }
 else   if (!isNull(myFirstComponent) && myFirstComponent.isVisible()) {
    hideNull(mySecondComponent);
    myDivider.setVisible(false);
    myFirstComponent.setBounds(0,0,(int)width,(int)height);
    myFirstComponent.revalidate();
  }
 else   if (!isNull(mySecondComponent) && mySecondComponent.isVisible()) {
    hideNull(myFirstComponent);
    myDivider.setVisible(false);
    mySecondComponent.setBounds(0,0,(int)width,(int)height);
    mySecondComponent.revalidate();
  }
 else {
    myDivider.setVisible(false);
    if (myFirstComponent != null) {
      myFirstComponent.setBounds(0,0,0,0);
      myFirstComponent.revalidate();
    }
 else {
      hideNull(myFirstComponent);
    }
    if (mySecondComponent != null) {
      mySecondComponent.setBounds(0,0,0,0);
      mySecondComponent.revalidate();
    }
 else {
      hideNull(mySecondComponent);
    }
  }
  myDivider.revalidate();
}
