{
  Application application=ApplicationManager.getApplication();
  if (application == null) {
    UIUtil.applyRenderingHints(g);
    return;
  }
  Graphics2D g2d=(Graphics2D)g;
  UISettings uiSettings=getInstance();
  g2d.setRenderingHint(RenderingHints.KEY_ANTIALIASING,RenderingHints.VALUE_ANTIALIAS_ON);
  if (uiSettings != null) {
    g2d.setRenderingHint(RenderingHints.KEY_TEXT_ANTIALIASING,LCDRenderingScope.getKeyForCurrentScope(false));
  }
 else {
    g2d.setRenderingHint(RenderingHints.KEY_TEXT_ANTIALIASING,RenderingHints.VALUE_TEXT_ANTIALIAS_OFF);
  }
  setupFractionalMetrics(g2d);
}
