{
  if (remaining <= 0) {
    if (addDummyByte) {
      addDummyByte=false;
      b[off]=0;
      return 1;
    }
    return -1;
  }
  if (len <= 0) {
    return 0;
  }
  if (len > remaining) {
    len=(int)remaining;
  }
  final int ret;
  RandomAccessFile archive=myFile.archive;
synchronized (archive) {
    archive.seek(loc);
    ret=archive.read(b,off,len);
  }
  if (ret > 0) {
    loc+=ret;
    remaining-=ret;
  }
  return ret;
}
