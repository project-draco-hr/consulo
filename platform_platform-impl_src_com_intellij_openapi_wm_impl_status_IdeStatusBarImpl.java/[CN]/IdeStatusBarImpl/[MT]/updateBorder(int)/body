{
  final JComponent self=(JComponent)myRightPanel.getComponent(ndx);
  if (self instanceof IconPresentationWrapper || self instanceof IconLikeCustomStatusBarWidget) {
    final int prev=ndx - 1;
    final int next=ndx + 1;
    final JComponent p=prev >= 0 ? (JComponent)myRightPanel.getComponent(prev) : null;
    final JComponent n=next < myRightPanel.getComponentCount() ? (JComponent)myRightPanel.getComponent(next) : null;
    final boolean prevIcon=p instanceof IconPresentationWrapper || p instanceof IconLikeCustomStatusBarWidget;
    final boolean nextIcon=n instanceof IconPresentationWrapper || n instanceof IconLikeCustomStatusBarWidget;
    self.setBorder(!prevIcon || isNotificationIcon(self) ? StatusBarWidget.WidgetBorder.INSTANCE : BorderFactory.createEmptyBorder(2,2,2,2));
    if (nextIcon && !isNotificationIcon(n)) {
      n.setBorder(BorderFactory.createEmptyBorder(2,2,2,2));
    }
  }
}
