{
  for (  PsiAnnotation annotation : TestNGUtil.getTestNGAnnotations(file)) {
    PsiElement parent=annotation.getParent();
    if (parent instanceof PsiModifierList) {
      final PsiModifierList modifierList=(PsiModifierList)parent;
      final PsiAnnotation[] annotations=modifierList.getAnnotations();
      for (      PsiAnnotation annotation1 : annotations) {
        final String qualifiedName=annotation1.getQualifiedName();
        if (qualifiedName != null && qualifiedName.equals("org.testng.annotations.Configuration")) {
          convertOldAnnotationAttributeToAnnotation(modifierList,annotation1,"beforeTest","@org.testng.annotations.BeforeTest");
          convertOldAnnotationAttributeToAnnotation(modifierList,annotation1,"beforeTestClass","@org.testng.annotations.BeforeTest");
          convertOldAnnotationAttributeToAnnotation(modifierList,annotation1,"beforeTestMethod","@org.testng.annotations.BeforeMethod");
          convertOldAnnotationAttributeToAnnotation(modifierList,annotation1,"beforeSuite","@org.testng.annotations.BeforeSuite");
          convertOldAnnotationAttributeToAnnotation(modifierList,annotation1,"beforeGroups","@org.testng.annotations.BeforeGroups");
          convertOldAnnotationAttributeToAnnotation(modifierList,annotation1,"afterTest","@org.testng.annotations.AfterTest");
          convertOldAnnotationAttributeToAnnotation(modifierList,annotation1,"afterTestClass","@org.testng.annotations.AfterTest");
          convertOldAnnotationAttributeToAnnotation(modifierList,annotation1,"afterTestMethod","@org.testng.annotations.AfterMethod");
          convertOldAnnotationAttributeToAnnotation(modifierList,annotation1,"afterSuite","@org.testng.annotations.AfterSuite");
          convertOldAnnotationAttributeToAnnotation(modifierList,annotation1,"afterGroups","@org.testng.annotations.AfterGroups");
          annotation1.delete();
        }
      }
    }
  }
}
