{
  final DomElementsProblemsHolder problemHolder=getProblemHolder(domFileElement);
  if (isHolderUpToDate(domFileElement) && problemHolder.isInspectionCompleted(inspection)) {
    return problemHolder.getAllProblems(inspection);
  }
  final DomElementAnnotationHolder holder=new DomElementAnnotationHolderImpl(onTheFly);
  inspection.checkFileElement(domFileElement,holder);
  return appendProblems(domFileElement,holder,inspection.getClass());
}
