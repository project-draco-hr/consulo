{
  if (getVirtualFile() == null) {
    final LocalHistoryAction action=startLocalHistoryAction(revision);
    if (getVirtualParent() != null) {
      getVirtualParent().refresh(true,true,new Runnable(){
        public void run(){
          myFilePath.refresh();
          action.finish();
        }
      }
);
    }
  }
}
