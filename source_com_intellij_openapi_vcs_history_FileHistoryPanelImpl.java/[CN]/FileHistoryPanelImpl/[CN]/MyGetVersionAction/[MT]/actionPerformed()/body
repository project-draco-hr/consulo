{
  final VcsFileRevision revision=getFirstSelectedRevision();
  if (getVirtualFile() != null) {
    if (!new ReplaceFileConfirmationDialog(myProject,VcsBundle.message("acton.name.get.revision")).confirmFor(new VirtualFile[]{getVirtualFile()})) {
      return;
    }
  }
  try {
    revision.loadContent();
  }
 catch (  VcsException e) {
    Messages.showErrorDialog(VcsBundle.message("message.text.cannot.load.version",e.getLocalizedMessage()),VcsBundle.message("message.title.get.version"));
  }
catch (  ProcessCanceledException ex) {
    return;
  }
  getVersion(revision);
  refreshFile(revision);
}
