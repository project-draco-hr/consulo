{
  int offset=editor.getCaretModel().getOffset();
  PsiElement element=getElement();
  if (element == null) {
    return false;
  }
  List<PsiClass> targetClasses=getTargetClasses(element);
  return !targetClasses.isEmpty() && !isValidElement(element) && isAvailableImpl(offset);
}
