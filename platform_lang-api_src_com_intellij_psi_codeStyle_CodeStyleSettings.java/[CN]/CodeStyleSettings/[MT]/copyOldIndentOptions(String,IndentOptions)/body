{
  final FileType fileType=FileTypeManager.getInstance().getFileTypeByExtension(extension);
  if (fileType != FileTypes.UNKNOWN && fileType != FileTypes.PLAIN_TEXT && !myAdditionalIndentOptions.containsKey(fileType) && fileType.getDefaultExtension().length() != 0) {
    registerAdditionalIndentOptions(fileType,options);
    if (fileType instanceof LanguageFileType) {
      Language lang=((LanguageFileType)fileType).getLanguage();
      CommonCodeStyleSettings langSettings=myCommonSettingsManager.getCommonSettings(lang);
      if (langSettings != this && langSettings.getIndentOptions() != null) {
        langSettings.importOldIndentOptions(this);
      }
    }
  }
}
