{
  if (myMapper == Function.ID) {
    Set<M> set=new THashSet<M>(myHashingStrategy);
    process(CommonProcessors.<T>alwaysTrue(),Collections.synchronizedSet(set));
    return (Collection<T>)set;
  }
 else {
    final CommonProcessors.CollectProcessor<T> processor=new CommonProcessors.CollectProcessor<T>(Collections.synchronizedList(new ArrayList<T>()));
    forEach(processor);
    return processor.getResults();
  }
}
