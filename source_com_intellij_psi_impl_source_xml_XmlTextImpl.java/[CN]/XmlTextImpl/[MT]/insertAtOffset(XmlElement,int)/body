{
  if (element instanceof XmlText) {
    insertText(((XmlText)element).getValue(),displayToPhysical(physicalOffset));
  }
 else {
    final PomModel model=getProject().getModel();
    final XmlAspect aspect=model.getModelAspect(XmlAspect.class);
    model.runTransaction(new PomTransactionBase(getParent(),aspect){
      public PomModelEvent runInner() throws IncorrectOperationException {
        final XmlTagImpl tag=(XmlTagImpl)getParentTag();
        final XmlText rightPart=tag.splitText(XmlTextImpl.this,physicalOffset);
        if (rightPart != null)         tag.addBefore(element,rightPart);
 else         tag.addAfter(element,XmlTextImpl.this);
        return null;
      }
    }
);
  }
  return this;
}
