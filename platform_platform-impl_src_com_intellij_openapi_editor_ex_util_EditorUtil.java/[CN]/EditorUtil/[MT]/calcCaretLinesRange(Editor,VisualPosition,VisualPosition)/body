{
  int visualLine=start.line;
  LogicalPosition lineStart=editor.visualToLogicalPosition(new VisualPosition(visualLine,0));
  while (lineStart.softWrapLinesOnCurrentLogicalLine > 0) {
    lineStart=editor.visualToLogicalPosition(new VisualPosition(--visualLine,0));
  }
  visualLine=end.line + 1;
  LogicalPosition nextLineStart=editor.visualToLogicalPosition(new VisualPosition(end.line + 1,0));
  while (nextLineStart.line == lineStart.line) {
    nextLineStart=editor.visualToLogicalPosition(new VisualPosition(++visualLine,0));
  }
  return new Pair<LogicalPosition,LogicalPosition>(lineStart,nextLineStart);
}
