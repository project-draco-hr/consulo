{
  editor.getSelectionModel().removeSelection();
  int lastLine=Math.max(0,editor.getDocument().getLineCount() - 1);
  if (editor.getCaretModel().getLogicalPosition().line == lastLine) {
    editor.getCaretModel().moveToOffset(editor.getDocument().getTextLength());
  }
 else {
    editor.getCaretModel().moveToLogicalPosition(new LogicalPosition(lastLine,0));
  }
  editor.getScrollingModel().scrollToCaret(ScrollType.RELATIVE);
}
