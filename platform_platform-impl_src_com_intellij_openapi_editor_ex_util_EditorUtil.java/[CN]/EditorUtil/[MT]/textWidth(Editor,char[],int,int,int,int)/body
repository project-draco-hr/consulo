{
  int result=0;
  for (int i=start; i < end; i++) {
    char c=text[i];
    if (c != '\t') {
      FontInfo font=fontForChar(c,fontType,editor);
      result+=font.charWidth(c,editor.getContentComponent());
      continue;
    }
    result+=nextTabStop(x + result,editor) - result - x;
  }
  return result;
}
