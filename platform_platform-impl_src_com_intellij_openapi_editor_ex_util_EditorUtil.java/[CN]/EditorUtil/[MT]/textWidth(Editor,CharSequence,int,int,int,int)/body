{
  int result=0;
  for (int i=start; i < end; i++) {
    char c=text.charAt(i);
    if (c != '\t') {
      FontInfo font=fontForChar(c,fontType,editor);
      result+=font.charWidth(c);
      continue;
    }
    result+=nextTabStop(x + result,editor) - result - x;
  }
  return result;
}
