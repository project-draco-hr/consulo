{
  final Object obj=myLookupItem.getObject();
  if (!(obj instanceof PsiClass) || !((PsiClass)obj).isAnnotationType())   return false;
  final Document document=myEditor.getDocument();
  PsiDocumentManager.getInstance(myFile.getProject()).commitDocument(document);
  final int offset=myContext.getStartOffset();
  if (PsiTreeUtil.findElementOfClassAtOffset(myFile,offset,PsiImportStatement.class,false) != null)   return false;
  if (PsiTreeUtil.findElementOfClassAtOffset(myFile,offset,PsiClass.class,false) == null)   return true;
  return PsiTreeUtil.findElementOfClassAtOffset(myFile,offset,PsiAnnotation.class,false) != null;
}
