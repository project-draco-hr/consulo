{
  try {
    List<VirtualFile> roots=GitUtil.getGitRoots(myProject,myVcs);
    myGitRoots.set(roots);
    for (    VirtualFile root : roots) {
      final VirtualFile git=root.findChild(".git");
      if (git != null) {
        for (        String name : myRootReferences) {
          final VirtualFile child=git.findChild(name);
          if (child != null) {
            child.getTimeStamp();
          }
        }
        final VirtualFile infoRefs=root.findFileByRelativePath("info/refs");
        if (infoRefs != null) {
          infoRefs.getTimeStamp();
        }
        visitRecursively(git.findChild("refs"));
      }
    }
    notifyChanges(null);
  }
 catch (  VcsException e) {
    myGitRoots.set(Collections.<VirtualFile>emptyList());
  }
}
