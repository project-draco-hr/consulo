{
  File scriptPath=File.createTempFile(myPrefix,SCRIPT_EXT);
  scriptPath.deleteOnExit();
  PrintWriter out=new PrintWriter(new FileWriter(scriptPath));
  try {
    if (SystemInfo.isWindows) {
      out.println("@echo off");
    }
 else {
      out.println("#!/bin/sh");
    }
    String line=commandLine();
    if (SystemInfo.isWindows) {
      line+=" %1 %2 %3 %4 %5 %6 %7 %8 %9";
    }
 else {
      line+=" \"$@\"";
    }
    out.println(line);
  }
  finally {
    out.close();
  }
  FileUtil.setExectuableAttribute(scriptPath.getPath(),true);
  return scriptPath;
}
