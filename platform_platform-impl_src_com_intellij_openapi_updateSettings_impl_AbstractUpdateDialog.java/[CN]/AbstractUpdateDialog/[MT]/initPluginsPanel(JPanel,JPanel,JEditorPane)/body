{
  pluginsPanel.setVisible(myUploadedPlugins != null);
  if (myUploadedPlugins != null) {
    final DetectedPluginsPanel foundPluginsPanel=new DetectedPluginsPanel();
    foundPluginsPanel.addStateListener(new DetectedPluginsPanel.Listener(){
      public void stateChanged(){
        setButtonsText();
      }
    }
);
    for (    PluginDownloader uploadedPlugin : myUploadedPlugins) {
      foundPluginsPanel.add(uploadedPlugin);
    }
    TableUtil.ensureSelectionExists(foundPluginsPanel.getEntryTable());
    pluginsPanel.add(foundPluginsPanel,BorderLayout.CENTER);
  }
  updateLinkPane.setBackground(UIUtil.getPanelBackground());
  String css=UIUtil.getCssFontDeclaration(UIUtil.getLabelFont());
  if (UIUtil.isUnderDarcula()) {
    css+="<style>body {background: #" + ColorUtil.toHex(UIUtil.getPanelBackground()) + ";}</style>";
  }
  updateLinkPane.setBorder(IdeBorderFactory.createEmptyBorder(0));
  updateLinkPane.setText(IdeBundle.message("updates.configure.label",css));
  updateLinkPane.setEditable(false);
  LabelTextReplacingUtil.replaceText(panel);
  if (myEnableLink) {
    updateLinkPane.addHyperlinkListener(new HyperlinkListener(){
      public void hyperlinkUpdate(      final HyperlinkEvent e){
        if (e.getEventType() == HyperlinkEvent.EventType.ACTIVATED) {
          final ShowSettingsUtil util=ShowSettingsUtil.getInstance();
          UpdateSettingsConfigurable updatesSettings=new UpdateSettingsConfigurable();
          updatesSettings.setCheckNowEnabled(false);
          util.editConfigurable(panel,updatesSettings);
        }
      }
    }
);
  }
}
