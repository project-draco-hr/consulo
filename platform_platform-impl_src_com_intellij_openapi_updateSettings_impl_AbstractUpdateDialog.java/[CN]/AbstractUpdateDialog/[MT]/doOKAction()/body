{
  if (doDownloadAndPrepare()) {
    final ApplicationEx app=ApplicationManagerEx.getApplicationEx();
    if (app.isRestartCapable()) {
      app.restart();
    }
 else {
      app.exit(true);
    }
  }
  super.doOKAction();
}
