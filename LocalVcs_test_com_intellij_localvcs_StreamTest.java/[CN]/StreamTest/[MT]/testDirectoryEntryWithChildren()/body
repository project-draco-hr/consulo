{
  Entry dir=new DirectoryEntry(13,"dir",null);
  Entry subDir=new DirectoryEntry(66,"subDir",null);
  dir.addChild(new FileEntry(1,"subFile","1",null));
  dir.addChild(subDir);
  subDir.addChild(new FileEntry(2,"subSubFile","2",null));
  os.writeEntry(dir);
  Entry result=is.readEntry();
  List<Entry> children=result.getChildren();
  assertEquals(2,children.size());
  assertEquals(FileEntry.class,children.get(0).getClass());
  assertEquals("subFile",children.get(0).getName());
  assertEquals(p("dir/subFile"),children.get(0).getPath());
  assertEquals(DirectoryEntry.class,children.get(1).getClass());
  assertEquals("subDir",children.get(1).getName());
  assertEquals(p("dir/subDir"),children.get(1).getPath());
  assertEquals(1,children.get(1).getChildren().size());
  assertEquals("subSubFile",children.get(1).getChildren().get(0).getName());
}
