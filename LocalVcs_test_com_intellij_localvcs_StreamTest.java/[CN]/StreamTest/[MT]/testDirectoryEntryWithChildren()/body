{
  Entry dir=new DirectoryEntry(13,"dir");
  Entry subDir=new DirectoryEntry(66,"subdir");
  dir.addChild(new FileEntry(1,"f1","1"));
  dir.addChild(subDir);
  subDir.addChild(new FileEntry(2,"f2","2"));
  os.writeEntry(dir);
  Entry result=is.readEntry();
  List<Entry> children=result.getChildren();
  assertEquals(2,children.size());
  assertEquals(FileEntry.class,children.get(0).getClass());
  assertEquals("f1",children.get(0).getName());
  assertEquals(DirectoryEntry.class,children.get(1).getClass());
  assertEquals("subdir",children.get(1).getName());
  assertEquals(1,children.get(1).getChildren().size());
  assertEquals("f2",children.get(1).getChildren().get(0).getName());
}
