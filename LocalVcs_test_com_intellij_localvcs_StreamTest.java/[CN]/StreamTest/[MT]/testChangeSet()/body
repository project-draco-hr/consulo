{
  ChangeSet cs=cs(123,"label",new CreateFileChange(1,"file",new UnavailableContent(),-1));
  cs.applyTo(new RootEntry());
  os.writeChange(cs);
  Change read=is.readChange();
  assertTrue(read.getClass().equals(ChangeSet.class));
  ChangeSet result=(ChangeSet)read;
  assertEquals("label",read.getName());
  assertEquals(123L,read.getTimestamp());
  assertEquals(1,result.getChanges().size());
  assertEquals(CreateFileChange.class,result.getChanges().get(0).getClass());
}
