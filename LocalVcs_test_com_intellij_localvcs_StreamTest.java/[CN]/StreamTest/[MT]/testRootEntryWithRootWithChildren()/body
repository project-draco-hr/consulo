{
  RootEntry e=new RootEntry();
  e.addChild(new FileEntry(1,"file","",null));
  e.addChild(new DirectoryEntry(2,"dir",null));
  os.writeEntry(e);
  Entry result=is.readEntry();
  assertEquals(RootEntry.class,result.getClass());
  assertNull(result.getId());
  assertEquals("c:/root",result.getName());
  List<Entry> children=result.getChildren();
  assertEquals(2,children.size());
  assertEquals(FileEntry.class,children.get(0).getClass());
  assertEquals("file",children.get(0).getName());
  assertEquals(p("c:/root/file"),children.get(0).getPath());
  assertEquals(DirectoryEntry.class,children.get(1).getClass());
  assertEquals("dir",children.get(1).getName());
  assertEquals(p("c:/root/dir"),children.get(1).getPath());
}
