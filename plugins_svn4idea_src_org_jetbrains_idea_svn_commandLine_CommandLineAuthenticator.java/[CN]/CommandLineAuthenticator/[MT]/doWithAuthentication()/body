{
  try {
    myCommand.run(myConfigDir);
    return;
  }
 catch (  SVNException e) {
    if (!e.getErrorMessage().getErrorCode().isAuthentication())     throw e;
  }
  File tempDirectory=null;
  try {
    tempDirectory=FileUtil.createTempDirectory("tmp","Subversion");
    final SvnAuthenticationManager authenticationManager=SvnConfiguration.createForTmpDir(myProject,tempDirectory);
    authenticationManager.setArtificialSaving(true);
    myCommand.cleanup();
    tryGetCredentials(authenticationManager,tempDirectory);
    myCommand.cleanup();
    myCommand.run(tempDirectory);
  }
 catch (  IOException e) {
    throw new SVNException(SVNErrorMessage.create(SVNErrorCode.IO_ERROR),e);
  }
 finally {
    if (tempDirectory != null) {
      FileUtil.delete(tempDirectory);
    }
  }
}
