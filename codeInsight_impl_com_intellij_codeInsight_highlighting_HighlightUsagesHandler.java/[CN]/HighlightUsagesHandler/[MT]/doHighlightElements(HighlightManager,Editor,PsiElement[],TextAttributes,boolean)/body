{
  List<TextRange> textRanges=new ArrayList<TextRange>(elements.length);
  for (  PsiElement element : elements) {
    textRanges.add(element.getTextRange());
  }
  if (clearHighlights) {
    clearHighlights(editor,highlightManager,textRanges,attributes);
    return;
  }
  ArrayList<RangeHighlighter> highlighters=new ArrayList<RangeHighlighter>();
  highlightManager.addOccurrenceHighlights(editor,elements,attributes,false,highlighters);
  for (  RangeHighlighter highlighter : highlighters) {
    setLineTextErrorStripeTooltip(highlighter);
  }
}
