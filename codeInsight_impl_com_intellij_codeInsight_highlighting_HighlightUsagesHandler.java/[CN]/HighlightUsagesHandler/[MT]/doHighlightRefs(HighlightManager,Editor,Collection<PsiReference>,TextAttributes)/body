{
  ArrayList<RangeHighlighter> highlighters=new ArrayList<RangeHighlighter>();
  Document document=editor.getDocument();
  PsiReference[] refArray=refs.toArray(new PsiReference[refs.size()]);
  highlightManager.addOccurrenceHighlights(editor,refArray,attributes,false,highlighters);
  int idx=0;
  for (Iterator<RangeHighlighter> iterator=highlighters.iterator(); iterator.hasNext(); idx++) {
    RangeHighlighter highlighter=iterator.next();
    int offset=refArray[idx].getElement().getTextRange().getStartOffset() + refArray[idx].getRangeInElement().getStartOffset();
    setLineTextErrorStripeTooltip(document,offset,highlighter);
  }
}
