{
  appendRequestFocusInEditorComponentCmd(commandList,forced).doWhenDone(new Runnable(){
    public void run(){
      final ArrayList<FinalizableCommand> postExecute=new ArrayList<FinalizableCommand>();
      if (LOG.isDebugEnabled()) {
        LOG.debug("editor activated");
      }
      final WindowInfoImpl[] infos=myLayout.getInfos();
      for (int i=0; i < infos.length; i++) {
        final WindowInfoImpl info=infos[i];
        final boolean shouldHide=(info.isAutoHide() || info.isSliding()) && !(info.isFloating() && hasModalChild(info));
        deactivateToolWindowImpl(info.getId(),shouldHide,postExecute);
      }
      myEditorComponentActive=true;
      myActiveStack.clear();
      execute(postExecute);
    }
  }
);
}
