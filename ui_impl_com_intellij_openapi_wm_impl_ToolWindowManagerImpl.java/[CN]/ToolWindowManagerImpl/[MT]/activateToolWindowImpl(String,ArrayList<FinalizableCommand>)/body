{
  if (LOG.isDebugEnabled()) {
    LOG.debug("enter: activateToolWindowImpl(" + id + ")");
  }
  if (!getToolWindow(id).isAvailable()) {
    final InternalDecorator decorator=getInternalDecorator(id);
    if (!decorator.hasFocus()) {
      appendRequestFocusInToolWindowCmd(id,commandList);
    }
    return;
  }
  prepareForActivation(id,commandList);
  showAndActivate(id,false,commandList);
}
