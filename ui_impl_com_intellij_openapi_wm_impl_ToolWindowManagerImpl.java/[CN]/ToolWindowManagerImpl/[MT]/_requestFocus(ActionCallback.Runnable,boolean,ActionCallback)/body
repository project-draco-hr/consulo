{
  if (!forced && !myUnforcedFocusRequestsAllowed)   return;
  myRequestFocusCmd=command;
  if (forced) {
    myForcedFocusRequestsAlarm.cancelAllRequests();
    myUnforcedFocusRequestsAllowed=false;
  }
  LaterInvocator.invokeLater(new Runnable(){
    public void run(){
      if (!forced && !myUnforcedFocusRequestsAllowed)       return;
      if (myRequestFocusCmd == command) {
        myRequestFocusCmd=null;
        command.run().markDone(result);
        if (forced) {
          myForcedFocusRequestsAlarm.addRequest(new Runnable(){
            public void run(){
              myUnforcedFocusRequestsAllowed=true;
            }
          }
,250);
        }
      }
    }
  }
);
}
