{
  if (exception instanceof GroovyRuntimeException) {
    addErrorMessage((GroovyRuntimeException)exception,collector);
  }
 else   if (forStubs) {
    collector.add(new CompilerMessage(CompilerMessage.WARNING,"Groovyc stub generation failed: " + exception.getMessage(),null,-1,-1));
  }
 else {
    collector.add(new CompilerMessage(CompilerMessage.ERROR,exception.getMessage(),null,-1,-1));
  }
}
