{
  final byte[] content1=loadRevisionContent(revision1);
  final byte[] content2=loadRevisionContent(revision2);
  String title=DiffRequestFactoryImpl.getContentTitle(path);
  DiffContent diffContent1=createContent(project,content1,revision1,path);
  DiffContent diffContent2=createContent(project,content2,revision2,path);
  final DiffRequest request=new SimpleDiffRequest(title,diffContent1,diffContent2,title1,title2);
  WaitForProgressToShow.runOrInvokeLaterAboveProgress(new Runnable(){
    public void run(){
      DiffManager.getInstance().showDiff(project,request);
    }
  }
,null,project);
}
