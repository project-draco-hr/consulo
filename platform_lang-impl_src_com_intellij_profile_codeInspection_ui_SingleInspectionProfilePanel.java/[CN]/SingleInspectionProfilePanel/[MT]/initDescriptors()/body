{
  final InspectionProfileImpl profile=mySelectedProfile;
  if (profile == null)   return;
  myDescriptors.clear();
  List<ScopeToolState> tools=profile.getDefaultStates(myProjectProfileManager.getProject());
  for (  ScopeToolState state : tools) {
    final ArrayList<Descriptor> descriptors=new ArrayList<Descriptor>();
    if (!accept(state.getTool()))     continue;
    Project project=myProjectProfileManager.getProject();
    myDescriptors.put(new Descriptor(state,profile,project),descriptors);
    InspectionToolWrapper toolWrapper=state.getTool();
    final List<ScopeToolState> nonDefaultTools=profile.getNonDefaultTools(toolWrapper.getShortName(),project);
    for (    ScopeToolState nonDefaultToolState : nonDefaultTools) {
      descriptors.add(new Descriptor(nonDefaultToolState,profile,project));
    }
  }
}
