{
  if (expression == null) {
    return false;
  }
  if (expression instanceof PsiThisExpression || expression instanceof PsiLiteralExpression || expression instanceof PsiSuperExpression|| expression instanceof PsiClassObjectAccessExpression) {
    return false;
  }
 else   if (expression instanceof PsiReferenceExpression) {
    final PsiReferenceExpression refExp=(PsiReferenceExpression)expression;
    if (field.equals(refExp.resolve())) {
      if (refExp.getParent() instanceof PsiAssignmentExpression) {
        final PsiAssignmentExpression pae=(PsiAssignmentExpression)refExp.getParent();
        final PsiExpression rhs=pae.getRExpression();
        if (rhs != null) {
          if (rhs.equals(refExp)) {
            if (!refExp.isQualified() || refExp.getQualifierExpression() instanceof PsiThisExpression) {
              uninitializedReads.add(expression);
            }
          }
        }
      }
 else {
        if (!refExp.isQualified() || refExp.getQualifierExpression() instanceof PsiThisExpression) {
          uninitializedReads.add(expression);
        }
      }
    }
    if (refExp.isQualified()) {
      return expressionMustAssignVariable(field,refExp.getQualifierExpression(),checkedMethods);
    }
 else {
      return false;
    }
  }
 else   if (expression instanceof PsiMethodCallExpression) {
    final PsiMethod method=PsiTreeUtil.getParentOfType(expression,PsiMethod.class);
    if (method != null) {
      final PsiReferenceExpression methodExpression=((PsiMethodCallExpression)expression).getMethodExpression();
      if (methodExpression != null) {
        final PsiMethod calledMethod=(PsiMethod)methodExpression.resolve();
        if (method.equals(calledMethod)) {
          return false;
        }
      }
    }
    return methodCallMustAssignVariable(expression,field,checkedMethods);
  }
 else   if (expression instanceof PsiNewExpression) {
    return newExpressionMustAssignVariable(expression,field,checkedMethods);
  }
 else   if (expression instanceof PsiArrayInitializerExpression) {
    final PsiArrayInitializerExpression array=(PsiArrayInitializerExpression)expression;
    final PsiExpression[] initializers=array.getInitializers();
    for (    final PsiExpression initializer : initializers) {
      if (expressionMustAssignVariable(field,initializer,checkedMethods)) {
        return true;
      }
    }
    return false;
  }
 else   if (expression instanceof PsiTypeCastExpression) {
    final PsiTypeCastExpression typeCast=(PsiTypeCastExpression)expression;
    final PsiExpression operand=typeCast.getOperand();
    return expressionMustAssignVariable(field,operand,checkedMethods);
  }
 else   if (expression instanceof PsiArrayAccessExpression) {
    final PsiArrayAccessExpression accessExpression=(PsiArrayAccessExpression)expression;
    final PsiExpression arrayExpression=accessExpression.getArrayExpression();
    final PsiExpression indexExpression=accessExpression.getIndexExpression();
    return expressionMustAssignVariable(field,arrayExpression,checkedMethods) || expressionMustAssignVariable(field,indexExpression,checkedMethods);
  }
 else   if (expression instanceof PsiPrefixExpression) {
    final PsiPrefixExpression prefixExpression=(PsiPrefixExpression)expression;
    final PsiExpression operand=prefixExpression.getOperand();
    return expressionMustAssignVariable(field,operand,checkedMethods);
  }
 else   if (expression instanceof PsiPostfixExpression) {
    final PsiPostfixExpression postfixExpression=(PsiPostfixExpression)expression;
    final PsiExpression operand=postfixExpression.getOperand();
    return expressionMustAssignVariable(field,operand,checkedMethods);
  }
 else   if (expression instanceof PsiBinaryExpression) {
    final PsiBinaryExpression binaryExpression=(PsiBinaryExpression)expression;
    final PsiExpression lhs=binaryExpression.getLOperand();
    final PsiExpression rhs=binaryExpression.getROperand();
    return expressionMustAssignVariable(field,lhs,checkedMethods) || expressionMustAssignVariable(field,rhs,checkedMethods);
  }
 else   if (expression instanceof PsiConditionalExpression) {
    final PsiConditionalExpression conditional=(PsiConditionalExpression)expression;
    final PsiExpression condition=conditional.getCondition();
    if (expressionMustAssignVariable(field,condition,checkedMethods)) {
      return true;
    }
    final PsiExpression thenExpression=conditional.getThenExpression();
    final PsiExpression elseExpression=conditional.getElseExpression();
    return expressionMustAssignVariable(field,thenExpression,checkedMethods) && expressionMustAssignVariable(field,elseExpression,checkedMethods);
  }
 else   if (expression instanceof PsiAssignmentExpression) {
    final PsiAssignmentExpression assignment=(PsiAssignmentExpression)expression;
    final PsiExpression lhs=assignment.getLExpression();
    if (expressionMustAssignVariable(field,lhs,checkedMethods)) {
      return true;
    }
    final PsiExpression rhs=assignment.getRExpression();
    if (expressionMustAssignVariable(field,rhs,checkedMethods)) {
      return true;
    }
    if (lhs instanceof PsiReferenceExpression) {
      final PsiElement element=((PsiReference)lhs).resolve();
      if (element != null && field != null && element.equals(field)) {
        return true;
      }
    }
    return false;
  }
 else {
    return false;
  }
}
