{
  LOG.assertTrue(!subBlocks.isEmpty());
  final Block lastBlock=subBlocks.get(subBlocks.size() - 1);
  if (lastBlock instanceof AbstractBlock) {
    return ((AbstractBlock)lastBlock).getTreeNode();
  }
 else {
    return getLastNode(lastBlock.getSubBlocks());
  }
}
