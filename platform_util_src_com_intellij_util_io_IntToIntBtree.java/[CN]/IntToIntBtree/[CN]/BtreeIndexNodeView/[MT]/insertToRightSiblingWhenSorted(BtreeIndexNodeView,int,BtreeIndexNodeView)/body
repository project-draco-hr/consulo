{
  sibling.setAddress(-parent.addressAt(indexInParent + 1));
  int toMove=(sibling.getMaxChildrenCount() - sibling.getChildrenCount()) / 2;
  if (toMove > 0) {
    if (doSanityCheck) {
      sibling.dump("Offloading to right sibling");
      parent.dump("parent before");
    }
    int childrenCount=getChildrenCount();
    int lastChildIndex=childrenCount - toMove;
    for (int i=lastChildIndex; i < childrenCount; ++i)     sibling.insert(keyAt(i),addressAt(i));
    if (doSanityCheck) {
      sibling.dump("Right sibling after");
    }
    parent.setKeyAt(indexInParent,keyAt(lastChildIndex));
    if (!parent.myIsDirty)     parent.markDirty();
    setChildrenCount((short)lastChildIndex);
  }
}
