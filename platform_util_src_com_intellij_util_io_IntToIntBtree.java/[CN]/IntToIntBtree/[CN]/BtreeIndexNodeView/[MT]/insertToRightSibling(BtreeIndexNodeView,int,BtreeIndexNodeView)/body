{
  int siblingAddress;
  siblingAddress=parent.addressAt(indexInParent + 1);
  sibling.setAddress(-siblingAddress);
  if (!sibling.isFull() && sibling.getChildrenCount() + 1 != sibling.getMaxChildrenCount()) {
    if (doSanityCheck) {
      sibling.dump("Offloading to right sibling");
      parent.dump("parent before");
    }
    int lastChildIndex=getChildrenCount() - 1;
    sibling.insert(keyAt(lastChildIndex),addressAt(lastChildIndex));
    if (doSanityCheck) {
      sibling.dump("Right sibling after");
    }
    parent.setKeyAt(indexInParent,keyAt(lastChildIndex));
    setChildrenCount((short)lastChildIndex);
  }
}
