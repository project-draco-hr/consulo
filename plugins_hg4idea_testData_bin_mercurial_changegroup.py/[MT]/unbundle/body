def unbundle(header, fh):
    if (header == 'HG10UN'):
        return fh
    elif (not header.startswith('HG')):

        def generator(f):
            yield header
            for chunk in f:
                yield chunk
    elif (header == 'HG10GZ'):

        def generator(f):
            zd = zlib.decompressobj()
            for chunk in f:
                yield zd.decompress(chunk)
    elif (header == 'HG10BZ'):

        def generator(f):
            zd = bz2.BZ2Decompressor()
            zd.decompress('BZ')
            for chunk in util.filechunkiter(f, 4096):
                yield zd.decompress(chunk)
    return util.chunkbuffer(generator(fh))
