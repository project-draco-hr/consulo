{
  List<String> originalLines=new ArrayList<String>(lines);
  try {
    return tryApply(lines,false);
  }
 catch (  ApplyPatchException ex) {
    lines.clear();
    lines.addAll(originalLines);
    return tryApply(lines,true);
  }
}
