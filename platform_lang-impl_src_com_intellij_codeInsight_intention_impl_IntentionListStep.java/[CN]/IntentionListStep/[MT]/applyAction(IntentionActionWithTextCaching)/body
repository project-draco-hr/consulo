{
  myFinalRunnable=new Runnable(){
    @Override public void run(){
      HintManager.getInstance().hideAllHints();
      ApplicationManager.getApplication().invokeLater(new Runnable(){
        @Override public void run(){
          if (myProject.isDisposed())           return;
          if (DumbService.isDumb(myProject) && !DumbService.isDumbAware(cachedAction)) {
            DumbService.getInstance(myProject).showDumbModeNotification(cachedAction.getText() + " is not available during indexing");
            return;
          }
          PsiDocumentManager.getInstance(myProject).commitAllDocuments();
          final PsiFile file=PsiUtilBase.getPsiFileInEditor(myEditor,myProject);
          if (file == null) {
            return;
          }
          ShowIntentionActionsHandler.chooseActionAndInvoke(file,myEditor,cachedAction.getAction(),cachedAction.getText());
        }
      }
);
    }
  }
;
}
