{
  IntentionActionWithTextCaching cachedAction=new IntentionActionWithTextCaching(descriptor);
  final List<IntentionAction> options=descriptor.getOptions(element);
  if (options == null)   return cachedAction;
  for (  IntentionAction option : options) {
    if (!option.isAvailable(myProject,containingEditor,containingFile)) {
      if (containingEditor == myEditor || !option.isAvailable(myProject,myEditor,myFile)) {
        continue;
      }
    }
    IntentionActionWithTextCaching textCaching=new IntentionActionWithTextCaching(option);
    boolean isErrorFix=myCachedErrorFixes.contains(textCaching);
    if (isErrorFix) {
      cachedAction.addErrorFix(option);
    }
    boolean isInspectionFix=myCachedInspectionFixes.contains(textCaching);
    if (isInspectionFix) {
      cachedAction.addInspectionFix(option);
    }
 else {
      cachedAction.addIntention(option);
    }
  }
  return cachedAction;
}
