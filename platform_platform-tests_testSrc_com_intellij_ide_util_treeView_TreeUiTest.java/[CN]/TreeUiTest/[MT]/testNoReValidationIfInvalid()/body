{
  buildStructure(myRoot);
  final NodeElement intellij=new NodeElement("intellij");
  buildNode(intellij,true);
  assertTree("-/\n" + " -com\n" + "  +[intellij]\n"+ " +jetbrains\n"+ " +org\n"+ " +xUnit\n");
  removeFromParentButKeepRef(new NodeElement("intellij"));
  myValidator=new Validator(){
    @Override public boolean isValid(    Object element){
      return !element.equals(intellij);
    }
  }
;
  final Ref<Object> reValidatedElement=new Ref<Object>();
  myStructure.setReValidator(new ReValidator(){
    @Nullable @Override public AsyncResult<Object> revalidate(    NodeElement element){
      reValidatedElement.set(element);
      return null;
    }
  }
);
  updateFromRoot();
  assertTree("-/\n" + " [com]\n" + " +jetbrains\n"+ " +org\n"+ " +xUnit\n");
  assertNull(reValidatedElement.get() != null ? reValidatedElement.get().toString() : null,reValidatedElement.get());
}
