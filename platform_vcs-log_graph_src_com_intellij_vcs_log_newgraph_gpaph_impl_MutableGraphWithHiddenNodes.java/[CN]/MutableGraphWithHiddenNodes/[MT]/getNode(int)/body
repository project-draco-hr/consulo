{
  int nodeIndex=toNodeIndex(visibleNodeIndex);
  List<Edge> upEdges=convertToEdgeList(myGraph.getUpNodes(nodeIndex),nodeIndex,true);
  List<Edge> downEdges=convertToEdgeList(myGraph.getDownNodes(nodeIndex),nodeIndex,false);
  Node.Type nodeType=myGraph.getNodeType(nodeIndex);
  int nodeLayoutIndex=myLayout.getLayoutIndex(nodeIndex);
  return new NodeImpl(visibleNodeIndex,nodeType,upEdges,downEdges,nodeLayoutIndex);
}
