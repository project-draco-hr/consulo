{
  List<ProjectStructureNode<?>> nodes=new ArrayList<ProjectStructureNode<?>>(children);
  Collections.sort(nodes,myComparator);
  if (nodes.equals(children)) {
    return;
  }
  mySkipNotification=true;
  try {
    removeAllChildren();
    for (    ProjectStructureNode<?> node : nodes) {
      add(node);
    }
  }
  finally {
    mySkipNotification=false;
  }
  int[] indices=new int[nodes.size()];
  for (int i=0; i < indices.length; i++) {
    indices[i]=i;
  }
  onChildrenChange(indices);
}
