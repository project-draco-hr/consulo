{
  final PsiAssignmentExpression assignment=getAssignmentUnderCaret(editor,file);
  if (assignment == null)   return false;
  PsiField field=getAssignedField(assignment);
  if (field == null || field.hasInitializer())   return false;
  PsiClass psiClass=field.getContainingClass();
  if (psiClass == null || psiClass.isInterface())   return false;
  if (psiClass.getContainingFile() != file)   return false;
  PsiModifierListOwner ctrOrInitializer=insideConstructorOrClassInitializer(assignment,field);
  if (ctrOrInitializer == null)   return false;
  if (!isValidAsFieldInitializer(assignment.getRExpression(),ctrOrInitializer))   return false;
  if (!isInitializedWithSameExpression(field,assignment,null))   return false;
  return true;
}
