{
  while (true) {
    attempts--;
    long duration=measure(actionToMeasure);
    try {
      assertTiming(message,expected,duration);
      break;
    }
 catch (    AssertionFailedError e) {
      if (attempts == 0)       throw e;
      System.gc();
      System.gc();
      System.gc();
      String s="Another epic fail (remaining attempts: " + attempts + "): "+ e.getMessage();
      TeamCityLogger.warning(s,null);
      System.err.println(s);
    }
  }
}
