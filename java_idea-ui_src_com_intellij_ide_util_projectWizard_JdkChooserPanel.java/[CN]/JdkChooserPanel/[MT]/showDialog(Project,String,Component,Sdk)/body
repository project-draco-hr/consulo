{
  final JdkChooserPanel jdkChooserPanel=new JdkChooserPanel(project);
  jdkChooserPanel.fillList(null);
  final MyDialog dialog=jdkChooserPanel.new MyDialog(parent);
  if (title != null) {
    dialog.setTitle(title);
  }
  if (jdkToSelect != null) {
    jdkChooserPanel.selectJdk(jdkToSelect);
  }
 else {
    ListScrollingUtil.ensureSelectionExists(jdkChooserPanel.myList);
  }
  jdkChooserPanel.myList.addMouseListener(new MouseAdapter(){
    @Override public void mouseClicked(    final MouseEvent e){
      if (e.getClickCount() == 2 && e.getButton() == MouseEvent.BUTTON1) {
        dialog.clickDefaultButton();
      }
    }
  }
);
  dialog.show();
  return dialog.isOK() ? jdkChooserPanel.getChosenJdk() : null;
}
