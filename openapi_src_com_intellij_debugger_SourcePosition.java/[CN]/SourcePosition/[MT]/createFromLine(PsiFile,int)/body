{
  return new SourcePositionCache(file){
    protected int calcLine(){
      return line;
    }
    protected int calcOffset(){
      final Document document=PsiDocumentManager.getInstance(file.getProject()).getDocument(file);
      try {
        return document.getLineStartOffset(line);
      }
 catch (      IndexOutOfBoundsException e) {
        return -1;
      }
    }
  }
;
}
