{
  LOG.assertTrue(element.isValid());
  element=element.getNavigationElement();
  mySmartPointer=SmartPointerManager.getInstance(element.getProject()).createSmartPsiElementPointer(element);
  TextRange range=element.getTextRange();
  LOG.assertTrue(range != null,"text range null for " + element);
  this.startOffset=element.getTextOffset() - range.getStartOffset();
  this.endOffset=range.getEndOffset() - range.getStartOffset();
  this.isNonCodeUsage=isNonCodeUsage;
}
