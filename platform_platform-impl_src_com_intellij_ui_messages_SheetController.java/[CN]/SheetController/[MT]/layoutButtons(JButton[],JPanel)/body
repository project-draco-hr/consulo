{
  int buttonWidth=0;
  SHEET_HEIGHT+=GAP_BETWEEN_LINES;
  for (int i=0; i < buttons.length; i++) {
    buttons[i].repaint();
    buttons[i].setSize(buttons[i].getPreferredSize());
    buttonWidth+=buttons[i].getWidth();
    if (i == buttons.length - 1)     break;
    buttonWidth+=GAP_BETWEEN_BUTTONS;
  }
  int buttonsRowWidth=LEFT_SHEET_OFFSET + buttonWidth + RIGHT_OFFSET;
  messageTextPane.setSize(Math.max(messageTextPane.getWidth(),buttonWidth),messageTextPane.getHeight());
  SHEET_WIDTH=Math.max(buttonsRowWidth,SHEET_WIDTH);
  int buttonShift=RIGHT_OFFSET;
  for (  JButton button : buttons) {
    Dimension size=button.getSize();
    buttonShift+=size.width;
    button.setBounds(SHEET_WIDTH - buttonShift,SHEET_HEIGHT,size.width,size.height);
    panel.add(button);
    buttonShift+=GAP_BETWEEN_BUTTONS;
  }
  SHEET_HEIGHT+=buttons[0].getHeight();
}
