{
  if (icon != null) {
    myIcon=icon;
  }
  myDoNotAskOption=doNotAskOption;
  myDoNotAskResult=(doNotAskOption != null) && !doNotAskOption.isToBeShown();
  mySheetMessage=sheetMessage;
  buttons=new JButton[buttonTitles.length];
  myResult=null;
  for (int i=0; i < buttons.length; i++) {
    String buttonTitle=buttonTitles[i];
    buttons[i]=new JButton();
    buttons[i].setOpaque(false);
    handleMnemonics(i,buttonTitle);
    if (buttonTitle.equals(defaultButtonTitle)) {
      myDefaultButton=buttons[i];
    }
    if (buttonTitle.equals(focusedButton)) {
      myFocusedButton=buttons[i];
    }
    if (buttonTitle.equals("Cancel")) {
      myResult="Cancel";
    }
  }
  if (myFocusedButton == null) {
    myFocusedButton=myDefaultButton;
  }
  if (myResult == null) {
    myResult=buttonTitles[0];
  }
  mySheetPanel=createSheetPanel(title,message,buttons);
  initShadowImage();
}
