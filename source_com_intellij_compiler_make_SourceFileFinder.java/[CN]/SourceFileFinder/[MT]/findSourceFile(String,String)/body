{
  String relativePath=MakeUtil.createRelativePathToSource(qualifiedName,srcName);
  Map<VirtualFile,String> dirs=getAllSourceRoots();
  if (!StringUtil.startsWithChar(relativePath,'/')) {
    relativePath="/" + relativePath;
  }
  LocalFileSystem fs=LocalFileSystem.getInstance();
  for (Iterator it=dirs.keySet().iterator(); it.hasNext(); ) {
    final VirtualFile dir=(VirtualFile)it.next();
    final String prefix=dirs.get(dir);
    String path;
    if (prefix.length() > 0) {
      if (CompilerUtil.startsWith(relativePath,prefix)) {
        path=dir.getPath() + relativePath.substring(prefix.length() - 1);
      }
 else {
        continue;
      }
    }
 else {
      path=dir.getPath() + relativePath;
    }
    VirtualFile file=fs.findFileByPath(path);
    if (file != null) {
      return file;
    }
  }
  return null;
}
