{
  int length=0;
  if (tree instanceof LeafElement) {
    length+=tree.getTextLength(table);
  }
 else {
    final CompositeElement composite=(CompositeElement)tree;
    TreeElement firstChild=composite.firstChild;
    while (firstChild != null) {
      length+=getNotCachedLength(firstChild,table);
      firstChild=firstChild.getTreeNext();
    }
  }
  return length;
}
