{
  setUpButton.addActionListener(new ActionListener(){
    public void actionPerformed(    ActionEvent e){
      final JdkListConfigurable configurable=JdkListConfigurable.getInstance(project);
      DefaultActionGroup group=new DefaultActionGroup();
      jdksModel.createAddActions(group,JdkComboBox.this,new Consumer<Sdk>(){
        public void consume(        final Sdk jdk){
          configurable.addJdkNode(jdk,false);
          reloadModel(firstItem,project);
          setSelectedJdk(jdk);
          if (additionalSetup != null) {
            if (additionalSetup.value(jdk)) {
              setSelectedJdk(firstItem.getJdk());
            }
          }
        }
      }
,myCreationFilter);
      final DataContext dataContext=DataManager.getInstance().getDataContext(JdkComboBox.this);
      if (group.getChildrenCount() > 1) {
        JBPopupFactory.getInstance().createActionGroupPopup(actionGroupTitle,group,dataContext,JBPopupFactory.ActionSelectionAid.MNEMONICS,false).showUnderneathOf(setUpButton);
      }
 else {
        final AnActionEvent event=new AnActionEvent(null,dataContext,ActionPlaces.UNKNOWN,new Presentation(""),ActionManager.getInstance(),0);
        group.getChildren(event)[0].actionPerformed(event);
      }
    }
  }
);
}
