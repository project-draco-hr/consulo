{
  DefaultMutableTreeNode toSelect=(parent.getChildAfter(node) != null || parent.getChildCount() == 1 ? node.getNextNode() : node.getPreviousNode());
  wrapper.removeFromParent(parent,node);
  if (toSelect != null) {
    wrapper.setSelectedNode(toSelect);
  }
}
