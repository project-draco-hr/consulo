{
  ModuleData moduleData=moduleDataNode.getData();
  module.putUserData(MODULE_DATA_KEY,moduleData);
  module.setOption(ExternalSystemConstants.EXTERNAL_SYSTEM_ID_KEY,moduleData.getOwner().toString());
  module.setOption(ExternalSystemConstants.LINKED_PROJECT_PATH_KEY,moduleData.getLinkedExternalProjectPath());
  final ProjectData projectData=moduleDataNode.getData(ProjectKeys.PROJECT);
  module.setOption(ExternalSystemConstants.ROOT_PROJECT_PATH_KEY,projectData != null ? projectData.getLinkedExternalProjectPath() : "");
  if (moduleData.getGroup() != null) {
    module.setOption(ExternalSystemConstants.EXTERNAL_SYSTEM_MODULE_GROUP_KEY,moduleData.getGroup());
  }
  if (moduleData.getVersion() != null) {
    module.setOption(ExternalSystemConstants.EXTERNAL_SYSTEM_MODULE_VERSION_KEY,moduleData.getVersion());
  }
  module.clearOption("org.jetbrains.idea.maven.project.MavenProjectsManager.isMavenModule");
}
