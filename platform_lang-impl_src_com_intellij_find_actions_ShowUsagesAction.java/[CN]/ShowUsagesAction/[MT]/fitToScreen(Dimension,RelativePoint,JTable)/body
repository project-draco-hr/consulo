{
  Rectangle rectangle=new Rectangle(popupPosition.getScreenPoint(),newDim);
  ScreenUtil.fitToScreen(rectangle);
  if (rectangle.getHeight() != newDim.getHeight()) {
    int newHeight=(int)rectangle.getHeight();
    int roundedHeight=newHeight - newHeight % table.getRowHeight();
    rectangle.setSize((int)rectangle.getWidth(),Math.max(roundedHeight,table.getRowHeight()));
  }
  return rectangle;
}
