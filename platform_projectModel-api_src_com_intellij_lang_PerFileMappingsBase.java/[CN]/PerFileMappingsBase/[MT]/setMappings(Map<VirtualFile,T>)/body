{
  Collection<VirtualFile> oldFiles;
synchronized (myMappings) {
    oldFiles=ContainerUtil.newArrayList(myMappings.keySet());
    myMappings.clear();
    myMappings.putAll(mappings);
    cleanup();
  }
  Project project=getProject();
  handleMappingChange(mappings.keySet(),oldFiles,project != null && !project.isDefault());
}
