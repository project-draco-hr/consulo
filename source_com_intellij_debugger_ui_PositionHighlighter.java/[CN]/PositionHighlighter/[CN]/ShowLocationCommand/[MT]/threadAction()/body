{
  SourcePosition position=myContext.getSourcePosition();
  if (position == null) {
    return;
  }
  boolean isExecutionPoint=false;
  try {
    StackFrameProxyImpl frameProxy=myContext.getFrameProxy();
    isExecutionPoint=frameProxy.equals(getSuspendContext().getThread().frame(0));
  }
 catch (  Throwable th) {
    LOG.debug(th);
  }
  final List<Pair<Breakpoint,Event>> events=DebuggerUtilsEx.getEventDescriptors(getSuspendContext());
  Document document=PsiDocumentManager.getInstance(myProject).getDocument(position.getFile());
  if (document != null) {
    if (position.getLine() < 0 || position.getLine() >= document.getLineCount()) {
      position=SourcePosition.createFromLine(position.getFile(),0);
    }
  }
  final SourcePosition position1=position;
  if (isExecutionPoint) {
    DebuggerInvocationUtil.invokeLater(myProject,new Runnable(){
      public void run(){
        SourcePosition position2=updatePositionFromBreakpoint(events,position1);
        showExecutionPoint(position2.getFile(),position2.getLine(),events);
      }
    }
);
  }
 else {
    DebuggerInvocationUtil.invokeLater(myProject,new Runnable(){
      public void run(){
        showSelection(position1.getFile(),position1.getLine());
      }
    }
);
  }
}
