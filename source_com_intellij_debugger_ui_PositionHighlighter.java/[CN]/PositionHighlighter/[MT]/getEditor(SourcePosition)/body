{
  final PsiFile psiFile=position.getFile();
  Document doc=PsiDocumentManager.getInstance(myProject).getDocument(psiFile);
  if (!psiFile.isValid()) {
    return null;
  }
  final int lineIndex=position.getLine();
  if (lineIndex < 0 || lineIndex > doc.getLineCount()) {
    return null;
  }
  return position.openEditor(false);
}
