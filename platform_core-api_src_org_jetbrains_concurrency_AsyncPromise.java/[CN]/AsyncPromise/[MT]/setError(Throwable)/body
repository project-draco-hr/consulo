{
  if (state != State.PENDING) {
    return false;
  }
  result=error;
  state=State.REJECTED;
  Consumer<Throwable> rejected=this.rejected;
  clearHandlers();
  if (rejected != null) {
    if (!isObsolete(rejected)) {
      rejected.consume(error);
    }
  }
 else {
    Promise.logError(LOG,error);
  }
  return true;
}
