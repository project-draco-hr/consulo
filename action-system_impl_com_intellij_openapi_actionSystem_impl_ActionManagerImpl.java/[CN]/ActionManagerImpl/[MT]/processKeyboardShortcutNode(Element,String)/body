{
  if (LOG.isDebugEnabled()) {
    LOG.debug("enter: processKeyboardShortcutNode(" + element.getName() + ")");
  }
  String firstStrokeString=element.getAttributeValue(FIRST_KEYSTROKE_ATTR_NAME);
  if (firstStrokeString == null) {
    LOG.error("\"first-keystroke\" attribute must be specified for action with id=" + actionId);
    return;
  }
  KeyStroke firstKeyStroke=getKeyStroke(firstStrokeString);
  if (firstKeyStroke == null) {
    LOG.error("\"first-keystroke\" attribute has invalid value for action with id=" + actionId);
    return;
  }
  KeyStroke secondKeyStroke=null;
  String secondStrokeString=element.getAttributeValue(SECOND_KEYSTROKE_ATTR_NAME);
  if (secondStrokeString != null) {
    secondKeyStroke=getKeyStroke(secondStrokeString);
    if (secondKeyStroke == null) {
      LOG.error("\"second-keystroke\" attribute has invalid value for action with id=" + actionId);
      return;
    }
  }
  String keymapName=element.getAttributeValue(KEYMAP_ATTR_NAME);
  if (keymapName == null || keymapName.trim().length() == 0) {
    LOG.error("attribute \"keymap\" should be defined");
    return;
  }
  Keymap keymap=myKeymapManager.getKeymap(keymapName);
  if (keymap == null) {
    LOG.error("keymap \"" + keymapName + "\" not found");
    return;
  }
  keymap.addShortcut(actionId,new KeyboardShortcut(firstKeyStroke,secondKeyStroke));
}
