{
  XLineBreakpoint<?> master=createMaster();
  XLineBreakpoint<?> slave=createSlave();
  myDependentBreakpointManager.setMasterBreakpoint(slave,master,true);
  Element element=save();
  myDependentBreakpointManager.clearMasterBreakpoint(slave);
  load(element);
  XBreakpoint<?>[] breakpoints=myBreakpointManager.getAllBreakpoints();
  assertEquals(2,breakpoints.length);
  XLineBreakpoint newMaster=(XLineBreakpoint)breakpoints[0];
  XLineBreakpoint newSlave=(XLineBreakpoint)breakpoints[1];
  assertEquals("file://master",newMaster.getFileUrl());
  assertEquals("file://slave",newSlave.getFileUrl());
  assertSame(newMaster,myDependentBreakpointManager.getMasterBreakpoint(newSlave));
  assertTrue(myDependentBreakpointManager.isLeaveEnabled(newSlave));
}
