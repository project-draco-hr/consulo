{
  if (!IS_TEST_MODE) {
    LOG.assertTrue(isDispatchThread(),"enterModal() should be invoked in event-dispatch thread");
  }
  if (LOG.isDebugEnabled()) {
    LOG.debug("enterModal:" + modalEntity);
  }
  if (!IS_TEST_MODE) {
    ourModalityStateMulticaster.getMulticaster().beforeModalityStateChanged(true);
  }
  ourModalEntities.add(modalEntity);
}
