{
  FLUSHER_SCHEDULED.set(false);
  final RunnableInfo lastInfo=pollNext();
  myLastInfo=lastInfo;
  if (lastInfo != null) {
synchronized (RUN_LOCK) {
      AWTEvent event=ourEventQueue.getTrueCurrentEvent();
      ourEventStack.push(event);
      int stackSize=ourEventStack.size();
      try {
        lastInfo.runnable.run();
        lastInfo.callback.setDone();
      }
 catch (      ProcessCanceledException ex) {
      }
catch (      Throwable t) {
        if (t instanceof StackOverflowError) {
          t.printStackTrace();
        }
        LOG.error(t);
      }
 finally {
        LOG.assertTrue(ourEventStack.size() == stackSize);
        ourEventStack.pop();
        if (!DEBUG)         myLastInfo=null;
      }
    }
    requestFlush();
  }
}
