{
  Collection<CommitId> result=ContainerUtil.newArrayList();
  for (  GraphCommit<Integer> commit : permanentGraph.getAllCommits()) {
    VcsCommitMetadata data=getDetailsFromCache(commit.getId());
    if (data == null) {
      break;
    }
    if (matchesAllFilters(data,permanentGraph,detailsFilters,matchingHeads)) {
      result.add(new CommitId(data.getId(),data.getRoot()));
    }
  }
  return result;
}
