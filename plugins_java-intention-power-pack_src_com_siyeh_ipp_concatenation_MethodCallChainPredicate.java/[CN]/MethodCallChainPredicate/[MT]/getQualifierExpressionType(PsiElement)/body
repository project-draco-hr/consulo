{
  if (!(element instanceof PsiMethodCallExpression)) {
    return null;
  }
  final PsiMethodCallExpression methodCallExpression=(PsiMethodCallExpression)element;
  final PsiMethod method=methodCallExpression.resolveMethod();
  if (method != null) {
    return method.getContainingClass();
  }
  final PsiReferenceExpression methodExpression=methodCallExpression.getMethodExpression();
  final PsiExpression qualifierExpression=methodExpression.getQualifierExpression();
  if (!(qualifierExpression instanceof PsiMethodCallExpression)) {
    return null;
  }
  final PsiType type=qualifierExpression.getType();
  if (!(type instanceof PsiClassType)) {
    return null;
  }
  final PsiClassType classType=(PsiClassType)type;
  return classType.resolve();
}
