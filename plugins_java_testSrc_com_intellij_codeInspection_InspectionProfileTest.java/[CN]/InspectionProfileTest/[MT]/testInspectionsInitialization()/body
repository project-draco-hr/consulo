{
  InspectionProfileImpl foo=new InspectionProfileImpl("foo");
  assertEquals(0,countInitializedTools(foo));
  foo.initInspectionTools(getProject());
  assertEquals(0,countInitializedTools(foo));
  ModifiableModel model=foo.getModifiableModel();
  assertEquals(0,countInitializedTools(model));
  model.commit();
  assertEquals(0,countInitializedTools(model));
  assertEquals(0,countInitializedTools(foo));
  model=foo.getModifiableModel();
  assertEquals(0,countInitializedTools(model));
  List<ScopeToolState> tools=((InspectionProfileImpl)model).getAllTools(getProject());
  for (  ScopeToolState tool : tools) {
    if (!tool.isEnabled()) {
      tool.setEnabled(true);
    }
  }
  model.commit();
  assertEquals(0,countInitializedTools(model));
}
