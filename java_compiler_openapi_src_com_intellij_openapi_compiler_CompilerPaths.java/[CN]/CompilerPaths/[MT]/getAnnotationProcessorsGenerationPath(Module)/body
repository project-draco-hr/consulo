{
  final CompilerConfiguration config=CompilerConfiguration.getInstance(module.getProject());
  if (config.isStoreGenerateSourcesUnderModuleContent(module)) {
    final String[] roots=ModuleRootManager.getInstance(module).getContentRootUrls();
    if (roots.length == 0) {
      return null;
    }
    if (roots.length > 1) {
      Arrays.sort(roots,URLS_COMPARATOR);
    }
    return VirtualFileManager.extractPath(roots[0]) + "/" + config.getGeneratedDirName();
  }
  final String url=CompilerProjectExtension.getInstance(module.getProject()).getCompilerOutputUrl();
  if (url == null) {
    return null;
  }
  return VirtualFileManager.extractPath(url) + "/generated/" + module.getName().toLowerCase();
}
