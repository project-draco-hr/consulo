{
  final CompilerConfiguration config=CompilerConfiguration.getInstance(module.getProject());
  final String sourceDirName=config.getAnnotationProcessingConfiguration(module).getGeneratedSourcesDirectoryName();
  if (!StringUtil.isEmpty(sourceDirName)) {
    final String[] roots=ModuleRootManager.getInstance(module).getContentRootUrls();
    if (roots.length == 0) {
      return null;
    }
    if (roots.length > 1) {
      Arrays.sort(roots,URLS_COMPARATOR);
    }
    return VirtualFileManager.extractPath(roots[0]) + "/" + sourceDirName;
  }
  final CompilerProjectExtension extension=CompilerProjectExtension.getInstance(module.getProject());
  if (extension == null) {
    return null;
  }
  final String url=extension.getCompilerOutputUrl();
  if (url == null) {
    return null;
  }
  return VirtualFileManager.extractPath(url) + "/" + DEFAULT_GENERATED_DIR_NAME+ "/"+ module.getName().toLowerCase();
}
