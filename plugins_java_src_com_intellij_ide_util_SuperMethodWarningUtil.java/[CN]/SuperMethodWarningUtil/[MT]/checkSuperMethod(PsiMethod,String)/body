{
  PsiClass aClass=method.getContainingClass();
  if (aClass == null)   return method;
  PsiMethod superMethod=method.findDeepestSuperMethod();
  if (superMethod == null)   return method;
  if (ApplicationManager.getApplication().isUnitTestMode())   return superMethod;
  PsiClass containingClass=superMethod.getContainingClass();
  SuperMethodWarningDialog dialog=new SuperMethodWarningDialog(method.getProject(),DescriptiveNameUtil.getDescriptiveName(method),actionString,containingClass.isInterface() || superMethod.hasModifierProperty(PsiModifier.ABSTRACT),containingClass.isInterface(),aClass.isInterface(),containingClass.getQualifiedName());
  dialog.show();
  if (dialog.getExitCode() == DialogWrapper.OK_EXIT_CODE)   return superMethod;
  if (dialog.getExitCode() == SuperMethodWarningDialog.NO_EXIT_CODE)   return method;
  return null;
}
