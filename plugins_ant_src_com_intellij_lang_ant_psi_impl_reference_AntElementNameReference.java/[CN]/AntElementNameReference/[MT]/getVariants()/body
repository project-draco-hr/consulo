{
  AntStructuredElement parent=(AntStructuredElement)getElement().getAntParent();
  if (parent == null) {
    return EMPTY_ARRAY;
  }
  AntTypeDefinition def=parent.getTypeDefinition();
  if (def == null) {
    def=parent.getAntProject().getTypeDefinition();
    if (def == null) {
      return EMPTY_ARRAY;
    }
  }
  final Set<String> ids=StringSetSpinAllocator.alloc();
  try {
    for (    AntTypeId id : def.getNestedElements()) {
      ids.add(id.getName());
    }
    return ids.toArray(new Object[ids.size()]);
  }
  finally {
    StringSetSpinAllocator.dispose(ids);
  }
}
