{
  final AntStructuredElement element=getElement();
  if (element instanceof AntTask) {
    AntTask task=(AntTask)element;
    if (task.isMacroDefined()) {
      final XmlAttribute attr=getAttribute();
      if (attr == null) {
        task.getSourceElement().setName(newElementName);
      }
 else {
        attr.setName(newElementName);
      }
    }
  }
  return element;
}
