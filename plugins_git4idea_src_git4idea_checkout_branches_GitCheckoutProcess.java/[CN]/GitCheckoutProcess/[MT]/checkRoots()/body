{
  if (myNewConfiguration == null) {
    return false;
  }
  LocalFileSystem lfs=LocalFileSystem.getInstance();
  HashSet<VirtualFile> roots=new HashSet<VirtualFile>(myRoots);
  Map<String,String> branches=myNewConfiguration.getReferences();
  for (  Map.Entry<String,String> m : branches.entrySet()) {
    VirtualFile root=lfs.findFileByPath(m.getKey());
    if (root == null || root.findChild(".git") == null || !roots.contains(root)) {
      return false;
    }
    roots.remove(root);
    try {
      GitRevisionNumber.resolve(myProject,root,m.getValue());
    }
 catch (    VcsException e) {
      return false;
    }
  }
  return roots.isEmpty();
}
