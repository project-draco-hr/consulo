{
  SpockVariableDescriptor[] variables=new SpockVariableDescriptor[variableDefinitions.size()];
  for (int i=0; i < variableDefinitions.size(); i++) {
    GrExpression expression=variableDefinitions.get(i);
    String name=getNameByReference(expression);
    if (name == null)     continue;
    SpockVariableDescriptor variableDescriptor=new SpockVariableDescriptor(expression,name);
    map.put(name,variableDescriptor);
    variables[i]=variableDescriptor;
  }
  return variables;
}
