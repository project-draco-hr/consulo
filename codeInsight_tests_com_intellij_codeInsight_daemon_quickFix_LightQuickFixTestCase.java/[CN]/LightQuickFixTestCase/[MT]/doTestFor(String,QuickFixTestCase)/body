{
  CommandProcessor.getInstance().executeCommand(getProject(),new Runnable(){
    public void run(){
      ApplicationManager.getApplication().runWriteAction(new Runnable(){
        public void run(){
          final String relativePath=quickFixTestCase.getBasePath() + "/" + BEFORE_PREFIX+ testName;
          final String testFullPath=quickFixTestCase.getTestDataPath().replace(File.separatorChar,'/') + relativePath;
          final File ioFile=new File(testFullPath);
          try {
            String contents=StringUtil.convertLineSeparators(new String(FileUtil.loadFileText(ioFile,CharsetToolkit.UTF8)),"\n");
            quickFixTestCase.configureFromFileText(ioFile.getName(),contents);
            quickFixTestCase.bringRealEditorBack();
            final Pair<String,Boolean> pair=quickFixTestCase.parseActionHintImpl(quickFixTestCase.getFile(),contents);
            final String text=pair.getFirst();
            final boolean actionShouldBeAvailable=pair.getSecond().booleanValue();
            quickFixTestCase.beforeActionStarted(testName,contents);
            try {
              myWrapper=quickFixTestCase;
              quickFixTestCase.doAction(text,actionShouldBeAvailable,testFullPath,testName);
            }
  finally {
              myWrapper=null;
              quickFixTestCase.afterActionCompleted(testName,contents);
            }
          }
 catch (          Throwable e) {
            e.printStackTrace();
            fail();
          }
        }
      }
);
    }
  }
,"","");
  System.out.print(testName + " ");
}
