{
  final OrderEntry[] orderEntries=moduleRootManager.getOrderEntries();
  for (int idx=0; idx < orderEntries.length; idx++) {
    final OrderEntry orderEntry=orderEntries[idx];
    if (!(orderEntry instanceof LibraryOrderEntry || orderEntry instanceof JdkOrderEntry)) {
      continue;
    }
    final VirtualFile[] files=orderEntry.getFiles(OrderRootType.CLASSES);
    for (int i=0; i < files.length; i++) {
      final VirtualFile file=files[i];
      if (file.getFileSystem() instanceof JarFileSystem && file.getParent() != null) {
        continue;
      }
      roots.add(file);
    }
  }
}
