{
  final PsiType fieldDefaultType=myTypePointer != null ? myTypePointer.getType() : null;
  myTypeSelectorManager.setAllOccurences(replaceAll);
  PsiType defaultType=myTypeSelectorManager.getTypeSelector().getSelectedType();
  if (fieldDefaultType != null) {
    if (replaceAll) {
      if (ArrayUtil.find(myTypeSelectorManager.getTypesForAll(),fieldDefaultType) != -1) {
        defaultType=fieldDefaultType;
      }
    }
 else     if (ArrayUtil.find(myTypeSelectorManager.getTypesForOne(),fieldDefaultType) != -1) {
      defaultType=fieldDefaultType;
    }
  }
  return createFieldToStartTemplateOn(names,defaultType);
}
