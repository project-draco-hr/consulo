{
  try {
    final PsiManager psiManager=expression.getManager();
    final PsiElementFactory factory=psiManager.getElementFactory();
    final PsiExpression newExp=factory.createExpressionFromText(newExpression,null);
    final PsiElement replacementExp=expression.replace(newExp);
    final CodeStyleManager styleManager=psiManager.getCodeStyleManager();
    styleManager.reformat(replacementExp);
  }
 catch (  IncorrectOperationException e) {
    final Class aClass=getClass();
    final String className=aClass.getName();
    final Logger logger=Logger.getInstance(className);
    logger.error(e);
  }
}
