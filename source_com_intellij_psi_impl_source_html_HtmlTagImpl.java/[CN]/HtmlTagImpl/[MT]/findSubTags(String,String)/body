{
  final XmlTag[] subTags=getSubTags();
  final List<XmlTag> result=new ArrayList<XmlTag>();
  for (int i=0; i < subTags.length; i++) {
    final XmlTag subTag=subTags[i];
    if (namespace == null) {
      String tagName=subTag.getName();
      if (tagName == null)       continue;
      tagName=tagName.toLowerCase();
      if (name == null || name.equals(tagName)) {
        result.add(subTag);
      }
    }
 else     if (namespace.equals(subTag.getNamespace()) && (name == null || name.equals(subTag.getLocalName()))) {
      result.add(subTag);
    }
  }
  return result.toArray(new XmlTag[result.size()]);
}
