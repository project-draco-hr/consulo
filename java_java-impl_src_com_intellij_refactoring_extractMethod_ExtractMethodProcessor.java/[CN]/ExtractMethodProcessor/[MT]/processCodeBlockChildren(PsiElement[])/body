{
  int resultLast=codeBlockChildren.length;
  if (codeBlockChildren.length == 0)   return PsiElement.EMPTY_ARRAY;
  final PsiElement first=codeBlockChildren[0];
  int resultStart=0;
  if (first instanceof PsiJavaToken && ((PsiJavaToken)first).getTokenType() == JavaTokenType.LBRACE) {
    resultStart++;
  }
  final PsiElement last=codeBlockChildren[codeBlockChildren.length - 1];
  if (last instanceof PsiJavaToken && ((PsiJavaToken)last).getTokenType() == JavaTokenType.RBRACE) {
    resultLast--;
  }
  final ArrayList<PsiElement> result=new ArrayList<PsiElement>();
  for (int i=resultStart; i < resultLast; i++) {
    PsiElement element=codeBlockChildren[i];
    if (!(element instanceof PsiWhiteSpace)) {
      result.add(element);
    }
  }
  return result.toArray(new PsiElement[result.size()]);
}
