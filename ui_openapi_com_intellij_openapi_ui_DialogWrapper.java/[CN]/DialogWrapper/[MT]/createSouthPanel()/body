{
  Action[] actions=createActions();
  Action[] leftSideActions=createLeftSideActions();
  ArrayList<Component> buttons=new ArrayList<Component>();
  final JPanel panel=new JPanel(new GridBagLayout());
  if (actions.length > 0 || leftSideActions.length > 0) {
    int gridx=0;
    if (leftSideActions.length > 0) {
      JPanel buttonsPanel=createButtons(leftSideActions,buttons);
      panel.add(buttonsPanel,new GridBagConstraints(gridx++,0,1,1,0,0,GridBagConstraints.CENTER,GridBagConstraints.NONE,new Insets(8,0,0,0),0,0));
    }
    panel.add(Box.createHorizontalGlue(),new GridBagConstraints(gridx++,0,1,1,1,0,GridBagConstraints.CENTER,GridBagConstraints.HORIZONTAL,new Insets(8,0,0,0),0,0));
    if (actions.length > 0) {
      JPanel buttonsPanel=createButtons(actions,buttons);
      panel.add(buttonsPanel,new GridBagConstraints(gridx++,0,1,1,0,0,GridBagConstraints.CENTER,GridBagConstraints.NONE,new Insets(8,0,0,0),0,0));
    }
    if (SwingConstants.CENTER == myButtonAlignment) {
      panel.add(Box.createHorizontalGlue(),new GridBagConstraints(gridx,0,1,1,1,0,GridBagConstraints.CENTER,GridBagConstraints.HORIZONTAL,new Insets(8,0,0,0),0,0));
    }
    myButtons=buttons.toArray(new Component[buttons.size()]);
  }
  return panel;
}
