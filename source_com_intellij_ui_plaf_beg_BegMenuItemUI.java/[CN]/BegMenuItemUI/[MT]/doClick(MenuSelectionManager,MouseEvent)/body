{
  if (!isInternalFrameSystemMenu()) {
    ActionMap map=menuItem.getActionMap();
    if (map != null) {
      Action audioAction=map.get(getPropertyPrefix() + ".commandSound");
      if (audioAction != null) {
        BasicLookAndFeel lf=(BasicLookAndFeel)UIManager.getLookAndFeel();
        try {
          Method playSoundMethod=BasicLookAndFeel.class.getDeclaredMethod("playSound",new Class[]{Action.class});
          playSoundMethod.setAccessible(true);
          playSoundMethod.invoke(lf,new Object[]{audioAction});
        }
 catch (        Exception ignored) {
        }
      }
    }
  }
  if (msm == null) {
    msm=MenuSelectionManager.defaultManager();
  }
  msm.clearSelectedPath();
  ((ActionMenuItem)menuItem).fireActionPerformed(new ActionEvent(menuItem,ActionEvent.ACTION_PERFORMED,null,e.getWhen(),e.getModifiers()));
}
