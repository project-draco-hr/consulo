{
  myVcs.createFile(p("file1"),"content1");
  myVcs.createFile(p("file2"),"content2");
  myVcs.commit();
  myVcs.createFile(p("file3"),"content3");
  myVcs.changeFile(p("file1"),"new content1");
  myVcs.commit();
  Integer id1=myVcs.getEntry(p("file1")).getObjectId();
  Integer id2=myVcs.getEntry(p("file2")).getObjectId();
  Integer id3=myVcs.getEntry(p("file3")).getObjectId();
  List<Snapshot> snapshots=myVcs.getSnapshots();
  assertEquals(2,snapshots.size());
  assertElements(new Object[]{new FileEntry(id1,"file1","new content1"),new FileEntry(id2,"file2","content2"),new FileEntry(id3,"file3","content3")},snapshots.get(0).getEntries());
  assertElements(new Object[]{new FileEntry(id1,"file1","content1"),new FileEntry(id2,"file2","content2")},snapshots.get(1).getEntries());
}
