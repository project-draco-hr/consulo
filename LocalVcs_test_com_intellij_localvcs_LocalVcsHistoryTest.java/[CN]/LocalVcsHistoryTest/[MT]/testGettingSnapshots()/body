{
  myVcs.createFile(fn("file1"),"content1");
  myVcs.createFile(fn("file2"),"content2");
  myVcs.commit();
  myVcs.createFile(fn("file3"),"content3");
  myVcs.changeFile(fn("file1"),"new content1");
  myVcs.commit();
  Integer id1=myVcs.getRevision(fn("file1")).getObjectId();
  Integer id2=myVcs.getRevision(fn("file2")).getObjectId();
  Integer id3=myVcs.getRevision(fn("file3")).getObjectId();
  List<Snapshot> snapshots=myVcs.getSnapshots();
  assertEquals(2,snapshots.size());
  assertElements(new Object[]{new FileRevision(id1,"file1","new content1"),new FileRevision(id2,"file2","content2"),new FileRevision(id3,"file3","content3")},snapshots.get(0).getRevisions());
  assertElements(new Object[]{new FileRevision(id1,"file1","content1"),new FileRevision(id2,"file2","content2")},snapshots.get(1).getRevisions());
}
