{
  try {
synchronized (myTargetStoragesLock) {
      BuildTargetStorages storages=myTargetStorages.remove(target);
      if (storages != null) {
        storages.close();
      }
    }
  }
  finally {
    final File[] targetData=myDataPaths.getTargetDataRoot(target).listFiles();
    if (targetData != null) {
      final File srcOutputMapRoot=getSourceToOutputMapRoot(target);
      for (      File dataFile : targetData) {
        if (!FileUtil.filesEqual(dataFile,srcOutputMapRoot)) {
          FileUtil.delete(dataFile);
        }
      }
    }
  }
}
