{
  try {
synchronized (myTargetStoragesLock) {
      BuildTargetStorages storages=myTargetStorages.remove(target);
      if (storages != null) {
        storages.close();
      }
    }
  }
  finally {
    try {
synchronized (mySourceToOutputLock) {
        SourceToOutputMappingImpl mapping=mySourceToOutputs.remove(target);
        if (mapping != null) {
          mapping.close();
        }
      }
    }
  finally {
      FileUtil.delete(myDataPaths.getTargetDataRoot(target));
    }
  }
}
