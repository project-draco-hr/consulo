{
synchronized (mySourceToOutputLock) {
    for (    ModuleChunk chunk : chunks) {
      for (      ModuleBuildTarget target : chunk.getTargets()) {
        final Map<String,SourceToOutputMapping> storageMap=target.isTests() ? myTestSourceToOutputs : myProductionSourceToOutputs;
        final String moduleName=target.getModuleName().toLowerCase(Locale.US);
        final SourceToOutputMapping mapping=storageMap.remove(moduleName);
        if (mapping != null) {
          mapping.close();
        }
      }
    }
  }
}
