{
  super(new BorderLayout());
  myProject=project;
  myStateManager=stateManager;
  myTree=createTreeView();
  myContextListener=new DebuggerContextListener(){
    public void changeEvent(    DebuggerContextImpl newContext,    int event){
      DebuggerPanel.this.changeEvent(newContext,event);
    }
  }
;
  myTree.addMouseListener(new PopupHandler(){
    public void invokePopup(    Component comp,    int x,    int y){
      ActionPopupMenu popupMenu=createPopupMenu();
      if (popupMenu != null) {
        popupMenu.getComponent().show(comp,x,y);
      }
    }
  }
);
  setFocusTraversalPolicy(new IdeFocusTraversalPolicy(){
    public Component getDefaultComponentImpl(    Container focusCycleRoot){
      return myTree;
    }
  }
);
  myStateManager.addListener(myContextListener);
}
