{
  if (myReplaceDefaultStrategy && strategy.replaceDefaultStrategy()) {
    throw new IllegalArgumentException(String.format("Can't combine strategy '%s' with already registered strategies (%s). Reason: given strategy is marked to replace " + "all existing strategies but strategy with such characteristics is already registered",strategy,myStrategies));
  }
  myStrategies.add(strategy);
  myReplaceDefaultStrategy|=strategy.replaceDefaultStrategy();
}
