{
  if (LOG.isDebugEnabled()) {
    LOG.debug("enter: unregisterAction(" + actionId + ")");
  }
synchronized (myLock) {
    if (!myId2Action.containsKey(actionId)) {
      if (LOG.isDebugEnabled()) {
        LOG.debug("action with ID " + actionId + " wasn't registered");
        return;
      }
    }
    AnAction oldValue=(AnAction)myId2Action.remove(actionId);
    myAction2Id.remove(oldValue);
    myId2Index.remove(actionId);
    for (    PluginId pluginName : myPlugin2Id.keySet()) {
      final THashSet<String> pluginActions=myPlugin2Id.get(pluginName);
      if (pluginActions != null) {
        pluginActions.remove(actionId);
      }
    }
  }
}
