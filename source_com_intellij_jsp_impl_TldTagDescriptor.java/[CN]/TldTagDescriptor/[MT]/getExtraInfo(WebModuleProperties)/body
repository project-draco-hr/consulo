{
  Object tei;
  TagExtraInfo castedTei=null;
  if (myTeiClass != null) {
    final VirtualFile virtualFile=myTag.getContainingFile().getVirtualFile();
    List<URL> urls=TldUtil.buildUrls(virtualFile,moduleProperties);
    TeiClassLoader classLoader=new TeiClassLoader(urls,getClass().getClassLoader());
    try {
      Class aClass=classLoader.loadClass(myTeiClass);
      tei=aClass.newInstance();
      castedTei=(TagExtraInfo)tei;
      castedTei.setTagInfo(new TagInfo(myName,myTagClass,"","",new TagLibraryInfo("",""){
      }
,castedTei,myTLDAttributes.toArray(new TagAttributeInfo[0]),myName,"","",myTLDVars.toArray(new TagVariableInfo[myTLDVars.size()])));
    }
 catch (    Exception e) {
    }
  }
  if (castedTei != null)   return castedTei;
  return new MyTEI(myTLDVars);
}
