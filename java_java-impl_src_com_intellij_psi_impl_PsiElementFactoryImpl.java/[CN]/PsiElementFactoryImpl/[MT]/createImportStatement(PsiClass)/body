{
  if (aClass instanceof PsiAnonymousClass) {
    throw new IncorrectOperationException("Cannot create import statement for anonymous class.");
  }
 else   if (aClass.getParent() instanceof PsiDeclarationStatement) {
    throw new IncorrectOperationException("Cannot create import statement for local class.");
  }
  @NonNls String text="import " + aClass.getQualifiedName() + ";";
  PsiJavaFile aFile=createDummyJavaFile(text);
  PsiImportStatement statement=aFile.getImportList().getImportStatements()[0];
  return (PsiImportStatement)CodeStyleManager.getInstance(myManager.getProject()).reformat(statement);
}
