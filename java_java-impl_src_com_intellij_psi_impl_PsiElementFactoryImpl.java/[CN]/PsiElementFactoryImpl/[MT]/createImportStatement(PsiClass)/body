{
  if (aClass instanceof PsiAnonymousClass) {
    throw new IncorrectOperationException("Cannot create import statement for anonymous class.");
  }
 else   if (aClass.getParent() instanceof PsiDeclarationStatement) {
    throw new IncorrectOperationException("Cannot create import statement for local class.");
  }
  final PsiJavaFile aFile=createDummyJavaFile(join("import ",aClass.getQualifiedName(),";"));
  final PsiImportStatementBase statement=extractImport(aFile,false);
  return (PsiImportStatement)CodeStyleManager.getInstance(myManager.getProject()).reformat(statement);
}
