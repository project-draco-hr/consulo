{
  final ProjectJdkTable jdkTable=ProjectJdkTable.getInstance();
  if (myJavaSdk == null) {
    if (myJavaSdkName != null) {
      myJavaSdk=jdkTable.findJdk(myJavaSdkName);
      myJavaSdkName=null;
    }
 else {
      for (      Sdk jdk : jdkTable.getAllJdks()) {
        if (IdeaJdk.isValidInternalJdk(myCurrentJdk,jdk)) {
          myJavaSdk=jdk;
          break;
        }
      }
    }
  }
  return myJavaSdk;
}
