{
  final NumberFormat integerInstance=NumberFormat.getIntegerInstance();
  int maxDigits=2;
  if (maximum != null && (maximum) > 99) {
    maxDigits=maximum.toString().length();
  }
  integerInstance.setMaximumIntegerDigits(maxDigits);
  integerInstance.setMinimumIntegerDigits(1);
  setFormatterFactory(new DefaultFormatterFactory(new NumberFormatter(integerInstance)));
  setValue(maximum != null ? maximum : new Integer("88"));
  final Dimension d=getPreferredSize();
  d.width+=3;
  setPreferredSize(d);
  setValue(getset.get());
  setFocusLostBehavior(JFormattedTextField.COMMIT_OR_REVERT);
  setText("" + getValue());
  getDocument().addDocumentListener(new DocumentListener(){
    private void setit(){
      try {
        if (getText().length() != 0) {
          int value=Integer.parseInt(getText());
          if (minimum != null) {
            if (value < (minimum))             value=(minimum);
          }
          if (maximum != null) {
            if (value > (maximum))             value=(maximum);
          }
          getset.set(value);
        }
      }
 catch (      NumberFormatException e) {
      }
    }
    public void insertUpdate(    DocumentEvent e){
      setit();
    }
    public void removeUpdate(    DocumentEvent e){
      setit();
    }
    public void changedUpdate(    DocumentEvent e){
      setit();
    }
  }
);
}
