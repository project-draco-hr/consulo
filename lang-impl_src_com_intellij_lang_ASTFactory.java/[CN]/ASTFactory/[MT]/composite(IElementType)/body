{
  if (type instanceof ICompositeElementType) {
    return (CompositeElement)((ICompositeElementType)type).createCompositeNode();
  }
  if (type == TokenType.CODE_FRAGMENT) {
    return new CodeFragmentElement(null);
  }
  final CompositeElement customComposite=factory(type).createComposite(type);
  return customComposite != null ? customComposite : DEFAULT.createComposite(type);
}
