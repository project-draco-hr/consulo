{
  File ioFile=new File(path);
  if (!ioFile.isAbsolute() && currentDirectory != null) {
    ioFile=new File(currentDirectory,path);
  }
  final VirtualFile file=LocalFileSystem.getInstance().refreshAndFindFileByIoFile(ioFile);
  if (file == null) {
    throw new OperationFailedException("Can't find file " + path);
  }
  return file;
}
