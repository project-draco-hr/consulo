{
  String oldName=myList.getName();
  String oldComment=myList.getComment();
  if (!Comparing.equal(oldName,myPanel.getName()) && ChangeListManager.getInstance(myProject).findChangeList(myPanel.getName()) != null) {
    Messages.showErrorDialog(myPanel.getContent(),VcsBundle.message("changes.dialog.editchangelist.error.already.exists",myPanel.getName()),VcsBundle.message("changes.dialog.editchangelist.title"));
    return;
  }
  if (!Comparing.equal(oldName,myPanel.getName(),true) || !Comparing.equal(oldComment,myPanel.getDescription(),true)) {
    final ChangeListManager clManager=ChangeListManager.getInstance(myProject);
    final String newName=myPanel.getName();
    if (!myList.getName().equals(newName)) {
      clManager.editName(myList.getName(),newName);
    }
    final String newDescription=myPanel.getDescription();
    if (!myList.getComment().equals(newDescription)) {
      clManager.editComment(myList.getName(),newDescription);
    }
  }
  super.doOKAction();
}
