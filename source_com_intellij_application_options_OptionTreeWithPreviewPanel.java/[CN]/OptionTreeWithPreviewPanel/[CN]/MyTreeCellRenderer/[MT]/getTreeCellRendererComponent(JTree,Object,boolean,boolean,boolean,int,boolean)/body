{
  if (value instanceof MyToggleTreeNode) {
    MyToggleTreeNode treeNode=(MyToggleTreeNode)value;
    JToggleButton button=treeNode.isCheckbox() ? (JToggleButton)myCheckBox : (JToggleButton)myRadioButton;
    button.setText(treeNode.getText());
    button.setSelected(treeNode.isSelected);
    if (isSelected) {
      button.setForeground(UIManager.getColor("Tree.selectionForeground"));
      button.setBackground(UIManager.getColor("Tree.selectionBackground"));
    }
 else {
      button.setForeground(UIManager.getColor("Tree.textForeground"));
      button.setBackground(UIManager.getColor("Tree.textBackground"));
    }
    button.setEnabled(tree.isEnabled());
    return button;
  }
 else {
    Font font=tree.getFont();
    Font boldFont=new Font(font.getName(),Font.BOLD,font.getSize());
    myLabel.setFont(boldFont);
    myLabel.setText(value.toString());
    if (isSelected) {
      myLabel.setForeground(UIManager.getColor("Tree.selectionForeground"));
      Color backColor=UIManager.getColor("Tree.selectionBackground");
      myLabel.setBackground(backColor);
    }
 else {
      myLabel.setForeground(UIManager.getColor("Tree.textForeground"));
      myLabel.setBackground(UIManager.getColor("Tree.textBackground"));
    }
    myLabel.setEnabled(tree.isEnabled());
    return myLabel;
  }
}
