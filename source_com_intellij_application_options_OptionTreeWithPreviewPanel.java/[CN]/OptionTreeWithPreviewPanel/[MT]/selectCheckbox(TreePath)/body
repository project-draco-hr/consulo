{
  if (treePath == null) {
    return;
  }
  Object o=treePath.getLastPathComponent();
  if (o instanceof MyToggleTreeNode) {
    MyToggleTreeNode node=(MyToggleTreeNode)o;
    if (node.isCheckbox()) {
      node.setSelected(!node.isSelected());
    }
 else {
      MyToggleTreeNode[] group=node.getGroup();
      for (int i=0; i < group.length; i++) {
        MyToggleTreeNode groupNode=group[i];
        groupNode.setSelected(false);
        int row=myOptionsTree.getRowForPath(new TreePath(groupNode.getPath()));
        myOptionsTree.repaint(myOptionsTree.getRowBounds(row));
      }
      node.setSelected(true);
    }
    int row=myOptionsTree.getRowForPath(treePath);
    myOptionsTree.repaint(myOptionsTree.getRowBounds(row));
    updatePreview();
  }
}
