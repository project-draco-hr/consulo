{
  ProgressIndicator indicator=context.getProgressIndicator();
  indicator.setText("Generating stubs for " + item.getName() + "...");
  if (LOG.isDebugEnabled()) {
    LOG.debug("Generating stubs for " + item.getName() + "...");
  }
  final Map<String,CharSequence> output;
  AccessToken accessToken=ApplicationManager.getApplication().acquireReadActionLock();
  try {
    output=generator.generateStubs((GroovyFile)PsiManager.getInstance(project).findFile(item));
  }
  finally {
    accessToken.finish();
  }
  return writeStubs(outputRootDirectory,output,item);
}
