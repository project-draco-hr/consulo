{
  ProgressIndicator indicator=context.getProgressIndicator();
  indicator.setText("Generating stubs for " + item.getName() + "...");
  if (LOG.isDebugEnabled()) {
    LOG.debug("Generating stubs for " + item.getName() + "...");
  }
  final Map<String,CharSequence> output=ApplicationManager.getApplication().runReadAction(new Computable<Map<String,CharSequence>>(){
    public Map<String,CharSequence> compute(){
      return generator.generateStubs((GroovyFile)PsiManager.getInstance(project).findFile(item));
    }
  }
);
  return writeStubs(outputRootDirectory,output,item);
}
