{
  final TestUpdateSettings settings=new TestUpdateSettings("maiaEAP",true,null);
  UpdateStrategy strategy=new UpdateStrategy(BuildNumber.fromString("IU-95.627"),new UpdatesInfoLoader(){
    @Override public UpdatesInfo loadUpdatesInfo(){
      return UpdatesInfoXppParserTest.InfoReader.read("idea-newChannel.xml");
    }
  }
,settings);
  final CheckForUpdateResult result=strategy.checkForUpdates();
  Assert.assertEquals(UpdateStrategy.State.LOADED,result.getState());
  final BuildInfo update=result.getNewBuildInSelectedChannel();
  Assert.assertNull(update);
  final UpdateChannel newChannel=result.getNewChannelToPropose();
  Assert.assertNotNull(newChannel);
  Assert.assertEquals("IDEA10EAP",newChannel.getId());
  Assert.assertEquals("IntelliJ IDEA X EAP",newChannel.getName());
}
