{
  try {
    List<Task> issues=getIssuesFromRepositories(null,myConfig.updateIssuesCount,0,false);
    if (issues == null)     return;
synchronized (myIssueCache) {
      myIssueCache.clear();
      for (      Task issue : issues) {
        myIssueCache.put(issue.getId(),issue);
      }
    }
synchronized (myTasks) {
      for (Iterator<Map.Entry<String,LocalTaskImpl>> it=myTasks.entrySet().iterator(); it.hasNext(); ) {
        Map.Entry<String,LocalTaskImpl> entry=it.next();
        Task issue=myIssueCache.get(entry.getKey());
        if (issue != null) {
          if (issue.isClosed()) {
            it.remove();
          }
 else {
            entry.getValue().updateFromIssue(issue);
          }
        }
      }
    }
  }
  finally {
    if (onComplete != null) {
      onComplete.run();
    }
    myUpdating=false;
  }
}
