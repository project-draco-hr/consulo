{
  List<Task> issues=new ArrayList<Task>();
  for (  final TaskRepository repository : getAllRepositories()) {
    if (!repository.isConfigured() || myBadRepositories.contains(repository)) {
      continue;
    }
    try {
      Task[] tasks=repository.getIssues(request,max,since);
      ContainerUtil.addAll(issues,tasks);
    }
 catch (    Exception e) {
      myBadRepositories.add(repository);
      LOG.warn(e);
      ApplicationManager.getApplication().getMessageBus().syncPublisher(Notifications.TOPIC).notify(new Notification("Tasks","Cannot connect to " + repository.getUrl(),"<p><a href=\"\">Configure server...</a></p>",NotificationType.WARNING,new NotificationListener(){
        public void hyperlinkUpdate(        @NotNull Notification notification,        @NotNull HyperlinkEvent event){
          TaskRepositoriesConfigurable configurable=new TaskRepositoriesConfigurable(myProject);
          ShowSettingsUtil.getInstance().editConfigurable(myProject,configurable);
          if (!ArrayUtil.contains(repository,getAllRepositories())) {
            notification.expire();
          }
        }
      }
),NotificationDisplayType.STICKY_BALLOON);
    }
  }
  return issues;
}
