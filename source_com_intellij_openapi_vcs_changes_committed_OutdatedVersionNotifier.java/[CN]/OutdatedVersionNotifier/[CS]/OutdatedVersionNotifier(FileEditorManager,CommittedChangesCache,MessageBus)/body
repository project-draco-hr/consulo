{
  myFileEditorManager=fileEditorManager;
  myCache=cache;
  messageBus.connect().subscribe(CommittedChangesCache.COMMITTED_TOPIC,new CommittedChangesListener(){
    public void changesLoaded(    final RepositoryLocation location,    final List<CommittedChangeList> changes){
    }
    public void incomingChangesUpdated(    @Nullable final List<CommittedChangeList> receivedChanges){
      if (myCache.getCachedIncomingChanges() == null) {
        requestLoadIncomingChanges();
      }
 else {
        updateAllEditorsLater();
      }
    }
  }
);
}
