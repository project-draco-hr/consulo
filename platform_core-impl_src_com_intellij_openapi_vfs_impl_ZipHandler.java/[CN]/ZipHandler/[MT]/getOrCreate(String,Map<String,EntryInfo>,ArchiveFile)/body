{
  EntryInfo info=map.get(entryName);
  if (info == null) {
    ArchiveEntry entry=zip.getEntry(entryName + "/");
    if (entry != null) {
      return getOrCreate(entry,map,zip);
    }
    Pair<String,String> path=splitPath(entryName);
    EntryInfo parentInfo=getOrCreate(path.first,map,zip);
    info=store(map,parentInfo,path.second,true,DEFAULT_LENGTH,DEFAULT_TIMESTAMP,entryName);
  }
  if (!info.isDirectory) {
    Logger.getInstance(getClass()).info(zip.getName() + ": " + entryName+ " should be a directory");
    info=store(map,info.parent,info.shortName,true,info.length,info.timestamp,entryName);
  }
  return info;
}
