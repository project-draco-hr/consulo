{
  if (reportedPath == null)   return Collections.emptyList();
  myAllPaths.clear();
  myAllPaths.add(reportedPath);
  for (  Pair<String,String> map : myMapping) {
    if (FileUtil.startsWith(reportedPath,map.first)) {
      myAllPaths.add(map.second + reportedPath.substring(map.first.length()));
    }
 else     if (FileUtil.startsWith(reportedPath,map.second)) {
      myAllPaths.add(map.first + reportedPath.substring(map.second.length()));
    }
  }
  myWatchedPaths.clear();
  ext:   for (  String path : myAllPaths) {
    for (    String root : myRecursiveWatchRoots) {
      if (FileUtil.startsWith(path,root)) {
        myWatchedPaths.add(path);
        continue ext;
      }
    }
    for (    String root : myFlatWatchRoots) {
      if (FileUtil.pathsEqual(path,root)) {
        myWatchedPaths.add(path);
        continue ext;
      }
      final File parentFile=new File(path).getParentFile();
      if (parentFile != null && FileUtil.pathsEqual(parentFile.getPath(),root)) {
        myWatchedPaths.add(path);
        continue ext;
      }
    }
  }
  return myWatchedPaths;
}
