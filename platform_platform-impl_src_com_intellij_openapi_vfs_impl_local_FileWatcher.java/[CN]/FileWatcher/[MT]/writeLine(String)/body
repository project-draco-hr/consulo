{
  try {
    if (LOG.isDebugEnabled()) {
      LOG.debug("to fsnotifier: " + line);
    }
    final BufferedWriter writer=notifierWriter;
    if (writer != null) {
      writer.write(line);
      writer.newLine();
      writer.flush();
    }
  }
 catch (  IOException e) {
    try {
      final Process process=notifierProcess;
      if (process != null) {
        process.exitValue();
      }
    }
 catch (    IllegalThreadStateException e1) {
      throw e;
    }
 finally {
      notifierProcess=null;
      notifierWriter=null;
      notifierReader=null;
    }
  }
}
