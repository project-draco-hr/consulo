{
  if (reportedPath == null)   return Collections.emptyList();
  myAllPaths.clear();
  myAllPaths.add(reportedPath);
  for (  Pair<String,String> map : myMapping) {
    if (FileUtil.startsWith(reportedPath,map.first)) {
      myAllPaths.add(map.second + reportedPath.substring(map.first.length()));
    }
 else     if (FileUtil.startsWith(reportedPath,map.second)) {
      myAllPaths.add(map.first + reportedPath.substring(map.second.length()));
    }
  }
  myWatchedPaths.clear();
  ext:   for (  String path : myAllPaths) {
    for (    String root : myRecursiveWatchRoots) {
      if (FileUtil.startsWith(path,root)) {
        myWatchedPaths.add(path);
        continue ext;
      }
      if (checkRootParents && FileUtil.startsWith(root,path)) {
        myWatchedPaths.add(root);
        continue ext;
      }
    }
    String checkPath=isExact ? new File(path).getParent() : path;
    for (    String root : myFlatWatchRoots) {
      if (FileUtil.pathsEqual(checkPath,root)) {
        myWatchedPaths.add(path);
        continue ext;
      }
      if (checkRootParents && FileUtil.startsWith(root,checkPath)) {
        myWatchedPaths.add(root);
        continue ext;
      }
    }
  }
  return myWatchedPaths;
}
