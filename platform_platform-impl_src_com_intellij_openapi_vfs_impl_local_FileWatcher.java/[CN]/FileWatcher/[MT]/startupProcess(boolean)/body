{
  if (myIsShuttingDown)   return;
  if (myStartAttemptCount++ > MAX_PROCESS_LAUNCH_ATTEMPT_COUNT) {
    notifyOnFailure("File watcher cannot be started",null);
    throw new IOException("Can't launch process anymore");
  }
  if (restart) {
    shutdownProcess();
  }
  LOG.info("Starting file watcher: " + myExecutable);
  myNotifierProcess=Runtime.getRuntime().exec(new String[]{myExecutable.getAbsolutePath()});
  myNotifierReader=new BufferedReader(new InputStreamReader(myNotifierProcess.getInputStream()));
  myNotifierWriter=new BufferedWriter(new OutputStreamWriter(myNotifierProcess.getOutputStream()));
  if (restart) {
synchronized (myLock) {
      if (myRecursiveWatchRoots.size() + myFlatWatchRoots.size() > 0) {
        setWatchRoots(myRecursiveWatchRoots,myFlatWatchRoots,true);
      }
    }
  }
}
