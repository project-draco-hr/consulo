{
  myManagingFS=ManagingFS.getInstance();
  final boolean explicitlyDisabled=Boolean.parseBoolean(System.getProperty(PROPERTY_WATCHER_DISABLED));
  try {
    if (!explicitlyDisabled) {
      startupProcess(false);
    }
  }
 catch (  IOException e) {
    LOG.warn(e.getMessage());
  }
  if (notifierProcess != null) {
    LOG.info("Native file watcher is operational.");
    new WatchForChangesThread().start();
    Runtime.getRuntime().addShutdownHook(new Thread(new Runnable(){
      @Override public void run(){
        isShuttingDown=true;
        shutdownProcess();
      }
    }
,"FileWatcher shutdown hook"));
  }
 else {
    String message=explicitlyDisabled ? String.format("File watcher is disabled (%s property is set)",PROPERTY_WATCHER_DISABLED) : "File watcher failed to startup";
    LOG.info(message);
    notifyOnFailure(message,null);
  }
}
