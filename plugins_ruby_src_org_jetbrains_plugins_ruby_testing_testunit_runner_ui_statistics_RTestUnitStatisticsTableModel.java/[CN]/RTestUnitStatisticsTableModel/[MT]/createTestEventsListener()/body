{
  return new RTestUnitEventsAdapter(){
    @Override public void onSuiteStarted(    @NotNull final RTestUnitTestProxy suite){
      if (shouldUpdateModelBySuite(suite)) {
        updateModel();
      }
    }
    @Override public void onSuiteFinished(    @NotNull final RTestUnitTestProxy suite){
      if (shouldUpdateModelBySuite(suite)) {
        updateModel();
      }
    }
    @Override public void onTestStarted(    @NotNull final RTestUnitTestProxy test){
      if (shouldUpdateModelByTest(test)) {
        updateModel();
      }
    }
    @Override public void onTestFinished(    @NotNull final RTestUnitTestProxy test){
      if (shouldUpdateModelByTest(test)) {
        updateModel();
      }
    }
    private boolean shouldUpdateModelByTest(    final RTestUnitTestProxy test){
      return isSomeSuiteSelected() && (test.getParent() == myCurrentSuite);
    }
    private boolean shouldUpdateModelBySuite(    final RTestUnitTestProxy suite){
      return isSomeSuiteSelected() && (suite == myCurrentSuite || suite.getParent() == myCurrentSuite);
    }
    private boolean isSomeSuiteSelected(){
      return myCurrentSuite != null;
    }
  }
;
}
