{
  while (true) {
    try {
      if (myShutdownSemaphore.tryAcquire(1,TimeUnit.SECONDS)) {
        break;
      }
    }
 catch (    InterruptedException e) {
      break;
    }
    if (mySwingThreadCounter != myLoopCounter) {
      if (myUnresponsiveDuration == 0) {
        System.out.println("EDT is not responding at " + myPrintDateFormat.format(new Date()));
      }
      myUnresponsiveDuration++;
      dumpThreads();
    }
 else     if (myUnresponsiveDuration > 0) {
      System.out.println("EDT was unresponsive for " + myUnresponsiveDuration + " seconds");
      myUnresponsiveDuration=0;
    }
    myLoopCounter++;
    SwingUtilities.invokeLater(new SwingThreadRunnable(myLoopCounter));
  }
}
