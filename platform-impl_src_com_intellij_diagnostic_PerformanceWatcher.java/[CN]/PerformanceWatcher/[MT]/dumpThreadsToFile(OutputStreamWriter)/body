{
  boolean dumpSuccessful=false;
  if (myDumpAllThreadsMethod != null) {
    try {
      ThreadInfo[] threads=(ThreadInfo[])myDumpAllThreadsMethod.invoke(myThreadMXBean,false,false);
      for (      ThreadInfo info : threads) {
        StackTraceElement[] stackTraceElements=info.getStackTrace();
        dumpCallStack(info,f,stackTraceElements);
        if (info.getThreadName().equals("AWT-EventQueue-1")) {
          if (myStacktraceCommonPart == null) {
            myStacktraceCommonPart=new ArrayList<StackTraceElement>();
            Collections.addAll(myStacktraceCommonPart,stackTraceElements);
          }
 else {
            updateStacktraceCommonPart(stackTraceElements);
          }
        }
      }
      dumpSuccessful=true;
    }
 catch (    IllegalAccessException e) {
      e.printStackTrace();
    }
catch (    InvocationTargetException e) {
      e.printStackTrace();
    }
catch (    IOException e) {
      e.printStackTrace();
    }
  }
}
