{
  final PsiElement nameSuggestionContext=file.findElementAt(editor.getCaretModel().getOffset());
  final RefactoringSupportProvider supportProvider=element != null ? LanguageRefactoringSupport.INSTANCE.forLanguage(element.getLanguage()) : null;
  return supportProvider != null && editor.getSettings().isVariableInplaceRenameEnabled() && supportProvider.isInplaceRenameAvailable(element,nameSuggestionContext);
}
