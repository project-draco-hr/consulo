{
  final PsiElement nameSuggestionContext=file.findElementAt(editor.getCaretModel().getOffset());
  RefactoringSupportProvider supportProvider=element == null ? null : LanguageRefactoringSupport.INSTANCE.forLanguage(element.getLanguage());
  return supportProvider != null && editor.getSettings().isVariableInplaceRenameEnabled() && supportProvider.isInplaceRenameAvailable(element,nameSuggestionContext);
}
