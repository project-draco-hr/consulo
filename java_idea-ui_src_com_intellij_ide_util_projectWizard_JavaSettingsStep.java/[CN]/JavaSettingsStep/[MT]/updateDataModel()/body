{
  super.updateDataModel();
  if (myModuleBuilder instanceof JavaModuleBuilder) {
    if (myCreateSourceRoot.isSelected()) {
      String contentEntryPath=myModuleBuilder.getContentEntryPath();
      if (contentEntryPath != null) {
        final String dirName=mySourcePath.getText().trim().replace(File.separatorChar,'/');
        PropertiesComponent.getInstance().setValue(MODULE_SOURCE_ROOT_KEY,dirName);
        String text=dirName.length() > 0 ? contentEntryPath + "/" + dirName : contentEntryPath;
        ((JavaModuleBuilder)myModuleBuilder).setSourcePaths(Collections.singletonList(Pair.create(text,"")));
      }
    }
 else {
      ((JavaModuleBuilder)myModuleBuilder).setSourcePaths(Collections.<Pair<String,String>>emptyList());
    }
  }
}
