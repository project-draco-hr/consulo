{
  final Graphics2D g=(Graphics2D)g2;
  final Rectangle arrowButtonBounds=arrowButton.getBounds();
  final int xxx=arrowButtonBounds.x - 5;
  if (editor != null) {
    final GraphicsConfig config=new GraphicsConfig(g);
    g.setRenderingHint(RenderingHints.KEY_ANTIALIASING,RenderingHints.VALUE_ANTIALIAS_ON);
    g.setRenderingHint(RenderingHints.KEY_STROKE_CONTROL,RenderingHints.VALUE_STROKE_NORMALIZE);
    g.setColor(editor.getBackground());
    g.fillRoundRect(x + 1,y + 1,width - 2,height - 2,5,5);
    g.setColor(arrowButton.getBackground());
    g.fillRoundRect(xxx,y + 1,width - xxx,height - 2,5,5);
    g.setColor(editor.getBackground());
    g.fillRect(xxx,y + 1,5,height - 2);
    config.restore();
  }
  g.setColor(ColorUtil.fromHex("939393"));
  int off=hasFocus ? 1 : 0;
  g.drawLine(xxx + 5,y + 1 + off,xxx + 5,height - 1 - 2 * off);
  if (hasFocus || (editor != null && editor.hasFocus())) {
    DarculaUIUtil.paintFocusRing(g,2,2,width - 4,height - 4);
  }
 else {
    g.setColor(ColorUtil.fromHex("939393"));
    final GraphicsConfig config=new GraphicsConfig(g);
    g.setRenderingHint(RenderingHints.KEY_ANTIALIASING,RenderingHints.VALUE_ANTIALIAS_ON);
    g.setRenderingHint(RenderingHints.KEY_STROKE_CONTROL,RenderingHints.VALUE_STROKE_NORMALIZE);
    g.drawRoundRect(1,1,width - 2,height - 2,5,5);
    config.restore();
  }
}
