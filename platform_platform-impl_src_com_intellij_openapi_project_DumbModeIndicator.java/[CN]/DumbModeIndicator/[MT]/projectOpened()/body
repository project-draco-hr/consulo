{
  myProject.getMessageBus().connect().subscribe(DumbService.DUMB_MODE,new DumbService.DumbModeListener(){
    BalloonHandler myHandler;
    public void beforeEnteringDumbMode(){
    }
    public void enteredDumbMode(){
      myAlarm.addRequest(new Runnable(){
        public void run(){
          myHandler=DumbService.getInstance(myProject).showDumbModeNotification("Index update is in progress...<br>" + "During this process some actions that require these indices won't be available.<br>" + "<a href=\'help\'>Click here for more info</a>");
        }
      }
,1000);
    }
    public void exitDumbMode(){
      myAlarm.cancelAllRequests();
      if (myHandler != null)       myHandler.hide();
      myHandler=null;
    }
  }
);
}
