{
  myProject.getMessageBus().connect().subscribe(DumbService.DUMB_MODE,new DumbService.DumbModeListener(){
    BalloonHandler myHandler;
    public void enteredDumbMode(){
      myAlarm.addRequest(new Runnable(){
        public void run(){
          myHandler=DumbService.getInstance(myProject).showDumbModeNotification("Updating indices...<br>" + "Some of advanced features (refactorings, usage search ) are temporarily unavailable");
        }
      }
,1000);
    }
    public void exitDumbMode(){
      myAlarm.cancelAllRequests();
      if (myHandler != null)       myHandler.hide();
      myHandler=null;
    }
  }
);
}
