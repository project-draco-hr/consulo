{
  final String pluginName=findPluginName(logMessage.getThrowable());
  final Object[] reporters=Extensions.getRootArea().getExtensionPoint(ErrorReportSubmitter.ERROR_HANDLER_EXTENSION_POINT).getExtensions();
  ErrorReportSubmitter submitter=null;
  for (int i=0; i < reporters.length; i++) {
    ErrorReportSubmitter reporter=(ErrorReportSubmitter)reporters[i];
    final PluginDescriptor descriptor=reporter.getPluginDescriptor();
    if (pluginName == null && descriptor == null || descriptor != null && Comparing.equal(pluginName,descriptor.getPluginName())) {
      submitter=reporter;
    }
  }
  return submitter;
}
