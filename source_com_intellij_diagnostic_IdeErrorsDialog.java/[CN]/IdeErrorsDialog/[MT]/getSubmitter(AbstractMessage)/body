{
  final PluginId pluginId=findPluginId(logMessage.getThrowable());
  final Object[] reporters=Extensions.getRootArea().getExtensionPoint(ExtensionPoints.ERROR_HANDLER).getExtensions();
  ErrorReportSubmitter submitter=null;
  for (  Object reporter1 : reporters) {
    ErrorReportSubmitter reporter=(ErrorReportSubmitter)reporter1;
    final PluginDescriptor descriptor=reporter.getPluginDescriptor();
    if (pluginId == null && descriptor == null || descriptor != null && Comparing.equal(pluginId,descriptor.getPluginId())) {
      submitter=reporter;
    }
  }
  return submitter;
}
