{
  if (contentType == null)   return null;
  int end=contentType.indexOf(';');
  String mimeType=end != -1 ? contentType.substring(0,end) : contentType;
  if (mimeType.length() == 0)   return null;
  for (  Language language : Language.getRegisteredLanguages()) {
    String[] types=language.getMimeTypes();
    for (    String type : types) {
      if (type.equalsIgnoreCase(mimeType)) {
        FileType fileType=getFileType(language);
        if (fileType != null) {
          return fileType;
        }
      }
    }
  }
  return null;
}
