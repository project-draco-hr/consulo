{
  final TreeElement last=getLastChildNode();
  if (last == null) {
    first.rawRemoveUpToWithoutNotifications(null,false);
    setFirstChildNode(first);
    while (true) {
      final TreeElement treeNext=first.getTreeNext();
      first.setTreeParent(this);
      if (treeNext == null)       break;
      first=treeNext;
    }
    setLastChildNode(first);
    first.setTreeParent(this);
  }
 else {
    last.rawInsertAfterMeWithoutNotifications(first);
  }
  DebugUtil.checkTreeStructure(this);
}
