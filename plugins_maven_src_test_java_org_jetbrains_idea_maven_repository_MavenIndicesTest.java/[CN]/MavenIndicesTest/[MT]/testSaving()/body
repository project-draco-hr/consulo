{
  MavenIndex i1=new MavenIndex("local",myDataTestFixture.getTestDataPath("local2"),MavenIndex.Kind.LOCAL);
  MavenIndex i2=new MavenIndex("remote","file:///" + myDataTestFixture.getTestDataPath("remote"),MavenIndex.Kind.REMOTE);
  myIndex.add(i1);
  myIndex.add(i2);
  myIndex.update(i1,myProject,new EmptyProgressIndicator());
  myIndex.update(i2,myProject,new EmptyProgressIndicator());
  myIndex.save();
  shutdownIndex();
  initIndex();
  myIndex.load();
  List<ArtifactInfo> result=myIndex.findByArtifactId("junit*");
  assertEquals(3,result.size());
  assertEquals("4.0",result.get(0).version);
  result=myIndex.findByArtifactId("jmock*");
  assertEquals(3,result.size());
  assertEquals("1.2.0",result.get(0).version);
}
