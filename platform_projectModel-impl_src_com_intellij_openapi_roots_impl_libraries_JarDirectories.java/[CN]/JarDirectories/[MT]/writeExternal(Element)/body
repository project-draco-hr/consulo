{
  for (  OrderRootType rootType : OrderRootType.getSortedRootTypes()) {
    Collection<String> directories=getDirectories(rootType);
    if (directories.isEmpty()) {
      continue;
    }
    final List<String> urls=new ArrayList<String>(directories);
    Collections.sort(urls,String.CASE_INSENSITIVE_ORDER);
    for (    String url : urls) {
      final Element jarDirElement=new Element(JAR_DIRECTORY_ELEMENT);
      jarDirElement.setAttribute(URL_ATTR,url);
      jarDirElement.setAttribute(RECURSIVE_ATTR,Boolean.toString(isRecursive(rootType,url)));
      if (!rootType.equals(DEFAULT_JAR_DIRECTORY_TYPE)) {
        jarDirElement.setAttribute(ROOT_TYPE_ATTR,rootType.getName());
      }
      element.addContent(jarDirElement);
    }
  }
}
