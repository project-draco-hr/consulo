{
  List<TextDescriptor> urls=new ArrayList<TextDescriptor>();
  final FileType[] fileTypes=FileTypeManager.getInstance().getRegisteredFileTypes();
  for (  FileType fileType : fileTypes) {
    final String[] extensions=FileTypeManager.getInstance().getAssociatedExtensions(fileType);
    for (    String extension : extensions) {
      for (int i=0; ; i++) {
        URL url=new URL(descriptionDirectory.toExternalForm() + "/" + prefix+ "."+ extension+ (i == 0 ? "" : Integer.toString(i))+ suffix);
        try {
          InputStream inputStream=url.openStream();
          inputStream.close();
          urls.add(new ResourceTextDescriptor(url));
        }
 catch (        IOException ioe) {
          break;
        }
      }
    }
  }
  if (urls.isEmpty()) {
    String[] children;
    Exception cause=null;
    try {
      URI uri=descriptionDirectory.toURI();
      children=uri.isOpaque() ? null : ObjectUtils.notNull(new File(uri).list(),ArrayUtil.EMPTY_STRING_ARRAY);
    }
 catch (    URISyntaxException e) {
      cause=e;
      children=null;
    }
catch (    IllegalArgumentException e) {
      cause=e;
      children=null;
    }
    LOG.error("URLs not found for available file types and prefix: '" + prefix + "', suffix: '"+ suffix+ "';"+ " in directory: '"+ descriptionDirectory+ "'"+ (children == null ? "" : "; directory contents: " + Arrays.asList(children)),cause);
    return new TextDescriptor[0];
  }
  return urls.toArray(new TextDescriptor[urls.size()]);
}
