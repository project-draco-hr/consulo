{
  myGroup=group;
  setModel(new AbstractListModel(){
    @Override public int getSize(){
      return myGroup.getItems().size();
    }
    @Override public Object getElementAt(    int index){
      return myGroup.getItems().get(index);
    }
  }
);
  setCellRenderer(new ColoredListCellRenderer(){
    @Override protected void customizeCellRenderer(    JList list,    Object value,    int index,    boolean selected,    boolean hasFocus){
      clear();
      PaletteItem item=(PaletteItem)value;
      setIcon(item.getIcon());
      append(item.getTitle(),SimpleTextAttributes.REGULAR_ATTRIBUTES);
      setToolTipText(item.getTooltip());
    }
  }
);
  setVisibleRowCount(0);
  setLayoutOrientation(HORIZONTAL_WRAP);
  setSelectionMode(ListSelectionModel.SINGLE_SELECTION);
  initActions();
}
