{
  super.setContext(evaluationContext);
  ApplicationManager.getApplication().runReadAction(new Runnable(){
    public void run(){
      final PsiElement contextElement=PositionUtil.getContextElement(evaluationContext.getSuspendContext());
      final List<CodeFragmentFactory> codeFragmentFactories=DebuggerUtilsEx.getCodeFragmentFactories(contextElement);
      myContextCodeFragmentFactory=codeFragmentFactories.get(0);
    }
  }
);
}
