{
  if (!SystemInfo.areSymLinksSupported)   return;
  final File targetDir1=FileUtil.createTempDirectory("targetDir1","");
  final File targetDir2=FileUtil.createTempDirectory("targetDir2","");
  assertTrue(new File(targetDir1,"child1.txt").createNewFile());
  assertTrue(new File(targetDir2,"child11.txt").createNewFile());
  assertTrue(new File(targetDir2,"child12.txt").createNewFile());
  final File link=createTempLink(targetDir1.getAbsolutePath(),"link");
  VirtualFile vLink=refreshAndFind(link);
  assertTrue("link=" + link + ", vLink="+ vLink,vLink != null && vLink.isDirectory() && vLink.isSymLink());
  assertEquals(1,vLink.getChildren().length);
  assertTrue(link.toString(),link.delete());
  createTempLink(targetDir2.getAbsolutePath(),link.getName());
  vLink=refreshAndFind(link);
  assertTrue("link=" + link + ", vLink="+ vLink,vLink != null && vLink.isDirectory() && vLink.isSymLink());
  assertEquals(2,vLink.getChildren().length);
}
