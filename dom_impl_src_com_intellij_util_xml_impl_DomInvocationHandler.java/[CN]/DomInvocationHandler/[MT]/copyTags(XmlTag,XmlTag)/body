{
  for (  PsiElement child : toTag.getChildren()) {
    if (child instanceof XmlAttribute || child instanceof XmlTag) {
      child.delete();
    }
  }
  PsiElement child=fromTag.getFirstChild();
  boolean hasChildren=false;
  while (child != null) {
    if (child instanceof XmlTag) {
      final XmlTag xmlTag=(XmlTag)child;
      if (!StringUtil.isEmpty(xmlTag.getName())) {
        copyTags(xmlTag,(XmlTag)toTag.add(toTag.createChildTag(xmlTag.getLocalName(),xmlTag.getNamespace(),"",false)));
        hasChildren=true;
      }
    }
 else     if (child instanceof XmlAttribute) {
      toTag.add(child);
    }
    child=child.getNextSibling();
  }
  if (!hasChildren) {
    toTag.getValue().setText(fromTag.getValue().getText());
  }
}
