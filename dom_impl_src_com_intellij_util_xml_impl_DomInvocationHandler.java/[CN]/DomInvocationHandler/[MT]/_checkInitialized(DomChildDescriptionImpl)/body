{
  if (myInitializedChildren.contains(description))   return;
  r.unlock();
  if (!isValid()) {
    throw new RuntimeException("element " + myType.toString() + " is not valid",myInvalidated);
  }
  w.lock();
  try {
    if (myInitializedChildren.contains(description))     return;
    final EvaluatedXmlName evaluatedXmlName=createEvaluatedXmlName(description.getXmlName());
    if (description instanceof AttributeChildDescriptionImpl) {
      final AttributeChildDescriptionImpl attributeChildDescription=(AttributeChildDescriptionImpl)description;
      myAttributeChildren.put(attributeChildDescription,new AttributeChildInvocationHandler(description.getType(),myXmlTag,this,evaluatedXmlName,attributeChildDescription,myManager));
    }
 else     if (description instanceof FixedChildDescriptionImpl) {
      final FixedChildDescriptionImpl fixedChildDescription=(FixedChildDescriptionImpl)description;
      final int count=fixedChildDescription.getCount();
      for (int i=0; i < count; i++) {
        getOrCreateIndexedChild(findSubTag(myXmlTag,evaluatedXmlName,i),evaluatedXmlName,Pair.create(fixedChildDescription,i));
      }
    }
 else     if (myXmlTag != null && description instanceof CollectionChildDescriptionImpl) {
      for (      XmlTag subTag : DomImplUtil.findSubTags(myXmlTag,evaluatedXmlName,this)) {
        new CollectionElementInvocationHandler(description.getType(),evaluatedXmlName,subTag,(CollectionChildDescriptionImpl)description,this);
      }
    }
    myInitializedChildren.add(description);
  }
  finally {
    r.lock();
    w.unlock();
  }
}
