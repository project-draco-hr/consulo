{
  if (myInitializedChildren.contains(description))   return;
  final List<XmlTag> subTags;
  final XmlTag tag=getXmlTag();
  if (tag != null && description instanceof FixedChildDescriptionImpl) {
    subTags=DomImplUtil.findSubTags(tag,createEvaluatedXmlName(((DomChildDescriptionImpl)description).getXmlName()),this);
  }
 else   if (tag != null && description instanceof AbstractCollectionChildDescription) {
    subTags=((AbstractCollectionChildDescription)description).getSubTags(this);
  }
 else {
    subTags=Collections.emptyList();
  }
  r.unlock();
  w.lock();
  try {
    if (myInitializedChildren.contains(description))     return;
    if (description instanceof AttributeChildDescriptionImpl) {
      final AttributeChildDescriptionImpl attributeChildDescription=(AttributeChildDescriptionImpl)description;
      final EvaluatedXmlName evaluatedXmlName=createEvaluatedXmlName(attributeChildDescription.getXmlName());
      myAttributeChildren.put(attributeChildDescription,new AttributeChildInvocationHandler(description.getType(),myXmlTag,this,evaluatedXmlName,attributeChildDescription,myManager));
    }
 else     if (description instanceof FixedChildDescriptionImpl) {
      final FixedChildDescriptionImpl fixedChildDescription=(FixedChildDescriptionImpl)description;
      final EvaluatedXmlName evaluatedXmlName=createEvaluatedXmlName(fixedChildDescription.getXmlName());
      final int count=fixedChildDescription.getCount();
      for (int i=0; i < count; i++) {
        getOrCreateIndexedChild(findSubTag(subTags,i),evaluatedXmlName,Pair.create(fixedChildDescription,i));
      }
    }
 else     if (myXmlTag != null && description instanceof AbstractCollectionChildDescription) {
      final AbstractCollectionChildDescription childDescription=(AbstractCollectionChildDescription)description;
      for (      XmlTag subTag : subTags) {
        new CollectionElementInvocationHandler(description.getType(),subTag,childDescription,this);
      }
    }
    myInitializedChildren.add(description);
  }
  finally {
    r.lock();
    w.unlock();
  }
}
