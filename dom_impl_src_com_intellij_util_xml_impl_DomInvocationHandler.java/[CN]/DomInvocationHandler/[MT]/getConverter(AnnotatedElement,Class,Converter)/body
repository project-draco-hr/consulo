{
  final Resolve resolveAnnotation=annotationProvider.getAnnotation(Resolve.class);
  if (resolveAnnotation != null) {
    final Class<? extends DomElement> aClass=resolveAnnotation.value();
    if (!DomElement.class.equals(aClass)) {
      return DomResolveConverter.createConverter(aClass);
    }
 else {
      LOG.assertTrue(parameter != null,"You should specify @Resolve#value() parameter");
      return DomResolveConverter.createConverter(parameter);
    }
  }
  final Convert convertAnnotation=annotationProvider.getAnnotation(Convert.class);
  final ConverterManager converterManager=myManager.getConverterManager();
  if (convertAnnotation != null) {
    if (convertAnnotation instanceof ConvertAnnotationImpl) {
      return ((ConvertAnnotationImpl)convertAnnotation).getConverter();
    }
    return converterManager.getConverterInstance(convertAnnotation.value());
  }
  if (defaultConverter != null) {
    return defaultConverter;
  }
  return parameter == null ? null : converterManager.getConverterByClass(parameter);
}
