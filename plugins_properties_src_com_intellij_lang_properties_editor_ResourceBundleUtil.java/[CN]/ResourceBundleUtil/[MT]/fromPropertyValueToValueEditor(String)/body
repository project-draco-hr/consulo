{
  StringBuilder buffer=new StringBuilder();
  boolean escaped=false;
  for (int i=0; i < text.length(); i++) {
    char c=text.charAt(i);
    if (c == ESCAPE_SYMBOL && !escaped) {
      char[] unicodeSymbols=parseUnicodeLiteral(text,i + 1);
      if (unicodeSymbols != null) {
        buffer.append(unicodeSymbols);
        i+=5;
      }
 else {
        escaped=true;
      }
      continue;
    }
    if (escaped && c == 'n') {
      buffer.append(ESCAPE_SYMBOL);
    }
    buffer.append(c);
    escaped=false;
  }
  return buffer.toString();
}
