{
  FileInputStream stream=new FileInputStream(path);
  try {
    boolean error=false;
    boolean afterSymbol=false;
    boolean afterDelimiter=false;
    while (stream.available() > 0) {
      char read=(char)stream.read();
      if (read == '/') {
        afterSymbol=true;
        continue;
      }
      if (afterSymbol) {
        if (afterDelimiter) {
          error=read == ERROR[0];
          afterSymbol=false;
          afterDelimiter=false;
          continue;
        }
        if (read != DELIMITER) {
          if (error) {
            err.write("/".getBytes());
            err.write(read);
          }
 else {
            out.write("/".getBytes());
            out.write(read);
          }
          afterSymbol=false;
          afterDelimiter=false;
          continue;
        }
 else {
          afterDelimiter=true;
          continue;
        }
      }
      if (error) {
        err.write(read);
      }
 else {
        out.write(read);
      }
    }
  }
  finally {
    if (stream != null)     stream.close();
  }
}
