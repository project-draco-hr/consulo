{
  myDebugName=debugName;
  myLanguage=language == null ? Language.ANY : language;
  myLanguageVersion=languageVersion == null ? LanguageVersionResolvers.INSTANCE.forLanguage(myLanguage).getLanguageVersion(myLanguage,null,null) : languageVersion;
  if (register) {
    myIndex=ourCounter++;
    LOG.assertTrue(ourCounter < MAX_INDEXED_TYPES,"Too many element types registered. Out of (short) range.");
synchronized (ourRegistry) {
      ourRegistry.add(this);
    }
  }
 else {
    myIndex=-1;
  }
}
