{
  Properties executionProperties=myEmbedderSettings.getProperties();
  if (executionProperties == null)   executionProperties=new Properties();
  DefaultEventDispatcher dispatcher=new DefaultEventDispatcher();
  dispatcher.addEventMonitor(new DefaultEventMonitor(myLogger));
  MavenExecutionRequest result=new DefaultMavenExecutionRequest(myLocalRepository,mySettings,dispatcher,goals,file.getParent(),createProfileManager(activeProfiles,inactiveProfiles,executionProperties),executionProperties,new Properties(),true){
    private boolean myIsRecursive;
    @Override public boolean isRecursive(){
      return myIsRecursive;
    }
    @Override public void setRecursive(    final boolean recursive){
      myIsRecursive=recursive;
    }
  }
;
  result.setPomFile(file.getPath());
  result.setRecursive(myEmbedderSettings.isRecursive());
  return result;
}
