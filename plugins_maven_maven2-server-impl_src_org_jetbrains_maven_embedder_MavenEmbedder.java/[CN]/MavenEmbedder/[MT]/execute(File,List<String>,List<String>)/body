{
  try {
    MavenExecutionRequest request=createRequest(file,activeProfiles,Collections.<String>emptyList(),goals);
    Maven maven=getComponent(Maven.class);
    Method method=maven.getClass().getDeclaredMethod("doExecute",MavenExecutionRequest.class,EventDispatcher.class);
    method.setAccessible(true);
    ReactorManager reactor=(ReactorManager)method.invoke(maven,request,request.getEventDispatcher());
    return new MavenExecutionResult(reactor.getTopLevelProject(),Collections.<Exception>emptyList());
  }
 catch (  InvocationTargetException e) {
    return handleException(e.getTargetException());
  }
catch (  NoSuchMethodException e) {
    throw new RuntimeException(e);
  }
catch (  IllegalAccessException e) {
    throw new RuntimeException(e);
  }
}
