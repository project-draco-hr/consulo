{
  myDelegateGraph=delegateGraph;
  myVisibleNodes=new BitSetFlags(delegateGraph.nodesCount());
  for (int i=0; i < delegateGraph.nodesCount(); i++) {
    myVisibleNodes.set(i,delegateGraph.nodeIsVisible(i) && isVisibleNode.value(i));
  }
  MultiMap<Integer,Integer> edges=DottedEdgesComputer.compute(myDelegateGraph,myVisibleNodes);
  myDottedEdges=DottedEdges.newInstance(edges);
  addUpdateListener();
}
