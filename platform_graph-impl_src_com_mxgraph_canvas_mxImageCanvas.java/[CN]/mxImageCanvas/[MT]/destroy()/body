{
  BufferedImage tmp=image;
  if (canvas.getGraphics() != null) {
    canvas.getGraphics().dispose();
  }
  canvas.setGraphics(previousGraphics);
  previousGraphics=null;
  canvas=null;
  image=null;
  return tmp;
}
