{
  if (reference == null) {
    return;
  }
  final PsiElement qualifier=reference.getQualifier();
  if (qualifier instanceof PsiJavaCodeReferenceElement) {
    final PsiJavaCodeReferenceElement qualifierReference=(PsiJavaCodeReferenceElement)qualifier;
    checkReferenceElement(qualifierReference,true);
  }
  final PsiType[] typeParameters=reference.getTypeParameters();
  if (typeParameters.length > 0) {
    return;
  }
  final PsiElement element=reference.resolve();
  if (!(element instanceof PsiClass)) {
    return;
  }
  final PsiClass aClass=(PsiClass)element;
  if (isQualifier) {
    final PsiJavaCodeReferenceElement parent=(PsiJavaCodeReferenceElement)reference.getParent();
    final PsiElement referee=parent.resolve();
    if (referee instanceof PsiClass) {
      final PsiClass innerClass=(PsiClass)referee;
      if (innerClass.hasModifierProperty(PsiModifier.STATIC) || innerClass.isInterface()) {
        return;
      }
    }
  }
  if (!aClass.hasTypeParameters()) {
    return;
  }
  registerError(reference);
}
