{
  final PsiManager manager=newExpression.getManager();
  final LanguageLevel languageLevel=manager.getEffectiveLanguageLevel();
  if (languageLevel.equals(LanguageLevel.JDK_1_3) || languageLevel.equals(LanguageLevel.JDK_1_4)) {
    return;
  }
  super.visitNewExpression(newExpression);
  final PsiJavaCodeReferenceElement classReference=newExpression.getClassReference();
  if (classReference == null) {
    return;
  }
  if (newExpression.getTypeArgumentList() != null) {
    return;
  }
  final PsiElement referent=classReference.resolve();
  if (!(referent instanceof PsiClass)) {
    return;
  }
  final PsiClass referredClass=(PsiClass)referent;
  if (!referredClass.hasTypeParameters()) {
    return;
  }
  registerError(classReference);
}
