{
  PsiManager manager=aClass.getManager();
  PsiSearchHelper helper=manager.getSearchHelper();
  if (type == SUBCLASSED_CLASS) {
    PsiElementProcessor.CollectElementsWithLimit<PsiClass> processor=new PsiElementProcessor.CollectElementsWithLimit<PsiClass>(5);
    GlobalSearchScope scope=GlobalSearchScope.allScope(manager.getProject());
    helper.processInheritors(processor,aClass,scope,false);
    if (processor.isOverflow()) {
      return aClass.isInterface() ? "Has implementations" : "Has subclasses";
    }
    PsiClass[] subclasses=processor.toArray(new PsiClass[processor.getCollection().size()]);
    if (subclasses.length == 0)     return null;
    Comparator comparator=new PsiClassListCellRenderer().getComparator();
    Arrays.sort(subclasses,comparator);
    String start=aClass.isInterface() ? "Is implemented by<br>" : "Is subclassed by<br>";
    String pattern="&nbsp;&nbsp;&nbsp;&nbsp;{0}";
    return composeText(subclasses,start,pattern);
  }
 else   if (type == BOUND_CLASS_OR_FIELD) {
    if (aClass.getQualifiedName() != null) {
      PsiFile[] formFiles=helper.findFormsBoundToClass(aClass.getQualifiedName());
      return composeText(formFiles,"UI is bound in<br>","&nbsp;&nbsp;&nbsp;&nbsp;{0}");
    }
  }
  return null;
}
