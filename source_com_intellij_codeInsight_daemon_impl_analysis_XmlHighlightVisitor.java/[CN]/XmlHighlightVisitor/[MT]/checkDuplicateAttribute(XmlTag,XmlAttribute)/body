{
  XmlAttribute[] attributes=tag.getAttributes();
  for (int i=0; i < attributes.length; i++) {
    XmlAttribute tagAttribute=attributes[i];
    if (attribute != tagAttribute && Comparing.strEqual(attribute.getName(),tagAttribute.getName())) {
      final String localName=attribute.getLocalName();
      final HighlightInfo highlightInfo=HighlightInfo.createHighlightInfo(HighlightInfoType.WRONG_REF,XmlChildRole.ATTRIBUTE_NAME_FINDER.findChild(SourceTreeToPsiMap.psiElementToTree(attribute)),"Duplicate attribute " + localName);
      myResult.add(highlightInfo);
      IntentionAction intentionAction=new IntentionAction(){
        public String getText(){
          return "Remove Duplicated Attribute";
        }
        public String getFamilyName(){
          return "Remove Duplicated Attribute";
        }
        public boolean isAvailable(        Project project,        Editor editor,        PsiFile file){
          return true;
        }
        public void invoke(        final Project project,        final Editor editor,        final PsiFile file) throws IncorrectOperationException {
          attribute.delete();
        }
        public boolean startInWriteAction(){
          return true;
        }
      }
;
      QuickFixAction.registerQuickFixAction(highlightInfo,intentionAction);
    }
  }
}
