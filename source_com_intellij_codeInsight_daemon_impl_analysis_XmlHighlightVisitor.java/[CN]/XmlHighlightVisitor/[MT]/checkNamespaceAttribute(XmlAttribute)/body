{
  String namespace=null;
  if (attribute.isNamespaceDeclaration()) {
    namespace=attribute.getValue();
  }
  if (namespace == null || namespace.length() < 1 || ExternalResourceManagerEx.getInstanceEx().isIgnoredResource(namespace))   return;
  final XmlTag declarationTag=attribute.getParent();
  if (declarationTag.getNSDescriptor(namespace,true) != null)   return;
  String attributeValue=declarationTag.getAttributeValue("targetNamespace");
  if (attributeValue != null && attributeValue.equals(namespace)) {
    return;
  }
  final XmlAttributeValue element=attribute.getValueElement();
  if (element == null)   return;
  final int start=element.getTextRange().getStartOffset() + 1;
  int end=element.getTextRange().getEndOffset() - 1;
  reportURIProblem(start,end);
}
