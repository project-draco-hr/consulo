{
  boolean htmlTag=false;
  if (tag instanceof HtmlTag) {
    htmlTag=true;
    if (isAdditionallyDeclared(additional,name))     return;
  }
  if (htmlTag && mySettings.getInspectionProfile(tag).isToolEnabled(key)) {
    addElementsForTagWithManyQuickFixes(tag,localizedMessage,myResult,type,new IntentionAction[]{new AddHtmlTagOrAttributeToCustoms(name,type),new SwitchOffToolAction(key),basicIntention});
  }
 else   if (!htmlTag) {
    addElementsForTag(tag,localizedMessage,myResult,HighlightInfoType.WRONG_REF,basicIntention);
  }
}
