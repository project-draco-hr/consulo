{
  PsiReference[] references=value.getReferences();
  for (int i=0; i < references.length; i++) {
    final PsiReference reference=references[i];
    if (reference != null) {
      if (!reference.isSoft() && reference.resolve() == null) {
        final String message;
        if (reference instanceof GenericReference)         message=((GenericReference)reference).getUnresolvedMessage();
 else         message=UNKNOWN_SYMBOL;
        HighlightInfo info=HighlightInfo.createHighlightInfo(HighlightInfoType.WRONG_REF,reference.getElement().getTextRange().getStartOffset() + reference.getRangeInElement().getStartOffset(),reference.getElement().getTextRange().getStartOffset() + reference.getRangeInElement().getEndOffset(),MessageFormat.format(message,new Object[]{reference.getCanonicalText()}));
        myResult.add(info);
        quickFixProvider.registerQuickfix(info,reference);
        if (reference instanceof QuickFixProvider)         ((QuickFixProvider)reference).registerQuickfix(info,reference);
      }
    }
  }
}
