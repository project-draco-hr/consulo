{
  final String text=element.getErrorDescription();
  if (text != null && text.startsWith(XmlErrorMessages.message("unescaped.ampersand"))) {
    QuickFixAction.registerQuickFixAction(highlightInfo,new IntentionAction(){
      public String getText(){
        return XmlErrorMessages.message("escape.ampersand.quickfix");
      }
      public String getFamilyName(){
        return getText();
      }
      public boolean isAvailable(      Project project,      Editor editor,      PsiFile file){
        return true;
      }
      public void invoke(      Project project,      Editor editor,      PsiFile file){
        if (!CodeInsightUtil.prepareFileForWrite(file))         return;
        final int textOffset=element.getTextOffset();
        editor.getDocument().replaceString(textOffset,textOffset + 1,AMP_ENTITY);
      }
      public boolean startInWriteAction(){
        return true;
      }
    }
,null);
  }
}
