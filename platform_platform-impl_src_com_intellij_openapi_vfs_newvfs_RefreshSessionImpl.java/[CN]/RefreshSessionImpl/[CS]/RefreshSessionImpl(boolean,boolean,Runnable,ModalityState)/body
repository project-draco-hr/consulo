{
  myIsAsync=async;
  myIsRecursive=recursive;
  myFinishRunnable=finishRunnable;
  myModalityState=modalityState;
  LOG.assertTrue(modalityState == ModalityState.NON_MODAL || modalityState != ModalityState.any(),"Refresh session should have a specific modality");
  if (modalityState == ModalityState.NON_MODAL) {
    myDumbModePermission=null;
    myStartTrace=null;
  }
 else {
    myDumbModePermission=DumbServiceImpl.getExplicitPermission(modalityState);
    myStartTrace=new Throwable();
  }
}
