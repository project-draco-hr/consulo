{
  PsiDocumentManager.getInstance(project).commitAllDocuments();
  if (!(file instanceof GroovyFileBase)) {
    String message=RefactoringBundle.getCannotRefactorMessage(GroovyRefactoringBundle.message("only.in.groovy.files"));
    showErrorMessage(message,project);
    return false;
  }
  int startOffset=editor.getSelectionModel().getSelectionStart();
  int endOffset=editor.getSelectionModel().getSelectionEnd();
  PsiDocumentManager.getInstance(project).commitAllDocuments();
  PsiElement[] statements=PsiElement.EMPTY_ARRAY;
  GrExpression expr=GroovyRefactoringUtil.findElementInRange(((GroovyFileBase)file),startOffset,endOffset,GrExpression.class);
  return false;
}
