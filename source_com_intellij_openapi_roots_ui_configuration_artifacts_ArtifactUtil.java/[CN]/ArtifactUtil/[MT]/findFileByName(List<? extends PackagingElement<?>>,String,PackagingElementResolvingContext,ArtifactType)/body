{
  for (  PackagingElement<?> element : elements) {
    if (element instanceof CompositePackagingElement && name.equals(((CompositePackagingElement<?>)element).getName()) || element instanceof FileCopyPackagingElement && name.equals(((FileCopyPackagingElement)element).getFileName())) {
      return element;
    }
    if (element instanceof ComplexPackagingElement) {
      final List<? extends PackagingElement<?>> substitution=((ComplexPackagingElement<?>)element).getSubstitution(context,artifactType);
      if (substitution != null) {
        final PackagingElement<?> packagingElement=findFileByName(substitution,name,context,artifactType);
        if (packagingElement != null) {
          return packagingElement;
        }
      }
    }
  }
  return null;
}
