{
  myCanceled=false;
  try {
    progress.checkCanceled();
    ((ProgressManagerImpl)ProgressManager.getInstance()).executeProcessUnderProgress(runnable,progress);
  }
 catch (  ProcessCanceledException e) {
    cancel();
    progress.cancel();
    onCancel.run();
    throw e;
  }
}
