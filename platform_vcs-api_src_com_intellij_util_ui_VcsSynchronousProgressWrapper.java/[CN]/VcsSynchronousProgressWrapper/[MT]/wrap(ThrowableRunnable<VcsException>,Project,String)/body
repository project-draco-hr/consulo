{
  final VcsException[] exc=new VcsException[1];
  final Runnable process=new Runnable(){
    @Override public void run(){
      try {
        runnable.run();
      }
 catch (      VcsException e) {
        exc[0]=e;
      }
    }
  }
;
  final boolean notCanceled;
  if (ApplicationManager.getApplication().isDispatchThread()) {
    notCanceled=ProgressManager.getInstance().runProcessWithProgressSynchronously(CancelHelper.getInstance(project).proxyRunnable(process),title,true,project);
  }
 else {
    process.run();
    notCanceled=true;
  }
  if (exc[0] != null) {
    AbstractVcsHelper.getInstance(project).showError(exc[0],title);
    return false;
  }
  return notCanceled;
}
