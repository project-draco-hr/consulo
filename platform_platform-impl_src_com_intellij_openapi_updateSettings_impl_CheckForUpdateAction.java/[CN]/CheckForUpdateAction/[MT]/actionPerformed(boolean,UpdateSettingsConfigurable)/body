{
  try {
    final UpdateChannel newVersion=UpdateChecker.checkForUpdates();
    final List<PluginDownloader> updatedPlugins=UpdateChecker.updatePlugins(true,settingsConfigurable);
    if (newVersion != null) {
      UpdateSettings.getInstance().LAST_TIME_CHECKED=System.currentTimeMillis();
      UpdateChecker.showUpdateInfoDialog(enableLink,newVersion,updatedPlugins);
    }
 else {
      UpdateChecker.showNoUpdatesDialog(enableLink,updatedPlugins,true);
    }
  }
 catch (  ConnectionException e) {
    Messages.showErrorDialog(IdeBundle.message("error.checkforupdates.connection.failed"),IdeBundle.message("title.connection.error"));
  }
}
