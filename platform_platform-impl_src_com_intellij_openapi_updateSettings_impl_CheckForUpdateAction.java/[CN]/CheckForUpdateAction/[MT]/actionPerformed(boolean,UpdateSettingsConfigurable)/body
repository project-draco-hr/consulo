{
  final CheckForUpdateResult result=UpdateChecker.checkForUpdates();
  final List<PluginDownloader> updatedPlugins=UpdateChecker.updatePlugins(true,settingsConfigurable);
  if (result.getState() == UpdateStrategy.State.CONNECTION_ERROR) {
    UpdateChecker.showConnectionErrorDialog();
    return;
  }
  if (result.getState() != UpdateStrategy.State.LOADED) {
    return;
  }
  if (result.hasNewBuildInSelectedChannel()) {
    UpdateSettings.getInstance().LAST_TIME_CHECKED=System.currentTimeMillis();
    UpdateChecker.showUpdateInfoDialog(enableLink,result.getUpdatedChannel(),updatedPlugins);
  }
 else {
    UpdateChecker.showNoUpdatesDialog(enableLink,updatedPlugins,true);
  }
}
