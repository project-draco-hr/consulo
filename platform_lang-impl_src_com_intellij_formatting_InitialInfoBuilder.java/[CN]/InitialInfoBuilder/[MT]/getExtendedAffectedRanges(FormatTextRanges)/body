{
  if (formatTextRanges == null)   return null;
  List<FormatTextRanges.FormatTextRange> ranges=formatTextRanges.getRanges();
  List<TextRange> extended=ContainerUtil.newArrayList();
  final int extendOffset=500;
  for (  FormatTextRanges.FormatTextRange textRange : ranges) {
    TextRange range=textRange.getTextRange();
    extended.add(new UnfairTextRange(range.getStartOffset() - extendOffset,range.getEndOffset() + extendOffset));
  }
  return extended;
}
