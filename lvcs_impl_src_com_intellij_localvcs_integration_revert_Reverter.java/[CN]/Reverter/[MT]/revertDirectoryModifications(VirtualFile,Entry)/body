{
  if (!parentFile.isDirectory()) {
    if (parentFile.getTimeStamp() != parentEntry.getTimestamp()) {
      parentFile.setBinaryContent(parentEntry.getContent().getBytes(),-1,parentEntry.getTimestamp());
    }
    return;
  }
  for (  VirtualFile f : parentFile.getChildren()) {
    Entry e=parentEntry.findChild(f.getName());
    if (e == null) {
      f.delete(null);
    }
 else {
      revertDirectoryModifications(f,e);
    }
  }
  for (  Entry e : parentEntry.getChildren()) {
    if (parentFile.findChild(e.getName()) == null)     restoreRecursively(parentFile,e);
  }
}
