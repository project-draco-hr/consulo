{
  TreeElement tryBlock=SourceTreeToPsiMap.psiElementToTree(getTryBlock());
  if (tryBlock != null) {
    PsiCatchSection[] catchSections=getCatchSections();
    if (catchSections.length == 0)     return PsiCodeBlock.EMPTY_ARRAY;
    boolean lastIncomplete=catchSections[catchSections.length - 1].getCatchBlock() == null;
    PsiCodeBlock[] blocks=new PsiCodeBlock[lastIncomplete ? catchSections.length - 1 : catchSections.length];
    for (int i=0; i < blocks.length; i++) {
      blocks[i]=catchSections[i].getCatchBlock();
    }
    return blocks;
  }
  return PsiCodeBlock.EMPTY_ARRAY;
}
