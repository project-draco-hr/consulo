{
  if (myProject == null) {
    throw new IllegalStateException("Navigation is not possible with null project");
  }
  if (myFile != null && myFile.isDirectory()) {
    final PsiDirectory directory=PsiManager.getInstance(myProject).findDirectory(myFile);
    if (directory != null) {
      directory.navigate(requestFocus);
      return;
    }
  }
  FileEditor fileEditor=openFileAskingType(myProject,requestFocus);
  if (fileEditor == null) {
    final SelectInTarget projectSelector=SelectInManager.getInstance(myProject).getTarget(SelectInManager.PROJECT);
    if (projectSelector != null) {
      projectSelector.selectIn(new SelectInContext(){
        @NotNull public Project getProject(){
          return myProject;
        }
        @NotNull public VirtualFile getVirtualFile(){
          return myFile;
        }
        @Nullable public Object getSelectorInFile(){
          return myFile.isValid() ? PsiManager.getInstance(myProject).findFile(myFile) : null;
        }
        @Nullable public FileEditorProvider getFileEditorProvider(){
          return null;
        }
      }
,true);
    }
  }
}
