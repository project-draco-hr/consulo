{
  final ListWrappingTableModel tableModel=table.getModel();
  tableModel.addRow();
  EventQueue.invokeLater(new Runnable(){
    public void run(){
      final int lastRowIndex=tableModel.getRowCount() - 1;
      final Rectangle rect=table.getCellRect(lastRowIndex,0,true);
      table.scrollRectToVisible(rect);
      table.editCellAt(lastRowIndex,0);
      final ListSelectionModel selectionModel=table.getSelectionModel();
      selectionModel.setSelectionInterval(lastRowIndex,lastRowIndex);
      final TableCellEditor editor=table.getCellEditor();
      final Component component=editor.getTableCellEditorComponent(table,null,true,lastRowIndex,0);
      component.requestFocus();
    }
  }
);
}
