{
  final JpsModule dep=addModule("dep");
  JpsModuleRootModificationUtil.addDependency(dep,createJDomLibrary(),JpsJavaDependencyScope.COMPILE,true);
  JpsModuleRootModificationUtil.addDependency(myModule,dep,JpsJavaDependencyScope.TEST,true);
  assertClassRoots(orderEntries(myModule).withoutSdk());
  assertClassRoots(orderEntries(myModule).withoutSdk().recursively(),getJDomJar());
  assertClassRoots(orderEntries(myModule).withoutSdk().exportedOnly().recursively(),getJDomJar());
  assertClassRoots(orderEntries(myModule).withoutSdk().productionOnly().recursively());
  assertClassRoots(orderEntries(myProject).withoutSdk(),getJDomJar());
  assertClassRoots(orderEntries(myProject).withoutSdk().productionOnly(),getJDomJar());
}
