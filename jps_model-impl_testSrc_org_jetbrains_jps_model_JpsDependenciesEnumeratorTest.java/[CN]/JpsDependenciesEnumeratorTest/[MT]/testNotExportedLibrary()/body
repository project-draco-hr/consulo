{
  final JpsModule dep=addModule("dep");
  JpsModuleRootModificationUtil.addDependency(dep,createJDomLibrary(),JpsJavaDependencyScope.COMPILE,false);
  JpsModuleRootModificationUtil.addDependency(myModule,createAsmLibrary(),JpsJavaDependencyScope.COMPILE,false);
  JpsModuleRootModificationUtil.addDependency(myModule,dep,JpsJavaDependencyScope.COMPILE,false);
  assertClassRoots(orderEntries(myModule).withoutSdk(),getAsmJar());
  assertClassRoots(orderEntries(myModule).withoutSdk().recursively(),getAsmJar(),getJDomJar());
  assertClassRoots(orderEntries(myModule).withoutSdk().recursively().exportedOnly(),getAsmJar());
  assertClassRoots(orderEntries(myModule).withoutSdk().exportedOnly().recursively());
}
