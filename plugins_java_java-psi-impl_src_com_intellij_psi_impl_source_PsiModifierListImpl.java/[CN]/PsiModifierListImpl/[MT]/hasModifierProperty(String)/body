{
  final PsiModifierListStub stub=getStub();
  if (stub != null) {
    return ModifierFlags.hasModifierProperty(name,stub.getModifiersMask());
  }
  IElementType type=NAME_TO_KEYWORD_TYPE_MAP.get(name);
  PsiElement parent=getParent();
  if (parent instanceof PsiClass) {
    PsiElement grandParent=parent.getParent();
    if (grandParent instanceof PsiClass && ((PsiClass)grandParent).isInterface()) {
      if (type == JavaTokenType.PUBLIC_KEYWORD) {
        return true;
      }
      if (type == null) {
        return false;
      }
      if (type == JavaTokenType.STATIC_KEYWORD) {
        return true;
      }
    }
    if (((PsiClass)parent).isInterface()) {
      if (type == JavaTokenType.ABSTRACT_KEYWORD) {
        return true;
      }
      if (grandParent instanceof PsiClass) {
        if (type == JavaTokenType.STATIC_KEYWORD) {
          return true;
        }
      }
    }
    if (((PsiClass)parent).isEnum()) {
      if (type == JavaTokenType.STATIC_KEYWORD) {
        if (!(grandParent instanceof PsiFile))         return true;
      }
 else       if (type == JavaTokenType.FINAL_KEYWORD) {
        final PsiField[] fields=((PsiClass)parent).getFields();
        for (        PsiField field : fields) {
          if (field instanceof PsiEnumConstant && ((PsiEnumConstant)field).getInitializingClass() != null)           return false;
        }
        return true;
      }
 else       if (type == JavaTokenType.ABSTRACT_KEYWORD) {
        final PsiMethod[] methods=((PsiClass)parent).getMethods();
        for (        PsiMethod method : methods) {
          if (method.hasModifierProperty(PsiModifier.ABSTRACT))           return true;
        }
        return false;
      }
    }
  }
 else   if (parent instanceof PsiMethod) {
    PsiClass aClass=((PsiMethod)parent).getContainingClass();
    if (aClass != null && aClass.isInterface()) {
      if (type == JavaTokenType.PUBLIC_KEYWORD) {
        return true;
      }
      if (type == null) {
        return false;
      }
      if (type == JavaTokenType.ABSTRACT_KEYWORD) {
        return getNode().findChildByType(JavaTokenType.DEFAULT_KEYWORD) == null;
      }
    }
  }
 else   if (parent instanceof PsiField) {
    if (parent instanceof PsiEnumConstant) {
      return type == JavaTokenType.PUBLIC_KEYWORD || type == JavaTokenType.STATIC_KEYWORD || type == JavaTokenType.FINAL_KEYWORD;
    }
 else {
      PsiClass aClass=((PsiField)parent).getContainingClass();
      if (aClass != null && aClass.isInterface()) {
        if (type == JavaTokenType.PUBLIC_KEYWORD) {
          return true;
        }
        if (type == null) {
          return false;
        }
        if (type == JavaTokenType.STATIC_KEYWORD) {
          return true;
        }
        if (type == JavaTokenType.FINAL_KEYWORD) {
          return true;
        }
      }
    }
  }
 else   if (parent instanceof PsiParameter) {
    if (type == JavaTokenType.FINAL_KEYWORD && ((PsiParameter)parent).getType() instanceof PsiDisjunctionType)     return true;
  }
 else   if (parent instanceof PsiResourceVariable) {
    if (type == JavaTokenType.FINAL_KEYWORD)     return true;
  }
  if (type == null) {
    return !hasModifierProperty(PsiModifier.PUBLIC) && !hasModifierProperty(PsiModifier.PRIVATE) && !hasModifierProperty(PsiModifier.PROTECTED);
  }
  return getNode().findChildByType(type) != null;
}
