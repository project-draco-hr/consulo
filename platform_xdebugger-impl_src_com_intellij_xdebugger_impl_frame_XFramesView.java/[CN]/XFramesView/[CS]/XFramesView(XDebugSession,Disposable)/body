{
  super(session,parentDisposable);
  myMainPanel=new JPanel(new BorderLayout());
  myFramesList=new XDebuggerFramesList(session.getProject());
  myFramesList.addListSelectionListener(new ListSelectionListener(){
    public void valueChanged(    final ListSelectionEvent e){
      if (e.getValueIsAdjusting())       return;
      processFrameSelection();
    }
  }
);
  myFramesList.addMouseListener(new MouseAdapter(){
    @Override public void mousePressed(    final MouseEvent e){
      int i=myFramesList.locationToIndex(e.getPoint());
      if (i != -1 && myFramesList.isSelectedIndex(i)) {
        processFrameSelection();
      }
    }
  }
);
  myMainPanel.add(ScrollPaneFactory.createScrollPane(myFramesList),BorderLayout.CENTER);
  myThreadComboBox=new JComboBox();
  myThreadComboBox.setRenderer(new ThreadComboBoxRenderer(myThreadComboBox));
  myThreadComboBox.addItemListener(new MyItemListener());
  myToolbar=createToolbar();
  myThreadsPanel=new Wrapper();
  CustomLineBorder border=new CustomLineBorder(CaptionPanel.CNT_ACTIVE_COLOR,0,0,1,0);
  myThreadsPanel.setBorder(border);
  myThreadsPanel.add(myToolbar.getComponent(),BorderLayout.EAST);
  myThreadsPanel.add(myThreadComboBox,BorderLayout.CENTER);
  myMainPanel.add(myThreadsPanel,BorderLayout.NORTH);
  rebuildView(SessionEvent.RESUMED);
}
