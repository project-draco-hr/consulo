{
  myProject=project;
  project.getMessageBus().connect().subscribe(ProjectTopics.MODIFICATION_TRACKER,new PsiModificationTracker.Listener(){
    public void modificationCountChanged(){
      if (!isInsideAtomicChange()) {
        clearCache();
      }
    }
  }
);
  ((PsiManagerEx)psiManager).registerRunnableToRunOnChange(new Runnable(){
    public void run(){
      if (!isInsideAtomicChange()) {
        clearCache();
      }
    }
  }
);
}
