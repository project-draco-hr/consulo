{
  return new PersistentHashMap<>(file,FileKeyDescriptor.INSTANCE,new DataExternalizer<T>(){
    @Override public void save(    final DataOutput out,    final T value) throws IOException {
      StateCache.this.write(value,out);
    }
    @Override public T read(    final DataInput in) throws IOException {
      return StateCache.this.read(in);
    }
  }
);
}
