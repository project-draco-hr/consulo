{
  Element componentRoot=findComponent(root,"ProjectModuleManager");
  if (componentRoot == null)   return;
  final Element modules=componentRoot.getChild("modules");
  List<Future<JpsModule>> futures=new ArrayList<Future<JpsModule>>();
  for (  Element moduleElement : JDOMUtil.getChildren(modules,"module")) {
    final String path=moduleElement.getAttributeValue("filepath");
    futures.add(ourThreadPool.submit(new Callable<JpsModule>(){
      @Override public JpsModule call() throws Exception {
        return loadModule(path);
      }
    }
));
  }
  try {
    for (    Future<JpsModule> future : futures) {
      myProject.addModule(future.get());
    }
  }
 catch (  Exception e) {
    throw new RuntimeException(e);
  }
}
