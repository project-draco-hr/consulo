{
  ArrayList<AbstractTreeNode> result=new ArrayList<AbstractTreeNode>();
  for (Iterator<AbstractTreeNode> iterator=children.iterator(); iterator.hasNext(); ) {
    ProjectViewNode treeNode=(ProjectViewNode)iterator.next();
    Object o=treeNode.getValue();
    if (o instanceof PsiJavaFile) {
      PsiJavaFile psiJavaFile=((PsiJavaFile)o);
      PsiClass[] classes=psiJavaFile.getClasses();
      final VirtualFile virtualFile=psiJavaFile.getVirtualFile();
      if (classes.length != 0 && virtualFile.getFileType() == StdFileTypes.JAVA) {
        for (int i=0; i < classes.length; i++) {
          PsiClass aClass=classes[i];
          result.add(new ClassTreeNode(myProject,aClass,((ProjectViewNode)parent).getSettings()));
        }
      }
 else {
        result.add(treeNode);
      }
    }
 else {
      result.add(treeNode);
    }
  }
  return result;
}
