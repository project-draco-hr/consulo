{
  myXsltFile.setText(s.getXsltFile());
  myXmlInputFile.getComboBox().setSelectedItem(s.getXmlInputFile());
  final VirtualFile xmlInputFile=s.findXmlInputFile();
  if (xmlInputFile != null) {
    final Module contextModule=ProjectRootManager.getInstance(s.getProject()).getFileIndex().getModuleForFile(xmlInputFile);
    if (contextModule != null) {
      myXmlDescriptor.putUserData(LangDataKeys.MODULE_CONTEXT,contextModule);
    }
 else {
      myXmlDescriptor.putUserData(LangDataKeys.MODULE_CONTEXT,s.getModule());
    }
  }
 else {
    myXmlDescriptor.putUserData(LangDataKeys.MODULE_CONTEXT,s.getModule());
  }
  myFileType.setSelectedItem(s.getFileType());
  myOutputFile.setText(s.myOutputFile);
  myOpenOutputFile.setSelected(s.myOpenOutputFile);
  myOpenInBrowser.setSelected(s.myOpenInBrowser);
  myParameters.setModel(new ParamTableModel(s.getParameters()));
  myVmArguments.setText(s.getVmArguments());
  myWorkingDirectory.setText(s.myWorkingDirectory);
  final Module module=s.getModule();
  if (module != null) {
    myModule.setSelectedItem(module);
    myXsltDescriptor.putUserData(LangDataKeys.MODULE_CONTEXT,module);
  }
 else {
    final VirtualFile xsltFile=s.findXsltFile();
    if (xsltFile != null) {
      myXsltDescriptor.putUserData(LangDataKeys.MODULE_CONTEXT,ProjectRootManager.getInstance(s.getProject()).getFileIndex().getModuleForFile(xsltFile));
    }
    myModule.setSelectedIndex(0);
  }
  myJDK.setSelectedItem(s.getJdk());
  mySmartErrorHandling.setSelected(s.mySmartErrorHandling);
  setSelectedIndex(myOutputOptions,s.getOutputType().ordinal());
  setSelectedIndex(myJdkOptions,s.getJdkChoice().ordinal());
}
