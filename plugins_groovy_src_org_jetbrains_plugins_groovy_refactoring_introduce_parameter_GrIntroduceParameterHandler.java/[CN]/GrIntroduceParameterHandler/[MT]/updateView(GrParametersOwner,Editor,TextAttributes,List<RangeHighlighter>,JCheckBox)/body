{
  final MarkupModel markupModel=editor.getMarkupModel();
  final TextRange textRange=selectedMethod.getTextRange();
  final RangeHighlighter rangeHighlighter=markupModel.addRangeHighlighter(textRange.getStartOffset(),textRange.getEndOffset(),HighlighterLayer.SELECTION - 1,attributes,HighlighterTargetArea.EXACT_RANGE);
  highlighters.add(rangeHighlighter);
  if (selectedMethod instanceof GrMethod) {
    superMethod.setText(USE_SUPER_METHOD_OF);
    superMethod.setEnabled(((GrMethod)selectedMethod).findDeepestSuperMethod() != null);
  }
 else {
    superMethod.setText(CHANGE_USAGES_OF);
    superMethod.setEnabled(findVariableToUse(selectedMethod) != null);
  }
}
