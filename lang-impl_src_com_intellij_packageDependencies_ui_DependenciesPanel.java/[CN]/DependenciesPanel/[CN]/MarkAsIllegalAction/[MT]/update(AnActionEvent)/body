{
  final Presentation presentation=e.getPresentation();
  presentation.setEnabled(false);
  final PackageDependenciesNode leftNode=myLeftTree.getSelectedNode();
  final PackageDependenciesNode rightNode=myRightTree.getSelectedNode();
  if (leftNode != null && rightNode != null) {
    final PatternDialectProvider provider=PatternDialectProvider.getInstance(DependencyUISettings.getInstance().SCOPE_TYPE);
    presentation.setEnabled((provider.createPackageSet(leftNode,true) != null || provider.createPackageSet(leftNode,false) != null) && (provider.createPackageSet(rightNode,true) != null || provider.createPackageSet(rightNode,false) != null));
  }
}
