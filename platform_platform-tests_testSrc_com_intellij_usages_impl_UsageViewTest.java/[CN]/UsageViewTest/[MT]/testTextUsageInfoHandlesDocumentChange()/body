{
  PsiFile psiFile=createFile("X.java","public class X{ int xxx; } //comment");
  Usage usage=new UsageInfo2UsageAdapter(new UsageInfo(psiFile,psiFile.getText().indexOf("xxx"),StringUtil.indexOfSubstringEnd(psiFile.getText(),"xxx")));
  UsageView usageView=UsageViewManager.getInstance(getProject()).createUsageView(UsageTarget.EMPTY_ARRAY,new Usage[]{usage},new UsageViewPresentation(),null);
  Disposer.register(getTestRootDisposable(),usageView);
  PsiDocumentManager documentManager=PsiDocumentManager.getInstance(getProject());
  Document document=documentManager.getDocument(psiFile);
  document.insertString(0,"/* sdfsdfsd */");
  documentManager.commitAllDocuments();
  int navigationOffset=((UsageInfo2UsageAdapter)usage).getUsageInfo().getNavigationOffset();
  assertEquals(psiFile.getText().indexOf("xxx"),navigationOffset);
}
