{
  final int length=stream.readInt();
  if (length == -1) {
    return null;
  }
  if (length == 0) {
    return "";
  }
  char[] chars=new char[length];
  byte[] bytes=new byte[length * 2];
  stream.readFully(bytes);
  for (int i=0, i2=0; i < length; i++, i2+=2) {
    chars[i]=(char)((bytes[i2] << 8) + bytes[i2 + 1]);
  }
  return StringFactory.createStringFromConstantArray(chars);
}
