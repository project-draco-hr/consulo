{
  fireBeforeFileDeletion(requestor,vFile);
  final VirtualFileDirectoryImpl parent=(VirtualFileDirectoryImpl)vFile.getParent();
  if (parent == null) {
    throw new IOException(VfsBundle.message("file.delete.root.error",vFile.getPresentableUrl()));
  }
  parent.removeChild((VirtualFileImpl)vFile);
  fireFileDeleted(requestor,vFile,vFile.getName(),parent);
}
