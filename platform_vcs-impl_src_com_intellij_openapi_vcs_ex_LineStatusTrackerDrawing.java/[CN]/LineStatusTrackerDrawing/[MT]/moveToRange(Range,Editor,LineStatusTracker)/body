{
  final Document document=tracker.getDocument();
  final int firstOffset=document.getLineStartOffset(Math.min(range.getOffset1(),document.getLineCount() - 1));
  editor.getCaretModel().moveToOffset(firstOffset);
  editor.getScrollingModel().scrollToCaret(ScrollType.CENTER);
  editor.getScrollingModel().runActionOnScrollingFinished(new Runnable(){
    public void run(){
      Point p=editor.visualPositionToXY(editor.offsetToVisualPosition(firstOffset));
      final JComponent editorComponent=editor.getContentComponent();
      final JLayeredPane layeredPane=editorComponent.getRootPane().getLayeredPane();
      p=SwingUtilities.convertPoint(editorComponent,0,p.y,layeredPane);
      showActiveHint(range,editor,p,tracker);
    }
  }
);
}
