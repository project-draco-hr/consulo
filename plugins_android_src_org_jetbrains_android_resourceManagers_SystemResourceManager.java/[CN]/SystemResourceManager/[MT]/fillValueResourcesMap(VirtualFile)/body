{
  final Resources roots=AndroidUtils.loadDomElement(myModule,valueResourceFile,Resources.class);
  if (roots == null) {
    return;
  }
  for (  ResourceType resType : ResourceType.values()) {
    Map<String,Set<VirtualFile>> map=myValueResourcesMap.get(resType);
    if (map == null) {
      map=new HashMap<String,Set<VirtualFile>>();
      myValueResourcesMap.put(resType,map);
    }
    for (    ResourceElement element : ResourceManager.getValueResources(resType.getName(),roots)) {
      final String name=element.getName().getValue();
      if (name != null) {
        Set<VirtualFile> fileSet=map.get(name);
        if (fileSet == null) {
          fileSet=new HashSet<VirtualFile>();
          map.put(name,fileSet);
        }
        fileSet.add(valueResourceFile);
      }
    }
  }
  PsiManager.getInstance(myModule.getProject()).dropResolveCaches();
  final XmlElement element=roots.getXmlElement();
  if (element != null) {
    final PsiFile file=element.getContainingFile();
    if (file != null) {
      InjectedLanguageManager.getInstance(myModule.getProject()).dropFileCaches(file);
    }
  }
}
