{
  if (myValueResourcesMap == null) {
    myValueResourcesMap=new HashMap<ResourceType,Map<String,Set<VirtualFile>>>();
    for (    VirtualFile valueResourceDir : getResourceSubdirs(ResourceFolderType.VALUES.getName())) {
      for (      final VirtualFile valueResourceFile : valueResourceDir.getChildren()) {
        if (!valueResourceFile.isDirectory() && valueResourceFile.getFileType().equals(StdFileTypes.XML)) {
          ApplicationManager.getApplication().runReadAction(new Runnable(){
            @Override public void run(){
              fillValueResourcesMap(valueResourceFile);
            }
          }
);
        }
      }
    }
  }
  return myValueResourcesMap;
}
