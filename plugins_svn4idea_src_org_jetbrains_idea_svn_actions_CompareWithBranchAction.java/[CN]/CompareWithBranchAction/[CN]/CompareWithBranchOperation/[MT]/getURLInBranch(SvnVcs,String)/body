{
  final SvnFileUrlMapping urlMapping=vcs.getSvnFileUrlMapping();
  final File file=new File(myVirtualFile.getPath());
  final SVNURL fileUrl=urlMapping.getUrlForFile(file);
  if (fileUrl == null) {
    return null;
  }
  final String fileUrlString=fileUrl.toString();
  final RootMixedInfo rootMixed=urlMapping.getWcRootForUrl(fileUrlString);
  if (rootMixed == null) {
    return null;
  }
  final SVNURL thisBranchForUrl=SvnUtil.getBranchForUrl(vcs,rootMixed.getFile(),fileUrlString);
  if (thisBranchForUrl == null) {
    return null;
  }
  final String relativePath=SVNPathUtil.getRelativePath(thisBranchForUrl.toString(),fileUrlString);
  return SVNURL.parseURIEncoded(SVNPathUtil.append(baseUrl,relativePath));
}
