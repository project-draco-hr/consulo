{
  final String className=myLayoutCodeGenerator.mapComponentClass(lwComponent.getComponentClassName());
  Class componentClass=getComponentClass(className,myLoader);
  final Type componentType=Type.getType(componentClass);
  final int componentLocal=generator.newLocal(componentType);
  myIdToLocalMap.put(lwComponent.getId(),new Integer(componentLocal));
  generator.newInstance(componentType);
  generator.dup();
  generator.invokeConstructor(componentType,Method.getMethod("void <init>()"));
  generator.storeLocal(componentLocal);
  generateFieldBinding(lwComponent,componentClass,generator,componentLocal);
  getComponentCodeGenerator(lwComponent).generateContainerLayout(lwComponent,generator,componentLocal);
  generateComponentProperties(lwComponent,componentType,generator,componentLocal);
  if (!(lwComponent.getParent() instanceof LwRootContainer)) {
    getComponentCodeGenerator(lwComponent.getParent()).generateComponentLayout(lwComponent,generator,componentLocal,parentLocal);
  }
  if (lwComponent instanceof LwContainer) {
    LwContainer container=(LwContainer)lwComponent;
    generateBorder(container,generator,componentLocal);
    for (int i=0; i < container.getComponentCount(); i++) {
      generateSetupCodeForComponent((LwComponent)container.getComponent(i),generator,componentLocal);
    }
  }
}
