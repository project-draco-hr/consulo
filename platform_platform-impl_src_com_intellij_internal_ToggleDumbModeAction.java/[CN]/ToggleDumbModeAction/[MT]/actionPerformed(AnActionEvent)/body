{
  if (myDumb) {
    myDumb=false;
  }
 else {
    myDumb=true;
    final Project project=CommonDataKeys.PROJECT.getData(e.getDataContext());
    if (project == null)     return;
    DumbServiceImpl.getInstance(project).queueTask(new DumbModeTask(){
      @Override public void performInDumbMode(      @NotNull ProgressIndicator indicator){
        while (myDumb) {
          indicator.checkCanceled();
          TimeoutUtil.sleep(100);
        }
      }
    }
);
  }
}
