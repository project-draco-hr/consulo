{
  return new JavaElementVisitor(){
    @Override public void visitMethodCallExpression(    PsiMethodCallExpression expression){
      PsiReferenceExpression methodExpression=expression.getMethodExpression();
      PsiElement resolved=methodExpression.resolve();
      if (!(resolved instanceof PsiMethod))       return;
      PsiMethod method=(PsiMethod)resolved;
      PsiClass clazz=method.getContainingClass();
      if (clazz == null)       return;
      String methodName=method.getName();
      if (CommonClassNames.JAVA_IO_FILE.equals(clazz.getQualifiedName()) && ("equals".equals(methodName) || "compareTo".equals(methodName) || "hashCode".equals(methodName))) {
        holder.registerProblem(methodExpression,MESSAGE,ProblemHighlightType.LIKE_DEPRECATED);
      }
    }
  }
;
}
