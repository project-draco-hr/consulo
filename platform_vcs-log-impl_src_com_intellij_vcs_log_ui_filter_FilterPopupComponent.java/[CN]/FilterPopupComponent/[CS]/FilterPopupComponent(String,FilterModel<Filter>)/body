{
  myFilterModel=filterModel;
  myFilterNameLabel=new JLabel(filterName + ": ");
  myFilterValueLabel=new JLabel(){
    @Override public String getText(){
      Filter filter=myFilterModel.getFilter();
      return filter == null ? ALL : FilterPopupComponent.this.getText(filter);
    }
  }
;
  setDefaultForeground();
  setFocusable(true);
  setBorder(UNFOCUSED_BORDER);
  setLayout(new BoxLayout(this,BoxLayout.X_AXIS));
  add(myFilterNameLabel);
  add(myFilterValueLabel);
  add(Box.createHorizontalStrut(GAP_BEFORE_ARROW));
  add(new JLabel(AllIcons.Ide.Statusbar_arrows));
  updateLabelOnFilterChange();
  showPopupMenuOnClick();
  showPopupMenuFromKeyboard();
  indicateHovering();
  indicateFocusing();
}
