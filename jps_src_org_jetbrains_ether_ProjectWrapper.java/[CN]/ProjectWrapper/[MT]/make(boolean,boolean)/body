{
  final List<Module> modules=new ArrayList<Module>();
  for (  Map.Entry<String,ModuleWrapper> entry : myModules.entrySet()) {
    if (force || entry.getValue().isOutdated(tests,myHistory))     modules.add(myProject.getModules().get(entry.getKey()));
  }
  if (modules.isEmpty() && !force) {
    System.out.println("All modules are up-to-date.");
    return;
  }
  System.out.println("Rebuilding modules:");
  for (  Module m : modules)   System.out.println("  " + m.getName());
  makeModules(modules,tests,force);
}
