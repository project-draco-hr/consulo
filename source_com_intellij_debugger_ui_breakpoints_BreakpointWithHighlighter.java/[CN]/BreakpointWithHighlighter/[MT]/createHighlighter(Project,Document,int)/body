{
  if (lineIndex < 0 || lineIndex >= document.getLineCount()) {
    return null;
  }
  EditorColorsScheme scheme=EditorColorsManager.getInstance().getGlobalScheme();
  TextAttributes attributes=scheme.getAttributes(DebuggerColors.BREAKPOINT_ATTRIBUTES);
  RangeHighlighter highlighter=((MarkupModelEx)document.getMarkupModel(project)).addPersistentLineHighlighter(lineIndex,HighlighterLayer.ADDITIONAL_SYNTAX + 1,attributes);
  if (!highlighter.isValid()) {
    return null;
  }
  highlighter.setErrorStripeTooltip("Breakpoint at line " + lineIndex);
  return highlighter;
}
