{
  final PsiElementFactory elementFactory=JavaPsiFacade.getElementFactory(myProject);
  return ApplicationManager.getApplication().runWriteAction(new Computable<PsiField>(){
    @Override public PsiField compute(){
      PsiField field=elementFactory.createField(myFieldName != null ? myFieldName : names[0],defaultType);
      field=anchor != null ? (PsiField)myParentClass.addBefore(field,anchor) : (PsiField)myParentClass.add(field);
      PsiUtil.setModifierProperty(field,PsiModifier.FINAL,myIntroduceFieldPanel.isDeclareFinal());
      return field;
    }
  }
);
}
