{
  if (modules.length == 0) {
    return VirtualFile.EMPTY_ARRAY;
  }
  final Set<VirtualFile> dirs=new OrderedSet<VirtualFile>();
  for (  Module module : modules) {
    for (    ContentFolderTypeProvider contentFolderType : ContentFolderTypeProvider.filter(ContentFolderScopes.productionAndTest())) {
      VirtualFile virtualFile=ModuleCompilerPathsManager.getInstance(module).getCompilerOutput(contentFolderType);
      if (virtualFile != null) {
        dirs.add(virtualFile);
      }
    }
  }
  return VfsUtilCore.toVirtualFileArray(dirs);
}
