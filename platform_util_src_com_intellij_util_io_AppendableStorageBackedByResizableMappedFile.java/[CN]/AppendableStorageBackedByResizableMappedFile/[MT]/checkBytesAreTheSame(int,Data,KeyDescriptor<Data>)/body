{
  final boolean[] sameValue=new boolean[1];
  OutputStream comparer;
  final PagedFileStorage storage=getPagedFileStorage();
  if (myFileLength <= addr) {
    comparer=new OutputStream(){
      int address=addr - myFileLength;
      boolean same=true;
      @Override public void write(      int b){
        if (same) {
          same=address < myBufferPosition && myAppendBuffer[address++] == (byte)b;
        }
      }
      @Override public void close(){
        sameValue[0]=same;
      }
    }
;
  }
 else {
    comparer=new OutputStream(){
      int base=addr;
      int address=storage.getOffsetInPage(addr);
      boolean same=true;
      ByteBuffer buffer=storage.getByteBuffer(addr,false);
      final int myPageSize=storage.myPageSize;
      @Override public void write(      int b){
        if (same) {
          if (myPageSize == address && address < myFileLength) {
            base+=address;
            buffer=storage.getByteBuffer(base,false);
            address=0;
          }
          same=address < myFileLength && buffer.get(address++) == (byte)b;
        }
      }
      @Override public void close(){
        sameValue[0]=same;
      }
    }
;
  }
  DataOutput out=new DataOutputStream(comparer);
  descriptor.save(out,value);
  comparer.close();
  return sameValue[0];
}
