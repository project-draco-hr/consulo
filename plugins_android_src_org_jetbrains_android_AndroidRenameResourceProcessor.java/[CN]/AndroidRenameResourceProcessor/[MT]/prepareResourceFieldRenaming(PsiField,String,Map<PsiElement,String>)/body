{
  new RenameJavaVariableProcessor().prepareRenaming(field,newName,allRenames);
  List<PsiElement> resources=AndroidResourceUtil.findResourcesByField(field);
  PsiElement res=resources.get(0);
  String resName=res instanceof XmlAttributeValue ? ((XmlAttributeValue)res).getValue() : ((PsiFile)res).getName();
  final String newResName=getResourceName(field.getProject(),newName,resName);
  for (  PsiElement resource : resources) {
    if (resource instanceof PsiFile) {
      PsiFile file=(PsiFile)resource;
      String extension=FileUtil.getExtension(file.getName());
      allRenames.put(resource,newResName + '.' + extension);
    }
 else     if (resource instanceof XmlAttributeValue) {
      XmlAttributeValue value=(XmlAttributeValue)resource;
      final String s=AndroidResourceUtil.isIdDeclaration(value) ? AndroidResourceUtil.NEW_ID_PREFIX + newResName : newResName;
      allRenames.put(new ValueResourceElementWrapper(value),s);
    }
  }
}
