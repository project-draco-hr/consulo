{
  return ApplicationManager.getApplication().runReadAction(new Computable<Boolean>(){
    public Boolean compute(){
      if (element instanceof PsiFile) {
        return AndroidFacet.getInstance(element) != null && AndroidResourceUtil.isInResourceSubdirectory((PsiFile)element,null);
      }
 else       if (element instanceof PsiField) {
        PsiField field=(PsiField)element;
        if (AndroidResourceUtil.isResourceField(field)) {
          return AndroidResourceUtil.findResourcesByField(field).size() > 0;
        }
      }
 else       if (element instanceof XmlAttributeValue) {
        LocalResourceManager manager=LocalResourceManager.getInstance(element);
        if (manager != null) {
          if (AndroidResourceUtil.isIdDeclaration((XmlAttributeValue)element)) {
            return true;
          }
          XmlTag tag=PsiTreeUtil.getParentOfType(element,XmlTag.class);
          return tag != null && manager.getValueResourceType(tag) != null;
        }
      }
      return false;
    }
  }
);
}
