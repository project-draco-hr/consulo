{
  if (myDelegate != null) {
    return myDelegate.xToVisualColumn(x);
  }
 else   if (myFoldRegion != null) {
    int[] column=getVisualColumnForXInsideFoldRegion(myFoldRegion,x - getStartX());
    column[0]+=getStartVisualColumn();
    return column;
  }
 else {
    boolean closerToStart=x < (getStartX() + getEndX()) / 2;
    return new int[]{myCurrentVisualColumn - (closerToStart ? 1 : 0),closerToStart ? 0 : 1};
  }
}
