{
  if (usage instanceof PsiElementUsage) {
    PsiElementUsage elementUsage=(PsiElementUsage)usage;
    UsageType usageType=getUsageType(elementUsage.getElement());
    if (usageType != null)     return new UsageTypeGroup(usageType);
    if (usage instanceof ReadWriteAccessUsage) {
      ReadWriteAccessUsage u=(ReadWriteAccessUsage)usage;
      if (u.isAccessedForWriting())       return new UsageTypeGroup(UsageType.WRITE);
      if (u.isAccessedForReading())       return new UsageTypeGroup(UsageType.READ);
    }
    return new UsageTypeGroup(UsageType.UNCLASSIFIED);
  }
  return null;
}
