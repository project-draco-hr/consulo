{
  File[] ioFiles=new File[files.length];
  SVNWCClient client;
  try {
    client=myVCS.createWCClient();
  }
 catch (  SVNException e) {
    throw new VcsException(e);
  }
  for (int i=0; i < files.length; i++) {
    ioFiles[i]=new File(files[i].getPath());
    try {
      SVNPropertyData property=client.doGetProperty(ioFiles[i],SVNProperty.NEEDS_LOCK,SVNRevision.WORKING,SVNRevision.WORKING,false);
      if (property == null || property.getValue() == null) {
        throw new VcsException("File '" + ioFiles[i].getName() + "' is readonly, but miss svn:needs-lock property");
      }
    }
 catch (    SVNException e) {
      throw new VcsException(e);
    }
  }
  SvnUtil.doLockFiles(myVCS.getProject(),myVCS,ioFiles,null);
}
