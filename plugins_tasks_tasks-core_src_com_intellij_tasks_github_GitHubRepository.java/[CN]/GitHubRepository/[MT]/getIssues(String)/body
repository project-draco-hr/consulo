{
  String url;
  if (!StringUtil.isEmpty(query)) {
    url=buildUrl("/search/") + "/open/";
    url+=encodeUrl(query);
  }
 else {
    url=buildUrl("/list/") + "/open";
  }
  HttpMethod method=doREST(url,false);
  InputStream stream=method.getResponseBodyAsStream();
  Element element=new SAXBuilder(false).build(stream).getRootElement();
  if (!"issues".equals(element.getName())) {
    LOG.warn("Error fetching issues for: " + url + ", HTTP status code: "+ method.getStatusCode());
    throw new Exception("Error fetching issues for: " + url + ", HTTP status code: "+ method.getStatusCode()+ "\n"+ element.getText());
  }
  return element.getChildren("issue");
}
