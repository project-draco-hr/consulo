{
  StringBuilder builder=new StringBuilder();
  Iterator<Pair<String,String>> it=params.iterator();
  while (it.hasNext()) {
    Pair<String,String> param=it.next();
    if (StringUtil.isEmpty(param.first))     throw new IllegalArgumentException(param.toString());
    if (StringUtil.isNotEmpty(param.second))     builder.append(param.first).append("=").append(URLEncoder.encode(param.second,ENCODING));
    if (it.hasNext())     builder.append(POST_DELIMITER);
  }
  return builder.toString().getBytes();
}
