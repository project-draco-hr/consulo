{
  HttpURLConnection connection=(HttpURLConnection)new URL(url).openConnection();
  connection.setReadTimeout(10 * 1000);
  connection.setConnectTimeout(10 * 1000);
  connection.setRequestMethod(HTTP_POST);
  connection.setDoInput(true);
  connection.setDoOutput(true);
  connection.setRequestProperty(HTTP_CONTENT_TYPE,HTTP_WWW_FORM);
  StringBuilder buffer=new StringBuilder();
  for (  Pair<String,String> param : params) {
    if (StringUtil.isEmpty(param.first))     throw new IllegalArgumentException(param.toString());
    if (StringUtil.isNotEmpty(param.second))     buffer.append(param.first + "=" + URLEncoder.encode(param.second,ENCODE)+ POST_DELIMITER);
  }
  connection.setRequestProperty(HTTP_CONTENT_LENGTH,Integer.toString(buffer.length()));
  connection.getOutputStream().write(buffer.toString().getBytes());
  return connection;
}
