{
  final String newValue=((JTextField)editorComponent).getText();
  final TreePath path=getEditingPath();
  final Object node=getNodeFor(path);
  CompositePackagingElement currentElement=null;
  if (node instanceof PackagingElementNode) {
    final PackagingElement<?> element=((PackagingElementNode)node).getElementIfSingle();
    if (element instanceof CompositePackagingElement) {
      currentElement=(CompositePackagingElement)element;
    }
  }
  final boolean stopped=super.stopCellEditing();
  if (stopped && currentElement != null) {
    currentElement.rename(newValue);
    myArtifactsEditor.queueValidation();
    addSubtreeToUpdate((DefaultMutableTreeNode)path.getLastPathComponent());
  }
  return stopped;
}
