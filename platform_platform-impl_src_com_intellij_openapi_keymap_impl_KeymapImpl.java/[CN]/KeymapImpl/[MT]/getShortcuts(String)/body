{
  LinkedHashSet<Shortcut> shortcuts=myActionId2ListOfShortcuts.get(actionId);
  KeymapManagerEx keymapManager=getKeymapManager();
  boolean hasBoundedAction=keymapManager.getBoundActions().contains(actionId);
  if (hasBoundedAction && (shortcuts == null || shortcuts.isEmpty())) {
    return getShortcuts(keymapManager.getActionBinding(actionId));
  }
  if (shortcuts == null) {
    if (myParent != null) {
      return getParentShortcuts(actionId);
    }
 else {
      return ourEmptyShortcutsArray;
    }
  }
  return shortcuts.isEmpty() ? ourEmptyShortcutsArray : shortcuts.toArray(new Shortcut[shortcuts.size()]);
}
