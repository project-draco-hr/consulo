{
  KeymapImpl newKeymap=new KeymapImpl();
  newKeymap.myParent=myParent;
  newKeymap.myName=myName;
  newKeymap.myCanModify=canModify();
  newKeymap.myKeystroke2ListOfIds=null;
  newKeymap.myMouseShortcut2ListOfIds=null;
  THashMap actionsIdsToListOfShortcuts=new THashMap();
  for (  String key : myActionId2ListOfShortcuts.keySet()) {
    ArrayList<Shortcut> list=myActionId2ListOfShortcuts.get(key);
    actionsIdsToListOfShortcuts.put(key,list.clone());
  }
  newKeymap.myActionId2ListOfShortcuts=actionsIdsToListOfShortcuts;
  if (copyExternalInfo) {
    newKeymap.myExternalInfo.copy(myExternalInfo);
  }
  return newKeymap;
}
