{
  final ModifiableRootModel rootModel=ModuleRootManager.getInstance(myModule).getModifiableModel();
  final String commonPath=PathManagerEx.getTestDataPath().replace(File.separatorChar,'/') + "/psi/types/src";
  final VirtualFile[] commonRoot=new VirtualFile[]{null};
  ApplicationManager.getApplication().runWriteAction(new Runnable(){
    @Override public void run(){
      commonRoot[0]=LocalFileSystem.getInstance().refreshAndFindFileByPath(commonPath);
    }
  }
);
  final ContentEntry commonContentEntry=rootModel.addContentEntry(commonRoot[0]);
  commonContentEntry.addSourceFolder(commonRoot[0],false);
  return rootModel;
}
