{
  MultiMap<BuildTargetType,BuildTarget> targetsByType=new MultiMap<BuildTargetType,BuildTarget>();
  for (  BuildTarget target : myInitialScanPerformed) {
    targetsByType.putValue(target.getTargetType(),target);
  }
  out.writeInt(targetsByType.size());
  for (  BuildTargetType type : targetsByType.keySet()) {
    IOUtil.writeString(type.getTypeId(),out);
    Collection<BuildTarget> targets=targetsByType.get(type);
    out.writeInt(targets.size());
    for (    BuildTarget target : targets) {
      IOUtil.writeString(target.getId(),out);
      getDelta(target).save(out);
    }
  }
  out.writeInt(myArtifactInitialScanPerformed.size());
  for (  String artifactName : myArtifactInitialScanPerformed) {
    IOUtil.writeString(artifactName,out);
    getDelta(artifactName).save(out);
  }
}
