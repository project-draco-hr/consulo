{
  final boolean marked=getDelta(rd.getTarget()).markRecompile(rd,file);
  if (marked) {
    if (LOG.isDebugEnabled()) {
      LOG.debug(rd.getTarget() + ": MARKED DIRTY: " + file.getPath());
    }
    if (saveEventStamp) {
      myRegistrationStamps.put(file,System.currentTimeMillis());
    }
    if (tsStorage != null) {
      tsStorage.removeStamp(file,rd.getTarget());
    }
  }
 else {
    if (LOG.isDebugEnabled()) {
      LOG.debug(rd.getTarget() + ": NOT MARKED DIRTY: " + file.getPath());
    }
  }
  return marked;
}
