{
  if (repo == null) {
    return Collections.emptyMap();
  }
  HgCommandResult result=HgCommandExecutor.getInstance(project).execute(repo,HgCommandExecutor.DEFAULT_OPTIONS,"showconfig",null,Charset.defaultCharset(),true);
  if (result == null) {
    return Collections.emptyMap();
  }
  Map<String,String> options=new HashMap<String,String>();
  for (  String line : result.getOutputLines()) {
    String[] option=StringUtils.splitPreserveAllTokens(line,'=');
    if (option.length == 2) {
      options.put(option[0].trim(),option[1].trim());
    }
  }
  return options;
}
