{
  if (repo == null) {
    return Collections.emptyMap();
  }
  final HgCommandExecutor executor=new HgCommandExecutor(project);
  executor.setSilent(true);
  HgCommandResult result=executor.executeInCurrentThread(repo,"showconfig",null);
  if (result == null) {
    return Collections.emptyMap();
  }
  Map<String,String> options=new HashMap<String,String>();
  for (  String line : result.getOutputLines()) {
    List<String> option=StringUtil.split(line,"=",true,false);
    if (option.size() == 2) {
      options.put(option.get(0).trim(),option.get(1).trim());
    }
  }
  return options;
}
