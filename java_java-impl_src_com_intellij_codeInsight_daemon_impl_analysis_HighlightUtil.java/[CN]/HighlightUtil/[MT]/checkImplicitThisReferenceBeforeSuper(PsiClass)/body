{
  if (aClass instanceof PsiAnonymousClass)   return null;
  PsiClass superClass=aClass.getSuperClass();
  if (superClass == null || !PsiUtil.isInnerClass(superClass))   return null;
  PsiClass outerClass=superClass.getContainingClass();
  if (!InheritanceUtil.isInheritorOrSelf(aClass,outerClass,true)) {
    return null;
  }
  PsiMethod[] constructors=aClass.getConstructors();
  if (constructors.length == 0) {
    TextRange range=HighlightNamesUtil.getClassDeclarationTextRange(aClass);
    return createMemberReferencedError(aClass.getName() + ".this",range);
  }
  for (  PsiMethod constructor : constructors) {
    if (!isSuperCalledInConstructor(constructor)) {
      return createMemberReferencedError(aClass.getName() + ".this",HighlightNamesUtil.getMethodDeclarationTextRange(constructor));
    }
  }
  return null;
}
