{
  PsiJavaToken operationSign=assignment.getOperationSign();
  IElementType eqOpSign=operationSign.getTokenType();
  IElementType opSign=TypeConversionUtil.convertEQtoOperation(eqOpSign);
  if (opSign == null)   return null;
  final PsiType lType=assignment.getLExpression().getType();
  final PsiExpression rExpression=assignment.getRExpression();
  if (rExpression == null)   return null;
  final PsiType rType=rExpression.getType();
  HighlightInfo errorResult=null;
  if (!TypeConversionUtil.isBinaryOperatorApplicable(opSign,lType,rType,true) || PsiType.getJavaLangObject(assignment.getManager(),assignment.getResolveScope()).equals(lType)) {
    String operatorText=operationSign.getText().substring(0,operationSign.getText().length() - 1);
    String message=JavaErrorMessages.message("binary.operator.not.applicable",operatorText,formatType(lType),formatType(rType));
    errorResult=HighlightInfo.createHighlightInfo(HighlightInfoType.ERROR,assignment,message);
    QuickFixAction.registerQuickFixAction(errorResult,new ChangeToAppendFix(eqOpSign,lType,rType,assignment));
  }
  return errorResult;
}
