{
  final Project project=(Project)e.getDataContext().getData(DataConstants.PROJECT);
  if (project == null)   return;
  final RunContentDescriptor selectedContent=ExecutionManager.getInstance(project).getContentManager().getSelectedContent();
  if (selectedContent == null)   return;
  final ProcessHandler selectedProcessHandler=selectedContent.getProcessHandler();
  if (selectedProcessHandler == null)   return;
  if (selectedProcessHandler.detachIsDefault()) {
    selectedProcessHandler.detachProcess();
  }
 else {
    selectedProcessHandler.destroyProcess();
  }
}
