{
  AnAction[] actions=group.getChildren(null);
  includeGroup(result,group,actions,containingGroupName);
  for (  AnAction action : actions) {
    if (action == null)     continue;
    if (action instanceof ActionGroup) {
      ActionGroup actionGroup=(ActionGroup)action;
      String groupName=actionGroup.getTemplatePresentation().getText();
      collectActions(result,actionGroup,StringUtil.isEmpty(groupName) || !actionGroup.isPopup() ? containingGroupName : groupName);
    }
 else {
      String groupName=group.getTemplatePresentation().getText();
      if (result.containsKey(action)) {
        result.put(action,null);
      }
 else {
        result.put(action,StringUtil.isEmpty(groupName) ? containingGroupName : groupName);
      }
    }
  }
}
