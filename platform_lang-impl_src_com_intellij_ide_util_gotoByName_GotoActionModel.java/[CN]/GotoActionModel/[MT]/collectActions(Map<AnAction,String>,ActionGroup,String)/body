{
  final AnAction[] actions=group.getChildren(null);
  includeGroup(result,group,actions,containingGroupName);
  for (  AnAction action : actions) {
    if (action != null) {
      if (action instanceof ActionGroup) {
        final ActionGroup actionGroup=(ActionGroup)action;
        final String groupName=actionGroup.getTemplatePresentation().getText();
        collectActions(result,actionGroup,StringUtil.isEmpty(groupName) || !actionGroup.isPopup() ? containingGroupName : groupName);
      }
 else {
        final String groupName=group.getTemplatePresentation().getText();
        if (result.containsKey(action)) {
          result.put(action,null);
        }
 else {
          result.put(action,groupName != null && groupName.length() > 0 ? groupName : containingGroupName);
        }
      }
    }
  }
}
