{
  final JLabel textLabel=new JLabel(text);
  final JPanel panel=new JPanel(new BorderLayout());
  final JLabel label=new JLabel(icon);
  label.setOpaque(true);
  label.setBackground(textLabel.getBackground());
  textLabel.setOpaque(true);
  textLabel.setForeground(textColor);
  panel.add(label,BorderLayout.WEST);
  panel.add(textLabel,BorderLayout.EAST);
  final Border originalBorder;
  if (SystemInfo.isMac) {
    originalBorder=BorderFactory.createLoweredBevelBorder();
  }
 else {
    originalBorder=textLabel.getBorder();
  }
  panel.setBorder(new CompoundBorder(IdeBorderFactory.createEmptyBorder(4,0,4,0),originalBorder));
  textLabel.setOpaque(true);
  textLabel.setBorder(IdeBorderFactory.createEmptyBorder(0,5,0,5));
  label.addMouseListener(new MouseAdapter(){
    public void mouseClicked(    MouseEvent e){
      parent.remove(panel);
      parent.repaint();
    }
  }
);
  return panel;
}
