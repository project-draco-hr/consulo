{
  if (auth.getUserName() == null || "".equals(auth.getUserName())) {
    return;
  }
  Map info=new HashMap();
  info.put("username",auth.getUserName());
  if (auth instanceof SVNPasswordAuthentication) {
    info.put("password",((SVNPasswordAuthentication)auth).getPassword());
  }
 else   if (auth instanceof SVNSSHAuthentication) {
    SVNSSHAuthentication sshAuth=(SVNSSHAuthentication)auth;
    if (sshAuth.getPrivateKeyFile() != null) {
      info.put("key",sshAuth.getPrivateKeyFile().getAbsolutePath());
      if (sshAuth.getPassphrase() != null) {
        info.put("passphrase",sshAuth.getPassphrase());
      }
    }
 else     if (sshAuth.getPassword() != null) {
      info.put("password",sshAuth.getPassword());
    }
    if (sshAuth.getPortNumber() >= 0) {
      info.put("port",Integer.toString(sshAuth.getPortNumber()));
    }
  }
  SvnApplicationSettings.getInstance().saveAuthenticationInfo(realm,info);
}
