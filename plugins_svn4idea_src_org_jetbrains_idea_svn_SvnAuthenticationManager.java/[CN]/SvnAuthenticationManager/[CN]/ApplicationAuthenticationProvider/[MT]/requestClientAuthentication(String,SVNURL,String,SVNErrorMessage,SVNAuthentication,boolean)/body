{
  if (ISVNAuthenticationManager.SSL.equals(kind)) {
    String host=url.getHost();
    Map properties=getHostProperties(host);
    String sslClientCert=(String)properties.get("ssl-client-cert-file");
    String sslClientCertPassword=(String)properties.get("ssl-client-cert-password");
    File clientCertFile=sslClientCert != null ? new File(sslClientCert) : null;
    return new SVNSSLAuthentication(clientCertFile,sslClientCertPassword,authMayBeStored);
  }
  Map info=SvnApplicationSettings.getInstance().getAuthenticationInfo(realm,kind);
  if (info != null && !info.isEmpty() && info.get("username") != null) {
    if (ISVNAuthenticationManager.PASSWORD.equals(kind)) {
      return new SVNPasswordAuthentication((String)info.get("username"),(String)info.get("password"),authMayBeStored);
    }
 else     if (ISVNAuthenticationManager.SSH.equals(kind)) {
      int port=url.hasPort() ? url.getPort() : -1;
      if (port < 0 && info.get("port") != null) {
        port=Integer.parseInt((String)info.get("port"));
      }
      if (port < 0) {
        port=22;
      }
      if (info.get("key") != null) {
        File keyPath=new File((String)info.get("key"));
        return new SVNSSHAuthentication((String)info.get("username"),keyPath,(String)info.get("passphrase"),port,authMayBeStored);
      }
 else       if (info.get("password") != null) {
        return new SVNSSHAuthentication((String)info.get("username"),(String)info.get("password"),port,authMayBeStored);
      }
    }
    if (ISVNAuthenticationManager.USERNAME.equals(kind)) {
      return new SVNUserNameAuthentication((String)info.get("username"),authMayBeStored);
    }
  }
  return null;
}
