{
  myDependentBreakpointManager.saveState();
  BreakpointManagerState state=new BreakpointManagerState();
  for (  XBreakpointBase<?,?,?> breakpoint : myDefaultBreakpoints.values()) {
    final BreakpointState breakpointState=breakpoint.getState();
    if (differsFromDefault(breakpoint.getType(),breakpointState)) {
      state.getDefaultBreakpoints().add(breakpointState);
    }
  }
  for (  XBreakpointBase<?,?,?> breakpoint : myBreakpoints.values()) {
    state.getBreakpoints().add(breakpoint.getState());
  }
  state.setBreakpointsDialogProperties(myBreakpointsDialogSettings);
  state.setTime(myTime);
  return state;
}
