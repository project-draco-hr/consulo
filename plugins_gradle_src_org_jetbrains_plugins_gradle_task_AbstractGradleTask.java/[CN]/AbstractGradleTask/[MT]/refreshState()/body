{
  if (getState() != GradleTaskState.IN_PROGRESS) {
    return;
  }
  final GradleApiFacadeManager manager=ServiceManager.getService(GradleApiFacadeManager.class);
  try {
    final GradleApiFacade facade=manager.getFacade(myIntellijProject);
    setState(facade.isTaskInProgress(getId()) ? GradleTaskState.IN_PROGRESS : GradleTaskState.FAILED);
  }
 catch (  Throwable e) {
    setState(GradleTaskState.FAILED);
    myError.set(e);
    if (myIntellijProject == null || !myIntellijProject.isDisposed()) {
      LOG.warn(e);
    }
  }
}
