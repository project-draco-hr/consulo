{
  final int length=array.length;
  if (length < ARRAY_COPY_THRESHOLD && array.length >= collection.size()) {
    for (int i=0; i < collection.size(); i++) {
      array[i]=collection.get(i);
    }
    return array;
  }
 else {
    return collection.toArray(array);
  }
}
