{
  final HashMap<VirtualFile,VirtualFile[]> map=new LinkedHashMap<VirtualFile,VirtualFile[]>();
  final Set<VirtualFilePointer> set=myAssociations.keySet();
  for (  VirtualFilePointer pointer : set) {
    if (pointer.isValid()) {
      final VirtualFile file=pointer.getFile();
      map.put(file,myAssociations.get(pointer).getFiles());
    }
  }
  return map;
}
