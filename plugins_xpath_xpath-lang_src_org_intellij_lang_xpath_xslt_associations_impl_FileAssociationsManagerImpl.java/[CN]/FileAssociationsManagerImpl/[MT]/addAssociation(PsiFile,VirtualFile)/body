{
  final VirtualFile virtualFile=file.getVirtualFile();
  if (virtualFile == null) {
    LOG.warn("No VirtualFile for " + file.getName());
    return;
  }
  for (  VirtualFilePointer pointer : myAssociations.keySet()) {
    if (pointer.getUrl().equals(virtualFile.getUrl())) {
      VirtualFilePointerContainer container=myAssociations.get(pointer);
      if (container == null) {
        container=myFilePointerManager.createContainer(myProject);
        myAssociations.put(pointer,container);
      }
      if (container.findByUrl(assoc.getUrl()) == null) {
        container.add(assoc);
        touch();
      }
      return;
    }
  }
  final VirtualFilePointerContainer container=myFilePointerManager.createContainer(myProject);
  container.add(assoc);
  myAssociations.put(myFilePointerManager.create(virtualFile,myProject,null),container);
  touch();
}
