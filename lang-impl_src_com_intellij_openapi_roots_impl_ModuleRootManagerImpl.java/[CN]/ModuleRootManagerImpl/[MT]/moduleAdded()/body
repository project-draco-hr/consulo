{
  RootModelImpl oldModel=myRootModel;
  final VirtualFilePointerListener listener=((ProjectRootManagerImpl)ProjectRootManager.getInstance(myModule.getProject())).getVirtualFilePointerListener();
  myRootModel=new RootModelImpl(myRootModel,this,false,new RootConfigurationAccessor(),listener,myFilePointerManager,myProjectRootManager);
  oldModel.disposeModel();
  final ArrayList<RootModelComponentBase> components=myRootModel.myComponents;
  for (  RootModelComponentBase rootModelComponentBase : components) {
    rootModelComponentBase.moduleAdded();
  }
  isModuleAdded=true;
}
