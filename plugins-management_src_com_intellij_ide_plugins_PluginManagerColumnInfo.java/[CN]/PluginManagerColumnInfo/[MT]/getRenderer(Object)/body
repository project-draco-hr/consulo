{
  return new DefaultTableCellRenderer(){
    public Component getTableCellRendererComponent(    JTable table,    Object value,    boolean isSelected,    boolean hasFocus,    int row,    int column){
      if (column == COLUMN_NAME) {
        setIcon(IconLoader.getIcon("/nodes/plugin.png"));
      }
      if (!isSelected) {
        if (table.getModel() instanceof InstalledPluginsTableModel) {
          IdeaPluginDescriptorImpl descriptor=(IdeaPluginDescriptorImpl)((PluginTable<IdeaPluginDescriptor>)table).getObjectAt(row);
          if (descriptor.isDeleted())           setBackground(Color.lightGray);
 else           setBackground(Color.white);
        }
 else         if (table.getModel() instanceof AvailablePluginsTableModel) {
          PluginNode node=((PluginTable<PluginNode>)table).getObjectAt(row);
switch (PluginManagerColumnInfo.getRealNodeState(node)) {
case PluginNode.STATUS_OUT_OF_DATE:
            setBackground(RED_COLOR);
          break;
case PluginNode.STATUS_CURRENT:
        setBackground(GREEN_COLOR);
      break;
default :
    setBackground(Color.white);
}
}
}
return super.getTableCellRendererComponent(table,value,isSelected,hasFocus,row,column);
}
}
;
}
