{
  Object descriptor=((PluginTable)table).getObjectAt(row);
  setForeground(Color.black);
  if (column == COLUMN_NAME) {
    if (descriptor instanceof IdeaPluginDescriptorImpl) {
      final IdeaPluginDescriptorImpl ideaPluginDescriptor=(IdeaPluginDescriptorImpl)descriptor;
      if (ideaPluginDescriptor.isDeleted()) {
        setIcon(IconLoader.getIcon("/actions/clean.png"));
      }
 else       if (InstalledPluginsTableModel.hasNewerVersion(ideaPluginDescriptor.getPluginId())) {
        setIcon(IconLoader.getIcon("/nodes/pluginobsolete.png"));
      }
 else {
        setIcon(IconLoader.getIcon("/nodes/plugin.png"));
      }
    }
 else {
      setIcon(IconLoader.getIcon("/nodes/pluginnotinstalled.png"));
    }
  }
  if (column == COLUMN_DATE) {
    setHorizontalAlignment(SwingConstants.RIGHT);
  }
  if (!isSelected) {
    if (descriptor instanceof IdeaPluginDescriptorImpl) {
      final IdeaPluginDescriptorImpl ideaPluginDescriptor=(IdeaPluginDescriptorImpl)descriptor;
      if (ideaPluginDescriptor.isDeleted()) {
        setForeground(FileStatus.COLOR_MISSING);
      }
 else       if (InstalledPluginsTableModel.hasNewerVersion(ideaPluginDescriptor.getPluginId())) {
        setForeground(FileStatus.COLOR_MODIFIED);
      }
    }
 else     if (descriptor instanceof PluginNode) {
      final PluginNode pluginNode=(PluginNode)descriptor;
      if (pluginNode.getStatus() == PluginNode.STATUS_DOWNLOADED) {
        setForeground(FileStatus.COLOR_ADDED);
      }
 else       if (pluginNode.getStatus() == PluginNode.STATUS_INSTALLED) {
        setForeground(FileStatus.COLOR_MODIFIED);
      }
    }
  }
  return super.getTableCellRendererComponent(table,value,isSelected,hasFocus,row,column);
}
