{
  CompilerConfiguration compilerConfiguration=new CompilerConfiguration();
  compilerConfiguration.setSourceEncoding(characterEncoding);
  compilerConfiguration.setOutput(new PrintWriter(System.err));
  compilerConfiguration.setWarningLevel(WarningMessage.PARANOIA);
  compilerConfiguration.setClasspath(classpath);
  compilerConfiguration.setTargetDirectory(outputPath);
  return new CompilationUnit(compilerConfiguration,null,buildClassLoaderFor(compilerConfiguration));
}
