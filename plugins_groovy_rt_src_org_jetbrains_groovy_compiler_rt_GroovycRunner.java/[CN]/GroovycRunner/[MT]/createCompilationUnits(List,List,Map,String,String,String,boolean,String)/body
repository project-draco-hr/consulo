{
  System.out.println(PRESENTABLE_MESSAGE + "Groovy compiler: loading classpath...");
  final CompilationUnit sourceUnit=createCompilationUnit(class2File,classpath,ordinaryOutputPath,isGrailsModule,encoding);
  final CompilationUnit testUnit=createCompilationUnit(Collections.EMPTY_MAP,classpath,testOutputPath,isGrailsModule,encoding);
  MyCompilationUnits myCompilationUnits=new MyCompilationUnits(sourceUnit,testUnit);
  System.out.println(PRESENTABLE_MESSAGE + "Loading Groovy sources...");
  for (int i=0; i < srcFilesToCompile.size(); i++) {
    File fileToCompile=(File)srcFilesToCompile.get(i);
    myCompilationUnits.add(fileToCompile,false);
  }
  System.out.println(PRESENTABLE_MESSAGE + "Loading Groovy test sources...");
  for (int i=0; i < testFilesToCompile.size(); i++) {
    File fileToCompile=(File)testFilesToCompile.get(i);
    myCompilationUnits.add(fileToCompile,true);
  }
  System.out.println(CLEAR_PRESENTABLE);
  return myCompilationUnits;
}
