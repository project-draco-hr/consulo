{
  final CompilationUnit sourceUnit=createCompilationUnit(class2File,classpath,ordinaryOutputPath,isGrailsModule,encoding);
  final CompilationUnit testUnit=createCompilationUnit(Collections.EMPTY_MAP,classpath,testOutputPath,isGrailsModule,encoding);
  MyCompilationUnits myCompilationUnits=myFactory.create(sourceUnit,testUnit);
  for (int i=0; i < srcFilesToCompile.size(); i++) {
    File fileToCompile=(File)srcFilesToCompile.get(i);
    myCompilationUnits.add(fileToCompile,false);
  }
  for (int i=0; i < testFilesToCompile.size(); i++) {
    File fileToCompile=(File)testFilesToCompile.get(i);
    myCompilationUnits.add(fileToCompile,true);
  }
  return myCompilationUnits;
}
