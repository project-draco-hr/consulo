{
  String moduleClasspath=null;
  String moduleOutputPath=null;
  String moduleTestOutputPath=null;
  String moduleName=null;
  String moduleSourceFoldersPath=null;
  if (args.length != 1) {
    System.err.println("There is no arguments for groovy compiler");
    return;
  }
  File argsFile=new File(args[0]);
  if (!argsFile.exists()) {
    System.err.println("Arguments file for groovy compiler not found");
    return;
  }
  List<File> srcFiles=new ArrayList<File>();
  List<File> testFiles=new ArrayList<File>();
  BufferedReader reader=null;
  FileInputStream stream;
  try {
    stream=new FileInputStream(argsFile);
    reader=new BufferedReader(new InputStreamReader(stream));
    String line;
    while ((line=reader.readLine()) != null && !line.equals(CLASSPATH)) {
      if (TEST_FILE.equals(line))       testFiles.add(new File(reader.readLine()));
 else       if (SRC_FILE.equals(line))       srcFiles.add(new File(reader.readLine()));
    }
    while (line != null) {
      if (line.startsWith(CLASSPATH)) {
        moduleClasspath=reader.readLine();
      }
      if (line.startsWith(OUTPUTPATH)) {
        moduleOutputPath=reader.readLine();
      }
      if (line.startsWith(TEST_OUTPUTPATH)) {
        moduleTestOutputPath=reader.readLine();
      }
      if (line.startsWith(MODULE_NAME)) {
        moduleName=reader.readLine();
      }
      if (line.startsWith(SRC_FOLDERS)) {
        moduleSourceFoldersPath=reader.readLine();
      }
      line=reader.readLine();
    }
  }
 catch (  FileNotFoundException e) {
    e.printStackTrace();
  }
catch (  IOException e) {
    e.printStackTrace();
  }
 finally {
    try {
      reader.close();
    }
 catch (    IOException e) {
      e.printStackTrace();
    }
 finally {
      argsFile.delete();
    }
  }
  MyGroovyCompiler groovyCompiler=new MyGroovyCompiler();
  if (srcFiles.isEmpty() && testFiles.isEmpty())   return;
  MyCompilationUnits myCompilationUnits=createCompilationUnits(srcFiles,testFiles,Charset.defaultCharset().toString(),moduleName,moduleClasspath,moduleTestOutputPath,moduleOutputPath,moduleSourceFoldersPath);
  MessageCollector messageCollector=new MessageCollector();
  MyGroovyCompiler.MyExitStatus exitStatus=groovyCompiler.compile(messageCollector,myCompilationUnits);
  MyCompilationUnits.OutputItem[] successfullyCompiled=exitStatus.getSuccessfullyCompiled();
  Set<File> allCompiling=new HashSet<File>();
  allCompiling.addAll(srcFiles);
  allCompiling.addAll(testFiles);
  File[] toRecompilesFiles=successfullyCompiled.length > 0 ? new File[0] : allCompiling.toArray(new File[0]);
  CompilerMessage[] compilerMessages=messageCollector.getAllMessage();
  System.out.println();
  for (  MyCompilationUnits.OutputItem compiledOutputItem : successfullyCompiled) {
    System.out.print(COMPILED_START);
    System.out.print(compiledOutputItem.getOutputPath());
    System.out.print(SEPARATOR);
    System.out.print(compiledOutputItem.getSourceFile());
    System.out.print(SEPARATOR);
    System.out.print(compiledOutputItem.getOutputRootDirectory());
    System.out.print(COMPILED_END);
    System.out.println();
  }
  System.out.println();
  for (  File toRecompileFile : toRecompilesFiles) {
    System.out.print(TO_RECOMPILE_START);
    try {
      System.out.print(toRecompileFile.getCanonicalPath());
    }
 catch (    IOException e) {
      toRecompileFile.getPath();
    }
    System.out.print(TO_RECOMPILE_END);
    System.out.println();
  }
  for (  CompilerMessage message : compilerMessages) {
    System.out.print(MESSAGES_START);
    System.out.print(message.getCategory());
    System.out.print(SEPARATOR);
    System.out.print(message.getMessage());
    System.out.print(SEPARATOR);
    System.out.print(message.getUrl());
    System.out.print(SEPARATOR);
    System.out.print(message.getLineNum());
    System.out.print(SEPARATOR);
    System.out.print(message.getColumnNum());
    System.out.print(SEPARATOR);
    System.out.print(MESSAGES_END);
    System.out.println();
  }
}
