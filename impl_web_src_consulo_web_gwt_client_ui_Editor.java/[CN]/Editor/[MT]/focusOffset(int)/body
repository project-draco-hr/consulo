{
  if (myBuilder == null) {
    myDelayedCaredOffset=offset;
    return;
  }
  myLastCaretOffset=offset;
  for (  EditorSegmentBuilder.CharSpan fragment : myBuilder.getFragments()) {
    if (fragment.range.containsRange(offset,offset)) {
      fragment.getElement().focus();
      fragment.getElement().scrollIntoView();
      set(fragment.getElement());
      Widget parent=fragment.getParent();
      if (parent instanceof CodeLinePanel) {
        changeLine((CodeLinePanel)parent);
      }
      break;
    }
  }
}
