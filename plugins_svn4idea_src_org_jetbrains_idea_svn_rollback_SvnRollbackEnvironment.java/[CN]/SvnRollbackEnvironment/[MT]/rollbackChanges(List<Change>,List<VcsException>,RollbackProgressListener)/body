{
  for (  Change change : changes) {
    listener.accept(change);
    File beforePath=null;
    ContentRevision beforeRevision=change.getBeforeRevision();
    if (beforeRevision != null) {
      beforePath=beforeRevision.getFile().getIOFile();
      checkRevertFile(beforePath,exceptions);
    }
    ContentRevision afterRevision=change.getAfterRevision();
    if (afterRevision != null) {
      File afterPath=afterRevision.getFile().getIOFile();
      if (!afterPath.equals(beforePath)) {
        UnversionedFilesCollector collector=new UnversionedFilesCollector();
        try {
          ((SvnChangeProvider)mySvnVcs.getChangeProvider()).getChanges(afterRevision.getFile(),false,collector);
        }
 catch (        SVNException e) {
          exceptions.add(new VcsException(e));
        }
        checkRevertFile(afterPath,exceptions);
        if (beforePath != null) {
          for (          VirtualFile f : collector.getUnversionedFiles()) {
            File ioFile=new File(f.getPath());
            ioFile.renameTo(new File(beforePath,ioFile.getName()));
          }
          FileUtil.delete(afterPath);
        }
      }
    }
  }
}
