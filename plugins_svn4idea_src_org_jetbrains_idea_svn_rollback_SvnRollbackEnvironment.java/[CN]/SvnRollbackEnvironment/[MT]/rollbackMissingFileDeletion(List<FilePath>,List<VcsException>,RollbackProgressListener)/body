{
  final SVNWCClient wcClient=mySvnVcs.createWCClient();
  List<File> files=ChangesUtil.filePathsToFiles(filePaths);
  for (  File file : files) {
    listener.accept(file);
    try {
      SVNInfo info=wcClient.doInfo(file,SVNRevision.BASE);
      if (info != null && info.getKind() == SVNNodeKind.FILE) {
        wcClient.doRevert(file,false);
      }
 else {
        mySvnVcs.createUpdateClient().doUpdate(file,SVNRevision.HEAD,true);
      }
    }
 catch (    SVNException e) {
      exceptions.add(new VcsException(e));
    }
  }
}
