{
  myChangeProvider=changeProvider;
  myCollector=collector;
  myForAdds=new SuperfluousRemover(){
    @Nullable @Override protected File accept(    Change change){
      final ContentRevision beforeRevision=change.getBeforeRevision();
      final ContentRevision afterRevision=change.getAfterRevision();
      if (beforeRevision == null || MoveRenameReplaceCheck.check(change)) {
        return afterRevision.getFile().getIOFile();
      }
      return null;
    }
  }
;
  myForDeletes=new SuperfluousRemover(){
    @Nullable @Override protected File accept(    Change change){
      final ContentRevision beforeRevision=change.getBeforeRevision();
      final ContentRevision afterRevision=change.getAfterRevision();
      if (afterRevision == null || MoveRenameReplaceCheck.check(change)) {
        return beforeRevision.getFile().getIOFile();
      }
      return null;
    }
  }
;
  myForEdits=new ArrayList<File>();
  myExceptions=new ArrayList<VcsException>();
}
