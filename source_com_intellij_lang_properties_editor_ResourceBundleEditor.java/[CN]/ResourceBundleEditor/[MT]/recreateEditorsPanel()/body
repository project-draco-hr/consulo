{
  myUpdateEditorAlarm.cancelAllRequests();
  myValuesPanel.removeAll();
  myValuesPanel.setLayout(new CardLayout());
  JPanel valuesPanelComponent=new JPanel(new GridBagLayout());
  myValuesPanel.add(valuesPanelComponent,"values");
  myValuesPanel.add(myNoPropertySelectedPanel,"noPropertySelected");
  List<PropertiesFile> propertiesFiles=myResourceBundle.getPropertiesFiles(myProject);
  GridBagConstraints gc=new GridBagConstraints(0,0,0,0,0,0,GridBagConstraints.NORTHWEST,GridBagConstraints.HORIZONTAL,new Insets(5,5,5,5),0,0);
  int y=0;
  releaseAllEditors();
  myTitledPanels.clear();
  for (  final PropertiesFile propertiesFile : propertiesFiles) {
    final Editor editor=createEditor();
    myEditors.put(propertiesFile,editor);
    editor.getContentComponent().addFocusListener(new FocusAdapter(){
      public void focusGained(      FocusEvent e){
        mySelectedEditor=editor;
      }
    }
);
    gc.gridx=0;
    gc.gridy=y++;
    gc.gridheight=1;
    gc.gridwidth=GridBagConstraints.REMAINDER;
    gc.weightx=1;
    gc.weighty=0;
    JPanel panel=new JPanel(new BorderLayout());
    Locale locale=propertiesFile.getLocale();
    ArrayList<String> names=new ArrayList<String>();
    if (!Comparing.strEqual(locale.getDisplayLanguage(),null)) {
      names.add(locale.getDisplayLanguage());
    }
    if (!Comparing.strEqual(locale.getDisplayCountry(),null)) {
      names.add(locale.getDisplayCountry());
    }
    if (!Comparing.strEqual(locale.getDisplayVariant(),null)) {
      names.add(locale.getDisplayVariant());
    }
    String title=propertiesFile.getName();
    if (names.size() != 0) {
      title+=" (" + StringUtil.join(names,"/") + ")";
    }
    panel.setBorder(IdeBorderFactory.createTitledBorder(title));
    panel.setMinimumSize(new Dimension(-1,100));
    JPanel comp=new JPanel(new BorderLayout());
    comp.add(editor.getComponent(),BorderLayout.CENTER);
    panel.add(comp,BorderLayout.CENTER);
    myTitledPanels.put(propertiesFile,panel);
    valuesPanelComponent.add(panel,gc);
  }
  gc.gridx=0;
  gc.gridy=y;
  gc.gridheight=GridBagConstraints.REMAINDER;
  gc.gridwidth=GridBagConstraints.REMAINDER;
  gc.weightx=10;
  gc.weighty=10;
  valuesPanelComponent.add(new JPanel(),gc);
  myValuesPanel.repaint();
}
