{
  uninstallDocumentListeners();
  try {
    String propertyName=getSelectedPropertyName();
    ((CardLayout)myValuesPanel.getLayout()).show(myValuesPanel,propertyName == null ? "noPropertySelected" : "values");
    if (propertyName == null)     return;
    List<PropertiesFile> propertiesFiles=myResourceBundle.getPropertiesFiles();
    for (    PropertiesFile propertiesFile : propertiesFiles) {
      EditorEx editor=(EditorEx)myEditors.get(propertiesFile);
      reinitSettings(editor);
      editor.setRendererMode(propertyName == null);
      Property property=propertiesFile.findPropertyByKey(propertyName);
      final String value=property == null ? "" : property.getValue();
      final String text=value.replaceAll("\\\\\n","\n");
      final Document document=editor.getDocument();
      CommandProcessor.getInstance().executeCommand(null,new Runnable(){
        public void run(){
          ApplicationManager.getApplication().runWriteAction(new Runnable(){
            public void run(){
              document.replaceString(0,document.getTextLength(),text);
            }
          }
);
        }
      }
,"",this);
      JPanel titledPanel=myTitledPanels.get(propertiesFile);
      ((TitledBorder)titledPanel.getBorder()).setTitleColor(property == null ? Color.red : UIManager.getColor("Label.textForeground"));
      titledPanel.repaint();
    }
  }
  finally {
    installDocumentListeners();
  }
}
