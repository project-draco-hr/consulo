{
  myProject=project;
  GuiUtils.replaceJSplitPaneWithIDEASplitter(myPanel,true);
  myResourceBundle=resourceBundle;
  myStructureViewComponent=new ResourceBundleStructureViewComponent(project,myResourceBundle,this);
  myStructureViewPanel.setLayout(new BorderLayout());
  myStructureViewPanel.add(myStructureViewComponent,BorderLayout.CENTER);
  myStructureViewComponent.getTree().getSelectionModel().addTreeSelectionListener(new TreeSelectionListener(){
    public void valueChanged(    TreeSelectionEvent e){
      selectionChanged();
    }
  }
);
  installPropertiesChangeListeners();
  myEditors=new THashMap<PropertiesFile,Editor>();
  myTitledPanels=new THashMap<PropertiesFile,JPanel>();
  recreateEditorsPanel();
  StructureViewTreeElement[] children=myStructureViewComponent.getTreeModel().getRoot().getChildren();
  if (children.length != 0) {
    StructureViewTreeElement child=children[0];
    String propName=((ResourceBundlePropertyStructureViewElement)child).getValue();
    setState(new ResourceBundleEditorState(propName));
  }
}
