{
  PsiFile file=e.getData(LangDataKeys.PSI_FILE);
  Presentation presentation=e.getPresentation();
  boolean enabled=file instanceof PsiClassOwner && e.getPlace() != ActionPlaces.EDITOR_POPUP && e.getData(PlatformDataKeys.PROJECT) != null;
  presentation.setEnabled(enabled);
  presentation.setVisible(enabled);
  if (enabled) {
    presentation.setText(RENAME_FILE);
    presentation.setDescription(RENAME_FILE);
  }
}
