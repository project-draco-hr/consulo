{
  final Document document=viewProvider.getDocument();
  final PsiFile psiFile=viewProvider.getPsi(viewProvider.getBaseLanguage());
  final CharSequence charsSequence=document.getCharsSequence().subSequence(marker.getStartOffset(),marker.getEndOffset());
  final int oldIndent=getOldIndent();
  final TextRange[] whitespaces=CharArrayUtil.getIndents(charsSequence,marker.getStartOffset());
  final int indentAdjustment=getNewIndent(psiFile,marker.getStartOffset()) - oldIndent;
  if (indentAdjustment != 0)   adjustIndentationInRange(psiFile,document,whitespaces,indentAdjustment);
}
