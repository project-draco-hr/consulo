{
  myJdkPanel=new JPanel(new GridBagLayout());
  myCbModuleJdk=new SdkComboBox(myJdksModel);
  myCbModuleJdk.insertItemAt(new SdkComboBox.ProjectSdkComboBoxItem(),0);
  myCbModuleJdk.addActionListener(new ActionListener(){
    @Override public void actionPerformed(    ActionEvent e){
      if (myFreeze)       return;
      final Sdk newJdk=myCbModuleJdk.getSelectedJdk();
      myModuleEditor.setSdk(newJdk);
      clearCaches();
    }
  }
);
  myJdkPanel.add(new JLabel(ProjectBundle.message("module.libraries.target.jdk.module.radio")),new GridBagConstraints(0,0,1,1,0,0,GridBagConstraints.NORTHWEST,GridBagConstraints.NONE,new Insets(12,6,12,0),0,0));
  myJdkPanel.add(myCbModuleJdk,new GridBagConstraints(1,0,1,1,0,1.0,GridBagConstraints.NORTHWEST,GridBagConstraints.NONE,new Insets(6,6,12,0),0,0));
  final Project project=getRootModel().getModule().getProject();
  final JButton setUpButton=new JButton(ApplicationBundle.message("button.new"));
  myCbModuleJdk.setSetupButton(setUpButton,project,myJdksModel,new SdkComboBox.ProjectSdkComboBoxItem(),new Condition<Sdk>(){
    @Override public boolean value(    Sdk jdk){
      final Sdk projectJdk=myJdksModel.getProjectSdk();
      if (projectJdk == null) {
        final int res=Messages.showYesNoDialog(myJdkPanel,ProjectBundle.message("project.roots.no.jdk.on.project.message"),ProjectBundle.message("project.roots.no.jdk.on.project.title"),Messages.getInformationIcon());
        if (res == DialogWrapper.OK_EXIT_CODE) {
          myJdksModel.setProjectSdk(jdk);
          return true;
        }
      }
      return false;
    }
  }
,true);
  myJdkPanel.add(setUpButton,new GridBagConstraints(2,0,1,1,0,0,GridBagConstraints.WEST,GridBagConstraints.NONE,new Insets(0,4,7,0),0,0));
  final JButton editButton=new JButton(ApplicationBundle.message("button.edit"));
  myCbModuleJdk.setEditButton(editButton,getRootModel().getModule().getProject(),new Computable<Sdk>(){
    @Override @Nullable public Sdk compute(){
      return getRootModel().getSdk();
    }
  }
);
  myJdkPanel.add(editButton,new GridBagConstraints(GridBagConstraints.RELATIVE,0,1,1,1.0,0,GridBagConstraints.WEST,GridBagConstraints.NONE,new Insets(0,4,7,0),0,0));
}
