{
  if (isXY()) {
    int patchX=0;
    int patchY=0;
    for (int i=0; i < components.length; i++) {
      final RadComponent c=components[i];
      final Point p=new Point(x + dx[i],y + dy[i]);
      c.setLocation(p);
      patchX=Math.min(patchX,p.x);
      patchY=Math.min(patchY,p.y);
      addComponent(c);
    }
    if (patchX < 0 || patchY < 0) {
      for (      RadComponent component : components) {
        component.shift(-patchX,-patchY);
      }
    }
    return new DropInfo(this,null,null);
  }
 else   if (isGrid()) {
    final GridLayoutManager gridLayout=(GridLayoutManager)getLayout();
    final int row=gridLayout.getRowAt(y);
    final int column=gridLayout.getColumnAt(x);
    final RadComponent c=components[0];
    return dropIntoGrid(c,row,column);
  }
 else {
    throw new IllegalStateException("unknown layout: " + getLayout());
  }
}
