{
  myCombo=new ComboBox(-1);
  myCombo.setBorder(null);
  myCombo.addPopupMenuListener(new PopupMenuListener(){
    @Override public void popupMenuWillBecomeVisible(    PopupMenuEvent e){
      myCancelled=false;
    }
    @Override public void popupMenuWillBecomeInvisible(    PopupMenuEvent e){
      if (!myCancelled) {
        fireValueCommitted(true,true);
      }
    }
    @Override public void popupMenuCanceled(    PopupMenuEvent e){
      myCancelled=true;
    }
  }
);
  myCombo.registerKeyboardAction(new ActionListener(){
    public void actionPerformed(    final ActionEvent e){
      myCancelled=true;
      fireEditingCancelled();
    }
  }
,KeyStroke.getKeyStroke(KeyEvent.VK_ESCAPE,0),JComponent.WHEN_ANCESTOR_OF_FOCUSED_COMPONENT);
}
