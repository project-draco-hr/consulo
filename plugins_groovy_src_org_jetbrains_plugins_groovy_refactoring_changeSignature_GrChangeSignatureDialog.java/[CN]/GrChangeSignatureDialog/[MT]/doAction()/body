{
  if (!validateInputData()) {
    return;
  }
  stopEditing();
  String modifier="";
  if (myPublicRadioButton.isSelected()) {
    modifier=GrModifier.PUBLIC;
  }
 else   if (myPrivateRadioButton.isSelected()) {
    modifier=GrModifier.PRIVATE;
  }
 else   if (myProtectedRadioButton.isSelected()) {
    modifier=GrModifier.PROTECTED;
  }
  PsiType returnType=null;
  try {
    returnType=myReturnTypeCodeFragment.getType();
  }
 catch (  PsiTypeCodeFragment.TypeSyntaxException e) {
  }
catch (  PsiTypeCodeFragment.NoTypeException e) {
    returnType=PsiType.NULL;
  }
  if (returnType == PsiType.NULL) {
    returnType=JavaPsiFacade.getElementFactory(myProject).createTypeByFQClassName(CommonClassNames.JAVA_LANG_OBJECT,GlobalSearchScope.allScope(myProject));
  }
  String newName=getNewName();
  final List<GrParameterInfo> parameterInfos=myParameterModel.getParameterInfos();
  invokeRefactoring(new GrChangeSignatureProcessor(myProject,new GrChangeInfoImpl(myMethod,modifier,CanonicalTypes.createTypeWrapper(returnType),newName,parameterInfos)));
}
