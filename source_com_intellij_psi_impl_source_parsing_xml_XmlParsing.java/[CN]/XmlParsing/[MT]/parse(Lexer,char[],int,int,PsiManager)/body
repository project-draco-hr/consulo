{
  final Lexer lexer=new FilterLexer(originalLexer,new FilterLexer.SetFilter(XML_WHITE_SPACE_OR_COMMENT_BIT_SET));
  lexer.start(buffer,startOffset,endOffset);
  final FileElement dummyRoot=new DummyHolder(manager,null,myContext.getCharTable()).getTreeElement();
  CompositeElement root=Factory.createCompositeElement(XML_DOCUMENT);
  TreeUtil.addChildren(dummyRoot,root);
  TreeUtil.addChildren(root,parseProlog(lexer));
  parseGenericXml(lexer,root,new HashSet<String>());
  ParseUtil.insertMissingTokens((CompositeElement)root,originalLexer,startOffset,endOffset,WhiteSpaceAndCommentsProcessor.INSTANCE,myContext);
  return root;
}
