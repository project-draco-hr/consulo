{
  final Lexer lexer=new FilterLexer(originalLexer,new FilterLexer.SetFilter(XML_WHITE_SPACE_OR_COMMENT_BIT_SET));
  lexer.start(text,start,end,_OldXmlLexer.DOCTYPE);
  final FileElement dummyRoot=new DummyHolder(null,null,myContext.getCharTable()).getTreeElement();
  CompositeElement markupDecl=Factory.createCompositeElement(XmlElementType.XML_MARKUP_DECL);
  TreeUtil.addChildren(dummyRoot,markupDecl);
  parseMarkupContent(lexer,markupDecl);
  while (lexer.getTokenType() != null) {
    TreeUtil.addChildren(markupDecl,ParseUtil.createTokenElement(lexer,dummyRoot.getCharTable()));
    lexer.advance();
  }
  originalLexer.start(text,start,end,_OldXmlLexer.DOCTYPE);
  ParseUtil.insertMissingTokens(dummyRoot,originalLexer,start,end,WhiteSpaceAndCommentsProcessor.INSTANCE,myContext);
  return (TreeElement)dummyRoot.getFirstChildNode();
}
