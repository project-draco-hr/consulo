{
  if (s == null) {
    return null;
  }
  if (s.startsWith("@") || s.startsWith("?")) {
    return reference(s,true);
  }
 else   if (!withPrefix) {
    ResourceValue value=reference(s,withPrefix);
    if (value != null)     return value;
  }
  return withLiterals ? literal(s) : null;
}
