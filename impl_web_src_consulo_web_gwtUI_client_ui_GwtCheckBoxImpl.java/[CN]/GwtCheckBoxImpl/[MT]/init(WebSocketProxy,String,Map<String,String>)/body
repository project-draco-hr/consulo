{
  setText(map.get("text"));
  setValue(Boolean.valueOf(map.get("selected")));
  addValueChangeHandler(new ValueChangeHandler<Boolean>(){
    @Override public void onValueChange(    final ValueChangeEvent<Boolean> event){
      proxy.send(UIClientEventType.invokeEvent,new WebSocketProxy.Consumer<UIClientEvent>(){
        @Override public void consume(        UIClientEvent clientEvent){
          Map<String,String> vars=new HashMap<String,String>();
          vars.put("componentId",componentId);
          vars.put("selected",String.valueOf(event.getValue()));
          clientEvent.setVariables(vars);
        }
      }
);
    }
  }
);
}
