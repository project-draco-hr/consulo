{
  ASTNode leftNode=child1.getNode();
  ASTNode rightNode=child2.getNode();
  if (!child1.getNode().getTextRange().equals(child1.getTextRange()) || !child2.getNode().getTextRange().equals(child2.getTextRange())) {
    return NO_SPACING;
  }
  if (mLT == leftNode.getElementType() && rightNode.getPsi() instanceof GrTypeParameter || mGT == rightNode.getElementType() && leftNode.getPsi() instanceof GrTypeParameter || mIDENT == leftNode.getElementType() && rightNode.getPsi() instanceof GrTypeParameterList) {
    return NO_SPACING;
  }
  if (mLPAREN.equals(rightNode.getElementType()) && rightNode.getPsi().getParent().getNode() != null && METHOD_DEFS.contains(rightNode.getPsi().getParent().getNode().getElementType())) {
    return NO_SPACING;
  }
  if (ARGUMENTS.equals(rightNode.getElementType())) {
    return NO_SPACING;
  }
  if ((mLBRACK.equals(rightNode.getElementType()) && rightNode.getPsi().getParent().getNode() != null && INDEX_OR_ARRAY.contains(rightNode.getPsi().getParent().getNode().getElementType())) || ARRAY_DECLARATOR.equals(rightNode.getElementType())) {
    return NO_SPACING;
  }
  if (METHOD_DEFS.contains(leftNode.getElementType())) {
    if (RIGHT_BRACES.contains(rightNode.getElementType())) {
      return Spacing.createSpacing(0,0,1,false,100);
    }
    return Spacing.createSpacing(0,0,settings.BLANK_LINES_AROUND_METHOD + 1,settings.KEEP_LINE_BREAKS,100);
  }
  if (METHOD_DEFS.contains(rightNode.getElementType())) {
    if (LEFT_BRACES.contains(leftNode.getElementType())) {
      return Spacing.createSpacing(0,0,1,false,100);
    }
    return Spacing.createSpacing(0,0,settings.BLANK_LINES_AROUND_METHOD + 1,settings.KEEP_LINE_BREAKS,100);
  }
  if (LEFT_BRACES.contains(leftNode.getElementType()) || RIGHT_BRACES.contains(rightNode.getElementType())) {
    return NO_SPACING_WITH_NEWLINE;
  }
  if ((mLT.equals(leftNode.getElementType()) || mGT.equals(rightNode.getElementType())) && leftNode.getPsi().getParent() != null && leftNode.getPsi().getParent() instanceof GrTypeArgumentList) {
    return NO_SPACING_WITH_NEWLINE;
  }
  if (rightNode.getPsi() != null && rightNode.getPsi() instanceof GrTypeArgumentList) {
    return NO_SPACING_WITH_NEWLINE;
  }
  if ((PUNCTUATION_SIGNS.contains(rightNode.getElementType())) || (mCOLON.equals(rightNode.getElementType()) && !(rightNode.getPsi().getParent() instanceof GrConditionalExpression))) {
    return NO_SPACING;
  }
  if (GroovyTokenTypes.DOTS.contains(leftNode.getElementType())) {
    return NO_SPACING_WITH_NEWLINE;
  }
  if (VARIABLE_DEFINITION.equals(leftNode.getElementType()) || VARIABLE_DEFINITION.equals(rightNode.getElementType())) {
    return Spacing.createSpacing(0,0,1,settings.KEEP_LINE_BREAKS,100);
  }
  if (IMPORT_STATEMENT.equals(leftNode.getElementType()) && IMPORT_STATEMENT.equals(rightNode.getElementType())) {
    return IMPORT_BETWEEN_SPACING;
  }
  if ((IMPORT_STATEMENT.equals(leftNode.getElementType()) && (!IMPORT_STATEMENT.equals(rightNode.getElementType()) && !mSEMI.equals(rightNode.getElementType()))) || ((!IMPORT_STATEMENT.equals(leftNode.getElementType()) && !mSEMI.equals(leftNode.getElementType())) && IMPORT_STATEMENT.equals(rightNode.getElementType()))) {
    return IMPORT_OTHER_SPACING;
  }
  if ((mLT.equals(leftNode.getElementType()) && mLT.equals(rightNode.getElementType())) || (mGT.equals(leftNode.getElementType()) && mGT.equals(rightNode.getElementType()))) {
    return NO_SPACING_WITH_NEWLINE;
  }
  if (PREFIXES.contains(leftNode.getElementType()) || POSTFIXES.contains(rightNode.getElementType()) || (PREFIXES_OPTIONAL.contains(leftNode.getElementType()) && leftNode.getPsi().getParent() instanceof GrUnaryExpression)) {
    return NO_SPACING_WITH_NEWLINE;
  }
  if (RANGES.contains(leftNode.getElementType()) || RANGES.contains(rightNode.getElementType())) {
    return NO_SPACING_WITH_NEWLINE;
  }
  if (leftNode.getPsi().getParent() != null && leftNode.getPsi().getParent().equals(rightNode.getPsi().getParent()) && leftNode.getPsi().getParent() instanceof GrString) {
    return null;
  }
  return COMMON_SPACING;
}
