{
  if (dependantRange != null && braceStyle == CommonCodeStyleSettings.NEXT_LINE_IF_WRAPPED) {
    int space=spaceBeforeLbrace ? 1 : 0;
    return createNonLFSpace(space,dependantRange,false);
  }
 else   if (braceStyle == CommonCodeStyleSettings.END_OF_LINE || braceStyle == CommonCodeStyleSettings.NEXT_LINE_IF_WRAPPED) {
    int space=spaceBeforeLbrace ? 1 : 0;
    return createNonLFSpace(space,null,false);
  }
 else   if (keepOneLine) {
    int space=spaceBeforeLbrace ? 1 : 0;
    return Spacing.createDependentLFSpacing(space,space,myParent.getTextRange(),mySettings.KEEP_LINE_BREAKS,mySettings.KEEP_BLANK_LINES_IN_CODE);
  }
 else {
    return Spacing.createSpacing(0,0,1,false,mySettings.KEEP_BLANK_LINES_IN_CODE);
  }
}
