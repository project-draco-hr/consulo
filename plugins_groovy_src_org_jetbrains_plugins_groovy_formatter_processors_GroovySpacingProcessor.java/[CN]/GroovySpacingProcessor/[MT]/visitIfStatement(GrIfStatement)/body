{
  if (myType2 == kELSE) {
    if (!isOpenBlock(myType1) && myType1 != BLOCK_STATEMENT) {
      myResult=Spacing.createSpacing(1,1,0,mySettings.KEEP_LINE_BREAKS,mySettings.KEEP_BLANK_LINES_IN_CODE);
    }
 else {
      if (mySettings.ELSE_ON_NEW_LINE) {
        myResult=Spacing.createSpacing(0,0,1,mySettings.KEEP_LINE_BREAKS,mySettings.KEEP_BLANK_LINES_IN_CODE);
      }
 else {
        createSpaceProperty(mySettings.SPACE_BEFORE_ELSE_KEYWORD,false,0);
      }
    }
  }
 else   if (myType1 == kELSE) {
    if (myType2 == IF_STATEMENT) {
      if (mySettings.SPECIAL_ELSE_IF_TREATMENT) {
        createSpaceProperty(true,false,0);
      }
 else {
        myResult=Spacing.createSpacing(1,1,1,mySettings.KEEP_LINE_BREAKS,mySettings.KEEP_BLANK_LINES_IN_CODE);
      }
    }
 else {
      if (myType2 == BLOCK_STATEMENT || isOpenBlock(myType2)) {
        createSpaceBeforeLBrace(mySettings.SPACE_BEFORE_ELSE_LBRACE,mySettings.BRACE_STYLE,null,mySettings.KEEP_SIMPLE_BLOCKS_IN_ONE_LINE);
      }
 else {
        createSpacingBeforeElementInsideControlStatement();
      }
    }
  }
 else   if (myType2 == BLOCK_STATEMENT || isOpenBlock(myType2)) {
    boolean space=myChild2.getPsi() == ((GrIfStatement)myParent).getElseBranch() ? mySettings.SPACE_BEFORE_ELSE_LBRACE : mySettings.SPACE_BEFORE_IF_LBRACE;
    createSpaceBeforeLBrace(space,mySettings.BRACE_STYLE,new TextRange(myParent.getTextRange().getStartOffset(),myChild1.getTextRange().getEndOffset()),mySettings.KEEP_SIMPLE_BLOCKS_IN_ONE_LINE);
  }
 else   if (myType2 == mLPAREN) {
    createSpaceInCode(mySettings.SPACE_BEFORE_IF_PARENTHESES);
  }
 else   if (myType1 == mLPAREN || myType2 == mRPAREN) {
    createSpaceInCode(mySettings.SPACE_WITHIN_IF_PARENTHESES);
  }
 else   if (((GrIfStatement)myParent).getThenBranch() == myChild2.getPsi()) {
    createSpacingBeforeElementInsideControlStatement();
  }
}
