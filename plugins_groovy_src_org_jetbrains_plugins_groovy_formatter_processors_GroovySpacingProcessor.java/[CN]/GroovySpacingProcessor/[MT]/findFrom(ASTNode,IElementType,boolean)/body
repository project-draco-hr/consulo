{
  while (current != null) {
    if (current.getElementType() == expected)     return current;
    current=forward ? current.getTreeNext() : current.getTreePrev();
  }
  return null;
}
