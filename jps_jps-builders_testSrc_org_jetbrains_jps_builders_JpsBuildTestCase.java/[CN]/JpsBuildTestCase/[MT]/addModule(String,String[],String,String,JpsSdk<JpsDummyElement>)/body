{
  JpsModule module=myProject.addModule(moduleName,JpsJavaModuleType.INSTANCE);
  module.getSdkReferencesTable().setSdkReference(JpsJavaSdkType.INSTANCE,jdk.createReference());
  module.getDependenciesList().addSdkDependency(JpsJavaSdkType.INSTANCE);
  if (srcPaths.length > 0) {
    for (    String srcPath : srcPaths) {
      module.getContentRootsList().addUrl(JpsPathUtil.pathToUrl(srcPath));
      module.addSourceRoot(JpsPathUtil.pathToUrl(srcPath),JavaSourceRootType.SOURCE);
    }
    JpsJavaModuleExtension extension=JpsJavaExtensionService.getInstance().getOrCreateModuleExtension(module);
    if (outputPath != null) {
      extension.setOutputUrl(JpsPathUtil.pathToUrl(outputPath));
      if (!StringUtil.isEmpty(testOutputPath)) {
        extension.setTestOutputUrl(JpsPathUtil.pathToUrl(testOutputPath));
      }
 else {
        extension.setTestOutputUrl(extension.getOutputUrl());
      }
    }
 else {
      extension.setInheritOutput(true);
    }
  }
  return module;
}
