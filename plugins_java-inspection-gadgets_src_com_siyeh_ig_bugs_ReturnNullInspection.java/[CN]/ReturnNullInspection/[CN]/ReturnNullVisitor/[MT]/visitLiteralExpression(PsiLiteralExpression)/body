{
  super.visitLiteralExpression(value);
  final String text=value.getText();
  if (!PsiKeyword.NULL.equals(text)) {
    return;
  }
  PsiElement parent=value.getParent();
  while (parent instanceof PsiParenthesizedExpression || parent instanceof PsiConditionalExpression || parent instanceof PsiTypeCastExpression) {
    parent=parent.getParent();
  }
  if (!(parent instanceof PsiReturnStatement)) {
    return;
  }
  final PsiMethod method=PsiTreeUtil.getParentOfType(value,PsiMethod.class);
  if (method == null) {
    return;
  }
  if (m_ignorePrivateMethods && method.hasModifierProperty(PsiModifier.PRIVATE)) {
    return;
  }
  final PsiType returnType=method.getReturnType();
  if (returnType == null) {
    return;
  }
  final boolean isArray=returnType.getArrayDimensions() > 0;
  final NullableNotNullManager nullableNotNullManager=NullableNotNullManager.getInstance(method.getProject());
  if (nullableNotNullManager.isNullable(method,false)) {
    return;
  }
  if (CollectionUtils.isCollectionClassOrInterface(returnType)) {
    if (m_reportCollectionMethods) {
      registerError(value,value);
    }
  }
 else   if (isArray) {
    if (m_reportArrayMethods) {
      registerError(value,value);
    }
  }
 else {
    if (m_reportObjectMethods) {
      registerError(value,value);
    }
  }
}
