{
  for (int i=0; i < MAX_SIMULTANEOUS_ALLOCATIONS; ++i) {
    if (!myEmployed[i].getAndSet(true)) {
      T result=(T)myObjects[i];
      if (result == null) {
        myObjects[i]=result=myCreator.createInstance();
      }
      return result;
    }
  }
  throw new RuntimeException("SpinAllocator has exhausted! Check its usages, most likely it is leaking.");
}
