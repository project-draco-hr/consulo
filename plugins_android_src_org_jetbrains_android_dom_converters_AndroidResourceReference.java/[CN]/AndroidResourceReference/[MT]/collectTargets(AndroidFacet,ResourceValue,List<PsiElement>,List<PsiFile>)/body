{
  String resType=resValue.getResourceType();
  if (resType == null) {
    return;
  }
  ResourceManager manager=facet.getResourceManager(resValue.getPackage());
  if (manager != null) {
    String resName=resValue.getResourceName();
    if (resName != null) {
      List<ResourceElement> valueResources=manager.findValueResources(resType,resName,false);
      for (      ResourceElement resource : valueResources) {
        elements.add(resource.getName().getXmlAttributeValue());
      }
      if (resType.equals("id")) {
        List<PsiElement> idAttrs=manager.findIdDeclarations(resName);
        if (idAttrs != null) {
          elements.addAll(idAttrs);
        }
      }
      if (elements.size() == 0) {
        files.addAll(manager.findResourceFiles(resType,resName,false));
      }
    }
  }
}
