{
  final Converter converter=WrappingConverter.getDeepestConverter(myValue.getConverter(),myValue);
  if (converter instanceof EnumConverter || converter == AndroidDomUtil.BOOLEAN_CONVERTER) {
    if (DomCompletionContributor.isSchemaEnumerated(getElement()))     return ArrayUtil.EMPTY_OBJECT_ARRAY;
  }
  if (converter instanceof ResolvingConverter) {
    final ResolvingConverter resolvingConverter=(ResolvingConverter)converter;
    ArrayList<Object> result=new ArrayList<Object>();
    final ConvertContext convertContext=new ConvertContextImpl(myValue);
    for (    Object variant : resolvingConverter.getVariants(convertContext)) {
      String name=converter.toString(variant,convertContext);
      if (name != null) {
        result.add(ElementPresentationManager.getInstance().createVariant(variant,name,resolvingConverter.getPsiElement(variant)));
      }
    }
    return result.toArray();
  }
  return ArrayUtil.EMPTY_OBJECT_ARRAY;
}
