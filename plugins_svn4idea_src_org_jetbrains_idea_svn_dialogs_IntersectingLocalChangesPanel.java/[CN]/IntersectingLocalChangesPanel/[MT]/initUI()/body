{
  final DefaultMutableTreeNode root=new DefaultMutableTreeNode();
  myJTree=new JTree(root);
  myJTree.setRootVisible(false);
  myJTree.setShowsRootHandles(false);
  myJTree.setCellRenderer(new ChangesBrowserNodeRenderer(myProject,true,false));
  TreeModelBuilder builder=new TreeModelBuilder(myProject,true);
  final DefaultTreeModel treeModel=builder.buildModelFromFilePaths(myFilesToShow);
  myJTree.setModel(treeModel);
  myJTree.expandPath(new TreePath(root.getPath()));
  final JLabel label=new JLabel(myText){
    @Override public Dimension getPreferredSize(){
      final Dimension superValue=super.getPreferredSize();
      return new Dimension((int)superValue.getWidth(),(int)(superValue.getHeight() * 1.7));
    }
  }
;
  label.setUI(new MultiLineLabelUI());
  label.setBackground(UIUtil.getTextFieldBackground());
  label.setVerticalTextPosition(JLabel.TOP);
  myPanel.setBackground(UIUtil.getTextFieldBackground());
  myPanel.add(label,BorderLayout.NORTH);
  myPanel.add(myJTree,BorderLayout.CENTER);
  EditSourceOnDoubleClickHandler.install(myJTree);
  EditSourceOnEnterKeyHandler.install(myJTree);
  final EditSourceAction editSourceAction=new EditSourceAction();
  editSourceAction.registerCustomShortcutSet(CommonShortcuts.getEditSource(),myPanel);
}
