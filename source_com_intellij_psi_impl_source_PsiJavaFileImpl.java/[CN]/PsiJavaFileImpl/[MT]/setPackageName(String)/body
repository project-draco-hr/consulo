{
  PsiManager manager=getManager();
  PsiPackageStatement packageStatement=getPackageStatement();
  if (packageStatement != null) {
    if (packageName.length() > 0) {
      PsiJavaCodeReferenceElement packageRef=packageStatement.getPackageReference();
      PsiJavaCodeReferenceElement newRef=JavaPsiFacade.getInstance(getProject()).getElementFactory().createReferenceElementByFQClassName(packageName,getResolveScope());
      packageRef.replace(newRef);
    }
 else {
      packageStatement.delete();
    }
  }
 else {
    if (packageName.length() > 0) {
      add(JavaPsiFacade.getInstance(getProject()).getElementFactory().createPackageStatement(packageName));
    }
  }
}
