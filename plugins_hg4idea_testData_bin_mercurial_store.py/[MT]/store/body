def store(requirements, path, opener, pathjoiner=None):
    pathjoiner = (pathjoiner or os.path.join)
    if ('store' in requirements):
        if ('fncache' in requirements):
            return fncachestore(path, opener, pathjoiner)
        return encodedstore(path, opener, pathjoiner)
    return basicstore(path, opener, pathjoiner)
