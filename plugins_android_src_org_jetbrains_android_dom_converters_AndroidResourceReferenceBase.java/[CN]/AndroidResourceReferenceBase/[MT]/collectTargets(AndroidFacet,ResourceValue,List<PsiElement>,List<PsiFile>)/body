{
  String resType=resValue.getResourceType();
  if (resType == null) {
    return;
  }
  ResourceManager manager=facet.getResourceManager(resValue.getPackage());
  if (manager != null) {
    String resName=resValue.getResourceName();
    if (resName != null) {
      final boolean attrReference=resValue.getPrefix() == '?';
      List<ValueResourceInfoImpl> valueResources=manager.findValueResourceInfos(resType,resName,false,attrReference);
      for (      final ValueResourceInfo resource : valueResources) {
        elements.add(new LazyValueResourceElementWrapper(resource,myElement));
      }
      if (resType.equals("id")) {
        elements.addAll(manager.findIdDeclarations(resName));
      }
      if (elements.size() == 0) {
        files.addAll(manager.findResourceFiles(resType,resName,false));
      }
    }
  }
}
