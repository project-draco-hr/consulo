{
  if (element instanceof LazyValueResourceElementWrapper) {
    element=((LazyValueResourceElementWrapper)element).computeElement();
    if (element == null) {
      return false;
    }
  }
  final ResolveResult[] results=multiResolve(false);
  final PsiFile psiFile=element.getContainingFile();
  final VirtualFile vFile=psiFile != null ? psiFile.getVirtualFile() : null;
  for (  ResolveResult result : results) {
    final PsiElement target=result.getElement();
    if (element.getManager().areElementsEquivalent(target,element)) {
      return true;
    }
    if (target instanceof LazyValueResourceElementWrapper && vFile != null) {
      final ValueResourceInfo info=((LazyValueResourceElementWrapper)target).getResourceInfo();
      if (info.getContainingFile().equals(vFile)) {
        final XmlAttributeValue realTarget=info.computeXmlElement();
        if (element.getManager().areElementsEquivalent(realTarget,element)) {
          return true;
        }
      }
    }
  }
  return false;
}
