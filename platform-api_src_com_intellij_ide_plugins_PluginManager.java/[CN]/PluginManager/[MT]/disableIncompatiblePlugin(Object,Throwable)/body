{
  final PluginId pluginId=getPluginByClassName(cause.getClass().getName());
  if (pluginId != null && !ApplicationManager.getApplication().isHeadlessEnvironment()) {
    final boolean success=disablePlugin(pluginId.getIdString());
    SwingUtilities.invokeLater(new Runnable(){
      public void run(){
        JOptionPane.showMessageDialog(JOptionPane.getRootFrame(),"Incompatible plugin detected: " + pluginId.getIdString() + (success ? "\nThe plugin has been disabled" : ""),"Plugin Manager",JOptionPane.ERROR_MESSAGE);
      }
    }
);
  }
 else {
    throw new RuntimeException(ex);
  }
}
