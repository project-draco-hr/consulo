{
  try {
    IdeaPluginDescriptorImpl descriptor=new IdeaPluginDescriptorImpl(file);
    URI fileURL=file.toURI();
    URL jarURL=new URL("jar:" + fileURL.toASCIIString().replace("!","%21") + "!/META-INF/"+ fileName);
    descriptor.readExternal(jarURL);
    return descriptor;
  }
 catch (  XmlSerializationException e) {
    getLogger().info("Cannot load " + file,e);
    prepareLoadingPluginsErrorMessage("Plugin file " + file.getName() + " contains invalid plugin descriptor file.");
  }
catch (  FileNotFoundException e) {
    return null;
  }
catch (  Exception e) {
    getLogger().info("Cannot load " + file,e);
  }
  return null;
}
