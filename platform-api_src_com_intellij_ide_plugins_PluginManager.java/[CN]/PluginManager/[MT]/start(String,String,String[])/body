{
  try {
    ThreadGroup threadGroup=new ThreadGroup("Idea Thread Group"){
      public void uncaughtException(      Thread t,      Throwable e){
        if (!(e instanceof ProcessCanceledException)) {
          getLogger().error(e);
        }
      }
    }
;
    Runnable runnable=new Runnable(){
      public void run(){
        try {
          ClassloaderUtil.clearJarURLCache();
          PluginsFacade.INSTANCE=new PluginManager.Facade();
          Class aClass=Class.forName(mainClass);
          final Method method=aClass.getDeclaredMethod(methodName,(ArrayUtil.EMPTY_STRING_ARRAY).getClass());
          method.setAccessible(true);
          method.invoke(null,new Object[]{args});
        }
 catch (        Exception e) {
          e.printStackTrace();
          getLogger().error("Error while accessing " + mainClass + "."+ methodName+ " with arguments: "+ Arrays.asList(args),e);
        }
      }
    }
;
    new Thread(threadGroup,runnable,"Idea Main Thread").start();
  }
 catch (  Exception e) {
    getLogger().error(e);
  }
}
