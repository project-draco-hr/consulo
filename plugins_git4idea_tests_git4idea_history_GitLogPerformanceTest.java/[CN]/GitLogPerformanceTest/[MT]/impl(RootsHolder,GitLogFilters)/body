{
  final GitCommitsSequentialIndex commitsSequentially=new GitCommitsSequentialIndex();
  final MediatorImpl mediator=new MediatorImpl(myProject,commitsSequentially);
  final LoadController controller=new LoadController(myProject,mediator,null,commitsSequentially);
  mediator.setLoader(controller);
  final BigTableTableModel tableModel=new BigTableTableModel(Collections.<ColumnInfo>emptyList(),EmptyRunnable.getInstance());
  mediator.setTableModel(tableModel);
  tableModel.setRootsHolder(rootsHolder);
  final Semaphore semaphore=new Semaphore();
  final MyUIRefresh refresh=new MyUIRefresh(semaphore);
  mediator.setUIRefresh(refresh);
  final long start=System.currentTimeMillis();
  semaphore.down();
  mediator.reload(rootsHolder,Collections.<String>emptyList(),Collections.<String>emptyList(),filters,true);
  semaphore.waitFor(300000);
  refresh.assertMe();
  final long end=System.currentTimeMillis();
  System.out.println("Time: " + (end - start));
}
