{
  final MyPsiTreeChangeAdapter psiListener=new MyPsiTreeChangeAdapter();
  final MyProblemListener problemListener=new MyProblemListener();
  final MyFileStatusListener fileStatusListener=new MyFileStatusListener();
  final MyTimerListener timerListener=new MyTimerListener();
  PsiManager.getInstance(myProject).addPsiTreeChangeListener(psiListener);
  WolfTheProblemSolver.getInstance(myProject).addProblemListener(problemListener);
  FileStatusManager.getInstance(myProject).addFileStatusListener(fileStatusListener);
  final ActionManagerEx actionManager=ActionManagerEx.getInstanceEx();
  actionManager.addTimerListener(10000,timerListener);
  final MessageBusConnection busConnection=myProject.getMessageBus().connect();
  busConnection.subscribe(ProjectTopics.PROJECT_ROOTS,new MyModuleRootListener());
  busConnection.subscribe(NavBarModelListener.NAV_BAR,new NavBarModelListener(){
    public void modelChanged(){
      scheduleListUpdate();
    }
    public void selectionChanged(){
      updateItems();
      scrollSelectionToVisible();
    }
  }
);
  if (myDetacher != null)   uninstallListeners();
  myDetacher=new Runnable(){
    public void run(){
      ActionManagerEx.getInstanceEx().removeTimerListener(timerListener);
      busConnection.disconnect();
      WolfTheProblemSolver.getInstance(myProject).removeProblemListener(problemListener);
      PsiManager.getInstance(myProject).removePsiTreeChangeListener(psiListener);
      FileStatusManager.getInstance(myProject).removeFileStatusListener(fileStatusListener);
    }
  }
;
}
