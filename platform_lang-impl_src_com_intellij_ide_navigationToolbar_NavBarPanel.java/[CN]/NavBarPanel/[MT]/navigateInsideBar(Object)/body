{
  myModel.updateModel(object);
  updateList();
  myModel.setSelectedIndex(myList.size() - 1);
  final Runnable afterUpdate=new Runnable(){
    public void run(){
      if (myModel.hasChildren(object)) {
        restorePopup();
      }
 else {
        doubleClick(object);
      }
    }
  }
;
  if (myHint != null) {
    getHintContainerShowPoint().doWhenDone(new AsyncResult.Handler<RelativePoint>(){
      @Override public void run(      final RelativePoint relativePoint){
        runWhenListRebuilt(new Runnable(){
          @Override public void run(){
            myHint.setSize(getPreferredSize());
            myHint.setLocation(relativePoint);
            afterUpdate.run();
          }
        }
);
      }
    }
);
  }
 else {
    afterUpdate.run();
  }
}
