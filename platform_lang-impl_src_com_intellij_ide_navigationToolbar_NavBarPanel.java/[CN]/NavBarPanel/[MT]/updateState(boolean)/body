{
  myUpdateQueue.queueModelUpdateFromFocus();
  if (isShowing()) {
    myUpdateQueue.queueRebuildUi();
    myUpdateQueue.queueAfterAll(new Runnable(){
      @Override public void run(){
        final int selectedIndex=myModel.getSelectedIndex();
        if (show && selectedIndex > -1 && selectedIndex < myModel.size()) {
          final NavBarItem item=getItem(selectedIndex);
          if (item != null) {
            IdeFocusManager.getInstance(myProject).requestFocus(item,true);
          }
        }
      }
    }
,NavBarUpdateQueue.ID.REQUEST_FOCUS);
  }
}
