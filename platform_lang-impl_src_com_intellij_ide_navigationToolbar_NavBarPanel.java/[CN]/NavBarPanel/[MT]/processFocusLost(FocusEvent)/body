{
  final boolean nodePopupInactive=myNodePopup == null || !myNodePopup.isVisible() || !myNodePopup.isFocused();
  final JBPopup child=JBPopupFactory.getInstance().getChildPopup(this);
  final boolean childPopupInactive=child == null || !child.isFocused();
  if (nodePopupInactive && childPopupInactive) {
    final Component opposite=e.getOppositeComponent();
    if (opposite != null && opposite != this && !isAncestorOf(opposite) && !e.isTemporary()) {
      hideHint();
    }
  }
  updateItems();
}
