{
  if (FileTypeManager.getInstance().isFileIgnored(file.getName()))   return;
  if (!file.isWritable()) {
    throw new IncorrectOperationException("Cannot delete a read-only file " + file.getPresentableUrl() + ".");
  }
  if (file.isDirectory()) {
    VirtualFile[] children=file.getChildren();
    for (int i=0; i < children.length; i++) {
      checkDelete(children[i]);
    }
  }
}
