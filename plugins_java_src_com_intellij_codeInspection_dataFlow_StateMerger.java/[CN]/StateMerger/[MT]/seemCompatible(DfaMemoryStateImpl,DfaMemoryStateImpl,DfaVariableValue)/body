{
  if (!state1.equalsSuperficially(state2)) {
    return false;
  }
  Map<DfaVariableValue,DfaConstValue> varValues1=getVarValues(state1);
  Map<DfaVariableValue,DfaConstValue> varValues2=getVarValues(state2);
  for (  DfaVariableValue var : varValues1.keySet()) {
    if (var != differentVar && varValues1.get(var) != varValues2.get(var)) {
      return false;
    }
  }
  for (  DfaVariableValue var : varValues2.keySet()) {
    if (var != differentVar && !varValues1.containsKey(var)) {
      return false;
    }
  }
  return true;
}
