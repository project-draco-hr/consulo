{
  List<UnorderedPair<DfaValue>> result=myEqPairs.get(state);
  if (result == null) {
    Set<UnorderedPair<DfaValue>> eqPairs=ContainerUtil.newHashSet();
    for (    EqClass eqClass : state.getNonTrivialEqClasses()) {
      DfaConstValue constant=eqClass.findConstant(true);
      List<DfaVariableValue> vars=eqClass.getVariables();
      for (int i=0; i < vars.size(); i++) {
        DfaVariableValue var=vars.get(i);
        if (constant != null) {
          eqPairs.add(createPair(var,constant));
        }
        for (int j=i + 1; j < vars.size(); j++) {
          eqPairs.add(createPair(var,vars.get(j)));
        }
      }
    }
    myEqPairs.put(state,result=ContainerUtil.newArrayList(eqPairs));
  }
  return result;
}
