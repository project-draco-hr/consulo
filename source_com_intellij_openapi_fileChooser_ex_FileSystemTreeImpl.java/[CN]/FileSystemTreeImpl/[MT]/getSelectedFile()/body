{
  final TreePath path=myTree.getSelectionPath();
  if (path == null)   return null;
  DefaultMutableTreeNode node=(DefaultMutableTreeNode)path.getLastPathComponent();
  if (!(node.getUserObject() instanceof FileNodeDescriptor))   return null;
  FileNodeDescriptor descriptor=(FileNodeDescriptor)node.getUserObject();
  final VirtualFile file=((FileElement)descriptor.getElement()).getFile();
  return file;
}
