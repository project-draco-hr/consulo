{
  UsageViewPresentation presentation=new UsageViewPresentation();
  presentation.setTabText("Safe Delete");
  presentation.setTargetsNodeText("Attempting to delete");
  presentation.setShowReadOnlyStatusAsRed(true);
  presentation.setShowCancelButton(true);
  presentation.setCodeUsagesString("References found in code");
  presentation.setNonCodeUsagesString("Occurrences found in comments, strings and non-java files");
  presentation.setUsagesString("usages");
  UsageViewManager manager=UsageViewManager.getInstance(myProject);
  UsageTarget[] targets=new UsageTarget[myElements.length];
  for (int i=0; i < targets.length; i++) {
    targets[i]=new PsiElement2UsageTargetAdapter(myElements[i]);
  }
  final UsageView usageView=manager.showUsages(targets,UsageInfoToUsageConverter.convert(new UsageInfoToUsageConverter.TargetElementsDescriptor(myElements),usages),presentation);
  usageView.addPerformOperationAction(new RerunSafeDelete(myProject,myElements,usageView),"Retry",null,"Rerun Safe Delete",'r');
}
