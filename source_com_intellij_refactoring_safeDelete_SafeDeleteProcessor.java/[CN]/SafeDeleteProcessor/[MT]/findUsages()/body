{
  ArrayList<UsageInfo> usages=new ArrayList<UsageInfo>();
  for (int i=0; i < myElements.length; i++) {
    PsiElement element=myElements[i];
    if (element instanceof PsiClass) {
      findClassUsages(((PsiClass)element),usages);
    }
 else     if (element instanceof PsiMethod) {
      findMethodUsages(((PsiMethod)element),usages);
    }
 else     if (element instanceof PsiField) {
      findFieldUsages((PsiField)element,usages);
    }
 else     if (element instanceof PsiFile) {
      findFileUsages((PsiFile)element,usages);
    }
 else     if (element instanceof PsiNamedElement) {
      findGenericElementUsages(element,usages);
    }
  }
  final UsageInfo[] result=usages.toArray(new UsageInfo[usages.size()]);
  return UsageViewUtil.removeDuplicatedUsages(result);
}
