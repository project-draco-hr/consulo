{
  PsiManager manager=psiClass.getManager();
  GlobalSearchScope projectScope=GlobalSearchScope.projectScope(myProject);
  final PsiReference[] references=manager.getSearchHelper().findReferences(psiClass,projectScope,false);
  for (int i=0; i < references.length; i++) {
    PsiReference reference=references[i];
    final PsiElement element=reference.getElement();
    if (!isInside(element,myElements)) {
      PsiElement parent=element.getParent();
      if (parent instanceof PsiImportStatement) {
        usages.add(new SafeDeleteReferenceSimpleDeleteUsageInfo(parent,psiClass,true));
      }
 else {
        usages.add(new SafeDeleteReferenceSimpleDeleteUsageInfo(element,psiClass,false));
      }
    }
  }
  addNonCodeUsages(psiClass,usages,myInsideDeletedElements);
}
