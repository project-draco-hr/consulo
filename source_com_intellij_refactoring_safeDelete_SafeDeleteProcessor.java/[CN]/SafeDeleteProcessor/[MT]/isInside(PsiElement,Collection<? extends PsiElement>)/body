{
  for (Iterator<? extends PsiElement> iterator=ancestors.iterator(); iterator.hasNext(); ) {
    PsiElement element=iterator.next();
    if (PsiTreeUtil.isAncestor(element,place,false))     return true;
    if (place instanceof PsiComment && element instanceof PsiClass) {
      final PsiClass aClass=((PsiClass)element);
      if (aClass.getParent() instanceof PsiJavaFile) {
        final PsiJavaFile file=((PsiJavaFile)aClass.getParent());
        if (PsiTreeUtil.isAncestor(file,place,false)) {
          if (file.getClasses().length == 1) {
            return true;
          }
        }
      }
    }
  }
  return false;
}
