{
  vcs.createDirectory(p("root1"));
  vcs.createDirectory(p("root2"));
  vcs.createDirectory(p("root1/dir"));
  vcs.createFile(p("root1/dir/file"),null);
  vcs.apply();
  vcs.move(p("root1/dir"),p("root2"));
  vcs.apply();
  assertTrue(vcs.hasEntry(p("root2/dir")));
  assertTrue(vcs.hasEntry(p("root2/dir/file")));
  assertFalse(vcs.hasEntry(p("root1/dir")));
  vcs._revert();
  assertTrue(vcs.hasEntry(p("root1/dir")));
  assertTrue(vcs.hasEntry(p("root1/dir/file")));
  assertFalse(vcs.hasEntry(p("root2/dir")));
}
