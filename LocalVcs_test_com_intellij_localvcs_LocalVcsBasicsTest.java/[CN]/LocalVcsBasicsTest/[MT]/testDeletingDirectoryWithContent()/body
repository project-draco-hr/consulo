{
  vcs.createDirectory(p("dir1"));
  vcs.createDirectory(p("dir1/dir2"));
  vcs.createFile(p("dir1/file1"),"content1");
  vcs.createFile(p("dir1/dir2/file2"),"content2");
  vcs.apply();
  vcs.delete(p("dir1"));
  vcs.apply();
  assertFalse(vcs.hasEntry(p("dir1")));
  vcs.revert();
  assertTrue(vcs.hasEntry(p("dir1")));
  assertTrue(vcs.hasEntry(p("dir1/dir2")));
  assertTrue(vcs.hasEntry(p("dir1/file1")));
  assertTrue(vcs.hasEntry(p("dir1/dir2/file2")));
  assertEquals("content1",vcs.getEntry(p("dir1/file1")).getContent());
  assertEquals("content2",vcs.getEntry(p("dir1/dir2/file2")).getContent());
}
