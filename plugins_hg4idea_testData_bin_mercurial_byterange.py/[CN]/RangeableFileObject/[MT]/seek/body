def seek(self, offset, whence=0):
    'Seek within the byte range.\n        Positioning is identical to that described under tell().\n        '
    assert (whence in (0, 1, 2))
    if (whence == 0):
        realoffset = (self.firstbyte + offset)
    elif (whence == 1):
        realoffset = (self.realpos + offset)
    elif (whence == 2):
        raise IOError('seek from end of file not supported.')
    if (self.lastbyte and (realoffset >= self.lastbyte)):
        realoffset = self.lastbyte
    self._do_seek((realoffset - self.realpos))
