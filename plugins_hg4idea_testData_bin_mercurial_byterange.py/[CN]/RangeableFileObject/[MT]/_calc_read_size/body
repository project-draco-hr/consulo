def _calc_read_size(self, size):
    'Handles calculating the amount of data to read based on\n        the range.\n        '
    if self.lastbyte:
        if (size > (-1)):
            if ((self.realpos + size) >= self.lastbyte):
                size = (self.lastbyte - self.realpos)
        else:
            size = (self.lastbyte - self.realpos)
    return size
