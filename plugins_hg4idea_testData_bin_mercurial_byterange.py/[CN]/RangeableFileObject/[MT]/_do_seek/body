def _do_seek(self, offset):
    'Seek based on whether wrapped object supports seek().\n        offset is relative to the current position (self.realpos).\n        '
    assert (offset >= 0)
    if (not hasattr(self.fo, 'seek')):
        self._poor_mans_seek(offset)
    else:
        self.fo.seek((self.realpos + offset))
    self.realpos += offset
