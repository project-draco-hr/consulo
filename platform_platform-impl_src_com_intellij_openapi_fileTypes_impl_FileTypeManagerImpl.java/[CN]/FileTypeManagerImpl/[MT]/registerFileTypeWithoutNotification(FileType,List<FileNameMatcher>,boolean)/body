{
  if (addScheme) {
    mySchemesManager.addNewScheme(fileType,true);
  }
  for (  FileNameMatcher matcher : matchers) {
    myPatternsTable.addAssociation(matcher,fileType);
    myInitialAssociations.addAssociation(matcher,fileType);
  }
  if (fileType instanceof FileTypeIdentifiableByVirtualFile) {
    mySpecialFileTypes=ArrayUtil.append(mySpecialFileTypes,(FileTypeIdentifiableByVirtualFile)fileType,FileTypeIdentifiableByVirtualFile.ARRAY_FACTORY);
  }
}
