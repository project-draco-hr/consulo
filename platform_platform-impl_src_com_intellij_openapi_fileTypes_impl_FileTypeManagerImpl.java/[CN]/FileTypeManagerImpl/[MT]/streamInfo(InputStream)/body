{
  if (stream instanceof BufferedInputStream) {
    InputStream in=ReflectionUtil.getField(stream.getClass(),stream,InputStream.class,"in");
    byte[] buf=ReflectionUtil.getField(stream.getClass(),stream,byte[].class,"buf");
    int count=ReflectionUtil.getField(stream.getClass(),stream,int.class,"count");
    int pos=ReflectionUtil.getField(stream.getClass(),stream,int.class,"pos");
    return "BufferedInputStream(buf=" + (buf == null ? null : Arrays.toString(Arrays.copyOf(buf,count))) + ", count="+ count+ ", pos="+ pos+ ", in="+ streamInfo(in)+ ")";
  }
  if (stream instanceof FileInputStream) {
    String path=ReflectionUtil.getField(stream.getClass(),stream,String.class,"path");
    FileChannel channel=ReflectionUtil.getField(stream.getClass(),stream,FileChannel.class,"channel");
    boolean closed=ReflectionUtil.getField(stream.getClass(),stream,boolean.class,"closed");
    int available=stream.available();
    File file=new File(path);
    return "FileInputStream(path=" + path + ", available="+ available+ ", closed="+ closed+ ", channel="+ channel+ ", channel.size="+ (channel == null ? null : channel.size())+ ", file.exists="+ file.exists()+ ", file.content='"+ FileUtil.loadFile(file)+ "')";
  }
  return stream;
}
