{
  List<FileNameMatcher> associations=myPatternsTable.getAssociations(type);
  Set<FileNameMatcher> defaultAssociations=new THashSet<FileNameMatcher>(myInitialAssociations.getAssociations(type));
  for (  FileNameMatcher matcher : associations) {
    if (defaultAssociations.contains(matcher)) {
      defaultAssociations.remove(matcher);
    }
 else     if (shouldSave(type)) {
      Element content=AbstractFileType.writeMapping(type.getName(),matcher,specifyTypeName);
      if (content != null) {
        map.addContent(content);
      }
    }
  }
  for (  FileNameMatcher matcher : defaultAssociations) {
    Element content=AbstractFileType.writeRemovedMapping(type,matcher,specifyTypeName,isApproved(matcher));
    if (content != null) {
      map.addContent(content);
    }
  }
}
