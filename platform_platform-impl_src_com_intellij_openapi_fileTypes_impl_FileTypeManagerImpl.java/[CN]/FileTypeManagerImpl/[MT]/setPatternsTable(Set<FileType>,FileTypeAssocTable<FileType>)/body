{
  ApplicationManager.getApplication().assertWriteAccessAllowed();
  fireBeforeFileTypesChanged();
  for (  FileType existing : getRegisteredFileTypes()) {
    if (!fileTypes.contains(existing)) {
      mySchemesManager.removeScheme(existing);
    }
  }
  for (  FileType fileType : fileTypes) {
    mySchemesManager.addNewScheme(fileType,true);
    if (fileType instanceof AbstractFileType) {
      ((AbstractFileType)fileType).initSupport();
    }
  }
  myPatternsTable=assocTable.copy();
  fireFileTypesChanged();
}
