{
  File moduleDirFile=new File(moduleFilePath).getParentFile();
  if (moduleDirFile == null)   return null;
  File moduleDirParent=moduleDirFile.getParentFile();
  if (moduleDirParent != null && moduleDirFile.getName().equals(".idea")) {
    moduleDirFile=moduleDirParent;
  }
  String moduleDir=moduleDirFile.getPath();
  moduleDir=moduleDir.replace(File.separatorChar,'/');
  if (moduleDir.endsWith(":/")) {
    moduleDir=moduleDir.substring(0,moduleDir.length() - 1);
  }
  return moduleDir;
}
