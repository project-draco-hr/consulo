{
  final Dimension size=super.getPreferredSize();
  if (myActionPanel != null && !myActionPanel.isVisible()) {
    final Dimension actionPanelSize=myActionPanel.getPreferredSize();
    size.width+=actionPanelSize.width;
  }
  final JBTabsPosition pos=myTabs.getTabsPosition();
switch (pos) {
case top:
case bottom:
    size.height+=myTabs.isEditorTabs() ? TabsUtil.ACTIVE_TAB_UNDERLINE_HEIGHT : getSelectedOffset();
  break;
case left:
case right:
size.width+=getSelectedOffset();
break;
}
return size;
}
