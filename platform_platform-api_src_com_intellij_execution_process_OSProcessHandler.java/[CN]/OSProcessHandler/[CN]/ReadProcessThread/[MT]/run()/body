{
  Thread.currentThread().setPriority(Thread.MAX_PRIORITY);
  try {
    myAlarm.addRequest(new Runnable(){
      public void run(){
        if (!isClosed()) {
          myAlarm.addRequest(this,NOTIFY_TEXT_DELAY);
          checkTextAvailable();
        }
      }
    }
,NOTIFY_TEXT_DELAY);
    try {
      while (!isClosed()) {
        final int c=readNextByte();
        if (c == -1) {
          break;
        }
synchronized (myBuffer) {
          myBuffer.append((char)c);
        }
        if (c == '\n') {
          checkTextAvailable();
        }
      }
    }
 catch (    Exception e) {
      LOG.error(e);
      e.printStackTrace();
    }
    close();
  }
  finally {
    Thread.currentThread().setPriority(Thread.NORM_PRIORITY);
  }
}
