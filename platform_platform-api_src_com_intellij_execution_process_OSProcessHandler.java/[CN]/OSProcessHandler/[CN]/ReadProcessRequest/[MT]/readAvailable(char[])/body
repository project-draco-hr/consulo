{
  if (!isClosed()) {
    if (myReader.ready()) {
      int n=myReader.read(buffer);
      if (n > 0) {
        final boolean hasLineFeed;
synchronized (myBuffer) {
          myBuffer.append(buffer,0,n);
          hasLineFeed=myBuffer.indexOf("\n") >= 0;
        }
        if (hasLineFeed) {
          checkTextAvailable();
        }
      }
    }
    if (isProcessTerminated()) {
      close();
    }
  }
}
