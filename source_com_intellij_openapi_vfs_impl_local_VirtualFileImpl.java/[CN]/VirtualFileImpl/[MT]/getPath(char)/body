{
  ApplicationManager.getApplication().assertReadAccessAllowed();
  int length=calcPathLength(false);
  StringBuffer buffer=new StringBuffer(length);
  appendPath(buffer,separatorChar);
  if (buffer.length() != length) {
    LOG.error("buffer.length() != length",new String[]{"length=" + length,"buffer=" + buffer.toString()});
  }
  return buffer.toString();
}
