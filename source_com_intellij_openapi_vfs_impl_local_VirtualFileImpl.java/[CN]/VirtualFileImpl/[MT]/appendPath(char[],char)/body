{
  int currentLength=myParent == null ? 0 : myParent.appendPath(buffer,separatorChar);
  if (currentLength > 0 && buffer[currentLength - 1] != separatorChar) {
    buffer[currentLength++]=separatorChar;
  }
  String name=getName();
  final int nameLength=name.length();
  name.getChars(0,nameLength,buffer,currentLength);
  int newLength=currentLength + nameLength;
  if (currentLength == 0) {
    StringUtil.replaceChar(buffer,'/',separatorChar,currentLength,newLength);
  }
  return newLength;
}
