{
  final String path=child.getPath();
  if (ourFileSystem.myUnaccountedFiles.containsKey(path)) {
    final VirtualFileImpl prev=ourFileSystem.myUnaccountedFiles.put(path,child);
    LOG.assertTrue(prev == null || !prev.isValid());
    return;
  }
  getChildren();
synchronized (ourFileSystem.LOCK) {
    VirtualFileImpl[] newChildren=new VirtualFileImpl[myChildren.length + 1];
    System.arraycopy(myChildren,0,newChildren,0,myChildren.length);
    newChildren[myChildren.length]=child;
    myChildren=newChildren;
    child.setParent(this);
  }
}
