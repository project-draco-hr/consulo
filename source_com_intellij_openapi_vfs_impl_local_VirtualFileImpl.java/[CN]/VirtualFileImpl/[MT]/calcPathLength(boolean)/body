{
  int length=0;
synchronized (myFileSystem.LOCK) {
    if (myParent != null) {
      length+=myParent.calcPathLength(true);
    }
 else {
      if (myParentPath != null) {
        length+=myParentPath.length();
        if (!StringUtil.endsWithChar(myParentPath,'/')) {
          length++;
        }
      }
    }
  }
  length+=myName.length();
  if (addSepAfter && !StringUtil.endsWithChar(myName,'/')) {
    length++;
  }
  return length;
}
