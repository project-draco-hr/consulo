{
  if (ourFileSystem.myUnaccountedFiles.containsValue(child)) {
    ourFileSystem.myUnaccountedFiles.put(child.getPath(),null);
    child.myParent=null;
    return;
  }
  getChildren();
  ourFileSystem.WRITE_LOCK.lock();
  try {
    for (int i=0; i < myChildren.length; i++) {
      if (myChildren[i] == child) {
        VirtualFileImpl[] newChildren=new VirtualFileImpl[myChildren.length - 1];
        System.arraycopy(myChildren,0,newChildren,0,i);
        System.arraycopy(myChildren,i + 1,newChildren,i,newChildren.length - i);
        myChildren=newChildren;
        child.myParent=null;
        return;
      }
    }
  }
  finally {
    ourFileSystem.WRITE_LOCK.unlock();
  }
}
