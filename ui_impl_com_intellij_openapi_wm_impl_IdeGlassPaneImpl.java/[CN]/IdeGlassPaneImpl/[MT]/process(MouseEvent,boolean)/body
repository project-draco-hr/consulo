{
  final boolean processingDragEnd=myMousePressedComponent != null && e.getID() == MouseEvent.MOUSE_RELEASED;
  if (processingDragEnd) {
    final Point releasePoint=SwingUtilities.convertPoint(e.getComponent(),e.getPoint(),myMousePressedComponent);
    redispatch(convertEvent(e,myMousePressedComponent,releasePoint,MouseEvent.MOUSE_RELEASED),motionEvent,myMousePressedComponent);
    myMousePressedComponent=null;
    myMousePressedContainer=null;
    return;
  }
  final boolean processingDrag=myMousePressedComponent != null && e.getID() == MouseEvent.MOUSE_DRAGGED;
  final JLayeredPane lp=myRootPane.getLayeredPane();
  final Point lpPoint=SwingUtilities.convertPoint(e.getComponent(),e.getPoint(),lp);
  if (processForContainer(e,motionEvent,lp,lpPoint))   return;
  final Container cp=myRootPane.getContentPane();
  final Point cpPoint=SwingUtilities.convertPoint(e.getComponent(),e.getPoint(),cp);
  if (!processingDrag && cpPoint.y < 0) {
    final JMenuBar mb=myRootPane.getJMenuBar();
    if (mb != null) {
      if (processForContainer(e,motionEvent,mb,SwingUtilities.convertPoint(e.getComponent(),e.getPoint(),mb)))       return;
    }
  }
  processForContainer(e,motionEvent,cp,cpPoint);
}
