{
  if (psiElement().withParent(psiElement(PsiReferenceExpression.class).withParent(PsiThrowStatement.class)).accepts(element)) {
    return new Pair<ElementFilter,TailType>(TrueFilter.INSTANCE,TailType.SEMICOLON);
  }
  if (psiElement().afterLeaf(PsiKeyword.RETURN).inside(PsiReturnStatement.class).accepts(element) && !secondBase && !secondChain) {
    return new Pair<ElementFilter,TailType>(new ElementExtractorFilter(new ExcludeDeclaredFilter(new ClassFilter(PsiMethod.class))),TailType.SEMICOLON);
  }
  if (psiElement().inside(PsiJavaPatterns.or(psiElement(PsiAnnotationParameterList.class),psiElement(PsiSwitchLabelStatement.class))).accepts(element)) {
    return new Pair<ElementFilter,TailType>(new ElementExtractorFilter(new AndFilter(new ClassFilter(PsiField.class),new ModifierFilter(PsiKeyword.STATIC,PsiKeyword.FINAL))),TailType.NONE);
  }
  if (psiElement().inside(PsiJavaPatterns.or(PsiJavaPatterns.psiElement(PsiAssignmentExpression.class),PsiJavaPatterns.psiElement(PsiVariable.class))).andNot(psiElement().afterLeaf(".")).accepts(element) && (secondBase || !secondChain)) {
    return new Pair<ElementFilter,TailType>(new ElementExtractorFilter(new AndFilter(new ExcludeSillyAssignment(),new ExcludeDeclaredFilter(new ClassFilter(PsiVariable.class)))),TailType.NONE);
  }
  return new Pair<ElementFilter,TailType>(TrueFilter.INSTANCE,TailType.NONE);
}
