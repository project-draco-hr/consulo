{
  if (!file.isValid()) {
    return false;
  }
  Document document=FileDocumentManager.getInstance().getDocument(file);
  if (document != null) {
    final PsiFile psiFile=PsiDocumentManager.getInstance(myProject).getPsiFile(document);
    if (psiFile != null) {
      CachedValuesManager cachedValuesManager=CachedValuesManager.getManager(myProject);
      return cachedValuesManager.getCachedValue(psiFile,CONTAINS_ERROR_ELEMENT,new CachedValueProvider<Boolean>(){
        @Override public Result<Boolean> compute(){
          boolean error=PsiTreeUtil.hasErrorElements(psiFile);
          return Result.create(error,psiFile);
        }
      }
,false);
    }
  }
  return WolfTheProblemSolver.getInstance(myProject).hasSyntaxErrors(file);
}
