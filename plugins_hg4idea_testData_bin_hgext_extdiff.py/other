'command to allow external programs to compare revisions\n\nThe extdiff Mercurial extension allows you to use external programs\nto compare revisions, or revision with working directory. The external\ndiff programs are called with a configurable set of options and two\nnon-option arguments: paths to directories containing snapshots of\nfiles to compare.\n\nThe extdiff extension also allows to configure new diff commands, so\nyou do not need to type "hg extdiff -p kdiff3" always. ::\n\n  [extdiff]\n  # add new command that runs GNU diff(1) in \'context diff\' mode\n  cdiff = gdiff -Nprc5\n  ## or the old way:\n  #cmd.cdiff = gdiff\n  #opts.cdiff = -Nprc5\n\n  # add new command called vdiff, runs kdiff3\n  vdiff = kdiff3\n\n  # add new command called meld, runs meld (no need to name twice)\n  meld =\n\n  # add new command called vimdiff, runs gvimdiff with DirDiff plugin\n  # (see http://www.vim.org/scripts/script.php?script_id=102) Non\n  # English user, be sure to put "let g:DirDiffDynamicDiffText = 1" in\n  # your .vimrc\n  vimdiff = gvim -f \'+next\' \'+execute "DirDiff" argv(0) argv(1)\'\n\nYou can use -I/-X and list of file or directory names like normal "hg\ndiff" command. The extdiff extension makes snapshots of only needed\nfiles, so running the external diff program will actually be pretty\nfast (at least faster than having to compare the entire tree).\n'
from mercurial.i18n import _
from mercurial.node import short, nullid
from mercurial import cmdutil, util, commands, encoding
import os, shlex, shutil, tempfile, re
cmdtable = {'extdiff': (extdiff, ([('p', 'program', '', _('comparison program to run')), ('o', 'option', [], _('pass option to comparison program')), ('r', 'rev', [], _('revision')), ('c', 'change', '', _('change made by revision'))] + commands.walkopts), _('hg extdiff [OPT]... [FILE]...')), }
