{
  VirtualFile virtualFile=FileDocumentManager.getInstance().getFile(document);
  if (virtualFile == null) {
    return null;
  }
  final RangeHighlighter highlighter=createHighlighter(project,document,lineIndex);
  if (highlighter == null) {
    return null;
  }
  final RunToCursorBreakpoint breakpoint=new RunToCursorBreakpoint(project,highlighter,restoreBreakpoints);
  breakpoint.getHighlighter().dispose();
  return (RunToCursorBreakpoint)breakpoint.init();
}
