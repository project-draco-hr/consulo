{
  final SortedComboBoxModel<LanguageDialect> model=new SortedComboBoxModel<LanguageDialect>(new Comparator<LanguageDialect>(){
    public int compare(    final LanguageDialect o1,    final LanguageDialect o2){
      if (o1 == null)       return o2 == null ? 0 : -1;
      if (o2 == null)       return 1;
      return o1.getID().compareTo(o2.getID());
    }
  }
);
  for (int i=0; i < myFileTypeButtons.length; i++) {
    JRadioButton fileTypeButton=myFileTypeButtons[i];
    if (fileTypeButton.isSelected()) {
      final FileType type=myFileTypes[i];
      if (type instanceof LanguageFileType) {
        final Language lang=((LanguageFileType)type).getLanguage();
        final HashSet<LanguageDialect> result=new HashSet<LanguageDialect>();
        result.add(null);
        for (        Language dialect : Language.getRegisteredLanguages()) {
          if (dialect instanceof LanguageDialect && dialect.getBaseLanguage() == lang) {
            result.add((LanguageDialect)dialect);
          }
        }
        final LanguageDialect[] languageDialects=lang.getAvailableLanguageDialects();
        if (languageDialects != null) {
          result.addAll(Arrays.asList(languageDialects));
        }
        model.setAll(result);
      }
      break;
    }
  }
  myDialectsComboBox.setModel(model);
  myDialectsComboBox.setVisible(model.getSize() > 1);
}
