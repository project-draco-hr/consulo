{
  for (  Map.Entry<CompositePackagingElement<?>,ManifestFileConfiguration> entry : myManifestFiles.entrySet()) {
    final ManifestFileConfiguration configuration=entry.getValue();
    final String path=configuration.getManifestFilePath();
    if (path == null)     continue;
    final ManifestFileConfiguration original=myOriginalManifestFiles.get(entry.getKey());
    if (original != null && original.equals(configuration)) {
      continue;
    }
    VirtualFile file=LocalFileSystem.getInstance().findFileByPath(path);
    if (file == null) {
      final File ioFile=new File(FileUtil.toSystemDependentName(path));
      FileUtil.createIfDoesntExist(ioFile);
      file=LocalFileSystem.getInstance().refreshAndFindFileByIoFile(ioFile);
      if (file == null) {
        LOG.error("cannot create file: " + ioFile);
      }
    }
    ManifestFileUtil.updateManifest(file,configuration,true);
  }
}
