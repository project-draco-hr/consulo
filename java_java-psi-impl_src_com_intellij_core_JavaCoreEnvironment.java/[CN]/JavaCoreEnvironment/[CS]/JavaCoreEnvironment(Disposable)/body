{
  super(parentDisposable);
  registerFileType(JavaClassFileType.INSTANCE,"class");
  addExplicitExtension(FileTypeFileViewProviders.INSTANCE,JavaClassFileType.INSTANCE,new ClassFileViewProviderFactory());
  registerProjectExtensionPoint(PsiElementFinder.EP_NAME,PsiElementFinder.class);
  myFileManager=new CoreJavaFileManager(myPsiManager,myJarFileSystem);
  JavaPsiFacadeImpl javaPsiFacade=new JavaPsiFacadeImpl(myProject,myPsiManager,myFileManager,null);
  registerComponentInstance(myProject.getPicoContainer(),JavaPsiFacade.class,javaPsiFacade);
  myProject.registerService(JavaPsiFacade.class,javaPsiFacade);
}
