{
  final PsiManager manager=context.getManager();
  final PsiElementFactory factory=JavaPsiFacade.getInstance(manager.getProject()).getElementFactory();
  final PsiConstantEvaluationHelper evaluationHelper=JavaPsiFacade.getInstance(manager.getProject()).getConstantEvaluationHelper();
  final PsiExpression fromOffsetExpression=factory.createExpressionFromText(expressionText,context);
  final Object fromOffsetConstant=evaluationHelper.computeConstantExpression(fromOffsetExpression);
  if (fromOffsetConstant != null) {
    return fromOffsetConstant.toString();
  }
 else {
    return expressionText;
  }
}
