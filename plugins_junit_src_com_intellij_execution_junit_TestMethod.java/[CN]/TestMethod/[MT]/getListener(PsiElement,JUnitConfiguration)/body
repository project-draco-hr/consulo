{
  if (element instanceof PsiMethod) {
    final PsiMethod method=(PsiMethod)element;
    if (!method.getName().equals(configuration.getPersistentData().getMethodName()))     return null;
    if (!method.getContainingClass().equals(configuration.myClass.getPsiElement()))     return null;
    return new RefactoringElementListener(){
      public void elementMoved(      final PsiElement newElement){
        setMethod(configuration,(PsiMethod)newElement);
      }
      public void elementRenamed(      final PsiElement newElement){
        setMethod(configuration,(PsiMethod)newElement);
      }
      private void setMethod(      final JUnitConfiguration configuration,      final PsiMethod psiMethod){
        final boolean generatedName=configuration.isGeneratedName();
        configuration.getPersistentData().setTestMethod(PsiLocation.fromPsiElement(psiMethod));
        if (generatedName)         configuration.setGeneratedName();
      }
    }
;
  }
 else {
    return RefactoringListeners.getClassOrPackageListener(element,configuration.myClass);
  }
}
