{
  DataContext dataContext=e.getDataContext();
  Project project=PlatformDataKeys.PROJECT.getData(dataContext);
  Editor editor=PlatformDataKeys.EDITOR.getData(dataContext);
switch (myCompletionType) {
case BASIC:
    FeatureUsageTracker.getInstance().triggerFeatureUsed(CodeCompletionFeatures.EDITING_COMPLETION_BASIC);
  break;
case SMART:
FeatureUsageTracker.getInstance().triggerFeatureUsed(CodeCompletionFeatures.EDITING_COMPLETION_SMARTTYPE_GENERAL);
break;
case CLASS_NAME:
FeatureUsageTracker.getInstance().triggerFeatureUsed(CodeCompletionFeatures.EDITING_COMPLETION_CLASSNAME);
break;
}
final InputEvent inputEvent=e.getInputEvent();
new CodeCompletionHandlerBase(myCompletionType).invokeCompletion(project,editor,1,inputEvent != null && inputEvent.getModifiers() != 0);
}
