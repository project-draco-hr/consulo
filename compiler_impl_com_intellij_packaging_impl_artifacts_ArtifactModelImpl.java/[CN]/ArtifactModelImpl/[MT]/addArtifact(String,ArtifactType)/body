{
  final String outputUrl=CompilerProjectExtension.getInstance(myArtifactManager.getProject()).getCompilerOutputUrl();
  final String outputPath=outputUrl != null ? VfsUtil.urlToPath(outputUrl) + "/artifacts/" + FileUtil.sanitizeFileName(name) : null;
  final ArtifactImpl artifact=new ArtifactImpl(generateUniqueName(name),artifactType,false,new ArtifactRootElementImpl(),outputPath,true);
  myOriginalArtifacts.add(artifact);
  myArtifact2ModifiableCopy.put(artifact,artifact);
  myModifiable2Original.put(artifact,artifact);
  artifactsChanged();
  myDispatcher.getMulticaster().artifactAdded(artifact);
  return artifact;
}
