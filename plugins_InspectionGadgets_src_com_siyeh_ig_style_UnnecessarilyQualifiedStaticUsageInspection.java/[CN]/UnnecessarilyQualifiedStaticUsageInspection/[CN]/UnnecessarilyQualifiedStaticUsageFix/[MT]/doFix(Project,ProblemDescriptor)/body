{
  final PsiElement element=descriptor.getPsiElement();
  if (element instanceof PsiReferenceExpression) {
    final PsiReferenceExpression expression=(PsiReferenceExpression)element;
    final String newExpression=expression.getReferenceName();
    if (newExpression == null) {
      return;
    }
    replaceExpression(expression,newExpression);
  }
 else {
    final PsiManager manager=element.getManager();
    final CodeStyleManager styleManager=manager.getCodeStyleManager();
    styleManager.shortenClassReferences(element);
  }
}
