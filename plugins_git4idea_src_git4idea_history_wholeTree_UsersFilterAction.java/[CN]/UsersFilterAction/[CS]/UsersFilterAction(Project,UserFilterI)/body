{
  super(project,USER,"User");
  myUserFilterI=userFilterI;
  myCurrentText="";
  myUsers=NewGitUsersComponent.getInstance(myProject);
  myAllAction=new DumbAwareAction(ALL){
    @Override public void actionPerformed(    AnActionEvent e){
      myLabel.setText(ALL);
      myUserFilterI.allSelected();
      myCurrentText="";
      myPanel.setToolTipText(USER + " " + ALL);
      myPreselectedUser=null;
    }
  }
;
  mySelectMe=new DumbAwareAction(){
    @Override public void actionPerformed(    AnActionEvent e){
      final String meText=getMeText();
      myLabel.setText(meText);
      myPanel.setToolTipText(USER + " " + meText);
      myUserFilterI.meSelected();
      myCurrentText="";
      myPreselectedUser=null;
    }
    @Override public void update(    AnActionEvent e){
      super.update(e);
      e.getPresentation().setVisible(myUserFilterI.isMeKnown());
      e.getPresentation().setText(getMeText());
    }
  }
;
  myPresetUserAction=new DumbAwareAction(){
    @Override public void actionPerformed(    AnActionEvent e){
      myLabel.setText(myPreselectedUser);
      myPanel.setToolTipText(USER + " " + myPreselectedUser);
      myUserFilterI.filter(myPreselectedUser);
      myCurrentText=myPreselectedUser;
      myPreselectedUser=null;
    }
    @Override public void update(    AnActionEvent e){
      super.update(e);
      e.getPresentation().setVisible((!StringUtil.isEmptyOrSpaces(myPreselectedUser)) && (!Comparing.equal(myPreselectedUser,myUserFilterI.getMe())));
      e.getPresentation().setText(myPreselectedUser);
    }
  }
;
  createPopup(project);
  mySelect=new DumbAwareAction("Select.."){
    @Override public void actionPerformed(    AnActionEvent e){
      if (myPopup != null) {
        mySelectOkAction.unregisterCustomShortcutSet(myPopup.getContent());
      }
      myComponentPopupBuilder.setMayBeParent(true);
      myPopup=myComponentPopupBuilder.createPopup();
      myTextFieldCompletionProvider.apply(myEditorField);
      myEditorField.setText(myCurrentText);
      final JComponent content=myPopup.getContent();
      mySelectOkAction.registerCustomShortcutSet(CommonShortcuts.CTRL_ENTER,content);
      final Point point=new Point(0,0);
      SwingUtilities.convertPointToScreen(point,myLabel);
      myPopup.setMinimumSize(new Dimension(200,90));
      myPopup.showInScreenCoordinates(myLabel,point);
      myPreselectedUser=null;
    }
  }
;
  myLabel.setText(ALL);
}
