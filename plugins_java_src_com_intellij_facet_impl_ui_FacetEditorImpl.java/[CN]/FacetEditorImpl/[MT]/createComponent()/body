{
  final JComponent editorComponent;
  if (myEditorTabs.length > 1) {
    final TabbedPaneWrapper tabbedPane=new TabbedPaneWrapper(myDisposable);
    for (    FacetEditorTab editorTab : myEditorTabs) {
      JComponent c=editorTab.createComponent();
      if (c != null) {
        UIUtil.addInsets(c,UIUtil.PANEL_SMALL_INSETS);
      }
      tabbedPane.addTab(editorTab.getDisplayName(),c);
    }
    tabbedPane.addChangeListener(new ChangeListener(){
      public void stateChanged(      ChangeEvent e){
        myEditorTabs[mySelectedTabIndex].onTabLeaving();
        mySelectedTabIndex=tabbedPane.getSelectedIndex();
        onTabSelected(myEditorTabs[mySelectedTabIndex]);
      }
    }
);
    editorComponent=tabbedPane.getComponent();
    myTabbedPane=tabbedPane;
  }
 else   if (myEditorTabs.length == 1) {
    editorComponent=myEditorTabs[0].createComponent();
  }
 else {
    editorComponent=new JPanel();
  }
  final JPanel panel=new JPanel(new BorderLayout());
  panel.add(BorderLayout.CENTER,editorComponent);
  panel.add(BorderLayout.SOUTH,myErrorPanel.getComponent());
  return panel;
}
