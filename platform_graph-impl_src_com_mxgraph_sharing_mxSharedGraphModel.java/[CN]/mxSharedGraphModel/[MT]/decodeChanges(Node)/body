{
  codec.setDocument(node.getOwnerDocument());
  LinkedList<mxAtomicGraphModelChange> changes=new LinkedList<mxAtomicGraphModelChange>();
  while (node != null) {
    Object change;
    if (node.getNodeName().equals("mxRootChange")) {
      mxCodec tmp=new mxCodec(node.getOwnerDocument());
      change=tmp.decode(node);
    }
 else {
      change=codec.decode(node);
    }
    if (change instanceof mxAtomicGraphModelChange) {
      mxAtomicGraphModelChange ac=(mxAtomicGraphModelChange)change;
      ac.setModel(model);
      ac.execute();
      if (ac instanceof mxChildChange && ((mxChildChange)ac).getParent() == null) {
        cellRemoved(((mxChildChange)ac).getChild());
      }
      changes.add(ac);
    }
    node=node.getNextSibling();
  }
  return changes.toArray(new mxAtomicGraphModelChange[changes.size()]);
}
