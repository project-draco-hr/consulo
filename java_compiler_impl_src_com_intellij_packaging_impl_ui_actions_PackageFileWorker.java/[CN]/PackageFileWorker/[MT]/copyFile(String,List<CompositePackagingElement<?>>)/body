{
  if (parents.isEmpty()) {
    final String fullOutputPath=DeploymentUtil.appendToPath(outputPath,myRelativeOutputPath);
    File target=new File(fullOutputPath);
    if (FileUtil.filesEqual(myFile,target)) {
      LOG.debug("  skipping copying file to itself");
    }
 else {
      LOG.debug("  copying to " + fullOutputPath);
      FileUtil.copy(myFile,target);
    }
    return;
  }
  final CompositePackagingElement<?> element=parents.get(0);
  final String nextOutputPath=outputPath + "/" + element.getName();
  final List<CompositePackagingElement<?>> parentsTrail=parents.subList(1,parents.size());
  if (element instanceof ArchivePackagingElement) {
    packFile(nextOutputPath,"",parentsTrail);
  }
 else {
    copyFile(nextOutputPath,parentsTrail);
  }
}
