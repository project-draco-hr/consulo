{
  final CommonActionsManager actionManager=CommonActionsManager.getInstance();
  TreeExpander treeExpander=new TreeExpander(){
    public void expandAll(){
      TreeUtil.expandAll(myTree);
    }
    public boolean canExpand(){
      return true;
    }
    public void collapseAll(){
      TreeUtil.collapseAll(myTree,3);
    }
    public boolean canCollapse(){
      return true;
    }
  }
;
  AnAction expandAllToolbarAction=actionManager.createExpandAllAction(treeExpander);
  expandAllToolbarAction.registerCustomShortcutSet(expandAllToolbarAction.getShortcutSet(),myTree);
  DefaultActionGroup actions=new DefaultActionGroup();
  actions.add(expandAllToolbarAction);
  AnAction collapseAllToolbarAction=actionManager.createCollapseAllAction(treeExpander);
  collapseAllToolbarAction.registerCustomShortcutSet(collapseAllToolbarAction.getShortcutSet(),myTree);
  actions.add(collapseAllToolbarAction);
  return ActionManager.getInstance().createActionToolbar(ActionPlaces.MAIN_TOOLBAR,actions,true);
}
