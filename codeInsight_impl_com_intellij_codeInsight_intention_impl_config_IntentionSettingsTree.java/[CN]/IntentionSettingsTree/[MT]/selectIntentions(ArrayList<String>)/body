{
  final Set<TreeNode> nodesToSelect=new HashSet<TreeNode>();
  TreeUtil.traverseDepth((MutableTreeNode)myTree.getModel().getRoot(),new TreeUtil.Traverse(){
    public boolean accept(    final Object node){
      if (node instanceof DefaultMutableTreeNode) {
        final DefaultMutableTreeNode treeNode=((DefaultMutableTreeNode)node);
        final Object userObject=treeNode.getUserObject();
        if (userObject instanceof IntentionActionMetaData) {
          final IntentionActionMetaData metaData=(IntentionActionMetaData)userObject;
          if (options.contains(metaData.myFamily)) {
            nodesToSelect.add(treeNode);
            return true;
          }
        }
      }
      return true;
    }
  }
);
  for (  TreeNode treeNode : nodesToSelect) {
    TreeUtil.selectNode(myTree,treeNode);
  }
}
