{
  final boolean shouldLoad;
  if (descriptor.getPluginId().getIdString().equals(CORE_PLUGIN_ID)) {
    shouldLoad=true;
  }
 else {
    final String loadPluginCategory=System.getProperty("idea.load.plugins.category");
    if (loadPluginCategory != null) {
      shouldLoad=loadPluginCategory.equals(descriptor.getCategory());
    }
 else {
      final String pluginId=System.getProperty("idea.load.plugins.id");
      shouldLoad=pluginId == null || (descriptor.getPluginId() != null && descriptor.getPluginId().getIdString() != null && pluginId.equals(descriptor.getPluginId().getIdString()));
    }
  }
  return !shouldLoad;
}
