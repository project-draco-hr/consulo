def rename(self):
    if (not self._fp.closed):
        self._fp.close()
        rename(self.temp, localpath(self.__name))
