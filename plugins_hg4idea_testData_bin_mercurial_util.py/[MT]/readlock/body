def readlock(pathname):
    try:
        return os.readlink(pathname)
    except OSError as why:
        if (why.errno not in (errno.EINVAL, errno.ENOSYS)):
            raise
    except AttributeError:
        pass
    return posixfile(pathname).read()
