def checksignature(func):
    'wrap a function with code to check for calling errors'

    def check(*args, **kwargs):
        try:
            return func(*args, **kwargs)
        except TypeError:
            if (len(traceback.extract_tb(sys.exc_info()[2])) == 1):
                raise error.SignatureError
            raise
    return check
