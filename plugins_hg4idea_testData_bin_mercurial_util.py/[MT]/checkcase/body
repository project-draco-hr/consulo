def checkcase(path):
    '\n    Check whether the given path is on a case-sensitive filesystem\n\n    Requires a path (like /foo/.hg) ending with a foldable final\n    directory component.\n    '
    s1 = os.stat(path)
    (d, b) = os.path.split(path)
    p2 = os.path.join(d, b.upper())
    if (path == p2):
        p2 = os.path.join(d, b.lower())
    try:
        s2 = os.stat(p2)
        if (s2 == s1):
            return False
        return True
    except:
        return True
