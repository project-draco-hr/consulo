def ellipsis(text, maxlength=400):
    'Trim string to at most maxlength (default: 400) characters.'
    if (len(text) <= maxlength):
        return text
    else:
        return ('%s...' % text[:(maxlength - 3)])
