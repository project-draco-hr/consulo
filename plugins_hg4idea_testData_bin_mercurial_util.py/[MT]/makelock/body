def makelock(info, pathname):
    try:
        return os.symlink(info, pathname)
    except OSError as why:
        if (why.errno == errno.EEXIST):
            raise
    except AttributeError:
        pass
    ld = os.open(pathname, ((os.O_CREAT | os.O_WRONLY) | os.O_EXCL))
    os.write(ld, info)
    os.close(ld)
