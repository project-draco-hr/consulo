def hgexecutable():
    "return location of the 'hg' executable.\n\n    Defaults to $HG or 'hg' in the search path.\n    "
    if (_hgexecutable is None):
        hg = os.environ.get('HG')
        if hg:
            set_hgexecutable(hg)
        elif main_is_frozen():
            set_hgexecutable(sys.executable)
        else:
            exe = (find_exe('hg') or os.path.basename(sys.argv[0]))
            set_hgexecutable(exe)
    return _hgexecutable
