{
  ProjectLevelVcsManager vcsManager=ProjectLevelVcsManager.getInstance(myProject);
  List<VirtualFile> currentVcsRoots=Arrays.asList(vcsManager.getRootsUnderVcs(myVcs));
  List<VcsDirectoryMapping> mappings=new ArrayList<VcsDirectoryMapping>(vcsManager.getDirectoryMappings(myVcs));
  for (  VirtualFile root : roots) {
    if (!currentVcsRoots.contains(root)) {
      mappings.add(new VcsDirectoryMapping(root.getPath(),myVcs.getName()));
    }
  }
  vcsManager.setDirectoryMappings(mappings);
}
