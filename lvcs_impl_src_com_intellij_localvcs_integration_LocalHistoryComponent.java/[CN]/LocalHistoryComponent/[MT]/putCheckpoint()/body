{
  return new Checkpoint(){
    Change myLastChange=myVcs.getLastChange();
    public void revertToPreviousState(){
      try {
        ChangeVisitor v=new ChangeRevertionVisitor(myVcs,createIdeaGateway());
        for (        Change c : myVcs.getChangesAfter(myLastChange)) {
          c.accept(v);
        }
      }
 catch (      Exception e) {
        throw new RuntimeException(e);
      }
    }
  }
;
}
