{
  final PsiElement currentValue=myParameterValues.get(parameter);
  if (currentValue == null) {
    if (!(value instanceof PsiExpression))     return false;
    final PsiType type=((PsiExpression)value).getType();
    final PsiType parameterType=parameter.getType();
    if (type == null || !parameterType.isAssignableFrom(type))     return false;
    myParameterValues.put(parameter,value);
    final ArrayList<PsiElement> elements=new ArrayList<PsiElement>();
    myParameterOccurences.put(parameter,elements);
    return true;
  }
 else {
    if (!PsiEquivalenceUtil.areElementsEquivalent(currentValue,value)) {
      return false;
    }
    myParameterOccurences.get(parameter).add(value);
    return true;
  }
}
