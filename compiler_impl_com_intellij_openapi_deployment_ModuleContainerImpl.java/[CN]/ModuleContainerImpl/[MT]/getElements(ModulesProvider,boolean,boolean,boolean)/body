{
  ArrayList<ContainerElement> result=new ArrayList<ContainerElement>();
  for (  final ContainerElement containerElement : myContents) {
    final boolean resolved=containerElement.resolveElement(provider);
    if ((resolved && includeResolved || !resolved && includeUnresolved) && (includeNonPackaged || containerElement.getPackagingMethod() != PackagingMethod.DO_NOT_PACKAGE)) {
      result.add(containerElement);
    }
  }
  return result.toArray(new ContainerElement[result.size()]);
}
