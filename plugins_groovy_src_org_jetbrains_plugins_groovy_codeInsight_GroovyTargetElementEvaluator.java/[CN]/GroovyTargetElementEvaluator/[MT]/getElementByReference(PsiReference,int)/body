{
  PsiElement sourceElement=ref.getElement();
  if (sourceElement == null)   return null;
  if (sourceElement instanceof GrCodeReferenceElement) {
    GrNewExpression newExpr;
    if (sourceElement.getParent() instanceof GrNewExpression) {
      newExpr=(GrNewExpression)sourceElement.getParent();
    }
 else     if (sourceElement.getParent().getParent() instanceof GrNewExpression) {
      newExpr=(GrNewExpression)sourceElement.getParent().getParent();
    }
 else {
      return null;
    }
    final PsiMethod constructor=newExpr.resolveConstructor();
    final GrArgumentList argumentList=newExpr.getArgumentList();
    if (constructor != null && argumentList != null && argumentList.getNamedArguments().length != 0 && argumentList.getExpressionArguments().length == 0) {
      if (constructor.getParameterList().getParametersCount() == 0)       return constructor.getContainingClass();
    }
    return constructor;
  }
  if (sourceElement instanceof GrReferenceElementImpl) {
    PsiElement resolve=((GrReferenceElementImpl)sourceElement).resolve();
    if (resolve != null) {
      return correctSearchTargets(resolve);
    }
  }
  return null;
}
