{
  DefaultActionGroup actionGroup=new DefaultActionGroup();
  for (  String single : groups.singletonGroups) {
    actionGroup.add(actionGetter.fun(single));
  }
  if (recentItems != null) {
    actionGroup.add(recentItems);
  }
  for (  Map.Entry<String,TreeSet<String>> group : groups.expandedGroups.entrySet()) {
    actionGroup.addSeparator(group.getKey());
    for (    String action : group.getValue()) {
      actionGroup.add(actionGetter.fun(action));
    }
  }
  actionGroup.addSeparator();
  for (  Map.Entry<String,TreeSet<String>> group : groups.collapsedGroups.entrySet()) {
    DefaultActionGroup popupGroup=new DefaultActionGroup(group.getKey(),true);
    for (    String action : group.getValue()) {
      popupGroup.add(actionGetter.fun(action));
    }
    actionGroup.add(popupGroup);
  }
  return actionGroup;
}
