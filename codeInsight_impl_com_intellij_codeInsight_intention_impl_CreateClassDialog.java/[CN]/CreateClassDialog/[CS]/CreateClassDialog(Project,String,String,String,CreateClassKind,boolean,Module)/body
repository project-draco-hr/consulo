{
  super(project,true);
  myClassNameEditable=classNameEditable;
  myModule=defaultModule;
  myClassName=targetClassName;
  myProject=project;
  myPackageComponent=new ReferenceEditorComboWithBrowseButton(new ActionListener(){
    public void actionPerformed(    final ActionEvent e){
      PackageChooserDialog chooser=new PackageChooserDialog(CodeInsightBundle.message("dialog.create.class.package.chooser.title"),myProject);
      chooser.selectPackage(myPackageComponent.getText());
      chooser.show();
      PsiPackage aPackage=chooser.getSelectedPackage();
      if (aPackage != null) {
        myPackageComponent.setText(aPackage.getQualifiedName());
      }
    }
  }
,targetPackageName != null ? targetPackageName : "",PsiManager.getInstance(myProject),false,RECENTS_KEY);
  init();
  setTitle(title);
  if (!myClassNameEditable) {
    myInformationLabel.setText(CodeInsightBundle.message("dialog.create.class.name",kind.getDescription(),targetClassName));
  }
 else {
    myInformationLabel.setText(CodeInsightBundle.message("dialog.create.class.label",kind.getDescription()));
  }
  myTfClassName.setText(myClassName);
}
