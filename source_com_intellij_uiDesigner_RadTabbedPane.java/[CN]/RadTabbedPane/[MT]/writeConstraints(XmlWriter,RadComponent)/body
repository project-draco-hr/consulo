{
  writer.startElement("tabbedpane");
  try {
    final JComponent delegee=child.getDelegee();
    final JTabbedPane tabbedPane=getTabbedPane();
    final int i=tabbedPane.indexOfComponent(delegee);
    if (i == -1) {
      throw new IllegalArgumentException("cannot find tab for " + child);
    }
    final HashMap<Integer,StringDescriptor> index2Descriptor=getIndex2Descriptor(this);
    final StringDescriptor tabTitleDescriptor=index2Descriptor.get(new Integer(i));
    final String title=tabTitleDescriptor != null ? tabTitleDescriptor.getValue() : tabbedPane.getTitleAt(i);
    if (tabTitleDescriptor != null && title == null) {
      writer.addAttribute("title-resource-bundle",tabTitleDescriptor.getBundleName());
      writer.addAttribute("title-key",tabTitleDescriptor.getKey());
    }
 else {
      writer.addAttribute("title",title != null ? title : "");
    }
  }
  finally {
    writer.endElement();
  }
}
