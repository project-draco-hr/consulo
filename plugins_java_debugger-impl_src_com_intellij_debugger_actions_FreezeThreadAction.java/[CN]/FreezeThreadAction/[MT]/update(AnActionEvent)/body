{
  DebuggerTreeNodeImpl[] selectedNode=getSelectedNodes(e.getDataContext());
  if (selectedNode == null) {
    return;
  }
  DebugProcessImpl debugProcess=getDebuggerContext(e.getDataContext()).getDebugProcess();
  boolean visible=false;
  if (debugProcess != null) {
    visible=true;
    for (    DebuggerTreeNodeImpl aSelectedNode : selectedNode) {
      NodeDescriptorImpl threadDescriptor=aSelectedNode.getDescriptor();
      if (!(threadDescriptor instanceof ThreadDescriptorImpl) || ((ThreadDescriptorImpl)threadDescriptor).isFrozen()) {
        visible=false;
        break;
      }
    }
  }
  e.getPresentation().setVisible(visible);
}
