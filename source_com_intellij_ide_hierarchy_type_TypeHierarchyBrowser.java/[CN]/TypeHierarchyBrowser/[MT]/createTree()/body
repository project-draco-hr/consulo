{
  final Tree tree=new Tree(new DefaultTreeModel(new DefaultMutableTreeNode("")));
  tree.getSelectionModel().setSelectionMode(TreeSelectionModel.DISCONTIGUOUS_TREE_SELECTION);
  tree.setToggleClickCount(-1);
  tree.setCellRenderer(new HierarchyNodeRenderer());
  tree.putClientProperty("JTree.lineStyle","Angled");
  EditSourceOnDoubleClickHandler.install(tree);
  ActionGroup group=(ActionGroup)ActionManager.getInstance().getAction(IdeActions.GROUP_TYPE_HIERARCHY_POPUP);
  PopupHandler.installPopupHandler(tree,group,ActionPlaces.TYPE_HIERARCHY_VIEW_POPUP,ActionManager.getInstance());
  myRefreshAction.registerCustomShortcutSet(ActionManager.getInstance().getAction(IdeActions.ACTION_REFRESH).getShortcutSet(),tree);
  final BaseOnThisTypeAction baseOnThisTypeAction=new BaseOnThisTypeAction();
  baseOnThisTypeAction.registerCustomShortcutSet(ActionManager.getInstance().getAction(IdeActions.ACTION_TYPE_HIERARCHY).getShortcutSet(),tree);
  new TreeSpeedSearch(tree);
  TreeUtil.installActions(tree);
  TreeToolTipHandler.install(tree);
  myAutoScrollToSourceHandler.install(tree);
  return tree;
}
