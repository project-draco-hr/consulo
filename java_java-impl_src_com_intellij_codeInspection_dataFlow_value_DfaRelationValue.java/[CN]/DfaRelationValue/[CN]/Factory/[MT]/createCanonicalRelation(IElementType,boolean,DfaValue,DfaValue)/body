{
  if (JavaTokenType.NE == relation) {
    relation=JavaTokenType.EQEQ;
    negated=!negated;
  }
 else   if (JavaTokenType.LT == relation) {
    relation=JavaTokenType.GE;
    negated=!negated;
  }
 else   if (JavaTokenType.LE == relation) {
    relation=JavaTokenType.GT;
    negated=!negated;
  }
  mySharedInstance.myLeftOperand=dfaLeft;
  mySharedInstance.myRightOperand=dfaRight;
  mySharedInstance.myRelation=relation;
  mySharedInstance.myIsNegated=negated;
  String id=mySharedInstance.toString();
  ArrayList<DfaRelationValue> conditions=myStringToObject.get(id);
  if (conditions == null) {
    conditions=new ArrayList<DfaRelationValue>();
    myStringToObject.put(id,conditions);
  }
 else {
    for (    DfaRelationValue rel : conditions) {
      if (rel.hardEquals(mySharedInstance))       return rel;
    }
  }
  DfaRelationValue result=new DfaRelationValue(dfaLeft,dfaRight,relation,negated,myFactory);
  conditions.add(result);
  return result;
}
