{
  DefaultActionGroup popupGroup=new DefaultActionGroup(null,false);
  popupGroup.addAction(new NewBranchAction(myProject,Collections.singletonList(myRepository),myRepository));
  popupGroup.addAction(new CheckoutRevisionActions(myProject,myRepository));
  if (toInsert != null) {
    popupGroup.addAll(toInsert);
  }
  popupGroup.addSeparator("Local Branches");
  List<GitBranch> localBranches=new ArrayList<GitBranch>(myRepository.getBranches().getLocalBranches());
  Collections.sort(localBranches);
  for (  GitBranch localBranch : localBranches) {
    if (!localBranch.equals(myRepository.getCurrentBranch())) {
      popupGroup.add(new LocalBranchActions(myProject,Collections.singletonList(myRepository),localBranch.getName(),myRepository));
    }
  }
  popupGroup.addSeparator("Remote Branches");
  List<GitBranch> remoteBranches=new ArrayList<GitBranch>(myRepository.getBranches().getRemoteBranches());
  Collections.sort(remoteBranches);
  for (  GitBranch remoteBranch : remoteBranches) {
    popupGroup.add(new RemoteBranchActions(myProject,Collections.singletonList(myRepository),remoteBranch.getName(),myRepository));
  }
  return popupGroup;
}
