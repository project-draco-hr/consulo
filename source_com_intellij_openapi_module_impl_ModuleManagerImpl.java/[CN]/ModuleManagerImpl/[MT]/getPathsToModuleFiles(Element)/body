{
  final List<ModulePath> paths=new ArrayList<ModulePath>();
  final Element modules=element.getChild("modules");
  if (modules != null) {
    for (Iterator iterator=modules.getChildren("module").iterator(); iterator.hasNext(); ) {
      Element moduleElement=(Element)iterator.next();
      final String fileUrlValue=moduleElement.getAttributeValue("fileurl");
      final String filepath;
      if (fileUrlValue != null) {
        filepath=VirtualFileManager.extractPath(fileUrlValue).replace('/',File.separatorChar);
      }
 else {
        filepath=moduleElement.getAttributeValue("filepath").replace('/',File.separatorChar);
      }
      final String group=moduleElement.getAttributeValue("group");
      paths.add(new ModulePath(filepath,group));
    }
  }
  return paths.toArray(new ModulePath[paths.size()]);
}
