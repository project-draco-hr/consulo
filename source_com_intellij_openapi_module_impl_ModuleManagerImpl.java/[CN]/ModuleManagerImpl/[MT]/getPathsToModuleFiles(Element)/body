{
  final List<ModulePath> paths=new ArrayList<ModulePath>();
  final Element modules=element.getChild(ELEMENT_MODULES);
  if (modules != null) {
    for (    final Object value : modules.getChildren(ELEMENT_MODULE)) {
      Element moduleElement=(Element)value;
      final String fileUrlValue=moduleElement.getAttributeValue(ATTRIBUTE_FILEURL);
      final String filepath;
      if (fileUrlValue != null) {
        filepath=VirtualFileManager.extractPath(fileUrlValue).replace('/',File.separatorChar);
      }
 else {
        filepath=moduleElement.getAttributeValue(ATTRIBUTE_FILEPATH).replace('/',File.separatorChar);
      }
      final String group=moduleElement.getAttributeValue(ATTRIBUTE_GROUP);
      paths.add(new ModulePath(filepath,group));
    }
  }
  return paths.toArray(new ModulePath[paths.size()]);
}
