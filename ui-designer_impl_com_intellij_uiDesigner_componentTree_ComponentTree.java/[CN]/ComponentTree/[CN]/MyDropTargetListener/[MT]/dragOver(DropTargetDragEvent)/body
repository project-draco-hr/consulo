{
  RadComponent dropTargetComponent=null;
  final DraggedComponentList dcl=DraggedComponentList.fromTransferable(dtde.getTransferable());
  ComponentItem componentItem=SimpleTransferable.getData(dtde.getTransferable(),ComponentItem.class);
  if (dcl != null || componentItem != null) {
    final TreePath path=getPathForLocation((int)dtde.getLocation().getX(),(int)dtde.getLocation().getY());
    final RadComponent targetComponent=getComponentFromPath(path);
    int dropCount=(dcl != null) ? dcl.getComponents().size() : 1;
    if (path != null && targetComponent != null && targetComponent.canDrop(null,dropCount)) {
      dropTargetComponent=targetComponent;
      dtde.acceptDrag(dtde.getDropAction());
    }
 else {
      dtde.rejectDrag();
    }
  }
 else {
    dtde.rejectDrag();
  }
  if (dropTargetComponent != myDropTargetComponent) {
    myDropTargetComponent=dropTargetComponent;
    repaint();
  }
}
