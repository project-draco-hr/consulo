{
  if (level == null) {
    return attrs;
  }
  if (level == HighlightDisplayLevel.WARNING) {
    SimpleTextAttributes result=myAttr2WarningAttr.get(attrs);
    if (result == null) {
      result=new SimpleTextAttributes(attrs.getStyle() | SimpleTextAttributes.STYLE_WAVED,attrs.getFgColor(),Color.ORANGE);
      myAttr2WarningAttr.put(attrs,result);
    }
    return result;
  }
  SimpleTextAttributes result=myAttr2errAttr.get(attrs);
  if (result == null) {
    result=new SimpleTextAttributes(attrs.getStyle() | SimpleTextAttributes.STYLE_WAVED,attrs.getFgColor(),Color.RED);
    myAttr2errAttr.put(attrs,result);
  }
  return result;
}
