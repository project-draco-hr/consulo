{
  if (path != null) {
    final DefaultMutableTreeNode node=(DefaultMutableTreeNode)path.getLastPathComponent();
    LOG.assertTrue(node != null);
    final Object userObject=node.getUserObject();
    if (userObject instanceof ComponentPtrDescriptor) {
      final NodeDescriptor descriptor=(NodeDescriptor)userObject;
      final ComponentPtr ptr=(ComponentPtr)descriptor.getElement();
      if (ptr != null && ptr.isValid()) {
        final RadComponent component=ptr.getComponent();
        LOG.assertTrue(component != null);
        return component;
      }
    }
  }
  return null;
}
