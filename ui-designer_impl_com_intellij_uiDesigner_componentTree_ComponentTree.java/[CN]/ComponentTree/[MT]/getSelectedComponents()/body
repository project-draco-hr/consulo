{
  final TreePath[] paths=getSelectionPaths();
  if (paths == null) {
    return RadComponent.EMPTY_ARRAY;
  }
  final ArrayList<RadComponent> result=new ArrayList<RadComponent>(paths.length);
  for (int i=0; i < paths.length; i++) {
    final DefaultMutableTreeNode node=(DefaultMutableTreeNode)paths[i].getLastPathComponent();
    LOG.assertTrue(node != null);
    if (node.getUserObject() instanceof ComponentPtrDescriptor) {
      final ComponentPtrDescriptor descriptor=(ComponentPtrDescriptor)node.getUserObject();
      final ComponentPtr ptr=(ComponentPtr)descriptor.getElement();
      LOG.assertTrue(ptr.isValid());
      result.add(ptr.getComponent());
    }
  }
  return result.toArray(new RadComponent[result.size()]);
}
