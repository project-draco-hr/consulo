{
  final String beforeVersionId=patch.getBeforeVersionId();
  if (beforeVersionId == null) {
    return null;
  }
  final DefaultPatchBaseVersionProvider provider=new DefaultPatchBaseVersionProvider(project,file,beforeVersionId);
  if (provider.canProvideContent()) {
    return new ApplyPatchForBaseRevisionTexts(provider,pathBeforeRename,patch,file);
  }
  return null;
}
