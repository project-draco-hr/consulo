{
  if (!(element instanceof XmlTag)) {
    return PsiReference.EMPTY_ARRAY;
  }
  final Module module=ModuleUtilCore.findModuleForPsiElement(element);
  if (module == null || AndroidFacet.getInstance(module) == null) {
    return PsiReference.EMPTY_ARRAY;
  }
  final ASTNode startTagName=XmlChildRole.START_TAG_NAME_FINDER.findChild(element.getNode());
  final String baseClassQName=computeBaseClass((XmlTag)element);
  if (baseClassQName == null) {
    return PsiReference.EMPTY_ARRAY;
  }
  final List<PsiReference> result=new ArrayList<PsiReference>();
  final XmlTag tag=(XmlTag)element;
  if (startTagName != null && areReferencesProvidedByReferenceProvider(startTagName)) {
    addReferences(tag,startTagName.getPsi(),result,module,baseClassQName,true);
  }
  final ASTNode closingTagName=XmlChildRole.CLOSING_TAG_NAME_FINDER.findChild(element.getNode());
  if (closingTagName != null && areReferencesProvidedByReferenceProvider(closingTagName)) {
    addReferences(tag,closingTagName.getPsi(),result,module,baseClassQName,false);
  }
  return result.toArray(new PsiReference[result.size()]);
}
