{
  JPanel rootPane=new JPanel(new BorderLayout());
  mySplitter=new Splitter(true);
  mySplitter.setHonorComponentsMinimumSize(true);
  mySplitter.setFirstComponent(myBrowser);
  mySplitter.setSecondComponent(myCommitMessageArea);
  mySplitter.setProportion(calcSplitterProportion());
  mySplitter.setDividerWidth(3);
  rootPane.add(mySplitter,BorderLayout.CENTER);
  JComponent browserHeader=myBrowser.getHeaderPanel();
  myBrowser.remove(browserHeader);
  rootPane.add(browserHeader,BorderLayout.NORTH);
  JPanel infoPanel=new JPanel(new BorderLayout());
  myChangesInfoCalculator=new CommitLegendPanel.ChangeInfoCalculator();
  myLegend=new CommitLegendPanel(myChangesInfoCalculator);
  infoPanel.add(myLegend.getComponent(),BorderLayout.NORTH);
  infoPanel.add(myAdditionalOptionsPanel,BorderLayout.CENTER);
  rootPane.add(infoPanel,BorderLayout.EAST);
  infoPanel.setBorder(IdeBorderFactory.createEmptyBorder(0,10,0,0));
  rootPane.add(myWarningLabel,BorderLayout.SOUTH);
  return rootPane;
}
