{
  if (!saveDialogState())   return;
  saveComments(true);
  final DefaultListCleaner defaultListCleaner=new DefaultListCleaner();
  final Runnable callCommit=new Runnable(){
    @Override public void run(){
      try {
        CheckinHandler.ReturnResult result=runBeforeCommitHandlers(new Runnable(){
          @Override public void run(){
            CommitChangeListDialog.super.doOKAction();
            doCommit(myResultHandler);
          }
        }
,null);
        if (result == CheckinHandler.ReturnResult.COMMIT) {
          defaultListCleaner.clean();
        }
      }
 catch (      InputException ex) {
        ex.show();
      }
    }
  }
;
  if (myBrowser.isDataIsDirty()) {
    ensureDataIsActual(callCommit);
  }
 else {
    callCommit.run();
  }
}
