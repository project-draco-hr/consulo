{
  if (myQualifiedName == null) {
    long repositoryId=getRepositoryId();
    if (repositoryId < 0) {
      try {
        ClassFileData classFileData=getClassFileData();
        BytePointer ptr=new BytePointer(classFileData.getData(),classFileData.getConstantPoolEnd() + 2);
        ptr.offset=classFileData.getOffsetInConstantPool(ClsUtil.readU2(ptr));
        int tag=ClsUtil.readU1(ptr);
        if (tag != ClsUtil.CONSTANT_Class) {
          throw new ClsFormatException();
        }
        ptr.offset=classFileData.getOffsetInConstantPool(ClsUtil.readU2(ptr));
        String className=ClsUtil.readUtf8Info(ptr,'/','.');
        myQualifiedName=ClsUtil.convertClassName(className,false);
      }
 catch (      ClsFormatException e) {
        myQualifiedName="";
      }
    }
 else {
      String qualifiedName=getRepositoryManager().getClassView().getQualifiedName(repositoryId);
      if (qualifiedName == null) {
        qualifiedName="";
      }
      myQualifiedName=qualifiedName;
    }
  }
  return myQualifiedName;
}
