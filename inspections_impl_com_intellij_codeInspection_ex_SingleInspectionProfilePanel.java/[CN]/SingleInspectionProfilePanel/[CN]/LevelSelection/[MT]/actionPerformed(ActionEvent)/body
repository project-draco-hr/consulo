{
  final int[] rows=myTree.getSelectionRows();
  final boolean showOptionsAndDescriptorPanels=rows != null && rows.length == 1;
  for (int i=0; rows != null && i < rows.length; i++) {
    final MyTreeNode node=(MyTreeNode)myTree.getPathForRow(rows[i]).getLastPathComponent();
    final MyTreeNode parent=(MyTreeNode)node.getParent();
    if (node.getUserObject() instanceof Descriptor) {
      updateErrorLevel(node,showOptionsAndDescriptorPanels);
      updateUpHierarchy(node,parent);
    }
 else {
      node.isProperSetting=false;
      for (int j=0; j < node.getChildCount(); j++) {
        final MyTreeNode child=(MyTreeNode)node.getChildAt(j);
        if (child.getUserObject() instanceof Descriptor) {
          updateErrorLevel(child,showOptionsAndDescriptorPanels);
        }
 else {
          child.isProperSetting=false;
          for (int k=0; k < child.getChildCount(); k++) {
            final MyTreeNode descriptorNode=(MyTreeNode)child.getChildAt(k);
            if (descriptorNode.getUserObject() instanceof Descriptor) {
              updateErrorLevel(descriptorNode,showOptionsAndDescriptorPanels);
            }
            child.isProperSetting|=descriptorNode.isProperSetting;
          }
        }
        node.isProperSetting|=child.isProperSetting;
      }
      updateUpHierarchy(node,parent);
    }
  }
  if (rows != null && rows.length == 1) {
    updateOptionsAndDescriptionPanel(myTree.getPathForRow(rows[0]));
  }
 else {
    initOptionsAndDescriptionPanel();
  }
  repaintTableData();
}
