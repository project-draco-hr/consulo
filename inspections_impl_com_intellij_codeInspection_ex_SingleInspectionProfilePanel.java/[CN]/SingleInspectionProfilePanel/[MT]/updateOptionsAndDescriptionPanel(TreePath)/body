{
  if (path == null)   return;
  final MyTreeNode node=(MyTreeNode)path.getLastPathComponent();
  final Object userObject=node.getUserObject();
  if (userObject instanceof Descriptor) {
    final Descriptor descriptor=(Descriptor)userObject;
    if (descriptor.getDescriptorFileName() != null) {
      final InspectionProfileEntry tool=descriptor.getTool();
      try {
        URL descriptionUrl=InspectionToolRegistrar.getDescriptionUrl(tool);
        if (descriptionUrl == null)         throw new IOException();
        myBrowser.read(new StringReader(SearchUtil.markup(ResourceUtil.loadText(descriptionUrl),myProfileFilter.getFilter())),null);
      }
 catch (      IOException e2) {
        try {
          myBrowser.read(new StringReader("<html><body><b>" + UNDER_CONSTRUCTION + "</b></body></html>"),null);
        }
 catch (        IOException e1) {
        }
      }
    }
 else {
      try {
        myBrowser.read(new StringReader(EMPTY_HTML),null);
      }
 catch (      IOException e1) {
      }
    }
    final LevelChooser chooser=descriptor.getChooser();
    chooser.getComboBox().addActionListener(new ActionListener(){
      public void actionPerformed(      ActionEvent e){
        boolean toUpdate=mySelectedProfile.getErrorLevel(descriptor.getKey()) != chooser.getLevel();
        mySelectedProfile.setErrorLevel(descriptor.getKey(),chooser.getLevel());
        if (toUpdate)         node.isProperSetting=mySelectedProfile.isProperSetting(descriptor.getKey());
      }
    }
);
    chooser.setLevel(mySelectedProfile.getErrorLevel(descriptor.getKey()));
    final JPanel withSeverity=new JPanel(new GridBagLayout());
    withSeverity.add(new JLabel(InspectionsBundle.message("inspection.severity")),new GridBagConstraints(0,0,1,1,0,0,GridBagConstraints.WEST,GridBagConstraints.NONE,new Insets(0,5,5,10),0,0));
    Dimension dimension=new Dimension(150,chooser.getPreferredSize().height);
    chooser.setPreferredSize(dimension);
    chooser.setMinimumSize(dimension);
    withSeverity.add(chooser,new GridBagConstraints(1,0,1,1,1.0,0,GridBagConstraints.WEST,GridBagConstraints.NONE,new Insets(0,0,5,0),0,0));
    final JComponent config=descriptor.getAdditionalConfigPanel(mySelectedProfile);
    if (config != null) {
      withSeverity.add(config,new GridBagConstraints(0,1,2,1,1.0,1.0,GridBagConstraints.NORTHWEST,GridBagConstraints.BOTH,new Insets(0,0,0,0),0,0));
    }
 else {
      withSeverity.add(new JPanel(),new GridBagConstraints(0,1,2,1,1.0,1.0,GridBagConstraints.NORTHWEST,GridBagConstraints.BOTH,new Insets(0,0,0,0),0,0));
    }
    myOptionsPanel.removeAll();
    myOptionsPanel.add(withSeverity);
    myOptionsPanel.validate();
    GuiUtils.enableChildren(myOptionsPanel,node.isEnabled);
  }
 else {
    initOptionsAndDescriptionPanel();
  }
}
