{
  Comparator<MyTreeNode> comparator=new Comparator<MyTreeNode>(){
    public int compare(    MyTreeNode o1,    MyTreeNode o2){
      String s1=null;
      String s2=null;
      Object userObject1=((MyTreeNode)o1).getUserObject();
      Object userObject2=((MyTreeNode)o2).getUserObject();
      if (userObject1 instanceof String && userObject2 instanceof String) {
        s1=(String)userObject1;
        s2=(String)userObject2;
      }
      if (userObject1 instanceof Descriptor && userObject2 instanceof Descriptor) {
        s1=((Descriptor)userObject1).getText();
        s2=((Descriptor)userObject2).getText();
      }
      if (s1 != null && s2 != null) {
        return getDisplayTextToSort(s1).compareToIgnoreCase(getDisplayTextToSort(s2));
      }
      return -1;
    }
  }
;
  TreeUtil.sort(myRoot,comparator);
}
