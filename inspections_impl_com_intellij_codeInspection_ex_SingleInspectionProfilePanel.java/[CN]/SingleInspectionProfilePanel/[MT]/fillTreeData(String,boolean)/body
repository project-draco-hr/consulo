{
  if (mySelectedProfile == null)   return;
  myRoot.removeAllChildren();
  myRoot.isEnabled=false;
  myRoot.isProperSetting=false;
  List<Set<String>> keySetList=new ArrayList<Set<String>>();
  if (filter != null && filter.length() > 0) {
    final SearchableOptionsRegistrar optionsRegistrar=SearchableOptionsRegistrar.getInstance();
    final Set<String> words=optionsRegistrar.getProcessedWords(filter);
    for (    String word : words) {
      final Set<OptionDescription> descriptions=((SearchableOptionsRegistrarImpl)optionsRegistrar).getAcceptableDescriptions(word);
      Set<String> keySet=new HashSet<String>();
      if (descriptions != null) {
        for (        OptionDescription description : descriptions) {
          keySet.add(description.getPath());
        }
      }
      keySetList.add(keySet);
    }
  }
  for (  Descriptor descriptor : myDescriptors) {
    if (descriptor.getTool() != null && !(descriptor.getTool() instanceof LocalInspectionToolWrapper) && !myShowInspections)     continue;
    if (filter != null && filter.length() > 0 && !isDescriptorAccepted(descriptor,filter,forceInclude,keySetList)) {
      continue;
    }
    final HighlightDisplayKey key=descriptor.getKey();
    final boolean enabled=mySelectedProfile.isToolEnabled(key);
    final boolean properSetting=mySelectedProfile.isProperSetting(key);
    final MyTreeNode node=new MyTreeNode(descriptor,enabled,properSetting);
    final MyTreeNode groupNode=getGroupNode(myRoot,descriptor.getGroup());
    groupNode.add(node);
    groupNode.isEnabled|=enabled;
    groupNode.isProperSetting|=properSetting;
    myRoot.isEnabled|=enabled;
    myRoot.isProperSetting|=properSetting;
  }
  if (filter != null && forceInclude && myRoot.getChildCount() == 0) {
    final Set<String> filters=SearchableOptionsRegistrar.getInstance().getProcessedWords(filter);
    if (filters.size() > 1) {
      fillTreeData(filter,false);
    }
  }
  sortInspections();
}
