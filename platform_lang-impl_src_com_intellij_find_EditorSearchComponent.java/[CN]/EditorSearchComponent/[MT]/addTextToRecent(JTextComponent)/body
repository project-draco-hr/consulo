{
  final String text=textField.getText();
  if (text.length() > 0) {
    if (textField == mySearchField) {
      FindSettings.getInstance().addStringToFind(text);
      if (mySearchRootComponent instanceof SearchTextField) {
        ((SearchTextField)mySearchRootComponent).addCurrentTextToHistory();
      }
    }
 else {
      FindSettings.getInstance().addStringToReplace(text);
      if (myReplaceRootComponent instanceof SearchTextField) {
        ((SearchTextField)myReplaceRootComponent).addCurrentTextToHistory();
      }
    }
  }
}
