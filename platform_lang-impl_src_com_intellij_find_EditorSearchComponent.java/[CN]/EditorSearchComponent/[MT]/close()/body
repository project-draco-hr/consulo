{
  if (myEditor.getSelectionModel().hasSelection()) {
    myEditor.getCaretModel().moveToOffset(myEditor.getSelectionModel().getSelectionStart());
    myEditor.getSelectionModel().removeSelection();
  }
  IdeFocusManager.getInstance(myProject).requestFocus(myEditor.getContentComponent(),false);
  mySearchResults.dispose();
  myLivePreview.cleanUp();
  if (mySearchUndo != null) {
    mySearchUndo.dispose();
  }
  if (myReplaceUndo != null) {
    myReplaceUndo.dispose();
  }
  myLivePreviewController.dispose();
  myEditor.setHeaderComponent(null);
}
