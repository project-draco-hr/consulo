{
  myActionsToolbar.updateActionsImmediately();
  if ((myFindModel.isMultiline() && mySearchField instanceof JTextField) || (!myFindModel.isMultiline() && mySearchField instanceof JTextArea)) {
    myLeftComponent.removeAll();
    myRightComponent.removeAll();
    myReplaceRootComponent=null;
    mySearchRootComponent=null;
    configureLeadPanel();
    if (myReplacementPane != null) {
      myReplacementPane=null;
    }
  }
  String stringToFind=myFindModel.getStringToFind();
  if (!StringUtil.equals(stringToFind,mySearchField.getText())) {
    mySearchField.setText(stringToFind);
  }
  setTrackingSelection(!myFindModel.isGlobal());
  if (myFindModel.isReplaceState() && myReplacementPane == null) {
    configureReplacementPane();
  }
 else   if (!myFindModel.isReplaceState() && myReplacementPane != null) {
    if (myReplaceRootComponent != null) {
      myLeftComponent.remove(myReplaceRootComponent);
      myReplaceRootComponent=null;
      myReplaceField=null;
    }
    myRightComponent.remove(myReplacementPane);
    myReplacementPane=null;
  }
  if (myFindModel.isReplaceState()) {
    String stringToReplace=myFindModel.getStringToReplace();
    if (!StringUtil.equals(stringToReplace,myReplaceField.getText())) {
      myReplaceField.setText(stringToReplace);
    }
    updateExcludeStatus();
  }
  updateReplaceButton();
  Utils.setSmallerFontForChildren(myToolbarComponent);
  revalidate();
}
