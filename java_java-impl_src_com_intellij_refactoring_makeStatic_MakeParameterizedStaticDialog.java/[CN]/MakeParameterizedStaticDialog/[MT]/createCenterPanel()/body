{
  GridBagConstraints gbConstraints=new GridBagConstraints();
  JPanel panel=new JPanel(new GridBagLayout());
  panel.setBorder(IdeBorderFactory.createBorder());
  gbConstraints.insets=new Insets(4,8,4,8);
  gbConstraints.weighty=0;
  gbConstraints.weightx=0;
  gbConstraints.gridx=0;
  gbConstraints.gridy=GridBagConstraints.RELATIVE;
  gbConstraints.gridwidth=GridBagConstraints.REMAINDER;
  gbConstraints.fill=GridBagConstraints.NONE;
  gbConstraints.anchor=GridBagConstraints.WEST;
  panel.add(createDescriptionLabel(),gbConstraints);
  gbConstraints.weighty=0;
  gbConstraints.weightx=0;
  gbConstraints.gridwidth=GridBagConstraints.REMAINDER;
  gbConstraints.fill=GridBagConstraints.NONE;
  gbConstraints.anchor=GridBagConstraints.WEST;
  String text=myMember instanceof PsiMethod ? RefactoringBundle.message("add.object.as.a.parameter.with.name") : RefactoringBundle.message("add.object.as.a.parameter.to.constructors.with.name");
  myMakeClassParameter.setText(text);
  panel.add(myMakeClassParameter,gbConstraints);
  myMakeClassParameter.setSelected(myAnyNonFieldMembersUsed);
  gbConstraints.insets=new Insets(0,8,4,8);
  gbConstraints.weighty=0;
  gbConstraints.weightx=1;
  gbConstraints.gridwidth=2;
  gbConstraints.fill=GridBagConstraints.HORIZONTAL;
  gbConstraints.anchor=GridBagConstraints.NORTHWEST;
  if (myNameSuggestions.length > 1) {
    myClassParameterNameInputField=createComboBoxForName();
  }
 else {
    JTextField textField=new JTextField();
    textField.setText(myNameSuggestions[0]);
    textField.getDocument().addDocumentListener(new DocumentAdapter(){
      public void textChanged(      DocumentEvent event){
        updateControls();
      }
    }
);
    myClassParameterNameInputField=textField;
  }
  panel.add(myClassParameterNameInputField,gbConstraints);
  gbConstraints.gridwidth=GridBagConstraints.REMAINDER;
  if (myVariableData.length > 0) {
    gbConstraints.insets=new Insets(4,8,4,8);
    gbConstraints.weighty=0;
    gbConstraints.weightx=0;
    gbConstraints.gridheight=1;
    gbConstraints.fill=GridBagConstraints.NONE;
    gbConstraints.anchor=GridBagConstraints.WEST;
    text=myMember instanceof PsiMethod ? RefactoringBundle.message("add.parameters.for.fields") : RefactoringBundle.message("add.parameters.for.fields.to.constructors");
    myMakeFieldParameters.setText(text);
    panel.add(myMakeFieldParameters,gbConstraints);
    myMakeFieldParameters.setSelected(!myAnyNonFieldMembersUsed);
    myParameterPanel=new ParameterTablePanel(myProject,myVariableData,myMember){
      protected void updateSignature(){
      }
      protected void doEnterAction(){
        clickDefaultButton();
      }
      protected void doCancelAction(){
      }
    }
;
    gbConstraints.insets=new Insets(0,8,4,8);
    gbConstraints.gridwidth=2;
    gbConstraints.fill=GridBagConstraints.BOTH;
    gbConstraints.weighty=1;
    panel.add(myParameterPanel,gbConstraints);
  }
  ActionListener inputFieldValidator=new ActionListener(){
    public void actionPerformed(    ActionEvent e){
      updateControls();
    }
  }
;
  myMakeClassParameter.addActionListener(inputFieldValidator);
  myMakeFieldParameters.addActionListener(inputFieldValidator);
  updateControls();
  return panel;
}
