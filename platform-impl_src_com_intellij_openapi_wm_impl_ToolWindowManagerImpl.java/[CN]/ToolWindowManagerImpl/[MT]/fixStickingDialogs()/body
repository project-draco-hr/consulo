{
  if (!Patches.STICKY_DIALOGS)   return;
  final KeyboardFocusManager mgr=KeyboardFocusManager.getCurrentKeyboardFocusManager();
  final Window wnd=mgr.getActiveWindow();
  if (wnd != null && !wnd.isShowing() && wnd.getParent() instanceof Window) {
    final Container parent=wnd.getParent();
    final Method setActive=ReflectionUtil.findMethod(KeyboardFocusManager.class.getDeclaredMethods(),"setGlobalActiveWindow",Window.class);
    if (setActive != null) {
      try {
        setActive.setAccessible(true);
        setActive.invoke(mgr,(Window)parent);
      }
 catch (      Exception e) {
        LOG.info(e);
      }
    }
  }
}
