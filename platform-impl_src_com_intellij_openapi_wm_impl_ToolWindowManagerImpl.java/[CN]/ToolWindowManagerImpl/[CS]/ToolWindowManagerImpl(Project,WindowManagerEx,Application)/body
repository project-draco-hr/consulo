{
  myProject=project;
  myWindowManager=windowManagerEx;
  myListenerList=new EventListenerList();
  myLayout=new DesktopLayout();
  myLayout.copyFrom(windowManagerEx.getLayout());
  myId2InternalDecorator=new HashMap<String,InternalDecorator>();
  myId2FloatingDecorator=new HashMap<String,FloatingDecorator>();
  myId2StripeButton=new HashMap<String,StripeButton>();
  myId2FocusWatcher=new HashMap<String,FocusWatcher>();
  myEditorComponentFocusWatcher=new EditorComponentFocusWatcher();
  myToolWindowPropertyChangeListener=new MyToolWindowPropertyChangeListener();
  myInternalDecoratorListener=new MyInternalDecoratorListener();
  myUIManagerPropertyChangeListener=new MyUIManagerPropertyChangeListener();
  myLafManagerListener=new MyLafManagerListener();
  myEditorComponentActive=false;
  myActiveStack=new ActiveStack();
  mySideStack=new SideStack();
  myFocusedComponentAlaram=new Alarm(Alarm.ThreadToUse.SWING_THREAD,project);
  myForcedFocusRequestsAlarm=new Alarm(Alarm.ThreadToUse.SWING_THREAD,project);
  myIdleAlarm=new Alarm(Alarm.ThreadToUse.SWING_THREAD,project);
  myApp=app;
  myAppListener=new AppListener();
  myApp.addApplicationListener(myAppListener);
}
