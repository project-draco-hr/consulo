{
  boolean tryDefaultFont=true;
  List<String> fontFamilies=preferences.getFontFamilies();
  FontInfo result;
  for (  String fontFamily : fontFamilies) {
    result=doGetFontAbleToDisplay(c,preferences.getSize(fontFamily),style,fontFamily);
    if (result != null) {
      return result;
    }
    tryDefaultFont&=!FontPreferences.DEFAULT_FONT_NAME.equals(fontFamily);
  }
  int size=FontPreferences.DEFAULT_FONT_SIZE;
  if (!fontFamilies.isEmpty()) {
    size=preferences.getSize(fontFamilies.get(0));
  }
  if (tryDefaultFont) {
    result=doGetFontAbleToDisplay(c,size,style,FontPreferences.DEFAULT_FONT_NAME);
    if (result != null) {
      return result;
    }
  }
  return doGetFontAbleToDisplay(c,size,style);
}
