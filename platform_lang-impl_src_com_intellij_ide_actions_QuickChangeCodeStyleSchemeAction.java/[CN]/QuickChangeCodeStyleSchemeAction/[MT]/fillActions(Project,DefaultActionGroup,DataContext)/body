{
  final CodeStyleSettingsManager manager=CodeStyleSettingsManager.getInstance(project);
  if (manager.PER_PROJECT_SETTINGS != null) {
    group.add(new AnAction("<project>","",manager.USE_PER_PROJECT_SETTINGS ? ourCurrentAction : ourNotCurrentAction){
      @Override public void actionPerformed(      AnActionEvent e){
        manager.USE_PER_PROJECT_SETTINGS=true;
      }
    }
);
  }
  final CodeStyleScheme[] schemes=CodeStyleSchemes.getInstance().getSchemes();
  final CodeStyleScheme currentScheme=CodeStyleSchemes.getInstance().getCurrentScheme();
  for (  final CodeStyleScheme scheme : schemes) {
    addScheme(group,manager,currentScheme,scheme,false);
  }
  Collection<SharedScheme<CodeStyleSchemeImpl>> sharedSchemes=((CodeStyleSchemesImpl)CodeStyleSchemes.getInstance()).getSchemesManager().loadSharedSchemes();
  if (!sharedSchemes.isEmpty()) {
    group.add(AnSeparator.getInstance());
    for (    SharedScheme<CodeStyleSchemeImpl> scheme : sharedSchemes) {
      addScheme(group,manager,currentScheme,scheme.getScheme(),true);
    }
  }
}
