{
  final Set exceptionThrown=new HashSet(10);
  final PsiCodeBlock tryBlock=tryStatement.getTryBlock();
  calculateExceptionsThrownForCodeBlock(tryBlock,exceptionThrown,factory);
  final Set exceptionHandled=ExceptionUtils.getExceptionTypesHandled(tryStatement);
  for (  Object aExceptionThrown : exceptionThrown) {
    final PsiType thrownType=(PsiType)aExceptionThrown;
    boolean found=false;
    for (    Object aExceptionHandled : exceptionHandled) {
      final PsiType handledType=(PsiType)aExceptionHandled;
      if (handledType.isAssignableFrom(thrownType)) {
        found=true;
        break;
      }
    }
    if (!found) {
      exceptionTypes.add(thrownType);
    }
  }
  final PsiCodeBlock finallyBlock=tryStatement.getFinallyBlock();
  if (finallyBlock != null) {
    calculateExceptionsThrownForCodeBlock(finallyBlock,exceptionTypes,factory);
  }
  final PsiCodeBlock[] catchBlocks=tryStatement.getCatchBlocks();
  for (  PsiCodeBlock catchBlock : catchBlocks) {
    calculateExceptionsThrownForCodeBlock(catchBlock,exceptionTypes,factory);
  }
}
