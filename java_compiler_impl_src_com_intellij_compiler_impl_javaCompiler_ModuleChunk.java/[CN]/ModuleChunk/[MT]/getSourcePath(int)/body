{
  if (getModuleCount() == 0) {
    return "";
  }
  final VirtualFile[] filteredRoots=getSourceRoots(sourcesFilter);
  final StringBuilder buffer=StringBuilderSpinAllocator.alloc();
  try {
    ApplicationManager.getApplication().runReadAction(new Runnable(){
      public void run(){
        for (        VirtualFile root : filteredRoots) {
          if (buffer.length() > 0) {
            buffer.append(File.pathSeparatorChar);
          }
          buffer.append(root.getPath().replace('/',File.separatorChar));
        }
      }
    }
);
    return buffer.toString();
  }
  finally {
    StringBuilderSpinAllocator.dispose(buffer);
  }
}
