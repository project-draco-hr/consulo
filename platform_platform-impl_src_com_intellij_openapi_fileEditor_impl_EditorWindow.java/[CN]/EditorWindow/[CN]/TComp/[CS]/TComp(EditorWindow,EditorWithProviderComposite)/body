{
  super(new BorderLayout());
  myEditor=editor;
  myWindow=window;
  add(editor.getComponent(),BorderLayout.CENTER);
  addFocusListener(new FocusAdapter(){
    @Override public void focusGained(    FocusEvent e){
      ApplicationManager.getApplication().invokeLater(new Runnable(){
        @Override public void run(){
          if (!TComp.this.hasFocus())           return;
          final JComponent focus=myEditor.getSelectedEditorWithProvider().getFirst().getPreferredFocusedComponent();
          if (focus != null && !focus.hasFocus()) {
            IdeFocusManager.getGlobalInstance().requestFocus(focus,true);
          }
        }
      }
);
    }
  }
);
}
