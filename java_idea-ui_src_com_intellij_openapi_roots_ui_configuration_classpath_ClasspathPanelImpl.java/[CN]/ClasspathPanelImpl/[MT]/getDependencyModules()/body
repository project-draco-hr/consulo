{
  final int rowCount=myModel.getRowCount();
  final Set<String> filtered=new HashSet<String>(rowCount);
  for (int row=0; row < rowCount; row++) {
    final OrderEntry entry=myModel.getItemAt(row).getEntry();
    if (entry instanceof ModuleOrderEntry) {
      filtered.add(((ModuleOrderEntry)entry).getModuleName());
    }
  }
  final ModulesProvider modulesProvider=myState.getModulesProvider();
  final Module self=modulesProvider.getModule(getRootModel().getModule().getName());
  filtered.add(self.getName());
  final Module[] modules=modulesProvider.getModules();
  final List<Module> elements=new ArrayList<Module>(modules.length);
  for (  final Module module : modules) {
    if (!filtered.contains(module.getName())) {
      elements.add(module);
    }
  }
  return elements;
}
