{
  FileTemplate[] templates=myCurrentTab.getTemplates();
  ArrayList names=new ArrayList(templates.length);
  for (int i=0; i < templates.length; i++) {
    FileTemplate template=templates[i];
    names.add(template.getName());
  }
  String name=prefName;
  int i=0;
  while (names.contains(name)) {
    name=prefName + " (" + (++i)+ ")";
  }
  FileTemplate newTemplate=new FileTemplateImpl(content,name,extension);
  myCurrentTab.addTemplate(newTemplate);
  myModified=true;
  myCurrentTab.selectTemplate(newTemplate);
  fireListChanged();
  myEditor.focusToNameField();
  return newTemplate;
}
