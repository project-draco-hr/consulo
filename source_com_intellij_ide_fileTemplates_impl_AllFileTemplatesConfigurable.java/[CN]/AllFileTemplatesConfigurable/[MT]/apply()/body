{
  if (myEditor != null && myEditor.isModified()) {
    myModified=true;
    myEditor.apply();
  }
  String[] errorString=new String[1];
  if (!canApply(false,errorString)) {
    throw new ConfigurationException(errorString[0]);
  }
  ArrayList newModifiedItems=new ArrayList();
  FileTemplate[] templates=myTemplatesList.getTemplates();
  for (int i=0; i < templates.length; i++) {
    FileTemplate template=templates[i];
    newModifiedItems.add(template);
  }
  FileTemplateManager templatesManager=FileTemplateManager.getInstance();
  apply(newModifiedItems,myTemplatesList.savedTemplates,TEMPLATE_ID,templatesManager.getAllTemplates());
  newModifiedItems=new ArrayList();
  templates=myPatternsList.getTemplates();
  for (int i=0; i < templates.length; i++) {
    FileTemplate template=templates[i];
    newModifiedItems.add(template);
  }
  apply(newModifiedItems,myPatternsList.savedTemplates,PATTERN_ID,templatesManager.getAllPatterns());
  newModifiedItems=new ArrayList();
  templates=myCodeTemplatesList.getTemplates();
  for (int i=0; i < templates.length; i++) {
    FileTemplate template=templates[i];
    newModifiedItems.add(template);
  }
  apply(newModifiedItems,myCodeTemplatesList.savedTemplates,CODE_ID,templatesManager.getAllCodeTemplates());
  newModifiedItems=new ArrayList();
  templates=myJ2eeTemplatesList.getTemplates();
  for (int i=0; i < templates.length; i++) {
    FileTemplate template=templates[i];
    newModifiedItems.add(template);
  }
  apply(newModifiedItems,myJ2eeTemplatesList.savedTemplates,J2EE_ID,templatesManager.getAllJ2eeTemplates());
  FileTemplateManager.getInstance().saveAll();
  if (myEditor != null) {
    myModified=false;
    fireListChanged();
    reset();
  }
}
