{
  super.visitReferenceExpression(ref);
  final PsiExpression qualifier=ref.getQualifierExpression();
  if (qualifier != null && !(qualifier instanceof PsiThisExpression)) {
    return;
  }
  final PsiElement element=ref.resolve();
  if (!(element instanceof PsiField)) {
    return;
  }
  final Set overAccessedFields=m_overAccessedFields;
  if (overAccessedFields.contains(element)) {
    return;
  }
  if (ControlFlowUtils.isInLoop(element)) {
    overAccessedFields.add(element);
  }
  final Map accessCounts=m_accessCounts;
  final Integer count=(Integer)accessCounts.get(element);
  if (count == null) {
    accessCounts.put(element,ONE);
  }
 else   if (count.equals(ONE)) {
    accessCounts.put(element,TWO);
  }
 else {
    overAccessedFields.add(element);
  }
}
