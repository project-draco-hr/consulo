{
  if (refElement == null)   return null;
  String curAccess=refElement.getAccessModifier();
  String weakestAccess=PsiModifier.PRIVATE;
  if (isTopLevelClass(refElement) || isCalledOnSubClasses(refElement)) {
    weakestAccess=PsiModifier.PACKAGE_LOCAL;
  }
  if (isAbstractMethod(refElement)) {
    weakestAccess=PsiModifier.PROTECTED;
  }
  if (curAccess == weakestAccess)   return curAccess;
  while (true) {
    String weakerAccess=getWeakerAccess(curAccess,refElement);
    if (weakerAccess == null || RefUtil.getInstance().compareAccess(weakerAccess,weakestAccess) < 0)     break;
    if (isAccessible(refElement,weakerAccess)) {
      curAccess=weakerAccess;
    }
 else {
      break;
    }
  }
  return curAccess;
}
