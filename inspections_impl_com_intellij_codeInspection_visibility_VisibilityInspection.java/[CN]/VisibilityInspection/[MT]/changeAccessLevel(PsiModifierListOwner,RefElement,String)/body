{
  try {
    if (psiElement instanceof PsiVariable) {
      ((PsiVariable)psiElement).normalizeDeclaration();
    }
    PsiModifierList list=psiElement.getModifierList();
    LOG.assertTrue(list != null);
    if (psiElement instanceof PsiMethod) {
      PsiMethod psiMethod=(PsiMethod)psiElement;
      PsiClass containingClass=psiMethod.getContainingClass();
      if (containingClass != null && containingClass.getParent() instanceof PsiFile && newAccess == PsiModifier.PRIVATE && list.hasModifierProperty(PsiModifier.FINAL)) {
        list.setModifierProperty(PsiModifier.FINAL,false);
      }
    }
    list.setModifierProperty(newAccess,true);
    if (refElement != null) {
      RefUtil.getInstance().setAccessModifier(refElement,newAccess);
      getFilter().addIgnoreList(refElement);
    }
  }
 catch (  IncorrectOperationException e) {
    LOG.error(e);
  }
}
