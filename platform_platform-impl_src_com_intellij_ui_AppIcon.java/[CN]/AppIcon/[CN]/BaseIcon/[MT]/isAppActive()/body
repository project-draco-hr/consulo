{
  Application app=ApplicationManager.getApplication();
  if (app != null && myAppListener == null) {
    myAppListener=new ApplicationActivationListener.Adapter(){
      @Override public void applicationActivated(      IdeFrame ideFrame){
        hideProgress(ideFrame.getProject(),myCurrentProcessId);
        _setOkBadge(ideFrame,false);
        _setTextBadge(ideFrame,null);
      }
    }
;
    app.getMessageBus().connect().subscribe(ApplicationActivationListener.TOPIC,myAppListener);
  }
  return app != null ? app.isActive() : false;
}
