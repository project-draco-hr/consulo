{
  final XmlFile originalFile=(XmlFile)myXmlFile.getOriginalFile();
  if (originalFile != null) {
    final FileDescriptionCachedValueProvider<T> provider=myDomManager.<T>getOrCreateCachedValueProvider(originalFile);
    return Pair.create(provider.getFileDescription(),provider.getCachedValueProvider().dependencies);
  }
  myCondition.module=module;
  w.unlock();
  try {
    DomFileDescription<T> description=ContainerUtil.find(myDomManager.getFileDescriptions(rootTagName),myCondition);
    if (description == null) {
      description=ContainerUtil.find(myDomManager.getAcceptingOtherRootTagNameDescriptions(),myCondition);
    }
    if (description == null) {
      return Pair.create(description,getAllDependencyItems());
    }
    final Set<Object> deps=new HashSet<Object>(description.getDependencyItems(myXmlFile));
    deps.add(this);
    deps.add(myXmlFile);
    return Pair.create(description,deps.toArray());
  }
  finally {
    w.lock();
  }
}
