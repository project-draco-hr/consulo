{
  final JPanel result=new JPanel();
  result.setLayout(new BoxLayout(result,BoxLayout.Y_AXIS));
  myPathField=new JTextField(myConfiguration == null ? "" : myConfiguration.getPath());
  myPathField.setEditable(false);
  myPathField.getDocument().addDocumentListener(new DocumentListener(){
    public void insertUpdate(    DocumentEvent e){
      updateOKButton();
    }
    public void removeUpdate(    DocumentEvent e){
      updateOKButton();
    }
    public void changedUpdate(    DocumentEvent e){
      updateOKButton();
    }
  }
);
  final JPanel pathPanel=new JPanel();
  pathPanel.setLayout(new BorderLayout());
  final TextFieldWithBrowseButton withBrowseButton=new TextFieldWithBrowseButton(myPathField);
  final FileChooserDescriptor descriptor=new FileChooserDescriptor(true,true,false,true,false,false);
  descriptor.setRoot(myManager.getProject().getBaseDir());
  withBrowseButton.addBrowseFolderListener("Choose path","Choose path",myManager.getProject(),descriptor);
  withBrowseButton.setBorder(BorderFactory.createEmptyBorder(5,0,5,0));
  final JLabel pathLabel=new JLabel("Path:");
  pathLabel.setDisplayedMnemonic('P');
  pathLabel.setLabelFor(withBrowseButton);
  pathPanel.add(pathLabel,BorderLayout.WEST);
  pathPanel.add(withBrowseButton,BorderLayout.CENTER);
  result.add(pathPanel);
  final JPanel colorPanel=new JPanel();
  colorPanel.setBorder(BorderFactory.createEmptyBorder(5,0,5,0));
  colorPanel.setLayout(new BoxLayout(colorPanel,BoxLayout.X_AXIS));
  final JLabel colorLabel=new JLabel("Color:");
  colorPanel.add(colorLabel);
  colorPanel.add(createColorButtonsPanel(myConfiguration));
  colorPanel.add(Box.createHorizontalGlue());
  result.add(colorPanel);
  final JPanel checkboxPanel=new JPanel(new BorderLayout());
  checkboxPanel.setBorder(BorderFactory.createEmptyBorder(5,0,5,0));
  myShareCheckbox=new JCheckBox("Share configuration",myConfiguration == null ? false : myManager.isShared(myConfiguration));
  myShareCheckbox.setMnemonic('S');
  checkboxPanel.add(myShareCheckbox,BorderLayout.WEST);
  result.add(checkboxPanel);
  return result;
}
