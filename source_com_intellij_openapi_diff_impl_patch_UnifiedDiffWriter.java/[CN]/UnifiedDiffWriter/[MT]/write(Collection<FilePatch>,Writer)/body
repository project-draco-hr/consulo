{
  for (  FilePatch patch : patches) {
    writeFileHeading(patch,writer);
    for (    PatchHunk hunk : patch.getHunks()) {
      writeHunkStart(writer,hunk.getStartLineBefore(),hunk.getEndLineBefore(),hunk.getStartLineAfter(),hunk.getEndLineAfter());
      for (      PatchLine line : hunk.getLines()) {
        char prefixChar=' ';
switch (line.getType()) {
case ADD:
          prefixChar='+';
        break;
case REMOVE:
      prefixChar='-';
    break;
case CONTEXT:
  prefixChar=' ';
break;
}
writeLine(writer,line.getText(),prefixChar);
}
}
}
}
