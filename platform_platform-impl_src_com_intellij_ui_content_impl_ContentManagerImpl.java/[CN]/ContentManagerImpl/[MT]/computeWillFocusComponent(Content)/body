{
  JComponent toFocus=toSelect.getPreferredFocusableComponent();
  if (toFocus != null) {
    toFocus=IdeFocusTraversalPolicy.getPreferredFocusedComponent(toFocus);
  }
  if (toFocus == null)   toFocus=toSelect.getPreferredFocusableComponent();
  return toFocus;
}
