{
  final Collection<? extends Artifact> artifacts=ArtifactManager.getInstance(project).getArtifactsByType(JavaFxApplicationArtifactType.getInstance());
  if (artifacts.isEmpty())   return;
  final Sdk[] jdks=BuildProperties.getUsedJdks(project);
  Sdk javaSdk=null;
  for (  Sdk jdk : jdks) {
    if (jdk.getSdkType() instanceof JavaSdkType) {
      javaSdk=jdk;
      break;
    }
  }
  if (javaSdk != null) {
    final Tag taskdef=new Tag("taskdef",new Pair<String,String>("resource","com/sun/javafx/tools/ant/antlib.xml"),new Pair<String,String>("uri","javafx:com.sun.javafx.tools.ant"),new Pair<String,String>("classpath",BuildProperties.propertyRef(BuildProperties.getJdkHomeProperty(javaSdk.getName())) + "/lib/ant-javafx.jar"));
    generator.add(taskdef);
  }
}
