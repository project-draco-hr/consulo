{
  super(null);
  myActionManager=actionManager;
  myPlace=place;
  myActionGroup=actionGroup;
  myVisibleActions=new ArrayList<AnAction>();
  myDataManager=dataManager;
  myDecorateButtons=decorateButtons;
  myUpdater=new ToolbarUpdater(actionManager,keymapManager,this){
    @Override protected void updateActionsImpl(    boolean transparentOnly,    boolean forced){
      ActionToolbarImpl.this.updateActionsImpl(transparentOnly,forced);
    }
  }
;
  setLayout(new BorderLayout());
  setOrientation(horizontal ? SwingConstants.HORIZONTAL : SwingConstants.VERTICAL);
  mySecondaryActions.getTemplatePresentation().setIcon(AllIcons.General.SecondaryGroup);
  mySecondaryActions.setPopup(true);
  myUpdater.updateActions(updateActionsNow,false);
  enableEvents(AWTEvent.MOUSE_MOTION_EVENT_MASK | AWTEvent.MOUSE_EVENT_MASK | AWTEvent.COMPONENT_EVENT_MASK| AWTEvent.CONTAINER_EVENT_MASK);
  setMiniMode(false);
}
