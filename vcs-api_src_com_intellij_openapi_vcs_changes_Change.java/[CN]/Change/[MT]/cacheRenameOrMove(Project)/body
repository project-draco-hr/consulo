{
  if (!myRenameOrMoveCached) {
    myRenameOrMoveCached=true;
    if (myBeforeRevision != null && myAfterRevision != null && (!revisionPathsSame())) {
      if (Comparing.equal(myBeforeRevision.getFile().getParentPath(),myAfterRevision.getFile().getParentPath())) {
        myRenamed=true;
      }
 else {
        myMoved=true;
      }
      if (myMoved && myMoveRelativePath == null && project != null) {
        myMoveRelativePath=VcsPathPresenter.getInstance(project).getPresentableRelativePath(myBeforeRevision,myAfterRevision);
      }
    }
  }
}
