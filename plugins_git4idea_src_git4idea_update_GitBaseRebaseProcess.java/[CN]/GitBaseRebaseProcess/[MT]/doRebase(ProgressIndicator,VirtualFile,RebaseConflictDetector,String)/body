{
  GitLineHandler rh=new GitLineHandler(myProject,root,GitCommand.REBASE);
  rh.ignoreErrorCode(1);
  rh.addParameters(action);
  rebaseConflictDetector.reset();
  rh.addLineListener(rebaseConflictDetector);
  if (!"--abort".equals(action)) {
    configureRebaseEditor(root,rh);
  }
  try {
    GitHandlerUtil.doSynchronouslyWithExceptions(rh,progressIndicator);
  }
  finally {
    cleanupHandler(root,rh);
  }
}
