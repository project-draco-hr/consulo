{
  if (element == myRootElement) {
    ArrayList<LibraryTableTreeContentElement> elements=new ArrayList<LibraryTableTreeContentElement>(3);
    final LibraryEditor parentEditor=myParentEditor.getLibraryEditor();
    for (    OrderRootType type : OrderRootType.getAllTypes()) {
      final String[] urls=parentEditor.getUrls(type);
      if (urls.length > 0) {
        elements.add(OrderRootTypeUIFactory.FACTORY.getByKey(type).createElement());
      }
    }
    return elements.toArray();
  }
  if (element instanceof OrderRootTypeElement) {
    OrderRootTypeElement rootTypeElement=(OrderRootTypeElement)element;
    OrderRootType orderRootType=rootTypeElement.getOrderRootType();
    ArrayList<ItemElement> items=new ArrayList<ItemElement>();
    final LibraryEditor libraryEditor=myParentEditor.getLibraryEditor();
    final String[] urls=libraryEditor.getUrls(orderRootType).clone();
    Arrays.sort(urls,LibraryRootsComponent.ourUrlComparator);
    for (    String url : urls) {
      items.add(new ItemElement(rootTypeElement,url,orderRootType,libraryEditor.isJarDirectory(url),libraryEditor.isValid(url,orderRootType)));
    }
    return items.toArray();
  }
  return ArrayUtil.EMPTY_OBJECT_ARRAY;
}
