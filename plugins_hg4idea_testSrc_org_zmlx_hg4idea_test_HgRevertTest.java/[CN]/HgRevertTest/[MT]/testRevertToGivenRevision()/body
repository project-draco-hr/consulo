{
  fillFile(myProjectDir,new String[]{"file.txt"},"initial contents");
  runHgOnProjectRepo("add",".");
  runHgOnProjectRepo("commit","-m","initial contents");
  fillFile(myProjectDir,new String[]{"file.txt"},"new contents");
  runHgOnProjectRepo("commit","-m","new contents");
  HgRevertCommand revertCommand=new HgRevertCommand(myProject);
  revertCommand.execute(myRepo.getDir(),Collections.singleton(VcsUtil.getFilePath(new File(myProjectDir,"file.txt"))),HgRevisionNumber.getLocalInstance("0"),false);
  HgCatCommand catCommand=new HgCatCommand(myProject);
  String content=catCommand.execute(getHgFile("file.txt"),HgRevisionNumber.getLocalInstance("0"),Charset.defaultCharset());
  assertEquals(content,"initial contents");
}
