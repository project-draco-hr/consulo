{
  PsiJavaCodeReferenceElement classReference=newExpression.getClassReference();
  PsiClass aClass=classReference == null ? null : (PsiClass)classReference.resolve();
  String qualifiedName=aClass == null ? null : aClass.getQualifiedName();
  if (qualifiedName == null)   return false;
  if (ourSideEffectFreeClasses.contains(qualifiedName))   return true;
  PsiFile file=aClass.getContainingFile();
  PsiDirectory directory=file.getContainingDirectory();
  PsiJavaPackage classPackage=JavaDirectoryService.getInstance().getPackage(directory);
  String packageName=classPackage == null ? null : classPackage.getQualifiedName();
  if ("java.lang".equals(packageName) || "java.io".equals(packageName)) {
    PsiClass throwableClass=JavaPsiFacade.getInstance(aClass.getProject()).findClass("java.lang.Throwable",aClass.getResolveScope());
    if (throwableClass != null && InheritanceUtil.isInheritorOrSelf(aClass,throwableClass,true)) {
      return true;
    }
  }
  return false;
}
