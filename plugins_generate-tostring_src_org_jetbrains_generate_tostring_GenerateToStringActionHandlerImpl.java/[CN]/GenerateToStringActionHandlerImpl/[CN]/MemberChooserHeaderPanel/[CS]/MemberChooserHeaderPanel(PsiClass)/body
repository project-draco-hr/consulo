{
  super(new BorderLayout());
  final Collection<TemplateResource> templates=TemplatesManager.getInstance().getAllTemplates();
  final TemplateResource[] all=templates.toArray(new TemplateResource[templates.size()]);
  final JButton settingsButton=new JButton("Settings");
  settingsButton.setMnemonic(KeyEvent.VK_S);
  comboBox=new JComboBox(all);
  settingsButton.addActionListener(new ActionListener(){
    public void actionPerformed(    ActionEvent e){
      final TemplatesPanel ui=new TemplatesPanel();
      Disposable disposable=Disposer.newDisposable();
      Configurable composite=new TabbedConfigurable(disposable){
        protected List<Configurable> createConfigurables(){
          List<Configurable> res=new ArrayList<Configurable>();
          res.add(new GenerateToStringConfigurable());
          res.add(ui);
          return res;
        }
        public String getDisplayName(){
          return "toString() Generation Settings";
        }
        public Icon getIcon(){
          return null;
        }
        public String getHelpTopic(){
          return null;
        }
        @Override public void apply() throws ConfigurationException {
          super.apply();
          updateDialog(clazz,chooser);
          comboBox.setSelectedItem(TemplatesManager.getInstance().getDefaultTemplate());
        }
      }
;
      ShowSettingsUtil.getInstance().editConfigurable(MemberChooserHeaderPanel.this,composite,new Runnable(){
        public void run(){
          ui.selectItem(TemplatesManager.getInstance().getDefaultTemplate());
        }
      }
);
      Disposer.dispose(disposable);
    }
  }
);
  add(settingsButton,BorderLayout.EAST);
  add(comboBox,BorderLayout.CENTER);
  comboBox.setSelectedItem(TemplatesManager.getInstance().getDefaultTemplate());
  final JLabel templatesLabel=new JLabel("Template: ");
  templatesLabel.setDisplayedMnemonic('T');
  templatesLabel.setLabelFor(comboBox);
  add(templatesLabel,BorderLayout.WEST);
}
