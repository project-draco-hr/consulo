{
  DebuggerManagerThreadImpl.assertIsManagerThread();
  if (isDetached() || isDetaching()) {
    return;
  }
  setIsDetaching();
  myVirtualMachineProxy=null;
  myPositionManager=null;
  getManagerThread().close();
  setIsDetached();
  myDebugProcessDispatcher.getMulticaster().processDetached(this,closedByUser);
  setBreakpointsMuted(false);
  myWaitFor.up();
}
