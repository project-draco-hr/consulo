{
  String templateName=getTemplateName();
  if (templateName == null)   return;
  if (myShowJavaCodeInfo) {
    FileTemplate template=FileTemplateManager.getInstance().getCodeTemplate(templateName);
    boolean showResourceBundleSuggester=template.getText().contains("${" + RESOURCE_BUNDLE_OPTION_KEY + "}");
    myJavaCodeInfoPanel.setVisible(showResourceBundleSuggester);
  }
  Set<String> result=I18nUtil.suggestExpressionOfType(myResourceBundleType,myLiteralExpression);
  if (result.isEmpty()) {
    result.add(getResourceBundleText());
  }
  myRBEditorTextField.setHistory(result.toArray(new String[result.size()]));
  SwingUtilities.invokeLater(new Runnable(){
    public void run(){
      myRBEditorTextField.setSelectedIndex(0);
    }
  }
);
}
