{
  if (typeElement == null) {
    return false;
  }
  final PsiType type=typeElement.getType();
  if (type == null) {
    return false;
  }
  final PsiType baseType=type.getDeepComponentType();
  if (baseType == null) {
    return false;
  }
  if (!(baseType instanceof PsiClassType)) {
    return false;
  }
  final PsiClass aClass=((PsiClassType)baseType).resolve();
  if (aClass == null) {
    return false;
  }
  if (aClass.isInterface() || aClass.isEnum() || aClass.isAnnotationType()) {
    return false;
  }
  if (LibraryUtil.classIsInLibrary(aClass)) {
    return false;
  }
  return true;
}
