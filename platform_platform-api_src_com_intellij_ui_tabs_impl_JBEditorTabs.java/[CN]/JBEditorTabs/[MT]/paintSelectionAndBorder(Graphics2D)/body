{
  if (getSelectedInfo() == null)   return;
  TabLabel label=getSelectedLabel();
  Rectangle r=label.getBounds();
  ShapeInfo selectedShape=_computeSelectedLabelShape();
  Insets insets=getTabsBorder().getEffectiveBorder();
  Insets i=selectedShape.path.transformInsets(insets);
  int _x=r.x;
  int _y=r.y;
  int _height=r.height;
  if (getPosition() == JBTabsPosition.left || getPosition() == JBTabsPosition.right) {
    g2d.setColor(new Color(0,0,0,45));
    g2d.draw(selectedShape.labelPath.transformLine(i.left,selectedShape.labelPath.getMaxY() - selectedShape.labelPath.deltaY(4),selectedShape.path.getMaxX(),selectedShape.labelPath.getMaxY() - selectedShape.labelPath.deltaY(4)));
    g2d.setColor(new Color(0,0,0,15));
    g2d.draw(selectedShape.labelPath.transformLine(i.left,selectedShape.labelPath.getMaxY() - selectedShape.labelPath.deltaY(5),selectedShape.path.getMaxX(),selectedShape.labelPath.getMaxY() - selectedShape.labelPath.deltaY(5)));
  }
  Color tabColor=label.getInfo().getTabColor();
  if (tabColor != null) {
    g2d.setColor(multiplyColor(tabColor));
    g2d.fill(selectedShape.fillPath.getShape());
    g2d.setPaint(new GradientPaint(_x,_y,new Color(255,255,255,150),_x,_y + _height,new Color(255,255,255,0)));
  }
 else {
    g2d.setPaint(new GradientPaint(_x,_y,new SameColor(255),_x,_y + _height,new SameColor(230)));
  }
  g2d.fill(selectedShape.fillPath.getShape());
  g2d.setColor(new Color(255,255,255,180));
  g2d.draw(selectedShape.fillPath.getShape());
  g2d.draw(selectedShape.labelPath.transformLine(selectedShape.labelPath.getMaxX() - selectedShape.labelPath.deltaX(1),selectedShape.labelPath.getY() + selectedShape.labelPath.deltaY(1),selectedShape.labelPath.getMaxX() - selectedShape.labelPath.deltaX(1),selectedShape.labelPath.getMaxY() - selectedShape.labelPath.deltaY(4)));
  if (!isHorizontalTabs()) {
    g2d.setColor(new Color(0,0,0,30));
    g2d.draw(selectedShape.labelPath.transformLine(selectedShape.labelPath.getMaxX() + selectedShape.labelPath.deltaX(1),selectedShape.labelPath.getY() + selectedShape.labelPath.deltaY(1),selectedShape.labelPath.getMaxX() + selectedShape.labelPath.deltaX(1),selectedShape.labelPath.getMaxY() - selectedShape.labelPath.deltaY(4)));
    boolean horizontal=getPosition() == JBTabsPosition.top || getPosition() == JBTabsPosition.bottom;
    g2d.draw(selectedShape.labelPath.transformLine(selectedShape.labelPath.getX() - selectedShape.labelPath.deltaX(horizontal ? 2 : 1),selectedShape.labelPath.getY() + selectedShape.labelPath.deltaY(1),selectedShape.labelPath.getX() - selectedShape.labelPath.deltaX(horizontal ? 2 : 1),selectedShape.labelPath.getMaxY() - selectedShape.labelPath.deltaY(4)));
  }
  g2d.setColor(new Color(0,0,0,50));
  g2d.draw(selectedShape.labelPath.transformLine(i.left,selectedShape.labelPath.getMaxY(),selectedShape.path.getMaxX(),selectedShape.labelPath.getMaxY()));
}
