{
  PsiClass sourceClass=myJavaFacade.findClass(sourceClassName,ProjectScope.getProjectScope(myProject));
  assertNotNull("Class " + sourceClassName + " not found",sourceClass);
  PsiClass targetClass=myJavaFacade.findClass(targetClassName,ProjectScope.getProjectScope(myProject));
  assertNotNull("Class " + targetClassName + " not found",targetClass);
  PsiElement[] children=sourceClass.getChildren();
  ArrayList<PsiMember> members=new ArrayList<PsiMember>();
  for (  PsiElement child : children) {
    if (child instanceof PsiMember) {
      members.add(((PsiMember)child));
    }
  }
  LinkedHashSet<PsiMember> memberSet=new LinkedHashSet<PsiMember>();
  for (  int index : memberIndices) {
    PsiMember member=members.get(index);
    assertTrue(member.hasModifierProperty(PsiModifier.STATIC));
    memberSet.add(member);
  }
  MockMoveMembersOptions options=new MockMoveMembersOptions(targetClass.getQualifiedName(),memberSet);
  options.setMemberVisibility(null);
  new MoveMembersProcessor(myProject,null,options){
    @Override protected boolean showConflicts(    Map<PsiElement,String> conflicts){
      if (!conflicts.isEmpty()) {
        throw new RuntimeException("Found conflicts: " + conflicts.values().iterator().next());
      }
      return super.showConflicts(conflicts);
    }
  }
.run();
  FileDocumentManager.getInstance().saveAllDocuments();
}
