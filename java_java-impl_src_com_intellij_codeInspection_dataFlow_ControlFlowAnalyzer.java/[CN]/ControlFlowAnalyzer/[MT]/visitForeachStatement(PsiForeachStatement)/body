{
  startElement(statement);
  final PsiParameter parameter=statement.getIterationParameter();
  final PsiExpression iteratedValue=statement.getIteratedValue();
  if (iteratedValue != null) {
    iteratedValue.accept(this);
    addInstruction(new FieldReferenceInstruction(iteratedValue,"Collection iterator or array.length"));
  }
  int offset=myCurrentFlow.getInstructionCount();
  DfaVariableValue dfaVariable=myFactory.getVarFactory().createVariableValue(parameter,false);
  addInstruction(new PushInstruction(dfaVariable,null));
  pushUnknown();
  addInstruction(new AssignInstruction(null));
  addInstruction(new PopInstruction());
  pushUnknown();
  addInstruction(new ConditionalGotoInstruction(getEndOffset(statement),true,null));
  final PsiStatement body=statement.getBody();
  if (body != null) {
    body.accept(this);
  }
  addInstruction(new GotoInstruction(offset));
  finishElement(statement);
  myCurrentFlow.removeVariable(parameter);
}
