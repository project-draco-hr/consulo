{
  if (!rootDir.isDirectory()) {
    throw new IllegalArgumentException("Can't find VCS at the target file system path. Reason: expected to find a directory there but it's not. The path: " + rootDir.getParent());
  }
  Collection<VcsDirectoryMapping> result=ContainerUtilRt.newArrayList();
  for (  VcsRootFinder finder : VcsRootFinder.EP_NAME.getExtensions(project)) {
    result.addAll(finder.findRoots(rootDir));
  }
  return result;
}
