{
  if (myProject.isDisposed())   return TextEditorHighlightingPass.EMPTY_ARRAY;
  if (myCompiled) {
    passesToIgnore=EXCEPT_OVERRIDDEN;
  }
 else   if (!DaemonCodeAnalyzer.getInstance(myProject).isHighlightingAvailable(myFile)) {
    return TextEditorHighlightingPass.EMPTY_ARRAY;
  }
  PsiDocumentManager.getInstance(myProject).commitAllDocuments();
  renewFile();
  if (myFile == null)   return TextEditorHighlightingPass.EMPTY_ARRAY;
  TextEditorHighlightingPassRegistrarEx passRegistrar=TextEditorHighlightingPassRegistrarEx.getInstanceEx(myProject);
  List<TextEditorHighlightingPass> createdPasses=passRegistrar.instantiatePasses(myFile,myEditor,passesToIgnore);
  return createdPasses.toArray(new TextEditorHighlightingPass[createdPasses.size()]);
}
