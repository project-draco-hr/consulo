{
  if (myProgress.isCanceled()) {
    return Printable.NO_SUCH_PAGE;
  }
  while (myFileIndex < myFilesList.size()) {
    if (myTextPainter == null) {
      myTextPainter=PrintManager.initTextPainter((PsiFile)myFilesList.get(myFileIndex),myProject);
    }
    if (myTextPainter != null) {
      ((TextPainter)myTextPainter).setProgress(myProgress);
      int ret=0;
      try {
        ret=myTextPainter.print(g,pageFormat,pageIndex - myStartPageIndex);
      }
 catch (      ProcessCanceledException e) {
      }
      if (myProgress.isCanceled()) {
        return Printable.NO_SUCH_PAGE;
      }
      if (ret == Printable.PAGE_EXISTS) {
        return Printable.PAGE_EXISTS;
      }
      myTextPainter=null;
      myStartPageIndex=pageIndex;
    }
    myFileIndex++;
  }
  return Printable.NO_SUCH_PAGE;
}
