{
  if (myProgress.isCanceled()) {
    return Printable.NO_SUCH_PAGE;
  }
  while (myFileIndex < myFilesList.size()) {
    if (myTextPainter == null) {
      Pair<PsiFile,Editor> pair=myFilesList.get(myFileIndex);
      myTextPainter=PrintManager.initTextPainter(pair.first,pair.second);
    }
    if (myTextPainter != null) {
      ((TextPainter)myTextPainter).setProgress(myProgress);
      int ret=0;
      try {
        ret=myTextPainter.print(g,pageFormat,pageIndex - myStartPageIndex);
      }
 catch (      ProcessCanceledException ignored) {
      }
      if (myProgress.isCanceled()) {
        return Printable.NO_SUCH_PAGE;
      }
      if (ret == Printable.PAGE_EXISTS) {
        return Printable.PAGE_EXISTS;
      }
      myTextPainter=null;
      myStartPageIndex=pageIndex;
    }
    myFileIndex++;
  }
  return Printable.NO_SUCH_PAGE;
}
