{
  AnAction[] children=group.getChildren(new AnActionEvent(null,context,place,factory.getPresentation(group),ActionManager.getInstance(),0));
  for (  AnAction anAction : children) {
    if (anAction instanceof Separator) {
      continue;
    }
    LOG.assertTrue(anAction != null);
    if (anAction instanceof ActionGroup) {
      ActionGroup childGroup=(ActionGroup)anAction;
      if (childGroup.isPopup()) {
        try {
          childGroup.update(new AnActionEvent(null,context,place,factory.getPresentation(childGroup),ActionManager.getInstance(),0));
        }
 catch (        Exception exc) {
          handleUpdateException(childGroup,factory.getPresentation(childGroup),exc);
        }
        if (!factory.getPresentation(childGroup).isVisible()) {
          continue;
        }
      }
      if (hasVisibleChildren(childGroup,factory,context,place)) {
        return true;
      }
    }
 else {
      try {
        anAction.update(new AnActionEvent(null,context,place,factory.getPresentation(anAction),ActionManager.getInstance(),0));
      }
 catch (      Exception exc) {
        handleUpdateException(anAction,factory.getPresentation(anAction),exc);
      }
      if (factory.getPresentation(anAction).isVisible()) {
        return true;
      }
    }
  }
  return false;
}
