{
  GitSimpleHandler handler=new GitSimpleHandler(project,vcsRoot,GitCommand.REV_LIST);
  handler.addParameters("--timestamp","--max-count=1",reference);
  handler.endOptions();
  handler.setNoSSH(true);
  handler.setSilent(true);
  String output=handler.run();
  StringTokenizer stk=new StringTokenizer(output,"\n\r \t",false);
  if (!stk.hasMoreTokens()) {
    GitSimpleHandler dh=new GitSimpleHandler(project,vcsRoot,GitCommand.LOG);
    dh.addParameters("-1","HEAD");
    dh.setNoSSH(true);
    dh.setSilent(true);
    String out=dh.run();
    LOG.info("Diagnostic output from 'git log -1 HEAD': [" + out + "]");
    throw new VcsException(String.format("The string '%s' does not represent a revision number. Output: [%s]\n Root: %s",reference,output,vcsRoot));
  }
  Date timestamp=GitUtil.parseTimestampWithNFEReport(stk.nextToken(),handler,output);
  return new GitRevisionNumber(stk.nextToken(),timestamp);
}
