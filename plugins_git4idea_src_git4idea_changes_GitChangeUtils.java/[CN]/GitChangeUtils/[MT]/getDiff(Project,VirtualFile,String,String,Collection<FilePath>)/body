{
  Collection<Change> changes=new ArrayList<Change>();
  String range=firstRevision == null ? nextRevision : firstRevision + ".." + nextRevision;
  String output=getDiffOutput(project,root,range,dirtyPaths);
  GitRevisionNumber thisRevision=firstRevision == null ? null : loadRevision(project,root,firstRevision);
  parseChanges(project,root,loadRevision(project,root,nextRevision),thisRevision,output,changes,Collections.<String>emptySet());
  return changes;
}
