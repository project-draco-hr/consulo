{
  List<Integer> hashes=new ArrayList<Integer>(commitMap.keySet());
  Collections.sort(hashes);
  StringBuilder s=new StringBuilder();
  for (int i=0; i < hashes.size(); i++) {
    if (i != 0)     s.append("\n");
    Integer hash=hashes.get(i);
    GraphCommit commit=commitMap.get(hash);
    assertEquals(Integer.toHexString(hash),Integer.toHexString(commit.getIndex()));
    s.append(Integer.toHexString(hash)).append("|-");
    int[] parentIndices=commit.getParentIndices();
    for (int j=0; j < parentIndices.length; j++) {
      if (j > 0)       s.append(" ");
      s.append(Integer.toHexString(parentIndices[j]));
    }
  }
  return s.toString();
}
