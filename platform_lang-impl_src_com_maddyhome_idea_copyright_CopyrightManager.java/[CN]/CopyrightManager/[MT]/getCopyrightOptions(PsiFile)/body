{
  final VirtualFile virtualFile=file.getVirtualFile();
  if (virtualFile == null || myOptions.getOptions(virtualFile.getFileType().getName()).getFileTypeOverride() == LanguageOptions.NO_COPYRIGHT) {
    return null;
  }
  final DependencyValidationManager validationManager=DependencyValidationManager.getInstance(myProject);
  for (  String scopeName : myModule2Copyrights.keySet()) {
    final NamedScope namedScope=validationManager.getScope(scopeName);
    if (namedScope != null) {
      final PackageSet packageSet=namedScope.getValue();
      if (packageSet != null) {
        if (packageSet.contains(file,validationManager)) {
          final CopyrightProfile profile=myCopyrights.get(myModule2Copyrights.get(scopeName));
          if (profile != null) {
            return profile;
          }
        }
      }
    }
  }
  return myDefaultCopyright != null ? myDefaultCopyright : null;
}
