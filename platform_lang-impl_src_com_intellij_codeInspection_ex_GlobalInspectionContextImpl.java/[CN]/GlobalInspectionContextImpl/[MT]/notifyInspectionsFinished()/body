{
  if (ApplicationManager.getApplication().isUnitTestMode())   return;
  UIUtil.invokeLaterIfNeeded(new Runnable(){
    @Override public void run(){
      LOG.info("Code inspection finished");
      if (myView != null) {
        if (!myView.update() && !getUIOptions().SHOW_ONLY_DIFF) {
          NotificationGroup.toolWindowGroup("Inspection Results",ToolWindowId.INSPECTION,true).createNotification(InspectionsBundle.message("inspection.no.problems.message"),MessageType.INFO).notify(getProject());
          close(true);
        }
 else {
          addView(myView);
        }
      }
    }
  }
);
}
