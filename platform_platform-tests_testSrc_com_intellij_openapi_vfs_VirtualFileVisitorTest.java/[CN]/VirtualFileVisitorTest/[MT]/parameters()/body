{
  VfsUtilCore.visitChildrenRecursively(myRoot,new VirtualFileVisitor<String>(){
{
      setValueForChildren(myRoot.getPath());
    }
    @Override public boolean visitFile(    @NotNull VirtualFile file){
      String expected=Comparing.equal(file,myRoot) ? myRoot.getPath() : file.getParent().getPath();
      assertEquals(expected,getCurrentValue());
      if (file.isDirectory()) {
        setValueForChildren(file.getPath());
      }
      return true;
    }
  }
);
}
