{
  if (!myClass.isValid() || !myClass.getManager().isInProject(myClass))   return false;
  PsiDirectory dir=file.getContainingDirectory();
  if (dir == null)   return false;
  try {
    JavaDirectoryServiceImpl.checkCreateClassOrInterface(dir,myClass.getName());
  }
 catch (  IncorrectOperationException e) {
    return false;
  }
  return true;
}
