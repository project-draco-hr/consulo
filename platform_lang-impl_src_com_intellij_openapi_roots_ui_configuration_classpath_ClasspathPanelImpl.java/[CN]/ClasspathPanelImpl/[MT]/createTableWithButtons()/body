{
  final boolean isAnalyzeShown=false;
  final ClasspathPanelAction removeAction=new ClasspathPanelAction(this){
    @Override public void run(){
      removeSelectedItems(TableUtil.removeSelectedItems(myEntryTable));
    }
  }
;
  final AnActionButton analyzeButton=new AnActionButton(ProjectBundle.message("classpath.panel.analyze"),null,IconUtil.getAnalyzeIcon()){
    @Override public void actionPerformed(    AnActionEvent e){
      AnalyzeDependenciesDialog.show(getRootModel().getModule());
    }
  }
;
  myEntryTable.getSelectionModel().addListSelectionListener(new ListSelectionListener(){
    @Override public void valueChanged(    ListSelectionEvent e){
      if (e.getValueIsAdjusting()) {
        return;
      }
      updateButtons();
    }
  }
);
  final ToolbarDecorator decorator=ToolbarDecorator.createDecorator(myEntryTable);
  decorator.setPanelBorder(IdeBorderFactory.createBorder(SideBorder.RIGHT));
  decorator.setAddAction(new AnActionButtonRunnable(){
    @Override public void run(    AnActionButton button){
      new AddModuleDependencyDialog(ClasspathPanelImpl.this,getStructureConfigurableContext()).show();
    }
  }
).setRemoveAction(new AnActionButtonRunnable(){
    @Override public void run(    AnActionButton button){
      removeAction.actionPerformed(null);
    }
  }
).setMoveUpAction(new AnActionButtonRunnable(){
    @Override public void run(    AnActionButton button){
      moveSelectedRows(-1);
    }
  }
).setMoveDownAction(new AnActionButtonRunnable(){
    @Override public void run(    AnActionButton button){
      moveSelectedRows(+1);
    }
  }
).addExtraAction(myEditButton);
  if (isAnalyzeShown) {
    decorator.addExtraAction(analyzeButton);
  }
  final JPanel panel=decorator.createPanel();
  myRemoveButton=ToolbarDecorator.findRemoveButton(panel);
  return panel;
}
