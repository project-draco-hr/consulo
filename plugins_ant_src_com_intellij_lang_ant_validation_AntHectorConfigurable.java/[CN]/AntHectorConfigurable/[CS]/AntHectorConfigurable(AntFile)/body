{
  myFile=file;
  final VirtualFile selfVFile=myFile.getVirtualFile();
  myLocalPath=PathUtil.getLocalPath(selfVFile);
  final Project project=file.getProject();
  final ProjectFileIndex projectFileIndex=ProjectRootManager.getInstance(project).getFileIndex();
  myFileFilter=new VirtualFileFilter(){
    public boolean accept(    final VirtualFile file){
      return !selfVFile.equals(file) && projectFileIndex.isInContent(file);
    }
  }
;
}
