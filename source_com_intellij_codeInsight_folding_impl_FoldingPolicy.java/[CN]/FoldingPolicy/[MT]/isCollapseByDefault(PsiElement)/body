{
  CodeFoldingSettings settings=CodeFoldingSettings.getInstance();
  if (element instanceof PsiImportList) {
    return settings.COLLAPSE_IMPORTS;
  }
 else   if (element instanceof PsiMethod || element instanceof PsiClassInitializer) {
    if (element instanceof PsiMethod && isSimplePropertyAccessor((PsiMethod)element)) {
      return settings.COLLAPSE_ACCESSORS;
    }
    if (element instanceof PsiMethod && CodeGenerator.SETUP_METHOD_NAME.equals(((PsiMethod)element).getName()) || element instanceof PsiClassInitializer && isGeneratedUIInitializer((PsiClassInitializer)element)) {
      return true;
    }
    return settings.COLLAPSE_METHODS;
  }
 else   if (element instanceof PsiAnonymousClass) {
    return settings.COLLAPSE_ANONYMOUS_CLASSES;
  }
 else   if (element instanceof PsiClass) {
    return element.getParent() instanceof PsiFile ? false : settings.COLLAPSE_INNER_CLASSES;
  }
 else   if (element instanceof PsiDocComment) {
    return settings.COLLAPSE_JAVADOCS;
  }
 else   if (element instanceof XmlTag) {
    return settings.COLLAPSE_XML_TAGS;
  }
 else   if (element instanceof PsiJavaFile) {
    return settings.COLLAPSE_FILE_HEADER;
  }
 else {
    LOG.error("Unknown element:" + element);
    return false;
  }
}
