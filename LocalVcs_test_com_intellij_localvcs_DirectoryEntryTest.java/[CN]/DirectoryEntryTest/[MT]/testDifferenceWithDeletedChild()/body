{
  Entry dir1=new DirectoryEntry(null,"name");
  Entry dir2=new DirectoryEntry(null,"name");
  Entry subDir=new DirectoryEntry(1,"subDir");
  Entry subSubFile=new FileEntry(2,"subSubFile",null);
  dir1.addChild(subDir);
  subDir.addChild(subSubFile);
  Difference d=dir1.getDifferenceWith(dir2);
  assertEquals(NOT_MODIFIED,d.getKind());
  assertFalse(d.isFile());
  assertSame(dir1,d.getLeft());
  assertSame(dir2,d.getRight());
  assertEquals(1,d.getChildren().size());
  d=d.getChildren().get(0);
  assertEquals(DELETED,d.getKind());
  assertFalse(d.isFile());
  assertSame(subDir,d.getLeft());
  assertNull(d.getRight());
  assertEquals(1,d.getChildren().size());
  d=d.getChildren().get(0);
  assertEquals(DELETED,d.getKind());
  assertTrue(d.isFile());
  assertSame(subSubFile,d.getLeft());
  assertNull(d.getRight());
}
