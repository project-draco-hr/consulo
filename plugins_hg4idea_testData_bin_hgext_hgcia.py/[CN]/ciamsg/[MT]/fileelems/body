def fileelems(self):
    n = self.ctx.node()
    f = self.cia.repo.status(self.ctx.parents()[0].node(), n)
    url = (self.url or '')
    elems = []
    for path in f[0]:
        uri = ('%s/diff/%s/%s' % (url, short(n), path))
        elems.append(self.fileelem(path, (url and uri), 'modify'))
    for path in f[1]:
        uri = ('%s/file/%s/%s' % (url, short(n), path))
        elems.append(self.fileelem(path, (url and uri), 'add'))
    for path in f[2]:
        elems.append(self.fileelem(path, '', 'remove'))
    return '\n'.join(elems)
