def logmsg(self):
    diffstat = ((self.cia.diffstat and self.diffstat()) or '')
    self.cia.ui.pushbuffer()
    self.cia.templater.show(self.ctx, changes=self.ctx.changeset(), url=self.cia.url, diffstat=diffstat)
    return self.cia.ui.popbuffer()
