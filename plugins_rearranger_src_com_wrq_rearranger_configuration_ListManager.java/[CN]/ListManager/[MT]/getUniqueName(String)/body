{
  String result;
  if (name != null) {
    if (!dupName(name)) {
      return name;
    }
  }
  result=(name == null) ? "unnamed" : name;
  int suffix=0;
  String testName;
  do {
    suffix++;
    testName=result + "_" + suffix;
  }
 while (dupName(testName));
  return testName;
}
