{
  String oldText=xmlToken.getText();
  String newText=oldText.substring(0,range.getStartOffset()) + newContent + oldText.substring(range.getEndOffset());
  IElementType tokenType=xmlToken.getTokenType();
  FileElement holder=DummyHolderFactory.createHolder(xmlToken.getManager(),null).getTreeElement();
  LeafElement leaf=ASTFactory.leaf(tokenType,holder.getCharTable().intern(newText));
  holder.rawAddChildren(leaf);
  return (XmlToken)xmlToken.replace(leaf.getPsi());
}
