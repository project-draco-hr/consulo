{
  ExtensionsAreaImpl extensionsArea=new ExtensionsAreaImpl(null,new Extensions.SimpleLogProvider());
  int numEP=extensionsArea.getExtensionPoints().length;
  extensionsArea.registerExtensionPoint(EXTENSION_POINT_NAME_1,Integer.class.getName());
  final boolean removed[]=new boolean[1];
  removed[0]=false;
  extensionsArea.getExtensionPoint(EXTENSION_POINT_NAME_1).addExtensionPointListener(new ExtensionPointListener(){
    @Override public void extensionAdded(    @NotNull Object extension,    final PluginDescriptor pluginDescriptor){
    }
    @Override public void extensionRemoved(    @NotNull Object extension,    final PluginDescriptor pluginDescriptor){
      removed[0]=true;
    }
  }
);
  extensionsArea.getExtensionPoint(EXTENSION_POINT_NAME_1).registerExtension(new Integer(123));
  extensionsArea.unregisterExtensionPoint(EXTENSION_POINT_NAME_1);
  assertTrue("Extension point should be removed",extensionsArea.getExtensionPoints().length == numEP);
  assertTrue("Extension point disposed",removed[0]);
}
