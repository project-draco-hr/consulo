{
  DefaultPicoContainer rootContainer=new DefaultPicoContainer();
  rootContainer.registerComponentImplementation("component1",MyComponent1.class);
  rootContainer.registerComponentImplementation("component1.1",MyComponent1.class);
  rootContainer.registerComponentImplementation("component2",MyComponent2.class);
  rootContainer.registerComponentImplementation(MyTestComponent.class);
  MyInterface1 testInstance=new MyInterface1(){
    @Override public void run(){
    }
  }
;
  rootContainer.registerComponentInstance(testInstance);
  MyTestComponent testComponent=(MyTestComponent)rootContainer.getComponentInstance(MyTestComponent.class);
  MyComponent2 component2=(MyComponent2)rootContainer.getComponentInstance("component2");
  MyComponent1 component11=(MyComponent1)rootContainer.getComponentInstance("component1.1");
  MyComponent1 component1=(MyComponent1)rootContainer.getComponentInstance("component1");
  assertEquals(testInstance,component1.testObject);
  assertEquals(testInstance,component2.testObject);
  assertTrue(Arrays.asList(component2.comp1).contains(component1));
  assertTrue(Arrays.asList(component2.comp1).contains(component11));
  assertTrue(Arrays.asList(testComponent.comp1).contains(component1));
  assertTrue(Arrays.asList(testComponent.comp1).contains(component11));
  assertEquals(component2,testComponent.comp2);
}
