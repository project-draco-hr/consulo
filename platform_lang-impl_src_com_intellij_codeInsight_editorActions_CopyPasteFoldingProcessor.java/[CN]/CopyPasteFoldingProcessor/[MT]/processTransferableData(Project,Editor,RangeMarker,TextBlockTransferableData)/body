{
  final CodeFoldingManager foldingManager=CodeFoldingManager.getInstance(project);
  foldingManager.updateFoldRegions(editor);
  Runnable processor1=new Runnable(){
    public void run(){
      for (      FoldingTransferableData.FoldingData data : ((FoldingTransferableData)value).getData()) {
        FoldRegion region=foldingManager.findFoldRegion(editor,data.startOffset + bounds.getStartOffset(),data.endOffset + bounds.getStartOffset());
        if (region != null) {
          region.setExpanded(data.isExpanded);
        }
      }
    }
  }
;
  editor.getFoldingModel().runBatchFoldingOperation(processor1);
}
