{
  final ArrayList<FoldingTransferableData.FoldingData> list=new ArrayList<FoldingTransferableData.FoldingData>();
  final FoldRegion[] regions=editor.getFoldingModel().getAllFoldRegions();
  for (  final FoldRegion region : regions) {
    if (!region.isValid())     continue;
    for (int j=0; j < startOffsets.length; j++) {
      if (startOffsets[j] <= region.getStartOffset() && region.getEndOffset() <= endOffsets[j]) {
        list.add(new FoldingTransferableData.FoldingData(region.getStartOffset() - startOffsets[j],region.getEndOffset() - startOffsets[j],region.isExpanded()));
      }
    }
  }
  return new FoldingTransferableData(list.toArray(new FoldingTransferableData.FoldingData[list.size()]));
}
