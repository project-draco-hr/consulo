{
  try {
    final Method superMethod=BasicLookAndFeel.class.getDeclaredMethod("getDefaults");
    superMethod.setAccessible(true);
    final UIDefaults metalDefaults=(UIDefaults)superMethod.invoke(new MetalLookAndFeel());
    final UIDefaults defaults=(UIDefaults)superMethod.invoke(base);
    LafManagerImpl.initInputMapDefaults(defaults);
    initIdeaDefaults(defaults);
    patchStyledEditorKit();
    patchComboBox(metalDefaults,defaults);
    defaults.remove("Spinner.arrowButtonBorder");
    defaults.put("Spinner.arrowButtonSize",new Dimension(16,5));
    MetalLookAndFeel.setCurrentTheme(new DarculaMetalTheme());
    return defaults;
  }
 catch (  Exception ignore) {
    log(ignore);
  }
  return super.getDefaults();
}
