{
  final Project project=e.getData(CommonDataKeys.PROJECT);
  if (project == null)   return;
  final VcsKey vcsKey=e.getData(VcsDataKeys.VCS);
  if (vcsKey == null)   return;
  final VcsFileRevision revision=e.getData(VcsDataKeys.VCS_FILE_REVISION);
  VirtualFile revisionVirtualFile=e.getData(VcsDataKeys.VCS_VIRTUAL_FILE);
  final Boolean isNonLocal=e.getData(VcsDataKeys.VCS_NON_LOCAL_HISTORY_SESSION);
  if ((revision != null) && (revisionVirtualFile != null)) {
    showSubmittedFiles(project,revision.getRevisionNumber(),revisionVirtualFile,vcsKey,revision.getChangedRepositoryPath(),Boolean.TRUE.equals(isNonLocal));
  }
}
