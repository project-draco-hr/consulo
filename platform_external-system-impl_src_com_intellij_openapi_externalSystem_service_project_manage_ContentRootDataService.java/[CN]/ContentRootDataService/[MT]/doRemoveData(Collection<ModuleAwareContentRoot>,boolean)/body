{
  ExternalSystemApiUtil.executeProjectChangeAction(synchronous,new Runnable(){
    @Override public void run(){
      for (      ModuleAwareContentRoot contentRoot : contentRoots) {
        final ModuleRootManager moduleRootManager=ModuleRootManager.getInstance(contentRoot.getModule());
        ModifiableRootModel model=moduleRootManager.getModifiableModel();
        try {
          model.removeContentEntry(contentRoot);
          LOG.info(String.format("Removing content root '%s' from module %s",contentRoot.getUrl(),contentRoot.getModule().getName()));
        }
  finally {
          model.commit();
        }
      }
    }
  }
);
}
