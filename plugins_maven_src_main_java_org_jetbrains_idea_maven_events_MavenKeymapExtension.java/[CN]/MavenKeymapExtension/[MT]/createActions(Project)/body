{
  final MavenProjectsState projectsState=project.getComponent(MavenProjectsState.class);
  final MavenRepository repository=project.getComponent(MavenRepository.class);
  final MavenEventsHandler eventsHandler=project.getComponent(MavenEventsHandler.class);
  final List<MavenGoalAction> actionList=new ArrayList<MavenGoalAction>();
  for (  VirtualFile file : projectsState.getFiles()) {
    if (!projectsState.isIgnored(file)) {
      final String mavenProjectName=getMavenProjectName(projectsState,file);
      final String pomPath=file.getPath();
      final String actionIdPrefix=eventsHandler.getActionId(pomPath,null);
      for (      String goal : getGoals(projectsState,repository,file)) {
        actionList.add(new MavenGoalAction(mavenProjectName,actionIdPrefix,pomPath,goal));
      }
    }
  }
  refreshActions(actionList,getProjectPrefix(project));
}
