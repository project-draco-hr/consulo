{
  ArrayList<Item> items=new ArrayList<Item>();
  int i=0;
  List<Data> contents=new ArrayList<Data>(getContents());
  for (  Data content : contents) {
    String fullString=getStringRepresentationFor(content);
    if (fullString != null) {
      String shortString;
      fullString=StringUtil.convertLineSeparators(fullString);
      int newLineIdx=fullString.indexOf('\n');
      if (newLineIdx == -1) {
        shortString=fullString.trim();
      }
 else {
        int lastLooked=0;
        do {
          int nextLineIdx=fullString.indexOf("\n",lastLooked);
          if (nextLineIdx > lastLooked) {
            shortString=fullString.substring(lastLooked,nextLineIdx).trim() + " ...";
            break;
          }
 else           if (nextLineIdx == -1) {
            shortString=" ...";
            break;
          }
          lastLooked=nextLineIdx + 1;
        }
 while (true);
      }
      items.add(new Item(i++,shortString,fullString));
    }
  }
  myAllContents=contents;
  myList.setModel(new CollectionListModel<Item>(items));
}
