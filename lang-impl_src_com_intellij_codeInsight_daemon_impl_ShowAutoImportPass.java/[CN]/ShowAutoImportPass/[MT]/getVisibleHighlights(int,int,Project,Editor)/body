{
  List<HighlightInfo> highlights=DaemonCodeAnalyzerImpl.getHighlights(editor.getDocument(),project);
  if (highlights == null)   return HighlightInfo.EMPTY_ARRAY;
  List<HighlightInfo> array=new ArrayList<HighlightInfo>();
  for (  HighlightInfo info : highlights) {
    if (info.hasHint() && startOffset <= info.startOffset && info.endOffset <= endOffset && !editor.getFoldingModel().isOffsetCollapsed(info.startOffset)) {
      array.add(info);
    }
  }
  return array.toArray(new HighlightInfo[array.size()]);
}
