{
  Key<Boolean> contentKey=reusable ? REUSABLE_CONTENT_KEY : NOT_REUSABLE_CONTENT_KEY;
  if (!toOpenInNewTab && reusable) {
    Content[] contents=myFindContentManager.getContents();
    Content contentToDelete=null;
    for (    Content content : contents) {
      if (!content.isPinned() && content.getUserData(contentKey) != null) {
        UsageView usageView=content.getUserData(NEW_USAGE_VIEW_KEY);
        if (usageView == null || !usageView.isSearchInProgress()) {
          contentToDelete=content;
        }
      }
    }
    if (contentToDelete != null) {
      myFindContentManager.removeContent(contentToDelete,true);
    }
  }
  Content content=PeerFactory.getInstance().getContentFactory().createContent(component,contentName,isLockable);
  content.setTabName(tabName);
  content.setToolwindowTitle(toolwindowTitle);
  content.putUserData(contentKey,Boolean.TRUE);
  myFindContentManager.addContent(content);
  myFindContentManager.setSelectedContent(content);
  return content;
}
