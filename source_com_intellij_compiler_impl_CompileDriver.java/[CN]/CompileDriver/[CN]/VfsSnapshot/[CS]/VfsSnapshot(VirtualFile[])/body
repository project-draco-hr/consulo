{
  ApplicationManager.getApplication().runReadAction(new Runnable(){
    public void run(){
      myUrlToFile=new THashMap<String,VirtualFile>(files.length);
      myFileToUrl=new THashMap<VirtualFile,String>(files.length);
      for (int i=0; i < files.length; i++) {
        final VirtualFile file=files[i];
        final String url=file.getUrl();
        myUrlToFile.put(url,file);
        myFileToUrl.put(file,url);
      }
    }
  }
);
}
