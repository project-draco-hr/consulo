{
  CompileScope scope=originalScope;
  for (Iterator<Pair<Compiler,Module>> it=myGenerationCompilerModuleToOutputDirMap.keySet().iterator(); it.hasNext(); ) {
    final Pair<Compiler,Module> pair=it.next();
    final VirtualFile outputDir=myGenerationCompilerModuleToOutputDirMap.get(pair);
    scope=new CompositeScope(scope,new FileSetCompileScope(new VirtualFile[]{outputDir},new Module[]{pair.getSecond()}));
  }
  CompileScope additionalJ2eeScope=MakeUtilImpl.getOutOfSourceJ2eeCompileScope(scope);
  if (additionalJ2eeScope != null) {
    scope=new CompositeScope(scope,additionalJ2eeScope);
  }
  return scope;
}
