{
  final List<File> outputDirs=new ArrayList<File>();
  ApplicationManager.getApplication().runReadAction(new Runnable(){
    public void run(){
      final VirtualFile[] outputDirectories=CompilerPathsEx.getOutputDirectories(ModuleManager.getInstance(myProject).getModules());
      for (int idx=0; idx < outputDirectories.length; idx++) {
        final File directory=VfsUtil.virtualToIoFile(outputDirectories[idx]);
        outputDirs.add(directory);
      }
    }
  }
);
  return outputDirs.toArray(new File[outputDirs.size()]);
}
