{
  final CompilerManager manager=CompilerManager.getInstance(myProject);
  final ProgressIndicator progressIndicator=context.getProgressIndicator();
  try {
    CompileTask[] tasks=beforeTasks ? (CompileTask[])manager.getBeforeTasks() : manager.getAfterTasks();
    if (tasks.length > 0) {
      progressIndicator.setText(beforeTasks ? "Executing pre-compile tasks..." : "Executing post-compile tasks...");
      for (int idx=0; idx < tasks.length; idx++) {
        CompileTask task=tasks[idx];
        if (!task.execute(context)) {
          return false;
        }
      }
    }
  }
  finally {
    WindowManager.getInstance().getStatusBar(myProject).setInfo("");
    if (progressIndicator instanceof CompilerProgressIndicator) {
      ApplicationManager.getApplication().invokeLater(new Runnable(){
        public void run(){
          ((CompilerProgressIndicator)progressIndicator).showCompilerContent();
        }
      }
);
    }
  }
  return true;
}
