{
  int lineHeight=editor.getLineHeight();
  Rectangle viewRect=editor.getScrollingModel().getVisibleArea();
  int linesIncrement=viewRect.height / lineHeight;
  editor.getScrollingModel().scrollVertically(viewRect.y - viewRect.y % lineHeight - linesIncrement * lineHeight);
  int lineShift=-linesIncrement;
  editor.getCaretModel().moveCaretRelatively(0,lineShift,isWithSelection,editor.isColumnMode(),true);
}
