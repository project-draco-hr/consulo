{
  char prev=offset > 0 ? text.charAt(offset - 1) : 0;
  char current=text.charAt(offset);
  char next=offset + 1 < text.length() ? text.charAt(offset + 1) : 0;
  final boolean firstIsIdentifierPart=Character.isJavaIdentifierPart(prev);
  final boolean secondIsIdentifierPart=Character.isJavaIdentifierPart(current);
  if (!firstIsIdentifierPart && secondIsIdentifierPart) {
    return true;
  }
  if (isCamel) {
    if (firstIsIdentifierPart && secondIsIdentifierPart && (Character.isLowerCase(prev) && Character.isUpperCase(current) || prev == '_' && current != '_' || Character.isUpperCase(prev) && Character.isUpperCase(current) && Character.isLowerCase(next))) {
      return true;
    }
  }
  return (Character.isWhitespace(prev) || firstIsIdentifierPart) && !Character.isWhitespace(current) && !secondIsIdentifierPart;
}
