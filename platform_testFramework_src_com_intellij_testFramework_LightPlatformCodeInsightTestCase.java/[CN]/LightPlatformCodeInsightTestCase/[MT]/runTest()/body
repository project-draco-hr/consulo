{
  final Throwable[] throwable={null};
  Runnable action=new Runnable(){
    @Override public void run(){
      CommandProcessor.getInstance().executeCommand(getProject(),new Runnable(){
        @Override public void run(){
          try {
            doRunTest();
          }
 catch (          Throwable t) {
            throwable[0]=t;
          }
        }
      }
,"",null);
    }
  }
;
  if (isRunInWriteAction()) {
    ApplicationManager.getApplication().runWriteAction(action);
  }
 else {
    action.run();
  }
  if (throwable[0] != null) {
    throw throwable[0];
  }
}
