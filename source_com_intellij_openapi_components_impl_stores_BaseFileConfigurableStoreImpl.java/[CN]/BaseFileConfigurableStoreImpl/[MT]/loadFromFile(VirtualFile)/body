{
  final CharSequence text=FileDocumentManager.getInstance().getDocument(file).getCharsSequence();
  Document document=JDOMUtil.loadDocument(CharArrayUtil.fromSequence(text),text.length());
  Element root=document.getRootElement();
  if (root == null) {
    throw new InvalidDataException();
  }
  loadFromXml(root,file.getPath());
}
