{
  if (result != null) {
    boolean trancated=false;
    if (window != null) {
      final int windowWidth=window.getWidth();
      while (window.getFontMetrics(window.getFont()).stringWidth(result) + 100 > windowWidth && result.length() > 10) {
        result=result.substring(0,result.length() - 10);
        trancated=true;
      }
    }
    return result + (trancated ? "..." : "");
  }
  return result;
}
