{
synchronized (lock) {
    myCache.clear();
    if (myPoint != null) {
      myPoint.removeExtensionPointListener(myListener);
      myPoint=null;
      myListener=null;
    }
    if (Extensions.getRootArea().hasExtensionPoint(myEpName)) {
      ExtensionPointName<KeyedLazyInstance<T>> typesafe=ExtensionPointName.create(myEpName);
      myPoint=Extensions.getRootArea().getExtensionPoint(typesafe);
      myListener=new ExtensionPointAndAreaListener<KeyedLazyInstance<T>>(){
        public void extensionAdded(        final KeyedLazyInstance<T> bean,        @Nullable final PluginDescriptor pluginDescriptor){
synchronized (lock) {
            myCache.remove(bean.getKey());
          }
        }
        public void extensionRemoved(        final KeyedLazyInstance<T> bean,        @Nullable final PluginDescriptor pluginDescriptor){
synchronized (lock) {
            myCache.remove(bean.getKey());
          }
        }
        public void areaReplaced(        final ExtensionsArea area){
          resetAreaListener();
        }
      }
;
      myPoint.addExtensionPointListener(myListener);
    }
  }
}
