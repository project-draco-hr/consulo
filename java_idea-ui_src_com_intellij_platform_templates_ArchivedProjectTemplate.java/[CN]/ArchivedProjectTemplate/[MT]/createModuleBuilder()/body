{
  return new ProjectBuilder(){
    @Nullable @Override public List<Module> commit(    Project project,    ModifiableModuleModel model,    ModulesProvider modulesProvider){
      final String path=myContext.getProjectFileDirectory();
      String iml;
      try {
        InputStream stream=myArchivePath.openStream();
        File dir=new File(path);
        ZipUtil.unzip(null,dir,new ZipInputStream(stream));
        VirtualFile virtualFile=LocalFileSystem.getInstance().refreshAndFindFileByIoFile(dir);
        RefreshQueue.getInstance().refresh(false,true,null,virtualFile);
        iml=ContainerUtil.find(dir.list(),new Condition<String>(){
          @Override public boolean value(          String s){
            return s.endsWith(".iml");
          }
        }
);
      }
 catch (      IOException e) {
        throw new RuntimeException(e);
      }
      return ImportImlMode.setUpLoader(path + "/" + iml).commit(project,model,modulesProvider);
    }
  }
;
}
