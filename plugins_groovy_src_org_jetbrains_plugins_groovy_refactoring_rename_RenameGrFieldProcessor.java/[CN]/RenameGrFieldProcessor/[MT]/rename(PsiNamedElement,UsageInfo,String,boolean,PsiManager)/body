{
  final PsiReference ref=info.getReference();
  final PsiElement renamed=ref.handleElementRename(nameToUse);
  PsiElement newly_resolved=ref.resolve();
  if (shouldCheckForCorrectResolve) {
    if (element instanceof GrAccessorMethod && newly_resolved instanceof GrAccessorMethod) {
      final GrAccessorMethod oldAccessor=(GrAccessorMethod)element;
      final GrAccessorMethod newAccessor=(GrAccessorMethod)newly_resolved;
      if (!manager.areElementsEquivalent(oldAccessor.getProperty(),newAccessor.getProperty()) && oldAccessor.isSetter() == newAccessor.isSetter()) {
        qualify(oldAccessor,renamed,nameToUse);
      }
    }
 else     if (!manager.areElementsEquivalent(element,newly_resolved)) {
      qualify((PsiMember)element,renamed,nameToUse);
    }
  }
}
