{
  myJobDescriptors=new ArrayList<JobDescriptor>();
  final InspectionProjectProfileManager profileManager=InspectionProjectProfileManager.getInstance(getProject());
  if (runWithEditorSettings) {
    final Set<String> profiles=scope.getActiveInspectionProfiles();
    for (    String profile : profiles) {
      final InspectionProfileWrapper inspectionProfile=profileManager.getProfileWrapper(profile);
      processProfileTools(inspectionProfile,tools,localTools);
    }
  }
 else {
    InspectionProfileWrapper profile=profileManager.getProfileWrapper(myCurrentProfileName);
    processProfileTools(profile,tools,localTools);
  }
  BUILD_GRAPH.setTotalAmount(scope.getFileCount());
  LOCAL_ANALYSIS.setTotalAmount(scope.getFileCount());
}
