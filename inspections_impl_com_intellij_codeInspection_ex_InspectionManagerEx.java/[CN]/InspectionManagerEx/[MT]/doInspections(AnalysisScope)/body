{
  while (PsiManager.getInstance(getProject()).findClass("java.lang.Object") == null) {
    if (ModuleManager.getInstance(getProject()).getModules().length == 0) {
      Messages.showMessageDialog(getProject(),InspectionsBundle.message("inspection.no.modules.error.message"),CommonBundle.message("title.error"),Messages.getErrorIcon());
      return;
    }
    Messages.showMessageDialog(getProject(),InspectionsBundle.message("inspection.no.jdk.error.message"),CommonBundle.message("title.error"),Messages.getErrorIcon());
    final ProjectJdk projectJdk=JdkChooserPanel.chooseAndSetJDK(myProject);
    if (projectJdk == null)     return;
  }
  close();
  getContentManager().removeAllContents();
  ApplicationManager.getApplication().invokeLater(new Runnable(){
    public void run(){
      myCurrentScope=scope;
      launchInspections(scope);
    }
  }
);
}
