{
  while (PsiManager.getInstance(getProject()).findClass("java.lang.Object") == null) {
    Messages.showMessageDialog(getProject(),InspectionsBundle.message("inspection.no.jdk.error.message"),CommonBundle.message("title.error"),Messages.getErrorIcon());
    final ProjectJdk projectJdk=JdkChooserPanel.chooseAndSetJDK(myProject);
    if (projectJdk == null)     return;
  }
  if (myCurrentScope == null) {
    final InspectCodePanel itc=new InspectCodePanel(this,scope);
    itc.show();
    if (!itc.isOK())     return;
  }
  close();
  getContentManager().removeAllContents();
  ApplicationManager.getApplication().invokeLater(new Runnable(){
    public void run(){
      myCurrentScope=scope;
      launchInspections(scope);
    }
  }
);
}
