{
  if (isOpaque() && (myAnimator.isRunning() || myPaintPassive || (myLastPaintWasRunning && !myAnimator.isRunning()))) {
    g.setColor(UIUtil.getBgFillColor(this));
    g.fillRect(0,0,getWidth(),getHeight());
  }
  Icon icon;
  if (myAnimator.isRunning()) {
    icon=myIcons[myCurrentIconIndex];
  }
 else {
    icon=getPassiveIcon();
  }
  final Dimension size=getSize();
  int x=(size.width - icon.getIconWidth()) / 2;
  int y=(size.height - icon.getIconHeight()) / 2;
  icon.paintIcon(this,g,x,y);
  myLastPaintWasRunning=myAnimator.isRunning();
}
