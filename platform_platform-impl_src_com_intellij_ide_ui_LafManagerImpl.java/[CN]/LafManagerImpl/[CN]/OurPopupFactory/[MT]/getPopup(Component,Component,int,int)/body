{
  final Point point=fixPopupLocation(contents,x,y);
  int oldType=WEIGHT_DEFAULT;
  if (myPopupType > WEIGHT_DEFAULT) {
    oldType=PopupUtil.getPopupType(this);
    PopupUtil.setPopupType(myDelegate,myPopupType);
  }
  final Popup popup=myDelegate.getPopup(owner,contents,point.x,point.y);
  if (oldType > WEIGHT_DEFAULT) {
    PopupUtil.setPopupType(myDelegate,oldType);
  }
  return popup;
}
