{
  String message=null;
  if (lafInfo.getName().contains("GTK") && SystemInfo.isLinux && !SystemInfo.isJavaVersionAtLeast("1.6.0_12")) {
    message=IdeBundle.message("warning.problem.laf.1");
  }
  if (message != null) {
    if (confirm) {
      final String[] options={IdeBundle.message("confirm.set.look.and.feel"),CommonBundle.getCancelButtonText()};
      final int result=Messages.showOkCancelDialog(message,CommonBundle.getWarningTitle(),options[0],options[1],Messages.getWarningIcon());
      if (result == 0) {
        myLastWarning=message;
        return true;
      }
      return false;
    }
    if (!message.equals(myLastWarning)) {
      Notifications.Bus.notify(new Notification(Notifications.SYSTEM_MESSAGES_GROUP_ID,"L&F Manager",message,NotificationType.WARNING,NotificationListener.URL_OPENING_LISTENER));
      myLastWarning=message;
    }
  }
  return true;
}
