{
  if (SystemInfo.isMac) {
    UIManager.LookAndFeelInfo laf=findLaf(UIManager.getSystemLookAndFeelClassName());
    LOG.assertTrue(laf != null);
    return laf;
  }
 else   if (SystemInfo.isLinux && ApplicationNamesInfo.getInstance().getLowercaseProductName().equals("Rubymine")) {
    UIManager.LookAndFeelInfo laf=findLaf(UIManager.getSystemLookAndFeelClassName());
    LOG.assertTrue(laf != null);
    return laf;
  }
 else   if (SystemInfo.isLinux && ApplicationNamesInfo.getInstance().getLowercaseProductName().equals("Rubymine")) {
    UIManager.LookAndFeelInfo laf=findLaf(UIManager.getSystemLookAndFeelClassName());
    LOG.assertTrue(laf != null);
    return laf;
  }
 else {
    String defaultLafName=StartupUtil.getDefaultLAF();
    if (defaultLafName != null) {
      UIManager.LookAndFeelInfo defaultLaf=findLaf(defaultLafName);
      if (defaultLaf != null) {
        return defaultLaf;
      }
    }
    UIManager.LookAndFeelInfo ideaLaf=findLaf(IDEA_LAF_CLASSNAME);
    if (ideaLaf != null) {
      return ideaLaf;
    }
  }
  throw new IllegalStateException("No default look&feel found");
}
