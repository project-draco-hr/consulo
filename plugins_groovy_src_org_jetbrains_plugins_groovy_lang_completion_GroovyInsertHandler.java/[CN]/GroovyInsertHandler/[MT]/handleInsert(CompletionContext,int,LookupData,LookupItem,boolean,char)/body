{
  Object obj=item.getObject();
  if (obj instanceof PsiMethod) {
    PsiMethod method=(PsiMethod)obj;
    PsiParameter[] parameters=method.getParameterList().getParameters();
    Editor editor=context.editor;
    Document document=editor.getDocument();
    if (completionChar == Lookup.REPLACE_SELECT_CHAR) {
      handleOverwrite(editor.getCaretModel().getOffset(),document);
    }
    if (startOffset > 0 && document.getCharsSequence().charAt(startOffset - 1) == '&')     return;
    CaretModel caretModel=editor.getCaretModel();
    int offset=startOffset + method.getName().length();
    if (parameters.length == 0 || parameters.length > 1) {
      if (document.getCharsSequence().charAt(offset) != '(') {
        document.insertString(offset,"()");
        if (parameters.length > 0) {
          caretModel.moveToOffset(offset + 1);
        }
 else {
          caretModel.moveToOffset(offset + 2);
        }
      }
    }
 else {
      PsiType paramType=parameters[0].getType();
      if (paramType.getCanonicalText().equals("groovy.lang.Closure")) {
        document.insertString(offset," {}");
        caretModel.moveToOffset(offset + 2);
      }
    }
    return;
  }
  addTailType(item);
  super.handleInsert(context,startOffset,data,item,signatureSelected,completionChar);
}
