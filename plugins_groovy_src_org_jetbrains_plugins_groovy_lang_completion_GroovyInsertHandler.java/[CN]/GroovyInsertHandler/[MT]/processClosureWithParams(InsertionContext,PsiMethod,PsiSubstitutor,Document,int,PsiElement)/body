{
  if (method instanceof GrGdkMethod)   method=((GrGdkMethod)method).getStaticMethod();
  PsiType type=JavaPsiFacade.getElementFactory(context.getProject()).createType(method.getContainingClass());
  final ArrayList<ClosureDescriptor> descriptors=new ArrayList<ClosureDescriptor>();
  GroovyDslFileIndex.processExecutors(type,((GrReferenceExpression)parent),new BaseScopeProcessor(){
    @Override public boolean execute(    @NotNull PsiElement element,    ResolveState state){
      if (element instanceof ClosureDescriptor) {
        descriptors.add((ClosureDescriptor)element);
      }
      return true;
    }
  }
,ResolveState.initial());
  for (  ClosureDescriptor descriptor : descriptors) {
    if (descriptor.isMethodApplicable(method,substitutor,(GrReferenceExpression)parent)) {
      if (runClosureTemplate(context,document,offset,descriptor,substitutor,method)) {
        return true;
      }
    }
  }
  return false;
}
