{
  myCvsTree=new CvsTree(myProject,myAllowRootSelection,mySelectionMode,myShowModules,myShowFiles,new Consumer<VcsException>(){
    @Override public void consume(    final VcsException e){
      myErrors.set(Boolean.TRUE);
      ApplicationManager.getApplication().invokeLater(new Runnable(){
        @Override public void run(){
          Messages.showErrorDialog(e.getMessage(),CvsBundle.message("error.title.cvs.error"));
        }
      }
,ModalityState.any());
    }
  }
);
  myCvsTree.init();
  myCvsTree.addSelectionObserver(new Observer(){
    @Override public void update(    Observable o,    Object arg){
      if (CvsTree.SELECTION_CHANGED.equals(arg)) {
        getWizard().updateStep();
      }
    }
  }
);
  return myCvsTree;
}
