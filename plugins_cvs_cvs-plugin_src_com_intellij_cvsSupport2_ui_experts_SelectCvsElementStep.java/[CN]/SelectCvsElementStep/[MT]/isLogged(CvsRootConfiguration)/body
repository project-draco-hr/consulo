{
  final Ref<Boolean> errors=new Ref<Boolean>();
  final LoginPerformer performer=new LoginPerformer(myProject,Collections.<CvsEnvironment>singletonList(selectedConfiguration),new Consumer<VcsException>(){
    @Override public void consume(    VcsException e){
      errors.set(Boolean.TRUE);
    }
  }
);
  try {
    final boolean logged=performer.loginAll(false);
    return logged && errors.isNull();
  }
 catch (  CvsRootException e) {
    Messages.showErrorDialog(e.getMessage(),CvsBundle.message("error.title.invalid.cvs.root"));
    return false;
  }
}
