{
  HashSet<VirtualFile> roots=new HashSet<VirtualFile>();
  String path=FetchExtResourceAction.getExternalResourcesPath();
  VirtualFile extResources=LocalFileSystem.getInstance().findFileByPath(path);
  ExternalResourceManagerImpl manager=(ExternalResourceManagerImpl)ExternalResourceManagerEx.getInstance();
  List<String> urls=manager.getStandardResources();
  for (  String url : urls) {
    VirtualFile file=VfsUtil.findRelativeFile(url,null);
    if (file != null) {
      VirtualFile parent=file.getParent();
      if (parent != null && ("standardSchemas".equals(parent.getName()) || parent.equals(extResources))) {
        roots.add(parent);
      }
 else {
        roots.add(file);
      }
    }
  }
  return roots;
}
