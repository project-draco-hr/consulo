{
  @NonNls StringBuilder result=new StringBuilder("VcsDirtyScope[");
  if (!myDirtyFiles.isEmpty()) {
    result.append(" files: ");
    for (    THashSet<FilePath> paths : myDirtyFiles.values()) {
      for (      FilePath file : paths) {
        result.append(file).append(" ");
      }
    }
  }
  if (!myDirtyDirectoriesRecursively.isEmpty()) {
    result.append("\ndirs: ");
    for (    THashSet<FilePath> dirsByRoot : myDirtyDirectoriesRecursively.values()) {
      for (      FilePath file : dirsByRoot) {
        result.append(file).append(" ");
      }
    }
  }
  result.append("\naffected roots: ");
  for (  VirtualFile contentRoot : myAffectedContentRoots) {
    result.append(contentRoot.getPath()).append(" ");
  }
  result.append("\naffected roots with check: ");
  for (  VirtualFile contentRoot : getAffectedContentRootsWithCheck()) {
    result.append(contentRoot.getPath()).append(" ");
  }
  result.append("]");
  return result.toString();
}
