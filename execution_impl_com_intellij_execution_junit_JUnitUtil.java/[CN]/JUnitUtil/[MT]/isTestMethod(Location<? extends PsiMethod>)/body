{
  final PsiMethod psiMethod=location.getPsiElement();
  final PsiClass aClass=location instanceof MethodLocation ? ((MethodLocation)location).getContainingClass() : psiMethod.getContainingClass();
  if (aClass == null || !isTestClass(aClass))   return false;
  if (isTestAnnotated(psiMethod))   return true;
  if (psiMethod.isConstructor())   return false;
  if (!psiMethod.hasModifierProperty(PsiModifier.PUBLIC))   return false;
  if (psiMethod.hasModifierProperty(PsiModifier.ABSTRACT))   return false;
  if (AnnotationUtil.isAnnotated(aClass,RUN_WITH,false))   return true;
  if (psiMethod.getParameterList().getParametersCount() > 0)   return false;
  if (psiMethod.hasModifierProperty(PsiModifier.STATIC) && BaseTestRunner.SUITE_METHODNAME.equals(psiMethod.getName()))   return false;
  if (!psiMethod.getName().startsWith("test"))   return false;
  PsiClass testCaseClass=getTestCaseClassOrNull(location);
  return testCaseClass != null && psiMethod.getContainingClass().isInheritor(testCaseClass,true);
}
