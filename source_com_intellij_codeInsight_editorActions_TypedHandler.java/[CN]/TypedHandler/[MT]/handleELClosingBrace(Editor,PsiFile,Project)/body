{
  PsiDocumentManager.getInstance(project).commitAllDocuments();
  final int offset=editor.getCaretModel().getOffset();
  PsiElement elementAt=file.findElementAt(offset - 1);
  if (!JspxCompletionData.isJavaContext(elementAt)) {
    while (!elementAt.getText().startsWith("${")) {
      elementAt=elementAt.getPrevSibling();
      if (elementAt == null)       break;
    }
    if (elementAt != null) {
      editor.getCaretModel().moveToOffset(offset + 1);
      editor.getScrollingModel().scrollToCaret(ScrollType.RELATIVE);
      return true;
    }
  }
  return false;
}
