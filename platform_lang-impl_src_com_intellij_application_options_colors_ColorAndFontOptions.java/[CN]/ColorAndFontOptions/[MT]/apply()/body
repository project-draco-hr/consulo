{
  if (myApplyCompleted) {
    return;
  }
  try {
    EditorColorsManager myColorsManager=EditorColorsManager.getInstance();
    myColorsManager.removeAllSchemes();
    for (    MyColorScheme scheme : mySchemes.values()) {
      if (!scheme.isDefault()) {
        scheme.apply();
        myColorsManager.addColorsScheme(scheme.getOriginalScheme());
      }
    }
    EditorColorsScheme originalScheme=mySelectedScheme.getOriginalScheme();
    myColorsManager.setGlobalScheme(originalScheme);
    applyChangesToEditors();
    reset();
  }
  finally {
    myApplyCompleted=true;
  }
}
