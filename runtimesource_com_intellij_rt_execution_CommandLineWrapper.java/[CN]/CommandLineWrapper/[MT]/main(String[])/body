{
  final List urls=new ArrayList();
  final File file=new File(args[0]);
  final BufferedReader reader=new BufferedReader(new FileReader(file));
  try {
    while (reader.ready()) {
      urls.add(new File(reader.readLine()).toURI().toURL());
    }
  }
  finally {
    reader.close();
  }
  file.delete();
  String progClass=args[1];
  String[] progArgs=new String[args.length - 2];
  System.arraycopy(args,2,progArgs,0,progArgs.length);
  final URLClassLoader loader=new URLClassLoader((URL[])urls.toArray(new URL[urls.size()]),null);
  Class mainClass=loader.loadClass(progClass);
  Thread.currentThread().setContextClassLoader(loader);
  Class mainArgType=(new String[0]).getClass();
  Method main=mainClass.getMethod("main",new Class[]{mainArgType});
  ensureAccess(main);
  main.invoke(null,new Object[]{progArgs});
}
