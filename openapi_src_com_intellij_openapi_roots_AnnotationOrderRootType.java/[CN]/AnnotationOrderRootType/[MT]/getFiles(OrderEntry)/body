{
  List<VirtualFile> result=new ArrayList<VirtualFile>();
  JavaRecursiveRootPolicy<List<VirtualFile>> policy=new JavaRecursiveRootPolicy<List<VirtualFile>>(){
    public List<VirtualFile> visitLibraryOrderEntry(    final LibraryOrderEntry orderEntry,    final List<VirtualFile> value){
      Collections.addAll(value,orderEntry.getRootFiles(INSTANCE));
      return value;
    }
    public List<VirtualFile> visitJdkOrderEntry(    final JdkOrderEntry orderEntry,    final List<VirtualFile> value){
      Collections.addAll(value,orderEntry.getRootFiles(INSTANCE));
      return value;
    }
    public List<VirtualFile> visitModuleSourceOrderEntry(    final ModuleSourceOrderEntry orderEntry,    final List<VirtualFile> value){
      Collections.addAll(value,orderEntry.getRootModel().getRootPaths(INSTANCE));
      return value;
    }
  }
;
  entry.accept(policy,result);
  return result.toArray(new VirtualFile[result.size()]);
}
