{
  DiffContent content=getContent();
  VirtualFile contentFile=content.getFile();
  String extension;
  if (contentFile != null) {
    extension="." + contentFile.getExtension();
  }
 else {
    FileType contentType=content.getContentType();
    if (contentType == null)     contentType=DiffUtil.chooseContentTypes(myRequest.getContents())[myIndex];
    extension=contentType != null ? "." + contentType.getDefaultExtension() : null;
  }
  return extension;
}
