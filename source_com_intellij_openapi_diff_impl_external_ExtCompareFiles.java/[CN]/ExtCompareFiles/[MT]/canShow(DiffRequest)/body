{
  DiffContent[] contents=request.getContents();
  for (int i=0; i < contents.length; i++) {
    DiffContent content=contents[i];
    VirtualFile file=getLocalFile(content.getFile());
    if (file != null && file.isDirectory())     return false;
    if (canExternalizeAsFile(file))     continue;
    if (DiffUtil.isWriatable(content))     return false;
  }
  return super.canShow(request);
}
