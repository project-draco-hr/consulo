{
  final String targetHashString=getTargetHashStringFromProperyFile(module);
  if (targetHashString != null && findAndSetSdkWithHashString(module,targetHashString)) {
    return;
  }
  PropertiesComponent component=PropertiesComponent.getInstance();
  if (component.isValueSet(DEFAULT_PLATFORM_NAME_PROPERTY)) {
    String defaultPlatformName=component.getValue(DEFAULT_PLATFORM_NAME_PROPERTY);
    Sdk defaultLib=ProjectJdkTable.getInstance().findJdk(defaultPlatformName,AndroidSdkType.getInstance().getName());
    if (defaultLib != null && tryToSetAndroidPlatform(module,defaultLib)) {
      return;
    }
  }
  for (  Sdk sdk : ProjectJdkTable.getInstance().getSdksOfType(AndroidSdkType.getInstance())) {
    if (tryToSetAndroidPlatform(module,sdk)) {
      component.setValue(DEFAULT_PLATFORM_NAME_PROPERTY,sdk.getName());
      return;
    }
  }
}
