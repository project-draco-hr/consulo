{
  final List<Sdk> androidSdks=ProjectJdkTable.getInstance().getSdksOfType(AndroidSdkType.getInstance());
  for (  Sdk sdk : androidSdks) {
    final AndroidSdkAdditionalData data=(AndroidSdkAdditionalData)sdk.getSdkAdditionalData();
    if (data != null) {
      final AndroidPlatform androidPlatform=data.getAndroidPlatform();
      if (androidPlatform != null) {
        final String baseDir=FileUtil.toSystemIndependentName(androidPlatform.getSdkData().getLocation());
        if ((sdkDir == null || FileUtil.pathsEqual(baseDir,sdkDir)) && targetHashString.equals(androidPlatform.getTarget().hashString())) {
          return sdk;
        }
      }
    }
  }
  return null;
}
