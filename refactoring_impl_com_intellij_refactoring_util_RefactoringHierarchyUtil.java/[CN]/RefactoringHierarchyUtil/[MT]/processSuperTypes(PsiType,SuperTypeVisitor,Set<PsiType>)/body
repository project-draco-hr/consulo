{
  if (visited.contains(type))   return;
  visited.add(type);
  if (type instanceof PsiPrimitiveType) {
    int index=PRIMITIVE_TYPES.indexOf(type);
    if (index >= 0) {
      for (int i=index + 1; i < PRIMITIVE_TYPES.size(); i++) {
        visitor.visitType(PRIMITIVE_TYPES.get(i));
      }
    }
  }
 else {
    final PsiType[] superTypes=type.getSuperTypes();
    for (int i=0; i < superTypes.length; i++) {
      PsiType superType=superTypes[i];
      visitor.visitType(superType);
      processSuperTypes(superType,visitor,visited);
    }
  }
}
