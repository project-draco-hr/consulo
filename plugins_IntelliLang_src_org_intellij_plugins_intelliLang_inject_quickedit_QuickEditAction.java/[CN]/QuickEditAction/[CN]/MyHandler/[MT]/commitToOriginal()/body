{
  if (!isValid())   return;
  final PsiFile origFile=(PsiFile)myNewFile.getUserData(FileContextUtil.INJECTED_IN_ELEMENT).getElement();
  myOrigDocument.removeDocumentListener(this);
  try {
    new WriteCommandAction.Simple(myProject,origFile){
      @Override protected void run() throws Throwable {
        commitToOriginalInner();
      }
    }
.execute();
  }
  finally {
    myOrigDocument.addDocumentListener(this);
  }
}
