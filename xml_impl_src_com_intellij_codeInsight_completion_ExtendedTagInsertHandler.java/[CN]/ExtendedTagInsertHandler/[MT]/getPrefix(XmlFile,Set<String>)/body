{
  @Nullable String nsPrefix=myNamespacePrefix;
  if (myNamespacePrefix == null && namespaces.size() > 0) {
    final XmlSchemaProvider provider=XmlSchemaProvider.getAvailableProvider(file);
    if (provider != null) {
      for (      String namespace : namespaces) {
        final String prefix=provider.getDefaultPrefix(namespace,file);
        if (prefix != null) {
          if (nsPrefix == null) {
            nsPrefix=prefix;
          }
 else           if (!prefix.equals(nsPrefix)) {
            nsPrefix=null;
            break;
          }
        }
      }
    }
  }
  return nsPrefix;
}
