{
  final Box box=Box.createVerticalBox();
  setupTable();
  myTableModel.addTableModelListener(new TableModelListener(){
    public void tableChanged(    TableModelEvent e){
      handleChanges();
    }
  }
);
  setupCheckColumn();
  setupOldNameColumn();
  setupNewNameColumn();
  myValidatingComponent=new ValidatingComponent(){
    protected JComponent createMainComponent(){
      return ScrollPaneFactory.createScrollPane(myTable);
    }
  }
;
  myValidatingComponent.doInitialize();
  box.add(myValidatingComponent);
  final Box buttonBox=Box.createHorizontalBox();
  buttonBox.add(Box.createHorizontalGlue());
  final JButton selectAllButton=new JButton(RefactoringBundle.message("select.all.button"));
  buttonBox.add(selectAllButton);
  buttonBox.add(Box.createHorizontalStrut(4));
  final JButton deselectAllButton=new JButton(RefactoringBundle.message("unselect.all.button"));
  buttonBox.add(deselectAllButton);
  selectAllButton.addActionListener(new ActionListener(){
    public void actionPerformed(    ActionEvent e){
      for (int i=0; i < getElementCount(); i++) {
        myShouldRename[i]=true;
      }
      myTableModel.fireTableDataChanged();
    }
  }
);
  selectAllButton.setMnemonic('S');
  deselectAllButton.addActionListener(new ActionListener(){
    public void actionPerformed(    ActionEvent e){
      for (int i=0; i < getElementCount(); i++) {
        myShouldRename[i]=false;
      }
      myTableModel.fireTableDataChanged();
    }
  }
);
  deselectAllButton.setMnemonic('U');
  box.add(Box.createVerticalStrut(4));
  box.add(buttonBox);
  box.add(Box.createVerticalStrut(4));
  return box;
}
