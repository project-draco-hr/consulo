{
  final List<CommandLineEntry> common=composeClassPath(project);
  final ProjectJdk jdk;
  if (jreHome == null) {
    jdk=PathUtilEx.getAnyJdk(project);
    if (jdk == null)     throw CantRunException.noJdkConfigured();
  }
 else {
    jdk=JavaSdk.getInstance().createJdk("",jreHome);
    if (jdk == null)     throw CantRunException.noJdkConfigured();
  }
  parameters.setJdk(jdk);
  for (  final CommandLineEntry entry : common) {
    entry.addPath(parameters,jdk);
  }
}
