{
  myParent=parent;
  myIndex=index;
  StringBuffer name=new StringBuffer();
  final int signatureBeginIndex=signature.getIndex();
  while (signature.current() != ':' && signature.current() != CharacterIterator.DONE) {
    name.append(signature.current());
    signature.next();
  }
  if (signature.current() == CharacterIterator.DONE) {
    throw new ClsFormatException();
  }
  myName=name.toString();
  ArrayList<PsiJavaCodeReferenceElement> bounds=new ArrayList<PsiJavaCodeReferenceElement>();
  while (signature.current() == ':') {
    signature.next();
    PsiJavaCodeReferenceElement bound=GenericSignatureParsing.parseToplevelClassRefSignature(signature,this);
    if (bound != null && !bound.getQualifiedName().equals("java.lang.Object")) {
      bounds.add(bound);
    }
  }
  myBoundsList=new ClsReferenceListImpl(this,bounds.toArray(new PsiJavaCodeReferenceElement[bounds.size()]),PsiKeyword.EXTENDS);
  final int endIndex=signature.getIndex();
  mySignature=parentSignatureAttribute.substring(signatureBeginIndex,endIndex);
}
