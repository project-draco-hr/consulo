{
  Presentation presentation=event.getPresentation();
  DataContext dataContext=event.getDataContext();
  PsiElement psiElement=LangDataKeys.PSI_ELEMENT.getData(dataContext);
  if (psiElement instanceof PsiDirectory) {
    presentation.setEnabled(true);
    return;
  }
  Editor editor=PlatformDataKeys.EDITOR.getData(dataContext);
  PsiFile psiFile=LangDataKeys.PSI_FILE.getData(dataContext);
  presentation.setEnabled(psiFile != null || editor != null);
}
