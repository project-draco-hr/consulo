{
  final ModifiableArtifactModel model=createModifiableModel();
  final CompositePackagingElement<?> root=model.getOrCreateModifiableArtifact(artifact).getRootElement();
  PackagingElementFactory.getInstance().getOrCreateDirectory(root,relativePath).addOrFindChildren(elements);
  new WriteAction(){
    protected void run(    final Result result){
      model.commit();
    }
  }
.execute();
}
