{
  final List<ArtifactImpl> artifacts=new ArrayList<ArtifactImpl>();
  for (  ArtifactState state : managerState.getArtifacts()) {
    final Element element=state.getRootElement();
    final ArtifactRootElementImpl rootElement;
    if (element != null) {
      rootElement=(ArtifactRootElementImpl)deserializeElement(element);
    }
 else {
      rootElement=new ArtifactRootElementImpl();
    }
    artifacts.add(new ArtifactImpl(state.getName(),state.isBuildOnMake(),rootElement,state.getOutputPath()));
  }
  commit(artifacts);
}
