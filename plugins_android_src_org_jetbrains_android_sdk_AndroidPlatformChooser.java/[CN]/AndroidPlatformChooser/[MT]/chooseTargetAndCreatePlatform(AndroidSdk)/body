{
  final IAndroidTarget[] targets=sdk.getTargets();
  if (targets.length == 0) {
    Messages.showErrorDialog(myPanel,AndroidBundle.message("no.android.targets.error"));
    return;
  }
  int selected=0;
  if (targets.length > 1) {
    String[] targetPresentableNames=new String[targets.length];
    IAndroidTarget newerPlatform=sdk.getNewerPlatformTarget();
    String defaultSelection=null;
    for (int i=0, targetsLength=targets.length; i < targetsLength; i++) {
      IAndroidTarget target=targets[i];
      String presentableName=AndroidSdkUtils.getPresentableTargetName(target);
      targetPresentableNames[i]=presentableName;
      if (target == newerPlatform) {
        defaultSelection=presentableName;
      }
    }
    if (defaultSelection == null) {
      defaultSelection=targetPresentableNames[0];
    }
    selected=Messages.showChooseDialog(myPanel,AndroidBundle.message("select.target.dialog.text"),AndroidBundle.message("select.target.dialog.title"),targetPresentableNames,defaultSelection,Messages.getQuestionIcon());
  }
  if (selected >= 0) {
    createNewPlatform(sdk.getLocation(),targets[selected]);
  }
}
