{
  final LeafElement newElement;
  final JavaDummyHolder dummyHolder=new JavaDummyHolder(manager,table,type.getLanguage());
  dummyHolder.setOriginalFile(originalFile);
  dummyHolder.putUserData(PsiUtil.FILE_LANGUAGE_LEVEL_KEY,PsiUtil.getLanguageLevel(originalFile));
  final FileElement holderElement=dummyHolder.getTreeElement();
  newElement=ASTFactory.leaf(type,buffer,startOffset,endOffset,holderElement.getCharTable());
  TreeUtil.addChildren(holderElement,newElement);
  CodeEditUtil.setNodeGenerated(newElement,true);
  return newElement;
}
