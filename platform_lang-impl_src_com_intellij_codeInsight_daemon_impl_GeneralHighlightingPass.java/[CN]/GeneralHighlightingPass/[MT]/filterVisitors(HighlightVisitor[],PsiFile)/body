{
  final List<HighlightVisitor> visitors=new ArrayList<HighlightVisitor>(highlightVisitors.length);
  List<HighlightVisitor> list=Arrays.asList(highlightVisitors);
  for (  HighlightVisitor visitor : DumbService.getInstance(file.getProject()).filterByDumbAwareness(list)) {
    if (visitor.suitableForFile(file))     visitors.add(visitor);
  }
  LOG.assertTrue(!visitors.isEmpty(),list);
  HighlightVisitor[] visitorArray=visitors.toArray(new HighlightVisitor[visitors.size()]);
  Arrays.sort(visitorArray,VISITOR_ORDER_COMPARATOR);
  return visitorArray;
}
