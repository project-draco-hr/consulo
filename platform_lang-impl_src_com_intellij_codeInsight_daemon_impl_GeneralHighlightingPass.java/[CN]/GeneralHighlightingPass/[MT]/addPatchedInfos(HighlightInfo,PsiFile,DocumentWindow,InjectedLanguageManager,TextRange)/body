{
  ProperTextRange textRange=new ProperTextRange(info.startOffset,info.endOffset);
  List<TextRange> editables=injectedLanguageManager.intersectWithAllEditableFragments(injectedPsi,textRange);
  for (  TextRange editable : editables) {
    TextRange hostRange=fixedTextRange == null ? documentWindow.injectedToHost(editable) : fixedTextRange;
    HighlightInfo patched=new HighlightInfo(info.forcedTextAttributes,info.type,hostRange.getStartOffset(),hostRange.getEndOffset(),info.description,info.toolTip,info.type.getSeverity(null),info.isAfterEndOfLine,null,false);
    addHighlightInfo(hostRange,patched);
  }
}
