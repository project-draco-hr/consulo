{
  AbstractVcs activeVcs=myProjectLevelVcsManager.getVcsFor(virtualFile);
  if (activeVcs == null)   return Result.NOT_SURE;
  FilePath path=VcsUtil.getFilePath(virtualFile);
  boolean vcsIsThinking=!myVcsDirtyScopeManager.whatFilesDirty(Collections.singletonList(path)).isEmpty();
  if (vcsIsThinking)   return Result.NOT_SURE;
  FileStatus status=myFileStatusManager.getStatus(virtualFile);
  if (status == FileStatus.UNKNOWN)   return Result.NOT_SURE;
  return status == FileStatus.MODIFIED || status == FileStatus.ADDED ? Result.CHANGED : Result.UNCHANGED;
}
