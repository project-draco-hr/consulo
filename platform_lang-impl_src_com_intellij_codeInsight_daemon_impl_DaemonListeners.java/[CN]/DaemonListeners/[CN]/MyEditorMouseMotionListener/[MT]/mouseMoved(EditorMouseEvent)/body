{
  Editor editor=e.getEditor();
  if (myProject != editor.getProject())   return;
  if (editor.getComponent().getClientProperty(IGNORE_MOUSE_TRACKING) != null)   return;
  boolean shown=false;
  try {
    VisualPosition visual=editor.xyToVisualPosition(e.getMouseEvent().getPoint());
    if (editor.getSoftWrapModel().isInsideOrBeforeSoftWrap(visual)) {
      return;
    }
    LogicalPosition logical=editor.visualToLogicalPosition(visual);
    if (e.getArea() == EditorMouseEventArea.EDITING_AREA && !UIUtil.isControlKeyDown(e.getMouseEvent())) {
      int offset=editor.logicalPositionToOffset(logical);
      if (editor.offsetToLogicalPosition(offset).column != logical.column)       return;
      HighlightInfo info=myDaemonCodeAnalyzer.findHighlightByOffset(editor.getDocument(),offset,false);
      if (info == null || info.getDescription() == null)       return;
      DaemonTooltipUtil.showInfoTooltip(info,editor,offset);
      shown=true;
    }
  }
  finally {
    if (!shown && !myTooltipController.shouldSurvive(e.getMouseEvent())) {
      DaemonTooltipUtil.cancelTooltips();
    }
  }
}
