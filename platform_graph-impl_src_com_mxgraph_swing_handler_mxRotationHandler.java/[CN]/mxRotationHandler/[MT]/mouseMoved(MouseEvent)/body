{
  if (graphComponent.isEnabled() && isEnabled()) {
    if (handle.getParent() != null && e.getSource() == handle) {
      graphComponent.getGraphControl().setCursor(new Cursor(Cursor.HAND_CURSOR));
      e.consume();
    }
 else     if (currentState == null || !currentState.getRectangle().contains(e.getPoint())) {
      mxCellState eventState=graphComponent.getGraph().getView().getState(graphComponent.getCellAt(e.getX(),e.getY(),false));
      mxCellState state=null;
      if (eventState != null && isStateHandled(eventState)) {
        state=eventState;
      }
      if (currentState != state) {
        currentState=state;
        if (currentState == null && handle.getParent() != null) {
          handle.setVisible(false);
          handle.getParent().remove(handle);
        }
 else         if (currentState != null) {
          if (handle.getParent() == null) {
            graphComponent.getGraphControl().add(handle,0);
            handle.setVisible(true);
          }
          handle.setLocation((int)(currentState.getX() + currentState.getWidth() - handle.getWidth() - 4),(int)(currentState.getY() + currentState.getHeight() - handle.getWidth() - 4));
        }
      }
    }
  }
}
