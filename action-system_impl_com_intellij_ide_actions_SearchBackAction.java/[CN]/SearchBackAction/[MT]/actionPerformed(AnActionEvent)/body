{
  DataContext dataContext=e.getDataContext();
  final Project project=(Project)dataContext.getData(DataConstants.PROJECT);
  final FileEditor editor=(FileEditor)dataContext.getData(DataConstants.FILE_EDITOR);
  CommandProcessor commandProcessor=CommandProcessor.getInstance();
  commandProcessor.executeCommand(project,new Runnable(){
    public void run(){
      PsiDocumentManager.getInstance(project).commitAllDocuments();
      if (FindManager.getInstance(project).findPreviousUsageInEditor(editor)) {
        return;
      }
      FindUtil.searchBack(project,editor);
    }
  }
,IdeBundle.message("command.find.previous"),null);
}
