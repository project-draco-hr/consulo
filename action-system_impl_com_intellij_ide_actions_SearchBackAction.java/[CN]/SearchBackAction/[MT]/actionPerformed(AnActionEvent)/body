{
  final Project project=e.getData(DataKeys.PROJECT);
  final FileEditor editor=e.getData(DataKeys.FILE_EDITOR);
  CommandProcessor commandProcessor=CommandProcessor.getInstance();
  commandProcessor.executeCommand(project,new Runnable(){
    public void run(){
      PsiDocumentManager.getInstance(project).commitAllDocuments();
      if (FindManager.getInstance(project).findPreviousUsageInEditor(editor)) {
        return;
      }
      FindUtil.searchBack(project,editor);
    }
  }
,IdeBundle.message("command.find.previous"),null);
}
