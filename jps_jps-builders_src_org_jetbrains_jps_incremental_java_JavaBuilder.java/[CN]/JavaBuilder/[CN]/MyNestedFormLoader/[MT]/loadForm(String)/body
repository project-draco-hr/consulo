{
  if (myCache.containsKey(formFileName)) {
    return myCache.get(formFileName);
  }
  final String relPath=FileUtil.toSystemIndependentName(formFileName);
  for (  Map.Entry<File,String> entry : mySourceRoots.entrySet()) {
    final File sourceRoot=entry.getKey();
    final String prefix=entry.getValue();
    String path=relPath;
    if (prefix != null && FileUtil.startsWith(path,prefix)) {
      path=path.substring(prefix.length());
    }
    final File formFile=new File(sourceRoot,path);
    if (formFile.exists()) {
      final BufferedInputStream stream=new BufferedInputStream(new FileInputStream(formFile));
      try {
        return loadForm(formFileName,stream);
      }
  finally {
        stream.close();
      }
    }
  }
  throw new Exception("Cannot find nested form file " + formFileName);
}
