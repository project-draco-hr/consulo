{
  final URL[] platformUrls=new URL[platformCp.size()];
  int index=0;
  for (  File file : platformCp) {
    platformUrls[index++]=file.toURI().toURL();
  }
  final URL[] urls=new URL[classpath.size() + 1];
  index=0;
  for (  File file : classpath) {
    urls[index++]=file.toURI().toURL();
  }
  urls[index++]=getResourcePath(GridConstraints.class).toURI().toURL();
  final Map<String,byte[]> compiled=new HashMap<String,byte[]>();
  for (  OutputFileObject fileObject : outputSink.getFileObjects()) {
    final String name=fileObject.getClassName();
    if (name != null) {
      final OutputFileObject.Content content=fileObject.getContent();
      if (content != null) {
        compiled.put(name,content.toByteArray());
      }
    }
  }
  return new InstrumentationClassFinder(platformUrls,urls,outputSink);
}
