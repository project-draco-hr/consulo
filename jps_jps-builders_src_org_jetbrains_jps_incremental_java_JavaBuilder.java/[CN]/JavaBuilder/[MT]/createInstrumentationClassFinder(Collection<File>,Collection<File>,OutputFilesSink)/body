{
  final URL[] platformUrls=new URL[platformCp.size()];
  int index=0;
  for (  File file : platformCp) {
    platformUrls[index++]=file.toURI().toURL();
  }
  final URL[] urls=new URL[classpath.size() + 1];
  index=0;
  for (  File file : classpath) {
    urls[index++]=file.toURI().toURL();
  }
  urls[index++]=getResourcePath(GridConstraints.class).toURI().toURL();
  return new InstrumentationClassFinder(platformUrls,urls){
    protected InputStream lookupClassBeforeClasspath(    String internalClassName){
      final OutputFileObject.Content content=outputSink.lookupClassBytes(internalClassName.replace("/","."));
      if (content != null) {
        return new ByteArrayInputStream(content.getBuffer(),content.getOffset(),content.getLength());
      }
      return null;
    }
  }
;
}
