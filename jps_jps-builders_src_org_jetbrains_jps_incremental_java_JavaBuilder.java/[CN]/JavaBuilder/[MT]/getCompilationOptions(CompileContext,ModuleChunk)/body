{
  List<String> cached=JAVAC_OPTIONS.get(context);
  if (cached == null) {
    loadJavacOptions(context);
    cached=JAVAC_OPTIONS.get(context);
  }
  final List<String> options=new ArrayList<String>(cached);
  final String langlevel=chunk.getModules().iterator().next().getLanguageLevel();
  if (!StringUtil.isEmpty(langlevel)) {
    options.add("-source");
    options.add(langlevel);
  }
  final BytecodeTargetConfiguration targetConfig=context.getProject().getCompilerConfiguration().getBytecodeTarget();
  String bytecodeTarget=null;
  int chunkSdkVersion=-1;
  for (  Module module : chunk.getModules()) {
    final Sdk sdk=module.getSdk();
    if (sdk instanceof JavaSdk) {
      final JavaSdk moduleSdk=(JavaSdk)sdk;
      final int moduleSdkVersion=convertToNumber(moduleSdk.getVersion());
      if (moduleSdkVersion != 0 && (chunkSdkVersion < 0 || chunkSdkVersion > moduleSdkVersion)) {
        chunkSdkVersion=moduleSdkVersion;
      }
    }
    final String moduleTarget=getModuleTarget(targetConfig,module);
    if (moduleTarget == null) {
      continue;
    }
    if (bytecodeTarget == null) {
      bytecodeTarget=moduleTarget;
    }
 else {
      if (moduleTarget.compareTo(bytecodeTarget) < 0) {
        bytecodeTarget=moduleTarget;
      }
    }
  }
  if (bytecodeTarget != null) {
    options.add("-target");
    options.add(bytecodeTarget);
  }
 else {
    if (chunkSdkVersion > 0 && getCompilerSdkVersion(context) > chunkSdkVersion) {
      options.add("-target");
      options.add("1." + chunkSdkVersion);
    }
  }
  return options;
}
