{
  final Map<File,Set<File>> map=new THashMap<File,Set<File>>(FileUtil.FILE_HASHING_STRATEGY);
  for (  ModuleBuildTarget target : chunk.getTargets()) {
    final File outputDir=target.getOutputDir();
    if (outputDir == null) {
      continue;
    }
    final Set<File> roots=new THashSet<File>(FileUtil.FILE_HASHING_STRATEGY);
    for (    JavaSourceRootDescriptor descriptor : context.getProjectDescriptor().getBuildRootIndex().getTargetRoots(target,context)) {
      roots.add(descriptor.root);
    }
    map.put(outputDir,roots);
  }
  return map;
}
