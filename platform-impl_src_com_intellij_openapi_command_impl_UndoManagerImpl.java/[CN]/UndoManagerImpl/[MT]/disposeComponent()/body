{
  if (myCommandListener != null) {
    myCommandProcessor.removeCommandListener(myCommandListener);
    myDocumentEditingUndoProvider.dispose();
    myMerger.dispose();
    for (    UndoProvider provider : myUndoProviders) {
      if (provider instanceof Disposable) {
        ((Disposable)provider).dispose();
      }
    }
  }
  if (myBeforeFileDeletionListener != null) {
    myVirtualFileManager.removeVirtualFileListener(myBeforeFileDeletionListener);
  }
  myProject=null;
}
