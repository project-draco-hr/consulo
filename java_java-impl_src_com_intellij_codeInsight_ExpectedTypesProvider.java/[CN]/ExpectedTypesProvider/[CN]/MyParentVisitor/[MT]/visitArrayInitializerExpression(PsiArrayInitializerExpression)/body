{
  PsiElement pParent=expr.getParent();
  PsiType arrayType=null;
  if (pParent instanceof PsiVariable) {
    arrayType=((PsiVariable)pParent).getType();
  }
 else   if (pParent instanceof PsiNewExpression) {
    arrayType=((PsiNewExpression)pParent).getType();
  }
 else   if (pParent instanceof PsiArrayInitializerExpression) {
    PsiType type=((PsiArrayInitializerExpression)pParent).getType();
    if (type instanceof PsiArrayType) {
      arrayType=((PsiArrayType)type).getComponentType();
    }
  }
  if (arrayType instanceof PsiArrayType) {
    PsiType componentType=((PsiArrayType)arrayType).getComponentType();
    ExpectedTypeInfoImpl info=createInfoImpl(componentType,ExpectedTypeInfo.TYPE_OR_SUBTYPE,componentType,TailType.NONE);
    myResult=new ExpectedTypeInfo[]{info};
  }
}
