{
  CompilerManager.getInstance(project).rebuild(new CompileStatusNotification(){
    public void finished(    boolean aborted,    int errors,    int warnings,    final CompileContext compileContext){
      if (!aborted && LocalHistoryConfiguration.getInstance().ADD_LABEL_ON_PROJECT_COMPILATION) {
        String text=getTemplatePresentation().getText();
        if (!project.isDisposed()) {
          LocalHistory.putSystemLabel(project,errors == 0 ? CompilerBundle.message("rebuild.lvcs.label.no.errors",text) : CompilerBundle.message("rebuild.lvcs.label.with.errors",text));
        }
      }
    }
  }
);
}
