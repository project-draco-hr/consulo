{
  if (myXmlFormattingPolicy.keepWhiteSpacesInsideTag(getTag()) || myXmlFormattingPolicy.getShouldKeepWhiteSpaces()) {
    list.add(new ReadOnlyBlock(textNode));
  }
 else {
    ChameleonTransforming.transformChildren(myNode);
    ASTNode child=textNode.getFirstChildNode();
    while (child != null) {
      if (!containsWhiteSpacesOnly(child) && child.getTextLength() > 0) {
        final Indent indent=myXmlFormattingPolicy.indentChildrenOf(getTag()) ? getFormatter().createNormalIndent() : getFormatter().getNoneIndent();
        list.add(createChildBlock(child,wrap,alignment,indent));
      }
      child=child.getTreeNext();
    }
  }
}
