{
  while (child != null) {
    if (!FormatterUtil.containsWhiteSpacesOnly(child) && child.getTextLength() > 0) {
      final Indent indent=myXmlFormattingPolicy.indentChildrenOf(getTag()) ? Indent.getNormalIndent() : Indent.getNoneIndent();
      child=processChild(list,child,wrap,alignment,indent);
      if (child == null)       return child;
      if (child.getTreeParent() != textNode) {
        if (child.getTreeParent() != myNode) {
          return createXmlTextBlocks(list,child.getTreeParent(),child.getTreeNext(),wrap,alignment);
        }
 else {
          return child;
        }
      }
    }
    child=child.getTreeNext();
  }
  return textNode;
}
