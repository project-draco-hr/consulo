{
  PsiElement parent=getParent();
  if (parent instanceof PsiTypeElement) {
    return ((PsiTypeElement)parent).getOwner(this);
  }
  if (parent instanceof PsiMethodReceiver || parent instanceof PsiTypeParameter)   return (PsiAnnotationOwner)parent;
  PsiElement member=parent.getParent();
  String[] elementTypeFields=getApplicableElementTypeFields(member);
  if (elementTypeFields == null)   return null;
  if (parent instanceof PsiAnnotationOwner && isAnnotationApplicableTo(this,true,elementTypeFields))   return (PsiAnnotationOwner)parent;
  PsiAnnotationOwner typeElement;
  if (member instanceof PsiVariable) {
    typeElement=((PsiVariable)member).getTypeElement();
  }
 else   if (member instanceof PsiMethod && !((PsiMethod)member).isConstructor()) {
    typeElement=((PsiMethod)member).getReturnTypeElement();
  }
 else   if (parent instanceof PsiAnnotationOwner) {
    typeElement=(PsiAnnotationOwner)parent;
  }
 else {
    typeElement=null;
  }
  return typeElement;
}
