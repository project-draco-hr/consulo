{
  super(project);
  myManager=PsiManager.getInstance(project);
  myFactory=JavaPsiFacade.getInstance(myManager.getProject()).getElementFactory();
  myGenerateDelegate=generateDelegate;
  myPropagateParametersMethods=propagateParametersMethods != null ? propagateParametersMethods : new HashSet<PsiMethod>();
  myPropagateExceptionsMethods=propagateExceptionsMethods != null ? propagateExceptionsMethods : new HashSet<PsiMethod>();
  LOG.assertTrue(method.isValid());
  if (newVisibility == null) {
    myNewVisibility=VisibilityUtil.getVisibilityModifier(method.getModifierList());
  }
 else {
    myNewVisibility=newVisibility;
  }
  myChangeInfo=new ChangeInfo(myNewVisibility,method,newName,newType,parameterInfo,thrownExceptions);
  LOG.assertTrue(myChangeInfo.getMethod().isValid());
}
