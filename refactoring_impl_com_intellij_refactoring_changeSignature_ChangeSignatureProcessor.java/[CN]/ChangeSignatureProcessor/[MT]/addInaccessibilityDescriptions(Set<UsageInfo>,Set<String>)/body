{
  PsiMethod method=myChangeInfo.getMethod();
  PsiModifierList modifierList=(PsiModifierList)method.getModifierList().copy();
  RefactoringUtil.setVisibility(modifierList,myNewVisibility);
  for (Iterator<UsageInfo> iterator=usages.iterator(); iterator.hasNext(); ) {
    UsageInfo usageInfo=iterator.next();
    PsiElement element=usageInfo.getElement();
    if (element != null) {
      PsiMember accessObjectMember=null;
      if (element instanceof PsiReferenceExpression) {
        PsiExpression qualifier=((PsiReferenceExpression)element).getQualifierExpression();
        if (qualifier != null) {
          accessObjectMember=(PsiMember)PsiUtil.getAccessObjectMember(qualifier).getElement();
        }
        if (!element.getManager().getResolveHelper().isAccessible(method,modifierList,element,accessObjectMember,null)) {
          String message=RefactoringBundle.message("0.with.1.visibility.is.not.accesible.from.2",ConflictsUtil.getDescription(method,true),myNewVisibility,ConflictsUtil.getDescription(ConflictsUtil.getContainer(element),true));
          conflictDescriptions.add(message);
          if (!needToChangeCalls()) {
            iterator.remove();
          }
        }
      }
    }
  }
}
