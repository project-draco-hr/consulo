{
  onTestStarted("test");
  myEventsProcessor.onTestFailure(new TestFailedEvent("test","","",true,null,null));
  myEventsProcessor.onTestFinished(new TestFinishedEvent("test",10));
  myEventsProcessor.onFinishTesting();
  final Object rootTreeNode=myTreeModel.getRoot();
  assertEquals(1,myTreeModel.getChildCount(rootTreeNode));
  final SMTestProxy rootProxy=SMTRunnerTestTreeView.getTestProxyFor(rootTreeNode);
  assertNotNull(rootProxy);
  assertFalse(rootProxy.isInProgress());
  assertTrue(rootProxy.isDefect());
}
