{
  onTestStarted("test");
  myEventsProcessor.onTestFailure("test","","",true,null,null);
  myEventsProcessor.onTestFinished("test",10);
  myEventsProcessor.onFinishTesting();
  final Object rootTreeNode=myTreeModel.getRoot();
  assertEquals(1,myTreeModel.getChildCount(rootTreeNode));
  final SMTestProxy rootProxy=SMTRunnerTestTreeView.getTestProxyFor(rootTreeNode);
  assertNotNull(rootProxy);
  assertFalse(rootProxy.isInProgress());
  assertTrue(rootProxy.isDefect());
}
