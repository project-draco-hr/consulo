{
  myEventsProcessor.onSuiteStarted(new TestSuiteStartedEvent("suite1",null));
  myEventsProcessor.onTestStarted(new TestStartedEvent("suite2.test1",null));
  final SMTestProxy test1=myEventsProcessor.getProxyByFullTestName(myEventsProcessor.getFullTestName("suite2.test1"));
  myEventsProcessor.onSuiteFinished(new TestSuiteFinishedEvent("suite1"));
  myEventsProcessor.onSuiteStarted(new TestSuiteStartedEvent("suite2",null));
  myEventsProcessor.onTestFinished(new TestFinishedEvent("suite2.test1",10));
  myEventsProcessor.onSuiteFinished(new TestSuiteFinishedEvent("suite2"));
  assertEquals("suite1",test1.getParent().getName());
  final List<? extends SMTestProxy> children=myResultsViewer.getTestsRootNode().getChildren();
  assertEquals(2,children.size());
  assertEquals("suite1",children.get(0).getName());
  assertEquals(1,children.get(0).getChildren().size());
  assertEquals("suite2",children.get(1).getName());
  assertEquals(0,children.get(1).getChildren().size());
}
