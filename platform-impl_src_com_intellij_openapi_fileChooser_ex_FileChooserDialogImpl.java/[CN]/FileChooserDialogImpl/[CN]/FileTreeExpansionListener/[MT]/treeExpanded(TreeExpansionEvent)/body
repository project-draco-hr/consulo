{
  final Object[] path=event.getPath().getPath();
  if (path.length == 2) {
    final DefaultMutableTreeNode node=(DefaultMutableTreeNode)path[1];
    Object userObject=node.getUserObject();
    if (userObject instanceof FileNodeDescriptor) {
      final VirtualFile file=((FileNodeDescriptor)userObject).getElement().getFile();
      if (file != null && file.isDirectory()) {
        final String rootPath=file.getPath();
        if (myRequests.get(rootPath) == null) {
          final LocalFileSystem.WatchRequest watchRequest=LocalFileSystem.getInstance().addRootToWatch(rootPath,true);
          myRequests.put(rootPath,watchRequest);
        }
      }
    }
  }
}
