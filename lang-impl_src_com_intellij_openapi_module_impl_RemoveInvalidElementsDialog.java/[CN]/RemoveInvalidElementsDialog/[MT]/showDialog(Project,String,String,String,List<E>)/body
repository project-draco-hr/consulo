{
  if (elements.size() == 1) {
    E element=elements.get(0);
    String message=element.getDescription() + "\n" + MessageFormat.format(removeConfirmation,element.getElementName());
    String[] options={CommonBundle.getYesButtonText(),CommonBundle.getNoButtonText()};
    final int answer=Messages.showDialog(project,message,title,options,1,Messages.getErrorIcon());
    return answer == 0 ? new ArrayList<E>(elements) : Collections.<E>emptyList();
  }
  RemoveInvalidElementsDialog<E> dialog=new RemoveInvalidElementsDialog<E>(title,description,project,elements);
  dialog.show();
  if (!dialog.isOK()) {
    return Collections.emptyList();
  }
  return dialog.getSelectedItems();
}
