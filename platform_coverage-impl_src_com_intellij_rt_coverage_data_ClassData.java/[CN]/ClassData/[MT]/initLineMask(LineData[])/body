{
  if (myLineMask == null) {
    myLineMask=new int[myLinesArray != null ? Math.max(lines.length,myLinesArray.length) : lines.length];
    Arrays.fill(myLineMask,0);
    if (myLinesArray != null) {
      for (int i=0; i < myLinesArray.length; i++) {
        final LineData data=myLinesArray[i];
        if (data != null) {
          myLineMask[i]=data.getHits();
        }
      }
    }
  }
 else {
    if (myLineMask.length < lines.length) {
      int[] lineMask=new int[lines.length];
      System.arraycopy(myLineMask,0,lineMask,0,myLineMask.length);
      myLineMask=lineMask;
    }
    for (int i=0; i < lines.length; i++) {
      if (lines[i] != null) {
        myLineMask[i]+=lines[i].getHits();
      }
    }
  }
}
