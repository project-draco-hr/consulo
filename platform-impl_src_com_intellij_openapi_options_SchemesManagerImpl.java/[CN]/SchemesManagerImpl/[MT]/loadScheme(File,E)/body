{
  if (scheme != null && scheme.getName() != null && !myDeletedNames.contains(scheme.getName())) {
    T existing=findSchemeByName(scheme.getName());
    if (existing != null && existing instanceof ExternalizableScheme) {
      ExternalInfo info=((ExternalizableScheme)existing).getExternalInfo();
      if (info.getCurrentFileName() != null) {
        FileUtil.delete(new File(myBaseDir,info.getCurrentFileName() + EXT));
      }
    }
    addNewScheme((T)scheme,true);
    saveFileName(file,scheme);
    scheme.getExternalInfo().setPreviouslySavedName(scheme.getName());
  }
 else {
    deleteLocalAndServerFiles(file);
  }
}
