{
  Collection<E> result=new ArrayList<E>();
  for (  StreamProvider provider : getEnabledProviders()) {
    String[] paths=provider.listSubFiles(myFileSpec);
    for (    String subpath : paths) {
      if (!subpath.equals(DELETED_XML)) {
        try {
          final Document subDocument=StorageUtil.loadDocument(provider.loadContent(getFileFullPath(subpath),myRoamingType));
          if (subDocument != null) {
            checkFileNameIsFree(subpath);
            byte[] text=JDOMUtil.writeDocument(subDocument,"\n").getBytes();
            VirtualFile file=ensureFileText(subpath,text);
            E scheme=readScheme(subDocument);
            if (scheme != null) {
              loadScheme(file,scheme,false);
              result.add(scheme);
            }
          }
        }
 catch (        Exception e) {
          LOG.info("Cannot load data from IDEAServer: " + e.getLocalizedMessage());
        }
      }
    }
  }
  return result;
}
