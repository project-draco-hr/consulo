{
  if (scheme != null && scheme.getName() != null && !myDeletedNames.contains(scheme.getName())) {
    if (mySchemeNameToFileName.containsKey(scheme.getName())) {
      FileUtil.delete(new File(myBaseDir,mySchemeNameToFileName.get(scheme.getName()) + EXT));
    }
    addNewScheme(scheme,true);
    saveFileName(file,scheme.getName());
  }
 else {
    deleteLocalAndServerFiles(file);
  }
}
