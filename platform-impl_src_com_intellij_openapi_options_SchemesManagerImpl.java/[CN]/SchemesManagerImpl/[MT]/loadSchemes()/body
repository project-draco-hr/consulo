{
  myBaseDir.mkdirs();
  addVFSListener();
  try {
    myIsUpdating=true;
    myDeletedNames.addAll(readDeletedSchemeNames());
    Map<String,E> read=new LinkedHashMap<String,E>();
    for (    E e : readSchemesFromFileSystem()) {
      read.put(e.getName(),e);
    }
    for (    E e : readSchemesFromProviders()) {
      read.put(e.getName(),e);
    }
    Collection<E> result=read.values();
    initLoadedSchemes(result);
    return result;
  }
  finally {
    myIsUpdating=false;
  }
}
