{
  if (myVFSBaseDir != null) {
    final Collection<E> result=new ArrayList<E>();
    if (ApplicationManager.getApplication().isDispatchThread()) {
      Collection<E> schemes=ApplicationManager.getApplication().runWriteAction(new Computable<Collection<E>>(){
        public Collection<E> compute(){
          return doLoad();
        }
      }
);
      result.addAll(schemes);
    }
 else {
      ApplicationManager.getApplication().invokeAndWait(new Runnable(){
        public void run(){
          Collection<E> schemes=ApplicationManager.getApplication().runWriteAction(new Computable<Collection<E>>(){
            public Collection<E> compute(){
              return doLoad();
            }
          }
);
          result.addAll(schemes);
        }
      }
,ModalityState.defaultModalityState());
    }
    return result;
  }
 else {
    return Collections.emptyList();
  }
}
