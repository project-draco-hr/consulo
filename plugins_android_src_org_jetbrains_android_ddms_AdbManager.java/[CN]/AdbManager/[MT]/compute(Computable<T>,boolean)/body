{
  final Wrapper<T> wrapper=new Wrapper<T>();
  final boolean[] finished=new boolean[]{false};
  ApplicationManager.getApplication().executeOnPooledThread(new Runnable(){
    public void run(){
synchronized (LOCK) {
        wrapper.myWrappee=computable.compute();
        finished[0]=true;
        LOCK.notifyAll();
      }
    }
  }
);
synchronized (LOCK) {
    long startTime=System.currentTimeMillis();
    while (!finished[0]) {
      long during=System.currentTimeMillis() - startTime;
      if (during >= WAIT_TIME)       break;
      try {
        LOCK.wait(WAIT_TIME - during);
      }
 catch (      InterruptedException e) {
      }
    }
  }
  if (!finished[0]) {
    if (restartIfCrashes) {
      run(new Runnable(){
        public void run(){
          AndroidDebugBridge bridge=AndroidDebugBridge.getBridge();
          if (bridge != null) {
            bridge.restart();
          }
        }
      }
,false);
      compute(computable,false);
    }
 else {
      throw new AdbNotRespondingException();
    }
  }
  return wrapper.myWrappee;
}
