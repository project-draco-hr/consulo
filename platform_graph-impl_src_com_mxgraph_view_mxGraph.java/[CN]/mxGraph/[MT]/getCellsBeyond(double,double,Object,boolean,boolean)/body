{
  if (parent == null) {
    parent=getDefaultParent();
  }
  int childCount=model.getChildCount(parent);
  List<Object> result=new ArrayList<Object>(childCount);
  if (rightHalfpane || bottomHalfpane) {
    if (parent != null) {
      for (int i=0; i < childCount; i++) {
        Object child=model.getChildAt(parent,i);
        mxCellState state=view.getState(child);
        if (isCellVisible(child) && state != null) {
          if ((!rightHalfpane || state.getX() >= x0) && (!bottomHalfpane || state.getY() >= y0)) {
            result.add(child);
          }
        }
      }
    }
  }
  return result.toArray();
}
