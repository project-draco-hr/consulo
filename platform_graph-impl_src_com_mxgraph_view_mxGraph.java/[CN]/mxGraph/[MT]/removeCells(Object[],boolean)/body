{
  if (cells == null) {
    cells=getDeletableCells(getSelectionCells());
  }
  if (includeEdges) {
    cells=getDeletableCells(addAllEdges(cells));
  }
  model.beginUpdate();
  try {
    cellsRemoved(cells);
    fireEvent(new mxEventObject(mxEvent.REMOVE_CELLS,"cells",cells,"includeEdges",includeEdges));
  }
  finally {
    model.endUpdate();
  }
  return cells;
}
