{
  final Project project=vcsContext.getProject();
  if (project == null)   return;
  if (ChangeListManager.getInstance(project).isFreezedWithNotification("Can not " + vcsContext.getActionName() + " now"))   return;
  final VirtualFile selectedFile=vcsContext.getSelectedFiles()[0];
  final ProjectLevelVcsManager vcsManager=ProjectLevelVcsManager.getInstance(project);
  final AbstractVcs vcs=vcsManager.getVcsFor(selectedFile);
  final DiffProvider diffProvider=vcs.getDiffProvider();
  final DiffActionExecutor actionExecutor=getExecutor(diffProvider,selectedFile,project);
  actionExecutor.showDiff();
}
