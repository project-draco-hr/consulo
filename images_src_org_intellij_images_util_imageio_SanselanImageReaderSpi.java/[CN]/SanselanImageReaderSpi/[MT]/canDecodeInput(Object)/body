{
  if (!(input instanceof ImageInputStream)) {
    return false;
  }
  final ImageInputStream stream=(ImageInputStream)input;
  try {
    final ImageFormat imageFormat=Sanselan.guessFormat(new MyByteSource(stream));
    if (imageFormat != null && imageFormat != ImageFormat.IMAGE_FORMAT_JPEG) {
      myFormat.set(imageFormat);
      return true;
    }
    return false;
  }
 catch (  ImageReadException e) {
    throw new IOException(e);
  }
}
