{
  stopTableEditing();
  DependencyValidationManager validationManager=DependencyValidationManager.getInstance(myProject);
  validationManager.removeAllRules();
  List<DependencyRule> modelItems=new ArrayList<DependencyRule>();
  modelItems.addAll(myDenyRulesModel.getItems());
  modelItems.addAll(myAllowRulesModel.getItems());
  for (int i=0; i < modelItems.size(); i++) {
    DependencyRule rule=modelItems.get(i);
    if (isRuleValid(rule)) {
      validationManager.addRule(rule);
    }
  }
  DaemonCodeAnalyzer.getInstance(myProject).restart();
}
