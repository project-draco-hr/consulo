{
  stopTableEditing();
  DependencyValidationManager validationManager=DependencyValidationManager.getInstance(myProject);
  validationManager.removeAllRules();
  List<DependencyRule> modelItems=new ArrayList<DependencyRule>();
  modelItems.addAll(myDenyRulesModel.getItems());
  modelItems.addAll(myAllowRulesModel.getItems());
  for (  DependencyRule rule : modelItems) {
    if (isRuleValid(rule)) {
      validationManager.addRule(rule);
    }
  }
  validationManager.setSkipImportStatements(mySkipImports.isSelected());
  DaemonCodeAnalyzer.getInstance(myProject).restart();
}
