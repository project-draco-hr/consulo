{
  LOG.assertTrue(host.isValid());
  myHost=host.isPhysical() ? SmartPointerManager.getInstance(host.getProject()).createSmartPsiElementPointer(host) : new SmartPsiElementPointer(){
    public PsiElement getElement(){
      return host;
    }
  }
;
  myTextEscaper=textEscaper;
}
