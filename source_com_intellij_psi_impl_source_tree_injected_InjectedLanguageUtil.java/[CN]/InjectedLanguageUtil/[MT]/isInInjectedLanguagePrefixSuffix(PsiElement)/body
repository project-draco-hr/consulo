{
  PsiFile injectedFile=element.getContainingFile();
  if (injectedFile == null)   return false;
  Document document=PsiDocumentManager.getInstance(element.getProject()).getCachedDocument(injectedFile);
  if (!(document instanceof DocumentWindowImpl))   return false;
  DocumentWindowImpl documentWindow=(DocumentWindowImpl)document;
  TextRange elementRange=element.getTextRange();
  TextRange editable=documentWindow.intersectWithEditable(elementRange);
  return !elementRange.equals(editable);
}
