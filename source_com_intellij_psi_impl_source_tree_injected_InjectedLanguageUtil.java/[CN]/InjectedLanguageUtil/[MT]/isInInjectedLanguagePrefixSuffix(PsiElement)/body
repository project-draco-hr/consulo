{
  PsiFile injectedFile=getContainingInjectedFile(element);
  if (injectedFile == null)   return false;
  Document document=PsiDocumentManager.getInstance(element.getProject()).getCachedDocument(injectedFile);
  if (!(document instanceof DocumentWindow))   return false;
  DocumentWindow documentWindow=(DocumentWindow)document;
  TextRange elementRange=element.getTextRange();
  TextRange editable=documentWindow.intersectWithEditable(elementRange);
  return !elementRange.equals(editable);
}
