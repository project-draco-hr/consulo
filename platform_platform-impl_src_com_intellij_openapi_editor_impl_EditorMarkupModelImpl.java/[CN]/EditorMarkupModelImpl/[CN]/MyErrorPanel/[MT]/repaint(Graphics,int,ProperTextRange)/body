{
  final Rectangle clip=new Rectangle(0,yrange.getStartOffset(),gutterWidth,yrange.getLength() + myMinMarkHeight);
  paintBackground(g,clip);
  Document document=myEditor.getDocument();
  int startOffset=yPositionToOffset(clip.y - myMinMarkHeight,true);
  int endOffset=yPositionToOffset(clip.y + clip.height,false);
  Shape oldClip=g.getClip();
  g.clipRect(clip.x,clip.y,clip.width,clip.height);
  drawMarkup(g,startOffset,endOffset,(MarkupModelEx)DocumentMarkupModel.forDocument(document,myEditor.getProject(),true),EditorMarkupModelImpl.this);
  g.setClip(oldClip);
}
