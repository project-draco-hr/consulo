{
  int x=isMirrored() ? 2 : 4;
  int paintWidth=width;
  if (thinErrorStripeMark) {
    paintWidth/=2;
    paintWidth+=1;
    x=isMirrored() ? width : 0;
  }
  if (color == null)   return;
  g.setColor(color);
  g.fillRect(x + 1,yStart,paintWidth - 2,yEnd - yStart + 1);
  Color brighter=color.brighter();
  g.setColor(brighter);
  UIUtil.drawLine(g,x,yStart,x,yEnd);
  if (drawTopDecoration) {
    UIUtil.drawLine(g,x + 1,yStart,x + paintWidth - 2,yStart);
  }
  Color darker=ColorUtil.shift(color,0.75);
  g.setColor(darker);
  if (drawBottomDecoration) {
    UIUtil.drawLine(g,x + 1,yEnd,x + paintWidth - 2,yEnd);
  }
  UIUtil.drawLine(g,x + paintWidth - 2,yStart,x + paintWidth - 2,yEnd);
}
