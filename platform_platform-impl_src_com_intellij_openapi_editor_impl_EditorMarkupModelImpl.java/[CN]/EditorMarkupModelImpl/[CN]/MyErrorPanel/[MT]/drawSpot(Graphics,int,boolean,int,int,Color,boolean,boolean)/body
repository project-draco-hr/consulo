{
  int x=JBUI.scale(isMirrored() ? 3 : 5);
  int paintWidth=width;
  if (thinErrorStripeMark) {
    paintWidth/=2;
    paintWidth+=JBUI.scale(1);
    x=isMirrored() ? width + JBUI.scale(2) : 0;
  }
  if (color == null)   return;
  g.setColor(color);
  g.fillRect(x + JBUI.scale(1),yStart,paintWidth - JBUI.scale(2),yEnd - yStart + JBUI.scale(1));
  Color brighter=color.brighter();
  g.setColor(brighter);
  UIUtil.drawLine(g,x,yStart,x,yEnd);
  if (drawTopDecoration) {
    UIUtil.drawLine(g,x + JBUI.scale(1),yStart,x + paintWidth - JBUI.scale(2),yStart);
  }
  Color darker=ColorUtil.shift(color,0.75);
  g.setColor(darker);
  if (drawBottomDecoration) {
    UIUtil.drawLine(g,x + JBUI.scale(1),yEnd,x + paintWidth - JBUI.scale(2),yEnd);
  }
  UIUtil.drawLine(g,x + paintWidth - JBUI.scale(2),yStart,x + paintWidth - JBUI.scale(2),yEnd);
}
