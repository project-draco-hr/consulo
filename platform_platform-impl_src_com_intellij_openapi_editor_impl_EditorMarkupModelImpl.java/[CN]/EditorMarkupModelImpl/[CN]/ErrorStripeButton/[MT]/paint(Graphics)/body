{
  ((ApplicationImpl)ApplicationManager.getApplication()).editorPaintStart();
  final Rectangle bounds=getBounds();
  try {
    if (UISettings.getInstance().PRESENTATION_MODE) {
      g.setColor(getEditor().getColorsScheme().getDefaultBackground());
      g.fillRect(0,0,bounds.width,bounds.height);
      if (myErrorStripeRenderer != null) {
        myErrorStripeRenderer.paint(this,g,new Rectangle(2,0,10,7));
      }
    }
 else {
      g.setColor(ButtonlessScrollBarUI.getTrackBackground());
      g.fillRect(0,0,bounds.width,bounds.height);
      g.setColor(ButtonlessScrollBarUI.getTrackBorderColor());
      g.drawLine(0,0,0,bounds.height);
      if (myErrorStripeRenderer != null) {
        myErrorStripeRenderer.paint(this,g,new Rectangle(5,2,ERROR_ICON_WIDTH,ERROR_ICON_HEIGHT));
      }
    }
  }
  finally {
    ((ApplicationImpl)ApplicationManager.getApplication()).editorPaintFinish();
  }
}
