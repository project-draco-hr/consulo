{
  ((ApplicationImpl)ApplicationManager.getApplication()).editorPaintStart();
  final Rectangle bounds=getBounds();
  final Rectangle errorIconBounds=new Rectangle(0,0,ERROR_ICON_WIDTH,ERROR_ICON_HEIGHT);
  errorIconBounds.x=bounds.width / 2 - errorIconBounds.width / 2 + 1;
  errorIconBounds.y=bounds.height / 2 - errorIconBounds.height / 2;
  try {
    if (UISettings.getInstance().PRESENTATION_MODE) {
      g.setColor(getEditor().getColorsScheme().getDefaultBackground());
      g.fillRect(0,0,bounds.width,bounds.height);
      if (myErrorStripeRenderer != null) {
        myErrorStripeRenderer.paint(this,g,errorIconBounds);
      }
    }
 else {
      g.setColor(ButtonlessScrollBarUI.getTrackBackground());
      g.fillRect(0,0,bounds.width,bounds.height);
      g.setColor(ButtonlessScrollBarUI.getTrackBorderColor());
      int borderX=!isMirrored() ? 0 : bounds.width - 1;
      g.drawLine(borderX,0,borderX,bounds.height);
      if (myErrorStripeRenderer != null) {
        myErrorStripeRenderer.paint(this,g,errorIconBounds);
      }
    }
  }
  finally {
    ((ApplicationImpl)ApplicationManager.getApplication()).editorPaintFinish();
  }
}
