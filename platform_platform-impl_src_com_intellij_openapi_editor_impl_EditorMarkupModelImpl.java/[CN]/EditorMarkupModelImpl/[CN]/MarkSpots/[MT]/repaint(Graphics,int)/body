{
  recalcMarkSpots();
  for (int i=0; i < mySpots.size(); i++) {
    MarkSpot markSpot=mySpots.get(i);
    int yStart=markSpot.yStart;
    RangeHighlighter mark=markSpot.highlighters[markSpot.highlighters.length - 1];
    int yEnd=markSpot.yEnd;
    final Color color=mark.getErrorStripeMarkColor();
    int x=3;
    int paintWidth=width;
    if (mark.isThinErrorStripeMark()) {
      paintWidth/=2;
      paintWidth+=1;
      x+=paintWidth + 1;
    }
    if (color == null)     return;
    g.setColor(color);
    g.fillRect(x + 1,yStart,paintWidth - 2,yEnd - yStart);
    if (true) {
      paintPullDecorations(g,i,markSpot,yStart,yEnd,color,x,paintWidth);
    }
 else {
      paintPushDecorations(g,i,markSpot,yStart,yEnd,color,x,paintWidth);
    }
  }
}
