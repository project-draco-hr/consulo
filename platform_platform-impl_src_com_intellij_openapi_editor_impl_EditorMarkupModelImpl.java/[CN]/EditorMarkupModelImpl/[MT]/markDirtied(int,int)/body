{
  ProperTextRange pos=offsetsToYPositions(startOffset,endOffset);
  ProperTextRange adj=new ProperTextRange(Math.max(0,pos.getStartOffset() - myEditor.getLineHeight()),myEditorScrollbarTop + myEditorTargetHeight == 0 ? pos.getEndOffset() + myEditor.getLineHeight() : Math.min(myEditorScrollbarTop + myEditorTargetHeight,pos.getEndOffset() + myEditor.getLineHeight()));
  if (myDirtyYPositions == null) {
    myDirtyYPositions=adj;
  }
 else {
    myDirtyYPositions=myDirtyYPositions.union(adj);
  }
  myEditorScrollbarTop=0;
  myEditorSourceHeight=0;
  myEditorTargetHeight=0;
  dimensionsAreValid=false;
}
