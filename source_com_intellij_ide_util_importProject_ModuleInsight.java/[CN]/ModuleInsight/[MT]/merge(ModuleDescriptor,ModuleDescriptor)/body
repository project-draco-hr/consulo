{
  for (  File contentRoot : module.getContentRoots()) {
    appendContentRoot(mainModule,contentRoot);
  }
  for (  File srcRoot : module.getSourceRoots()) {
    mainModule.addSourceRoot(srcRoot);
  }
  for (  File jar : module.getLibraryFiles()) {
    mainModule.addLibraryFile(jar);
  }
  for (  ModuleDescriptor dependency : module.getDependencies()) {
    mainModule.addDependencyOn(dependency);
  }
  myModules.remove(module);
  for (  ModuleDescriptor moduleDescr : myModules) {
    if (moduleDescr.getDependencies().contains(module)) {
      moduleDescr.removeDependencyOn(module);
      if (!moduleDescr.equals(mainModule)) {
        moduleDescr.addDependencyOn(mainModule);
      }
    }
  }
}
