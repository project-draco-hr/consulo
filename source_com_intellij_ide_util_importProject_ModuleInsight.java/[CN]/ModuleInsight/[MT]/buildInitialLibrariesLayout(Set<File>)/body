{
  final Map<File,LibraryDescriptor> rootToLibraryMap=new HashMap<File,LibraryDescriptor>();
  for (  File jar : jars) {
    final File parent=jar.getParentFile();
    LibraryDescriptor lib=rootToLibraryMap.get(parent);
    if (lib == null) {
      lib=new LibraryDescriptor(parent.getName(),new HashSet<File>());
      rootToLibraryMap.put(parent,lib);
    }
    lib.addJars(Collections.singleton(jar));
  }
  return new ArrayList<LibraryDescriptor>(rootToLibraryMap.values());
}
