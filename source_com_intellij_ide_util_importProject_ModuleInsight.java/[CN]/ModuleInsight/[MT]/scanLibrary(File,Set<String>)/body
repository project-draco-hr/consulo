{
  myProgress.pushState();
  myProgress.setText2(file.getName());
  try {
    final ZipFile zip=new ZipFile(file);
    final Enumeration<? extends ZipEntry> entries=zip.entries();
    while (entries.hasMoreElements()) {
      final String entryName=entries.nextElement().getName();
      if (StringUtil.endsWithIgnoreCase(entryName,".class")) {
        final int index=entryName.lastIndexOf('/');
        if (index > 0) {
          final String packageName=entryName.substring(0,index).replace('/','.');
          if (!libraryPackages.contains(packageName)) {
            libraryPackages.add(myInterner.intern(packageName));
          }
        }
      }
    }
    zip.close();
  }
 catch (  IOException e) {
    LOG.info(e);
  }
catch (  InternalError e) {
    LOG.info(e);
  }
 finally {
    myProgress.popState();
  }
}
