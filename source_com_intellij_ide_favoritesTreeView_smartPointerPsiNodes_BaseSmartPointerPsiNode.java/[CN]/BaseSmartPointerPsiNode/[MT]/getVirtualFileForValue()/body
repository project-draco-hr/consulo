{
  PsiElement value=getPsiElement();
  if (value == null)   return null;
  if (value instanceof PsiDirectory) {
    return ((PsiDirectory)value).getVirtualFile();
  }
 else {
    PsiFile containingFile=value.getContainingFile();
    if (containingFile == null) {
      return null;
    }
 else {
      return containingFile.getVirtualFile();
    }
  }
}
