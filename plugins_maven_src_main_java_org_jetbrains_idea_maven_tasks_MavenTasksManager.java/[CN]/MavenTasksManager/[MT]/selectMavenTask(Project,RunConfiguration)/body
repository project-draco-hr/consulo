{
  if (myTaskSelector == null) {
    return null;
  }
  final MavenTask mavenTask=getTask(runConfiguration.getType(),runConfiguration);
  if (!myTaskSelector.select(project,mavenTask != null ? mavenTask.pomPath : null,mavenTask != null ? mavenTask.goal : null,TasksBundle.message("maven.event.select.goal.title"))) {
    return mavenTask;
  }
  final String pomPath=myTaskSelector.getSelectedPomPath();
  if (pomPath != null) {
    final MavenTask newMavenTask=new MavenTask(pomPath,myTaskSelector.getSelectedGoal());
    if (!isAssignedForType(runConfiguration.getType(),newMavenTask)) {
      assignTask(runConfiguration.getType(),runConfiguration,newMavenTask);
      updateTaskShortcuts(newMavenTask);
    }
    return newMavenTask;
  }
  clearAssignment(runConfiguration.getType(),runConfiguration);
  updateShortcuts(null);
  return null;
}
