{
  Map<Pair<String,Integer>,MavenGoalTask> map=new THashMap<Pair<String,Integer>,MavenGoalTask>();
  for (  Map.Entry<String,MavenGoalTask> each : state.beforeRun.entrySet()) {
    String key=each.getKey();
    MavenGoalTask task=each.getValue();
    int delimIndex=key.indexOf("#");
    if (delimIndex == -1) {
      map.put(new Pair<String,Integer>(key,null),task);
    }
 else {
      String type=key.substring(0,delimIndex);
      String name=key.substring(delimIndex + 1);
      RunManagerImpl runManager=(RunManagerImpl)RunManagerImpl.getInstance(myProject);
      RunConfiguration config=runManager.getConfigurationByUniqueName(type + "." + name);
      if (config != null) {
        map.put(new Pair<String,Integer>(type,config.getUniqueID()),task);
      }
    }
  }
  myState=state;
  myBeforeRunMap=map;
}
