{
  super.setModel(model);
  final JUnitRunningModel jUnitModel=(JUnitRunningModel)model;
  myRerunFailedTestsAction.setModel(jUnitModel);
  JUnitActions.installAutoscrollToFirstDefect(jUnitModel);
  RunningTestTracker.install(jUnitModel);
  jUnitModel.addListener(new LvcsLabeler(jUnitModel));
  jUnitModel.addListener(new JUnitAdapter(){
    public void onTestSelected(    final TestProxy test){
      if (test == null)       return;
      final Project project=jUnitModel.getProject();
      if (!ScrollToTestSourceAction.isScrollEnabled(model))       return;
      final Location location=test.getInfo().getLocation(project);
      if (location != null) {
        final PsiClass aClass=PsiTreeUtil.getParentOfType(location.getPsiElement(),PsiClass.class,false);
        if (aClass != null && JUnitToolbarPanel.TEST_SUITE_CLASS_NAME.equals(aClass.getQualifiedName()))         return;
      }
      final Navigatable descriptor=TestsUIUtil.getOpenFileDescriptor(test,model);
      if (descriptor != null && descriptor.canNavigate()) {
        descriptor.navigate(false);
      }
    }
  }
);
}
