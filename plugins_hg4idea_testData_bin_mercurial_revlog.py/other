'Storage back-end for Mercurial.\n\nThis provides efficient delta storage with O(1) retrieve and append\nand O(changes) merge between branches.\n'
from node import bin, hex, nullid, nullrev, short
from i18n import _
import changegroup, ancestor, mdiff, parsers, error, util
import struct, zlib, errno
_pack = struct.pack
_unpack = struct.unpack
_compress = zlib.compress
_decompress = zlib.decompress
_sha = util.sha1
REVLOGV0 = 0
REVLOGNG = 1
REVLOGNGINLINEDATA = (1 << 16)
REVLOG_DEFAULT_FLAGS = REVLOGNGINLINEDATA
REVLOG_DEFAULT_FORMAT = REVLOGNG
REVLOG_DEFAULT_VERSION = (REVLOG_DEFAULT_FORMAT | REVLOG_DEFAULT_FLAGS)
_prereadsize = 1048576
_maxinline = 131072
RevlogError = error.RevlogError
LookupError = error.LookupError
nullhash = _sha(nullid)
indexformatv0 = '>4l20s20s20s'
v0shaoffset = 56
indexformatng = '>Qiiiiii20s12x'
ngshaoffset = 32
versionformat = '>I'
