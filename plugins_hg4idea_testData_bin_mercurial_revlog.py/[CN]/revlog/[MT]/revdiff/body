def revdiff(self, rev1, rev2):
    'return or calculate a delta between two revisions'
    if (((rev1 + 1) == rev2) and (self.base(rev1) == self.base(rev2))):
        return self._chunk(rev2)
    return mdiff.textdiff(self.revision(self.node(rev1)), self.revision(self.node(rev2)))
