def _match(self, id):
    if isinstance(id, (long, int)):
        return self.node(id)
    if (len(id) == 20):
        try:
            node = id
            self.rev(node)
            return node
        except LookupError:
            pass
    try:
        rev = int(id)
        if (str(rev) != id):
            raise ValueError
        if (rev < 0):
            rev = (len(self) + rev)
        if ((rev < 0) or (rev >= len(self))):
            raise ValueError
        return self.node(rev)
    except (ValueError, OverflowError):
        pass
    if (len(id) == 40):
        try:
            node = bin(id)
            self.rev(node)
            return node
        except (TypeError, LookupError):
            pass
