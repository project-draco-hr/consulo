def size(self, rev):
    'return the length of the uncompressed text for a given revision'
    l = self.index[rev][2]
    if (l >= 0):
        return l
    t = self.revision(self.node(rev))
    return len(t)
