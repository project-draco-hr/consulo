def __init__(self, dataf):
    try:
        size = util.fstat(dataf).st_size
    except AttributeError:
        size = 0
    self.dataf = dataf
    self.s = struct.calcsize(indexformatng)
    self.datasize = size
    self.l = (size / self.s)
    self.index = ([None] * self.l)
    self.map = {nullid: nullrev, }
    self.allmap = 0
    self.all = 0
    self.mapfind_count = 0
