def parseindex(self, fp, data, inline):
    if (len(data) == _prereadsize):
        if (util.openhardlinks() and (not inline)):
            parser = lazyparser(fp)
            index = lazyindex(parser)
            nodemap = lazymap(parser)
            e = list(index[0])
            type = gettype(e[0])
            e[0] = offset_type(0, type)
            index[0] = e
            return (index, nodemap, None)
        else:
            data += fp.read()
    (index, nodemap, cache) = parsers.parse_index(data, inline)
    return (index, nodemap, cache)
