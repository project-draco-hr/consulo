{
  if (onTheFly && !onTheFlyEnabled()) {
    return null;
  }
  List<ProblemDescriptor> problems=new ArrayList<ProblemDescriptor>();
  checkFields(problems,clazz,im,onTheFly);
  checkMethods(problems,clazz,im,onTheFly);
  if (problems.size() > 0) {
    if (log.isDebugEnabled())     log.debug("Number of problems found: " + problems.size());
    return problems.toArray(new ProblemDescriptor[problems.size()]);
  }
 else {
    log.debug("No problems found");
    return null;
  }
}
