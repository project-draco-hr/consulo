{
  List<T> repos=ContainerUtil.filter(repositories,new Condition<T>(){
    @Override public boolean value(    T t){
      return t.getRoot().isValid();
    }
  }
);
  Collections.sort(repos,new Comparator<Repository>(){
    @Override public int compare(    Repository o1,    Repository o2){
      return o1.getPresentableUrl().compareTo(o2.getPresentableUrl());
    }
  }
);
  return repos;
}
