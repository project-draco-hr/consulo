{
  int offset=editor.getCaretModel().getOffset();
  String s=editor.getDocument().getCharsSequence().subSequence(startOffset,offset).toString();
  int index=0;
  while (index < s.length() && Character.isWhitespace(s.charAt(index))) {
    index++;
  }
  String key=s.substring(index);
  int lastWhitespaceIndex=-1;
  for (int i=0; i < key.length(); i++) {
    if (Character.isWhitespace(key.charAt(i))) {
      lastWhitespaceIndex=i;
    }
  }
  if (lastWhitespaceIndex >= 0 && lastWhitespaceIndex < key.length() - 1) {
    return key.substring(lastWhitespaceIndex + 1);
  }
  return key;
}
