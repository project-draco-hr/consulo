{
  final Project project=e.getData(PlatformDataKeys.PROJECT);
  if (project == null)   return false;
  final List<VirtualFile> unversionedFiles=e.getData(ChangesListView.UNVERSIONED_FILES_DATA_KEY);
  if (unversionedFiles != null && (!unversionedFiles.isEmpty()))   return true;
  final boolean hasChangedOrUnversionedFiles=SelectedFilesHelper.hasChangedOrUnversionedFiles(project,e);
  if (hasChangedOrUnversionedFiles)   return true;
  Change[] changes=e.getData(VcsDataKeys.CHANGES);
  return changes != null && changes.length > 0;
}
