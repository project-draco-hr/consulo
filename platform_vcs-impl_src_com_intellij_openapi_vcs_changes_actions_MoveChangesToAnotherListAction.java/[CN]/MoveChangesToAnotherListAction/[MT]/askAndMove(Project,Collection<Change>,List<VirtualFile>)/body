{
  if (changes.isEmpty() && unversionedFiles.isEmpty())   return false;
  LocalChangeList targetList=askTargetList(project,changes);
  if (targetList != null) {
    ChangeListManagerImpl listManager=ChangeListManagerImpl.getInstanceImpl(project);
    listManager.moveChangesTo(targetList,ArrayUtil.toObjectArray(changes,Change.class));
    if (!unversionedFiles.isEmpty()) {
      listManager.addUnversionedFiles(targetList,unversionedFiles);
    }
    return true;
  }
  return false;
}
