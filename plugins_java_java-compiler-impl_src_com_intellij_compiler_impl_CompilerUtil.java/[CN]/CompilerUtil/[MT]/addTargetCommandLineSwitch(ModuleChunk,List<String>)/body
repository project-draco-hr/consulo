{
  String optionValue=null;
  CompilerConfiguration config=null;
  final Module[] modules=chunk.getModules();
  for (  Module module : modules) {
    if (config == null) {
      config=CompilerConfiguration.getInstance(module.getProject());
    }
    final String moduleTarget=config.getBytecodeTargetLevel(module);
    if (moduleTarget == null) {
      continue;
    }
    if (optionValue == null) {
      optionValue=moduleTarget;
    }
 else {
      if (moduleTarget.compareTo(optionValue) < 0) {
        optionValue=moduleTarget;
      }
    }
  }
  if (optionValue != null) {
    commandLine.add("-target");
    commandLine.add(optionValue);
  }
}
