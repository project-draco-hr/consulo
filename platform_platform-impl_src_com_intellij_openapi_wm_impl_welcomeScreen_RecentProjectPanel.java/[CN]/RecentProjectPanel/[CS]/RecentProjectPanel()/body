{
  super(new BorderLayout());
  final AnAction[] recentProjectActions=RecentProjectsManagerBase.getInstance().getRecentProjectsActions(false);
  myList=new MyList(recentProjectActions);
  myList.setCellRenderer(new RecentProjectItemRenderer());
  new ClickListener(){
    @Override public boolean onClick(    MouseEvent event,    int clickCount){
      Object selection=myList.getSelectedValue();
      if (selection != null) {
        ((AnAction)selection).actionPerformed(AnActionEvent.createFromInputEvent((AnAction)selection,event,ActionPlaces.WELCOME_SCREEN));
      }
      return true;
    }
  }
.installOn(myList);
  myList.registerKeyboardAction(new ActionListener(){
    @Override public void actionPerformed(    ActionEvent e){
      Object selection=myList.getSelectedValue();
      if (selection != null) {
        ((AnAction)selection).actionPerformed(AnActionEvent.createFromInputEvent((AnAction)selection,null,ActionPlaces.WELCOME_SCREEN));
      }
    }
  }
,KeyStroke.getKeyStroke(KeyEvent.VK_ENTER,0),WHEN_ANCESTOR_OF_FOCUSED_COMPONENT);
  ActionListener deleteAction=new ActionListener(){
    @Override public void actionPerformed(    ActionEvent e){
      ReopenProjectAction selection=(ReopenProjectAction)myList.getSelectedValue();
      final int rc=Messages.showOkCancelDialog(RecentProjectPanel.this,"Remove '" + selection.getTemplatePresentation().getText() + "' from recent projects list?","Remove Recent Project",Messages.getQuestionIcon());
      if (rc == 0) {
        final RecentProjectsManagerBase manager=RecentProjectsManagerBase.getInstance();
        manager.removePath(selection.getProjectPath());
        ListUtil.removeSelectedItems(myList);
      }
    }
  }
;
  myList.registerKeyboardAction(deleteAction,KeyStroke.getKeyStroke(KeyEvent.VK_DELETE,0),WHEN_ANCESTOR_OF_FOCUSED_COMPONENT);
  myList.registerKeyboardAction(deleteAction,KeyStroke.getKeyStroke(KeyEvent.VK_BACK_SPACE,0),WHEN_ANCESTOR_OF_FOCUSED_COMPONENT);
  myList.addMouseMotionListener(new MouseMotionAdapter(){
    boolean myIsEngaged=false;
    public void mouseMoved(    MouseEvent e){
      if (myIsEngaged && !UIUtil.isSelectionButtonDown(e)) {
        Point point=e.getPoint();
        int index=myList.locationToIndex(point);
        myList.setSelectedIndex(index);
      }
 else {
        myIsEngaged=true;
      }
    }
  }
);
  myList.setSelectedIndex(0);
  JBScrollPane scroll=new JBScrollPane(myList);
  scroll.setBorder(null);
  add(ListWithFilter.wrap(myList,scroll,new Function<Object,String>(){
    @Override public String fun(    Object o){
      ReopenProjectAction item=(ReopenProjectAction)o;
      String home=SystemProperties.getUserHome();
      String path=item.getProjectPath();
      if (FileUtil.startsWith(path,home)) {
        path=path.substring(home.length());
      }
      return item.getProjectName() + " " + path;
    }
  }
),BorderLayout.CENTER);
  JPanel title=new JPanel(){
    @Override public Dimension getPreferredSize(){
      return new Dimension(super.getPreferredSize().width,28);
    }
  }
;
  title.setBorder(new BottomLineBorder());
  JLabel titleLabel=new JLabel("Recent Projects");
  title.add(titleLabel);
  titleLabel.setHorizontalAlignment(SwingConstants.CENTER);
  title.setBackground(Gray._210);
  add(title,BorderLayout.NORTH);
  setBorder(new LineBorder(Gray._190));
}
