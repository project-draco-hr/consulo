{
  int labelWidth=pathLabel.getWidth();
  if (fullText == null || fullText.length() == 0)   return " ";
  String home=SystemProperties.getUserHome();
  if (FileUtil.startsWith(fullText,home)) {
    fullText="~" + fullText.substring(home.length());
  }
  while (pathLabel.getFontMetrics(pathLabel.getFont()).stringWidth(fullText) > labelWidth) {
    int sep=fullText.indexOf(File.separatorChar,4);
    if (sep < 0)     return fullText;
    fullText="..." + fullText.substring(sep);
  }
  return fullText;
}
