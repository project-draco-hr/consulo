{
  this.startOffset=startOffset;
  this.endOffset=endOffset;
  Document document=myEditor.getDocument();
  startCacheEntryIndex=MappingUtil.getCacheEntryIndexForOffset(startOffset,document,myCache);
  endCacheEntryIndex=MappingUtil.getCacheEntryIndexForOffset(Math.min(document.getTextLength(),endOffset),document,myCache);
  if (startCacheEntryIndex < 0 || endCacheEntryIndex < 0) {
    valid=false;
    return;
  }
  updateByCacheIndices(startCacheEntryIndex,endCacheEntryIndex);
}
