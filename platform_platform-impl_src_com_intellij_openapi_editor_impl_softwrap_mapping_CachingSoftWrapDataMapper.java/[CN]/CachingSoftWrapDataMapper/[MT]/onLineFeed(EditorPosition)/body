{
  CacheEntry cacheEntry=getCacheEntryForVisualLine(position.visualLine);
  cacheEntry.setLineEndPosition(position);
  cacheEntry=getCacheEntryForVisualLine(position.visualLine + 1);
  EditorPosition newLinePosition=position.clone();
  newLinePosition.onNewLine();
  newLinePosition.offset++;
  cacheEntry.setLineStartPosition(newLinePosition,position.visualLine + 1);
  cacheEntry.setLineEndPosition(newLinePosition);
}
