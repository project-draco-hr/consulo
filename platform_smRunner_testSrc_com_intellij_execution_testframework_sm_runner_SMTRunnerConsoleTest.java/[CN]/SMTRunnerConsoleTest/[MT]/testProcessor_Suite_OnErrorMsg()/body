{
  myEventsProcessor.onError("error msg:root","method1:1\nmethod2:2",true);
  myEventsProcessor.onSuiteStarted(new TestSuiteStartedEvent("suite",null));
  final SMTestProxy suite=myEventsProcessor.getCurrentSuite();
  suite.setPrinter(myMockResetablePrinter);
  myEventsProcessor.onError("error msg:suite","method1:1\nmethod2:2",true);
  assertAllOutputs(myMockResetablePrinter,"","\n" + "error msg:suite\n" + "method1:1\n"+ "method2:2\n","");
  final MockPrinter mockSuitePrinter=new MockPrinter(true);
  mockSuitePrinter.onNewAvailable(suite);
  assertAllOutputs(mockSuitePrinter,"","\n" + "error msg:suite\n" + "method1:1\n"+ "method2:2\n","");
  final MockPrinter mockRootSuitePrinter=new MockPrinter(true);
  mockRootSuitePrinter.onNewAvailable(myRootSuite);
  assertAllOutputs(mockRootSuitePrinter,"","\n" + "error msg:root\n" + "method1:1\n"+ "method2:2\n"+ "\n"+ "error msg:suite\n"+ "method1:1\n"+ "method2:2\n","");
}
