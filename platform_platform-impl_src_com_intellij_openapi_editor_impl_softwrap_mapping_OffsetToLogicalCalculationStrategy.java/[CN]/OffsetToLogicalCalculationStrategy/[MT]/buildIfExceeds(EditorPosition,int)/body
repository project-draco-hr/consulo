{
  if (myTargetOffset > offset) {
    return null;
  }
  SoftWrap softWrap=myStorage.getSoftWrap(offset);
  if (softWrap != null && offset < getCacheEntry().endOffset) {
    context.visualColumn=softWrap.getIndentInColumns();
    context.softWrapColumnDiff=context.visualColumn - context.logicalColumn;
    return context.buildLogicalPosition();
  }
  int diff=myTargetOffset - context.offset;
  context.logicalColumn+=diff;
  context.visualColumn+=diff;
  context.offset=myTargetOffset;
  return context.buildLogicalPosition();
}
