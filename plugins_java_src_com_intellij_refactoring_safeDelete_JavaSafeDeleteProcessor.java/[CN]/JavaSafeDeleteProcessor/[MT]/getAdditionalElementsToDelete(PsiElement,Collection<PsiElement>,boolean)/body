{
  if (element instanceof PsiField) {
    PsiField field=(PsiField)element;
    final Project project=element.getProject();
    String propertyName=JavaCodeStyleManager.getInstance(project).variableNameToPropertyName(field.getName(),VariableKind.FIELD);
    PsiClass aClass=field.getContainingClass();
    if (aClass != null) {
      boolean isStatic=field.hasModifierProperty(PsiModifier.STATIC);
      PsiMethod[] getters=GetterSetterPrototypeProvider.findGetters(aClass,propertyName,isStatic);
      if (getters != null) {
        final List<PsiMethod> validGetters=new ArrayList<PsiMethod>(1);
        for (        PsiMethod getter : getters) {
          if (!allElementsToDelete.contains(getter) && (getter != null && getter.isPhysical())) {
            validGetters.add(getter);
          }
        }
        getters=validGetters.isEmpty() ? null : validGetters.toArray(new PsiMethod[validGetters.size()]);
      }
      PsiMethod setter=PropertyUtil.findPropertySetter(aClass,propertyName,isStatic,false);
      if (allElementsToDelete.contains(setter) || setter != null && !setter.isPhysical())       setter=null;
      if (askUser && (getters != null || setter != null)) {
        final String message=RefactoringMessageUtil.getGetterSetterMessage(field.getName(),RefactoringBundle.message("delete.title"),getters != null ? getters[0] : null,setter);
        if (!ApplicationManager.getApplication().isUnitTestMode() && Messages.showYesNoDialog(project,message,RefactoringBundle.message("safe.delete.title"),Messages.getQuestionIcon()) != 0) {
          getters=null;
          setter=null;
        }
      }
      List<PsiElement> elements=new ArrayList<PsiElement>();
      if (setter != null)       elements.add(setter);
      if (getters != null)       Collections.addAll(elements,getters);
      return elements;
    }
  }
  return null;
}
