{
  if (myOnValidateAttempt) {
    myOnValidateAttempt=false;
    return;
  }
  clear();
  AbstractExternalProjectImportBuilder builder=getBuilder();
  if (builder == null) {
    return;
  }
  ProjectData project=builder.getGradleProject();
  if (project == null) {
    throw new IllegalStateException(String.format("Can't init 'adjust importing settings' step. Reason: no project is defined. Context: '%s', builder: '%s'",getWizardContext(),getBuilder()));
  }
  Map<ProjectEntityData,Pair<String,Collection<ProjectStructureNode>>> entity2nodes=new HashMap<ProjectEntityData,Pair<String,Collection<ProjectStructureNode>>>();
  int counter=0;
  ProjectStructureNode<ProjectEntityId> root=buildNode(project,entity2nodes,counter++);
  List<ModuleData> modules=ContainerUtilRt.newArrayList();
  Collections.sort(modules,Named.COMPARATOR);
  List<MutableTreeNode> moduleNodes=new ArrayList<MutableTreeNode>();
  myTreeModel.setRoot(root);
  myTree.setSelectionPath(new TreePath(root));
  myTree.expandPath(new TreePath(root.getPath()));
}
