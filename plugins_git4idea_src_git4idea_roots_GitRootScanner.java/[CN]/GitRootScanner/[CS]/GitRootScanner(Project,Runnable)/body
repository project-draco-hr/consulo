{
  myProject=project;
  myExecuteAfterScan=executeAfterScan;
  StartupManager.getInstance(project).runWhenProjectIsInitialized(new DumbAwareRunnable(){
    @Override public void run(){
      myProjectIsInitialized=true;
      scanIfReady();
    }
  }
);
  final MessageBus messageBus=project.getMessageBus();
  messageBus.connect().subscribe(ProjectLevelVcsManager.VCS_CONFIGURATION_CHANGED,this);
  messageBus.connect().subscribe(VirtualFileManager.VFS_CHANGES,this);
  messageBus.connect().subscribe(ProjectTopics.PROJECT_ROOTS,this);
  myRootProblemNotifier=GitRootProblemNotifier.getInstance(project);
}
