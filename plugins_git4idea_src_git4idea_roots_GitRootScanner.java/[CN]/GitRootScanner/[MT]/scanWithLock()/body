{
synchronized (SCAN_LOCK) {
    if (myScanning) {
      return;
    }
    myScanning=true;
    GitRootDetectInfo detectInfo=myRootProblemNotifier.rescanAndNotifyIfNeeded();
    myProject.getMessageBus().syncPublisher(GitRepositoryManager.GIT_ROOTS_CHANGE).gitRootsChanged(detectInfo.getRoots());
    myExecuteAfterScan.run();
    myScanning=false;
  }
}
