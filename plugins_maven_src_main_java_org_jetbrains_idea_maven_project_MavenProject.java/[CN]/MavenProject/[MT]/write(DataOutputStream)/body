{
  out.writeUTF(getPath());
  BufferExposingByteArrayOutputStream bs=new BufferExposingByteArrayOutputStream();
  ObjectOutputStream os=new ObjectOutputStream(bs);
  try {
    os.writeObject(myState);
    out.writeInt(bs.size());
    out.write(bs.getInternalBuffer(),0,bs.size());
  }
  finally {
    os.close();
    bs.close();
  }
}
