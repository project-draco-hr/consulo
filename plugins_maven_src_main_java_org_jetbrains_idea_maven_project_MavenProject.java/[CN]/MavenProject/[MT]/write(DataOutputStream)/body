{
  out.writeUTF(getPath());
  ByteArrayOutputStream bs=new ByteArrayOutputStream();
  ObjectOutputStream os=new ObjectOutputStream(bs);
  try {
    os.writeObject(this);
    byte[] bytes=bs.toByteArray();
    out.writeInt(bytes.length);
    out.write(bytes);
  }
  finally {
    os.close();
    bs.close();
  }
}
