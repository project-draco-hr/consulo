{
synchronized (state) {
    if (state.myUnresolvedPluginsCache == null) {
      List<MavenPlugin> result=new ArrayList<MavenPlugin>();
      for (      MavenPlugin each : getDeclaredPlugins(state)) {
        if (!MavenArtifactUtil.hasArtifactFile(state.myLocalRepository,each.getMavenId())) {
          result.add(each);
        }
      }
      state.myUnresolvedPluginsCache=result;
    }
    return state.myUnresolvedPluginsCache;
  }
}
