{
  for (  Artifact each : artifacts) {
    Collection<MavenArtifactNode> currentScope=result;
    List<String> trail=each.getDependencyTrail();
    for (int i=1; i < trail.size(); i++) {
      String eachKey=trail.get(i);
      MavenArtifactNode node=findNodeFor(eachKey,currentScope);
      if (node == null) {
        MavenArtifact artifact=findArtifactFor(eachKey,artifacts);
        if (artifact == null)         break;
        node=new MavenArtifactNode(artifact,new ArrayList<MavenArtifactNode>());
        currentScope.add(node);
      }
      currentScope=node.getDependencies();
    }
  }
}
