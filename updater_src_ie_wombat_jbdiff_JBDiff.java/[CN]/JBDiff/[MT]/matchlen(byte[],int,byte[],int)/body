{
  int end=min(oldBuf.length - oldOffset,newBuf.length - newOffset);
  int i;
  for (i=0; i < end; i++) {
    if (oldBuf[oldOffset + i] != newBuf[newOffset + i]) {
      break;
    }
  }
  return i;
}
