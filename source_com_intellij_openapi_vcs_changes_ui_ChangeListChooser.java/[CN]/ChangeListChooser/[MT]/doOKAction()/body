{
  if (myRbNew.isSelected()) {
    String newText=myNewListPanel.getName();
    for (    ChangeList list : myExistingLists) {
      if (newText.equals(list.getName())) {
        Messages.showErrorDialog(myProject,VcsBundle.message("changes.newchangelist.warning.already.exists.text",newText),VcsBundle.message("changes.newchangelist.warning.already.exists.title"));
        return;
      }
    }
  }
  if (myRbExisting.isSelected()) {
    mySelectedList=(LocalChangeList)myExisitingsCombo.getSelectedItem();
  }
 else {
    mySelectedList=ChangeListManager.getInstance(myProject).addChangeList(myNewListPanel.getName(),myNewListPanel.getDescription());
  }
  super.doOKAction();
}
