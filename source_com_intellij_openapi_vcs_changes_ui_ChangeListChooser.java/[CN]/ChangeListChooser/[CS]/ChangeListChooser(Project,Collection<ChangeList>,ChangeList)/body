{
  super(project,false);
  myExistingLists=changelists;
  myProject=project;
  final DefaultComboBoxModel model=new DefaultComboBoxModel();
  for (  ChangeList list : changelists) {
    model.addElement(list);
  }
  myExisitingsCombo.setModel(model);
  if (defaultSelection == null) {
    myExisitingsCombo.setSelectedIndex(0);
  }
 else {
    myExisitingsCombo.setSelectedItem(defaultSelection);
  }
  myExisitingsCombo.setRenderer(new ColoredListCellRenderer(){
    protected void customizeCellRenderer(    JList list,    Object value,    int index,    boolean selected,    boolean hasFocus){
      append(((ChangeList)value).getDescription(),SimpleTextAttributes.REGULAR_ATTRIBUTES);
    }
  }
);
  myRbExisting.addItemListener(new ItemListener(){
    public void itemStateChanged(    ItemEvent e){
      updateEnabledItems();
    }
  }
);
  if (myExistingLists.size() > 1 && defaultSelection != null) {
    myRbExisting.setSelected(true);
  }
 else {
    myRbNew.setSelected(true);
  }
  updateEnabledItems();
  setTitle(VcsBundle.message("changes.changelist.chooser.title"));
  init();
}
