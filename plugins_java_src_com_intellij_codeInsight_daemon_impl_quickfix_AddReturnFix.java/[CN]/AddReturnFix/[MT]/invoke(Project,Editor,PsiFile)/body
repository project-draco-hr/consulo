{
  if (!FileModificationService.getInstance().prepareFileForWrite(myMethod.getContainingFile()))   return;
  try {
    String value=suggestReturnValue();
    PsiElementFactory factory=JavaPsiFacade.getInstance(myMethod.getProject()).getElementFactory();
    PsiReturnStatement returnStatement=(PsiReturnStatement)factory.createStatementFromText("return " + value + ";",myMethod);
    PsiCodeBlock body=myMethod.getBody();
    returnStatement=(PsiReturnStatement)body.addBefore(returnStatement,body.getRBrace());
    MethodReturnTypeFix.selectReturnValueInEditor(returnStatement,editor);
  }
 catch (  IncorrectOperationException e) {
    LOG.error(e);
  }
}
