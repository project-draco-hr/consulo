{
  final ErrorTreeElement element=getElement(value);
  if (element instanceof GroupingElement) {
    setFont(getFont().deriveFont(Font.BOLD));
  }
  String prefix=calcPrefix(element);
  if (element != null) {
    String[] text=element.getText();
    if (text == null) {
      text=ArrayUtil.EMPTY_STRING_ARRAY;
    }
    if (text.length > 0 && text[0] == null) {
      text[0]="";
    }
    setText(text,prefix);
  }
  Icon icon=null;
  if (element instanceof GroupingElement) {
    final GroupingElement groupingElement=(GroupingElement)element;
    icon=groupingElement.getFile() != null ? groupingElement.getFile().getFileType().getIcon() : AllIcons.FileTypes.Java;
  }
 else   if (element instanceof SimpleMessageElement || element instanceof NavigatableMessageElement) {
    ErrorTreeElementKind kind=element.getKind();
    if (ErrorTreeElementKind.ERROR.equals(kind)) {
      icon=AllIcons.General.Error;
    }
 else     if (ErrorTreeElementKind.WARNING.equals(kind) || ErrorTreeElementKind.NOTE.equals(kind)) {
      icon=AllIcons.General.Warning;
    }
 else     if (ErrorTreeElementKind.INFO.equals(kind)) {
      icon=AllIcons.General.Information;
    }
  }
  setIcon(icon);
}
