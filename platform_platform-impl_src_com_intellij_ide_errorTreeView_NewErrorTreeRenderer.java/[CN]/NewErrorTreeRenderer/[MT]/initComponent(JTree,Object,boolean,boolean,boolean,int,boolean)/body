{
  final ErrorTreeElement element=getElement(value);
  if (element instanceof GroupingElement) {
    setFont(getFont().deriveFont(Font.BOLD));
  }
  if (element instanceof SimpleMessageElement || element instanceof NavigatableMessageElement) {
    String prefix=element.getKind().getPresentableText();
    if (element instanceof NavigatableMessageElement) {
      String rendPrefix=((NavigatableMessageElement)element).getRendererTextPrefix();
      if (!StringUtil.isEmpty(rendPrefix))       prefix+=rendPrefix + " ";
    }
    setText(element.getText(),prefix);
  }
 else   if (element != null) {
    String[] text=element.getText();
    if (text == null) {
      text=ArrayUtil.EMPTY_STRING_ARRAY;
    }
    if (text.length > 0 && text[0] == null) {
      text[0]="";
    }
    setText(text,null);
  }
  Icon icon=null;
  if (element instanceof GroupingElement) {
    final GroupingElement groupingElement=(GroupingElement)element;
    icon=groupingElement.getFile() != null ? groupingElement.getFile().getFileType().getIcon() : ourFileIcon;
  }
 else   if (element instanceof SimpleMessageElement || element instanceof NavigatableMessageElement) {
    ErrorTreeElementKind kind=element.getKind();
    if (ErrorTreeElementKind.ERROR.equals(kind)) {
      icon=ourErrorIcon;
    }
 else     if (ErrorTreeElementKind.WARNING.equals(kind)) {
      icon=ourWarningIcon;
    }
 else     if (ErrorTreeElementKind.INFO.equals(kind)) {
      icon=ourInfoIcon;
    }
  }
  setIcon(icon);
}
