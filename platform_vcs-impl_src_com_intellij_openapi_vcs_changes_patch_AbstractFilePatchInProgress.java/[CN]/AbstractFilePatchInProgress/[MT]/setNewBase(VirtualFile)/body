{
  myBase=base;
  myNewContentRevision=null;
  myCurrentRevision=null;
  myConflicts=null;
  final String beforeName=myPatch.getBeforeName();
  if (beforeName != null) {
    myIoCurrentBase=PathMerger.getFile(new File(myBase.getPath()),beforeName);
    myCurrentBase=myIoCurrentBase == null ? null : VcsUtil.getVirtualFileWithRefresh(myIoCurrentBase);
    myBaseExists=(myCurrentBase != null) && myCurrentBase.exists();
  }
 else {
    final String afterName=myPatch.getAfterName();
    myBaseExists=true;
    myIoCurrentBase=PathMerger.getFile(new File(myBase.getPath()),afterName);
    myCurrentBase=VcsUtil.getVirtualFileWithRefresh(myIoCurrentBase);
  }
}
