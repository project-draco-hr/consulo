{
  @Nullable final Project project=PlatformDataKeys.PROJECT.getData(e.getDataContext());
  if (project == null && PlatformProjectOpenProcessor.getInstanceIfItExists() == null) {
    return;
  }
  final FileChooserDescriptor descriptor=FileChooserDescriptorFactory.createMultipleFilesNoJarsDescriptor();
  descriptor.setTitle(IdeBundle.message("title.open.file"));
  FileChooser.chooseFiles(descriptor,project,null,new Consumer<List<VirtualFile>>(){
    @Override public void consume(    final List<VirtualFile> files){
      doOpenFile(project,files);
    }
  }
);
}
