{
  final GrParameter parameter=getParameterByArgument(map);
  if (parameter == null)   return null;
  final PsiElement parent=parameter.getParent().getParent();
  if (!(parent instanceof PsiMethod))   return null;
  final PsiMethod method=(PsiMethod)parent;
  if (ApplicationManager.getApplication().isUnitTestMode() || Messages.showYesNoDialog(map.getProject(),GroovyIntentionsBundle.message("do.you.want.to.change.type.of.parameter.in.method",parameter.getName(),method.getName()),GroovyIntentionsBundle.message("convert.map.to.class.intention.name"),Messages.getQuestionIcon()) == 0) {
    return parameter;
  }
  return null;
}
