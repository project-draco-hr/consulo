{
  if (isSuppressed(level))   return;
  OutputType type=OutputType.NORMAL;
  if (throwable != null || level == LEVEL_WARN || level == LEVEL_ERROR || level == LEVEL_FATAL) {
    type=OutputType.ERROR;
  }
  doPrint(composeLine(level,string),type);
  if (level == LEVEL_FATAL) {
    setOutputPaused(false);
  }
  if (throwable != null) {
    String message=null;
    Throwable temp=throwable;
    while (temp != null) {
      if (temp instanceof AbstractMojoExecutionException) {
        message=appendExecutionFailureMessage(message,temp.getMessage());
        message=appendExecutionFailureMessage(message,((AbstractMojoExecutionException)temp).getLongMessage());
        if (temp.getCause() != null) {
          message=appendExecutionFailureMessage(message,temp.getCause().getMessage());
        }
        break;
      }
      temp=temp.getCause();
    }
    if (message == null)     message=throwable.getMessage();
    if (message != null) {
      message+=LINE_SEPARATOR;
      doPrint(LINE_SEPARATOR + composeLine(LEVEL_ERROR,message),type);
    }
    if (myPrintStrackTrace) {
      StringWriter writer=new StringWriter();
      PrintWriter printWriter=new PrintWriter(writer);
      try {
        throwable.printStackTrace(printWriter);
        doPrint(LINE_SEPARATOR + writer.getBuffer().toString(),OutputType.ERROR);
      }
  finally {
        printWriter.close();
      }
    }
 else {
      doPrint(LINE_SEPARATOR + "To view full stack traces, please go to the Settings->Maven and check the 'Print Exception Stack Traces' box." + LINE_SEPARATOR,type);
    }
  }
}
