{
  if (!super.applyFix(refElements))   return false;
  final ArrayList<PsiElement> psiElements=new ArrayList<PsiElement>();
  for (  RefEntity refElement : refElements) {
    PsiElement psiElement=refElement instanceof RefElement ? ((RefElement)refElement).getElement() : null;
    if (psiElement == null)     continue;
    if (getFilter().getElementProblemCount((RefJavaElement)refElement) == 0)     continue;
    psiElements.add(psiElement);
  }
  ApplicationManager.getApplication().invokeLater(new Runnable(){
    @Override public void run(){
      final Project project=getContext().getProject();
      if (isDisposed() || project.isDisposed())       return;
      SafeDeleteHandler.invoke(project,PsiUtilCore.toPsiElementArray(psiElements),false,new Runnable(){
        @Override public void run(){
          removeElements(refElements,project,myToolWrapper);
        }
      }
);
    }
  }
);
  return false;
}
