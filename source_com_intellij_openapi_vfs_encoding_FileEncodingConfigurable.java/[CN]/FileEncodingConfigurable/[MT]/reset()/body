{
  EncodingProjectManager encodingManager=EncodingProjectManager.getInstance(myProject);
  myTreeView.reset(encodingManager.getAllMappings());
  myAutodetectUTFEncodedFilesCheckBox.setSelected(encodingManager.isUseUTFGuessing(null));
  myTransparentNativeToAsciiCheckBox.setSelected(encodingManager.isNative2AsciiForPropertiesFiles(null));
  mySelectedCharsetForPropertiesFiles=encodingManager.getDefaultCharsetForPropertiesFiles(null);
  myAction.update(new AnActionEvent(null,DataManager.getInstance().getDataContext(),"",myAction.getTemplatePresentation(),ActionManager.getInstance(),0));
  final DefaultComboBoxModel encodingsModel=new DefaultComboBoxModel(CharsetToolkit.getAvailableCharsets());
  encodingsModel.insertElementAt(SYSTEM_DEFAULT,0);
  myIdeEncodingsCombo.setModel(encodingsModel);
  final String name=EncodingManager.getInstance().getDefaultCharsetName();
  if (StringUtil.isEmpty(name)) {
    myIdeEncodingsCombo.setSelectedItem(SYSTEM_DEFAULT);
  }
 else {
    myIdeEncodingsCombo.setSelectedItem(EncodingManager.getInstance().getDefaultCharset());
  }
}
