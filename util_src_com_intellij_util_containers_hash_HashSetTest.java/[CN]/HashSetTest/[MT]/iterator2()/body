{
  final HashSet<Integer> tested=new HashSet<Integer>();
  final Set<Integer> set=new HashSet<Integer>();
  for (int i=0; i < 10000; ++i) {
    tested.add(i);
    set.add(i);
  }
  Iterator<Integer> it=tested.iterator();
  while (it.hasNext()) {
    final int i=it.next();
    if (i % 2 == 0) {
      it.remove();
      Assert.assertTrue(set.remove(i));
    }
  }
  Assert.assertEquals(5000,tested.size());
  it=tested.iterator();
  for (int i=9999; i > 0; i-=2) {
    Assert.assertTrue(it.hasNext());
    Assert.assertTrue(it.next() % 2 != 0);
    Assert.assertTrue(set.remove(i));
  }
  Assert.assertEquals(0,set.size());
}
