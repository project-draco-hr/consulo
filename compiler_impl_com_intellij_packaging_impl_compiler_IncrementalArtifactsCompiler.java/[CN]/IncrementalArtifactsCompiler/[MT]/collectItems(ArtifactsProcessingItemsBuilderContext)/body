{
  final Artifact[] artifacts=ArtifactManager.getInstance(getProject()).getArtifacts();
  for (  Artifact artifact : artifacts) {
    final String outputPath=artifact.getOutputPath();
    if (artifact.isBuildOnMake()) {
      if (outputPath == null || outputPath.length() == 0) {
        builderContext.getCompileContext().addMessage(CompilerMessageCategory.ERROR,"Cannot build '" + artifact.getName() + "' artifact: output path is not specified",null,-1,-1);
        continue;
      }
      collectItems(builderContext,artifact,outputPath);
    }
  }
  return builderContext.getProcessingItems();
}
