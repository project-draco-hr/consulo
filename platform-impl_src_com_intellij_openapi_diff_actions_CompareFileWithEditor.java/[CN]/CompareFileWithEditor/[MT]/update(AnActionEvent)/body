{
  boolean enabled=true;
  Presentation presentation=e.getPresentation();
  presentation.setText(DiffBundle.message("diff.compare.element.type.with.editor.action.name"));
  if (getDiffData(e.getDataContext()) == null) {
    enabled=false;
  }
  if (ActionPlaces.isPopupPlace(e.getPlace())) {
    presentation.setVisible(enabled);
  }
 else {
    presentation.setEnabled(enabled);
  }
}
