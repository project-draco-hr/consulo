{
  super.getListCellRendererComponent(list,getPresentableString(value),index,isSelected,cellHasFocus);
  if (isSelected) {
    setForeground(UIUtil.getListSelectionForeground());
  }
 else {
    if (value instanceof VirtualFile) {
      VirtualFile file=(VirtualFile)value;
      if (!file.isValid()) {
        setForeground(INVALID_COLOR);
      }
    }
  }
  setIcon(getIconForRoot(value));
  return this;
}
