{
  if (context != null) {
    final Editor editor=getEditor(context);
    if (editor != null) {
      final int offset=editor.getCaretModel().getOffset();
      final PsiFile file=DataKeys.PSI_FILE.getData(context);
      if (file instanceof XmlFile) {
        return file.getViewProvider().findElementAt(offset);
      }
    }
  }
  return null;
}
