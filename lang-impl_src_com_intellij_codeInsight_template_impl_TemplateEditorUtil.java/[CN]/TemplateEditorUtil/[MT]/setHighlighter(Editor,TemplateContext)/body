{
  SyntaxHighlighter baseHighlighter=null;
  for (  TemplateContextType type : TemplateManagerImpl.getAllContextTypes()) {
    if (templateContext.isEnabled(type)) {
      baseHighlighter=type.createHighlighter();
      if (baseHighlighter != null)       break;
    }
  }
  if (baseHighlighter == null) {
    baseHighlighter=new PlainSyntaxHighlighter();
  }
  SyntaxHighlighter highlighter=createTemplateTextHighlighter(baseHighlighter);
  ((EditorEx)editor).setHighlighter(new LexerEditorHighlighter(highlighter,EditorColorsManager.getInstance().getGlobalScheme()));
}
