{
  SyntaxHighlighter baseHighlighter=null;
  for (  TemplateContextType type : Extensions.getExtensions(TemplateContextType.EP_NAME)) {
    if (type.isEnabled(templateContext)) {
      baseHighlighter=type.createHighlighter();
      if (baseHighlighter != null)       break;
    }
  }
  if (baseHighlighter == null) {
    baseHighlighter=new PlainSyntaxHighlighter();
  }
  SyntaxHighlighter highlighter=createTemplateTextHighlighter(baseHighlighter);
  ((EditorEx)editor).setHighlighter(new LexerEditorHighlighter(highlighter,EditorColorsManager.getInstance().getGlobalScheme()));
}
