{
  StringBuffer pattern=new StringBuffer();
  boolean wasIdentifier=false;
  while (true) {
    if (lexer.getTokenType() == ScopeTokenTypes.DOT) {
      pattern.append('.');
      wasIdentifier=false;
    }
 else     if (lexer.getTokenType() == ScopeTokenTypes.ASTERISK) {
      pattern.append('*');
      wasIdentifier=false;
    }
 else     if (lexer.getTokenType() == ScopeTokenTypes.IDENTIFIER) {
      if (wasIdentifier)       error(AnalysisScopeBundle.message("error.packageset.token.expectations",getTokenText(lexer)),lexer);
      wasIdentifier=true;
      pattern.append(getTokenText(lexer));
    }
 else {
      break;
    }
    lexer.advance();
  }
  if (pattern.length() == 0) {
    error(AnalysisScopeBundle.message("error.packageset.pattern.expectations"),lexer);
  }
  return pattern.toString();
}
