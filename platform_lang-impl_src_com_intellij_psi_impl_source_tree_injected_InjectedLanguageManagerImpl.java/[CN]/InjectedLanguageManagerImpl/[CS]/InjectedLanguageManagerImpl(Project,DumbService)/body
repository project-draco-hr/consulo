{
  myProject=project;
  myDumbService=dumbService;
  final ExtensionPoint<MultiHostInjector> multiPoint=Extensions.getArea(project).getExtensionPoint(MultiHostInjector.MULTIHOST_INJECTOR_EP_NAME);
  multiPoint.addExtensionPointListener(new ExtensionPointListener<MultiHostInjector>(){
    public void extensionAdded(    @NotNull MultiHostInjector injector,    @Nullable PluginDescriptor pluginDescriptor){
      registerMultiHostInjector(injector);
    }
    public void extensionRemoved(    @NotNull MultiHostInjector injector,    @Nullable PluginDescriptor pluginDescriptor){
      unregisterMultiHostInjector(injector);
    }
  }
);
  final ExtensionPointListener<LanguageInjector> myListener=new ExtensionPointListener<LanguageInjector>(){
    public void extensionAdded(    @NotNull LanguageInjector extension,    @Nullable PluginDescriptor pluginDescriptor){
      psiManagerInjectorsChanged();
    }
    public void extensionRemoved(    @NotNull LanguageInjector extension,    @Nullable PluginDescriptor pluginDescriptor){
      psiManagerInjectorsChanged();
    }
  }
;
  final ExtensionPoint<LanguageInjector> psiManagerPoint=Extensions.getRootArea().getExtensionPoint(LanguageInjector.EXTENSION_POINT_NAME);
  psiManagerPoint.addExtensionPointListener(myListener);
  Disposer.register(project,new Disposable(){
    public void dispose(){
      psiManagerPoint.removeExtensionPointListener(myListener);
    }
  }
);
}
