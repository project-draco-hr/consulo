{
  final StringBuilder text=new StringBuilder(injectedNode.getTextLength());
  injectedNode.accept(new PsiRecursiveElementWalkingVisitor(){
    @Override public void visitElement(    PsiElement element){
      String leafText=InjectedLanguageUtil.getUnescapedLeafText(element,false);
      if (leafText != null) {
        text.append(leafText);
        return;
      }
      super.visitElement(element);
    }
  }
);
  return text.toString();
}
