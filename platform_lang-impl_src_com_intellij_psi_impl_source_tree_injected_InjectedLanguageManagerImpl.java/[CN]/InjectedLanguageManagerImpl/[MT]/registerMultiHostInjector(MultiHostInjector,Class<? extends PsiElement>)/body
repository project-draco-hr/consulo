{
  for (  Class<? extends PsiElement> place : elements) {
    LOG.assertTrue(place != null,injector);
    while (true) {
      MultiHostInjector[] injectors=this.injectors.get(place);
      if (injectors == null) {
        if (this.injectors.putIfAbsent(place,new MultiHostInjector[]{injector}) == null)         break;
      }
 else {
        MultiHostInjector[] newInfos=ArrayUtil.append(injectors,injector);
        if (this.injectors.replace(place,injectors,newInfos))         break;
      }
    }
  }
  cachedInjectors.clearCache();
}
