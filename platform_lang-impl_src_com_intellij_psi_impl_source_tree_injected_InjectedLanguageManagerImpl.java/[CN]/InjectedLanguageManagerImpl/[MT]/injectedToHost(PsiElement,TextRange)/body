{
  ProperTextRange.assertProperRange(injectedTextRange);
  PsiFile file=injectedContext.getContainingFile();
  if (file == null)   return injectedTextRange;
  Document document=PsiDocumentManager.getInstance(injectedContext.getProject()).getCachedDocument(file);
  if (!(document instanceof DocumentWindowImpl))   return injectedTextRange;
  DocumentWindowImpl documentWindow=(DocumentWindowImpl)document;
  return documentWindow.injectedToHost(injectedTextRange);
}
