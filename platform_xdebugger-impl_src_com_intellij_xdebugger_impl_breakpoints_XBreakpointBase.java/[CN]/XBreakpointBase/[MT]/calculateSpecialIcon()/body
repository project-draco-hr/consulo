{
  if (!isEnabled()) {
    return getType().getDisabledIcon();
  }
  XDebugSessionImpl session=getBreakpointManager().getDebuggerManager().getCurrentSession();
  if (session == null) {
    if (getBreakpointManager().getDependentBreakpointManager().getMasterBreakpoint(this) != null) {
      return getType().getDisabledDependentIcon();
    }
  }
 else {
    if (session.areBreakpointsMuted()) {
      return AllIcons.Debugger.Db_muted_breakpoint;
    }
    if (session.isDisabledSlaveBreakpoint(this)) {
      return getType().getDisabledDependentIcon();
    }
    CustomizedBreakpointPresentation presentation=session.getBreakpointPresentation(this);
    if (presentation != null) {
      Icon icon=presentation.getIcon();
      if (icon != null) {
        return icon;
      }
    }
  }
  if (myCustomizedPresentation != null) {
    final Icon icon=myCustomizedPresentation.getIcon();
    if (icon != null) {
      return icon;
    }
  }
  return null;
}
