{
  if (caretOffset < fileText.length() && fileText.charAt(caretOffset) == c || caretOffset > 0 && fileText.charAt(caretOffset - 1) == c) {
    document.insertString(caretOffset,new CharArrayCharSequence(c,c));
  }
 else {
    document.insertString(caretOffset,new CharArrayCharSequence(c,c,c));
  }
}
