{
  final EditorHighlighter highlighter=((EditorEx)editor).getHighlighter();
  HighlighterIterator iterator=highlighter.createIterator(caret - 1);
  if (GroovyTokenTypes.mSL_COMMENT == iterator.getTokenType()) {
    String text=editor.getDocument().getText();
    if (text.length() == caret)     return false;
    if (text.length() > caret && (text.charAt(caret) == '\n' || text.charAt(caret) == '\r')) {
      return false;
    }
    myOriginalHandler.execute(editor,dataContext);
    EditorModificationUtil.insertStringAtCaret(editor,"// ");
    editor.getCaretModel().moveCaretRelatively(-3,0,false,false,true);
    return true;
  }
  return false;
}
