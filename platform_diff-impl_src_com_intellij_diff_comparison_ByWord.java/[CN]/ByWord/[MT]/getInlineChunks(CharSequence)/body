{
  final List<InlineChunk> chunks=new ArrayList<InlineChunk>();
  final int len=text.length();
  int offset=0;
  while (offset < len) {
    char ch=text.charAt(offset);
    if (isAlpha(ch)) {
      int startOffset=offset;
      int h=0;
      while (offset < len) {
        char c=text.charAt(offset);
        if (!isAlpha(c))         break;
        h=31 * h + c;
        offset++;
      }
      chunks.add(new WordChunk(text,startOffset,offset,h));
    }
 else {
      while (offset < len) {
        char c=text.charAt(offset);
        if (isAlpha(c))         break;
        if (c == '\n')         chunks.add(new NewlineChunk(offset));
        offset++;
      }
    }
  }
  return chunks;
}
