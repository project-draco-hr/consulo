{
  final Class<R> responseClass=(Class<R>)response.getClass();
  List<AbstractResponseHandler<?>> handlers;
synchronized (myLock) {
    final Collection<AbstractResponseHandler<? extends R>> responseHandlers=myClassHandlers.get(responseClass);
    if (responseHandlers == null)     return;
    handlers=new SmartList<AbstractResponseHandler<?>>(responseHandlers);
  }
  for (  AbstractResponseHandler handler : handlers) {
    handler.processResponse(response);
  }
}
