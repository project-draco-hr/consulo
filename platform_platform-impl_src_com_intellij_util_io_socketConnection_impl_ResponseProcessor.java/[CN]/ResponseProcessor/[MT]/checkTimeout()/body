{
  LOG.debug("Checking timeout");
  final List<TimeoutHandler> timedOut=new ArrayList<TimeoutHandler>();
synchronized (myLock) {
    final long time=System.currentTimeMillis();
    myTimeoutHandlers.retainEntries(new TIntObjectProcedure<TimeoutHandler>(){
      public boolean execute(      int a,      TimeoutHandler b){
        if (time > b.myLastTime) {
          timedOut.add(b);
          return false;
        }
        return true;
      }
    }
);
  }
  for (  TimeoutHandler handler : timedOut) {
    LOG.debug("performing timeout action: " + handler.myAction);
    handler.myAction.run();
  }
  scheduleTimeoutCheck();
}
