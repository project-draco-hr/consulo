{
  vcs.createFile(p("file1"),"content1");
  vcs.apply();
  vcs.rename(p("file1"),"file2");
  vcs.createFile(p("file1"),"content2");
  vcs.apply();
  List<Label> labels=vcs.getLabelsFor(p("file1"));
  assertEquals(1,labels.size());
  Entry e=labels.get(0).getEntry();
  assertEquals("file1",e.getName());
  assertEquals("content2",e.getContent());
  labels=vcs.getLabelsFor(p("file2"));
  assertEquals(2,labels.size());
  e=labels.get(0).getEntry();
  assertEquals("file1",e.getName());
  assertEquals("content1",e.getContent());
  e=labels.get(1).getEntry();
  assertEquals("file2",e.getName());
  assertEquals("content1",e.getContent());
}
