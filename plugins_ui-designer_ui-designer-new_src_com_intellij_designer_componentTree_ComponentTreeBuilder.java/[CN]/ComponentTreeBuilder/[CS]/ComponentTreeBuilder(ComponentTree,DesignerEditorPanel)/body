{
  super(tree,(DefaultTreeModel)tree.getModel(),new TreeContentProvider(designer),null);
  setPassthroughMode(true);
  setCanYieldUpdate(false);
  initRootNode();
  mySurfaceArea=designer.getSurfaceArea();
  myTreeArea=new TreeEditableArea(tree,this){
    @Override public ActionGroup getPopupActions(){
      return mySurfaceArea.getPopupActions();
    }
  }
;
  myGlassLayer=new TreeGlassLayer(tree,designer.getToolProvider(),myTreeArea);
  myExpandStateHandler=new ExpandStateHandler(tree,designer,this);
  tree.setArea(myTreeArea);
  new TreeDropListener(tree,myTreeArea,designer.getToolProvider());
  selectFromSurface();
  expandFromState();
  addListeners();
  myExpandStateHandler.hookListener();
}
