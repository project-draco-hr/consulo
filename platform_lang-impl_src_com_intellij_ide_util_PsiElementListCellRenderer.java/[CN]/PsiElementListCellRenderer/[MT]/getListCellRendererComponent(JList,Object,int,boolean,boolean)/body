{
  removeAll();
  myRightComponentWidth=0;
  DefaultListCellRenderer rightRenderer=getRightCellRenderer(value);
  Component rightCellRendererComponent=null;
  JPanel spacer=null;
  if (rightRenderer != null) {
    rightCellRendererComponent=rightRenderer.getListCellRendererComponent(list,value,index,isSelected,cellHasFocus);
    add(rightCellRendererComponent,BorderLayout.EAST);
    spacer=new JPanel();
    spacer.setBorder(BorderFactory.createEmptyBorder(0,2,0,2));
    add(spacer,BorderLayout.CENTER);
    myRightComponentWidth=rightCellRendererComponent.getPreferredSize().width;
    myRightComponentWidth+=spacer.getPreferredSize().width;
  }
  ListCellRenderer leftRenderer=new LeftRenderer(null,myMatcher);
  final Component leftCellRendererComponent=leftRenderer.getListCellRendererComponent(list,value,index,isSelected,cellHasFocus);
  add(leftCellRendererComponent,BorderLayout.WEST);
  final Color bg=isSelected ? UIUtil.getListSelectionBackground() : leftCellRendererComponent.getBackground();
  setBackground(bg);
  if (rightCellRendererComponent != null) {
    rightCellRendererComponent.setBackground(bg);
  }
  if (spacer != null) {
    spacer.setBackground(bg);
  }
  return this;
}
