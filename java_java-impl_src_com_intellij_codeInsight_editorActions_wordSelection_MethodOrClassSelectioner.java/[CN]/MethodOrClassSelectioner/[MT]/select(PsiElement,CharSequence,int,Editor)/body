{
  List<TextRange> result=CollectionFactory.arrayList(e.getTextRange());
  result.addAll(expandToWholeLinesWithBlanks(editorText,e.getTextRange()));
  PsiElement firstChild=e.getFirstChild();
  PsiElement[] children=e.getChildren();
  if (firstChild instanceof PsiDocComment) {
    int i=1;
    while (children[i] instanceof PsiWhiteSpace) {
      i++;
    }
    TextRange range=new TextRange(children[i].getTextRange().getStartOffset(),e.getTextRange().getEndOffset());
    result.add(range);
    result.addAll(expandToWholeLinesWithBlanks(editorText,range));
    range=TextRange.create(firstChild.getTextRange());
    result.addAll(expandToWholeLinesWithBlanks(editorText,range));
  }
 else   if (firstChild instanceof PsiComment) {
    int i=1;
    while (children[i] instanceof PsiComment || children[i] instanceof PsiWhiteSpace) {
      i++;
    }
    PsiElement last=children[i - 1] instanceof PsiWhiteSpace ? children[i - 2] : children[i - 1];
    TextRange range=new TextRange(firstChild.getTextRange().getStartOffset(),last.getTextRange().getEndOffset());
    if (range.contains(cursorOffset)) {
      result.addAll(expandToWholeLinesWithBlanks(editorText,range));
    }
    range=new TextRange(children[i].getTextRange().getStartOffset(),e.getTextRange().getEndOffset());
    result.add(range);
    result.addAll(expandToWholeLinesWithBlanks(editorText,range));
  }
  if (e instanceof PsiClass) {
    result.addAll(selectWithTypeParameters((PsiClass)e));
    result.addAll(selectBetweenBracesLines(children,editorText));
  }
  return result;
}
