{
  if (myProject.isDisposed()) {
    return null;
  }
  final HgGlobalSettings settings=myVcs.getGlobalSettings();
  String exeName;
  final int lastSlashIndex=settings.getHgExecutable().lastIndexOf(File.separator);
  exeName=settings.getHgExecutable().substring(lastSlashIndex + 1);
  final String executable=settings.isRunViaBash() ? "bash -c " + exeName : exeName;
  return String.format("%s %s %s",executable,operation,arguments == null ? "" : StringUtil.join(arguments," "));
}
