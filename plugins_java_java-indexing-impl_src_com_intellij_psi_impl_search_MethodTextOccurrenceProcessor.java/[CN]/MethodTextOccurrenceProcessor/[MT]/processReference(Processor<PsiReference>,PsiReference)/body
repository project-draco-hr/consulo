{
  for (  PsiMethod method : myMethods) {
    if (!method.isValid()) {
      continue;
    }
    if (ref instanceof ResolvingHint && !((ResolvingHint)ref).canResolveTo(PsiMethod.class)) {
      return true;
    }
    if (ref.isReferenceTo(method)) {
      return consumer.process(ref);
    }
    PsiElement refElement=ref.resolve();
    if (refElement instanceof PsiMethod) {
      PsiMethod refMethod=(PsiMethod)refElement;
      PsiClass refMethodClass=refMethod.getContainingClass();
      if (refMethodClass == null)       continue;
      if (!refMethod.hasModifierProperty(PsiModifier.STATIC)) {
        PsiSubstitutor substitutor=TypeConversionUtil.getClassSubstitutor(myContainingClass,refMethodClass,PsiSubstitutor.EMPTY);
        if (substitutor != null) {
          MethodSignature superSignature=method.getSignature(substitutor);
          MethodSignature refSignature=refMethod.getSignature(PsiSubstitutor.EMPTY);
          if (MethodSignatureUtil.isSubsignature(superSignature,refSignature)) {
            if (!consumer.process(ref))             return false;
          }
        }
      }
      if (!myStrictSignatureSearch) {
        PsiManager manager=method.getManager();
        if (manager.areElementsEquivalent(refMethodClass,myContainingClass)) {
          if (!consumer.process(ref))           return false;
        }
      }
    }
  }
  return true;
}
