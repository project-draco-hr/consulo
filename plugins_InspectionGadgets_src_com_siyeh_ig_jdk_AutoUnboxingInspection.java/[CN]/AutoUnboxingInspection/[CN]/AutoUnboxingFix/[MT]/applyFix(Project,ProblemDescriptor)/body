{
  if (isQuickFixOnReadOnlyFile(project,descriptor)) {
    return;
  }
  final PsiExpression expression=(PsiExpression)descriptor.getPsiElement();
  final PsiType type=expression.getType();
  final PsiType expectedType=ExpectedTypeUtils.findExpectedType(expression);
  final String expectedTypeText=expectedType.getCanonicalText();
  final String typeText=type.getCanonicalText();
  final String expressionText=expression.getText();
  final String boxClassName=s_unboxingMethods.get(expectedTypeText);
  if (TypeUtils.typeEquals("java.lang.Boolean",type)) {
    replaceExpression(project,expression,expressionText + '.' + boxClassName+ "()");
  }
 else   if (s_numberTypes.contains(typeText)) {
    replaceExpression(project,expression,expressionText + '.' + boxClassName+ "()");
  }
 else {
    replaceExpression(project,expression,"((Number)" + expressionText + ")."+ boxClassName+ "()");
  }
}
