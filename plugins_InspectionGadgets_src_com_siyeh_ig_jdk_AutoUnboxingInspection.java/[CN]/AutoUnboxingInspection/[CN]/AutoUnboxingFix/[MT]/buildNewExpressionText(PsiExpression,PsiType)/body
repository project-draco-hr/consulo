{
  final String unboxedTypeText=unboxedType.getCanonicalText();
  final String expressionText=expression.getText();
  final String boxMethodName=s_unboxingMethods.get(unboxedTypeText);
  if (expression instanceof PsiTypeCastExpression) {
    return '(' + expressionText + ")."+ boxMethodName+ "()";
  }
  final String constantText=computeConstantBooleanText(expression);
  if (constantText != null) {
    return constantText;
  }
  if (expression instanceof PsiMethodCallExpression) {
    final PsiMethodCallExpression methodCallExpression=(PsiMethodCallExpression)expression;
    if (isValueOfCall(methodCallExpression)) {
      final PsiExpressionList argumentList=methodCallExpression.getArgumentList();
      final PsiExpression[] arguments=argumentList.getExpressions();
      final PsiExpression argument=arguments[0];
      return argument.getText();
    }
  }
  return expressionText + '.' + boxMethodName+ "()";
}
