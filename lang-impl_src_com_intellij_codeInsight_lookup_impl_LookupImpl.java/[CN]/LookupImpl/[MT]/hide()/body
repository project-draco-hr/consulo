{
  if (myDisposed)   return;
  if (IdeEventQueue.getInstance().getPopupManager().closeActivePopup()) {
    return;
  }
  Disposer.dispose(this);
  if (myEditorCaretListener != null) {
    myEditor.getCaretModel().removeCaretListener(myEditorCaretListener);
  }
  if (myEditorMouseListener != null) {
    myEditor.removeEditorMouseListener(myEditorMouseListener);
  }
  myEditor.putUserData(LOOKUP_IN_EDITOR_KEY,null);
  super.hide();
  if (myCanceled) {
    fireLookupCanceled();
  }
}
