{
  artifact=getOriginalArtifact(artifact);
  final ModifiableArtifact modifiableArtifact=getOrCreateModifiableArtifactModel().getOrCreateModifiableArtifact(artifact);
  if (modifiableArtifact.getRootElement() == artifact.getRootElement()) {
    modifiableArtifact.setRootElement(getOrCreateModifiableRootElement(artifact));
  }
  action.run();
  myContext.getDaemonAnalyzer().queueUpdate(new ArtifactProjectStructureElement(myContext,this,artifact));
}
