{
  if (!file.isDirectory()) {
    for (    ID<?,?> indexId : myIndexIds) {
      if (shouldIndexFile(file,indexId)) {
        myFiles.add(file);
        break;
      }
    }
    for (    ID<?,?> indexId : mySkipContentLoading) {
      if (shouldIndexFile(file,indexId)) {
        try {
          updateSingleIndex(indexId,file,new FileContent(file,null),null);
        }
 catch (        StorageException e) {
          LOG.info(e);
          requestRebuild(indexId);
        }
      }
    }
  }
 else {
    if (myProgressIndicator != null) {
      myProgressIndicator.setText("Scanning files to index");
      myProgressIndicator.setText2(file.getPresentableUrl());
    }
  }
  return true;
}
