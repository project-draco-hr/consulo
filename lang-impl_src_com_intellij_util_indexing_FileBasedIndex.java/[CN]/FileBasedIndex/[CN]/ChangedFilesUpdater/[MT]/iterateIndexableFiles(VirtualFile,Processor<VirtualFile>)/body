{
  if (file.isDirectory()) {
    final ContentIterator iterator=new ContentIterator(){
      public boolean processFile(      final VirtualFile fileOrDir){
        if (!fileOrDir.isDirectory() && !SingleRootFileViewProvider.isTooLarge(fileOrDir)) {
          processor.process(fileOrDir);
        }
        return true;
      }
    }
;
    for (    IndexableFileSet set : myIndexableSets) {
      set.iterateIndexableFilesIn(file,iterator);
    }
  }
 else {
    if (!SingleRootFileViewProvider.isTooLarge(file)) {
      for (      IndexableFileSet set : myIndexableSets) {
        if (set.isInSet(file)) {
          processor.process(file);
          break;
        }
      }
    }
  }
}
