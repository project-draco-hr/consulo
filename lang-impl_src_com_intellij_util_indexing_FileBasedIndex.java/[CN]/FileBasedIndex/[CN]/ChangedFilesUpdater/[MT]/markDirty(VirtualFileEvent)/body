{
  iterateIndexableFiles(event.getFile(),new Processor<VirtualFile>(){
    public boolean process(    final VirtualFile file){
      for (      ID<?,?> indexId : myIndices.keySet()) {
        if (getInputFilter(indexId).acceptInput(file)) {
          if (myNeedContentLoading.contains(indexId)) {
            myFilesToUpdate.add(file);
          }
 else {
            try {
              updateSingleIndex(indexId,file,new FileContent(file,null),null);
            }
 catch (            StorageException e) {
              LOG.error(e);
              requestRebuild(indexId);
            }
          }
        }
      }
      return true;
    }
  }
);
}
