{
  myChangedFilesUpdater.forceUpdate();
  myInvalidationService.shutdown();
  try {
    myInvalidationService.awaitTermination(30,TimeUnit.SECONDS);
  }
 catch (  InterruptedException e) {
    LOG.error(e);
  }
  for (  ID<?,?> indexId : myIndices.keySet()) {
    getIndex(indexId).dispose();
  }
  myVfManager.removeVirtualFileListener(myChangedFilesUpdater);
  myVfManager.unregisterRefreshUpdater(myChangedFilesUpdater);
}
