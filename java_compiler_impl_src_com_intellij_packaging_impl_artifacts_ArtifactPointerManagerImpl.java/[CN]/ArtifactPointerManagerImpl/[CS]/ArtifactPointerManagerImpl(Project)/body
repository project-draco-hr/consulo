{
  project.getMessageBus().connect().subscribe(ArtifactManager.TOPIC,new ArtifactAdapter(){
    @Override public void artifactRemoved(    @NotNull Artifact artifact){
      disposePointer(artifact);
    }
    @Override public void artifactAdded(    @NotNull Artifact artifact){
      final ArtifactPointerImpl pointer=myPointers.get(artifact);
      if (pointer != null) {
        pointer.setName(artifact.getName());
      }
      final ArtifactPointerImpl unresolved=myUnresolvedPointers.remove(artifact.getName());
      if (unresolved != null) {
        unresolved.setArtifact(artifact);
        if (pointer == null) {
          myPointers.put(artifact,unresolved);
        }
      }
    }
    @Override public void artifactChanged(    @NotNull Artifact artifact,    @NotNull String oldName){
      final ArtifactPointerImpl pointer=myPointers.get(artifact);
      if (pointer != null) {
        pointer.setName(artifact.getName());
      }
      final ArtifactPointerImpl unresolved=myUnresolvedPointers.remove(artifact.getName());
      if (unresolved != null) {
        unresolved.setArtifact(artifact);
        if (pointer == null) {
          myPointers.put(artifact,unresolved);
        }
      }
    }
  }
);
}
