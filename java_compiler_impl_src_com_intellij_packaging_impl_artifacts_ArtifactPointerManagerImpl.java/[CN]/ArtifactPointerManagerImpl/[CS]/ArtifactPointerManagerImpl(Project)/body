{
  myProject=project;
  myProject.getMessageBus().connect().subscribe(ArtifactManager.TOPIC,new ArtifactAdapter(){
    @Override public void artifactRemoved(    @NotNull Artifact artifact){
      final ArtifactPointerImpl pointer=myPointers.get(artifact.getName());
      if (pointer != null) {
        pointer.setArtifact(null);
      }
    }
    @Override public void artifactAdded(    @NotNull Artifact artifact){
      final ArtifactPointerImpl artifactPointer=myPointers.get(artifact.getName());
      if (artifactPointer != null) {
        artifactPointer.setArtifact(artifact);
      }
    }
    @Override public void artifactChanged(    @NotNull Artifact artifact,    @NotNull String oldName){
      final ArtifactPointerImpl pointer=myPointers.get(oldName);
      if (pointer != null) {
        pointer.setArtifact(artifact);
        final String newName=artifact.getName();
        if (!newName.equals(oldName)) {
          pointer.setName(newName);
          myPointers.remove(oldName);
          myPointers.put(newName,pointer);
        }
      }
    }
  }
);
}
