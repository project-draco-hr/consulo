{
  try {
    final Schema schema=RngParser.getCachedSchema(descriptorFile);
    if (schema == null) {
      return;
    }
    final ErrorHandler eh=MyErrorHandler.create(doc,host);
    if (eh == null) {
      return;
    }
    final PropertyMapBuilder builder=new PropertyMapBuilder();
    builder.put(ValidateProperty.ERROR_HANDLER,eh);
    final ContentHandler handler=schema.createValidator(builder.toPropertyMap()).getContentHandler();
    doc.accept(new Psi2SaxAdapter(handler));
  }
 catch (  ProcessCanceledException e) {
    throw e;
  }
catch (  RuntimeException e) {
    LOG.error(e);
  }
catch (  Exception e) {
    LOG.info(e);
  }
}
