{
  GrExpression invoked=getInvokedExpression();
  if (invoked instanceof GrReferenceExpression) {
    GrReferenceExpression refExpr=(GrReferenceExpression)invoked;
    PsiElement resolved=refExpr.resolve();
    if (resolved instanceof PsiMethod && !GroovyPsiManager.getInstance(resolved.getProject()).isTypeBeingInferred(resolved)) {
      PsiType returnType=((PsiMethod)resolved).getReturnType();
      returnType=TypesUtil.boxPrimitiveType(returnType,getManager(),getResolveScope());
      if (refExpr.getDotTokenType() != GroovyTokenTypes.mSPREAD_DOT) {
        return returnType;
      }
 else {
        return ResolveUtil.getListTypeForSpreadOperator(refExpr,returnType);
      }
    }
  }
  return null;
}
