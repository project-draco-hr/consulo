{
  PsiElement value=element;
  if (value instanceof PsiExpression) {
    value=PsiUtil.deparenthesizeExpression((PsiExpression)value);
  }
  if (value instanceof PsiLiteralExpression) {
    return ((PsiLiteralExpression)value).getValue() == null ? DfaUtil.Nullness.NULL : DfaUtil.Nullness.NOT_NULL;
  }
  if (value instanceof PsiNewExpression)   return DfaUtil.Nullness.NOT_NULL;
  if (value instanceof PsiThisExpression)   return DfaUtil.Nullness.NOT_NULL;
  if (value instanceof PsiMethodCallExpression) {
    PsiMethod method=((PsiMethodCallExpression)value).resolveMethod();
    if (method != null && AnnotationUtil.isNotNull(method))     return DfaUtil.Nullness.NOT_NULL;
    if (method != null && AnnotationUtil.isNullable(method))     return DfaUtil.Nullness.NULL;
  }
  if (value instanceof PsiPolyadicExpression && ((PsiPolyadicExpression)value).getOperationTokenType() == JavaTokenType.PLUS) {
    return DfaUtil.Nullness.NOT_NULL;
  }
  PsiElement context=value;
  if (value instanceof PsiReference) {
    PsiElement resolved=((PsiReference)value).resolve();
    if (resolved instanceof PsiCompiledElement) {
      resolved=resolved.getNavigationElement();
    }
    value=resolved;
  }
  if (value instanceof PsiParameter && ((PsiParameter)value).getDeclarationScope() instanceof PsiCatchSection) {
    return DfaUtil.Nullness.NOT_NULL;
  }
  if (value instanceof PsiLocalVariable || value instanceof PsiParameter) {
    DfaUtil.Nullness result=DfaUtil.checkNullness((PsiVariable)value,context);
    if (result != DfaUtil.Nullness.UNKNOWN) {
      return result;
    }
  }
  if (value instanceof PsiModifierListOwner) {
    if (AnnotationUtil.isNotNull((PsiModifierListOwner)value))     return DfaUtil.Nullness.NOT_NULL;
    if (AnnotationUtil.isNullable((PsiModifierListOwner)value))     return DfaUtil.Nullness.NULL;
  }
  if (value instanceof PsiEnumConstant)   return DfaUtil.Nullness.NOT_NULL;
  return DfaUtil.Nullness.UNKNOWN;
}
