{
  if (type instanceof PsiClassType) {
    final PsiClassType classType=(PsiClassType)type;
    return classType.resolveGenerics();
  }
  if (type instanceof PsiArrayType) {
    return resolveGenericsClassInType(((PsiArrayType)type).getComponentType());
  }
  if (type instanceof PsiDisjunctionType) {
    final PsiType lub=((PsiDisjunctionType)type).getLeastUpperBound();
    if (lub instanceof PsiClassType) {
      return ((PsiClassType)lub).resolveGenerics();
    }
  }
  return PsiClassType.ClassResolveResult.EMPTY;
}
