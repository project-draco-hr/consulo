{
  if (type instanceof PsiClassType) {
    return ((PsiClassType)type).resolve();
  }
  if (type instanceof PsiArrayType) {
    return resolveClassInType(((PsiArrayType)type).getComponentType());
  }
  if (type instanceof PsiDisjunctionType) {
    final PsiType lub=((PsiDisjunctionType)type).getLeastUpperBound();
    if (lub instanceof PsiClassType) {
      return ((PsiClassType)lub).resolve();
    }
  }
  return null;
}
