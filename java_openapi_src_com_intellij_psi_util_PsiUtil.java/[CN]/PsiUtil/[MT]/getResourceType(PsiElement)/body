{
  if (element == null || !(element.getParent() instanceof PsiResourceList))   return null;
  if (element instanceof PsiLocalVariable)   return ((PsiLocalVariable)element).getType();
  if (element instanceof PsiExpression)   return ((PsiExpression)element).getType();
  LOG.error("Unexpected resource type: " + LogUtil.objectAndClass(element));
  return null;
}
