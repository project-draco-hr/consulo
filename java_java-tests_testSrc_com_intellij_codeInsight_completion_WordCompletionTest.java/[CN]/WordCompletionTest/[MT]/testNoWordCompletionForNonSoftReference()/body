{
  final PsiReferenceProviderBase softProvider=new PsiReferenceProviderBase(){
    @Override @NotNull public PsiReference[] getReferencesByElement(    @NotNull PsiElement element,    @NotNull final ProcessingContext context){
      return new PsiReference[]{new PsiReferenceBase<PsiElement>(element){
        @Override public PsiElement resolve(){
          return null;
        }
        @Override public boolean isSoft(){
          return true;
        }
        @Override @NotNull public Object[] getVariants(){
          return new Object[]{"MySoftVariant"};
        }
      }
};
    }
  }
;
  final PsiReferenceProviderBase hardProvider=new PsiReferenceProviderBase(){
    @Override @NotNull public PsiReference[] getReferencesByElement(    @NotNull PsiElement element,    @NotNull final ProcessingContext context){
      return new PsiReference[]{new PsiReferenceBase<PsiElement>(element){
        @Override public PsiElement resolve(){
          return null;
        }
        @Override public boolean isSoft(){
          return false;
        }
        @Override @NotNull public Object[] getVariants(){
          return new Object[]{"MyHardVariant"};
        }
      }
};
    }
  }
;
  ReferenceProvidersRegistry.getInstance(getProject()).registerReferenceProvider(PsiLiteralExpression.class,softProvider);
  ReferenceProvidersRegistry.getInstance(getProject()).registerReferenceProvider(PsiLiteralExpression.class,hardProvider);
  configureByFile(BASE_PATH + "3.java");
  checkResultByFile(BASE_PATH + "3_after.java");
}
