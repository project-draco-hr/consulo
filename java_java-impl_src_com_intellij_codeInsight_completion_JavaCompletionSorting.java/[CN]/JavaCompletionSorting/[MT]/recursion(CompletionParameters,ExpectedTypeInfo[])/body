{
  final PsiElement position=parameters.getPosition();
  final PsiMethod positionMethod=PsiTreeUtil.getParentOfType(position,PsiMethod.class,false);
  final ElementFilter filter=JavaCompletionUtil.recursionFilter(position);
  final PsiMethodCallExpression expression=PsiTreeUtil.getParentOfType(position,PsiMethodCallExpression.class,true,PsiClass.class);
  final PsiReferenceExpression reference=expression != null ? expression.getMethodExpression() : PsiTreeUtil.getParentOfType(position,PsiReferenceExpression.class);
  if (reference == null)   return null;
  return new RecursionWeigher(filter,position,reference,expression,positionMethod,expectedInfos);
}
