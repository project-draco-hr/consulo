{
  mySelectionMode=true;
  final int selectionOperation=++mySelectionOperation;
  myTreeBuilder.queueUpdate().doWhenDone(new Runnable(){
    @Override public void run(){
      Runnable localDone=new Runnable(){
        @Override public void run(){
          if (selectionOperation == mySelectionOperation) {
            mySelectionMode=false;
            fireSelectionChanged();
            if (globalDone != null) {
              globalDone.run();
            }
          }
        }
      }
;
      if (value == null) {
        myTreeBuilder.select(ArrayUtil.EMPTY_OBJECT_ARRAY,localDone);
      }
 else       if (value instanceof RadComponent) {
        myTreeBuilder.select(value,localDone);
      }
 else {
        myTreeBuilder.select(((Collection)value).toArray(),localDone);
      }
    }
  }
);
}
