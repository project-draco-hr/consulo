{
  if (myTemplate != null) {
    myTemplate.setText(myTemplateEditor.getDocument().getText());
    if (!updateNameAndExtension(false)) {
      throw new ConfigurationException(IdeBundle.message("error.invalid.template.file.name.or.extension"));
    }
    myTemplate.setReformatCode(myAdjustBox.isSelected());
  }
  myModified=false;
}
