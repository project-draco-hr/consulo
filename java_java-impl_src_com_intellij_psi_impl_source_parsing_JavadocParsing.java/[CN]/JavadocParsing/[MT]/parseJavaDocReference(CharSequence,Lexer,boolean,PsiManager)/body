{
  final TokenSet whitespaceOrComments=TokenSet.orSet(ElementType.JAVA_WHITESPACE_BIT_SET,ElementType.JAVA_COMMENT_BIT_SET);
  FilterLexer lexer=new FilterLexer(originalLexer,new FilterLexer.SetFilter(whitespaceOrComments));
  lexer.start(myBuffer);
  final FileElement dummyRoot=DummyHolderFactory.createHolder(manager,null,myContext.getCharTable()).getTreeElement();
  final CompositeElement element;
  if (isType) {
    element=parseTypeWithEllipsis(lexer,true,false);
  }
 else {
    element=myContext.getStatementParsing().parseJavaCodeReference(lexer,true,true,false,false);
  }
  if (element != null) {
    dummyRoot.rawAddChildren(element);
  }
  while (lexer.getTokenType() != null) {
    dummyRoot.rawAddChildren(ParseUtil.createTokenElement(lexer,myContext.getCharTable()));
    lexer.advance();
  }
  ParseUtil.insertMissingTokens(dummyRoot,originalLexer,0,myBuffer.length(),0,WhiteSpaceAndCommentsProcessor.INSTANCE,myContext);
  return dummyRoot.getFirstChildNode();
}
