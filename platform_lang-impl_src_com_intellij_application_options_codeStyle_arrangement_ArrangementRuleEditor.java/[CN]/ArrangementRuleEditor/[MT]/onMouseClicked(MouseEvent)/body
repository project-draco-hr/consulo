{
  if (myModel == null) {
    return;
  }
  ArrangementAtomNodeComponent component=getNodeComponentAt(e.getLocationOnScreen());
  if (component == null) {
    return;
  }
  ArrangementAtomMatchCondition chosenCondition=component.getMatchCondition();
  boolean remove=myModel.hasCondition(chosenCondition.getValue());
  component.setSelected(!remove);
  repaintComponent(component);
  if (remove) {
    myModel.removeAndCondition(chosenCondition);
    return;
  }
  Collection<Set<?>> mutexes=myFilter.getMutexes();
  for (  Set<?> mutex : mutexes) {
    if (!mutex.contains(chosenCondition.getValue())) {
      continue;
    }
    for (    Object key : mutex) {
      if (myModel.hasCondition(key)) {
        ArrangementAtomNodeComponent componentToDeselect=myComponents.get(key);
        myModel.replaceCondition(componentToDeselect.getMatchCondition(),chosenCondition);
        updateState(myModel);
        return;
      }
    }
  }
  myModel.addAndCondition(chosenCondition);
}
