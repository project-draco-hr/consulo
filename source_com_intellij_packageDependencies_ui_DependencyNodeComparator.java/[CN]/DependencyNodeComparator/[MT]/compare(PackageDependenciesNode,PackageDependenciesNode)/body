{
  if (p1.getWeight() != p2.getWeight())   return p1.getWeight() - p2.getWeight();
  if (mySortByType) {
    final PsiElement psiElement1=p1.getPsiElement();
    final PsiElement psiElement2=p2.getPsiElement();
    if (psiElement1 instanceof PsiClass && psiElement2 instanceof PsiClass) {
      return GroupByTypeComparator.getClassPosition((PsiClass)psiElement1) - GroupByTypeComparator.getClassPosition((PsiClass)psiElement2);
    }
  }
  return p1.toString().compareTo(p2.toString());
}
