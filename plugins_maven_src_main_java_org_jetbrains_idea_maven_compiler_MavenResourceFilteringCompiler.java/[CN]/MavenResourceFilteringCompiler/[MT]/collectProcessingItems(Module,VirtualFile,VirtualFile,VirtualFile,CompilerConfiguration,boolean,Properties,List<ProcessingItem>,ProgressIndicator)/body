{
  i.checkCanceled();
  for (  VirtualFile eachSourceFile : currentDir.getChildren()) {
    if (eachSourceFile.isDirectory()) {
      collectProcessingItems(module,sourceRoot,eachSourceFile,outputDir,config,isSourceRootFiltered,properties,result,i);
    }
 else {
      if (!config.isResourceFile(eachSourceFile.getName()))       continue;
      if (eachSourceFile.getFileType().isBinary())       continue;
      String relPath=VfsUtil.getRelativePath(eachSourceFile,sourceRoot,'/');
      VirtualFile outputFile=outputDir.findFileByRelativePath(relPath);
      if (outputFile != null) {
        result.add(new MyProcessingItem(module,eachSourceFile,outputFile,isSourceRootFiltered,properties));
        break;
      }
    }
  }
}
