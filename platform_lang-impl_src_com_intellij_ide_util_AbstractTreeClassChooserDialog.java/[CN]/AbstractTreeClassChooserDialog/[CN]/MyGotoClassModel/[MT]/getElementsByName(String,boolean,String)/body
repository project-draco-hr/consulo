{
  List<T> classes=myTreeClassChooserDialog.getClassesByName(name,checkBoxState,pattern,myTreeClassChooserDialog.getScope());
  if (classes.size() == 0)   return ArrayUtil.EMPTY_OBJECT_ARRAY;
  if (classes.size() == 1) {
    return isAccepted(classes.get(0)) ? classes.toArray(new Object[classes.size()]) : ArrayUtil.EMPTY_OBJECT_ARRAY;
  }
  List<T> list=new ArrayList<T>(classes.size());
  for (  T aClass : classes) {
    if (isAccepted(aClass)) {
      list.add(aClass);
    }
  }
  return list.toArray(new Object[list.size()]);
}
