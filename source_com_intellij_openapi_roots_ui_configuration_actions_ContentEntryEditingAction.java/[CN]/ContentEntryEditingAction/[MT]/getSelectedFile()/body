{
  final TreePath selectionPath=myTree.getSelectionPath();
  if (selectionPath == null) {
    return null;
  }
  final DefaultMutableTreeNode node=(DefaultMutableTreeNode)selectionPath.getLastPathComponent();
  final Object nodeDescriptor=node.getUserObject();
  if (!(nodeDescriptor instanceof FileNodeDescriptor)) {
    return null;
  }
  final Object element=((FileNodeDescriptor)nodeDescriptor).getElement();
  if (!(element instanceof FileElement)) {
    return null;
  }
  return ((FileElement)element).getFile();
}
