{
  Throwable cause=e;
  while (cause.getCause() != null) {
    cause=cause.getCause();
  }
  if (!cause.getClass().getName().startsWith("java")) {
    final Throwable replaceWith=new RuntimeException(cause.toString());
    replaceWith.setStackTrace(cause.getStackTrace());
    cause=replaceWith;
  }
  throw cause instanceof RuntimeException ? (RuntimeException)cause : new RuntimeException(cause);
}
