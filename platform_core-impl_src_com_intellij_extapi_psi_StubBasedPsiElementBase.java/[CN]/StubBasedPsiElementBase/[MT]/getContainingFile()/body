{
  StubElement stub=myStub;
  if (stub != null) {
    while (!(stub instanceof PsiFileStub)) {
      stub=stub.getParentStub();
    }
    PsiFile psi=(PsiFile)stub.getPsi();
    if (psi == null) {
      throw new PsiInvalidElementAccessException(this);
    }
    return psi;
  }
  PsiFile file=super.getContainingFile();
  if (file == null) {
    throw new PsiInvalidElementAccessException(this);
  }
  return file;
}
