{
  T stub=getGreenStub();
  if (stub != null) {
    return (Psi[])stub.getChildrenByType(filter,f);
  }
 else {
    final ASTNode[] nodes=getNode().getChildren(filter);
    Psi[] psiElements=f.create(nodes.length);
    for (int i=0; i < nodes.length; i++) {
      psiElements[i]=(Psi)nodes[i].getPsi();
    }
    return psiElements;
  }
}
