{
  T stub=getGreenStub();
  if (stub != null) {
    return (Psi[])stub.getChildrenByType(filter,array);
  }
 else {
    final ASTNode[] nodes=getNode().getChildren(filter);
    Psi[] psiElements=(Psi[])Array.newInstance(array.getClass().getComponentType(),nodes.length);
    for (int i=0; i < nodes.length; i++) {
      psiElements[i]=(Psi)nodes[i].getPsi();
    }
    return psiElements;
  }
}
