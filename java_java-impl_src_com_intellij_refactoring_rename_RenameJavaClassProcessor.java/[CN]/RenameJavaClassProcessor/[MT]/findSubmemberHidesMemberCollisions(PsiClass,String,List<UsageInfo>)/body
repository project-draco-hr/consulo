{
  if (aClass.getParent() instanceof PsiClass) {
    PsiClass parent=(PsiClass)aClass.getParent();
    Collection<PsiClass> inheritors=ClassInheritorsSearch.search(parent,true).findAll();
    for (    PsiClass inheritor : inheritors) {
      if (newName.equals(inheritor.getName())) {
        final ClassCollisionsDetector classCollisionsDetector=new ClassCollisionsDetector(aClass);
        for (        PsiReference reference : ReferencesSearch.search(inheritor,new LocalSearchScope(inheritor))) {
          classCollisionsDetector.addClassCollisions(reference.getElement(),newName,result);
        }
      }
      PsiClass[] inners=inheritor.getInnerClasses();
      for (      PsiClass inner : inners) {
        if (newName.equals(inner.getName())) {
          result.add(new SubmemberHidesMemberUsageInfo(inner,aClass));
        }
      }
    }
  }
}
