{
  ArtifactInstructionsBuilderImpl builder=new ArtifactInstructionsBuilderImpl(index,this);
  final JpsCompositePackagingElement rootElement=myArtifact.getRootElement();
  ArtifactInstructionsBuilderContext context=new ArtifactInstructionsBuilderContextImpl(model,new ProjectPaths(model.getProject()));
  String outputPath=StringUtil.notNullize(myArtifact.getOutputPath());
  final CopyToDirectoryInstructionCreator instructionCreator=new CopyToDirectoryInstructionCreator(builder,outputPath);
  LayoutElementBuildersRegistry.getInstance().generateInstructions(rootElement,instructionCreator,context);
  return builder.getDescriptors();
}
