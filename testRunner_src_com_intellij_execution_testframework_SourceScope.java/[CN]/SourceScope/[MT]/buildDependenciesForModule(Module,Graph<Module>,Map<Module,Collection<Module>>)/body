{
  final Set<Module> deps=new com.intellij.util.containers.HashSet<Module>();
  map.put(module,deps);
  new Object(){
    void traverse(    Module m){
      for (Iterator<Module> iterator=graph.getIn(m); iterator.hasNext(); ) {
        final Module dep=iterator.next();
        if (!deps.contains(dep)) {
          deps.add(dep);
          traverse(dep);
        }
      }
    }
  }
.traverse(module);
}
