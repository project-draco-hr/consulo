{
  createProjectPom("<groupId>test</groupId>" + "<artifactId>project</artifactId>" + "<version>1</version>"+ "<parent>"+ "  <groupId>test</groupId>"+ "  <artifactId>parent</artifactId>"+ "  <version>1</version>"+ "  <relativePath>./parent/pom.xml</version>"+ "</parent>"+ "<properties>"+ "  <pomProp>value</pomProp>"+ "</properties>"+ "<profiles>"+ "  <profile>"+ "    <id>one</id>"+ "    <properties>"+ "      <pomProfilesProp>value</pomProfilesProp>"+ "    </properties>"+ "  </profile>"+ "  <profile>"+ "    <id>two</id>"+ "    <properties>"+ "      <pomProfilesPropInactive>value</pomProfilesPropInactive>"+ "    </properties>"+ "  </profile>"+ "</profiles>"+ "<name>${<caret>}</name>");
  createProfilesXml("<profile>" + "  <id>one</id>" + "  <properties>"+ "    <profilesXmlProp>value</profilesXmlProp>"+ "  </properties>"+ "</profile>");
  createModulePom("parent","<groupId>test</groupId>" + "<artifactId>parent</artifactId>" + "<version>1</version>"+ "<properties>"+ "  <parentPomProp>value</parentPomProp>"+ "</properties>"+ "<profiles>"+ "  <profile>"+ "    <id>one</id>"+ "    <properties>"+ "      <parentPomProfilesProp>value</parentPomProfilesProp>"+ "    </properties>"+ "  </profile>"+ "</profiles>");
  createProfilesXml("parent","<profile>" + "  <id>one</id>" + "  <properties>"+ "    <parentProfilesXmlProp>value</parentProfilesXmlProp>"+ "  </properties>"+ "</profile>");
  updateSettingsXml("<profiles>" + "  <profile>" + "    <id>one</id>"+ "    <properties>"+ "      <settingsXmlProp>value</settingsXmlProp>"+ "    </properties>"+ "  </profile>"+ "</profiles>");
  readWithProfiles("one");
  List<String> variants=getCompletionVariants(myProjectPom);
  assertContain(variants,"pomProp","pomProfilesProp","profilesXmlProp");
  assertContain(variants,"parentPomProp","parentPomProfilesProp","parentProfilesXmlProp");
  assertContain(variants,"artifactId","project.artifactId","pom.artifactId");
  assertContain(variants,"basedir","project.basedir","pom.basedir");
  assertContain(variants,"settingsXmlProp");
  assertContain(variants,"settings.localRepository");
  assertContain(variants,"user.home","env." + getEnvVar());
}
