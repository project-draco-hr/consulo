{
  List<String> args=new ArrayList<String>(Arrays.asList("--template",HgChangesetUtil.makeTemplate("{rev}","{node|short}","{author}","{desc|firstline}"),"--quiet"));
  addArguments(args);
  HgCommandResult result=executeCommand(repo,args);
  if (result == null) {
    return Collections.emptyList();
  }
  String output=result.getRawOutput();
  if (StringUtils.isEmpty(output)) {
    return Collections.emptyList();
  }
  String[] changesets=output.split(HgChangesetUtil.CHANGESET_SEPARATOR);
  List<HgRevisionNumber> revisions=new ArrayList<HgRevisionNumber>(changesets.length);
  for (  String changeset : changesets) {
    String[] parts=StringUtils.split(changeset,HgChangesetUtil.ITEM_SEPARATOR);
    if (parts.length == 4) {
      revisions.add(HgRevisionNumber.getInstance(parts[0],parts[1],parts[2],parts[3]));
    }
 else {
      LOG.warn("Could not parse changeset [" + changeset + "]");
    }
  }
  return revisions;
}
