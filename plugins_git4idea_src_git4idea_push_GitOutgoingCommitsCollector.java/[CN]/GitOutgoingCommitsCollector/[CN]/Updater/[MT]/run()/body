{
  doCollect();
synchronized (STATE_LOCK) {
    if (refreshWaiters > 0) {
      refreshWaiters=0;
      handleResult(completionHandlers.poll());
      ApplicationManager.getApplication().executeOnPooledThread(new Updater());
    }
 else {
      myState=State.READY;
      while (!completionHandlers.isEmpty()) {
        handleResult(completionHandlers.poll());
      }
    }
  }
}
