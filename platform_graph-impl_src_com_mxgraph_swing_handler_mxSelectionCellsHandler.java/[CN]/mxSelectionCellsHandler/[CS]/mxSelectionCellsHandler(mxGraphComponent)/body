{
  this.graphComponent=graphComponent;
  graphComponent.getGraphControl().addMouseListener(this);
  graphComponent.getGraphControl().addMouseMotionListener(this);
  addGraphListeners(graphComponent.getGraph());
  graphComponent.addPropertyChangeListener(new PropertyChangeListener(){
    public void propertyChange(    PropertyChangeEvent evt){
      if (evt.getPropertyName().equals("graph")) {
        removeGraphListeners((mxGraph)evt.getOldValue());
        addGraphListeners((mxGraph)evt.getNewValue());
      }
    }
  }
);
  graphComponent.addListener(mxEvent.PAINT,new mxIEventListener(){
    public void invoke(    Object sender,    mxEventObject evt){
      Graphics g=(Graphics)evt.getProperty("g");
      paintHandles(g);
    }
  }
);
}
