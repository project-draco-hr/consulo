{
  String error;
  if (lastError != null && lastError.length() != 0 && !resetPassword) {
    UIUtil.invokeAndWaitIfNeeded(new Runnable(){
      public void run(){
        showError(lastError);
      }
    }
);
    error=null;
  }
 else {
    error=lastError != null && lastError.length() == 0 ? null : lastError;
  }
  return error;
}
