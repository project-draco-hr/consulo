{
  if (!group.isUndoable() && stack.isEmpty())   return;
  stack.addLast(group);
  while (stack.size() > limit) {
    stack.removeFirst();
  }
}
