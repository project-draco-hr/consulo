{
  super(project,text);
  setTitle("Code Fragment Evaluation");
  myWatchViewPlace.setLayout(new BorderLayout());
  myWatchViewPlace.add(getEvaluationPanel());
  myStatementEditorPlace.setLayout(new BorderLayout());
  myStatementEditorPlace.add(getStatementEditor());
  GuiUtils.replaceJSplitPaneWithIDEASplitter(myPanel);
  setDebuggerContext(getDebuggerContext());
  KeyStroke codeFragment=KeyStroke.getKeyStroke(KeyEvent.VK_E,KeyEvent.ALT_MASK);
  KeyStroke resultStroke=KeyStroke.getKeyStroke(KeyEvent.VK_R,KeyEvent.ALT_MASK);
  KeyStroke altEnter=KeyStroke.getKeyStroke(KeyEvent.VK_ENTER,KeyEvent.CTRL_MASK);
  new AnAction(){
    public void actionPerformed(    AnActionEvent e){
      getStatementEditor().requestFocus();
    }
  }
.registerCustomShortcutSet(new CustomShortcutSet(codeFragment),getRootPane());
  new AnAction(){
    public void actionPerformed(    AnActionEvent e){
      getEvaluationPanel().getWatchTree().requestFocus();
    }
  }
.registerCustomShortcutSet(new CustomShortcutSet(resultStroke),getRootPane());
  new AnAction(){
    public void actionPerformed(    AnActionEvent e){
      doOKAction();
    }
  }
.registerCustomShortcutSet(new CustomShortcutSet(altEnter),getRootPane());
  getEditor().addDocumentListener(new DocumentAdapter(){
    public void documentChanged(    final DocumentEvent e){
      DebuggerInvocationUtil.invokeLater(getProject(),new Runnable(){
        public void run(){
          updateSwitchButton(e.getDocument());
        }
      }
);
    }
  }
);
  this.init();
}
