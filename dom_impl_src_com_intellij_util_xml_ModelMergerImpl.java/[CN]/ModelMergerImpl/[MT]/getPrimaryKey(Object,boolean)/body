{
  final Method method=getPrimaryKeyMethod(implementation.getClass());
  if (method != null) {
    final Object o=DomReflectionUtil.invokeMethod(method,implementation);
    return ReflectionCache.isAssignable(GenericValue.class,method.getReturnType()) ? ((GenericValue)o).getValue() : o;
  }
 else {
    if (implementation instanceof GenericValue) {
      return singleValuedInvocation ? Boolean.TRUE : ((GenericValue)implementation).getValue();
    }
 else {
      return null;
    }
  }
}
