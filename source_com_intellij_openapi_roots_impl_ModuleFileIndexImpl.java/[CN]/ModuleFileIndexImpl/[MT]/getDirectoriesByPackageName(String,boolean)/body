{
  VirtualFile[] allDirs=myDirectoryIndex.getDirectoriesByPackageName(packageName,includeLibrarySources);
  if (allDirs.length == 0)   return allDirs;
  ArrayList<VirtualFile> list=new ArrayList<VirtualFile>();
  for (int i=0; i < allDirs.length; i++) {
    VirtualFile dir=allDirs[i];
    if (getOrderEntryForFile(dir) != null) {
      list.add(dir);
    }
  }
  return list.toArray(new VirtualFile[list.size()]);
}
