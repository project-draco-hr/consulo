{
  StringBuffer packageIndex=new StringBuffer();
  packageIndex.append("<html><body>");
  final Map<String,Set<RefElement>> content=tool.getPackageContent();
  ArrayList<String> packageNames=new ArrayList<String>(content.keySet());
  Collections.sort(packageNames,RefEntityAlphabeticalComparator.getInstance());
  for (  String packageName : packageNames) {
    appendPackageReference(packageIndex,packageName);
    final ArrayList<RefElement> packageContent=new ArrayList<RefElement>(content.get(packageName));
    Collections.sort(packageContent,RefEntityAlphabeticalComparator.getInstance());
    StringBuffer contentIndex=new StringBuffer();
    contentIndex.append("<html><body>");
    for (    RefElement refElement : packageContent) {
      if (refElement instanceof RefImplicitConstructor) {
        refElement=((RefImplicitConstructor)refElement).getOwnerClass();
      }
      contentIndex.append("<a HREF=\"");
      contentIndex.append(exporter.getURL(refElement));
      contentIndex.append("\" target=\"elementFrame\">");
      contentIndex.append(refElement.getName());
      contentIndex.append("</a><br>");
      exporter.createPage(refElement);
    }
    contentIndex.append("</body></html>");
    HTMLExporter.writeFile(exporter.getRootFolder(),packageName + "-index.html",contentIndex,myView.getProject());
  }
  final Set<RefModule> modules=tool.getModuleProblems();
  if (modules != null) {
    final List<RefModule> sortedModules=new ArrayList<RefModule>(modules);
    Collections.sort(sortedModules,RefEntityAlphabeticalComparator.getInstance());
    for (    RefModule module : sortedModules) {
      appendPackageReference(packageIndex,module.getName());
      StringBuffer contentIndex=new StringBuffer();
      contentIndex.append("<html><body>");
      contentIndex.append("<a HREF=\"");
      contentIndex.append(exporter.getURL(module));
      contentIndex.append("\" target=\"elementFrame\">");
      contentIndex.append(module.getName());
      contentIndex.append("</a><br>");
      exporter.createPage(module);
      contentIndex.append("</body></html>");
      HTMLExporter.writeFile(exporter.getRootFolder(),module.getName() + "-index.html",contentIndex,myView.getProject());
    }
  }
  packageIndex.append("</body></html>");
  HTMLExporter.writeFile(exporter.getRootFolder(),"index.html",packageIndex,myView.getProject());
}
