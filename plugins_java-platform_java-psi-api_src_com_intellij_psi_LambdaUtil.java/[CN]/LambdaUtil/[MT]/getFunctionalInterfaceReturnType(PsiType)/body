{
  final PsiClassType.ClassResolveResult resolveResult=PsiUtil.resolveGenericsClassInType(functionalInterfaceType);
  final PsiClass psiClass=resolveResult.getElement();
  if (psiClass != null) {
    final MethodSignature methodSignature=getFunction(psiClass);
    if (methodSignature != null) {
      final PsiType returnType=getReturnType(psiClass,methodSignature);
      return resolveResult.getSubstitutor().substitute(returnType);
    }
  }
  return null;
}
