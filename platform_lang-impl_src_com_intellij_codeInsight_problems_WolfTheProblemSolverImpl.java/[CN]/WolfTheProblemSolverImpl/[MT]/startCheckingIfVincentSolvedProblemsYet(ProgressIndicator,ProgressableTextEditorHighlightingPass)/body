{
  if (!myProject.isOpen())   return;
  List<VirtualFile> files;
synchronized (myCheckingQueue) {
    files=new ArrayList<VirtualFile>(myCheckingQueue);
  }
  long progressLimit=0;
  for (  VirtualFile file : files) {
    if (file.isValid())     progressLimit+=file.getLength();
  }
  pass.setProgressLimit(progressLimit);
  for (  final VirtualFile virtualFile : files) {
    progress.checkCanceled();
    if (virtualFile == null)     break;
    if (!virtualFile.isValid() || orderVincentToCleanTheCar(virtualFile,progress)) {
      doRemove(virtualFile);
    }
    if (virtualFile.isValid())     pass.advanceProgress(virtualFile.getLength());
  }
}
