{
  CommonProcessors.CollectUniquesProcessor<String> processor=new CommonProcessors.CollectUniquesProcessor<String>();
  FileBasedIndex.getInstance().processAllKeys(KEY,processor,project);
  final Collection<String> results=new ArrayList<String>(processor.getResults());
  final GlobalSearchScope searchScope=GlobalSearchScope.projectScope(project);
  for (Iterator<String> iterator=results.iterator(); iterator.hasNext(); ) {
    final String id=iterator.next();
    final List<Set<String>> values=FileBasedIndex.getInstance().getValues(KEY,id,searchScope);
    if (!values.isEmpty()) {
      final Set<String> pathSet=values.get(0);
      if (pathSet != null) {
        continue;
      }
    }
    iterator.remove();
  }
  return results;
}
