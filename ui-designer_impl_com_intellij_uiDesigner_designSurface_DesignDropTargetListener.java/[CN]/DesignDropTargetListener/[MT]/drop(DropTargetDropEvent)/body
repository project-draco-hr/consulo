{
  DraggedComponentList dcl=DraggedComponentList.fromTransferable(dtde.getTransferable());
  if (dcl != null) {
    if (processDrop(dcl,dtde.getLocation(),dtde.getDropAction())) {
      myEditor.refreshAndSave(true);
    }
  }
 else {
    ComponentItem componentItem=SimpleTransferable.getData(dtde.getTransferable(),ComponentItem.class);
    if (componentItem != null) {
      new InsertComponentProcessor(myEditor).processComponentInsert(dtde.getLocation(),componentItem);
      ApplicationManager.getApplication().invokeLater(new Runnable(){
        public void run(){
          PaletteManager.getInstance(myEditor.getProject()).clearActiveItem();
        }
      }
);
    }
  }
  myEditor.repaintLayeredPane();
}
