{
  if (myPropertiesMap != null)   return;
  final ASTNode[] props=getPropertiesList().getChildren(PropertiesElementTypes.PROPERTIES);
  MultiMap<String,IProperty> propertiesMap=new MultiMap<String,IProperty>();
  List<IProperty> properties=new ArrayList<IProperty>(props.length);
  for (  final ASTNode prop : props) {
    final Property property=(Property)prop.getPsi();
    String key=property.getUnescapedKey();
    propertiesMap.putValue(key,property);
    properties.add(property);
  }
synchronized (lock) {
    if (myPropertiesMap != null)     return;
    myProperties=properties;
    myPropertiesMap=propertiesMap;
  }
}
