{
  final TreeElement copy=ChangeUtil.copyToElement(property);
  List<IProperty> properties=getProperties();
  ASTNode anchorBefore=anchor == null ? properties.isEmpty() ? null : properties.get(0).getPsiElement().getNode() : anchor.getNode().getTreeNext();
  if (anchorBefore != null) {
    if (anchorBefore.getElementType() == TokenType.WHITE_SPACE) {
      anchorBefore=anchorBefore.getTreeNext();
    }
  }
  if (anchorBefore == null && haveToAddNewLine()) {
    insertLineBreakBefore(null);
  }
  getPropertiesList().addChild(copy,anchorBefore);
  if (anchorBefore != null) {
    insertLineBreakBefore(anchorBefore);
  }
  return copy.getPsi();
}
