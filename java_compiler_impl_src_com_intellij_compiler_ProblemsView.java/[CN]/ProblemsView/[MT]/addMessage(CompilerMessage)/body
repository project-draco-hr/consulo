{
  final Navigatable navigatable=message.getNavigatable();
  final VirtualFile file=message.getVirtualFile();
  final CompilerMessageCategory category=message.getCategory();
  final int type=CompilerTask.translateCategory(category);
  final String[] text=convertMessage(message);
  if (navigatable != null) {
    final String groupName=file != null ? file.getPresentableUrl() : category.getPresentableText();
    addMessage(type,text,groupName,navigatable,message.getExportTextPrefix(),message.getRenderTextPrefix(),message.getVirtualFile());
  }
 else {
    addMessage(type,text,file,-1,-1,message.getVirtualFile());
  }
}
