{
  final NodeDescriptorImpl descriptor=node.getDescriptor();
  if (descriptor != null) {
    if (node.getParent() == null) {
      descriptor.myIsExpanded=true;
    }
    TreePath path=new TreePath(node.getPath());
    if (descriptor.myIsExpanded) {
      expandPath(path);
    }
    if (descriptor.myIsSelected) {
      addSelectionPath(path);
    }
  }
}
