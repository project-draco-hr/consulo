{
  ModuleRootLayerImpl moduleRootLayer=myLayers.get(name);
  if (moduleRootLayer != null) {
    return moduleRootLayer;
  }
  ModuleRootLayerImpl layer=new ModuleRootLayerImpl(null,this,myProjectRootManager);
  if (nameForCopy != null) {
    ModuleRootLayerImpl original=myLayers.get(nameForCopy);
    if (original != null) {
      original.copy(layer,false);
    }
  }
  myLayers.put(name,layer);
  if (activate) {
    setCurrentLayerSafe(name);
  }
  return layer;
}
