{
  for (  ModuleExtension<?> extension : myExtensions) {
    final Element state=extension.getState();
    if (state == null) {
      continue;
    }
    element.addContent(state);
  }
  for (  ContentEntry contentEntry : getContent()) {
    if (contentEntry instanceof ContentEntryImpl) {
      final Element subElement=new Element(ContentEntryImpl.ELEMENT_NAME);
      ((ContentEntryImpl)contentEntry).writeExternal(subElement);
      element.addContent(subElement);
    }
  }
  for (  OrderEntry orderEntry : getOrderEntries()) {
    if (orderEntry instanceof WritableOrderEntry) {
      try {
        ((WritableOrderEntry)orderEntry).writeExternal(element);
      }
 catch (      WriteExternalException e) {
        LOG.error("Failed to write order entry: " + orderEntry,e);
      }
    }
  }
}
