{
  ModuleRootLayerImpl remove=myLayers.remove(name);
  if (remove != null) {
    if (initDefault && myLayers.isEmpty()) {
      try {
        initDefaultLayer(null,myProjectRootManager);
      }
 catch (      InvalidDataException e) {
      }
    }
    if (Comparing.equal(myCurrentLayerName,name)) {
      setCurrentLayerSafe(myLayers.isEmpty() ? null : ContainerUtil.getFirstItem(myLayers.keySet()));
    }
  }
  return remove;
}
