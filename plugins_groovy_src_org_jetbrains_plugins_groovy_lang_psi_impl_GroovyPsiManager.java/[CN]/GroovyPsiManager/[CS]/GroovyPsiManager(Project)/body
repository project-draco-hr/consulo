{
  myProject=project;
  ((PsiManagerEx)PsiManager.getInstance(myProject)).registerRunnableToRunOnAnyChange(new Runnable(){
    public void run(){
      dropTypesCache();
    }
  }
);
  ((PsiManagerEx)PsiManager.getInstance(myProject)).registerRunnableToRunOnChange(new Runnable(){
    public void run(){
      myClassCache.clear();
    }
  }
);
  myProject.getMessageBus().connect().subscribe(ProjectTopics.PROJECT_ROOTS,new ModuleRootAdapter(){
    public void rootsChanged(    ModuleRootEvent event){
      dropTypesCache();
      myClassCache.clear();
    }
  }
);
}
