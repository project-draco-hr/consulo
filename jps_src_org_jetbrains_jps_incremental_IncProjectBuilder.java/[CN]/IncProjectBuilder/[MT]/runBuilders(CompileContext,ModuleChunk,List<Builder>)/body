{
  boolean nextPassRequired;
  do {
    nextPassRequired=false;
    for (    Builder builder : builders) {
      final String sourcesKind=context.isCompilingTests() ? " on test sources of " : " on production sources of ";
      context.processMessage(new ProgressMessage("Running " + builder.getDescription() + sourcesKind+ chunk.getName()));
      final Builder.ExitCode buildResult=builder.build(context,chunk);
      if (buildResult == Builder.ExitCode.ABORT) {
        throw new ProjectBuildException("Builder " + builder.getDescription() + " requested build stop");
      }
      if (buildResult == Builder.ExitCode.ADDITIONAL_PASS_REQUIRED) {
        nextPassRequired=true;
      }
    }
  }
 while (nextPassRequired);
}
