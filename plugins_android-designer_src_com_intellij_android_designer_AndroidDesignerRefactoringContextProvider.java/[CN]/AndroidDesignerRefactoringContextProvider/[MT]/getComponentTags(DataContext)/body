{
  final EditableArea area=EditableArea.DATA_KEY.getData(dataContext);
  if (area == null) {
    return XmlTag.EMPTY;
  }
  final List<RadComponent> selection=area.getSelection();
  if (selection.size() == 0) {
    return XmlTag.EMPTY;
  }
  final List<XmlTag> tags=new ArrayList<XmlTag>(selection.size());
  for (  RadComponent component : selection) {
    if (!(component instanceof RadViewComponent)) {
      return XmlTag.EMPTY;
    }
    final XmlTag tag=((RadViewComponent)component).getTag();
    if (tag == null || tag.equals(EmptyXmlTag.INSTANCE)) {
      return XmlTag.EMPTY;
    }
    tags.add(tag);
  }
  return tags.toArray(new XmlTag[tags.size()]);
}
