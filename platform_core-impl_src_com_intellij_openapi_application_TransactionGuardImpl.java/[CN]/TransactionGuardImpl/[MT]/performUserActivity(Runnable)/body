{
  ApplicationManager.getApplication().assertIsDispatchThread();
  AccessToken token=startActivity(true);
  try {
    activity.run();
  }
  finally {
    token.finish();
  }
}
