{
  final GlobalInspectionContextImpl context=getContext();
  if (!isDisposed() && context.getUIOptions().SHOW_DIFF_WITH_PREVIOUS_RUN) {
    if (myOldProblemElements != null) {
      final Set<CommonProblemDescriptor> allAvailable=new HashSet<CommonProblemDescriptor>();
      for (      CommonProblemDescriptor[] descriptors : myOldProblemElements.values()) {
        if (descriptors != null) {
          ContainerUtil.addAll(allAvailable,descriptors);
        }
      }
      final boolean old=containsDescriptor(descriptor,allAvailable);
      final boolean current=containsDescriptor(descriptor,getProblemToElements().keySet());
      return calcStatus(old,current);
    }
  }
  return FileStatus.NOT_CHANGED;
}
