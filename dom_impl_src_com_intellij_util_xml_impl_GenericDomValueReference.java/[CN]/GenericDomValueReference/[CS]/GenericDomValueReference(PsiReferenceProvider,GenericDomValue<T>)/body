{
  super(provider);
  myGenericValue=xmlValue;
  final XmlTag tag=xmlValue.getXmlTag();
  myValueElement=xmlValue instanceof GenericAttributeValue ? ((GenericAttributeValue)xmlValue).getXmlAttributeValue() : tag.getValue().getTextElements()[0];
  myContextElement=xmlValue instanceof GenericAttributeValue ? myValueElement : tag;
  final String text=myValueElement.getText();
  TextRange range=getTextRange(text);
  if (xmlValue instanceof GenericAttributeValue) {
    range=new TextRange(range.getStartOffset() + (text.startsWith("\"") ? 1 : 0),range.getEndOffset() - (text.endsWith("\"") ? 1 : 0));
  }
  myTextRange=range.shiftRight(myValueElement.getTextRange().getStartOffset() - myContextElement.getTextRange().getStartOffset());
}
