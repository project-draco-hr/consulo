{
  return new VcsContextFactory(){
    public VcsContext createCachedContextOn(    AnActionEvent event){
      return VcsContextWrapper.createCachedInstanceOn(event);
    }
    public VcsContext createContextOn(    final AnActionEvent event){
      return new VcsContextWrapper(event.getDataContext(),event.getModifiers(),event.getPlace());
    }
    public FilePath createFilePathOn(    @NotNull final VirtualFile virtualFile){
      return ApplicationManager.getApplication().runReadAction(new Computable<FilePath>(){
        public FilePath compute(){
          return new FilePathImpl(virtualFile);
        }
      }
);
    }
    public FilePath createFilePathOn(    final File file){
      return ApplicationManager.getApplication().runReadAction(new Computable<FilePath>(){
        public FilePath compute(){
          return FilePathImpl.create(file);
        }
      }
);
    }
    public FilePath createFilePathOn(    final File file,    final boolean isDirectory){
      return ApplicationManager.getApplication().runReadAction(new Computable<FilePath>(){
        public FilePath compute(){
          return FilePathImpl.create(file,isDirectory);
        }
      }
);
    }
    public FilePath createFilePathOnNonLocal(    final String path,    final boolean isDirectory){
      return FilePathImpl.createNonLocal(path,isDirectory);
    }
    public FilePath createFilePathOnDeleted(    final File file,    final boolean isDirectory){
      return ApplicationManager.getApplication().runReadAction(new Computable<FilePath>(){
        public FilePath compute(){
          return FilePathImpl.createForDeletedFile(file,isDirectory);
        }
      }
);
    }
    public FilePath createFilePathOn(    final VirtualFile parent,    final String name){
      return ApplicationManager.getApplication().runReadAction(new Computable<FilePath>(){
        public FilePath compute(){
          return new FilePathImpl(parent,name,false);
        }
      }
);
    }
    public LocalChangeList createLocalChangeList(    Project project,    @NotNull final String name){
      return LocalChangeListImpl.createEmptyChangeListImpl(project,name);
    }
  }
;
}
