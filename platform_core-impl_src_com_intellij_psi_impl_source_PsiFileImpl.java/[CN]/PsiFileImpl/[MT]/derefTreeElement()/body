{
  final Object pointer=myTreeElementPointer;
  if (pointer instanceof FileElement) {
    return (FileElement)pointer;
  }
  if (pointer instanceof Reference) {
    FileElement treeElement=(FileElement)((Reference)pointer).get();
    if (treeElement != null)     return treeElement;
synchronized (PsiLock.LOCK) {
      if (myTreeElementPointer == pointer) {
        myTreeElementPointer=null;
      }
    }
  }
  return null;
}
