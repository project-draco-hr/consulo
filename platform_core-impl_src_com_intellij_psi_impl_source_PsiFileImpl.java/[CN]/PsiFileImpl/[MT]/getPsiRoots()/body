{
  final FileViewProvider viewProvider=getViewProvider();
  final Set<Language> languages=viewProvider.getLanguages();
  final PsiFile[] roots=new PsiFile[languages.size()];
  int i=0;
  for (  Language language : languages) {
    PsiFile psi=viewProvider.getPsi(language);
    if (psi == null) {
      LOG.error("PSI is null for " + language + "; in file: "+ this);
    }
    roots[i++]=psi;
  }
  if (roots.length > 1) {
    Arrays.sort(roots,FILE_BY_LANGUAGE_ID);
  }
  return roots;
}
