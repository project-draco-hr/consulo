{
  final ContextProvider contextProvider=o.getXPathContext();
  checkPrefixReferences(myHolder,o,contextProvider);
  if (o.getDeclaredType() == XPathType.UNKNOWN) {
    final PsiReference[] references=o.getReferences();
    for (    PsiReference reference : references) {
      if (reference instanceof XsltReferenceContributor.SchemaTypeReference) {
        if (!reference.isSoft() && reference.resolve() == null) {
          final String message=((EmptyResolveMessageProvider)reference).getUnresolvedMessagePattern();
          final Annotation annotation=myHolder.createErrorAnnotation(reference.getRangeInElement().shiftRight(o.getTextOffset()),message);
          annotation.setHighlightType(ProblemHighlightType.LIKE_UNKNOWN_SYMBOL);
        }
      }
    }
  }
  super.visitXPath2TypeElement(o);
}
