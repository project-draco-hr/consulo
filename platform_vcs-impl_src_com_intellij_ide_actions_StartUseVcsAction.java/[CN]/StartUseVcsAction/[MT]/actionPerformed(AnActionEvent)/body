{
  final VcsDataWrapper data=new VcsDataWrapper(e);
  final boolean enabled=data.enabled();
  if (!enabled) {
    return;
  }
  final StartUseVcsDialog dialog=new StartUseVcsDialog(data);
  dialog.show();
  if (dialog.getExitCode() == DialogWrapper.OK_EXIT_CODE) {
    final String vcsName=dialog.getVcs();
    if (vcsName.length() > 0) {
      final ProjectLevelVcsManager manager=data.getManager();
      manager.findVcsByName(vcsName).generalPreConfigurationStep();
      manager.setDirectoryMappings(Arrays.asList(new VcsDirectoryMapping("",vcsName)));
    }
  }
}
