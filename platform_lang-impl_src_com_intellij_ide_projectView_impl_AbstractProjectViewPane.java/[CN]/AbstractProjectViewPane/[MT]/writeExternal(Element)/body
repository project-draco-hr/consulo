{
  saveExpandedPaths();
  for (  String subId : myReadTreeState.keySet()) {
    TreeState treeState=myReadTreeState.get(subId);
    Element subPane=new Element(ELEMENT_SUBPANE);
    if (subId != null) {
      subPane.setAttribute(ATTRIBUTE_SUBID,subId);
    }
    treeState.writeExternal(subPane);
    element.addContent(subPane);
  }
  for (  ProjectViewPaneOptionProvider provider : ProjectViewPaneOptionProvider.EX_NAME.getExtensions()) {
    KeyWithDefaultValue key=provider.getKey();
    Object value=getUserData(key);
    String stringValue=provider.toString(value);
    if (stringValue != null) {
      JDOMExternalizerUtil.writeField(element,key.toString(),stringValue);
    }
  }
}
