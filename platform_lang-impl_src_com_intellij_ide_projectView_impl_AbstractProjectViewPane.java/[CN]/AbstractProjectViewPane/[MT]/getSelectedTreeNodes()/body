{
  TreePath[] paths=getSelectionPaths();
  if (paths == null)   return null;
  final List<TreeNode> result=new ArrayList<TreeNode>();
  for (  TreePath path : paths) {
    Object lastPathComponent=path.getLastPathComponent();
    if (lastPathComponent instanceof DefaultMutableTreeNode) {
      result.add((TreeNode)lastPathComponent);
    }
  }
  return result.toArray(new TreeNode[result.size()]);
}
