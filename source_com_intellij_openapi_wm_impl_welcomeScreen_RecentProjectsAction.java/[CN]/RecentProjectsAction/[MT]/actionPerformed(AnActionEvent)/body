{
  DefaultActionGroup group=new DefaultActionGroup();
  fillActions(null,group);
  final ListPopup popup=ActionListPopup.createListPopup(e.getPresentation().getText(),group,e.getDataContext(),true,true);
  Rectangle r;
  final int x;
  final int y;
  Component focusedComponent=e.getInputEvent().getComponent();
  if (focusedComponent != null) {
    r=focusedComponent.getBounds();
    r=SwingUtilities.convertRectangle(focusedComponent.getParent(),r,null);
    popup.getWindow().pack();
    x=r.x;
    y=r.y + r.height;
  }
 else {
    focusedComponent=WindowManagerEx.getInstanceEx().getFocusedComponent((Project)null);
    if (focusedComponent != null) {
      r=focusedComponent.getBounds();
    }
 else {
      r=WindowManagerEx.getInstanceEx().getScreenBounds();
    }
    x=r.x + r.width / 2;
    y=r.y + r.height / 2;
  }
  popup.show(x,y);
}
