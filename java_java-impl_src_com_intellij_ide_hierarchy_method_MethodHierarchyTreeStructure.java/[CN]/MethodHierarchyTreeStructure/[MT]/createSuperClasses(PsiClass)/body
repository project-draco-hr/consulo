{
  if (!aClass.isValid()) {
    return new ArrayList<PsiClass>();
  }
  final ArrayList<PsiClass> superClasses=new ArrayList<PsiClass>();
  while (!isJavaLangObject(aClass)) {
    final PsiClass aClass1=aClass;
    final PsiClass[] superTypes=aClass1.getSupers();
    PsiClass superType=null;
    for (    final PsiClass type : superTypes) {
      if (!type.isInterface() && !isJavaLangObject(type)) {
        superType=type;
        break;
      }
    }
    if (superType == null) {
      for (      final PsiClass type : superTypes) {
        if (!isJavaLangObject(type)) {
          superType=type;
          break;
        }
      }
    }
    if (superType == null)     break;
    if (superClasses.contains(superType))     break;
    superClasses.add(superType);
    aClass=superType;
  }
  return superClasses;
}
