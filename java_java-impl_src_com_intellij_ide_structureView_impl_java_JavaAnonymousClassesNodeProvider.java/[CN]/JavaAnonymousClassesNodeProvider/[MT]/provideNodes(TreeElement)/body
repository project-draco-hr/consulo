{
  if (node instanceof JavaClassTreeElement) {
    final PsiClass cls=((JavaClassTreeElement)node).getElement();
    for (    AnonymousElementProvider provider : Extensions.getExtensions(AnonymousElementProvider.EP_NAME)) {
      final PsiElement[] elements=provider.getAnonymousElements(cls);
      if (elements != null && elements.length > 0) {
        JavaAnonymousClassTreeElement[] result=new JavaAnonymousClassTreeElement[elements.length];
        for (int i=0; i < elements.length; i++) {
          result[i]=new JavaAnonymousClassTreeElement((PsiAnonymousClass)elements[i]);
        }
        return result;
      }
    }
  }
  return JavaAnonymousClassTreeElement.EMPTY_ARRAY;
}
