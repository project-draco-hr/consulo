{
  if (node instanceof JavaClassTreeElement) {
    final PsiClass cls=((JavaClassTreeElement)node).getElement();
    for (    AnonymousElementProvider provider : Extensions.getExtensions(AnonymousElementProvider.EP_NAME)) {
      final PsiElement[] elements=provider.getAnonymousElements(cls);
      if (elements != null && elements.length > 0) {
        List<JavaAnonymousClassTreeElement> result=new ArrayList<JavaAnonymousClassTreeElement>(elements.length);
        for (        PsiElement element : elements) {
          result.add(new JavaAnonymousClassTreeElement((PsiAnonymousClass)element,((JavaClassTreeElement)node).getParents()));
        }
        return result;
      }
    }
  }
  return Collections.emptyList();
}
