{
  final GridLayoutManager layout=new GridLayoutManager(2,2,new Insets(0,0,0,0),0,0);
  final JPanel panel=new JPanel(layout);
  final JButton button=new JButton();
  button.setPreferredSize(new Dimension(50,10));
  final JTextField field1=new JTextField();
  field1.setPreferredSize(new Dimension(50,10));
  final JTextField field2=new JTextField();
  panel.add(button,new GridConstraints(0,0,1,1,GridConstraints.ANCHOR_CENTER,GridConstraints.FILL_HORIZONTAL,GridConstraints.SIZEPOLICY_CAN_GROW,GridConstraints.SIZEPOLICY_FIXED,null,null,null));
  panel.add(field1,new GridConstraints(0,1,1,1,GridConstraints.ANCHOR_CENTER,GridConstraints.FILL_HORIZONTAL,GridConstraints.SIZEPOLICY_WANT_GROW,GridConstraints.SIZEPOLICY_FIXED,null,null,null));
  panel.add(field2,new GridConstraints(1,0,1,2,GridConstraints.ANCHOR_CENTER,GridConstraints.FILL_HORIZONTAL,GridConstraints.SIZEPOLICY_WANT_GROW,GridConstraints.SIZEPOLICY_FIXED,null,null,null));
  final Dimension preferredSize=panel.getPreferredSize();
  assertEquals(100,preferredSize.width);
  panel.setSize(new Dimension(500,panel.getHeight()));
  panel.doLayout();
  assertEquals(500,field2.getWidth());
  assertEquals(50,button.getWidth());
  assertEquals(450,field1.getWidth());
}
