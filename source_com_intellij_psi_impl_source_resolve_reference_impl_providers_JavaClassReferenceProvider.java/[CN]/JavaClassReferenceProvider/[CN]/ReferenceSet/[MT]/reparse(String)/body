{
  final List<JavaReference> referencesList=new ArrayList<JavaReference>();
  int currentDot=-1;
  int index=0;
  JavaReference currentContextRef;
  while (true) {
    final int nextDot=str.indexOf(SEPARATOR,currentDot + 1);
    final String subreferenceText=nextDot > 0 ? str.substring(currentDot + 1,nextDot) : str.substring(currentDot + 1);
    currentContextRef=new JavaReference(new TextRange(myStartInElement + currentDot + 1,myStartInElement + (nextDot > 0 ? nextDot : str.length())),index++,subreferenceText);
    referencesList.add(currentContextRef);
    if ((currentDot=nextDot) < 0)     break;
  }
  myReferences=referencesList.toArray(new JavaReference[referencesList.size()]);
}
