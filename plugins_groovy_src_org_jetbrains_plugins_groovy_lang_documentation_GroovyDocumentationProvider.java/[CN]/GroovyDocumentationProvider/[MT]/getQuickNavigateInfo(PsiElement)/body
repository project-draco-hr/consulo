{
  if (element instanceof GrVariable) {
    GrVariable variable=(GrVariable)element;
    StringBuffer buffer=new StringBuffer();
    final PsiType type=variable.getDeclaredType();
    if (type != null) {
      buffer.append(type.getCanonicalText());
    }
 else {
      buffer.append("def");
    }
    buffer.append(" ");
    buffer.append(variable.getName());
    return buffer.toString();
  }
 else   if (element instanceof GrReferenceExpression) {
    GrReferenceExpression refExpr=(GrReferenceExpression)element;
    StringBuffer buffer=new StringBuffer();
    PsiType type=null;
    if (refExpr.getParent() instanceof GrAssignmentExpression) {
      GrAssignmentExpression assignment=(GrAssignmentExpression)refExpr.getParent();
      if (refExpr.equals(assignment.getLValue())) {
        GrExpression rvalue=assignment.getRValue();
        if (rvalue != null) {
          type=rvalue.getType();
        }
      }
    }
    appendTypeString(buffer,type);
    buffer.append(" ");
    buffer.append(refExpr.getReferenceName());
    return buffer.toString();
  }
 else   if (element instanceof PsiMethod) {
    PsiMethod method=(PsiMethod)element;
    StringBuffer buffer=new StringBuffer();
    if (method instanceof DefaultGroovyMethod) {
      buffer.append("[GDK] ");
    }
    if (!method.isConstructor()) {
      appendTypeString(buffer,method.getReturnType());
      buffer.append(" ");
    }
    buffer.append(method.getName()).append(" ");
    buffer.append("(");
    PsiParameter[] parameters=method.getParameterList().getParameters();
    for (int i=0; i < parameters.length; i++) {
      PsiParameter parameter=parameters[i];
      if (i > 0)       buffer.append(", ");
      appendTypeString(buffer,parameter.getType());
      buffer.append(" ");
      buffer.append(parameter.getName());
    }
    buffer.append(")");
    return buffer.toString();
  }
  return null;
}
