{
  if (element instanceof GrVariable) {
    GrVariable variable=(GrVariable)element;
    StringBuffer buffer=new StringBuffer();
    final PsiType type=variable.getDeclaredType();
    appendTypeString(buffer,type);
    buffer.append(" ");
    buffer.append(variable.getName());
    return buffer.toString();
  }
 else   if (element instanceof GrReferenceExpression) {
    GrReferenceExpression refExpr=(GrReferenceExpression)element;
    StringBuffer buffer=new StringBuffer();
    PsiType type=null;
    if (refExpr.getParent() instanceof GrAssignmentExpression) {
      GrAssignmentExpression assignment=(GrAssignmentExpression)refExpr.getParent();
      if (refExpr.equals(assignment.getLValue())) {
        GrExpression rvalue=assignment.getRValue();
        if (rvalue != null) {
          type=rvalue.getType();
        }
      }
    }
    appendTypeString(buffer,type);
    buffer.append(" ");
    buffer.append(refExpr.getReferenceName());
    return buffer.toString();
  }
 else   if (element instanceof PsiMethod) {
    StringBuffer buffer=new StringBuffer();
    PsiMethod method=(PsiMethod)element;
    if (method instanceof GrGdkMethod) {
      buffer.append("[GDK] ");
    }
 else {
      PsiClass hisClass=method.getContainingClass();
      if (hisClass != null) {
        String qName=hisClass.getQualifiedName();
        if (qName != null) {
          buffer.append(qName).append("\n");
        }
      }
    }
    if (!method.isConstructor()) {
      appendTypeString(buffer,PsiUtil.getSmartReturnType(method));
      buffer.append(" ");
    }
    buffer.append(method.getName()).append(" ");
    buffer.append("(");
    PsiParameter[] parameters=method.getParameterList().getParameters();
    for (int i=0; i < parameters.length; i++) {
      PsiParameter parameter=parameters[i];
      if (i > 0)       buffer.append(", ");
      if (parameter instanceof GrParameter) {
        buffer.append(GroovyPresentationUtil.getParameterPresentation((GrParameter)parameter,PsiSubstitutor.EMPTY));
      }
 else {
        PsiType type=parameter.getType();
        appendTypeString(buffer,type);
        buffer.append(" ");
        buffer.append(parameter.getName());
      }
    }
    buffer.append(")");
    return buffer.toString();
  }
 else   if (element instanceof GrTypeDefinition) {
    return generateClassInfo((GrTypeDefinition)element);
  }
  return null;
}
