{
  PsiType inferredType=null;
  if (originalElement instanceof GrReferenceExpression) {
    inferredType=((GrReferenceExpression)originalElement).getType();
  }
 else   if (originalElement instanceof GrVariableDeclaration) {
    inferredType=variable.getTypeGroovy();
  }
  if (inferredType != null) {
    buffer.append("[inferred type] ");
    appendTypeString(buffer,inferredType,PsiSubstitutor.EMPTY);
  }
 else {
    buffer.append("[cannot infer type]");
  }
}
