{
  if (element instanceof GrVariable) {
    GrVariable variable=(GrVariable)element;
    StringBuilder buffer=new StringBuilder();
    if (element instanceof GrField) {
      final PsiClass parentClass=((GrField)element).getContainingClass();
      if (parentClass != null) {
        buffer.append(JavaDocUtil.getShortestClassName(parentClass,element));
        newLine(buffer);
      }
      generateModifiers(buffer,element);
    }
    final PsiType type=variable.getDeclaredType();
    appendTypeString(buffer,type);
    buffer.append(" ");
    buffer.append(variable.getName());
    newLine(buffer);
    PsiReference ref;
    while (originalElement != null && ((ref=originalElement.getReference()) == null || ref.resolve() == null)) {
      originalElement=originalElement.getParent();
    }
    appendInferredType(originalElement,buffer);
    return buffer.toString();
  }
 else   if (element instanceof GrReferenceExpression) {
    GrReferenceExpression refExpr=(GrReferenceExpression)element;
    StringBuilder buffer=new StringBuilder();
    PsiType type=null;
    if (refExpr.getParent() instanceof GrAssignmentExpression) {
      GrAssignmentExpression assignment=(GrAssignmentExpression)refExpr.getParent();
      if (refExpr.equals(assignment.getLValue())) {
        GrExpression rvalue=assignment.getRValue();
        if (rvalue != null) {
          type=rvalue.getType();
        }
      }
    }
    appendTypeString(buffer,type);
    buffer.append(" ");
    buffer.append(refExpr.getReferenceName());
    return buffer.toString();
  }
 else   if (element instanceof PsiMethod) {
    StringBuilder buffer=new StringBuilder();
    PsiMethod method=(PsiMethod)element;
    if (method instanceof GrGdkMethod) {
      buffer.append("[GDK] ");
    }
 else {
      PsiClass hisClass=method.getContainingClass();
      if (hisClass != null) {
        String qName=hisClass.getQualifiedName();
        if (qName != null) {
          buffer.append(qName).append("\n");
        }
      }
    }
    if (!method.isConstructor()) {
      appendTypeString(buffer,PsiUtil.getSmartReturnType(method));
      buffer.append(" ");
    }
    buffer.append(method.getName()).append(" ");
    buffer.append("(");
    PsiParameter[] parameters=method.getParameterList().getParameters();
    for (int i=0; i < parameters.length; i++) {
      PsiParameter parameter=parameters[i];
      if (i > 0)       buffer.append(", ");
      if (parameter instanceof GrParameter) {
        buffer.append(GroovyPresentationUtil.getParameterPresentation((GrParameter)parameter,PsiSubstitutor.EMPTY));
      }
 else {
        PsiType type=parameter.getType();
        appendTypeString(buffer,type);
        buffer.append(" ");
        buffer.append(parameter.getName());
      }
    }
    buffer.append(")");
    final PsiClassType[] referencedTypes=method.getThrowsList().getReferencedTypes();
    if (referencedTypes.length > 0) {
      buffer.append("\nthrows ");
      for (      PsiClassType referencedType : referencedTypes) {
        appendTypeString(buffer,referencedType);
        buffer.append(", ");
      }
      buffer.delete(buffer.length() - 2,buffer.length());
    }
    return buffer.toString();
  }
 else   if (element instanceof GrTypeDefinition) {
    return generateClassInfo((GrTypeDefinition)element);
  }
  return null;
}
