{
  this.template=template;
  if (exclude != null) {
    this.exclude=new HashSet<String>();
    for (int i=0; i < exclude.length; i++) {
      this.exclude.add(exclude[i]);
    }
  }
 else {
    this.exclude=EMPTY_SET;
  }
  if (idrefs != null) {
    this.idrefs=new HashSet<String>();
    for (int i=0; i < idrefs.length; i++) {
      this.idrefs.add(idrefs[i]);
    }
  }
 else {
    this.idrefs=EMPTY_SET;
  }
  if (mapping == null) {
    mapping=new Hashtable<String,String>();
  }
  this.mapping=mapping;
  reverse=new Hashtable<String,String>();
  Iterator<Map.Entry<String,String>> it=mapping.entrySet().iterator();
  while (it.hasNext()) {
    Map.Entry<String,String> e=it.next();
    reverse.put(e.getValue(),e.getKey());
  }
}
