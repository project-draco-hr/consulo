{
  myExpandedNodes.clear();
  final DefaultMutableTreeNode rootNode=(DefaultMutableTreeNode)tree.getModel().getRoot();
  Enumeration<TreePath> expanded=tree.getExpandedDescendants(new TreePath(rootNode.getPath()));
  if (expanded != null) {
    while (expanded.hasMoreElements()) {
      final TreePath treePath=expanded.nextElement();
      final InspectionConfigTreeNode node=(InspectionConfigTreeNode)treePath.getLastPathComponent();
      final Descriptor descriptor=node.getDesriptor();
      myExpandedNodes.add(getState(node,descriptor));
    }
  }
  setSelectionPaths(tree.getSelectionPaths());
}
