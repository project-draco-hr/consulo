{
  Set<ImportOptimizer> optimizers=new HashSet<ImportOptimizer>();
  for (  PsiFile psiFile : file.getViewProvider().getAllFiles()) {
    List<ImportOptimizer> langOptimizers=allForLanguage(psiFile.getLanguage());
    for (    ImportOptimizer optimizer : langOptimizers) {
      if (optimizer != null && optimizer.supports(psiFile)) {
        optimizers.add(optimizer);
        break;
      }
    }
  }
  return optimizers;
}
