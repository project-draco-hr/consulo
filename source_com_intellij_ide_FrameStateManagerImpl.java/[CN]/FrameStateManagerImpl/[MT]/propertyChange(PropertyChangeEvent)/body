{
  KeyboardFocusManager focusManager=(KeyboardFocusManager)e.getSource();
  Window activeWindow=focusManager.getActiveWindow();
  if (activeWindow != null) {
    mySyncAlarm.cancelAllRequests();
    if (myShouldSynchronize) {
      myShouldSynchronize=false;
      fireActivationEvent();
    }
    return;
  }
 else {
    mySyncAlarm.cancelAllRequests();
    mySyncAlarm.addRequest(new Runnable(){
      public void run(){
        myShouldSynchronize=true;
        fireDeactivationEvent();
      }
    }
,200,ModalityState.NON_MODAL);
  }
}
