{
  final StringBuilder builder=StringBuilderSpinAllocator.alloc();
  try {
    builder.append(parameter);
    StringUtil.escapeQuotes(builder);
    if (builder.length() == 0 || StringUtil.indexOf(builder,' ') >= 0 || StringUtil.indexOf(builder,'|') >= 0) {
      StringUtil.quote(builder);
    }
    return builder.toString();
  }
  finally {
    StringBuilderSpinAllocator.dispose(builder);
  }
}
