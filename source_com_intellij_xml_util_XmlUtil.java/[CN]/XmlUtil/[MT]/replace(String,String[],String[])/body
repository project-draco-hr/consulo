{
  final StringBuilder result=StringBuilderSpinAllocator.alloc();
  try {
    replace:     for (int i=0; i < text.length(); i++) {
      for (int j=0; j < from.length; j+=1) {
        String toReplace=from[j];
        String replaceWith=to[j];
        final int len=toReplace.length();
        if (text.regionMatches(i,toReplace,0,len)) {
          result.append(replaceWith);
          i+=len - 1;
          continue replace;
        }
      }
      result.append(text.charAt(i));
    }
    return result.toString();
  }
  finally {
    StringBuilderSpinAllocator.dispose(result);
  }
}
