{
  final Border border=c.getBorder();
  final GraphicsConfig config=GraphicsUtil.setupAAPainting(g);
  final boolean square=isSquare(c);
  if (c.isEnabled() && border != null) {
    final Insets ins=border.getBorderInsets(c);
    final int yOff=(ins.top + ins.bottom) / 4;
    if (!square) {
      if (myMouseEnterHandler.isMousePressed()) {
        g.setColor(ModernUIUtil.getActiveBorderColor());
      }
 else {
        if (ModernButtonBorderPainter.isDefaultButton(c)) {
          g.setColor(myMouseEnterHandler.isMouseEntered() ? ModernUIUtil.getSelectionBackground().brighter() : ModernUIUtil.getSelectionBackground());
        }
 else {
          g.setColor(getButtonColor1());
        }
      }
    }
    g.fillRect(square ? 2 : 4,yOff,c.getWidth() - 2 * 4,c.getHeight() - 2 * yOff);
  }
  config.restore();
  super.paint(g,c);
}
