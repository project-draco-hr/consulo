{
  PsiMethod psiMethod=(PsiMethod)refMethod.getElement();
  PsiManager psiManager=psiMethod.getManager();
  PsiJavaCodeReferenceElement[] refs=psiMethod.getThrowsList().getReferenceElements();
  for (int i=0; i < refs.length; i++) {
    PsiJavaCodeReferenceElement ref=refs[i];
    PsiType refType=psiManager.getElementFactory().createType(ref);
    if (exceptionType.isAssignableFrom(refType)) {
      refsToDelete.add(ref);
    }
  }
  for (Iterator<RefMethod> iterator=refMethod.getDerivedMethods().iterator(); iterator.hasNext(); ) {
    RefMethod refDerived=iterator.next();
    removeException(refDerived,exceptionType,refsToDelete);
  }
}
