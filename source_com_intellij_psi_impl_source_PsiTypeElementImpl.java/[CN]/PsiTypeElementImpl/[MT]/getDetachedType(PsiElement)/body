{
  PatchedSoftReference<PsiType> cached=myCachedDetachedType;
  PsiType type=cached == null ? null : cached.get();
  if (type != null)   return type;
  try {
    type=JavaPsiFacade.getInstance(getProject()).getElementFactory().createTypeFromText(getText(),context);
    myCachedDetachedType=new PatchedSoftReference<PsiType>(type);
  }
 catch (  IncorrectOperationException e) {
    return getType();
  }
  return type;
}
