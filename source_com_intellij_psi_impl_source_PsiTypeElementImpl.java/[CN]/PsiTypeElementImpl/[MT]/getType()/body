{
  if (myCachedType != null)   return myCachedType;
  if (firstChild.getTreeNext() == null && PRIMITIVE_TYPE_BIT_SET.isInSet(firstChild.getElementType())) {
    myCachedType=getManager().getElementFactory().createPrimitiveType(firstChild.getText());
  }
 else   if (firstChild.getElementType() == ElementType.TYPE) {
    PsiType componentType=((PsiTypeElement)SourceTreeToPsiMap.treeElementToPsi(firstChild)).getType();
    myCachedType=lastChild.getElementType() == ElementType.ELLIPSIS ? new PsiEllipsisType(componentType) : componentType.createArrayType();
  }
 else   if (firstChild.getElementType() == ElementType.JAVA_CODE_REFERENCE) {
    myCachedType=new PsiClassReferenceType(getReferenceElement());
  }
 else   if (firstChild.getElementType() == ElementType.QUEST) {
    PsiType temp=createWildcardType();
    myCachedType=temp;
  }
  return myCachedType;
}
