{
  final String text=String.valueOf(node);
  if (text != null) {
    return text;
  }
  if (node instanceof StructureViewComponent.StructureViewTreeElementWrapper) {
    final AccessToken token=ApplicationManager.getApplication().acquireReadActionLock();
    try {
      final ItemPresentation presentation=((StructureViewComponent.StructureViewTreeElementWrapper)node).getValue().getPresentation();
      return presentation.getPresentableText();
    }
  finally {
      token.finish();
    }
  }
  return null;
}
