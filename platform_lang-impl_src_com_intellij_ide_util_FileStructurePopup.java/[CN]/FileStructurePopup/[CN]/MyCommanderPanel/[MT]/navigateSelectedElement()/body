{
  final Ref<Boolean> succeeded=new Ref<Boolean>();
  final CommandProcessor commandProcessor=CommandProcessor.getInstance();
  commandProcessor.executeCommand(myProject,new Runnable(){
    public void run(){
      succeeded.set(MyCommanderPanel.super.navigateSelectedElement());
      IdeDocumentHistory.getInstance(myProject).includeCurrentCommandAsNavigation();
    }
  }
,"Navigate",null);
  if (succeeded.get()) {
    myPopup.cancel();
  }
  return succeeded.get();
}
