{
  final PomModel model=myProject.getModel();
  final TreeAspect aspect=model.getModelAspect(TreeAspect.class);
  try {
    model.runTransaction(new PomTransactionBase(SourceTreeToPsiMap.treeElementToPsi(myASTNode)){
      public PomModelEvent runInner(){
        final FileElement fileElement=getFileElement(myASTNode);
        action.run();
        TreeUtil.clearCaches(fileElement);
        return null;
      }
      private FileElement getFileElement(      final ASTNode element){
        return (FileElement)SourceTreeToPsiMap.psiElementToTree(SourceTreeToPsiMap.treeElementToPsi(element).getContainingFile());
      }
    }
,aspect);
  }
 catch (  IncorrectOperationException e) {
    throw e;
  }
}
