{
  if (myUseAllTrees) {
    final PsiElement psiElement=myASTNode.getPsi().findElementAt(offset);
    if (psiElement == null)     return null;
    return psiElement.getNode();
  }
 else {
    final ASTNode result=myASTNode.findLeafElementAt(offset);
    if (result == null)     return null;
    if (result.getTextRange().getStartOffset() != offset && result.getElementType() == JspElementType.HOLDER_TEMPLATE_DATA) {
      return null;
    }
    return result;
  }
}
