{
  mySettings=settings;
  myFile=file;
  myASTNode=SourceTreeToPsiMap.psiElementToTree(myFile);
  myProject=myFile.getProject();
  myWasPhysical=myFile.isPhysical();
  if (!myWasPhysical) {
  }
  final Document document=PsiDocumentManager.getInstance(myProject).getDocument(myFile);
  if (document != null && document.getText().equals(myFile.getText())) {
    myDocument=document;
  }
 else {
    myDocument=new DocumentImpl(myFile.getText());
  }
}
