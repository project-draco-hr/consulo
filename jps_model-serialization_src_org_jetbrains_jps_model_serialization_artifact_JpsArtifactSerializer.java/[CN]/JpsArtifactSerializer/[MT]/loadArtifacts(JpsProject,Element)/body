{
  JpsArtifactService service=JpsArtifactService.getInstance();
  for (  Element artifactElement : JDOMUtil.getChildren(componentElement,"artifact")) {
    ArtifactState state=XmlSerializer.deserialize(artifactElement,ArtifactState.class);
    if (state == null)     continue;
    JpsArtifactType artifactType=getTypeSerializer(state.getArtifactType()).getType();
    JpsPackagingElement rootElement=loadPackagingElement(state.getRootElement());
    if (rootElement != null) {
      JpsArtifact artifact=service.addArtifact(project,state.getName(),(JpsCompositePackagingElement)rootElement,artifactType);
      artifact.setBuildOnMake(state.isBuildOnMake());
      artifact.setOutputPath(state.getOutputPath());
    }
  }
}
