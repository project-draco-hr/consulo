{
  if (!model.isGlobal() && !editor.getSelectionModel().hasSelection()) {
    model.setGlobal(true);
  }
  model.setFromCursor(false);
  if (model.isReplaceState()) {
    model.setPromptOnReplace(true);
    model.setReplaceAll(false);
    replace(project,editor,offset,model);
    return true;
  }
 else {
    doSearch(project,editor,offset,true,model,true);
    return false;
  }
}
