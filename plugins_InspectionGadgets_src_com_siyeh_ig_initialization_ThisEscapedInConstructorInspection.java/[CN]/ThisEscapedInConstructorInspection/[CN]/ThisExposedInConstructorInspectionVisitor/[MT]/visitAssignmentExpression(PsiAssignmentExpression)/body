{
  super.visitAssignmentExpression(assignment);
  if (!WellFormednessUtils.isWellFormed(assignment)) {
    return;
  }
  final boolean isInInitialization=checkForInitialization(assignment);
  if (!isInInitialization) {
    return;
  }
  final PsiExpression psiExpression=getLastRightExpression(assignment);
  if (psiExpression == null || !(psiExpression instanceof PsiThisExpression)) {
    return;
  }
  final PsiThisExpression thisExpression=(PsiThisExpression)psiExpression;
  final PsiExpression lExpression=assignment.getLExpression();
  if (!(lExpression instanceof PsiReferenceExpression)) {
    return;
  }
  final PsiReferenceExpression leftExpression=(PsiReferenceExpression)lExpression;
  if (!(leftExpression.resolve() instanceof PsiField)) {
    return;
  }
  final PsiField field=(PsiField)leftExpression.resolve();
  if (field == null) {
    return;
  }
  if (field.getContainingFile().equals(assignment.getContainingFile())) {
    return;
  }
  final PsiClass cls=ClassUtils.getContainingClass(assignment);
  if (cls == null) {
    return;
  }
  if (cls.isInheritor(field.getContainingClass(),true)) {
    return;
  }
  registerError(thisExpression);
}
