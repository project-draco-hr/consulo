{
  return ApplicationManager.getApplication().runReadAction(new Computable<VcsDirtyScopeManager>(){
    public VcsDirtyScopeManager compute(){
      if (project.isDisposed())       throw new ProcessCanceledException();
      return project.getComponent(VcsDirtyScopeManager.class);
    }
  }
);
}
