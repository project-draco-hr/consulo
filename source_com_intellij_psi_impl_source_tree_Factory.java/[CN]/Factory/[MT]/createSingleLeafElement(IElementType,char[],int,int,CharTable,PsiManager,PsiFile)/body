{
  final LeafElement newElement;
  final DummyHolder dummyHolder=new DummyHolder(manager,table,type.getLanguage());
  dummyHolder.setOriginalFile(originalFile);
  dummyHolder.putUserData(PsiUtil.FILE_LANGUAGE_LEVEL_KEY,PsiUtil.getLanguageLevel(originalFile));
  final FileElement holderElement=dummyHolder.getTreeElement();
  newElement=Factory.createLeafElement(type,buffer,startOffset,endOffset,-1,holderElement.getCharTable());
  TreeUtil.addChildren(holderElement,newElement);
  CodeEditUtil.setNodeGenerated(newElement,true);
  return newElement;
}
