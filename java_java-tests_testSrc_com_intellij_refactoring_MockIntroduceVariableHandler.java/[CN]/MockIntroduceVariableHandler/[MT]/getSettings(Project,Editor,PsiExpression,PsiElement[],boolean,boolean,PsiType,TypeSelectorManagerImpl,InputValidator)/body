{
  Assert.assertTrue(type.getCanonicalText(),type.equalsToText(myExpectedTypeCanonicalName));
  IntroduceVariableSettings introduceVariableSettings=new IntroduceVariableSettings(){
    public String getEnteredName(){
      return myName;
    }
    public boolean isReplaceAllOccurrences(){
      return myReplaceAll && occurrences.length > 1;
    }
    public boolean isDeclareFinal(){
      return myDeclareFinal || isReplaceAllOccurrences() && declareFinalIfAll;
    }
    public boolean isReplaceLValues(){
      return myReplaceLValues;
    }
    public PsiType getSelectedType(){
      return type;
    }
    public boolean isOK(){
      return true;
    }
  }
;
  final boolean validationResult=validator.isOK(introduceVariableSettings);
  assertValidationResult(validationResult);
  return introduceVariableSettings;
}
