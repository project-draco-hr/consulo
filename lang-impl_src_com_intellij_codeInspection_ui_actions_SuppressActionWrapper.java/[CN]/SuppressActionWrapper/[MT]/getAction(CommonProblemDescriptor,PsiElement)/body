{
  if (descriptor instanceof ProblemDescriptor) {
    if (myTool instanceof LocalInspectionToolWrapper) {
      final LocalInspectionToolWrapper wrapper=(LocalInspectionToolWrapper)myTool;
      final LocalInspectionTool localTool=wrapper.getTool();
      if (localTool instanceof CustomSuppressableInspectionTool) {
        final IntentionAction[] customActions=((CustomSuppressableInspectionTool)localTool).getSuppressActions(context);
        if (customActions != null && customActions.length > 0)         return customActions[0];
      }
    }
  }
  if (SuppressManager.getInstance().canHave15Suppressions(context.getContainingFile())) {
    if (!(context instanceof PsiDocCommentOwner && SuppressManager.getInstance().alreadyHas14Suppressions((PsiDocCommentOwner)context))) {
      return myClassToSuppress ? new AddSuppressWarningsAnnotationFix(myID,context){
        @Nullable protected PsiModifierListOwner getContainer(){
          return (PsiModifierListOwner)getParentClass(super.getContainer());
        }
      }
 : new AddSuppressWarningsAnnotationFix(myID,context);
    }
  }
  return myClassToSuppress ? new AddNoInspectionDocTagFix(myID,context){
    @Nullable protected PsiDocCommentOwner getContainer(){
      return (PsiDocCommentOwner)getParentClass(super.getContainer());
    }
  }
 : new AddNoInspectionDocTagFix(myID,context);
}
