{
  RefElement refElement=null;
  CommonProblemDescriptor descriptor=null;
  if (node instanceof RefElementNode) {
    final RefElementNode elementNode=(RefElementNode)node;
    final RefEntity element=elementNode.getElement();
    refElement=element instanceof RefElement ? (RefElement)element : null;
    descriptor=elementNode.getProblem();
  }
 else   if (node instanceof ProblemDescriptionNode) {
    final ProblemDescriptionNode descriptionNode=(ProblemDescriptionNode)node;
    final RefEntity element=descriptionNode.getElement();
    refElement=element instanceof RefElement ? (RefElement)element : null;
    descriptor=descriptionNode.getDescriptor();
  }
  PsiElement element=descriptor instanceof ProblemDescriptor ? ((ProblemDescriptor)descriptor).getPsiElement() : refElement != null ? refElement.getElement() : null;
  return Pair.create(element,descriptor);
}
