{
  int endOffset=-1;
  Instruction[] instructions=controlFlow.getInstructions();
  for (int i=0; i < instructions.length; i++) {
    Instruction instruction=instructions[i];
    if (controlFlow.getElement(i) != ifStatement)     continue;
    if (instruction instanceof GoToInstruction) {
      GoToInstruction goToInstruction=(GoToInstruction)instruction;
      if (goToInstruction.role != ControlFlow.JUMP_ROLE_GOTO_END)       continue;
      endOffset=goToInstruction.offset;
      break;
    }
 else     if (instruction instanceof ConditionalGoToInstruction) {
      ConditionalGoToInstruction goToInstruction=(ConditionalGoToInstruction)instruction;
      if (goToInstruction.role != ControlFlow.JUMP_ROLE_GOTO_END)       continue;
      endOffset=goToInstruction.offset;
      break;
    }
  }
  int length=instructions.length;
  while (endOffset < length && instructions[endOffset] instanceof GoToInstruction && !((GoToInstruction)instructions[endOffset]).isReturn) {
    endOffset=((GoToInstruction)instructions[endOffset]).offset;
  }
  return endOffset;
}
