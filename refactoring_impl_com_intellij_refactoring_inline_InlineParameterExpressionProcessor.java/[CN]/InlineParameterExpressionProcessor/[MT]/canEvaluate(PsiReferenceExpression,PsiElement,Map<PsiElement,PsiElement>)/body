{
  if (element instanceof PsiLocalVariable) {
    final PsiLocalVariable localVariable=(PsiLocalVariable)element;
    final PsiElement localReplacement=myLocalReplacements.get(localVariable);
    if (localReplacement != null) {
      elementsToReplace.put(expression,localReplacement);
      return true;
    }
  }
 else   if (element instanceof PsiMethod || element instanceof PsiField) {
    return mySameClass || ((PsiModifierListOwner)element).hasModifierProperty(PsiModifier.STATIC);
  }
 else   if (element instanceof PsiClass) {
    return true;
  }
  return false;
}
