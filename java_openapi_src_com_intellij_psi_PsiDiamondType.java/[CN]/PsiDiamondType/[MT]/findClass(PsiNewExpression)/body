{
  final PsiJavaCodeReferenceElement classReference=newExpression.getClassOrAnonymousClassReference();
  if (classReference != null) {
    final String text=classReference.getReferenceName();
    if (text != null) {
      final Project project=newExpression.getProject();
      final JavaPsiFacade facade=JavaPsiFacade.getInstance(project);
      final PsiResolveHelper resolveHelper=facade.getResolveHelper();
      final PsiElement qualifierElement=classReference.getQualifier();
      final String qualifier=qualifierElement != null ? qualifierElement.getText() : "";
      return resolveHelper.resolveReferencedClass(StringUtil.getQualifiedName(qualifier,text),newExpression);
    }
 else {
      return null;
    }
  }
  return null;
}
