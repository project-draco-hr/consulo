{
  final JavaPsiFacade facade=JavaPsiFacade.getInstance(staticFactoryMethod.getProject());
  final PsiResolveHelper resolveHelper=facade.getResolveHelper();
  final PsiParameter[] parameters=staticFactoryMethod.getParameterList().getParameters();
  final PsiExpressionList argumentList=expression.getArgumentList();
  final PsiExpression[] expressions=argumentList.getExpressions();
  return resolveHelper.inferTypeArguments(staticFactoryMethod.getTypeParameters(),parameters,expressions,PsiSubstitutor.EMPTY,expression,false);
}
