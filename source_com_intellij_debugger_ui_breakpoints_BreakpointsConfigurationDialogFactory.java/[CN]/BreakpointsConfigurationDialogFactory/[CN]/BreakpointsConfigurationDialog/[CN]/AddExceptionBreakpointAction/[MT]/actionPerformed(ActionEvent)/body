{
  final PsiClass throwableClass=PsiManager.getInstance(myProject).findClass("java.lang.Throwable",GlobalSearchScope.allScope(myProject));
  TreeClassChooserDialog chooser=new TreeClassChooserDialog("Enter Exception Class",myProject,GlobalSearchScope.allScope(myProject),new TreeClassChooserDialog.InheritanceClassFilter(throwableClass,true,true),null);
  chooser.show();
  PsiClass selectedClass=chooser.getSelectedClass();
  String qName=(selectedClass != null) ? selectedClass.getQualifiedName() : null;
  if (qName != null && qName.length() > 0) {
    ExceptionBreakpoint breakpoint=getBreakpointManager().addExceptionBreakpoint(qName);
    myExceptionBreakpointsPanel.addBreakpoint(breakpoint);
  }
  myExceptionBreakpointsPanel.getTable().requestFocus();
  updateTitles();
}
