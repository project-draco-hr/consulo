{
  final PsiFile f=file.getOriginalFile();
  if (!(f instanceof XmlFile)) {
    return false;
  }
  final XmlFile originalFile=(XmlFile)f;
  return ApplicationManager.getApplication().runReadAction(new Computable<Boolean>(){
    public Boolean compute(){
      if (isXmlResourceFile(originalFile) || ManifestDomFileDescription.isManifestFile(originalFile)) {
        return AndroidFacet.getInstance(originalFile) != null;
      }
      return false;
    }
  }
);
}
