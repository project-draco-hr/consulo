{
  if (checkElementContainsRange(statement)) {
    final SmartPsiElementPointer pointer=SmartPointerManager.getInstance(statement.getProject()).createSmartPsiElementPointer(statement);
    super.visitIfStatement(statement);
    statement=(PsiIfStatement)pointer.getElement();
    processStatement(statement,statement.getThenBranch(),mySettings.IF_BRACE_FORCE);
    final PsiStatement elseBranch=statement.getElseBranch();
    if (!(elseBranch instanceof PsiIfStatement) || !mySettings.SPECIAL_ELSE_IF_TREATMENT) {
      processStatement(statement,elseBranch,mySettings.IF_BRACE_FORCE);
    }
  }
}
