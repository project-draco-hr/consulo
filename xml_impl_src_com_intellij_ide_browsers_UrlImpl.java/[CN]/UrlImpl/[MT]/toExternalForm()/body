{
  if (raw == null) {
    try {
      String externalPath=path;
      boolean inLocalFileSystem=isInLocalFileSystem();
      if (inLocalFileSystem && SystemInfo.isWindows && externalPath.charAt(0) != '/') {
        externalPath='/' + externalPath;
      }
      raw=new URI(scheme,inLocalFileSystem ? "" : authority,externalPath,null,null).toASCIIString();
      if (parameters != null) {
        raw+=parameters;
      }
    }
 catch (    URISyntaxException e) {
      throw new RuntimeException(e);
    }
  }
  return raw;
}
