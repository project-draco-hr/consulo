{
  final PsiElementFactory elementFactory=JavaPsiFacade.getInstance(myPsiClass.getProject()).getElementFactory();
  final String methodName=PropertyUtil.suggestGetterName(myPropertyName,myType);
  final String typeName=myType.getCanonicalText();
  @NonNls final String text;
  if (createField) {
    final String fieldName=getFieldName();
    text="public " + typeName + " "+ methodName+ "() { return "+ fieldName+ "; }";
  }
 else {
    text="public " + typeName + " "+ methodName+ "() { return null; }";
  }
  final PsiMethod method=elementFactory.createMethodFromText(text,null);
  final PsiMethod psiElement=(PsiMethod)myPsiClass.add(method);
  if (!createField) {
    CreateFromUsageUtils.setupMethodBody(psiElement);
  }
  return psiElement;
}
