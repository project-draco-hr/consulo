{
  final PsiPackage aPackage=JavaDirectoryService.getInstance().getPackage(directory);
  if (aPackage != null) {
    return aPackage.getQualifiedName();
  }
 else {
    return directory.getVirtualFile().getPresentableUrl();
  }
}
