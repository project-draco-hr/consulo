{
  if (DataConstants.FILE_EDITOR.equals(dataId)) {
    return getSelectedEditor();
  }
 else   if (DataConstants.VIRTUAL_FILE.equals(dataId)) {
    return myFile.isValid() ? myFile : null;
  }
 else   if (DataConstants.VIRTUAL_FILE_ARRAY.equals(dataId)) {
    return myFile.isValid() ? new VirtualFile[]{myFile} : null;
  }
 else {
    JComponent component=getPreferredFocusedComponent();
    if (component instanceof DataProvider && component != this) {
      return ((DataProvider)component).getData(dataId);
    }
 else {
      return null;
    }
  }
}
