{
  JPanel component=new JPanel(new BorderLayout());
  JComponent comp=editor.getComponent();
  if (!FileEditorManagerImpl.isDumbAware(editor)) {
    comp=DumbService.getInstance(myFileEditorManager.getProject()).wrapGently(comp,editor);
  }
  component.add(comp,BorderLayout.CENTER);
  final JPanel topPanel=new JPanel();
  topPanel.setLayout(new BoxLayout(topPanel,BoxLayout.Y_AXIS));
  myTopComponents.put(editor,topPanel);
  component.add(topPanel,BorderLayout.NORTH);
  final JPanel bottomPanel=new JPanel();
  bottomPanel.setLayout(new BoxLayout(bottomPanel,BoxLayout.Y_AXIS));
  myBottomComponents.put(editor,bottomPanel);
  component.add(bottomPanel,BorderLayout.SOUTH);
  FileEditorInfoPane infoPane=new FileEditorInfoPane();
  myInfoPanes.put(editor,infoPane);
  addTopComponent(editor,infoPane);
  return component;
}
