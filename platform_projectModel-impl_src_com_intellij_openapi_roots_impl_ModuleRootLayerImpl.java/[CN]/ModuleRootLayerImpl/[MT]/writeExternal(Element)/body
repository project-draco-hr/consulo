{
  List<Element> moduleExtensionElements=new ArrayList<Element>();
  for (  ModuleExtension<?> extension : myExtensions) {
    final Element state=extension.getState();
    if (state == null) {
      continue;
    }
    moduleExtensionElements.add(state);
  }
  for (  Element unknownModuleExtension : myUnknownModuleExtensions) {
    moduleExtensionElements.add(unknownModuleExtension.clone());
  }
  Collections.sort(moduleExtensionElements,new Comparator<Element>(){
    @Override public int compare(    Element o1,    Element o2){
      return Comparing.compare(o1.getAttributeValue("id"),o2.getAttributeValue("id"));
    }
  }
);
  element.addContent(moduleExtensionElements);
  for (  ContentEntry contentEntry : getContent()) {
    if (contentEntry instanceof ContentEntryImpl) {
      final Element subElement=new Element(ContentEntryImpl.ELEMENT_NAME);
      ((ContentEntryImpl)contentEntry).writeExternal(subElement);
      element.addContent(subElement);
    }
  }
  for (  OrderEntry orderEntry : getOrderEntries()) {
    Element newElement=OrderEntryTypeProviders.storeOrderEntry(orderEntry);
    element.addContent(newElement);
  }
}
