{
  if (!MvcModuleStructureUtil.isEnabledStructureUpdate())   return;
  final VirtualFile root=findAppRoot(module);
  if (root == null)   return;
  AccessToken token=WriteAction.start();
  try {
    MvcModuleStructureUtil.updateModuleStructure(module,createProjectStructure(module,false),root);
    if (hasSupport(module)) {
      MvcModuleStructureUtil.updateAuxiliaryPluginsModuleRoots(module,getInstance());
      MvcModuleStructureUtil.updateGlobalPluginModule(module.getProject(),getInstance());
    }
  }
  finally {
    token.finish();
  }
  final Project project=module.getProject();
  ChangeListManager.getInstance(project).addFilesToIgnore(IgnoredBeanFactory.ignoreUnderDirectory(getUserHomeGriffon(),project));
}
