{
synchronized (lock) {
    if (dirty) {
      int start=0;
      int end=PAGE_SIZE;
      if (myWriteMask != null) {
        Range range=calcContinousRange(myWriteMask);
        if (range == null) {
          ensureRead();
        }
 else {
          start=range.start;
          end=range.end;
        }
        myWriteMask=null;
      }
      if (end - start > 0) {
        owner.flushPage(this,start,end);
      }
      dirty=false;
    }
  }
}
