{
  if (e.getFile() != null) {
    markFileAsDirty(e.getFile());
    updateTree(true);
    return;
  }
  PsiElement child=e.getChild();
  if (child instanceof PsiFile) {
    PsiFile psiFile=(PsiFile)child;
    markFileAsDirty(psiFile);
    updateTree(true);
  }
 else   if (child instanceof PsiDirectory) {
    PsiDirectory psiDirectory=(PsiDirectory)child;
    for (Iterator i=getAllFiles(); i.hasNext(); ) {
      PsiFile psiFile=(PsiFile)i.next();
      if (psiFile == null) {
        continue;
      }
      if (PsiTreeUtil.isAncestor(psiDirectory,psiFile,true)) {
        markFileAsDirty(psiFile);
      }
    }
    updateTree(true);
  }
}
