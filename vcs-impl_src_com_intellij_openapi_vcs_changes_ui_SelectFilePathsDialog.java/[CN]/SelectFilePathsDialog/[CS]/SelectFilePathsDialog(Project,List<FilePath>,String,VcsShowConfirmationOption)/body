{
  super(project,false,confirmationOption,prompt);
  myFileList=new ChangesTreeList<FilePath>(project,originalFiles,true,true){
    protected DefaultTreeModel buildTreeModel(    final List<FilePath> changes){
      return new TreeModelBuilder(project,false).buildModelFromFilePaths(changes);
    }
    protected List<FilePath> getSelectedObjects(    final ChangesBrowserNode node){
      return node.getAllFilePathsUnder();
    }
    @Nullable protected FilePath getLeadSelectedObject(    final ChangesBrowserNode node){
      final Object userObject=node.getUserObject();
      if (userObject instanceof FilePath) {
        return (FilePath)userObject;
      }
      return null;
    }
  }
;
  myFileList.setChangesToDisplay(originalFiles);
  myPanel.add(myFileList,BorderLayout.CENTER);
  init();
}
