{
  if (gravity == null) {
    for (    RadComponent component : components) {
      XmlTag tag=((RadViewComponent)component).getTag();
      ModelParser.deleteAttribute(tag,"layout_gravity");
      tag.setAttribute(horizontal ? "layout_height" : "layout_width",SdkConstants.NS_RESOURCES,"fill_parent");
    }
  }
 else {
    String gravityValue=horizontal ? Gravity.getValue(Gravity.center,gravity) : Gravity.getValue(gravity,Gravity.center);
    for (    RadComponent component : components) {
      XmlTag tag=((RadViewComponent)component).getTag();
      XmlAttribute attribute=tag.getAttribute(horizontal ? "layout_height" : "layout_width",SdkConstants.NS_RESOURCES);
      if (attribute != null && ("match_parent".equals(attribute.getValue()) || "fill_parent".equals(attribute.getValue()))) {
        attribute.setValue("wrap_content");
      }
      tag.setAttribute("layout_gravity",SdkConstants.NS_RESOURCES,gravityValue);
    }
  }
}
