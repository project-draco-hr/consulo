{
  if (text == null)   return null;
  final DummyHolder result=DummyHolderFactory.createHolder(context.getManager(),language,context);
  final FileElement holder=result.getTreeElement();
  final ParserDefinition parserDefinition=LanguageParserDefinitions.INSTANCE.forLanguage(language);
  if (parserDefinition == null) {
    throw new AssertionError("No parser definition for " + language);
  }
  final Project project=context.getProject();
  final Lexer lexer=parserDefinition.createLexer(project);
  final PsiBuilder builder=PsiBuilderFactory.getInstance().createBuilder(project,holder,lexer,language,text);
  final ASTNode node=parserDefinition.createParser(project).parse(type,builder);
  holder.rawAddChildren((TreeElement)node);
  markGenerated(result);
  return node.getPsi();
}
