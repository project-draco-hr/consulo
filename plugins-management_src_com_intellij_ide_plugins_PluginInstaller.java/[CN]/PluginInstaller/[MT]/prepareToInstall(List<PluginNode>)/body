{
  ProgressIndicator pi=ProgressManager.getInstance().getProgressIndicator();
  long total=0;
  for (  PluginNode pluginNode : plugins) {
    total+=Long.valueOf(pluginNode.getSize()).longValue();
  }
  long count=0;
  boolean result=false;
  for (  final PluginNode pluginNode : plugins) {
    if (pi != null)     pi.setText(pluginNode.getName());
    try {
      result|=prepareToInstall(pluginNode,true,count,total);
      count+=Integer.valueOf(pluginNode.getSize()).intValue();
    }
 catch (    final IOException e) {
      SwingUtilities.invokeLater(new Runnable(){
        public void run(){
          Messages.showErrorDialog(pluginNode.getName() + ": " + e.getMessage(),CommonBundle.message("title.error"));
        }
      }
);
    }
  }
  return result;
}
