{
  final int width=getWidth();
  final int height=getHeight();
  if (!isNull(myFirstComponent) && myFirstComponent.isVisible() && !isNull(mySecondComponent)&& mySecondComponent.isVisible()) {
    Rectangle firstRect=new Rectangle();
    Rectangle dividerRect=new Rectangle();
    Rectangle secondRect=new Rectangle();
    final int componentSize=getOrientation() ? height : width;
    int dividerWidth=getDividerWidth();
    int firstCompontSize;
    int secondComponentSize;
    if (componentSize <= dividerWidth) {
      firstCompontSize=0;
      secondComponentSize=0;
      dividerWidth=componentSize;
    }
 else {
      firstCompontSize=(int)(myProportion * (float)(componentSize - dividerWidth));
      secondComponentSize=getOrientation() ? height - firstCompontSize - dividerWidth : width - firstCompontSize - dividerWidth;
      if (isHonorMinimumSize()) {
        final int firstMinSize=getOrientation() ? myFirstComponent.getMinimumSize().height : myFirstComponent.getMinimumSize().width;
        final int secondMinSize=getOrientation() ? mySecondComponent.getMinimumSize().height : mySecondComponent.getMinimumSize().width;
        if (firstCompontSize + secondComponentSize <= firstMinSize + secondMinSize) {
          float propotion=firstMinSize / (firstMinSize + (float)secondMinSize);
          firstCompontSize=(int)(propotion * (float)(componentSize - dividerWidth));
          secondComponentSize=getOrientation() ? height - firstCompontSize - dividerWidth : width - firstCompontSize - dividerWidth;
        }
 else {
          if (firstCompontSize < firstMinSize) {
            if (secondComponentSize - (firstMinSize - firstCompontSize) > secondMinSize) {
              secondComponentSize=secondComponentSize - (firstMinSize - firstCompontSize);
            }
            firstCompontSize=firstMinSize;
          }
 else           if (secondComponentSize < secondMinSize) {
            firstCompontSize=firstCompontSize - (secondMinSize - secondComponentSize);
            secondComponentSize=secondMinSize;
          }
        }
      }
    }
    if (getOrientation()) {
      firstRect.setBounds(0,0,width,firstCompontSize);
      dividerRect.setBounds(0,firstCompontSize,width,dividerWidth);
      secondRect.setBounds(0,firstCompontSize + dividerWidth,width,secondComponentSize);
    }
 else {
      firstRect.setBounds(0,0,firstCompontSize,height);
      dividerRect.setBounds(firstCompontSize,0,dividerWidth,height);
      secondRect.setBounds(firstCompontSize + dividerWidth,0,secondComponentSize,height);
    }
    myDivider.setVisible(true);
    myFirstComponent.setBounds(firstRect);
    myDivider.setBounds(dividerRect);
    mySecondComponent.setBounds(secondRect);
    myFirstComponent.validate();
    mySecondComponent.validate();
  }
 else   if (!isNull(myFirstComponent) && myFirstComponent.isVisible()) {
    hideNull(mySecondComponent);
    myDivider.setVisible(false);
    myFirstComponent.setBounds(0,0,width,height);
    myFirstComponent.validate();
  }
 else   if (!isNull(mySecondComponent) && mySecondComponent.isVisible()) {
    hideNull(myFirstComponent);
    myDivider.setVisible(false);
    mySecondComponent.setBounds(0,0,width,height);
    mySecondComponent.validate();
  }
 else {
    myDivider.setVisible(false);
    if (myFirstComponent != null) {
      myFirstComponent.setBounds(0,0,0,0);
      myFirstComponent.validate();
    }
 else {
      hideNull(myFirstComponent);
    }
    if (mySecondComponent != null) {
      mySecondComponent.setBounds(0,0,0,0);
      mySecondComponent.validate();
    }
 else {
      hideNull(mySecondComponent);
    }
  }
  myDivider.doLayout();
}
