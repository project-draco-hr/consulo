{
  LOG.assertTrue(dir.isValid());
  VirtualFile[] vFiles=dir.getVirtualFile().getChildren();
  ArrayList<PsiClass> classes=new ArrayList<PsiClass>();
  final PsiManager psiManager=dir.getManager();
  for (  VirtualFile vFile : vFiles) {
    PsiFile file=psiManager.findFile(vFile);
    if (file instanceof PsiClassOwner) {
      classes.addAll(Arrays.asList(((PsiClassOwner)file).getClasses()));
    }
  }
  return classes.toArray(new PsiClass[classes.size()]);
}
