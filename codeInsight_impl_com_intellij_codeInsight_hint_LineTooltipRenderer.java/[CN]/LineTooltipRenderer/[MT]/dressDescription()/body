{
  boolean expanded=false;
  final String[] problems=getHtmlBody(myText).split(BORDER_LINE);
  myText="<html><body>";
  for (  String problem : problems) {
    final String descriptionPrefix=getDescriptionPrefix(problem);
    if (descriptionPrefix != null) {
      for (      final TooltipLinkHandlerEP handlerEP : Extensions.getExtensions(TooltipLinkHandlerEP.EP_NAME)) {
        final String description=handlerEP.getDescription(descriptionPrefix);
        if (description != null) {
          myText+=getHtmlBody(problem).replace(DaemonBundle.message("inspection.extended.description"),DaemonBundle.message("inspection.collapse.description")) + BORDER_LINE + getHtmlBody(description)+ BORDER_LINE;
          expanded=true;
          break;
        }
      }
    }
  }
  myText=StringUtil.trimEnd(myText,BORDER_LINE) + "</body></html>";
  return expanded;
}
