{
  PsiElement value=element;
  if (value instanceof PsiExpression) {
    value=PsiUtil.deparenthesizeExpression((PsiExpression)value);
  }
  if (value instanceof PsiLiteralExpression) {
    return ((PsiLiteralExpression)value).getValue() == null ? Nullness.NULLABLE : Nullness.NOT_NULL;
  }
  if (value instanceof PsiNewExpression)   return Nullness.NOT_NULL;
  if (value instanceof PsiThisExpression)   return Nullness.NOT_NULL;
  if (value instanceof PsiMethodCallExpression) {
    PsiMethod method=((PsiMethodCallExpression)value).resolveMethod();
    if (method != null && NullableNotNullManager.isNotNull(method))     return Nullness.NOT_NULL;
    if (method != null && NullableNotNullManager.isNullable(method))     return Nullness.NULLABLE;
  }
  if (value instanceof PsiPolyadicExpression && ((PsiPolyadicExpression)value).getOperationTokenType() == JavaTokenType.PLUS) {
    return Nullness.NOT_NULL;
  }
  PsiElement context=value;
  if (value instanceof PsiReference) {
    PsiElement resolved=((PsiReference)value).resolve();
    if (resolved instanceof PsiCompiledElement) {
      resolved=resolved.getNavigationElement();
    }
    value=resolved;
  }
  if (value instanceof PsiParameter && ((PsiParameter)value).getDeclarationScope() instanceof PsiCatchSection) {
    return Nullness.NOT_NULL;
  }
  if (value instanceof PsiLocalVariable || value instanceof PsiParameter) {
    Nullness result=DfaUtil.checkNullness((PsiVariable)value,context);
    if (result != Nullness.UNKNOWN) {
      return result;
    }
  }
  if (value instanceof PsiModifierListOwner) {
    if (NullableNotNullManager.isNotNull((PsiModifierListOwner)value))     return Nullness.NOT_NULL;
    if (NullableNotNullManager.isNullable((PsiModifierListOwner)value))     return Nullness.NULLABLE;
  }
  if (value instanceof PsiEnumConstant)   return Nullness.NOT_NULL;
  return Nullness.UNKNOWN;
}
