def release(self):
    if (self.held > 1):
        self.held -= 1
    elif (self.held == 1):
        self.held = 0
        if self.releasefn:
            self.releasefn()
        try:
            os.unlink(self.f)
        except OSError:
            pass
