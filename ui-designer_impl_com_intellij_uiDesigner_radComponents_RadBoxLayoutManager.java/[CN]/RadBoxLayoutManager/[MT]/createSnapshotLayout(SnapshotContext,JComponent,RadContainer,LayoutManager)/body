{
  int rowCount=1;
  int colCount=1;
  boolean hasFiller=false;
  if (parent.getComponentCount() > 1) {
    for (    Component component : parent.getComponents()) {
      if (component instanceof Box.Filler) {
        hasFiller=true;
      }
    }
    Rectangle bounds1=parent.getComponent(0).getBounds();
    Rectangle bounds2=parent.getComponent(1).getBounds();
    if (bounds2.x >= bounds1.x + bounds1.width) {
      colCount=parent.getComponentCount();
      if (!hasFiller)       colCount++;
      myHorizontal=true;
    }
 else {
      rowCount=parent.getComponentCount();
      if (!hasFiller)       rowCount++;
    }
  }
  container.setLayout(new GridLayoutManager(rowCount,colCount));
  if (!hasFiller) {
    if (myHorizontal) {
      container.addComponent(new RadHSpacer(context.newId(),colCount - 1));
    }
 else {
      container.addComponent(new RadVSpacer(context.newId(),rowCount - 1));
    }
  }
}
