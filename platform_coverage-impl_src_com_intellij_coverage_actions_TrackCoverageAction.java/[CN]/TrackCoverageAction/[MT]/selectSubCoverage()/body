{
  final CoverageDataManager coverageDataManager=CoverageDataManager.getInstance(myProperties.getProject());
  final CoverageSuitesBundle currentSuite=coverageDataManager.getCurrentSuitesBundle();
  if (currentSuite != null) {
    final AbstractTestProxy test=myModel.getTreeView().getSelectedTest();
    List<String> testMethods=new ArrayList<String>();
    if (test != null && !test.isInProgress()) {
      final List<? extends AbstractTestProxy> list=test.getAllTests();
      for (      AbstractTestProxy proxy : list) {
        final Location location=proxy.getLocation(myProperties.getProject(),myProperties.getScope());
        if (location != null) {
          final PsiElement element=location.getPsiElement();
          final String name=currentSuite.getCoverageEngine().getTestMethodName(element,proxy);
          if (name != null) {
            testMethods.add(name);
          }
        }
      }
    }
    coverageDataManager.selectSubCoverage(currentSuite,testMethods);
  }
}
