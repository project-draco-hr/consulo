{
  if (element instanceof PsiComment)   return null;
  PsiComment comment=null;
  PsiElement start=element;
  for (int i=0; i < 2 && start != null; i++) {
    if (start instanceof PsiFile)     return null;
    for (PsiElement e=start.getPrevSibling(); e != null; e=e.getPrevSibling()) {
      if (e instanceof PsiComment) {
        comment=(PsiComment)e;
        T value=processor.fun(comment);
        if (value != null)         return value;
 else         continue;
      }
 else       if (e instanceof PsiWhiteSpace)       continue;
 else       if (comment == null && e instanceof PsiLanguageInjectionHost) {
        if (StringUtil.isEmptyOrSpaces(e.getText()))         continue;
 else         return null;
      }
      break;
    }
    start=element.getParent();
  }
  return null;
}
