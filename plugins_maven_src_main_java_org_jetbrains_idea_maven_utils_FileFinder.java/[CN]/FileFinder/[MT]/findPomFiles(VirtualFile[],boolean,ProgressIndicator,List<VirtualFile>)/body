{
  for (  VirtualFile f : roots) {
    if (indicator.isCanceled())     break;
    indicator.setText2(f.getPath());
    if (f.isDirectory()) {
      if (lookForNested) {
        findPomFiles(f.getChildren(),lookForNested,indicator,result);
      }
    }
 else {
      if (f.getName().equalsIgnoreCase(MavenConstants.POM_XML)) {
        result.add(f);
      }
    }
  }
  return result;
}
