{
  final PsiDirectory directory=writableDirectoryList.get(0);
  final String canonicalText=getCanonicalText();
  if (createJavaClass) {
    try {
      JavaDirectoryService.getInstance().checkCreateClass(directory,canonicalText);
    }
 catch (    IncorrectOperationException ex) {
      return false;
    }
  }
 else {
    try {
      directory.checkCreateSubdirectory(canonicalText);
    }
 catch (    IncorrectOperationException ex) {
      return false;
    }
  }
  return true;
}
