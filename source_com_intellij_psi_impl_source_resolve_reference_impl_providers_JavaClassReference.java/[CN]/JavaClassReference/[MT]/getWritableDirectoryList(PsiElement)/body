{
  final List<PsiDirectory> writableDirectoryList=new ArrayList<PsiDirectory>();
  if (context instanceof PsiPackage) {
    for (    PsiDirectory directory : ((PsiPackage)context).getDirectories()) {
      if (directory.isWritable()) {
        writableDirectoryList.add(directory);
      }
    }
  }
 else   if (context == null) {
    PsiManager manager=getElement().getManager();
    for (    VirtualFile root : ProjectRootManager.getInstance(manager.getProject()).getContentSourceRoots()) {
      PsiDirectory directory=manager.findDirectory(root);
      if (directory != null && directory.isWritable()) {
        writableDirectoryList.add(directory);
      }
    }
  }
  return writableDirectoryList;
}
