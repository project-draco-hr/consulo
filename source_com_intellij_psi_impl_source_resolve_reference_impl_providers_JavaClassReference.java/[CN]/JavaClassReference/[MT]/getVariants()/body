{
  PsiElement context=getContext();
  if (context == null) {
    context=getElement().getManager().findPackage("");
  }
  if (context instanceof PsiPackage) {
    final String[] extendClasses=JavaClassReferenceProvider.EXTEND_CLASS_NAMES.getValue(getOptions());
    if (extendClasses != null) {
      return getSubclassVariants((PsiPackage)context,extendClasses);
    }
    return processPackage((PsiPackage)context);
  }
  if (context instanceof PsiClass) {
    final PsiClass aClass=(PsiClass)context;
    if (myInStaticImport) {
      return ArrayUtil.mergeArrays(aClass.getInnerClasses(),aClass.getFields(),Object.class);
    }
 else     if (isStaticClassReference()) {
      final PsiClass[] psiClasses=aClass.getInnerClasses();
      final List<PsiClass> staticClasses=new ArrayList<PsiClass>(psiClasses.length);
      for (      PsiClass c : psiClasses) {
        if (c.hasModifierProperty(PsiModifier.STATIC)) {
          staticClasses.add(c);
        }
      }
      return staticClasses.isEmpty() ? PsiClass.EMPTY_ARRAY : staticClasses.toArray(new PsiClass[staticClasses.size()]);
    }
  }
  return ArrayUtil.EMPTY_OBJECT_ARRAY;
}
