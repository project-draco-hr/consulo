{
  final ElementManipulator<PsiElement> manipulator=getManipulator(getElement());
  if (manipulator != null) {
    final PsiElement element=manipulator.handleContentChange(getElement(),getRangeInElement(),newElementName);
    myRange=new TextRange(getRangeInElement().getStartOffset(),getRangeInElement().getStartOffset() + newElementName.length());
    return element;
  }
  throw new IncorrectOperationException("Manipulator for this element is not defined: " + getElement());
}
