{
  final OrderEntry entry=myPanel.getSelectedEntry();
  if (!(entry instanceof LibraryOrderEntry))   return;
  final LibraryEx library=(LibraryEx)((LibraryOrderEntry)entry).getLibrary();
  if (library == null)   return;
  final Library copied=doCopy(library);
  if (copied == null)   return;
  myPanel.getRootModel().removeOrderEntry(entry);
  if (!isConvertingToModuleLibrary()) {
    myPanel.getRootModel().addLibraryEntry(copied);
  }
}
