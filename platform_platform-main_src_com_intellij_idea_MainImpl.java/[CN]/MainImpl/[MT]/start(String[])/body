{
  StartupUtil.isHeadless=Main.isHeadless(args);
  if (!StartupUtil.isHeadless) {
    AppUIUtil.updateFrameClass();
    AppUIUtil.updateWindowIcon(JOptionPane.getRootFrame());
    AppUIUtil.registerBundledFonts();
    UIUtil.initDefaultLAF();
    final boolean isNewConfigFolder=PathManager.ensureConfigFolderExists(true);
    if (isNewConfigFolder) {
      ConfigImportHelper.importConfigsTo(PathManager.getConfigPath());
    }
  }
  if (!StartupUtil.checkStartupPossible(args)) {
    System.exit(-1);
  }
  Logger.setFactory(LoggerFactory.getInstance());
  final Logger LOG=Logger.getInstance(LOG_CATEGORY);
  StartupUtil.startLogging(LOG);
  _main(args);
}
