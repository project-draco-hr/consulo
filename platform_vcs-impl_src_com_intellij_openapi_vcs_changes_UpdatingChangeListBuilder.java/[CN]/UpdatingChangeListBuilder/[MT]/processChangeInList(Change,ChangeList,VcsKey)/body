{
  if (ChangeListManagerImpl.DEBUG) {
    ChangeListManagerImpl.log("UpdatingChangeListBuilder.processChangeInList: change = [" + change + "], changeList = ["+ changeList+ "], vcsKey = ["+ vcsKey+ "]");
  }
  checkIfDisposed();
  LOG.debug("[processChangeInList-1] entering, cl name: " + ((changeList == null) ? null : changeList.getName()) + " change: "+ ChangesUtil.getFilePath(change).getPath());
  final String fileName=ChangesUtil.getFilePath(change).getName();
  if (FileTypeManager.getInstance().isFileIgnored(fileName)) {
    LOG.debug("[processChangeInList-1] file type ignored");
    return;
  }
  ApplicationManager.getApplication().runReadAction(new Runnable(){
    public void run(){
      if (ChangeListManagerImpl.isUnder(change,myScope)) {
        if (changeList != null) {
          LOG.debug("[processChangeInList-1] to add change to cl");
          myChangeListWorker.addChangeToList(changeList.getName(),change,vcsKey);
        }
 else {
          LOG.debug("[processChangeInList-1] to add to corresponding list");
          myChangeListWorker.addChangeToCorrespondingList(change,vcsKey);
        }
      }
 else {
        LOG.debug("[processChangeInList-1] not under scope");
      }
    }
  }
);
}
