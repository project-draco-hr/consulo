{
  if (conn == null)   throw new IllegalArgumentException("Cannot accept null argument!");
  this.conn=conn;
  this.debug=debug;
  if (debug != null)   debug.println("Opening session and starting SFTP subsystem.");
  sess=conn.openSession();
  sess.startSubSystem("sftp");
  is=sess.getStdout();
  os=new BufferedOutputStream(sess.getStdin(),2048);
  if ((is == null) || (os == null))   throw new IOException("There is a problem with the streams of the underlying channel.");
  init();
}
