{
  byte[] msglen=new byte[4];
  readBytes(msglen,0,4);
  int len=(((msglen[0] & 0xff) << 24) | ((msglen[1] & 0xff) << 16) | ((msglen[2] & 0xff) << 8)| (msglen[3] & 0xff));
  if ((len > maxlen) || (len <= 0))   throw new IOException("Illegal sftp packet len: " + len);
  byte[] msg=new byte[len];
  readBytes(msg,0,len);
  return msg;
}
