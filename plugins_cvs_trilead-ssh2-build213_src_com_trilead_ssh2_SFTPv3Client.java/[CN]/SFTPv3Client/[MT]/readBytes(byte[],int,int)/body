{
  while (len > 0) {
    int count=is.read(buff,pos,len);
    if (count < 0)     throw new IOException("Unexpected end of sftp stream.");
    if ((count == 0) || (count > len))     throw new IOException("Underlying stream implementation is bogus!");
    len-=count;
    pos+=count;
  }
}
