{
  byte[] resp=receiveMessage(34000);
  if (debug != null) {
    debug.println("Got REPLY.");
    debug.flush();
  }
  TypesReader tr=new TypesReader(resp);
  int t=tr.readByte();
  int rep_id=tr.readUINT32();
  if (rep_id != id)   throw new IOException("The server sent an invalid id field.");
  if (t != Packet.SSH_FXP_STATUS)   throw new IOException("The SFTP server sent an unexpected packet type (" + t + ")");
  int errorCode=tr.readUINT32();
  if (errorCode == ErrorCodes.SSH_FX_OK)   return;
  throw new SFTPException(tr.readString(),errorCode);
}
