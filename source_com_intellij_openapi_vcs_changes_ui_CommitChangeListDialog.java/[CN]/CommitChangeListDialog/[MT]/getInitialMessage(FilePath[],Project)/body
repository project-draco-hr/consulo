{
  if (filesToCheckin != null) {
    for (    FilePath virtualFile : filesToCheckin) {
      AbstractVcs activeVcs=VcsUtil.getVcsFor(project,virtualFile);
      if (activeVcs == null)       continue;
      CheckinEnvironment checkinEnvironment=activeVcs.getCheckinEnvironment();
      if (checkinEnvironment != null) {
        String defaultMessage=checkinEnvironment.getDefaultMessageFor(filesToCheckin);
        if (defaultMessage != null)         return defaultMessage;
      }
    }
  }
  VcsConfiguration config=VcsConfiguration.getInstance(project);
  return config.LAST_COMMIT_MESSAGE;
}
