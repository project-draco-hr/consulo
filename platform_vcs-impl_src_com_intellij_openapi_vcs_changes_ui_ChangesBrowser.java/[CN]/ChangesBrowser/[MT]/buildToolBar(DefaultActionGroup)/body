{
  myDiffAction=new ShowDiffAction(){
    @RequiredDispatchThread @Override public void update(    @NotNull AnActionEvent e){
      Change[] changes=e.getData(VcsDataKeys.CHANGES);
      e.getPresentation().setEnabled(canShowDiff(myProject,changes));
    }
    @RequiredDispatchThread @Override public void actionPerformed(    @NotNull AnActionEvent e){
      showDiff();
    }
  }
;
  myDiffAction.registerCustomShortcutSet(CommonShortcuts.getDiff(),myViewer);
  toolBarGroup.add(myDiffAction);
}
