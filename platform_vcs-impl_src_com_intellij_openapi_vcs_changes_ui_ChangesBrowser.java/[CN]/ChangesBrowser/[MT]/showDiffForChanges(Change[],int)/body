{
  final ShowDiffContext context=new ShowDiffContext(isInFrame() ? DiffDialogHints.FRAME : DiffDialogHints.MODAL);
  if (myAdditionalDiffActions == null) {
    context.addActions(createDiffActions());
  }
 else {
    context.addActions(myAdditionalDiffActions);
  }
  if (myDiffBottomComponent != null) {
    context.putChainContext(DiffUserDataKeysEx.BOTTOM_PANEL,myDiffBottomComponent);
  }
  updateDiffContext(context);
  ShowDiffAction.showDiffForChange(myProject,Arrays.asList(changesArray),indexInSelection,context);
}
