{
  Collection collection=myFQNameToSmartEntryPointRef.values();
  SmartRefElementPointer[] entries=(SmartRefElementPointer[])collection.toArray(new SmartRefElementPointer[collection.size()]);
  for (int i=0; i < entries.length; i++) {
    SmartRefElementPointer entry=entries[i];
    if (!entry.isPersistent()) {
      myFQNameToSmartEntryPointRef.remove(entry.getFQName());
      RefElement refElement=entry.getRefElement();
      if (refElement != null)       refElement.setEntry(false);
      entry.freeReference();
    }
  }
}
