{
  System.setProperty("is.popup.test","true");
  final JFrame jFrame=new JFrame();
  jFrame.setBounds(1200,10,100,100);
  Container pane=jFrame.getContentPane();
  pane.setLayout(new BorderLayout());
  pane.add(new JScrollPane(new JTree()),BorderLayout.CENTER);
  final JLabel label=new JLabel("Click me");
  pane.add(label,BorderLayout.NORTH);
  final String root="root";
  final AbstractTreeStructure s=new AbstractTreeStructure(){
    public Object[] getChildElements(    Object element){
      return new Object[0];
    }
    public Object getParentElement(    Object element){
      return null;
    }
    public Object getRootElement(){
      return root;
    }
    public void commit(){
    }
    public NodeDescriptor createDescriptor(    Object element,    NodeDescriptor parentDescriptor){
      return new NodeDescriptor(null,null){
        public Object getElement(){
          return root;
        }
        public boolean update(){
          return true;
        }
      }
;
    }
    public boolean hasSomethingToCommit(){
      return false;
    }
  }
;
  label.addMouseListener(new MouseAdapter(){
    public void mousePressed(    MouseEvent e){
      final BaseListPopupStep list=new BaseListPopupStep.Speedsearch("Title",new Object[]{"One","OneTwo","TwoOne","Two"}){
        public PopupStep onChosen(        Object selectedValue){
          return new BaseListPopupStep("Step",new Object[]{"One","Two","Three","Four"});
        }
        public boolean hasSubstep(        Object selectedValue){
          return true;
        }
        public boolean canBeHidden(        Object value){
          return value instanceof String;
        }
        public String getIndexedString(        Object value){
          return ((String)value).toString();
        }
      }
;
      new ListPopupImpl(list).showUnderneathOf(label);
    }
  }
);
  jFrame.show();
}
