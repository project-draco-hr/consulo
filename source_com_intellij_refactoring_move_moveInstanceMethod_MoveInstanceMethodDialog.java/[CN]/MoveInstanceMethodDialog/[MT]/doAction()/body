{
  final String parameterName;
  if (myOldClassParameterNameField.isEnabled()) {
    parameterName=myOldClassParameterNameField.getText().trim();
    if (!myMethod.getManager().getNameHelper().isIdentifier(parameterName)) {
      Messages.showErrorDialog(getProject(),"Please Enter a Valid name for Parameter",myRefactoringName);
      return;
    }
  }
 else {
    parameterName=null;
  }
  final PsiVariable targetVariable=(PsiVariable)myList.getSelectedValue();
  final MoveInstanceMethodProcessor processor=new MoveInstanceMethodProcessor(myMethod.getProject(),myMethod,targetVariable,myVisibilityPanel.getVisibility(),parameterName);
  if (!verifyTargetClass(processor.getTargetClass()))   return;
  invokeRefactoring(processor);
}
