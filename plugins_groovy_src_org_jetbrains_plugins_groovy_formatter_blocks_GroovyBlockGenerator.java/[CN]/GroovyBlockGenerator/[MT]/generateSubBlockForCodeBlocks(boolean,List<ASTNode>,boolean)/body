{
  calculateAlignments(children,classLevel);
  final ArrayList<Block> subBlocks=new ArrayList<Block>();
  if (indentLabelBlocks) {
    for (int i=0; i < children.size(); i++) {
      ASTNode childNode=children.get(i);
      if (childNode.getElementType() == LABELED_STATEMENT) {
        int j=i;
        do {
          i++;
        }
 while (i < children.size() && children.get(i).getElementType() != LABELED_STATEMENT && children.get(i).getElementType() != mRCURLY);
        subBlocks.add(new GrLabelBlock(childNode,children.subList(j,i),classLevel,getIndent(childNode),getChildWrap(childNode),myContext));
        i--;
      }
 else {
        subBlocks.add(new GroovyBlock(childNode,getIndent(childNode),getChildWrap(childNode),myContext));
      }
    }
  }
 else {
    for (    ASTNode childNode : children) {
      subBlocks.add(new GroovyBlock(childNode,getIndent(childNode),getChildWrap(childNode),myContext));
    }
  }
  return subBlocks;
}
