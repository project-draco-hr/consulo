{
  final AntConfigurationImpl antConfiguration=(AntConfigurationImpl)AntConfiguration.getInstance(myProject);
  ExecuteBeforeRunEvent event=antConfiguration.findExecuteBeforeRunEvent(runConfiguration);
  AntBuildTarget buildTarget=antConfiguration.getTargetForEvent(event);
  final TargetChooserDialog dlg=new TargetChooserDialog(myProject,buildTarget,antConfiguration);
  dlg.show();
  if (dlg.isOK()) {
    buildTarget=dlg.getSelectedTarget();
    if (event == null) {
      event=new ExecuteBeforeRunEvent(runConfiguration.getType(),runConfiguration.getName());
    }
    if (buildTarget != null) {
      antConfiguration.setTargetForEvent(buildTarget.getModel().getBuildFile(),buildTarget.getName(),event);
    }
 else {
      antConfiguration.clearTargetForEvent(event);
    }
  }
  final String targetName=buildTarget != null ? buildTarget.getName() : null;
  return getPresentableDescription(targetName);
}
