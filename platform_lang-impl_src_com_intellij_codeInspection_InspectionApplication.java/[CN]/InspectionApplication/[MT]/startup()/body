{
  if (myProjectPath == null) {
    logError("Project to inspect is not defined");
    printHelp();
  }
  if (myProfileName == null && myProfilePath == null && myStubProfile == null) {
    logError("Profile to inspect with is not defined");
    printHelp();
  }
  final ApplicationEx application=ApplicationManagerEx.getApplicationEx();
  application.runReadAction(new Runnable(){
    public void run(){
      try {
        final ApplicationInfoEx applicationInfo=(ApplicationInfoEx)ApplicationInfo.getInstance();
        logMessage(1,InspectionsBundle.message("inspection.application.starting.up",applicationInfo.getFullApplicationName()));
        application.doNotSave();
        logMessageLn(1,InspectionsBundle.message("inspection.done"));
        InspectionApplication.this.run();
      }
 catch (      Exception e) {
        LOG.error(e);
      }
 finally {
        if (myErrorCodeRequired)         application.exit(true);
      }
    }
  }
);
}
