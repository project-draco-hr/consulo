{
  Map<GradleTaskType,Set<GradleTaskId>> result=null;
  for (  RemoteGradleService service : myRemotes.values()) {
    final Map<GradleTaskType,Set<GradleTaskId>> tasks=service.getTasksInProgress();
    if (tasks.isEmpty()) {
      continue;
    }
    if (result == null) {
      result=new HashMap<GradleTaskType,Set<GradleTaskId>>();
    }
    for (    Map.Entry<GradleTaskType,Set<GradleTaskId>> entry : tasks.entrySet()) {
      Set<GradleTaskId> ids=result.get(entry.getKey());
      if (ids == null) {
        result.put(entry.getKey(),ids=new HashSet<GradleTaskId>());
      }
      ids.addAll(entry.getValue());
    }
  }
  if (result == null) {
    result=Collections.emptyMap();
  }
  return result;
}
