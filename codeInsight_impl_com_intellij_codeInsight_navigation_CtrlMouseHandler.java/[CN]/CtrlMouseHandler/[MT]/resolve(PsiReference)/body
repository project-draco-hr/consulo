{
  PsiElement resolvedElement;
  if (ref instanceof PsiPolyVariantReference) {
    final ResolveResult[] psiElements=((PsiPolyVariantReference)ref).multiResolve(false);
    resolvedElement=psiElements.length > 0 ? psiElements[0].getElement() : null;
  }
 else {
    resolvedElement=ref.resolve();
  }
  return resolvedElement;
}
