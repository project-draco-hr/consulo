{
  PsiElement resolvedElement=null;
  if (ref instanceof PsiPolyVariantReference) {
    final ResolveResult[] psiElements=((PsiPolyVariantReference)ref).multiResolve(false);
    if (psiElements.length > 0) {
      final ResolveResult resolveResult=psiElements[0];
      if (resolveResult != null) {
        resolvedElement=resolveResult.getElement();
      }
    }
  }
 else {
    resolvedElement=ref.resolve();
  }
  return resolvedElement;
}
