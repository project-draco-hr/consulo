{
  RunnerUtil.configureScriptSystemClassPath(params,module);
  params.setWorkingDirectory(getAbsoluteWorkDir());
  String gantHome=GantConfigUtils.getInstance().getSDKInstallPath(module);
  params.getVMParametersList().addParametersString("-Dant.home=" + antHome);
  params.getVMParametersList().addParametersString("-Dgant.home=" + "\"" + gantHome + "\"");
  params.getVMParametersList().addParametersString("-Dscript.name=" + "\"" + gantHome + File.separator+ "bin"+ File.separator+ "gant"+ "\"");
  params.getVMParametersList().addParametersString("-Dprogram.name=" + "gant");
  params.getVMParametersList().add(GroovyScriptRunConfiguration.DGROOVY_STARTER_CONF + confpath);
  params.getVMParametersList().add(GroovyScriptRunConfiguration.DGROOVY_HOME + LibrariesUtil.getGroovyHomePath(module));
  Sdk jdk=params.getJdk();
  if (jdk != null && jdk.getSdkType() instanceof JavaSdkType) {
    String toolsPath=((JavaSdkType)jdk.getSdkType()).getToolsPath(jdk);
    if (toolsPath != null) {
      params.getVMParametersList().add(GroovyScriptRunConfiguration.DTOOLS_JAR + toolsPath);
    }
  }
  params.getVMParametersList().addParametersString(vmParams);
  params.setMainClass(GANT_STARTER);
}
