{
  RunnerUtil.configureScriptSystemClassPath(params,module);
  params.setWorkingDirectory(getAbsoluteWorkDir());
  String gantHome=GantConfigUtils.getInstance().getSDKInstallPath(module);
  final String confpath=gantHome + GANT_STARTER_CONF;
  params.getVMParametersList().addParametersString("-Dant.home=" + antHome);
  params.getVMParametersList().addParametersString(DGANT_HOME + "\"" + gantHome+ "\"");
  params.getVMParametersList().addParametersString(DSCRIPT_NAME + "\"" + gantHome+ File.separator+ "bin"+ File.separator+ "gant"+ "\"");
  params.getVMParametersList().addParametersString(DPROGRAM_NAME + "gant");
  params.getVMParametersList().add(DGROOVY_STARTER_CONF + confpath);
  final String path=GroovyConfigUtils.getInstance().getSDKInstallPath(module);
  params.getVMParametersList().add(DGROOVY_HOME + (path.length() == 0 ? GrailsConfigUtils.getInstance().getSDKInstallPath(module) : path));
  Sdk jdk=params.getJdk();
  if (jdk != null && jdk.getSdkType() instanceof JavaSdkType) {
    String toolsPath=((JavaSdkType)jdk.getSdkType()).getToolsPath(jdk);
    if (toolsPath != null) {
      params.getVMParametersList().add(DTOOLS_JAR + toolsPath);
    }
  }
  params.getVMParametersList().addParametersString(vmParams);
  params.setMainClass(GANT_STARTER);
}
