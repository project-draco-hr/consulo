{
  if (child.getChildCount() == 0)   return;
  if (merge) {
    for (int i=0; i < parent.getChildCount(); i++) {
      InspectionTreeNode current=(InspectionTreeNode)parent.getChildAt(i);
      if (child.getClass() != current.getClass()) {
        continue;
      }
      if (current instanceof InspectionPackageNode) {
        if (((InspectionPackageNode)current).getPackageName().compareTo(((InspectionPackageNode)child).getPackageName()) == 0) {
          processDepth(child,current);
          return;
        }
      }
 else       if (current instanceof RefElementNode) {
        if (((RefElementNode)current).getElement().getName().compareTo(((RefElementNode)child).getElement().getName()) == 0) {
          processDepth(child,current);
          return;
        }
      }
 else       if (current instanceof InspectionNode) {
        if (((InspectionNode)current).getTool().getShortName().compareTo(((InspectionNode)child).getTool().getShortName()) == 0) {
          processDepth(child,current);
          return;
        }
      }
 else       if (current instanceof InspectionModuleNode) {
        if (((InspectionModuleNode)current).getName().compareTo(((InspectionModuleNode)child).getName()) == 0) {
          processDepth(child,current);
          return;
        }
      }
 else       if (current instanceof ProblemDescriptionNode) {
        if (((ProblemDescriptionNode)current).getDescriptor().getDescriptionTemplate().compareTo(((ProblemDescriptionNode)child).getDescriptor().getDescriptionTemplate()) == 0) {
          processDepth(child,current);
          return;
        }
      }
    }
  }
  parent.add(child);
}
