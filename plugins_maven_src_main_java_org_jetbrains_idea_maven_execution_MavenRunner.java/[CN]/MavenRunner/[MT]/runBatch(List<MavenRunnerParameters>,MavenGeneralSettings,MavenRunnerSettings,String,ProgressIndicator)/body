{
  if (commands.isEmpty())   return true;
  final MavenGeneralSettings effectiveCoreSettings=coreSettings != null ? coreSettings : getGeneralSettings();
  final MavenRunnerSettings effectiveRunnerSettings=runnerSettings != null ? runnerSettings : getState();
  MavenConsole console=createConsole(effectiveCoreSettings,null);
  try {
    int count=0;
    for (    MavenRunnerParameters command : commands) {
      if (indicator != null) {
        indicator.setFraction(((double)count++) / commands.size());
      }
      MavenExecutor executor=createExecutor(command,effectiveCoreSettings,effectiveRunnerSettings,console);
      executor.setAction(action);
      if (!executor.execute(indicator)) {
        updateTargetFolders();
        return false;
      }
    }
    updateTargetFolders();
  }
  finally {
    console.finish();
  }
  return true;
}
