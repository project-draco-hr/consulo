{
  final PsiParameter targetParameter=(PsiParameter)myList.getSelectedValue();
  LOG.assertTrue(targetParameter != null);
  final ConvertToInstanceMethodProcessor processor=new ConvertToInstanceMethodProcessor(myMethod.getProject(),myMethod,targetParameter,myVisibilityPanel.getVisibility());
  final PsiClass targetClass=processor.getTargetClass();
  if (targetClass.isInterface()) {
    final String message=UsageViewUtil.getDescriptiveName(targetClass) + " is an interface. \n" + "Method implementation will be added to all directly implementing classes.\n Proceed?";
    final int result=Messages.showYesNoDialog(myProject,message,ConvertToInstanceMethodHandler.REFACTORING_NAME,Messages.getQuestionIcon());
    if (result != 0)     return;
  }
  invokeRefactoring(processor);
}
