{
  ApplicationManager.getApplication().assertIsDispatchThread();
  if (indicator != null) {
    final CompletionProgressIndicator oldCompletion=myCurrentCompletion;
    final Throwable oldTrace=myTrace;
    myCurrentCompletion=indicator;
    myTrace=new Throwable();
    if (oldCompletion != null) {
      throw new RuntimeException("SHe's not dead yet!\nthis=" + indicator + "\ncurrent="+ oldCompletion+ "\ntrace="+ StringUtil.getThrowableText(oldTrace));
    }
  }
 else {
    myCurrentCompletion=null;
  }
}
