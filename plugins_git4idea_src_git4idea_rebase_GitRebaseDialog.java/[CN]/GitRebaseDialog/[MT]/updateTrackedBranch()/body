{
  try {
    final VirtualFile root=gitRoot();
    String currentBranch=(String)myBranchComboBox.getSelectedItem();
    GitBranch trackedBranch=null;
    if (currentBranch != null) {
      String remote=GitConfigUtil.getValue(myProject,root,"branch." + currentBranch + ".remote");
      String merge=GitConfigUtil.getValue(myProject,root,"branch." + currentBranch + ".merge");
      String name=(merge != null && merge.startsWith(GitBranch.REFS_HEADS_PREFIX)) ? merge.substring(GitBranch.REFS_HEADS_PREFIX.length()) : null;
      if (remote == null || merge == null || name == null) {
        trackedBranch=null;
      }
 else {
        if (remote.equals(".")) {
          trackedBranch=new GitSvnRemoteBranch(name,GitBranch.DUMMY_HASH);
        }
 else {
          GitRemote r=GitBranchUtil.findRemoteByNameOrLogError(myProject,root,remote);
          if (r != null) {
            trackedBranch=new GitRemoteBranch(r,name,GitBranch.DUMMY_HASH);
          }
        }
      }
    }
    if (trackedBranch != null) {
      myOntoComboBox.setSelectedItem(trackedBranch);
    }
 else {
      GitUIUtil.getTextField(myOntoComboBox).setText("");
    }
    GitUIUtil.getTextField(myFromComboBox).setText("");
  }
 catch (  VcsException e) {
    GitUIUtil.showOperationError(myProject,e,"git config");
  }
}
