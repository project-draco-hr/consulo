{
  FoldRegion[] foldRegions=((FoldingModelEx)editor.getFoldingModel()).getAllFoldRegionsIncludingInvalid();
  for (  FoldRegion region : foldRegions) {
    if (region.isValid() && region.getStartOffset() == startOffset && region.getEndOffset() == endOffset) {
      return region;
    }
  }
  return null;
}
