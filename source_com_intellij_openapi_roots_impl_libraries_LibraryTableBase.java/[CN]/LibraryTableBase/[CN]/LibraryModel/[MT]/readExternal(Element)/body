{
  HashMap<String,LibraryImpl> libraries=new HashMap<String,LibraryImpl>();
  for (Iterator<LibraryImpl> iterator=myLibraries.iterator(); iterator.hasNext(); ) {
    LibraryImpl library=iterator.next();
    libraries.put(library.getName(),library);
  }
  final List libraryElements=element.getChildren(LibraryImpl.ELEMENT);
  for (int i=0; i < libraryElements.size(); i++) {
    Element libraryElement=(Element)libraryElements.get(i);
    final LibraryImpl library=new LibraryImpl(LibraryTableBase.this);
    library.readExternal(libraryElement);
    if (library.getName() != null) {
      LibraryImpl oldLibrary=libraries.get(library.getName());
      if (oldLibrary != null) {
        myLibraries.remove(oldLibrary);
      }
      myLibraries.add(library);
      fireLibraryAdded(library);
    }
  }
}
