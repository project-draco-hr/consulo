{
  super.visitThrowStatement(statement);
  final PsiExpression expression=statement.getException();
  if (!(expression instanceof PsiReferenceExpression)) {
    return;
  }
  final PsiReferenceExpression referenceExpression=(PsiReferenceExpression)expression;
  final PsiElement target=referenceExpression.resolve();
  if (!(target instanceof PsiParameter)) {
    return;
  }
  final PsiParameter parameter=(PsiParameter)target;
  final PsiElement declarationScope=parameter.getDeclarationScope();
  if (!(declarationScope instanceof PsiCatchSection)) {
    return;
  }
  final PsiCatchSection catchSection=(PsiCatchSection)declarationScope;
  if (isSuperClassExceptionCaughtLater(parameter,catchSection)) {
    return;
  }
  final Query<PsiReference> query=ReferencesSearch.search(parameter);
  for (  PsiReference reference : query) {
    final PsiElement element=reference.getElement();
    if (element != expression) {
      return;
    }
  }
  registerVariableError(parameter);
}
