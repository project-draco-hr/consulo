{
  if (myLineRange.intersects(reference.getTextRange())) {
    final PsiElement psiElement=reference.resolve();
    if (psiElement instanceof PsiVariable) {
      final PsiVariable var=(PsiVariable)psiElement;
      if (var instanceof PsiField && !hasSideEffects(reference)) {
        myExpressions.add(new TextWithImportsImpl(reference));
      }
 else {
        myVars.add(var.getName());
      }
    }
  }
  super.visitReferenceExpression(reference);
}
