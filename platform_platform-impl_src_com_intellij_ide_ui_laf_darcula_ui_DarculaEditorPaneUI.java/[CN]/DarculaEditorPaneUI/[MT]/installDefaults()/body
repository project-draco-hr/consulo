{
  super.installDefaults();
  SwingUtilities.invokeLater(new Runnable(){
    public void run(){
      if (myEditorPane == null)       return;
      Color fg=myEditorPane.getForeground();
      if ((fg == null) || (fg instanceof UIResource)) {
        myEditorPane.setForeground(UIManager.getColor(getPropertyPrefix() + ".foreground"));
        final EditorKit kit=myEditorPane.getEditorKit();
        if (kit instanceof HTMLEditorKit) {
          ((HTMLEditorKit)kit).getStyleSheet().addRule("body {color: #" + ColorUtil.toHex(UIUtil.getLabelForeground()) + ";}");
          ((HTMLEditorKit)kit).getStyleSheet().addRule("a {color: #" + ColorUtil.toHex(DarculaColors.BLUE) + ";}");
        }
      }
    }
  }
);
}
