def getnormalized(self):
    'Return a copy with line endings normalized to LF.'

    def normalize(lines):
        nlines = []
        for line in lines:
            if line.endswith('\r\n'):
                line = (line[:(-2)] + '\n')
            nlines.append(line)
        return nlines
    nh = hunk(self.desc, self.number, None, None, False, False)
    nh.number = self.number
    nh.desc = self.desc
    nh.hunk = self.hunk
    nh.a = normalize(self.a)
    nh.b = normalize(self.b)
    nh.starta = self.starta
    nh.startb = self.startb
    nh.lena = self.lena
    nh.lenb = self.lenb
    nh.create = self.create
    nh.remove = self.remove
    return nh
