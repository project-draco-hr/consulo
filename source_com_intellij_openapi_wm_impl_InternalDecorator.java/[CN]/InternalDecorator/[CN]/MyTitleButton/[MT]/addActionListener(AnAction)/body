{
  final DataContext dataContext=DataManager.getInstance().getDataContext(this);
  final ActionListener actionListener=new ActionListener(){
    public void actionPerformed(    final ActionEvent e){
      final ActionManagerEx actionManager=ActionManagerEx.getInstanceEx();
      actionManager.fireBeforeActionPerformed(action,dataContext);
      final Component component=((Component)dataContext.getData(DataConstantsEx.CONTEXT_COMPONENT));
      if (component != null && !component.isShowing()) {
        return;
      }
      action.actionPerformed(new AnActionEvent(null,dataContext,ActionPlaces.UNKNOWN,action.getTemplatePresentation(),ActionManager.getInstance(),0));
    }
  }
;
  addActionListener(actionListener);
}
