{
  TIntArrayList toRemove=new TIntArrayList();
  if (removeUnusedParameters) {
    final TObjectIntHashMap<GrParameter> map=GroovyIntroduceParameterUtil.findParametersToRemove(context);
    for (    int i : map.getValues()) {
      toRemove.add(i);
    }
  }
  GrExpression expr=GrIntroduceHandlerBase.findExpression(context.getStatements()[0]);
  GrVariable var=GrIntroduceHandlerBase.findVariable(context.getStatements()[0]);
  final PsiType type=TypesUtil.unboxPrimitiveTypeWrapper(var == null ? expr.getType() : var.getType());
  return new GrIntroduceExpressionSettingsImpl(context,"anObject",declareFinal,toRemove,generateDelegate,replaceFieldsWithGetters,expr,var,type);
}
