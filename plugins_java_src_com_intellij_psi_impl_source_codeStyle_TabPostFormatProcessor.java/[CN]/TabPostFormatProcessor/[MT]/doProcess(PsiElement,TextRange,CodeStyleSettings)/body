{
  ASTNode node=source.getNode();
  if (node == null) {
    return range;
  }
  Language language=source.getLanguage();
  if (language != JavaLanguage.INSTANCE) {
    return range;
  }
  LanguageFileType fileType=language.getAssociatedFileType();
  if (fileType == null) {
    return range;
  }
  boolean useTabs=settings.useTabCharacter(fileType);
  boolean smartTabs=settings.isSmartTabs(fileType);
  int tabWidth=settings.getTabSize(fileType);
  return processViaPsi(node,range,new TreeHelperImpl(),useTabs,smartTabs,tabWidth);
}
