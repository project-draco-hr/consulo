{
  final Project project=field.getProject();
  if (!field.hasModifierProperty(PsiModifier.FINAL)) {
    String message=RefactoringBundle.message("0.refactoring.is.supported.only.for.final.fields",INLINE_FIELD);
    CommonRefactoringUtil.showErrorHint(project,editor,message,INLINE_FIELD,HelpID.INLINE_FIELD);
    return InlineHandler.Settings.CANNOT_INLINE_SETTINGS;
  }
  if (field.getInitializerGroovy() == null) {
    String message=GroovyRefactoringBundle.message("cannot.find.a.single.definition.to.inline.field");
    CommonRefactoringUtil.showErrorHint(project,editor,message,INLINE_FIELD,HelpID.INLINE_FIELD);
    return InlineHandler.Settings.CANNOT_INLINE_SETTINGS;
  }
  return inlineFieldDialogResult(project,field,invokedOnReference);
}
