{
  final JavaPsiFacade facade=JavaPsiFacade.getInstance(myMethodCall.getProject());
  PsiShortNamesCache cache=facade.getShortNamesCache();
  PsiReferenceExpression reference=myMethodCall.getMethodExpression();
  PsiExpressionList argumentList=myMethodCall.getArgumentList();
  String name=reference.getReferenceName();
  ArrayList<PsiMethod> list=new ArrayList<PsiMethod>();
  if (name == null)   return list;
  GlobalSearchScope scope=myMethodCall.getResolveScope();
  PsiMethod[] methods=cache.getMethodsByNameIfNotMoreThan(name,scope,20);
  List<PsiMethod> applicableList=new ArrayList<PsiMethod>();
  for (  PsiMethod method : methods) {
    ProgressManager.getInstance().checkCanceled();
    PsiClass aClass=method.getContainingClass();
    if (aClass != null && JavaCompletionUtil.isInExcludedPackage(aClass))     continue;
    if (!method.hasModifierProperty(PsiModifier.STATIC))     continue;
    PsiFile file=method.getContainingFile();
    if (file instanceof PsiJavaFile && ((PsiJavaFile)file).getPackageName().length() != 0 && PsiUtil.isAccessible(method,myMethodCall,aClass)) {
      list.add(method);
      if (PsiUtil.isApplicable(method,PsiSubstitutor.EMPTY,argumentList)) {
        applicableList.add(method);
      }
    }
  }
  List<PsiMethod> result=applicableList.isEmpty() ? list : applicableList;
  Collections.sort(result,new PsiProximityComparator(argumentList));
  return result;
}
