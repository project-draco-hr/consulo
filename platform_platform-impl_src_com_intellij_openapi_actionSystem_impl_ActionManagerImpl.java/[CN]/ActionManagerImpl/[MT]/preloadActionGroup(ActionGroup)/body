{
  final Application application=ApplicationManager.getApplication();
  final AnAction[] children=application.runReadAction(new Computable<AnAction[]>(){
    public AnAction[] compute(){
      if (application.isDisposed()) {
        return AnAction.EMPTY_ARRAY;
      }
      return group.getChildren(null);
    }
  }
);
  for (  AnAction action : children) {
    if (action instanceof PreloadableAction) {
      ((PreloadableAction)action).preload();
    }
 else     if (action instanceof ActionGroup) {
      preloadActionGroup((ActionGroup)action);
    }
    myActionsPreloaded++;
    if (myActionsPreloaded % 10 == 0) {
      try {
        Thread.sleep(300);
      }
 catch (      InterruptedException ignored) {
      }
    }
  }
}
