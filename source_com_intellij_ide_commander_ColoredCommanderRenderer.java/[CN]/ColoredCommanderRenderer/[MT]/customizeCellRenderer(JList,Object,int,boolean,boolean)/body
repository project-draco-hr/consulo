{
  Color color=UIManager.getColor("List.foreground");
  if (value instanceof NodeDescriptor) {
    final NodeDescriptor descriptor=(NodeDescriptor)value;
    setIcon(descriptor.getClosedIcon());
    final Color elementColor=descriptor.getColor();
    if (elementColor != null) {
      color=elementColor;
    }
  }
 else {
    setIcon(ourUpLevelIcon);
  }
  append(value.toString(),new SimpleTextAttributes(Font.PLAIN,color));
  if (value instanceof PsiDirectoryNode) {
    String locationString=((PsiDirectoryNode)value).getPresentation().getLocationString();
    if (locationString != null && locationString.length() > 0) {
      append(" (" + locationString + ")",SimpleTextAttributes.GRAY_ATTRIBUTES);
    }
  }
}
