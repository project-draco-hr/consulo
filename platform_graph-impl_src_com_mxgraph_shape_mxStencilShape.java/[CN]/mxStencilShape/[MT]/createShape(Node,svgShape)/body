{
  Node child=root.getFirstChild();
  while (child != null) {
    if (isGroup(child.getNodeName())) {
      String style=((Element)root).getAttribute("style");
      Map<String,Object> styleMap=mxStencilShape.getStylenames(style);
      svgShape subShape=new svgShape(null,styleMap);
      createShape(child,subShape);
    }
    svgShape subShape=createElement(child);
    if (subShape != null) {
      shape.subShapes.add(subShape);
    }
    child=child.getNextSibling();
  }
  for (  svgShape subShape : shape.subShapes) {
    if (subShape != null && subShape.shape != null) {
      if (boundingBox == null) {
        boundingBox=subShape.shape.getBounds2D();
      }
 else {
        boundingBox.add(subShape.shape.getBounds2D());
      }
    }
  }
  if (boundingBox != null && (boundingBox.getX() != 0 || boundingBox.getY() != 0)) {
    for (    svgShape subShape : shape.subShapes) {
      if (subShape != null && subShape.shape != null) {
        transformShape(subShape.shape,-boundingBox.getX(),-boundingBox.getY(),1.0,1.0);
      }
    }
  }
}
