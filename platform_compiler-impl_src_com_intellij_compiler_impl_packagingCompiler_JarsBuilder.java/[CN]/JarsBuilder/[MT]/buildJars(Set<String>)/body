{
  myContext.getProgressIndicator().setText(CompilerBundle.message("packaging.compiler.message.building.archives"));
  final JarInfo[] sortedJars=sortJars();
  if (sortedJars == null) {
    return false;
  }
  myBuiltJars=new HashMap<JarInfo,File>();
  try {
    for (    JarInfo jar : sortedJars) {
      myContext.getProgressIndicator().checkCanceled();
      buildJar(jar);
    }
    myContext.getProgressIndicator().setText(CompilerBundle.message("packaging.compiler.message.copying.archives"));
    copyJars(writtenPaths);
  }
  finally {
    deleteTemporaryJars();
  }
  return true;
}
