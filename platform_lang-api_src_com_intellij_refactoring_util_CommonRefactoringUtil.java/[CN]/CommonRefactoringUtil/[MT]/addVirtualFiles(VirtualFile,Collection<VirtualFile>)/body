{
  if (!vFile.isWritable()) {
    list.add(vFile);
  }
  if (!vFile.isSymLink()) {
    final VirtualFile[] children=vFile.getChildren();
    if (children != null) {
      final FileTypeManager fileTypeManager=FileTypeManager.getInstance();
      for (      VirtualFile virtualFile : children) {
        if (fileTypeManager.isFileIgnored(virtualFile))         continue;
        addVirtualFiles(virtualFile,list);
      }
    }
  }
}
