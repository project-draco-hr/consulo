{
  final FileTypeManager fileTypeManager=FileTypeManager.getInstance();
  VfsUtilCore.visitChildrenRecursively(vFile,new VirtualFileVisitor(VirtualFileVisitor.NO_FOLLOW_SYMLINKS){
    @Override public boolean visitFile(    @NotNull VirtualFile file){
      if (!file.isWritable() && !fileTypeManager.isFileIgnored(file)) {
        list.add(file);
      }
      return true;
    }
  }
);
}
