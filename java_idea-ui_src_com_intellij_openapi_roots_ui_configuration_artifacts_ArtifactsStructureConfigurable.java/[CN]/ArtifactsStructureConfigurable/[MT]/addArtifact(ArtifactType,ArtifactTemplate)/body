{
  final ArtifactTemplate.NewArtifactConfiguration configuration=artifactTemplate.createArtifact();
  if (configuration == null) {
    return;
  }
  final String baseName=configuration.getArtifactName();
  String name=baseName;
  int i=2;
  while (myPackagingEditorContext.getArtifactModel().findArtifact(name) != null) {
    name=baseName + i;
    i++;
  }
  ArtifactType actualType=configuration.getArtifactType();
  if (actualType == null) {
    actualType=type;
  }
  final ModifiableArtifact artifact=myPackagingEditorContext.getOrCreateModifiableArtifactModel().addArtifact(name,actualType,configuration.getRootElement());
  selectNodeInTree(findNodeByObject(myRoot,artifact));
}
