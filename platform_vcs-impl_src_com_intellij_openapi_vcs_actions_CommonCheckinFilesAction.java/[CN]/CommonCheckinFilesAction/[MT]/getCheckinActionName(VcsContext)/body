{
  final Project project=dataContext.getProject();
  if (project == null)   return VcsBundle.message("vcs.command.name.checkin");
  final AbstractVcs vcs=getCommonVcsFor(getRoots(dataContext),project);
  if (vcs == null) {
    return VcsBundle.message("vcs.command.name.checkin");
  }
 else {
    final CheckinEnvironment checkinEnvironment=vcs.getCheckinEnvironment();
    if (checkinEnvironment == null) {
      return VcsBundle.message("vcs.command.name.checkin");
    }
    return checkinEnvironment.getCheckinOperationName();
  }
}
