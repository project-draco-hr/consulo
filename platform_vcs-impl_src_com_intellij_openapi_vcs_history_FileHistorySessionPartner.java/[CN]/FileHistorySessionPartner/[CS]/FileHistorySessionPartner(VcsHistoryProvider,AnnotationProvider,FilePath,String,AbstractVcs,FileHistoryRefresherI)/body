{
  myVcsHistoryProvider=vcsHistoryProvider;
  myAnnotationProvider=annotationProvider;
  myPath=path;
  myRepositoryPath=repositoryPath;
  myVcs=vcs;
  myRefresherI=refresherI;
  myBuffer=new BufferedListConsumer<VcsFileRevision>(5,new Consumer<List<VcsFileRevision>>(){
    public void consume(    List<VcsFileRevision> vcsFileRevisions){
      mySession.getRevisionList().addAll(vcsFileRevisions);
      final VcsHistorySession copy=mySession.copyWithCachedRevision();
      ApplicationManager.getApplication().invokeLater(new Runnable(){
        public void run(){
          ensureHistoryPanelCreated().getHistoryPanelRefresh().consume(copy);
        }
      }
);
    }
  }
,1000);
}
