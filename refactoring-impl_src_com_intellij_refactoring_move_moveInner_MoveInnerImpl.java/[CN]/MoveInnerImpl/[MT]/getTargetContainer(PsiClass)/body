{
  PsiElement outerClassParent=innerClass.getParent().getParent();
  while (outerClassParent != null) {
    if (outerClassParent instanceof PsiClass && !(outerClassParent instanceof PsiAnonymousClass)) {
      return outerClassParent;
    }
 else     if (outerClassParent instanceof PsiFile) {
      return innerClass.getContainingFile().getContainingDirectory();
    }
    outerClassParent=outerClassParent.getParent();
  }
  LOG.assertTrue(false);
  return null;
}
