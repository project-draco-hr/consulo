{
  disposeSession();
  myDebuggerSession=session;
  myDebugUIEnvironment=environment;
  session.getContextManager().addListener(new DebuggerContextListener(){
    public void changeEvent(    DebuggerContextImpl newContext,    int event){
      if (!myUi.isDisposed()) {
        attractFramesOnPause(event);
        myStateManager.fireStateChanged(newContext,event);
        SwingUtilities.invokeLater(new Runnable(){
          @Override public void run(){
            if (!myUi.isDisposed()) {
              myUi.updateActionsNow();
            }
          }
        }
);
      }
    }
  }
);
  return initUI(session.getProcess().getExecutionResult());
}
