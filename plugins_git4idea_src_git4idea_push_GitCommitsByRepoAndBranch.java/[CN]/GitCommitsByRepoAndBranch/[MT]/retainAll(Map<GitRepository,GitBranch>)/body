{
  Map<GitRepository,GitCommitsByBranch> commits=new HashMap<GitRepository,GitCommitsByBranch>();
  for (  GitRepository repository : repositoriesBranches.keySet()) {
    GitCommitsByBranch commitsByBranch=myCommitsByRepository.get(repository);
    if (commitsByBranch != null) {
      commits.put(repository,commitsByBranch.retain(repositoriesBranches.get(repository)));
    }
  }
  return new GitCommitsByRepoAndBranch(commits);
}
