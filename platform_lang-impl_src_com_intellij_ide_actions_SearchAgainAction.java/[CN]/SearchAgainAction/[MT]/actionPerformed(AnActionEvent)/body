{
  final Project project=e.getData(PlatformDataKeys.PROJECT);
  final FileEditor editor=e.getData(PlatformDataKeys.FILE_EDITOR);
  if (editor == null || project == null)   return;
  CommandProcessor commandProcessor=CommandProcessor.getInstance();
  commandProcessor.executeCommand(project,new Runnable(){
    @Override public void run(){
      PsiDocumentManager.getInstance(project).commitAllDocuments();
      IdeDocumentHistory.getInstance(project).includeCurrentCommandAsNavigation();
      if (FindManager.getInstance(project).findNextUsageInEditor(editor)) {
        return;
      }
      FindUtil.searchAgain(project,editor,e.getDataContext());
    }
  }
,IdeBundle.message("command.find.next"),null);
}
