{
  MyLoggingListener listener=new MyLoggingListener();
  myTree.addListener(listener);
  VirtualFile m1=createModulePom("m1","<groupId>test</groupId>" + "<artifactId>m1</artifactId>" + "<version>1</version>"+ "<properties>"+ " <childId>m2</childId>"+ "</properties>");
  VirtualFile m2=createModulePom("m2","<groupId>test</groupId>" + "<artifactId>${childId}</artifactId>" + "<version>1</version>"+ "<parent>"+ "  <groupId>test</groupId>"+ "  <artifactId>m1</artifactId>"+ "  <version>1</version>"+ "</parent>");
  updateAll(m2,m1);
  List<MavenProject> roots=myTree.getRootProjects();
  assertEquals(2,roots.size());
  assertEquals(m2,roots.get(0).getFile());
  assertEquals(m1,roots.get(1).getFile());
  assertEquals("m2",roots.get(0).getMavenId().artifactId);
  assertEquals("m1",roots.get(1).getMavenId().artifactId);
  assertEquals("updated m2, m1 deleted <none> ",listener.log);
}
