{
  StrikeoutLabel label=myLabel2;
  if (text != null) {
    String s=text;
    int width=getTextWidth(item);
    int n=width - MAX_LENGTH * myFontWidth;
    if (n > 0) {
      n=Math.min(n,(s.length() - 7) * myFontWidth);
      if (n >= 0) {
        s=s.substring(0,s.length() - n / myFontWidth - 3) + "...";
      }
    }
    label.setText(s);
  }
 else {
    label.setText("");
  }
  boolean isSmall=item.getAttribute(LookupItem.TAIL_TEXT_SMALL_ATTR) != null;
  Font font=forceFont;
  if (font == null)   font=isSmall ? SMALL_FONT : NORMAL_FONT;
  label.setStrikeout(strikeout);
  label.setBackground(background);
  label.setForeground(foreground);
  label.setFont(font);
  if (isSmall) {
    label.setForeground(selected ? SELECTED_GRAYED_FOREGROUND_COLOR : GRAYED_FOREGROUND_COLOR);
  }
}
