{
  if (vcs == null || file == null)   return null;
  final AnnotationProvider annotationProvider=vcs.getCachingAnnotationProvider();
  if (annotationProvider == null)   return null;
  FileStatus fileStatus=FileStatusManager.getInstance(project).getStatus(file);
  if (fileStatus == FileStatus.UNKNOWN || fileStatus == FileStatus.ADDED || fileStatus == FileStatus.IGNORED) {
    return null;
  }
  return new FileAnnotationLoader(vcs,false){
    @Override public FileAnnotation compute() throws VcsException {
      return annotationProvider.annotate(file);
    }
  }
;
}
