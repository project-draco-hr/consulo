{
  final T key=array[index];
  if (index == array.length - 1) {
    if (myValuesMap == null) {
      myValuesMap=new WeakValueHashMap<T,V>();
    }
    myValuesMap.put(key,value);
  }
 else {
    if (myContinuationMap == null) {
      myContinuationMap=new WeakValueHashMap<T,WeakArrayHashMap<T,V>>();
    }
    WeakArrayHashMap<T,V> weakArrayHashMap=myContinuationMap.get(key);
    if (weakArrayHashMap == null) {
      myContinuationMap.put(key,weakArrayHashMap=new WeakArrayHashMap<T,V>());
    }
    weakArrayHashMap.put(array,index + 1,value);
  }
}
