{
  final JpsRemoteProto.Message.Request.CompilationRequest.Builder builder=JpsRemoteProto.Message.Request.CompilationRequest.newBuilder().setCommandType(command);
  builder.setProjectId(project);
  if (modules.size() > 0) {
    builder.addAllModuleName(modules);
  }
  if (artifacts.size() > 0) {
    builder.addAllArtifactName(artifacts);
  }
  if (paths.size() > 0) {
    builder.addAllFilePath(paths);
  }
  return JpsRemoteProto.Message.Request.newBuilder().setRequestType(JpsRemoteProto.Message.Request.Type.COMPILE_REQUEST).setCompileRequest(builder.build()).build();
}
