{
  FileDocumentManagerImpl.registerDocument(documentWindow,viewProvider.getVirtualFile());
  DebugUtil.startPsiModification("MultiHostRegistrar cacheEverything");
  try {
    viewProvider.forceCachedPsi(psiFile);
  }
  finally {
    DebugUtil.finishPsiModification();
  }
  psiFile.putUserData(FileContextUtil.INJECTED_IN_ELEMENT,pointer);
  ((PsiDocumentManagerBase)PsiDocumentManager.getInstance(psiFile.getProject())).associatePsi(documentWindow,psiFile);
  keepTreeFromChameleoningBack(psiFile);
  return viewProvider.setShreds(place,psiFile.getProject());
}
