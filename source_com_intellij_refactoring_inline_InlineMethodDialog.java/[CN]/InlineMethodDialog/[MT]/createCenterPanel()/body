{
  JPanel optionsPanel=new JPanel();
  optionsPanel.setBorder(IdeBorderFactory.createTitledBorder("Inline"));
  optionsPanel.setLayout(new BoxLayout(optionsPanel,BoxLayout.Y_AXIS));
  final String inlineAllText=myMethod.isWritable() ? "All invocations and remove the method" : "All invocations in project";
  myRbInlineAll=new JRadioButton(inlineAllText,true);
  myRbInlineAll.setMnemonic('A');
  myRbInlineThisOnly=new JRadioButton("This invocation only and keep the method");
  myRbInlineThisOnly.setMnemonic('t');
  optionsPanel.add(myRbInlineAll);
  optionsPanel.add(myRbInlineThisOnly);
  ButtonGroup bg=new ButtonGroup();
  bg.add(myRbInlineAll);
  bg.add(myRbInlineThisOnly);
  myRbInlineThisOnly.setEnabled(myInvokedOnReference);
  final boolean writable=myMethod.isWritable();
  if (myInvokedOnReference) {
    if (writable) {
      final boolean inline_method_this=RefactoringSettings.getInstance().INLINE_METHOD_THIS;
      myRbInlineThisOnly.setSelected(inline_method_this);
      myRbInlineAll.setSelected(!inline_method_this);
    }
 else {
      myRbInlineAll.setSelected(false);
      myRbInlineThisOnly.setSelected(true);
    }
  }
 else {
    myRbInlineAll.setSelected(true);
    myRbInlineThisOnly.setSelected(false);
  }
  getPreviewAction().setEnabled(myRbInlineAll.isSelected());
  myRbInlineAll.addItemListener(new ItemListener(){
    public void itemStateChanged(    ItemEvent e){
      boolean enabled=myRbInlineAll.isSelected();
      getPreviewAction().setEnabled(enabled);
    }
  }
);
  return optionsPanel;
}
