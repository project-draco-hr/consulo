{
  JPanel optionsPanel=new JPanel();
  optionsPanel.setBorder(IdeBorderFactory.createTitledBorder("Inline"));
  optionsPanel.setLayout(new BoxLayout(optionsPanel,BoxLayout.Y_AXIS));
  myRbInlineAll=new JRadioButton("All invocations and remove the method",true);
  myRbInlineAll.setMnemonic('A');
  myRbInlineThisOnly=new JRadioButton("This invocation only and keep the method");
  myRbInlineThisOnly.setMnemonic('t');
  optionsPanel.add(myRbInlineAll);
  optionsPanel.add(myRbInlineThisOnly);
  ButtonGroup bg=new ButtonGroup();
  bg.add(myRbInlineAll);
  bg.add(myRbInlineThisOnly);
  myRbInlineThisOnly.setEnabled(myInvokedOnReference);
  final boolean writable=myMethod.isWritable();
  myRbInlineAll.setEnabled(writable);
  if (myInvokedOnReference) {
    if (writable) {
      final boolean inline_method_this=RefactoringSettings.getInstance().INLINE_METHOD_THIS;
      myRbInlineThisOnly.setSelected(inline_method_this);
      myRbInlineAll.setSelected(!inline_method_this);
    }
 else {
      myRbInlineAll.setSelected(false);
      myRbInlineThisOnly.setSelected(true);
    }
  }
 else {
    myRbInlineAll.setSelected(true);
    myRbInlineThisOnly.setSelected(false);
  }
  getPreviewAction().setEnabled(myRbInlineAll.isSelected());
  myRbInlineAll.addItemListener(new ItemListener(){
    public void itemStateChanged(    ItemEvent e){
      boolean enabled=myRbInlineAll.isSelected();
      getPreviewAction().setEnabled(enabled);
    }
  }
);
  return optionsPanel;
}
