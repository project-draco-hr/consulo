{
  PsiExpressionList list=constructorCall.getArgumentList();
  if (list == null)   return;
  PsiClass aClass=typeResolveResult.getElement();
  if (aClass == null)   return;
  final PsiResolveHelper resolveHelper=JavaPsiFacade.getInstance(constructorCall.getProject()).getResolveHelper();
  PsiClass accessObjectClass=null;
  if (constructorCall instanceof PsiNewExpression) {
    PsiExpression qualifier=((PsiNewExpression)constructorCall).getQualifier();
    if (qualifier != null) {
      accessObjectClass=(PsiClass)PsiUtil.getAccessObjectClass(qualifier).getElement();
    }
  }
  if (classReference != null && !resolveHelper.isAccessible(aClass,constructorCall,accessObjectClass)) {
    String description=HighlightUtil.buildProblemWithAccessDescription(classReference,typeResolveResult);
    HighlightInfo info=HighlightInfo.createHighlightInfo(HighlightInfoType.ERROR,classReference.getReferenceNameElement(),description);
    HighlightUtil.registerAccessQuickFixAction(aClass,classReference,info,null);
    holder.add(info);
    return;
  }
  PsiMethod[] constructors=aClass.getConstructors();
  if (constructors.length == 0) {
    if (list.getExpressions().length != 0) {
      String constructorName=aClass.getName();
      String argTypes=buildArgTypesList(list);
      String description=JavaErrorMessages.message("wrong.constructor.arguments",constructorName + "()",argTypes);
      String tooltip=createMismatchedArgumentsHtmlTooltip(list,PsiParameter.EMPTY_ARRAY,constructorName,PsiSubstitutor.EMPTY,aClass);
      HighlightInfo info=HighlightInfo.createHighlightInfo(HighlightInfoType.ERROR,list,description,tooltip);
      QuickFixAction.registerQuickFixAction(info,constructorCall.getTextRange(),new CreateConstructorFromCallFix(constructorCall),null);
      if (classReference != null) {
        ConstructorParametersFixer.registerFixActions(classReference,constructorCall,info,getFixRange(list));
      }
      info.navigationShift=+1;
      holder.add(info);
      return;
    }
    if (classReference != null && aClass.hasModifierProperty(PsiModifier.PROTECTED) && callingProtectedConstructorFromDerivedClass(constructorCall,aClass)) {
      holder.add(buildAccessProblem(classReference,typeResolveResult,aClass));
    }
  }
 else {
    PsiElement place=list;
    if (constructorCall instanceof PsiNewExpression) {
      final PsiAnonymousClass anonymousClass=((PsiNewExpression)constructorCall).getAnonymousClass();
      if (anonymousClass != null)       place=anonymousClass;
    }
    JavaResolveResult[] results=resolveHelper.multiResolveConstructor((PsiClassType)type,list,place);
    MethodCandidateInfo result=null;
    if (results.length == 1)     result=(MethodCandidateInfo)results[0];
    PsiMethod constructor=result == null ? null : result.getElement();
    boolean applicable=true;
    try {
      applicable=constructor != null && result.isApplicable();
    }
 catch (    IndexNotReadyException e) {
    }
    if (constructor == null) {
      String name=aClass.getName();
      name+=buildArgTypesList(list);
      String description=JavaErrorMessages.message("cannot.resolve.constructor",name);
      HighlightInfo info=HighlightInfo.createHighlightInfo(HighlightInfoType.ERROR,list,description);
      QuickFixAction.registerQuickFixAction(info,constructorCall.getTextRange(),new CreateConstructorFromCallFix(constructorCall),null);
      if (classReference != null) {
        ConstructorParametersFixer.registerFixActions(classReference,constructorCall,info,getFixRange(list));
        PermuteArgumentsFix.registerFix(info,constructorCall,toMethodCandidates(results),getFixRange(list));
      }
      WrapExpressionFix.registerWrapAction(results,list.getExpressions(),info);
      info.navigationShift=+1;
      holder.add(info);
      ChangeStringLiteralToCharInMethodCallFix.registerFixes(constructors,constructorCall,info);
    }
 else {
      if (classReference != null && (!result.isAccessible() || constructor.hasModifierProperty(PsiModifier.PROTECTED) && callingProtectedConstructorFromDerivedClass(constructorCall,aClass))) {
        holder.add(buildAccessProblem(classReference,result,constructor));
      }
 else       if (!applicable) {
        String constructorName=HighlightMessageUtil.getSymbolName(constructor,result.getSubstitutor());
        String containerName=HighlightMessageUtil.getSymbolName(constructor.getContainingClass(),result.getSubstitutor());
        String argTypes=buildArgTypesList(list);
        String description=JavaErrorMessages.message("wrong.method.arguments",constructorName,containerName,argTypes);
        String toolTip=createMismatchedArgumentsHtmlTooltip(result,list);
        PsiElement infoElement=list.getTextLength() > 0 ? list : constructorCall;
        HighlightInfo info=HighlightInfo.createHighlightInfo(HighlightInfoType.ERROR,infoElement,description,toolTip);
        QuickFixAction.registerQuickFixAction(info,constructorCall.getTextRange(),new CreateConstructorFromCallFix(constructorCall),null);
        if (classReference != null) {
          ConstructorParametersFixer.registerFixActions(classReference,constructorCall,info,getFixRange(infoElement));
          ChangeMethodSignatureFromUsageFix.registerIntentions(results,list,info,null);
          PermuteArgumentsFix.registerFix(info,constructorCall,toMethodCandidates(results),getFixRange(list));
          QuickFixAction.registerQuickFixAction(info,getFixRange(list),new SurroundWithArrayFix(constructorCall),null);
        }
        info.navigationShift=+1;
        holder.add(info);
        ChangeStringLiteralToCharInMethodCallFix.registerFixes(constructors,constructorCall,info);
      }
 else {
        HighlightInfo highlightInfo=GenericsHighlightUtil.checkUncheckedCall(result,constructorCall);
        if (highlightInfo != null) {
          holder.add(highlightInfo);
          return;
        }
        if (constructorCall instanceof PsiNewExpression) {
          highlightInfo=GenericsHighlightUtil.checkReferenceTypeArgumentList(constructor,((PsiNewExpression)constructorCall).getTypeArgumentList(),result.getSubstitutor(),false);
          if (highlightInfo != null) {
            holder.add(highlightInfo);
            return;
          }
          highlightInfo=GenericsHighlightUtil.checkGenericCallWithRawArguments(result,(PsiCallExpression)constructorCall);
        }
        if (highlightInfo != null) {
          holder.add(highlightInfo);
        }
      }
    }
  }
}
