{
  ApplicationManager.getApplication().assertIsDispatchThread();
  long started=System.currentTimeMillis();
  while (!myPendingFilterResults.isEmpty()) {
    Map.Entry<AtomicBoolean,Future<FilterResults>> next=myPendingFilterResults.entrySet().iterator().next();
    timeoutMs-=System.currentTimeMillis() - started;
    if (timeoutMs < 1)     return false;
    if (!handleSynchronouslyIfQuick(next.getKey(),next.getValue(),timeoutMs))     return false;
  }
  return true;
}
