{
  if (scheme != null) {
    try {
      ShareSchemeDialog dialog=new ShareSchemeDialog();
      dialog.init(scheme);
      dialog.show();
      if (dialog.isOK()) {
        try {
          manager.exportScheme(scheme,dialog.getName(),dialog.getDescription());
          Messages.showMessageDialog("Scheme '" + scheme.getName() + "' was shared successfully as '"+ dialog.getName()+ " '","Share Scheme",Messages.getInformationIcon());
        }
 catch (        IOException e) {
          Messages.showErrorDialog("Cannot share scheme '" + scheme.getName() + "': "+ e.getLocalizedMessage(),"Share Shceme");
        }
      }
    }
 catch (    WriteExternalException e1) {
      Messages.showErrorDialog("Cannot share scheme: " + e1.getLocalizedMessage(),"Share Scheme");
    }
  }
}
