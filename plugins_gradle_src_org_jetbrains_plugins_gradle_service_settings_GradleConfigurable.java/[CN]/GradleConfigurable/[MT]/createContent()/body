{
  JPanel result=new JPanel(new GridBagLayout()){
    @Override public void paint(    Graphics g){
      super.paint(g);
      showBalloonIfNecessary();
    }
  }
;
  result.addPropertyChangeListener(new PropertyChangeListener(){
    @Override public void propertyChange(    PropertyChangeEvent evt){
      if (!"ancestor".equals(evt.getPropertyName())) {
        return;
      }
      myShowBalloonIfNecessary=evt.getNewValue() != null && evt.getOldValue() == null;
      if (evt.getNewValue() == null && evt.getOldValue() != null) {
        myAlarm.cancelAllRequests();
      }
    }
  }
);
  return result;
}
