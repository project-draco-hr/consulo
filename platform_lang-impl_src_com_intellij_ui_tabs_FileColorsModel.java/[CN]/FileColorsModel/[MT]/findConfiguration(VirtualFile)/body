{
  for (  final FileColorConfiguration configuration : myConfigurations) {
    final NamedScope scope=NamedScopesHolder.getScope(myProject,configuration.getScopeName());
    if (scope != null) {
      final NamedScopesHolder namedScopesHolder=NamedScopesHolder.getHolder(myProject,configuration.getScopeName(),null);
      final PackageSet packageSet=scope.getValue();
      if (packageSet instanceof PackageSetBase && namedScopesHolder != null && ((PackageSetBase)packageSet).contains(colored,namedScopesHolder)) {
        return configuration;
      }
    }
  }
  for (  FileColorConfiguration configuration : mySharedConfigurations) {
    final NamedScope scope=NamedScopesHolder.getScope(myProject,configuration.getScopeName());
    if (scope != null) {
      final NamedScopesHolder namedScopesHolder=NamedScopesHolder.getHolder(myProject,configuration.getScopeName(),null);
      final PackageSet packageSet=scope.getValue();
      if (packageSet instanceof PackageSetBase && namedScopesHolder != null && ((PackageSetBase)packageSet).contains(colored,namedScopesHolder)) {
        return configuration;
      }
    }
  }
  return null;
}
