{
  if (USE_HTTP_PROXY) {
    System.setProperty("proxySet","true");
    System.setProperty("http.proxyHost",PROXY_HOST);
    System.setProperty("http.proxyPort",Integer.toString(PROXY_PORT));
    Authenticator.setDefault(getAuthenticator());
  }
 else {
    System.setProperty("proxySet","false");
    Authenticator.setDefault(null);
  }
  URLConnection connection=new URL(url).openConnection();
  connection.connect();
  connection.getInputStream();
  if (connection instanceof HttpURLConnection) {
    ((HttpURLConnection)connection).disconnect();
  }
}
