{
  final PsiMethod method=(PsiMethod)element.getParent();
  final Query<PsiReference> query=ReferencesSearch.search(method,method.getUseScope(),false);
  for (  PsiReference reference : query) {
    final PsiMethodCallExpression methodCallExpression=(PsiMethodCallExpression)reference.getElement();
    final PsiExpressionList argumentList=methodCallExpression.getArgumentList();
    final PsiExpression[] arguments=argumentList.getExpressions();
    if (arguments.length == 0) {
      continue;
    }
    final PsiExpression lastArgument=arguments[arguments.length - 1];
    if (!(lastArgument instanceof PsiArrayInitializerExpression)) {
      continue;
    }
    final PsiArrayInitializerExpression arrayInitializerExpression=(PsiArrayInitializerExpression)lastArgument;
    final PsiExpression[] initializers=arrayInitializerExpression.getInitializers();
    lastArgument.delete();
    for (    PsiExpression initializer : initializers) {
      argumentList.add(initializer);
    }
  }
}
