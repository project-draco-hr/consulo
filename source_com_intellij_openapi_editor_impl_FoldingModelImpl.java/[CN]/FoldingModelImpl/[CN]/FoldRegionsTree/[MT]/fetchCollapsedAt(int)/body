{
  if (!isFoldingEnabled())   return new FoldRegion[0];
  ArrayList<FoldRegion> allCollapsed=new ArrayList<FoldRegion>();
  for (  FoldRegion region : myRegions) {
    if (!region.isExpanded() && contains(region,offset)) {
      allCollapsed.add(region);
    }
  }
  return allCollapsed.toArray(new FoldRegion[allCollapsed.size()]);
}
