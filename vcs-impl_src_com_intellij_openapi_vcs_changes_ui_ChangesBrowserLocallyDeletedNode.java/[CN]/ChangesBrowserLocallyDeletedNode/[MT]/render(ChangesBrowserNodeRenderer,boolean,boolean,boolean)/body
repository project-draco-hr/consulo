{
  final LocallyDeletedChange change=(LocallyDeletedChange)getUserObject();
  final FilePath filePath=change.getPath();
  final String fileName=filePath.getName();
  VirtualFile vFile=filePath.getVirtualFile();
  final Color changeColor=FileStatus.NOT_CHANGED.getColor();
  renderer.appendFileName(vFile,fileName,changeColor);
  if (renderer.isShowFlatten()) {
    final File parentFile=filePath.getIOFile().getParentFile();
    if (parentFile != null) {
      renderer.append(" (" + parentFile.getPath() + ")",SimpleTextAttributes.GRAYED_ATTRIBUTES);
    }
  }
 else   if (getCount() != 1 || getDirectoryCount() != 0) {
    appendCount(renderer);
  }
  final Icon addIcon=change.getAddIcon();
  if (addIcon != null) {
    renderer.setIcon(addIcon);
  }
 else {
    if (filePath.isDirectory() || !isLeaf()) {
      renderer.setIcon(expanded ? Icons.DIRECTORY_OPEN_ICON : Icons.DIRECTORY_CLOSED_ICON);
    }
 else {
      renderer.setIcon(filePath.getFileType().getIcon());
    }
  }
}
