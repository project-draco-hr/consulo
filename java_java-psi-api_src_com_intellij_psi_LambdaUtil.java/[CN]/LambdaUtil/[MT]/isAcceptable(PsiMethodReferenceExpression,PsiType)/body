{
  if (methodReferenceExpression == null)   return false;
  final JavaResolveResult result=methodReferenceExpression.advancedResolve(false);
  final PsiElement resolve=result.getElement();
  if (resolve instanceof PsiMethod) {
    final PsiClassType.ClassResolveResult resolveResult=PsiUtil.resolveGenericsClassInType(left);
    final PsiMethod method=getFunctionalInterfaceMethod(resolveResult);
    if (method != null) {
      final Ref<PsiClass> classRef=new Ref<PsiClass>();
      final Ref<PsiSubstitutor> substRef=new Ref<PsiSubstitutor>();
      methodReferenceExpression.process(classRef,substRef);
      final MethodSignature signature1=method.getSignature(resolveResult.getSubstitutor());
      final MethodSignature signature2=((PsiMethod)resolve).getSignature(substRef.get());
      if (areAcceptable(signature1,signature2,classRef.get(),substRef.get()))       return true;
    }
  }
  return false;
}
