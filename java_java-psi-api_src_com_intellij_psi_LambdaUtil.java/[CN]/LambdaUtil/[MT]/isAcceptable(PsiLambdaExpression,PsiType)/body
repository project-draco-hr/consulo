{
  final PsiClassType.ClassResolveResult resolveResult=PsiUtil.resolveGenericsClassInType(leftType);
  final MethodSignature methodSignature=getFunction(resolveResult.getElement());
  if (methodSignature == null)   return false;
  final PsiParameter[] lambdaParameters=lambdaExpression.getParameterList().getParameters();
  final PsiType[] parameterTypes=methodSignature.getParameterTypes();
  if (lambdaParameters.length != parameterTypes.length)   return false;
  for (int lambdaParamIdx=0, length=lambdaParameters.length; lambdaParamIdx < length; lambdaParamIdx++) {
    PsiParameter parameter=lambdaParameters[lambdaParamIdx];
    final PsiTypeElement typeElement=parameter.getTypeElement();
    if (typeElement != null) {
      if (!typeElement.getType().equals(resolveResult.getSubstitutor().substitute(parameterTypes[lambdaParamIdx]))) {
        return false;
      }
    }
  }
  return true;
}
