{
  myExpression=expression;
  myClass=PsiUtil.resolveGenericsClassInType(getFunctionalInterfaceType(expression,false)).getElement();
  PsiElement parent=expression.getParent();
  while (parent instanceof PsiParenthesizedExpression) {
    parent=parent.getParent();
  }
  if (parent instanceof PsiExpressionList) {
    final PsiElement gParent=parent.getParent();
    if (gParent instanceof PsiCallExpression) {
      myMethod=((PsiCallExpression)gParent).resolveMethod();
    }
  }
}
