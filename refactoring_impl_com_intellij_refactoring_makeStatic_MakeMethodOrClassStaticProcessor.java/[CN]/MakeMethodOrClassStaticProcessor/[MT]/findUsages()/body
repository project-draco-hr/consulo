{
  ArrayList<UsageInfo> result=new ArrayList<UsageInfo>();
  PsiManager manager=myMember.getManager();
  PsiSearchHelper helper=manager.getSearchHelper();
  result.addAll(Arrays.asList(MakeStaticUtil.findClassRefsInMember(myMember,true)));
  if (mySettings.isReplaceUsages()) {
    if (myMember instanceof PsiMethod) {
      findExternalReferences((PsiMethod)myMember,result);
    }
 else {
      final PsiClass aClass=(PsiClass)myMember;
      PsiMethod[] constructors=aClass.getConstructors();
      if (constructors.length > 0) {
        for (        PsiMethod constructor : constructors) {
          findExternalReferences(constructor,result);
        }
      }
 else {
        findDefaultConstructorReferences(aClass,result);
      }
    }
  }
  if (myMember instanceof PsiMethod) {
    final PsiMethod[] overridingMethods=helper.findOverridingMethods((PsiMethod)myMember,myMember.getUseScope(),false);
    for (    PsiMethod overridingMethod : overridingMethods) {
      if (overridingMethod != myMember) {
        result.add(new OverridingMethodUsageInfo(overridingMethod));
      }
    }
  }
  return result.toArray(new UsageInfo[result.size()]);
}
