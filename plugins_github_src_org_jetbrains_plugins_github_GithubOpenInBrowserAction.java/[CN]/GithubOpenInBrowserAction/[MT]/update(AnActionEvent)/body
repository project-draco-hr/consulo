{
  final long startTime=System.nanoTime();
  try {
    final Project project=e.getData(PlatformDataKeys.PROJECT);
    final VirtualFile virtualFile=e.getData(PlatformDataKeys.VIRTUAL_FILE);
    if (StringUtil.isEmptyOrSpaces(GithubSettings.getInstance().getLogin()) || project == null || project.isDefault() || virtualFile == null || GithubUtil.getGithubBoundRepository(project) == null) {
      e.getPresentation().setVisible(false);
      e.getPresentation().setEnabled(false);
      return;
    }
    e.getPresentation().setVisible(true);
    e.getPresentation().setEnabled(true);
  }
  finally {
    if (LOG.isDebugEnabled()) {
      LOG.debug("GithubOpenInBrowserAction#update finished in: " + (System.nanoTime() - startTime) / 10e6 + "ms");
    }
  }
}
