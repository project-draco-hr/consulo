{
  final GitBranch tracked;
  try {
    final GitBranch current=GitBranch.current(project,root);
    if (current == null) {
      Messages.showErrorDialog(project,"Cannot find local branch",CANNOT_OPEN_IN_BROWSER);
      return null;
    }
    tracked=current.tracked(project,root);
    if (tracked == null || !tracked.isRemote()) {
      Messages.showErrorDialog(project,"Cannot find tracked branch for branch: " + current.getFullName(),CANNOT_OPEN_IN_BROWSER);
      return null;
    }
  }
 catch (  VcsException e1) {
    Messages.showErrorDialog(project,"Error occurred while inspecting branches: " + e1,CANNOT_OPEN_IN_BROWSER);
    return null;
  }
  String branch=tracked.getName();
  if (branch.startsWith("origin/")) {
    branch=branch.substring(7);
  }
  return branch;
}
