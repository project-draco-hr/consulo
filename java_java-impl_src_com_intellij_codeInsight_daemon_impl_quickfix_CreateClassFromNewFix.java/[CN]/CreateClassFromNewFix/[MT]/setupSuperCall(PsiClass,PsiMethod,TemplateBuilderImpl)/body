{
  PsiElementFactory elementFactory=JavaPsiFacade.getInstance(targetClass.getProject()).getElementFactory();
  PsiMethod supConstructor=null;
  PsiClass superClass=targetClass.getSuperClass();
  if (superClass != null && !"java.lang.Object".equals(superClass.getQualifiedName()) && !"java.lang.Enum".equals(superClass.getQualifiedName())) {
    PsiMethod[] constructors=superClass.getConstructors();
    boolean hasDefaultConstructor=false;
    for (    PsiMethod superConstructor : constructors) {
      if (superConstructor.getParameterList().getParametersCount() == 0) {
        hasDefaultConstructor=true;
        supConstructor=null;
        break;
      }
 else {
        supConstructor=superConstructor;
      }
    }
    if (!hasDefaultConstructor) {
      PsiExpressionStatement statement=(PsiExpressionStatement)elementFactory.createStatementFromText("super();",constructor);
      statement=(PsiExpressionStatement)constructor.getBody().add(statement);
      PsiMethodCallExpression call=(PsiMethodCallExpression)statement.getExpression();
      PsiExpressionList argumentList=call.getArgumentList();
      templateBuilder.setEndVariableAfter(argumentList.getFirstChild());
    }
  }
  templateBuilder.setEndVariableAfter(constructor.getBody().getLBrace());
  return supConstructor;
}
