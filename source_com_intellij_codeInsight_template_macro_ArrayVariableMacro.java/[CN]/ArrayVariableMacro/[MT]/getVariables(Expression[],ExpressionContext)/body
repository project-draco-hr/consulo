{
  if (params.length != 0)   return null;
  Project project=context.getProject();
  final int offset=context.getStartOffset();
  PsiDocumentManager.getInstance(project).commitAllDocuments();
  final ArrayList array=new ArrayList();
  PsiFile file=PsiDocumentManager.getInstance(project).getPsiFile(context.getEditor().getDocument());
  PsiElement place=file.findElementAt(offset);
  PsiVariable[] variables=MacroUtil.getVariablesVisibleAt(place,"");
  for (int i=0; i < variables.length; i++) {
    PsiType type=variables[i].getType();
    if (type instanceof PsiArrayType) {
      array.add(variables[i]);
    }
  }
  return (PsiVariable[])array.toArray(new PsiVariable[array.size()]);
}
