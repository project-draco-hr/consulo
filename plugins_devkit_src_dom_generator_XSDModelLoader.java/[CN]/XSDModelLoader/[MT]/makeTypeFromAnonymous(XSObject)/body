{
  final XSComplexTypeDecl ctd=new XSComplexTypeDecl();
  if (o instanceof XSElementDeclaration && ((XSElementDeclaration)o).getTypeDefinition() instanceof XSComplexTypeDecl) {
    final XSComplexTypeDecl ctd1=(XSComplexTypeDecl)((XSElementDeclaration)o).getTypeDefinition();
    final XSObjectListImpl annotations=ctd1.getAnnotations() instanceof XSObjectListImpl ? (XSObjectListImpl)ctd1.getAnnotations() : new XSObjectListImpl();
    ctd.setValues(o.getName(),ctd1.getNamespace(),ctd1.getBaseType(),ctd1.getDerivationMethod(),ctd1.getFinal(),ctd1.getProhibitedSubstitutions(),ctd1.getContentType(),ctd1.getAbstract(),ctd1.getAttrGrp(),(XSSimpleType)ctd1.getSimpleType(),(XSParticleDecl)ctd1.getParticle(),annotations);
    ctd.setName(o.getName() + Util.ANONYMOUS_ELEM_TYPE_SUFFIX);
  }
 else   if (o instanceof XSAttributeDeclaration) {
    final XSSimpleTypeDecl ctd1=(XSSimpleTypeDecl)((XSAttributeDeclaration)o).getTypeDefinition();
    final XSObjectListImpl annotations=ctd1.getAnnotations() instanceof XSObjectListImpl ? (XSObjectListImpl)ctd1.getAnnotations() : new XSObjectListImpl();
    ctd.setValues(o.getName(),ctd1.getNamespace(),ctd1.getBaseType(),XSConstants.DERIVATION_RESTRICTION,ctd1.getFinal(),(short)0,XSComplexTypeDefinition.CONTENTTYPE_SIMPLE,false,new XSAttributeGroupDecl(),ctd1,null,annotations);
    ctd.setName(o.getName() + Util.ANONYMOUS_ATTR_TYPE_SUFFIX);
  }
  model.qname2FileMap.put(new QName(ctd.getNamespace(),ctd.getName()),model.qname2FileMap.get(new QName(o.getNamespace(),o.getName())));
  return ctd;
}
