{
  while (true) {
    if (buffer.length() < BR_TAG.length())     break;
    char c=buffer.charAt(buffer.length() - 1);
    if (c == '\n' || c == '\r' || c == ' ' || c == '\t') {
      buffer.setLength(buffer.length() - 1);
      continue;
    }
    String tail=buffer.substring(buffer.length() - BR_TAG.length());
    if (tail.equalsIgnoreCase(BR_TAG)) {
      buffer.setLength(buffer.length() - BR_TAG.length());
      continue;
    }
    break;
  }
  buffer.append("</body></html>");
}
