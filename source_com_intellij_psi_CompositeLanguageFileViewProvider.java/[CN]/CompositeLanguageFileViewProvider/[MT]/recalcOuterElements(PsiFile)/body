{
  final SoftReference<Set<OuterLanguageElement>> outerSet;
  final Set<OuterLanguageElement> languageElements;
  psiFile.accept(new PsiElementVisitor(){
    public void visitReferenceExpression(    PsiReferenceExpression expression){
    }
    public void visitElement(    PsiElement element){
      if (element instanceof OuterLanguageElement) {
        registerOuterLanguageElement((OuterLanguageElement)element,psiFile);
      }
 else {
        element.acceptChildren(this);
      }
    }
  }
);
  outerSet=myOuterLanguageElements.get(psiFile);
  languageElements=outerSet.get();
  return languageElements;
}
