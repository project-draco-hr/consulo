{
  if (oldFile.getNode().getTextLength() != getContents().length() || !oldFile.getNode().getText().equals(getContents().toString())) {
    String message="Check consistency failed for: " + oldFile;
    message+="\n     oldFile.getNode().getTextLength() = " + oldFile.getNode().getTextLength();
    message+="\n     getContents().length() = " + getContents().length();
    if (ApplicationManagerEx.getApplicationEx().isInternal()) {
      message+="\n     oldFileText:\n" + oldFile.getNode().getText();
      message+="\n     contentsText:\n" + getContents().toString();
    }
    LOG.assertTrue(false,message);
  }
}
