{
  if (myInEmergencyReparse)   return;
  myInEmergencyReparse=true;
  try {
    myRootsInUpdate.addAll(myRoots.values());
    for (    final Language lang : getRelevantLanguages()) {
      final PsiFile cachedRoot=myRoots.get(lang);
      if (cachedRoot != null) {
        reparseRoot(lang,cachedRoot);
      }
    }
  }
 catch (  Throwable e) {
    throw new TooComplexPSIModificationException();
  }
 finally {
    myRootsInUpdate.clear();
    myInEmergencyReparse=false;
  }
}
