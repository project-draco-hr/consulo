{
  for (  final Language lang : rootsToReparse) {
    final PsiFile cachedRoot=myRoots.get(lang);
    if (cachedRoot != null) {
      if (myRootsInUpdate.contains(cachedRoot))       continue;
      try {
        myRootsInUpdate.add(cachedRoot);
        reparseRoot(lang,cachedRoot);
      }
  finally {
        myRootsInUpdate.remove(cachedRoot);
      }
    }
  }
}
