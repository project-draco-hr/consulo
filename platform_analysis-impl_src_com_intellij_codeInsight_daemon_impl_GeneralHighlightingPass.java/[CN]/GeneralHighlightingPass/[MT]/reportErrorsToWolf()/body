{
  if (!getFile().getViewProvider().isPhysical())   return;
  Project project=getFile().getProject();
  if (!PsiManager.getInstance(project).isInProject(getFile()))   return;
  VirtualFile file=getFile().getVirtualFile();
  if (file == null)   return;
  List<Problem> problems=convertToProblems(getInfos(),file,myHasErrorElement);
  WolfTheProblemSolver wolf=WolfTheProblemSolver.getInstance(project);
  boolean hasErrors=DaemonCodeAnalyzerEx.hasErrors(project,getDocument());
  if (!hasErrors || isWholeFileHighlighting()) {
    wolf.reportProblems(file,problems);
  }
 else {
    wolf.weHaveGotProblems(file,problems);
  }
}
