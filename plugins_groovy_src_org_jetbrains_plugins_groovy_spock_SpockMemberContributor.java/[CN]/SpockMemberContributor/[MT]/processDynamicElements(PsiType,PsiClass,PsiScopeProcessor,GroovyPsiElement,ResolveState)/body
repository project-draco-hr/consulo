{
  ClassHint classHint=processor.getHint(ClassHint.KEY);
  if (classHint != null && !classHint.shouldProcess(ClassHint.ResolveKind.PROPERTY))   return true;
  GrMethod method=PsiTreeUtil.getParentOfType(place,GrMethod.class);
  if (method == null)   return true;
  if (aClass != method.getContainingClass())   return true;
  Map<String,SpockVariableDescriptor> cachedValue=SpockUtils.getVariableMap(method);
  String nameHint=ResolveUtil.getNameHint(processor);
  if (nameHint == null) {
    for (    SpockVariableDescriptor spockVar : cachedValue.values()) {
      if (!processor.execute(spockVar.getVariable(),state))       return false;
    }
  }
 else {
    SpockVariableDescriptor spockVar=cachedValue.get(nameHint);
    if (spockVar != null && spockVar.getNavigationElement() != place) {
      if (!processor.execute(spockVar.getVariable(),state))       return false;
    }
  }
  return true;
}
