{
  final CheckoutListener[] listeners=Extensions.getExtensions(epName);
  for (  CheckoutListener listener : listeners) {
    myFoundProject=listener.processCheckedOutDirectory(myProject,directory);
    if (myFoundProject)     break;
  }
  if (!myFoundProject && !epName.equals(CheckoutListener.COMPLETED_EP_NAME)) {
    final VcsAwareCheckoutListener[] vcsAwareExtensions=Extensions.getExtensions(VcsAwareCheckoutListener.EP_NAME);
    for (    VcsAwareCheckoutListener extension : vcsAwareExtensions) {
      myFoundProject=extension.processCheckedOutDirectory(myProject,directory,myVcsKey);
      if (myFoundProject)       break;
    }
  }
  final Project[] openProjects=ProjectManager.getInstance().getOpenProjects();
  if (openProjects.length > 0) {
    final Project lastOpenedProject=openProjects[openProjects.length - 1];
    for (    CheckoutListener listener : listeners) {
      listener.processOpenedProject(lastOpenedProject);
    }
  }
}
