{
  try {
    if (file == null)     return;
    if (!file.isWritable())     return;
    final byte[] bytes=mySavedCopies.get(file);
    if (bytes != null) {
      try {
        final OutputStream stream=file.getOutputStream(this,-1,mySavedTimestamps.get(file));
        stream.write(bytes);
        stream.close();
      }
 catch (      IOException e) {
        Messages.showWarningDialog("Error writing to file '" + file.getPresentableUrl() + "'. Project may reload incorrectly.","Write error");
      }
    }
  }
  finally {
    mySavedCopies.remove(file);
    mySavedTimestamps.remove(file);
  }
}
