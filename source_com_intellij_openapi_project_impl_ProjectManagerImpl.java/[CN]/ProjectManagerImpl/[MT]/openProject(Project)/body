{
  if (myOpenProjects.contains(project))   return false;
  if (!ApplicationManager.getApplication().isUnitTestMode() && !checkVersion(project))   return false;
  myCountOfProjectsBeingOpen++;
  myOpenProjects.add(project);
  fireProjectOpened(project);
  ApplicationManager.getApplication().runProcessWithProgressSynchronously(new Runnable(){
    public void run(){
      ((StartupManagerImpl)StartupManager.getInstance(project)).runStartupActivities();
    }
  }
,ProjectBundle.message("project.load.progress"),false,project);
  ((StartupManagerImpl)StartupManager.getInstance(project)).runPostStartupActivities();
  FileDocumentManager fdManager=FileDocumentManager.getInstance();
  if (fdManager instanceof FileDocumentManagerImpl) {
    ((FileDocumentManagerImpl)fdManager).getDummyProject();
  }
  myCountOfProjectsBeingOpen--;
  return true;
}
