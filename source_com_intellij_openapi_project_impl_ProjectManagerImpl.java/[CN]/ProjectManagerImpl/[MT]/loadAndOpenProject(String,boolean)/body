{
  try {
    final IOException[] io=new IOException[]{null};
    final JDOMException[] jdom=new JDOMException[]{null};
    final InvalidDataException[] invalidData=new InvalidDataException[]{null};
    final StateStorage.StateStorageException[] stateStorage=new StateStorage.StateStorageException[]{null};
    final Project[] project=new Project[1];
    ProgressManager.getInstance().runProcessWithProgressSynchronously(new Runnable(){
      public void run(){
        final ProgressIndicator indicator=ProgressManager.getInstance().getProgressIndicator();
        try {
          if (indicator != null) {
            indicator.setText("Loading components");
            indicator.setIndeterminate(true);
          }
          project[0]=loadProject(filePath,convert);
        }
 catch (        IOException e) {
          io[0]=e;
          return;
        }
catch (        JDOMException e) {
          jdom[0]=e;
          return;
        }
catch (        InvalidDataException e) {
          invalidData[0]=e;
          return;
        }
catch (        StateStorage.StateStorageException e) {
          stateStorage[0]=e;
          return;
        }
        if (indicator != null) {
          indicator.setText("Initializing components");
        }
      }
    }
,"Loading Project",false,null);
    if (project[0] == null || !openProject(project[0])) {
      return null;
    }
    if (io[0] != null)     throw io[0];
    if (jdom[0] != null)     throw jdom[0];
    if (invalidData[0] != null)     throw invalidData[0];
    if (stateStorage[0] != null)     throw stateStorage[0];
    return project[0];
  }
 catch (  StateStorage.StateStorageException e) {
    throw new IOException(e.getMessage());
  }
}
