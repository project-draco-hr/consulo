{
  addProjectManagerListener(new ProjectManagerListener(){
    public void projectOpened(    Project project){
      ProjectManagerListener[] listeners=getListeners(project);
      for (int i=0; i < listeners.length; i++) {
        ProjectManagerListener listener=listeners[i];
        listener.projectOpened(project);
      }
    }
    public void projectClosed(    Project project){
      ProjectManagerListener[] listeners=getListeners(project);
      for (int i=0; i < listeners.length; i++) {
        ProjectManagerListener listener=listeners[i];
        listener.projectClosed(project);
      }
    }
    public boolean canCloseProject(    Project project){
      ProjectManagerListener[] listeners=getListeners(project);
      for (int i=0; i < listeners.length; i++) {
        ProjectManagerListener listener=listeners[i];
        if (!listener.canCloseProject(project)) {
          return false;
        }
      }
      return true;
    }
    public void projectClosing(    Project project){
      ProjectManagerListener[] listeners=getListeners(project);
      for (int i=0; i < listeners.length; i++) {
        ProjectManagerListener listener=listeners[i];
        listener.projectClosing(project);
      }
    }
  }
);
  registerExternalProjectFileListener(virtualFileManagerEx);
  myPathMacros=pathMacros;
  myFilePointerManager=filePointerManager;
}
