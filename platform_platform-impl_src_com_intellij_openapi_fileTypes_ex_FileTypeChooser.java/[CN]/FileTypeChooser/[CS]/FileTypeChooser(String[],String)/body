{
  super(true);
  myFileName=fileName;
  myOpenInIdea.setText("Open matching files in " + ApplicationNamesInfo.getInstance().getProductName() + ":");
  FileType[] fileTypes=FileTypeManager.getInstance().getRegisteredFileTypes();
  Arrays.sort(fileTypes,new Comparator<FileType>(){
    @Override public int compare(    final FileType fileType1,    final FileType fileType2){
      if (fileType1 == null) {
        return 1;
      }
      if (fileType2 == null) {
        return -1;
      }
      return fileType1.getDescription().compareToIgnoreCase(fileType2.getDescription());
    }
  }
);
  final DefaultListModel model=new DefaultListModel();
  for (  FileType type : fileTypes) {
    if (!type.isReadOnly() && type != FileTypes.UNKNOWN && !(type instanceof NativeFileType)) {
      model.addElement(type);
    }
  }
  myList.setModel(model);
  myPattern.setModel(new CollectionComboBoxModel(ContainerUtil.map(patterns,Function.ID),patterns[0]));
  setTitle(FileTypesBundle.message("filetype.chooser.title"));
  init();
}
