{
  return new JavaElementVisitor(){
    final String annotationName=Configuration.getInstance().getPatternAnnotationClass();
    public void visitReferenceExpression(    PsiReferenceExpression expression){
    }
    @Override public void visitAnnotation(    PsiAnnotation annotation){
      final String name=annotation.getQualifiedName();
      if (annotationName.equals(name)) {
        checkAnnotation(annotation,holder);
      }
 else       if (name != null) {
        final PsiClass psiClass=JavaPsiFacade.getInstance(annotation.getProject()).findClass(name,annotation.getResolveScope());
        if (psiClass != null && AnnotationUtil.isAnnotated(psiClass,annotationName,false)) {
          checkAnnotation(annotation,holder);
        }
      }
    }
  }
;
}
