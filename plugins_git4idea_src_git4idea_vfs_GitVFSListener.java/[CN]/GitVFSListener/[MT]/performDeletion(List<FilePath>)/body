{
  Map<VirtualFile,List<FilePath>> sortedFiles;
  try {
    sortedFiles=GitUtil.sortFilePathsByGitRoot(filesToDelete,true);
  }
 catch (  VcsException e) {
    ((GitVcs)myVcs).showMessages(e.getMessage());
    return;
  }
  for (  Map.Entry<VirtualFile,List<FilePath>> e : sortedFiles.entrySet()) {
    try {
      final VirtualFile root=e.getKey();
      GitFileUtils.delete(myProject,root,e.getValue());
      GitUtil.refreshFiles(myProject,e.getValue());
    }
 catch (    VcsException ex) {
      ((GitVcs)myVcs).showMessages(ex.getMessage());
    }
  }
}
