{
  performBackgroundOperation(filesToDelete,GitBundle.getString("remove.removing"),new LongOperationPerRootExecutor(){
    HashSet<File> filesToRefresh=new HashSet<File>();
    public void execute(    @NotNull VirtualFile root,    @NotNull List<FilePath> files) throws VcsException {
      final File rootFile=new File(root.getPath());
      GitFileUtils.delete(myProject,root,files,"--ignore-unmatch");
      if (myProject != null && !myProject.isDisposed()) {
        VcsFileUtil.markFilesDirty(myProject,files);
      }
      for (      FilePath p : files) {
        for (File f=p.getIOFile(); f != null && !f.equals(rootFile); f=f.getParentFile()) {
          filesToRefresh.add(f);
        }
      }
    }
    public Collection<File> getFilesToRefresh(){
      return filesToRefresh;
    }
  }
);
}
