{
  return with(new PatternCondition<T>("methodCallParameter"){
    public boolean accepts(    @NotNull final T literal,    final ProcessingContext context){
      final PsiElement parent=literal.getParent();
      if (parent instanceof GrArgumentList) {
        if (!(literal instanceof GrExpression))         return false;
        final GrArgumentList psiExpressionList=(GrArgumentList)parent;
        if (psiExpressionList.getExpressionArgumentIndex((GrExpression)literal) != index)         return false;
        final PsiElement element=psiExpressionList.getParent();
        if (element instanceof GrCall) {
          final GroovyPsiElement expression=element instanceof GrMethodCall ? ((GrMethodCall)element).getInvokedExpression() : element instanceof GrNewExpression ? ((GrNewExpression)element).getReferenceElement() : null;
          if (expression instanceof GrReferenceElement) {
            final GrReferenceElement ref=(GrReferenceElement)expression;
            PsiNamePatternCondition nameCondition=null;
            for (            PatternCondition<?> condition : methodPattern.getCondition().getConditions()) {
              if (condition instanceof PsiNamePatternCondition) {
                nameCondition=(PsiNamePatternCondition)condition;
                break;
              }
            }
            if (nameCondition != null && "withName".equals(nameCondition.getDebugMethodName())) {
              final String methodName=ref.getReferenceName();
              if (methodName != null && !nameCondition.getNamePattern().accepts(methodName,context)) {
                return false;
              }
            }
            for (            GroovyResolveResult result : ref.multiResolve(false)) {
              final PsiElement psiElement=result.getElement();
              if (methodPattern.getCondition().accepts(psiElement,context)) {
                return true;
              }
            }
          }
        }
      }
      return false;
    }
  }
);
}
