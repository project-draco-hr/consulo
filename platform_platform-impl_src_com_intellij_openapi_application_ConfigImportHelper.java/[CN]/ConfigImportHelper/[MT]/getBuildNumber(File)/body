{
  installDirectory=installDirectory.getAbsoluteFile();
  File buildTxt=new File(installDirectory,BUILD_NUMBER_FILE);
  if ((!buildTxt.exists()) || (buildTxt.isDirectory())) {
    buildTxt=new File(new File(installDirectory,BIN_FOLDER),BUILD_NUMBER_FILE);
  }
  if (buildTxt.exists() && !buildTxt.isDirectory()) {
    int buildNumber=-1;
    String buildNumberText=getContent(buildTxt);
    if (buildNumberText != null) {
      try {
        if (buildNumberText.length() > 1) {
          buildNumberText=buildNumberText.trim();
          buildNumber=Integer.parseInt(buildNumberText);
        }
      }
 catch (      Exception e) {
      }
    }
    return buildNumber;
  }
  return -1;
}
