{
  File oldConfigDir=findOldConfigDir(newConfigPath);
  do {
    ImportOldConfigsPanel dlg=getCustomDialog(oldConfigDir);
    if (dlg == null) {
      if (UIUtil.hasJdk6Dialogs()) {
        dlg=new ImportOldConfigsPanel(oldConfigDir);
      }
 else {
        dlg=new ImportOldConfigsPanel(oldConfigDir,JOptionPane.getRootFrame());
      }
    }
    UIUtil.setToolkitModal(dlg);
    AppUIUtil.updateDialogIcon(dlg);
    dlg.setVisible(true);
    if (dlg.isImportEnabled()) {
      File instHome=dlg.getSelectedFile();
      oldConfigDir=getOldConfigDir(instHome);
      if (!validateOldConfigDir(instHome,oldConfigDir))       continue;
      doImport(newConfigPath,oldConfigDir);
    }
    break;
  }
 while (true);
}
