{
  if (e instanceof PsiLiteralExpression) {
    return myHelper.computeConstantExpression(e);
  }
 else   if (e instanceof PsiReferenceExpression) {
    final PsiReferenceExpression ref=((PsiReferenceExpression)e);
    final PsiElement psiElement=ref.resolve();
    if (psiElement != null) {
      final Object o=myHelper.computeConstantExpression(e);
      if (o != null) {
        return o;
      }
 else       if (psiElement instanceof PsiModifierListOwner) {
        final Set<String> annotationNames=myConfiguration.getSubstAnnotationPair().second;
        final PsiAnnotation annotation=AnnotationUtil.findAnnotation((PsiModifierListOwner)psiElement,annotationNames);
        if (annotation != null) {
          return AnnotationUtilEx.calcAnnotationValue(annotation,"value");
        }
      }
    }
 else {
    }
  }
 else   if (e instanceof PsiParenthesizedExpression) {
    return computeSimpleExpression(((PsiParenthesizedExpression)e).getExpression());
  }
 else   if (e instanceof PsiMethodCallExpression) {
    final PsiMethodCallExpression c=((PsiMethodCallExpression)e);
    final PsiMethod m=(PsiMethod)c.getMethodExpression().resolve();
    if (m != null && m.getReturnType() != PsiType.VOID) {
      final PsiAnnotation annotation=AnnotationUtil.findAnnotation(m,myConfiguration.getSubstAnnotationPair().second);
      if (annotation != null) {
        return AnnotationUtilEx.calcAnnotationValue(annotation,"value");
      }
    }
  }
  return myHelper.computeConstantExpression(e);
}
