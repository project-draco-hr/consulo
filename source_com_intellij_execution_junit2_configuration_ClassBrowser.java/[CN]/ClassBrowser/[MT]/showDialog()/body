{
  final TreeClassChooserDialog.ClassFilterWithScope classFilter;
  try {
    classFilter=getFilter();
  }
 catch (  NoFilterException e) {
    final MessagesEx.MessageInfo info=e.getMessageInfo();
    info.showNow();
    return null;
  }
  final TreeClassChooserDialog dialog=TreeClassChooserDialog.withInnerClasses(myTitle,getProject(),classFilter.getScope(),classFilter,null);
  configureDialog(dialog);
  dialog.show();
  final PsiClass psiClass=dialog.getSelectedClass();
  if (psiClass == null)   return null;
  onClassChoosen(psiClass);
  return ExecutionUtil.getRuntimeQualifiedName(psiClass);
}
