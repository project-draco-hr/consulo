{
  if (!ApplicationManager.getApplication().isHeadlessEnvironment() && !modulesWithUnknownTypes.isEmpty()) {
    String message;
    if (modulesWithUnknownTypes.size() == 1) {
      message=ProjectBundle.message("module.unknown.type.single.error",modulesWithUnknownTypes.get(0).getName(),ModuleType.get(modulesWithUnknownTypes.get(0)).getId());
    }
 else {
      StringBuilder modulesBuilder=new StringBuilder();
      for (      final Module module : modulesWithUnknownTypes) {
        modulesBuilder.append("<br>\"");
        modulesBuilder.append(module.getName()).append("\" (type '").append(ModuleType.get(module).getId()).append("')");
      }
      modulesBuilder.append("<br>");
      message=ProjectBundle.message("module.unknown.type.multiple.error",modulesBuilder.toString());
    }
    Notifications.Bus.notify(new Notification("Module Manager",ProjectBundle.message("module.unknown.type.title"),message,NotificationType.WARNING),myProject);
  }
}
