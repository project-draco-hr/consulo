{
  super(project);
  if (ApplicationManager.getApplication().isHeadlessEnvironment()) {
    myContentManager=new NotNullLazyValue<ContentManager>(){
      @NotNull @Override protected ContentManager compute(){
        return ContentFactory.SERVICE.getInstance().createContentManager(new TabbedPaneContentUI(),true,project);
      }
    }
;
  }
 else {
    myContentManager=new NotNullLazyValue<ContentManager>(){
      @NotNull @Override protected ContentManager compute(){
        ToolWindowManager toolWindowManager=ToolWindowManager.getInstance(project);
        ToolWindow toolWindow=toolWindowManager.registerToolWindow(ToolWindowId.INSPECTION,true,ToolWindowAnchor.BOTTOM,project);
        ContentManager contentManager=toolWindow.getContentManager();
        toolWindow.setIcon(AllIcons.Toolwindows.ToolWindowInspection);
        new ContentManagerWatcher(toolWindow,contentManager);
        return contentManager;
      }
    }
;
  }
}
