{
  final boolean validated=super.validate();
  if (!validated) {
    return false;
  }
  final List<ModuleDescriptor> modules=myModulesLayoutPanel.getChosenEntries();
  final Map<String,ModuleDescriptor> errors=new LinkedHashMap<String,ModuleDescriptor>();
  for (  ModuleDescriptor module : modules) {
    try {
      final String moduleFilePath=module.computeModuleFilePath();
      if (new File(moduleFilePath).exists()) {
        errors.put(IdeBundle.message("warning.message.the.module.file.0.already.exist.and.will.be.overwritten",moduleFilePath),module);
      }
    }
 catch (    InvalidDataException e) {
      errors.put(e.getMessage(),module);
    }
  }
  if (!errors.isEmpty()) {
    final int answer=Messages.showYesNoCancelDialog(getComponent(),IdeBundle.message("warning.text.0.do.you.want.to.overwrite.these.files",StringUtil.join(errors.keySet(),"\n"),errors.size()),IdeBundle.message("title.file.already.exists"),"Overwrite","Reuse","Cancel",Messages.getQuestionIcon());
    if (answer == 2) {
      return false;
    }
    if (answer != 0) {
      for (      ModuleDescriptor moduleDescriptor : errors.values()) {
        moduleDescriptor.reuseExisting(true);
      }
    }
  }
  return true;
}
