{
  myThreadToUse=threadToUse;
  myExecutorService=threadToUse == ThreadToUse.SWING_THREAD ? EdtExecutorService.getScheduledExecutorInstance() : AppExecutorUtil.createBoundedScheduledExecutorService("Alarm pool",1);
  if (parentDisposable == null) {
    if (threadToUse == ThreadToUse.POOLED_THREAD || threadToUse != ThreadToUse.SWING_THREAD) {
      boolean crash=threadToUse == ThreadToUse.POOLED_THREAD || ApplicationManager.getApplication().isUnitTestMode();
      IllegalArgumentException t=new IllegalArgumentException("You must provide parent Disposable for non-swing thread Alarm");
      if (crash) {
        throw t;
      }
      LOG.warn(t);
    }
  }
 else {
    Disposer.register(parentDisposable,this);
  }
}
