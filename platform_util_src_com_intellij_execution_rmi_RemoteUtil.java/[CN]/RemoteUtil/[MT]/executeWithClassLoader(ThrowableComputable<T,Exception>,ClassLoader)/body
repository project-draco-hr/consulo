{
  final Thread thread=Thread.currentThread();
  final ClassLoader prev=thread.getContextClassLoader();
  try {
    thread.setContextClassLoader(classLoader);
    return action.compute();
  }
  finally {
    thread.setContextClassLoader(prev);
  }
}
