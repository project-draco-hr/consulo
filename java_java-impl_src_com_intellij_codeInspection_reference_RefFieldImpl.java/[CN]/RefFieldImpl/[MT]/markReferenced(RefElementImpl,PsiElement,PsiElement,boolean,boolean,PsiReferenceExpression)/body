{
  addInReference(refFrom);
  boolean referencedFromClassInitializer=false;
  if (forWriting && expressionFrom != null) {
    PsiClassInitializer initializer=PsiTreeUtil.getParentOfType(expressionFrom,PsiClassInitializer.class);
    if (initializer != null) {
      if (initializer.getParent() instanceof PsiClass && psiFrom == initializer.getParent() && !expressionFrom.isQualified()) {
        referencedFromClassInitializer=true;
      }
    }
  }
  if (forWriting) {
    setUsedForWriting(true);
  }
  if (forReading) {
    setUsedForReading(true);
  }
  getRefManager().fireNodeMarkedReferenced(this,refFrom,referencedFromClassInitializer,forReading,forWriting);
}
