{
  final Collection<Pair<String,Runnable>> list;
synchronized (myLock) {
    list=myInterrupters.remove(project);
  }
  if (list != null) {
    ProgressManager.getInstance().runProcessWithProgressSynchronously(new Runnable(){
      public void run(){
        final ProgressIndicator indicator=ProgressManager.getInstance().getProgressIndicator();
        for (        Pair<String,Runnable> pair : list) {
          if (indicator != null) {
            indicator.setText(pair.getFirst());
            indicator.checkCanceled();
          }
          pair.getSecond().run();
        }
      }
    }
,"Please wait for safe shutdown of periodical tasks...",true,project);
  }
}
