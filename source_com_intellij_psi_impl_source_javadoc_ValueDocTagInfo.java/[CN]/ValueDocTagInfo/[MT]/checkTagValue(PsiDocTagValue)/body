{
  boolean hasReference=(value != null && value.getFirstChild() != null);
  if (hasReference) {
    if (!value.getManager().getEffectiveLanguageLevel().hasEnumKeywordAndAutoboxing()) {
      return "@value tag may not have any arguments when JDK 1.4 or earlier is used";
    }
  }
  if (value != null) {
    PsiReference reference=value.getReference();
    if (reference != null) {
      PsiElement target=reference.resolve();
      if (target != null) {
        if (!(target instanceof PsiField)) {
          return "@value tag must reference a field";
        }
        PsiField field=(PsiField)target;
        if (!field.getModifierList().hasModifierProperty(PsiModifier.STATIC)) {
          return "@value tag must reference a static field";
        }
        if (field.getInitializer() == null || ConstantExpressionEvaluator.computeConstantExpression(field.getInitializer(),null,false) == null) {
          return "@value tag must reference a field with a constant initializer";
        }
      }
    }
  }
  return null;
}
