{
  if (!(element instanceof XmlTag))   return GenericReference.EMPTY_ARRAY;
  PsiElement originalElement=element.getUserData(PsiUtil.ORIGINAL_KEY);
  if (originalElement != null) {
    element=originalElement;
  }
  final Module module=ModuleUtil.findModuleForPsiElement(element);
  if (module == null)   return GenericReference.EMPTY_ARRAY;
  final JavaeeModuleProperties properties=JavaeeModuleProperties.getInstance(module);
  if (properties == null)   return GenericReference.EMPTY_ARRAY;
  properties.ensureDomLoaded();
  final XmlTag tag=(XmlTag)element;
  final DomElement domElement=DomManager.getDomManager(properties.getModule().getProject()).getDomElement(tag);
  if (!(domElement instanceof GenericDomValue))   return GenericReference.EMPTY_ARRAY;
  final GenericReference reference=getReferenceByElement((GenericDomValue)domElement);
  return reference != null ? new GenericReference[]{reference} : GenericReference.EMPTY_ARRAY;
}
