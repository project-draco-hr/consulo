{
  if (ReadonlyStatusHandler.getInstance(project).ensureFilesWritable(new VirtualFile[]{descriptor.getPsiElement().getContainingFile().getVirtualFile()}).hasReadonlyFiles())   return;
  final PsiElement ifKeywordElement=descriptor.getPsiElement();
  final PsiIfStatement ifStatement=(PsiIfStatement)ifKeywordElement.getParent();
  final String newStatement=calculateReplacementStatement(ifStatement);
  replaceStatement(project,ifStatement,newStatement);
}
