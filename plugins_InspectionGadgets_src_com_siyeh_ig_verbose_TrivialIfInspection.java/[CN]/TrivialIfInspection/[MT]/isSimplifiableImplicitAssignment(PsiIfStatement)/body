{
  if (ifStatement.getElseBranch() != null) {
    return false;
  }
  PsiStatement thenBranch=ifStatement.getThenBranch();
  thenBranch=ConditionalUtils.stripBraces(thenBranch);
  final PsiElement nextStatement=PsiTreeUtil.skipSiblingsBackward(ifStatement,new Class[]{PsiWhiteSpace.class});
  if (!(nextStatement instanceof PsiStatement)) {
    return false;
  }
  PsiStatement elseBranch=(PsiStatement)nextStatement;
  elseBranch=ConditionalUtils.stripBraces(elseBranch);
  if (ConditionalUtils.isAssignment(thenBranch,"true") && ConditionalUtils.isAssignment(elseBranch,"false")) {
    final PsiAssignmentExpression thenExpression=(PsiAssignmentExpression)((PsiExpressionStatement)thenBranch).getExpression();
    final PsiAssignmentExpression elseExpression=(PsiAssignmentExpression)((PsiExpressionStatement)elseBranch).getExpression();
    final PsiJavaToken thenSign=thenExpression.getOperationSign();
    final PsiJavaToken elseSign=elseExpression.getOperationSign();
    if (!thenSign.getTokenType().equals(elseSign.getTokenType())) {
      return false;
    }
    final PsiExpression thenLhs=thenExpression.getLExpression();
    final PsiExpression elseLhs=elseExpression.getLExpression();
    return ExpressionEquivalenceChecker.expressionsAreEquivalent(thenLhs,elseLhs);
  }
 else {
    return false;
  }
}
