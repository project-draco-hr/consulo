{
  ExecutionResult executionResult=createExecutionResult(session);
  myConsole=executionResult.getExecutionConsole();
  myUi.addContent(createFramesContent(session),0,RunnerLayoutUi.PlaceInGrid.left,false);
  myUi.addContent(createVariablesContent(session),0,RunnerLayoutUi.PlaceInGrid.center,false);
  myUi.addContent(createWatchesContent(session),0,RunnerLayoutUi.PlaceInGrid.right,false);
  myUi.addContent(createConsoleContent(),1,RunnerLayoutUi.PlaceInGrid.bottom,false);
  myRunContentDescriptor=new RunContentDescriptor(myConsole,executionResult.getProcessHandler(),myUi.getComponent(),getSessionName());
  if (ApplicationManager.getApplication().isUnitTestMode()) {
    return myRunContentDescriptor;
  }
  DefaultActionGroup group=new DefaultActionGroup();
  final Executor executor=DefaultDebugExecutor.getDebugExecutorInstance();
  RestartAction restarAction=new RestartAction(executor,myRunner,myRunContentDescriptor.getProcessHandler(),XDebuggerUIConstants.DEBUG_AGAIN_ICON,myRunContentDescriptor,myEnvironment);
  group.add(restarAction);
  restarAction.registerShortcut(myUi.getComponent());
  addActionToGroup(group,XDebuggerActions.RESUME);
  addActionToGroup(group,IdeActions.ACTION_STOP_PROGRAM);
  group.addSeparator();
  addActionToGroup(group,XDebuggerActions.VIEW_BREAKPOINTS);
  group.addSeparator();
  group.addSeparator();
  group.add(myUi.getLayoutActions());
  group.addSeparator();
  group.add(new CloseAction(executor,myRunContentDescriptor,myProject));
  group.add(new ContextHelpAction(executor.getHelpId()));
  myUi.setLeftToolbar(group,ActionPlaces.DEBUGGER_TOOLBAR);
  return myRunContentDescriptor;
}
