{
  createProjectSubDir("res");
  importProject("<groupId>test</groupId>" + "<artifactId>project</artifactId>" + "<version>1</version>"+ "<properties>"+ "  <foo>value</foo>"+ "</properties>"+ "<build>"+ "  <resources>"+ "    <resource>"+ "      <directory>res</directory>"+ "      <filtering>true</filtering>"+ "    </resource>"+ "  </resources>"+ "</build>");
  VirtualFile f=createProjectSubFile("res/foo.properties","foo=abc${f<caret>oo}abc");
  assertResolved(f,findTag("project.properties.foo"));
  doRename(f,"bar");
  assertEquals(createPomXml("<groupId>test</groupId>" + "<artifactId>project</artifactId>" + "<version>1</version>"+ "<properties>"+ "  <bar>value</bar>"+ "</properties>"+ "<build>"+ "  <resources>"+ "    <resource>"+ "      <directory>res</directory>"+ "      <filtering>true</filtering>"+ "    </resource>"+ "  </resources>"+ "</build>"),findPsiFile(myProjectPom).getText());
  assertEquals("foo=abc${bar}abc",findPsiFile(f).getText());
}
