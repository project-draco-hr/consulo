{
  if (myInited)   return;
  Module module=myWizard.getFacet().getModule();
  PropertiesComponent properties=PropertiesComponent.getInstance(module.getProject());
  String lastModule=properties.getValue(ChooseModuleStep.MODULE_PROPERTY);
  String lastApkPath=properties.getValue(getApkPathPropertyName());
  if (lastApkPath != null && module.getName().equals(lastModule)) {
    myApkPathField.setText(FileUtil.toSystemDependentName(lastApkPath));
  }
 else {
    String contentRootPath=getContentRootPath(module);
    if (contentRootPath != null) {
      String defaultPath=FileUtil.toSystemDependentName(contentRootPath + "/" + module.getName()+ ".apk");
      myApkPathField.setText(defaultPath);
    }
  }
  final String runProguardPropValue=properties.getValue(RUN_PROGUARD_PROPERTY);
  boolean selected;
  if (runProguardPropValue != null) {
    selected=Boolean.parseBoolean(runProguardPropValue);
  }
 else {
    selected=false;
  }
  myProguardCheckBox.setSelected(selected);
  myProguardConfigFilePathLabel.setEnabled(selected);
  myProguardConfigFilePathField.setEnabled(selected);
  final String proguardCfgPath=properties.getValue(PROGUARD_CFG_PATH_PROPERTY);
  if (proguardCfgPath != null && LocalFileSystem.getInstance().refreshAndFindFileByPath(proguardCfgPath) != null) {
    myProguardConfigFilePathField.setText(FileUtil.toSystemDependentName(proguardCfgPath));
  }
 else {
    final VirtualFile proguardConfigFile=AndroidCompileUtil.getProguardConfigFile(myWizard.getFacet());
    if (proguardConfigFile != null) {
      myProguardConfigFilePathField.setText(FileUtil.toSystemDependentName(proguardConfigFile.getPath()));
    }
  }
  myInited=true;
}
