{
  if (scope instanceof PsiMetaOwner) {
    final PsiMetaOwner owner=(PsiMetaOwner)scope;
    if (!owner.isMetaEnough() && !scope.processDeclarations(processor,substitutor,lastParent,place)) {
      return false;
    }
    final PsiMetaData data=owner.getMetaData();
    if (data != null && !data.processDeclarations(scope,processor,substitutor,lastParent,place)) {
      return false;
    }
    return true;
  }
  return scope.processDeclarations(processor,substitutor,lastParent,place);
}
