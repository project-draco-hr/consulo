{
  if (scope instanceof PsiMetaOwner) {
    final PsiMetaOwner owner=(PsiMetaOwner)scope;
    if (!owner.isMetaEnough()) {
      if (!scope.processDeclarations(processor,substitutor,lastParent,place))       return false;
    }
    final PsiMetaData data=owner.getMetaData();
    if (data != null) {
      if (!data.processDeclarations(scope,processor,substitutor,lastParent,place))       return false;
    }
    return true;
  }
 else {
    return scope.processDeclarations(processor,substitutor,lastParent,place);
  }
}
