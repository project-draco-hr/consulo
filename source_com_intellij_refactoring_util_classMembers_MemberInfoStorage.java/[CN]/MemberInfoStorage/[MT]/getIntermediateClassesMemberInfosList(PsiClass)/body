{
  LinkedHashSet<MemberInfo> result=myTargetClassToMemberInfosListMap.get(targetClass);
  if (result == null) {
    result=new LinkedHashSet<MemberInfo>();
    LinkedHashSet<PsiClass> subclasses=getSubclasses(targetClass);
    for (Iterator<PsiClass> iterator=subclasses.iterator(); iterator.hasNext(); ) {
      PsiClass subclass=iterator.next();
      List<MemberInfo> memberInfos=getClassMemberInfos(subclass);
      result.addAll(memberInfos);
    }
    for (Iterator<PsiClass> iterator=subclasses.iterator(); iterator.hasNext(); ) {
      PsiClass subclass=iterator.next();
      result.addAll(getIntermediateClassesMemberInfosList(subclass));
    }
    myTargetClassToMemberInfosListMap.put(targetClass,result);
  }
  return result;
}
