{
  editor.getScrollingModel().scrollToCaret(ScrollType.MAKE_VISIBLE);
  PsiElement element=LangDataKeys.PSI_ELEMENT.getData(dataContext);
  if (element != null) {
    for (    InlineActionHandler handler : Extensions.getExtensions(InlineActionHandler.EP_NAME)) {
      if (handler.canInlineElementInEditor(element)) {
        handler.inlineElement(project,editor,element);
        return;
      }
    }
    final List<InlineHandler> handlers=InlineHandlers.getInlineHandlers(element.getLanguage());
    for (    InlineHandler handler : handlers) {
      if (GenericInlineHandler.invoke(element,editor,handler)) {
        return;
      }
    }
    String message=RefactoringBundle.getCannotRefactorMessage(RefactoringBundle.message("error.wrong.caret.position.method.or.local.name"));
    CommonRefactoringUtil.showErrorHint(project,editor,message,REFACTORING_NAME,null);
  }
}
