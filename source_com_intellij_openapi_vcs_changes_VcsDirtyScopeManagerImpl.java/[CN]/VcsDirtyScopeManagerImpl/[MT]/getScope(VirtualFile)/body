{
synchronized (myScopes) {
    final AbstractVcs vcs=myVcsManager.getVcsFor(root);
    VcsDirtyScope scope=myScopes.get(vcs);
    if (scope == null) {
      scope=new VcsDirtyScope(vcs,myProject);
      myScopes.put(vcs,scope);
    }
    return scope;
  }
}
