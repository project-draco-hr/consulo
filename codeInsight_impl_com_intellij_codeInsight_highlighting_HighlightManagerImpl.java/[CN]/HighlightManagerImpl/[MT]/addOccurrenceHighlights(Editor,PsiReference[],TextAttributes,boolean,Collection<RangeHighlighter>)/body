{
  if (occurrences.length == 0)   return;
  int flags=HIDE_BY_ESCAPE;
  if (hideByTextChange) {
    flags|=HIDE_BY_TEXT_CHANGE;
  }
  Color scrollmarkColor=getScrollMarkColor(attributes);
  for (  PsiReference occurrence : occurrences) {
    PsiElement element=occurrence.getElement();
    int startOffset=element.getTextRange().getStartOffset();
    int start=startOffset + occurrence.getRangeInElement().getStartOffset();
    int end=startOffset + occurrence.getRangeInElement().getEndOffset();
    addOccurrenceHighlight(editor,start,end,attributes,flags,outHighlighters,scrollmarkColor);
  }
}
