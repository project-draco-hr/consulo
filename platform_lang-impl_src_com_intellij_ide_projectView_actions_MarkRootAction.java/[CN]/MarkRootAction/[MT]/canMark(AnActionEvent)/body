{
  Module module=e.getData(LangDataKeys.MODULE);
  VirtualFile[] vFiles=e.getData(CommonDataKeys.VIRTUAL_FILE_ARRAY);
  if (module == null || vFiles == null) {
    return false;
  }
  ModuleRootManager moduleRootManager=ModuleRootManager.getInstance(module);
  final ContentEntry[] contentEntries=moduleRootManager.getContentEntries();
  for (  VirtualFile vFile : vFiles) {
    if (!vFile.isDirectory()) {
      return false;
    }
    for (    ContentEntry contentEntry : contentEntries) {
      for (      ContentFolder contentFolder : contentEntry.getFolders(ContentFolderScopes.all())) {
        if (Comparing.equal(contentFolder.getFile(),vFile)) {
          if (contentFolder.getType() == myContentFolderType) {
            return false;
          }
        }
      }
    }
  }
  return true;
}
