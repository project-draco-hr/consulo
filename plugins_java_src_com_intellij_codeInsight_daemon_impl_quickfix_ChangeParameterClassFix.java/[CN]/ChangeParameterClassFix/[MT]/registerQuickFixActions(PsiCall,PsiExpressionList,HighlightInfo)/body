{
  final JavaResolveResult result=methodCall.resolveMethodGenerics();
  PsiMethod method=(PsiMethod)result.getElement();
  final PsiSubstitutor substitutor=result.getSubstitutor();
  PsiExpression[] expressions=list.getExpressions();
  if (method == null)   return;
  final PsiParameter[] parameters=method.getParameterList().getParameters();
  if (parameters.length != expressions.length)   return;
  for (int i=0; i < expressions.length; i++) {
    final PsiExpression expression=expressions[i];
    final PsiParameter parameter=parameters[i];
    final PsiType expressionType=expression.getType();
    final PsiType parameterType=substitutor.substitute(parameter.getType());
    if (expressionType == null || expressionType instanceof PsiPrimitiveType || TypeConversionUtil.isNullType(expressionType) || expressionType instanceof PsiArrayType)     continue;
    if (parameterType instanceof PsiPrimitiveType || TypeConversionUtil.isNullType(parameterType) || parameterType instanceof PsiArrayType)     continue;
    if (parameterType.isAssignableFrom(expressionType))     continue;
    PsiClass parameterClass=PsiUtil.resolveClassInType(parameterType);
    PsiClass expressionClass=PsiUtil.resolveClassInType(expressionType);
    if (parameterClass == null || expressionClass == null)     continue;
    if (expressionClass instanceof PsiAnonymousClass)     continue;
    if (parameterClass.isInheritor(expressionClass,true))     continue;
    QuickFixAction.registerQuickFixAction(highlightInfo,new ChangeParameterClassFix(expressionClass,(PsiClassType)parameterType));
  }
}
