{
  int offset=DocumentUtil.getFirstNonSpaceCharOffset(editor.getDocument(),line);
  RangeHighlighter highlighter=editor.getMarkupModel().addRangeHighlighter(offset,offset,LINE_MARKER_LAYER,null,HighlighterTargetArea.LINES_IN_RANGE);
  highlighter.setLineSeparatorPlacement(placement);
  highlighter.setLineSeparatorRenderer(renderer);
  if (type == null || applied)   return Collections.singletonList(highlighter);
  TextAttributes stripeAttributes=getStripeTextAttributes(type,editor);
  RangeHighlighter stripeHighlighter=editor.getMarkupModel().addRangeHighlighter(offset,offset,STRIPE_LAYER,stripeAttributes,HighlighterTargetArea.LINES_IN_RANGE);
  return ContainerUtil.list(highlighter,stripeHighlighter);
}
