{
  PsiElement pParent=getParent().getParent().getParent();
  if (pParent instanceof GrAnnotation) {
    GrCodeReferenceElement ref=((GrAnnotation)pParent).getClassReference();
    if (ref != null) {
      PsiElement resolved=ref.resolve();
      if (resolved instanceof PsiClass && ((PsiClass)resolved).isAnnotationType()) {
        String declaredName=getName();
        String name=declaredName == null ? PsiAnnotation.DEFAULT_REFERENCED_METHOD_NAME : declaredName;
        PsiMethod[] methods=((PsiClass)resolved).findMethodsByName(name,false);
        return methods.length == 1 ? methods[0] : null;
      }
    }
  }
  return null;
}
