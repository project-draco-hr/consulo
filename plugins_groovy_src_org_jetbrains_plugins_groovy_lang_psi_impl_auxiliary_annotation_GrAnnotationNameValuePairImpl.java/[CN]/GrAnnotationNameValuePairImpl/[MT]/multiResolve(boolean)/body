{
  GrAnnotation annotation=getAnnotation();
  if (annotation != null) {
    GrCodeReferenceElement ref=annotation.getClassReference();
    PsiElement resolved=ref.resolve();
    String declaredName=getName();
    String name=declaredName == null ? PsiAnnotation.DEFAULT_REFERENCED_METHOD_NAME : declaredName;
    if (resolved instanceof PsiClass) {
      final GrAnnotation collector=GrAnnotationCollector.findAnnotationCollector((PsiClass)resolved);
      if (collector != null) {
        return multiResolveFromAlias(annotation,name,collector);
      }
      if (((PsiClass)resolved).isAnnotationType()) {
        return multiResolveFromAnnotationType((PsiClass)resolved,name);
      }
    }
  }
  return GroovyResolveResult.EMPTY_ARRAY;
}
