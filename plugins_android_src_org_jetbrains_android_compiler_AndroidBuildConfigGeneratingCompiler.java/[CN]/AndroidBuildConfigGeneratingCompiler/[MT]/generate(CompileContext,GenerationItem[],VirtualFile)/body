{
  if (items == null || items.length == 0) {
    return new GenerationItem[0];
  }
  context.getProgressIndicator().setText("Generating BuildConfig.java...");
  final String genFolderOsPath=FileUtil.toSystemDependentName(outputRootDirectory.getPath());
  final List<GenerationItem> result=new ArrayList<GenerationItem>();
  for (  GenerationItem item : items) {
    final MyGenerationItem genItem=(MyGenerationItem)item;
    final BuildConfigGenerator generator=new BuildConfigGenerator(genFolderOsPath,genItem.myPackage,genItem.myDebug);
    try {
      generator.generate();
      result.add(genItem);
    }
 catch (    IOException e) {
      context.addMessage(CompilerMessageCategory.ERROR,"I/O error: " + e.getMessage(),null,-1,-1);
      LOG.info(e);
    }
  }
  if (result.size() > 0) {
    outputRootDirectory.refresh(false,true);
  }
  return result.toArray(new GenerationItem[result.size()]);
}
