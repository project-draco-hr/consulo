{
  AndroidFacet facet=AndroidFacet.getInstance(domElement);
  if (facet == null)   return null;
  Map<String,PsiClass> classMap=facet.getClassMap(baseClassName,SimpleClassMapConstructor.getInstance());
  String name=domElement.getXmlTag().getName();
  PsiClass aClass=classMap.get(name);
  if (aClass != null) {
    final DefinesXml definesXml=domElement.getAnnotation(DefinesXml.class);
    if (definesXml != null) {
      return new AndroidClassTagDescriptor(aClass,new DomElementXmlDescriptor(domElement));
    }
    final PsiElement parent=tag.getParent();
    if (parent instanceof XmlTag) {
      final XmlElementDescriptor parentDescriptor=((XmlTag)parent).getDescriptor();
      if (parentDescriptor != null && parentDescriptor instanceof AndroidClassTagDescriptor) {
        XmlElementDescriptor domDescriptor=parentDescriptor.getElementDescriptor(tag,(XmlTag)parent);
        if (domDescriptor != null) {
          return new AndroidClassTagDescriptor(aClass,domDescriptor);
        }
      }
    }
  }
  return null;
}
