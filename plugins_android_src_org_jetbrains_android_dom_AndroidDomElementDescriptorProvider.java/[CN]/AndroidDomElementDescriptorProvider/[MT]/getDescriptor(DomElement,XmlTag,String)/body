{
  AndroidFacet facet=AndroidFacet.getInstance(domElement);
  if (facet == null)   return null;
  PsiClass aClass;
  if (baseClassName != null) {
    Map<String,PsiClass> classMap=facet.getClassMap(baseClassName,SimpleClassMapConstructor.getInstance());
    String name=domElement.getXmlTag().getName();
    aClass=classMap.get(name);
  }
 else {
    aClass=null;
  }
  final DefinesXml definesXml=domElement.getAnnotation(DefinesXml.class);
  if (definesXml != null) {
    return new AndroidXmlTagDescriptor(aClass,new DomElementXmlDescriptor(domElement));
  }
  final PsiElement parent=tag.getParent();
  if (parent instanceof XmlTag) {
    final XmlElementDescriptor parentDescriptor=((XmlTag)parent).getDescriptor();
    if (parentDescriptor != null && parentDescriptor instanceof AndroidXmlTagDescriptor) {
      XmlElementDescriptor domDescriptor=parentDescriptor.getElementDescriptor(tag,(XmlTag)parent);
      if (domDescriptor != null) {
        return new AndroidXmlTagDescriptor(aClass,domDescriptor);
      }
    }
  }
  return null;
}
