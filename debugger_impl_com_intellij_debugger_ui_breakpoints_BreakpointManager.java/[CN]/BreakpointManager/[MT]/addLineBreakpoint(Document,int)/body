{
  LOG.assertTrue(SwingUtilities.isEventDispatchThread());
  if (!LineBreakpoint.canAddLineBreakpoint(myProject,document,lineIndex)) {
    return null;
  }
  LineBreakpoint breakpoint=LineBreakpoint.create(myProject,document,lineIndex);
  if (breakpoint == null) {
    return null;
  }
  addBreakpoint(breakpoint);
  return breakpoint;
}
