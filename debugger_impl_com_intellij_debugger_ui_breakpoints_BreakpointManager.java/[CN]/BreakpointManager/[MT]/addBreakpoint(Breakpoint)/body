{
  myBreakpoints.add(breakpoint);
  myBreakpointsListForIteration=null;
  if (breakpoint instanceof BreakpointWithHighlighter) {
    BreakpointWithHighlighter breakpointWithHighlighter=((BreakpointWithHighlighter)breakpoint);
    Document document=breakpointWithHighlighter.getDocument();
    if (document != null) {
      List<BreakpointWithHighlighter> breakpoints=myDocumentBreakpoints.get(document);
      if (breakpoints == null) {
        breakpoints=new ArrayList<BreakpointWithHighlighter>();
        myDocumentBreakpoints.put(document,breakpoints);
      }
      breakpoints.add(breakpointWithHighlighter);
    }
  }
  myDispatcher.getMulticaster().breakpointsChanged();
}
