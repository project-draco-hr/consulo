{
  final boolean startedRename=new VariableInplaceRenamer((PsiNameIdentifierOwner)elementToRename,editor).performInplaceRename();
  if (!startedRename) {
    final DataContext ourDataContext=new DataContext(){
      public Object getData(      @NonNls final String dataId){
        if (INVOKING_DEFAULT.equals(dataId)) {
          return Boolean.TRUE;
        }
        return dataContext.getData(dataId);
      }
    }
;
    RenameHandlerRegistry.getInstance().getRenameHandler(ourDataContext).invoke(elementToRename.getProject(),editor,elementToRename.getContainingFile(),ourDataContext);
  }
}
