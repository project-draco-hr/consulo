{
  final boolean startedRename=new VariableInplaceRenamer((PsiNameIdentifierOwner)elementToRename,editor).performInplaceRename();
  if (!startedRename) {
    RenameHandlerRegistry.getInstance().getRenameHandler(dataContext).invoke(elementToRename.getProject(),editor,elementToRename.getContainingFile(),new DataContext(){
      public Object getData(      @NonNls final String dataId){
        if (INVOKING_DEFAULT.equals(dataId)) {
          return Boolean.TRUE;
        }
        return dataContext.getData(dataId);
      }
    }
);
  }
}
