{
  final PsiElement element=PsiElementRenameHandler.getElement(dataContext);
  final Editor editor=PlatformDataKeys.EDITOR.getData(dataContext);
  final PsiFile file=LangDataKeys.PSI_FILE.getData(dataContext);
  if (editor == null || file == null)   return false;
  final PsiElement nameSuggestionContext=file.findElementAt(editor.getCaretModel().getOffset());
  return element instanceof PsiVariable && VariableInplaceRenamer.mayRenameInplace((PsiVariable)element,editor,nameSuggestionContext);
}
