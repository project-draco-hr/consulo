{
  final Map<String,Set<MavenDomDependency>> allDuplicates=getDuplicateDependenciesMap(projectModel);
  for (  MavenDomDependency dependency : projectModel.getDependencies().getDependencies()) {
    String id=createId(dependency);
    if (id != null) {
      Set<MavenDomDependency> dependencies=allDuplicates.get(id);
      if (dependencies != null && dependencies.size() > 1) {
        List<MavenDomDependency> duplicatedDependencies=new ArrayList<MavenDomDependency>();
        for (        MavenDomDependency d : dependencies) {
          if (d == dependency)           continue;
          if (d.getParent() == dependency.getParent() || scope(d).equals(scope(dependency))) {
            duplicatedDependencies.add(d);
          }
        }
        if (duplicatedDependencies.size() > 0) {
          addProblem(dependency,duplicatedDependencies,holder);
        }
      }
    }
  }
}
