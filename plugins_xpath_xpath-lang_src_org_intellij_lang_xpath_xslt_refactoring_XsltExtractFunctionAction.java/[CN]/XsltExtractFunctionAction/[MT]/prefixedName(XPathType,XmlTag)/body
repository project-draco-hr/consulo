{
  if (type instanceof XPath2Type) {
    final QName name=((XPath2Type)type).getQName();
    final String uri=name.getNamespaceURI();
    if (uri.length() > 0) {
      final String prefix=context.getPrefixByNamespace(uri);
      if (prefix != null) {
        return (prefix + ":" + name.getLocalPart());
      }
    }
  }
  return type.getName();
}
