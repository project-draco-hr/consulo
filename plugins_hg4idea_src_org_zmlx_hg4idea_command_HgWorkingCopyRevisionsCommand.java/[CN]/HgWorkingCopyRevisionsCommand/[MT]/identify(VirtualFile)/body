{
  HgCommandExecutor commandExecutor=new HgCommandExecutor(myProject);
  HgCommandResult result=commandExecutor.executeInCurrentThread(repo,"identify",Arrays.asList("--num","--id"));
  if (result == null) {
    return HgRevisionNumber.NULL_REVISION_NUMBER;
  }
  final List<String> lines=result.getOutputLines();
  if (lines != null && !lines.isEmpty()) {
    String[] parts=StringUtils.split(lines.get(0),' ');
    if (parts.length >= 2) {
      return HgRevisionNumber.getInstance(parts[1],parts[0]);
    }
  }
  return HgRevisionNumber.NULL_REVISION_NUMBER;
}
