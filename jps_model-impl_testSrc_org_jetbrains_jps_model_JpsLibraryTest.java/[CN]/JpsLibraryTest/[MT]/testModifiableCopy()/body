{
  myModel.getProject().addLibrary(JpsJavaLibraryType.INSTANCE,"a");
  final JpsModel modifiableModel=myModel.createModifiableModel(new TestJpsEventDispatcher());
  final JpsLibrary modifiable=assertOneElement(modifiableModel.getProject().getLibraryCollection().getLibraries());
  modifiable.addRoot("file://my-url",JpsOrderRootType.COMPILED);
  modifiableModel.commit();
  final JpsLibrary library=assertOneElement(myModel.getProject().getLibraryCollection().getLibraries());
  assertEquals("file://my-url",assertOneElement(library.getRoots(JpsOrderRootType.COMPILED)).getUrl());
}
