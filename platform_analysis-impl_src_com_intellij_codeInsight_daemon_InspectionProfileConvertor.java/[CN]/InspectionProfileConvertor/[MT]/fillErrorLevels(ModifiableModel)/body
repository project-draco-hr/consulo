{
  InspectionToolWrapper[] toolWrappers=profile.getInspectionTools(null);
  LOG.assertTrue(toolWrappers != null,"Profile was not correctly init");
  for (  final String shortName : myDisplayLevelMap.keySet()) {
    HighlightDisplayLevel level=myDisplayLevelMap.get(shortName);
    HighlightDisplayKey key=HighlightDisplayKey.find(shortName);
    if (key == null)     continue;
    if (level != HighlightDisplayLevel.DO_NOT_SHOW) {
      profile.enableTool(shortName,null,null);
    }
    if (level == null || level == HighlightDisplayLevel.DO_NOT_SHOW) {
      level=HighlightDisplayLevel.WARNING;
    }
    profile.setErrorLevel(key,level,null);
  }
}
