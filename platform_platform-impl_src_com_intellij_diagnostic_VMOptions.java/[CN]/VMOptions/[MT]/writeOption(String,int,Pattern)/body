{
  File file=getFile();
  if (file == null)   return;
  try {
    String optionValue=option + value + "m";
    String content=FileUtil.loadFile(file);
    String vmOptions;
    if (isMacOs()) {
      vmOptions=extractMacOsVMOptions(content);
      if (vmOptions == null)       return;
    }
 else {
      vmOptions=content;
    }
    vmOptions=replace(pattern,vmOptions,optionValue,"","",vmOptions + " " + optionValue);
    if (isMacOs()) {
      content=replace(MAC_OS_VM_OPTIONS_PATTERN,content,vmOptions,"$1","$3",content);
    }
 else {
      content=vmOptions;
    }
    FileUtil.setReadOnlyAttribute(file.getPath(),false);
    FileUtil.writeToFile(file,content.getBytes());
  }
 catch (  IOException e) {
    LOG.info(e);
  }
}
