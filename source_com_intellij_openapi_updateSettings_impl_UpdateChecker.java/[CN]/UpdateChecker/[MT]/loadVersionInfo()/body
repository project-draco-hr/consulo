{
  if (LOG.isDebugEnabled()) {
    LOG.debug("enter: loadVersionInfo(UPDATE_URL='" + getUpdateUrl() + "' )");
  }
  final Document[] document=new Document[]{null};
  final Exception[] exception=new Exception[]{null};
  Thread downloadThread=new Thread(new Runnable(){
    public void run(){
      try {
        HttpConfigurable.getInstance().prepareURL(getUpdateUrl());
        final InputStream inputStream=new URL(getUpdateUrl()).openStream();
        try {
          document[0]=JDOMUtil.loadDocument(inputStream);
        }
  finally {
          inputStream.close();
        }
      }
 catch (      IOException e) {
        exception[0]=e;
      }
catch (      JDOMException e) {
      }
    }
  }
);
  downloadThread.start();
  downloadThread.join(5 * 1000);
  if (downloadThread.isAlive()) {
    downloadThread.interrupt();
    throw new ConnectionException(IdeBundle.message("updates.timeout.error"));
  }
  if (exception[0] != null)   throw exception[0];
  return document[0];
}
