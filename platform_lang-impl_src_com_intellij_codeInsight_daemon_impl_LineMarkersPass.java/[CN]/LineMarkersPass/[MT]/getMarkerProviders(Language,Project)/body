{
  List<LineMarkerProvider> forLanguage=LineMarkerProviders.INSTANCE.allForLanguageOrAny(language);
  List<LineMarkerProvider> providers=DumbService.getInstance(project).filterByDumbAwareness(forLanguage);
  final LineMarkerSettings settings=LineMarkerSettings.getInstance();
  return ContainerUtil.filter(providers,new Condition<LineMarkerProvider>(){
    @Override public boolean value(    LineMarkerProvider provider){
      if (!(provider instanceof LineMarkerProviderDescriptor))       return true;
      return settings.isEnabled((LineMarkerProviderDescriptor)provider);
    }
  }
);
}
