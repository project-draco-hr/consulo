{
  ApplicationManager.getApplication().assertReadAccessAllowed();
  for (int i=0, elementsSize=elements.size(); i < elementsSize; i++) {
    PsiElement element=elements.get(i);
    progress.checkCanceled();
    for (int j=0, providersSize=providers.size(); j < providersSize; j++) {
      LineMarkerProvider provider=providers.get(j);
      LineMarkerInfo info=provider.getLineMarkerInfo(element);
      if (info != null) {
        result.add(info);
      }
    }
  }
}
