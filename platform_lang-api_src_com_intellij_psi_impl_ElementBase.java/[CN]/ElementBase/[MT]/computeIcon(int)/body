{
  PsiElement psiElement=(PsiElement)this;
  Icon baseIcon=psiElement.getUserData(Iconable.LAST_COMPUTED_ICON);
  if (baseIcon == null) {
    baseIcon=IconLoader.getIcon("/nodes/class.png");
  }
  return IconDeferrer.getInstance().defer(baseIcon,psiElement,new Function<PsiElement,Icon>(){
    public Icon fun(    PsiElement element){
      if (!element.isValid())       return null;
      final Icon providersIcon=PsiIconUtil.getProvidersIcon(element,flags);
      if (providersIcon != null) {
        return providersIcon instanceof RowIcon ? (RowIcon)providersIcon : createLayeredIcon(providersIcon,flags);
      }
      return getElementIcon(flags);
    }
  }
);
}
