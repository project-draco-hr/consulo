{
  if (attrs == null) {
    throw new IllegalArgumentException("attrs cannot be null");
  }
  if (!error) {
    return attrs;
  }
  SimpleTextAttributes result=myAttr2errAttr.get(attrs);
  if (result == null) {
    result=new SimpleTextAttributes(attrs.getStyle() | SimpleTextAttributes.STYLE_WAVED,attrs.getFgColor(),Color.RED);
    myAttr2errAttr.put(attrs,result);
  }
  return result;
}
