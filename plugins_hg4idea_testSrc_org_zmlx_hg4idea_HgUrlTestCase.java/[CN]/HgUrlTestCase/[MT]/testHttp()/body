{
  HgUrl url=new HgUrl("http://vasea:pupkin@host.somewhere.com:8081/hg");
  Assert.assertEquals("vasea",url.getUsername());
  Assert.assertEquals("pupkin",url.getPassword());
  Assert.assertTrue(url.supportsAuthentication());
  url=new HgUrl("http://:pupkin@host.somewhere.com:8081/hg");
  Assert.assertNull(url.getUsername());
  Assert.assertEquals("pupkin",url.getPassword());
  Assert.assertTrue(url.supportsAuthentication());
  url=new HgUrl("http://vasea@host.somewhere.com:8081/hg");
  Assert.assertEquals("vasea",url.getUsername());
  Assert.assertNull(url.getPassword());
  Assert.assertTrue(url.supportsAuthentication());
  url=new HgUrl("http://vasea:@host.somewhere.com:8081/hg");
  Assert.assertEquals("vasea",url.getUsername());
  Assert.assertNull(url.getPassword());
  Assert.assertTrue(url.supportsAuthentication());
}
