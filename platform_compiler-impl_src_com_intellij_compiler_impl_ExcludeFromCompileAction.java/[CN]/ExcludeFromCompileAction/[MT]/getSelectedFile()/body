{
  final ErrorTreeNodeDescriptor descriptor=myErrorTreeView.getSelectedNodeDescriptor();
  ErrorTreeElement element=descriptor != null ? descriptor.getElement() : null;
  if (element != null && !(element instanceof GroupingElement)) {
    NodeDescriptor parent=descriptor.getParentDescriptor();
    if (parent instanceof ErrorTreeNodeDescriptor) {
      element=((ErrorTreeNodeDescriptor)parent).getElement();
    }
  }
  return element instanceof GroupingElement ? ((GroupingElement)element).getFile() : null;
}
