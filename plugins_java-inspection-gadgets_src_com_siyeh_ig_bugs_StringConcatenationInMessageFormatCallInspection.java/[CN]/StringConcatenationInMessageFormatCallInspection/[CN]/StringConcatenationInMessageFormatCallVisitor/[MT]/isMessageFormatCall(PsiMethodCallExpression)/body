{
  final PsiReferenceExpression methodExpression=expression.getMethodExpression();
  @NonNls final String referenceName=methodExpression.getReferenceName();
  if (!"format".equals(referenceName)) {
    return false;
  }
  final PsiExpression qualifierExpression=methodExpression.getQualifierExpression();
  if (!(qualifierExpression instanceof PsiReferenceExpression)) {
    return false;
  }
  final PsiReferenceExpression referenceExpression=(PsiReferenceExpression)qualifierExpression;
  final PsiElement target=referenceExpression.resolve();
  if (!(target instanceof PsiClass)) {
    return false;
  }
  final PsiClass aClass=(PsiClass)target;
  return InheritanceUtil.isInheritor(aClass,"java.text.MessageFormat");
}
