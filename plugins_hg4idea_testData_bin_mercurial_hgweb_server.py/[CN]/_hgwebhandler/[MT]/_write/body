def _write(self, data):
    if (not self.saved_status):
        raise AssertionError('data written before start_response() called')
    elif (not self.sent_headers):
        self.send_headers()
    if (self.length is not None):
        if (len(data) > self.length):
            raise AssertionError('Content-length header sent, but more bytes than specified are being written.')
        self.length = (self.length - len(data))
    self.wfile.write(data)
    self.wfile.flush()
