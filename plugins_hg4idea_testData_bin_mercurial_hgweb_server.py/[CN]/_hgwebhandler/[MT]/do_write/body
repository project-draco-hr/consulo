def do_write(self):
    try:
        self.do_hgweb()
    except socket.error as inst:
        if (inst[0] != errno.EPIPE):
            raise
