{
  VirtualFile fileToPatch=findFileToPatch(patchedDir,skipTopDirs,createDirectories,allowRename);
  if (fileToPatch == null) {
    throw new ApplyPatchException("Cannot find file to patch: " + myBeforeName);
  }
  return apply(fileToPatch);
}
