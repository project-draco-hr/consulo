{
  for (int i=skipTopDirs; i < lastComponentToFind; i++) {
    VirtualFile nextChild=patchedDir.findChild(pathNameComponents[i]);
    if (nextChild == null) {
      if (createDirectories) {
        try {
          nextChild=patchedDir.createChildDirectory(this,pathNameComponents[i]);
        }
 catch (        IOException e) {
          return null;
        }
      }
 else {
        return null;
      }
    }
    patchedDir=nextChild;
  }
  return patchedDir;
}
