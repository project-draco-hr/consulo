{
  try {
    while (true) {
      while (!myReader.ready()) {
synchronized (this) {
          myReadSemaphore.up();
          wait(300);
          if (isClosed)           return;
        }
      }
      int read=myReader.read(myBuffer);
      if (read == -1)       break;
      onTextAvailable(new String(myBuffer,0,read));
    }
  }
 catch (  IOException e) {
    if (isClosed)     return;
    LOG.warn(e);
  }
catch (  InterruptedException e) {
    LOG.warn(e);
  }
}
