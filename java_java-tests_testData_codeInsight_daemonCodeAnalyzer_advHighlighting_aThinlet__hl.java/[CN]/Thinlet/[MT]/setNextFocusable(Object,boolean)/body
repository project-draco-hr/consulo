{
  boolean consumed=true;
  for (Object next=null, component=current; true; component=next) {
    next=get(component,"component");
    if (next == null) {
      next=get(component,":next");
    }
    while (next == null) {
      component=getParent(component);
      if (component == null) {
        return false;
      }
      if ((component == content) || ((getClass(component) == "dialog") && (!outgo || getBoolean(component,"modal",false)))) {
        consumed=false;
        next=component;
      }
 else {
        next=get(component,":next");
      }
    }
    if (next == current) {
      return false;
    }
    if (checkFocusable(next,false)) {
      setFocus(next);
      return consumed;
    }
  }
}
