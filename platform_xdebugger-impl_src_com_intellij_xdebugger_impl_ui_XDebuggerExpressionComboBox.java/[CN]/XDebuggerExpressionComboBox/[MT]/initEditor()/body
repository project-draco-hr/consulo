{
  myEditor=new EditorComboBoxEditor(getProject(),getEditorsProvider().getFileType()){
    @Override public void setItem(    Object anObject){
      if (anObject == null || anObject instanceof XExpression) {
        if (anObject == null) {
          anObject=XExpressionImpl.EMPTY_EXPRESSION;
        }
        XExpression expression=(XExpression)anObject;
        getEditorComponent().setNewDocumentAndFileType(getFileType(expression),createDocument(expression));
      }
 else       if (anObject instanceof Document) {
        getEditorComponent().setDocument((Document)anObject);
      }
    }
    @Override protected void onEditorCreate(    EditorEx editor){
      editor.putUserData(DebuggerCopyPastePreprocessor.REMOVE_NEWLINES_ON_PASTE,true);
      editor.getColorsScheme().setEditorFontSize(myComboBox.getFont().getSize());
    }
  }
;
  myEditor.getEditorComponent().setFontInheritedFromLAF(false);
  myComboBox.setEditor(myEditor);
  myComboBox.setRenderer(new EditorComboBoxRenderer(myEditor));
  myComboBox.setMaximumRowCount(XDebuggerHistoryManager.MAX_RECENT_EXPRESSIONS);
}
