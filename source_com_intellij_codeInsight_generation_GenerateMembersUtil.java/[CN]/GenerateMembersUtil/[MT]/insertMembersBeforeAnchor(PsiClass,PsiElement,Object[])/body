{
  List<Object> newMembersList=new ArrayList<Object>();
  boolean before=true;
  CodeStyleManager codeStyleManager=CodeStyleManager.getInstance(aClass.getProject());
  for (  Object memberPrototype : memberPrototypes) {
    if (memberPrototype instanceof PsiElement) {
      PsiElement prototype=(PsiElement)memberPrototype;
      PsiElement newMember=insert(aClass,prototype,anchor,before);
      newMember=codeStyleManager.shortenClassReferences(newMember);
      newMembersList.add(newMember);
      anchor=newMember;
      before=false;
    }
 else     if (memberPrototype instanceof TemplateGenerationInfo) {
      TemplateGenerationInfo info=(TemplateGenerationInfo)memberPrototype;
      info.element=insert(aClass,info.element,anchor,before);
      newMembersList.add(info);
      anchor=info.element;
      before=false;
    }
  }
  return newMembersList.toArray();
}
