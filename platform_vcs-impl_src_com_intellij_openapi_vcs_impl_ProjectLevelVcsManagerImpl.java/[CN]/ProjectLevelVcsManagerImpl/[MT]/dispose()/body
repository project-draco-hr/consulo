{
synchronized (myDisposeLock) {
    if (myIsDisposed)     return;
    if (myEditorAdapter != null) {
      final Editor editor=myEditorAdapter.getEditor();
      if (!editor.isDisposed()) {
        EditorFactory.getInstance().releaseEditor(editor);
      }
    }
    myMappings.disposeMe();
    try {
      myContentManager=null;
      ToolWindowManager toolWindowManager=ToolWindowManager.getInstance(myProject);
      if (toolWindowManager != null && toolWindowManager.getToolWindow(ToolWindowId.VCS) != null) {
        toolWindowManager.unregisterToolWindow(ToolWindowId.VCS);
      }
    }
  finally {
      myIsDisposed=true;
    }
  }
}
