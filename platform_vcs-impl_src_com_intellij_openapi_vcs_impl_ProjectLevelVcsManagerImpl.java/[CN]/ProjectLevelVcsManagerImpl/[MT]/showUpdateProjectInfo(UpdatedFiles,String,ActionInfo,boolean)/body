{
  if (!myProject.isOpen() || myProject.isDisposed())   return null;
  ContentManager contentManager=getContentManager();
  if (contentManager == null) {
    return null;
  }
  final UpdateInfoTree updateInfoTree=new UpdateInfoTree(contentManager,myProject,updatedFiles,displayActionName,actionInfo);
  Content content=ContentFactory.SERVICE.getInstance().createContent(updateInfoTree,canceled ? VcsBundle.message("toolwindow.title.update.action.canceled.info",displayActionName) : VcsBundle.message("toolwindow.title.update.action.info",displayActionName),true);
  Disposer.register(content,updateInfoTree);
  ContentsUtil.addContent(contentManager,content,true);
  ToolWindowManager.getInstance(myProject).getToolWindow(ToolWindowId.VCS).activate(null);
  updateInfoTree.expandRootChildren();
  return updateInfoTree;
}
