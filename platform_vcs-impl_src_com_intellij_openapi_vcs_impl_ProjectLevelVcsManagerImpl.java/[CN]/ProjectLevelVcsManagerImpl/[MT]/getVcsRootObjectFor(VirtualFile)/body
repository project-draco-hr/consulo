{
  final VcsDirectoryMapping mapping=myMappings.getMappingFor(file);
  if (mapping == null) {
    return null;
  }
  final String directory=mapping.getDirectory();
  final AbstractVcs vcs=findVcsByName(mapping.getVcs());
  if (directory.length() == 0) {
    return new VcsRoot(vcs,myDefaultVcsRootPolicy.getVcsRootFor(file));
  }
  return new VcsRoot(vcs,LocalFileSystem.getInstance().findFileByPath(directory));
}
