{
  final String displayName=VcsBundle.message("vcs.console.toolwindow.display.name");
  Content content=contentManager.findContent(displayName);
  if (content == null) {
    if (myEditorAdapter != null) {
      final Editor editor=myEditorAdapter.getEditor();
      if (!editor.isDisposed()) {
        EditorFactory.getInstance().releaseEditor(editor);
      }
    }
    final EditorFactory editorFactory=EditorFactory.getInstance();
    final Editor editor=editorFactory.createViewer(editorFactory.createDocument(""),myProject);
    EditorSettings editorSettings=editor.getSettings();
    editorSettings.setLineMarkerAreaShown(false);
    editorSettings.setIndentGuidesShown(false);
    editorSettings.setLineNumbersShown(false);
    editorSettings.setFoldingOutlineShown(false);
    myEditorAdapter=new EditorAdapter(editor,myProject);
    final JPanel panel=new JPanel(new BorderLayout());
    panel.add(editor.getComponent(),BorderLayout.CENTER);
    content=ContentFactory.SERVICE.getInstance().createContent(panel,displayName,true);
    contentManager.addContent(content);
    for (    Pair<String,TextAttributes> pair : myPendingOutput) {
      myEditorAdapter.appendString(pair.first,pair.second);
    }
    myPendingOutput.clear();
  }
  return content;
}
