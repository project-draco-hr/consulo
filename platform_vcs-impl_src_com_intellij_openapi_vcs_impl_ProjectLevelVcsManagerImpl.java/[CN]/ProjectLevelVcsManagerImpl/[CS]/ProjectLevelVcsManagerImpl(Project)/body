{
  myProject=project;
  mySerialization=new ProjectLevelVcsManagerSerialization();
  myOptionsAndConfirmations=new OptionsAndConfirmations();
  myDefaultVcsRootPolicy=DefaultVcsRootPolicy.getInstance(project);
  myBackgroundableActionHandlerMap=new HashMap<VcsBackgroundableActions,BackgroundableActionEnabledHandler>();
  myInitialization=new VcsInitialization(myProject);
  myMappings=new NewMappings(myProject,myEventDispatcher,this);
  myMappingsToRoots=new MappingsToRoots(myMappings,myProject);
  ProjectManager.getInstance().addProjectManagerListener(myProject,new ProjectManagerAdapter(){
    @Override public void projectClosing(    Project project){
      onProjectClosing();
    }
  }
);
}
