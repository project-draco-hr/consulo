{
  int baseLength=getTextLength(fragment.getText1());
  int versionLength=getTextLength(fragment.getText2());
  if (fragment.isEqual()) {
    equalRanges[0]=new TextRange(leftOffsets[0],leftOffsets[0] + baseLength);
    equalRanges[1]=new TextRange(leftOffsets[1],leftOffsets[1] + versionLength);
  }
 else {
    equalRanges[0]=null;
    equalRanges[1]=null;
  }
  leftOffsets[0]+=baseLength;
  leftOffsets[1]+=versionLength;
}
