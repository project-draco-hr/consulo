{
  final PsiElement parent=element.getParent();
  if (!(parent instanceof GrTypeDefinition))   return false;
  if (((GrTypeDefinition)parent).getNameIdentifierGroovy() != element)   return false;
  final String name=((GrTypeDefinition)parent).getName();
  if (name == null || name.length() == 0)   return false;
  final PsiFile file=element.getContainingFile();
  if (!(file instanceof GroovyFile))   return false;
  if (!file.isPhysical())   return false;
  if (name.equals(FileUtil.getNameWithoutExtension(file.getName())))   return false;
  if (mySearchForClassInMultiClassFile) {
    return ((GroovyFile)file).getClasses().length > 1;
  }
 else {
    return !((GroovyFile)file).isScript();
  }
}
