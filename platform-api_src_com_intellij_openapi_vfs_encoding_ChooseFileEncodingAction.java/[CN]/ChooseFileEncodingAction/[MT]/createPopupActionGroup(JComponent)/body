{
  DefaultActionGroup group=new DefaultActionGroup();
  List<Charset> favorites=new ArrayList<Charset>(EncodingManager.getInstance().getFavorites());
  Collections.sort(favorites);
  if (myShowClearEncoding) {
    group.add(new ClearThisFileEncodingAction(myVirtualFile));
  }
  for (  Charset favorite : favorites) {
    ChangeFileEncodingTo action=new ChangeFileEncodingTo(myVirtualFile,favorite);
    group.add(action);
  }
  DefaultActionGroup more=new DefaultActionGroup("more",true);
  group.add(more);
  fillAllAvailableCharsets(more,myVirtualFile);
  myVirtualFile=null;
  return group;
}
