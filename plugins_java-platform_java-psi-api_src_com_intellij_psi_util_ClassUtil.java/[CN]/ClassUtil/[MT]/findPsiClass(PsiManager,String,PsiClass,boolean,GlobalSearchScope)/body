{
  final int topIdx=externalName.indexOf('$');
  if (topIdx > -1) {
    if (psiClass == null) {
      psiClass=JavaPsiFacade.getInstance(psiManager.getProject()).findClass(externalName.substring(0,topIdx),scope);
    }
    if (psiClass == null)     return null;
    externalName=externalName.substring(topIdx + 1);
    return findSubclass(psiManager,externalName,psiClass,jvmCompatible);
  }
 else {
    return JavaPsiFacade.getInstance(psiManager.getProject()).findClass(externalName,scope);
  }
}
