{
  final int[] result={-1};
  final PsiClass containingClass=getContainerClass(psiClass);
  if (containingClass != null) {
    containingClass.accept(new JavaRecursiveElementVisitor(){
      private int myCurrentIdx=0;
      @Override public void visitElement(      PsiElement element){
        if (result[0] == -1) {
          super.visitElement(element);
        }
      }
      @Override public void visitClass(      PsiClass aClass){
        super.visitClass(aClass);
        if (aClass.getQualifiedName() == null) {
          myCurrentIdx++;
          if (psiClass == aClass) {
            result[0]=myCurrentIdx;
          }
        }
      }
    }
);
  }
  return result[0];
}
