{
  isHeadless=isHeadless(args);
  if (isHeadless) {
    System.setProperty("java.awt.headless",Boolean.TRUE.toString());
  }
 else   if (GraphicsEnvironment.isHeadless()) {
    throw new HeadlessException("Unable to detect graphics environment");
  }
  if (!isHeadless) {
    try {
      installPatch();
    }
 catch (    IOException e) {
      e.printStackTrace();
      File log=null;
      try {
        log=FileUtilRt.createTempFile("patch",".log",false);
        PrintWriter writer=new PrintWriter(log);
        try {
          e.printStackTrace(writer);
        }
  finally {
          writer.close();
        }
      }
 catch (      IOException ignore) {
        ignore.printStackTrace();
      }
      try {
        UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());
      }
 catch (      Throwable ignore) {
      }
      String message=e.getMessage() + "\n" + (log == null ? "Log cannot be saved" : "Log is saved in " + log)+ "\n\nPlease download and install update manually";
      JOptionPane.showMessageDialog(null,message,"Cannot Apply Patch",JOptionPane.ERROR_MESSAGE);
    }
  }
  Bootstrap.main(args,Main.class.getName() + "Impl","start");
}
