{
  if (expression == null) {
    return "";
  }
  if (expression instanceof PsiMethodCallExpression) {
    final PsiMethodCallExpression methCall=(PsiMethodCallExpression)expression;
    return removeParensFromMethodCallExpression(methCall);
  }
  if (expression instanceof PsiReferenceExpression) {
    final PsiReferenceExpression referenceExpression=(PsiReferenceExpression)expression;
    return removeParensFromReferenceExpression(referenceExpression);
  }
  if (expression instanceof PsiNewExpression) {
    final PsiNewExpression newExpression=(PsiNewExpression)expression;
    return removeParensFromNewExpression(newExpression);
  }
  if (expression instanceof PsiAssignmentExpression) {
    final PsiAssignmentExpression assignmentExpression=(PsiAssignmentExpression)expression;
    return removeParensFromAssignmentExpression(assignmentExpression);
  }
  if (expression instanceof PsiArrayInitializerExpression) {
    final PsiArrayInitializerExpression arrayInitializerExpression=(PsiArrayInitializerExpression)expression;
    return removeParensFromArrayInitializerExpression(arrayInitializerExpression);
  }
  if (expression instanceof PsiTypeCastExpression) {
    final PsiTypeCastExpression typeCastExpression=(PsiTypeCastExpression)expression;
    return removeParensFromTypeCastExpression(typeCastExpression);
  }
  if (expression instanceof PsiArrayAccessExpression) {
    final PsiArrayAccessExpression arrayAccessExpression=(PsiArrayAccessExpression)expression;
    return removeParensFromArrayAccessExpression(arrayAccessExpression);
  }
  if (expression instanceof PsiPrefixExpression) {
    final PsiPrefixExpression prefixExpression=(PsiPrefixExpression)expression;
    return removeParensFromPrefixExpression(prefixExpression);
  }
  if (expression instanceof PsiPostfixExpression) {
    final PsiPostfixExpression postfixExpression=(PsiPostfixExpression)expression;
    return removeParensFromPostfixExpression(postfixExpression);
  }
  if (expression instanceof PsiBinaryExpression) {
    final PsiBinaryExpression binaryExpression=(PsiBinaryExpression)expression;
    return removeParensFromBinaryExpression(binaryExpression);
  }
  if (expression instanceof PsiInstanceOfExpression) {
    final PsiInstanceOfExpression instanceofExpression=(PsiInstanceOfExpression)expression;
    return removeParensFromInstanceOfExpression(instanceofExpression);
  }
  if (expression instanceof PsiConditionalExpression) {
    final PsiConditionalExpression conditionalExpression=(PsiConditionalExpression)expression;
    return removeParensFromConditionalExpression(conditionalExpression);
  }
  if (expression instanceof PsiParenthesizedExpression) {
    final PsiParenthesizedExpression parenthesizedExpression=(PsiParenthesizedExpression)expression;
    return removeParensFromParenthesizedExpression(parenthesizedExpression);
  }
  return expression.getText();
}
