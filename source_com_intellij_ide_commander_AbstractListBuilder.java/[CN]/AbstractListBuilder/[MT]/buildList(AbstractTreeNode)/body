{
  myCurrentParent=parentElement;
  final Alarm alarm=new Alarm(Alarm.ThreadToUse.SHARED_THREAD);
  alarm.addRequest(new Runnable(){
    public void run(){
      myList.setCursor(Cursor.getPredefinedCursor(Cursor.WAIT_CURSOR));
    }
  }
,200);
  final Object[] children=getChildren(parentElement);
  myModel.removeAllElements();
  if (shouldAddTopElement()) {
    myModel.addElement("[ .. ]");
  }
  for (int i=0; i < children.length; i++) {
    AbstractTreeNode child=(AbstractTreeNode)children[i];
    child.update();
  }
  if (myComparator != null) {
    Arrays.sort(children,myComparator);
  }
  for (int i=0; i < children.length; i++) {
    myModel.addElement(children[i]);
  }
  final int n=alarm.cancelAllRequests();
  if (n == 0) {
    alarm.addRequest(new Runnable(){
      public void run(){
        myList.setCursor(Cursor.getDefaultCursor());
      }
    }
,0);
  }
}
