{
  DebuggerSession session=context.getDebuggerSession();
  if (session == null || !session.isPaused())   return false;
  boolean isField=descriptor instanceof FieldDescriptorImpl;
  if (descriptor instanceof WatchItemDescriptor) {
    Modifier modifier=((WatchItemDescriptor)descriptor).getModifier();
    if (modifier == null || !modifier.canInspect())     return false;
    isField=modifier instanceof Field;
  }
  if (isField) {
    if (!context.getDebugProcess().canWatchFieldModification()) {
      Messages.showMessageDialog(context.getProject(),"Cannot inspect: Target VM does not support modification watchpoints","Inspect",Messages.getInformationIcon());
      return false;
    }
  }
  return true;
}
