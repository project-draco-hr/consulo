{
  final PsiLambdaExpression lambdaExpression=PsiTreeUtil.getParentOfType(element,PsiLambdaExpression.class);
  LOG.assertTrue(lambdaExpression != null);
  final PsiElement body=lambdaExpression.getBody();
  LOG.assertTrue(body instanceof PsiExpression);
  String blockText="{";
  blockText+=((PsiExpression)body).getType() == PsiType.VOID ? "" : "return ";
  blockText+=body.getText() + ";}";
  final String resultedLambdaText=lambdaExpression.getParameterList().getText() + "->" + blockText;
  final PsiExpression expressionFromText=JavaPsiFacade.getElementFactory(element.getProject()).createExpressionFromText(resultedLambdaText,lambdaExpression);
  lambdaExpression.replace(expressionFromText);
}
