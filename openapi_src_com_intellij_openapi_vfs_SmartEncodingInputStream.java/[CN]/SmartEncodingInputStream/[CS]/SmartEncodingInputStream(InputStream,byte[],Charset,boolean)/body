{
  this.is=is;
  this.buffer=buffer;
  this.counter=0;
  this.bufferLength=is != null ? is.read(buffer) : buffer.length;
  CharsetToolkit charsetToolkit=new CharsetToolkit(buffer,defaultCharset);
  charsetToolkit.setEnforce8Bit(enforce8Bit);
  this.charset=charsetToolkit.guessEncoding(bufferLength);
}
