{
  if (genericType instanceof TypeVariable) {
    final Class<?> aClass=getRawType(classType);
    final Type type=resolveVariable((TypeVariable)genericType,aClass);
    if (type instanceof Class) {
      return (Class)type;
    }
    if (type instanceof ParameterizedType) {
      return (Class<?>)((ParameterizedType)type).getRawType();
    }
    if (type instanceof TypeVariable && classType instanceof ParameterizedType) {
      final int index=ContainerUtil.findByEquals(aClass.getTypeParameters(),type);
      if (index >= 0) {
        return getRawType(((ParameterizedType)classType).getActualTypeArguments()[index]);
      }
    }
  }
  return null;
}
