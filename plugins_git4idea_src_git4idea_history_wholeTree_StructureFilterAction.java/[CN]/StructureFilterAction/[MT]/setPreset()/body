{
  final Collection<VirtualFile> selected=myStructureFilterI.getSelected();
  if (myStructureFilterI.isAllSelected()) {
    myLabel.setText(ALL);
    myPanel.setToolTipText(STRUCTURE + " " + ALL);
  }
 else {
    final VcsStructureChooser vcsStructureChooser=new VcsStructureChooser(GitVcs.getInstance(myProject),"Select folders to filter by",myStructureFilterI.getSelected(),myStructureFilterI.getRoots());
    final Map<VirtualFile,String> modulesSet=vcsStructureChooser.getModulesSet();
    final String text=getText(selected,modulesSet);
    final String toolTip=getTooltip(selected,modulesSet);
    myPanel.setToolTipText(wrapTooltip(toolTip));
    myLabel.setText(text);
    Disposer.dispose(vcsStructureChooser.getDisposable());
  }
}
