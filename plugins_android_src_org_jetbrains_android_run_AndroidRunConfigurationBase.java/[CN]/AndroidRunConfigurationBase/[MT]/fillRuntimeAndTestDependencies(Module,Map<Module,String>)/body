{
  for (  OrderEntry entry : ModuleRootManager.getInstance(module).getOrderEntries()) {
    if (entry instanceof ModuleOrderEntry) {
      ModuleOrderEntry moduleOrderEntry=(ModuleOrderEntry)entry;
      Module depModule=moduleOrderEntry.getModule();
      if (depModule != null && !module2PackageName.containsKey(depModule)) {
        AndroidFacet depFacet=AndroidFacet.getInstance(depModule);
        if (depFacet != null && !depFacet.getConfiguration().LIBRARY_PROJECT && moduleOrderEntry.getScope() != DependencyScope.COMPILE) {
          String packageName=getPackageName(depFacet);
          if (packageName == null) {
            return false;
          }
          module2PackageName.put(depModule,packageName);
          if (!fillRuntimeAndTestDependencies(depModule,module2PackageName)) {
            return false;
          }
        }
      }
    }
  }
  return true;
}
