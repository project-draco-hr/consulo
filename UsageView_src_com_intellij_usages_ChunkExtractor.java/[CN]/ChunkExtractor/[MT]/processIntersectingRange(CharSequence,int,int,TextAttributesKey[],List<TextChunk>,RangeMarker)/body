{
  int usageStart=rangeMarker.getStartOffset();
  int usageEnd=rangeMarker.getEndOffset();
  TextAttributes originalAttrs=convertAttributes(tokenHighlights);
  addChunk(chars,hiStart,Math.max(hiStart,usageStart),originalAttrs,false,result);
  addChunk(chars,Math.max(hiStart,usageStart),Math.min(hiEnd,usageEnd),originalAttrs,true,result);
  addChunk(chars,Math.min(hiEnd,usageEnd),hiEnd,originalAttrs,false,result);
}
