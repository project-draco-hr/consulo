{
  int rowYOffset=yOffset;
  for (int i=idxFrom; i < event.getCommitIdx(); i++) {
    for (    Integer wire : wires) {
      g.setColor(selected.contains(i) ? Color.white : myStyle.getColorForWire(wire));
      int startXPoint=startPoint(wire,wiresGroups) + ourLineWidth / 2;
      doubleLine(g,startXPoint,rowYOffset,startXPoint,rowYOffset + myRowHeight);
    }
    rowYOffset+=myRowHeight;
  }
  final int eventWire=myModel.getCorrectedWire(myModel.getCommitAt(event.getCommitIdx()));
  g.setColor(selected.contains(event.getCommitIdx()) ? Color.white : myStyle.getColorForWire(eventWire));
  int eventStartXPoint=startPoint(eventWire,wiresGroups) + ourLineWidth / 2;
  final Set<Integer> skip=new HashSet<Integer>();
  if (event.isStart() && event.isEnd()) {
    return;
  }
  if (event.isStart()) {
    skip.add(eventWire);
    doubleLine(g,eventStartXPoint,rowYOffset + myRowHeight / 2,eventStartXPoint,rowYOffset + myRowHeight);
  }
  if (event.isEnd()) {
    skip.add(eventWire);
    doubleLine(g,eventStartXPoint,rowYOffset,eventStartXPoint,rowYOffset + myRowHeight / 2);
  }
  final int[] commitsStarts=event.getCommitsStarts();
  if (commitsStarts != null) {
    for (    int commitsStart : commitsStarts) {
      if (commitsStart == -1)       continue;
      final CommitI commitAt=myModel.getCommitAt(commitsStart);
      final int wire=myModel.getCorrectedWire(commitAt);
      int startXPoint=startPoint(wire,wiresGroups) + ourLineWidth / 2;
      g.setColor(selected.contains(event.getCommitIdx()) ? Color.white : myStyle.getColorForWire(wire));
      doubleLine(g,startXPoint,rowYOffset + myRowHeight,eventStartXPoint,rowYOffset + myRowHeight / 2);
    }
  }
  final int[] wireEnds=event.getWireEnds();
  if (wireEnds != null) {
    for (    int end : wireEnds) {
      if (end == -1)       continue;
      final int wire=myModel.getCorrectedWire(myModel.getCommitAt(end));
      skip.add(wire);
      int startXPoint=startPoint(wire,wiresGroups) + ourLineWidth / 2;
      g.setColor(selected.contains(event.getCommitIdx()) ? Color.white : myStyle.getColorForWire(wire));
      doubleLine(g,startXPoint,rowYOffset,eventStartXPoint,rowYOffset + myRowHeight / 2);
    }
  }
  for (  Integer wire : wires) {
    if (skip.contains(wire))     continue;
    int startXPoint=startPoint(wire,wiresGroups) + ourLineWidth / 2;
    g.setColor(selected.contains(event.getCommitIdx()) ? Color.white : myStyle.getColorForWire(wire));
    doubleLine(g,startXPoint,rowYOffset,startXPoint,rowYOffset + myRowHeight);
  }
}
