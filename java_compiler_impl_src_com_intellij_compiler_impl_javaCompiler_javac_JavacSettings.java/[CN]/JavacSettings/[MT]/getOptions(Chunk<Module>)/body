{
  List<String> options=new ArrayList<String>();
  if (DEBUGGING_INFO) {
    options.add("-g");
  }
  if (DEPRECATION) {
    options.add("-deprecation");
  }
  if (GENERATE_NO_WARNINGS) {
    options.add("-nowarn");
  }
  boolean isEncodingSet=false;
  final StringTokenizer tokenizer=new StringTokenizer(ADDITIONAL_OPTIONS_STRING," \t\r\n");
  while (tokenizer.hasMoreTokens()) {
    final String token=tokenizer.nextToken();
    if (!acceptUserOption(token)) {
      continue;
    }
    options.add(token);
    if ("-encoding".equals(token)) {
      isEncodingSet=true;
    }
  }
  if (!isEncodingSet && acceptEncoding()) {
    final Charset charset=CompilerEncodingService.getPreferredModuleEncoding(chunk);
    if (charset != null) {
      options.add("-encoding");
      options.add(charset.name());
    }
  }
  return options;
}
