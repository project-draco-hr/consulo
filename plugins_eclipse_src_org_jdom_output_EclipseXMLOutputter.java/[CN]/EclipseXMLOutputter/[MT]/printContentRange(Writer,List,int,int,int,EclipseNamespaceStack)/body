{
  boolean firstNode;
  Object next;
  int first, index;
  index=start;
  while (index < end) {
    firstNode=(index == start) ? true : false;
    next=content.get(index);
    if ((next instanceof Text) || (next instanceof EntityRef)) {
      first=skipLeadingWhite(content,index);
      index=nextNonText(content,first);
      if (first < index) {
        if (!firstNode)         newline(out);
        indent(out,level);
        printTextRange(out,content,first,index);
      }
      continue;
    }
    if (!firstNode) {
      newline(out);
    }
    indent(out,level);
    if (next instanceof Comment) {
      printComment(out,(Comment)next);
    }
 else     if (next instanceof Element) {
      printElement(out,(Element)next,level,namespaces);
    }
 else     if (next instanceof ProcessingInstruction) {
      printProcessingInstruction(out,(ProcessingInstruction)next);
    }
 else {
    }
    index++;
  }
}
