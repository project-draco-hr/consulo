{
  printDeclaration(out,doc,CharsetToolkit.UTF8);
  List content=doc.getContent();
  int size=content.size();
  for (int i=0; i < size; i++) {
    Object obj=content.get(i);
    if (obj instanceof Element) {
      printElement(out,doc.getRootElement(),0,createNamespaceStack());
    }
 else     if (obj instanceof Comment) {
      printComment(out,(Comment)obj);
    }
 else     if (obj instanceof ProcessingInstruction) {
      printProcessingInstruction(out,(ProcessingInstruction)obj);
    }
 else     if (obj instanceof DocType) {
      printDocType(out,doc.getDocType());
      out.write("\n");
    }
 else {
    }
    newline(out);
    indent(out,0);
  }
  out.flush();
}
