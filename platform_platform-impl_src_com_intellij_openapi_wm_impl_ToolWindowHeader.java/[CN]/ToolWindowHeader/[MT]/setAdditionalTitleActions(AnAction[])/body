{
  myButtonPanel.removeAll();
  boolean actionAdded=false;
  for (  final AnAction action : actions) {
    if (action == null)     continue;
    myButtonPanel.add(new ActionButton(action,action.getTemplatePresentation().getIcon()){
      @Override protected Icon getActiveHoveredIcon(){
        final Icon icon=action.getTemplatePresentation().getHoveredIcon();
        return icon != null ? icon : super.getActiveHoveredIcon();
      }
    }
);
    myButtonPanel.add(Box.createHorizontalStrut(9));
    actionAdded=true;
  }
  if (actionAdded) {
    myButtonPanel.add(new JLabel(AllIcons.General.Divider));
    myButtonPanel.add(Box.createHorizontalStrut(6));
  }
  addDefaultActions(myButtonPanel);
}
