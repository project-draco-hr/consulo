{
  myErrorLabel.setText(" ");
  if (myURL == null) {
    return false;
  }
  if (myBranchOrTagRadioButton.isSelected() && myBranchTagBaseComboBox.getComboBox().getSelectedItem() == null) {
    myErrorLabel.setText(SvnBundle.message("create.branch.no.base.location.error"));
    return false;
  }
  String url=myToURLText.getText();
  if (url != null && url.trim().length() > 0) {
    if (myRepositoryRadioButton.isSelected()) {
      SVNRevision revision;
      try {
        revision=myRevisionPanel.getRevision();
      }
 catch (      ConfigurationException e) {
        revision=SVNRevision.UNDEFINED;
      }
      if (!revision.isValid() || revision.isLocal()) {
        myErrorLabel.setText(SvnBundle.message("create.branch.invalid.revision.error",myRevisionPanel.getRevisionText()));
        return false;
      }
      return true;
    }
 else     if (myWorkingCopyRadioButton.isSelected()) {
      try {
        SVNWCClient client=SvnVcs.getInstance(myProject).createWCClient();
        SVNInfo info=client.doInfo(mySrcFile,SVNRevision.UNDEFINED);
        mySrcURL=info != null && info.getURL() != null ? info.getURL().toString() : null;
      }
 catch (      SVNException e) {
        mySrcURL=null;
      }
      if (mySrcURL == null) {
        myErrorLabel.setText(SvnBundle.message("create.branch.no.working.copy.error",myWorkingCopyField.getText()));
        return false;
      }
      return true;
    }
  }
  return false;
}
