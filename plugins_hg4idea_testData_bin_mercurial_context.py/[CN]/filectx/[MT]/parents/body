def parents(self):
    p = self._path
    fl = self._filelog
    pl = [(p, n, fl) for n in self._filelog.parents(self._filenode)]
    r = self._filelog.renamed(self._filenode)
    if r:
        pl[0] = (r[0], r[1], None)
    return [filectx(self._repo, p, fileid=n, filelog=l) for (p, n, l) in pl if (n != nullid)]
