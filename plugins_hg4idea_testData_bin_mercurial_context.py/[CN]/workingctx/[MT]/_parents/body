@propertycache
def _parents(self):
    p = self._repo.dirstate.parents()
    if (p[1] == nullid):
        p = p[:(-1)]
    self._parents = [changectx(self._repo, x) for x in p]
    return self._parents
