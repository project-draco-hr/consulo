{
  registerExecutor(new QueryExecutor<PsiDirectory,GlobalSearchScope>(){
    public boolean execute(    final GlobalSearchScope scope,    final Processor<PsiDirectory> consumer){
      FileIndex projectFileIndex=ProjectRootManager.getInstance(getProject()).getFileIndex();
      projectFileIndex.getDirsByPackageName(myQualifiedName,false).forEach(new Processor<VirtualFile>(){
        public boolean process(        final VirtualFile dir){
          if (!scope.contains(dir))           return true;
          PsiDirectory psiDir=myManager.findDirectory(dir);
          LOG.assertTrue(psiDir != null);
          return consumer.process(psiDir);
        }
      }
);
      return true;
    }
  }
);
}
