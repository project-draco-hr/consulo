{
  FileIndex projectFileIndex=ProjectRootManager.getInstance(getProject()).getFileIndex();
  VirtualFile[] dirs=projectFileIndex.getDirectoriesByPackageName(myQualifiedName,false);
  ArrayList<PsiDirectory> list=new ArrayList<PsiDirectory>();
  for (int i=0; i < dirs.length; i++) {
    VirtualFile dir=dirs[i];
    if (!scope.contains(dir))     continue;
    PsiDirectory psiDir=myManager.findDirectory(dir);
    LOG.assertTrue(psiDir != null);
    list.add(psiDir);
  }
  return list.toArray(new PsiDirectory[list.size()]);
}
