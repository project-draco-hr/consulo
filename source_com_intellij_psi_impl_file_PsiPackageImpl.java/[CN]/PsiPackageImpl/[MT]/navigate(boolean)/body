{
  final ProjectView projectView=ProjectView.getInstance(getProject());
  projectView.changeView(PackageViewPane.ID);
  final PsiDirectory[] directories=getDirectories();
  final VirtualFile firstDir=directories[0].getVirtualFile();
  final boolean isLibraryRoot=PackageUtil.isLibraryRoot(firstDir,getProject());
  final Module module=ProjectRootManager.getInstance(getProject()).getFileIndex().getModuleForFile(firstDir);
  final PackageElement packageElement=new PackageElement(module,this,isLibraryRoot);
  projectView.getProjectViewPaneById(PackageViewPane.ID).select(packageElement,firstDir,requestFocus);
  ToolWindowManager.getInstance(getProject()).getToolWindow(ToolWindowId.PROJECT_VIEW).activate(null);
}
