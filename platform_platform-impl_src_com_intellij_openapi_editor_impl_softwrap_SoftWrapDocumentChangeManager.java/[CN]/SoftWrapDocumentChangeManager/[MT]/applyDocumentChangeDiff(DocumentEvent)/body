{
  List<TextChangeImpl> softWraps=myStorage.getSoftWraps();
  int index=myStorage.getSoftWrapIndex(event.getOffset() + 1);
  if (index < 0) {
    index=-index - 1;
  }
  int diff=event.getNewLength() - event.getOldLength();
  for (int i=index; i < softWraps.size(); i++) {
    TextChangeImpl softWrap=softWraps.get(i);
    if (mySoftWrapsToRemoveIndices.contains(i)) {
      continue;
    }
    if (softWrap.getStart() >= event.getOffset() + event.getOldLength()) {
      softWrap.advance(diff);
    }
  }
}
