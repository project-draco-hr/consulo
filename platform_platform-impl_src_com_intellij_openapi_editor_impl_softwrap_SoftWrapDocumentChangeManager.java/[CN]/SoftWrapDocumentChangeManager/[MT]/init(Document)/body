{
  document.addDocumentListener(new LineOrientedDocumentChangeAdapter(){
    @Override public void beforeDocumentChange(    int startLine,    int endLine,    int symbolsDifference){
      myDeferredChanges.add(new DeferredChange(document.getLineStartOffset(startLine),document.getLineEndOffset(endLine),symbolsDifference));
    }
    @Override public void afterDocumentChange(    int startLine,    int endLine,    int symbolsDifference){
    }
  }
);
}
