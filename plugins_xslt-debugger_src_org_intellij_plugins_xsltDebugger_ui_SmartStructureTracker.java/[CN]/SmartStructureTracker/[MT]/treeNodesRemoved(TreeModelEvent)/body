{
  final TreePath p=e.getTreePath();
  if (p != null) {
    if (p.getPathCount() > 1) {
      final Runnable runnable=new Runnable(){
        public void run(){
          DefaultMutableTreeNode last=(DefaultMutableTreeNode)p.getLastPathComponent();
          if (last.getChildCount() > 0) {
            DefaultMutableTreeNode next=(DefaultMutableTreeNode)last.getFirstChild();
            while (next != null) {
              boolean collapse=true;
              if (collapse) {
                myEventTree.collapsePath(TreeUtil.getPathFromRoot(next));
              }
              next=next.getNextSibling();
            }
          }
        }
      }
;
      ApplicationManager.getApplication().invokeLater(runnable);
    }
  }
}
