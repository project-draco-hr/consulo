{
  if (isCanceled() && myNonCancelableCount == 0) {
    throw new ProcessCanceledException();
  }
  if (myStateDelegate != null) {
    myStateDelegate.checkCanceled();
  }
}
