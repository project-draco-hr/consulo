{
  final PsiReturnStatement returnStatement=(PsiReturnStatement)element;
  final PsiExpression returnValue=returnStatement.getReturnValue();
  if (returnValue == null || ErrorUtil.containsDeepError(returnValue)) {
    return;
  }
  final String newStatementText=buildIf(returnValue,new StringBuilder()).toString();
  final Project project=returnStatement.getProject();
  final PsiElementFactory elementFactory=JavaPsiFacade.getInstance(project).getElementFactory();
  final PsiBlockStatement blockStatement=(PsiBlockStatement)elementFactory.createStatementFromText("{" + newStatementText + "}",returnStatement);
  final PsiElement parent=returnStatement.getParent();
  for (  PsiStatement st : blockStatement.getCodeBlock().getStatements()) {
    CodeStyleManager.getInstance(project).reformat(parent.addBefore(st,returnStatement));
  }
  replaceStatement("return false;",returnStatement);
}
