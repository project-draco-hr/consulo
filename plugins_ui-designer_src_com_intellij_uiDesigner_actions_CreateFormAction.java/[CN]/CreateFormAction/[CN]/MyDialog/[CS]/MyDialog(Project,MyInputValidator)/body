{
  super(project,true);
  myProject=project;
  myValidator=validator;
  myBaseLayoutManagerCombo.registerUpDownHint(myFormNameTextField);
  myUpDownHintForm.setIcon(PlatformIcons.UP_DOWN_ARROWS);
  init();
  setTitle(UIDesignerBundle.message("title.new.gui.form"));
  setOKActionEnabled(false);
  myCreateBoundClassCheckbox.addChangeListener(new ChangeListener(){
    public void stateChanged(    ChangeEvent e){
      myClassNameTextField.setEnabled(myCreateBoundClassCheckbox.isSelected());
    }
  }
);
  myFormNameTextField.getDocument().addDocumentListener(new DocumentAdapter(){
    protected void textChanged(    DocumentEvent e){
      setOKActionEnabled(myFormNameTextField.getText().length() > 0);
      if (myNeedAdjust) {
        myAdjusting=true;
        myClassNameTextField.setText(myFormNameTextField.getText());
        myAdjusting=false;
      }
    }
  }
);
  myClassNameTextField.getDocument().addDocumentListener(new DocumentAdapter(){
    protected void textChanged(    DocumentEvent e){
      if (!myAdjusting) {
        myNeedAdjust=false;
      }
    }
  }
);
  for (  String layoutName : LayoutManagerRegistry.getNonDeprecatedLayoutManagerNames()) {
    String displayName=LayoutManagerRegistry.getLayoutManagerDisplayName(layoutName);
    myBaseLayoutManagerCombo.addItem(displayName,null,layoutName);
  }
  myBaseLayoutManagerCombo.setSelectedName(GuiDesignerConfiguration.getInstance(project).DEFAULT_LAYOUT_MANAGER);
}
