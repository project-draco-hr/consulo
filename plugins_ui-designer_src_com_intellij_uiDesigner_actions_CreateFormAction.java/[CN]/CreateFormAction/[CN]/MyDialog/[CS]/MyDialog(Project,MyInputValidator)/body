{
  super(project,true);
  myProject=project;
  myValidator=validator;
  init();
  setTitle(UIDesignerBundle.message("title.new.gui.form"));
  setOKActionEnabled(false);
  myCreateBoundClassCheckbox.addChangeListener(new ChangeListener(){
    public void stateChanged(    ChangeEvent e){
      myClassNameTextField.setEnabled(myCreateBoundClassCheckbox.isSelected());
    }
  }
);
  myFormNameTextField.getDocument().addDocumentListener(new DocumentAdapter(){
    protected void textChanged(    DocumentEvent e){
      setOKActionEnabled(myFormNameTextField.getText().length() > 0);
      if (myNeedAdjust) {
        myAdjusting=true;
        myClassNameTextField.setText(myFormNameTextField.getText());
        myAdjusting=false;
      }
    }
  }
);
  myClassNameTextField.getDocument().addDocumentListener(new DocumentAdapter(){
    protected void textChanged(    DocumentEvent e){
      if (!myAdjusting) {
        myNeedAdjust=false;
      }
    }
  }
);
  myBaseLayoutManagerCombo.setModel(new DefaultComboBoxModel(LayoutManagerRegistry.getNonDeprecatedLayoutManagerNames()));
  myBaseLayoutManagerCombo.setRenderer(new ListCellRendererWrapper<String>(myBaseLayoutManagerCombo.getRenderer()){
    @Override public void customize(    JList list,    String value,    int index,    boolean selected,    boolean hasFocus){
      setText(LayoutManagerRegistry.getLayoutManagerDisplayName(value));
    }
  }
);
  myBaseLayoutManagerCombo.setSelectedItem(GuiDesignerConfiguration.getInstance(project).DEFAULT_LAYOUT_MANAGER);
}
