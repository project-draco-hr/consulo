{
  final Semaphore sema=new Semaphore();
  sema.down();
  MavenRunConfigurationType.runConfiguration(myProject,params,getMavenGeneralSettings(),new MavenRunnerSettings(),new ProgramRunner.Callback(){
    public void processStarted(    final RunContentDescriptor descriptor){
      descriptor.getProcessHandler().addProcessListener(new ProcessAdapter(){
        @Override public void processTerminated(        ProcessEvent event){
          sema.up();
          descriptor.dispose();
        }
      }
);
    }
  }
);
  sema.waitFor();
}
