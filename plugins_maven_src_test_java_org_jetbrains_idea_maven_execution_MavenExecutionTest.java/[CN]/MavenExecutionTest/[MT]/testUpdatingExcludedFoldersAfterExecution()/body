{
  if (!hasMavenInstallation())   return;
  new WriteAction<Object>(){
    @Override protected void run(    Result<Object> objectResult) throws Throwable {
      createStdProjectFolders();
      importProject("<groupId>test</groupId>" + "<artifactId>project</artifactId>" + "<version>1</version>");
      createProjectSubDirs("target/generated-sources/foo","target/bar");
    }
  }
.execute();
  assertModules("project");
  assertExcludes("project","target");
  MavenRunnerParameters params=new MavenRunnerParameters(true,getProjectPath(),Arrays.asList("compile"),null);
  execute(params);
  SwingUtilities.invokeAndWait(new Runnable(){
    @Override public void run(){
    }
  }
);
  assertSources("project","src/main/java","src/main/resources","target/generated-sources/foo");
  assertExcludes("project","target/bar","target/classes","target/classes");
}
