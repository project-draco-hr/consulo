{
  if (treeNode instanceof XValueContainerNode<?> && nodeInfo.isExpanded()) {
    myTree.expandPath(treeNode.getPath());
    XValueContainerNode<?> node=(XValueContainerNode<?>)treeNode;
    List<XValueContainerNode<?>> children=node.getLoadedChildren();
    if (children != null) {
      for (      XValueContainerNode<?> child : children) {
        restoreNode(child,nodeInfo);
      }
    }
 else {
      myNode2State.put(node,nodeInfo);
    }
  }
}
