{
  myProject=project;
  myProject.getMessageBus().connect().subscribe(ArtifactManager.TOPIC,new ArtifactAdapter(){
    @Override public void artifactRemoved(    @NotNull Artifact artifact){
      final ArtifactPointerImpl pointer=myPointers.remove(artifact.getName());
      if (pointer != null) {
        pointer.setArtifact(null);
      }
    }
    @Override public void artifactChanged(    @NotNull Artifact original,    Artifact modified){
      final String oldName=original.getName();
      final ArtifactPointerImpl pointer=myPointers.get(oldName);
      if (pointer != null) {
        pointer.setArtifact(modified);
        final String newName=modified.getName();
        if (!newName.equals(oldName)) {
          pointer.setName(newName);
          myPointers.remove(oldName);
          myPointers.put(newName,pointer);
        }
      }
    }
  }
);
}
