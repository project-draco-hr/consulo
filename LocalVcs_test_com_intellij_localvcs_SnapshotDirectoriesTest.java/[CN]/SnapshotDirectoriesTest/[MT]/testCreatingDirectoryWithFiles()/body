{
  Snapshot s=new Snapshot();
  s.createDirectory("dir");
  s.createFile("dir/file","content");
  assertTrue(s.hasRevision("dir/file"));
  Revision rev=s.getRevision("dir/file");
  assertEquals("dir/file",rev.getName());
  assertEquals("content",rev.getContent());
  List<Revision> children=s.getRevision("dir").getChildren();
  assertEquals(1,children.size());
  assertSame(rev,children.get(0));
}
