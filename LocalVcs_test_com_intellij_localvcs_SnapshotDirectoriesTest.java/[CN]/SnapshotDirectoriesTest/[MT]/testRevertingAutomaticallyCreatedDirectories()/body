{
  Snapshot s=new Snapshot();
  s=s.apply(cs(new CreateDirectoryChange(fn("dir1/dir2"))));
  assertTrue(s.hasRevision(fn("dir1")));
  assertTrue(s.hasRevision(fn("dir1/dir2")));
  s=s.revert();
  assertFalse(s.hasRevision(fn("dir1")));
  assertFalse(s.hasRevision(fn("dir1/dir2")));
}
