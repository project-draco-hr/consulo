{
  int extLen=extension.length();
  if (extLen == 0) {
    int lastSlash=Math.max(filePath.lastIndexOf('/'),filePath.lastIndexOf('\\'));
    return filePath.indexOf('.',lastSlash + 1) == -1;
  }
  int extStart=filePath.length() - extLen;
  return extStart >= 1 && filePath.charAt(extStart - 1) == '.' && filePath.regionMatches(!SystemInfoRt.isFileSystemCaseSensitive,extStart,extension,0,extLen);
}
