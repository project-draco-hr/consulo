{
  final int length=str.length();
  for (int idx=0; idx < length; idx++) {
    char ch=str.charAt(idx);
switch (ch) {
case '/':
      buffer.append("\\/");
    break;
default :
  if (Character.isISOControl(ch) || ch == '$') {
    appendUnicode(buffer,ch);
  }
 else {
    buffer.append(ch);
  }
}
}
}
