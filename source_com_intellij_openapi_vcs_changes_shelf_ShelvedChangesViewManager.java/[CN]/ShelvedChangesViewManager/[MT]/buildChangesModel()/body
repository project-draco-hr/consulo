{
  DefaultMutableTreeNode root=new DefaultMutableTreeNode();
  DefaultTreeModel model=new DefaultTreeModel(root);
  final List<ShelvedChangeList> changeLists=myShelveChangesManager.getShelvedChangeLists();
  for (  ShelvedChangeList changeListData : changeLists) {
    DefaultMutableTreeNode node=new DefaultMutableTreeNode(changeListData);
    model.insertNodeInto(node,root,root.getChildCount());
    List<ShelvedChange> changes=changeListData.getChanges();
    for (    ShelvedChange change : changes) {
      DefaultMutableTreeNode pathNode=new DefaultMutableTreeNode(change);
      model.insertNodeInto(pathNode,node,node.getChildCount());
    }
  }
  return model;
}
