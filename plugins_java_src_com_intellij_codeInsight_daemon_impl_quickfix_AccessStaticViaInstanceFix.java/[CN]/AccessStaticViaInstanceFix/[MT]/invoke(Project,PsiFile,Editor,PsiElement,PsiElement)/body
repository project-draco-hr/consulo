{
  final PsiReferenceExpression myExpression=(PsiReferenceExpression)startElement;
  if (!myExpression.isValid())   return;
  if (!FileModificationService.getInstance().prepareFileForWrite(myExpression.getContainingFile()))   return;
  PsiElement element=myExpression.resolve();
  if (!(element instanceof PsiMember))   return;
  PsiMember myMember=(PsiMember)element;
  if (!myMember.isValid())   return;
  PsiClass containingClass=myMember.getContainingClass();
  if (containingClass == null)   return;
  try {
    final PsiExpression qualifierExpression=myExpression.getQualifierExpression();
    PsiElementFactory factory=JavaPsiFacade.getInstance(project).getElementFactory();
    if (qualifierExpression != null) {
      if (!checkSideEffects(project,containingClass,qualifierExpression,factory,myExpression,editor))       return;
      PsiElement newQualifier=qualifierExpression.replace(factory.createReferenceExpression(containingClass));
      PsiElement qualifiedWithClassName=myExpression.copy();
      newQualifier.delete();
      if (myExpression.resolve() != myMember) {
        myExpression.replace(qualifiedWithClassName);
      }
    }
  }
 catch (  IncorrectOperationException e) {
    LOG.error(e);
  }
}
