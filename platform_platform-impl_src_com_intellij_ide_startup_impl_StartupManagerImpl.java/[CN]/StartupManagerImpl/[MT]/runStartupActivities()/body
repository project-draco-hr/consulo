{
  ApplicationManager.getApplication().runReadAction(new Runnable(){
    public void run(){
      HeavyProcessLatch.INSTANCE.processStarted();
      try {
        runActivities(myPreStartupActivities);
        myPreStartupActivitiesPassed=true;
        myStartupActivitiesRunning=true;
        runActivities(myStartupActivities);
        myStartupActivitiesRunning=false;
        myStartupActivitiesPassed=true;
        startCacheUpdate();
      }
  finally {
        HeavyProcessLatch.INSTANCE.processFinished();
      }
    }
  }
);
}
