{
  if (consoles.size() == 1) {
    RunContentDescriptor descriptor=consoles.iterator().next();
    descriptorConsumer.consume(descriptor);
    descriptorToFront(project,descriptor);
  }
 else   if (consoles.size() > 1) {
    final JList list=new JBList(consoles);
    final Icon icon=DefaultRunExecutor.getRunExecutorInstance().getIcon();
    list.setCellRenderer(new ListCellRendererWrapper<RunContentDescriptor>(){
      @Override public void customize(      final JList list,      final RunContentDescriptor value,      final int index,      final boolean selected,      final boolean hasFocus){
        setText(value.getDisplayName());
        setIcon(icon);
      }
    }
);
    final PopupChooserBuilder builder=new PopupChooserBuilder(list);
    builder.setTitle(selectDialogTitle);
    builder.setItemChoosenCallback(new Runnable(){
      @Override public void run(){
        final Object selectedValue=list.getSelectedValue();
        if (selectedValue instanceof RunContentDescriptor) {
          RunContentDescriptor descriptor=(RunContentDescriptor)selectedValue;
          descriptorConsumer.consume(descriptor);
          descriptorToFront(project,descriptor);
        }
      }
    }
).createPopup().showInBestPositionFor(dataContext);
  }
}
