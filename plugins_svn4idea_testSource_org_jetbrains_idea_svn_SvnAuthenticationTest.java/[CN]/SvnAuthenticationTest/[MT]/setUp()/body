{
  super.setUp();
  myConfiguration=SvnConfiguration.getInstance(myProject);
  final String configPath=myProject.getBaseDir().getPath() + File.separator + "Subversion";
  myConfiguration.setConfigurationDirectory(configPath);
  final File configFile=new File(configPath);
  myFilesToDelete.add(configFile);
  myVcs=SvnVcs.getInstance(myProject);
  myAuthenticationManager=new SvnAuthenticationManager(myProject,configFile);
  myInteractiveProvider=new SvnTestInteractiveAuthentication(myAuthenticationManager);
  myAuthenticationManager.setAuthenticationProvider(new SvnAuthenticationProvider(myVcs,myInteractiveProvider));
  myAuthenticationManager.setRuntimeStorage(SvnConfiguration.RUNTIME_AUTH_CACHE);
  myTestInteraction=new TestInteraction();
  myAuthenticationManager.setInteraction(myTestInteraction);
  SVNConfigFile.createDefaultConfiguration(configFile);
}
