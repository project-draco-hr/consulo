{
  UIUtil.invokeAndWaitIfNeeded(new Runnable(){
    @Override public void run(){
      try {
        SvnAuthenticationTest.super.setUp();
      }
 catch (      Exception e) {
        throw new RuntimeException(e);
      }
    }
  }
);
  myConfiguration=SvnConfiguration.getInstance(myProject);
  final String configPath=myProject.getBaseDir().getPath() + File.separator + "Subversion";
  myConfiguration.setConfigurationDirectory(configPath);
  final File configFile=new File(configPath);
  myFilesToDelete.add(configFile);
  SvnVcs vcs=SvnVcs.getInstance(myProject);
  myAuthenticationManager=new SvnAuthenticationManager(myProject,configFile);
  myInteractiveProvider=new SvnTestInteractiveAuthentication(myAuthenticationManager);
  myAuthenticationManager.setAuthenticationProvider(new SvnAuthenticationProvider(vcs,myInteractiveProvider,SvnConfiguration.RUNTIME_AUTH_CACHE));
  myAuthenticationManager.setRuntimeStorage(SvnConfiguration.RUNTIME_AUTH_CACHE);
  myTestInteraction=new TestInteraction();
  myAuthenticationManager.setInteraction(myTestInteraction);
  SVNConfigFile.createDefaultConfiguration(configFile);
}
