{
  if (!(sourceElement instanceof PsiIdentifier)) {
    return null;
  }
  AndroidFacet facet=AndroidFacet.getInstance(sourceElement);
  if (facet == null) {
    return null;
  }
  final PsiReferenceExpression refExp=PsiTreeUtil.getParentOfType(sourceElement,PsiReferenceExpression.class);
  if (refExp == null) {
    return null;
  }
  final PsiElement resolvedElement=refExp.resolve();
  if (resolvedElement == null || !(resolvedElement instanceof PsiField)) {
    return null;
  }
  final PsiField resolvedField=(PsiField)resolvedElement;
  final PsiFile containingFile=resolvedField.getContainingFile();
  if (containingFile == null || !AndroidResourceUtil.isRJavaField(containingFile,resolvedField)) {
    return null;
  }
  final PsiElement[] resources=AndroidResourceUtil.findResources(resolvedField);
  final PsiElement[] wrappedResources=new PsiElement[resources.length];
  for (int i=0; i < resources.length; i++) {
    final PsiElement resource=resources[i];
    if (resource instanceof XmlAttributeValue && resource instanceof PsiMetaOwner && resource instanceof NavigationItem) {
      wrappedResources[i]=new ValueResourceElementWrapper((XmlAttributeValue)resource);
    }
 else     if (resource instanceof PsiFile) {
      wrappedResources[i]=new FileResourceElementWrapper((PsiFile)resource);
    }
 else {
      wrappedResources[i]=resource;
    }
  }
  return wrappedResources.length > 0 ? wrappedResources : null;
}
