{
  super(project,false);
  myProject=project;
  ChangeListEditHandler handler=null;
  for (  ChangeList changelist : changelists) {
    handler=((LocalChangeListImpl)changelist).getEditHandler();
    if (handler != null) {
      break;
    }
  }
  myPanel=new ChangeListChooserPanel(null,new Consumer<String>(){
    public void consume(    final String errorMessage){
      setOKActionEnabled(errorMessage == null);
      setErrorText(errorMessage);
    }
  }
);
  myPanel.init(project);
  myPanel.setChangeLists(changelists);
  myPanel.setDefaultSelection(defaultSelection);
  setTitle(title);
  if (defaultName != null) {
    myPanel.setDefaultName(defaultName);
  }
  init();
}
