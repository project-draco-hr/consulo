{
  if (isMacSheetEmulation()) {
    setInitialLocationCallback(new Computable<Point>(){
      @Override public Point compute(){
        JRootPane rootPane=SwingUtilities.getRootPane(getWindow().getParent());
        if (rootPane == null) {
          rootPane=SwingUtilities.getRootPane(getWindow().getOwner());
        }
        Point p=rootPane.getLocationOnScreen();
        p.x+=(rootPane.getWidth() - getWindow().getWidth()) / 2;
        return p;
      }
    }
);
    animate();
    if (SystemInfo.isJavaVersionAtLeast("1.7")) {
      try {
        Method method=Class.forName("java.awt.Window").getDeclaredMethod("setOpacity",float.class);
        if (method != null)         method.invoke(getPeer().getWindow(),.8f);
      }
 catch (      Exception exception) {
      }
    }
    setAutoAdjustable(false);
    setSize(getPreferredSize().width,0);
  }
  super.show();
}
