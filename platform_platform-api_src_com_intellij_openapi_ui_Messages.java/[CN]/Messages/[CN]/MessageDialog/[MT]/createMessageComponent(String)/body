{
  JLabel label=new JLabel();
  final JTextPane messageComponent=new JTextPane();
  messageComponent.setFont(label.getFont());
  if (BasicHTML.isHTMLString(message)) {
    final HTMLEditorKit editorKit=new HTMLEditorKit();
    editorKit.getStyleSheet().addRule(UIUtil.displayPropertiesToCSS(label.getFont(),label.getForeground()));
    messageComponent.setEditorKit(editorKit);
    messageComponent.setContentType("text/html");
    messageComponent.addHyperlinkListener(new BrowserHyperlinkListener());
  }
  messageComponent.setText(message);
  messageComponent.setEditable(false);
  if (messageComponent.getCaret() != null) {
    messageComponent.setCaretPosition(0);
  }
  if (UIUtil.isUnderNimbusLookAndFeel()) {
    messageComponent.setOpaque(false);
    messageComponent.setBackground(new Color(0,0,0,0));
  }
 else {
    messageComponent.setBackground(UIUtil.getOptionPaneBackground());
  }
  messageComponent.setForeground(label.getForeground());
  return messageComponent;
}
