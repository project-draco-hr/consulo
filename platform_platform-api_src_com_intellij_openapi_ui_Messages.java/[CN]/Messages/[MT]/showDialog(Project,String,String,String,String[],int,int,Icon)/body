{
  if (isApplicationInUnitTestOrHeadless()) {
    return ourTestImplementation.show(message);
  }
 else {
    MessageDialog dialog=new MoreInfoMessageDialog(project,message,title,moreInfo,options,defaultOptionIndex,focusedOptionIndex,icon);
    dialog.show();
    return dialog.getExitCode();
  }
}
