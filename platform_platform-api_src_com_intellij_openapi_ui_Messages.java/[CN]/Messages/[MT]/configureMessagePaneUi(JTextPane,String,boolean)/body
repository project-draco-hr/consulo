{
  messageComponent.setFont(UIUtil.getLabelFont());
  if (BasicHTML.isHTMLString(message)) {
    final HTMLEditorKit editorKit=new HTMLEditorKit();
    editorKit.getStyleSheet().addRule(UIUtil.displayPropertiesToCSS(UIUtil.getLabelFont(),UIUtil.getLabelForeground()));
    messageComponent.setEditorKit(editorKit);
    messageComponent.setContentType(UIUtil.HTML_MIME);
    if (addBrowserHyperlinkListener) {
      messageComponent.addHyperlinkListener(BrowserHyperlinkListener.INSTANCE);
    }
  }
  messageComponent.setText(message);
  messageComponent.setEditable(false);
  if (messageComponent.getCaret() != null) {
    messageComponent.setCaretPosition(0);
  }
  if (UIUtil.isUnderNimbusLookAndFeel()) {
    messageComponent.setOpaque(false);
    messageComponent.setBackground(UIUtil.TRANSPARENT_COLOR);
  }
 else {
    messageComponent.setBackground(UIUtil.getOptionPaneBackground());
  }
  messageComponent.setForeground(UIUtil.getLabelForeground());
  return messageComponent;
}
