{
  final JComboBox sdkCombobox=getComboBox();
  sdkCombobox.setRenderer(new ListCellRendererWrapper(){
    @Override public void customize(    JList list,    Object value,    int index,    boolean selected,    boolean hasFocus){
      if (value instanceof Sdk) {
        final Sdk sdk=(Sdk)value;
        setText(sdk.getName());
        setIcon(((SdkType)sdk.getSdkType()).getIcon());
      }
 else {
        setText("<html><font color='red'>[none]</font></html>");
      }
    }
  }
);
  addActionListener(new ActionListener(){
    public void actionPerformed(    ActionEvent e){
      ProjectJdksEditor editor=new ProjectJdksEditor(null,ProjectManager.getInstance().getDefaultProject(),AndroidSdkComboBoxWithBrowseButton.this);
      editor.show();
      if (editor.isOK()) {
        final Sdk selectedJdk=editor.getSelectedJdk();
        rebuildSdksListAndSelectSdk(selectedJdk);
        if (selectedJdk == null || !(selectedJdk.getSdkType().equals(AndroidSdkType.getInstance()))) {
          Messages.showErrorDialog(AndroidSdkComboBoxWithBrowseButton.this,AndroidBundle.message("select.platform.error"),CommonBundle.getErrorTitle());
        }
      }
    }
  }
);
  getButton().setToolTipText(AndroidBundle.message("android.add.sdk.tooltip"));
}
