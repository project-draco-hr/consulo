{
  FragmentGenerator.GraphFragment fragment=myFragmentGenerator.getPartLongFragment(graphElement);
  if (fragment == null)   return Collections.emptySet();
  final Set<Integer> selectedNodes=new HashSet<Integer>();
  selectedNodes.add(fragment.upNodeIndex);
  selectedNodes.add(fragment.downNodeIndex);
  myDfsUtil.nodeDfsIterator(fragment.upNodeIndex,new DfsUtil.NextNode(){
    @Override public int fun(    int currentNode){
      for (      int downNode : myPrintedLinearGraph.getDownNodes(currentNode)) {
        if (selectedNodes.add(downNode))         return downNode;
      }
      return DfsUtil.NextNode.NODE_NOT_FOUND;
    }
  }
);
  return selectedNodes;
}
