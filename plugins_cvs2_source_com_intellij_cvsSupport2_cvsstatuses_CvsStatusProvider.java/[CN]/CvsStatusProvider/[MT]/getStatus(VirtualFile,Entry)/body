{
  if (file == null) {
    return getFileStatusForAbsentFile(entry);
  }
  if (entry == null) {
    return getFileStatusForAbsentEntry(file);
  }
  if (entry.isDirectory()) {
    return FileStatus.NOT_CHANGED;
  }
  if (entry.isAddedFile()) {
    return FileStatus.ADDED;
  }
  if (entry.isRemoved()) {
    return FileStatus.DELETED;
  }
  if (entry.isResultOfMerge()) {
    if (entry.isConflict()) {
      return CvsFileStatus.MERGED_WITH_CONFLICTS;
    }
 else {
      return FileStatus.MERGE;
    }
  }
  Date revisionDate=entry.getLastModified();
  if (revisionDate == null) {
    return FileStatus.MODIFIED;
  }
  return (timeStampsAreEqual(revisionDate.getTime(),CvsVfsUtil.getTimeStamp(file))) ? FileStatus.NOT_CHANGED : FileStatus.MODIFIED;
}
