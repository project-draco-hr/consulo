{
  for (  PsiDirectory directory : psiPackage.getDirectories()) {
    final PsiFile packageInfoFile=directory.findFile(PsiPackage.PACKAGE_INFO_FILE);
    if (packageInfoFile != null) {
      final ASTNode node=packageInfoFile.getNode();
      if (node != null) {
        final ASTNode docCommentNode=node.findChildByType(JavaDocElementType.DOC_COMMENT);
        if (docCommentNode != null) {
          final PsiDocComment docComment=(PsiDocComment)docCommentNode.getPsi();
          generatePrologue(buffer);
          generateCommonSection(buffer,docComment);
          generateEpilogue(buffer);
          break;
        }
      }
    }
    PsiFile packageHtmlFile=directory.findFile("package.html");
    if (packageHtmlFile != null) {
      generatePackageHtmlJavaDoc(buffer,packageHtmlFile);
      break;
    }
  }
}
