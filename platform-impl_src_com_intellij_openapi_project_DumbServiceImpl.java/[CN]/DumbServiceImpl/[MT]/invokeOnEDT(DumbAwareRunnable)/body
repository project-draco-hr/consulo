{
  final Application application=ApplicationManager.getApplication();
  if (application.isDispatchThread()) {
    runnable.run();
    return;
  }
  if (!myStartupManager.startupActivityPassed()) {
    myStartupManager.setBackgroundIndexing(true);
    myStartupManager.registerPostStartupActivity(runnable);
    return;
  }
  application.invokeLater(runnable,ModalityState.NON_MODAL);
}
