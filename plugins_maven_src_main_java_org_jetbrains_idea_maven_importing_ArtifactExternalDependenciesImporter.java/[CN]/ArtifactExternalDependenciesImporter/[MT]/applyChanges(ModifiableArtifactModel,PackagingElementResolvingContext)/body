{
  myManifestFiles.saveManifestFiles();
  for (  Artifact artifact : artifactModel.getArtifacts()) {
    ArtifactUtil.processPackagingElements(artifact,ArtifactElementType.ARTIFACT_ELEMENT_TYPE,new PackagingElementProcessor<ArtifactPackagingElement>(){
      @Override public boolean process(      @NotNull List<CompositePackagingElement<?>> parents,      @NotNull ArtifactPackagingElement artifactPackagingElement){
        final Artifact included=artifactPackagingElement.findArtifact(context);
        if (!parents.isEmpty() && included != null) {
          final CompositePackagingElement<?> parent=parents.get(0);
          final List<PackagingElement<?>> elements=myExternalDependencies.get(included);
          if (elements != null) {
            parent.addOrFindChildren(elements);
          }
        }
        return true;
      }
    }
,context,false);
  }
}
