{
  MultiMap<AbstractVcs,FilePath> dirtyRoots=MultiMap.createSet();
  dirtyRoots.putAllValues(groupByVcs(toFilePaths(DefaultVcsRootPolicy.getInstance(myProject).getDirtyRoots())));
  List<VcsDirectoryMapping> mappings=myVcsManager.getDirectoryMappings();
  for (  VcsDirectoryMapping mapping : mappings) {
    if (!mapping.isDefaultMapping() && mapping.getVcs() != null) {
      AbstractVcs vcs=myVcsManager.findVcsByName(mapping.getVcs());
      if (vcs != null) {
        dirtyRoots.putValue(vcs,VcsUtil.getFilePath(mapping.getDirectory(),true));
      }
    }
  }
  return dirtyRoots;
}
