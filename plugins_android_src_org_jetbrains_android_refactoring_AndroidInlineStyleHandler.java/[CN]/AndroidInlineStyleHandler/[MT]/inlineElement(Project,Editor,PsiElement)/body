{
  final AndroidInlineUtil.MyStyleData data=AndroidInlineUtil.getStyleDataFromContext(element);
  if (data != null) {
    final PsiReference reference=editor != null ? TargetElementUtilBase.findReference(editor) : null;
    final PsiElement usageElement=reference != null ? reference.getElement() : null;
    final AndroidInlineUtil.MyStyleUsageData usageData=usageElement != null ? getStyleUsageDataFromContext(project,usageElement) : null;
    final ErrorReporter reporter=editor != null ? new HintBasedErrorReporter(editor) : new ProjectBasedErrorReporter(project);
    AndroidInlineUtil.doInlineStyleDeclaration(project,data,usageData,reporter,ourTestConfig);
  }
}
