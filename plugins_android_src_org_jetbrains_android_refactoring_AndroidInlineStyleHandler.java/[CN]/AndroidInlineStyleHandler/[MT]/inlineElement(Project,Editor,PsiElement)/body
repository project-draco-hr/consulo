{
  final AndroidInlineUtil.MyStyleData data=AndroidInlineUtil.getInlinableStyleDataFromContext(element);
  if (data != null) {
    final ErrorReporter reporter=editor != null ? new HintBasedErrorReporter(editor) : new ProjectBasedErrorReporter(project);
    StyleUsageData usageData=null;
    if (editor != null) {
      final PsiReference reference=TargetElementUtilBase.findReference(editor);
      if (reference instanceof AndroidResourceReferenceBase) {
        if (reference instanceof ResourceNameConverter.MyParentStyleReference) {
          reporter.report("Implicit inheritance is not supported","");
          return;
        }
        usageData=getUsageDataFromEditor(reference);
      }
    }
    AndroidInlineUtil.doInlineStyleDeclaration(project,data,usageData,reporter,ourTestConfig);
  }
}
