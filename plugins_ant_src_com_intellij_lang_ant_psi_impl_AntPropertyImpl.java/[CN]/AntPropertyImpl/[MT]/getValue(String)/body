{
synchronized (PsiLock.LOCK) {
    final XmlTag se=getSourceElement();
    final String tagName=se.getName();
    if (AntFileImpl.PROPERTY.equals(tagName) || "param".equals(tagName)) {
      String value=getPropertyValue();
      if (value == null) {
        final PropertiesFile propertiesFile=getPropertiesFile();
        if (propertiesFile != null) {
          final Property fileProperty=propertiesFile.findPropertyByKey(propName);
          if (fileProperty != null) {
            value=fileProperty.getValue();
          }
        }
      }
      return value;
    }
 else     if ("dirname".equals(tagName)) {
      return getDirnameValue();
    }
 else     if (isTstamp()) {
      return getTstampValue(propName);
    }
    return null;
  }
}
