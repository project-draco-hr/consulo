{
  try {
    final Method superMethod=base.getClass().getDeclaredMethod("getDefaults");
    superMethod.setAccessible(true);
    final UIDefaults defaults=(UIDefaults)superMethod.invoke(base);
    LafManagerImpl.initInputMapDefaults(defaults);
    initIdeaDefaults(defaults);
    if (SystemInfo.isMac) {
      defaults.put("Menu.arrowIcon",AllIcons.Mac.Tree_white_right_arrow);
      defaults.put("MenuItem.acceleratorForeground",new ColorUIResource(255,255,255));
      defaults.put("Separator.foreground",new ColorUIResource(ColorUtil.fromHex("888888")));
      defaults.put("PopupMenu.background",new ColorUIResource(ColorUtil.fromHex("444444")));
    }
    return defaults;
  }
 catch (  Exception ignore) {
    log(ignore);
  }
  return super.getDefaults();
}
