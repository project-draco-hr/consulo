{
  final PsiDocTagValue valueElement=tag.getValueElement();
  if (valueElement != null) {
    return valueElement.getReference();
  }
  final PsiElement[] dataElements=tag.getDataElements();
  if (dataElements.length == 0) {
    return null;
  }
  final PsiElement lastElement=dataElements[dataElements.length - 1];
  if (lastElement == null) {
    return null;
  }
  final PsiElement[] children=lastElement.getChildren();
  if (children.length == 0) {
    return null;
  }
  final PsiElement child=children[0];
  if (!(child instanceof PsiReference)) {
    return null;
  }
  return (PsiReference)child;
}
