{
  if (toolTip == null || description == null)   return toolTip;
  String unescaped=StringUtil.unescapeXml(XmlStringUtil.stripHtml(toolTip));
  String encoded=StringUtil.replace(unescaped,description,DESCRIPTION_PLACEHOLDER);
  if (encoded == unescaped) {
    return toolTip;
  }
  if (encoded.equals(DESCRIPTION_PLACEHOLDER))   encoded=DESCRIPTION_PLACEHOLDER;
  return encoded;
}
