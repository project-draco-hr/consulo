{
  if (forcedTextAttributes != null && forcedTextAttributes.getErrorStripeColor() != null) {
    return forcedTextAttributes.getErrorStripeColor();
  }
  final EditorColorsScheme colorsScheme=getColorsScheme();
  if (forcedTextAttributesKey != null) {
    final Color errorStripeColor=colorsScheme.getAttributes(forcedTextAttributesKey).getErrorStripeColor();
    if (errorStripeColor != null) {
      return errorStripeColor;
    }
  }
  if (severity == HighlightSeverity.ERROR) {
    return colorsScheme.getAttributes(CodeInsightColors.ERRORS_ATTRIBUTES).getErrorStripeColor();
  }
  if (severity == HighlightSeverity.WARNING) {
    return colorsScheme.getAttributes(CodeInsightColors.WARNINGS_ATTRIBUTES).getErrorStripeColor();
  }
  if (severity == HighlightSeverity.INFO) {
    return colorsScheme.getAttributes(CodeInsightColors.INFO_ATTRIBUTES).getErrorStripeColor();
  }
  if (severity == HighlightSeverity.GENERIC_SERVER_ERROR_OR_WARNING) {
    return colorsScheme.getAttributes(CodeInsightColors.GENERIC_SERVER_ERROR_OR_WARNING).getErrorStripeColor();
  }
  TextAttributes attributes=getAttributesByType(element,type,colorsScheme);
  return attributes == null ? null : attributes.getErrorStripeColor();
}
