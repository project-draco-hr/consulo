{
  HighlightInfo info=createUnconditionally();
  LOG.assertTrue(psiElement != null || severity == HighlightInfoType.SYMBOL_TYPE_SEVERITY || severity == HighlightInfoType.INJECTED_FRAGMENT_SEVERITY || ArrayUtilRt.find(HighlightSeverity.DEFAULT_SEVERITIES,severity) != -1,"Custom type demands element to detect its text attributes");
  PsiFile file=psiElement == null ? null : psiElement.getContainingFile();
  for (  HighlightInfoFilter filter : getFilters()) {
    if (!filter.accept(info,file)) {
      return null;
    }
  }
  return info;
}
