{
  ApplicationManager.getApplication().assertIsDispatchThread();
  if (!myUnsavedDocuments.contains(document))   return;
  ApplicationManager.getApplication().runWriteAction(new DocumentRunnable(document,null){
    @Override public void run(){
      try {
        doSaveDocument(document);
      }
 catch (      IOException e) {
        handleErrorsOnSave(Collections.singletonMap(document,e));
      }
    }
  }
);
}
