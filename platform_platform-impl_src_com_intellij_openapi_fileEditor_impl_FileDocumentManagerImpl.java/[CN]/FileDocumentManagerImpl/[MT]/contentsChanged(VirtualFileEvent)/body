{
  if (event.isFromSave())   return;
  final VirtualFile file=event.getFile();
  final Document document=getCachedDocument(file);
  if (document == null) {
    myMultiCaster.fileWithNoDocumentChanged(file);
    return;
  }
  if (isBinaryWithDecompiler(file)) {
    myMultiCaster.fileWithNoDocumentChanged(file);
  }
  long documentStamp=document.getModificationStamp();
  long oldFileStamp=event.getOldModificationStamp();
  if (documentStamp != oldFileStamp) {
    LOG.info("reload " + file.getName() + " from disk?");
    LOG.info("  documentStamp:" + documentStamp);
    LOG.info("  oldFileStamp:" + oldFileStamp);
    if (file.isValid() && askReloadFromDisk(file,document)) {
      reloadFromDisk(document);
    }
  }
 else {
    reloadFromDisk(document);
  }
}
