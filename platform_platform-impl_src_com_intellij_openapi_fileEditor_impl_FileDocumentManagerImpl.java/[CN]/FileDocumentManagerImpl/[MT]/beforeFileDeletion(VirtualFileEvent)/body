{
  if (!event.isFromRefresh()) {
    VfsUtilCore.visitChildrenRecursively(event.getFile(),new VirtualFileVisitor(){
      @Override public boolean visitFile(      @NotNull VirtualFile file){
        Document document=getCachedDocument(file);
        if (document != null) {
          removeFromUnsaved(document);
        }
        return true;
      }
    }
);
  }
}
