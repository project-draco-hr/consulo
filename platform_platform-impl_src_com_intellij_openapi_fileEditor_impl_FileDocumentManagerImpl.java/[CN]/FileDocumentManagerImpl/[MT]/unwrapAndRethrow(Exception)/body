{
  Throwable unwrapped=e;
  if (e instanceof InvocationTargetException) {
    unwrapped=e.getCause() == null ? e : e.getCause();
  }
  if (unwrapped instanceof Error)   throw (Error)unwrapped;
  if (unwrapped instanceof RuntimeException)   throw (RuntimeException)unwrapped;
  LOG.error(unwrapped);
}
