{
  return new DocumentCacheStrategy(){
    private final Map<VirtualFile,Document> myDocuments=ContainerUtil.createConcurrentWeakValueMap();
    @Nullable @Override public Document getDocument(    @NotNull VirtualFile file){
      return myDocuments.get(file);
    }
    @Override public void putDocument(    @NotNull VirtualFile file,    @NotNull Document document){
      myDocuments.put(file,document);
    }
    @Override public void invalidateDocument(    @NotNull VirtualFile file){
      myDocuments.remove(file);
    }
  }
;
}
