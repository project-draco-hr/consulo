{
  Composite previousComposite=canvas.getGraphics().getComposite();
  Iterator<mxCellState> it=cellStates.iterator();
  while (it.hasNext()) {
    mxCellState state=it.next();
    canvas.getGraphics().setComposite(AlphaComposite.getInstance(AlphaComposite.SRC_OVER,getOpacityForCell(state.getCell())));
    paintPreviewState(canvas,state);
  }
  canvas.getGraphics().setComposite(previousComposite);
}
