{
  if (statement == null) {
    return;
  }
  if (statement instanceof PsiDeclarationStatement) {
    final PsiDeclarationStatement declarationStatement=(PsiDeclarationStatement)statement;
    final PsiElement[] elements=declarationStatement.getDeclaredElements();
    for (    PsiElement element : elements) {
      final PsiVariable variable=(PsiVariable)element;
      final String varName=variable.getName();
      topLevelVariables.add(varName);
    }
  }
 else   if (statement instanceof PsiBlockStatement) {
    final PsiBlockStatement block=(PsiBlockStatement)statement;
    final PsiCodeBlock codeBlock=block.getCodeBlock();
    final PsiStatement[] statements=codeBlock.getStatements();
    for (    PsiStatement statement1 : statements) {
      calculateVariablesDeclared(statement1);
    }
  }
}
