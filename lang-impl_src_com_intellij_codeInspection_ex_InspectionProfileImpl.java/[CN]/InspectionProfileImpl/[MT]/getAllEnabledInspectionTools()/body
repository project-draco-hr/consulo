{
  initInspectionTools();
  final ArrayList<ScopeToolState> result=new ArrayList<ScopeToolState>();
  for (  final Tools toolList : myTools.values()) {
    if (toolList.isEnabled()) {
      if (toolList.getTools() != null) {
        for (        ScopeToolState state : toolList.getTools()) {
          if (state.getScope() == null || state.isEnabled()) {
            result.add(state);
          }
        }
      }
 else {
        result.add(new ScopeToolState(null,toolList.getTool(),toolList.isEnabled(),toolList.getLevel()));
      }
    }
  }
  return result;
}
