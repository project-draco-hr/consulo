{
  initInspectionTools();
  final ArrayList<Pair<InspectionProfileEntry,NamedScope>> result=new ArrayList<Pair<InspectionProfileEntry,NamedScope>>();
  for (  final Tools toolList : myTools.values()) {
    final ToolState state=getToolState(toolList.getShortName());
    if (state.isEnabled()) {
      if (state.getScopes() != null) {
        final List<NamedScope> scopes=state.getEnabledScopes();
        for (        Pair<NamedScope,InspectionTool> tool : toolList.getTools()) {
          if (tool.first == null || scopes.contains(tool.first)) {
            result.add(new Pair<InspectionProfileEntry,NamedScope>(tool.second,tool.first));
          }
        }
      }
 else {
        result.add(new Pair<InspectionProfileEntry,NamedScope>(toolList.getTool(),null));
      }
    }
  }
  return result;
}
