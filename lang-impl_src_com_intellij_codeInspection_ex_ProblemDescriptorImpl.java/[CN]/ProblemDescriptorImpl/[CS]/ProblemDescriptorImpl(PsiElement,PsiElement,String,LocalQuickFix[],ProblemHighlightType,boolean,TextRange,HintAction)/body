{
  super(fixes,descriptionTemplate);
  myHintAction=hintAction;
  LOG.assertTrue(startElement.isValid(),startElement);
  LOG.assertTrue(startElement == endElement || endElement.isValid(),endElement);
  assertPhysical(startElement);
  if (startElement != endElement)   assertPhysical(endElement);
  if (startElement.getTextRange().getStartOffset() >= endElement.getTextRange().getEndOffset()) {
    if (!(startElement instanceof PsiFile && endElement instanceof PsiFile)) {
      LOG.error("Empty PSI elements should not be passed to createDescriptor. Start: " + startElement + ", end: "+ endElement);
    }
  }
  myHighlightType=highlightType;
  final Project project=startElement.getProject();
  myStartSmartPointer=SmartPointerManager.getInstance(project).createLazyPointer(startElement);
  myEndSmartPointer=startElement == endElement ? null : SmartPointerManager.getInstance(project).createLazyPointer(endElement);
  myAfterEndOfLine=isAfterEndOfLine;
  myTextRangeInElement=rangeInElement;
}
