{
  if (f.isDirectory()) {
    myVcs.createDirectory(f.getPath());
    for (    VirtualFile child : f.getChildren())     createRecursively(child,filesToCollect);
  }
 else {
    if (filesToCollect == null) {
      myVcs.createFile(f.getPath(),contentFactoryFor(f),f.getTimeStamp(),!f.isWritable());
    }
 else {
      filesToCollect.add(f);
    }
  }
}
