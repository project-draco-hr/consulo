{
  InputStream excludedStream=getClass().getClassLoader().getResourceAsStream(classFilterName);
  if (excludedStream != null) {
    try {
      myTestClassesFilter=TestClassesFilter.createOn(new InputStreamReader(excludedStream));
    }
  finally {
      try {
        excludedStream.close();
      }
 catch (      IOException e) {
        e.printStackTrace();
      }
    }
    myTestGroupName=System.getProperty("idea.test.group");
  }
 else {
    String patterns=System.getProperty("idea.test.patterns");
    if (patterns != null) {
      myTestClassesFilter=new TestClassesFilter(StringUtil.split(patterns,";"));
    }
 else {
      myTestClassesFilter=TestClassesFilter.EMPTY_CLASSES_FILTER;
    }
    myTestGroupName="";
  }
  System.out.println("Using test group: [" + (myTestGroupName == null ? "" : myTestGroupName) + "]");
}
