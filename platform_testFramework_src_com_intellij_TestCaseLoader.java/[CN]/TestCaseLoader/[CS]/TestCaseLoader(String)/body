{
  String preconfiguredTestGroup=System.getProperty("idea.test.group");
  if (StringUtil.isEmpty(preconfiguredTestGroup)) {
    myTestGroupName=TestClassesFilter.ALL_EXCLUDE_DEFINED;
  }
 else {
    myTestGroupName=preconfiguredTestGroup.trim();
  }
  InputStream excludedStream=getClass().getClassLoader().getResourceAsStream(classFilterName);
  if (excludedStream != null) {
    try {
      myTestClassesFilter=TestClassesFilter.createOn(new InputStreamReader(excludedStream));
    }
  finally {
      try {
        excludedStream.close();
      }
 catch (      IOException e) {
        e.printStackTrace();
      }
    }
  }
 else {
    String patterns=System.getProperty("idea.test.patterns");
    if (patterns != null) {
      myTestClassesFilter=new TestClassesFilter(StringUtil.split(patterns,";"));
    }
 else {
      myTestClassesFilter=TestClassesFilter.EMPTY_CLASSES_FILTER;
    }
  }
  if (Comparing.equal(System.getProperty("idea.fast.only"),"true")) {
    BufferedReader reader=new BufferedReader(new InputStreamReader(getClass().getClassLoader().getResourceAsStream("tests/slowTests.txt")));
    try {
      String testName;
      while ((testName=reader.readLine()) != null) {
        blockedTests.add(testName);
      }
    }
 catch (    IOException e) {
    }
 finally {
      try {
        reader.close();
      }
 catch (      IOException e) {
      }
    }
  }
  System.out.println("Using test group: [" + (myTestGroupName == null ? "" : myTestGroupName) + "]");
}
