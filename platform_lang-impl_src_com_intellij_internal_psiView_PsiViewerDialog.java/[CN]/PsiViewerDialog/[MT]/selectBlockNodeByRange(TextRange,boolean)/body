{
  if (myBlockTreeBuilder == null || !myBlockStructurePanel.isVisible()) {
    return;
  }
  BlockTreeNode node=(BlockTreeNode)myBlockTreeBuilder.getTreeStructure().getRootElement();
  main_loop:   while (true) {
    if (node.getBlock().getTextRange().equals(range)) {
      selectBlockNode(node);
      return;
    }
    for (    BlockTreeNode child : node.getChildren()) {
      if (child.getBlock().getTextRange().contains(range)) {
        node=child;
        continue main_loop;
      }
    }
    selectBlockNode(selectParentIfNotFound ? node : null);
    return;
  }
}
