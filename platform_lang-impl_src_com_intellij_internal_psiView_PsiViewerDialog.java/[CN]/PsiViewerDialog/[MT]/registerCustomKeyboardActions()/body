{
  final Component component=myButtonPanel.getComponents()[0];
  if (component instanceof JComponent) {
    final Component button=((JComponent)component).getComponents()[0];
    if (button instanceof JButton) {
      final JButton jButton=(JButton)button;
      final int mask=SystemInfo.isMac ? KeyEvent.META_DOWN_MASK : KeyEvent.ALT_DOWN_MASK;
      registerKeyboardAction(new ActionListener(){
        public void actionPerformed(        ActionEvent e){
          jButton.doClick();
        }
      }
,KeyStroke.getKeyStroke(KeyEvent.VK_P,mask));
      registerKeyboardAction(new ActionListener(){
        public void actionPerformed(        ActionEvent e){
          focusEditor();
        }
      }
,KeyStroke.getKeyStroke(KeyEvent.VK_T,mask));
      registerKeyboardAction(new ActionListener(){
        public void actionPerformed(        ActionEvent e){
          focusTree();
        }
      }
,KeyStroke.getKeyStroke(KeyEvent.VK_S,mask));
      registerKeyboardAction(new ActionListener(){
        public void actionPerformed(        ActionEvent e){
          focusTree();
        }
      }
,KeyStroke.getKeyStroke(KeyEvent.VK_S,mask));
      registerKeyboardAction(new ActionListener(){
        public void actionPerformed(        ActionEvent e){
          focusTree();
        }
      }
,KeyStroke.getKeyStroke(KeyEvent.VK_S,mask));
      registerKeyboardAction(new ActionListener(){
        public void actionPerformed(        ActionEvent e){
          focusRefs();
        }
      }
,KeyStroke.getKeyStroke(KeyEvent.VK_R,mask));
      registerKeyboardAction(new ActionListener(){
        public void actionPerformed(        ActionEvent e){
          if (myRefs.isFocusOwner()) {
            focusTree();
          }
 else           if (myTree.isFocusOwner()) {
            focusRefs();
          }
        }
      }
,KeyStroke.getKeyStroke(KeyEvent.VK_TAB,0));
    }
  }
}
