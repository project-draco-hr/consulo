{
  AbstractAction copyPsi=new AbstractAction("Cop&y PSI"){
    @Override public void actionPerformed(    ActionEvent e){
      PsiElement element=parseText(myEditor.getDocument().getText());
      List<PsiElement> allToParse=new ArrayList<PsiElement>();
      if (element instanceof PsiFile) {
        allToParse.addAll(((PsiFile)element).getViewProvider().getAllFiles());
      }
 else       if (element != null) {
        allToParse.add(element);
      }
      String data="";
      for (      PsiElement psiElement : allToParse) {
        data+=DebugUtil.psiToString(psiElement,!myShowWhiteSpacesBox.isSelected(),true);
      }
      CopyPasteManager.getInstance().setContents(new StringSelection(data));
    }
  }
;
  return ArrayUtil.mergeArrays(new Action[]{copyPsi},super.createActions());
}
