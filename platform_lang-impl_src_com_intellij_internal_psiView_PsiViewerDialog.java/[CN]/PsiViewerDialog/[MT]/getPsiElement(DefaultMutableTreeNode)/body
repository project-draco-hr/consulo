{
  if (node.getUserObject() instanceof ViewerNodeDescriptor) {
    ViewerNodeDescriptor descriptor=(ViewerNodeDescriptor)node.getUserObject();
    Object elementObject=descriptor.getElement();
    return elementObject instanceof PsiElement ? (PsiElement)elementObject : elementObject instanceof ASTNode ? ((ASTNode)elementObject).getPsi() : null;
  }
  return null;
}
