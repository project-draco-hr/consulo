{
  TreeUtil.sort(model,new Comparator(){
    public int compare(    final Object n1,    final Object n2){
      final ChangesBrowserNode node1=(ChangesBrowserNode)n1;
      final ChangesBrowserNode node2=(ChangesBrowserNode)n2;
      Object o1=node1.getUserObject();
      Object o2=node2.getUserObject();
      final int classdiff=node1.getSortWeight() - node2.getSortWeight();
      if (classdiff != 0)       return classdiff;
      return node1.compareUserObjects(o2);
    }
  }
);
  model.nodeStructureChanged((TreeNode)model.getRoot());
}
