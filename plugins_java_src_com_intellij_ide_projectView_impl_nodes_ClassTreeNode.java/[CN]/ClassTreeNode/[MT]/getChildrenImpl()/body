{
  PsiClass parent=getValue();
  final ArrayList<AbstractTreeNode> treeNodes=new ArrayList<AbstractTreeNode>();
  if (getSettings().isShowMembers()) {
    ArrayList<PsiElement> result=new ArrayList<PsiElement>();
    PsiClassChildrenSource.DEFAULT_CHILDREN.addChildren(parent,result);
    for (    PsiElement psiElement : result) {
      if (!psiElement.isPhysical()) {
        continue;
      }
      if (psiElement instanceof PsiClass) {
        treeNodes.add(new ClassTreeNode(getProject(),(PsiClass)psiElement,getSettings()));
      }
 else       if (psiElement instanceof PsiMethod) {
        treeNodes.add(new PsiMethodNode(getProject(),(PsiMethod)psiElement,getSettings()));
      }
 else       if (psiElement instanceof PsiField) {
        treeNodes.add(new PsiFieldNode(getProject(),(PsiField)psiElement,getSettings()));
      }
    }
  }
  return treeNodes;
}
