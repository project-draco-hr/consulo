{
  if (macro.length() <= 0) {
    throw new IllegalArgumentException("Can't extract name from the given macro definition. Reason: it's empty");
  }
  if (macro.charAt(0) != '$' || macro.charAt(macro.length() - 1) != '$') {
    throw new IllegalArgumentException(String.format("Can't extract name from the given macro definition (%s). Reason: it doesn't conform to the expected format ($NAME$)",macro));
  }
  return macro.substring(1,macro.length() - 1);
}
