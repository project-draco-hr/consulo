{
  FileSystemLocation projectLocation=parseProjectLocation();
  if (projectLocation == FileSystemLocation.COMMUNITY) {
    return TestDataLookupStrategy.COMMUNITY;
  }
  TestDataLookupStrategy result=CLASS_STRATEGY_CACHE.get(clazz);
  if (result != null) {
    return result;
  }
  String targetFile=toSystemDependentName(clazz.getName().replace('.','/') + ".java");
  if (PROCESSED_FILES.contains(targetFile)) {
    return null;
  }
  FileSystemLocation classFileLocation=new FileSystemLocationResolver(targetFile).resolve();
  PROCESSED_FILES.add(targetFile);
  if (classFileLocation == null) {
    return null;
  }
  result=classFileLocation == FileSystemLocation.COMMUNITY ? TestDataLookupStrategy.COMMUNITY_FROM_ULTIMATE : TestDataLookupStrategy.ULTIMATE;
  CLASS_STRATEGY_CACHE.put(clazz,result);
  return result;
}
