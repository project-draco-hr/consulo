{
  MutableNode node=addCurrentCommitAndFinishRow(vcsCommit.getHash());
  List<Hash> parents=vcsCommit.getParents();
  Branch branch=node.getBranch();
  if (parents.size() == 1) {
    addParent(node,parents.get(0),branch);
  }
 else {
    for (    Hash parentHash : parents) {
      Collection<VcsRef> refs=findRefForHash(node.getCommitHash());
      addParent(node,parentHash,new Branch(node.getCommitHash(),parentHash,refs,branch.getRepositoryRoot()));
    }
  }
}
