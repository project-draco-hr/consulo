{
  if (myMerged != null) {
    return myMerged;
  }
  myMerged=new ValueContainerImpl<Value>();
  try {
    final ValueContainer<Value> fromDisk=myInitializer.compute();
    final ContainerAction<Value> addAction=new ContainerAction<Value>(){
      public void perform(      final int id,      final Value value){
        myMerged.addValue(id,value);
      }
    }
;
    final ContainerAction<Value> removeAction=new ContainerAction<Value>(){
      public void perform(      final int id,      final Value value){
        myMerged.removeValue(id,value);
      }
    }
;
    fromDisk.forEach(addAction);
    myRemoved.forEach(removeAction);
    myAdded.forEach(addAction);
  }
 catch (  StorageException e) {
    LOG.error(e);
  }
  return myMerged;
}
