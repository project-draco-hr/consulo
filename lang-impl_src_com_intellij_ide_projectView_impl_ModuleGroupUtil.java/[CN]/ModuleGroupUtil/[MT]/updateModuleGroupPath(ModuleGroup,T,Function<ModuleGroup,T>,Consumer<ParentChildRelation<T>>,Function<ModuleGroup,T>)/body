{
  final ArrayList<String> path=new ArrayList<String>();
  final String[] groupPath=group.getGroupPath();
  for (  String pathElement : groupPath) {
    path.add(pathElement);
    final ModuleGroup moduleGroup=new ModuleGroup(ArrayUtil.toStringArray(path));
    T moduleGroupNode=needToCreateNode.fun(moduleGroup);
    if (moduleGroupNode == null) {
      moduleGroupNode=createNewNode.fun(moduleGroup);
      insertNode.consume(new ParentChildRelation<T>(parentNode,moduleGroupNode));
    }
    parentNode=moduleGroupNode;
  }
  return parentNode;
}
