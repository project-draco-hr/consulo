{
  element.accept(new DomElementVisitor(){
    public void visitDomElement(    DomElement element){
      final DomGenericInfo info=element.getGenericInfo();
      final List<DomChildrenDescription> list=info.getChildrenDescriptions();
      for (      final DomChildrenDescription description : list) {
        final List<? extends DomElement> values=description.getValues(element);
        if (description instanceof DomAttributeChildDescription) {
          if (((DomAttributeChildDescription)description).isRequired()) {
            final DomElement child=values.get(0);
            if (child.getXmlElement() == null) {
              annotator.createProblem(child,IdeBundle.message("attribute.0.should.be.defined",child.getXmlElementName()));
            }
          }
        }
 else         if (description instanceof DomFixedChildDescription) {
          final DomFixedChildDescription childDescription=(DomFixedChildDescription)description;
          for (int i=0; i < values.size(); i++) {
            if (childDescription.isRequired(i)) {
              final DomElement child=values.get(i);
              if (child.getXmlElement() == null) {
                annotator.createProblem(child,IdeBundle.message("child.tag.0.should.be.defined",child.getXmlElementName()));
              }
            }
          }
        }
 else         if (values.isEmpty()) {
          final DomCollectionChildDescription childDescription=(DomCollectionChildDescription)description;
          if (childDescription.isRequiredNotEmpty()) {
            annotator.createProblem(element,childDescription,IdeBundle.message("child.tag.0.should.be.defined",description.getXmlElementName()));
          }
        }
      }
      element.acceptChildren(this);
    }
  }
);
}
