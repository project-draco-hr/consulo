{
  startElement(expression);
  PsiExpression condition=expression.getCondition();
  PsiExpression thenExpression=expression.getThenExpression();
  PsiExpression elseExpression=expression.getElseExpression();
  if (condition != null && thenExpression != null && elseExpression != null) {
    condition.accept(this);
    addInstruction(new ConditionalGotoInstruction(getStartOffset(elseExpression),true,condition));
    thenExpression.accept(this);
    addInstruction(new GotoInstruction(getEndOffset(expression)));
    elseExpression.accept(this);
  }
 else {
    pushUnknown();
  }
  finishElement(expression);
}
