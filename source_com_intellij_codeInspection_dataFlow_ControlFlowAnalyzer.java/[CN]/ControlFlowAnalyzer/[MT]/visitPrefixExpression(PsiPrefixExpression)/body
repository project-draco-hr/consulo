{
  startElement(expression);
  PsiExpression operand=expression.getOperand();
  if (operand != null) {
    operand.accept(this);
    if (expression.getOperationSign().getTokenType() == JavaTokenType.EXCL) {
      addInstruction(new NotInstruction());
    }
 else {
      addInstruction(new PopInstruction());
      pushUnknown();
      if (operand instanceof PsiReferenceExpression) {
        PsiVariable psiVariable=DfaValueFactory.resolveVariable((PsiReferenceExpression)operand);
        if (psiVariable != null) {
          DfaVariableValue dfaVariable=DfaVariableValue.Factory.getInstance().create(psiVariable,false);
          addInstruction(new FlushVariableInstruction(dfaVariable));
        }
      }
    }
  }
 else {
    pushUnknown();
  }
  finishElement(expression);
}
