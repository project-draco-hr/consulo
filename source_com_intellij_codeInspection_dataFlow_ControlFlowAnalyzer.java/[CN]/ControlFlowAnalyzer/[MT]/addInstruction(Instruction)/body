{
  ProgressManager.getInstance().checkCanceled();
  if (!myRecursionStopper) {
    myRecursionStopper=true;
    try {
      if (instruction instanceof BranchingInstruction || instruction instanceof AssignInstruction || instruction instanceof MethodCallInstruction) {
        addConditionalRuntimeThrow();
      }
    }
  finally {
      myRecursionStopper=false;
    }
  }
  myCurrentFlow.addInstruction(instruction);
}
