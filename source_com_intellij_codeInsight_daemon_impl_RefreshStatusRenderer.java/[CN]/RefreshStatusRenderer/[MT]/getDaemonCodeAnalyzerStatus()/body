{
  DaemonCodeAnalyzerStatus status=new DaemonCodeAnalyzerStatus();
  if (myFile == null || !myHighlighter.isHighlightingAvailable(myFile))   return null;
  if (myHighlighter.isErrorAnalyzingFinished(myFile)) {
    status.errorAnalyzingFinished=true;
    HighlightInfo[] infos=DaemonCodeAnalyzerImpl.getHighlights(myDocument,HighlightInfo.WARNING,myProject);
    status.warningErrorCount=infos == null ? 0 : infos.length;
    infos=DaemonCodeAnalyzerImpl.getHighlights(myDocument,HighlightInfo.ERROR,myProject);
    status.errorCount=infos == null ? 0 : infos.length;
    status.inspectionFinished=myHighlighter.isInspectionCompleted(myFile);
  }
  return status;
}
