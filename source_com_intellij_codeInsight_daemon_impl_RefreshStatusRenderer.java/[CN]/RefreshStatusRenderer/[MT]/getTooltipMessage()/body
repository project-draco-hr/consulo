{
  DaemonCodeAnalyzerStatus status=getDaemonCodeAnalyzerStatus();
  if (status == null)   return null;
  String text="<html><body>";
  if (status.noHighlightingRoots != null && status.noHighlightingRoots.length == status.rootsNumber) {
    text+="No analysis have been performed.";
    text+="</body></html>";
    return text;
  }
 else   if (status.errorAnalyzingFinished) {
    boolean inspecting=!status.inspectionFinished;
    text+=inspecting ? "Performing code inspection." : "Analysis completed.";
    if (status.warningErrorCount == 0) {
      text+="<br>No errors or warnings found";
      if (inspecting) {
        text+=" so far";
      }
      text+=".";
    }
 else {
      if (status.errorCount != 0) {
        text+="<br><font color=red><b>" + status.errorCount + "</b></font> error"+ (status.errorCount == 1 ? "" : "s")+ " found";
        if (inspecting) {
          text+=" so far";
        }
        text+=".";
      }
      int warnings=status.warningErrorCount - status.errorCount;
      if (warnings != 0) {
        text+="<br><b>" + warnings + "</b> warning"+ (warnings == 1 ? "" : "s")+ " found";
        if (inspecting) {
          text+=" so far";
        }
        text+=".";
      }
    }
    text+=getMessageByRoots(status.noHighlightingRoots,status.rootsNumber,"No syntax highlighting performed");
    text+=getMessageByRoots(status.noInspectionRoots,status.rootsNumber,"No inspections performed");
    text+="</body></html>";
    return text;
  }
 else {
    return "Analyzing for syntactic correctness.";
  }
}
