{
  String message=validateInputData();
  if (message != null) {
    if (message.length() != 0) {
      RefactoringMessageUtil.showErrorMessage(MoveMembersImpl.REFACTORING_NAME,message,HelpID.MOVE_MEMBERS,myProject);
    }
    return;
  }
  invokeRefactoring(new MoveMembersProcessor(getProject(),myMoveCallback,new MoveMembersOptions(){
    public String getMemberVisibility(){
      return MoveMembersDialog.this.getMemberVisibility();
    }
    public PsiMember[] getSelectedMembers(){
      return MoveMembersDialog.this.getSelectedMembers();
    }
    public String getTargetClassName(){
      return MoveMembersDialog.this.getTargetClassName();
    }
  }
));
  RefactoringSettings.getInstance().MOVE_PREVIEW_USAGES=isPreviewUsages();
}
