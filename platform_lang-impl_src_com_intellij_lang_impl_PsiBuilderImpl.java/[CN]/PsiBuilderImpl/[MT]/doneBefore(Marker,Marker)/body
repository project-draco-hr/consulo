{
  doValidityChecks(marker,before);
  int beforeIndex=myProduction.lastIndexOf(before);
  DoneMarker doneMarker=DONE_MARKERS.alloc();
  doneMarker.myLexemeIndex=((StartMarker)before).myLexemeIndex;
  doneMarker.myStart=(StartMarker)marker;
  boolean tieToTheLeft=doneMarker.myStart.myType.isLeftBound() && isEmpty(((StartMarker)marker).myLexemeIndex,((StartMarker)before).myLexemeIndex);
  if (tieToTheLeft)   ((StartMarker)marker).myEdgeTokenBinder=DEFAULT_RIGHT_EDGE_TOKEN_BINDER;
  ((StartMarker)marker).myDoneMarker=doneMarker;
  myProduction.add(beforeIndex,doneMarker);
}
