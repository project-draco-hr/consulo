{
  lastIdx=Math.min(lastIdx,myLexemeCount);
  while (curToken < lastIdx) {
    final int start=myLexStarts[curToken];
    final int end=myLexStarts[curToken + 1];
    final IElementType type=myLexTypes[curToken];
    if (start < end || type instanceof ILeafElementType) {
      Token lexeme=myPool.alloc();
      lexeme.myTokenType=type;
      lexeme.myTokenStart=start;
      lexeme.myTokenEnd=end;
      ensureCapacity(into);
      into.get()[count++]=lexeme;
    }
    curToken++;
  }
  return curToken;
}
