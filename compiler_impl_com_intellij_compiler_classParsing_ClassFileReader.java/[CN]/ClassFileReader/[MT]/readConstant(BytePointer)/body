{
  final int tag=ClsUtil.readU1(ptr);
switch (tag) {
case ClsUtil.CONSTANT_Integer:
    int value=ClsUtil.readU4(ptr);
  return new IntegerConstantValue(value);
case ClsUtil.CONSTANT_Float:
float floatValue=ClsUtil.readFloat(ptr);
return new FloatConstantValue(floatValue);
case ClsUtil.CONSTANT_Long:
int high=ClsUtil.readU4(ptr);
int low=ClsUtil.readU4(ptr);
long v=((long)high << 32) | (low & 0xFFFFFFFFL);
return new LongConstantValue(v);
case ClsUtil.CONSTANT_Double:
double doubleValue=ClsUtil.readDouble(ptr);
return new DoubleConstantValue(doubleValue);
case ClsUtil.CONSTANT_String:
int stringIndex=ClsUtil.readU2(ptr);
ptr.offset=getOffsetInConstantPool(stringIndex);
return new StringConstantValue(ClsUtil.readUtf8Info(ptr));
default :
throw new ClsFormatException();
}
}
