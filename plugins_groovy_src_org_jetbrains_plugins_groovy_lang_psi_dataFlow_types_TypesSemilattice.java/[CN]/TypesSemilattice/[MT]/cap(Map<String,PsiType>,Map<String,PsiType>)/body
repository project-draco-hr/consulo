{
  Map<String,PsiType> result=new HashMap<String,PsiType>();
  for (  Map.Entry<String,PsiType> entry : e1.entrySet()) {
    final String name=entry.getKey();
    final PsiType t1=entry.getValue();
    if (e2.containsKey(name)) {
      final PsiType t2=e2.get(name);
      if (t1.isAssignableFrom(t2))       result.put(name,t1);
 else       if (t2.isAssignableFrom(t1))       result.put(name,t2);
 else       result.put(name,GenericsUtil.getLeastUpperBound(t1,t2,myManager));
    }
  }
  return result;
}
