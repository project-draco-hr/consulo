{
  return PsiDocumentManager.getInstance(context.getProject()).commitAndRunReadAction(new Computable<TextWithImportsImpl>(){
    public TextWithImportsImpl compute(){
      PsiExpression expressionText=null;
      try {
        expressionText=getEvaluationExpression(node,context);
      }
 catch (      EvaluateException e) {
        LOG.error(e.getMessage());
        return null;
      }
      if (expressionText == null)       return null;
      return TextWithImportsImpl.createExpressionText(expressionText);
    }
  }
);
}
