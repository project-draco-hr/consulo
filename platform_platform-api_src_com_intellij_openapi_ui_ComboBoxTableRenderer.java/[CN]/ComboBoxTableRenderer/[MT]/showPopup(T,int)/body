{
  List<T> filtered=ContainerUtil.findAll(myValues,new Condition<T>(){
    @Override public boolean value(    T t){
      return isApplicable(t,row);
    }
  }
);
  final ListPopup popup=JBPopupFactory.getInstance().createListPopup(new ListStep<T>(filtered,value){
    @Override @NotNull public String getTextFor(    T value){
      return ComboBoxTableRenderer.this.getTextFor(value);
    }
    @Override public Icon getIconFor(    T value){
      return ComboBoxTableRenderer.this.getIconFor(value);
    }
    @Override public PopupStep onChosen(    T selectedValue,    boolean finalChoice){
      myFinalRunnable=ComboBoxTableRenderer.this.onChosen(selectedValue);
      return FINAL_CHOICE;
    }
    @Override public void canceled(){
      ComboBoxTableRenderer.this.cancelCellEditing();
    }
    @Override public Runnable getFinalRunnable(){
      return myFinalRunnable;
    }
  }
);
  popup.addListener(this);
  popup.setRequestFocus(false);
  myPopupRef=new WeakReference<ListPopup>(popup);
  popup.showUnderneathOf(this);
}
