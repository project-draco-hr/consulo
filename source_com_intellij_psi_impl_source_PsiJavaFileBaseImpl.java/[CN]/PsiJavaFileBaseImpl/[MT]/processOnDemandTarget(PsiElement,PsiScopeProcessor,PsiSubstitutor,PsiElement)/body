{
  if (target instanceof PsiPackage) {
    processor.handleEvent(PsiScopeProcessor.Event.BEGIN_GROUP,null);
    if (!PsiScopesUtil.processScope(target,processor,substitutor,null,place)) {
      return false;
    }
    processor.handleEvent(PsiScopeProcessor.Event.END_GROUP,null);
  }
 else   if (target instanceof PsiClass) {
    PsiClass[] inners=((PsiClass)target).getInnerClasses();
    for (    PsiClass inner : inners) {
      if (!processor.execute(inner,substitutor))       return false;
    }
  }
 else {
    LOG.assertTrue(false);
  }
  return true;
}
