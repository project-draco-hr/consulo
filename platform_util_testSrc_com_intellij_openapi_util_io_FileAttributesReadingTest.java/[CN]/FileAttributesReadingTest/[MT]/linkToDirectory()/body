{
  final File file=FileUtil.createTempDirectory(myTempDirectory,"test.",".tmp");
  assertTrue(file.setWritable(false,false));
  assertTrue(file.setLastModified(file.lastModified() - 5000));
  final File link=IoTestUtil.createTempLink(file.getPath(),new File(myTempDirectory,"link").getPath());
  final FileAttributes attributes=getAttributes(link);
  assertEquals(FileAttributes.DIRECTORY | FileAttributes.SYM_LINK,attributes.type);
  assertEquals(file.length(),attributes.length);
  assertTimestampEquals(file.lastModified(),attributes.lastModified);
  assertFalse(attributes.isWritable());
  final String target=FileSystemUtil.resolveSymLink(link);
  assertEquals(file.getPath(),target);
}
