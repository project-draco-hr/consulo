{
  if (myStorageScheme == StorageScheme.DEFAULT) {
    final Element tableElement=getProjectSettings().getComponentElement("libraryTable");
    if (tableElement != null) {
      final Element element=findLibraryInTable(tableElement,libraryName);
      return element != null ? new ProjectLibrarySettingsImpl(getProjectSettings().getFile(),element,this) : null;
    }
  }
 else {
    File libraryFile=new File(new File(mySettingsBaseDir,"libraries"),FileUtil.sanitizeFileName(libraryName) + ".xml");
    if (libraryFile.exists()) {
      SettingsXmlFile f=getOrCreateFile(libraryFile);
      return new ProjectLibrarySettingsImpl(libraryFile,f.getRootElement().getChild(LibraryImpl.ELEMENT),this);
    }
  }
  return null;
}
