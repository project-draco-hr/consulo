{
  final FilePath filePath1=ChangesUtil.getFilePath(o1);
  final FilePath filePath2=ChangesUtil.getFilePath(o2);
  if (myTreeCompare) {
    final FilePath parentPath1=filePath1.getParentPath();
    final FilePath parentPath2=filePath2.getParentPath();
    if (parentPath1 != null && parentPath2 != null && parentPath1.isUnder(parentPath2,true)) {
      return -1;
    }
    if (parentPath2 != null && parentPath1 != null && parentPath2.isUnder(parentPath1,true)) {
      return 1;
    }
    return filePath1.getPath().compareToIgnoreCase(filePath2.getPath());
  }
  return filePath1.getName().compareToIgnoreCase(filePath2.getName());
}
