{
  final GrVariableDeclaration added;
  if (targetClass instanceof GrEnumTypeDefinition) {
    final GrEnumConstantList enumConstants=((GrEnumTypeDefinition)targetClass).getEnumConstantList();
    added=(GrVariableDeclaration)targetClass.addAfter(declaration,enumConstants);
  }
 else {
    added=((GrVariableDeclaration)targetClass.add(declaration));
  }
  JavaCodeStyleManager.getInstance(added.getProject()).shortenClassReferences(added);
  return added;
}
