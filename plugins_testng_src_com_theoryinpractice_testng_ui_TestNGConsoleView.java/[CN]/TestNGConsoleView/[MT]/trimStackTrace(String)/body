{
  String[] lines=stackTrace.split("\n");
  StringBuilder builder=new StringBuilder();
  if (lines.length > 0) {
    int i=lines.length - 1;
    while (i >= 0) {
      int startIndex=lines[i].indexOf('a') + 3;
      if (lines[i].length() > 4 && (lines[i].startsWith("org.testng.",startIndex) || lines[i].startsWith("org.junit.",startIndex) || lines[i].startsWith("sun.reflect.DelegatingMethodAccessorImpl",startIndex)|| lines[i].startsWith("sun.reflect.NativeMethodAccessorImpl",startIndex)|| lines[i].startsWith("java.lang.reflect.Method",startIndex)|| lines[i].startsWith("com.intellij.rt.execution.application.AppMain",startIndex))) {
      }
 else {
        break;
      }
      i--;
    }
    for (int j=0; j <= i; j++) {
      builder.append(lines[j]);
      builder.append('\n');
    }
  }
  return builder.toString();
}
