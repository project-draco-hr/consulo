{
  try {
    JComponent component=myEditor.getComponent(getCurrentComponent(),getPropertyContext(),getValue((Property)value),null);
    if (component instanceof JComboBox) {
      component.putClientProperty("JComboBox.isTableCellEditor",Boolean.TRUE);
      component.putClientProperty("tableCellEditor",this);
    }
 else     if (component instanceof JCheckBox) {
      component.putClientProperty("JComponent.sizeVariant",UIUtil.isUnderAquaLookAndFeel() ? "small" : null);
    }
    return component;
  }
 catch (  Throwable e) {
    LOG.debug(e);
    SimpleColoredComponent errComponent=new SimpleColoredComponent();
    errComponent.append(MessageFormat.format("Error getting value: {0}",e.getMessage()),SimpleTextAttributes.ERROR_ATTRIBUTES);
    return errComponent;
  }
}
