{
  final String newName=getNewName();
  if (newName == null) {
    return false;
  }
  if (myPsiElement instanceof PsiAntElement) {
    return newName.trim().matches("[\\d\\w\\_\\.\\-]*");
  }
  if (myPsiElement instanceof PsiFile || myPsiElement instanceof PsiDirectory) {
    return newName.indexOf(File.separatorChar) < 0 && newName.indexOf('/') < 0;
  }
  if (myPsiElement instanceof WebDirectoryElement) {
    return newName.indexOf('/') < 0;
  }
  if (myPsiElement instanceof XmlTag || myPsiElement instanceof XmlAttribute) {
    return newName.trim().matches("([\\d\\w\\_\\.\\-]+:)?[\\d\\w\\_\\.\\-]+");
  }
  if (myPsiElement instanceof XmlAttributeValue) {
    return true;
  }
  if (myPsiElement instanceof Property) {
    return true;
  }
  return PsiManager.getInstance(myProject).getNameHelper().isIdentifier(newName.trim());
}
