{
  final LinkedHashSet<String> result=new LinkedHashSet<String>();
  final String initialName=VariableInplaceRenameHandler.getInitialName();
  if (initialName != null) {
    result.add(initialName);
  }
  result.add(UsageViewUtil.getShortName(myPsiElement));
  final NameSuggestionProvider[] providers=Extensions.getExtensions(NameSuggestionProvider.EP_NAME);
  for (  NameSuggestionProvider provider : providers) {
    SuggestedNameInfo info=provider.getSuggestedNames(myPsiElement,myNameSuggestionContext,result);
    if (info != null) {
      mySuggestedNameInfo=info;
      if (provider instanceof PreferrableNameSuggestionProvider && !((PreferrableNameSuggestionProvider)provider).shouldCheckOthers())       break;
    }
  }
  return ArrayUtil.toStringArray(result);
}
