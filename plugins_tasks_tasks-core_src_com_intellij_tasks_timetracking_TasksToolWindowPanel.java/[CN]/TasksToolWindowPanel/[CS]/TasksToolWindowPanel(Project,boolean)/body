{
  super(vertical);
  myTaskManager=TaskManager.getManager(project);
  final TableView<LocalTask> table=new TableView<LocalTask>(createListModel());
  myTableModel=table.getListTableModel();
  updateTable();
  setContent(ScrollPaneFactory.createScrollPane(table,true));
  setToolbar(createToolbar());
  myTaskManager.addTaskListener(new TaskListenerAdapter(){
    @Override public void taskDeactivated(    final LocalTask task){
      updateTable();
    }
    @Override public void taskActivated(    final LocalTask task){
      updateTable();
    }
    @Override public void taskAdded(    final LocalTask task){
      updateTable();
    }
    @Override public void taskRemoved(    final LocalTask task){
      updateTable();
    }
  }
);
  myTimer=new Timer(TaskManagerImpl.TIME_TRACKING_TIME_UNIT,new ActionListener(){
    @Override public void actionPerformed(    final ActionEvent e){
      table.repaint();
    }
  }
);
  myTimer.start();
}
