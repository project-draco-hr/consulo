{
  final PsiElement parent=expression.getParent();
  final PsiElement child=expression.getExpression();
  if (parent instanceof PsiBinaryExpression && child instanceof PsiBinaryExpression) {
    final PsiBinaryExpression parentBinaryExpression=(PsiBinaryExpression)parent;
    final PsiJavaToken parentSign=parentBinaryExpression.getOperationSign();
    final IElementType parentOperator=parentSign.getTokenType();
    final PsiBinaryExpression childBinaryExpression=(PsiBinaryExpression)child;
    final PsiJavaToken childSign=childBinaryExpression.getOperationSign();
    final IElementType childOperator=childSign.getTokenType();
    final PsiType parentType=parentBinaryExpression.getType();
    if (parentType == null) {
      return true;
    }
    final PsiType childType=childBinaryExpression.getType();
    if (!parentType.equals(childType)) {
      return true;
    }
    if (parentBinaryExpression.getROperand() == expression) {
      if (!ParenthesesUtils.isCommutativeBinaryOperator(childOperator)) {
        return true;
      }
    }
    return false;
  }
  return false;
}
