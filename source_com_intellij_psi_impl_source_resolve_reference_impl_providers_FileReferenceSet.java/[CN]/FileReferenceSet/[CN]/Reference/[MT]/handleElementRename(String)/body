{
  final ElementManipulator manipulator=getManipulator(getElement());
  if (manipulator != null) {
    myElement=manipulator.handleContentChange(getElement(),getRangeInElement(),newElementName);
    int delta=newElementName.length() - myRange.getLength();
    myRange=new TextRange(getRangeInElement().getStartOffset(),getRangeInElement().getStartOffset() + newElementName.length());
    for (int idx=myIndex + 1; idx < myReferences.length; idx++) {
      myReferences[idx].myRange=myReferences[idx].myRange.shiftRight(delta);
    }
    return myElement;
  }
  throw new IncorrectOperationException("Manipulator for this element is not defined");
}
