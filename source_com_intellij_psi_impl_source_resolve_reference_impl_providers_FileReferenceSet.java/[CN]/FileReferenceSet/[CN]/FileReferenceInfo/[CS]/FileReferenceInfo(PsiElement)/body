{
  if (element instanceof XmlAttributeValue) {
    text=((XmlAttributeValue)element).getValue();
    offset=1;
  }
 else   if (element instanceof XmlTag) {
    final XmlTag tag=((XmlTag)element);
    final XmlTagValue value=tag.getValue();
    final String s=value.getText();
    text=s.trim();
    offset=value.getTextRange().getStartOffset() + s.indexOf(text) - element.getTextOffset();
  }
 else {
    text=null;
  }
  if (text != null) {
    int paramOffset=text.indexOf('?');
    if (paramOffset >= 0) {
      text=text.substring(0,paramOffset);
    }
  }
}
