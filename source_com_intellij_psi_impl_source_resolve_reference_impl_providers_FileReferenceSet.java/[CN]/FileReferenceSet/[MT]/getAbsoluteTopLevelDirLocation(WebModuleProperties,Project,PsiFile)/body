{
  PsiElement result=null;
  if (properties != null) {
    result=JspManager.getInstance(project).findWebDirectoryElementByPath("/",properties);
  }
 else {
    final VirtualFile virtualFile=file.getVirtualFile();
    if (virtualFile != null) {
      final ProjectFileIndex index=ProjectRootManager.getInstance(project).getFileIndex();
      VirtualFile contentRootForFile=index.getSourceRootForFile(virtualFile);
      if (contentRootForFile == null)       contentRootForFile=index.getContentRootForFile(virtualFile);
      if (contentRootForFile != null) {
        result=PsiManager.getInstance(project).findDirectory(contentRootForFile);
      }
    }
  }
  return result;
}
