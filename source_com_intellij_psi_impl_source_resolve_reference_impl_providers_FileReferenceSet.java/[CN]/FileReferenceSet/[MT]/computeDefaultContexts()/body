{
  final PsiFile file=getContainingFile();
  if (file == null)   return Collections.emptyList();
  if (myOptions != null) {
    final Function<PsiFile,PsiFileSystemItem> value=DEFAULT_PATH_EVALUATOR_OPTION.getValue(myOptions);
    if (value != null) {
      final PsiFileSystemItem result=value.fun(file);
      return result == null ? Collections.<PsiFileSystemItem>emptyList() : Collections.singleton(result);
    }
  }
  if (isAbsolutePathReference()) {
    return ContainerUtil.createMaybeSingletonList(getAbsoluteTopLevelDirLocation(file));
  }
  final CachedValueProvider<PsiFileSystemItem> myDefaultContextProvider=new CachedValueProvider<PsiFileSystemItem>(){
    public Result<PsiFileSystemItem> compute(){
      final PsiFileSystemItem context=getContextByFile();
      return Result.createSingleDependency(context,PsiModificationTracker.OUT_OF_CODE_BLOCK_MODIFICATION_COUNT);
    }
  }
;
  final CachedValuesManager cachedValuesManager=PsiManager.getInstance(myElement.getProject()).getCachedValuesManager();
  final PsiFileSystemItem value=cachedValuesManager.getCachedValue(file,DEFAULT_CONTEXTS_KEY,myDefaultContextProvider,false);
  return value == null ? Collections.<PsiFileSystemItem>emptyList() : Collections.singleton(value);
}
