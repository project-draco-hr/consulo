{
  super.visitAssignmentExpression(grAssignmentExpression);
  final PsiElement parent=grAssignmentExpression.getParent();
  final GrControlFlowOwner flowOwner=ControlFlowUtils.findControlFlowOwner(grAssignmentExpression);
  if (parent instanceof GrCodeBlock || parent instanceof GroovyFile || parent instanceof GrControlStatement|| parent == null || parent instanceof GrCaseSection) {
    if (flowOwner instanceof GrOpenBlock) {
      final PsiElement flowParent=flowOwner.getParent();
      if (flowParent instanceof PsiMethod && (((PsiMethod)flowParent).getReturnType() == PsiType.VOID || ((PsiMethod)flowParent).isConstructor())) {
        return;
      }
    }
    final List<GrStatement> returns=ControlFlowUtils.collectReturns(flowOwner);
    if (!returns.contains(grAssignmentExpression))     return;
  }
  registerError(grAssignmentExpression);
}
