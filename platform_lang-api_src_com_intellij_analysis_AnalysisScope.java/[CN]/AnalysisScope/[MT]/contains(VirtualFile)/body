{
  if (myFilesSet == null) {
    if (myType == CUSTOM) {
      if (myScope instanceof GlobalSearchScope)       return ((GlobalSearchScope)myScope).contains(file);
      if (myScope instanceof LocalSearchScope)       return ((LocalSearchScope)myScope).isInScope(file);
    }
    if (myType == PROJECT) {
      final ProjectFileIndex index=ProjectRootManager.getInstance(myProject).getFileIndex();
      return index.isInContent(file) && (myIncludeTestSource || !index.isInTestSourceContent(file));
    }
    initFilesSet();
  }
  return myFilesSet.contains(file);
}
