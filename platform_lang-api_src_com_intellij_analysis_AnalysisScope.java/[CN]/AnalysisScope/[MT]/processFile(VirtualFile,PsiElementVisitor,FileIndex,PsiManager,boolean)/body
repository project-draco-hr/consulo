{
  if (fileOrDir.isDirectory())   return true;
  final FileType fileType=fileOrDir.getFileType();
  if (fileType instanceof WorkspaceFileType || fileType instanceof ProjectFileType || fileType instanceof ModuleFileType|| fileOrDir.getPath().contains("/.idea/"))   return true;
  if (projectFileIndex.isInContent(fileOrDir) && (myIncludeTestSource || !projectFileIndex.isInTestSourceContent(fileOrDir))) {
    return processFile(fileOrDir,visitor,psiManager,needReadAction);
  }
  return true;
}
