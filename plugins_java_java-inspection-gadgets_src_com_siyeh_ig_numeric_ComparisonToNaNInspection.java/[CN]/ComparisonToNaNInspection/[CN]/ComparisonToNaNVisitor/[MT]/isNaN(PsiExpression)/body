{
  if (!(expression instanceof PsiReferenceExpression)) {
    return false;
  }
  final PsiReferenceExpression referenceExpression=(PsiReferenceExpression)expression;
  @NonNls final String referenceName=referenceExpression.getReferenceName();
  if (!"NaN".equals(referenceName)) {
    return false;
  }
  final PsiElement target=referenceExpression.resolve();
  if (!(target instanceof PsiField)) {
    return false;
  }
  final PsiField field=(PsiField)target;
  final PsiClass containingClass=field.getContainingClass();
  if (containingClass == null) {
    return false;
  }
  final String qualifiedName=containingClass.getQualifiedName();
  return CommonClassNames.JAVA_LANG_DOUBLE.equals(qualifiedName) || CommonClassNames.JAVA_LANG_FLOAT.equals(qualifiedName);
}
