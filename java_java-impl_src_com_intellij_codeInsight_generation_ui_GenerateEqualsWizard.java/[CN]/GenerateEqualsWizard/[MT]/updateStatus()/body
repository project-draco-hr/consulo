{
  boolean finishEnabled=true;
  boolean nextEnabled=true;
  if (myEqualsPanel != null & getCurrentStep() < myEqualsStepCode) {
    finishEnabled=false;
  }
  if (getCurrentStep() == myTestBoxedStep - 1) {
    boolean anyNonBoxed=false;
    for (    MemberInfo classField : myClassFields) {
      if (classField.isChecked()) {
        PsiField field=(PsiField)classField.getMember();
        if (!(field.getType() instanceof PsiPrimitiveType)) {
          anyNonBoxed=true;
          break;
        }
      }
    }
    nextEnabled=anyNonBoxed;
  }
  if (getCurrentStep() == myEqualsStepCode) {
    boolean anyChecked=false;
    for (    MemberInfo classField : myClassFields) {
      if (classField.isChecked()) {
        anyChecked=true;
        break;
      }
    }
    finishEnabled&=anyChecked;
    nextEnabled&=anyChecked;
  }
  if (getCurrentStep() == myTestBoxedStep) {
    finishEnabled=true;
    nextEnabled=SystemInfo.isMac;
  }
  getFinishButton().setEnabled(finishEnabled);
  getNextButton().setEnabled(nextEnabled);
  if (finishEnabled && getFinishButton().isVisible()) {
    getRootPane().setDefaultButton(getFinishButton());
  }
 else   if (getNextButton().isEnabled()) {
    getRootPane().setDefaultButton(getNextButton());
  }
}
