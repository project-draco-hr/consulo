{
  final LibraryTablesRegistrar tableRegistrar=LibraryTablesRegistrar.getInstance();
  List<LibraryTable> tables=new ArrayList<LibraryTable>();
  tables.add(tableRegistrar.getLibraryTable());
  tables.addAll(tableRegistrar.getCustomLibraryTables());
  for (  LibraryTable libraryTable : tables) {
    final Iterator<Library> iterator=libraryTable.getLibraryIterator();
    while (iterator.hasNext()) {
      Library library=iterator.next();
      final String name=library.getName();
      if (name != null) {
        final List<String> paths=convertToLocalPaths(library.getFiles(OrderRootType.CLASSES));
        globals.add(new GlobalLibrary(name,paths));
      }
    }
  }
}
