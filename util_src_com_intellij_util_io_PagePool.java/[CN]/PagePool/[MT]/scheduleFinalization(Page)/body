{
  final int curFinalizationId;
synchronized (lock) {
    curFinalizationId=++finalizationId;
  }
  final FinalizationRequest request=page.prepareForFinalization(curFinalizationId);
  if (request == null)   return false;
synchronized (lock) {
    if (myFinalizerThread == null) {
      myFinalizerThread=new Thread(new FinalizationThreadWorker(),FINALIZER_THREAD_NAME);
      myFinalizerThread.start();
    }
    myFinalizationQueue.put(keyForPage(page),request);
    if (myFinalizationQueue.size() > 5000) {
      return true;
    }
  }
synchronized (finalizationMonitor) {
    finalizationMonitor.notifyAll();
  }
  return false;
}
