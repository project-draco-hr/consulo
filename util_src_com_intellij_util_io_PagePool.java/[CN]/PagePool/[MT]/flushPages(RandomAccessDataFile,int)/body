{
  boolean hasFlushes;
synchronized (lock) {
    if (lastOwner == owner) {
      scheduleFinalization(lastHit);
      lastHit=null;
      lastOwner=null;
    }
    hasFlushes=scanQueue(owner,myProtectedQueue);
    hasFlushes|=scanQueue(owner,myProbationalQueue);
  }
  return !hasFlushes || flushFinalizationQueue(maxPagesToFlush);
}
