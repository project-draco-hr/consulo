{
  final PsiImportList imports=file.getImportList();
  final PsiImportStatement[] importStatements=imports.getImportStatements();
  final int lastDotIndex=fqName.lastIndexOf((int)'.');
  final String shortName=fqName.substring(lastDotIndex + 1);
  final String dottedShortName='.' + shortName;
  for (int i=0; i < importStatements.length; i++) {
    final PsiImportStatement importStatement=importStatements[i];
    if (!importStatement.isOnDemand()) {
      final String importName=importStatement.getQualifiedName();
      if (!importName.equals(fqName)) {
        if (importName.endsWith(dottedShortName)) {
          return true;
        }
      }
    }
  }
  return false;
}
