{
  if (myContent == null) {
    final Document doc=FileDocumentManager.getInstance().getDocument(myVf);
    if (doc == null) {
      myPatchApplyFailed=true;
      return null;
    }
    final String localContext=doc.getText();
    final GenericPatchApplier applier=new GenericPatchApplier(localContext,myPatch.getHunks());
    if (applier.execute()) {
      myContent=applier.getAfter();
    }
 else {
      myPatchApplyFailed=true;
    }
  }
  return myContent;
}
