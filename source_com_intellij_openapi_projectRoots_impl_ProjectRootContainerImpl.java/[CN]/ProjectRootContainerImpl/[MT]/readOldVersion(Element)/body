{
  for (  final Object o : child.getChildren("root")) {
    Element root=(Element)o;
    String url=root.getAttributeValue("file");
    SimpleProjectRoot projectRoot=new SimpleProjectRoot(url);
    String type=root.getChild("property").getAttributeValue("value");
    if (type.equals("sourcePathEntry")) {
      addRoot(projectRoot,OrderRootType.SOURCES);
    }
 else     if (type.equals("javadocPathEntry")) {
      addRoot(projectRoot,JavadocOrderRootType.getInstance());
    }
 else     if (type.equals("classPathEntry")) {
      addRoot(projectRoot,OrderRootType.CLASSES);
    }
  }
  myFiles=new HashMap<OrderRootType,VirtualFile[]>();
  for (  OrderRootType rootType : myRoots.keySet()) {
    myFiles.put(rootType,myRoots.get(rootType).getVirtualFiles());
  }
  for (  OrderRootType type : OrderRootType.getAllTypes()) {
    final VirtualFile[] oldRoots=VirtualFile.EMPTY_ARRAY;
    final VirtualFile[] newRoots=getRootFiles(type);
    if (!Comparing.equal(oldRoots,newRoots)) {
      fireRootsChanged();
    }
  }
}
