{
  for (Iterator iterator=child.getChildren("root").iterator(); iterator.hasNext(); ) {
    Element root=(Element)iterator.next();
    String url=root.getAttributeValue("file");
    SimpleProjectRoot projectRoot=new SimpleProjectRoot(url);
    String type=root.getChild("property").getAttributeValue("value");
    if (type.equals("sourcePathEntry")) {
      addRoot(projectRoot,ProjectRootType.SOURCE);
    }
 else     if (type.equals("javadocPathEntry")) {
      addRoot(projectRoot,ProjectRootType.JAVADOC);
    }
 else     if (type.equals("classPathEntry")) {
      addRoot(projectRoot,ProjectRootType.CLASS);
    }
  }
  myFiles=new VirtualFile[ProjectRootType.ALL_TYPES.length][];
  for (int i=0; i < myFiles.length; i++) {
    myFiles[i]=myRoots[i].getVirtualFiles();
  }
  for (int i=0; i < ProjectRootType.ALL_TYPES.length; i++) {
    final VirtualFile[] oldRoots=VirtualFile.EMPTY_ARRAY;
    final VirtualFile[] newRoots=getRootFiles(ProjectRootType.ALL_TYPES[i]);
    if (!Comparing.equal(oldRoots,newRoots)) {
      fireRootsChanged(oldRoots,newRoots,ProjectRootType.ALL_TYPES[i]);
    }
  }
}
