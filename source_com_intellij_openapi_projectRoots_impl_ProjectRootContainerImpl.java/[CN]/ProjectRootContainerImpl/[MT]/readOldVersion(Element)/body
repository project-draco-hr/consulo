{
  for (  final Object o : child.getChildren("root")) {
    Element root=(Element)o;
    String url=root.getAttributeValue("file");
    SimpleProjectRoot projectRoot=new SimpleProjectRoot(url);
    String type=root.getChild("property").getAttributeValue("value");
    if (type.equals("sourcePathEntry")) {
      addRoot(projectRoot,ProjectRootType.SOURCE);
    }
 else     if (type.equals("javadocPathEntry")) {
      addRoot(projectRoot,ProjectRootType.JAVADOC);
    }
 else     if (type.equals("classPathEntry")) {
      addRoot(projectRoot,ProjectRootType.CLASS);
    }
  }
  myFiles=new VirtualFile[ProjectRootType.ALL_TYPES.length][];
  for (int i=0; i < myFiles.length; i++) {
    myFiles[i]=myRoots[i].getVirtualFiles();
  }
  for (  ProjectRootType type : ProjectRootType.ALL_TYPES) {
    final VirtualFile[] oldRoots=VirtualFile.EMPTY_ARRAY;
    final VirtualFile[] newRoots=getRootFiles(type);
    if (!Comparing.equal(oldRoots,newRoots)) {
      fireRootsChanged(oldRoots,newRoots,type);
    }
  }
}
