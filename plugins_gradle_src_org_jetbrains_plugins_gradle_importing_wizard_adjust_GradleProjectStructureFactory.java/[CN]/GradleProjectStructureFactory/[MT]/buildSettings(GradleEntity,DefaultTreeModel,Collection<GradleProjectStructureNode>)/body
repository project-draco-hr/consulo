{
  final Ref<GradleProjectStructureNodeSettings> result=new Ref<GradleProjectStructureNodeSettings>();
  entity.invite(new GradleEntityVisitor(){
    @Override public void visit(    @NotNull GradleProject project){
      setupController(project,treeModel,treeNodes);
      result.set(new GradleProjectSettings(project));
    }
    @Override public void visit(    @NotNull GradleModule module){
      setupController(module,treeModel,treeNodes);
      result.set(new GradleModuleSettings(module));
    }
    @Override public void visit(    @NotNull GradleContentRoot contentRoot){
      result.set(new GradleContentRootSettings(contentRoot));
    }
    @Override public void visit(    @NotNull GradleLibrary library){
      setupController(library,treeModel,treeNodes);
      result.set(new GradleLibrarySettings(library));
    }
    @Override public void visit(    @NotNull GradleModuleDependency dependency){
      setupController(dependency,treeModel,treeNodes);
      result.set(new GradleModuleDependencySettings(dependency));
    }
    @Override public void visit(    @NotNull GradleLibraryDependency dependency){
      setupController(dependency,treeModel,treeNodes);
      result.set(new GradleLibraryDependencySettings(dependency));
    }
  }
);
  return result.get();
}
