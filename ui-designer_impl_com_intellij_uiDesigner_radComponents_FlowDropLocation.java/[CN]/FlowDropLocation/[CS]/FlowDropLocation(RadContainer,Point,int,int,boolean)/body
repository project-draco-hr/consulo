{
  myHGap=hGap;
  myContainer=container;
  mySquareForLast=squareForLast;
  myInsertIndex=myContainer.getDelegee().getComponentCount();
  if (location != null) {
    for (int i=0; i < myContainer.getDelegee().getComponentCount(); i++) {
      Rectangle bounds=myContainer.getDelegee().getComponent(i).getBounds();
      bounds.grow(myHGap,vGap);
      if (bounds.contains(location)) {
        if (location.x < bounds.getCenterX()) {
          myInsertIndex=i;
        }
 else {
          myInsertIndex=i + 1;
        }
        break;
      }
 else       if (i == 0 && location.x < bounds.x) {
        myInsertIndex=0;
      }
    }
  }
  myInsertBeforeId=null;
  if (myInsertIndex < myContainer.getDelegee().getComponentCount()) {
    myInsertBeforeId=myContainer.getComponent(myInsertIndex).getId();
  }
}
