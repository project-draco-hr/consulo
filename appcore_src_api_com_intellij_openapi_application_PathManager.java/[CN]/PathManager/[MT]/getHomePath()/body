{
  if (ourHomePath != null)   return ourHomePath;
  if (System.getProperty(PROPERTY_HOME_PATH) != null) {
    ourHomePath=getAbsolutePath(System.getProperty(PROPERTY_HOME_PATH));
    return ourHomePath;
  }
  final Class aClass=PathManager.class;
  String rootPath=getResourceRoot(aClass,"/" + aClass.getName().replace('.','/') + ".class");
  if (rootPath != null) {
    File root=new File(rootPath).getAbsoluteFile();
    do {
      root=new File(root.getParent()).getAbsoluteFile();
    }
 while (root != null && !isIdeaHome(root));
    ourHomePath=root != null ? root.getAbsolutePath() : null;
  }
  return ourHomePath;
}
