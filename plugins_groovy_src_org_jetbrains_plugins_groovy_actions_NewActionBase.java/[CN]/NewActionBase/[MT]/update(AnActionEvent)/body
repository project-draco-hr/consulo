{
  super.update(event);
  final Presentation presentation=event.getPresentation();
  final DataContext context=event.getDataContext();
  Module module=(Module)context.getData(DataConstants.MODULE);
  if (!GroovyGrailsConfiguration.isSuitableModule(module) || !presentation.isEnabled() || !NewActionBase.isUnderSourceRoots(event)|| !ActionsUtil.isGroovyConfigured(event)) {
    presentation.setEnabled(false);
    presentation.setVisible(false);
  }
 else {
    presentation.setEnabled(true);
    presentation.setVisible(true);
  }
}
