{
  new Task.Backgroundable(myProject,RepositoryBundle.message("maven.indices.updating"),true){
    public void run(    @NotNull ProgressIndicator indicator){
      try {
        List<MavenIndex> infos=info != null ? Collections.singletonList(info) : myIndices.getIndices();
        try {
          for (          MavenIndex each : infos) {
            indicator.setText(RepositoryBundle.message("maven.indices.updating.index",each.getId()));
            myIndices.update(each,myProject,indicator);
          }
        }
 catch (        ProcessCanceledException ignore) {
        }
        ApplicationManager.getApplication().invokeLater(new Runnable(){
          public void run(){
            rehighlightAllPoms();
          }
        }
);
      }
 catch (      MavenIndexException e) {
        showError(new MavenException(e));
      }
    }
  }
.queue();
}
