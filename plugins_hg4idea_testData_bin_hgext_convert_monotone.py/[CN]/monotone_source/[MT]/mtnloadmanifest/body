def mtnloadmanifest(self, rev):
    if (self.manifest_rev == rev):
        return
    self.manifest = self.mtnrun('get_manifest_of', rev).split('\n\n')
    self.manifest_rev = rev
    self.files = {}
    self.dirs = {}
    for e in self.manifest:
        m = self.file_re.match(e)
        if m:
            attr = ''
            name = m.group(1)
            node = m.group(2)
            if self.attr_execute_re.match(e):
                attr += 'x'
            self.files[name] = (node, attr)
        m = self.dir_re.match(e)
        if m:
            self.dirs[m.group(1)] = True
