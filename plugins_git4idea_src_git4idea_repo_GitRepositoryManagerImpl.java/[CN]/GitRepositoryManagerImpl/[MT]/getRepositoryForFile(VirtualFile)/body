{
  final VcsRoot vcsRoot=myVcsManager.getVcsRootObjectFor(file);
  if (vcsRoot == null) {
    return null;
  }
  final AbstractVcs vcs=vcsRoot.getVcs();
  if (!myVcs.equals(vcs)) {
    if (vcs != null) {
      LOG.info(String.format("getRepositoryForFile returned non-Git (%s) root for file %s",vcs.getDisplayName(),file));
    }
    return null;
  }
  return getRepositoryForRoot(vcsRoot.getPath());
}
