{
  final VcsRoot vcsRoot=myVcsManager.getVcsRootObjectFor(file);
  if (vcsRoot == null) {
    return null;
  }
  if (!myVcs.equals(vcsRoot.vcs)) {
    LOG.info(String.format("getRepositoryForFile returned non-Git (%s) root for file %s",vcsRoot.vcs.getDisplayName(),file));
    return null;
  }
  return getRepositoryForRoot(vcsRoot.path);
}
