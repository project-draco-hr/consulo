{
  if (debuggerTreeNode.getParent() != null && debuggerTreeNode.getParent().getDescriptor() instanceof ValueDescriptor) {
    NodeDescriptorImpl descriptor=((DebuggerTreeNodeImpl)debuggerTreeNode.getParent()).getDescriptor();
    ValueDescriptorImpl vDescriptor=((ValueDescriptorImpl)descriptor);
    PsiExpression parentEvaluation=vDescriptor.getTreeEvaluation((DebuggerTreeNodeImpl)debuggerTreeNode.getParent(),context);
    return DebuggerTreeNodeExpression.substituteThis(vDescriptor.getRenderer(context.getDebugProcess()).getChildrenValueExpression(debuggerTreeNode,context),parentEvaluation,vDescriptor.getValue());
  }
 else {
    return getDescriptorEvaluation(context);
  }
}
