{
  final LibraryTable.ModifiableModel libraryTableModel=LibraryTablesRegistrar.getInstance().getLibraryTable().getModifiableModel();
  final Library library=libraryTableModel.createLibrary(JavaFxFacet.getFacetLibraryName(sdk.getName()));
  final Library.ModifiableModel model=library.getModifiableModel();
  for (  VirtualFile root : getRoots(sdk)) {
    model.addRoot(root,OrderRootType.CLASSES);
  }
  for (  String url : sdk.getRootProvider().getUrls(OrderRootType.SOURCES)) {
    model.addRoot(url,OrderRootType.SOURCES);
  }
  model.commit();
  libraryTableModel.commit();
  return library;
}
