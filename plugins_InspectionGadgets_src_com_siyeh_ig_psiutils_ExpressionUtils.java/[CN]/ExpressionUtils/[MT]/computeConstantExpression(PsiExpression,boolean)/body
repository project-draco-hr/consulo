{
  if (expression == null) {
    return null;
  }
  final Project project=expression.getProject();
  final JavaPsiFacade psiFacade=JavaPsiFacade.getInstance(project);
  final PsiConstantEvaluationHelper constantEvaluationHelper=psiFacade.getConstantEvaluationHelper();
  return constantEvaluationHelper.computeConstantExpression(expression,throwExceptionOnOverflow);
}
