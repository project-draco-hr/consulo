{
  final Project project=(Project)e.getDataContext().getData(DataConstants.PROJECT);
  FeatureUsageTracker.getInstance().triggerFeatureUsed("navigation.popup.class");
  PsiDocumentManager.getInstance(project).commitAllDocuments();
  final ChooseByNamePopup popup=ChooseByNamePopup.createPopup(project,new GotoClassModel2(project));
  popup.invoke(new ChooseByNamePopupComponent.Callback(){
    public void onClose(){
      if (GotoClassAction.class.equals(myInAction))       myInAction=null;
    }
    public void elementChosen(    Object element){
      ((NavigationItem)element).navigate(true);
    }
  }
,ModalityState.current(),true);
}
