{
  final StringTokenizer tokens=new StringTokenizer(scriptText,"\n");
  while (tokens.hasMoreTokens()) {
    final String eachLine=tokens.nextToken();
    String includeCmd=AbstractCommand.CMD_PREFIX + "include";
    if (eachLine.startsWith(includeCmd)) {
      File file=PlaybackCallFacade.getFile(eachLine.substring(includeCmd.length()).trim());
      if (!file.exists()) {
        commandList.add(new ErrorCommand("Cannot find file to include: " + file.getAbsolutePath(),line));
        return;
      }
      try {
        String include=FileUtil.loadFile(file);
        myCommands.add(new PrintCommand(eachLine,line));
        includeScript(include,commandList,0);
      }
 catch (      IOException e) {
        commandList.add(new ErrorCommand("Error reading file: " + file.getAbsolutePath(),line));
        return;
      }
    }
 else {
      final PlaybackCommand cmd=createCommand(eachLine,line++);
      commandList.add(cmd);
    }
  }
}
