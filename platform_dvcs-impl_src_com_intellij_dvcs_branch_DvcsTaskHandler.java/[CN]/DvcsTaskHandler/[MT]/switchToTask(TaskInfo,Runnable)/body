{
  final String branchName=taskInfo.getName();
  List<R> repositories=getRepositories(taskInfo.getRepositories());
  List<R> notFound=ContainerUtil.filter(repositories,new Condition<R>(){
    @Override public boolean value(    R repository){
      return !hasBranch(repository,taskInfo);
    }
  }
);
  if (!notFound.isEmpty()) {
    checkoutAsNewBranch(branchName,notFound);
  }
  repositories.removeAll(notFound);
  if (!repositories.isEmpty()) {
    checkout(branchName,repositories,invokeAfter);
  }
}
