{
  try {
    File configFile=getConfigFile();
    FileUtil.createParentDirs(configFile);
    Writer out=new BufferedWriter(new FileWriter(configFile));
    try {
      String current=getCurrentState();
      out.write(current);
      myConfiguration=current;
    }
  finally {
      out.close();
    }
  }
 catch (  IOException e) {
    LOG.info("Cannot save configuration of " + myConfiguration,e);
  }
}
