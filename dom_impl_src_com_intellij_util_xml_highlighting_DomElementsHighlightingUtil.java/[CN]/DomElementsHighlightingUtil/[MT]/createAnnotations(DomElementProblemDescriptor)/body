{
  return createProblemDescriptors(problemDescriptor,new Function<Pair<TextRange,PsiElement>,Annotation>(){
    public Annotation fun(    final Pair<TextRange,PsiElement> s){
      final String text=problemDescriptor.getDescriptionTemplate();
      final HighlightSeverity severity=problemDescriptor.getHighlightSeverity();
      final AnnotationHolderImpl holder=EMPTY_ANNOTATION_HOLDER;
      final TextRange range=s.first;
      if (severity.compareTo(HighlightSeverity.ERROR) >= 0)       return holder.createErrorAnnotation(range,text);
      if (severity.compareTo(HighlightSeverity.WARNING) >= 0)       return holder.createWarningAnnotation(range,text);
      if (severity.compareTo(HighlightSeverity.INFO) >= 0)       return holder.createInfoAnnotation(range,text);
      return holder.createInformationAnnotation(range,text);
    }
  }
);
}
