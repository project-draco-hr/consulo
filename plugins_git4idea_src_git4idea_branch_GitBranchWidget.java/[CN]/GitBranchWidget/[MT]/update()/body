{
  ApplicationManager.getApplication().invokeLater(new Runnable(){
    public void run(){
      final GitBranch currentBranch=myBranches.getCurrentBranch(getSelectedFile());
      String currentBranchName=currentBranch != null ? currentBranch.getName() : null;
      if (currentBranchName == null) {
        currentBranchName="";
      }
      myCurrentBranchName=currentBranchName;
      myStatusBar.updateWidget(ID());
    }
  }
,new Condition(){
    public boolean value(    Object o){
      Project project=getProject();
      return isDisposed() || (project != null) && ((!project.isOpen()) || project.isDisposed()) || myStatusBar == null;
    }
  }
);
}
