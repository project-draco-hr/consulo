{
  setLayout(new BorderLayout());
  setBorder(BorderFactory.createLineBorder(new Color(100,100,100),1));
  myNotificationsModel=notificationsModel;
  myDataModel=new NotificationsListModel(myNotificationsModel);
  notificationsModel.addListener(this);
  myList=new JList(myDataModel){
    @Override public String getToolTipText(    final MouseEvent event){
      final int i=locationToIndex(event.getPoint());
      if (i >= 0) {
        final Object o=getModel().getElementAt(i);
        if (o instanceof NotificationImpl) {
          return ((NotificationImpl)o).getDescription();
        }
      }
      return null;
    }
  }
;
  myList.setCellRenderer(new NotificationsListRenderer());
  myList.getSelectionModel().setSelectionInterval(0,0);
  myList.addMouseListener(new MouseAdapter(){
    @Override public void mouseClicked(    final MouseEvent e){
      if (e.getClickCount() % 2 == 0) {
        final int index=myList.locationToIndex(e.getPoint());
        final NotificationImpl notification=myNotificationsModel.get(index);
        if (notification != null) {
          performNotificationAction(notification);
        }
      }
    }
  }
);
  myScrollPane=new JScrollPane(myList);
  myScrollPane.setHorizontalScrollBarPolicy(JScrollPane.HORIZONTAL_SCROLLBAR_NEVER);
  myScrollPane.setVerticalScrollBarPolicy(JScrollPane.VERTICAL_SCROLLBAR_AS_NEEDED);
  myScrollPane.setBorder(BorderFactory.createEmptyBorder(3,3,3,3));
  myScrollPane.setBackground(Color.WHITE);
  myLabel=new JLabel("Notifications");
  myLabel.setBorder(BorderFactory.createEmptyBorder(2,2,2,2));
  myLabel.setOpaque(true);
  myLabel.setFont(UIManager.getFont("Label.font").deriveFont(Font.PLAIN,10));
  myLabel.setHorizontalAlignment(JLabel.CENTER);
  myLabel.setBackground(new Color(171,200,226));
  myLabel.setForeground(Color.BLACK);
  add(myLabel,BorderLayout.NORTH);
  myInnerPanel=new JPanel(new CardLayout()){
{
      add(new JPanel(){
{
          setBorder(BorderFactory.createEmptyBorder(5,5,5,5));
          setBackground(Color.WHITE);
          add(new JLabel("No notifications."));
        }
      }
,EMPTY_CARD);
      add(myScrollPane,LIST_CARD);
    }
  }
;
  switchLayout();
  add(myInnerPanel,BorderLayout.CENTER);
}
