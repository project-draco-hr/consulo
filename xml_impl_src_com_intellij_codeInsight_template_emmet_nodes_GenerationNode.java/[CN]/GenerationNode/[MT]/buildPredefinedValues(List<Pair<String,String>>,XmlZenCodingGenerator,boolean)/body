{
  if (generator == null) {
    return Collections.emptyMap();
  }
  for (  Pair<String,String> pair : attribute2value) {
    if (ZenCodingUtil.containsSurroundedTextMarker(pair.second)) {
      myContainsSurroundedTextMarker=true;
      break;
    }
  }
  String attributes=generator.buildAttributesString(attribute2value,hasChildren,myNumberInIteration,myTotalIterations,mySurroundedText);
  attributes=attributes.length() > 0 ? ' ' + attributes : null;
  Map<String,String> predefinedValues=null;
  if (attributes != null) {
    predefinedValues=new HashMap<String,String>();
    predefinedValues.put(TemplateToken.ATTRS,attributes);
  }
  return predefinedValues;
}
