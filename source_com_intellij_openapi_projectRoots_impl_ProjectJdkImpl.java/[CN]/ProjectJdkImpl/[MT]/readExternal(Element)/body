{
  myName=element.getChild("name").getAttributeValue("value");
  final Element typeChild=element.getChild("type");
  final String sdkTypeName=typeChild != null ? typeChild.getAttributeValue("value") : null;
  if (sdkTypeName != null) {
    mySdkType=getSdkTypeByName(sdkTypeName);
  }
 else {
    mySdkType=JavaSdk.getInstance();
  }
  final Element version=element.getChild("version");
  this.setVersionString((version != null) ? version.getAttributeValue("value") : null);
  if (element.getAttribute("version") == null || !"2".equals(element.getAttributeValue("version"))) {
    myRootContainer.startChange();
    myRootContainer.readOldVersion(element.getChild("roots"));
    final List children=element.getChild("roots").getChildren("root");
    for (Iterator iterator=children.iterator(); iterator.hasNext(); ) {
      Element root=(Element)iterator.next();
      for (Iterator j=root.getChildren("property").iterator(); j.hasNext(); ) {
        Element prop=(Element)j.next();
        if ("type".equals(prop.getAttributeValue("name")) && "jdkHome".equals(prop.getAttributeValue("value"))) {
          myHomePath=VirtualFileManager.extractPath(root.getAttributeValue("file"));
        }
      }
    }
    myRootContainer.finishChange();
  }
 else {
    myHomePath=element.getChild("homePath").getAttributeValue("value");
    myRootContainer.readExternal(element.getChild("roots"));
  }
  final Element additional=element.getChild("additional");
  myAdditionalData=(additional != null) ? mySdkType.loadAdditionalData(additional) : null;
}
