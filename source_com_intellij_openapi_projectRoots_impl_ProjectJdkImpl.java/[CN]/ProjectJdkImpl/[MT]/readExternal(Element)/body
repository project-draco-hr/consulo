{
  myName=element.getChild(ELEMENT_NAME).getAttributeValue(ATTRIBUTE_VALUE);
  final Element typeChild=element.getChild(ELEMENT_TYPE);
  final String sdkTypeName=typeChild != null ? typeChild.getAttributeValue(ATTRIBUTE_VALUE) : null;
  if (sdkTypeName != null) {
    mySdkType=getSdkTypeByName(sdkTypeName);
  }
 else {
    mySdkType=JavaSdk.getInstance();
  }
  final Element version=element.getChild(ELEMENT_VERSION);
  this.setVersionString((version != null) ? version.getAttributeValue(ATTRIBUTE_VALUE) : null);
  if (element.getAttribute(ELEMENT_VERSION) == null || !"2".equals(element.getAttributeValue(ELEMENT_VERSION))) {
    myRootContainer.startChange();
    myRootContainer.readOldVersion(element.getChild(ELEMENT_ROOTS));
    final List children=element.getChild(ELEMENT_ROOTS).getChildren(ELEMENT_ROOT);
    for (Iterator iterator=children.iterator(); iterator.hasNext(); ) {
      Element root=(Element)iterator.next();
      for (Iterator j=root.getChildren(ELEMENT_PROPERTY).iterator(); j.hasNext(); ) {
        Element prop=(Element)j.next();
        if (ELEMENT_TYPE.equals(prop.getAttributeValue(ELEMENT_NAME)) && VALUE_JDKHOME.equals(prop.getAttributeValue(ATTRIBUTE_VALUE))) {
          myHomePath=VirtualFileManager.extractPath(root.getAttributeValue(ATTRIBUTE_FILE));
        }
      }
    }
    myRootContainer.finishChange();
  }
 else {
    myHomePath=element.getChild(ELEMENT_HOMEPATH).getAttributeValue(ATTRIBUTE_VALUE);
    myRootContainer.readExternal(element.getChild(ELEMENT_ROOTS));
  }
  final Element additional=element.getChild(ELEMENT_ADDITIONAL);
  myAdditionalData=(additional != null) ? mySdkType.loadAdditionalData(additional) : null;
}
