{
  final JPanel panel=new JPanel(new BorderLayout());
  panel.setBackground(UIUtil.getListBackground(sel));
  panel.setForeground(UIUtil.getListForeground(sel));
  if (value instanceof TaskPsiElement) {
    final Task task=((TaskPsiElement)value).getTask();
    final SimpleColoredComponent c=new SimpleColoredComponent();
    final boolean isLocalTask=TaskManager.getManager(myProject).findTask(task.getId()) != null;
    final boolean isOld=TaskManager.getManager(myProject).getOpenChangelists(task).isEmpty();
    final Color bg=sel ? UIUtil.getListSelectionBackground() : isLocalTask ? UIUtil.getListBackground() : REMOTE_TASK_BG_COLOR;
    panel.setBackground(bg);
    SimpleTextAttributes attr=getAttributes(sel,task.isClosed());
    c.setIcon(isLocalTask && isOld ? IconLoader.getTransparentIcon(task.getIcon(),0.5f) : task.getIcon());
    SpeedSearchUtil.appendColoredFragmentForMatcher(TaskUtil.getTrimmedSummary(task),c,attr,myMatcher,bg,sel);
    panel.add(c,BorderLayout.CENTER);
  }
 else   if ("...".equals(value)) {
    final SimpleColoredComponent c=new SimpleColoredComponent();
    c.setIcon(EmptyIcon.ICON_16);
    c.append((String)value);
    panel.add(c,BorderLayout.CENTER);
  }
 else   if (GotoTaskAction.CREATE_NEW_TASK_ACTION == value) {
    final SimpleColoredComponent c=new SimpleColoredComponent();
    c.setIcon(LayeredIcon.create(TasksCoreIcons.Unknown,AllIcons.Actions.New));
    c.append(GotoTaskAction.CREATE_NEW_TASK_ACTION.getActionText());
    panel.add(c,BorderLayout.CENTER);
  }
 else   if (ChooseByNameBase.NON_PREFIX_SEPARATOR == value) {
    panel.add(ChooseByNameBase.renderNonPrefixSeparatorComponent(UIUtil.getListBackground()),BorderLayout.CENTER);
  }
  return panel;
}
