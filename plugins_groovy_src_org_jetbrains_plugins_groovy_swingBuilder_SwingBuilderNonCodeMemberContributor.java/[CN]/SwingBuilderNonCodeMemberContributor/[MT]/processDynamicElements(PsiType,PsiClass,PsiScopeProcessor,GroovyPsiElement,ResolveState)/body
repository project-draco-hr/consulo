{
  ClassHint classHint=processor.getHint(ClassHint.KEY);
  if (classHint != null && !classHint.shouldProcess(ClassHint.ResolveKind.METHOD))   return;
  MultiMap<String,PsiMethod> methodMap=aClass.getUserData(KEY);
  if (methodMap == null) {
    MyBuilder builder=new MyBuilder(aClass);
    builder.generateMethods();
    methodMap=((UserDataHolderEx)aClass).putUserDataIfAbsent(KEY,builder.myResult);
  }
  String nameHint=ResolveUtil.getNameHint(processor);
  Collection<? extends PsiMethod> methods=nameHint == null ? methodMap.values() : methodMap.get(nameHint);
  for (  PsiMethod method : methods) {
    if (!processor.execute(method,state))     return;
  }
}
