{
  disposeNonTextEditor();
  final PsiElement elt=myElements[myIndex];
  Project project=elt.getProject();
  final VirtualFile vFile=elt.getContainingFile().getVirtualFile();
  final FileEditorProvider[] providers=FileEditorProviderManager.getInstance().getProviders(project,vFile);
  for (  FileEditorProvider provider : providers) {
    if (provider instanceof TextEditorProvider) {
      updateTextElement(elt);
      myBinarySwitch.show(myViewingPanel,"Text");
      break;
    }
 else     if (provider.accept(project,vFile)) {
      myCurrentNonTextEditorProvider=provider;
      myNonTextEditor=myCurrentNonTextEditorProvider.createEditor(project,vFile);
      myBinaryPanel.removeAll();
      myBinaryPanel.add(myNonTextEditor.getComponent());
      myBinarySwitch.show(myViewingPanel,"Binary");
      break;
    }
  }
}
