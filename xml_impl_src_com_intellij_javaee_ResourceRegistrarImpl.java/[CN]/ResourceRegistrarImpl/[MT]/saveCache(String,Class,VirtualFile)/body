{
  if (!name.startsWith("/"))   return;
  final ClassLoader loader=klass.getClassLoader();
  Map<String,VirtualFile> cache=myCache.get(loader);
  if (cache == null) {
    myCache.put(loader,cache=CollectionFactory.hashMap());
  }
  String parent=name;
  VirtualFile current=file;
  while (true) {
    if (current.equals(cache.get(parent)))     break;
    cache.put(parent,current);
    final int i=parent.lastIndexOf('/');
    if (i <= 0)     break;
    if (!parent.substring(i + 1).equals(current.getName())) {
      break;
    }
    parent=parent.substring(0,i);
    current=current.getParent();
  }
}
