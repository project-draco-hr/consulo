{
  final FavoritesTreeNodeDescriptor[] selectedNodeDescriptors=getSelectedNodeDescriptors();
  if (selectedNodeDescriptors == null) {
    return null;
  }
  ArrayList<Object> result=new ArrayList<Object>();
  for (int i=0; i < selectedNodeDescriptors.length; i++) {
    FavoritesTreeNodeDescriptor selectedNodeDescriptor=selectedNodeDescriptors[i];
    if (selectedNodeDescriptor != null) {
      Object value=selectedNodeDescriptor.getElement().getValue();
      if (value instanceof SmartPsiElementPointer) {
        value=((SmartPsiElementPointer)value).getElement();
      }
      result.add(value);
    }
  }
  return result.toArray(new Object[result.size()]);
}
