{
  if (ConcatenationUtils.isConcatenation(expression)) {
    final PsiPolyadicExpression concatenation=(PsiPolyadicExpression)expression;
    for (    PsiExpression op : concatenation.getOperands()) {
      turnExpressionIntoChainedAppends(op,result);
    }
  }
 else {
    final PsiExpression strippedExpression=ParenthesesUtils.stripParentheses(expression);
    result.append(".append(");
    if (strippedExpression != null) {
      result.append(strippedExpression.getText());
    }
    result.append(')');
  }
}
