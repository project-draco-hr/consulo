{
  if (!ApplicationManager.getApplication().isUnitTestMode() && result.contentType != null && result.contentType.contains(HTML_MIME) && new String(result.bytes).contains("<html")) {
    ApplicationManager.getApplication().invokeLater(new Runnable(){
      public void run(){
        Messages.showMessageDialog(project,XmlBundle.message("invalid.url.no.xml.file.at.location",resourceUrl),XmlBundle.message("invalid.url.title"),Messages.getErrorIcon());
      }
    }
,indicator.getModalityState());
    return false;
  }
  return true;
}
