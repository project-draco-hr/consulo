{
  String editorFontName=getEditorFontName();
  int editorFontSize=getEditorFontSize();
  final String[] availableFonts=GraphicsEnvironment.getLocalGraphicsEnvironment().getAvailableFontFamilyNames();
  if (!ArrayUtil.contains(editorFontName,availableFonts) && myParentScheme != null) {
    editorFontName=myParentScheme.getEditorFontName();
    myFallbackFontName=editorFontName;
  }
 else {
    myFallbackFontName=null;
  }
  Font plainFont=new Font(editorFontName,Font.PLAIN,editorFontSize);
  Font boldFont=new Font(editorFontName,Font.BOLD,editorFontSize);
  Font italicFont=new Font(editorFontName,Font.ITALIC,editorFontSize);
  Font boldItalicFont=new Font(editorFontName,Font.BOLD + Font.ITALIC,editorFontSize);
  myFonts.put(EditorFontType.PLAIN,plainFont);
  myFonts.put(EditorFontType.BOLD,boldFont);
  myFonts.put(EditorFontType.ITALIC,italicFont);
  myFonts.put(EditorFontType.BOLD_ITALIC,boldItalicFont);
}
