{
  final Window popupWindow=SwingUtilities.windowForComponent(content);
  final Point location=popupWindow.getLocation();
  popupWindow.setLocation(location.x,location.y);
  Insets insets=content.getInsets();
  if (insets != null) {
    size.width+=insets.left + insets.right;
    size.height+=insets.top + insets.bottom;
  }
  content.setPreferredSize(size);
  popupWindow.pack();
  return popupWindow;
}
