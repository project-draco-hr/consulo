{
  final List<ThemeData> newThemes=new ArrayList<ThemeData>();
  final Map<String,ResourceElement> styleMap=buildStyleMap(facet);
  for (  ResourceElement style : styleMap.values()) {
    if (isTheme(style,styleMap,new HashSet<ResourceElement>())) {
      final String themeName=style.getName().getValue();
      if (themeName != null) {
        final ThemeData theme=new ThemeData(themeName,true);
        if (addedThemes.add(theme)) {
          newThemes.add(theme);
        }
      }
    }
  }
  Collections.sort(newThemes);
  resultList.addAll(newThemes);
}
