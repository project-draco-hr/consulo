{
  final AndroidLayoutPreviewToolWindowSettings.State state=mySettings.getState();
  if (myResetFlag) {
    final LayoutDevice selectedDevice=getSelectedDevice();
    if (selectedDevice != null) {
      state.setDevice(selectedDevice.getName());
    }
    final LayoutDeviceConfiguration deviceConfig=getSelectedDeviceConfiguration();
    if (deviceConfig != null) {
      state.setDeviceConfiguration(deviceConfig.getName());
    }
    final DockMode dockMode=getSelectedDockMode();
    if (dockMode != null) {
      state.setDockMode(dockMode.getResourceValue());
    }
    final NightMode nightMode=getSelectedNightMode();
    if (nightMode != null) {
      state.setNightMode(nightMode.getResourceValue());
    }
    final LocaleData localeData=getSelectedLocaleData();
    if (localeData != null) {
      state.setLocaleLanguage(localeData.getLanguage());
      state.setLocaleRegion(localeData.getRegion());
    }
    final IAndroidTarget target=getSelectedTarget();
    if (target != null) {
      state.setTargetHashString(target.hashString());
    }
  }
  if (myThemesResetFlag) {
    final ThemeData theme=getSelectedTheme();
    if (theme != null) {
      state.setTheme(theme.getName());
    }
  }
}
