{
  final boolean fileChanged=!Comparing.equal(myFile,file);
  myFile=file;
  final AndroidPlatform newPlatform=getPlatform(file);
  if (newPlatform == null || !newPlatform.equals(myPrevPlatform)) {
    myPrevPlatform=newPlatform;
    if (file != null) {
      updateLocales();
      updateDevicesAndTargets(newPlatform);
      updateThemes();
      if (!myResetFlag) {
        reset();
        myResetFlag=true;
        return;
      }
    }
  }
  if (file != null && fileChanged) {
    myResetFlag=false;
    reset();
    myResetFlag=true;
  }
}
