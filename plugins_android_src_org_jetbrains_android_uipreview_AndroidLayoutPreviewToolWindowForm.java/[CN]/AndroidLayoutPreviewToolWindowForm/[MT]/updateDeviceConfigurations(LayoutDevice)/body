{
  final LayoutDeviceConfiguration selectedConfiguration=getSelectedDeviceConfiguration();
  final String selectedConfigurationName=selectedConfiguration != null ? selectedConfiguration.getName() : null;
  final List<LayoutDeviceConfiguration> configurations=device != null ? device.getConfigurations() : Collections.<LayoutDeviceConfiguration>emptyList();
  LayoutDeviceConfiguration newSelectedConfiguration=configurations.size() > 0 ? configurations.get(0) : null;
  if (selectedConfigurationName != null) {
    for (    LayoutDeviceConfiguration configuration : configurations) {
      if (selectedConfigurationName.equals(configuration.getName())) {
        newSelectedConfiguration=configuration;
      }
    }
  }
  if (newSelectedConfiguration == null) {
    newSelectedConfiguration=configurations.get(0);
  }
  myDeviceConfigurations=configurations;
  myDeviceConfigurationsCombo.setModel(new CollectionComboBoxModel(configurations,newSelectedConfiguration));
}
