{
  final PsiElement element=getResourceElement();
  if (element instanceof PsiLocalVariable) {
    return ((PsiLocalVariable)element).getType();
  }
 else   if (element instanceof PsiExpression) {
    return ((PsiExpression)element).getType();
  }
  LOG.error("Unexpected resource type: " + LogUtil.objectAndClass(element));
  return null;
}
