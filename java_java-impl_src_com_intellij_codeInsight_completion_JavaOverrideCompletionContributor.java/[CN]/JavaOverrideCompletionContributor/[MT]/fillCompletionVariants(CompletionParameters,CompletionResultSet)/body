{
  if (parameters.getCompletionType() != CompletionType.BASIC && parameters.getCompletionType() != CompletionType.SMART) {
    return;
  }
  PsiElement position=parameters.getPosition();
  if (psiElement(PsiIdentifier.class).withParents(PsiJavaCodeReferenceElement.class,PsiTypeElement.class,PsiClass.class).andNot(JavaCompletionData.AFTER_DOT).andNot(psiElement().afterLeaf(psiElement().inside(PsiModifierList.class))).accepts(position)) {
    final PsiClass parent=CompletionUtil.getOriginalElement((PsiClass)position.getParent().getParent().getParent());
    if (parent != null) {
      CompletionResultSet result=JavaCompletionSorting.addJavaSorting(parameters,_result);
      addSuperSignatureElements(parent,true,result);
      addSuperSignatureElements(parent,false,result);
    }
  }
}
