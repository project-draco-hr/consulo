{
  final List<RangeHighlighter> hl=editor.getUserData(HIGHLIGHTERS_KEY);
  if (hl != null) {
    if (purgeInvalidHighlighters(editor,hl)) {
      final HighlightManager mgr=HighlightManager.getInstance(editor.getProject());
      for (Iterator<RangeHighlighter> iterator=hl.iterator(); iterator.hasNext(); ) {
        RangeHighlighter highlighter=iterator.next();
        mgr.removeSegmentHighlighter(editor,highlighter);
        iterator.remove();
      }
    }
  }
}
