{
  final List<Pair<ProcessHandler,RunContentDescriptor>> pairs=new ArrayList<Pair<ProcessHandler,RunContentDescriptor>>();
  for (  Project p : ProjectManager.getInstance().getOpenProjects()) {
    final ProcessHandler[] processes=ExecutionManager.getInstance(p).getRunningProcesses();
    for (    ProcessHandler process : processes) {
      if (!process.isProcessTerminated()) {
        final AndroidSessionInfo info=process.getUserData(AndroidDebugRunner.ANDROID_SESSION_INFO);
        if (info != null) {
          pairs.add(Pair.create(process,info.getDescriptor()));
        }
      }
    }
  }
  if (pairs.size() == 0) {
    return true;
  }
  final StringBuilder s=new StringBuilder();
  for (  Pair<ProcessHandler,RunContentDescriptor> pair : pairs) {
    if (s.length() > 0) {
      s.append('\n');
    }
    s.append(pair.getSecond().getDisplayName());
  }
  final int r=Messages.showYesNoDialog(project,AndroidBundle.message("android.debug.sessions.will.be.closed",s),AndroidBundle.message("android.disable.adb.service.title"),Messages.getQuestionIcon());
  return r == Messages.YES;
}
