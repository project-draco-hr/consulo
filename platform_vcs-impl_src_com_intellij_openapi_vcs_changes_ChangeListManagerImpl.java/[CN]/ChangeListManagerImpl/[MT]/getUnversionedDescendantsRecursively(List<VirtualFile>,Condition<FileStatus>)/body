{
  final Set<VirtualFile> result=ContainerUtil.newHashSet();
  Processor<VirtualFile> addToResultProcessor=new Processor<VirtualFile>(){
    @Override public boolean process(    VirtualFile file){
      if (condition.value(getStatus(file))) {
        result.add(file);
      }
      return true;
    }
  }
;
  for (  VirtualFile item : items) {
    VcsRootIterator.iterateVfUnderVcsRoot(myProject,item,addToResultProcessor);
  }
  return result;
}
