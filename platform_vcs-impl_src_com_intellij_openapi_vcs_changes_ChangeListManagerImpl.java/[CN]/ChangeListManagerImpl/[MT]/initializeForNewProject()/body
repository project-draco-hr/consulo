{
  ApplicationManager.getApplication().runReadAction(new Runnable(){
    @Override public void run(){
synchronized (myDataLock) {
        if (myWorker.isEmpty()) {
          final LocalChangeList list=myWorker.addChangeList(VcsBundle.message("changes.default.changelist.name"),null,null);
          setDefaultChangeList(list);
          if (myIgnoredIdeaLevel.isEmpty()) {
            final String name=myProject.getName();
            myIgnoredIdeaLevel.add(IgnoredBeanFactory.ignoreFile(name + WorkspaceFileType.DOT_DEFAULT_EXTENSION,myProject));
            myIgnoredIdeaLevel.add(IgnoredBeanFactory.ignoreFile(Project.DIRECTORY_STORE_FOLDER + "/workspace.xml",myProject));
          }
        }
        if (!Registry.is("ide.hide.excluded.files") && !myExcludedConvertedToIgnored) {
          convertExcludedToIgnored();
          myExcludedConvertedToIgnored=true;
        }
      }
    }
  }
);
}
