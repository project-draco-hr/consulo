{
  if (!super.isAvailable(e))   return false;
  List<String> selectedProfiles=e.getData(MavenDataKeys.MAVEN_PROFILES);
  if (selectedProfiles == null || selectedProfiles.isEmpty())   return false;
  Collection<String> activeProfiles=MavenActionUtil.getProjectsManager(e.getDataContext()).getExplicitProfiles();
  int activeCount=0;
  for (  String profile : selectedProfiles) {
    if (activeProfiles.contains(profile)) {
      activeCount++;
    }
  }
  return activeCount == 0 || activeCount == selectedProfiles.size();
}
