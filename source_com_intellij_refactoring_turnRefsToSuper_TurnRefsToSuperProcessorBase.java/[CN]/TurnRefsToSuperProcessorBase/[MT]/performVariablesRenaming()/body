{
  try {
    for (Iterator<UsageInfo> iterator=myVariablesUsages.iterator(); iterator.hasNext(); ) {
      UsageInfo usage=iterator.next();
      if (usage instanceof MoveRenameUsageInfo) {
        final MoveRenameUsageInfo renameUsageInfo=((MoveRenameUsageInfo)usage);
        final String newName=myVariablesRenames.get(renameUsageInfo.referencedElement);
        renameUsageInfo.reference.handleElementRename(newName);
      }
    }
    final Iterator<Map.Entry<PsiVariable,String>> iterator=myVariablesRenames.entrySet().iterator();
    while (iterator.hasNext()) {
      Map.Entry<PsiVariable,String> entry=iterator.next();
      entry.getKey().setName(entry.getValue());
    }
  }
 catch (  IncorrectOperationException e) {
    LOG.error(e);
  }
}
