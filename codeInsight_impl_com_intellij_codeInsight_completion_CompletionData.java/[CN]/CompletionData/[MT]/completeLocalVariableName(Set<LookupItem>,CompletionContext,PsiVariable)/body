{
  FeatureUsageTracker.getInstance().triggerFeatureUsed("editing.completion.variable.name");
  final CodeStyleManagerEx codeStyleManager=(CodeStyleManagerEx)CodeStyleManager.getInstance(context.project);
  final VariableKind variableKind=codeStyleManager.getVariableKind(var);
  SuggestedNameInfo suggestedNameInfo=codeStyleManager.suggestVariableName(variableKind,null,null,var.getType());
  final String[] suggestedNames=suggestedNameInfo.names;
  LookupItemUtil.addLookupItems(set,suggestedNames,context.prefix);
  if (set.isEmpty()) {
    suggestedNameInfo=new SuggestedNameInfo(CompletionUtil.getOverlappedNameVersions(context.prefix,suggestedNames,"")){
      public void nameChoosen(      String name){
      }
    }
;
    LookupItemUtil.addLookupItems(set,suggestedNameInfo.names,context.prefix);
  }
  PsiElement parent=PsiTreeUtil.getParentOfType(var,PsiCodeBlock.class);
  if (parent == null)   parent=PsiTreeUtil.getParentOfType(var,PsiMethod.class);
  LookupItemUtil.addLookupItems(set,CompletionUtil.getUnserolvedReferences(parent,false),context.prefix);
  LookupItemUtil.addLookupItems(set,StatisticsManager.getInstance().getNameSuggestions(var.getType(),StatisticsManager.getContext(var),context.prefix),context.prefix);
  return new NamePreferencePolicy(suggestedNameInfo);
}
