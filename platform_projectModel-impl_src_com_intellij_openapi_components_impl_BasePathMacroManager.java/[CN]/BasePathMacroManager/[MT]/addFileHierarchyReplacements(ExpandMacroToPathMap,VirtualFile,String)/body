{
  if (f == null)   return;
  addFileHierarchyReplacements(result,f.getParent(),macro + "/..");
  final String path=FileUtil.toSystemIndependentName(f.getCanonicalPath());
  String s=macro;
  if (StringUtil.endsWithChar(path,'/'))   s+="/";
  result.put(s,path);
}
