{
  final PsiElement element=resolve();
  if (element != null) {
    return new ResolveResult[]{new PsiElementResolveResult(element)};
  }
  final List<PsiElementResolveResult> targets=new SmartList<PsiElementResolveResult>();
  XsltIncludeIndex.processBackwardDependencies((XmlFile)getElement().getContainingFile(),new Processor<XmlFile>(){
    public boolean process(    XmlFile xmlFile){
      final PsiElement e=ResolveUtil.resolve(new NamedTemplateMatcher(xmlFile.getDocument(),myName));
      if (e != null) {
        targets.add(new PsiElementResolveResult(e));
      }
      return true;
    }
  }
);
  return targets.toArray(new ResolveResult[targets.size()]);
}
