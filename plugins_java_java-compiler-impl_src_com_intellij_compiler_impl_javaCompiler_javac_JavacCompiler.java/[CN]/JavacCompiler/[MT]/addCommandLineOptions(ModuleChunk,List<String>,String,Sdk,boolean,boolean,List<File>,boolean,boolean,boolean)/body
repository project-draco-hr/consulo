{
  LanguageLevel languageLevel=JavaSdkUtil.getLanguageLevelForCompilation(chunk);
  JavaCompilerUtil.addSourceCommandLineSwitch(jdk,languageLevel,commandLine);
  JavaCompilerUtil.addTargetCommandLineSwitch(chunk,commandLine);
  commandLine.add("-verbose");
  final String cp=chunk.getCompilationClasspath(JavaSdk.getInstance());
  final String bootCp=chunk.getCompilationBootClasspath(JavaSdk.getInstance());
  final String classPath;
  if (version1_0 || version1_1) {
    classPath=bootCp + File.pathSeparator + cp;
  }
 else {
    classPath=cp;
    commandLine.add("-bootclasspath");
    addClassPathValue(jdk,false,commandLine,bootCp,"javac_bootcp",tempFiles,useTempFile);
  }
  commandLine.add("-classpath");
  addClassPathValue(jdk,version1_0,commandLine,classPath,"javac_cp",tempFiles,useTempFile);
  if (!version1_1 && !version1_0 && addSourcePath) {
    commandLine.add("-sourcepath");
    if (isAnnotationProcessingMode) {
      final int currentSourcesMode=chunk.getSourcesFilter();
      commandLine.add(chunk.getSourcePath(currentSourcesMode == ModuleChunk.TEST_SOURCES ? ModuleChunk.ALL_SOURCES : currentSourcesMode));
    }
 else {
      commandLine.add("\"\"");
    }
  }
  if (isAnnotationProcessingMode) {
    commandLine.add("-s");
    commandLine.add(outputPath.replace('/',File.separatorChar));
    final String moduleOutputPath=CompilerPaths.getModuleOutputPath(chunk.getModules()[0],false);
    if (moduleOutputPath != null) {
      commandLine.add("-d");
      commandLine.add(moduleOutputPath.replace('/',File.separatorChar));
    }
  }
 else {
    commandLine.add("-d");
    commandLine.add(outputPath.replace('/',File.separatorChar));
  }
}
