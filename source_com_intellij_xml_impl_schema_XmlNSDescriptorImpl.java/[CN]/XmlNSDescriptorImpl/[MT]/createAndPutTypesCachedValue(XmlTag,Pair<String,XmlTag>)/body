{
  final CachedValue<TypeDescriptor> value=tag.getManager().getCachedValuesManager().createCachedValue(new CachedValueProvider<TypeDescriptor>(){
    public CachedValueProvider.Result<TypeDescriptor> compute(){
      final String name=tag.getAttributeValue("name");
      if (name != null && !name.equals(XmlUtil.findLocalNameByQualifiedName(pair.first))) {
        myTypesMap.remove(pair);
        return new Result<TypeDescriptor>(null);
      }
      final ComplexTypeDescriptor complexTypeDescriptor=new ComplexTypeDescriptor(XmlNSDescriptorImpl.this,tag);
      return new Result<TypeDescriptor>(complexTypeDescriptor,new Object[]{tag});
    }
  }
,false);
  myTypesMap.put(pair,value);
  return value;
}
