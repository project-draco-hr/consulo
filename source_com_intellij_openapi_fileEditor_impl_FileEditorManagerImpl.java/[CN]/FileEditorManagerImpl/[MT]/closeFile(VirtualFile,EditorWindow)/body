{
  if (file == null) {
    throw new IllegalArgumentException("file cannot be null");
  }
  assertThread();
  CommandProcessor.getInstance().executeCommand(myProject,new Runnable(){
    public void run(){
      if (window.isFileOpen(file)) {
        window.closeFile(file);
        final List<EditorWindow> windows=mySplitters.findWindows(file);
        if (windows.isEmpty()) {
          final LocalFileSystem.WatchRequest request=file.getUserData(WATCH_REQUEST_KEY);
          if (request != null) {
            LocalFileSystem.getInstance().removeWatchedRoot(request);
          }
        }
        myDispatcher.getMulticaster().fileClosed(FileEditorManagerImpl.this,file);
      }
    }
  }
,IdeBundle.message("command.close.active.editor"),null);
}
