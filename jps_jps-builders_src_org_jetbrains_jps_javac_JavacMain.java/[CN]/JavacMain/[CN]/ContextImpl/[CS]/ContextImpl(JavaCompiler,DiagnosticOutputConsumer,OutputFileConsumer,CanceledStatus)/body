{
  myOutConsumer=outConsumer;
  myOutputFileSink=sink;
  myCanceledStatus=canceledStatus;
  StandardJavaFileManager stdManager=null;
  final Class<StandardJavaFileManager> optimizedManagerClass=ClasspathBootstrap.getOptimizedFileManagerClass();
  if (optimizedManagerClass != null) {
    try {
      stdManager=optimizedManagerClass.newInstance();
    }
 catch (    Throwable e) {
      if (SystemInfo.isWindows) {
        System.err.println("Failed to load JPS optimized file manager for javac: " + e.getMessage());
      }
    }
  }
  if (stdManager != null) {
    myStdManager=stdManager;
  }
 else {
    myStdManager=compiler.getStandardFileManager(outConsumer,Locale.US,null);
  }
}
