{
  final PsiFile file=context.file;
  if (element instanceof PsiComment) {
    return ourWordCompletionData;
  }
  if (element instanceof PsiJavaToken) {
    final PsiJavaToken token=(PsiJavaToken)element;
    if (token.getTokenType() == JavaTokenType.STRING_LITERAL)     return ourWordCompletionData;
  }
  final CompletionData completionDataByFileType=getCompletionDataByFileType(file.getFileType());
  if (completionDataByFileType != null)   return completionDataByFileType;
  if (file instanceof PsiAspectFile) {
    return ourGenericCompletionData;
  }
 else   if ((file instanceof PsiJavaFile || file instanceof PsiCodeFragment) && !(file instanceof JspFile)) {
    if (element != null && new SuperParentFilter(new ClassFilter(PsiDocComment.class)).isAcceptable(element,element.getParent())) {
      return ourJavaDocCompletionData;
    }
 else {
      return element != null && element.getManager().getEffectiveLanguageLevel() == LanguageLevel.JDK_1_5 ? ourJava15CompletionData : ourJavaCompletionData;
    }
  }
 else   if (file instanceof JspFile && !(file instanceof PsiJavaFile)) {
    return ourJSPCompletionData;
  }
 else   if (file instanceof XmlFile && file.getFileType() == StdFileTypes.XML) {
    return ourXmlCompletionData;
  }
  return ourGenericCompletionData;
}
