{
  enableSilentOperation(VcsConfiguration.StandardConfirmation.ADD);
  enableSilentOperation(VcsConfiguration.StandardConfirmation.REMOVE);
  VirtualFile d1=createDirInCommand(myWorkingCopyDir,"d1");
  VirtualFile f11=createFileInCommand(d1,"f11.txt","123\n456");
  VirtualFile f12=createFileInCommand(d1,"f12.txt","----");
  checkin();
  final String d1Path=new File(d1.getPath()).getAbsolutePath();
  verify(runSvn("delete",d1Path));
  verify(runSvn("add",d1Path));
  checkin();
  final SvnVcs vcs=SvnVcs.getInstance(myProject);
  vcs.invokeRefreshSvnRoots(false);
  final CommittedChangesProvider<SvnChangeList,ChangeBrowserSettings> committedChangesProvider=vcs.getCommittedChangesProvider();
  final List<SvnChangeList> changeListList=committedChangesProvider.getCommittedChanges(committedChangesProvider.createDefaultSettings(),new SvnRepositoryLocation(myRepoUrl),0);
  checkList(changeListList,2,new Data[]{new Data(absPath(d1),FileStatus.MODIFIED,"- replaced")});
}
