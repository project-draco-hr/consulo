{
  if (value instanceof NavigationItem) {
    NavigationItem element=(NavigationItem)value;
    ItemPresentation presentation=element.getPresentation();
    String name=presentation.getPresentableText();
    Color color=list.getForeground();
    FileStatus status=element.getFileStatus();
    if (status != FileStatus.NOT_CHANGED) {
      color=status.getColor();
    }
    append(name,new SimpleTextAttributes(Font.PLAIN,color));
    setIcon(presentation.getIcon(false));
    String containerText=presentation.getLocationString();
    if (containerText != null && containerText.length() > 0) {
      append(" " + containerText,new SimpleTextAttributes(Font.PLAIN,Color.GRAY));
    }
  }
 else {
    setIcon(IconUtilEx.getEmptyIcon(false));
    append(value == null ? "" : value.toString(),new SimpleTextAttributes(Font.PLAIN,list.getForeground()));
  }
}
