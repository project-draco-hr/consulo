{
  StringBuilder detailsBuilder=new StringBuilder("<html><body>");
  DateFormat dateFormat=DateFormat.getDateTimeInstance(DateFormat.SHORT,DateFormat.MEDIUM);
  final AbstractVcs vcs=changeList.getVcs();
  if (vcs != null) {
    CachingCommittedChangesProvider provider=vcs.getCachingCommittedChangesProvider();
    if (provider != null && provider.getChangelistTitle() != null) {
      detailsBuilder.append(provider.getChangelistTitle()).append(" #").append(changeList.getNumber()).append("<br>");
    }
  }
  detailsBuilder.append("Committed by <b>").append(changeList.getCommitterName()).append("</b> at ");
  detailsBuilder.append(dateFormat.format(changeList.getCommitDate())).append("<br>");
  detailsBuilder.append(XmlStringUtil.escapeString(changeList.getComment()).replace("\n","<br>"));
  detailsBuilder.append("</body></html>");
  JEditorPane editorPane=new JEditorPane(UIUtil.HTML_MIME,detailsBuilder.toString());
  editorPane.setEditable(false);
  editorPane.setBackground(HintUtil.INFORMATION_COLOR);
  editorPane.select(0,0);
  JScrollPane scrollPane=new JScrollPane(editorPane);
  final JBPopup hint=JBPopupFactory.getInstance().createComponentPopupBuilder(scrollPane,editorPane).setDimensionServiceKey(project,"changelist.details.popup",false).setResizable(true).setMovable(true).setRequestFocus(true).setTitle(VcsBundle.message("changelist.details.title")).createPopup();
  hint.showInBestPositionFor(DataManager.getInstance().getDataContext());
}
