{
  IndexingContext index=getIndex(id);
  try {
    File repository=index.getRepository();
    if (repository != null) {
      if (repository.exists()) {
        indicator.setIndeterminate(true);
        try {
          myIndexer.scan(index,new MyScanningListener(indicator),false);
        }
  finally {
          indicator.setIndeterminate(false);
        }
      }
    }
 else {
      Maven3ServerEmbedderImpl embedder=new Maven3ServerEmbedderImpl(settings);
      IndexUpdateRequest request=new IndexUpdateRequest(index);
      try {
        throw new UnsupportedOperationException();
      }
  finally {
        embedder.release();
      }
    }
  }
 catch (  RuntimeRemoteException e) {
    throw e.getCause();
  }
catch (  ProcessCanceledException e) {
    throw new MavenServerProcessCanceledException();
  }
catch (  Exception e) {
    throw new MavenServerIndexerException(wrapException(e));
  }
}
