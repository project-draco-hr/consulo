{
  ApplicationManager.getApplication().invokeLater(new Runnable(){
    public void run(){
      ApplicationManager.getApplication().invokeLater(new Runnable(){
        public void run(){
          PsiDocumentManager.getInstance(view.getProject()).commitAllDocuments();
          CommandProcessor.getInstance().executeCommand(view.getProject(),new Runnable(){
            public void run(){
              ApplicationManager.getApplication().runWriteAction(new Runnable(){
                public void run(){
                  try {
                    action.invoke(view.getProject(),null,element.getElement().getContainingFile());
                    for (                    RefEntity refElement : elementsToSuppress) {
                      tool.ignoreElement(refElement);
                    }
                    view.update();
                  }
 catch (                  IncorrectOperationException e1) {
                    LOG.error(e1);
                  }
                }
              }
);
            }
          }
,action.getText(),null);
        }
      }
);
    }
  }
);
}
