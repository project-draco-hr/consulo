{
  CustomSuppresableInspectionTool customSuppresableInspectionTool=extractSuppressableTool(tool);
  if (customSuppresableInspectionTool != null && descriptor instanceof ProblemDescriptor) {
    final IntentionAction[] customActions=customSuppresableInspectionTool.getSuppressActions((ProblemDescriptor)descriptor);
    if (customActions.length > 0)     return customActions[0];
  }
  boolean isSuppressWarnings=false;
  final Module module=ModuleUtil.findModuleForPsiElement(context);
  if (module != null) {
    final ProjectJdk jdk=ModuleRootManager.getInstance(module).getJdk();
    if (jdk != null) {
      isSuppressWarnings=DaemonCodeAnalyzerSettings.getInstance().SUPPRESS_WARNINGS && jdk.getVersionString().indexOf("1.5") > 0 && LanguageLevel.JDK_1_5.compareTo(PsiUtil.getLanguageLevel(context)) <= 0;
    }
  }
  if (isSuppressWarnings) {
    return new SuppressWarningAction(id,context);
  }
  return new SuppressDocCommentAction(id,context);
}
