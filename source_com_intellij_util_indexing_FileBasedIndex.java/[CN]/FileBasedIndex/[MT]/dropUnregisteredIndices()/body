{
  final Set<String> indicesToDrop=new HashSet<String>(myPreviouslyRegistered != null ? myPreviouslyRegistered.registeredIndices : Collections.<String>emptyList());
  for (  String key : myIndices.keySet()) {
    indicesToDrop.remove(key);
  }
  for (  String s : indicesToDrop) {
    final File file=getStorageFile(s);
    final String filename=file.getName();
    final File[] toDelete=file.getParentFile().listFiles(new FileFilter(){
      public boolean accept(      final File pathname){
        if (pathname.isFile()) {
          if (pathname.getName().startsWith(filename)) {
            return true;
          }
        }
        return false;
      }
    }
);
    for (    File f : toDelete) {
      FileUtil.delete(f);
    }
  }
}
