{
  myWindowQueue.cancelAllUpdates();
  myWindowQueue.queue(new Update("update"){
    @Override public void run(){
      if (!myToolWindowReady || myToolWindowDisposed) {
        return;
      }
      if (myToolWindow == null) {
        if (designer == null) {
          return;
        }
        initToolWindow();
      }
      clearTreeBuilder();
      myComponentTree.newModel();
      if (designer == null) {
        myComponentTree.setDesignerPanel(null);
        myPropertyTablePanel.getPropertyTable().setArea(null,null);
        myToolWindow.setAvailable(false,null);
      }
 else {
        myComponentTree.setDesignerPanel(designer);
        myTreeBuilder=new ComponentTreeBuilder(myComponentTree,designer);
        myPropertyTablePanel.getPropertyTable().setArea(designer,myTreeBuilder.getTreeArea());
        myToolWindow.setAvailable(true,null);
        myToolWindow.show(null);
      }
    }
  }
);
}
