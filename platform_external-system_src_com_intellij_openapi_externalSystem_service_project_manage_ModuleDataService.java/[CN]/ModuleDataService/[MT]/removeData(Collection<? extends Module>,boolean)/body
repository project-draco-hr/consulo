{
  if (modules.isEmpty()) {
    return;
  }
  Project project=modules.iterator().next().getProject();
  ExternalSystemUtil.executeProjectChangeAction(project,ProjectSystemId.IDE,modules,synchronous,new Runnable(){
    @Override public void run(){
      for (      Module module : modules) {
        ModuleManager moduleManager=ModuleManager.getInstance(module.getProject());
        String path=module.getModuleFilePath();
        moduleManager.disposeModule(module);
        File file=new File(path);
        if (file.isFile()) {
          boolean success=file.delete();
          if (!success) {
            LOG.warn("Can't remove module file at '" + path + "'");
          }
        }
      }
    }
  }
);
}
