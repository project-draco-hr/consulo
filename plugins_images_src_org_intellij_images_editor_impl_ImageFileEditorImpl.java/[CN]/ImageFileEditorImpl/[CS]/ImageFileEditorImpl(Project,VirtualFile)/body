{
  ImageEditorManager imageEditorManager=getImageEditorManager();
  imageEditor=imageEditorManager.createImageEditor(project,file);
  VirtualFileManager.getInstance().addVirtualFileListener(imageEditor);
  Options options=OptionsManager.getInstance().getOptions();
  EditorOptions editorOptions=options.getEditorOptions();
  ImageZoomModel zoomModel=imageEditor.getZoomModel();
  GridOptions gridOptions=editorOptions.getGridOptions();
  TransparencyChessboardOptions transparencyChessboardOptions=editorOptions.getTransparencyChessboardOptions();
  imageEditor.setGridVisible(gridOptions.isShowDefault());
  imageEditor.setTransparencyChessboardVisible(transparencyChessboardOptions.isShowDefault());
}
