{
  if (state instanceof ImageFileEditorState) {
    ImageFileEditorState editorState=(ImageFileEditorState)state;
    ImageZoomModel zoomModel=imageEditor.getZoomModel();
    imageEditor.setTransparencyChessboardVisible(editorState.isBackgroundVisible());
    imageEditor.setGridVisible(editorState.isGridVisible());
    zoomModel.setZoomFactor(editorState.getZoomFactor());
  }
}
