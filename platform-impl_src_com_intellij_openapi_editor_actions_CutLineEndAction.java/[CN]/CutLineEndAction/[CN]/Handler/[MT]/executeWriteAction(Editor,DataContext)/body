{
  final Document doc=editor.getDocument();
  if (doc.getLineCount() == 0)   return;
  int caretOffset=editor.getCaretModel().getOffset();
  int lineEndOffset=doc.getLineEndOffset(doc.getLineNumber(caretOffset));
  if (caretOffset >= lineEndOffset)   return;
  copyToClipboard(doc,caretOffset,lineEndOffset,dataContext,editor);
  doc.deleteString(caretOffset,lineEndOffset);
}
