{
  if (myReplacementBalloon != null) {
    myReplacementBalloon.hide();
  }
  if (myEditor != null) {
    for (    VisibleAreaListener visibleAreaListener : myVisibleAreaListenersToRemove) {
      myEditor.getScrollingModel().removeVisibleAreaListener(visibleAreaListener);
    }
    myVisibleAreaListenersToRemove.clear();
    for (    RangeHighlighter h : myHighlighters) {
      HighlightManager.getInstance(myProject).removeSegmentHighlighter(myEditor,h);
    }
    if (myCursorHighlighter != null) {
      HighlightManager.getInstance(myProject).removeSegmentHighlighter(myEditor,myCursorHighlighter);
      myCursorHighlighter=null;
    }
  }
}
