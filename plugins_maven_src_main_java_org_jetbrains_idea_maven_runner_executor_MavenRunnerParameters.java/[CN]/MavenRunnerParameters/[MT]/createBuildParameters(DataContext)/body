{
  final Project project=PlatformDataKeys.PROJECT.getData(dataContext);
  final VirtualFile virtualFile=PlatformDataKeys.VIRTUAL_FILE.getData(dataContext);
  final List<String> goals=MavenDataKeys.MAVEN_GOALS_KEY.getData(dataContext);
  if (project != null && virtualFile != null && MavenEnv.POM_FILE.equals(virtualFile.getName()) && goals != null) {
    return new MavenRunnerParameters(virtualFile.getPath(),goals,project.getComponent(MavenProjectsState.class).getProfiles(virtualFile));
  }
  return null;
}
