{
  GitPushBranchInfo branchInfo=commitsByBranch.get(branch);
  if (branchInfo.isNewBranchCreated()) {
    return GitPushBranchResult.newBranch(branchInfo.getDestBranch().getName());
  }
  return GitPushBranchResult.success(branchInfo.getCommits().size());
}
