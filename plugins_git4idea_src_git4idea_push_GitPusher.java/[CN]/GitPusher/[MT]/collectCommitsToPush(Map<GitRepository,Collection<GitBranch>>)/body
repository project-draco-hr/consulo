{
  Map<GitRepository,GitCommitsByBranch> commitsByRepoAndBranch=new HashMap<GitRepository,GitCommitsByBranch>();
  for (  GitRepository repository : myRepositories) {
    GitCommitsByBranch commitsByBranch=collectsCommitsToPush(repository,repositoriesToBranches.get(repository));
    if (!commitsByBranch.isEmpty()) {
      commitsByRepoAndBranch.put(repository,commitsByBranch);
    }
  }
  return new GitCommitsByRepoAndBranch(myProject,commitsByRepoAndBranch);
}
