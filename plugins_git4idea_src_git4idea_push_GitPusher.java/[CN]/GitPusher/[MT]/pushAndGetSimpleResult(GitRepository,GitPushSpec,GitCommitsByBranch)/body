{
  if (pushSpec.getDest() == NO_TARGET_BRANCH) {
    return GitSimplePushResult.notPushed();
  }
  GitRemote remote=pushSpec.getRemote();
  String httpUrl=null;
  for (  String pushUrl : remote.getPushUrls()) {
    if (GitHttpAdapter.shouldUseJGit(pushUrl)) {
      httpUrl=pushUrl;
      break;
    }
  }
  if (httpUrl != null) {
    return GitHttpAdapter.push(repository,remote,httpUrl,formPushSpec(pushSpec,remote));
  }
 else {
    return pushNatively(repository,pushSpec);
  }
}
