{
  GitPushResult pushResult=new GitPushResult(myProject);
  GitCommitsByRepoAndBranch commits=pushInfo.getCommits();
  for (  GitRepository repository : commits.getRepositories()) {
    GitCommitsByBranch commitsForRepo=commits.get(repository);
    GitLocalBranch sourceBranch=pushInfo.getPushSpecs().get(repository).getSource();
    if (commitsForRepo.get(sourceBranch).getType() == GitPushBranchInfo.Type.STANDARD && commitsForRepo.getAllCommits().size() == 0) {
      continue;
    }
    GitPushRepoResult repoResult=pushRepository(pushInfo,commits,repository);
    if (repoResult.getType() == GitPushRepoResult.Type.NOT_PUSHING) {
      continue;
    }
    pushResult.append(repository,repoResult);
    GitPushRepoResult.Type resultType=repoResult.getType();
    if (resultType == GitPushRepoResult.Type.CANCEL || resultType == GitPushRepoResult.Type.NOT_AUTHORIZED) {
      break;
    }
  }
  myRepositoryManager.updateAllRepositories();
  return pushResult;
}
