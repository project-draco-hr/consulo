{
  try {
    Charset charset=hgFile.toFilePath().getCharset();
    HgFile fileToCat=HgUtil.getFileNameInTargetRevision(project,vcsRevisionNumber,hgFile);
    String result=new HgCatCommand(project).execute(fileToCat,vcsRevisionNumber,charset);
    if (result == null) {
      return new byte[0];
    }
 else {
      return result.getBytes(charset.name());
    }
  }
 catch (  UnsupportedEncodingException e) {
    throw new VcsException(e);
  }
}
