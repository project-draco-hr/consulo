{
  LOG.assertTrue(parentNode != null);
  if (myActiveConfigurationType != null) {
    final Element element=new Element(ACTIVE_TYPE);
    parentNode.addContent(element);
    element.setAttribute("name",myActiveConfigurationType.getComponentName());
  }
  if (myTempConfiguration != null) {
    addConfigurationElement(parentNode,myTempConfiguration,TEMP_CONFIGURATION);
  }
  for (Iterator<RunnerAndConfigurationSettings> iterator=myTemplateConfigurationsMap.values().iterator(); iterator.hasNext(); ) {
    addConfigurationElement(parentNode,iterator.next(),CONFIGURATION);
  }
  final List<RunnerAndConfigurationSettings> stableConfigurations=getStableConfigurations();
  for (int i=0; i < stableConfigurations.size(); i++) {
    addConfigurationElement(parentNode,stableConfigurations.get(i),CONFIGURATION);
  }
}
