{
  final TemplateImpl template=TemplateSettings.getInstance().getTemplate("psvm","other");
  assertFalse(isApplicable("class Foo {{ <caret>xxx }}",template));
  assertFalse(isApplicable("class Foo {{ <caret>xxx }}",template));
  assertFalse(isApplicable("class Foo {{ if (a <caret>xxx) }}",template));
  assertFalse(isApplicable("class Foo {{ return (<caret>xxx) }}",template));
  assertTrue(isApplicable("class Foo { <caret>xxx }",template));
  assertFalse(isApplicable("class Foo { int <caret>xxx }",template));
  assertFalse(isApplicable("class Foo { /* <caret>xxx */ }",template));
  assertTrue(isApplicable("class Foo {}\n<caret>xxx",template));
  assertTrue(isApplicable("<caret>xxx",template));
  assertTrue(isApplicable("class Foo { void foo(<caret>xxx) {} }",template));
  assertTrue(isApplicable("class Foo { void foo(<caret>xxx String bar ) {} }",template));
  assertTrue(isApplicable("class Foo { void foo(<caret>xxx String bar, int goo ) {} }",template));
  assertTrue(isApplicable("class Foo { void foo(String bar, <caret>xxx int goo ) {} }",template));
  assertTrue(isApplicable("class Foo { void foo(String bar, <caret>xxx goo ) {} }",template));
  assertTrue(isApplicable("class Foo { <caret>xxx void foo(String bar, xxx goo ) {} }",template));
  assertTrue(isApplicable("class Foo { void foo(<caret>String[] bar) {} }",template));
  assertTrue(isApplicable("class Foo { <caret>xxx String[] foo(String bar, xxx goo ) {} }",template));
}
