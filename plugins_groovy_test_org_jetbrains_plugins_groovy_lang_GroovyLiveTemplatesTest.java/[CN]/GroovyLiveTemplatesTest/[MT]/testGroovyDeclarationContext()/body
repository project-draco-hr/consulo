{
  final TemplateImpl template=TemplateSettings.getInstance().getTemplate("psvm","other");
  assertFalse(isApplicable("class Foo {{ <caret>xxx }}",template));
  assertFalse(isApplicable("class Foo {{ <caret>xxx }}",template));
  assertFalse(isApplicable("class Foo {{ if (a <caret>xxx) }}",template));
  assertFalse(isApplicable("class Foo {{ return (<caret>xxx) }}",template));
  assertTrue(isApplicable("class Foo { <caret>xxx }",template));
  assertFalse(isApplicable("class Foo { int <caret>xxx }",template));
  assertFalse(isApplicable("class Foo { /* <caret>xxx */ }",template));
  assertTrue(isApplicable("class Foo {}\n<caret>xxx",template));
  assertTrue(isApplicable("<caret>xxx",template));
}
