{
  char[] chars=new char[length];
  int count=0;
  while (count < chars.length) {
    int n=reader.read(chars,count,chars.length - count);
    if (n <= 0)     break;
    count+=n;
  }
  if (count == chars.length) {
    return chars;
  }
 else {
    char[] newChars=new char[count];
    System.arraycopy(chars,0,newChars,0,count);
    return newChars;
  }
}
