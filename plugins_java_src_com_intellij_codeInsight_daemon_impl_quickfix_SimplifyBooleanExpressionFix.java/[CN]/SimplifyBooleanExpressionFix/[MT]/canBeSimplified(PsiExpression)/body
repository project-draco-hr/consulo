{
  if (!(expression instanceof PsiConditionalExpression) && expression.getType() != PsiType.BOOLEAN)   return false;
  final ExpressionVisitor expressionVisitor=new ExpressionVisitor(expression.getManager(),false);
  final Ref<Boolean> canBeSimplified=new Ref<Boolean>(Boolean.FALSE);
  expression.accept(new JavaRecursiveElementWalkingVisitor(){
    @Override public void visitElement(    PsiElement element){
      if (!canBeSimplified.get().booleanValue()) {
        super.visitElement(element);
      }
    }
    @Override public void visitExpression(    PsiExpression expression){
      super.visitExpression(expression);
      expressionVisitor.clear();
      expression.accept(expressionVisitor);
      if (expressionVisitor.canBeSimplifiedFlag) {
        canBeSimplified.set(Boolean.TRUE);
      }
    }
  }
);
  return canBeSimplified.get().booleanValue();
}
