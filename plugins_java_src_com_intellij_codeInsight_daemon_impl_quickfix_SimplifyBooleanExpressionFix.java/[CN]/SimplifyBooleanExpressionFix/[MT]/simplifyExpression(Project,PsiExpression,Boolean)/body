{
  PsiExpression expression;
  if (subExpressionValue == null) {
    expression=subExpression;
  }
 else {
    final PsiElementFactory factory=JavaPsiFacade.getElementFactory(project);
    final PsiExpression constExpression=factory.createExpressionFromText(Boolean.toString(subExpressionValue.booleanValue()),subExpression);
    expression=(PsiExpression)subExpression.replace(constExpression);
  }
  while (expression.getParent() instanceof PsiExpression) {
    expression=(PsiExpression)expression.getParent();
  }
  simplifyExpression(expression);
}
