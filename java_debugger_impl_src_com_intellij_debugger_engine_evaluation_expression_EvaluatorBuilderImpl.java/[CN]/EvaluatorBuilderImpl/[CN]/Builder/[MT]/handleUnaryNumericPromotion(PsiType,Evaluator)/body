{
  final PsiPrimitiveType unboxedType=PsiPrimitiveType.getUnboxedType(operandExpressionType);
  if (unboxedType != null && !PsiType.BOOLEAN.equals(unboxedType)) {
    operandEvaluator=new UnBoxingEvaluator(operandEvaluator);
  }
  final PsiType _unboxedIndexType=unboxedType != null ? unboxedType : operandExpressionType;
  if (_unboxedIndexType instanceof PsiPrimitiveType) {
    final PsiType promotionType=calcUnaryNumericPromotionType((PsiPrimitiveType)_unboxedIndexType);
    if (promotionType != null) {
      operandEvaluator=new TypeCastEvaluator(operandEvaluator,promotionType.getCanonicalText(),true);
    }
  }
  return operandEvaluator;
}
