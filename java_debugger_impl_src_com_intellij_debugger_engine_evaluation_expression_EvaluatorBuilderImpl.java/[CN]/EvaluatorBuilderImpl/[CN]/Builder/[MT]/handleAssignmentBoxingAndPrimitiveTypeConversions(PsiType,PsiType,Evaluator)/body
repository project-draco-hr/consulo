{
  final PsiType unboxedLType=PsiPrimitiveType.getUnboxedType(lType);
  if (unboxedLType != null) {
    if (rType instanceof PsiPrimitiveType && !PsiPrimitiveType.NULL.equals(rType)) {
      if (!rType.equals(unboxedLType)) {
        rEvaluator=new TypeCastEvaluator(rEvaluator,unboxedLType.getCanonicalText(),true);
      }
      rEvaluator=new BoxingEvaluator(rEvaluator);
    }
  }
 else {
    if (lType instanceof PsiPrimitiveType) {
      if (rType instanceof PsiClassType) {
        rEvaluator=new UnBoxingEvaluator(rEvaluator);
      }
      final PsiPrimitiveType unboxedRType=PsiPrimitiveType.getUnboxedType(rType);
      final PsiType _rType=unboxedRType != null ? unboxedRType : rType;
      if (_rType instanceof PsiPrimitiveType && !PsiPrimitiveType.NULL.equals(_rType)) {
        if (!lType.equals(_rType)) {
          rEvaluator=new TypeCastEvaluator(rEvaluator,lType.getCanonicalText(),true);
        }
      }
    }
  }
  return rEvaluator;
}
