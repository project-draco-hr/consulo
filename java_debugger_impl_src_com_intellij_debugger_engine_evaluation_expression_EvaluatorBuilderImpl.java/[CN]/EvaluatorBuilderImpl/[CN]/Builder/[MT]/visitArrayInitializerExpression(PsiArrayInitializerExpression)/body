{
  PsiExpression[] initializers=expression.getInitializers();
  Evaluator[] evaluators=new Evaluator[initializers.length];
  for (int idx=0; idx < initializers.length; idx++) {
    PsiExpression initializer=initializers[idx];
    initializer.accept(this);
    if (myResult != null) {
      evaluators[idx]=handleUnaryNumericPromotion(initializer.getType(),myResult);
    }
 else {
      throw new EvaluateRuntimeException(EvaluateExceptionUtil.createEvaluateException(DebuggerBundle.message("evaluation.error.invalid.expression",initializer.getText())));
    }
  }
  myResult=new ArrayInitializerEvaluator(evaluators);
}
