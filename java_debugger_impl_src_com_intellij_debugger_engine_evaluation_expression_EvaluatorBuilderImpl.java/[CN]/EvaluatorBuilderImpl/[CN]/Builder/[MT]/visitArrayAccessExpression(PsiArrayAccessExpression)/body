{
  final PsiExpression indexExpression=expression.getIndexExpression();
  if (indexExpression == null) {
    throw new EvaluateRuntimeException(EvaluateExceptionUtil.createEvaluateException(DebuggerBundle.message("evaluation.error.invalid.expression",expression.getText())));
  }
  indexExpression.accept(this);
  final Evaluator indexEvaluator=handleUnaryNumericPromotion(indexExpression.getType(),myResult);
  expression.getArrayExpression().accept(this);
  Evaluator arrayEvaluator=myResult;
  myResult=new ArrayAccessEvaluator(arrayEvaluator,indexEvaluator);
}
