{
  final String parsingError=HighlightUtil.getLiteralExpressionParsingError(expression);
  if (parsingError != null) {
    throwEvaluateException(parsingError);
    return;
  }
  final PsiType type=expression.getType();
  if (type == null) {
    throwEvaluateException(expression + ": null type");
    return;
  }
  myResult=new LiteralEvaluator(expression.getValue(),type.getCanonicalText());
}
