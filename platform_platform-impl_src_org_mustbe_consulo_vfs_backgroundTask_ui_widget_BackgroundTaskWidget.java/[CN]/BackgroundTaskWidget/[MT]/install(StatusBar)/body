{
  super.install(statusBar);
  myProject.getMessageBus().connect().subscribe(DumbService.DUMB_MODE,new DumbService.DumbModeListener(){
    @Override public void enteredDumbMode(){
      exitDumbMode();
    }
    @Override public void exitDumbMode(){
      if (myVirtualFile != null) {
        update(myVirtualFile);
      }
    }
  }
);
  myProject.getMessageBus().connect().subscribe(BackgroundTaskByVfsChangeManager.TOPIC,new BackgroundTaskByVfsChangeManager.ListenerAdapter(){
    @Override public void taskChanged(    @NotNull BackgroundTaskByVfsChangeTask task){
      VirtualFile file=task.getVirtualFilePointer().getFile();
      if (file == null) {
        return;
      }
      update(file);
    }
  }
);
}
