{
  final String unescapedPath=unescapePath ? GitUtil.unescapePath(path) : path;
  final String absolutePath=vcsRoot.getPath() + "/" + unescapedPath;
  FilePath file=isDeleted ? VcsUtil.getFilePathForDeletedFile(absolutePath,false) : VcsUtil.getFilePath(absolutePath,false);
  if (canBeDeleted && (!SystemInfo.isFileSystemCaseSensitive) && VcsUtil.caseDiffers(file.getPath(),absolutePath)) {
    file=FilePathImpl.createForDeletedFile(new File(absolutePath),false);
  }
  return file;
}
