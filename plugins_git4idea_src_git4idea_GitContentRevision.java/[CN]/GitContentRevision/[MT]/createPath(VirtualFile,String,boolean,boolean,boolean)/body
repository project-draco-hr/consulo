{
  final String absolutePath=makeAbsolutePath(vcsRoot,path,unescapePath);
  FilePath file=isDeleted ? VcsUtil.getFilePathForDeletedFile(absolutePath,false) : VcsUtil.getFilePath(absolutePath,false);
  if (canBeDeleted && (!SystemInfo.isFileSystemCaseSensitive) && VcsUtil.caseDiffers(file.getPath(),absolutePath)) {
    file=FilePathImpl.createForDeletedFile(new File(absolutePath),false);
  }
  return file;
}
