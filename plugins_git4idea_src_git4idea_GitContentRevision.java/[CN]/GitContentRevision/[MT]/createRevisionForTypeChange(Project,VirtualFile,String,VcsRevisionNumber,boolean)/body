{
  final FilePath filePath;
  if (revisionNumber == null) {
    File file=new File(makeAbsolutePath(vcsRoot,path,unescapePath));
    VirtualFile virtualFile=LocalFileSystem.getInstance().refreshAndFindFileByIoFile(file);
    filePath=virtualFile == null ? new FilePathImpl(file,false) : new FilePathImpl(virtualFile);
  }
 else {
    filePath=createPath(vcsRoot,path,false,false,unescapePath);
  }
  return createRevision(filePath,revisionNumber,project);
}
