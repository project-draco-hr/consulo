{
  doc=new DocumentImpl("");
  doc.dontAssertWriteAccess();
  mySyntaxHighlighter=descriptor.getLayerHighlighter();
  myBackground=descriptor.getBackgroundKey();
  highlighter=new LexerEditorHighlighter(mySyntaxHighlighter,getScheme());
  mySeparator=descriptor.getTokenSeparator();
  highlighter.setEditor(this);
  doc.addDocumentListener(highlighter);
}
