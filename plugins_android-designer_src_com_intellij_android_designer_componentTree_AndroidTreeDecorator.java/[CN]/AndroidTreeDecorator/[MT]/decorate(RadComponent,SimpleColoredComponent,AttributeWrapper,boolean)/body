{
  MetaModel metaModel=component.getMetaModel();
  String id=getPropertyValue(component,"id");
  if (!StringUtil.isEmpty(id)) {
    id=id.substring(id.indexOf('/') + 1);
    if (!StringUtil.isEmpty(id)) {
      renderer.append(id + ": ",wrapper.getAttribute(SimpleTextAttributes.REGULAR_BOLD_ATTRIBUTES));
    }
  }
  StringBuilder fullTitle=new StringBuilder();
  DefaultPaletteItem item=metaModel.getPaletteItem();
  if (item != null) {
    fullTitle.append(item.getTitle());
  }
  String title=metaModel.getTitle();
  if (title != null) {
    int start=title.indexOf('%');
    if (start != -1) {
      int end=title.indexOf('%',start + 1);
      if (end != -1) {
        String variable=title.substring(start + 1,end);
        String value;
        if ("tag".equals(variable)) {
          value=((RadViewComponent)component).getTag().getName();
        }
 else {
          value=getPropertyValue(component,variable);
          if (!StringUtil.isEmpty(value)) {
            value=StringUtil.shortenTextWithEllipsis(value,30,5);
          }
        }
        if (!StringUtil.isEmpty(value)) {
          fullTitle.append(title.substring(0,start)).append(value).append(title.substring(end + 1));
        }
      }
    }
  }
  if (fullTitle.length() > 0) {
    renderer.append(fullTitle.toString(),wrapper.getAttribute(SimpleTextAttributes.REGULAR_ATTRIBUTES));
  }
  if (full) {
    renderer.setIcon(metaModel.getIcon());
    if (component instanceof IComponentDecorator) {
      ((IComponentDecorator)component).decorateTree(renderer,wrapper);
    }
  }
}
