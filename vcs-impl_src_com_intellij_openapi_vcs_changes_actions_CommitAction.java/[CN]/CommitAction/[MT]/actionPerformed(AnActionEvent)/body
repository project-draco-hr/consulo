{
  final Project project=e.getData(PlatformDataKeys.PROJECT);
  final Change[] changes=e.getData(VcsDataKeys.CHANGES);
  final ChangeList list=ChangesUtil.getChangeListIfOnlyOne(project,changes);
  if ((list == null) || (!(list instanceof LocalChangeList)))   return;
  ChangeListManager.getInstance(project).invokeAfterUpdate(new Runnable(){
    public void run(){
      CommitChangeListDialog.commitChanges(project,Arrays.asList(changes),(LocalChangeList)list,ChangeListManager.getInstance(project).getRegisteredExecutors(),true,null);
    }
  }
,InvokeAfterUpdateMode.SYNCHRONOUS_NOT_CANCELLABLE,VcsBundle.message("waiting.changelists.update.for.show.commit.dialog.message"));
}
