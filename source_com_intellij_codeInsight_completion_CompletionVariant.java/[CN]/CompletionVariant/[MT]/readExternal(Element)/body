{
  final Element filterElement=variantElement.getChild("position",CompletionData.COMPLETION_NS);
  final String scopeString=variantElement.getAttribute("scope").getValue().trim();
  final String excludeString=variantElement.getAttribute("exclude").getValue().trim();
  for (StringTokenizer tokenizer=new StringTokenizer(scopeString,"|"); tokenizer.hasMoreTokens(); ) {
    final String s=tokenizer.nextToken();
    myScopeClasses.add(FilterUtil.getClassByName(s));
  }
  for (StringTokenizer tokenizer=new StringTokenizer(excludeString,"|"); tokenizer.hasMoreTokens(); ) {
    final String s=tokenizer.nextToken();
    myScopeClassExceptions.add(FilterUtil.getClassByName(s));
  }
  final Element completionsElement=variantElement.getChild("completions",CompletionData.COMPLETION_NS);
  myPosition=FilterUtil.readFilterGroup(filterElement).get(0);
  final Iterator keywordsIterator=completionsElement.getChildren("keyword-set",CompletionData.COMPLETION_NS).iterator();
  while (keywordsIterator.hasNext()) {
    final Element keywordElement=(Element)keywordsIterator.next();
    final StringTokenizer tok=new StringTokenizer(keywordElement.getTextTrim());
    while (tok.hasMoreTokens()) {
      myCompletionsList.add(tok.nextToken().trim());
    }
  }
  final Iterator filtersIterator=completionsElement.getChildren("filter",CompletionData.COMPLETION_NS).iterator();
  while (filtersIterator.hasNext()) {
    myCompletionsList.addAll(FilterUtil.readFilterGroup((Element)filtersIterator.next()));
  }
}
