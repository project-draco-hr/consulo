{
  mv.visitLdcInsn(Type.getType("L" + myClassName + ";"));
  mv.visitMethodInsn(Opcodes.INVOKEVIRTUAL,"java/lang/Class","desiredAssertionStatus","()Z");
  Label l0=new Label();
  mv.visitJumpInsn(Opcodes.IFNE,l0);
  mv.visitInsn(Opcodes.ICONST_1);
  Label l1=new Label();
  mv.visitJumpInsn(Opcodes.GOTO,l1);
  mv.visitLabel(l0);
  mv.visitInsn(Opcodes.ICONST_0);
  mv.visitLabel(l1);
  mv.visitFieldInsn(Opcodes.PUTSTATIC,myClassName,ASSERTIONS_DISABLED_NAME,"Z");
}
