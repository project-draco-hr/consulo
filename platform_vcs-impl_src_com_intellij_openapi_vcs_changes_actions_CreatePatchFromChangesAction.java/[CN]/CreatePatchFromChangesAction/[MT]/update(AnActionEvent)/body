{
  final Boolean haveSelectedChanges=e.getData(VcsDataKeys.HAVE_SELECTED_CHANGES);
  Change[] changes;
  ChangeList[] lists;
  e.getPresentation().setEnabled(Boolean.TRUE.equals(haveSelectedChanges) && ((lists=e.getData(VcsDataKeys.CHANGE_LISTS)) != null && lists.length == 1) && ((changes=e.getData(VcsDataKeys.CHANGES)) != null && changes.length > 0));
}
