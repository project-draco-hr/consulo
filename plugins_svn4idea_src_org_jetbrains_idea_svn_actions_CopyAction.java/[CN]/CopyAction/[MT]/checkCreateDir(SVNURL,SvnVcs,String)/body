{
  final SVNURL baseUrl=url;
  SVNWCClient client=activeVcs.createWCClient();
  List<SVNURL> dirsToCreate=new ArrayList<SVNURL>();
  while (!dirExists(activeVcs.getProject(),url,client)) {
    dirsToCreate.add(0,url);
    url=url.removePathTail();
    if (url.getPath().length() == 0) {
      throw new VcsException("Invalid repository root path for " + baseUrl);
    }
  }
  if (!dirsToCreate.isEmpty()) {
    SVNCommitClient commitClient=activeVcs.createCommitClient();
    commitClient.doMkDir(dirsToCreate.toArray(new SVNURL[dirsToCreate.size()]),comment);
  }
}
