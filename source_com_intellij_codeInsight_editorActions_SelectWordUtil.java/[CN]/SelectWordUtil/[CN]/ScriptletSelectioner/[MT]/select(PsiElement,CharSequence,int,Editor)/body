{
  List<TextRange> ranges=super.select(e,editorText,cursorOffset,editor);
  final JspFile psiFile=(JspFile)e.getContainingFile();
  if (e.getParent().getTextLength() == psiFile.getTextLength()) {
    final PsiFile[] psiRoots=psiFile.getPsiRoots();
    for (    PsiFile root : psiRoots) {
      if (root instanceof XmlFile) {
        XmlFile xmlFile=(XmlFile)root;
        XmlTag tag=PsiTreeUtil.getParentOfType(xmlFile.getDocument().findElementAt(cursorOffset),XmlTag.class);
        ranges.add(tag.getTextRange());
        break;
      }
    }
  }
  return ranges;
}
