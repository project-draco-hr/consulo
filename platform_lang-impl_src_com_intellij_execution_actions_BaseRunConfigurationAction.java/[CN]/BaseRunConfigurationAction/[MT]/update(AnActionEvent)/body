{
  final ConfigurationContext context=new ConfigurationContext(event.getDataContext());
  final Presentation presentation=event.getPresentation();
  final RunnerAndConfigurationSettings configuration=context.getConfiguration();
  if (configuration == null) {
    presentation.setEnabled(false);
    presentation.setVisible(false);
  }
 else {
    presentation.setEnabled(true);
    presentation.setVisible(true);
    final String name=suggestRunActionName((LocatableConfiguration)configuration.getConfiguration());
    final List<RuntimeConfigurationProducer> producers=PreferedProducerFind.findPreferredProducers(context.getLocation(),context,true);
    LOG.assertTrue(producers != null);
    updatePresentation(presentation,context.findExisting() != null || producers.size() <= 1 ? " " + name : "",context);
  }
}
