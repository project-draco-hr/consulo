{
  final CharSequence chars=leaf.getInternedText();
  final LeafElement leftPart=ASTFactory.leaf(leaf.getElementType(),chars,0,offset,table);
  final LeafElement rightPart=ASTFactory.leaf(leaf.getElementType(),chars,offset,chars.length(),table);
  leaf.rawInsertAfterMe(leftPart);
  leftPart.rawInsertAfterMe(rightPart);
  leaf.rawRemove();
  return leftPart;
}
