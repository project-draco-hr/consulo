{
  List<LookupElement> better=new ArrayList<LookupElement>();
  for (  LookupElement element : elements) {
    if (isExactPrefixItem(element)) {
      better.add(element);
    }
  }
  final LookupArranger arranger=getActualArranger();
  final Comparator<LookupElement> itemComparator=arranger.getItemComparator();
  if (itemComparator != null) {
    Collections.sort(better,itemComparator);
  }
  final Classifier<LookupElement> classifier=arranger.createRelevanceClassifier();
  for (  LookupElement element : better) {
    classifier.addElement(element);
  }
  return ContainerUtil.flatten(classifier.classifyContents());
}
