{
  final boolean reused=checkReused();
  boolean selectionVisible=isSelectionVisible();
  updateList();
  if (isVisible()) {
    LOG.assertTrue(!ApplicationManager.getApplication().isUnitTestMode());
    if (myEditor.getComponent().getRootPane() == null) {
      LOG.error("Null root pane");
    }
    updateScrollbarVisibility();
    updateLookupBounds();
    if (reused || selectionVisible) {
      ensureSelectionVisible();
    }
  }
}
