{
  add(mainPanel,0,0);
  add(myIconPanel,42,0);
  add(mySortingLabel,10,0);
  setLayout(new AbstractLayoutManager(){
    int changedWidth=-1;
    int changedHeight=-1;
    @Override public Dimension preferredLayoutSize(    Container parent){
      Dimension size=new Dimension(mainPanel.getPreferredSize());
      if (changedWidth > 0) {
        size.width=changedWidth;
      }
      if (changedHeight > 0) {
        size.height=changedHeight;
      }
      return size;
    }
    @Override public void layoutContainer(    Container parent){
      Dimension size=getSize();
      mainPanel.setSize(size);
      mainPanel.validate();
      Dimension preferredSize=mainPanel.getPreferredSize();
      if (preferredSize.width != size.width) {
        changedWidth=size.width;
        UISettings.getInstance().MAX_LOOKUP_LIST_WIDTH=Math.max(300,myScrollPane.getViewport().getWidth());
      }
      if (preferredSize.height != size.height) {
        changedHeight=size.height;
        int visibleRowCount=myList.getLastVisibleIndex() - myList.getFirstVisibleIndex() + 1;
        if (visibleRowCount != myList.getModel().getSize()) {
          UISettings.getInstance().MAX_LOOKUP_ITEM_COUNT=Math.max(5,visibleRowCount);
        }
      }
      layoutStatusIcons();
      layoutHint();
      revalidate();
      repaint();
    }
  }
);
}
