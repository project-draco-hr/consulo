{
  DataContext dataContext=e.getDataContext();
  final Project project=PlatformDataKeys.PROJECT.getData(dataContext);
  e.getPresentation().setEnabled(project != null && (ToolWindowManager.getInstance(project).isEditorComponentActive() && PlatformDataKeys.EDITOR.getData(dataContext) != null || PlatformDataKeys.VIRTUAL_FILE.getData(dataContext) != null));
}
