{
  if (myWrapper != wrapper) {
    myWrapper=wrapper;
    if (wrapper instanceof BookmarkItem) {
      final Bookmark bookmark=((BookmarkItem)wrapper).myBookmark;
      VirtualFile file=bookmark.getFile();
      Document document=FileDocumentManager.getInstance().getDocument(file);
      if (document != null) {
        if (myEditor == null || myEditor.getDocument() != document) {
          cleanup();
          myEditor=EditorFactory.getInstance().createViewer(document,myProject);
          EditorHighlighter highlighter=EditorHighlighterFactory.getInstance().createEditorHighlighter(file,EditorColorsManager.getInstance().getGlobalScheme(),myProject);
          ((EditorEx)myEditor).setHighlighter(highlighter);
          ((EditorEx)myEditor).setFile(file);
          myEditor.getSettings().setAnimatedScrolling(false);
          myEditor.getSettings().setLineNumbersShown(true);
          myEditor.getSettings().setFoldingOutlineShown(false);
          add(myEditor.getComponent(),BorderLayout.CENTER);
        }
        myEditor.getCaretModel().moveToLogicalPosition(new LogicalPosition(bookmark.getLine(),0));
        myEditor.getScrollingModel().scrollToCaret(ScrollType.CENTER_UP);
      }
 else {
        cleanup();
      }
    }
 else {
      cleanup();
      add(new JLabel("select file in the list"));
    }
  }
}
