{
  final Field field=FilterRequest.class.getDeclaredField("fFilter");
  field.setAccessible(true);
  final Filter filter=(Filter)field.get(request);
  final String filterDescription=filter.describe();
  if (filterDescription != null) {
    boolean isMethodFilter=filterDescription.startsWith("Method");
    if (isMethodFilter && canCompress(description))     return (Description)description.getChildren().get(0);
    try {
      final Description failedTestsDescription=Description.createSuiteDescription(filterDescription,null);
      if (filterDescription.startsWith("Tests") || filterDescription.startsWith("Ignored")) {
        for (Iterator iterator=description.getChildren().iterator(); iterator.hasNext(); ) {
          final Description childDescription=(Description)iterator.next();
          if (filter.shouldRun(childDescription)) {
            failedTestsDescription.addChild(childDescription);
          }
        }
        description=failedTestsDescription;
      }
 else       if (isMethodFilter && canCompress(failedTestsDescription)) {
        description=(Description)failedTestsDescription.getChildren().get(0);
      }
    }
 catch (    NoSuchMethodError e) {
    }
  }
  return description;
}
