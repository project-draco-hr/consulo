{
  final Field field=FilterRequest.class.getDeclaredField("fFilter");
  field.setAccessible(true);
  final Filter filter=(Filter)field.get(request);
  final String filterDescription=filter.describe();
  if (filterDescription != null && (filterDescription.startsWith("Failed tests") || filterDescription.startsWith("Ignored"))) {
    try {
      final Description failedTestsDescription=Description.createSuiteDescription(filterDescription,null);
      for (Iterator iterator=description.getChildren().iterator(); iterator.hasNext(); ) {
        final Description childDescription=(Description)iterator.next();
        if (filter.shouldRun(childDescription)) {
          failedTestsDescription.addChild(childDescription);
        }
      }
      description=failedTestsDescription;
      if (!failedTestsDescription.isTest() && failedTestsDescription.testCount() == 1 && filterDescription.startsWith("Method")) {
        description=(Description)failedTestsDescription.getChildren().get(0);
      }
    }
 catch (    NoSuchMethodError e) {
    }
  }
  return description;
}
