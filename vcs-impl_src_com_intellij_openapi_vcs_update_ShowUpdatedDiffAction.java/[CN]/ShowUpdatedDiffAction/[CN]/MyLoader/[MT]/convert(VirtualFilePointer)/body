{
  final String path=pointer.getPresentableUrl();
  final ByteContent byteContent=myCheckpoint.getByteContentBefore(FileUtil.toSystemIndependentName(path));
  if (byteContent == null || byteContent.isIsDirectory()) {
    return null;
  }
  final VirtualFile vf=pointer.getFile();
  if (vf == null) {
    return LoadTextUtil.getTextByBinaryPresentation(byteContent.getBytes(),EncodingManager.getInstance().getDefaultCharset()).toString();
  }
 else {
    return LoadTextUtil.getTextByBinaryPresentation(byteContent.getBytes(),vf).toString();
  }
}
