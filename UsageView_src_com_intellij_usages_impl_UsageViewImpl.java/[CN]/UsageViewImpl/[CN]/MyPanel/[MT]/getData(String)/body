{
  Node node=getSelectedNode();
  if (dataId.equals(USAGE_VIEW)) {
    return UsageViewImpl.this;
  }
  if (dataId.equals(DataConstants.NAVIGATABLE_ARRAY)) {
    return getNavigatablesForNodes(getSelectedNodes());
  }
  if (dataId.equals(DataConstants.EXPORTER_TO_TEXT_FILE)) {
    return myTextFileExporter;
  }
  if (dataId.equals(USAGES)) {
    final Set<Usage> selectedUsages=getSelectedUsages();
    if (selectedUsages == null) {
      return null;
    }
    for (Iterator it=selectedUsages.iterator(); it.hasNext(); ) {
      final Usage usage=(Usage)it.next();
      if (!usage.isValid()) {
        it.remove();
      }
    }
    return selectedUsages.toArray(new Usage[selectedUsages.size()]);
  }
  if (dataId.equals(USAGE_TARGETS)) {
    final UsageTarget[] selectedUsageTargets=getSelectedUsageTargets();
    if (selectedUsageTargets != null) {
      return selectedUsageTargets;
    }
  }
  if (node != null) {
    Object userObject=node.getUserObject();
    if (userObject instanceof DataProvider) {
      DataProvider dataProvider=(DataProvider)userObject;
      return dataProvider.getData(dataId);
    }
  }
  return null;
}
