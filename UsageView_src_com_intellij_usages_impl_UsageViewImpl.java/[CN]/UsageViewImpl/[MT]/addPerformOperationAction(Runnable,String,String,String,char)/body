{
  addButtonToLowerPane(new Runnable(){
    public void run(){
      checkReadonlyUsages();
      PsiDocumentManager.getInstance(myProject).commitAllDocuments();
      if (cannotMakeString != null && myChangesDetected) {
        if (canPerformReRun() && allTargetsAreValid()) {
          int answer=Messages.showYesNoDialog(myProject,cannotMakeString + "\n" + UsageViewBundle.message("dialog.rerun.search"),UsageViewBundle.message("dialog.title.error"),Messages.getErrorIcon());
          if (answer == 0) {
            refreshUsages();
          }
        }
 else {
          Messages.showMessageDialog(myProject,cannotMakeString,UsageViewBundle.message("dialog.title.error"),Messages.getErrorIcon());
        }
        return;
      }
      close();
      CommandProcessor.getInstance().executeCommand(myProject,new Runnable(){
        public void run(){
          processRunnable.run();
        }
      }
,commandName,null);
    }
  }
,shortDescription,mnemonic);
}
