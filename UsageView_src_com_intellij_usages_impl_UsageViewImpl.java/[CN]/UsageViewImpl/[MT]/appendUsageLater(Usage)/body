{
  ProgressIndicator indicator=ProgressManager.getInstance().getProgressIndicator();
  if (indicator != null) {
    myFlushAlarm.cancelAllRequests();
    myFlushAlarm.addRequest(new Runnable(){
      public void run(){
        flush();
      }
    }
,300,indicator.getModalityState());
  }
synchronized (myUsagesToFlush) {
    myUsagesToFlush.add(usage);
    if (myUsagesToFlush.size() > 50) {
      SwingUtilities.invokeLater(new Runnable(){
        public void run(){
          flush();
        }
      }
);
    }
  }
}
