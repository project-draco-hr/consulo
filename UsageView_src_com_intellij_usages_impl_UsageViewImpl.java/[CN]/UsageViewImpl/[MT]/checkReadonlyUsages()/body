{
  final Set<VirtualFile> readOnlyUsages=getReadOnlyUsagesFiles();
  if (!readOnlyUsages.isEmpty()) {
    String readOnlyWarning="Occurrences found in read-only files.\n" + "The operation will not affect them.\n" + "Continue anyway?";
    int result=Messages.showOkCancelDialog(myProject,readOnlyWarning,"Read-Only Files Found",Messages.getWarningIcon());
    if (result != 0) {
      VirtualFileManager.getInstance().fireReadOnlyModificationAttempt(readOnlyUsages.toArray(new VirtualFile[readOnlyUsages.size()]));
      return;
    }
  }
}
