{
  TreePath[] selectionPaths=myTree.getSelectionPaths();
  if (selectionPaths == null)   return null;
  Set<UsageTarget> targets=new HashSet<UsageTarget>();
  for (int i=0; i < selectionPaths.length; i++) {
    TreePath selectionPath=selectionPaths[i];
    Object lastPathComponent=selectionPath.getLastPathComponent();
    if (lastPathComponent instanceof UsageTargetNode) {
      UsageTargetNode usageTargetNode=(UsageTargetNode)lastPathComponent;
      UsageTarget target=usageTargetNode.getTarget();
      if (target != null && target.isValid()) {
        targets.add(target);
      }
    }
  }
  return targets.size() > 0 ? targets.toArray(new UsageTarget[targets.size()]) : null;
}
