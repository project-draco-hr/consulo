{
  final TreeElement nxt=getTreeNext();
  final CompositeElement p=getTreeParent();
  final TreeElement prv=getTreePrev();
  if (prv != null) {
    prv.setTreeNext(nxt);
  }
 else   if (p != null) {
    p.setFirstChildNode(nxt);
  }
  if (nxt != null) {
    nxt.setTreePrev(prv);
  }
 else   if (p != null) {
    p.setLastChildNode(prv);
  }
  if (DebugUtil.CHECK) {
    if (getTreeParent() != null) {
      DebugUtil.checkTreeStructure(getTreeParent());
    }
    if (getTreePrev() != null) {
      DebugUtil.checkTreeStructure(getTreePrev());
    }
    if (getTreeNext() != null) {
      DebugUtil.checkTreeStructure(getTreeNext());
    }
  }
  invalidate();
}
