{
  Icon icon=getIcon();
  FontMetrics fm=SwingUtilities2.getFontMetrics(this,g,getFont());
  Rectangle viewRect=new Rectangle(getSize());
  Insets i=getInsets();
  viewRect.x+=i.left;
  viewRect.y+=i.top;
  viewRect.width-=(i.right + viewRect.x);
  viewRect.height-=(i.bottom + viewRect.y);
  Rectangle iconRect=new Rectangle();
  Rectangle textRect=new Rectangle();
  String text=SwingUtilities.layoutCompoundLabel(this,fm,getText(),icon,SwingConstants.CENTER,SwingConstants.CENTER,SwingConstants.CENTER,SwingConstants.TRAILING,viewRect,iconRect,textRect,iconTextSpace());
  ActionButtonLook look=ActionButtonLook.IDEA_LOOK;
  look.paintBackground(g,this);
  look.paintIconAt(g,this,icon,iconRect.x,iconRect.y);
  look.paintBorder(g,this);
  UIUtil.applyRenderingHints(g);
  g.setColor(isButtonEnabled() ? getForeground() : UIUtil.getInactiveTextColor());
  SwingUtilities2.drawStringUnderlineCharAt(this,g,text,getMnemonicCharIndex(text),textRect.x,textRect.y + fm.getAscent());
}
