{
  int n=0;
  for (  LanguageInjectionSupport support : Extensions.getExtensions(LanguageInjectionSupport.EP_NAME)) {
    final List<BaseInjection> mineInjections=myInjections.get(support.getId());
    for (    BaseInjection other : cfg.getInjections(support.getId())) {
      final BaseInjection existing=findExistingInjection(other);
      if (existing == null) {
        n++;
        mineInjections.add(other);
      }
 else {
        if (existing.equals(other))         continue;
        boolean placesAdded=false;
        for (        InjectionPlace place : other.getInjectionPlaces()) {
          if (existing.findPlaceByText(place.getText()) == null) {
            existing.getInjectionPlaces().add(place);
            placesAdded=true;
          }
        }
        if (placesAdded)         n++;
      }
    }
  }
  if (n >= 0)   configurationModified();
  return n;
}
