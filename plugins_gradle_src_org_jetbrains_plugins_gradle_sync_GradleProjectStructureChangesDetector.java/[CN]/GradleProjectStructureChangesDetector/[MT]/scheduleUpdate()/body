{
  if (ApplicationManager.getApplication().isUnitTestMode() || StringUtil.isEmpty(GradleSettings.getInstance(myProject).getLinkedProjectPath())) {
    return;
  }
  myUserProjectChangesCalculator.updateChanges();
  GradleProject project=myChangesModel.getGradleProject();
  if (project != null) {
    myNewChangesDetected.set(false);
    myChangesModel.update(project,true);
    if (!myNewChangesDetected.get()) {
      return;
    }
  }
  myStartRefreshTime.set(System.currentTimeMillis() + REFRESH_DELAY_MILLIS);
  myAlarm.cancelAllRequests();
  myAlarm.addRequest(myRequest,REFRESH_DELAY_MILLIS);
}
