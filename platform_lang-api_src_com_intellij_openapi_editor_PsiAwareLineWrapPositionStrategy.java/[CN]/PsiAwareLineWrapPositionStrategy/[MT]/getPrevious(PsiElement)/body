{
  PsiElement result=element.getPrevSibling();
  if (result != null) {
    return result;
  }
  PsiElement parent=element.getParent();
  if (parent == null) {
    return null;
  }
  PsiElement parentSibling=null;
  for (; parent != null && parentSibling == null; parent=parent.getParent()) {
    parentSibling=parent.getPrevSibling();
  }
  if (parentSibling == null) {
    return null;
  }
  result=parentSibling.getLastChild();
  return result == null ? parentSibling : result;
}
