{
  try {
    if (inputFile == null)     throw new BuildException("Input file needed. Use <jflex file=\"your_scanner.flex\"/>");
    if (!inputFile.canRead())     throw new BuildException("Cannot read input file " + inputFile);
    try {
      findPackageAndClass();
      normalizeOutdir();
      File destFile=new File(outputDir,className + ".java");
      if (inputFile.lastModified() > destFile.lastModified()) {
        Main.generate(inputFile);
        if (!Options.verbose)         System.out.println("Generated: " + destFile.getName());
      }
    }
 catch (    IOException e1) {
      throw new BuildException("IOException: " + e1.toString());
    }
  }
 catch (  JFlex.GeneratorException e) {
    throw new BuildException("JFlex: generation failed!");
  }
}
