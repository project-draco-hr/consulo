{
  PropertiesProvider[] providers=new PropertiesProvider[]{new PropertiesProviderImpl("a","aValue"),new PropertiesProviderImpl("b","${a}bValue"),new PropertiesProviderImpl("c","${d}cValue"),new PropertiesProviderImpl("d","dValue")};
  assertEquals("abc",expand(providers,"abc"));
  assertEquals("aValue",expand(providers,"${a}"));
  assertEquals("aValuebValue",expand(providers,"${b}"));
  assertEquals("${d}cValue",expand(providers,"${c}"));
  assertEquals("dValue",expand(providers,"${d}"));
  assertEquals("${d}cValuedValue",expand(providers,"${c}${d}"));
}
