{
  int eachBlockId=findFirstObsoleteBlock(period,intervalBetweenActivities);
  try {
    while (eachBlockId != 0) {
      for (      ChangeSet eachChangeSet : doReadBlock(eachBlockId).changes) {
        processor.consume(eachChangeSet);
      }
      myStorage.deleteRecord(eachBlockId);
      eachBlockId=myStorage.getPrevRecord(eachBlockId);
    }
  }
 catch (  IOException e) {
    throw handleError(e);
  }
}
