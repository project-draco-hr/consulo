{
  if (!JavaPsiFacade.getInstance(psiClass.getProject()).getResolveHelper().isAccessible(psiClass,context,null)) {
    return false;
  }
  if (pkgContext) {
    PsiClass topLevel=PsiUtil.getTopLevelClass(psiClass);
    if (topLevel != null) {
      String fqName=topLevel.getQualifiedName();
      if (fqName != null && StringUtil.isEmpty(StringUtil.getPackageName(fqName))) {
        return false;
      }
    }
  }
  return true;
}
