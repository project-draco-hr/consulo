{
  final PsiExpression expr=PsiTreeUtil.getContextOfType(parameters.getPosition(),PsiExpression.class,true);
  if (expr != null) {
    final Set<PsiType> set=new THashSet<PsiType>();
    for (    final ExpectedTypeInfo expectedInfo : JavaSmartCompletionContributor.getExpectedTypes(parameters)) {
      set.add(expectedInfo.getType());
    }
    return set;
  }
  return null;
}
