{
  if (o instanceof ResolveResult) {
    return getPsiType(((ResolveResult)o).getElement());
  }
  if (o instanceof PsiVariable) {
    return ((PsiVariable)o).getType();
  }
 else   if (o instanceof PsiMethod) {
    return ((PsiMethod)o).getReturnType();
  }
 else   if (o instanceof PsiClass) {
    final PsiClass psiClass=(PsiClass)o;
    return JavaPsiFacade.getInstance(psiClass.getProject()).getElementFactory().createType(psiClass);
  }
 else   if (o instanceof PsiExpression) {
    return ((PsiExpression)o).getType();
  }
  return null;
}
