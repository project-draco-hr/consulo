{
  super(new GridBagLayout());
  myCbEnabled=new JCheckBox(ExecutionBundle.message("run.configuration.use.alternate.jre.checkbox"));
  final GridBagConstraints gc=new GridBagConstraints(0,0,1,1,0,0,GridBagConstraints.WEST,GridBagConstraints.NONE,new Insets(0,0,0,0),0,0);
  add(myCbEnabled,gc);
  myFieldWithHistory=new TextFieldWithHistory();
  final ArrayList<String> foundJDKs=new ArrayList<String>();
  final Sdk[] allJDKs=ProjectJdkTable.getInstance().getAllJdks();
  for (  Sdk jdk : allJDKs) {
    foundJDKs.add(jdk.getHomePath());
  }
  myFieldWithHistory.setHistory(foundJDKs);
  myPathField=new ComponentWithBrowseButton<TextFieldWithHistory>(myFieldWithHistory,null);
  myPathField.addBrowseFolderListener(ExecutionBundle.message("run.configuration.select.alternate.jre.label"),ExecutionBundle.message("run.configuration.select.jre.dir.label"),null,BrowseFilesListener.SINGLE_DIRECTORY_DESCRIPTOR,TextComponentAccessor.TEXT_FIELD_WITH_HISTORY_WHOLE_TEXT);
  gc.gridx=1;
  gc.weightx=1;
  gc.fill=GridBagConstraints.HORIZONTAL;
  gc.insets.left=10;
  add(myPathField,gc);
  InsertPathAction.addTo(myFieldWithHistory.getTextEditor());
  myCbEnabled.addActionListener(new ActionListener(){
    public void actionPerformed(    ActionEvent e){
      enabledChanged();
    }
  }
);
  enabledChanged();
}
