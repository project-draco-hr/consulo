{
  myCbEnabled=new JBCheckBox(ExecutionBundle.message("run.configuration.use.alternate.jre.checkbox"));
  myFieldWithHistory=new TextFieldWithHistory();
  final ArrayList<String> foundJDKs=new ArrayList<String>();
  final Sdk[] allJDKs=ProjectJdkTable.getInstance().getAllJdks();
  for (  Sdk jdk : allJDKs) {
    foundJDKs.add(jdk.getHomePath());
  }
  myFieldWithHistory.setHistory(foundJDKs);
  myPathField=new ComponentWithBrowseButton<TextFieldWithHistory>(myFieldWithHistory,null);
  myPathField.addBrowseFolderListener(ExecutionBundle.message("run.configuration.select.alternate.jre.label"),ExecutionBundle.message("run.configuration.select.jre.dir.label"),null,BrowseFilesListener.SINGLE_DIRECTORY_DESCRIPTOR,TextComponentAccessor.TEXT_FIELD_WITH_HISTORY_WHOLE_TEXT);
  setLayout(new MigLayout("ins 0, gap 10, fill, flowx"));
  add(myCbEnabled,"shrinkx");
  add(myPathField,"growx, pushx");
  InsertPathAction.addTo(myFieldWithHistory.getTextEditor());
  myCbEnabled.addActionListener(new ActionListener(){
    public void actionPerformed(    ActionEvent e){
      enabledChanged();
    }
  }
);
  enabledChanged();
  setAnchor(myCbEnabled);
  updateUI();
}
