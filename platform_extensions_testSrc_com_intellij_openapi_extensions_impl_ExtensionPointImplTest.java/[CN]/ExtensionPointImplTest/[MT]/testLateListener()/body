{
  ExtensionPointImpl extensionPoint=buildExtensionPoint();
  final boolean added[]=new boolean[1];
  extensionPoint.registerExtension(new Integer(123));
  assertFalse(added[0]);
  extensionPoint.addExtensionPointListener(new ExtensionPointListener(){
    @Override public void extensionAdded(    Object extension,    final PluginDescriptor pluginDescriptor){
      added[0]=true;
    }
    @Override public void extensionRemoved(    Object extension,    final PluginDescriptor pluginDescriptor){
    }
  }
);
  assertTrue(added[0]);
}
