{
  final String type=component.getType();
  Factory factory=ourMap.get(type);
  if (factory == null) {
    return new Label("Type " + type + " is not resolved");
  }
  final Widget widget=factory.create();
  final Map<String,String> variables=component.getVariables();
  if (variables != null) {
    if (widget instanceof GwtComponentImpl) {
      ((GwtComponentImpl)widget).init(proxy,component.getId(),variables);
    }
  }
  return widget;
}
