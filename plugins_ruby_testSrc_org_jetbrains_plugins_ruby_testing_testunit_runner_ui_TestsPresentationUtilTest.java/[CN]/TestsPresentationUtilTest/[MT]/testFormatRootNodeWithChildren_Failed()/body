{
  final RTestUnitTestProxy proxy1=createTestProxy();
  final RTestUnitTestProxy child=createTestProxy();
  proxy1.addChild(child);
  final MyRenderer renderer1=new MyRenderer(false);
  proxy1.setStarted();
  child.setStarted();
  child.setFailed();
  child.setFinished();
  proxy1.setFailed();
  TestsPresentationUtil.formatRootNodeWithChildren(proxy1,renderer1);
  assertEquals(PoolOfTestIcons.FAILED_ICON,renderer1.getIcon());
  assertOneElement(renderer1.getFragments());
  assertEquals("Test Results",renderer1.getFragmentAt(0));
  assertEquals(SimpleTextAttributes.REGULAR_ATTRIBUTES,renderer1.getAttribsAt(0));
  final MyRenderer renderer2=new MyRenderer(false);
  TestsPresentationUtil.formatRootNodeWithChildren(proxy1,renderer2);
  proxy1.setFinished();
  assertEquals(PoolOfTestIcons.FAILED_ICON,renderer1.getIcon());
  assertOneElement(renderer1.getFragments());
  assertEquals("Test Results",renderer1.getFragmentAt(0));
}
