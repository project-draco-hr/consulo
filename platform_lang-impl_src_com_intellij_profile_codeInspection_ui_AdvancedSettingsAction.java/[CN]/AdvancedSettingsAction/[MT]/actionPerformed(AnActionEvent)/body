{
  final ListPopupImpl actionGroupPopup=(ListPopupImpl)JBPopupFactory.getInstance().createListPopup(new BaseListPopupStep<MyAction>(null,ContainerUtil.list(new MyDisableNewInspectionsAction(),new MyResetAction())){
    @Override public PopupStep onChosen(    MyAction selectedValue,    boolean finalChoice){
      if (selectedValue.enabled()) {
        selectedValue.actionPerformed();
      }
      return FINAL_CHOICE;
    }
  }
);
  actionGroupPopup.getList().setCellRenderer(new ListCellRenderer(){
    @Override public Component getListCellRendererComponent(    JList list,    Object value,    int index,    boolean isSelected,    boolean cellHasFocus){
      return ((MyAction)value).createCustomComponent(isSelected);
    }
  }
);
  final Component component=e.getInputEvent().getComponent();
  actionGroupPopup.show(new RelativePoint(component,new Point(component.getWidth() - 1,0)));
}
