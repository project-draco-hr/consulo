{
  final Element e=element.getChild(getClass().getSimpleName());
  if (e != null) {
    myInjectedLanguageId=JDOMExternalizer.readString(e,"LANGUAGE");
    myPrefix=JDOMExternalizer.readString(e,"PREFIX");
    mySuffix=JDOMExternalizer.readString(e,"SUFFIX");
    setValuePattern(JDOMExternalizer.readString(e,"VALUE_PATTERN"));
    mySingleFile=JDOMExternalizer.readBoolean(e,"SINGLE_FILE");
    readExternalImpl(e);
    initializePlaces(false);
  }
 else {
    myDisplayName=StringUtil.notNullize(element.getChildText("display-name"));
    myInjectedLanguageId=StringUtil.notNullize(element.getAttributeValue("language"));
    myPrefix=StringUtil.notNullize(element.getChildText("prefix"));
    mySuffix=StringUtil.notNullize(element.getChildText("suffix"));
    setValuePattern(element.getChildText("value-pattern"));
    mySingleFile=element.getChild("single-file") != null;
    readExternalImpl(element);
    for (    Element placeElement : (List<Element>)element.getChildren("place")) {
      final boolean enabled=!Boolean.TRUE.equals(placeElement.getAttributeValue("disabled"));
      final String text=placeElement.getText();
      myPlaces.add(new InjectionPlace(text,PatternBasedInjectionHelper.createElementPattern(text,getDisplayName()),enabled));
    }
  }
}
