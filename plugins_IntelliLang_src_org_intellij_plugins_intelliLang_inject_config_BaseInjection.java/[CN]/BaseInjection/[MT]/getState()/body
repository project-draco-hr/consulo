{
  final Element e=new Element("injection");
  e.setAttribute("language",myInjectedLanguageId);
  e.setAttribute("injector-id",mySupportId);
  e.addContent(new Element("display-name").setText(getDisplayName()));
  if (StringUtil.isNotEmpty(myPrefix)) {
    e.addContent(new Element("prefix").setText(myPrefix));
  }
  if (StringUtil.isNotEmpty(mySuffix)) {
    e.addContent(new Element("suffix").setText(mySuffix));
  }
  if (StringUtil.isNotEmpty(myValuePattern)) {
    e.addContent(new Element("value-pattern").setText(myValuePattern));
  }
  if (mySingleFile) {
    e.addContent(new Element("single-file"));
  }
  final ArrayList<InjectionPlace> places=new ArrayList<InjectionPlace>(myPlaces);
  Collections.sort(places,new Comparator<InjectionPlace>(){
    public int compare(    final InjectionPlace o1,    final InjectionPlace o2){
      return Comparing.compare(o1.getText(),o2.getText());
    }
  }
);
  for (  InjectionPlace place : places) {
    final Element child=new Element("place").setContent(new CDATA(place.getText()));
    if (!place.isEnabled())     child.setAttribute("disabled","true");
    e.addContent(child);
  }
  writeExternalImpl(e);
  return e;
}
