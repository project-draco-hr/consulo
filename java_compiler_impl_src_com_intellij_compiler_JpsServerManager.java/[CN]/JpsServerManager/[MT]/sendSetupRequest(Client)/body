{
  final Map<String,String> data=new HashMap<String,String>();
  data.put(PathMacrosImpl.APPLICATION_HOME_MACRO_NAME,FileUtil.toSystemIndependentName(PathManager.getHomePath()));
  final PathMacros pathVars=PathMacros.getInstance();
  for (  String name : pathVars.getAllMacroNames()) {
    final String path=pathVars.getValue(name);
    if (path != null) {
      data.put(name,FileUtil.toSystemIndependentName(path));
    }
  }
  final List<GlobalLibrary> globals=new ArrayList<GlobalLibrary>();
  fillSdks(globals);
  fillGlobalLibraries(globals);
  return client.sendSetupRequest(data,globals);
}
