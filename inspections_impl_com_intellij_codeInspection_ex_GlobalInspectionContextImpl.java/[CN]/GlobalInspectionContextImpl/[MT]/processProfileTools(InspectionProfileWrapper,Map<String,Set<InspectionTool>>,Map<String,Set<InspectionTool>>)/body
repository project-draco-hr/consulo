{
  final InspectionTool[] usedTools=inspectionProfile.getInspectionTools();
  final Set<InspectionTool> profileTools=new HashSet<InspectionTool>();
  tools.put(inspectionProfile.getName(),profileTools);
  final HashSet<InspectionTool> localProfileTools=new HashSet<InspectionTool>();
  localTools.put(inspectionProfile.getName(),localProfileTools);
  for (  InspectionTool tool : usedTools) {
    if (inspectionProfile.isToolEnabled(HighlightDisplayKey.find(tool.getShortName()))) {
      tool.initialize(this);
      Set<InspectionTool> sertainTools=myTools.get(tool.getShortName());
      if (sertainTools == null) {
        sertainTools=new HashSet<InspectionTool>();
        myTools.put(tool.getShortName(),sertainTools);
      }
      sertainTools.add(tool);
      if (tool instanceof LocalInspectionToolWrapper) {
        localProfileTools.add(tool);
        appendJobDescriptor(LOCAL_ANALYSIS);
      }
 else {
        profileTools.add(tool);
        JobDescriptor[] jobDescriptors=tool.getJobDescriptors();
        for (        JobDescriptor jobDescriptor : jobDescriptors) {
          appendJobDescriptor(jobDescriptor);
        }
      }
    }
  }
}
