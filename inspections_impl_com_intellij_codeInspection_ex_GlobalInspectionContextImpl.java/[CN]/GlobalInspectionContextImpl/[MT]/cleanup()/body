{
  myProgressIndicator=null;
  myDerivedMethodsRequests=null;
  myDerivedClassesRequests=null;
  myMethodUsagesRequests=null;
  myFieldUsagesRequests=null;
  myClassUsagesRequests=null;
  myTools.clear();
  final InspectionProfile profile=myExternalProfile;
  if (profile == null) {
    if (myCurrentScope != null) {
      final Set<String> profiles=myCurrentScope.getActiveInspectionProfiles();
      InspectionProjectProfileManager inspectionProfileManager=InspectionProjectProfileManager.getInstance(myProject);
      for (      String profileName : profiles) {
        ((InspectionProfile)inspectionProfileManager.getProfile(profileName)).cleanup();
      }
    }
  }
 else {
    InspectionProjectProfileManager.getInstance(myProject).getProfileWrapper(profile.getName()).getInspectionProfile().cleanup();
  }
  EntryPointsManager.getInstance(getProject()).cleanup();
  if (myRefManager != null) {
    ((RefManagerImpl)myRefManager).cleanup();
    myRefManager=null;
    if (myCurrentScope != null) {
      myCurrentScope.invalidate();
      myCurrentScope=null;
    }
  }
}
