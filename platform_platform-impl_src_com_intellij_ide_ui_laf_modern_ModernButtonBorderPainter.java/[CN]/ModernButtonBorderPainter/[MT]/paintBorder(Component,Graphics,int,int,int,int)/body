{
  if (isDefaultButton(c)) {
    return;
  }
  final Insets ins=getBorderInsets(c);
  final int yOff=(ins.top + ins.bottom) / 4;
  final boolean square=DarculaButtonUI.isSquare(c);
  int offset=square ? 1 : 4;
  ModernButtonUI ui=ModernUIUtil.getUI(c);
  MouseEnterHandler mouseEnterHandler=ui.getMouseEnterHandler();
  if (mouseEnterHandler.isMousePressed()) {
    g.setColor(ModernUIUtil.getActiveBorderColor());
  }
 else {
    if (isDefaultButton(c)) {
      g.setColor(c.isEnabled() ? ModernUIUtil.getSelectionBackground() : ModernUIUtil.getDisabledBorderColor());
    }
 else {
      if (c.isEnabled()) {
        g.setColor(mouseEnterHandler.isMouseEntered() ? ModernUIUtil.getSelectionBackground() : ModernUIUtil.getActiveBorderColor());
      }
 else {
        g.setColor(ModernUIUtil.getDisabledBorderColor());
      }
    }
  }
  g.drawRect(x + offset,y + yOff,width - 2 * offset,height - 2 * yOff);
}
