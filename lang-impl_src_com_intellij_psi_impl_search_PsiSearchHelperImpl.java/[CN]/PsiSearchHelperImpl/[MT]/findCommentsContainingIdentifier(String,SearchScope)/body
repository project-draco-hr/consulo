{
  final ArrayList<PsiElement> results=new ArrayList<PsiElement>();
  processCommentsContainingIdentifier(identifier,searchScope,new Processor<PsiElement>(){
    public boolean process(    PsiElement element){
synchronized (results) {
        results.add(element);
      }
      return true;
    }
  }
);
synchronized (results) {
    return results.toArray(new PsiElement[results.size()]);
  }
}
