{
  PsiManager manager=place.getManager();
  PsiClass lastClass=null;
  for (PsiElement placeParent=place; placeParent != null; placeParent=placeParent.getContext()) {
    if (placeParent instanceof PsiClass && !(placeParent instanceof PsiAnonymousClass) && !(placeParent instanceof PsiTypeParameter)) {
      PsiClass aClass=(PsiClass)placeParent;
      if (memberClass != null && aClass.isInheritor(memberClass,true))       return aClass;
      lastClass=aClass;
    }
  }
  return lastClass;
}
