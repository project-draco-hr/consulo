{
  if (!myCanModifyAllWhiteSpaces) {
    if (TokenSets.WHITE_SPACES_SET.contains(leafElement.getElementType()))     return null;
  }
  IElementType elementTypeToUse=TokenType.WHITE_SPACE;
  ASTNode prevNode=TreeUtil.prevLeaf(leafElement);
  if (prevNode != null && TokenSets.WHITE_SPACES_SET.contains(prevNode.getElementType())) {
    elementTypeToUse=prevNode.getElementType();
  }
  FormatterUtil.replaceWhiteSpace(whiteSpace,leafElement,elementTypeToUse,textRange);
  return whiteSpace;
}
