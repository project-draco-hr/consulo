{
  int rangeMarkerStart=text.indexOf(START_RANGE_MARKER);
  int rangeMarkerEnd=text.indexOf(END_RANGE_MARKER);
  final StringBuilder buffer=new StringBuilder();
  final TextRange range;
  if (rangeMarkerStart >= 0 && rangeMarkerEnd >= 0) {
    range=TextRange.create(rangeMarkerStart,rangeMarkerEnd - START_RANGE_MARKER.length());
    buffer.append(text.substring(0,rangeMarkerStart)).append(text.substring(rangeMarkerStart + START_RANGE_MARKER.length(),rangeMarkerEnd)).append(text.substring(rangeMarkerEnd + END_RANGE_MARKER.length()));
  }
 else {
    range=TextRange.create(0,text.length());
    buffer.append(text);
  }
  return Pair.create(buffer.toString(),range);
}
