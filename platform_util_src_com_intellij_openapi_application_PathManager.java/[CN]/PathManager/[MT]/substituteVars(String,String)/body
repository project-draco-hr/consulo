{
  if (s == null)   return null;
  if (s.startsWith("..")) {
    s=ideaHomePath + File.separatorChar + BIN_FOLDER+ File.separatorChar+ s;
  }
  s=StringUtil.replace(s,"${idea.home}",ideaHomePath);
  final Properties props=System.getProperties();
  final Set keys=props.keySet();
  for (  final Object key1 : keys) {
    String key=(String)key1;
    String value=props.getProperty(key);
    s=StringUtil.replace(s,"${" + key + "}",value);
  }
  return s;
}
