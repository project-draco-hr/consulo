{
  if (myTextComponent instanceof JTextArea) {
    JTextArea textArea=(JTextArea)myTextComponent;
    try {
      return textArea.getLineEndOffset(line);
    }
 catch (    BadLocationException e) {
      throw new RuntimeException(e);
    }
  }
  return getTextLength();
}
