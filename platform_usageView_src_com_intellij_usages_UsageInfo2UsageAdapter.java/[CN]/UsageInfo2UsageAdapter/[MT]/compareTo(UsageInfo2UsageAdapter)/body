{
  VirtualFile containingFile=getFile();
  VirtualFile oContainingFile=o.getFile();
  if (containingFile == null && oContainingFile == null || !Comparing.equal(containingFile,oContainingFile)) {
    return 0;
  }
  return getFirstSegment().getStartOffset() - o.getFirstSegment().getStartOffset();
}
