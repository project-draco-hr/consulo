{
  VirtualFile containingFile=getFile();
  VirtualFile oContainingFile=o.getFile();
  if (containingFile == null && oContainingFile == null || !Comparing.equal(containingFile,oContainingFile)) {
    return 0;
  }
  Segment s1=getFirstSegment();
  Segment s2=o.getFirstSegment();
  if (s1 == null || s2 == null)   return 0;
  return s1.getStartOffset() - s2.getStartOffset();
}
