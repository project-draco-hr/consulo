{
  if (myPsiElement instanceof PsiPackage) {
    return new FindPackageUsagesDialog(myPsiElement,myProject,myFindPackageOptions,toShowInNewTab,mustOpenInNewTab,isSingleFile);
  }
 else   if (myPsiElement instanceof PsiClass) {
    return new FindClassUsagesDialog(myPsiElement,myProject,myFindClassOptions,toShowInNewTab,mustOpenInNewTab,isSingleFile);
  }
 else   if (myPsiElement instanceof PsiMethod) {
    return new FindMethodUsagesDialog(myPsiElement,myProject,myFindMethodOptions,toShowInNewTab,mustOpenInNewTab,isSingleFile);
  }
 else   if (myPsiElement instanceof PsiVariable) {
    return new FindVariableUsagesDialog(myPsiElement,myProject,myFindVariableOptions,toShowInNewTab,mustOpenInNewTab,isSingleFile);
  }
 else   if (ThrowSearchUtil.isSearchable(myPsiElement)) {
    return new FindThrowUsagesDialog(myPsiElement,myProject,myFindPointcutOptions,toShowInNewTab,mustOpenInNewTab,isSingleFile);
  }
 else {
    return new CommonFindUsagesDialog(myPsiElement,myProject,createFindUsagesOptions(myProject),toShowInNewTab,mustOpenInNewTab,isSingleFile);
  }
}
