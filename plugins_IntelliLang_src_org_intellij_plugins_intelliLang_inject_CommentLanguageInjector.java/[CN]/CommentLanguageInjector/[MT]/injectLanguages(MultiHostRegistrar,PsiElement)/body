{
  PsiLanguageInjectionHost host=(PsiLanguageInjectionHost)context;
  final ElementManipulator<PsiLanguageInjectionHost> manipulator=ElementManipulators.getManipulator(host);
  if (manipulator == null)   return;
  TextRange rangeInElement=manipulator.getRangeInElement(host);
  if (rangeInElement.isEmpty())   return;
  BaseInjection injection=InjectorUtils.findCommentInjection(context,"comment",Ref.<PsiComment>create());
  if (injection == null)   return;
  InjectedLanguage injectedLanguage=InjectedLanguage.create(injection.getInjectedLanguageId(),injection.getPrefix(),injection.getSuffix(),false);
  Language language=injectedLanguage != null ? injectedLanguage.getLanguage() : null;
  if (language != null) {
    Trinity<PsiLanguageInjectionHost,InjectedLanguage,TextRange> info=Trinity.create(host,injectedLanguage,rangeInElement);
    InjectorUtils.registerInjection(language,Collections.singletonList(info),context.getContainingFile(),registrar);
  }
}
