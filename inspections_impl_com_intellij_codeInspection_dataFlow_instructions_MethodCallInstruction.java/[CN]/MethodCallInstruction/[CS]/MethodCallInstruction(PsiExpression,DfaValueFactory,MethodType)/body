{
  myContext=context;
  myMethodType=methodType;
  myCall=context instanceof PsiCallExpression ? (PsiCallExpression)context : null;
  myFactory=factory;
  final PsiMethod callee=myCall == null ? null : myCall.resolveMethod();
  final PsiExpressionList argList=myCall == null ? null : myCall.getArgumentList();
  myArgs=argList != null ? argList.getExpressions() : PsiExpression.EMPTY_ARRAY;
  if (callee != null) {
    myIsNullable=AnnotationUtil.isNullable(callee);
    myIsNotNull=AnnotationUtil.isNotNull(callee);
    final PsiParameter[] params=callee.getParameterList().getParameters();
    myParametersNotNull=new boolean[params.length];
    for (int i=0; i < params.length; i++) {
      myParametersNotNull[i]=AnnotationUtil.isAnnotated(params[i],AnnotationUtil.NOT_NULL,false);
    }
  }
 else {
    myParametersNotNull=ArrayUtil.EMPTY_BOOLEAN_ARRAY;
  }
  myType=myCall == null ? null : myCall.getType();
  myShouldFlushFields=true;
  if (myCall instanceof PsiNewExpression) {
    myIsNullable=false;
    myIsNotNull=true;
    if (myType != null && myType.getArrayDimensions() > 0) {
      myShouldFlushFields=false;
    }
  }
}
