{
  cleanContainerCaches();
  final List<VirtualFilePointerImpl> invalidatedPointers=new ArrayList<VirtualFilePointerImpl>();
  PointerProcessor listenerNotifier=new PointerProcessor(){
    public boolean processPointer(    VirtualFilePointerImpl pointer){
      final boolean invalidated=isInvalidatedByDeletion(pointer,event);
      if (invalidated) {
        invalidatedPointers.add(pointer);
      }
      return invalidated;
    }
    public void notifyListeners(    VirtualFilePointerListener listener,    VirtualFilePointer[] pointers){
      listener.beforeValidityChanged(pointers);
    }
  }
;
  HashMap<VirtualFilePointerListener,ArrayList<VirtualFilePointer>> fileDeletedNotificationMap=iteratePointers(listenerNotifier);
  for (  VirtualFilePointerImpl pointer : invalidatedPointers) {
    pointer.invalidateByDeletion();
  }
  iterateMap(fileDeletedNotificationMap,PointerValidator.INSTANCE);
}
