{
  PsiElement[] children=codeFragment.getChildren();
  if (children.length == 0)   throw EvaluateExceptionUtil.createEvaluateException(DebuggerBundle.message("evaluation.error.empty.code.fragment"));
  for (int i=0; i < children.length; i++) {
    PsiElement child=children[i];
    if (child instanceof PsiErrorElement) {
      throw EvaluateExceptionUtil.createEvaluateException(DebuggerBundle.message("evaluation.error.invalid.expression",child.getText()));
    }
  }
}
