{
  c.revertOn(myRootEntry);
  Entry e=getAffectedEntry(c);
  VirtualFile f=myGateway.findVirtualFile(e.getPath());
  if (shouldProcess(c)) {
    Content content=e.getContent();
    if (content.isAvailable()) {
      f.setBinaryContent(content.getBytes(),-1,e.getTimestamp());
    }
  }
}
