{
  if (refElement instanceof RefImplicitConstructor) {
    buf.append("implicit constructor of ");
    refElement=((RefImplicitConstructor)refElement).getOwnerClass();
  }
  buf.append("<code>");
  if (refElement instanceof RefField) {
    RefField field=(RefField)refElement;
    PsiField psiField=(PsiField)field.getElement();
    buf.append(psiField.getType().getPresentableText());
    buf.append("&nbsp;");
  }
 else   if (refElement instanceof RefMethod) {
    RefMethod method=(RefMethod)refElement;
    PsiMethod psiMethod=(PsiMethod)method.getElement();
    PsiType returnType=psiMethod.getReturnType();
    if (returnType != null) {
      buf.append(returnType.getPresentableText());
      buf.append("&nbsp;");
    }
  }
  buf.append("<a HREF=\"");
  if (myExporter == null) {
    buf.append(refElement.getURL());
  }
 else {
    buf.append(myExporter.getURL(refElement));
  }
  if (frameName != null) {
    buf.append("\" target=\"");
    buf.append(frameName);
  }
  buf.append("\">");
  if (RefUtil.isAnonymousClass(refElement)) {
    buf.append("anonymous");
  }
 else   if (refElement instanceof RefMethod) {
    PsiMethod psiMethod=(PsiMethod)refElement.getElement();
    buf.append(psiMethod.getName());
  }
 else {
    buf.append(refElement.getName());
  }
  buf.append("</a>");
  if (refElement instanceof RefMethod) {
    PsiMethod psiMethod=(PsiMethod)refElement.getElement();
    appendMethodParameters(buf,psiMethod,false);
  }
  buf.append("</code>");
  if (RefUtil.isAnonymousClass(refElement)) {
    buf.append(" in ");
    appendElementReference(buf,((RefElement)refElement.getOwner()),isPackageIncluded);
  }
 else   if (isPackageIncluded) {
    buf.append(" <code><font style=\"font-family:verdana;color:#808080\">(");
    appendQualifiedName(buf,refElement.getOwner());
    buf.append(")</font></code>");
  }
}
