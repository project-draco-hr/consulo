{
  final String libModuleDir=getContentRootPath("lib");
  final String libStylesPath=libModuleDir + "/res/values/styles.xml";
  final String appStylePath="/res/values/styles.xml";
  final String appLayoutLocalPath=BASE_PATH + getTestName(true) + "_1.xml";
  final String stylesLocalPath=BASE_PATH + getTestName(true) + "_styles.xml";
  final String appLayoutPath="res/layout/layout.xml";
  myFixture.copyFileToProject(stylesLocalPath,libStylesPath);
  myFixture.copyFileToProject(stylesLocalPath,appStylePath);
  myFixture.copyFileToProject(appLayoutLocalPath,appLayoutPath);
  final MultiMap<PsiElement,String> conflicts=performAction(false,libModuleDir + "/res/layout").getSecond().getConflicts();
  assertEquals(1,conflicts.keySet().size());
  assertEquals(1,conflicts.values().size());
  myFixture.checkResultByFile(BASE_PATH + getTestName(true) + "_after.xml");
  myFixture.checkResultByFile(libStylesPath,BASE_PATH + getTestName(true) + "_styles_after.xml",true);
  myFixture.checkResultByFile(appStylePath,stylesLocalPath,true);
  myFixture.checkResultByFile(appLayoutPath,appLayoutLocalPath,true);
}
