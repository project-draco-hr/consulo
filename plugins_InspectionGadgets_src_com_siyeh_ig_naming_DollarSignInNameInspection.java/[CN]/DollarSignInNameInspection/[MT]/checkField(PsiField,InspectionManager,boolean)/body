{
  final PsiClass containingClass=field.getContainingClass();
  if (containingClass == null) {
    return super.checkField(field,mgr,isOnTheFly);
  }
  if (!containingClass.isPhysical()) {
    return super.checkField(field,mgr,isOnTheFly);
  }
  if (containingClass instanceof PsiAnonymousClass) {
    return super.checkClass(containingClass,mgr,isOnTheFly);
  }
  if (isOnTheFly && !InspectionGadgetsPlugin.isEnabled()) {
    return super.checkField(field,mgr,isOnTheFly);
  }
  final BaseInspectionVisitor visitor=createVisitor(mgr,isOnTheFly);
  field.accept(visitor);
  return visitor.getErrors();
}
