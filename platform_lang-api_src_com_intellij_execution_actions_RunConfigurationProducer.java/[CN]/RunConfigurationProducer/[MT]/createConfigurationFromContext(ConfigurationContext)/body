{
  final RunnerAndConfigurationSettings settings=cloneTemplateConfiguration(context);
  final Ref<PsiElement> locationRef=new Ref<PsiElement>(context.getPsiLocation());
  if (!setupConfigurationFromContext((T)settings.getConfiguration(),context,locationRef)) {
    return null;
  }
  return new ConfigurationFromContextImpl(this,settings,locationRef.get());
}
