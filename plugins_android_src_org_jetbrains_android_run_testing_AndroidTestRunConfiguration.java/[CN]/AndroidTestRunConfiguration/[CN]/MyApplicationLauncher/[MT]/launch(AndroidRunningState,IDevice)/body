{
  state.getProcessHandler().notifyTextAvailable("Running tests\n",ProcessOutputTypes.STDOUT);
  RemoteAndroidTestRunner runner=new RemoteAndroidTestRunner(state.getPackageName(),myInstrumentationTestRunner,device);
switch (TESTING_TYPE) {
case TEST_ALL_IN_PACKAGE:
    runner.setTestPackageName(PACKAGE_NAME);
  break;
case TEST_CLASS:
runner.setClassName(CLASS_NAME);
break;
case TEST_METHOD:
runner.setMethodName(CLASS_NAME,METHOD_NAME);
break;
}
runner.setDebug(state.isDebugMode());
try {
runner.run(new AndroidTestListener(state));
}
 catch (ShellCommandUnresponsiveException e) {
LOG.info(e);
state.getProcessHandler().notifyTextAvailable("Error: time out",ProcessOutputTypes.STDERR);
}
return true;
}
