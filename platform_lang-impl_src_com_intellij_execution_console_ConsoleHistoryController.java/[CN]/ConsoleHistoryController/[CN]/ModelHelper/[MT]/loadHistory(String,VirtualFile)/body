{
  try {
    VirtualFile file=myRootType.isHidden() ? null : HistoryRootType.getInstance().findFile(null,getHistoryName(myRootType,id),ScratchFileService.Option.existing_only);
    if (file == null) {
      if (loadHistoryOld(id)) {
        if (!myRootType.isHidden()) {
          AccessToken token=ApplicationManager.getApplication().acquireWriteActionLock(getClass());
          try {
            VfsUtil.saveText(consoleFile,myContent);
          }
  finally {
            token.finish();
          }
        }
        return true;
      }
      return false;
    }
    String[] split=VfsUtilCore.loadText(file).split(myRootType.getEntrySeparator());
    getModel().resetEntries(Arrays.asList(split));
    return true;
  }
 catch (  Exception ignored) {
    return false;
  }
}
