{
  if (!in.getNodeName().equals("console-history"))   return null;
  final String id=in.getAttribute("id");
  if (!expectedId.equals(id))   return null;
  final ArrayList<String> entries=new ArrayList<String>();
  String consoleContent=null;
  while (in.hasMoreChildren()) {
    in.moveDown();
    if ("history-entry".equals(in.getNodeName())) {
      entries.add(in.getValue());
    }
 else     if ("console-content".equals(in.getNodeName())) {
      consoleContent=in.getValue();
    }
    in.moveUp();
  }
  for (ListIterator<String> iterator=entries.listIterator(entries.size()); iterator.hasPrevious(); ) {
    final String entry=iterator.previous();
    myModel.addToHistory(entry);
  }
  return consoleContent;
}
