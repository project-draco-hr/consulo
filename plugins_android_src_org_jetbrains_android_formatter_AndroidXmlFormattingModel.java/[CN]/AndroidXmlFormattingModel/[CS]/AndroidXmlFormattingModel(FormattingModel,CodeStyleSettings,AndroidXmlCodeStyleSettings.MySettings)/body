{
  myModel=model;
  final Block block=myModel.getRootBlock();
  if (block instanceof XmlBlock) {
    final XmlBlock b=(XmlBlock)block;
    final XmlPolicy policy=customSettings.createXmlPolicy(settings,getDocumentModel());
    myRootBlock=new XmlBlock(b.getNode(),b.getWrap(),b.getAlignment(),policy,b.getIndent(),b.getTextRange()){
      @Override protected XmlTagBlock createTagBlock(      ASTNode child,      Indent indent,      Wrap wrap,      Alignment alignment){
        return new XmlTagBlock(child,wrap,alignment,myXmlFormattingPolicy,indent != null ? indent : Indent.getNoneIndent(),isPreserveSpace());
      }
    }
;
  }
 else {
    myRootBlock=block;
  }
}
