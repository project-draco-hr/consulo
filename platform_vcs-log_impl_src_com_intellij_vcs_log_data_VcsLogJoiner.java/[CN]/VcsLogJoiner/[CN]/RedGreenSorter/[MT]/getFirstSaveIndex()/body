{
  int lastIndex=0;
  for (  TimedVcsCommit commit : savedLog) {
    if (lastIndex > BOUND_SAVED_LOG)     return -1;
    boolean isGreen=currentGreen.remove(commit.getHash());
    if (isGreen) {
      currentRed.remove(commit.getHash());
      currentGreen.addAll(commit.getParents());
    }
 else {
      markRealRedNode(commit.getHash());
      currentRed.addAll(commit.getParents());
    }
    lastIndex++;
    if (currentRed.isEmpty())     return lastIndex;
  }
  return -1;
}
