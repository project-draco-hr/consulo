{
  if (myForeground == null && info.foreground != null) {
    addTextIfPossible(info.startOffset);
    myForeground=info.foreground;
    myBuilder.setForeground(info.foreground);
  }
 else   if (myForeground != null) {
    Color c=info.foreground == null ? myDefaultForeground : info.foreground;
    if (!myForeground.equals(c)) {
      addTextIfPossible(info.startOffset);
      myBuilder.setForeground(c);
      myForeground=c;
    }
  }
}
