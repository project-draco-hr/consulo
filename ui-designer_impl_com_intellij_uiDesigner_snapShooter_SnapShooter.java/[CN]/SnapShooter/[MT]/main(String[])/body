{
  final JFrame snapShotFrame=new JFrame("SnapShooter");
  JButton takeSnapShotButton=new JButton("Take snapshot (PrintScreen)");
  takeSnapShotButton.addActionListener(new ActionListener(){
    public void actionPerformed(    ActionEvent e){
      SnapShooterDialog dlg=new SnapShooterDialog();
      dlg.showDialog(snapShotFrame);
    }
  }
);
  Toolkit.getDefaultToolkit().addAWTEventListener(new AWTEventListener(){
    public void eventDispatched(    AWTEvent event){
      if (event instanceof KeyEvent) {
        KeyEvent keyEvent=(KeyEvent)event;
        if (keyEvent.getID() == KeyEvent.KEY_RELEASED && keyEvent.getKeyCode() == KeyEvent.VK_PRINTSCREEN) {
          SnapShooterDialog dlg=new SnapShooterDialog();
          dlg.showDialog(snapShotFrame);
        }
      }
    }
  }
,AWTEvent.KEY_EVENT_MASK);
  snapShotFrame.setContentPane(takeSnapShotButton);
  snapShotFrame.pack();
  snapShotFrame.setVisible(true);
  String mainClass=args[0];
  String[] parms=new String[args.length - 1];
  for (int j=1; j < args.length; j++) {
    parms[j - 1]=args[j];
  }
  Method m=Class.forName(mainClass).getMethod("main",new Class[]{parms.getClass()});
  try {
    ensureAccess(m);
    m.invoke(null,new Object[]{parms});
  }
 catch (  InvocationTargetException ite) {
    throw ite.getTargetException();
  }
}
