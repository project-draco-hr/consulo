{
  if (!scope.isPhysical()) {
    manager.beforeChange(false);
    return;
  }
  PsiTreeChangeEventImpl event=new PsiTreeChangeEventImpl(manager);
  event.setParent(scope);
  event.setFile(scope.getContainingFile());
  TextRange range=scope.getTextRange();
  event.setOffset(range == null ? 0 : range.getStartOffset());
  event.setOldLength(scope.getTextLength());
  event.setGenericChange(isGenericChange);
  manager.beforeChildrenChange(event);
}
