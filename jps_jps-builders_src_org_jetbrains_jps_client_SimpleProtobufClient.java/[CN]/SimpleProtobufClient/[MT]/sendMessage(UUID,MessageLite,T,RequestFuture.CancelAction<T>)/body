{
  final RequestFuture<T> requestFuture=new RequestFuture<T>(responseHandler,messageId,cancelAction);
  myMessageHandler.registerFuture(messageId,requestFuture);
  final Channel channel=myConnectFuture.getChannel();
  if (channel.isConnected()) {
    Channels.write(channel,message).addListener(new ChannelFutureListener(){
      public void operationComplete(      ChannelFuture future) throws Exception {
        if (!future.isSuccess()) {
          notifyTerminated(messageId,requestFuture,responseHandler);
        }
      }
    }
);
  }
 else {
    notifyTerminated(messageId,requestFuture,responseHandler);
  }
  return requestFuture;
}
