{
  final SingleInspectionProfilePanel selectedPanel=getSelectedPanel();
  for (  final Profile inspectionProfile : myPanels.keySet()) {
    if (myDeletedProfiles.remove(inspectionProfile)) {
      deleteProfile(getProfilePanel(inspectionProfile).getSelectedProfile());
    }
 else {
      final SingleInspectionProfilePanel panel=getProfilePanel(inspectionProfile);
      panel.apply();
      if (panel == selectedPanel) {
        applyRootProfile(panel.getCurrentProfileName(),panel.isProfileShared());
      }
    }
  }
  doReset();
}
