{
  final DebuggerContextImpl debuggerContext=DebuggerAction.getDebuggerContext(e.getDataContext());
  final DebuggerTreeNodeImpl[] nodes=DebuggerAction.getSelectedNodes(e.getDataContext());
  LOG.assertTrue(debuggerContext != null && nodes != null);
  debuggerContext.getDebugProcess().getManagerThread().invokeLater(new DebuggerContextCommandImpl(debuggerContext){
    public void threadAction(){
      for (int i=0; i < nodes.length; i++) {
        final DebuggerTreeNodeImpl node=nodes[i];
        if (node.getDescriptor() instanceof ValueDescriptorImpl) {
          final ValueDescriptorImpl valueDescriptor=(ValueDescriptorImpl)node.getDescriptor();
          if (state) {
            valueDescriptor.setRenderer(myNodeRenderer);
            node.calcRepresentation();
          }
        }
      }
    }
  }
);
}
