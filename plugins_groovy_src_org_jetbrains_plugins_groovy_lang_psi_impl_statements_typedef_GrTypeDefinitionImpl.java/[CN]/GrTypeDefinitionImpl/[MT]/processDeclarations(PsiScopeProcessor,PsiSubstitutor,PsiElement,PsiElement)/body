{
  for (  final GrTypeParameter typeParameter : getTypeParameters()) {
    if (!ResolveUtil.processElement(processor,typeParameter))     return false;
  }
  NameHint nameHint=processor.getHint(NameHint.class);
  String name=nameHint == null ? null : nameHint.getName();
  ClassHint classHint=processor.getHint(ClassHint.class);
  if (classHint == null || classHint.shouldProcess(ClassHint.ResolveKind.PROPERTY)) {
    Map<String,CandidateInfo> fieldsMap=CollectClassMembersUtil.getAllFields(this);
    if (name != null) {
      CandidateInfo fieldInfo=fieldsMap.get(name);
      if (fieldInfo != null) {
        final PsiElement element=fieldInfo.getElement();
        if (!isSameDeclaration(place,element)) {
          if (!processor.execute(element,fieldInfo.getSubstitutor()))           return false;
        }
      }
    }
 else {
      for (      CandidateInfo info : fieldsMap.values()) {
        final PsiElement element=info.getElement();
        if (!isSameDeclaration(place,element)) {
          if (!processor.execute(element,info.getSubstitutor()))           return false;
        }
      }
    }
  }
  if (classHint == null || classHint.shouldProcess(ClassHint.ResolveKind.METHOD)) {
    Map<String,List<CandidateInfo>> methodsMap=CollectClassMembersUtil.getAllMethods(this);
    boolean isPlaceGroovy=place.getLanguage() == GroovyFileType.GROOVY_FILE_TYPE.getLanguage();
    if (name == null) {
      for (      List<CandidateInfo> list : methodsMap.values()) {
        for (        CandidateInfo info : list) {
          PsiMethod method=(PsiMethod)info.getElement();
          if (!isSameDeclaration(place,method) && isMethodVisible(isPlaceGroovy,method) && !processor.execute(method,PsiSubstitutor.EMPTY))           return false;
        }
      }
    }
 else {
      List<CandidateInfo> byName=methodsMap.get(name);
      if (byName != null) {
        for (        CandidateInfo info : byName) {
          PsiMethod method=(PsiMethod)info.getElement();
          if (!isSameDeclaration(place,method) && isMethodVisible(isPlaceGroovy,method) && !processor.execute(method,PsiSubstitutor.EMPTY))           return false;
        }
      }
      final boolean isGetter=name.startsWith("get");
      final boolean isSetter=name.startsWith("set");
      if (isGetter || isSetter) {
        final String propName=StringUtil.decapitalize(name.substring(3));
        if (propName.length() > 0) {
          Map<String,CandidateInfo> fieldsMap=CollectClassMembersUtil.getAllFields(this);
          final CandidateInfo info=fieldsMap.get(propName);
          if (info != null) {
            final PsiElement field=info.getElement();
            if (field instanceof GrField && ((GrField)field).isProperty() && isPropertyReference(place,(PsiField)field,isGetter)) {
              if (!processor.execute(field,info.getSubstitutor()))               return false;
            }
          }
        }
      }
    }
  }
  return true;
}
