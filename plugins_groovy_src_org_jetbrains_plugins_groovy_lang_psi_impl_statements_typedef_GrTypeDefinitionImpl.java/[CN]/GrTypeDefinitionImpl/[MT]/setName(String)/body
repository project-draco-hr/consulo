{
  boolean renameFile=isRenameFileOnClassRenaming();
  PsiImplUtil.setName(name,getNameIdentifierGroovy());
  if (renameFile) {
    final GroovyFileBase file=(GroovyFileBase)getContainingFile();
    final VirtualFile virtualFile=file.getVirtualFile();
    final String ext;
    if (virtualFile != null) {
      ext=virtualFile.getExtension();
    }
 else {
      ext=GroovyFileType.GROOVY_FILE_TYPE.getDefaultExtension();
    }
    file.setName(name + "." + ext);
  }
  return this;
}
