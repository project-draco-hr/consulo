{
  PsiElement parent=getParent();
  if (parent instanceof GroovyFileImpl) {
    GroovyFileImpl file=(GroovyFileImpl)parent;
    if (file.getTypeDefinitions().length == 1 && !file.isScript()) {
      file.delete();
    }
 else {
      ASTNode astNode=file.getNode();
      if (astNode != null) {
        astNode.removeChild(getNode());
      }
    }
    return;
  }
  throw new IncorrectOperationException("Invalid type definition");
}
