{
  PsiElement parent=getParent();
  if (parent instanceof GroovyFileImpl) {
    GroovyFileImpl file=(GroovyFileImpl)parent;
    if (file.getTypeDefinitions().length == 1 && !file.isScript()) {
      file.delete();
    }
 else {
      file.getNode().removeChild(getNode());
    }
    return;
  }
  throw new IncorrectOperationException("Invalid type definition");
}
