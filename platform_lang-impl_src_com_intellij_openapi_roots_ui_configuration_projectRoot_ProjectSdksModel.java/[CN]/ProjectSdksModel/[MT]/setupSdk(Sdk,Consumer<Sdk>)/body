{
  String home=newJdk.getHomePath();
  SdkType sdkType=(SdkType)newJdk.getSdkType();
  if (!sdkType.setupSdkPaths(newJdk,this))   return;
  if (newJdk.getVersionString() == null) {
    Messages.showMessageDialog(ProjectBundle.message("sdk.java.corrupt.error",home),ProjectBundle.message("sdk.java.corrupt.title"),Messages.getErrorIcon());
  }
  doAdd(newJdk,callback);
}
