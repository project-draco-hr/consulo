{
  String[] errorString=new String[1];
  if (!canApply(errorString,configurable)) {
    throw new ConfigurationException(errorString[0]);
  }
  final Sdk[] allFromTable=ProjectJdkTable.getInstance().getAllJdks();
  final ArrayList<Sdk> itemsInTable=new ArrayList<Sdk>();
  ApplicationManager.getApplication().runWriteAction(new Runnable(){
    @Override public void run(){
      final ProjectJdkTable jdkTable=ProjectJdkTable.getInstance();
      for (      final Sdk tableItem : allFromTable) {
        if (myProjectSdks.containsKey(tableItem)) {
          itemsInTable.add(tableItem);
        }
 else {
          jdkTable.removeJdk(tableItem);
        }
      }
    }
  }
);
  ApplicationManager.getApplication().runWriteAction(new Runnable(){
    @Override public void run(){
      final ProjectJdkTable jdkTable=ProjectJdkTable.getInstance();
      for (      Sdk originalJdk : itemsInTable) {
        final Sdk modifiedJdk=myProjectSdks.get(originalJdk);
        LOG.assertTrue(modifiedJdk != null);
        jdkTable.updateJdk(originalJdk,modifiedJdk);
      }
      final Sdk[] allJdks=jdkTable.getAllJdks();
      for (      final Sdk projectJdk : myProjectSdks.keySet()) {
        LOG.assertTrue(projectJdk != null);
        if (ArrayUtilRt.find(allJdks,projectJdk) == -1) {
          jdkTable.addJdk(projectJdk);
        }
      }
    }
  }
);
  myModified=false;
}
