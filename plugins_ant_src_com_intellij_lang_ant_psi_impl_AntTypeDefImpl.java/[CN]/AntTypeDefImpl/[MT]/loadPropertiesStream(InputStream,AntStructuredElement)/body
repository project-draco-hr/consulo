{
  final StringBuilder builder=StringBuilderSpinAllocator.alloc();
  try {
    int nextByte;
    while ((nextByte=propStream.read()) >= 0) {
      builder.append((char)nextByte);
    }
    propStream.close();
    final PropertiesFile propFile=(PropertiesFile)createDummyFile("dummy.properties",StdFileTypes.PROPERTIES,builder,element.getManager());
    final AntStructuredElement parent=getAntParent();
    final AntFile antFile=parent != null ? parent.getAntFile() : null;
    for (    final IProperty property : propFile.getProperties()) {
      loadClass(antFile,property.getValue(),property.getUnescapedKey(),getUri(),getAntParent());
    }
  }
 catch (  IOException e) {
    if (element instanceof AntTypeDefImpl) {
      final AntTypeDefImpl td=((AntTypeDefImpl)element);
      td.myClassesLoaded=false;
      td.myLocalizedError=e.getLocalizedMessage();
    }
  }
 finally {
    StringBuilderSpinAllocator.dispose(builder);
  }
}
