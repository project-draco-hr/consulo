{
synchronized (PsiLock.LOCK) {
    super.clearCaches();
    if (myNewDefinitions != null) {
      final AntStructuredElement parent=getAntParent();
      if (parent != null) {
        for (        final AntTypeDefinition def : myNewDefinitions) {
          parent.unregisterCustomType(def);
        }
      }
      myNewDefinitions=null;
      myClassesLoaded=false;
    }
    final AntFile file=getAntFile();
    if (file != null) {
      file.clearCaches();
    }
  }
}
