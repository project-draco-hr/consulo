{
synchronized (myDisposeLock) {
    if (myIsDisposed)     return null;
    ContentManager contentManager=getContentManager();
    if (contentManager == null) {
      return null;
    }
    final UpdateInfoTree updateInfoTree=new UpdateInfoTree(contentManager,myProject,updatedFiles,displayActionName,actionInfo);
    Content content=ContentFactory.SERVICE.getInstance().createContent(updateInfoTree,VcsBundle.message("toolwindow.title.update.action.info",displayActionName),true);
    Disposer.register(content,updateInfoTree);
    ContentsUtil.addOrReplaceContent(contentManager,content,true);
    ToolWindowManager.getInstance(myProject).getToolWindow(ToolWindowId.VCS).activate(null);
    updateInfoTree.expandRootChildren();
    return updateInfoTree;
  }
}
