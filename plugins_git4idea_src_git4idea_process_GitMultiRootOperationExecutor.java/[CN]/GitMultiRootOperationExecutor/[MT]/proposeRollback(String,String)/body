{
  final AtomicBoolean ok=new AtomicBoolean();
  UIUtil.invokeAndWaitIfNeeded(new Runnable(){
    @Override public void run(){
      StringBuilder fullmsg=new StringBuilder(message);
      fullmsg.append("\n\nThe action however succeeded for the following repositories: \n").append(joinRepositoryUrls(mySuccessfulRepositories,"\n")).append("\nYou may rollback the action on them, otherwise branches will diverge");
      ok.set(Messages.OK == Messages.showYesNoDialog(myProject,fullmsg.toString(),title,"Rollback","Don't rollback",Messages.getErrorIcon()));
    }
  }
);
  return ok.get();
}
