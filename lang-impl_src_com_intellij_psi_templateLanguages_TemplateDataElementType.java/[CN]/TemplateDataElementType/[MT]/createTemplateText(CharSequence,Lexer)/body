{
  StringBuilder result=new StringBuilder(buf.length());
  lexer.start(buf);
  while (lexer.getTokenType() != null) {
    if (lexer.getTokenType() == myTemplateElementType) {
      result.append(buf,lexer.getTokenStart(),lexer.getTokenEnd());
    }
    lexer.advance();
  }
  return result;
}
