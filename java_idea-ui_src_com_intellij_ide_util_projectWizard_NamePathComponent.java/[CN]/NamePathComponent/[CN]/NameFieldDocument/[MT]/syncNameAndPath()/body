{
  if (isNamePathSyncEnabled() && (myForceSync || !myIsPathChangedByUser)) {
    try {
      setPathNameSyncEnabled(false);
      final String name=getText(0,getLength());
      final String path=myTfPath.getText().trim();
      final int lastSeparatorIndex=path.lastIndexOf(File.separator);
      if (lastSeparatorIndex >= 0) {
        setPath(path.substring(0,lastSeparatorIndex + 1) + name);
      }
    }
 catch (    BadLocationException e) {
      LOG.error(e);
    }
 finally {
      setPathNameSyncEnabled(true);
    }
  }
}
