{
  if (myTools != null) {
    for (    ScopeToolState state : myTools) {
      final NamedScope namedScope=state.getScope();
      final Element scopeElement=new Element("scope");
      scopeElement.setAttribute("name",namedScope.getName());
      scopeElement.setAttribute(InspectionProfileImpl.LEVEL_TAG,state.getLevel().toString());
      scopeElement.setAttribute(InspectionProfileImpl.ENABLED_TAG,Boolean.toString(state.isEnabled()));
      InspectionProfileEntry InspectionProfileEntry=state.getTool();
      InspectionProfileEntry.writeSettings(scopeElement);
      inspectionElement.addContent(scopeElement);
    }
  }
  inspectionElement.setAttribute(InspectionProfileImpl.ENABLED_TAG,Boolean.toString(isEnabled()));
  inspectionElement.setAttribute(InspectionProfileImpl.LEVEL_TAG,getLevel().toString());
  inspectionElement.setAttribute(ENABLED_TAG,Boolean.toString(myDefaultState.isEnabled()));
  myDefaultState.getTool().writeSettings(inspectionElement);
}
