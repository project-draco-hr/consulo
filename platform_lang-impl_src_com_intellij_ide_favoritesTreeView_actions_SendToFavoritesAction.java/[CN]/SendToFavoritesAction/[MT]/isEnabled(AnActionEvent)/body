{
  Project project=e.getProject();
  if (project == null) {
    return false;
  }
  FavoritesTreeNodeDescriptor[] roots=FavoritesTreeViewPanel.CONTEXT_FAVORITES_ROOTS_DATA_KEY.getData(e.getDataContext());
  if (roots == null || roots.length == 0) {
    return false;
  }
  for (  FavoritesTreeNodeDescriptor root : roots) {
    FavoritesTreeNodeDescriptor listNode=root.getFavoritesRoot();
    if (listNode == null || listNode == root || !(listNode.getElement() instanceof FavoritesListNode))     return false;
  }
  return true;
}
