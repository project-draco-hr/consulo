{
  final DataContext dataContext=e.getDataContext();
  Project project=PlatformDataKeys.PROJECT.getData(dataContext);
  if (project == null) {
    e.getPresentation().setEnabled(false);
    return;
  }
  FavoritesTreeNodeDescriptor[] roots=FavoritesTreeViewPanel.CONTEXT_FAVORITES_ROOTS_DATA_KEY.getData(dataContext);
  if (roots == null || roots.length == 0) {
    e.getPresentation().setEnabled(false);
    return;
  }
  String listName=FavoritesTreeViewPanel.FAVORITES_LIST_NAME_DATA_KEY.getData(dataContext);
  e.getPresentation().setEnabled(listName != null);
}
