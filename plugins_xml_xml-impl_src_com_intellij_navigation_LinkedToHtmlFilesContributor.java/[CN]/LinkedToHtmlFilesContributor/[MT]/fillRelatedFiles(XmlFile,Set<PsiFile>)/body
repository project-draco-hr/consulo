{
  HtmlUtil.processLinks(xmlFile,new Processor<XmlTag>(){
    @Override public boolean process(    XmlTag tag){
      final XmlAttribute attribute=tag.getAttribute("href");
      if (attribute == null) {
        return true;
      }
      final XmlAttributeValue link=attribute.getValueElement();
      if (link == null) {
        return true;
      }
      for (      PsiReference reference : link.getReferences()) {
        if (reference instanceof PsiPolyVariantReference) {
          final ResolveResult[] results=((PsiPolyVariantReference)reference).multiResolve(false);
          for (          ResolveResult result : results) {
            final PsiElement resolvedElement=result.getElement();
            if (resolvedElement instanceof PsiFile) {
              resultSet.add((PsiFile)resolvedElement);
            }
          }
        }
 else {
          final PsiElement resolvedElement=reference.resolve();
          if (resolvedElement instanceof PsiFile) {
            resultSet.add((PsiFile)resolvedElement);
          }
        }
      }
      return true;
    }
  }
);
}
