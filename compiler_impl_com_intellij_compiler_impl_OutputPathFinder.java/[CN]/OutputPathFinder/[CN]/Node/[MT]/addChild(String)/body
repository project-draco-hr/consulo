{
  if (myChildren == null) {
    final Node node=new Node(childName);
    myChildren=node;
    return node;
  }
  final Map<String,Node> map;
  if (myChildren instanceof Node) {
    final Node existingChild=(Node)myChildren;
    myChildren=map=new HashMap<String,Node>();
    map.put(existingChild.getName(),existingChild);
  }
 else {
    map=(Map<String,Node>)myChildren;
  }
  Node node=map.get(childName);
  if (node == null) {
    map.put(childName,node=new Node(childName));
  }
  return node;
}
