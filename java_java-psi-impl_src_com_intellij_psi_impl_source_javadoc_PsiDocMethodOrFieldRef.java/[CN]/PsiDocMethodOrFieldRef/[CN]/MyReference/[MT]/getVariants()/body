{
  final List<PsiModifierListOwner> vars=new ArrayList<PsiModifierListOwner>();
  PsiClass scope=getScope();
  while (scope != null) {
    ContainerUtil.addAll(vars,getAllMethods(scope,PsiDocMethodOrFieldRef.this));
    ContainerUtil.addAll(vars,getAllVariables(scope,PsiDocMethodOrFieldRef.this));
    scope=scope.getContainingClass();
  }
  return vars.toArray(new PsiModifierListOwner[vars.size()]);
}
