{
  int start=editor.getSelectionModel().getSelectionStart();
  int end=editor.getSelectionModel().getSelectionEnd();
  while (file.findElementAt(start) instanceof PsiWhiteSpace || (file.findElementAt(start) instanceof PsiComment && trimComments) || (file.findElementAt(start) != null && GroovyTokenTypes.mNLS.equals(file.findElementAt(start).getNode().getElementType()))) {
    start++;
  }
  while (file.findElementAt(end - 1) instanceof PsiWhiteSpace || (file.findElementAt(end - 1) instanceof PsiComment && trimComments) || (file.findElementAt(end - 1) != null && (GroovyTokenTypes.mNLS.equals(file.findElementAt(end - 1).getNode().getElementType()) || GroovyTokenTypes.mSEMI.equals(file.findElementAt(end - 1).getNode().getElementType())))) {
    end--;
  }
  editor.getSelectionModel().setSelection(start,end);
}
