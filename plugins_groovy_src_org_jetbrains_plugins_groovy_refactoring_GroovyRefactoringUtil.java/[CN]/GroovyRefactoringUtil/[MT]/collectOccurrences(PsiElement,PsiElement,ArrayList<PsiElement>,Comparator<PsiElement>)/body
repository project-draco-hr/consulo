{
  if (scope.equals(expr)) {
    acc.add(expr);
    return;
  }
  for (  PsiElement child : scope.getChildren()) {
    if (!(child instanceof GrTypeDefinition) && !(child instanceof GrMethod && scope instanceof GroovyFileBase)) {
      if (PsiEquivalenceUtil.areElementsEquivalent(child,expr,comparator,false)) {
        acc.add(child);
      }
 else {
        collectOccurrences(expr,child,acc,comparator);
      }
    }
  }
}
