{
  if (element instanceof GroovyFile) {
    GroovyFile file=(GroovyFile)element;
    final GrTypeDefinition[] typeDefinitions=file.getTypeDefinitions();
    if (typeDefinitions.length == 1) {
      IconDescriptorUpdaters.processExistingDescriptor(iconDescriptor,typeDefinitions[0],flags);
    }
 else {
      iconDescriptor.setMainIcon(GroovyScriptTypeDetector.getScriptType(file).getScriptIcon());
    }
  }
 else   if (element instanceof GrTypeDefinition) {
    final GrTypeDefinition psiClass=(GrTypeDefinition)element;
    if (psiClass.isEnum()) {
      iconDescriptor.setMainIcon(JetgroovyIcons.Groovy.Enum);
    }
 else     if (psiClass.isAnnotationType()) {
      iconDescriptor.setMainIcon(JetgroovyIcons.Groovy.AnnotationType);
    }
 else     if (psiClass.isInterface()) {
      iconDescriptor.setMainIcon(JetgroovyIcons.Groovy.Interface);
    }
 else {
      final boolean abst=psiClass.hasModifierProperty(PsiModifier.ABSTRACT);
      iconDescriptor.setMainIcon(abst ? JetgroovyIcons.Groovy.AbstractClass : JetgroovyIcons.Groovy.Class);
    }
  }
}
