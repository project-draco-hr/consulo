{
  f1=new TestVirtualFile(null,null);
  f2=new TestVirtualFile(null,null);
  expect(fi.isInContent(f1)).andReturn(true);
  expect(fi.isInContent(f2)).andReturn(false);
  replay(fi);
  expect(tm.getFileTypeByFile((VirtualFile)anyObject())).andStubReturn(binary);
  replay(tm);
  FileFilter f=new FileFilter(fi,tm);
  assertTrue(f.isFileAllowed(f1));
  assertFalse(f.isFileAllowed(f2));
}
