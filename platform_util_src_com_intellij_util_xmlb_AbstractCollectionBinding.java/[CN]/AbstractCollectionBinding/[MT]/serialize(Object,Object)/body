{
  Iterable iterable=getIterable(o);
  if (iterable == null)   return context;
  final String tagName=getTagName(o);
  if (tagName != null) {
    Element result=new Element(tagName);
    for (    Object e : iterable) {
      if (e == null) {
        throw new XmlSerializationException("Collection " + myAccessor + " contains 'null' object");
      }
      final Binding binding=getElementBinding(e.getClass());
      result.addContent((Content)binding.serialize(e,result));
    }
    return result;
  }
 else {
    List<Object> result=new ArrayList<Object>();
    for (    Object e : iterable) {
      final Binding binding=getElementBinding(e.getClass());
      result.add(binding.serialize(e,result));
    }
    return result;
  }
}
