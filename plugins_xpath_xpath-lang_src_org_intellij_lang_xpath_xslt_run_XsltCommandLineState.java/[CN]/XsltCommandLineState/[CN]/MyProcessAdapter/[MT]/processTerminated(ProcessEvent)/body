{
  if (myXsltRunConfiguration.getOutputType() == XsltRunConfiguration.OutputType.FILE) {
    Runnable runnable=new Runnable(){
      public void run(){
        Runnable runnable=new Runnable(){
          public void run(){
            if (event.getExitCode() == 0) {
              if (myXsltRunConfiguration.myOpenInBrowser) {
                BrowserUtil.launchBrowser(myXsltRunConfiguration.myOutputFile);
              }
              if (myXsltRunConfiguration.myOpenOutputFile) {
                final String url=VfsUtil.pathToUrl(myXsltRunConfiguration.myOutputFile);
                final VirtualFile fileByUrl=VirtualFileManager.getInstance().refreshAndFindFileByUrl(url.replace(File.separatorChar,'/'));
                if (fileByUrl != null) {
                  fileByUrl.refresh(false,false);
                  new OpenFileDescriptor(myXsltRunConfiguration.getProject(),fileByUrl).navigate(true);
                  return;
                }
              }
              VirtualFileManager.getInstance().refresh(true);
            }
          }
        }
;
        ApplicationManager.getApplication().runWriteAction(runnable);
      }
    }
;
    SwingUtilities.invokeLater(runnable);
  }
}
