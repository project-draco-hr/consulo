{
  final Description description=failure.getDescription();
  final Throwable throwable=failure.getException();
  if (throwable instanceof AssertionError || throwable.getCause() instanceof AssertionError) {
    doAddFailure(description,throwable);
  }
 else {
    if (description.equals(myCurrentTest)) {
      stopMeter(description);
    }
    prepareDefectPacket(description,throwable).send();
  }
}
