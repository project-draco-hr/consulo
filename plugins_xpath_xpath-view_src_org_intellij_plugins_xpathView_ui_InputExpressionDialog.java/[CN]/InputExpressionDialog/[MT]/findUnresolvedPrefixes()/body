{
  final Set<String> prefixes=new HashSet<String>();
  myXPathFile.accept(new PsiRecursiveElementVisitor(){
    public void visitElement(    PsiElement element){
      if (element instanceof QNameElement) {
        final PsiReference[] references=element.getReferences();
        for (        PsiReference reference : references) {
          if (reference instanceof PrefixReference) {
            final PrefixReference prefixReference=((PrefixReference)reference);
            if (prefixReference.isUnresolved()) {
              prefixes.add(prefixReference.getPrefix());
            }
          }
        }
      }
      super.visitElement(element);
    }
  }
);
  return prefixes;
}
