{
  PsiElement lastParent=null;
  PsiElement run=place;
  while (run != null) {
    if (!run.processDeclarations(processor,PsiSubstitutor.EMPTY,lastParent,place))     return false;
    lastParent=run;
    run=run.getParent();
    if (run instanceof GrGspDeclarationHolder) {
      while (run != null && !(run instanceof GrGspClass)) {
        run=run.getParent();
        lastParent=run;
      }
    }
  }
  return true;
}
