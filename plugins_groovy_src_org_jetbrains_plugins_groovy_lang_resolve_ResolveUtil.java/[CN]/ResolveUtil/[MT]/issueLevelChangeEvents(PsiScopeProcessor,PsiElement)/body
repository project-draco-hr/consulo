{
  processor.handleEvent(JavaScopeProcessorEvent.CHANGE_LEVEL,null);
  if (run instanceof GrClosableBlock && GrClosableBlock.OWNER_NAME.equals(getNameHint(processor)) || run instanceof PsiClass && !(run instanceof PsiAnonymousClass) || run instanceof GrMethod && run.getParent() instanceof GroovyFile) {
    processor.handleEvent(DECLARATION_SCOPE_PASSED,run);
  }
}
