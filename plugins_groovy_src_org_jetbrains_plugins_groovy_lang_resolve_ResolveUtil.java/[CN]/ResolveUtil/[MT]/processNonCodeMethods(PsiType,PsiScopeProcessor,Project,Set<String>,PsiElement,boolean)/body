{
  String qName=rawCanonicalText(type);
  if (qName != null) {
    if (visited.contains(qName))     return true;
    visited.add(qName);
    for (    PsiMethod defaultMethod : GroovyPsiManager.getInstance(project).getDefaultMethods(qName)) {
      if (!processElement(processor,defaultMethod))       return false;
    }
    for (    PsiMethod method : DynamicManager.getInstance(project).getMethods(qName)) {
      if (!processElement(processor,method))       return false;
    }
    for (    PsiVariable var : DynamicManager.getInstance(project).getProperties(qName)) {
      if (!processElement(processor,var))       return false;
    }
    for (    NonCodeMembersProcessor membersProcessor : NonCodeMembersProcessor.EP_NAME.getExtensions()) {
      if (!membersProcessor.processNonCodeMembers(type,processor,place,forCompletion))       return false;
    }
    if (type instanceof PsiArrayType) {
      PsiElementFactory factory=JavaPsiFacade.getInstance(project).getElementFactory();
      PsiClassType t=factory.createTypeByFQClassName("java.lang.Object",GlobalSearchScope.allScope(project));
      if (!processNonCodeMethods(t,processor,project,visited,place,forCompletion))       return false;
      t=factory.createTypeByFQClassName("java.lang.Comparable",GlobalSearchScope.allScope(project));
      if (!processNonCodeMethods(t,processor,project,visited,place,forCompletion))       return false;
      t=factory.createTypeByFQClassName("java.io.Serializable",GlobalSearchScope.allScope(project));
      if (!processNonCodeMethods(t,processor,project,visited,place,forCompletion))       return false;
    }
 else {
      for (      PsiType superType : type.getSuperTypes()) {
        if (!processNonCodeMethods(TypeConversionUtil.erasure(superType),processor,project,visited,place,forCompletion)) {
          return false;
        }
      }
    }
  }
  return true;
}
