{
  if (!(place instanceof GrMethodCallExpression))   return false;
  final GrMethodCallExpression call=(GrMethodCallExpression)place;
  final GrExpression invoked=call.getInvokedExpression();
  if (!(invoked instanceof GrReferenceExpression) || !"use".equals(((GrReferenceExpression)invoked).getReferenceName()))   return false;
  final GrClosableBlock[] closures=call.getClosureArguments();
  if (closures.length != 1 || !closures[0].equals(prev))   return false;
  if (!useCategoryClass(call))   return false;
  final GrArgumentList argList=call.getArgumentList();
  if (argList == null)   return false;
  result.set(Boolean.TRUE);
  final GrExpression[] args=argList.getExpressionArguments();
  for (  GrExpression arg : args) {
    if (arg instanceof GrReferenceExpression) {
      final PsiElement resolved=((GrReferenceExpression)arg).resolve();
      if (resolved instanceof PsiClass) {
        if (!resolved.processDeclarations(processor,ResolveState.initial().put(ResolverProcessor.RESOLVE_CONTEXT,call),null,place)) {
          result.set(Boolean.FALSE);
        }
      }
    }
  }
  return true;
}
