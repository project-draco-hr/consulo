{
  boolean gpp=GppTypeConverter.hasTypedContext(place);
  if (gpp) {
    if (!processUseAnnotation(place,processor,state))     return false;
  }
  boolean inCodeBlock=true;
  PsiElement run=place;
  PsiElement lastParent=null;
  while (run != null) {
    if (run instanceof GrMember) {
      inCodeBlock=false;
    }
    if (run instanceof GrClosableBlock) {
      if (inCodeBlock && !GdkMethodUtil.categoryIteration((GrClosableBlock)run,processor,state))       return false;
      PsiClass superClass=getLiteralSuperClass((GrClosableBlock)run);
      if (superClass != null && !GdkMethodUtil.processCategoryMethods(run,processor,state,superClass))       return false;
    }
    if (gpp && run instanceof GrTypeDefinition) {
      final GrTypeDefinition typeDefinition=(GrTypeDefinition)run;
      state=state.put(ResolverProcessor.RESOLVE_CONTEXT,typeDefinition);
      if (!GdkMethodUtil.processCategoryMethods(typeDefinition,processor,state,typeDefinition))       return false;
    }
    if (run instanceof GrStatementOwner) {
      if (!GdkMethodUtil.processMixinToMetaclass((GrStatementOwner)run,processor,state,lastParent,place))       return false;
    }
    lastParent=run;
    run=run.getContext();
  }
  return true;
}
