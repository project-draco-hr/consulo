{
  String name=templateName;
  String extension=templatesManager.myTypeManager.getExtension(name);
  if (extension.length() > 0) {
    name=name.substring(0,name.length() - extension.length() - 1);
  }
  FileTemplate template=templatesManager.getTemplate(name);
  if (template != null) {
    if (extension.equals(template.getExtension())) {
      return template;
    }
  }
 else {
    if (ApplicationManager.getApplication().isUnitTestMode() && templateName.endsWith("ForTest"))     return null;
    String message=templatesManager.templateNotFoundMessage(templateName);
    LOG.error(message);
  }
  return null;
}
