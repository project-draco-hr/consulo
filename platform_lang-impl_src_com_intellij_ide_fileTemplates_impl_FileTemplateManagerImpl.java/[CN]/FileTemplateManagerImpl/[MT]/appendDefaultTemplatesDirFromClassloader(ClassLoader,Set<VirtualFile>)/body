{
  try {
    Enumeration systemResources=classLoader.getResources(DEFAULT_TEMPLATES_TOP_DIR);
    if (systemResources != null && systemResources.hasMoreElements()) {
      Set<URL> urls=new HashSet<URL>();
      while (systemResources.hasMoreElements()) {
        URL nextURL=(URL)systemResources.nextElement();
        if (!urls.contains(nextURL)) {
          urls.add(nextURL);
          String vfUrl=VfsUtil.convertFromUrl(nextURL);
          VirtualFile dir=VirtualFileManager.getInstance().refreshAndFindFileByUrl(vfUrl);
          if (dir == null) {
            LOG.error("Cannot find file by URL: " + nextURL);
          }
 else {
            if (LOG.isDebugEnabled()) {
              LOG.debug("Top directory: " + dir.getPresentableUrl());
            }
            dirList.add(dir);
          }
        }
      }
    }
  }
 catch (  IOException e) {
    LOG.error(e);
  }
}
