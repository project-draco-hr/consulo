{
  invalidate();
  ensureTemplatesAreLoaded();
synchronized (LOCK) {
    LOG.assertTrue(name.length() > 0);
    if (myTemplates.findByName(name) != null) {
      LOG.error("Duplicate template " + name);
    }
    FileTemplate fileTemplate=new FileTemplateImpl("",name,extension);
    myTemplates.addTemplate(fileTemplate);
    return fileTemplate;
  }
}
