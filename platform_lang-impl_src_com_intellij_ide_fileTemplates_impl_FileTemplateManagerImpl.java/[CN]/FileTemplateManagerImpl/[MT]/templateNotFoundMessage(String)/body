{
  Collection<VirtualFile> defaultTemplates=getDefaultTemplates();
  @NonNls String message="Unable to find template '" + templateName + "' in "+ this+ "\n   Default templates are: "+ toString(defaultTemplates);
  message+="\n   Default template dir: '" + myDefaultTemplatesDir + "'";
  for (  VirtualFile topDir : getTopTemplatesDir()) {
    VirtualFile parentDir=myDefaultTemplatesDir.equals(".") ? topDir : topDir.findChild(myDefaultTemplatesDir);
    if (parentDir == null) {
      message+="\n   No templates in '" + topDir.getPath() + "'";
    }
 else {
      message+="\n   " + parentDir.getPath() + ": "+ toString(listDir(parentDir));
    }
  }
  message+="\n   Deleted templates: " + myDeletedTemplatesManager.DELETED_DEFAULT_TEMPLATES;
  return message;
}
