{
  ensureTemplatesAreLoaded();
synchronized (LOCK) {
    myTemplates.removeTemplate(template);
    try {
      ((FileTemplateImpl)template).removeFromDisk();
    }
 catch (    Exception e) {
      LOG.error("Unable to remove template",e);
    }
    if (!fromDiskOnly) {
      myDeletedTemplatesManager.addName(template.getName() + "." + template.getExtension()+ "."+ DEFAULT_TEMPLATE_EXTENSION);
    }
    invalidate();
  }
}
