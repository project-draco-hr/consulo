{
  final File configRoot=manager.getConfigRoot(false);
  File[] configFiles=configRoot.listFiles();
  if (configFiles == null) {
    return;
  }
  for (  File file : configFiles) {
    if (file.isDirectory() || myTypeManager.isFileIgnored(file.getName()) || file.isHidden()) {
      continue;
    }
    String name=file.getName();
    if (!name.endsWith(FTManager.TEMPLATE_EXTENSION_SUFFIX)) {
      continue;
    }
    name=name.substring(0,name.length() - FTManager.TEMPLATE_EXTENSION_SUFFIX.length());
    final String extension=myTypeManager.getExtension(name);
    name=name.substring(0,name.length() - extension.length() - 1);
    if (name.length() == 0) {
      continue;
    }
    try {
      final String text=FileUtil.loadFile(file,FTManager.CONTENT_ENCODING);
      manager.addTemplate(name,extension).setText(text);
    }
 catch (    IOException e) {
      LOG.error(e);
    }
  }
}
