{
  @NonNls String extension=myTypeManager.getExtension(name);
  String nameWithoutExtension=StringUtil.trimEnd(name,"." + extension);
  if (extension.length() == 0) {
    extension="java";
  }
  VirtualFile file=getDefaultTemplate(nameWithoutExtension,extension);
  if (file == null) {
    String message="";
    for (    FileTemplateManagerImpl child : ArrayUtil.append(myChildren,this)) {
      message+=child.templateNotFoundMessage(name) + "\n";
    }
    LOG.error(message);
    return null;
  }
  return new FileTemplateImpl(file,nameWithoutExtension,extension);
}
