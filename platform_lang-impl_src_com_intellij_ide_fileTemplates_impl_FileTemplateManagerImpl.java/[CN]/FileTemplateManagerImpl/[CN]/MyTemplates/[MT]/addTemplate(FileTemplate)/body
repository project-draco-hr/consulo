{
  String newName=newTemplate.getName();
  if (ApplicationManager.getApplication().isUnitTestMode()) {
    if (newName.endsWith("ForTest")) {
      throw new RuntimeException("Do not register *ForTest templates in tests!");
    }
  }
  for (  FileTemplate template : myTemplatesList) {
    if (template == newTemplate) {
      return;
    }
    if (template.getName().compareToIgnoreCase(newName) > 0) {
      myTemplatesList.add(myTemplatesList.indexOf(template),newTemplate);
      return;
    }
  }
  myTemplatesList.add(newTemplate);
}
