{
  if (application.isUnitTestMode())   return;
  File[] files=getUserTemplateFiles();
  if (files == null) {
    return;
  }
  try {
    for (int i=0; i < files.length; i++) {
      String name=files[i].getName();
      if (!name.toLowerCase().endsWith(".xml"))       continue;
      readTemplateFile(files[i]);
    }
    for (int i=0; i < DEFAULT_TEMPLATES.length; i++) {
      String defTemplate=DEFAULT_TEMPLATES[i];
      String templateName=getDefaultTemplateName(defTemplate);
      readDefTemplateFile(DecodeDefaultsUtil.getDefaultsInputStream(this,defTemplate),templateName);
    }
  }
 catch (  Exception e) {
    LOG.error(e);
  }
}
