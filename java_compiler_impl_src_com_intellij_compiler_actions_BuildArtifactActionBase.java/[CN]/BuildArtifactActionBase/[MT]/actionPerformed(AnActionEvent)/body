{
  final Project project=e.getData(PlatformDataKeys.PROJECT);
  if (project == null)   return;
  final List<Artifact> artifacts=getArtifactWithOutputPaths(project);
  if (artifacts.isEmpty())   return;
  if (artifacts.size() == 1) {
    performAction(project,artifacts);
    return;
  }
  final ChooseArtifactsDialog dialog=new ChooseArtifactsDialog(project,artifacts,"Choose Artifacts to " + myActionName,getDescription());
  final List<Artifact> initialSelection=ArtifactsWorkspaceSettings.getInstance(project).getArtifactsToBuild();
  if (!initialSelection.isEmpty()) {
    dialog.selectElements(initialSelection);
  }
  dialog.show();
  if (dialog.isOK()) {
    final List<Artifact> selected=dialog.getChosenElements();
    ArtifactsWorkspaceSettings.getInstance(project).setArtifactsToBuild(selected);
    performAction(project,selected);
  }
}
