{
  java.util.HashSet<XBreakpointGroupingRule> rules=new java.util.HashSet<XBreakpointGroupingRule>();
  XBreakpointsDialogState settings=((XBreakpointManagerImpl)getBreakpointManager()).getBreakpointsDialogSettings();
  for (  XBreakpointGroupingRule rule : myRulesAvailable) {
    if (rule.isAlwaysEnabled() || (settings != null && settings.getSelectedGroupingRules().contains(rule.getId()))) {
      rules.add(rule);
    }
  }
  return rules;
}
