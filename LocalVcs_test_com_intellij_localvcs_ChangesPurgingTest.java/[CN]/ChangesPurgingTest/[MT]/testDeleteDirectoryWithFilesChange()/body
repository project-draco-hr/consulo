{
  root.createDirectory(1,"dir");
  root.createDirectory(2,"dir/subDir");
  root.createFile(3,"dir/file",c("one"),-1);
  root.createFile(4,"dir/subDir/file1",c("two"),-1);
  root.createFile(5,"dir/subDir/file2",c("three"),-1);
  Change c=new DeleteChange("dir");
  c.applyTo(root);
  List<Content> cc=c.getContentsToPurge();
  assertEquals(3,cc.size());
  assertTrue(cc.contains(c("one")));
  assertTrue(cc.contains(c("two")));
  assertTrue(cc.contains(c("three")));
}
