{
  JLayeredPane layeredPane;
  try {
    if ((myPreviouslyFocusedComponent instanceof JComponent) && myPreviouslyFocusedComponent.isShowing()) {
      final JComponent _component=(JComponent)myPreviouslyFocusedComponent;
      LayoutFocusTraversalPolicyExt.setOverridenDefaultComponent(_component);
    }
    if (myPreviouslyFocusedComponent != null) {
      myPreviouslyFocusedComponent.requestFocus();
    }
    layeredPane=myTextFieldPanel.getRootPane().getLayeredPane();
    layeredPane.remove(myListScrollPane);
    layeredPane.remove(myTextFieldPanel);
  }
  finally {
    LayoutFocusTraversalPolicyExt.setOverridenDefaultComponent(null);
  }
  layeredPane.validate();
  layeredPane.repaint();
}
