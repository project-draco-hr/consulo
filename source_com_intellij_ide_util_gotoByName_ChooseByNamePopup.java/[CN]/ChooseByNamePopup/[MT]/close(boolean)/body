{
  if (myDisposedFlag) {
    return;
  }
  if (isOk) {
    myModel.saveInitialCheckBoxState(myCheckBox.isSelected());
    final List<Object> chosenElements=getChosenElements();
    if (chosenElements != null) {
      for (      Object element : chosenElements) {
        myActionListener.elementChosen(element);
      }
    }
 else {
      return;
    }
    if (chosenElements.size() > 0) {
      final String enteredText=myTextField.getText();
      if (enteredText.indexOf('*') >= 0) {
        FeatureUsageTracker.getInstance().triggerFeatureUsed("navigation.popup.wildcards");
      }
 else {
        for (        Object element : chosenElements) {
          final String name=myModel.getElementName(element);
          if (name != null) {
            if (!StringUtil.startsWithIgnoreCase(name,enteredText)) {
              FeatureUsageTracker.getInstance().triggerFeatureUsed("navigation.popup.camelprefix");
              break;
            }
          }
        }
      }
    }
 else {
      return;
    }
  }
  myDisposedFlag=true;
  myAlarm.cancelAllRequests();
  myProject.putUserData(CHOOSE_BY_NAME_POPUP_IN_PROJECT_KEY,null);
  cleanupUI();
  myActionListener.onClose();
}
