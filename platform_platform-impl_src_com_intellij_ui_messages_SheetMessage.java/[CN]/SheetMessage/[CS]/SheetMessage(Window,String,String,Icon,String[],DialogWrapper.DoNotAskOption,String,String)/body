{
  myWindow=new JDialog(owner,"This should not be shown",Dialog.ModalityType.APPLICATION_MODAL);
  myWindow.getRootPane().putClientProperty("apple.awt.draggableWindowBackground",Boolean.FALSE);
  myWindow.addWindowListener(new WindowAdapter(){
    @Override public void windowActivated(    WindowEvent e){
      super.windowActivated(e);
    }
  }
);
  myParent=owner;
  myWindow.setUndecorated(true);
  myWindow.setBackground(Gray.TRANSPARENT);
  myController=new SheetController(this,title,message,icon,buttons,defaultButton,doNotAskOption,focusedButton);
  imageHeight=0;
  registerMoveResizeHandler();
  myWindow.setFocusable(true);
  myWindow.setFocusableWindowState(true);
  if (SystemInfo.isJavaVersionAtLeast("1.7")) {
    myWindow.setSize(myController.SHEET_NC_WIDTH,0);
    setWindowOpacity(0.0f);
    myWindow.addComponentListener(new ComponentAdapter(){
      @Override public void componentShown(      ComponentEvent e){
        super.componentShown(e);
        setWindowOpacity(1.0f);
        myWindow.setSize(myController.SHEET_NC_WIDTH,myController.SHEET_NC_HEIGHT);
      }
    }
);
  }
 else {
    myWindow.setModal(true);
    myWindow.setSize(myController.SHEET_NC_WIDTH,myController.SHEET_NC_HEIGHT);
    setPositionRelativeToParent();
  }
  startAnimation(true);
  restoreFullscreenButton=couldBeInFullScreen();
  if (restoreFullscreenButton) {
    FullScreenUtilities.setWindowCanFullScreen(myParent,false);
  }
  LaterInvocator.enterModal(myWindow);
  myWindow.setVisible(true);
  LaterInvocator.leaveModal(myWindow);
}
