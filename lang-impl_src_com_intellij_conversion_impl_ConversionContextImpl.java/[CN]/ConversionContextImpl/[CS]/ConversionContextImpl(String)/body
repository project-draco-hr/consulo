{
  myProjectFile=new File(projectPath);
  File modulesFile;
  if (myProjectFile.isDirectory()) {
    myStorageScheme=StorageScheme.DIRECTORY_BASED;
    myProjectBaseDir=myProjectFile;
    final File settingsBaseDir=new File(myProjectBaseDir.getAbsolutePath(),".idea");
    modulesFile=new File(settingsBaseDir,"modules.xml");
    myWorkspaceFile=new File(settingsBaseDir,"workspace.xml");
  }
 else {
    myStorageScheme=StorageScheme.DEFAULT;
    myProjectBaseDir=myProjectFile.getParentFile();
    modulesFile=myProjectFile;
    myWorkspaceFile=new File(StringUtil.trimEnd(projectPath,ProjectFileType.DOT_DEFAULT_EXTENSION) + WorkspaceFileType.DOT_DEFAULT_EXTENSION);
  }
  myModuleFiles=findModuleFiles(JDomConvertingUtil.loadDocument(modulesFile).getRootElement());
}
