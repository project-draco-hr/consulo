{
  if (file.isDirectory())   return false;
  if (myFileTypeManager.getFileTypeByFile(file) != StdFileTypes.CLASS)   return false;
  if (myFileTypeManager.isFileIgnored(file.getName()))   return false;
  VirtualFile parent=file.getParent();
  DirectoryInfo parentInfo=myDirectoryIndex.getInfoForDirectory(parent);
  return parentInfo != null && parentInfo.libraryClassRoot != null;
}
