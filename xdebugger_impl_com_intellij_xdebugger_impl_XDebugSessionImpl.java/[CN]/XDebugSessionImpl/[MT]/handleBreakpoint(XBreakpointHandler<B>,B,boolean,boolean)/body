{
  if (register && isBreakpointActive(b)) {
synchronized (myRegisteredBreakpoints) {
      myRegisteredBreakpoints.put(b,new CustomizedBreakpointPresentation());
    }
    handler.registerBreakpoint(b);
  }
  if (!register) {
    boolean removed=false;
synchronized (myRegisteredBreakpoints) {
      if (myRegisteredBreakpoints.containsKey(b)) {
        myRegisteredBreakpoints.remove(b);
        removed=true;
      }
    }
    if (removed) {
      handler.unregisterBreakpoint(b,temporary);
    }
  }
}
