{
  DebuggerTreeNodeImpl selectedNode=getSelectedNode(e.getDataContext());
  boolean enabled=false;
  if (selectedNode != null) {
    NodeDescriptorImpl descriptor=selectedNode.getDescriptor();
    if (descriptor != null) {
      if (descriptor instanceof LocalVariableDescriptorImpl || descriptor instanceof FieldDescriptorImpl || descriptor instanceof ArrayElementDescriptorImpl) {
        enabled=true;
      }
 else       if (descriptor instanceof WatchItemDescriptor) {
        Modifier modifier=((WatchItemDescriptor)descriptor).getModifier();
        enabled=modifier != null && modifier.canInspect();
      }
    }
  }
  e.getPresentation().setVisible(enabled);
}
