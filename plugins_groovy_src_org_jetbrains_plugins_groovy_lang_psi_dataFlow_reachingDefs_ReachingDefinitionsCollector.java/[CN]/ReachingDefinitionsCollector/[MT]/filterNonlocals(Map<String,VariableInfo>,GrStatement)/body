{
  List<VariableInfo> result=new ArrayList<VariableInfo>();
  for (Iterator<VariableInfo> iterator=infos.values().iterator(); iterator.hasNext(); ) {
    VariableInfo info=iterator.next();
    final GroovyPsiElement resolved=ResolveUtil.resolveVariable(place,info.getName());
    if (resolved instanceof PsiField)     iterator.remove();
 else     if (resolved instanceof GrReferenceExpression) {
      GrMember member=PsiTreeUtil.getParentOfType(resolved,GrMember.class);
      if (member == null)       continue;
 else       if (!member.hasModifierProperty(PsiModifier.STATIC)) {
        if (member.getContainingClass() instanceof GroovyScriptClass) {
          continue;
        }
      }
    }
    result.add(info);
  }
  return result.toArray(new VariableInfo[result.size()]);
}
