{
  final Language language=new MyLanguage();
  addExplicitExtension(LanguageHtmlScriptContentProvider.INSTANCE,language,new HtmlScriptContentProvider(){
    @Override public IElementType getScriptElementType(){
      return new IElementType("MyElementType",language);
    }
    @Nullable @Override public Lexer getHighlightingLexer(){
      return null;
    }
  }
);
  addExplicitExtension(LanguageParserDefinitions.INSTANCE,HTMLLanguage.INSTANCE,new HTMLParserDefinition());
  addExplicitExtension(LanguageASTFactory.INSTANCE,HTMLLanguage.INSTANCE,new XmlASTFactory());
  registerExtensionPoint(new ExtensionPointName<HtmlEmbeddedTokenTypesProvider>("com.intellij.html.embeddedTokenTypesProvider"),HtmlEmbeddedTokenTypesProvider.class);
  myLanguage=HTMLLanguage.INSTANCE;
  doTest("<script type=\"application/custom\">Custom Script</script>","test.html");
}
