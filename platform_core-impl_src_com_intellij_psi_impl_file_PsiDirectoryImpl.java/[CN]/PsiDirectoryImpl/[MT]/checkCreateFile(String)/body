{
  VirtualFile existingFile=getVirtualFile().findChild(name);
  if (existingFile != null) {
    throw new IncorrectOperationException(VfsBundle.message("file.already.exists.error",existingFile.getPresentableUrl()));
  }
  for (  PsiDirectoryMethodProxy proxy : PsiDirectoryMethodProxy.EP_NAME.getExtensions()) {
    if (!proxy.checkCreateFile(this,name)) {
      return;
    }
  }
  CheckUtil.checkWritable(this);
}
