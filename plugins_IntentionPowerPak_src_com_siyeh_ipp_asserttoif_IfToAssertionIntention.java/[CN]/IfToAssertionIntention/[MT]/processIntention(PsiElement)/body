{
  final PsiElement parent=element.getParent();
  if (!(parent instanceof PsiIfStatement)) {
    return;
  }
  final PsiIfStatement ifStatement=(PsiIfStatement)parent;
  final PsiExpression condition=ifStatement.getCondition();
  final String negatedExpressionText=BoolUtils.getNegatedExpressionText(condition);
  final StringBuilder newStatementText=new StringBuilder("assert ");
  newStatementText.append(negatedExpressionText);
  final PsiStatement thenBranch=ifStatement.getThenBranch();
  final String message=getMessage(thenBranch);
  if (message != null) {
    newStatementText.append(':');
    newStatementText.append(message);
  }
  newStatementText.append(';');
  replaceStatement(newStatementText.toString(),ifStatement);
}
