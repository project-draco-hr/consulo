{
  Application application=new Application();
  application.addApplicationListener(new ApplicationAdapter(){
    public void handleAbout(    ApplicationEvent applicationEvent){
      AboutAction.showAbout();
      applicationEvent.setHandled(true);
    }
    public void handlePreferences(    ApplicationEvent applicationEvent){
      Project project=getProject();
      if (project == null) {
        project=ProjectManager.getInstance().getDefaultProject();
      }
      ConfigurableGroup[] group=new ConfigurableGroup[]{new ProjectConfigurablesGroup(project),new IdeConfigurablesGroup()};
      ShowSettingsUtil.getInstance().showSettingsDialog(getProject(),group);
      applicationEvent.setHandled(true);
    }
    public void handleQuit(    ApplicationEvent applicationEvent){
      ApplicationManagerEx.getApplicationEx().exit();
    }
    public void handleOpenFile(    ApplicationEvent applicationEvent){
      Project project=getProject();
      String filename=applicationEvent.getFilename();
      if (filename == null)       return;
      File file=new File(filename);
      if (OpenFileAction.isProjectFile(file)) {
        ProjectUtil.openProject(file.getAbsolutePath(),null,false);
      }
 else       if (project != null && file.exists()) {
        OpenFileAction.openFile(filename,project);
        applicationEvent.setHandled(true);
      }
    }
  }
);
  application.addAboutMenuItem();
  application.addPreferencesMenuItem();
  application.setEnabledAboutMenu(true);
  application.setEnabledPreferencesMenu(true);
}
