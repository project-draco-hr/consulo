{
  for (  Map.Entry<Integer,Collection<Pair<Integer,TextDiffTypeEnum>>> entry : leftMap.entrySet()) {
    List<Pair<Integer,TextDiffTypeEnum>> value=(List<Pair<Integer,TextDiffTypeEnum>>)entry.getValue();
    if (value.size() > 1) {
      Pair<Integer,TextDiffTypeEnum> pair1=value.iterator().next();
      Pair<Integer,TextDiffTypeEnum> pair2=value.get(value.size() - 1);
      TextDiffTypeEnum type=mergeDiffType(value);
      whereTo.put(entry.getKey(),new Pair<String,TextDiffTypeEnum>(String.valueOf(pair1.getFirst()) + "-" + String.valueOf(pair2.getFirst()),type));
    }
 else {
      Pair<Integer,TextDiffTypeEnum> pair=value.iterator().next();
      whereTo.put(entry.getKey(),new Pair<String,TextDiffTypeEnum>(String.valueOf(pair.getFirst()),pair.getSecond()));
    }
  }
}
