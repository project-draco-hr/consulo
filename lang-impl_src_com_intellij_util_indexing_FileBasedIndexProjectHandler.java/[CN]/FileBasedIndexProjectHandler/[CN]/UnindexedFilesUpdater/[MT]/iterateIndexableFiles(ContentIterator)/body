{
  final ProjectFileIndex projectFileIndex=myRootManager.getFileIndex();
  final Module[] modules=ModuleManager.getInstance(myProject).getModules();
  for (  Module module : modules) {
    OrderEntry[] orderEntries=ModuleRootManager.getInstance(module).getOrderEntries();
    for (    OrderEntry orderEntry : orderEntries) {
      if (orderEntry instanceof LibraryOrderEntry || orderEntry instanceof JdkOrderEntry) {
        VirtualFile[] roots=orderEntry.getFiles(OrderRootType.SOURCES);
        for (        VirtualFile root : roots) {
          iterateRecursively(root,processor);
        }
      }
    }
  }
  projectFileIndex.iterateContent(processor);
}
