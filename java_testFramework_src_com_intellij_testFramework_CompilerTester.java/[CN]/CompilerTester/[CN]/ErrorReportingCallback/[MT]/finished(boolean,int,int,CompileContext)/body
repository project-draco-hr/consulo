{
  try {
    for (    CompilerMessageCategory category : CompilerMessageCategory.values()) {
      CompilerMessage[] messages=compileContext.getMessages(category);
      for (      CompilerMessage message : messages) {
        final String text=message.getMessage();
        if (category != CompilerMessageCategory.INFORMATION || !(text.startsWith("Compilation completed successfully") || text.startsWith("Using javac"))) {
          myMessages.add(message);
        }
      }
    }
    Assert.assertFalse("Code did not compile!",aborted);
  }
 catch (  Throwable t) {
    myError=t;
  }
 finally {
    mySemaphore.up();
  }
}
