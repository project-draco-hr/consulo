{
  final Object value=((DefaultMutableTreeNode)nodeValue).getUserObject();
  if (value instanceof DirectoryChooser.ItemWrapper) {
    DirectoryChooser.ItemWrapper wrapper=(DirectoryChooser.ItemWrapper)value;
    DirectoryChooser.PathFragment[] fragments=wrapper.getFragments();
    for (    DirectoryChooser.PathFragment fragment : fragments) {
      append(fragment.getText(),fragment.isCommon() ? SimpleTextAttributes.REGULAR_ATTRIBUTES : SimpleTextAttributes.REGULAR_BOLD_ATTRIBUTES);
    }
    setIcon(wrapper.getIcon(myFileIndex));
  }
 else   if (value instanceof Module) {
    final Module module=(Module)value;
    append(module.getName(),SimpleTextAttributes.REGULAR_ATTRIBUTES);
    int flags1=expanded ? Iconable.ICON_FLAG_OPEN : Iconable.ICON_FLAG_CLOSED;
    setIcon(module.getModuleType().getNodeIcon((flags1 & Iconable.ICON_FLAG_OPEN) != 0));
  }
 else   if (value instanceof ModuleGroup) {
    append(value.toString(),SimpleTextAttributes.REGULAR_ATTRIBUTES);
    setIcon(expanded ? Icons.OPENED_MODULE_GROUP_ICON : Icons.CLOSED_MODULE_GROUP_ICON);
  }
}
