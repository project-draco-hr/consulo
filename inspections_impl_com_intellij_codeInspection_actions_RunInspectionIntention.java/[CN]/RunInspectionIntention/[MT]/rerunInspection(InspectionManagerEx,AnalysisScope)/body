{
  final InspectionProfileImpl profile=new InspectionProfileImpl(myDisplayName);
  final ModifiableModel model=profile.getModifiableModel();
  final InspectionProfileEntry[] profileEntries=model.getInspectionTools();
  for (  InspectionProfileEntry entry : profileEntries) {
    model.disableTool(entry.getShortName());
  }
  model.enableTool(myShortName);
  model.setEditable(myDisplayName);
  final GlobalInspectionContextImpl inspectionContext=managerEx.createNewGlobalContext(false);
  inspectionContext.setExternalProfile((InspectionProfile)model);
  inspectionContext.RUN_WITH_EDITOR_PROFILE=false;
  inspectionContext.doInspections(scope,managerEx);
}
