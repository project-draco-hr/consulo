{
  doTest();
  final Document document=myEditor.getDocument();
  Collection<HighlightInfo> collection=filter(doHighlighting(),HighlightSeverity.WARNING);
  assertEquals(0,collection.size());
  final int offset=myEditor.getCaretModel().getOffset();
  ApplicationManager.getApplication().runWriteAction(new Runnable(){
    @Override public void run(){
      document.insertString(offset,"//");
    }
  }
);
  PsiDocumentManager.getInstance(getProject()).commitDocument(document);
  Collection<HighlightInfo> infos=filter(doHighlighting(),HighlightSeverity.WARNING);
  assertEquals(1,infos.size());
}
