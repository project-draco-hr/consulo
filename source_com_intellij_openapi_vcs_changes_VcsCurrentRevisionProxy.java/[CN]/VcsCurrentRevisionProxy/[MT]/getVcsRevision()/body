{
  if (myVcsRevision == null) {
    final VcsRevisionNumber currentRevision=myDiffProvider.getCurrentRevision(myFile);
    if (currentRevision == null) {
      throw new VcsException("Failed to fetch current revision");
    }
    myVcsRevision=myDiffProvider.createFileContent(currentRevision,myFile);
    if (myVcsRevision == null) {
      throw new VcsException("Failed to create content for current revision");
    }
  }
  return myVcsRevision;
}
