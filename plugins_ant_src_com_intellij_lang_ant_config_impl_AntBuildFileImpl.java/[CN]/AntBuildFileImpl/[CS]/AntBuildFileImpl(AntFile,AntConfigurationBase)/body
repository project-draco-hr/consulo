{
  myFile=antFile;
  myAntConfiguration=configuration;
  myWorkspaceOptions=new ExternalizablePropertyContainer();
  myWorkspaceOptions.registerProperty(RUN_IN_BACKGROUND);
  myWorkspaceOptions.registerProperty(CLOSE_ON_NO_ERRORS);
  myWorkspaceOptions.registerProperty(TREE_VIEW);
  myWorkspaceOptions.registerProperty(VERBOSE);
  myWorkspaceOptions.registerProperty(TARGET_FILTERS,"filter",NewInstanceFactory.fromClass(TargetFilter.class));
  myWorkspaceOptions.registerProperty((StringProperty)ANT_COMMAND_LINE_PARAMETERS);
  myWorkspaceOptions.rememberKey(RUN_WITH_ANT);
  myProjectOptions=new ExternalizablePropertyContainer();
  myProjectOptions.registerProperty(MAX_HEAP_SIZE);
  myProjectOptions.registerProperty((StringProperty)CUSTOM_JDK_NAME);
  myProjectOptions.registerProperty(ANT_PROPERTIES,"property",NewInstanceFactory.fromClass(BuildFileProperty.class));
  myProjectOptions.registerProperty(ADDITIONAL_CLASSPATH,"entry",SinglePathEntry.EXTERNALIZER);
  myProjectOptions.registerProperty(ANT_REFERENCE,AntReference.EXTERNALIZER);
  myAllOptions=new CompositePropertyContainer(new AbstractProperty.AbstractPropertyContainer[]{myWorkspaceOptions,myProjectOptions,GlobalAntConfiguration.getInstance().getProperties(getProject())});
  myClassloaderHolder=new AntBuildFileClassLoaderHolder(myAllOptions);
}
