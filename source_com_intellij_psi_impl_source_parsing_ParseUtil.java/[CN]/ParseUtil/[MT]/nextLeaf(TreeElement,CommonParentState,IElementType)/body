{
  TreeElement next=null;
  if (commonParent != null) {
    commonParent.startLeafBranchStart=start;
    initStrongWhitespaceHolder(commonParent,start,true);
  }
  TreeElement nextTree=start;
  while (next == null && (nextTree=nextTree.getTreeNext()) != null) {
    if (nextTree.getElementType() == searchedType) {
      return nextTree;
    }
    next=findFirstLeaf(nextTree,searchedType,commonParent);
  }
  if (next != null) {
    if (commonParent != null)     commonParent.nextLeafBranchStart=nextTree;
    return next;
  }
  final CompositeElement parent=start.getTreeParent();
  if (parent == null)   return null;
  return nextLeaf(parent,commonParent,searchedType);
}
