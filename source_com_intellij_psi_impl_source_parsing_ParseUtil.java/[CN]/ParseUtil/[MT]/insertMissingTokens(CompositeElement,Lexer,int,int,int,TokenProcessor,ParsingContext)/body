{
  final MissingTokenInserter inserter;
  if (lexer instanceof JavaLexer || lexer instanceof JavaWithJspTemplateDataLexer || lexer instanceof AbstractJspJavaLexer) {
    inserter=new JavaMissingTokenInserter(root,lexer,startOffset,endOffset,state,processor,context);
  }
 else {
    inserter=new MissingTokenInserter(root,lexer,startOffset,endOffset,state,processor,context);
  }
  inserter.invoke();
}
