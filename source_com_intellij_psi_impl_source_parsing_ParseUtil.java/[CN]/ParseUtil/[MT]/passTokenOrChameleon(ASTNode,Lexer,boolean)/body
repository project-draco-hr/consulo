{
  if (next instanceof LeafElement && (((LeafElement)next).isChameleon() || next instanceof OuterLanguageElement2)) {
    final int endOfChameleon=next.getTextLength() + lexer.getTokenStart();
    while (lexer.getTokenType() != null && lexer.getTokenEnd() < endOfChameleon) {
      lexer.advance();
    }
  }
  if (gtUse) {
    GTTokens.advance(next.getElementType(),lexer);
  }
 else {
    lexer.advance();
  }
}
