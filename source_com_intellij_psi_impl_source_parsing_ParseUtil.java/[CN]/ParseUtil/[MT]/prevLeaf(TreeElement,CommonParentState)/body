{
  LeafElement prev=null;
  if (commonParent != null) {
    if (commonParent.strongWhiteSpaceHolder != null && start.getUserData(UNCLOSED_ELEMENT_PROPERTY) != null)     commonParent.strongWhiteSpaceHolder=(CompositeElement)start;
    commonParent.startLeafBranchStart=start;
  }
  TreeElement prevTree=start;
  while (prev == null && (prevTree=prevTree.getTreePrev()) != null) {
    prev=TreeUtil.findLastLeaf(prevTree);
  }
  if (prev != null) {
    if (commonParent != null)     commonParent.nextLeafBranchStart=prevTree;
    return prev;
  }
  final CompositeElement parent=start.getTreeParent();
  if (parent == null)   return null;
  return prevLeaf(parent,commonParent);
}
