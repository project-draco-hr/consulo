{
  DefaultActionGroup actionGroup=new DefaultActionGroup();
  for (  String actionName : groups.singletonGroups) {
    actionGroup.add(createAction(actionName));
  }
  if (!groups.recentGroups.isEmpty()) {
    actionGroup.addSeparator("Recent");
    for (    List<String> recentItem : groups.recentGroups) {
      createRecentAction(actionGroup,recentItem);
    }
  }
  for (  Map.Entry<String,TreeSet<String>> group : groups.expandedGroups.entrySet()) {
    actionGroup.addSeparator(group.getKey());
    for (    String actionName : group.getValue()) {
      actionGroup.add(createAction(actionName));
    }
  }
  actionGroup.addSeparator();
  for (  Map.Entry<String,TreeSet<String>> group : groups.collapsedGroups.entrySet()) {
    DefaultActionGroup popupGroup=new DefaultActionGroup(group.getKey(),true);
    for (    String actionName : group.getValue()) {
      popupGroup.add(createCollapsedAction(actionName));
    }
    actionGroup.add(popupGroup);
  }
  return actionGroup;
}
