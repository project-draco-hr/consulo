{
  List<Field> params=new SmartList<Field>();
  for (Class aClass=getClass(); aClass != null; aClass=aClass.getSuperclass()) {
    for (    final Field field : aClass.getDeclaredFields()) {
      if (!Modifier.isStatic(field.getModifiers()) && (((field.getModifiers() & 0x1000) == 0 && !aClass.equals(PatternCondition.class)) || field.getName().startsWith(PARAMETER_FIELD_PREFIX))) {
        params.add(field);
      }
    }
  }
  if (params.size() == 1) {
    appendFieldValue(builder,params.get(0),indent);
  }
 else   if (!params.isEmpty()) {
    boolean first=true;
    for (    final Field field : params) {
      if (!first) {
        builder.append(", ");
      }
      first=false;
      String name=field.getName();
      if (name.startsWith(PARAMETER_FIELD_PREFIX))       name=name.substring(PARAMETER_FIELD_PREFIX.length());
      builder.append(name).append("=");
      appendFieldValue(builder,field,indent);
    }
  }
}
