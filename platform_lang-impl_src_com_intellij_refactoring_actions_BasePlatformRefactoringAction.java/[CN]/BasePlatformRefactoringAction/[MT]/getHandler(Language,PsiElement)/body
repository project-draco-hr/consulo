{
  List<RefactoringSupportProvider> providers=LanguageRefactoringSupport.INSTANCE.allForLanguage(language);
  if (providers.isEmpty())   return null;
  if (element == null && !providers.isEmpty())   return getRefactoringHandler(providers.get(0));
  if (element != null) {
    for (    RefactoringSupportProvider provider : providers) {
      if (provider.isAvailable(element)) {
        return getRefactoringHandler(provider);
      }
    }
  }
  return null;
}
