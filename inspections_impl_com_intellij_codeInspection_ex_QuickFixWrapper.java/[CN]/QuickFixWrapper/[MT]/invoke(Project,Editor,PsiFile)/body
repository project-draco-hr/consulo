{
  if (!CodeInsightUtil.prepareFileForWrite(file))   return;
  ((LocalQuickFix)myDescriptor.getFixes()[myFixNumber]).applyFix(project,myDescriptor);
  final PsiElement element=myDescriptor.getPsiElement();
  if (element != null) {
    final PsiFile fileForUndo=element.getContainingFile();
    if (!Comparing.equal(fileForUndo,file)) {
      UndoManager.getInstance(project).markDocumentForUndo(fileForUndo);
    }
  }
}
