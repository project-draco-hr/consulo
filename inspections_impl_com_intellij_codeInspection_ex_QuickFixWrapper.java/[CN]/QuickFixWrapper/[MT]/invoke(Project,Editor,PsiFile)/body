{
  if (!CodeInsightUtil.prepareFileForWrite(file))   return;
  LocalQuickFix fix=(LocalQuickFix)myDescriptor.getFixes()[myFixNumber];
  fix.applyFix(project,myDescriptor);
  DaemonCodeAnalyzer.getInstance(project).restart();
  final PsiElement element=myDescriptor.getPsiElement();
  if (element != null) {
    final PsiFile fileForUndo=element.getContainingFile();
    if (!Comparing.equal(fileForUndo,file)) {
      UndoUtil.markPsiFileForUndo(fileForUndo);
    }
  }
}
