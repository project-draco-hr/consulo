{
  if (myDefaultAttributes == NULL_ATTRIBUTES) {
    if (myFallbackAttributeKey != null) {
      TextAttributes fallbackAttributes=myFallbackAttributeKey.getDefaultAttributes();
      if (fallbackAttributes != null && !fallbackAttributes.isEmpty())       return fallbackAttributes;
    }
    myDefaultAttributes=null;
    final TextAttributeKeyDefaultsProvider provider=ourDefaultsProvider.getValue();
    if (provider != null)     myDefaultAttributes=provider.getDefaultAttributes(this);
  }
  return myDefaultAttributes;
}
