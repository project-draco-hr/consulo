{
  ModuleWizardStep projectSdkStep=wizardContext.getProjectSdkStep();
  if (projectSdkStep instanceof ProjectJdkStep) {
    return projectSdkStep;
  }
  projectSdkStep=new ProjectJdkStep(wizardContext){
    public boolean isStepVisible(){
      final Sdk newProjectJdk=AddModuleWizard.getNewProjectJdk(wizardContext);
      if (newProjectJdk == null)       return true;
      final ProjectBuilder projectBuilder=wizardContext.getProjectBuilder();
      return projectBuilder != null && !projectBuilder.isSuitableSdk(newProjectJdk);
    }
  }
;
  wizardContext.setProjectSdkStep(projectSdkStep);
  return projectSdkStep;
}
