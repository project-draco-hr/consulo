{
  final ElementClassHint classHint=(ElementClassHint)processor.getHint(ElementClassHint.class);
  final NameHint nameHint=(NameHint)processor.getHint(NameHint.class);
  if (classHint == null || classHint.shouldProcess(XmlElementDecl.class)) {
    if (nameHint != null) {
      final XmlElementDecl element=getElement(nameHint.getName());
      if (element != null)       return processor.execute(element,substitutor);
    }
 else {
      final Iterator<XmlElementDescriptor> iterator=buildDeclarationMap().values().iterator();
      while (iterator.hasNext()) {
        if (!processor.execute(iterator.next().getDeclaration(),substitutor))         return false;
      }
    }
  }
  return true;
}
