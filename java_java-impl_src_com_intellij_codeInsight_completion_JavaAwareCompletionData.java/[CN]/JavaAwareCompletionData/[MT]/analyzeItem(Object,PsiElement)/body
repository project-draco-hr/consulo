{
  if (completion instanceof PsiKeyword) {
    final String text=((PsiKeyword)completion).getText();
    if (PsiKeyword.BREAK.equals(text) || PsiKeyword.CONTINUE.equals(text)) {
      PsiElement scope=position;
      while (true) {
        if (scope instanceof PsiFile || scope instanceof PsiMethod || scope instanceof PsiClassInitializer) {
          return TailType.SEMICOLON;
        }
        if (scope instanceof PsiLabeledStatement) {
          return TailType.NONE;
        }
        scope=scope.getParent();
      }
    }
    if (PsiKeyword.RETURN.equals(text)) {
      PsiElement scope=position;
      while (true) {
        if (scope instanceof PsiFile || scope instanceof PsiClassInitializer) {
          return TailType.NONE;
        }
        if (scope instanceof PsiMethod) {
          final PsiMethod method=(PsiMethod)scope;
          if (method.isConstructor() || PsiType.VOID.equals(method.getReturnType())) {
            return TailType.SEMICOLON;
          }
          return TailType.SPACE;
        }
        scope=scope.getParent();
      }
    }
  }
  return TailType.NONE;
}
