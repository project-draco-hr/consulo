{
  if (expr instanceof PsiLiteralExpression) {
    return true;
  }
 else   if (expr instanceof PsiReferenceExpression) {
    PsiExpression qualifier=((PsiReferenceExpression)expr).getQualifierExpression();
    return qualifier == null || isSimpleExpression(qualifier);
  }
 else   if (expr instanceof PsiArrayAccessExpression) {
    PsiArrayAccessExpression accessExpr=(PsiArrayAccessExpression)expr;
    return isSimpleExpression(accessExpr.getArrayExpression()) && isSimpleExpression(accessExpr.getIndexExpression());
  }
 else   if (expr instanceof PsiBinaryExpression) {
    PsiBinaryExpression binExpr=(PsiBinaryExpression)expr;
    PsiExpression lOperand=binExpr.getLOperand();
    PsiExpression rOperand=binExpr.getROperand();
    if (rOperand == null)     return false;
    return isSimpleExpression(lOperand) && isSimpleExpression(rOperand);
  }
 else   if (expr instanceof PsiClassObjectAccessExpression) {
    return true;
  }
 else   if (expr instanceof PsiThisExpression) {
    return true;
  }
 else   if (expr instanceof PsiSuperExpression) {
    return true;
  }
 else   if (expr instanceof PsiTypeCastExpression) {
    PsiExpression operand=((PsiTypeCastExpression)expr).getOperand();
    if (operand == null)     return false;
    return isSimpleExpression(operand);
  }
 else {
    return false;
  }
}
