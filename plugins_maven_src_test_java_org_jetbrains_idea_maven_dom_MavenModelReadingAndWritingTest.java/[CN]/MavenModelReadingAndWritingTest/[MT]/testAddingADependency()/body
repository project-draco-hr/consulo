{
  CommandProcessor.getInstance().executeCommand(myProject,new Runnable(){
    public void run(){
      MavenDomProjectModel model=getDomModel();
      MavenDomDependency d=model.getDependencies().addDependency();
      d.getGroupId().setStringValue("group");
      d.getArtifactId().setStringValue("artifact");
      d.getVersion().setStringValue("version");
      formatAndSaveProjectPomDocument();
    }
  }
,null,null);
  assertEquals("<?xml version=\"1.0\"?>\r\n" + "<project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\r\n" + "         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\">\r\n"+ "    <modelVersion>4.0.0</modelVersion>\r\n"+ "    <groupId>test</groupId>\r\n"+ "    <artifactId>project</artifactId>\r\n"+ "    <version>1</version>\r\n"+ "    <dependencies>\r\n"+ "        <dependency>\r\n"+ "            <groupId>group</groupId>\r\n"+ "            <artifactId>artifact</artifactId>\r\n"+ "            <version>version</version>\r\n"+ "        </dependency>\r\n"+ "    </dependencies>\r\n"+ "</project>",VfsUtil.loadText(myProjectPom));
}
