{
  GrCodeReferenceElement cur=(GrCodeReferenceElement)ref.copy();
  final GrCodeReferenceElement qualifier=cur.getQualifier();
  if (qualifier == null) {
    return true;
  }
  final PsiClass correctResolved=(PsiClass)cur.resolve();
  cur.setQualifier(null);
  final GroovyResolveResult[] results=cur.multiResolve(false);
  return results.length == 0 || (results.length == 1 && cur.getManager().areElementsEquivalent(results[0].getElement(),correctResolved));
}
