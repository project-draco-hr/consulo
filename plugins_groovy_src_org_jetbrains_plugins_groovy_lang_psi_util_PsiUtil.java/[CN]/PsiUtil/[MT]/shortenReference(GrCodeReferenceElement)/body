{
  if (ref.getQualifier() != null && (PsiTreeUtil.getParentOfType(ref,GrDocMemberReference.class) != null || PsiTreeUtil.getParentOfType(ref,GrDocComment.class) == null)) {
    final PsiElement resolved=ref.resolve();
    if (resolved instanceof PsiClass && mayShorten(ref)) {
      ref.setQualifier(null);
      try {
        ref.bindToElement(resolved);
      }
 catch (      IncorrectOperationException e) {
        LOG.error(e);
      }
    }
  }
}
