{
  PsiElement child=element.getFirstChild();
  while (child != null) {
    final TextRange range=child.getTextRange();
    if (start < range.getEndOffset() && range.getStartOffset() < end) {
      if (child instanceof GrQualifiedReference) {
        shortenReference((GrQualifiedReference)child);
      }
      doShorten(child,start,end);
    }
    child=child.getNextSibling();
  }
}
