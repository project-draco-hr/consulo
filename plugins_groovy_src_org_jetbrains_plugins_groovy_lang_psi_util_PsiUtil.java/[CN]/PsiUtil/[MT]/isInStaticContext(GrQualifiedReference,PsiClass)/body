{
  if (refExpression.getQualifier() != null) {
    PsiElement qualifier=refExpression.getQualifier();
    if (qualifier instanceof GrReferenceExpression)     return ((GrReferenceExpression)qualifier).resolve() instanceof PsiClass;
  }
 else {
    PsiElement run=refExpression;
    while (run != null && run != targetClass) {
      if (targetClass == null && run instanceof PsiClass)       return false;
      if (run instanceof PsiModifierListOwner && ((PsiModifierListOwner)run).hasModifierProperty(PsiModifier.STATIC))       return true;
      run=run.getParent();
    }
  }
  return false;
}
