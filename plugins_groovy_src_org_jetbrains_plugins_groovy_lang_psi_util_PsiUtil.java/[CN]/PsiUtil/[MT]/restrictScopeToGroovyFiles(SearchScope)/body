{
  return ApplicationManager.getApplication().runReadAction(new Computable<SearchScope>(){
    public SearchScope compute(){
      if (originalScope instanceof GlobalSearchScope) {
        return GlobalSearchScope.getScopeRestrictedByFileTypes((GlobalSearchScope)originalScope,GroovyFileType.GROOVY_FILE_TYPE);
      }
      return originalScope;
    }
  }
);
}
