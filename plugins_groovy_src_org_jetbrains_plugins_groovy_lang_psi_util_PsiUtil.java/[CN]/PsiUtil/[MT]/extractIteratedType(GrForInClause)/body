{
  GrExpression iterated=forIn.getIteratedExpression();
  if (iterated == null)   return null;
  PsiType type=iterated.getType();
  if (type == null)   return null;
  if (type instanceof PsiArrayType)   return ((PsiArrayType)type).getComponentType();
  return com.intellij.psi.util.PsiUtil.extractIterableTypeParameter(type,true);
}
