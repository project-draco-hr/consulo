{
  PsiElementFactory factory=place.getManager().getElementFactory();
  PsiElement parent=place.getParent();
  if (parent instanceof GrCallExpression) {
    List<PsiType> result=new ArrayList<PsiType>();
    GrCallExpression call=(GrCallExpression)parent;
    GrNamedArgument[] namedArgs=call.getNamedArguments();
    if (namedArgs.length > 0) {
      result.add(factory.createTypeByFQClassName("java.util.HashMap",place.getResolveScope()));
    }
    GrExpression[] expressions=call.getExpressionArguments();
    for (    GrExpression expression : expressions) {
      PsiType type=getArgumentType(expression);
      if (type == null) {
        result.add(PsiType.NULL);
      }
 else {
        result.add(type);
      }
    }
    GrClosableBlock[] closures=call.getClosureArguments();
    for (    GrClosableBlock closure : closures) {
      PsiType closureType=closure.getType();
      if (closureType != null) {
        result.add(closureType);
      }
    }
    return result.toArray(new PsiType[result.size()]);
  }
 else   if (parent instanceof GrApplicationExpression) {
    GrExpression[] args=((GrApplicationExpression)parent).getArguments();
    PsiType[] result=new PsiType[args.length];
    for (int i=0; i < result.length; i++) {
      PsiType argType=getArgumentType(args[i]);
      if (argType == null) {
        result[i]=PsiType.NULL;
      }
 else {
        result[i]=argType;
      }
    }
    return result;
  }
  return null;
}
