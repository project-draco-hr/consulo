{
  if (expression instanceof GrReferenceExpression) {
    final PsiElement resolved=((GrReferenceExpression)expression).resolve();
    if (resolved instanceof PsiClass) {
      return JavaPsiFacade.getInstance(resolved.getProject()).getElementFactory().createTypeByFQClassName("java.lang.Class",expression.getResolveScope());
    }
  }
  return expression.getType();
}
