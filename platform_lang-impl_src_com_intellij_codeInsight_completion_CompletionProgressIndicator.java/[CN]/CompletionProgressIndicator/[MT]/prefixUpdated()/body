{
  final CharSequence text=myEditor.getDocument().getCharsSequence();
  final int caretOffset=myEditor.getCaretModel().getOffset();
  for (  Pair<Integer,ElementPattern<String>> pair : myRestartingPrefixConditions) {
    final String newPrefix=text.subSequence(pair.first,caretOffset).toString();
    if (pair.second.accepts(newPrefix)) {
      scheduleRestart();
      myRestartingPrefixConditions.clear();
      return;
    }
  }
  if (hideAutopopupIfMeaningless() && restartOnEmpty) {
    CompletionAutoPopupHandler.scheduleAutoPopup(getProject(),myEditor,getParameters().getOriginalFile());
  }
  updateFocus();
}
