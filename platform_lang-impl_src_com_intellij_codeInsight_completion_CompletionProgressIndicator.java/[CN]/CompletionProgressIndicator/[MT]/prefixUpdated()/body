{
  if (myToRestart == Boolean.TRUE) {
    scheduleRestart();
    return;
  }
  if (CompletionAutoPopupHandler.ourTestingAutopopup) {
    System.out.println("CompletionProgressIndicator.prefixUpdated");
  }
  final CharSequence text=myEditor.getDocument().getCharsSequence();
  final int caretOffset=myEditor.getCaretModel().getOffset();
  for (  Pair<Integer,ElementPattern<String>> pair : myRestartingPrefixConditions) {
    final String newPrefix=text.subSequence(pair.first,caretOffset).toString();
    if (CompletionAutoPopupHandler.ourTestingAutopopup) {
      System.out.println("newPrefix = " + newPrefix);
    }
    if (pair.second.accepts(newPrefix)) {
      scheduleRestart();
      myRestartingPrefixConditions.clear();
      return;
    }
  }
  hideAutopopupIfMeaningless();
}
