{
  duringCompletion(initContext);
  ProgressManager.checkCanceled();
  LookupElement[] result=CompletionService.getCompletionService().performCompletion(myParameters,weigher);
  ProgressManager.checkCanceled();
  weigher.waitFor();
  ProgressManager.checkCanceled();
  return result;
}
