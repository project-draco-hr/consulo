{
  LOG.assertTrue(this == CompletionServiceImpl.getCompletionService().getCurrentCompletion());
  if (myHint != null) {
    myHint.hide();
  }
  Lookup lookup=LookupManager.getActiveLookup(myEditor);
  if (lookup != null) {
    LOG.assertTrue(lookup == myLookup);
    myLookup.removeLookupListener(myLookupListener);
    finishCompletionProcess();
    if (hideLookup) {
      LookupManager.getInstance(getProject()).hideActiveLookup();
    }
  }
}
