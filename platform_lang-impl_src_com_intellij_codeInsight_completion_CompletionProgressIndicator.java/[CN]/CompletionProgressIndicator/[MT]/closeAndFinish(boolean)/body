{
  LOG.assertTrue(this == CompletionServiceImpl.getCompletionService().getCurrentCompletion());
  Lookup lookup=LookupManager.getActiveLookup(myEditor);
  LOG.assertTrue(lookup == myLookup);
  myLookup.removeLookupListener(myLookupListener);
  finishCompletionProcess();
  myState.assertDisposed();
  CompletionServiceImpl.assertPhase(CompletionPhase.NoCompletion.getClass());
  if (hideLookup) {
    LookupManager.getInstance(getProject()).hideActiveLookup();
  }
}
