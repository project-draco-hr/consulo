{
  final CompletionProgressIndicator current=CompletionServiceImpl.getCompletionService().getCurrentCompletion();
  LOG.assertTrue(this == current,current + "!=" + this);
  Lookup lookup=LookupManager.getActiveLookup(myEditor);
  LOG.assertTrue(lookup == myLookup,lookup + "; " + this);
  myLookup.removeLookupListener(myLookupListener);
  finishCompletionProcess();
  CompletionServiceImpl.assertPhase(CompletionPhase.NoCompletion.getClass());
  if (hideLookup) {
    LookupManager.getInstance(getProject()).hideActiveLookup();
  }
}
