{
  String oldText=xmlToken.getText();
  String newText=oldText.substring(0,range.getStartOffset()) + newContent + oldText.substring(range.getEndOffset());
  IElementType tokenType=xmlToken.getTokenType();
  FileElement holder=new DummyHolder(xmlToken.getManager(),null).getTreeElement();
  LeafElement leaf=Factory.createLeafElement(tokenType,newText,0,newText.length(),-1,holder.getCharTable());
  TreeUtil.addChildren(holder,leaf);
  return (XmlToken)xmlToken.replace(leaf.getPsi());
}
