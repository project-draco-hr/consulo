{
  JPanel panel=new JPanel(new BorderLayout());
  panel.add(myTextField,BorderLayout.CENTER);
  ComponentPopupBuilder builder=JBPopupFactory.getInstance().createComponentPopupBuilder(panel,myTextField).setCancelOnClickOutside(true).setAdText(KeymapUtil.getShortcutsText(CommonShortcuts.CTRL_ENTER.getShortcuts()) + " to finish").setMovable(true).setRequestFocus(true).setResizable(true).setMayBeParent(true);
  final JBPopup popup=builder.createPopup();
  popup.setMinimumSize(new Dimension(200,90));
  AnAction okAction=new DumbAwareAction(){
    @Override public void actionPerformed(    AnActionEvent e){
      unregisterCustomShortcutSet(popup.getContent());
      popup.closeOk(e.getInputEvent());
    }
  }
;
  okAction.registerCustomShortcutSet(CommonShortcuts.CTRL_ENTER,popup.getContent());
  return popup;
}
