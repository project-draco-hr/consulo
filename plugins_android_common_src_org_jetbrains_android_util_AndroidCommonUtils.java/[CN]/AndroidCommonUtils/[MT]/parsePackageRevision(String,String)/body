{
  final File propFile=new File(sdkDirOsPath + File.separatorChar + packageDirName+ File.separatorChar+ SdkConstants.FN_SOURCE_PROP);
  int revisionNumber=-1;
  if (propFile.exists() && propFile.isFile()) {
    final Map<String,String> map=ProjectProperties.parsePropertyFile(new BufferingFileWrapper(propFile),new MessageBuildingSdkLog());
    String revision=map.get("Pkg.Revision");
    if (revision != null) {
      final int dot=revision.indexOf('.');
      if (dot > 0) {
        revision=revision.substring(0,dot);
      }
      try {
        revisionNumber=Integer.parseInt(revision);
      }
 catch (      NumberFormatException e) {
        LOG.info(e);
      }
    }
  }
  return revisionNumber > 0 ? revisionNumber : -1;
}
