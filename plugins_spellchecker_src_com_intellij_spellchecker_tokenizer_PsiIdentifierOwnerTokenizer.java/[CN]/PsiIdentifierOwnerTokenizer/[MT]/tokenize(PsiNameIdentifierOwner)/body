{
  PsiElement identifier=element.getNameIdentifier();
  if (identifier == null) {
    return null;
  }
  PsiElement parent=element;
  final TextRange range=identifier.getTextRange();
  if (range.isEmpty())   return null;
  int offset=range.getStartOffset() - parent.getTextRange().getStartOffset();
  if (offset < 0) {
    parent=PsiTreeUtil.findCommonParent(identifier,element);
    offset=range.getStartOffset() - parent.getTextRange().getStartOffset();
  }
  return new Token[]{new Token<PsiElement>(parent,identifier.getText(),true,offset,SplitterFactory.getInstance().getIdentifierSplitter())};
}
