{
  super(project,true);
  setTitle(GitBundle.getString("merge.branch.title"));
  myProject=project;
  initBranchChooser();
  setOKActionEnabled(false);
  setOKButtonText(GitBundle.getString("merge.branch.button"));
  GitUIUtil.setupRootChooser(myProject,roots,defaultRoot,myGitRoot,myCurrentBranchText);
  GitUIUtil.imply(mySquashCommitCheckBox,true,myNoCommitCheckBox,true);
  GitUIUtil.imply(mySquashCommitCheckBox,true,myAddLogInformationCheckBox,false);
  GitUIUtil.implyDisabled(mySquashCommitCheckBox,true,myCommitMessage);
  GitUIUtil.exclusive(mySquashCommitCheckBox,true,myNoFastForwardCheckBox,true);
  myGitRoot.addActionListener(new ActionListener(){
    public void actionPerformed(    final ActionEvent e){
      updateBranches();
    }
  }
);
  updateBranches();
  init();
}
