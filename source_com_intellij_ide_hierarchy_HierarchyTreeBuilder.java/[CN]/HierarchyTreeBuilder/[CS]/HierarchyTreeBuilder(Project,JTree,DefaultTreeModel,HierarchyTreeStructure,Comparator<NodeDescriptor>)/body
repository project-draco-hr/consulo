{
  super(tree,treeModel,treeStructure,comparator);
  myProject=project;
  mySelectionListener=new MyTreeSelectionListener();
  myTreeExpansionListener=new MyTreeExpansionListener();
  myPsiTreeChangeListener=new MyPsiTreeChangeListener();
  myFileStatusListener=new MyFileStatusListener();
  initRootNode();
  tree.addTreeSelectionListener(mySelectionListener);
  tree.addTreeExpansionListener(myTreeExpansionListener);
  PsiManager.getInstance(myProject).addPsiTreeChangeListener(myPsiTreeChangeListener);
  FileStatusManager.getInstance(myProject).addFileStatusListener(myFileStatusListener);
  Disposer.register(myProject,this);
}
