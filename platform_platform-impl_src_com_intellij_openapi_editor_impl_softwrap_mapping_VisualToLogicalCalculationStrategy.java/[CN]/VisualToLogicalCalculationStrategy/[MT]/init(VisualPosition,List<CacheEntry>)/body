{
  setEagerMatch(null);
  myTargetVisual=targetVisual;
  SEARCH_KEY.visualLine=targetVisual.line;
  int i=Collections.binarySearch(cache,SEARCH_KEY);
  if (i >= 0) {
    CacheEntry cacheEntry=cache.get(i);
    if (targetVisual.column == 0) {
      setEagerMatch(cacheEntry.buildStartLineContext().buildLogicalPosition());
    }
 else {
      setCacheEntry(cacheEntry);
    }
    return;
  }
  throw new IllegalStateException(String.format("Can't map visual position (%s) to logical. Reason: no cached information information about target visual line is found. " + "Registered entries: %s",targetVisual,cache));
}
