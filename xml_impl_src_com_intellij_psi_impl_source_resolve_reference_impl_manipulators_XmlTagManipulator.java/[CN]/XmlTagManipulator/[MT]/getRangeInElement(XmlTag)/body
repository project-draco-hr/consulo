{
  if (tag.getSubTags().length > 0) {
    return new TextRange(0,0);
  }
  final XmlTagValue value=tag.getValue();
  final XmlText[] texts=value.getTextElements();
switch (texts.length) {
case 0:
    return value.getTextRange().shiftRight(-tag.getTextOffset());
case 1:
  return getValueRange(texts[0]);
default :
return new TextRange(0,0);
}
}
