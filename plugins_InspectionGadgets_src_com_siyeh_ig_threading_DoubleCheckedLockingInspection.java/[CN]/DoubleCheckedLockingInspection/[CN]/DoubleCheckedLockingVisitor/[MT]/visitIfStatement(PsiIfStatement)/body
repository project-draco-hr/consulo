{
  super.visitIfStatement(statement);
  final PsiExpression outerCondition=statement.getCondition();
  if (outerCondition == null) {
    return;
  }
  if (SideEffectChecker.mayHaveSideEffects(outerCondition)) {
    return;
  }
  PsiStatement thenBranch=statement.getThenBranch();
  thenBranch=ControlFlowUtils.stripBraces(thenBranch);
  if (!(thenBranch instanceof PsiSynchronizedStatement)) {
    return;
  }
  final PsiSynchronizedStatement syncStatement=(PsiSynchronizedStatement)thenBranch;
  final PsiCodeBlock body=syncStatement.getBody();
  if (body == null) {
    return;
  }
  final PsiStatement[] statements=body.getStatements();
  if (statements.length != 1) {
    return;
  }
  if (!(statements[0] instanceof PsiIfStatement)) {
    return;
  }
  final PsiIfStatement innerIf=(PsiIfStatement)statements[0];
  final PsiExpression innerCondition=innerIf.getCondition();
  if (!EquivalenceChecker.expressionsAreEquivalent(innerCondition,outerCondition)) {
    return;
  }
  PsiField field=null;
  if (ignoreOnVolatileVariables) {
    field=findCheckedField(innerIf);
    if (field != null && field.hasModifierProperty(PsiModifier.VOLATILE)) {
      return;
    }
  }
  registerStatementError(statement,field);
}
