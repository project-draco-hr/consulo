{
  myIdToSettingsMap.clear();
  for (  Element child : state.getChildren("notification")) {
    final NotificationSettings settings=NotificationSettings.load(child);
    if (settings != null) {
      final String id=settings.getGroupId();
      LOG.assertTrue(!myIdToSettingsMap.containsKey(id),String.format("Settings for '%s' already loaded!",id));
      myIdToSettingsMap.put(id,settings);
    }
  }
  doRemove("Log Only");
  if ("false".equals(state.getAttributeValue(SHOW_BALLOONS_ATTRIBUTE))) {
    SHOW_BALLOONS=false;
  }
  if ("false".equals(state.getAttributeValue(SYSTEM_NOTIFICATIONS_ATTRIBUTE))) {
    SYSTEM_NOTIFICATIONS=false;
  }
}
