{
  Color fillColor=mxUtils.getColor(style,mxConstants.STYLE_FILLCOLOR);
  Paint fillPaint=null;
  if (fillColor != null) {
    Color gradientColor=mxUtils.getColor(style,mxConstants.STYLE_GRADIENTCOLOR);
    if (gradientColor != null) {
      String gradientDirection=mxUtils.getString(style,mxConstants.STYLE_GRADIENT_DIRECTION);
      float x1=(float)bounds.getX();
      float y1=(float)bounds.getY();
      float x2=(float)bounds.getX();
      float y2=(float)bounds.getY();
      if (gradientDirection == null || gradientDirection.equals(mxConstants.DIRECTION_SOUTH)) {
        y2=(float)(bounds.getY() + bounds.getHeight());
      }
 else       if (gradientDirection.equals(mxConstants.DIRECTION_EAST)) {
        x2=(float)(bounds.getX() + bounds.getWidth());
      }
 else       if (gradientDirection.equals(mxConstants.DIRECTION_NORTH)) {
        y1=(float)(bounds.getY() + bounds.getHeight());
      }
 else       if (gradientDirection.equals(mxConstants.DIRECTION_WEST)) {
        x1=(float)(bounds.getX() + bounds.getWidth());
      }
      fillPaint=new GradientPaint(x1,y1,fillColor,x2,y2,gradientColor,true);
    }
  }
  return fillPaint;
}
