{
  String hgExecutable;
  if (myAutoRadioButton.isSelected()) {
    hgExecutable=HgGlobalSettings.getDefaultExecutable();
  }
 else {
    hgExecutable=getCurrentPath();
  }
  HgVersionCommand command=new HgVersionCommand();
  if (!command.isValid(hgExecutable,myRunHgAsBashCheckBox.isSelected())) {
    throw new ConfigurationException(HgVcsMessages.message("hg4idea.configuration.executable.error",hgExecutable));
  }
}
