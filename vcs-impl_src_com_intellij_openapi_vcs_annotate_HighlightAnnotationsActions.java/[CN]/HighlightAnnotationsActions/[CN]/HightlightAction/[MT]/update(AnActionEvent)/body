{
  super.update(e);
  final String text;
  final String description;
  if (myBefore) {
    text=(mySelectedRevision == null) ? VcsBundle.message("highlight.annotation.before.not.selected.text") : VcsBundle.message("highlight.annotation.before.selected.text",mySelectedRevision.getRevisionNumber().asString());
    description=VcsBundle.message("highlight.annotation.before.description");
  }
 else {
    text=(mySelectedRevision == null) ? VcsBundle.message("highlight.annotation.after.not.selected.text") : VcsBundle.message("highlight.annotation.after.selected.text",mySelectedRevision.getRevisionNumber().asString());
    description=VcsBundle.message("highlight.annotation.after.description");
  }
  e.getPresentation().setText(text);
  e.getPresentation().setDescription(description);
  final List<VcsFileRevision> fileRevisionList=myFileAnnotation.getRevisions();
  e.getPresentation().setEnabled(fileRevisionList != null && (!fileRevisionList.isEmpty()));
}
