{
  final String moduleFilePath=descriptor.computeModuleFilePath();
  ModuleBuilder.deleteModuleFile(moduleFilePath);
  final Module module=moduleModel.newModule(moduleFilePath,StdModuleTypes.JAVA);
  final ModifiableRootModel modifiableModel=ModuleRootManager.getInstance(module).getModifiableModel();
  setupRootModel(descriptor,modifiableModel,sourceRootToPrefixMap,projectLibs);
  modifiableModel.commit();
  return module;
}
