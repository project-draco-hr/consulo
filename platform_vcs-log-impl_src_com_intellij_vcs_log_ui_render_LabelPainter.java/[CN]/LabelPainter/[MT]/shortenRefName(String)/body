{
  int textLength=refName.length();
  if (textLength > MAX_LENGTH) {
    int separatorIndex=refName.indexOf(SEPARATOR);
    if (separatorIndex > TWO_DOTS.length()) {
      refName=TWO_DOTS + refName.substring(separatorIndex);
    }
    return StringUtil.shortenTextWithEllipsis(refName,MAX_LENGTH,0,THREE_DOTS);
  }
  return refName;
}
