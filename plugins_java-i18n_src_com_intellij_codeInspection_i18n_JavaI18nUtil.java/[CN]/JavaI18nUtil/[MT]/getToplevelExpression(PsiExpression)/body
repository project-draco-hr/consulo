{
  while (expression.getParent() instanceof PsiExpression) {
    final PsiExpression parent=(PsiExpression)expression.getParent();
    if (parent instanceof PsiConditionalExpression && ((PsiConditionalExpression)parent).getCondition() == expression)     break;
    expression=parent;
    if (expression instanceof PsiAssignmentExpression)     break;
  }
  return expression;
}
