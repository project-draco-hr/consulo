{
  if (processed != null) {
    if (processed.contains(method))     return false;
  }
 else {
    processed=new THashSet<PsiMethod>();
  }
  processed.add(method);
  final PsiParameter[] params=method.getParameterList().getParameters();
  PsiParameter param;
  if (idx >= params.length) {
    if (params.length == 0) {
      return false;
    }
    PsiParameter lastParam=params[params.length - 1];
    if (lastParam.isVarArgs()) {
      param=lastParam;
    }
 else {
      return false;
    }
  }
 else {
    param=params[idx];
  }
  final PsiAnnotation annotation=AnnotationUtil.findAnnotation(param,annFqn);
  if (annotation != null) {
    return true;
  }
  if (nonNlsTargets != null) {
    nonNlsTargets.add(param);
  }
  final PsiMethod[] superMethods=method.findSuperMethods();
  for (  PsiMethod superMethod : superMethods) {
    if (isMethodParameterAnnotatedWith(superMethod,idx,processed,annFqn,null))     return true;
  }
  return false;
}
