{
  final Configuration configuration=Configuration.getProjectInstance(project);
  final BaseInjection originalInjection=configuration.findExistingInjection(template);
  final BaseInjection newInjection=originalInjection == null ? template : originalInjection.copy();
  if (InjectLanguageAction.doEditConfigurable(project,new XmlAttributeInjectionConfigurable((XmlAttributeInjection)newInjection,null,project))) {
    configuration.replaceInjectionsWithUndo(project,Collections.singletonList(newInjection),ContainerUtil.createMaybeSingletonList(originalInjection),Collections.<PsiElement>emptyList());
  }
}
