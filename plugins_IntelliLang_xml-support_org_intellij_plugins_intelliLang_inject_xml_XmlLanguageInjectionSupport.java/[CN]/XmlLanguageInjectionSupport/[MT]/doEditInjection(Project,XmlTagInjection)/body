{
  final AbstractTagInjection originalInjection=(AbstractTagInjection)Configuration.getInstance().findExistingInjection(template);
  final XmlTagInjection newInjection=originalInjection == null ? template : new XmlTagInjection().copyFrom(originalInjection);
  if (InjectLanguageAction.doEditConfigurable(project,new XmlTagInjectionConfigurable(newInjection,null,project))) {
    Configuration.getInstance().replaceInjectionsWithUndo(project,Collections.singletonList(newInjection),ContainerUtil.createMaybeSingletonList(originalInjection),Collections.<PsiElement>emptyList());
  }
}
