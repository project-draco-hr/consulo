{
  if (outerClass != null && !PsiTreeUtil.isAncestor(outerClass,place,false)) {
    String description=JavaErrorMessages.message("is.not.an.enclosing.class",outerClass == null ? "" : HighlightUtil.formatClass(outerClass));
    return HighlightInfo.createHighlightInfo(HighlightInfoType.ERROR,elementToHighlight,description);
  }
  PsiModifierListOwner staticParent=PsiUtil.getEnclosingStaticElement(place,outerClass);
  if (staticParent != null) {
    String description=JavaErrorMessages.message("cannot.be.referenced.from.static.context",outerClass == null ? "" : HighlightUtil.formatClass(outerClass) + "." + PsiKeyword.THIS);
    HighlightInfo highlightInfo=HighlightInfo.createHighlightInfo(HighlightInfoType.ERROR,elementToHighlight,description);
    QuickFixAction.registerQuickFixAction(highlightInfo,new ModifierFix(staticParent,PsiModifier.STATIC,false),null);
    if (aClass != null && HighlightUtil.getIncompatibleModifier(PsiModifier.STATIC,aClass.getModifierList()) == null) {
      QuickFixAction.registerQuickFixAction(highlightInfo,new ModifierFix(aClass,PsiModifier.STATIC,true),null);
    }
    return highlightInfo;
  }
  return null;
}
