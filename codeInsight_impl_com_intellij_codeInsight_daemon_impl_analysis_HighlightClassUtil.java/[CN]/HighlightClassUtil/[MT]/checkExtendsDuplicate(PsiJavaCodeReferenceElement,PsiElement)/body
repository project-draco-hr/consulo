{
  if (!(element.getParent() instanceof PsiReferenceList))   return null;
  PsiReferenceList list=(PsiReferenceList)element.getParent();
  if (!(list.getParent() instanceof PsiClass))   return null;
  if (!(resolved instanceof PsiClass))   return null;
  PsiClass aClass=(PsiClass)resolved;
  PsiClassType[] referencedTypes=list.getReferencedTypes();
  int dupCount=0;
  for (  PsiClassType referencedType : referencedTypes) {
    PsiClass resolvedElement=referencedType.resolve();
    if (resolvedElement != null && list.getManager().areElementsEquivalent(resolvedElement,aClass)) {
      dupCount++;
    }
  }
  if (dupCount > 1) {
    String description=JavaErrorMessages.message("duplicate.class",HighlightUtil.formatClass(aClass));
    return HighlightInfo.createHighlightInfo(HighlightInfoType.ERROR,element,description);
  }
  return null;
}
