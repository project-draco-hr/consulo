def httpcheck(ui, path, proto):
    try:
        opener = urllib2.build_opener()
        rsp = opener.open(('%s://%s/!svn/ver/0/.svn' % (proto, path)))
        data = rsp.read()
    except urllib2.HTTPError as inst:
        if (inst.code != 404):
            ui.warn(_('svn: cannot probe remote repository, assume it could be a subversion repository. Use --source-type if you know better.\n'))
            return True
        data = inst.fp.read()
    except:
        return False
    return ('<m:human-readable errcode="160013">' in data)
