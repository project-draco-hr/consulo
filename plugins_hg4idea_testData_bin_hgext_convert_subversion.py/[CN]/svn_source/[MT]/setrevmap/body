def setrevmap(self, revmap):
    lastrevs = {}
    for revid in revmap.iterkeys():
        (uuid, module, revnum) = self.revsplit(revid)
        lastrevnum = lastrevs.setdefault(module, revnum)
        if (revnum > lastrevnum):
            lastrevs[module] = revnum
    self.lastrevs = lastrevs
