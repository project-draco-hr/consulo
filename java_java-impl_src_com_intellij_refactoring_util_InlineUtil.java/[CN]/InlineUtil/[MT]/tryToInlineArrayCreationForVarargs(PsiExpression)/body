{
  if (expr instanceof PsiNewExpression && ((PsiNewExpression)expr).getArrayInitializer() != null) {
    if (expr.getParent() instanceof PsiExpressionList) {
      final PsiExpressionList exprList=(PsiExpressionList)expr.getParent();
      if (exprList.getParent() instanceof PsiCall) {
        if (isSafeToInlineVarargsArgument((PsiCall)exprList.getParent())) {
          inlineArrayCreationForVarargs(((PsiNewExpression)expr));
        }
      }
    }
  }
}
