{
  if (byteContents.size() != 3)   throw new IllegalArgumentException();
  if (contentTitles.size() != 3)   throw new IllegalArgumentException();
  try {
    FileContent outputContent=myContentFactory.createFile(project,output);
    if (outputContent == null)     throw new InvalidDiffRequestException("Can't process file: " + output);
    byte[] originalContent=output.contentsToByteArray();
    List<DiffContent> contents=new ArrayList<>(3);
    for (    byte[] bytes : byteContents) {
      contents.add(myContentFactory.createFromBytes(project,bytes,output));
    }
    return new BinaryMergeRequestImpl(project,outputContent,originalContent,contents,byteContents,title,contentTitles,applyCallback);
  }
 catch (  IOException e) {
    throw new InvalidDiffRequestException("Can't read from file",e);
  }
}
