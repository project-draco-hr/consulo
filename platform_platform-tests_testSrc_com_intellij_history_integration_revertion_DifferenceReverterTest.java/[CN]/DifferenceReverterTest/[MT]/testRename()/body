{
  VirtualFile f=myRoot.createChildData(this,"foo.txt");
  f.setBinaryContent(new byte[]{123},-1,4000);
  f.rename(this,"bar.txt");
  revertLastChange();
  assertNull(myRoot.findChild("bar.txt"));
  f=myRoot.findChild("foo.txt");
  assertNotNull(f);
  assertEquals(123,f.contentsToByteArray()[0]);
  assertEquals(4000,f.getTimeStamp());
}
