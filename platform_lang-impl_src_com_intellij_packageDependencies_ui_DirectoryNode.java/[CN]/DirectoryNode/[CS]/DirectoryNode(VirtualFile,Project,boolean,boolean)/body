{
  super(project);
  myVDirectory=aDirectory;
  final ProjectFileIndex index=ProjectRootManager.getInstance(project).getFileIndex();
  String dirName=aDirectory.getName();
  if (showFQName) {
    final VirtualFile contentRoot=index.getContentRootForFile(myVDirectory);
    if (contentRoot != null) {
      if (myVDirectory == contentRoot) {
        myFQName=dirName;
      }
 else {
        final VirtualFile sourceRoot=index.getSourceRootForFile(myVDirectory);
        if (myVDirectory == sourceRoot) {
          myFQName=VfsUtil.getRelativePath(myVDirectory,contentRoot,'/');
        }
 else         if (sourceRoot != null) {
          myFQName=VfsUtil.getRelativePath(myVDirectory,sourceRoot,'/');
        }
 else {
          myFQName=VfsUtil.getRelativePath(myVDirectory,contentRoot,'/');
        }
      }
    }
 else {
      myFQName=FilePatternPackageSet.getLibRelativePath(myVDirectory,index);
    }
    dirName=myFQName;
  }
  myDirName=dirName;
  myCompactPackages=compactPackages;
}
