{
  File[] files=file.listFiles();
  if (files != null) {
    for (    File file1 : files) {
      if (!delete(file1))       return false;
    }
  }
  for (int i=0; i < 10; i++) {
    if (file.delete() || !file.exists())     return true;
    try {
      Thread.sleep(10);
    }
 catch (    InterruptedException e) {
    }
  }
  return false;
}
