{
  if (path == null)   return;
  final Object last=path.getLastPathComponent();
  final TreePath parent=path.getParentPath();
  if (myTree.isExpanded(path)) {
    if (last instanceof DefaultMutableTreeNode) {
      processNodeActionsIfReady((DefaultMutableTreeNode)last);
    }
  }
 else {
    if (parent != null) {
      final DefaultMutableTreeNode parentNode=(DefaultMutableTreeNode)parent.getLastPathComponent();
      final TreePath parentPath=new TreePath(parentNode.getPath());
      if (!myTree.isExpanded(parentPath)) {
        myUnbuiltNodes.add(parentNode);
        expandPath(parentPath);
      }
    }
    expandPath(path);
  }
}
