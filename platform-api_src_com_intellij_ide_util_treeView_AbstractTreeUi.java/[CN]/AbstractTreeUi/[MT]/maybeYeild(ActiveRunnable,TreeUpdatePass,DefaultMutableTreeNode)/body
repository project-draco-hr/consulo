{
  final ActionCallback result=new ActionCallback();
  if (isToYieldUpdateFor(node)) {
    pass.setCurrentNode(node);
    yieldAndRun(new Runnable(){
      public void run(){
        if (pass.isExpired())         return;
        final boolean nodeValid=isValid(pass.getNode());
        if (nodeValid && getUpdater().isRerunNeededFor(pass)) {
          getUpdater().addSubtreeToUpdate(pass);
          result.setRejected();
        }
 else         if (nodeValid) {
          processRunnable.run().notify(result);
        }
 else {
          pass.expire();
          result.setRejected();
        }
      }
    }
,pass);
  }
 else {
    processRunnable.run().notify(result);
  }
  return result;
}
