{
  if (isNodeBeingBuilt(node))   return;
  final Object o=node.getUserObject();
  if (!(o instanceof NodeDescriptor))   return;
  final Object element=((NodeDescriptor)o).getElement();
  final List<NodeAction> actions=myNodeActions.get(element);
  if (actions != null) {
    myNodeActions.remove(element);
    for (    NodeAction each : actions) {
      each.onReady(node);
    }
  }
  if (myUpdaterState != null) {
    if (myUpdaterState.process(node,myTree)) {
      clearUpdaterState();
    }
  }
  if (myNodeActions.size() == 0 && myUpdaterState != null && !myUpdaterState.isProcessingNow()) {
    final UpdaterTreeState state=myUpdaterState;
    clearUpdaterState();
    state.restore();
  }
}
