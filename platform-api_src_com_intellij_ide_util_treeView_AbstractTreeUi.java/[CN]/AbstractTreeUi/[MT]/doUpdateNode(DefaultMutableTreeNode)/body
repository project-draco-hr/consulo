{
  if (!(node.getUserObject() instanceof NodeDescriptor))   return;
  NodeDescriptor descriptor=(NodeDescriptor)node.getUserObject();
  Object prevElement=getElementFromDescriptor(descriptor);
  if (prevElement == null)   return;
  boolean changes=update(descriptor,false);
  if (getElementFromDescriptor(descriptor) == null) {
    LOG.assertTrue(false,"element == null, updateSubtree should be invoked for parent! builder=" + getBuilder() + ", prevElement = "+ prevElement+ ", node = "+ node+ "; parentDescriptor="+ descriptor.getParentDescriptor());
  }
  if (changes) {
    updateNodeImageAndPosition(node);
  }
}
