{
  if (!(node.getUserObject() instanceof NodeDescriptor))   return;
  NodeDescriptor descriptor=(NodeDescriptor)node.getUserObject();
  Object prevElement=getElementFromDescriptor(descriptor);
  if (prevElement == null)   return;
  boolean changes=update(descriptor,false);
  if (!isValid(descriptor)) {
    if (isInStructure(prevElement)) {
      getUpdater().addSubtreeToUpdateByElement(getTreeStructure().getParentElement(prevElement));
      return;
    }
  }
  if (changes) {
    updateNodeImageAndPosition(node);
  }
}
