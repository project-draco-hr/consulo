{
  runDone(new Runnable(){
    public void run(){
      if (element.length == 0) {
        runDone(onDone);
        return;
      }
      if (myUpdaterState != null) {
        myUpdaterState.clearExpansion();
      }
      final ActionCallback done=new ActionCallback(element.length);
      done.doWhenDone(new Runnable(){
        public void run(){
          runDone(onDone);
        }
      }
);
      for (      final Object toExpand : element) {
        _expand(toExpand,new Runnable(){
          public void run(){
            done.setDone();
          }
        }
,parentsOnly,checkIfInStructure);
      }
    }
  }
);
}
