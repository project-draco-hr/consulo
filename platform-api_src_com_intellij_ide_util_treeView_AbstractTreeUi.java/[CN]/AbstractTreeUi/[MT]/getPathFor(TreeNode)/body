{
  if (node instanceof DefaultMutableTreeNode) {
    return new TreePath(((DefaultMutableTreeNode)node).getPath());
  }
 else {
    ArrayList nodes=new ArrayList();
    TreeNode eachParent=node;
    while (eachParent != null) {
      nodes.add(eachParent);
      eachParent=eachParent.getParent();
    }
    return new TreePath(nodes.toArray(new Object[nodes.size()]));
  }
}
