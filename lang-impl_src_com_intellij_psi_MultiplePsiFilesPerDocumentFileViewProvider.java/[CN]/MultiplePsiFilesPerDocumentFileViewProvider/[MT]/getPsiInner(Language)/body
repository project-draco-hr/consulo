{
  PsiFile file=myRoots.get(target);
  if (file == null) {
    if (isPhysical()) {
      VirtualFile virtualFile=getVirtualFile();
      VirtualFile parent=virtualFile.getParent();
      if (parent != null) {
        getManager().findDirectory(parent);
      }
    }
    file=createFile(target);
    if (file == null)     return null;
    if (myOriginal != null) {
      ((PsiFileImpl)file).setOriginalFile(myOriginal.getPsi(target));
    }
    file=myRoots.cacheOrGet(target,file);
  }
  return file;
}
