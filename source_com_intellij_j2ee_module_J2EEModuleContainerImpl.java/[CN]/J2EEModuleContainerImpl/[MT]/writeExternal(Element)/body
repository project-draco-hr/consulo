{
  if (!isActive())   return;
  for (  final ContainerElement myContent : myContents) {
    ContainerElement containerElement=(ContainerElement)myContent;
    final Element child=new Element(CONTAINER_ELEMENT_NAME);
    if (containerElement instanceof ModuleLink) {
      child.setAttribute(TYPE_ATTRIBUTE_NAME,MODULE_TYPE);
      child.setAttribute(NAME_ATTRIBUTE_NAME,((ModuleLink)containerElement).getName());
    }
 else     if (containerElement instanceof LibraryLink) {
      child.setAttribute(TYPE_ATTRIBUTE_NAME,LIBRARY_TYPE);
      LibraryLink libraryLink=(LibraryLink)containerElement;
      String level=libraryLink.getLevel();
      child.setAttribute(LEVEL_ATTRIBUTE_NAME,level);
    }
 else {
      throw new WriteExternalException("invalid type: " + child);
    }
    containerElement.writeExternal(child);
    element.addContent(child);
  }
}
