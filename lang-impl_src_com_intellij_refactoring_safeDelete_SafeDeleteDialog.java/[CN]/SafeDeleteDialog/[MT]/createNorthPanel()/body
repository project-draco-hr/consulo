{
  final JPanel panel=new JPanel(new GridBagLayout());
  final GridBagConstraints gbc=new GridBagConstraints();
  final String warningMessage=DeleteUtil.generateWarningMessage(IdeBundle.message("search.for.usages.and.delete.elements"),myElements);
  gbc.insets=new Insets(4,8,4,8);
  gbc.weighty=1;
  gbc.weightx=1;
  gbc.gridx=0;
  gbc.gridy=0;
  gbc.gridwidth=2;
  gbc.fill=GridBagConstraints.BOTH;
  gbc.anchor=GridBagConstraints.WEST;
  panel.add(new JLabel(warningMessage),gbc);
  gbc.gridy++;
  gbc.gridx=0;
  gbc.weightx=0.0;
  gbc.gridwidth=1;
  myCbSearchInComments=new JCheckBox();
  myCbSearchInComments.setText(RefactoringBundle.getSearchInCommentsAndStringsText());
  panel.add(myCbSearchInComments,gbc);
  if (needSearchForTextOccurrences()) {
    gbc.gridx++;
    myCbSearchTextOccurrences=new JCheckBox();
    myCbSearchTextOccurrences.setText(RefactoringBundle.getSearchForTextOccurrencesText());
    panel.add(myCbSearchTextOccurrences,gbc);
  }
  final RefactoringSettings refactoringSettings=RefactoringSettings.getInstance();
  myCbSearchInComments.setSelected(refactoringSettings.SAFE_DELETE_SEARCH_IN_COMMENTS);
  if (myCbSearchTextOccurrences != null) {
    myCbSearchTextOccurrences.setSelected(refactoringSettings.SAFE_DELETE_SEARCH_IN_NON_JAVA);
  }
  return panel;
}
