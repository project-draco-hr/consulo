{
  PsiElement element=LangDataKeys.PSI_ELEMENT.getData(dataContext);
  editor.getScrollingModel().scrollToCaret(ScrollType.MAKE_VISIBLE);
  if (element == null) {
    element=file.findElementAt(editor.getCaretModel().getOffset());
  }
  if (element == null)   return;
  if (element instanceof PsiIdentifier)   element=element.getParent();
  if (!(element instanceof PsiTypeParameterListOwner)) {
    String message=RefactoringBundle.getCannotRefactorMessage(RefactoringBundle.message("error.wrong.caret.position.method.or.class.name"));
    CommonRefactoringUtil.showErrorMessage(REFACTORING_NAME,message,HelpID.MAKE_METHOD_STATIC,project);
    return;
  }
  if (LOG.isDebugEnabled()) {
    LOG.debug("MakeStaticHandler invoked");
  }
  invoke(project,new PsiElement[]{element},dataContext);
}
