{
  final PsiMethod method=getMethod(psiClass,false);
  if (method != null) {
    if (method.hasModifierProperty(PsiModifier.ABSTRACT)) {
      return null;
    }
    return AllIcons.Hierarchy.MethodDefined;
  }
  if (myTreeStructure.isSuperClassForBaseClass(psiClass)) {
    return AllIcons.Hierarchy.MethodNotDefined;
  }
  final boolean isAbstractClass=psiClass.hasModifierProperty(PsiModifier.ABSTRACT);
  final PsiMethod baseClassMethod=getMethod(psiClass,true);
  final boolean hasBaseImplementation=baseClassMethod != null && !baseClassMethod.hasModifierProperty(PsiModifier.ABSTRACT);
  if (hasBaseImplementation || isAbstractClass) {
    return AllIcons.Hierarchy.MethodNotDefined;
  }
 else {
    return AllIcons.Hierarchy.ShouldDefineMethod;
  }
}
