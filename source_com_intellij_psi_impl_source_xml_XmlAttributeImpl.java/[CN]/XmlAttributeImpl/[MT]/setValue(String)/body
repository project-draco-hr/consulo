{
  final ASTNode value=XmlChildRole.ATTRIBUTE_VALUE_FINDER.findChild(this);
  final PomModel model=getProject().getModel();
  final ASTNode newValue=XmlChildRole.ATTRIBUTE_VALUE_FINDER.findChild((ASTNode)getManager().getElementFactory().createXmlAttribute("a",valueText));
  model.runTransaction(new PomTransaction(){
    public PomModelEvent run(){
      if (value != null) {
        CodeEditUtil.replaceChild(XmlAttributeImpl.this,(TreeElement)value,(TreeElement)newValue);
      }
 else {
        CodeEditUtil.addChild(XmlAttributeImpl.this,(TreeElement)newValue,null);
      }
      return XmlAttributeSet.createXmlAttributeSet(model,getParent(),getName(),value != null ? value.getText() : null);
    }
  }
,model.getModelAspect(XmlAspect.class));
}
