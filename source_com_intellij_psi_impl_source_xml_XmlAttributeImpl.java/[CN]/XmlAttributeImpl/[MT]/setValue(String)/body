{
  final TreeElement value=XmlChildRole.ATTRIBUTE_VALUE_FINDER.findChild(this);
  final PomModel model=getProject().getModel();
  final TreeElement newValue=XmlChildRole.ATTRIBUTE_VALUE_FINDER.findChild((CompositeElement)getManager().getElementFactory().createXmlAttribute("a",valueText));
  model.runTransaction(new PomTransaction(){
    public PomModelEvent run(){
      if (value != null) {
        CodeEditUtil.replaceChild(XmlAttributeImpl.this,value,newValue);
      }
 else       CodeEditUtil.addChild(XmlAttributeImpl.this,newValue,null);
      return XmlAttributeSet.createXmlAttributeSet(model,getParent(),getName(),value != null ? value.getText() : null);
    }
  }
,model.getModelAspect(XmlAspect.class));
}
