{
  final ASTNode value=XmlChildRole.ATTRIBUTE_VALUE_FINDER.findChild(this);
  final PomModel model=getProject().getModel();
  final ASTNode newValue=XmlChildRole.ATTRIBUTE_VALUE_FINDER.findChild((CompositeElement)getManager().getElementFactory().createXmlAttribute("a",valueText));
  final XmlAspect aspect=model.getModelAspect(XmlAspect.class);
  model.runTransaction(new PomTransactionBase(this,aspect){
    public PomModelEvent runInner(){
      if (value != null) {
        CodeEditUtil.replaceChild(XmlAttributeImpl.this,value,newValue);
      }
 else {
        CodeEditUtil.addChild(XmlAttributeImpl.this,(TreeElement)newValue,null);
      }
      return XmlAttributeSetImpl.createXmlAttributeSet(model,getParent(),getName(),value != null ? value.getText() : null);
    }
  }
);
}
