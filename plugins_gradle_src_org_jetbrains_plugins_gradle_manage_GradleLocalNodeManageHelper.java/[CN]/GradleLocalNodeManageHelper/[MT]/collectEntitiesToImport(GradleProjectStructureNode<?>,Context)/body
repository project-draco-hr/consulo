{
  for (GradleProjectStructureNode<?> n=node.getParent(); n != null; n=n.getParent()) {
    final GradleProjectStructureNodeDescriptor<?> descriptor=n.getDescriptor();
    if (n.getDescriptor().getElement().getType() == GradleEntityType.SYNTHETIC) {
      continue;
    }
    if (descriptor.getAttributes() != GradleTextAttributes.GRADLE_LOCAL_CHANGE) {
      break;
    }
    Object id=descriptor.getElement();
    final Object entity=myIdMapper.mapIdToEntity((GradleEntityId)id);
    if (entity instanceof GradleEntity) {
      ((GradleEntity)entity).invite(context.gradleVisitor);
    }
  }
  final Stack<GradleEntity> toProcess=new Stack<GradleEntity>();
  final Object id=node.getDescriptor().getElement();
  final Object entity=myIdMapper.mapIdToEntity((GradleEntityId)id);
  if (entity instanceof GradleEntity) {
    toProcess.push((GradleEntity)entity);
  }
  context.recursive=true;
  while (!toProcess.isEmpty()) {
    final GradleEntity e=toProcess.pop();
    e.invite(context.gradleVisitor);
  }
}
