{
  List<LineFragment> fragments=doCompareWithCache(request,text1,text2,stamp1,stamp2,config,indicator);
  indicator.checkCanceled();
  return ComparisonManager.getInstance().processBlocks(fragments,text1,text2,config.policy,config.squashFragments,config.trimFragments);
}
