{
  int depth=0;
  while (elseBranch instanceof PsiIfStatement) {
    if (depth++ > LIMIT_DEPTH)     break;
    final PsiIfStatement statement=(PsiIfStatement)elseBranch;
    final PsiStatement branch=statement.getThenBranch();
    if (EquivalenceChecker.statementsAreEquivalent(thenBranch,branch)) {
      return statement;
    }
    elseBranch=statement.getElseBranch();
  }
  return null;
}
