{
  for (  UsageInfo usage : usages) {
    if (PsiTreeUtil.getParentOfType(usage.getElement(),PsiPackageStatement.class) != null)     continue;
    rename(usage,newName);
  }
  for (  UsageInfo usage : usages) {
    if (PsiTreeUtil.getParentOfType(usage.getElement(),PsiPackageStatement.class) == null)     continue;
    rename(usage,newName);
  }
  aDirectory.setName(newName);
  listener.elementRenamed(aDirectory);
}
