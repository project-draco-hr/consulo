{
  final InspectionManagerEx.UIOptions uiOptions=((InspectionManagerEx)InspectionManagerEx.getInstance(myProject)).getUIOptions();
  JPanel panel=new JPanel(new GridBagLayout());
  GridBagConstraints gc=new GridBagConstraints(0,GridBagConstraints.RELATIVE,2,1,1,0,GridBagConstraints.WEST,GridBagConstraints.NONE,new Insets(0,0,0,0),0,0);
  panel.setBorder(IdeBorderFactory.createTitledBorder(myAnalysisNoon));
  ButtonGroup group=new ButtonGroup();
  myProjectButton=new JRadioButton(AnalysisScopeBundle.message("scope.option.whole.project"));
  group.add(myProjectButton);
  panel.add(myProjectButton,gc);
  boolean useModuleScope=false;
  if (myModuleName != null) {
    myModuleButton=new JRadioButton(AnalysisScopeBundle.message("scope.option.module.with.mnemonic",myModuleName));
    group.add(myModuleButton);
    useModuleScope=uiOptions.SCOPE_TYPE == AnalysisScope.MODULE;
    myModuleButton.setSelected(myRememberScope && useModuleScope);
    panel.add(myModuleButton,gc);
  }
  myFileButton=new JRadioButton(myFileName);
  myFileButton.setMnemonic(myFileName.charAt(0));
  group.add(myFileButton);
  panel.add(myFileButton,gc);
  myCustomScopeButton=new JRadioButton(AnalysisScopeBundle.message("scope.option.custom"));
  myCustomScopeButton.setSelected(myRememberScope && uiOptions.SCOPE_TYPE == AnalysisScope.CUSTOM);
  group.add(myCustomScopeButton);
  gc.gridwidth=1;
  panel.add(myCustomScopeButton,gc);
  myScopeCombo=new ScopeChooserCombo(myProject,false,true,uiOptions.CUSTOM_SCOPE_NAME.length() > 0 ? uiOptions.CUSTOM_SCOPE_NAME : FindSettings.getInstance().getDefaultScopeName());
  gc.gridx=1;
  panel.add(myScopeCombo,gc);
  gc.gridx=0;
  gc.gridwidth=2;
  myInspectTestSource=new JCheckBox(AnalysisScopeBundle.message("scope.option.include.test.sources"),uiOptions.ANALYZE_TEST_SOURCES);
  gc.insets.left=15;
  panel.add(myInspectTestSource,gc);
  myProjectButton.setSelected(myRememberScope && uiOptions.SCOPE_TYPE == AnalysisScope.PROJECT);
  myFileButton.setSelected(!myRememberScope || (uiOptions.SCOPE_TYPE != AnalysisScope.PROJECT && !useModuleScope && uiOptions.SCOPE_TYPE != AnalysisScope.CUSTOM));
  JPanel wholePanel=new JPanel(new BorderLayout());
  wholePanel.add(panel,BorderLayout.NORTH);
  final JComponent additionalPanel=getAdditionalActionSettings(myProject);
  if (additionalPanel != null) {
    wholePanel.add(additionalPanel,BorderLayout.CENTER);
  }
  return wholePanel;
}
