{
  final InspectionManagerEx.UIOptions uiOptions=((InspectionManagerEx)InspectionManagerEx.getInstance(myProject)).getUIOptions();
  JPanel wholePanel=new JPanel(new BorderLayout());
  JPanel panel=new JPanel(new GridBagLayout());
  GridBagConstraints gc=new GridBagConstraints(0,GridBagConstraints.RELATIVE,1,1,1,0,GridBagConstraints.WEST,GridBagConstraints.NONE,new Insets(0,0,0,0),0,0);
  panel.setBorder(IdeBorderFactory.createTitledBorder(myAnalysisNoon));
  myFileButton=new JRadioButton(myFileName);
  myFileButton.setMnemonic(myFileName.indexOf("F") > -1 ? KeyEvent.VK_F : KeyEvent.VK_M);
  myProjectButton=new JRadioButton("Whole project");
  myProjectButton.setMnemonic(KeyEvent.VK_W);
  ButtonGroup group=new ButtonGroup();
  group.add(myProjectButton);
  group.add(myFileButton);
  panel.add(myProjectButton,gc);
  boolean useModuleScope=false;
  if (myModuleName != null) {
    myModuleButton=new JRadioButton("Module \'" + myModuleName + "\'");
    myModuleButton.setMnemonic(KeyEvent.VK_M);
    group.add(myModuleButton);
    useModuleScope=uiOptions.SCOPE_TYPE == AnalysisScope.MODULE;
    myModuleButton.setSelected(myRememberScope && useModuleScope);
    panel.add(myModuleButton,gc);
  }
  panel.add(myFileButton,gc);
  myInspectTestSource=new JCheckBox("Include Test Sources",uiOptions.ANALYZE_TEST_SOURCES);
  gc.insets.left=15;
  panel.add(myInspectTestSource,gc);
  wholePanel.add(panel,BorderLayout.NORTH);
  final JComponent additionalPanel=getAdditionalActionSettings(myProject);
  if (additionalPanel != null) {
    wholePanel.add(additionalPanel,BorderLayout.CENTER);
  }
  myProjectButton.setSelected(myRememberScope && uiOptions.SCOPE_TYPE == AnalysisScope.PROJECT);
  myFileButton.setSelected(!myRememberScope || (uiOptions.SCOPE_TYPE != AnalysisScope.PROJECT && !useModuleScope));
  return wholePanel;
}
