{
  if (filePath.isDirectory()) {
    showChangesDialog(project,getDialogTitle(filePath,revNumTitle1,revNumTitle2),ContainerUtil.newArrayList(changes));
  }
 else {
    if (changes.isEmpty()) {
      DiffManager.getInstance().showDiff(project,new MessageDiffRequest("No Changes Found"));
    }
 else {
      final HashMap<Key,Object> revTitlesMap=new HashMap<>(2);
      revTitlesMap.put(VCS_DIFF_LEFT_CONTENT_TITLE,revNumTitle1);
      revTitlesMap.put(VCS_DIFF_RIGHT_CONTENT_TITLE,revNumTitle2);
      ShowDiffContext showDiffContext=new ShowDiffContext(){
        @NotNull @Override public Map<Key,Object> getChangeContext(        @NotNull Change change){
          return revTitlesMap;
        }
      }
;
      ShowDiffAction.showDiffForChange(project,changes,0,showDiffContext);
    }
  }
}
