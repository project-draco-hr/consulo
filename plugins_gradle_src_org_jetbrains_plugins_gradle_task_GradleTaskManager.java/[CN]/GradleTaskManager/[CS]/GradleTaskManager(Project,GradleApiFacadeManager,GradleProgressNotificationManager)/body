{
  super(project);
  myFacadeManager=facadeManager;
  myProgressNotificationManager=notificationManager;
  if (ApplicationManager.getApplication().isUnitTestMode()) {
    return;
  }
  notificationManager.addNotificationListener(this);
  myAlarm.addRequest(new Runnable(){
    @Override public void run(){
      try {
        for (        Long limit : myTasksInProgress.values()) {
          if (limit <= System.currentTimeMillis()) {
            update();
            break;
          }
        }
      }
  finally {
        myAlarm.cancelAllRequests();
        myAlarm.addRequest(this,DETECT_HANGED_TASKS_FREQUENCY_MILLIS);
      }
    }
  }
,DETECT_HANGED_TASKS_FREQUENCY_MILLIS);
}
