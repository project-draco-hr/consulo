{
  try {
    final Map<GradleTaskType,Set<GradleTaskId>> currentState=myFacadeManager.getFacade().getTasksInProgress();
    myTasksInProgress.clear();
    for (    Set<GradleTaskId> ids : currentState.values()) {
      for (      GradleTaskId id : ids) {
        myTasksInProgress.put(id,System.currentTimeMillis() + REFRESH_DELAY_MILLIS);
      }
    }
  }
 catch (  Exception e) {
    GradleLog.LOG.warn(String.format("Can't refresh active tasks. Reason: %s",GradleUtil.buildErrorMessage(e)));
  }
}
