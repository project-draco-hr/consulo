{
  if (myXmlIndex == null) {
    myXmlIndex=CachedValuesManager.getManager(myProject).createCachedValue(new CachedValueProvider<Collection<String>>(){
      public Result<Collection<String>> compute(){
        final Map<ElementPattern<?>,BaseInjection> map=new THashMap<ElementPattern<?>,BaseInjection>();
        for (        BaseInjection injection : myConfiguration.getInjections(XmlLanguageInjectionSupport.XML_SUPPORT_ID)) {
          for (          InjectionPlace place : injection.getInjectionPlaces()) {
            if (!place.isEnabled() || place.getElementPattern() == null)             continue;
            map.put(place.getElementPattern(),injection);
          }
        }
        final Set<String> stringSet=PatternValuesIndex.buildStringIndex(map.keySet());
        final Result<Collection<String>> r=new Result<Collection<String>>(stringSet,myConfiguration);
        r.setLockValue(true);
        return r;
      }
    }
,false);
  }
  return myXmlIndex.getValue();
}
