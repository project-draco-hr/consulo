{
  FilePointerPartNode root=myPointers.get(listener);
  FilePointerPartNode node;
  if (root == null) {
    root=new FilePointerPartNode(path,null,fileAndUrl);
    myPointers.put(listener,root);
    node=root;
  }
 else {
    node=root.findPointerOrCreate(path,0,fileAndUrl);
  }
  VirtualFilePointerImpl pointer;
  if (node.leaf == null) {
    pointer=new VirtualFilePointerImpl(listener,parentDisposable,fileAndUrl);
    node.associate(pointer,fileAndUrl);
  }
 else {
    pointer=node.leaf;
  }
  pointer.myNode.incrementUsageCount(1);
  root.checkStructure();
  return pointer;
}
