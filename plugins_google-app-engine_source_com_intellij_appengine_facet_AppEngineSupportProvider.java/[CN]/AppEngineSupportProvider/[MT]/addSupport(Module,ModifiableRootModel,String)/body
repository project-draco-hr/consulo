{
  super.addSupport(module,rootModel,null,null);
  final AppEngineFacet appEngineFacet=FacetManager.getInstance(module).getFacetByType(AppEngineFacet.ID);
  LOG.assertTrue(appEngineFacet != null);
  appEngineFacet.getConfiguration().setSdkHomePath(sdkPath);
  final AppEngineSdk sdk=appEngineFacet.getSdk();
  final ApplicationServer appServer=sdk.getOrCreateAppServer();
  if (appServer != null) {
    final ConfigurationFactory type=AppEngineServerConfigurationType.getInstance().getConfigurationFactories()[0];
    final RunManagerEx runManager=RunManagerEx.getInstanceEx(module.getProject());
    final RunnerAndConfigurationSettingsImpl runSettings=(RunnerAndConfigurationSettingsImpl)runManager.createRunConfiguration("AppEngine Dev",type);
    final CommonStrategy configuration=(CommonStrategy)runSettings.getConfiguration();
    configuration.setApplicationServer(appServer);
    configuration.setUrlToOpenInBrowser(configuration.getDefaultUrlForBrowser());
    ((AppEngineServerModel)configuration.getServerModel()).setWebFacet(appEngineFacet.getWebFacet());
    runManager.addConfiguration(runSettings,false);
    runManager.setActiveConfiguration(runSettings);
  }
}
