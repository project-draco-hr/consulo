{
  final LibraryTable table=library.getTable();
  if (table != null && LibraryTablesRegistrar.APPLICATION_LEVEL.equals(table.getTableLevel())) {
    return Collections.<SimpleClasspathElement>singletonList(new GlobalLibraryReferenceElement(library.getName()));
  }
  final List<SimpleClasspathElement> elements=new ArrayList<SimpleClasspathElement>();
  for (  VirtualFile file : library.getFiles(BinariesOrderRootType.getInstance())) {
    elements.add(new SingleRootClasspathElement(file.getUrl()));
  }
  return elements;
}
