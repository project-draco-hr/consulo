{
  for (  Descriptor key : myDescriptors.keySet()) {
    for (    Descriptor descriptor : myDescriptors.get(key)) {
      if (mySelectedProfile.getErrorLevel(descriptor.getKey(),descriptor.getScope()) != descriptor.getLevel()) {
        myModified=true;
        return;
      }
      InspectionProfileEntry tool=descriptor.getTool();
      if (tool != null) {
        if (mySelectedProfile.isToolEnabled(descriptor.getKey())) {
          Element oldConfig=descriptor.getConfig();
          if (oldConfig == null)           continue;
          @NonNls Element newConfig=new Element("options");
          try {
            tool.writeSettings(newConfig);
          }
 catch (          WriteExternalException e) {
            LOG.error(e);
          }
          if (!JDOMUtil.areElementsEqual(oldConfig,newConfig)) {
            myAlarm.cancelAllRequests();
            myAlarm.addRequest(new Runnable(){
              public void run(){
                myTree.repaint();
              }
            }
,300);
            myModified=true;
            return;
          }
        }
      }
    }
  }
  myModified=false;
}
