{
  if (mySelectedProfile == null)   return;
  myDescriptors.clear();
  List<ScopeToolState> tools=mySelectedProfile.getDefaultStates();
  final InspectionProfile profile=mySelectedProfile;
  final InspectionProfile inspectionProfile=profile != null ? profile : InspectionProfileImpl.getDefaultProfile();
  for (  ScopeToolState state : tools) {
    final ArrayList<Descriptor> descriptors=new ArrayList<Descriptor>();
    myDescriptors.put(new Descriptor(state,inspectionProfile),descriptors);
    final List<ScopeToolState> nonDefaultTools=mySelectedProfile.getNonDefaultTools(state.getTool().getShortName());
    if (nonDefaultTools != null) {
      for (      ScopeToolState nonDefaultToolState : nonDefaultTools) {
        descriptors.add(new Descriptor(nonDefaultToolState,inspectionProfile));
      }
    }
  }
}
