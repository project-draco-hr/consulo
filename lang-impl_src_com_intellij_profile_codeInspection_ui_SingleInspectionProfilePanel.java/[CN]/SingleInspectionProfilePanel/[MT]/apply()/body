{
  final ModifiableModel selectedProfile=getSelectedProfile();
  final InspectionProfile parentProfile=selectedProfile.getParentProfile();
  if (InspectionProfileManager.getInstance().getSchemesManager().isShared(selectedProfile)) {
    if (descriptorsAreChanged()) {
      throw new ConfigurationException("Shared profile cannot be modified. Please do \"Save As...\" first.");
    }
  }
  try {
    selectedProfile.commit();
  }
 catch (  IOException e) {
    throw new ConfigurationException(e.getMessage());
  }
  setSelectedProfile(parentProfile.getModifiableModel());
  setSelectedProfileModified(false);
  myModified=false;
}
