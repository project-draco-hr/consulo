{
  final Presentation presentation=e.getPresentation();
  presentation.setEnabled(false);
  if (mySelectedProfile == null)   return;
  final Project project=PlatformDataKeys.PROJECT.getData(e.getDataContext());
  if (project == null)   return;
  final MyTreeNode[] nodes=myTree.getSelectedNodes(MyTreeNode.class,null);
  if (nodes.length > 0) {
    final MyTreeNode node=nodes[0];
    final Descriptor descriptor=node.getDesriptor();
    if (descriptor != null && node.getScope() == null && !getAvailableScopes(descriptor,project).isEmpty()) {
      presentation.setEnabled(true);
    }
  }
}
