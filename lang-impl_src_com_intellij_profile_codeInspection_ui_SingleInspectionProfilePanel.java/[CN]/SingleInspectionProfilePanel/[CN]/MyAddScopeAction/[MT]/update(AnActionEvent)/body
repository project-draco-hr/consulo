{
  final Presentation presentation=e.getPresentation();
  presentation.setEnabled(false);
  if (mySelectedProfile == null)   return;
  if (mySelectedProfile.getProfileManager().getScopesManager() == null)   return;
  final MyTreeNode[] nodes=myTree.getSelectedNodes(MyTreeNode.class,null);
  if (nodes.length > 0) {
    final MyTreeNode node=nodes[0];
    final Descriptor descriptor=node.getDesriptor();
    if (descriptor != null && node.getScope() == null && !getAvailableScopes(descriptor).isEmpty()) {
      presentation.setEnabled(true);
    }
  }
}
