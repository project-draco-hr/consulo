{
  final JComboBox comboBox=getComboBox();
  final DefaultComboBoxModel model=new DefaultComboBoxModel();
  comboBox.setModel(model);
  fillModel(model,severityRegistrar);
  comboBox.setRenderer(ourRenderer);
  addActionListener(new ActionListener(){
    public void actionPerformed(    ActionEvent e){
      final SeverityEditorDialog dlg=new SeverityEditorDialog(LevelChooser.this,(HighlightSeverity)getComboBox().getSelectedItem(),severityRegistrar);
      dlg.show();
      if (dlg.isOK()) {
        final Object item=getComboBox().getSelectedItem();
        fillModel(model,severityRegistrar);
        final HighlightInfoType type=dlg.getSelectedType();
        if (type != null) {
          getComboBox().setSelectedItem(type.getSeverity(null));
        }
 else {
          getComboBox().setSelectedItem(item);
        }
      }
    }
  }
);
}
