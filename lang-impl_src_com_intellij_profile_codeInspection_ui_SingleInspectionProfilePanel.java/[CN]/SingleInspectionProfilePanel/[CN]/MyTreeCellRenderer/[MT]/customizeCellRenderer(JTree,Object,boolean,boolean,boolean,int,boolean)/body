{
  MyTreeNode node=(MyTreeNode)value;
  Object object=node.getUserObject();
  final Color background=selected ? UIUtil.getTreeSelectionBackground() : UIUtil.getTreeTextBackground();
  setBackground(background);
  @NonNls String text=null;
  int style=Font.PLAIN;
  String hint=null;
  if (object instanceof String) {
    text=(String)object;
    style=Font.BOLD;
  }
 else {
    final Descriptor descriptor=node.getDesriptor();
    final NamedScope namedScope=node.getScope();
    if (namedScope != null) {
      if (node.isByDefault()) {
        text="Everywhere except";
      }
 else {
        text="In scope \'" + namedScope.getName() + "\'";
      }
    }
 else {
      text=descriptor.getText();
    }
    hint=getHint(descriptor);
  }
  Color foreground=selected ? UIUtil.getTreeSelectionForeground() : node.isProperSetting ? Color.BLUE : UIUtil.getTreeTextForeground();
  if (text != null) {
    SearchUtil.appendFragments(myProfileFilter != null ? myProfileFilter.getFilter() : null,text,style,foreground,background,getTextRenderer());
  }
  if (hint != null) {
    getTextRenderer().append(" " + hint,selected ? new SimpleTextAttributes(Font.PLAIN,foreground) : SimpleTextAttributes.GRAYED_ATTRIBUTES);
  }
  setForeground(foreground);
}
