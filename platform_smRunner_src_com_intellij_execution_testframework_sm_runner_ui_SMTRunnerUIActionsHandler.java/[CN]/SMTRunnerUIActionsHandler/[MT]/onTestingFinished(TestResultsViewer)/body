{
  final SMTestProxy testsRootNode=sender.getTestsRootNode();
  if (TestConsoleProperties.SELECT_FIRST_DEFECT.value(myConsoleProperties)) {
    final AbstractTestProxy firstDefect;
    final List<SMTestProxy> allTests=testsRootNode.getAllTests();
    final AbstractTestProxy firstError=ProxyFilters.ERROR_LEAF.detectIn(allTests);
    if (firstError != null) {
      firstDefect=firstError;
    }
 else {
      final AbstractTestProxy firstFailure=ProxyFilters.FAILURE_LEAF.detectIn(allTests);
      if (firstFailure != null) {
        firstDefect=firstFailure;
      }
 else {
        firstDefect=Filter.DEFECTIVE_LEAF.detectIn(allTests);
      }
    }
    if (firstDefect != null) {
      sender.selectAndNotify(firstDefect);
    }
  }
}
