{
  myInitialTargetDirectory=initialTargetDirectory;
  if (targetPackageName.length() != 0) {
    myWithBrowseButtonReference.prependItem(targetPackageName);
  }
  if (psiElements.length == 1) {
    PsiElement firstElement=psiElements[0];
    PsiElement parent=firstElement.getParent();
    LOG.assertTrue(parent != null);
    String parentLongName=UsageViewUtil.getLongName(parent);
    String text="Move " + UsageViewUtil.getType(firstElement) + " ";
    if (!"".equals(parentLongName)) {
      text+=UsageViewUtil.getShortName(firstElement) + " from " + parentLongName;
    }
 else {
      text+=UsageViewUtil.getLongName(firstElement);
    }
    myNameLabel.setText(text);
  }
 else   if (psiElements.length > 1) {
    myNameLabel.setText((psiElements[0] instanceof PsiClass) ? "Move specified classes" : "Move specified packages");
  }
  myCbSearchInComments.setSelected(searchInComments);
  myCbSearchTextOccurences.setSelected(searchInNonJavaFiles);
  if (getSourceRoots().length == 1) {
    myCbPreserveSourceFolders.setSelected(true);
    myCbPreserveSourceFolders.setEnabled(false);
  }
 else {
    myCbPreserveSourceFolders.setSelected(!isTargetDirectoryFixed);
  }
  validateOKButton();
  myHelpID=helpID;
}
