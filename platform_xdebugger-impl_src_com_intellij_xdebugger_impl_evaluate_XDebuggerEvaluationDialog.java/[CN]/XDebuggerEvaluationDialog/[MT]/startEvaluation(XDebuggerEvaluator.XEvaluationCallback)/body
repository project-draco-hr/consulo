{
  final XDebuggerEditorBase inputEditor=myInputComponent.getInputEditor();
  inputEditor.saveTextInHistory();
  String expression=inputEditor.getText();
  XStackFrame frame=mySession.getCurrentStackFrame();
  XDebuggerEvaluator evaluator=frame == null ? null : frame.getEvaluator();
  if (evaluator == null) {
    evaluationCallback.errorOccurred(XDebuggerBundle.message("xdebugger.evaluate.stack.frame.has.not.evaluator"));
  }
 else {
    evaluator.evaluate(expression,evaluationCallback,null,inputEditor.getMode());
  }
}
