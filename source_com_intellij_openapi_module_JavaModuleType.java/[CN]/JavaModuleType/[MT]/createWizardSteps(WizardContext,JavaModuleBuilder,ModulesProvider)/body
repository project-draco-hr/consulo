{
  final ProjectWizardStepFactory wizardFactory=ProjectWizardStepFactory.getInstance();
  ArrayList<ModuleWizardStep> steps=new ArrayList<ModuleWizardStep>();
  steps.add(wizardFactory.createSourcePathsStep(wizardContext,moduleBuilder,getWizardIcon(),"reference.dialogs.new.project.fromScratch.source"));
  steps.add(wizardFactory.createProjectJdkStep(wizardContext));
  if (!FrameworkSupportUtil.getProviders(moduleBuilder).isEmpty()) {
    steps.add(new SupportForFrameworksStep(moduleBuilder,LibrariesContainerFactory.createContainer(wizardContext.getProject())));
  }
  final ModuleWizardStep[] wizardSteps=steps.toArray(new ModuleWizardStep[steps.size()]);
  return ArrayUtil.mergeArrays(wizardSteps,super.createWizardSteps(wizardContext,moduleBuilder,modulesProvider),ModuleWizardStep.class);
}
