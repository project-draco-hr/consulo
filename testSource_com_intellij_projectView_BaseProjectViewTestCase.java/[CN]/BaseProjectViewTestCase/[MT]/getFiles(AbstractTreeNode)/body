{
  if (kid instanceof BasePsiNode) {
    Object value=((BasePsiNode)kid).getValue();
    if (value instanceof PsiDirectory) {
      return new VirtualFile[]{((PsiDirectory)value).getVirtualFile()};
    }
 else {
      PsiFile containingFile=((PsiElement)value).getContainingFile();
      assertNotNull(value.toString(),containingFile);
      return new VirtualFile[]{containingFile.getVirtualFile()};
    }
  }
 else   if (kid instanceof PackageElementNode) {
    return ((PackageElementNode)kid).getVirtualFiles();
  }
 else {
    return new VirtualFile[0];
  }
}
