{
  if (myProject.getName().compareTo("idea") == 0) {
    final ModifiableModuleModel modulesModel=ModuleManager.getInstance(myProject).getModifiableModel();
    final Module[] modules=modulesModel.getModules();
    final ModifiableRootModel[] models=new ModifiableRootModel[modules.length];
    int idx=0;
    for (    Module module : modules) {
      final ModifiableRootModel model=ModuleRootManager.getInstance(module).getModifiableModel();
      final ContentEntry[] entries=model.getContentEntries();
      models[idx++]=model;
      for (      ContentEntry entry : entries) {
        final VirtualFile virtualFile=entry.getFile();
        if (virtualFile == null)         continue;
        if (virtualFile.getName().equals("testData")) {
          entry.addExcludeFolder(virtualFile);
          break;
        }
        if (virtualFile.isDirectory()) {
          final VirtualFile[] children=virtualFile.getChildren();
          for (          VirtualFile child : children) {
            if (child.getName().equals("testData")) {
              entry.addExcludeFolder(child);
            }
          }
        }
      }
    }
    ApplicationManager.getApplication().runWriteAction(new Runnable(){
      public void run(){
        ProjectRootManagerEx.getInstanceEx(myProject).multiCommit(modulesModel,models);
      }
    }
);
  }
}
