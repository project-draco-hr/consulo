{
  final SvnVcs vcs=SvnVcs.getInstance(project);
  final SVNChangelistClient client=vcs.createChangelistClient();
  try {
    final Ref<String> refResult=new Ref<String>();
    final ISVNChangelistHandler handler=new ISVNChangelistHandler(){
      public void handle(      final File path,      final String changelistName){
        if (refResult.isNull() && Comparing.equal(path,file)) {
          refResult.set(changelistName);
        }
      }
    }
;
    if (file.exists()) {
      client.doGetChangeLists(file,null,SVNDepth.EMPTY,handler);
    }
 else     if (file.getParentFile() != null) {
      client.doGetChangeLists(file.getParentFile(),null,SVNDepth.IMMEDIATES,handler);
    }
    return refResult.get();
  }
 catch (  SVNException e) {
    LOG.info(e);
  }
  return null;
}
