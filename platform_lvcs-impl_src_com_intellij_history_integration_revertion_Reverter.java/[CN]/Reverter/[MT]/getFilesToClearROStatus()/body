{
  final Set<VirtualFile> files=new HashSet<VirtualFile>();
  myVcs.accept(selective(new ChangeVisitor(){
    @Override public void visit(    StructuralChange c) throws StopVisitingException {
      files.addAll(myGateway.getAllFilesFrom(c.getPath()));
    }
  }
));
  return new ArrayList<VirtualFile>(files);
}
