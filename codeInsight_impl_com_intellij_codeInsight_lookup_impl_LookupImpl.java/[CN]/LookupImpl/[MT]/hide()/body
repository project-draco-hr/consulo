{
  if (myDisposed)   return;
  if (IdeEventQueue.getInstance().getPopupManager().closeActivePopup()) {
    return;
  }
  myDisposed=true;
  myEditor.getCaretModel().removeCaretListener(myEditorCaretListener);
  myEditor.removeEditorMouseListener(myEditorMouseListener);
  myEditor.getDocument().removeDocumentListener(myDocumentListener);
  myEditor.putUserData(LOOKUP_IN_EDITOR_KEY,null);
  super.hide();
  if (myCanceled) {
    fireLookupCanceled();
  }
}
