{
  if (myDisposed)   return;
  final JBPopup docInfoHint=JavaDocManager.getInstance(myProject).getDocInfoHint();
  if (docInfoHint != null && docInfoHint.isVisible()) {
    docInfoHint.cancel();
    return;
  }
  myDisposed=true;
  myEditor.getCaretModel().removeCaretListener(myEditorCaretListener);
  myEditor.removeEditorMouseListener(myEditorMouseListener);
  myEditor.getDocument().removeDocumentListener(myDocumentListener);
  myEditor.putUserData(LOOKUP_IN_EDITOR_KEY,null);
  super.hide();
  if (myCanceled) {
    fireLookupCanceled();
  }
}
