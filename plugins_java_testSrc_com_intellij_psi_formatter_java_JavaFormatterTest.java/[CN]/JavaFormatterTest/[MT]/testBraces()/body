{
  final CommonCodeStyleSettings settings=getSettings();
  @NonNls final String text="class Foo {\n" + "void foo () {\n" + "if (a) {\n"+ "int i = 0;\n"+ "}\n"+ "}\n"+ "}";
  settings.BRACE_STYLE=CommonCodeStyleSettings.END_OF_LINE;
  settings.METHOD_BRACE_STYLE=CommonCodeStyleSettings.END_OF_LINE;
  doTextTest(text,"class Foo {\n" + "    void foo() {\n" + "        if (a) {\n"+ "            int i = 0;\n"+ "        }\n"+ "    }\n"+ "}");
  settings.BRACE_STYLE=CommonCodeStyleSettings.NEXT_LINE;
  settings.METHOD_BRACE_STYLE=CommonCodeStyleSettings.NEXT_LINE;
  doTextTest(text,"class Foo {\n" + "    void foo()\n" + "    {\n"+ "        if (a)\n"+ "        {\n"+ "            int i = 0;\n"+ "        }\n"+ "    }\n"+ "}");
  settings.METHOD_BRACE_STYLE=CommonCodeStyleSettings.NEXT_LINE_SHIFTED;
  settings.BRACE_STYLE=CommonCodeStyleSettings.NEXT_LINE_SHIFTED;
  doTextTest(text,"class Foo {\n" + "    void foo()\n" + "        {\n"+ "        if (a)\n"+ "            {\n"+ "            int i = 0;\n"+ "            }\n"+ "        }\n"+ "}");
  settings.METHOD_BRACE_STYLE=CommonCodeStyleSettings.NEXT_LINE_SHIFTED;
  settings.BRACE_STYLE=CommonCodeStyleSettings.END_OF_LINE;
  doTextTest(text,"class Foo {\n" + "    void foo()\n" + "        {\n"+ "        if (a) {\n"+ "            int i = 0;\n"+ "        }\n"+ "        }\n"+ "}");
  settings.METHOD_BRACE_STYLE=CommonCodeStyleSettings.NEXT_LINE_SHIFTED2;
  settings.BRACE_STYLE=CommonCodeStyleSettings.NEXT_LINE_SHIFTED2;
  doTextTest(text,"class Foo {\n" + "    void foo()\n" + "        {\n"+ "            if (a)\n"+ "                {\n"+ "                    int i = 0;\n"+ "                }\n"+ "        }\n"+ "}");
  settings.BRACE_STYLE=CommonCodeStyleSettings.NEXT_LINE;
  doTextTest("class Foo {\n" + "    static{\n" + "foo();\n"+ "}"+ "}","class Foo {\n" + "    static\n" + "    {\n"+ "        foo();\n"+ "    }\n"+ "}");
}
