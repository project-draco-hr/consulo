{
  getSettings().getRootSettings().RIGHT_MARGIN=144;
  getSettings().TERNARY_OPERATION_WRAP=CommonCodeStyleSettings.WRAP_ON_EVERY_ITEM;
  getSettings().METHOD_CALL_CHAIN_WRAP=CommonCodeStyleSettings.WRAP_AS_NEEDED;
  getSettings().ALIGN_MULTILINE_TERNARY_OPERATION=true;
  getSettings().TERNARY_OPERATION_SIGNS_ON_NEXT_LINE=true;
  doTextTest("class Foo{\n" + "    void foo() {\n" + "final VirtualFile moduleRoot = moduleRelativePath.equals(\"\") ? projectRootDirAfter : projectRootDirAfter.findFileByRelativePath(moduleRelativePath);\n"+ "    }\n"+ "}","class Foo {\n" + "    void foo() {\n" + "        final VirtualFile moduleRoot = moduleRelativePath.equals(\"\")\n"+ "                                       ? projectRootDirAfter\n"+ "                                       : projectRootDirAfter.findFileByRelativePath(moduleRelativePath);\n"+ "    }\n"+ "}");
}
