{
  getSettings().ARRAY_INITIALIZER_WRAP=CommonCodeStyleSettings.WRAP_AS_NEEDED;
  getSettings().ALIGN_MULTILINE_ARRAY_INITIALIZER_EXPRESSION=false;
  getSettings().getRootSettings().RIGHT_MARGIN=37;
  doTextTest("class Foo{\n" + "    public int[] i = new int[]{1,2,3,4,5,6,7,8,9};\n" + "    void foo() {\n"+ "        foo(new int[]{1,2,3,4,5,6,7,8,9});\n"+ "    }"+ "}","class Foo {\n" + "    public int[] i = new int[]{1, 2,\n" + "            3, 4, 5, 6, 7, 8, 9};\n"+ "\n"+ "    void foo() {\n"+ "        foo(new int[]{1, 2, 3, 4, 5,\n"+ "                6, 7, 8, 9});\n"+ "    }\n"+ "}");
  getSettings().ALIGN_MULTILINE_ARRAY_INITIALIZER_EXPRESSION=true;
  doTextTest("class Foo{\n" + "    public int[] i = new int[]{1,2,3,4,5,6,7,8,9};\n" + "    void foo() {\n"+ "        foo(new int[]{1,2,3,4,5,6,7,8,9});\n"+ "    }"+ "}","class Foo {\n" + "    public int[] i = new int[]{1, 2,\n" + "                               3, 4,\n"+ "                               5, 6,\n"+ "                               7, 8,\n"+ "                               9};\n"+ "\n"+ "    void foo() {\n"+ "        foo(new int[]{1, 2, 3, 4, 5,\n"+ "                      6, 7, 8, 9});\n"+ "    }\n"+ "}");
}
