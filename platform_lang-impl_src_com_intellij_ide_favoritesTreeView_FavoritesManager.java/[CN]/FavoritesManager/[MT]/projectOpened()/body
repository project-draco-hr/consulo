{
  if (!ApplicationManager.getApplication().isUnitTestMode()) {
    StartupManager.getInstance(myProject).registerPostStartupActivity(new DumbAwareRunnable(){
      public void run(){
        final FavoritesListProvider[] providers=Extensions.getExtensions(EP_NAME,myProject);
        for (        FavoritesListProvider provider : providers) {
          myProviders.put(provider.getListName(myProject),provider);
        }
        final MyRootsChangeAdapter myPsiTreeChangeAdapter=new MyRootsChangeAdapter();
        PsiManager.getInstance(myProject).addPsiTreeChangeListener(myPsiTreeChangeAdapter,myProject);
        if (myName2FavoritesRoots.isEmpty()) {
          myDescriptions.put(myProject.getName(),"auto-added");
          createNewList(myProject.getName());
        }
      }
    }
);
  }
}
