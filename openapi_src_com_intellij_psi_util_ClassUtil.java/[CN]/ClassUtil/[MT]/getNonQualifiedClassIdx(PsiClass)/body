{
  final int[] result=new int[]{-1};
  final PsiClass containingClass=PsiTreeUtil.getParentOfType(psiClass,PsiClass.class);
  if (containingClass != null) {
    containingClass.accept(new PsiRecursiveElementVisitor(){
      private int myCurrentIdx=0;
      public void visitElement(      PsiElement element){
        if (result[0] == -1) {
          super.visitElement(element);
        }
      }
      public void visitClass(      PsiClass aClass){
        super.visitClass(aClass);
        if (aClass.getQualifiedName() == null) {
          myCurrentIdx++;
          if (psiClass == aClass) {
            result[0]=myCurrentIdx;
          }
        }
      }
    }
);
  }
  return result[0];
}
