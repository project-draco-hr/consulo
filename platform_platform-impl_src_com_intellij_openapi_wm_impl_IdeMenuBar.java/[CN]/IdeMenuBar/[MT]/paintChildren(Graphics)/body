{
  if (myState.isInProgress()) {
    Graphics2D g2=(Graphics2D)g;
    AffineTransform oldTransform=g2.getTransform();
    AffineTransform newTransform=oldTransform != null ? new AffineTransform(oldTransform) : new AffineTransform();
    newTransform.concatenate(AffineTransform.getTranslateInstance(0,getHeight() - super.getPreferredSize().height));
    g2.setTransform(newTransform);
    super.paintChildren(g2);
    g2.setTransform(oldTransform);
  }
 else   if (myState != State.COLLAPSED) {
    super.paintChildren(g);
  }
}
