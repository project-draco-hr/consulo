{
  myActionManager=actionManager;
  myTimerListener=new MyTimerListener();
  myVisibleActions=new ArrayList<AnAction>();
  myNewVisibleActions=new ArrayList<AnAction>();
  myPresentationFactory=new MenuItemPresentationFactory();
  myDataManager=dataManager;
  if (SystemInfo.isWindows) {
    addMouseListener(new MouseAdapter(){
    }
);
    myAnimator=new MyAnimator();
    Toolkit.getDefaultToolkit().addAWTEventListener(new MyAWTEventListener(),AWTEvent.MOUSE_MOTION_EVENT_MASK | AWTEvent.MOUSE_EVENT_MASK);
    myActivationWatcher=new Timer(100,new MyActionListener());
    myClockPanel=new ClockPanel();
    add(myClockPanel);
  }
 else {
    myAnimator=null;
    myActivationWatcher=null;
    myClockPanel=null;
  }
}
