{
  final PsiReferenceExpression methodExpression=methodCallExpression.getMethodExpression();
  final String methodName=methodExpression.getReferenceName();
  String enabledFor=null;
  if ("isDebugEnabled".equals(methodName)) {
    enabledFor="debug";
  }
 else   if ("isInfoEnabled".equals(methodName)) {
    enabledFor="info";
  }
 else   if ("isTraceEnabled".equals(methodName)) {
    enabledFor="trace";
  }
 else   if ("isEnabledFor".equals(methodName)) {
    final PsiExpressionList argumentList=methodCallExpression.getArgumentList();
    final PsiExpression[] arguments=argumentList.getExpressions();
    for (    PsiExpression argument : arguments) {
      if (!(argument instanceof PsiReferenceExpression)) {
        continue;
      }
      final PsiReferenceExpression argumentReference=(PsiReferenceExpression)argument;
      final PsiType type=argument.getType();
      if (!(type instanceof PsiClassType)) {
        continue;
      }
      final PsiClassType classType=(PsiClassType)type;
      final PsiClass aClass=classType.resolve();
      if (!InheritanceUtil.isInheritor(aClass,"org.apache.log4j.Priority")) {
        continue;
      }
      final PsiElement argumentTarget=argumentReference.resolve();
      if (!(argumentTarget instanceof PsiField)) {
        continue;
      }
      final PsiField field=(PsiField)argumentTarget;
      enabledFor=field.getName().toLowerCase();
    }
    if (enabledFor == null) {
      return false;
    }
  }
  return !priority.equals(enabledFor);
}
