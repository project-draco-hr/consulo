{
  final JComponent rendererComponent=(JComponent)myBaseRenderer.getTableCellRendererComponent(table,value,isSelected,hasFocus,row,column);
  if (isSelected) {
    rendererComponent.setBackground(table.getSelectionBackground());
    rendererComponent.setForeground(table.getSelectionForeground());
  }
 else {
    final Color bg=table.getBackground();
    rendererComponent.setBackground(UIUtil.isTableDecorationEnabled(table) ? UIUtil.getTableCellBackground(table,row) : bg);
    rendererComponent.setForeground(table.getForeground());
  }
  rendererComponent.setOpaque(isSelected);
  return rendererComponent;
}
