{
  final PsiBuilder.Marker comment=mark();
  advance();
  while (true) {
    final IElementType tt=token();
    if (tt == XML_COMMENT_CHARACTERS || tt == XML_CONDITIONAL_COMMENT_START || tt == XML_CONDITIONAL_COMMENT_START_END || tt == XML_CONDITIONAL_COMMENT_END_START || tt == XML_CONDITIONAL_COMMENT_END) {
      advance();
      continue;
    }
 else     if (tt == XML_BAD_CHARACTER) {
      final PsiBuilder.Marker error=mark();
      advance();
      error.error(XmlErrorMessages.message("xml.parsing.bad.character"));
      continue;
    }
    if (tt == XML_COMMENT_END) {
      advance();
    }
    break;
  }
  comment.done(XML_COMMENT);
}
