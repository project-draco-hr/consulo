{
  VirtualFile repo=repositorySelector.getRepository();
  HgResolveCommand command=new HgResolveCommand(project);
  Map<HgFile,HgResolveStatusEnum> status=command.list(repo);
  DefaultListModel model=new DefaultListModel();
  for (  Map.Entry<HgFile,HgResolveStatusEnum> entry : status.entrySet()) {
    if (entry.getValue() == HgResolveStatusEnum.UNRESOLVED) {
      model.addElement(entry.getKey().getRelativePath());
    }
  }
  setOKActionEnabled(!model.isEmpty());
  if (model.isEmpty()) {
    model.addElement("No conflicts to resolve");
  }
  conflictsList.setModel(model);
}
