{
  LibraryTable libraryTable=myPlatformFacade.getProjectLibraryTable(module.getProject());
  List<DataNode<LibraryData>> librariesToImport=ContainerUtilRt.newArrayList();
  for (  DataNode<LibraryDependencyData> dataNode : nodesToImport) {
    final LibraryDependencyData dependencyData=dataNode.getData();
    if (dependencyData.getLevel() != LibraryLevel.PROJECT) {
      continue;
    }
    final Library library=libraryTable.getLibraryByName(dependencyData.getName());
    if (library == null) {
      DataNode<ProjectData> projectNode=dataNode.getDataNode(ProjectKeys.PROJECT);
      if (projectNode != null) {
        DataNode<LibraryData> libraryNode=ExternalSystemApiUtil.find(projectNode,ProjectKeys.LIBRARY,new BooleanFunction<DataNode<LibraryData>>(){
          @Override public boolean fun(          DataNode<LibraryData> node){
            return node.getData().equals(dependencyData.getTarget());
          }
        }
);
        if (libraryNode != null) {
          librariesToImport.add(libraryNode);
        }
      }
    }
  }
  if (!librariesToImport.isEmpty()) {
    myLibraryManager.importData(librariesToImport,module.getProject(),synchronous);
  }
}
