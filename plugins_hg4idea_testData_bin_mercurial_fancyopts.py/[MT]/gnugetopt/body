def gnugetopt(args, options, longoptions):
    'Parse options mostly like getopt.gnu_getopt.\n\n    This is different from getopt.gnu_getopt in that an argument of - will\n    become an argument of - instead of vanishing completely.\n    '
    extraargs = []
    if ('--' in args):
        stopindex = args.index('--')
        extraargs = args[(stopindex + 1):]
        args = args[:stopindex]
    (opts, parseargs) = getopt.getopt(args, options, longoptions)
    args = []
    while parseargs:
        arg = parseargs.pop(0)
        if (arg and (arg[0] == '-') and (len(arg) > 1)):
            parseargs.insert(0, arg)
            (topts, newparseargs) = getopt.getopt(parseargs, options, longoptions)
            opts = (opts + topts)
            parseargs = newparseargs
        else:
            args.append(arg)
    args.extend(extraargs)
    return (opts, args)
