{
  if (myContext != null) {
    final Set<Pair<InspectionTool,InspectionProfile>> tools=myContext.getTools().get(getShortName());
    if (tools != null) {
      for (      Pair<InspectionTool,InspectionProfile> pair : tools) {
        if (pair.first == this) {
          return pair.second.getErrorLevel(HighlightDisplayKey.find(getShortName())).getSeverity();
        }
      }
    }
  }
  final PsiElement psiElement=element.getElement();
  if (psiElement != null) {
    final InspectionProfile profile=InspectionProjectProfileManager.getInstance(getContext().getProject()).getInspectionProfile(psiElement);
    final HighlightDisplayLevel level=profile.getErrorLevel(HighlightDisplayKey.find(getShortName()));
    return level.getSeverity();
  }
  return null;
}
