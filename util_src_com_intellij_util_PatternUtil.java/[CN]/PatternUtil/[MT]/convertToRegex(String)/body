{
  String[] strings=mask.split("\\\\",-1);
  StringBuffer pattern=new StringBuffer();
  String separator="";
  for (int i=0; i < strings.length; i++) {
    String string=strings[i];
    string=string.replaceAll("\\.","\\\\.");
    for (Iterator iterator=ourEscapeRulls.keySet().iterator(); iterator.hasNext(); ) {
      String toEscape=(String)iterator.next();
      string=string.replaceAll(toEscape,(String)ourEscapeRulls.get(toEscape));
    }
    pattern.append(separator);
    separator="\\\\";
    pattern.append(string);
  }
  return pattern.toString();
}
