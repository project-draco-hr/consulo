{
  PsiFileImpl clone=super.clone();
  if (!(clone instanceof PsiJavaFileBaseImpl)) {
    throw new AssertionError("Java file cloned as text: " + getTextLength() + "; "+ getViewProvider());
  }
  clone.clearCaches();
  return (PsiJavaFileBaseImpl)clone;
}
