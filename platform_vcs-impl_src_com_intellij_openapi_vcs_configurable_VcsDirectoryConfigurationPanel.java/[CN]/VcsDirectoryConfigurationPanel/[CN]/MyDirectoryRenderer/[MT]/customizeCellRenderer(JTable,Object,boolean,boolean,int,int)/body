{
  if (value instanceof VcsDirectoryMapping) {
    if (((VcsDirectoryMapping)value).isDefaultMapping()) {
      append(VcsDirectoryMapping.PROJECT_CONSTANT,SimpleTextAttributes.REGULAR_BOLD_ATTRIBUTES);
      return;
    }
    final VcsDirectoryMapping mapping=(VcsDirectoryMapping)value;
    String directory=mapping.getDirectory();
    VirtualFile baseDir=myProject.getBaseDir();
    if (baseDir != null) {
      final File directoryFile=new File(directory);
      File ioBase=new File(baseDir.getPath());
      if (directoryFile.isAbsolute() && !FileUtil.isAncestor(ioBase,directoryFile,false)) {
        append(directoryFile.getPath());
        return;
      }
      String relativePath=FileUtil.getRelativePath(ioBase,directoryFile);
      if (".".equals(relativePath)) {
        append(ioBase.getPath(),SimpleTextAttributes.REGULAR_BOLD_ATTRIBUTES);
      }
 else {
        append(relativePath,SimpleTextAttributes.REGULAR_BOLD_ATTRIBUTES);
        append(" (" + ioBase + ")");
      }
    }
  }
}
