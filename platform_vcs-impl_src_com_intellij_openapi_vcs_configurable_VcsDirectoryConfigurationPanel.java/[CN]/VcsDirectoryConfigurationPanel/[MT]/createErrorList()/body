{
  final int DEFAULT_HEIGHT=200;
  final JComponent errorPanel=Box.createVerticalBox();
  final JBScrollPane pane=new JBScrollPane(errorPanel);
  for (  Map.Entry<String,VcsRootChecker> entry : myCheckers.entrySet()) {
    VcsRootChecker checker=entry.getValue();
    for (    final String root : checker.getUnregisteredRoots()) {
      final String vcs=entry.getKey();
      String title="Unregistered " + vcs + " root: "+ FileUtil.toSystemDependentName(root);
      final VcsRootErrorLabel vcsRootErrorLabel=new VcsRootErrorLabel(title);
      vcsRootErrorLabel.setAddRootLinkHandler(new Runnable(){
        @Override public void run(){
          addMapping(new VcsDirectoryMapping(root,vcs));
          errorPanel.remove(vcsRootErrorLabel);
          if (errorPanel.getComponentCount() == 0) {
            pane.setVisible(false);
          }
          pane.setMinimumSize(new Dimension(-1,calcMinHeight(errorPanel,DEFAULT_HEIGHT)));
          validate();
        }
      }
);
      errorPanel.add(vcsRootErrorLabel);
    }
  }
  if (errorPanel.getComponentCount() == 0) {
    pane.setVisible(false);
  }
  pane.setMinimumSize(new Dimension(-1,calcMinHeight(errorPanel,DEFAULT_HEIGHT)));
  pane.setMaximumSize(new Dimension(-1,DEFAULT_HEIGHT));
  return pane;
}
