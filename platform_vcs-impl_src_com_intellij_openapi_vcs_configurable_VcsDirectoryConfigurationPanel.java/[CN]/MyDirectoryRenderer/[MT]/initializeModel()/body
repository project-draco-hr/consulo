{
  List<MapInfo> mappings=new ArrayList<>();
  for (  VcsDirectoryMapping mapping : ProjectLevelVcsManager.getInstance(myProject).getDirectoryMappings()) {
    mappings.add(MapInfo.registered(new VcsDirectoryMapping(mapping.getDirectory(),mapping.getVcs(),mapping.getRootSettings()),isMappingValid(mapping)));
  }
  Collection<VcsRootError> errors=findUnregisteredRoots();
  if (!errors.isEmpty()) {
    mappings.add(MapInfo.SEPARATOR);
    for (    VcsRootError error : errors) {
      mappings.add(MapInfo.unregistered(error.getMapping(),error.getVcsKey().getName()));
    }
  }
  myModel=new ListTableModel<>(new ColumnInfo[]{DIRECTORY,VCS_SETTING},mappings,0);
  myDirectoryMappingTable.setModelAndUpdateColumns(myModel);
  myRecentlyChangedConfigurable.reset();
  myLimitHistory.reset();
  myScopeFilterConfig.reset();
  myBaseRevisionTexts.setSelected(myVcsConfiguration.INCLUDE_TEXT_INTO_SHELF);
  myShowChangedRecursively.setSelected(myVcsConfiguration.SHOW_DIRTY_RECURSIVELY);
  myCommitMessageMarginConfigurable.reset();
  myShowUnversionedFiles.setSelected(myVcsConfiguration.SHOW_UNVERSIONED_FILES_WHILE_COMMIT);
  myCheckCommitMessageSpelling.setSelected(myVcsConfiguration.CHECK_COMMIT_MESSAGE_SPELLING);
}
