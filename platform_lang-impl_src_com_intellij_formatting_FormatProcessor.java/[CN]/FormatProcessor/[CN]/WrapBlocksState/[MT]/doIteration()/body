{
  if (isDone()) {
    return;
  }
  setDone(myWrapper.iteration());
  if (!isDone()) {
    return;
  }
  myInfos=myWrapper.getBlockToInfoMap();
  myRootBlockWrapper=myWrapper.getRootBlockWrapper();
  myFirstTokenBlock=myWrapper.getFirstTokenBlock();
  myLastTokenBlock=myWrapper.getLastTokenBlock();
  myCurrentBlock=myFirstTokenBlock;
  myTextRangeToWrapper=buildTextRangeToInfoMap(myFirstTokenBlock);
  myLastWhiteSpace=new WhiteSpace(getLastBlock().getEndOffset(),false);
  myLastWhiteSpace.append(myModel.getTextLength(),myModel,myIndentOption);
}
