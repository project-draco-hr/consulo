{
  if (getStateId() == state.getStateId() || (myNextState != null && myNextState.getStateId() == state.getStateId())) {
    return;
  }
  myNextState=state;
  shiftStateIfNecessary();
}
