{
  final List<JavaModuleSourceRoot> sourceRoots=new ArrayList<JavaModuleSourceRoot>();
  for (  DetectedProjectRoot root : myBuilder.getProjectRoots(myDetector)) {
    if (root instanceof JavaModuleSourceRoot) {
      sourceRoots.add((JavaModuleSourceRoot)root);
    }
  }
  final HashSet<String> ignored=new HashSet<String>();
  final StringTokenizer tokenizer=new StringTokenizer(FileTypeManager.getInstance().getIgnoredFilesList(),";",false);
  while (tokenizer.hasMoreTokens()) {
    ignored.add(tokenizer.nextToken());
  }
  myInsight.setRoots(Collections.singletonList(new File(myBuilder.getContentEntryPath())),sourceRoots,ignored);
  myInsight.scanLibraries();
  return myInsight.getSuggestedLibraries();
}
