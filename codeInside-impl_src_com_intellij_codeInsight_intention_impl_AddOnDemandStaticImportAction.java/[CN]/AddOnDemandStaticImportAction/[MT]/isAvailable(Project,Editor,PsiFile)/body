{
  PsiElement element=file.findElementAt(editor.getCaretModel().getOffset());
  if (element instanceof PsiIdentifier && element.getParent() instanceof PsiReferenceExpression) {
    PsiReferenceExpression refExpr=(PsiReferenceExpression)element.getParent();
    if (refExpr.getParent() instanceof PsiReferenceExpression && isParameterizedReference((PsiReferenceExpression)refExpr.getParent()))     return false;
    PsiElement resolved=refExpr.resolve();
    if (resolved instanceof PsiClass) {
      String text=CodeInsightBundle.message("intention.add.on.demand.static.import.text",((PsiClass)resolved).getQualifiedName());
      setText(text);
      return true;
    }
  }
  return false;
}
