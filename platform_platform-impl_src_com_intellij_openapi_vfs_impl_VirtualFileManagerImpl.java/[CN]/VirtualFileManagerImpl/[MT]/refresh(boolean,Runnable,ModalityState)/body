{
  if (!asynchronous) {
    ApplicationManager.getApplication().assertIsDispatchThread();
  }
  RefreshQueue.getInstance().refresh(asynchronous,true,postAction,modalityState,myPersistence.getLocalRoots());
  for (  VirtualFileSystem fileSystem : getPhysicalFileSystems()) {
    if (!(fileSystem instanceof NewVirtualFileSystem)) {
      fileSystem.refresh(asynchronous);
    }
  }
}
