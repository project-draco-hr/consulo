{
  if (!asynchronous) {
    ApplicationManager.getApplication().assertIsDispatchThread();
  }
  for (  VirtualFileSystem fileSystem : myFileSystems) {
    if (fileSystem instanceof NewVirtualFileSystem) {
      ((NewVirtualFileSystem)fileSystem).refreshWithoutFileWatcher(asynchronous);
    }
 else {
      fileSystem.refresh(asynchronous);
    }
  }
}
