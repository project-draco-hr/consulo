{
  PsiBinaryExpression concatenation=null;
  final PsiElement elementAt=file.findElementAt(editor.getCaretModel().getOffset());
  final PsiLiteralExpression literal=PsiTreeUtil.getParentOfType(elementAt,PsiLiteralExpression.class,true);
  if (literal != null && literal.getValue() instanceof String) {
    PsiElement run=literal;
    while (run.getParent() instanceof PsiBinaryExpression && ((PsiBinaryExpression)run.getParent()).getOperationSign().getTokenType() == JavaTokenType.PLUS) {
      concatenation=(PsiBinaryExpression)run.getParent();
      run=concatenation;
    }
  }
  return concatenation;
}
