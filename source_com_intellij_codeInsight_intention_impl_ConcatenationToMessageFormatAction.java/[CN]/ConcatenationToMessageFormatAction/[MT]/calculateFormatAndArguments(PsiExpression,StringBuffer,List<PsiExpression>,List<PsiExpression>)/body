{
  if (expression == null)   return;
  if (expression instanceof PsiBinaryExpression && expression.getType() != null && expression.getType().equalsToText("java.lang.String") && ((PsiBinaryExpression)expression).getOperationSign().getTokenType() == JavaTokenType.PLUS) {
    calculateFormatAndArguments(((PsiBinaryExpression)expression).getLOperand(),formatString,args,argsToCombine);
    calculateFormatAndArguments(((PsiBinaryExpression)expression).getROperand(),formatString,args,argsToCombine);
  }
 else   if (expression instanceof PsiLiteralExpression && ((PsiLiteralExpression)expression).getValue() instanceof String) {
    appendArgument(args,argsToCombine,formatString);
    formatString.append(((PsiLiteralExpression)expression).getValue());
  }
 else {
    argsToCombine.add(expression);
  }
}
