{
  GrTypeElement typeElement=getEnteredTypeName();
  if (typeElement == null) {
    myDynamicProperty.setType("java.lang.Object");
  }
 else {
    PsiType type=typeElement.getType();
    if (type instanceof PsiPrimitiveType) {
      type=TypesUtil.boxPrimitiveType(type,typeElement.getManager(),myProject.getAllScope());
    }
    myDynamicProperty.setType(type.getCanonicalText());
  }
  myDynamicProperty.setContainingClass(getEnteredContaningClass().getContainingClass());
  myDynamicPropertiesManager.addDynamicProperty(new DynamicPropertyVirtual(myDynamicProperty.getPropertyName(),myDynamicProperty.getContainingClassQualifiedName(),myDynamicProperty.getModuleName(),myDynamicProperty.getTypeName()));
  super.doOKAction();
}
