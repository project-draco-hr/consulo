{
  final EditorComboBoxEditor comboEditor=new EditorComboBoxEditor(myProject,GroovyFileType.GROOVY_FILE_TYPE);
  final Document document=createDocument("");
  comboEditor.setItem(document);
  myTypeComboBox.setEditor(comboEditor);
  myTypeComboBox.setEditable(true);
  myTypeComboBox.grabFocus();
  myListenerList.add(DataChangedListener.class,new DataChangedListener());
  myTypeComboBox.addItemListener(new ItemListener(){
    public void itemStateChanged(    ItemEvent e){
      fireNameDataChanged();
    }
  }
);
  myPanel.registerKeyboardAction(new ActionListener(){
    public void actionPerformed(    ActionEvent e){
      myTypeComboBox.requestFocus();
    }
  }
,KeyStroke.getKeyStroke(KeyEvent.VK_T,KeyEvent.ALT_MASK),JComponent.WHEN_IN_FOCUSED_WINDOW);
  final EditorTextField editorTextField=(EditorTextField)myTypeComboBox.getEditor().getEditorComponent();
  myTypeComboBox.addKeyListener(new KeyListener(){
    public void keyTyped(    KeyEvent e){
    }
    public void keyPressed(    KeyEvent e){
      if (KeyStroke.getKeyStroke(KeyEvent.VK_SPACE,KeyEvent.CTRL_MASK).getKeyCode() == e.getKeyCode()) {
        trimDocumentText();
      }
    }
    public void keyReleased(    KeyEvent e){
    }
  }
);
  editorTextField.addDocumentListener(new DocumentListener(){
    public void beforeDocumentChange(    DocumentEvent event){
    }
    public void documentChanged(    DocumentEvent event){
      fireNameDataChanged();
    }
  }
);
  final PsiClassType objectType=TypesUtil.createJavaLangObject(myReferenceExpression);
  myTypeComboBox.getEditor().setItem(createDocument(objectType.getPresentableText()));
}
