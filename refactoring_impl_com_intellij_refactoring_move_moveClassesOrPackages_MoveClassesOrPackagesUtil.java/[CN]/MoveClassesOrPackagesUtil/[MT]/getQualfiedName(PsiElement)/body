{
  final String oldQName;
  if (element instanceof PsiClass) {
    oldQName=((PsiClass)element).getQualifiedName();
  }
 else   if (element instanceof PsiPackage) {
    oldQName=((PsiPackage)element).getQualifiedName();
  }
 else   if (element instanceof PsiDirectory) {
    final PsiPackage aPackage=JavaDirectoryService.getInstance().getPackage(((PsiDirectory)element));
    oldQName=aPackage != null ? aPackage.getQualifiedName() : null;
  }
 else {
    oldQName=null;
  }
  return oldQName;
}
