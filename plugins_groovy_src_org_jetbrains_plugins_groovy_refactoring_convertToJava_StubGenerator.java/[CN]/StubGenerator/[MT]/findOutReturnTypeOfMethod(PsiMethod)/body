{
  final PsiType returnType=method.getReturnType();
  if (returnType != null)   return returnType;
  if (classNameProvider.forStubs())   return TypesUtil.getJavaLangObject(method);
  final PsiType smartReturnType=org.jetbrains.plugins.groovy.lang.psi.util.PsiUtil.getSmartReturnType(method);
  if (smartReturnType != null)   return smartReturnType;
  return TypesUtil.getJavaLangObject(method);
}
