{
  if (selected == null)   return null;
  for (  AbstractTreeNode selectedElement : selected) {
    Object element=selectedElement.getValue();
    if (DataConstants.VIRTUAL_FILE.equals(dataName)) {
      if (element instanceof ResourceBundle) {
        return new ResourceBundleAsVirtualFile((ResourceBundle)element);
      }
    }
    if (DataConstants.PSI_ELEMENT_ARRAY.equals(dataName)) {
      if (element instanceof ResourceBundle) {
        List<PropertiesFile> propertiesFiles=((ResourceBundle)element).getPropertiesFiles(myProject);
        return propertiesFiles.toArray(new PsiElement[0]);
      }
    }
    if (DataConstants.DELETE_ELEMENT_PROVIDER.equals(dataName)) {
      if (element instanceof ResourceBundle) {
        return new ResourceBundleDeleteProvider((ResourceBundle)element);
      }
    }
  }
  return null;
}
