{
  super(new BorderLayout());
  final JScrollPane scrollPane=new JScrollPane(myCommentArea);
  scrollPane.setPreferredSize(myCommentArea.getPreferredSize());
  add(scrollPane,BorderLayout.CENTER);
  JPanel labelPanel=new JPanel(new BorderLayout());
  labelPanel.setBorder(BorderFactory.createEmptyBorder());
  JComponent separator=SeparatorFactory.createSeparator(VcsBundle.message("label.commit.comment"),myCommentArea);
  JPanel separatorPanel=new JPanel(new BorderLayout());
  separatorPanel.add(separator,BorderLayout.SOUTH);
  separatorPanel.add(Box.createVerticalGlue(),BorderLayout.NORTH);
  labelPanel.add(separatorPanel,BorderLayout.CENTER);
  ActionToolbar toolbar=ActionManager.getInstance().createActionToolbar(ActionPlaces.UNKNOWN,getToolbarActions(),true);
  toolbar.setReservePlaceAutoPopupIcon(false);
  toolbar.getComponent().setBorder(BorderFactory.createEmptyBorder());
  labelPanel.add(toolbar.getComponent(),BorderLayout.EAST);
  add(labelPanel,BorderLayout.NORTH);
  setBorder(BorderFactory.createEmptyBorder());
  final TextComponentUndoProvider textComponentUndoProvider=new TextComponentUndoProvider(myCommentArea);
  Disposer.register(this,textComponentUndoProvider);
}
