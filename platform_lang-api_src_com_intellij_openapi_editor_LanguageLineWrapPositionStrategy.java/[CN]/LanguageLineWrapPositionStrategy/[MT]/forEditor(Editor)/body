{
  LineWrapPositionStrategy result=getDefaultImplementation();
  Project project=editor.getProject();
  if (project != null) {
    PsiFile psiFile=PsiDocumentManager.getInstance(project).getPsiFile(editor.getDocument());
    if (psiFile != null) {
      result=LanguageLineWrapPositionStrategy.INSTANCE.forLanguage(psiFile.getLanguage());
    }
  }
  return result;
}
