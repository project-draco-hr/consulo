{
  final List<T> filtered=new ArrayList<T>();
  for (  SimpleNode node : getSelectedNodes(tree)) {
    if ((aClass != null) && (!aClass.isInstance(node))) {
      filtered.clear();
      break;
    }
    filtered.add((T)node);
  }
  return filtered;
}
