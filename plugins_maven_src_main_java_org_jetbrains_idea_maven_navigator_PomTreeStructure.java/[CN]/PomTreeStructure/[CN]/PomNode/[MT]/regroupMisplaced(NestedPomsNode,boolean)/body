{
  Collection<PomNode> misplaced=new ArrayList<PomNode>();
  for (  PomNode node : src.pomNodes) {
    if (containsAsModule(node) == misplacedFlag) {
      misplaced.add(node);
    }
  }
  for (  PomNode node : misplaced) {
    src.pomNodes.remove(node);
    addNestedPom(node);
  }
  if (!misplaced.isEmpty()) {
    updateSubTree();
  }
}
