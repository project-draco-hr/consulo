{
  renderer.clear();
  renderer.append(token.getRepresentationValue(),SimpleTextAttributes.fromTextAttributes(myColorsProvider.getTextAttributes(token,true)));
  int result=renderer.getPreferredSize().width;
  renderer.clear();
  renderer.append(token.getRepresentationValue(),SimpleTextAttributes.fromTextAttributes(myColorsProvider.getTextAttributes(token,false)));
  return Math.max(result,renderer.getPreferredSize().width);
}
