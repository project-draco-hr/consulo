{
  final FileChooserDescriptor descriptor=new FileChooserDescriptor(false,true,true,false,true,true){
    @Override public boolean isFileSelectable(    VirtualFile file){
      if (file.isInLocalFileSystem() && file.isDirectory())       return false;
      return super.isFileSelectable(file);
    }
  }
;
  final FileChooserDialog chooser=FileChooserFactory.getInstance().createFileChooser(descriptor,context.getProject());
  final VirtualFile[] files=chooser.choose(null,context.getProject());
  final List<PackagingElement<?>> list=new ArrayList<PackagingElement<?>>();
  final PackagingElementFactory factory=PackagingElementFactory.getInstance();
  for (  VirtualFile file : files) {
    list.add(factory.createExtractedDirectory(file));
  }
  return list;
}
