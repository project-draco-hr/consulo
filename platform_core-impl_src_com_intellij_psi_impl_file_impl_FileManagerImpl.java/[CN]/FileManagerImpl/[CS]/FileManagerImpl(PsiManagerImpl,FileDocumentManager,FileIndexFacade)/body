{
  myManager=manager;
  myFileIndex=fileIndex;
  myConnection=manager.getProject().getMessageBus().connect();
  myFileDocumentManager=fileDocumentManager;
  Disposer.register(manager.getProject(),this);
  LowMemoryWatcher.register(new Runnable(){
    @Override public void run(){
      processQueue();
    }
  }
,this);
}
