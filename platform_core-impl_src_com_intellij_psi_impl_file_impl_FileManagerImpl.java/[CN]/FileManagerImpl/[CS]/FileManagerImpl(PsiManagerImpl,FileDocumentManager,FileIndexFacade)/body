{
  myManager=manager;
  myFileIndex=fileIndex;
  myConnection=manager.getProject().getMessageBus().connect();
  myFileDocumentManager=fileDocumentManager;
  myConnection.subscribe(DumbService.DUMB_MODE,new DumbService.DumbModeListener(){
    @Override public void enteredDumbMode(){
      recalcAllViewProviders();
    }
    @Override public void exitDumbMode(){
      recalcAllViewProviders();
    }
  }
);
  Disposer.register(manager.getProject(),this);
}
