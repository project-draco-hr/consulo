{
  myManager=manager;
  myFileIndex=fileIndex;
  myConnection=manager.getProject().getMessageBus().connect();
  myFileDocumentManager=fileDocumentManager;
  myConnection.subscribe(DumbService.DUMB_MODE,new DumbService.DumbModeListener(){
    @Override public void enteredDumbMode(){
      updateAllViewProviders();
    }
    @Override public void exitDumbMode(){
      updateAllViewProviders();
    }
  }
);
  Disposer.register(manager.getProject(),this);
  LowMemoryWatcher.register(new Runnable(){
    @Override public void run(){
      processQueue();
    }
  }
,this);
}
