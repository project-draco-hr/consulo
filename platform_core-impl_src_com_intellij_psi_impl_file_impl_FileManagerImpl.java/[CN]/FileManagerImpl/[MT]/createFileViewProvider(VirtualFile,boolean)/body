{
  Language language=getLanguage(file);
  final FileViewProviderFactory factory=language == null ? FileTypeFileViewProviders.INSTANCE.forFileType(file.getFileType()) : LanguageFileViewProviders.INSTANCE.forLanguage(language);
  FileViewProvider viewProvider=factory == null ? null : factory.createFileViewProvider(file,language,myManager,physical);
  return viewProvider == null ? new SingleRootFileViewProvider(myManager,file,physical) : viewProvider;
}
