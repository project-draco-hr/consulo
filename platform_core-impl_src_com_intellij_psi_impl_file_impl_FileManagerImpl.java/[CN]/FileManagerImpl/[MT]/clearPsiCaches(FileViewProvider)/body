{
  if (provider instanceof SingleRootFileViewProvider) {
    for (    PsiFile root : ((SingleRootFileViewProvider)provider).getCachedPsiFiles()) {
      if (root instanceof PsiFileImpl) {
        ((PsiFileImpl)root).clearCaches();
      }
    }
  }
 else {
    for (    Language language : provider.getLanguages()) {
      final PsiFile psi=provider.getPsi(language);
      if (psi instanceof PsiFileImpl) {
        ((PsiFileImpl)psi).clearCaches();
      }
    }
  }
}
