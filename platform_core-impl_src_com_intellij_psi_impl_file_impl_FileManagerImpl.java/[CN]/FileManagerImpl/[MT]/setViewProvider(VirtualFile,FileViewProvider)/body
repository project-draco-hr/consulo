{
  if (!(virtualFile instanceof VirtualFileWindow)) {
    if (fileViewProvider == null) {
      myVFileToViewProviderMap.remove(virtualFile);
      Document document=FileDocumentManager.getInstance().getCachedDocument(virtualFile);
      if (document != null) {
        PsiDocumentManagerBase.cachePsi(document,null);
      }
    }
 else {
      myVFileToViewProviderMap.put(virtualFile,fileViewProvider);
    }
  }
}
