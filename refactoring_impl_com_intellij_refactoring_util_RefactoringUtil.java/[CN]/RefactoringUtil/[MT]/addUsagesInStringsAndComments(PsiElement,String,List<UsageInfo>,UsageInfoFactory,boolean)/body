{
  PsiManager manager=element.getManager();
  PsiSearchHelper helper=manager.getSearchHelper();
  SearchScope scope=element.getUseScope();
  scope=scope.intersectWith(GlobalSearchScope.projectScope(manager.getProject()));
  PsiLiteralExpression[] literals=helper.findStringLiteralsContainingIdentifier(stringToSearch,scope);
  for (  PsiLiteralExpression literal : literals) {
    processStringOrComment(literal,stringToSearch,results,factory,ignoreReferences);
  }
  PsiElement[] comments=helper.findCommentsContainingIdentifier(stringToSearch,scope);
  for (  PsiElement comment : comments) {
    processStringOrComment(comment,stringToSearch,results,factory,ignoreReferences);
  }
}
