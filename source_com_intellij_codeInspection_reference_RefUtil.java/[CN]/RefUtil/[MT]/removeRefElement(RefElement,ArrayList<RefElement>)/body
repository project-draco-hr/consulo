{
  if (refElement.isEntry()) {
    EntryPointsManager.getInstance(refElement.getRefManager().getProject()).removeEntryPoint(refElement);
  }
  ArrayList children=refElement.getChildren();
  if (children != null) {
    RefElement[] refElements=(RefElement[])children.toArray(new RefElement[children.size()]);
    for (int i=0; i < refElements.length; i++) {
      RefElement refChild=refElements[i];
      removeRefElement(refChild,deletedRefs);
    }
  }
  refElement.getRefManager().removeReference(refElement);
  refElement.referenceRemoved();
  if (!deletedRefs.contains(refElement))   deletedRefs.add(refElement);
}
