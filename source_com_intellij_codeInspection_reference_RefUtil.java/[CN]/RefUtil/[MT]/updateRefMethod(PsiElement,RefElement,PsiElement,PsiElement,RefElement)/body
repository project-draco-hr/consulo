{
  PsiMethod psiMethod=(PsiMethod)psiResolved;
  RefMethod refMethod=(RefMethod)refResolved;
  PsiMethodCallExpression call=PsiTreeUtil.getParentOfType(refExpression,PsiMethodCallExpression.class);
  if (call != null) {
    PsiType returnType=psiMethod.getReturnType();
    if (!psiMethod.isConstructor() && returnType != PsiType.VOID) {
      if (!(call.getParent() instanceof PsiExpressionStatement)) {
        refMethod.setReturnValueUsed(true);
      }
      addTypeReference(psiFrom,returnType,refFrom.getRefManager());
    }
    PsiExpressionList argumentList=call.getArgumentList();
    if (argumentList != null && argumentList.getExpressions().length > 0) {
      refMethod.updateParameterValues(argumentList.getExpressions());
    }
  }
}
