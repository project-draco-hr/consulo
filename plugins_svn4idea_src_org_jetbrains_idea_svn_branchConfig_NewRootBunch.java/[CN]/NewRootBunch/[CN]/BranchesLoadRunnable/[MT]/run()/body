{
  boolean callbackCalled=false;
  try {
    final List<SvnBranchItem> items=BranchesLoader.loadBranches(myProject,myUrl);
    myBunch.updateBranches(myRoot,myUrl,new InfoStorage<List<SvnBranchItem>>(items,myInfoReliability));
    if (myCallback != null) {
      myCallback.consume(items);
      callbackCalled=true;
    }
  }
 catch (  SVNException e) {
    if (InfoReliability.setByUser.equals(myInfoReliability)) {
      ChangesViewBalloonProblemNotifier.showMe(myProject,"Branches load error: " + e.getMessage(),MessageType.ERROR);
    }
  }
 finally {
    if (myCallback != null && (!callbackCalled)) {
      myCallback.consume(Collections.<SvnBranchItem>emptyList());
    }
  }
}
