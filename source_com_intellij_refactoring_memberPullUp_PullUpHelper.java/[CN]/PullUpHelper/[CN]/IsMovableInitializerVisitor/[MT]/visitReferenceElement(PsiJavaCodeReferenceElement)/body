{
  if (!myIsMovable)   return;
  final PsiExpression qualifier;
  if (referenceElement instanceof PsiReferenceExpression) {
    qualifier=((PsiReferenceExpression)referenceElement).getQualifierExpression();
  }
 else {
    qualifier=null;
  }
  if (qualifier == null || qualifier instanceof PsiThisExpression || qualifier instanceof PsiSuperExpression) {
    final PsiElement resolved=referenceElement.resolve();
    PsiClass containingClass=null;
    if (resolved instanceof PsiMember && !((PsiMember)resolved).hasModifierProperty(PsiModifier.STATIC)) {
      containingClass=((PsiMember)resolved).getContainingClass();
    }
    myIsMovable=containingClass != null && InheritanceUtil.isInheritorOrSelf(myTargetSuperClass,containingClass,true);
  }
 else {
    qualifier.accept(this);
  }
}
