{
  Artifact artifact=findArtifact(resolvingContext);
  if (artifact == null)   return;
  if (StringUtil.isEmpty(artifact.getOutputPath()) || artifact.getArtifactType().getSubstitution(artifact,resolvingContext,artifactType) != null) {
    super.computeIncrementalCompilerInstructions(creator,resolvingContext,compilerContext,artifactType);
    return;
  }
  VirtualFile outputFile=artifact.getOutputFile();
  if (outputFile == null) {
    LOG.debug("Output file for " + artifact + " not found");
    return;
  }
  if (!outputFile.isValid()) {
    LOG.debug("Output file for " + artifact + "("+ outputFile+ ") is not valid");
    return;
  }
  if (outputFile.isDirectory()) {
    creator.addDirectoryCopyInstructions(outputFile);
  }
 else {
    creator.addFileCopyInstruction(outputFile,outputFile.getName());
  }
}
