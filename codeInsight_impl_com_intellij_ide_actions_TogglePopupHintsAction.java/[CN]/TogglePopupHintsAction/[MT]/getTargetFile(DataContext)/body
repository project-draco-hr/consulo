{
  Project project=DataKeys.PROJECT.getData(dataContext);
  if (project == null) {
    return null;
  }
  VirtualFile[] files=FileEditorManager.getInstance(project).getSelectedFiles();
  if (files.length == 0) {
    return null;
  }
  PsiFile psiFile=PsiManager.getInstance(project).findFile(files[0]);
  LOG.assertTrue(psiFile != null);
  return psiFile;
}
