{
  if (descriptor.getPsiElement() instanceof PsiBinaryExpression) {
    final PsiBinaryExpression expression=(PsiBinaryExpression)descriptor.getPsiElement();
    final PsiExpression lhs=expression.getLOperand();
    final PsiExpression rhs=expression.getROperand();
    final PsiJavaToken operationSign=expression.getOperationSign();
    final IElementType tokenType=operationSign.getTokenType();
    final String newExpression=lhs.getText() + getShortCircuitOperand(tokenType) + rhs.getText();
    replaceExpression(project,expression,newExpression);
  }
 else {
    final PsiAssignmentExpression expression=(PsiAssignmentExpression)descriptor.getPsiElement();
    final PsiExpression lhs=expression.getLExpression();
    final PsiExpression rhs=expression.getRExpression();
    final PsiJavaToken operationSign=expression.getOperationSign();
    final IElementType tokenType=operationSign.getTokenType();
    final String newExpression=lhs.getText() + getShortCircuitOperand(tokenType) + rhs.getText();
    replaceExpression(project,expression,newExpression);
  }
}
