{
  this.type=type;
  this.kind=kind;
  this.myTailType=myTailType;
  this.dimCount=dimCount;
  if (type == defaultType && type instanceof PsiClassType) {
    final PsiClassType psiClassType=(PsiClassType)type;
    final PsiClass psiClass=psiClassType.resolve();
    if (psiClass != null && CommonClassNames.JAVA_LANG_CLASS.equals(psiClass.getQualifiedName())) {
      final PsiType[] parameters=psiClassType.getParameters();
      if (parameters.length == 1 && parameters[0] instanceof PsiWildcardType) {
        final PsiType bound=((PsiWildcardType)parameters[0]).getExtendsBound();
        if (bound instanceof PsiClassType) {
          final PsiElementFactory factory=JavaPsiFacade.getInstance(psiClass.getProject()).getElementFactory();
          String canonicalText=bound.getCanonicalText();
          if (canonicalText.contains("?extends")) {
            throw new AssertionError("Incorrect text: " + bound + "; "+ Arrays.toString(((PsiClassType)bound).getParameters()));
          }
          defaultType=factory.createTypeFromText(CommonClassNames.JAVA_LANG_CLASS + "<" + canonicalText+ ">",null);
        }
      }
    }
  }
  this.defaultType=defaultType;
}
