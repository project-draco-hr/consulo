{
  final Editor e=validateCurrentEditor();
  if (e == null)   return null;
  if (!myProject.isDisposed()) {
    final Object o=((FileEditorManagerImpl)FileEditorManager.getInstance(myProject)).getData(dataId,e,myFile);
    if (o != null)     return o;
  }
  if (PlatformDataKeys.EDITOR.is(dataId)) {
    return e;
  }
  if (PlatformDataKeys.VIRTUAL_FILE.is(dataId)) {
    return myFile.isValid() ? myFile : null;
  }
  return null;
}
