{
  final StepSequence stepSequence=new StepSequence(null);
  final ProjectImportProvider[] providers=Extensions.getExtensions(ProjectImportProvider.PROJECT_IMPORT_PROVIDER);
  if (providers.length == 1) {
    myBuilder=providers[0].getBuilder();
    myBuilder.setUpdate(context.getProject() != null);
    final ModuleWizardStep[] steps=providers[0].createSteps(context);
    for (    ModuleWizardStep step : steps) {
      stepSequence.addCommonStep(step);
    }
  }
 else {
    stepSequence.addCommonStep(new ImportChooserStep(providers,stepSequence,context));
    for (    ProjectImportProvider provider : providers) {
      final ModuleWizardStep[] steps=provider.createSteps(context);
      final StepSequence sequence=new StepSequence(stepSequence);
      for (      ModuleWizardStep step : steps) {
        sequence.addCommonStep(step);
      }
      stepSequence.addSpecificSteps(provider.getId(),sequence);
    }
  }
  return stepSequence;
}
