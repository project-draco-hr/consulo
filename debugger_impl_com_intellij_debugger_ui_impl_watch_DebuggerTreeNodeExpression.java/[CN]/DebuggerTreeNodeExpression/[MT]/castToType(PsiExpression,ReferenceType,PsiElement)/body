{
  if (valueType != null) {
    Project project=expression.getProject();
    String typeName=DebuggerUtilsEx.getQualifiedClassName(valueType.name(),project);
    PsiManager manager=PsiManager.getInstance(project);
    typeName=normalize(typeName,contextElement,project);
    PsiElementFactory elementFactory=JavaPsiFacade.getInstance(manager.getProject()).getElementFactory();
    try {
      PsiParenthesizedExpression parenthExpression=(PsiParenthesizedExpression)elementFactory.createExpressionFromText("((" + typeName + ")expression)",null);
      ((PsiTypeCastExpression)parenthExpression.getExpression()).getOperand().replace(expression);
      return parenthExpression;
    }
 catch (    IncorrectOperationException e) {
      throw new EvaluateException(DebuggerBundle.message("error.invalid.type.name",typeName),e);
    }
  }
 else {
    return expression;
  }
}
