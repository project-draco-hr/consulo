{
  if (expression instanceof GrLiteral) {
    return LITERAL_PRECEDENCE;
  }
  if (expression instanceof GrReferenceExpression) {
    final GrReferenceExpression referenceExpression=(GrReferenceExpression)expression;
    if (referenceExpression.getQualifierExpression() != null) {
      return METHOD_CALL_PRECEDENCE;
    }
 else {
      return LITERAL_PRECEDENCE;
    }
  }
  if (expression instanceof GrMethodCallExpression) {
    return METHOD_CALL_PRECEDENCE;
  }
  if (expression instanceof GrTypeCastExpression || expression instanceof GrNewExpression) {
    return TYPE_CAST_PRECEDENCE;
  }
  if (expression instanceof GrUnaryExpression) {
    return ((GrUnaryExpression)expression).isPostfix() ? POSTFIX_PRECEDENCE : PREFIX_PRECEDENCE;
  }
  if (expression instanceof GrBinaryExpression) {
    final GrBinaryExpression binaryExpression=(GrBinaryExpression)expression;
    final IElementType sign=binaryExpression.getOperationTokenType();
    return precedenceForBinaryOperator(sign);
  }
  if (expression instanceof GrConditionalExpression) {
    return CONDITIONAL_PRECEDENCE;
  }
  if (expression instanceof GrAssignmentExpression) {
    return ASSIGNMENT_PRECEDENCE;
  }
  if (expression instanceof GrParenthesizedExpression) {
    return PARENTHESIZED_PRECEDENCE;
  }
  return -1;
}
