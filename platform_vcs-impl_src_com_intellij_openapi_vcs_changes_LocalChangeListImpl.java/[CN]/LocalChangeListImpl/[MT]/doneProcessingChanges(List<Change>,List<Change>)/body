{
  boolean changesDetected=(myChanges.size() != myChangesBeforeUpdate.size());
  for (  Change newChange : myChanges) {
    Change oldChange=findOldChange(newChange);
    if (oldChange == null) {
      addedChanges.add(newChange);
    }
  }
  changesDetected|=(!addedChanges.isEmpty());
  final List<Change> removed=new ArrayList<Change>(myChangesBeforeUpdate);
  removed.removeAll(myChanges);
  removedChanges.addAll(removed);
  changesDetected=changesDetected || (!removedChanges.isEmpty());
  myReadChangesCache=null;
  return changesDetected;
}
