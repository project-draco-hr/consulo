{
  boolean changesDetected=(myChanges.size() != myChangesBeforeUpdate.size());
  if (!changesDetected) {
    for (    Change newChange : myChanges) {
      Change oldChange=findOldChange(newChange);
      if (oldChange == null) {
        changesDetected=true;
        break;
      }
    }
  }
  final List<Change> removed=new ArrayList<Change>(myChangesBeforeUpdate);
  removed.removeAll(myChanges);
  removedChanges.addAll(removed);
  changesDetected=changesDetected || (!removedChanges.isEmpty());
  myReadChangesCache=null;
  return changesDetected;
}
