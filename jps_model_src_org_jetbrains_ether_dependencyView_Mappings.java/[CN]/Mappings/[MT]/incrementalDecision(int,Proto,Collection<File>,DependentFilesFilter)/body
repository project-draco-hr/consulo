{
  final boolean isField=member instanceof FieldRepr;
  final Util self=new Util(this);
  if ((member.access & Opcodes.ACC_PUBLIC) > 0) {
    debug("Public access, switching to a non-incremental mode");
    return false;
  }
  if ((member.access & Opcodes.ACC_PROTECTED) > 0) {
    debug("Protected access, softening non-incremental decision: adding all relevant subclasses for a recompilation");
    debug("Root class: ",owner);
    final TIntHashSet propagated=self.propagateFieldAccess(isField ? member.name : myEmptyName,owner);
    final TIntHashSet fileNames=new TIntHashSet(propagated.size());
    propagated.forEach(new TIntProcedure(){
      @Override public boolean execute(      int className){
        final int fileName=myClassToSourceFile.get(className);
        if (fileName > 0) {
          fileNames.add(fileName);
        }
        return true;
      }
    }
);
    fileNames.forEach(new TIntProcedure(){
      @Override public boolean execute(      int file){
        final String fileName=myContext.getValue(file);
        debug("Adding ",fileName);
        affectedFiles.add(new File(fileName));
        return true;
      }
    }
);
  }
  final String packageName=ClassRepr.getPackageName(myContext.getValue(isField ? owner : member.name));
  debug("Softening non-incremental decision: adding all package classes for a recompilation");
  debug("Package name: ",packageName);
  final TIntHashSet fileNames=new TIntHashSet(DEFAULT_SET_CAPACITY,DEFAULT_SET_LOAD_FACTOR);
  myClassToSourceFile.forEachEntry(new TIntIntProcedure(){
    @Override public boolean execute(    int className,    int fileName){
      if (ClassRepr.getPackageName(myContext.getValue(className)).equals(packageName)) {
        fileNames.add(fileName);
      }
      return true;
    }
  }
);
  fileNames.forEach(new TIntProcedure(){
    @Override public boolean execute(    int fileName){
      final String f=myContext.getValue(fileName);
      final File file=new File(f);
      if (filter == null || filter.accept(file)) {
        debug("Adding: ",f);
        affectedFiles.add(file);
      }
      return true;
    }
  }
);
  return true;
}
