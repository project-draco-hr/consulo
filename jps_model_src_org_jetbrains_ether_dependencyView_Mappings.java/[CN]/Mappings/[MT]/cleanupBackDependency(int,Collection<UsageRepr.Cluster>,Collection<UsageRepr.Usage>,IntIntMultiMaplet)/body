{
  if (clusters == null) {
    final int sourceFile=myClassToSourceFile.get(className);
    if (sourceFile > 0) {
      clusters=mySourceFileToUsages.get(sourceFile);
      annotationUsages=mySourceFileToAnnotationUsages.get(sourceFile);
    }
  }
  if (annotationUsages != null) {
    for (    final UsageRepr.Usage usage : annotationUsages) {
      buffer.put(usage.getOwner(),className);
    }
  }
  if (clusters != null) {
    for (    final UsageRepr.Cluster cluster : clusters) {
      for (      final UsageRepr.Usage u : cluster.getUsages()) {
        final TIntHashSet residents=cluster.getResidence(u);
        if (residents != null && residents.contains(className)) {
          buffer.put(u.getOwner(),className);
        }
      }
    }
  }
}
