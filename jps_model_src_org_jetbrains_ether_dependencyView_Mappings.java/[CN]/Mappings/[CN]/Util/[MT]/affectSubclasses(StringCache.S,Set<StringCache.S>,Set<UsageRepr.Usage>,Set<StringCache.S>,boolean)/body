{
  final StringCache.S fileName=classToSourceFile.get(className);
  assert(fileName != null);
  if (usages) {
    affectedUsages.add(reprByName(className).createUsage());
  }
  final Collection<StringCache.S> depClasses=classToClassDependency.foxyGet(fileName);
  if (depClasses != null) {
    dependants.addAll(depClasses);
  }
  affectedFiles.add(fileName);
  final Collection<StringCache.S> directSubclasses=classToSubclasses.foxyGet(className);
  if (directSubclasses != null) {
    for (    StringCache.S subClass : directSubclasses) {
      affectSubclasses(subClass,affectedFiles,affectedUsages,dependants,usages);
    }
  }
}
