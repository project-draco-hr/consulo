{
  super(new GridBagLayout());
  myContentEntry=contentEntry;
  myCallback=callback;
  myHeader=createHeader();
  this.add(myHeader,new GridBagConstraints(0,GridBagConstraints.RELATIVE,1,1,1.0,0.0,GridBagConstraints.NORTHWEST,GridBagConstraints.HORIZONTAL,new Insets(0,0,8,0),0,0));
  final java.util.List<ContentFolder> sources=new ArrayList<ContentFolder>();
  final java.util.List<ContentFolder> testSources=new ArrayList<ContentFolder>();
  final java.util.List<ContentFolder> excluded=new ArrayList<ContentFolder>();
  final SourceFolder[] sourceFolders=myContentEntry.getSourceFolders();
  for (int idx=0; idx < sourceFolders.length; idx++) {
    SourceFolder folder=sourceFolders[idx];
    if (folder.isSynthetic()) {
      continue;
    }
    final VirtualFile folderFile=folder.getFile();
    if (folderFile != null && (isExcluded(folderFile) || isUnderExcludedDirectory(folderFile))) {
      continue;
    }
    if (folder.isTestSource()) {
      testSources.add(folder);
    }
 else {
      sources.add(folder);
    }
  }
  final ExcludeFolder[] excludeFolders=myContentEntry.getExcludeFolders();
  for (int idx=0; idx < excludeFolders.length; idx++) {
    final ExcludeFolder excludeFolder=excludeFolders[idx];
    if (!excludeFolder.isSynthetic()) {
      excluded.add(excludeFolder);
    }
  }
  if (sources.size() > 0) {
    final JComponent sourcesComponent=createFolderGroupComponent("Source Folders",sources.toArray(new ContentFolder[sources.size()]),SOURCES_COLOR);
    this.add(sourcesComponent,new GridBagConstraints(0,GridBagConstraints.RELATIVE,1,1,1.0,0.0,GridBagConstraints.NORTH,GridBagConstraints.HORIZONTAL,new Insets(0,0,10,0),0,0));
  }
  if (testSources.size() > 0) {
    final JComponent testSourcesComponent=createFolderGroupComponent("Test Source Folders",testSources.toArray(new ContentFolder[testSources.size()]),TESTS_COLOR);
    this.add(testSourcesComponent,new GridBagConstraints(0,GridBagConstraints.RELATIVE,1,1,1.0,0.0,GridBagConstraints.NORTH,GridBagConstraints.HORIZONTAL,new Insets(0,0,10,0),0,0));
  }
  if (excluded.size() > 0) {
    final JComponent excludedComponent=createFolderGroupComponent("Excluded Folders",excluded.toArray(new ContentFolder[excluded.size()]),EXCLUDED_COLOR);
    this.add(excludedComponent,new GridBagConstraints(0,GridBagConstraints.RELATIVE,1,1,1.0,0.0,GridBagConstraints.NORTH,GridBagConstraints.HORIZONTAL,new Insets(0,0,10,0),0,0));
  }
  myBottom=new JPanel(new BorderLayout());
  myBottom.add(Box.createVerticalStrut(3),BorderLayout.NORTH);
  this.add(myBottom,new GridBagConstraints(0,GridBagConstraints.RELATIVE,1,1,1.0,1.0,GridBagConstraints.NORTH,GridBagConstraints.HORIZONTAL,new Insets(0,0,0,0),0,0));
  setSelected(false);
}
