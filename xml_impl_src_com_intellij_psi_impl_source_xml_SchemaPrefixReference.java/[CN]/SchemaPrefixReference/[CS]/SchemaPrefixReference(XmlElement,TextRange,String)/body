{
  super(element,range,true);
  myElement=element;
  myName=name;
  if (myElement instanceof XmlAttribute && ((XmlAttribute)myElement).isNamespaceDeclaration()) {
    myPrefix=new SchemaPrefix(element,range,name);
  }
 else {
    final PsiElement declaration=XmlUtil.findNamespaceDeclaration(element.getContainingFile(),name);
    if (declaration instanceof XmlAttribute) {
      final XmlAttribute attribute=(XmlAttribute)declaration;
      final String prefix=attribute.getNamespacePrefix();
      final TextRange textRange=TextRange.from(prefix.length() + 1,name.length());
      myPrefix=new SchemaPrefix(attribute,textRange,name);
    }
 else {
      myPrefix=null;
    }
  }
}
