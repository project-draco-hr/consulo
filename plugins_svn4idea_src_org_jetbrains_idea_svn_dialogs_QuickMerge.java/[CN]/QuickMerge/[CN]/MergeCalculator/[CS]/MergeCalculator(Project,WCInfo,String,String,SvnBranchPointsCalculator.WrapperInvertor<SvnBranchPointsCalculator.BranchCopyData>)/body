{
  super(project,"Calculating not merged revisions",true,BackgroundFromStartOption.getInstance());
  myWcInfo=wcInfo;
  mySourceUrl=sourceUrl;
  myBranchName=branchName;
  myCopyData=copyData;
  myNotMerged=new LinkedList<CommittedChangeList>();
  myMergeTitle="Merge from " + branchName;
  if (Boolean.TRUE.equals(Boolean.getBoolean(ourOneShotStrategy))) {
    myMergeChecker=new OneShotMergeInfoHelper(myProject,myWcInfo,mySourceUrl);
    ((OneShotMergeInfoHelper)myMergeChecker).prepare();
  }
 else {
    myMergeChecker=new BranchInfo.MyMergeCheckerWrapper(myWcInfo.getPath(),new BranchInfo(myVcs,myWcInfo.getRepositoryRoot(),myWcInfo.getRootUrl(),mySourceUrl,mySourceUrl,myVcs.createWCClient()));
  }
}
