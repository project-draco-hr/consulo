{
  final ToBeMergedDialog dialog=new ToBeMergedDialog(myProject,myNotMerged,myMergeTitle,myMergeChecker);
  dialog.show();
  if (dialog.getExitCode() == DialogWrapper.CANCEL_EXIT_CODE) {
    return;
  }
  if (dialog.getExitCode() == ToBeMergedDialog.MERGE_ALL_CODE) {
    mergeAll();
  }
 else {
    final List<CommittedChangeList> lists=dialog.getSelected();
    if (lists.isEmpty())     return;
    final MergerFactory factory=new ChangeListsMergerFactory(lists);
    doMerge(factory,myMergeTitle);
  }
}
