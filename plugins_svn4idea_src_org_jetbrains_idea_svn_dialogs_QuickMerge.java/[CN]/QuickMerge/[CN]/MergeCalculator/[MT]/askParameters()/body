{
  final MergerFactory factory;
  final ToBeMergedDialog dialog=new ToBeMergedDialog(myProject,myNotMerged,myMergeTitle,myBranchInfo);
  dialog.show();
  if (dialog.getExitCode() == DialogWrapper.CANCEL_EXIT_CODE) {
    return null;
  }
  final List<CommittedChangeList> lists=dialog.getSelected();
  if (lists.isEmpty())   return null;
  factory=new ChangeListsMergerFactory(lists);
  return factory;
}
