{
  if (mySourceUrl.equals(myWcInfo.getRootUrl())) {
    showErrorBalloon("Cannot merge from self");
    return;
  }
  if (!myWcInfo.getFormat().supportsMergeInfo()) {
    mergeAll();
    return;
  }
  final int result=Messages.showDialog(myProject,"Merge all?","Merge from " + myBranchName,new String[]{"Merge &all","&Select revisions to merge","Cancel"},0,Messages.getQuestionIcon());
  if (result == 2)   return;
  if (result == 0) {
    mergeAll();
    return;
  }
  ProgressManager.getInstance().run(new MergeCalculator(myProject,myWcInfo,mySourceUrl,myBranchName));
}
