{
  myProject=project;
  myCurrentRepository=currentRepository;
  GitRepositoryManager repositoryManager=GitRepositoryManager.getInstance(project);
  myMultiRootBranchConfig=new GitMultiRootBranchConfig(repositoryManager.getRepositories());
  String rootPostFix=repositoryManager.moreThanOneRoot() && myMultiRootBranchConfig.diverged() ? " on [" + currentRepository.getRoot().getName() + "]" : "";
  String title="Git Branches" + rootPostFix;
  myPopup=JBPopupFactory.getInstance().createActionGroupPopup(title,createActions(),SimpleDataContext.getProjectContext(project),JBPopupFactory.ActionSelectionAid.SPEEDSEARCH,true);
}
