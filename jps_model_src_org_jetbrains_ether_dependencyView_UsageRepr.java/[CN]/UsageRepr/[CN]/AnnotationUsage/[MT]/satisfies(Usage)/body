{
  if (usage instanceof AnnotationUsage) {
    final AnnotationUsage annotationUsage=(AnnotationUsage)usage;
    if (!type.equals(annotationUsage.type)) {
      return false;
    }
    boolean argumentsSatisfy=false;
    if (usedArguments != null) {
      final TIntHashSet arguments=new TIntHashSet(usedArguments.toArray());
      arguments.removeAll(annotationUsage.usedArguments.toArray());
      argumentsSatisfy=!arguments.isEmpty();
    }
    boolean targetsSatisfy=false;
    if (usedTargets != null) {
      final Collection<ElemType> targets=EnumSet.copyOf(usedTargets);
      targets.retainAll(annotationUsage.usedTargets);
      targetsSatisfy=!targets.isEmpty();
    }
    return argumentsSatisfy || targetsSatisfy;
  }
  return false;
}
