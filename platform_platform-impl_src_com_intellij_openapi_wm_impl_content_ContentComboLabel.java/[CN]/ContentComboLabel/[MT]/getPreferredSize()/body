{
  if (!isToDrawCombo()) {
    return super.getPreferredSize();
  }
  int width=0;
  for (int i=0; i < myUi.myManager.getContentCount(); i++) {
    String text=myUi.myManager.getContent(i).getDisplayName();
    FontMetrics metrics=getFontMetrics(getFont());
    int eachTextWidth=metrics.stringWidth(text != null ? text : "");
    width=Math.max(eachTextWidth,width);
  }
  Border border=getBorder();
  if (border != null) {
    Insets insets=border.getBorderInsets(this);
    width+=(insets.left + insets.right);
  }
  width+=myComboIcon.getIconWidth();
  return new Dimension(width,super.getPreferredSize().height);
}
