{
  VcsProjectLog projectLog=VcsProjectLog.getInstance(project);
  if (projectLog != null) {
    VcsLogUiImpl ui=projectLog.getMainLogUi();
    if (ui != null) {
      Set<UsageDescriptor> usages=ContainerUtil.newHashSet();
      usages.add(StatisticsUtilKt.getBooleanUsage("ui.details",ui.isShowDetails()));
      usages.add(StatisticsUtilKt.getBooleanUsage("ui.long.edges",ui.areLongEdgesVisible()));
      usages.add(StatisticsUtilKt.getBooleanUsage("ui.sort.linear.bek",ui.getBekType().equals(PermanentGraph.SortType.LinearBek)));
      usages.add(StatisticsUtilKt.getBooleanUsage("ui.sort.bek",ui.getBekType().equals(PermanentGraph.SortType.Bek)));
      usages.add(StatisticsUtilKt.getBooleanUsage("ui.sort.normal",ui.getBekType().equals(PermanentGraph.SortType.Normal)));
      if (ui.isMultipleRoots()) {
        usages.add(StatisticsUtilKt.getBooleanUsage("ui.roots",ui.isShowRootNames()));
      }
      for (      VcsLogHighlighterFactory factory : Extensions.getExtensions(LOG_HIGHLIGHTER_FACTORY_EP,project)) {
        if (factory.showMenuItem()) {
          usages.add(StatisticsUtilKt.getBooleanUsage("ui.highlighter." + ConvertUsagesUtil.ensureProperKey(factory.getId()),ui.isHighlighterEnabled(factory.getId())));
        }
      }
      return usages;
    }
  }
  return Collections.emptySet();
}
