{
  if (LOG.isDebugEnabled()) {
    LOG.debug("document changed:");
    LOG.debug("  offset:" + e.getOffset());
    LOG.debug("  old fragment:" + e.getOldFragment());
    LOG.debug("  new fragment:" + e.getNewFragment());
  }
  EditorChangeAction action=new EditorChangeAction((DocumentEx)e.getDocument(),e.getOffset(),e.getOldFragment(),e.getNewFragment(),e.getOldTimeStamp());
  getUndoManager().undoableActionPerformed(action);
}
