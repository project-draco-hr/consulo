{
  final AnnotateOperation annotateOperation=new AnnotateOperation(cvsLightweightFile,revision,environment);
  CvsOperationExecutor executor=new CvsOperationExecutor(myProject);
  executor.performActionSync(new CommandCvsHandler("Annotate",annotateOperation),CvsOperationExecutorCallback.EMPTY);
  if (executor.getResult().hasNoErrors()) {
    return new CvsFileAnnotation(annotateOperation.getContent(),annotateOperation.getLineAnnotations(),cvsVirtualFile);
  }
 else {
    throw executor.getResult().composeError();
  }
}
