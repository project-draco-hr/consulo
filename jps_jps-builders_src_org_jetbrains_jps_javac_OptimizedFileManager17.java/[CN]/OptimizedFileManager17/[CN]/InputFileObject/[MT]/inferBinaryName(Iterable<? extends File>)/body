{
  String fPath=file.getPath();
  for (  File dir : path) {
    String dPath=dir.getPath();
    if (dPath.length() == 0)     dPath=System.getProperty("user.dir");
    if (!dPath.endsWith(File.separator))     dPath+=File.separator;
    if (fPath.regionMatches(true,0,dPath,0,dPath.length()) && new File(fPath.substring(0,dPath.length())).equals(new File(dPath))) {
      String relativeName=fPath.substring(dPath.length());
      return removeExtension(relativeName).replace(File.separatorChar,'.');
    }
  }
  return null;
}
