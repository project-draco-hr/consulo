{
  final File[] files=directory.listFiles();
  if (files != null) {
    if (sortFiles != null) {
      Arrays.sort(files,sortFiles);
    }
    for (    File f : files) {
      String fileName=f.getName();
      if (isValidFile(fileName,fileKinds) && !f.isDirectory()) {
        JavaFileObject fe=getRegularFile(f);
        resultList.append(fe);
      }
    }
  }
}
