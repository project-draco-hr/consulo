{
  List<String> files=archive.getFiles(subdirectory);
  if (files != null) {
    for (; !files.isEmpty(); files=files.tail) {
      String file=files.head;
      if (isValidFile(file,fileKinds)) {
        resultList.append(archive.getFileObject(subdirectory,file));
      }
    }
  }
  if (recurse) {
    for (    RelativePath.RelativeDirectory s : archive.getSubdirectories()) {
      if (contains(subdirectory,s)) {
        listArchive(archive,s,fileKinds,false,resultList);
      }
    }
  }
}
