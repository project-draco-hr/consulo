{
  do {
    ImportOldConfigsPanel dlg=new ImportOldConfigsPanel();
    dlg.show();
    if (dlg.isImportEnabled()) {
      File instHome=dlg.getSelectedFile();
      File oldConfigDir=getOldConfigDir(instHome);
      if (oldConfigDir == null) {
        JOptionPane.showMessageDialog(JOptionPane.getRootFrame(),ApplicationBundle.message("error.invalid.installation.home",instHome.getAbsolutePath(),ApplicationNamesInfo.getInstance().getFullProductName()));
        continue;
      }
      if (!oldConfigDir.exists()) {
        JOptionPane.showMessageDialog(JOptionPane.getRootFrame(),ApplicationBundle.message("error.no.settings.path",oldConfigDir.getAbsolutePath()),ApplicationBundle.message("title.settings.import.failed"),JOptionPane.WARNING_MESSAGE);
        continue;
      }
      try {
        xcopy(oldConfigDir,new File(newConfigPath));
      }
 catch (      IOException e) {
        JOptionPane.showMessageDialog(JOptionPane.getRootFrame(),ApplicationBundle.message("error.unable.to.import.settings",e.getMessage()),ApplicationBundle.message("title.settings.import.failed"),JOptionPane.WARNING_MESSAGE);
      }
    }
    break;
  }
 while (true);
}
