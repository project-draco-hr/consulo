{
  final ExecutorService threadPool=Executors.newCachedThreadPool();
  myChannelFactory=new NioServerSocketChannelFactory(threadPool,threadPool,1);
  final ChannelRegistrar channelRegistrar=new ChannelRegistrar();
  final ChannelHandler compilationRequestsHandler=new CompilationRequestsHandler();
  myPipelineFactory=new ChannelPipelineFactory(){
    public ChannelPipeline getPipeline() throws Exception {
      return Channels.pipeline(channelRegistrar,new ProtobufVarint32FrameDecoder(),new ProtobufDecoder(JavacRemoteProto.Message.getDefaultInstance()),new ProtobufVarint32LengthFieldPrepender(),new ProtobufEncoder(),compilationRequestsHandler);
    }
  }
;
}
