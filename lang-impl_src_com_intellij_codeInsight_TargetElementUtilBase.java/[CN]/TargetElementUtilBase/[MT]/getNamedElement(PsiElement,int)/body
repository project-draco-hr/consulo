{
  if (element == null)   return null;
  final List<PomTarget> targets=CollectionFactory.arrayList();
  final Consumer<PomTarget> consumer=new Consumer<PomTarget>(){
    public void consume(    PomTarget target){
      targets.add(target);
    }
  }
;
  PsiElement parent=element;
  int offset=offsetInElement;
  while (parent != null) {
    for (    PomDeclarationSearcher searcher : PomDeclarationSearcher.EP_NAME.getExtensions()) {
      searcher.findDeclarationsAt(parent,offset,consumer);
      if (!targets.isEmpty()) {
        return new PomTargetPsiElementImpl(element.getProject(),targets.get(0));
      }
    }
    offset-=parent.getStartOffsetInParent();
    parent=parent.getParent();
  }
  return getNamedElement(element);
}
