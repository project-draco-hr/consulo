{
  ProjectFileIndex fileIndex=ProjectRootManager.getInstance(myPsiManager.getProject()).getFileIndex();
  List<OrderEntry> entries=fileIndex.getOrderEntriesForFile(libraryFile);
  List<VirtualFile> result=new ArrayList<VirtualFile>();
  VirtualFileManager vfManager=VirtualFileManager.getInstance();
  for (  OrderEntry entry : entries) {
    if (entry instanceof ModuleOrderEntry) {
      continue;
    }
    final String[] externalUrls=entry.getUrls(AnnotationOrderRootType.getInstance());
    for (    String url : externalUrls) {
      VirtualFile root=vfManager.findFileByUrl(url);
      if (root != null) {
        result.add(root);
      }
    }
  }
  return result;
}
