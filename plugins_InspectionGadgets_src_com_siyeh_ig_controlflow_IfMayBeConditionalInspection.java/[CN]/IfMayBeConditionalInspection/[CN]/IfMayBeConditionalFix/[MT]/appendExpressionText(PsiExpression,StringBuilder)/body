{
  final PsiExpression strippedExpression=ParenthesesUtils.stripParentheses(expression);
  if (strippedExpression == null) {
    return;
  }
  final String expressionText=strippedExpression.getText();
  if (ParenthesesUtils.getPrecedence(expression) > ParenthesesUtils.CONDITIONAL_PRECEDENCE) {
    out.append('(');
    out.append(expressionText);
    out.append(')');
  }
 else {
    out.append(expressionText);
  }
}
