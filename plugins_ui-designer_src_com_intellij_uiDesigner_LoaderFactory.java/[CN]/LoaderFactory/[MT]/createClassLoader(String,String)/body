{
  final ArrayList<URL> urls=new ArrayList<URL>();
  final VirtualFileManager manager=VirtualFileManager.getInstance();
  final StringTokenizer tokenizer=new StringTokenizer(runClasspath,File.pathSeparator);
  while (tokenizer.hasMoreTokens()) {
    final String s=tokenizer.nextToken();
    try {
      VirtualFile vFile=manager.findFileByUrl(VfsUtil.pathToUrl(s));
      VirtualFile archiveFile=ArchiveVfsUtil.getVirtualFileForJar(vFile);
      if (archiveFile != null) {
        urls.add(new File(archiveFile.getCanonicalPath()).toURI().toURL());
      }
 else {
        urls.add(new File(s).toURI().toURL());
      }
    }
 catch (    Exception e) {
    }
  }
  try {
    urls.add(new File(PathUtil.getJarPathForClass(Spacer.class)).toURI().toURL());
  }
 catch (  MalformedURLException ignored) {
  }
  return new DesignTimeClassLoader(urls,LoaderFactory.class.getClassLoader(),moduleName);
}
