{
  final ArrayList<URL> urls=new ArrayList<URL>();
  final VirtualFileManager manager=VirtualFileManager.getInstance();
  final JarFileSystem fileSystem=JarFileSystem.getInstance();
  final StringTokenizer tokenizer=new StringTokenizer(runClasspath,File.pathSeparator);
  while (tokenizer.hasMoreTokens()) {
    final String s=tokenizer.nextToken();
    try {
      VirtualFile vFile=manager.findFileByUrl(VfsUtil.pathToUrl(s));
      VirtualFile jar=fileSystem.getJarRootForLocalFile(vFile);
      urls.add(new URL(jar.getUrl()));
    }
 catch (    Exception e) {
    }
  }
  try {
    urls.add(new File(PathUtil.getJarPathForClass(Spacer.class)).toURI().toURL());
  }
 catch (  MalformedURLException ignored) {
  }
  final URL[] _urls=urls.toArray(new URL[urls.size()]);
  return new DesignTimeClassLoader(Arrays.asList(_urls),null);
}
