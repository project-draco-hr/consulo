{
  if (str == null)   return null;
  StringBuilder buf=new StringBuilder(str.length() + 20);
  if (typeName == null) {
    DocumentationUtil.formatEntityName(XmlBundle.message("xml.javadoc.tag.name.message"),name,buf);
  }
 else {
    DocumentationUtil.formatEntityName(XmlBundle.message("xml.javadoc.complex.type.message"),name,buf);
  }
  final String indent="  ";
  final StringBuilder builder=buf.append(XmlBundle.message("xml.javadoc.description.message")).append(indent).append(HtmlDocumentationProvider.NBSP).append(str);
  if (version != null) {
    builder.append(HtmlDocumentationProvider.BR).append(XmlBundle.message("xml.javadoc.version.message")).append(indent).append(HtmlDocumentationProvider.NBSP).append(version);
  }
  return builder.toString();
}
