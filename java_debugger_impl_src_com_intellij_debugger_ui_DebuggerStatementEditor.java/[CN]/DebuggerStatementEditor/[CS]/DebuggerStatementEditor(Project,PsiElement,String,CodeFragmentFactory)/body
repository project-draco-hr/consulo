{
  super(project,context,recentsId,factory);
  myRecentIdx=getRecentItemsCount();
  myEditor=new EditorTextField("",project,factory.getFileType()){
    protected EditorEx createEditor(){
      EditorEx editor=super.createEditor();
      editor.setVerticalScrollbarVisible(true);
      return editor;
    }
    @Override protected boolean isOneLineMode(){
      return false;
    }
  }
;
  myEditor.setCenterByHeight(false);
  setLayout(new BorderLayout());
  add(addChooseFactoryLabel(myEditor,true));
  DefaultActionGroup actionGroup=new DefaultActionGroup(null,false);
  actionGroup.add(new ItemAction(IdeActions.ACTION_PREVIOUS_OCCURENCE,this){
    public void actionPerformed(    AnActionEvent e){
      LOG.assertTrue(myRecentIdx >= 0);
      myRecentIdx+=1;
      updateTextFromRecents();
    }
    public void update(    AnActionEvent e){
      e.getPresentation().setEnabled(myRecentIdx < getRecentItemsCount());
    }
  }
);
  actionGroup.add(new ItemAction(IdeActions.ACTION_NEXT_OCCURENCE,this){
    public void actionPerformed(    AnActionEvent e){
      if (LOG.isDebugEnabled()) {
        LOG.assertTrue(myRecentIdx < getRecentItemsCount());
      }
      myRecentIdx-=1;
      updateTextFromRecents();
    }
    public void update(    AnActionEvent e){
      e.getPresentation().setEnabled(myRecentIdx > 0);
    }
  }
);
  add(ActionManager.getInstance().createActionToolbar(ActionPlaces.COMBO_PAGER,actionGroup,false).getComponent(),BorderLayout.EAST);
  setText(new TextWithImportsImpl(CodeFragmentKind.CODE_BLOCK,""));
}
