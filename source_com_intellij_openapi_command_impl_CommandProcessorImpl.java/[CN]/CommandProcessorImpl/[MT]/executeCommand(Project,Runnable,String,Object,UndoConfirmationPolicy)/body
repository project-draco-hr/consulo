{
  ApplicationManager.getApplication().assertIsDispatchThread();
  if (LOG.isDebugEnabled()) {
    LOG.debug("executeCommand: " + command + ", name = "+ name+ ", groupId = "+ groupId);
  }
  if (myCurrentCommand != null) {
    command.run();
    return;
  }
  try {
    myCurrentCommand=new CommandDescriptor(command,project,name,groupId,undoConfirmationPolicy);
    fireCommandStarted();
    command.run();
  }
 catch (  TooComplexPSIModificationException rollback) {
    Messages.showErrorDialog(project,"Cannot perform operation. Too complex, sorry.","Failed to perform operation");
  }
catch (  Throwable e) {
    LOG.error(e);
  }
 finally {
    _fireCommandFinished();
  }
}
