{
  final String name=myRef.getCanonicalRepresentationText();
  if (name == null)   return;
  Navigatable result=null;
  if (myPropFile != null) {
    result=(Navigatable)myPropFile.addProperty(PropertiesElementFactory.createProperty(myPropFile.getProject(),name,""));
  }
 else {
    final AntElement element=myRef.getElement();
    final AntElement anchor=AntPsiUtil.getSubProjectElement(element);
    final XmlTag projectTag=element.getAntProject().getSourceElement();
    XmlTag propTag=projectTag.createChildTag(AntFileImpl.PROPERTY,projectTag.getNamespace(),null,false);
    propTag.setAttribute(AntFileImpl.NAME_ATTR,name);
    if (CodeInsightUtil.preparePsiElementForWrite(projectTag)) {
      result=(Navigatable)((anchor == null) ? projectTag.add(propTag) : projectTag.addBefore(propTag,anchor.getSourceElement()));
    }
  }
  if (result != null) {
    result.navigate(true);
  }
}
