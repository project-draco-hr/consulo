{
  if (myLexer.getTokenType() != TokenTypeEx.LBRACKET)   return null;
  myLexer.advance();
  StringBuffer pattern=new StringBuffer();
  while (true) {
    if (myLexer.getTokenType() == TokenTypeEx.RBRACKET || myLexer.getTokenType() == null) {
      myLexer.advance();
      break;
    }
 else     if (myLexer.getTokenType() == TokenTypeEx.ASTERISK) {
      pattern.append("*");
    }
 else     if (myLexer.getTokenType() == JavaTokenType.IDENTIFIER || myLexer.getTokenType() == JavaTokenType.WHITE_SPACE) {
      pattern.append(getTokenText());
    }
 else     if (myLexer.getTokenType() == JavaTokenType.DOT) {
      pattern.append(".");
    }
 else     if (myLexer.getTokenType() == JavaTokenType.MINUS) {
      pattern.append("-");
    }
 else {
      error(AnalysisScopeBundle.message("error.packageset.token.expectations",getTokenText()));
      break;
    }
    myLexer.advance();
  }
  if (pattern.length() == 0) {
    error(AnalysisScopeBundle.message("error.packageset.pattern.expectations"));
  }
  return pattern.toString();
}
