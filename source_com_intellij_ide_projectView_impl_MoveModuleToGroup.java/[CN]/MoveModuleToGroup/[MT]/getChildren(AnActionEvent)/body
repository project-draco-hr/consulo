{
  if (e == null)   return AnAction.EMPTY_ARRAY;
  final DataContext dataContext=e.getDataContext();
  final Project project=(Project)dataContext.getData(DataConstantsEx.PROJECT);
  List<AnAction> result=new ArrayList<AnAction>();
  result.add(new MoveModulesToGroupAction(myModuleGroup,IdeBundle.message("action.move.module.to.this.group")));
  result.add(new MoveModulesToSubGroupAction(myModuleGroup));
  final Collection<ModuleGroup> children=myModuleGroup.childGroups(project);
  if (children.size() != 0) {
    result.add(Separator.getInstance());
  }
  for (Iterator iterator=children.iterator(); iterator.hasNext(); ) {
    ModuleGroup moduleGroup=(ModuleGroup)iterator.next();
    result.add(new MoveModuleToGroup(moduleGroup));
  }
  return result.toArray(new AnAction[result.size()]);
}
