{
  final File file=new File(FileUtil.toSystemDependentName(filePath));
  if (!file.exists())   return;
  String targetPath;
  if (!file.equals(getRootFile())) {
    final String relativePath=FileUtil.getRelativePath(FileUtil.toSystemIndependentName(getRootFile().getPath()),filePath,'/');
    targetPath=JpsPathUtil.appendToPath(outputPath,relativePath);
  }
 else {
    targetPath=outputPath;
  }
  if (outSrcMapping.getState(targetPath) == null) {
    context.getLoggingManager().getArtifactBuilderLogger().fileCopied(filePath);
    final File targetFile=new File(FileUtil.toSystemDependentName(targetPath));
    FileUtil.copyContent(file,targetFile);
    srcOutMapping.appendData(filePath,Collections.singletonList(targetPath));
  }
  outSrcMapping.appendData(targetPath,Collections.singletonList(new ArtifactOutputToSourceMapping.SourcePathAndRootIndex(filePath,rootIndex)));
}
