{
  params.getProgramParametersList().add("--main");
  params.getProgramParametersList().add(GROOVY_MAIN);
  params.getProgramParametersList().add("--classpath");
  List<String> list=params.getClassPath().getPathList();
  ProjectJdk jdk=params.getJdk();
  StringBuffer buffer=new StringBuffer();
  if (jdk != null) {
    String jdkDir=GroovyUtils.getJdkLibDirParent(jdk);
    for (    String libPath : list) {
      JarFile jarFile;
      try {
        jarFile=new JarFile(libPath);
      }
 catch (      IOException e) {
        jarFile=null;
      }
      if (jarFile != null && jarFile.getJarEntry(JAVA_LANG_STRING) != null)       continue;
      if (!libPath.startsWith(jdkDir)) {
        buffer.append(libPath).append(File.pathSeparator);
      }
    }
  }
  params.getProgramParametersList().add("\"" + workDir + File.pathSeparator+ buffer.toString()+ "\"");
  if (isDebugEnabled) {
    params.getProgramParametersList().add("--debug");
  }
}
