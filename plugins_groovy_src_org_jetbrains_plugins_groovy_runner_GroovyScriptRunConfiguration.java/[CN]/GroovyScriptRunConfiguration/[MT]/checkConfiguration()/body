{
  final PsiClass toRun=getScriptClass();
  if (toRun == null) {
    throw new RuntimeConfigurationWarning(GroovyBundle.message("class.does.not.exist"));
  }
  if (toRun instanceof GrTypeDefinition) {
    if (!GroovyRunnerUtil.canBeRunByGroovy(toRun)) {
      throw new RuntimeConfigurationWarning(GroovyBundle.message("class.can't be executed"));
    }
  }
 else   if (!(toRun instanceof GroovyScriptClass)) {
    throw new RuntimeConfigurationWarning(GroovyBundle.message("script.file.is.not.groovy.file"));
  }
}
