{
  final PsiClass scriptClass=getScriptClass();
  if (scriptClass == null) {
    throw new RuntimeConfigurationWarning(GroovyBundle.message("class.does.not.exist"));
  }
  if (scriptClass instanceof GrTypeDefinition) {
    if (!GroovyScriptRunConfigurationProducer.isRunnable(scriptClass)) {
      throw new RuntimeConfigurationWarning(GroovyBundle.message("class.can't be executed"));
    }
  }
 else   if (!(scriptClass instanceof GroovyScriptClass)) {
    throw new RuntimeConfigurationWarning(GroovyBundle.message("script.file.is.not.groovy.file"));
  }
}
