{
  Project project=e.getData(PlatformDataKeys.PROJECT);
  if (project == null)   return false;
  VirtualFile file=e.getData(PlatformDataKeys.VIRTUAL_FILE);
  if (file == null || !MavenConstants.POM_XML.equals(file.getName()))   return false;
  List<String> goals=e.getData(MavenDataKeys.MAVEN_GOALS_KEY);
  if (goals == null || goals.isEmpty())   return false;
  if (!perform)   return true;
  try {
    MavenRunnerParameters params=new MavenRunnerParameters(true,file.getParent().getPath(),goals,MavenProjectsManager.getInstance(project).getActiveProfiles());
    MavenRunConfigurationType.runConfiguration(project,params,e.getDataContext());
  }
 catch (  ExecutionException ex) {
    MavenLog.LOG.warn(ex);
  }
  return true;
}
