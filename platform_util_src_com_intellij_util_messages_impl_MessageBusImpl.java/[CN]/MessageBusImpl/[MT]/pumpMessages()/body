{
  checkNotDisposed();
  if (myParentBus != null) {
    LOG.assertTrue(myParentBus.myChildBuses.contains(this));
    myParentBus.pumpMessages();
  }
 else {
    Map<MessageBusImpl,Integer> map=asRoot().myWaitingBuses.get();
    if (map != null) {
      Set<MessageBusImpl> buses=map.keySet();
      if (!buses.isEmpty()) {
        for (        MessageBusImpl bus : new ArrayList<MessageBusImpl>(buses)) {
          bus.doPumpMessages();
        }
      }
    }
  }
}
