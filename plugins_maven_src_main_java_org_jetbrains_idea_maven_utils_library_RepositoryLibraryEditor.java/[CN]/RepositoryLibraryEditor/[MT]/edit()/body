{
  final Project project=myEditorComponent.getProject();
  final NewLibraryConfiguration configuration=RepositoryAttachHandler.chooseLibraryAndDownload(project,myEditorComponent.getProperties().getMavenId());
  if (configuration == null)   return;
  final LibraryEditorBase target=(LibraryEditorBase)myEditorComponent.getLibraryEditor();
  target.removeAllRoots();
  myEditorComponent.renameLibrary(configuration.getDefaultLibraryName());
  target.setType(myLibraryType);
  target.setProperties(configuration.getProperties());
  configuration.addRoots(target);
  myEditorComponent.updateRootsTree();
  setModified();
}
