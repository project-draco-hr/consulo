{
  registrar.registerReferenceProvider(XmlPatterns.xmlAttributeValue().withLocalName("key"),new PsiReferenceProvider(){
    @NotNull @Override public PsiReference[] getReferencesByElement(    @NotNull PsiElement element,    @NotNull ProcessingContext context){
      PropertiesFile propertiesFile=PropertiesUtil.getPropertiesFile(element.getContainingFile());
      if (propertiesFile == null)       return PsiReference.EMPTY_ARRAY;
      XmlProperty property=new XmlProperty(PsiTreeUtil.getParentOfType(element,XmlTag.class),(XmlPropertiesFile)propertiesFile);
      return new PsiReference[]{new PsiReferenceBase.Immediate<PsiElement>(element,PomService.convertToPsi(property))};
    }
  }
);
}
