{
  if (state && myToolWindow != null) {
    if (myAutoUpdateRequest == null) {
      myAutoUpdateRequest=new Runnable(){
        @Override public void run(){
          updateComponent();
        }
      }
;
      UIUtil.invokeLaterIfNeeded(new Runnable(){
        @Override public void run(){
          IdeEventQueue.getInstance().addIdleListener(myAutoUpdateRequest,500);
        }
      }
);
    }
  }
 else {
    if (myAutoUpdateRequest != null) {
      IdeEventQueue.getInstance().removeIdleListener(myAutoUpdateRequest);
      myAutoUpdateRequest=null;
    }
  }
}
