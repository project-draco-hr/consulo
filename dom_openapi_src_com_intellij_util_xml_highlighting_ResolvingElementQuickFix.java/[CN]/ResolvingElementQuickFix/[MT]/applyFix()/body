{
  chooseParent(myParents,new Consumer<DomElement>(){
    public void consume(    final DomElement parent){
      new WriteCommandAction.Simple(parent.getManager().getProject(),parent.getRoot().getFile()){
        protected void run() throws Throwable {
          doFix(parent,myChildDescription,myNewName);
        }
      }
.execute();
    }
  }
);
}
