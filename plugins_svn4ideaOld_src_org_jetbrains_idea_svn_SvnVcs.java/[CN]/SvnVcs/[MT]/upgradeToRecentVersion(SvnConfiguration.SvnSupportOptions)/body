{
  if (!supportOptions.upgradeTo16Asked()) {
    final SvnWorkingCopyChecker workingCopyChecker=new SvnWorkingCopyChecker();
    if (workingCopyChecker.upgradeNeeded()) {
      Notifications.Bus.notify(new Notification(getDisplayName(),SvnBundle.message("upgrade.format.to16.question.title"),"Old format Subversion working copies <a href=\"\">could be upgraded to version 1.6</a>.",NotificationType.INFORMATION,new NotificationListener(){
        public void hyperlinkUpdate(        @NotNull Notification notification,        @NotNull HyperlinkEvent event){
          final int upgradeAnswer=Messages.showYesNoDialog(SvnBundle.message("upgrade.format.to16.question.text",SvnBundle.message("label.where.svn.format.can.be.changed.text",SvnBundle.message("action.show.svn.map.text.reference"))),SvnBundle.message("upgrade.format.to16.question.title"),Messages.getWarningIcon());
          if (DialogWrapper.OK_EXIT_CODE == upgradeAnswer) {
            workingCopyChecker.doUpgrade();
          }
          notification.expire();
        }
      }
));
    }
  }
}
