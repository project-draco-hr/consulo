{
  final LibraryCompositionSettings libraryCompositionSettings=getLibraryCompositionSettings();
  if (myLibraryCompositionOptionsPanel == null || !myLibraryCompositionOptionsPanel.getLibraryCompositionSettings().equals(libraryCompositionSettings)) {
    if (libraryCompositionSettings != null) {
      myLibraryCompositionOptionsPanel=new LibraryCompositionOptionsPanel(librariesContainer,libraryCompositionSettings,mirrorsMap);
    }
 else {
      myLibraryCompositionOptionsPanel=null;
    }
  }
  return myLibraryCompositionOptionsPanel;
}
