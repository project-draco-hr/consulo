{
  if (!isShowing()) {
    return;
  }
  final Runtime runtime=Runtime.getRuntime();
  final long total=runtime.totalMemory() / MEGABYTE;
  final long used=total - runtime.freeMemory() / MEGABYTE;
  if (total != myLastTotal || used != myLastUsed) {
    myLastTotal=total;
    myLastUsed=used;
    repaint();
    myIndicatorPanel.setToolTipText(UIBundle.message("memory.usage.panel.statistics.message",total,used));
  }
}
