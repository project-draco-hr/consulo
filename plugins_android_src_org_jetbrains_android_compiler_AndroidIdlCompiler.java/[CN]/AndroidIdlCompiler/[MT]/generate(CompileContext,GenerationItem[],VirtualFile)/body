{
  if (items != null && items.length > 0) {
    context.getProgressIndicator().setText("Generating AIDL files...");
    GenerationItem[] generationItems=doGenerate(context,items);
    List<VirtualFile> generatedVFiles=new ArrayList<VirtualFile>();
    for (    GenerationItem item : generationItems) {
      File generatedFile=((IdlGenerationItem)item).myGeneratedFile;
      if (generatedFile != null) {
        CompilerUtil.refreshIOFile(generatedFile);
        VirtualFile generatedVFile=LocalFileSystem.getInstance().findFileByIoFile(generatedFile);
        if (generatedVFile != null) {
          generatedVFiles.add(generatedVFile);
        }
      }
    }
    if (context instanceof CompileContextEx) {
      ((CompileContextEx)context).markGenerated(generatedVFiles);
    }
    return generationItems;
  }
  return EMPTY_GENERATION_ITEM_ARRAY;
}
