{
  final VirtualFile virtualFile=handler.getFile().getVirtualFile();
  if (virtualFile != null && !virtualFile.isWritable()) {
    throw new ReadOnlyDeploymentDescriptorModificationException(virtualFile);
  }
  int index=args.length == 0 ? Integer.MAX_VALUE : myStartIndex + (Integer)args[0];
  final DomElement domElement=handler.addChild(myTagName,myType,index);
  if (myDistinguisher != null) {
    final boolean b=handler.getManager().setChanging(true);
    try {
      myDistinguisher.distinguish(domElement.getXmlTag());
    }
  finally {
      handler.getManager().setChanging(b);
    }
  }
  return domElement;
}
