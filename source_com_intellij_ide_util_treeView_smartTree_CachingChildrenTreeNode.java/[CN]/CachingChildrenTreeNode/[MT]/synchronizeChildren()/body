{
  if (myOldChildren != null && myChildren != null) {
    for (    CachingChildrenTreeNode oldInstance : myOldChildren) {
      final int newIndex=getIndexOfPointerToTheSameValue(oldInstance);
      if (newIndex >= 0) {
        final CachingChildrenTreeNode newInstance=myChildren.get(newIndex);
        oldInstance.copyFromNewInstance(newInstance);
        oldInstance.setValue(newInstance.getValue());
        myChildren.set(newIndex,oldInstance);
      }
    }
  }
}
