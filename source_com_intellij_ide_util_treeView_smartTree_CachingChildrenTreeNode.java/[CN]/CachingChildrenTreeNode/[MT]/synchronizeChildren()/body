{
  if (myOldChildren != null) {
    for (Iterator<CachingChildrenTreeNode> iterator=myOldChildren.iterator(); iterator.hasNext(); ) {
      CachingChildrenTreeNode oldInstance=iterator.next();
      final int newIndex=getIndexOfPointerToTheSameValue(oldInstance);
      if (newIndex >= 0) {
        final CachingChildrenTreeNode newInstance=myChildren.get(newIndex);
        oldInstance.copyFromNewInstance(newInstance);
        oldInstance.setValue(newInstance.getValue());
        myChildren.set(newIndex,oldInstance);
      }
    }
  }
}
