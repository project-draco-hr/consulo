{
  this(reference,new Factory<List<Pair<String,Icon>>>(){
    public List<Pair<String,Icon>> create(){
      final Converter converter=reference.getConverter();
      if (converter instanceof ResolvingConverter) {
        final ResolvingConverter<?> resolvingConverter=(ResolvingConverter)converter;
        return ContainerUtil.map(resolvingConverter.getVariants(new AbstractConvertContext(){
          public DomElement getInvocationElement(){
            return reference;
          }
        }
),new Function<Object,Pair<String,Icon>>(){
          public Pair<String,Icon> fun(          final Object s){
            return Pair.create(ElementPresentationManager.getElementName(s),ElementPresentationManager.getIcon(s));
          }
        }
);
      }
      return Collections.emptyList();
    }
  }
);
}
