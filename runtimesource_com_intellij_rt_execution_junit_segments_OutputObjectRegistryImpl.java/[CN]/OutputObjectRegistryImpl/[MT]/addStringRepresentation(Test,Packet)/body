{
  if (JUnit4API != null && JUnit4API.isJUnit4TestMethodAdapter(test)) {
    addTestMethod(packet,((TestCase)test).getName(),JUnit4API.getJUnit4MethodAdapterClassName(test));
  }
 else   if (test instanceof TestRunnerUtil.FailedTestCase) {
    addTestMethod(packet,((TestRunnerUtil.FailedTestCase)test).getMethodName(),((TestCase)test).getName());
  }
 else   if (test instanceof TestCase) {
    addTestMethod(packet,((TestCase)test).getName(),test.getClass().getName());
  }
 else   if (test instanceof TestAllInPackage2) {
    TestAllInPackage2 allInPackage=(TestAllInPackage2)test;
    addAllInPackage(packet,allInPackage.getName());
  }
 else   if (test instanceof TestSuite) {
    TestSuite testSuite=(TestSuite)test;
    String fullName=testSuite.getName();
    if (fullName == null) {
      addUnknownTest(packet,test);
      return;
    }
    addTestClass(packet,fullName);
  }
 else {
    addUnknownTest(packet,test);
  }
}
