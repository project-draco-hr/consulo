{
  if (element instanceof GrExpression || element instanceof GrNamedArgument) {
    final boolean insertComma=getAllArguments().length != 0;
    if (anchor == null)     anchor=getLeftParen();
    PsiElement result;
    result=super.addAfter(element,anchor);
    if (insertComma) {
      final ASTNode astNode=getNode();
      if (anchor == getLeftParen()) {
        astNode.addLeaf(mCOMMA,",",result.getNextSibling().getNode());
      }
 else {
        astNode.addLeaf(mCOMMA,",",result.getNode());
      }
      CodeStyleManager.getInstance(getManager().getProject()).reformat(this);
    }
    return result;
  }
  return super.addAfter(element,anchor);
}
