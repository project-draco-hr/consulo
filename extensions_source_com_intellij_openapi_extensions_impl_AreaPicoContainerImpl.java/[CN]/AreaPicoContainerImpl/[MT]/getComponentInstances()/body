{
  final List result=new ArrayList();
  if (getParent() != null) {
    List parentInstances=getParent().getComponentInstances();
    result.addAll(parentInstances);
  }
  accept(new EmptyPicoVisitor(){
    public void visitContainer(    PicoContainer pico){
      result.addAll(pico.getComponentInstances());
    }
  }
);
  return result;
}
