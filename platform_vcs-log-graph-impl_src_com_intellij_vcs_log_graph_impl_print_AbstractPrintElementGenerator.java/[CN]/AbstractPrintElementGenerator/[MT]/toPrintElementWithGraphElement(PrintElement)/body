{
  if (printElement instanceof PrintElementWithGraphElement) {
    return (PrintElementWithGraphElement)printElement;
  }
  int rowIndex=printElement.getRowIndex();
  if (printElement instanceof SimplePrintElement) {
    for (    SimpleRowElement rowElement : getSimpleRowElements(rowIndex)) {
      if (rowElement.myPosition == printElement.getPositionInCurrentRow())       return createSimplePrintElement(rowIndex,rowElement);
    }
  }
  if (printElement instanceof EdgePrintElement) {
    EdgePrintElement edgePrintElement=(EdgePrintElement)printElement;
    if (edgePrintElement.getType() == EdgePrintElement.Type.DOWN) {
      for (      ShortEdge shortEdge : getDownShortEdges(rowIndex)) {
        if (shortEdge.myUpPosition == edgePrintElement.getPositionInCurrentRow() && shortEdge.myDownPosition == edgePrintElement.getPositionInOtherRow()) {
          return createEdgePrintElement(rowIndex,shortEdge,EdgePrintElement.Type.DOWN);
        }
      }
    }
    if (edgePrintElement.getType() == EdgePrintElement.Type.UP) {
      for (      ShortEdge shortEdge : getDownShortEdges(rowIndex - 1)) {
        if (shortEdge.myDownPosition == edgePrintElement.getPositionInCurrentRow() && shortEdge.myUpPosition == edgePrintElement.getPositionInOtherRow()) {
          return createEdgePrintElement(rowIndex,shortEdge,EdgePrintElement.Type.UP);
        }
      }
    }
  }
  throw new IllegalStateException("Not found graphElement for this printElement: " + printElement);
}
