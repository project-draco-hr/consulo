{
  final int offset=getOffset();
  if (offset < 0) {
    return null;
  }
  final PsiFile psiFile=getFile();
  if (psiFile instanceof PsiCompiledElement) {
    return psiFile.findElementAt(offset);
  }
  final FileViewProvider viewProvider=psiFile.getViewProvider();
  return viewProvider.findElementAt(offset,StdLanguages.JAVA);
}
