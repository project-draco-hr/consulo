{
  DefaultComboBoxModel model=new DefaultComboBoxModel();
  createPredefinedScopeDescriptors(model);
  boolean firstInGroup=true;
  List<NamedScope> changeLists=ChangeListsScopesProvider.getInstance(myProject).getCustomScopes();
  for (  NamedScope changeListScope : changeLists) {
    model.addElement(new ScopeDescriptionWithDelimiter(GlobalSearchScopes.filterScope(myProject,changeListScope),firstInGroup ? "VCS" : null));
    firstInGroup=false;
  }
  firstInGroup=true;
  final NamedScopesHolder[] holders=NamedScopesHolder.getAllNamedScopeHolders(myProject);
  for (  NamedScopesHolder holder : holders) {
    NamedScope[] scopes=holder.getEditableScopes();
    for (    NamedScope scope : scopes) {
      model.addElement(new ScopeDescriptionWithDelimiter(GlobalSearchScopes.filterScope(myProject,scope),firstInGroup ? "Custom scopes" : null));
      firstInGroup=false;
    }
  }
  return model;
}
