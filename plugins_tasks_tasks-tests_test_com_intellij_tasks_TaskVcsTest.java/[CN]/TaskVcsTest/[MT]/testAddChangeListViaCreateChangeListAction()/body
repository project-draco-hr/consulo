{
  Task task=myRepository.findTask("TEST-001");
  assertNotNull(task);
  myManager.activateTask(task,false,true);
  LocalTask defaultTask=myManager.findTask("Default");
  assertNotNull(defaultTask);
  myManager.activateTask(defaultTask,false,true);
  assertEquals(defaultTask,myManager.getActiveTask());
  LocalTask anotherTask=myManager.findTask("TEST-001");
  assertNotNull(anotherTask);
  myManager.createChangeList(defaultTask,"Default (1)");
  assertEquals(1,anotherTask.getChangeLists().size());
  assertEquals(2,defaultTask.getChangeLists().size());
  assertEquals(3,myChangeListManager.getChangeLists().size());
  LocalChangeList defaultChangeListActive=myChangeListManager.findChangeList("Default (1)");
  assertNotNull(defaultChangeListActive);
  assertTrue(defaultChangeListActive.isDefault());
  LocalChangeList defaultChangeListInactive=myChangeListManager.findChangeList("Default");
  assertNotNull(defaultChangeListInactive);
  LocalChangeList anotherChangeList=myChangeListManager.findChangeList("TEST-001 Summary");
  assertNotNull(anotherChangeList);
  assertEquals(defaultTask,myManager.getAssociatedTask(defaultChangeListActive));
  assertEquals(defaultChangeListActive.getName(),"Default (1)");
  assertEquals(defaultTask,myManager.getAssociatedTask(defaultChangeListInactive));
  assertEquals(defaultChangeListInactive.getName(),"Default");
  assertEquals(anotherTask,myManager.getAssociatedTask(anotherChangeList));
  assertEquals(anotherChangeList.getName(),"TEST-001 Summary");
}
