{
  final File classpathFile1=new File(path,EclipseXml.DOT_CLASSPATH_EXT);
  if (!classpathFile1.exists())   return;
  String fileText1=new String(FileUtil.loadFileText(classpathFile1)).replaceAll("\\$ROOT\\$",module.getProject().getBaseDir().getPath());
  if (!SystemInfo.isWindows) {
    fileText1=fileText1.replaceAll(EclipseXml.FILE_PROTOCOL + "/",EclipseXml.FILE_PROTOCOL);
  }
  final Element classpathElement1=JDOMUtil.loadDocument(fileText1).getRootElement();
  final ModifiableRootModel model=ModuleRootManager.getInstance(module).getModifiableModel();
  final Element resultClasspathElement=new Element(EclipseXml.CLASSPATH_TAG);
  new EclipseClasspathWriter(model).writeClasspath(resultClasspathElement,classpathElement1);
  model.dispose();
  String resulted=new String(JDOMUtil.printDocument(new Document(resultClasspathElement),"\n"));
  Assert.assertTrue(resulted.replaceAll(StringUtil.escapeToRegexp(module.getProject().getBaseDir().getPath()),"\\$ROOT\\$"),JDOMUtil.areElementsEqual(classpathElement1,resultClasspathElement));
}
