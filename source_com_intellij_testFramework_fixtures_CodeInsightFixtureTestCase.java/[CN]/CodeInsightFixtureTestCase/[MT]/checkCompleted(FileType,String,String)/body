{
  myFixture.configureByText(fileType,text.replaceAll("\\|","<caret>"));
  tuneCompletionFile(myFixture.getFile());
  final LookupElement[] elements=myFixture.completeBasic();
  if (elements != null && elements.length == 1) {
    ((LookupImpl)LookupManager.getInstance(getProject()).getActiveLookup()).finishLookup(Lookup.NORMAL_SELECT_CHAR);
  }
 else   if (elements != null && elements.length > 0) {
    fail(Arrays.toString(elements));
  }
  myFixture.checkResult(resultText.replaceAll("\\|","<caret>"));
}
