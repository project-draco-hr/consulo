{
  if (myCellWrapper == null) {
    return renderer;
  }
 else {
    return new TableCellRenderer(){
      public Component getTableCellRendererComponent(      JTable table,      Object value,      boolean isSelected,      boolean hasFocus,      int row,      int column){
        Component result=renderer.getTableCellRendererComponent(table,value,isSelected,hasFocus,row,column);
        Object treeNode=null;
        if (myCurrentView == myTreeView) {
          TreePath path=myTreeView.getTree().getPathForRow(row);
          if (path != null) {
            treeNode=path.getLastPathComponent();
          }
        }
 else         if (myCurrentView == myFlatView) {
          treeNode=myFlatView.getItems().get(row);
        }
        myCellWrapper.wrap(result,table,value,isSelected,hasFocus,row,column,treeNode);
        return result;
      }
    }
;
  }
}
