{
  new HgInitCommand(myProject).execute(selectedRoot,new Consumer<Boolean>(){
    @Override public void consume(    Boolean succeeded){
      if (succeeded) {
        updateDirectoryMappings(mapRoot);
      }
      Notifications.Bus.notify(new Notification(HgVcs.NOTIFICATION_GROUP_ID,HgVcsMessages.message(succeeded ? "hg4idea.init.created.notification.title" : "hg4idea.init.error.title"),HgVcsMessages.message(succeeded ? "hg4idea.init.created.notification.description" : "hg4idea.init.error.description",selectedRoot.getPresentableUrl()),succeeded ? NotificationType.INFORMATION : NotificationType.ERROR),myProject.isDefault() ? null : myProject);
    }
  }
);
}
