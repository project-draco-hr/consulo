{
  new HgInitCommand(myProject).execute(selectedRoot,new HgCommandResultHandler(){
    @Override public void process(    @Nullable HgCommandResult result){
      if (!HgErrorUtil.hasErrorsInCommandExecution(result)) {
        updateDirectoryMappings(mapRoot);
        new HgCommandResultNotifier(myProject.isDefault() ? null : myProject).notifySuccess("hg4idea.init.created.notification.title","hg4idea.init.created.notification.description");
      }
 else {
        new HgCommandResultNotifier(myProject.isDefault() ? null : myProject).notifyError(result,"hg4idea.init.error.title",HgVcsMessages.message("hg4idea.init.error.description",selectedRoot.getPresentableUrl()));
      }
    }
  }
);
}
