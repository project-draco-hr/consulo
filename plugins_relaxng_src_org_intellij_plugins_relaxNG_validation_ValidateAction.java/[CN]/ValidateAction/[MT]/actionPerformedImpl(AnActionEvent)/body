{
  final PsiFile file=e.getData(LangDataKeys.PSI_FILE);
  if (file == null) {
    return false;
  }
  final Project project=e.getData(PlatformDataKeys.PROJECT);
  if (project == null) {
    return false;
  }
  final RngElementDescriptor descriptor=getRootDescriptor(file);
  if (descriptor == null)   return false;
  final PsiElement element=descriptor.getDeclaration();
  final XmlFile xmlFile=PsiTreeUtil.getParentOfType(element,XmlFile.class);
  if (xmlFile == null)   return false;
  final VirtualFile instanceFile=file.getVirtualFile();
  final VirtualFile schemaFile=xmlFile.getVirtualFile();
  if (instanceFile == null || schemaFile == null) {
    return true;
  }
  doRun(project,instanceFile,schemaFile);
  return true;
}
