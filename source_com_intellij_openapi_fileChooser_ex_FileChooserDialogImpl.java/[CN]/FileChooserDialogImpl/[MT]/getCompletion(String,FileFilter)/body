{
  List<File> result=new ArrayList<File>();
  File current=getCurrentParent(typed);
  if (current == null)   return result;
  if (typed == null || typed.length() == 0)   return result;
  final String typedText=new File(typed).getPath();
  final String parentText=current.getAbsolutePath();
  if (!typedText.startsWith(parentText))   return result;
  String prefix=typedText.substring(parentText.length());
  if (prefix.startsWith(File.separator)) {
    prefix=prefix.substring(File.separator.length());
  }
 else   if (typed.endsWith(File.separator)) {
    prefix="";
  }
  final String effectivePrefix=prefix;
  final File[] files=current.listFiles(new FileFilter(){
    public boolean accept(    final File pathname){
      if (filter != null && !filter.accept(pathname))       return false;
      return pathname.getName().toUpperCase().startsWith(effectivePrefix.toUpperCase());
    }
  }
);
  if (files == null)   return result;
  for (  File each : files) {
    result.add(each);
  }
  return result;
}
