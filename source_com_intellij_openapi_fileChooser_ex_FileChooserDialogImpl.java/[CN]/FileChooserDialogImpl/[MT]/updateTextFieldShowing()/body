{
  myTextFieldAction.update();
  myNorthPanel.remove(myPathTextFieldWrapper);
  if (!myChooserDescriptor.isChooseMultiple()) {
    if (ourTextFieldShown) {
      if (myFileSystemTree.getSelectedFile() != null) {
        final ArrayList<VirtualFile> selection=new ArrayList<VirtualFile>();
        selection.add(myFileSystemTree.getSelectedFile());
        updatePathFromTree(selection,true);
      }
      myNorthPanel.add(myPathTextFieldWrapper,BorderLayout.CENTER);
    }
 else {
      setErrorText(null);
    }
    myPathTextField.requestFocus();
  }
 else {
    myFileSystemTree.getTree().requestFocus();
  }
  myNorthPanel.revalidate();
  myNorthPanel.repaint();
}
