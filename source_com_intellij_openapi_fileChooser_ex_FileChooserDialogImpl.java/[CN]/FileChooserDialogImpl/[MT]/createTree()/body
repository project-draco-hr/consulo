{
  myFileSystemTree=new FileSystemTreeImpl(myProject,myChooserDescriptor);
  myFileSystemTree.addOkAction(new Runnable(){
    public void run(){
      doOKAction();
    }
  }
);
  JTree tree=myFileSystemTree.getTree();
  tree.setCellRenderer(new NodeRenderer());
  tree.addTreeSelectionListener(new FileTreeSelectionListener());
  tree.addTreeExpansionListener(new FileTreeExpansionListener());
  setOKActionEnabled(false);
  myFileSystemTree.addListener(new FileSystemTree.Listener(){
    public void selectionChanged(    final List<VirtualFile> selection){
      updatePathFromTree(selection,false);
    }
  }
,myDisposable);
  return tree;
}
