{
  if (insertedElement == null)   return "";
  final String prefix=ApplicationManager.getApplication().runReadAction(new Computable<String>(){
    public String compute(){
      return getReferencePrefix(insertedElement,offsetInFile);
    }
  }
);
  if (prefix != null)   return prefix;
  if (insertedElement instanceof PsiPlainText)   return "";
  return findPrefixDefault(insertedElement,offsetInFile,not(character().javaIdentifierPart()));
}
