{
  List<VirtualFile> files;
synchronized (myFiles) {
    files=myFiles;
  }
  List<VirtualFile> localFileSystemFiles=new ArrayList<VirtualFile>(files.size() / 2);
  List<VirtualFile> archiveFiles=new ArrayList<VirtualFile>(files.size() / 2);
  for (  VirtualFile file : files) {
    if (file.getFileSystem() instanceof LocalFileSystem)     localFileSystemFiles.add(file);
 else     archiveFiles.add(file);
  }
  localFileSystemFiles.addAll(archiveFiles);
  return localFileSystemFiles;
}
