{
  final int size=getNumberOfPendingInvalidations();
  if (size == 0) {
    return;
  }
  final ProgressIndicator current=ProgressManager.getInstance().getProgressIndicator();
  final ProgressIndicator indicator=current != null ? current : new EmptyProgressIndicator();
  indicator.setText("");
  int count=0;
  while (true) {
    InvalidationTask task=myFutureInvalidations.poll();
    if (task == null) {
      break;
    }
    indicator.setFraction((double)count++ / size);
    indicator.setText2(task.getSubj().getPresentableUrl());
    task.run();
  }
}
