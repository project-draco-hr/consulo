{
  if (file.isDirectory()) {
    final ContentIterator iterator=new ContentIterator(){
      @Override public boolean processFile(      @NotNull final VirtualFile fileOrDir){
        processor.process(fileOrDir);
        return true;
      }
    }
;
    for (    IndexableFileSet set : myIndexableSets) {
      if (set.isInSet(file)) {
        set.iterateIndexableFilesIn(file,iterator);
      }
    }
  }
 else {
    if (getIndexableSetForFile(file) != null)     processor.process(file);
  }
}
