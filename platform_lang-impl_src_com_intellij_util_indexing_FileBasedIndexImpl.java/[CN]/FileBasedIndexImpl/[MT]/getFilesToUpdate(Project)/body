{
  return ContainerUtil.findAll(myChangedFilesCollector.getAllFilesToUpdate(),new Condition<VirtualFile>(){
    @Override public boolean value(    VirtualFile virtualFile){
      if (virtualFile instanceof DeletedVirtualFileStub) {
        return true;
      }
      for (      IndexableFileSet set : myIndexableSets) {
        final Project proj=myIndexableSetToProjectMap.get(set);
        if (proj != null && !proj.equals(project)) {
          continue;
        }
        if (set.isInSet(virtualFile)) {
          return true;
        }
      }
      return false;
    }
  }
);
}
