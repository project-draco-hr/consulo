{
  if (root == null) {
    return;
  }
  VfsUtilCore.visitChildrenRecursively(root,new VirtualFileVisitor(){
    @Override public boolean visitFile(    @NotNull VirtualFile file){
      if (indicator != null)       indicator.checkCanceled();
      if (!file.isDirectory()) {
        processor.processFile(file);
      }
 else       if (indicator != null) {
        indicator.setText2(file.getPresentableUrl());
      }
      return true;
    }
  }
);
}
