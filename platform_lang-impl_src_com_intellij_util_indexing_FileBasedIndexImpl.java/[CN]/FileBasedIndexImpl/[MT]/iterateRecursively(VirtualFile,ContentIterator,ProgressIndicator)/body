{
  if (root == null) {
    return;
  }
  VfsUtilCore.visitChildrenRecursively(root,new VirtualFileVisitor(){
    @Override public boolean visitFile(    @NotNull VirtualFile file){
      if (indicator != null)       indicator.checkCanceled();
      processor.processFile(file);
      if (indicator != null && file.isDirectory()) {
        indicator.setText2(file.getPresentableUrl());
      }
      return true;
    }
  }
);
}
