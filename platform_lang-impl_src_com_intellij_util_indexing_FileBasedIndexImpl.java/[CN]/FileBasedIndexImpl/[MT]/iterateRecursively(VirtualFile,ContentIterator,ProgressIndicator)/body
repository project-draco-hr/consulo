{
  if (root != null) {
    if (indicator != null) {
      indicator.checkCanceled();
      indicator.setText2(root.getPresentableUrl());
    }
    if (root.isDirectory()) {
      for (      VirtualFile file : root.getChildren()) {
        if (file.isDirectory()) {
          iterateRecursively(file,processor,indicator);
        }
 else {
          processor.processFile(file);
        }
      }
    }
 else {
      processor.processFile(root);
    }
  }
}
