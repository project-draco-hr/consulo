{
  return new Runnable(){
    @Override public void run(){
      if (file.isValid()) {
        ID stubId=IndexInfrastructure.getStubId(indexId,fileType);
        if (hasContent) {
          IndexingStamp.update(file,stubId,getIndexCreationStamp(stubId,fileType));
        }
 else {
          IndexingStamp.update(file,stubId,IndexInfrastructure.INVALID_STAMP);
        }
        if (myNotRequiringContentIndices.contains(indexId))         IndexingStamp.flushCache(file);
      }
    }
  }
;
}
