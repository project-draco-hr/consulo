def cachecommit(self, rev):
    commit = self.source.getcommit(rev)
    commit.author = self.authors.get(commit.author, commit.author)
    commit.branch = self.branchmap.get(commit.branch, commit.branch)
    self.commitcache[rev] = commit
    return commit
