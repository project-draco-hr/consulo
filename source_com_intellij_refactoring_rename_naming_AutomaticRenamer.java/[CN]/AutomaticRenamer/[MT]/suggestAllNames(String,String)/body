{
  final NameSuggester suggester=new NameSuggester(oldClassName,newClassName);
  for (int varIndex=myElements.size() - 1; varIndex >= 0; varIndex--) {
    final T element=myElements.get(varIndex);
    final String name=element.getName();
    if (!myRenames.containsKey(name)) {
      String canonicalName=nameToCanonicalName(name,element);
      final String newCanonicalName=suggester.suggestName(canonicalName);
      if (newCanonicalName.length() == 0) {
        LOG.assertTrue(false,"oldClassName = " + oldClassName + ", newClassName = "+ newClassName+ ", name = "+ name+ ", canonicalName = "+ canonicalName+ ", newCanonicalName = "+ newCanonicalName);
      }
      String newName=canonicalNameToName(newCanonicalName,element);
      if (!newName.equals(name)) {
        myRenames.put(name,newName);
      }
 else {
        myRenames.put(name,null);
      }
    }
    if (myRenames.get(name) == null) {
      myElements.remove(varIndex);
    }
  }
}
