{
  final Ref<Boolean> stopper=new Ref<Boolean>(Boolean.FALSE);
  TestRepository repository=new TestRepository(new LocalTaskImpl("foo","bar")){
    @Override public List<Task> getIssues(    @Nullable String query,    int max,    long since) throws Exception {
      if (stopper.get())       throw new Exception();
      return super.getIssues(query,max,since);
    }
  }
;
  myManager.setRepositories(Collections.singletonList(repository));
  List<Task> issues=myManager.getIssues("");
  assertEquals(1,issues.size());
  stopper.set(Boolean.TRUE);
  issues=myManager.getIssues("");
  assertEquals(1,issues.size());
}
