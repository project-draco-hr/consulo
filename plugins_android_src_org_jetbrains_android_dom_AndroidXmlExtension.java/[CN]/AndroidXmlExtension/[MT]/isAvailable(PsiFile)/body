{
  if (file instanceof XmlFile) {
    if (!DirectoryIndex.getInstance(file.getProject()).isInitialized()) {
      return false;
    }
    if (AndroidFacet.getInstance(file) == null) {
      return false;
    }
    return ApplicationManager.getApplication().runReadAction(new Computable<Boolean>(){
      public Boolean compute(){
        return ResourceManager.isInResourceSubdirectory(file,null);
      }
    }
);
  }
  return false;
}
