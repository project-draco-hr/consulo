{
  if (!(o instanceof State))   return -1;
  final State other=(State)o;
  if (myKey.equals(other.myKey)) {
    if (myDescriptor != null && other.myDescriptor != null) {
      final NamedScope scope1=myDescriptor.getScope();
      final NamedScope scope2=other.myDescriptor.getScope();
      if (scope1 != null && scope2 != null) {
        return scope1.getName().compareTo(scope2.getName());
      }
    }
  }
  return myKey.compareTo(other.myKey);
}
