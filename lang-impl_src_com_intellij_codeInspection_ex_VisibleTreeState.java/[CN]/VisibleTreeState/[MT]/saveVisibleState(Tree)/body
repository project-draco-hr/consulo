{
  myExpandedNodes.clear();
  final DefaultMutableTreeNode rootNode=(DefaultMutableTreeNode)tree.getModel().getRoot();
  Enumeration<TreePath> expanded=tree.getExpandedDescendants(new TreePath(rootNode.getPath()));
  if (expanded != null) {
    while (expanded.hasMoreElements()) {
      final TreePath treePath=expanded.nextElement();
      final InspectionConfigTreeNode node=(InspectionConfigTreeNode)treePath.getLastPathComponent();
      final Descriptor descriptor=node.getDesriptor();
      String expandedNode;
      if (descriptor != null) {
        expandedNode=descriptor.getKey().toString();
      }
 else {
        expandedNode=node.getGroupName();
      }
      myExpandedNodes.add(expandedNode);
    }
  }
  setSelectionPaths(tree.getSelectionPaths());
}
