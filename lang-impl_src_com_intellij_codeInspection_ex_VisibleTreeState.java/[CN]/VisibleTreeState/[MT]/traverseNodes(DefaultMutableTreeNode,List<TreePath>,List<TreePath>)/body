{
  final Descriptor descriptor=((SingleInspectionProfilePanel.MyTreeNode)root).getDesriptor();
  final TreeNode[] rootPath=root.getPath();
  if (descriptor != null) {
    final String shortName=descriptor.getKey().toString();
    if (mySelectedNodes.contains(shortName)) {
      toSelect.add(new TreePath(rootPath));
    }
    if (myExpandedNodes.contains(shortName)) {
      pathsToExpand.add(new TreePath(rootPath));
    }
  }
 else {
    final String str=((SingleInspectionProfilePanel.MyTreeNode)root).getGroupName();
    if (mySelectedNodes.contains(str)) {
      toSelect.add(new TreePath(rootPath));
    }
    if (myExpandedNodes.contains(str)) {
      pathsToExpand.add(new TreePath(rootPath));
    }
    for (int i=0; i < root.getChildCount(); i++) {
      traverseNodes((DefaultMutableTreeNode)root.getChildAt(i),pathsToExpand,toSelect);
    }
  }
}
