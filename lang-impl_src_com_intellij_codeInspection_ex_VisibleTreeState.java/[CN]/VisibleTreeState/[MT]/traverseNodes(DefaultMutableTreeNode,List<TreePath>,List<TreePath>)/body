{
  final Descriptor descriptor=((InspectionConfigTreeNode)root).getDesriptor();
  final TreeNode[] rootPath=root.getPath();
  if (descriptor != null) {
    final String shortName=descriptor.getKey().toString();
    if (mySelectedNodes.contains(new State(descriptor)) || mySelectedNodes.contains(new State(shortName))) {
      toSelect.add(new TreePath(rootPath));
    }
    if (myExpandedNodes.contains(new State(descriptor)) || myExpandedNodes.contains(new State(shortName))) {
      pathsToExpand.add(new TreePath(rootPath));
    }
  }
 else {
    final String str=((InspectionConfigTreeNode)root).getGroupName();
    if (mySelectedNodes.contains(new State(str))) {
      toSelect.add(new TreePath(rootPath));
    }
    if (myExpandedNodes.contains(new State(str))) {
      pathsToExpand.add(new TreePath(rootPath));
    }
  }
  for (int i=0; i < root.getChildCount(); i++) {
    traverseNodes((DefaultMutableTreeNode)root.getChildAt(i),pathsToExpand,toSelect);
  }
}
