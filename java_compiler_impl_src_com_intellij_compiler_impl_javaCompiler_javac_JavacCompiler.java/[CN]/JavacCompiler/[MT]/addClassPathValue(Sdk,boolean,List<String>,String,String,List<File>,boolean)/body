{
  if (!useTempFile) {
    commandLine.add(cpString);
    return;
  }
  if (isVersion1_0) {
    commandLine.add(((JavaSdkType)jdk.getSdkType()).getToolsPath(jdk) + File.pathSeparator + cpString);
  }
 else {
    File cpFile=FileUtil.createTempFile(tempFileName,".tmp");
    cpFile.deleteOnExit();
    tempFiles.add(cpFile);
    final DataOutputStream out=new DataOutputStream(new BufferedOutputStream(new FileOutputStream(cpFile)));
    try {
      CompilerIOUtil.writeString(cpString,out);
    }
  finally {
      out.close();
    }
    commandLine.add("@" + cpFile.getAbsolutePath());
  }
}
