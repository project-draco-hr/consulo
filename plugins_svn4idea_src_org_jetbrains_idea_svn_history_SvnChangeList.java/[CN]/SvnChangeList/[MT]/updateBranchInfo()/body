{
  final Collection<Change> changes=getChanges();
  myBranchInfoLoaded=true;
  FilePath anyFile=null;
  SVNURL anyUrl=null;
  if (!changes.isEmpty()) {
    try {
      final Change firstChange=changes.iterator().next();
      SvnRepositoryContentRevision revision=(SvnRepositoryContentRevision)firstChange.getBeforeRevision();
      revision=(revision == null) ? (SvnRepositoryContentRevision)firstChange.getAfterRevision() : revision;
      anyFile=revision.getFile();
      anyUrl=SVNURL.parseURIDecoded(revision.getFullPath());
    }
 catch (    SVNException e) {
      return;
    }
  }
  if ((anyFile == null) || (anyUrl == null)) {
    return;
  }
  myWcRoot=SvnUtil.getWorkingCopyRoot(anyFile.getIOFile());
  myBranchUrl=getBranchForUrl(anyFile,anyUrl);
}
