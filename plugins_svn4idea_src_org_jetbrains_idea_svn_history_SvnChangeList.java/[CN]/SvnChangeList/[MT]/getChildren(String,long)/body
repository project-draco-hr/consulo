{
  if (myRepository == null) {
    return null;
  }
  try {
    final boolean isDir=SVNNodeKind.DIR.equals(myRepository.checkPath(path,revision));
    myDirectories.put(path,isDir);
    if (!isDir) {
      return null;
    }
    final Set<String> result=new HashSet<String>();
    final SVNLogClient client=myVcs.createLogClient();
    client.doList(myRepository.getLocation().appendPath(path,true),SVNRevision.create(revision),SVNRevision.create(revision),true,new ISVNDirEntryHandler(){
      public void handleDirEntry(      final SVNDirEntry dirEntry) throws SVNException {
        result.add(dirEntry.getRelativePath());
      }
    }
);
    return result;
  }
 catch (  SVNException e) {
    LOG.error(e);
    return null;
  }
}
