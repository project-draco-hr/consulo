{
  final int lineNumber=(getHighlighter().getDocument().getLineNumber(getHighlighter().getStartOffset()) + 1);
  if (isValid()) {
    final String className=getClassName();
    final boolean hasClassInfo=className != null && className.length() > 0;
    final boolean hasMethodInfo=myMethodName != null && myMethodName.length() > 0;
    if (hasClassInfo || hasMethodInfo) {
      final StringBuilder info=StringBuilderSpinAllocator.alloc();
      try {
        if (hasClassInfo) {
          info.append(className);
        }
        if (hasMethodInfo) {
          if (hasClassInfo) {
            info.append(".");
          }
          info.append(myMethodName);
        }
        return DebuggerBundle.message("line.breakpoint.display.name.with.class.or.method",lineNumber,info.toString());
      }
  finally {
        StringBuilderSpinAllocator.dispose(info);
      }
    }
    return DebuggerBundle.message("line.breakpoint.display.name",lineNumber);
  }
  return DebuggerBundle.message("status.breakpoint.invalid");
}
