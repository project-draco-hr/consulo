{
  if (myVcs == null) {
    try {
      final Class<? extends AbstractVcs> foundClass=findClass(vcsClass);
      final Class<?>[] interfaces=foundClass.getInterfaces();
      for (      Class<?> anInterface : interfaces) {
        if (BaseComponent.class.isAssignableFrom(anInterface)) {
          myVcs=PeriodicalTasksCloser.getInstance().safeGetComponent(project,foundClass);
          myVcs=VcsActiveEnvironmentsProxy.proxyVcs(myVcs);
          return myVcs;
        }
      }
      myVcs=VcsActiveEnvironmentsProxy.proxyVcs((AbstractVcs)instantiate(vcsClass,project.getPicoContainer()));
    }
 catch (    Exception e) {
      LOG.error(e);
      return null;
    }
  }
  return myVcs;
}
