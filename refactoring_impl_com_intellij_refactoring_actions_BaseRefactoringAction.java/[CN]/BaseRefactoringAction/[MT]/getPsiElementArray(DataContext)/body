{
  PsiElement[] psiElements=(PsiElement[])dataContext.getData(DataConstants.PSI_ELEMENT_ARRAY);
  if (psiElements == null || psiElements.length == 0) {
    PsiElement element=(PsiElement)dataContext.getData(DataConstants.PSI_ELEMENT);
    if (element != null) {
      psiElements=new PsiElement[]{element};
    }
  }
  List<PsiElement> filtered=null;
  if (psiElements != null) {
    for (    PsiElement element : psiElements) {
      if (isSyntheticJsp(element)) {
        if (filtered == null)         filtered=new ArrayList<PsiElement>(Arrays.asList(element));
        filtered.remove(element);
      }
    }
  }
  return filtered == null ? psiElements : filtered.toArray(new PsiElement[filtered.size()]);
}
