{
  final VirtualFile fileToSelect=getFileToSelect();
  myChooserDescriptor.setTitle(myTitle);
  myChooserDescriptor.setDescription(myDescription);
  VirtualFile[] files=(fileToSelect != null) ? FileChooser.chooseFiles(myTextField,myChooserDescriptor,fileToSelect) : FileChooser.chooseFiles(myTextField,myChooserDescriptor);
  if (files != null && files.length > 0) {
    myTextField.setText(files[0].getPath().replace('/',File.separatorChar));
  }
}
