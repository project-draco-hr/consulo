{
  if (editor != null) {
    StringBuilder message=new StringBuilder();
    SelectionModel selectionModel=editor.getSelectionModel();
    if (selectionModel.hasBlockSelection()) {
      appendLogicalPosition(selectionModel.getBlockStart(),message);
      message.append("-");
      appendLogicalPosition(selectionModel.getBlockEnd(),message);
    }
 else {
      LogicalPosition caret=editor.getCaretModel().getLogicalPosition();
      appendLogicalPosition(caret,message);
      if (selectionModel.hasSelection()) {
        int len=Math.abs(selectionModel.getSelectionStart() - selectionModel.getSelectionEnd());
        message.append("/");
        message.append(len);
      }
    }
    setText(message.toString());
    return UIBundle.message("go.to.line.command.double.click");
  }
  clear();
  return null;
}
