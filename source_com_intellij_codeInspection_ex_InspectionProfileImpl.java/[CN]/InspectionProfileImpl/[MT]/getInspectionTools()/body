{
  if (myBaseProfile != null && myBaseProfile.myTools.isEmpty()) {
    myBaseProfile.getInspectionTools();
  }
  if (myTools.isEmpty() && !ApplicationManager.getApplication().isUnitTestMode()) {
    final InspectionTool[] tools=InspectionToolRegistrar.getInstance().createTools();
    for (    InspectionTool tool : tools) {
      myTools.put(tool.getShortName(),tool);
    }
    load();
  }
  ArrayList<InspectionTool> result=new ArrayList<InspectionTool>();
  result.addAll(myTools.values());
  return result.toArray(new InspectionTool[result.size()]);
}
