{
  super(parent,true);
  final TodoAttributes attrs=pattern.getAttributes();
  myPattern=pattern;
  myIconComboBox=new JComboBox(new Icon[]{TodoAttributes.DEFAULT_ICON,TodoAttributes.QUESTION_ICON,TodoAttributes.IMPORTANT_ICON});
  myIconComboBox.setSelectedItem(attrs.getIcon());
  myIconComboBox.setRenderer(new TodoTypeListCellRenderer());
  myCaseSensitiveCheckBox=new JCheckBox(IdeBundle.message("checkbox.case.sensitive"),pattern.isCaseSensitive());
  myPatternStringField=new JTextField(pattern.getPatternString());
  myUsedDefaultColorsCeckBox=new JCheckBox(IdeBundle.message("checkbox.todo.use.default.colors"));
  myUsedDefaultColorsCeckBox.setSelected(!attrs.shouldUseCustomTodoColor());
  myColorAndFontDescriptionPanel=new ColorAndFontDescriptionPanel();
  TextAttributes attributes=myPattern.getAttributes().getCustomizedTextAttributes();
  myColorAndFontDescription=new TextAttributesDescription(null,null,attributes,null,EditorColorsManager.getInstance().getGlobalScheme(),null,null){
    public void apply(    EditorColorsScheme scheme){
    }
    public boolean isErrorStripeEnabled(){
      return true;
    }
  }
;
  myColorAndFontDescriptionPanel.reset(myColorAndFontDescription);
  updateCustomColorsPanel();
  myUsedDefaultColorsCeckBox.addActionListener(new ActionListener(){
    public void actionPerformed(    ActionEvent e){
      updateCustomColorsPanel();
    }
  }
);
  init();
}
