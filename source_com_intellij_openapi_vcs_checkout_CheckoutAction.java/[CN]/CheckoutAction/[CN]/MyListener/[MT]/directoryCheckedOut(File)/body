{
  if (!myFoundProject) {
    final VirtualFile virtualFile=refreshVFS(directory);
    if (virtualFile != null) {
      if (myFirstDirectory == null) {
        myFirstDirectory=directory;
      }
      CheckoutListener[] listeners=Extensions.getExtensions(CheckoutListener.EP_NAME);
      for (      CheckoutListener listener : listeners) {
        myFoundProject=listener.processCheckedOutDirectory(myProject,directory);
        if (myFoundProject)         break;
      }
    }
  }
}
