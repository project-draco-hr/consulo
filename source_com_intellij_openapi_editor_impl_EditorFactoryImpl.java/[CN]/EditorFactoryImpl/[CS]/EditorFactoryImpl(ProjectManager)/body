{
  LaterInvocator.addModalityStateListener(new ModalityStateListener(){
    public void beforeModalityStateChanged(){
      for (      Editor editor : myEditors) {
        ((EditorImpl)editor).beforeModalityStateChanged();
      }
    }
  }
);
  projectManager.addProjectManagerListener(new ProjectManagerAdapter(){
    public void projectClosed(    final Project project){
      SwingUtilities.invokeLater(new Runnable(){
        public void run(){
          validateEditorsAreReleased(project);
        }
      }
);
    }
  }
);
}
