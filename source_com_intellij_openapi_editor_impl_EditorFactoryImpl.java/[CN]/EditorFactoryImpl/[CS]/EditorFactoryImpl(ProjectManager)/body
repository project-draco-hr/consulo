{
  LaterInvocatorEx.addModalityStateListener(new ModalityStateListener(){
    public void beforeModalityStateChanged(){
      for (int i=0; i < myEditors.size(); i++) {
        Editor editor=myEditors.get(i);
        ((EditorImpl)editor).beforeModalityStateChanged();
      }
    }
  }
);
  projectManager.addProjectManagerListener(new ProjectManagerAdapter(){
    public void projectClosed(    final Project project){
      SwingUtilities.invokeLater(new Runnable(){
        public void run(){
          validateEditorsAreReleased(project);
        }
      }
);
    }
  }
);
}
