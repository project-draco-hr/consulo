{
  EditorImpl editor=new EditorImpl(document,isViewer,project);
  myEditors.add(editor);
  myEditorEventMulticaster.registerEditor(editor);
  myEditorFactoryEventDispatcher.getMulticaster().editorCreated(new EditorFactoryEvent(this,editor));
  if (LOG.isDebugEnabled()) {
    LOG.debug("number of Editor's:" + myEditors.size());
  }
  try {
    throw new RuntimeException("Editor created");
  }
 catch (  RuntimeException e) {
    final ByteArrayOutputStream buffer=new ByteArrayOutputStream();
    final PrintWriter printWriter=new PrintWriter(buffer);
    e.printStackTrace(printWriter);
    printWriter.flush();
    editor.putUserData(EDITOR_CREATOR,buffer.toString());
  }
  return editor;
}
