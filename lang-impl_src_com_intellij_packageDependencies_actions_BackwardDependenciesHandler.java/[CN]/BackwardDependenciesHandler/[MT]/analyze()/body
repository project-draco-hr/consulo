{
  final List<DependenciesBuilder> builders=new ArrayList<DependenciesBuilder>();
  for (  AnalysisScope scope : myScopes) {
    builders.add(new BackwardDependenciesBuilder(myProject,scope,myScopeOfInterest));
  }
  final Runnable process=new Runnable(){
    public void run(){
      for (      DependenciesBuilder builder : builders) {
        builder.analyze();
      }
    }
  }
;
  final Runnable successRunnable=new Runnable(){
    public void run(){
      SwingUtilities.invokeLater(new Runnable(){
        public void run(){
          DependenciesPanel panel=new DependenciesPanel(myProject,builders,myExcluded);
          Content content=ContentFactory.SERVICE.getInstance().createContent(panel,AnalysisScopeBundle.message("backward.dependencies.toolwindow.title",builders.get(0).getScope().getDisplayName()),false);
          content.setDisposer(panel);
          panel.setContent(content);
          ((DependencyValidationManagerImpl)DependencyValidationManager.getInstance(myProject)).addContent(content);
        }
      }
);
    }
  }
;
  ProgressManager.getInstance().runProcessWithProgressAsynchronously(myProject,AnalysisScopeBundle.message("backward.dependencies.progress.text"),process,successRunnable,null,new PerformAnalysisInBackgroundOption(myProject));
}
