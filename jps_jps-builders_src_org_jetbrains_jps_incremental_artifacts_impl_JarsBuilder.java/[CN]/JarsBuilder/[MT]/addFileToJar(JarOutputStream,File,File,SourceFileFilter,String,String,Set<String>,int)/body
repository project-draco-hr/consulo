{
  if (!file.exists() || FileUtil.isAncestor(file,jarFile,false)) {
    return;
  }
  relativePath=addParentDirectories(jarOutputStream,writtenPaths,relativePath);
  addFileOrDirRecursively(jarOutputStream,file,filter,relativePath,targetJarPath,writtenPaths,rootIndex);
}
