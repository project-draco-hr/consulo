{
  final Ref<DockableEditorTabbedContainer> containerRef=new Ref<DockableEditorTabbedContainer>();
  EditorsSplitters splitters=new EditorsSplitters(myFileEditorManager,myDockManager,false){
    @Override protected void afterFileClosed(    VirtualFile file){
      containerRef.get().fireContentClosed(file);
    }
    @Override protected void afterFileOpen(    VirtualFile file){
      containerRef.get().fireContentOpen(file);
    }
    @Override protected IdeFrame getFrame(    Project project){
      return DockManager.getInstance(project).getIdeFrame(containerRef.get());
    }
    @Override public boolean isFloating(){
      return true;
    }
  }
;
  if (!loadingState) {
    splitters.createCurrentWindow();
  }
  final DockableEditorTabbedContainer container=new DockableEditorTabbedContainer(myProject,splitters,true);
  Disposer.register(container,splitters);
  containerRef.set(container);
  container.getSplitters().startListeningFocus();
  return container;
}
