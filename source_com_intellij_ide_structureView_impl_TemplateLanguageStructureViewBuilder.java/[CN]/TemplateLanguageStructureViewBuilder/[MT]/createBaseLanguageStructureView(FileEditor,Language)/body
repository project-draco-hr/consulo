{
  FileType fileType=findFileType(language);
  Project project=myMainFile.getProject();
  final TemplateLanguageFileViewProvider viewProvider=getViewProvider();
  final PsiFile templateLanguagePsiFile=viewProvider.getPsi(language);
  if (templateLanguagePsiFile == null)   return null;
  TreeBasedStructureViewBuilder baseViewBuilder=(TreeBasedStructureViewBuilder)LanguageStructureViewBuilder.INSTANCE.forLanguage(language).getStructureViewBuilder(templateLanguagePsiFile);
  if (baseViewBuilder == null)   return null;
  StructureViewModel modelWrapper=new StructureViewModelWrapper(baseViewBuilder.createStructureViewModel(),myMainFile);
  StructureView structureView=StructureViewFactory.getInstance(project).createStructureView(fileEditor,modelWrapper,project);
  return new StructureViewComposite.StructureViewDescriptor(IdeBundle.message("tab.structureview.baselanguage.view",language.getID()),structureView,fileType.getIcon());
}
