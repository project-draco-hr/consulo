{
  if (problem.highlightInfo.getSeverity() != HighlightSeverity.ERROR)   return;
  myUpdateProblemsAlarm.addRequest(new Runnable(){
    public void run(){
      if (problem.virtualFile != null) {
synchronized (myProblems) {
          Collection<Problem> problems=myProblems.get(problem.virtualFile);
          if (problems == null) {
            problems=new SmartList<Problem>();
            myProblems.put(problem.virtualFile,problems);
          }
          problems.add(problem);
        }
      }
    }
  }
,0);
}
