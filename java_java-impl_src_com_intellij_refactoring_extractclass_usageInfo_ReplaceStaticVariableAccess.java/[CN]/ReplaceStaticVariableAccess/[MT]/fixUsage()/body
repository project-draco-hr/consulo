{
  if (myEnumConstant) {
    final PsiSwitchLabelStatement switchStatement=PsiTreeUtil.getParentOfType(expression,PsiSwitchLabelStatement.class);
    if (switchStatement != null) {
      MutationUtils.replaceExpression(expression.getReferenceName(),expression);
      return;
    }
  }
  final boolean replaceWithGetEnumValue=myEnumConstant && !alreadyMigratedToEnum();
  final String link=replaceWithGetEnumValue ? "." + PropertyUtil.suggestGetterName("value",expression.getType()) + "()" : "";
  MutationUtils.replaceExpression(delegateClass + '.' + expression.getReferenceName()+ link,expression);
}
