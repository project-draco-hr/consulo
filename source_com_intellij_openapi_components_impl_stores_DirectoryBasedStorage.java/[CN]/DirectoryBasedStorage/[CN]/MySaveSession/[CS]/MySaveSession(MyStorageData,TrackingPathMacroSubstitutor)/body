{
  myStorageData=storageData;
  myPathMacroSubstitutor=pathMacroSubstitutor;
  List<VirtualFile> allStorageFiles=new ArrayList<VirtualFile>();
  for (  String componentName : myStorageData.myStates.keySet()) {
    Map<IFile,Element> stateMap=myStorageData.myStates.get(componentName);
    for (    IFile file : stateMap.keySet()) {
      final VirtualFile virtualFile=StorageUtil.getVirtualFile(file);
      if (virtualFile != null) {
        allStorageFiles.add(virtualFile);
      }
    }
  }
  myAllStorageFiles=allStorageFiles;
}
