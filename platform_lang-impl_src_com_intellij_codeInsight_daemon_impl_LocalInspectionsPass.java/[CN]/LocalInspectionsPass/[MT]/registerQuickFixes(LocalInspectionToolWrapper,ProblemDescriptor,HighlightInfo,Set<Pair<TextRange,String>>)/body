{
  final HighlightDisplayKey key=HighlightDisplayKey.find(tool.getShortName());
  boolean needEmptyAction=true;
  final QuickFix[] fixes=descriptor.getFixes();
  if (fixes != null && fixes.length > 0) {
    for (int k=0; k < fixes.length; k++) {
      if (fixes[k] != null) {
        QuickFixAction.registerQuickFixAction(highlightInfo,QuickFixWrapper.wrap(descriptor,k),key);
        needEmptyAction=false;
      }
    }
  }
  HintAction hintAction=descriptor instanceof ProblemDescriptorImpl ? ((ProblemDescriptorImpl)descriptor).getHintAction() : null;
  if (hintAction != null) {
    QuickFixAction.registerQuickFixAction(highlightInfo,hintAction,key);
    needEmptyAction=false;
  }
  if (((ProblemDescriptorBase)descriptor).getEnforcedTextAttributes() != null) {
    needEmptyAction=false;
  }
  if (needEmptyAction && emptyActionRegistered.add(Pair.<TextRange,String>create(highlightInfo.getFixTextRange(),tool.getShortName()))) {
    IntentionAction emptyIntentionAction=new EmptyIntentionAction(tool.getDisplayName());
    QuickFixAction.registerQuickFixAction(highlightInfo,emptyIntentionAction,key);
  }
}
