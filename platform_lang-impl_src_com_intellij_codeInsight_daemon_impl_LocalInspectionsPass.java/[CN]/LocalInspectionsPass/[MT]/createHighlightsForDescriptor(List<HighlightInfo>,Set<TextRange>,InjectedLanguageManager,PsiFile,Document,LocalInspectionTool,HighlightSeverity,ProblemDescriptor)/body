{
  PsiElement psiElement=descriptor.getPsiElement();
  if (psiElement == null)   return;
  if (InspectionManagerEx.inspectionResultSuppressed(psiElement,tool))   return;
  HighlightInfoType level=highlightTypeFromDescriptor(descriptor,severity);
  HighlightInfo info=createHighlightInfo(descriptor,tool,level,emptyActionRegistered);
  if (info == null)   return;
  if (file == myFile) {
    outInfos.add(info);
    return;
  }
  List<TextRange> editables=ilManager.intersectWithAllEditableFragments(file,new TextRange(info.startOffset,info.endOffset));
  for (  TextRange editable : editables) {
    TextRange hostRange=((DocumentWindow)documentRange).injectedToHost(editable);
    HighlightInfo patched=HighlightInfo.createHighlightInfo(info.type,psiElement,hostRange.getStartOffset(),hostRange.getEndOffset(),info.description,info.toolTip);
    if (patched != null) {
      registerQuickFixes(tool,descriptor,patched,emptyActionRegistered);
      outInfos.add(patched);
    }
  }
}
