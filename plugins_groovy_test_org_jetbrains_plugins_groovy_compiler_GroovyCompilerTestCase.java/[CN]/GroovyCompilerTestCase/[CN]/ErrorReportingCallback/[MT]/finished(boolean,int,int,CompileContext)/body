{
  try {
    for (    CompilerMessageCategory category : CompilerMessageCategory.values()) {
      for (      CompilerMessage message : compileContext.getMessages(category)) {
        final String msg=message.getMessage();
        if (category != CompilerMessageCategory.INFORMATION || !msg.startsWith("Compilation completed successfully")) {
          myMessages.add(category + ": " + msg);
        }
      }
    }
    if (errors > 0) {
      fail("Compiler errors occurred! " + StringUtil.join(myMessages,"\n"));
    }
    assertFalse("Code did not compile!",aborted);
  }
 catch (  Throwable t) {
    myError=t;
  }
 finally {
    mySemaphore.up();
  }
}
