{
  UIUtil.invokeAndWaitIfNeeded(new Runnable(){
    @Override public void run(){
      try {
        final VirtualFile virtualFile=file.getVirtualFile();
        System.out.println("Changing file text: psiFile= " + file + "; vFile= "+ virtualFile);
        VfsUtil.saveText(ObjectUtils.assertNotNull(virtualFile),barText);
      }
 catch (      IOException e) {
        throw new RuntimeException(e);
      }
    }
  }
);
  touch(file.getVirtualFile());
}
