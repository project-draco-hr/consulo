{
  final Hash hash=myLogDataHolder.getHash(commitIndex);
  VcsCommitMetadata details=myLogDataHolder.getTopCommitDetails(hash);
  if (details != null) {
    return details;
  }
  final Ref<VcsCommitMetadata> ref=Ref.create();
  UIUtil.invokeAndWaitIfNeeded(new Runnable(){
    @Override public void run(){
      ref.set(myLogDataHolder.getCommitDetailsGetter().getCommitDataIfAvailable(hash));
    }
  }
);
  return ref.get();
}
