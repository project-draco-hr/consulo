{
  final Collection<String> branchNames=new HashSet<String>(branchFilter.getBranchNames());
  return ContainerUtil.mapNotNull(dataPack.getRefsModel().getAllRefs(),new Function<VcsRef,Integer>(){
    @Override public Integer fun(    VcsRef ref){
      if (branchNames.contains(ref.getName())) {
        return myLogDataHolder.getCommitIndex(ref.getCommitHash());
      }
      return null;
    }
  }
);
}
