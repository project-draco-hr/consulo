{
  final GraphModel graphModel=myLogDataHolder.getDataPack().getGraphModel();
  List<VcsLogGraphFilter> graphFilters=ContainerUtil.findAll(filters,VcsLogGraphFilter.class);
  List<VcsLogDetailsFilter> detailsFilters=ContainerUtil.findAll(filters,VcsLogDetailsFilter.class);
  if (!graphFilters.isEmpty()) {
    applyGraphFilters(graphModel,graphFilters);
  }
 else {
    myUI.getTable().executeWithoutRepaint(new Runnable(){
      @Override public void run(){
        graphModel.setVisibleBranchesNodes(ALL_NODES_VISIBLE);
      }
    }
);
  }
  final AbstractVcsLogTableModel model;
  if (!detailsFilters.isEmpty()) {
    List<VcsFullCommitDetails> filteredCommits=filterByDetails(graphModel,detailsFilters);
    model=new NoGraphTableModel(myUI,filteredCommits,myLogDataHolder.getDataPack().getRefsModel(),true);
  }
 else {
    model=new GraphTableModel(myLogDataHolder,myUI);
  }
  updateUi(model);
}
