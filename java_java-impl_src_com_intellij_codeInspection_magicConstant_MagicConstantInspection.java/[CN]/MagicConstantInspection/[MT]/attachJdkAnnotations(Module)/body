{
  OrderEntry[] entries=ModuleRootManager.getInstance(module).getOrderEntries();
  Sdk jdk=null;
  for (  OrderEntry orderEntry : entries) {
    if (orderEntry instanceof JdkOrderEntry) {
      jdk=((JdkOrderEntry)orderEntry).getJdk();
    }
  }
  if (jdk == null)   return;
  LocalFileSystem lfs=LocalFileSystem.getInstance();
  VirtualFile root=null;
  if (root == null) {
    root=lfs.findFileByPath(FileUtil.toSystemIndependentName(PathManager.getHomePath()) + "/java/jdkAnnotations");
  }
  if (root == null) {
    root=lfs.findFileByPath(FileUtil.toSystemIndependentName(PathManager.getHomePath()) + "/community/java/jdkAnnotations");
  }
  if (root == null) {
    root=VirtualFileManager.getInstance().findFileByUrl("jar://" + FileUtil.toSystemIndependentName(PathManager.getHomePath()) + "/lib/jdkAnnotations.jar!/");
  }
  if (root == null) {
    return;
  }
  SdkModificator modificator=jdk.getSdkModificator();
  modificator.addRoot(root,AnnotationOrderRootType.getInstance());
  modificator.commitChanges();
}
