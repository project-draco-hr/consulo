{
  PsiClass clazz=resolved.getContainingClass();
  if (clazz != null && GroovyCommonClassNames.GROOVY_LANG_CLOSURE.equals(clazz.getQualifiedName())) {
    if ("call".equals(resolved.getName()) || "curry".equals(resolved.getName())) {
      GrExpression qualifier=refExpr.getQualifierExpression();
      if (qualifier != null) {
        PsiType qType=qualifier.getType();
        if (qType instanceof GrClosureType) {
          if ("call".equals(resolved.getName())) {
            return ((GrClosureType)qType).getSignature().getReturnType();
          }
 else           if ("curry".equals(resolved.getName())) {
            final GrArgumentList argumentList=callExpression.getArgumentList();
            return ((GrClosureType)qType).curry(argumentList == null ? 0 : argumentList.getExpressionArguments().length);
          }
        }
      }
    }
  }
  return null;
}
