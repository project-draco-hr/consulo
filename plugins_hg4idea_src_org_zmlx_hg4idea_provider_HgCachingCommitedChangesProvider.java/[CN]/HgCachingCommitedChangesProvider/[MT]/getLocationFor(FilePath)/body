{
  VirtualFile repo=VcsUtil.getVcsRootFor(project,filePath);
  if (repo == null) {
    return null;
  }
  HgShowConfigCommand configCommand=new HgShowConfigCommand(project);
  String defaultPath=configCommand.getDefaultPath(repo);
  VirtualFile baseDir=project.getBaseDir();
  if (StringUtils.isBlank(defaultPath) && baseDir != null) {
    try {
      defaultPath=new File(baseDir.getPath()).toURI().toURL().toString();
    }
 catch (    MalformedURLException e) {
      throw new RuntimeException(e);
    }
  }
  return new HgRepositoryLocation(defaultPath,repo);
}
