{
  final ChangeBrowserSettings settings=createDefaultSettings();
  settings.USE_CHANGE_AFTER_FILTER=true;
  settings.USE_CHANGE_BEFORE_FILTER=true;
  settings.CHANGE_AFTER=number.asString();
  settings.CHANGE_BEFORE=number.asString();
  VirtualFile localVitrualFile=HgUtil.convertToLocalVirtualFile(file);
  if (localVitrualFile == null) {
    return null;
  }
  final FilePathImpl filePath=new FilePathImpl(localVitrualFile);
  final CommittedChangeList list=getCommittedChangesForRevision(getLocationFor(filePath),number.asString());
  if (list != null) {
    return new Pair<CommittedChangeList,FilePath>(list,filePath);
  }
  return null;
}
