{
  List<PatchAction> newActions=new ArrayList<PatchAction>();
  @SuppressWarnings("IOResourceOpenedButNotSafelyClosed") DataInputStream in=new DataInputStream(patchIn);
  int size=in.readInt();
  while (size-- > 0) {
    int key=in.readInt();
    PatchAction a;
switch (key) {
case CREATE_ACTION_KEY:
      a=new CreateAction(in);
    break;
case UPDATE_ACTION_KEY:
  a=new UpdateAction(in);
break;
case UPDATE_ZIP_ACTION_KEY:
a=new UpdateZipAction(in);
break;
case DELETE_ACTION_KEY:
a=new DeleteAction(in);
break;
default :
throw new RuntimeException("Unknown action type " + key);
}
newActions.add(a);
}
myActions=newActions;
}
