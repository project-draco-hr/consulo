{
  if (node instanceof Node && ((Node)node).isExcluded()) {
    buf.append("(").append(UsageViewBundle.message("usage.excluded")).append(") ");
  }
  if (node instanceof UsageNode) {
    TextChunk[] chunks=((UsageNode)node).getUsage().getPresentation().getText();
    for (    TextChunk chunk : chunks) {
      buf.append(chunk.getText());
    }
  }
 else   if (node instanceof GroupNode) {
    UsageGroup group=((GroupNode)node).getGroup();
    buf.append(group != null ? group.getText(myUsageView) : UsageViewBundle.message("usages.title"));
    buf.append(" ");
    int count=((GroupNode)node).getRecursiveUsageCount();
    buf.append(" (").append(UsageViewBundle.message("usages.n",count)).append(")");
  }
 else   if (node instanceof UsageTargetNode) {
    buf.append(((UsageTargetNode)node).getTarget().getPresentation().getPresentableText());
  }
 else {
    buf.append(node.toString());
  }
  buf.append(lineSeparator);
}
