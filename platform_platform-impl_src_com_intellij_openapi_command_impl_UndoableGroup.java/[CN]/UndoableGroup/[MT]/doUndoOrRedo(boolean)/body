{
  ApplicationManager.getApplication().runWriteAction(new Runnable(){
    public void run(){
      Iterator<UndoableAction> it=isUndo ? reverseIterator(myActions.listIterator(myActions.size())) : myActions.iterator();
      try {
        while (it.hasNext()) {
          UndoableAction each=it.next();
          if (isUndo) {
            each.undo();
          }
 else {
            each.redo();
          }
        }
      }
 catch (      UnexpectedUndoException e) {
        reportUndoProblem(e,isUndo);
      }
    }
  }
);
}
