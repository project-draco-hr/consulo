{
  if (ref instanceof GrEnumConstant)   return ((GrEnumConstant)ref).resolveConstructorGenerics();
  PsiElement parent=ref.getParent();
  if (parent instanceof GrMethodCall) {
    final GrExpression expression=((GrMethodCall)parent).getInvokedExpression();
    if (expression instanceof GrReferenceExpression) {
      return ((GrReferenceExpression)expression).advancedResolve();
    }
  }
 else   if (parent instanceof GrConstructorInvocation) {
    return ((GrConstructorInvocation)parent).resolveConstructorGenerics();
  }
  return null;
}
