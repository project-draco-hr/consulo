{
  isDocumentChanged=true;
  try {
    myIsInUpdate=false;
    doWithCaretMerging(new Runnable(){
      @Override public void run(){
        for (        CaretImpl caret : myCarets) {
          caret.updateCaretPosition((DocumentEventImpl)e);
        }
      }
    }
);
  }
  finally {
    isDocumentChanged=false;
  }
}
