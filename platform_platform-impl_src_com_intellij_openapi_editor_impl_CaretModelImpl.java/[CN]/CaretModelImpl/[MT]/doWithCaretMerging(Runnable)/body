{
  if (myPerformCaretMergingAfterCurrentOperation) {
    runnable.run();
  }
 else {
    myPerformCaretMergingAfterCurrentOperation=true;
    try {
      runnable.run();
    }
  finally {
      myPerformCaretMergingAfterCurrentOperation=false;
    }
    mergeOverlappingCaretsAndSelections();
  }
}
