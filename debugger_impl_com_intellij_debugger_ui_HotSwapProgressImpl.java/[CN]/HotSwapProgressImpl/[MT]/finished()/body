{
  super.finished();
  SwingUtilities.invokeLater(new Runnable(){
    public void run(){
      final List<String> errors=getMessages(MessageCategory.ERROR);
      final List<String> warnings=getMessages(MessageCategory.WARNING);
      if (errors.size() > 0) {
        ToolWindowManager.getInstance(getProject()).showInfoPopup(ToolWindowId.DEBUG,Messages.getErrorIcon(),buildMessage(errors),null);
        WindowManager.getInstance().getStatusBar(getProject()).setInfo(DebuggerBundle.message("status.hot.swap.completed.with.errors"));
      }
 else       if (warnings.size() > 0) {
        ToolWindowManager.getInstance(getProject()).showInfoPopup(ToolWindowId.DEBUG,Messages.getWarningIcon(),buildMessage(warnings),null);
        WindowManager.getInstance().getStatusBar(getProject()).setInfo(DebuggerBundle.message("status.hot.swap.completed.with.warnings"));
      }
 else {
        final StringBuilder msg=StringBuilderSpinAllocator.alloc();
        try {
          for (          int category : myMessages.keys()) {
            if (msg.length() > 0) {
              msg.append(" \n");
            }
            final List<String> categoryMessages=getMessages(category);
            for (Iterator<String> it=categoryMessages.iterator(); it.hasNext(); ) {
              msg.append(it.next());
              if (it.hasNext()) {
                msg.append(" \n");
              }
            }
          }
          WindowManager.getInstance().getStatusBar(getProject()).setInfo(msg.toString());
        }
  finally {
          StringBuilderSpinAllocator.dispose(msg);
        }
      }
    }
  }
);
}
