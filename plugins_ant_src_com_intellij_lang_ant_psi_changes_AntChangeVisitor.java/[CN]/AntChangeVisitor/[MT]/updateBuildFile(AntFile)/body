{
  final AntConfiguration antConfiguration=AntConfiguration.getInstance(file.getProject());
  for (  final AntBuildFile buildFile : antConfiguration.getBuildFiles()) {
    if (file.equals(buildFile.getAntFile())) {
      myDirtyFiles.add(buildFile);
      ApplicationManager.getApplication().invokeLater(new Runnable(){
        public void run(){
          final int size=myDirtyFiles.size();
          if (size > 0) {
            for (            final AntBuildFile dirtyFile : myDirtyFiles) {
              antConfiguration.updateBuildFile(dirtyFile);
            }
            myDirtyFiles.clear();
          }
        }
      }
,ModalityState.NON_MMODAL);
      break;
    }
  }
}
