{
  if (elem instanceof PsiClass) {
    final PsiClass clazz=(PsiClass)elem;
    final DelegatedMembersHolder holder=new DelegatedMembersHolder();
    for (    PsiMethod method : clazz.getAllMethods()) {
      if (!method.isConstructor())       holder.addMember(method);
    }
    for (    PsiField field : clazz.getAllFields()) {
      holder.addMember(field);
    }
    consumer.addMemberHolder(holder);
  }
 else   if (elem instanceof GrExpression) {
    GrExpression expr=(GrExpression)elem;
    final PsiType type=expr.getType();
    if (type instanceof PsiClassType) {
      PsiClassType ctype=(PsiClassType)type;
      delegatesTo(ctype.resolve(),consumer);
    }
  }
}
