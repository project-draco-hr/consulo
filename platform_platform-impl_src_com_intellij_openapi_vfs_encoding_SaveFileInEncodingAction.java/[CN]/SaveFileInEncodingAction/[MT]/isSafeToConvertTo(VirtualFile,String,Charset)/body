{
  try {
    Pair<Charset,byte[]> chosen=LoadTextUtil.chooseMostlyHarmlessCharset(virtualFile.getCharset(),charset,text);
    byte[] buffer=chosen.second;
    CharSequence textLoadedBack=LoadTextUtil.getTextByBinaryPresentation(buffer,charset);
    return text.equals(textLoadedBack.toString());
  }
 catch (  UnsupportedOperationException e) {
    return false;
  }
}
