{
  final IOException[] ex={null};
  ApplicationManager.getApplication().runReadAction(new Runnable(){
    public void run(){
      try {
        for (        Map.Entry<VirtualFile,List<Pair<FileProcessingCompilerStateCache,FileProcessingCompiler.ProcessingItem>>> entry : myData.entrySet()) {
          for (          Pair<FileProcessingCompilerStateCache,FileProcessingCompiler.ProcessingItem> pair : entry.getValue()) {
            final FileProcessingCompiler.ProcessingItem item=pair.getSecond();
            pair.getFirst().update(entry.getKey(),item.getValidityState());
          }
        }
      }
 catch (      IOException e) {
        ex[0]=e;
      }
    }
  }
);
  if (ex[0] != null) {
    throw ex[0];
  }
}
