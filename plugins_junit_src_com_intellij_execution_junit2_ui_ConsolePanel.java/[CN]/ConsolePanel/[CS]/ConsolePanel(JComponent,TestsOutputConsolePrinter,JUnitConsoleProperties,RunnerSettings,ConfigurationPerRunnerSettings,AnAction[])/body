{
  super(new BorderLayout(0,1));
  myPrinter=printer;
  myLeftPane=ScrollPaneFactory.createScrollPane();
  myLeftPane.putClientProperty(UIUtil.KEEP_BORDER_SIDES,SideBorder.TOP | SideBorder.RIGHT);
  myStatisticsPanel=new StatisticsPanel();
  myToolbarPanel=new JUnitToolbarPanel(properties,runnerSettings,configurationSettings,this);
  myStatusLine=new StatusLine();
  myTreeView=new JUnitTestTreeView();
  final Splitter splitter=createSplitter(PROPORTION_PROPERTY,DEFAULT_PROPORTION);
  Disposer.register(this,new Disposable(){
    public void dispose(){
      remove(splitter);
      splitter.dispose();
    }
  }
);
  add(splitter);
  final JPanel leftPanel=new JPanel(new BorderLayout());
  leftPanel.add(myLeftPane,BorderLayout.CENTER);
  leftPanel.add(myToolbarPanel,BorderLayout.NORTH);
  splitter.setFirstComponent(leftPanel);
  myStatusLine.setMinimumSize(new Dimension(0,myStatusLine.getMinimumSize().height));
  final JPanel rightPanel=new JPanel(new BorderLayout());
  rightPanel.add(SameHeightPanel.wrap(myStatusLine,myToolbarPanel),BorderLayout.NORTH);
  mySplitter=new Splitter();
  new AwtVisitor(console){
    public boolean visit(    Component component){
      if (component instanceof JScrollPane) {
        ((JScrollPane)component).putClientProperty(UIUtil.KEEP_BORDER_SIDES,SideBorder.TOP | SideBorder.LEFT);
        return true;
      }
      return false;
    }
  }
;
  mySplitter.setFirstComponent(createOutputTab(console,consoleActions));
  if (TestConsoleProperties.SHOW_STATISTICS.value(properties)) {
    mySplitter.setSecondComponent(myStatisticsPanel);
  }
  properties.addListener(TestConsoleProperties.SHOW_STATISTICS,new TestFrameworkPropertyListener<Boolean>(){
    public void onChanged(    Boolean value){
      if (value.booleanValue()) {
        mySplitter.setSecondComponent(myStatisticsPanel);
      }
 else {
        mySplitter.setSecondComponent(null);
      }
    }
  }
);
  rightPanel.add(mySplitter,BorderLayout.CENTER);
  splitter.setSecondComponent(rightPanel);
  myStartingProgress=new StartingProgress(myTreeView);
  setLeftComponent(myTreeView);
}
