{
  boolean success=true;
  for (  Module module : chunk.getModules()) {
    final AndroidFacet facet=AndroidJpsUtil.getFacet(module);
    if (facet == null || facet.isLibrary()) {
      continue;
    }
    context.processMessage(new ProgressMessage("Packaging module " + module.getName()));
    if (!packageResources(facet,context)) {
      success=false;
    }
  }
  return success ? ExitCode.OK : ExitCode.ABORT;
}
