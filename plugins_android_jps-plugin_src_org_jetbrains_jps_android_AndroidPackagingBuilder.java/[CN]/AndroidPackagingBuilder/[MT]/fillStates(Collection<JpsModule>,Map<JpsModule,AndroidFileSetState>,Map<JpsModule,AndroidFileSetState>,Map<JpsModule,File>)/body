{
  for (  JpsModule module : modules) {
    final JpsAndroidModuleExtension extension=AndroidJpsUtil.getExtension(module);
    if (extension != null) {
      final File resourceDir=extension.getResourceDir();
      final List<String> resourceDirs=resourceDir != null ? Arrays.asList(resourceDir.getPath()) : Collections.<String>emptyList();
      resourcesStates.put(module,new AndroidFileSetState(resourceDirs,Condition.TRUE,true));
      final File assetsDir=extension.getAssetsDir();
      final List<String> assetDirs=assetsDir != null ? Arrays.asList(assetsDir.getPath()) : Collections.<String>emptyList();
      assetsStates.put(module,new AndroidFileSetState(assetDirs,Condition.TRUE,true));
      final File manifestFile=AndroidJpsUtil.getManifestFileForCompilationPath(extension);
      if (manifestFile != null) {
        manifestFiles.put(module,manifestFile);
      }
    }
  }
}
