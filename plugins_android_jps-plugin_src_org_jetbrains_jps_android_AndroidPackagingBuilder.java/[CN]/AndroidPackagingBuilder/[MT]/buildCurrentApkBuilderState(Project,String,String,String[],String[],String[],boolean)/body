{
  final List<String> roots=new ArrayList<String>();
  roots.add(resPackagePath);
  roots.add(classesDexFilePath);
  roots.addAll(Arrays.asList(externalJars));
  for (  String sourceRootPath : sourceRoots) {
    final List<File> files=new ArrayList<File>();
    AndroidApkBuilder.collectStandardSourceFolderResources(new File(sourceRootPath),files,new MyExcludedSourcesFilter(project));
    roots.addAll(AndroidJpsUtil.toPaths(files));
  }
  for (  String nativeLibDir : nativeLibDirs) {
    final List<File> files=new ArrayList<File>();
    AndroidApkBuilder.collectNativeLibraries(new File(nativeLibDir),files,!release);
    roots.addAll(AndroidJpsUtil.toPaths(files));
  }
  return new AndroidFileSetState(roots,Condition.TRUE,false);
}
