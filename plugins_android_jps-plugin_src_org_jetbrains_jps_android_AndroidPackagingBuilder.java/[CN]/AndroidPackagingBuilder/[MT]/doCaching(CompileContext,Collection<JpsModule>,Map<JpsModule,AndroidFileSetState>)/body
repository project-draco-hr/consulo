{
  boolean success=true;
  final File dataStorageRoot=context.getProjectDescriptor().dataManager.getDataStorageRoot();
  final AndroidFileSetStorage storage=new AndroidFileSetStorage(dataStorageRoot,"resource_caching");
  try {
    for (    JpsModule module : modules) {
      final AndroidFileSetState state=module2state.get(module);
      try {
        if (!runPngCaching(context,module,storage,state)) {
          success=false;
        }
      }
 catch (      IOException e) {
        AndroidJpsUtil.reportExceptionError(context,null,e,BUILDER_NAME);
      }
    }
  }
  finally {
    storage.close();
  }
  return success;
}
