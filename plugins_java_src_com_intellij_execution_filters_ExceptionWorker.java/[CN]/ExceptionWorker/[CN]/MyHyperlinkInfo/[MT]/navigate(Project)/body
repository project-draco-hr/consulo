{
  VirtualFile currentVirtualFile=null;
  AccessToken accessToken=ReadAction.start();
  try {
    if (!myVirtualFile.isValid())     return;
    PsiFile psiFile=PsiManager.getInstance(project).findFile(myVirtualFile);
    if (psiFile != null) {
      PsiElement navigationElement=psiFile.getNavigationElement();
      if (navigationElement instanceof PsiFile) {
        currentVirtualFile=((PsiFile)navigationElement).getVirtualFile();
      }
    }
    if (currentVirtualFile == null) {
      currentVirtualFile=myVirtualFile;
    }
  }
  finally {
    accessToken.finish();
  }
  new OpenFileHyperlinkInfo(myProject,currentVirtualFile,myLineNumber - 1).navigate(project);
}
