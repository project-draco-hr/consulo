{
  if (myProject.isDisposed())   return;
  final Module module=myIndex.getModuleForFile(myScopeRoot);
  final ModuleFileIndex index=ModuleRootManager.getInstance(module).getFileIndex();
  for (  FilePath dir : myDirtyDirectoriesRecursively) {
    final VirtualFile vFile=dir.getVirtualFile();
    if (vFile != null && vFile.isValid()) {
      index.iterateContentUnderDirectory(vFile,iterator);
    }
  }
  for (  FilePath file : myDirtyFiles) {
    final VirtualFile vFile=file.getVirtualFile();
    if (vFile != null && vFile.isValid()) {
      iterator.processFile(vFile);
      if (vFile.isDirectory()) {
        for (        VirtualFile child : vFile.getChildren()) {
          iterator.processFile(child);
        }
      }
    }
  }
}
