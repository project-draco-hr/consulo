{
  VirtualFile vFile=path.getVirtualFile();
  if (vFile == null) {
    vFile=path.getVirtualFileParent();
  }
  if (myIndex.getContentRootForFile(vFile) != myScopeRoot)   return false;
  for (  FilePath filePath : myDirtyDirectoriesRecursively) {
    if (path.isUnder(filePath,false))     return true;
  }
  FilePath parent=PeerFactory.getInstance().getVcsContextFactory().createFilePathOn(path.getVirtualFileParent());
  for (  FilePath filePath : myDirtyFiles) {
    if (filePath.equals(parent) || filePath.equals(path))     return true;
  }
  return false;
}
