{
  final ShelvedChangeList[] shelved=SHELVED_CHANGELIST_KEY.getData(dataContext);
  final ShelvedChangeList[] recycled=SHELVED_RECYCLED_CHANGELIST_KEY.getData(dataContext);
  final List<ShelvedChangeList> shelvedChangeLists=(shelved == null && recycled == null) ? Collections.<ShelvedChangeList>emptyList() : new ArrayList<ShelvedChangeList>();
  if (shelved != null) {
    shelvedChangeLists.addAll(Arrays.asList(shelved));
  }
  if (recycled != null) {
    shelvedChangeLists.addAll(Arrays.asList(recycled));
  }
  return shelvedChangeLists;
}
