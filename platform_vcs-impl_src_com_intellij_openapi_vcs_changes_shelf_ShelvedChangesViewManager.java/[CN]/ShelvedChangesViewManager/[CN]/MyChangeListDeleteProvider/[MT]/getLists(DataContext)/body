{
  final ShelvedChangeList[] shelved=SHELVED_CHANGELIST_KEY.getData(dataContext);
  final ShelvedChangeList[] recycled=SHELVED_RECYCLED_CHANGELIST_KEY.getData(dataContext);
  final List<ShelvedChangeList> shelvedChangeLists=(shelved == null && recycled == null) ? Collections.<ShelvedChangeList>emptyList() : new ArrayList<ShelvedChangeList>();
  if (shelved != null) {
    ContainerUtil.addAll(shelvedChangeLists,shelved);
  }
  if (recycled != null) {
    ContainerUtil.addAll(shelvedChangeLists,recycled);
  }
  return shelvedChangeLists;
}
