{
  if (!myIsInnerClassNeeded)   return;
  PsiClass innerClass=myFactory.createClass(myInnerClassName);
  final PsiSubstitutor superClassSubstitutor=TypeConversionUtil.getSuperClassSubstitutor(myBaseClass,myClass,PsiSubstitutor.EMPTY);
  final PsiClassType superClassType=myFactory.createType(myBaseClass,superClassSubstitutor);
  final PsiJavaCodeReferenceElement baseClassReferenceElement=myFactory.createReferenceElementByType(superClassType);
  if (!myBaseClass.isInterface()) {
    innerClass.getExtendsList().add(baseClassReferenceElement);
  }
 else {
    innerClass.getImplementsList().add(baseClassReferenceElement);
  }
  PsiUtil.setModifierProperty(innerClass,PsiModifier.PRIVATE,true);
  innerClass=(PsiClass)myClass.add(innerClass);
  List<InnerClassMethod> innerClassMethods=getInnerClassMethods();
  for (  InnerClassMethod innerClassMethod : innerClassMethods) {
    innerClassMethod.createMethod(innerClass);
  }
}
