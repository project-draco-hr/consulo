{
  if (text == null || option == null || option.length() == 0)   return false;
  final SearchableOptionsRegistrar searchableOptionsRegistrar=SearchableOptionsRegistrar.getInstance();
  final Set<String> words=searchableOptionsRegistrar.getProcessedWords(option);
  final Set<String> options=configurable != null ? searchableOptionsRegistrar.replaceSynonyms(words,configurable) : words;
  if (options == null || options.isEmpty()) {
    return text.toLowerCase().indexOf(option.toLowerCase()) != -1;
  }
  final Set<String> tokens=searchableOptionsRegistrar.getProcessedWords(text);
  if (!force) {
    options.retainAll(tokens);
    final boolean highlight=!options.isEmpty();
    return highlight || text.toLowerCase().indexOf(option.toLowerCase()) != -1;
  }
 else {
    options.removeAll(tokens);
    return options.isEmpty();
  }
}
