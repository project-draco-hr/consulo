{
  ChildAttributes childAttributes=block.getChildAttributes(index);
  if (childAttributes == ChildAttributes.DELEGATE_TO_PREV_CHILD) {
    final Block newBlock=block.getSubBlocks().get(index - 1);
    return getChildAttributesInfo(newBlock,newBlock.getSubBlocks().size(),((CompositeBlockWrapper)parent).getChildren().get(index - 1));
  }
 else   if (childAttributes == ChildAttributes.DELEGATE_TO_NEXT_CHILD) {
    return getChildAttributesInfo(block.getSubBlocks().get(index),0,((CompositeBlockWrapper)parent).getChildren().get(index));
  }
 else {
    return new ChildAttributesInfo(parent,childAttributes,index);
  }
}
