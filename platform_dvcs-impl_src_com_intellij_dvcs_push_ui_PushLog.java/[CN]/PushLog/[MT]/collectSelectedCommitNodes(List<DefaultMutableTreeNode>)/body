{
  List<CommitNode> nodes=ContainerUtil.newArrayList();
  for (  DefaultMutableTreeNode node : selectedNodes) {
    if (node instanceof RepositoryNode) {
      nodes.addAll(getChildNodesByType(node,CommitNode.class,true));
    }
 else     if (node instanceof CommitNode && !nodes.contains(node)) {
      nodes.add((CommitNode)node);
    }
  }
  return nodes;
}
