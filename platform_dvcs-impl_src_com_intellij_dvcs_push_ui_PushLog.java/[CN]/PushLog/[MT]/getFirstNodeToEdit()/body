{
  if (myTree.getLastSelectedPathComponent() instanceof RepositoryNode) {
    RepositoryNode selectedNode=((RepositoryNode)myTree.getLastSelectedPathComponent());
    if (selectedNode.isEditableNow())     return selectedNode;
  }
  List<RepositoryNode> repositoryNodes=getChildNodesByType((DefaultMutableTreeNode)myTree.getModel().getRoot(),RepositoryNode.class,false);
  RepositoryNode editableNode=ContainerUtil.find(repositoryNodes,new Condition<RepositoryNode>(){
    @Override public boolean value(    RepositoryNode repositoryNode){
      return repositoryNode.isEditableNow();
    }
  }
);
  if (editableNode != null) {
    TreeUtil.selectNode(myTree,editableNode);
  }
  return editableNode;
}
