{
  if (VcsDataKeys.CHANGES == key) {
    List<CommitNode> commitNodes=getSelectedCommitNodes();
    sink.put(key,ArrayUtil.toObjectArray(collectAllChanges(commitNodes),Change.class));
  }
 else   if (VcsDataKeys.VCS_REVISION_NUMBERS == key) {
    List<CommitNode> commitNodes=getSelectedCommitNodes();
    sink.put(key,ArrayUtil.toObjectArray(ContainerUtil.map(commitNodes,new Function<CommitNode,VcsRevisionNumber>(){
      @Override public VcsRevisionNumber fun(      CommitNode commitNode){
        Hash hash=commitNode.getUserObject().getId();
        return new TextRevisionNumber(hash.asString(),hash.toShortString());
      }
    }
),VcsRevisionNumber.class));
  }
}
