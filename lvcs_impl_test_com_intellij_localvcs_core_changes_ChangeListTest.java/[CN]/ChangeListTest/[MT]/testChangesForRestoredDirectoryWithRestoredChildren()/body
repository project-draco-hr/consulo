{
  Change cs1=cs(new CreateDirectoryChange(1,"dir"));
  Change cs2=cs(new CreateFileChange(2,"dir/file",null,-1));
  Change cs3=cs(new DeleteChange("dir"));
  Change cs4=cs(new CreateDirectoryChange(1,"dir"));
  Change cs5=cs(new CreateFileChange(2,"dir/file",null,-1));
  applyAndAddChange(cs1,cs2,cs3,cs4,cs5);
  assertEquals(list(cs5,cs4,cs2,cs1),getChangesFor("dir"));
  assertEquals(list(cs5,cs2),getChangesFor("dir/file"));
}
