{
  PsiVariable[] usedVariables=ControlFlowUtil.getUsedVariables(flow,start,end);
  ArrayList<PsiVariable> array=new ArrayList<PsiVariable>();
  for (int i=0; i < usedVariables.length; i++) {
    PsiVariable variable=usedVariables[i];
    if (ControlFlowUtil.needVariableValueAt(variable,flow,start)) {
      array.add(variable);
    }
  }
  PsiVariable[] inputVariables=array.toArray(new PsiVariable[array.size()]);
  if (LOG.isDebugEnabled()) {
    LOG.debug("input variables:");
    for (int i=0; i < inputVariables.length; i++) {
      PsiVariable variable=inputVariables[i];
      LOG.debug("  " + variable.toString());
    }
  }
  return inputVariables;
}
