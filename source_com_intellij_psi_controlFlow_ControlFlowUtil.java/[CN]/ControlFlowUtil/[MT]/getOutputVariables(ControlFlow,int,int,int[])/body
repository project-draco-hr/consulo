{
  PsiVariable[] writtenVariables=ControlFlowUtil.getWrittenVariables(flow,start,end);
  ArrayList<PsiVariable> array=new ArrayList<PsiVariable>();
  for (  PsiVariable variable : writtenVariables) {
    for (    int exitPoint : exitPoints) {
      if (ControlFlowUtil.needVariableValueAt(variable,flow,exitPoint)) {
        array.add(variable);
      }
    }
  }
  PsiVariable[] outputVariables=array.toArray(new PsiVariable[array.size()]);
  if (LOG.isDebugEnabled()) {
    LOG.debug("output variables:");
    for (    PsiVariable variable : outputVariables) {
      LOG.debug("  " + variable.toString());
    }
  }
  return outputVariables;
}
