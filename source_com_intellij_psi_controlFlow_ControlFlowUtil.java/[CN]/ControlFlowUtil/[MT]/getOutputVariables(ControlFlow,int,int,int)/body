{
  PsiVariable[] writtenVariables=ControlFlowUtil.getWrittenVariables(flow,start,end);
  ArrayList<PsiVariable> array=new ArrayList<PsiVariable>();
  for (int i=0; i < writtenVariables.length; i++) {
    PsiVariable variable=writtenVariables[i];
    if (ControlFlowUtil.needVariableValueAt(variable,flow,exitPoint)) {
      array.add(variable);
    }
  }
  PsiVariable[] outputVariables=array.toArray(new PsiVariable[array.size()]);
  if (LOG.isDebugEnabled()) {
    LOG.debug("output variables:");
    for (int i=0; i < outputVariables.length; i++) {
      PsiVariable variable=outputVariables[i];
      LOG.debug("  " + variable.toString());
    }
  }
  return outputVariables;
}
