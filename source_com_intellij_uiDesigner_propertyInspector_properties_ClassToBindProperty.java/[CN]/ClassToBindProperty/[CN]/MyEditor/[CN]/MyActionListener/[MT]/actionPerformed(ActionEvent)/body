{
  final String className=myTfWithButton.getText();
  final PsiClass aClass=FormEditingUtil.findClassToBind(myUiEditor.getModule(),className);
  final Project project=myUiEditor.getProject();
  final ProjectFileIndex fileIndex=ProjectRootManager.getInstance(project).getFileIndex();
  final TreeClassChooserDialog chooser=new TreeClassChooserDialog("Choose Class To Bind",project,GlobalSearchScope.allScope(project),new TreeClassChooserDialog.ClassFilter(){
    public boolean isAccepted(    final PsiClass aClass){
      final VirtualFile vFile=aClass.getContainingFile().getVirtualFile();
      return fileIndex.isInSource(vFile);
    }
  }
,aClass);
  chooser.show();
  final PsiClass result=chooser.getSelectedClass();
  if (result != null) {
    myTfWithButton.setText(result.getQualifiedName());
  }
  myTfWithButton.getTextField().requestFocus();
}
