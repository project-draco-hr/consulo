{
  final String className=myTfWithButton.getText();
  final PsiClass aClass=FormEditingUtil.findClassToBind(myUiEditor.getModule(),className);
  final Project project=myUiEditor.getProject();
  final ProjectFileIndex fileIndex=ProjectRootManager.getInstance(project).getFileIndex();
  final TreeClassChooser chooser=TreeClassChooserFactory.getInstance(project).createNoInnerClassesScopeChooser("Choose Class To Bind",GlobalSearchScope.projectScope(project),new TreeClassChooser.ClassFilter(){
    public boolean isAccepted(    final PsiClass aClass){
      final VirtualFile vFile=aClass.getContainingFile().getVirtualFile();
      return fileIndex.isInSource(vFile);
    }
  }
,aClass);
  chooser.showDialog();
  final PsiClass result=chooser.getSelectedClass();
  if (result != null) {
    myTfWithButton.setText(result.getQualifiedName());
  }
  myTfWithButton.getTextField().requestFocus();
}
