{
  if (!(file instanceof XmlFile))   return false;
  int offset=editor.getCaretModel().getOffset();
  String uri=findUri(file,offset);
  if (uri == null || !isAcceptableUri(uri))   return false;
  PsiElement element=file.findElementAt(offset);
  XmlAttributeValue value=PsiTreeUtil.getParentOfType(element,XmlAttributeValue.class);
  if (value == null)   return false;
  XmlAttribute attribute=PsiTreeUtil.getParentOfType(value,XmlAttribute.class);
  if (attribute != null && attribute.isNamespaceDeclaration()) {
    setText(XmlBundle.message(getQuickFixKeyId()));
    return true;
  }
  return false;
}
