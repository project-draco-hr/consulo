{
  String repositoryURL=getRepositoryUrl(repo);
  if (repositoryURL == null) {
    LOG.info("executeCommand no default path configured");
    return null;
  }
  HgCommandExecutor executor=new HgCommandExecutor(project,repositoryURL);
  HgCommandResult result=executor.executeInCurrentThread(repo,command,args);
  if (result == HgCommandResult.CANCELLED || HgErrorUtil.isAuthorizationError(result)) {
    final HgVcs vcs=HgVcs.getInstance(project);
    if (vcs == null) {
      return result;
    }
    new HgCommandResultNotifier(project).notifyError(result,"Checking for incoming/outgoing changes disabled","Authentication is required to check incoming/outgoing changes in " + repositoryURL + "<br/>You may enable checking for changes <a href='#'>in the Settings</a>.",new NotificationListener(){
      @Override public void hyperlinkUpdate(      @NotNull Notification notification,      @NotNull HyperlinkEvent event){
        ShowSettingsUtil.getInstance().showSettingsDialog(project,vcs.getConfigurable().getDisplayName());
      }
    }
);
    final HgProjectSettings projectSettings=vcs.getProjectSettings();
    projectSettings.setCheckIncomingOutgoing(false);
    project.getMessageBus().syncPublisher(HgVcs.INCOMING_OUTGOING_CHECK_TOPIC).hide();
  }
  return result;
}
