{
  if (PlatformDataKeys.FILE_EDITOR.is(dataId)) {
    return getSelectedEditor();
  }
 else   if (PlatformDataKeys.VIRTUAL_FILE.is(dataId)) {
    return myFile.isValid() ? myFile : null;
  }
 else   if (PlatformDataKeys.VIRTUAL_FILE_ARRAY.is(dataId)) {
    return myFile.isValid() ? new VirtualFile[]{myFile} : null;
  }
 else {
    JComponent component=getPreferredFocusedComponent();
    if (component instanceof DataProvider && component != this) {
      return ((DataProvider)component).getData(dataId);
    }
 else {
      return null;
    }
  }
}
