{
  SmartList<JComponent> result=new SmartList<>();
  JComponent container=top ? myTopComponents.get(editor) : myBottomComponents.get(editor);
  for (  Component each : container.getComponents()) {
    if (each instanceof NonOpaquePanel) {
      result.add(((NonOpaquePanel)each).getTargetComponent());
    }
  }
  return Collections.unmodifiableList(result);
}
