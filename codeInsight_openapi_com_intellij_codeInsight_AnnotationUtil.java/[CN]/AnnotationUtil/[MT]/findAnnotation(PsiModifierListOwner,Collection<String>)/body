{
  final PsiAnnotation[] allAnnotations;
  if (listOwner instanceof PsiParameter) {
    allAnnotations=((PsiParameter)listOwner).getAnnotations();
  }
 else {
    if (listOwner == null)     return null;
    final PsiModifierList list=listOwner.getModifierList();
    if (list == null)     return null;
    allAnnotations=list.getAnnotations();
  }
  for (  PsiAnnotation annotation : allAnnotations) {
    String qualifiedName=annotation.getQualifiedName();
    if (annotationNames.contains(qualifiedName)) {
      return annotation;
    }
  }
  final ExternalAnnotationsManager annotationsManager=ExternalAnnotationsManager.getInstance(listOwner.getProject());
  for (  String annotationName : annotationNames) {
    final PsiAnnotation annotation=annotationsManager.findExternalAnnotation(listOwner,annotationName);
    if (annotation != null) {
      return annotation;
    }
  }
  return null;
}
