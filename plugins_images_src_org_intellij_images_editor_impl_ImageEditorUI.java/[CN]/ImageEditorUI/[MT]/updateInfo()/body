{
  ImageDocument document=imageComponent.getDocument();
  BufferedImage image=document.getValue();
  if (image != null) {
    ColorModel colorModel=image.getColorModel();
    String format=document.getFormat();
    if (format == null) {
      format=IconsBundle.message("unknown.format");
    }
 else {
      format=format.toUpperCase();
    }
    VirtualFile file=editor.getFile();
    infoLabel.setText(IconsBundle.message("image.info",image.getWidth(),image.getHeight(),format,colorModel.getPixelSize(),file != null ? StringUtil.formatFileSize(file.getLength()) : ""));
  }
 else {
    infoLabel.setText(null);
  }
}
