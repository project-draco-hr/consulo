{
  Collection<TreeElement> result=new ArrayList<TreeElement>();
  for (  TreeElement treeElement : myProperties) {
    String key;
    if (treeElement instanceof PropertiesStructureViewElement) {
      PropertiesStructureViewElement propertiesElement=(PropertiesStructureViewElement)treeElement;
      Property property=propertiesElement.getValue();
      key=property.getKey();
    }
 else     if (treeElement instanceof ResourceBundlePropertyStructureViewElement) {
      key=((ResourceBundlePropertyStructureViewElement)treeElement).getValue();
    }
 else {
      continue;
    }
    if (key == null || key.equals(myPrefix)) {
      continue;
    }
    if (key.startsWith(myPrefix)) {
      result.add(treeElement);
      String presentableName=key.substring(myPrefix.length());
      presentableName=StringUtil.trimStart(presentableName,mySeparator);
      if (treeElement instanceof PropertiesStructureViewElement) {
        ((PropertiesStructureViewElement)treeElement).setPresentableName(presentableName);
      }
      if (treeElement instanceof ResourceBundlePropertyStructureViewElement) {
        ((ResourceBundlePropertyStructureViewElement)treeElement).setPresentableName(presentableName);
      }
    }
  }
  return result;
}
