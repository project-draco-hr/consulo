{
synchronized (isInitialized) {
    if (isInitialized.getAndSet(true))     return;
    if (isNew) {
      getImportingSettings().setKeepSourceFolders(false);
    }
    initProjectsTree(!isNew);
    initWorkers();
    listenForSettingsChanges();
    listenForProjectsTreeChanges();
    MavenUtil.runWhenInitialized(myProject,new DumbAwareRunnable(){
      public void run(){
        if (!isUnitTestMode()) {
          fireActivated();
          listenForExternalChanges();
        }
        scheduleUpdateAllProjects(isNew);
      }
    }
);
  }
}
