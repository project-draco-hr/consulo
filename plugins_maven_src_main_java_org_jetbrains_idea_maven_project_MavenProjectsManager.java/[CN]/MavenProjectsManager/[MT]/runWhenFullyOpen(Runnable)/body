{
  if (isUnitTestMode()) {
    runnable.run();
    return;
  }
  final Ref<Runnable> wrapper=new Ref<Runnable>();
  wrapper.set(new Runnable(){
    public void run(){
      if (!StartupManagerEx.getInstanceEx(myProject).postStartupActivityPassed()) {
        mySchedulesQueue.queue(new Update(this){
          public void run(){
            wrapper.get().run();
          }
        }
);
        return;
      }
      runnable.run();
    }
  }
);
  MavenUtil.runWhenInitialized(myProject,wrapper.get());
}
