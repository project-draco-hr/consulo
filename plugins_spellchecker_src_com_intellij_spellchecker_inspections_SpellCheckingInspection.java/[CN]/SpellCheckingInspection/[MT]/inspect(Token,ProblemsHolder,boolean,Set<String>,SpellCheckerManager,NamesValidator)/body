{
  token.processAreas(new Consumer<TextRange>(){
    @Override public void consume(    TextRange textRange){
      final String word=textRange.substring(token.getText());
      if (isOnTheFly && alreadyChecked.contains(word)) {
        return;
      }
      boolean keyword=isKeyword(token.getElement().getProject(),validators,word);
      if (keyword) {
        return;
      }
      boolean hasProblems=manager.hasProblem(word);
      if (hasProblems) {
        if (!isOnTheFly) {
          alreadyChecked.add(word);
          addBatchDescriptor(textRange,token,holder);
        }
 else {
          addRegularDescriptor(textRange,token,holder);
        }
      }
    }
  }
);
}
