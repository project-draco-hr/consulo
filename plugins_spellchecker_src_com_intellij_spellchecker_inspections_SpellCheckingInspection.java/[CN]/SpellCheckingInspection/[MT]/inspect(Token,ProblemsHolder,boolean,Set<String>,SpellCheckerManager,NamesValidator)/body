{
  List<CheckArea> areaList=TextSplitter.splitText(token.getText(),ProgressManager.getInstance());
  if (areaList == null) {
    return;
  }
  for (  CheckArea area : areaList) {
    boolean ignored=area.isIgnored();
    final TextRange textRange=area.getTextRange();
    if (ignored || textRange == null) {
      continue;
    }
    final String word=area.getWord();
    if (word == null || (!isOnTheFly && alreadyChecked.contains(word))) {
      continue;
    }
    boolean keyword=isKeyword(validators,token.getElement(),word);
    if (keyword) {
      continue;
    }
    boolean hasProblems=manager.hasProblem(word);
    if (hasProblems) {
      if (!isOnTheFly) {
        alreadyChecked.add(word);
        addBatchDescriptor(textRange,token,holder);
      }
 else {
        addRegularDescriptor(textRange,token,holder);
      }
    }
  }
}
