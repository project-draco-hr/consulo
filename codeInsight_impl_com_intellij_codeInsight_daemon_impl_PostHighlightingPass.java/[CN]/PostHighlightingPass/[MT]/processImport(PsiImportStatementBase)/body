{
  if (importStatement instanceof JspxImportStatement && ((JspxImportStatement)importStatement).isForeignFileImport())   return null;
  if (PsiUtil.hasErrorElementChild(importStatement))   return null;
  boolean isRedundant=myRefCountHolder.isRedundant(importStatement);
  if (!isRedundant && !(importStatement instanceof PsiImportStaticStatement)) {
    String packageName=((PsiJavaFile)importStatement.getContainingFile()).getPackageName();
    PsiJavaCodeReferenceElement reference=importStatement.getImportReference();
    PsiElement resolved=reference == null ? null : reference.resolve();
    if (resolved instanceof PsiPackage) {
      isRedundant=packageName.equals(((PsiPackage)resolved).getQualifiedName());
    }
 else     if (resolved instanceof PsiClass && !importStatement.isOnDemand()) {
      String qName=((PsiClass)resolved).getQualifiedName();
      if (qName != null) {
        String name=((PsiClass)resolved).getName();
        isRedundant=qName.equals(packageName + '.' + name);
      }
    }
  }
  if (isRedundant) {
    return registerRedundantImport(importStatement);
  }
  int entryIndex=myStyleManager.findEntryIndex(importStatement);
  if (entryIndex < myCurentEntryIndex) {
    myHasMissortedImports=true;
  }
  myCurentEntryIndex=entryIndex;
  return null;
}
