{
  final PsiMethod methodCopy=(PsiMethod)myMethod.copy();
  String name=myTargetClass.isInterface() ? PsiModifier.PUBLIC : !Comparing.strEqual(myNewVisibility,VisibilityUtil.ESCALATE_VISIBILITY) ? myNewVisibility : null;
  if (name != null) {
    PsiUtil.setModifierProperty(methodCopy,name,true);
  }
  if (myTargetVariable instanceof PsiParameter) {
    final int index=myMethod.getParameterList().getParameterIndex((PsiParameter)myTargetVariable);
    methodCopy.getParameterList().getParameters()[index].delete();
  }
  addParameters(JavaPsiFacade.getInstance(myProject).getElementFactory(),methodCopy,myTargetClass.isInterface());
  return methodCopy;
}
