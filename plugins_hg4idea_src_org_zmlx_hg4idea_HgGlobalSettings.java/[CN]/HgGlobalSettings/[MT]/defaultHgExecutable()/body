{
  if (myState.myHgExecutable == null) {
    String[] paths;
    String programVariants;
    if (SystemInfo.isWindows) {
      programVariants=DEFAULT_WINDOWS_HG;
      paths=DEFAULT_WINDOWS_PATHS;
    }
 else {
      programVariants=DEFAULT_UNIX_HG;
      paths=DEFAULT_UNIX_PATHS;
    }
    for (    String p : paths) {
      File f=new File(p,programVariants);
      if (f.exists()) {
        myState.myHgExecutable=f.getAbsolutePath();
        break;
      }
    }
    if (myState.myHgExecutable == null) {
      myState.myHgExecutable=programVariants;
    }
  }
  return myState.myHgExecutable;
}
