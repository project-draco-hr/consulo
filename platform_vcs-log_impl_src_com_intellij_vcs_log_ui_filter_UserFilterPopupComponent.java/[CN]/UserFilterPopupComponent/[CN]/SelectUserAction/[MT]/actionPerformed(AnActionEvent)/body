{
  Collection<String> users=ContainerUtil.map(myDataHolder.getAllUsers(),new Function<VcsUser,String>(){
    @Override public String fun(    VcsUser user){
      return user.getName();
    }
  }
);
  final UserTextField textField=new UserTextField(e.getProject(),users);
  JBPopup popup=JBPopupFactory.getInstance().createComponentPopupBuilder(textField,textField).setCancelOnClickOutside(true).setCancelOnWindowDeactivation(true).setCancelKeyEnabled(true).setRequestFocus(true).createPopup();
  textField.myPopup=popup;
  popup.addListener(new JBPopupAdapter(){
    @Override public void onClosed(    LightweightWindowEvent event){
      if (event.isOk()) {
        String user=textField.getText();
        setValue(user);
        applyFilters();
      }
    }
  }
);
  popup.showUnderneathOf(UserFilterPopupComponent.this);
}
