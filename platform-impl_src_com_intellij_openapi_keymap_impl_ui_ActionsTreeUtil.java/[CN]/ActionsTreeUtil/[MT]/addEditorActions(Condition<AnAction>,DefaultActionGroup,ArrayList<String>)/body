{
  AnAction[] editorActions=editorGroup.getChildActionsOrStubs(null);
  final ActionManager actionManager=ActionManager.getInstance();
  for (  AnAction editorAction : editorActions) {
    if (editorAction instanceof DefaultActionGroup) {
      addEditorActions(filtered,(DefaultActionGroup)editorAction,ids);
    }
 else {
      String actionId=editorAction instanceof ActionStub ? ((ActionStub)editorAction).getId() : actionManager.getId(editorAction);
      if (actionId == null)       continue;
      if (actionId.startsWith(EDITOR_PREFIX)) {
        AnAction action=actionManager.getActionOrStub('$' + actionId.substring(6));
        if (action != null)         continue;
      }
      if (filtered == null || filtered.value(editorAction)) {
        ids.add(actionId);
      }
    }
  }
}
