{
  final TestConsoleProperties properties=model.getProperties();
  final Project project=properties.getProject();
  if (testProxy == null)   return null;
  if (AbstractTestProxy.DATA_KEY.is(dataId))   return testProxy;
  if (CommonDataKeys.NAVIGATABLE.is(dataId))   return getOpenFileDescriptor(testProxy,model);
  if (CommonDataKeys.PSI_ELEMENT.is(dataId)) {
    final Location location=testProxy.getLocation(project,properties.getScope());
    if (location != null) {
      final PsiElement element=location.getPsiElement();
      return element.isValid() ? element : null;
    }
 else {
      return null;
    }
  }
  if (Location.DATA_KEY.is(dataId))   return testProxy.getLocation(project,properties.getScope());
  if (RunConfiguration.DATA_KEY.is(dataId)) {
    final RunProfile configuration=properties.getConfiguration();
    if (configuration instanceof RunConfiguration) {
      return configuration;
    }
  }
  return null;
}
