{
  logger.debug("loadFileTypes");
  Map<String,FileType> map=new HashMap<String,FileType>();
  for (  FileType ftype : FileTypeManager.getInstance().getRegisteredFileTypes()) {
    if (isSupportedType(ftype)) {
      logger.debug("adding " + ftype.getName());
      Iterator<FileType> iter=mappings.keySet().iterator();
      FileType type=ftype;
      while (iter.hasNext()) {
        FileType fileType=iter.next();
        Set<FileType> maps=mappings.get(fileType);
        if (maps.contains(ftype)) {
          type=fileType;
          break;
        }
      }
      map.put(ftype.getName(),type);
    }
 else {
      logger.debug("ignoring " + ftype.getName());
    }
  }
  types=map;
}
