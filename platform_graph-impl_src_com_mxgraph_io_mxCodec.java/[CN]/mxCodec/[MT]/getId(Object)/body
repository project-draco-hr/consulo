{
  String id=null;
  if (obj != null) {
    id=reference(obj);
    if (id == null && obj instanceof mxICell) {
      id=((mxICell)obj).getId();
      if (id == null) {
        id=mxCellPath.create((mxICell)obj);
        if (id.length() == 0) {
          id="root";
        }
      }
    }
  }
  return id;
}
