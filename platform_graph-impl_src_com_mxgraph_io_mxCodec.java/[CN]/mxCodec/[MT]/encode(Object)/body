{
  Node node=null;
  if (obj != null) {
    String name=mxCodecRegistry.getName(obj);
    mxObjectCodec enc=mxCodecRegistry.getCodec(name);
    if (enc != null) {
      node=enc.encode(this,obj);
    }
 else {
      if (obj instanceof Node) {
        node=((Node)obj).cloneNode(true);
      }
 else {
        System.err.println("No codec for " + name);
      }
    }
  }
  return node;
}
