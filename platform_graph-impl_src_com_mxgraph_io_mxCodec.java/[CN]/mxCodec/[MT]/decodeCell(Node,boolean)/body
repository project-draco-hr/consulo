{
  mxICell cell=null;
  if (node != null && node.getNodeType() == Node.ELEMENT_NODE) {
    mxObjectCodec decoder=mxCodecRegistry.getCodec(node.getNodeName());
    if (!(decoder instanceof mxCellCodec)) {
      Node child=node.getFirstChild();
      while (child != null && !(decoder instanceof mxCellCodec)) {
        decoder=mxCodecRegistry.getCodec(child.getNodeName());
        child=child.getNextSibling();
      }
      String name=mxCell.class.getSimpleName();
      decoder=mxCodecRegistry.getCodec(name);
    }
    if (!(decoder instanceof mxCellCodec)) {
      String name=mxCell.class.getSimpleName();
      decoder=mxCodecRegistry.getCodec(name);
    }
    cell=(mxICell)decoder.decode(this,node);
    if (restoreStructures) {
      insertIntoGraph(cell);
    }
  }
  return cell;
}
