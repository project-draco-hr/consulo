{
  if (myTempExpr == null)   return;
  GrExpression exprToBeReplaced=(GrExpression)usage.getElement();
  if (exprToBeReplaced == null)   return;
  if ((referenced instanceof GrAccessorMethod || referenced instanceof GrField) && exprToBeReplaced instanceof GrReferenceExpression) {
    final GroovyResolveResult resolveResult=((GrReferenceExpression)exprToBeReplaced).advancedResolve();
    if (resolveResult.getElement() instanceof GrAccessorMethod && !resolveResult.isInvokedOnProperty()) {
      final PsiElement parent=exprToBeReplaced.getParent();
      if (parent instanceof GrCall && parent instanceof GrExpression) {
        exprToBeReplaced=(GrExpression)parent;
      }
 else {
        return;
      }
    }
  }
  GrExpression newExpr=exprToBeReplaced.replaceWithExpression((GrExpression)myTempExpr.copy(),true);
  FileEditorManager manager=FileEditorManager.getInstance(myProject);
  Editor editor=manager.getSelectedTextEditor();
  GroovyRefactoringUtil.highlightOccurrences(myProject,editor,new PsiElement[]{newExpr});
  WindowManager.getInstance().getStatusBar(myProject).setInfo(GroovyRefactoringBundle.message("press.escape.to.remove.the.highlighting"));
}
