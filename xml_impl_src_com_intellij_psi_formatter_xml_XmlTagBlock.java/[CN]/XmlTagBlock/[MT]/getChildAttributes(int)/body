{
  if (isAfterAttribute(newChildIndex)) {
    List<Block> subBlocks=getSubBlocks();
    Block subBlock=subBlocks.get(newChildIndex - 1);
    int prevSubBlockChildrenCount=subBlock.getSubBlocks().size();
    return subBlock.getChildAttributes(prevSubBlockChildrenCount);
  }
 else {
    if (myXmlFormattingPolicy.indentChildrenOf(getTag())) {
      return new ChildAttributes(Indent.getNormalIndent(),null);
    }
 else {
      return new ChildAttributes(Indent.getNoneIndent(),null);
    }
  }
}
