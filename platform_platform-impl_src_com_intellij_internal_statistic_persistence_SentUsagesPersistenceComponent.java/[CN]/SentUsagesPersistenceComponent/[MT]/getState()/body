{
  Element element=new Element("state");
  for (  Map.Entry<GroupDescriptor,Set<UsageDescriptor>> entry : ConvertUsagesUtil.groupDescriptors(getSentUsages()).entrySet()) {
    Element projectElement=new Element(GROUP_TAG);
    projectElement.setAttribute(GROUP_ID_ATTR,entry.getKey().getId());
    projectElement.setAttribute(GROUP_PRIORITY_ATTR,Double.toString(entry.getKey().getPriority()));
    projectElement.setAttribute(DATA_ATTR,ConvertUsagesUtil.convertValueMap(entry.getValue()));
    element.addContent(projectElement);
  }
  return element;
}
