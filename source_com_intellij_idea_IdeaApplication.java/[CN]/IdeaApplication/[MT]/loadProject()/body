{
  GeneralSettings generalSettings=GeneralSettings.getInstance();
  String projectFile=null;
  if (myArgs != null && myArgs.length > 0) {
    if (myArgs[0] != null && myArgs[0].endsWith(".ipr")) {
      projectFile=myArgs[0];
    }
  }
  if (projectFile != null) {
    ProjectUtil.openProject(projectFile,null,false);
  }
 else   if (generalSettings.isReopenLastProject()) {
    String lastProjectPath=RecentProjectsManager.getInstance().getLastProjectPath();
    if (lastProjectPath != null) {
      ProjectUtil.openProject(lastProjectPath,null,false);
    }
 else {
      AnAction newProjectAction=ActionManager.getInstance().getAction(IdeActions.ACTION_NEW_PROJECT);
      AnActionEvent event=new AnActionEvent(null,DataManager.getInstance().getDataContext(),ActionPlaces.MAIN_MENU,newProjectAction.getTemplatePresentation(),ActionManager.getInstance(),0);
      newProjectAction.update(event);
      if (newProjectAction.getTemplatePresentation().isEnabled()) {
        newProjectAction.actionPerformed(event);
      }
    }
  }
}
