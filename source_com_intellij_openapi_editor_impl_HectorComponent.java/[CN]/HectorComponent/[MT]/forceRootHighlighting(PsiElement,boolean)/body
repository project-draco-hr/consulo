{
  final HighlightingSettingsPerFile component=HighlightingSettingsPerFile.getInstance(root.getProject());
  if (component == null)   return;
  final PsiFile file=root.getContainingFile();
  final FileHighlighingSetting highlightingLevel=highlightFlag ? FileHighlighingSetting.FORCE_HIGHLIGHTING : FileHighlighingSetting.SKIP_HIGHLIGHTING;
  if (file instanceof JspFile && root.getLanguage() instanceof JavaLanguage) {
    final JspClass jspClass=(JspClass)((JspFile)file).getJavaClass();
    component.setHighlightingSettingForRoot(jspClass.getClassDummyHolder(),highlightingLevel);
    component.setHighlightingSettingForRoot(jspClass.getMethodDummyHolder(),highlightingLevel);
  }
 else {
    component.setHighlightingSettingForRoot(root,highlightingLevel);
  }
}
