{
  MethodElement me=new MethodElement();
  PsiType type=method.getReturnType();
  PsiModifierList modifiers=method.getModifierList();
  if (type == null) {
    log.warn("This method does not have a valid return type: " + method.getName() + ", returnType="+ type);
    return me;
  }
  PsiElementFactory factory=JavaPsiFacade.getInstance(method.getProject()).getElementFactory();
  setElementInfo(me,factory,type,modifiers);
  String fieldName=PsiAdapter.getGetterFieldName(method);
  me.setName(fieldName == null ? method.getName() : fieldName);
  me.setFieldName(fieldName);
  me.setMethodName(method.getName());
  me.setGetter(PsiAdapter.isGetterMethod(method));
  me.setDeprecated(method.isDeprecated());
  me.setReturnTypeVoid(PsiAdapter.isTypeOfVoid(method.getReturnType()));
  if (modifiers.hasModifierProperty(PsiModifier.ABSTRACT))   me.setModifierAbstract(true);
  if (modifiers.hasModifierProperty(PsiModifier.SYNCHRONIZED))   me.setModifierSynchronized(true);
  return me;
}
