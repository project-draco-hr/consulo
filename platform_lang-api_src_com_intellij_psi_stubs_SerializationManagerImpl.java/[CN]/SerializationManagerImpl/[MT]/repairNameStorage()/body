{
  if (myNameStorageCrashed.getAndSet(false)) {
    try {
      if (myNameStorage != null) {
        myNameStorage.close();
      }
      final File[] files=myFile.getParentFile().listFiles();
      if (files != null) {
        for (        File file : files) {
          if (file.getName().startsWith(myFile.getName())) {
            FileUtil.delete(file);
          }
        }
      }
      myNameStorage=new PersistentStringEnumerator(myFile,true);
      mySerializerToId.clear();
      myIdToSerializer.clear();
      for (      StubSerializer<? extends StubElement> serializer : myAllSerializers) {
        assignId(serializer);
      }
    }
 catch (    IOException e) {
      LOG.info(e);
      myNameStorageCrashed.set(true);
    }
  }
}
