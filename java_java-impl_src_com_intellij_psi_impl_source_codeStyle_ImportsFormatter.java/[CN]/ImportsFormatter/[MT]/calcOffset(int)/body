{
  final StringBuffer result=new StringBuffer();
  final int lineStartOffset=myDocumentModel.getLineStartOffset(myDocumentModel.getLineNumber(startOffset));
  final int emptyLineEnd=CharArrayUtil.shiftForward(myDocumentModel.getDocument().getText(),lineStartOffset," \t");
  final CharSequence spaces=myDocumentModel.getText(new TextRange(lineStartOffset,emptyLineEnd));
  if (spaces != null) {
    result.append(spaces.toString());
  }
  appendSpaces(result,startOffset - emptyLineEnd);
  return result.toString();
}
