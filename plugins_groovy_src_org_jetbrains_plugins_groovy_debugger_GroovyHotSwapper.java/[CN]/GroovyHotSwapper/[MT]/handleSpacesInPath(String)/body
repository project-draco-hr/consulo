{
  if (agentPath.contains(" ")) {
    final File dir=new File(PathManager.getSystemPath(),"groovyHotSwap");
    if (dir.getAbsolutePath().contains(" ")) {
      LOG.info("Groovy hot-swap not used since the agent path contains spaces: " + agentPath + "\n"+ "One can move the agent to a directory with no spaces in path and specify its path in idea.properties as "+ GROOVY_HOTSWAP_AGENT_PATH+ "=<path>");
      return null;
    }
    final File toFile=new File(dir,"gragent.jar");
    try {
      FileUtil.copy(new File(agentPath),toFile);
      return toFile.getPath();
    }
 catch (    IOException e) {
      LOG.info(e);
    }
  }
  return agentPath;
}
