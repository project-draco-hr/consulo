{
  Library library=(Library)getSelectedItem();
  if (library != null && library.getName() != null) {
    AndroidPlatform cachedPlatform=myCachedPlatforms.get(library.getName());
    if (cachedPlatform != null)     return cachedPlatform;
    if (checkLibraryAndUpdateCache(library)) {
      return myCachedPlatforms.get(library.getName());
    }
    return cachedPlatform;
  }
  return null;
}
