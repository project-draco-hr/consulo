{
  final CollectConsumer<CommitHashPlusParents> consumer=new CollectConsumer<CommitHashPlusParents>();
  GitHistoryUtils.hashesWithParents(myProject,bfilePath,consumer);
  final List<CommitHashPlusParents> hashesWithParents=(List<CommitHashPlusParents>)consumer.getResult();
  assertEquals(hashesWithParents.size(),myRevisionsAfterRename.size());
  for (Iterator hit=hashesWithParents.iterator(), myIt=myRevisionsAfterRename.iterator(); hit.hasNext(); ) {
    CommitHashPlusParents chpp=(CommitHashPlusParents)hit.next();
    GitTestRevision rev=(GitTestRevision)myIt.next();
    assertEquals(chpp.getHash(),rev.myHash);
    assertEqualHashes(Arrays.asList(chpp.getParents()),Arrays.asList(rev.myParents));
  }
}
