{
  if (isArray(actual) && isArray(old)) {
    List<String> actualParts=getArrayParts(actual);
    List<String> oldParts=getArrayParts(old);
    result.add(new LineExtensionInfo("{",getForeground(),null,null,Font.PLAIN));
    for (int i=0; i < actualParts.size(); i++) {
      if (i < oldParts.size() && StringUtil.equals(actualParts.get(i),oldParts.get(i))) {
        result.add(new LineExtensionInfo(actualParts.get(i),getForeground(),null,null,Font.PLAIN));
      }
 else {
        result.add(new LineExtensionInfo(actualParts.get(i),getChangedForeground(),null,null,Font.BOLD));
      }
      if (i != actualParts.size() - 1) {
        result.add(new LineExtensionInfo(", ",getForeground(),null,null,Font.PLAIN));
      }
    }
    result.add(new LineExtensionInfo("}",getForeground(),null,null,Font.PLAIN));
    return;
  }
  result.add(new LineExtensionInfo(actual,getChangedForeground(),null,null,Font.BOLD));
}
