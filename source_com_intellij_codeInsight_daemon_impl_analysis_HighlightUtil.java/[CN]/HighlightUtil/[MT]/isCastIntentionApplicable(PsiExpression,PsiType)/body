{
  while (expression instanceof PsiTypeCastExpression || expression instanceof PsiParenthesizedExpression) {
    if (expression instanceof PsiTypeCastExpression) {
      expression=((PsiTypeCastExpression)expression).getOperand();
    }
    if (expression instanceof PsiParenthesizedExpression) {
      expression=((PsiParenthesizedExpression)expression).getExpression();
    }
  }
  if (expression == null)   return false;
  final PsiType rType=expression.getType();
  if (rType == null || toType == null)   return false;
  return TypeConversionUtil.areTypesConvertible(rType,toType);
}
