{
  PsiModifierListOwner refElement=(PsiModifierListOwner)result.getElement();
  String symbolName=HighlightMessageUtil.getSymbolName(refElement,result.getSubstitutor());
  if (refElement.hasModifierProperty(PsiModifier.PRIVATE)) {
    String containerName=HighlightMessageUtil.getSymbolName(refElement.getParent(),result.getSubstitutor());
    return MessageFormat.format(SYMBOL_IS_PRIVATE,new Object[]{symbolName,containerName});
  }
 else {
    if (refElement.hasModifierProperty(PsiModifier.PROTECTED)) {
      String containerName=HighlightMessageUtil.getSymbolName(refElement.getParent(),result.getSubstitutor());
      return MessageFormat.format(SYMBOL_IS_PROTECTED,new Object[]{symbolName,containerName});
    }
 else {
      PsiClass packageLocalClass=getPackageLocalClassInTheMiddle(reference);
      if (packageLocalClass != null) {
        refElement=packageLocalClass;
        symbolName=HighlightMessageUtil.getSymbolName(refElement,result.getSubstitutor());
      }
      if (refElement.hasModifierProperty(PsiModifier.PACKAGE_LOCAL) || packageLocalClass != null) {
        String containerName=HighlightMessageUtil.getSymbolName(refElement.getParent(),result.getSubstitutor());
        return MessageFormat.format(SYMBOL_IS_PACKAGE_LOCAL,new Object[]{symbolName,containerName});
      }
 else {
        String containerName=HighlightMessageUtil.getSymbolName(refElement instanceof PsiTypeParameter ? refElement.getParent().getParent() : refElement.getParent(),result.getSubstitutor());
        return MessageFormat.format("Cannot access ''{0}'' in ''{1}''",new Object[]{symbolName,containerName});
      }
    }
  }
}
