{
  if (type == null)   return "";
  return XmlUtil.escapeString(longName ? type.getInternalCanonicalText() : type.getPresentableText());
}
