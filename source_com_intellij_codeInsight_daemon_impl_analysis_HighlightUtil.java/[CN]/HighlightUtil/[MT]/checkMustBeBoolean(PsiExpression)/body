{
  PsiElement parent=expr.getParent();
  if (parent instanceof PsiIfStatement || parent instanceof PsiWhileStatement || parent instanceof PsiForStatement && expr.equals(((PsiForStatement)parent).getCondition()) || parent instanceof PsiDoWhileStatement && expr.equals(((PsiDoWhileStatement)parent).getCondition())) {
    if (expr.getNextSibling() instanceof PsiErrorElement)     return null;
    PsiType type=expr.getType();
    if (!TypeConversionUtil.isBooleanType(type)) {
      Pair<String,String> typeInfo=createIncompatibleTypesDescriptionAndToolTip(PsiType.BOOLEAN,type);
      return HighlightInfo.createHighlightInfo(HighlightInfoType.ERROR,expr,typeInfo.getFirst(),typeInfo.getSecond());
    }
  }
  return null;
}
