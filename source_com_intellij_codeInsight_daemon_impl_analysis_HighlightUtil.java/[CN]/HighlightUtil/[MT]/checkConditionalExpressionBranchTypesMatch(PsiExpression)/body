{
  if (!(expression.getParent() instanceof PsiConditionalExpression)) {
    return null;
  }
  final PsiConditionalExpression conditionalExpression=(PsiConditionalExpression)expression.getParent();
  if (conditionalExpression.getElseExpression() != expression)   return null;
  PsiType thenType=conditionalExpression.getThenExpression().getType();
  final PsiType elseType=expression.getType();
  if (thenType == null || elseType == null)   return null;
  if (conditionalExpression.getType() == null) {
    Pair<String,String> typeInfo=createIncompatibleTypesDescriptionAndToolTip(thenType,elseType);
    return HighlightInfo.createHighlightInfo(HighlightInfoType.ERROR,expression,typeInfo.getFirst(),typeInfo.getSecond());
  }
  return null;
}
