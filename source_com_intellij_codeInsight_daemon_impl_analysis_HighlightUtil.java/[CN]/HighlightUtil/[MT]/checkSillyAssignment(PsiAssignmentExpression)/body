{
  if (!DaemonCodeAnalyzerSettings.getInstance().getInspectionProfile(assignment).isToolEnabled(HighlightDisplayKey.SILLY_ASSIGNMENT)) {
    return null;
  }
  if (InspectionManagerEx.inspectionResultSuppressed(assignment,HighlightDisplayKey.SILLY_ASSIGNMENT.toString()))   return null;
  if (assignment.getOperationSign().getTokenType() != JavaTokenType.EQ)   return null;
  PsiExpression lExpression=assignment.getLExpression();
  PsiExpression rExpression=assignment.getRExpression();
  if (lExpression == null || rExpression == null)   return null;
  lExpression=PsiUtil.deparenthesizeExpression(lExpression);
  rExpression=PsiUtil.deparenthesizeExpression(rExpression);
  if (!(lExpression instanceof PsiReferenceExpression) || !(rExpression instanceof PsiReferenceExpression))   return null;
  PsiReferenceExpression lRef=(PsiReferenceExpression)lExpression;
  PsiReferenceExpression rRef=(PsiReferenceExpression)rExpression;
  PsiManager manager=assignment.getManager();
  if (!sameInstanceReferences(lRef,rRef,manager))   return null;
  HighlightInfo highlightInfo=HighlightInfo.createHighlightInfo(HighlightInfoType.SILLY_ASSIGNMENT,assignment,"Silly assignment");
  List<IntentionAction> options=new ArrayList<IntentionAction>();
  options.add(new SwitchOffToolAction(HighlightDisplayKey.SILLY_ASSIGNMENT));
  options.add(new AddNoInspectionCommentAction(HighlightDisplayKey.SILLY_ASSIGNMENT,assignment));
  options.add(new AddNoInspectionDocTagAction(HighlightDisplayKey.SILLY_ASSIGNMENT,assignment));
  options.add(new AddNoInspectionForClassAction(HighlightDisplayKey.SILLY_ASSIGNMENT,assignment));
  options.add(new AddNoInspectionAllForClassAction(assignment));
  options.add(new AddSuppressWarningsAnnotationAction(HighlightDisplayKey.SILLY_ASSIGNMENT,assignment));
  options.add(new AddSuppressWarningsAnnotationForClassAction(HighlightDisplayKey.SILLY_ASSIGNMENT,assignment));
  options.add(new AddSuppressWarningsAnnotationForAllAction(assignment));
  QuickFixAction.registerQuickFixAction(highlightInfo,new EmptyIntentionAction(HighlightDisplayKey.getDisplayNameByKey(HighlightDisplayKey.SILLY_ASSIGNMENT),options),options);
  return highlightInfo;
}
