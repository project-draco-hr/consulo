{
  if (!isRootHighlighted(psiRoot))   return false;
  final Project project=psiRoot.getProject();
  final ProjectFileIndex fileIndex=ProjectRootManager.getInstance(project).getFileIndex();
  final VirtualFile virtualFile=psiRoot.getContainingFile().getVirtualFile();
  if (fileIndex.isInLibrarySource(virtualFile) || fileIndex.isInLibraryClasses(virtualFile))   return false;
  final HighlightingSettingsPerFile component=HighlightingSettingsPerFile.getInstance(project);
  if (component == null)   return true;
  final FileHighlighingSetting settingForRoot=component.getHighlightingSettingForRoot(psiRoot);
  return settingForRoot != FileHighlighingSetting.SKIP_INSPECTION;
}
