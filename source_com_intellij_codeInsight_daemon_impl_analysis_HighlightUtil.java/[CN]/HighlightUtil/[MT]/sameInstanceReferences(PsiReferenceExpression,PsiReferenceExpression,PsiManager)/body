{
  final PsiElement lResolved=lRef.resolve();
  final PsiElement rResolved=rRef.resolve();
  if (!manager.areElementsEquivalent(lResolved,rResolved))   return false;
  final PsiExpression lQuialifier=lRef.getQualifierExpression();
  final PsiExpression rQuialifier=rRef.getQualifierExpression();
  if (lQuialifier instanceof PsiReferenceExpression && rQuialifier instanceof PsiReferenceExpression) {
    return sameInstanceReferences((PsiReferenceExpression)lQuialifier,(PsiReferenceExpression)rQuialifier,manager);
  }
  if (Comparing.equal(lQuialifier,rQuialifier))   return true;
  final boolean lThis=lQuialifier == null || lQuialifier instanceof PsiThisExpression;
  final boolean rThis=rQuialifier == null || rQuialifier instanceof PsiThisExpression;
  if (lThis && rThis)   return true;
  if (lThis != rThis)   return false;
  return false;
}
