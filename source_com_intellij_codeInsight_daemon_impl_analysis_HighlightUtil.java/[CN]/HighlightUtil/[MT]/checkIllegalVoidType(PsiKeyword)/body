{
  if (!PsiKeyword.VOID.equals(type.getText()))   return null;
  PsiElement parent=type.getParent();
  if (parent instanceof PsiTypeElement) {
    PsiElement typeOwner=parent.getParent();
    if (typeOwner instanceof PsiMethod) {
      if (((PsiMethod)typeOwner).getReturnTypeElement() == parent)       return null;
    }
 else     if (typeOwner instanceof PsiClassObjectAccessExpression && TypeConversionUtil.isVoidType(((PsiClassObjectAccessExpression)typeOwner).getOperand().getType())) {
      return null;
    }
 else     if (typeOwner != null && PsiUtil.hasErrorElementChild(typeOwner)) {
      return null;
    }
 else     if (typeOwner instanceof PsiCodeFragment) {
      if (typeOwner.getUserData(PsiUtil.VALID_VOID_TYPE_IN_CODE_FRAGMENT) != null)       return null;
    }
  }
 else   if (parent instanceof PsiPrimitiveTypePattern) {
    PsiElement pparent=parent.getParent();
    if (pparent instanceof PsiRegularMethodPattern) {
      if (((PsiRegularMethodPattern)pparent).getReturnTypePattern() == parent)       return null;
    }
  }
  String description=MessageFormat.format("Illegal type: ''{0}''",new Object[]{PsiKeyword.VOID});
  return HighlightInfo.createHighlightInfo(HighlightInfoType.ERROR,type,description);
}
