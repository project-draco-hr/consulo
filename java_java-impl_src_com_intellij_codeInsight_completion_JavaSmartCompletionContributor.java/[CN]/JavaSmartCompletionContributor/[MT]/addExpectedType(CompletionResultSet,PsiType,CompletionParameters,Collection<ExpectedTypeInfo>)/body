{
  if (!JavaCompletionUtil.hasAccessibleConstructor(type))   return;
  final PsiClass psiClass=PsiUtil.resolveClassInType(type);
  if (psiClass == null)   return;
  final PsiClass parentClass=psiClass.getContainingClass();
  if (parentClass != null && !psiClass.hasModifierProperty(PsiModifier.STATIC) && !PsiTreeUtil.isAncestor(parentClass,parameters.getPosition(),false) && !(parentClass.getContainingFile().equals(parameters.getOriginalFile()) && parentClass.getTextRange().contains(parameters.getOffset()))) {
    return;
  }
  final LookupItem item=PsiTypeLookupItem.createLookupItem(JavaCompletionUtil.eliminateWildcards(type),parameters.getPosition());
  JavaCompletionUtil.setShowFQN(item);
  if (psiClass.isInterface() || psiClass.hasModifierProperty(PsiModifier.ABSTRACT)) {
    item.setAutoCompletionPolicy(AutoCompletionPolicy.NEVER_AUTOCOMPLETE);
    item.setAttribute(LookupItem.INDICATE_ANONYMOUS,"");
  }
  item.setInsertHandler(DefaultInsertHandler.NO_TAIL_HANDLER);
  result.addElement(decorate(type instanceof PsiClassType ? LookupElementDecorator.withInsertHandler(item,ConstructorInsertHandler.INSTANCE) : item,infos));
}
