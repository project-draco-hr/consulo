{
  if (element != null) {
    final boolean isDirectory=element instanceof PsiDirectory;
    if (!isDirectory) {
      final PsiFile psiFile=element.getContainingFile();
      final PackageSet packageSet=getCurrentScope().getValue();
      if (packageSet == null)       return;
      if (psiFile != null) {
        final ProjectView projectView=ProjectView.getInstance(myProject);
        if (!packageSet.contains(psiFile,NamedScopesHolder.getHolder(myProject,CURRENT_SCOPE_NAME,myDependencyValidationManager))) {
          projectView.changeView(ProjectViewPane.ID);
        }
        projectView.select(psiFile,psiFile.getVirtualFile(),false);
      }
      Editor editor=EditorHelper.openInEditor(element);
      if (editor != null) {
        ToolWindowManager.getInstance(myProject).activateEditorComponent();
      }
    }
 else {
      ((PsiDirectory)element).navigate(true);
    }
  }
}
