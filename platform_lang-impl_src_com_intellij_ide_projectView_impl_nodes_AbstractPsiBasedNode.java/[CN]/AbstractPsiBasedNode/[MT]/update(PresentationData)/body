{
  if (!validate()) {
    return;
  }
  final PsiElement value=extractPsiFromValue();
  LOG.assertTrue(value.isValid());
  int flags=getIconableFlags();
  try {
    Icon icon=value.getIcon(flags);
    data.setClosedIcon(icon);
    data.setOpenIcon(icon);
  }
 catch (  IndexNotReadyException ignored) {
  }
  data.setPresentableText(myName);
  try {
    if (isDeprecated()) {
      data.setAttributesKey(CodeInsightColors.DEPRECATED_ATTRIBUTES);
    }
  }
 catch (  IndexNotReadyException ignored) {
  }
  updateImpl(data);
  for (  ProjectViewNodeDecorator decorator : Extensions.getExtensions(ProjectViewNodeDecorator.EP_NAME,myProject)) {
    decorator.decorate(this,data);
  }
  value.putUserData(Iconable.LAST_COMPUTED_ICON,data.getIcon(false));
}
