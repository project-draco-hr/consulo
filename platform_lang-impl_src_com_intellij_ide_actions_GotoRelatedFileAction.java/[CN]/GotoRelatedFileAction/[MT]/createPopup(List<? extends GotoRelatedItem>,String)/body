{
  final JBList list=new JBList(new CollectionListModel(items));
  list.setCellRenderer(new ItemCellRenderer());
  Function<Object,String> toString=new Function<Object,String>(){
    @Override public String fun(    Object o){
      return ((GotoRelatedItem)o).getText();
    }
  }
;
  return JBPopupFactory.getInstance().createListPopupBuilder(list).setTitle(title).setFilteringEnabled(toString).setItemChoosenCallback(new Runnable(){
    @Override public void run(){
      Object value=list.getSelectedValue();
      ((GotoRelatedItem)value).navigate();
    }
  }
).createPopup();
}
