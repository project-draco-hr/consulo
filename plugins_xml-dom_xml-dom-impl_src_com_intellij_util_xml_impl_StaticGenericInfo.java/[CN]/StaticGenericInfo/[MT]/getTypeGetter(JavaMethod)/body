{
  final Class<?>[] parameterTypes=method.getParameterTypes();
  if (parameterTypes.length >= 1 && parameterTypes[0].equals(Class.class)) {
    return new Function.First<Object,Type>();
  }
  if (parameterTypes.length == 2 && parameterTypes[1].equals(Class.class)) {
    return new Function<Object[],Type>(){
      public Type fun(      final Object[] s){
        return (Type)s[1];
      }
    }
;
  }
  return new Function<Object[],Type>(){
    public Type fun(    final Object[] s){
      return method.getGenericReturnType();
    }
  }
;
}
