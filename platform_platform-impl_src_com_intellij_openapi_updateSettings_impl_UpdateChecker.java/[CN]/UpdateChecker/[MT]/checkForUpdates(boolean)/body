{
  if (LOG.isDebugEnabled()) {
    LOG.debug("enter: auto checkForUpdates()");
  }
  UserUpdateSettings settings=UpdateSettings.getInstance();
  if (disregardIgnoredBuilds) {
    settings=new UserUpdateSettings(){
      @NotNull @Override public List<String> getKnownChannelsIds(){
        return UpdateSettings.getInstance().getKnownChannelsIds();
      }
      @Override public List<String> getIgnoredBuildNumbers(){
        return Collections.emptyList();
      }
      @Override public void setKnownChannelIds(      List<String> ids){
        UpdateSettings.getInstance().setKnownChannelIds(ids);
      }
      @NotNull @Override public ChannelStatus getSelectedChannelStatus(){
        return UpdateSettings.getInstance().getSelectedChannelStatus();
      }
    }
;
  }
  final CheckForUpdateResult result=doCheckForUpdates(UpdateSettings.getInstance());
  if (result.getState() == UpdateStrategy.State.LOADED) {
    UpdateSettings.getInstance().LAST_TIME_CHECKED=System.currentTimeMillis();
    settings.setKnownChannelIds(result.getAllChannelsIds());
  }
  return result;
}
