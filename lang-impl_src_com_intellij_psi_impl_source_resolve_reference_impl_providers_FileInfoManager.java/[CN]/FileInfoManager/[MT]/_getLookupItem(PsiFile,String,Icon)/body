{
  final FileLookupInfoProvider provider=myFileType2InfoProvider.get(file.getFileType());
  final LookupItem result=new LookupItem(file,name);
  result.setIcon(icon);
  if (provider != null) {
    final VirtualFile virtualFile=file.getVirtualFile();
    if (virtualFile != null) {
      final Pair<String,String> info=provider.getLookupInfo(virtualFile);
      if (info != null) {
        result.setTailText(info.second,true);
      }
    }
  }
  return result;
}
