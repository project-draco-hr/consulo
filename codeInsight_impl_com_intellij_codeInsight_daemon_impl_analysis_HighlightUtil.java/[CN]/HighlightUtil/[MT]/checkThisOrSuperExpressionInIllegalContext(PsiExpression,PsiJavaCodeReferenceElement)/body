{
  if (expr instanceof PsiSuperExpression && !(expr.getParent() instanceof PsiReferenceExpression)) {
    return HighlightInfo.createHighlightInfo(HighlightInfoType.ERROR,expr.getTextRange().getEndOffset(),expr.getTextRange().getEndOffset() + 1,JavaErrorMessages.message("dot.expected.after.super.or.this"));
  }
  PsiClass aClass=qualifier == null ? PsiTreeUtil.getParentOfType(expr,PsiClass.class) : (PsiClass)qualifier.resolve();
  if (aClass == null)   return null;
  if (qualifier != null && aClass.isInterface()) {
    return HighlightInfo.createHighlightInfo(HighlightInfoType.ERROR,qualifier,HighlightClassUtil.CLASS_EXPECTED);
  }
  if (!HighlightClassUtil.hasEnclosingInstanceInScope(aClass,expr,false)) {
    return HighlightClassUtil.reportIllegalEnclosingUsage(expr,null,aClass,expr);
  }
  return null;
}
