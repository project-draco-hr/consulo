{
  if (!(initializer.getParent() instanceof PsiArrayInitializerExpression))   return null;
  PsiType arrayInitializerType=((PsiArrayInitializerExpression)initializer.getParent()).getType();
  PsiType componentType=arrayInitializerType instanceof PsiArrayType ? ((PsiArrayType)arrayInitializerType).getComponentType() : arrayInitializerType;
  if (!(arrayInitializerType instanceof PsiArrayType))   return null;
  PsiType initializerType=initializer.getType();
  if (initializerType == null) {
    return HighlightInfo.createHighlightInfo(HighlightInfoType.ERROR,initializer,JavaErrorMessages.message("illegal.initializer",formatType(componentType)));
  }
  PsiExpression expression=initializer instanceof PsiArrayInitializerExpression ? null : initializer;
  return checkAssignability(((PsiArrayType)arrayInitializerType).getComponentType(),initializerType,expression,initializer);
}
