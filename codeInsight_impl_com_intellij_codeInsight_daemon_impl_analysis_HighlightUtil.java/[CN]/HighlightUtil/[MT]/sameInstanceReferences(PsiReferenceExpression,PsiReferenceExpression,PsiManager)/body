{
  PsiElement lResolved=lRef.resolve();
  PsiElement rResolved=rRef.resolve();
  if (!manager.areElementsEquivalent(lResolved,rResolved))   return false;
  PsiExpression lQualifier=lRef.getQualifierExpression();
  PsiExpression rQualifier=rRef.getQualifierExpression();
  if (lQualifier instanceof PsiReferenceExpression && rQualifier instanceof PsiReferenceExpression) {
    return sameInstanceReferences((PsiReferenceExpression)lQualifier,(PsiReferenceExpression)rQualifier,manager);
  }
  if (Comparing.equal(lQualifier,rQualifier))   return true;
  boolean lThis=lQualifier == null || lQualifier instanceof PsiThisExpression;
  boolean rThis=rQualifier == null || rQualifier instanceof PsiThisExpression;
  return lThis && rThis;
}
