{
  if (!CodeInsightSettings.getInstance().AUTOINSERT_PAIR_BRACKET)   return false;
  int offset=editor.getCaretModel().getOffset();
  HighlighterIterator iterator=((EditorEx)editor).getHighlighter().createIterator(offset);
  if (iterator.getStart() == 0 || iterator.getTokenType() != JavaTokenType.RBRACE)   return false;
  iterator.retreat();
  if (!checkArrayInitializerLBrace(iterator))   return false;
  editor.getCaretModel().moveToOffset(offset + 1);
  editor.getScrollingModel().scrollToCaret(ScrollType.RELATIVE);
  return true;
}
