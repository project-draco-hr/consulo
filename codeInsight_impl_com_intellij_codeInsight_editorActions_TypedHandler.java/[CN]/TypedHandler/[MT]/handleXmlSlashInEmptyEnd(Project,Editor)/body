{
  PsiDocumentManager.getInstance(project).commitAllDocuments();
  XmlFile file=(XmlFile)PsiDocumentManager.getInstance(project).getPsiFile(editor.getDocument());
  final int offset=editor.getCaretModel().getOffset();
  FileViewProvider provider=file.getViewProvider();
  PsiElement element=provider.findElementAt(offset,XMLLanguage.class);
  if (element instanceof XmlToken) {
    final IElementType tokenType=((XmlToken)element).getTokenType();
    if (tokenType == XmlTokenType.XML_EMPTY_ELEMENT_END && offset == element.getTextOffset()) {
      editor.getCaretModel().moveToOffset(offset + 1);
      editor.getScrollingModel().scrollToCaret(ScrollType.RELATIVE);
      return true;
    }
  }
  return false;
}
