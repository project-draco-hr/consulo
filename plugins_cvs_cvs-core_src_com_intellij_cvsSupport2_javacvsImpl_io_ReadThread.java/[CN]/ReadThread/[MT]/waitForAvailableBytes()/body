{
  while (size() == 0 && !myAtEndOfStream) {
    try {
      notify();
      wait(TIMEOUT);
    }
 catch (    InterruptedException e) {
      throw new IOException(e.getLocalizedMessage());
    }
    if (size() == 0 && !myAtEndOfStream) {
      if (myCvsCommandStopper.isAborted()) {
        throw new ProcessCanceledException();
      }
    }
  }
  if (myException != null)   throw myException;
  if (myAtEndOfStream && (size() == 0)) {
    return END_OF_STREAM;
  }
  return -2;
}
