{
  final DataContext dataContext=e.getDataContext();
  final PsiFile psiFile=LangDataKeys.PSI_FILE.getData(dataContext);
  LOG.assertTrue(psiFile != null);
  try {
    final InputEvent event=e.getInputEvent();
    Url url=WebBrowserService.getInstance().getUrlToOpen(psiFile,event != null && event.isShiftDown());
    if (url != null) {
      ApplicationManager.getApplication().saveAll();
      BrowserUtil.launchBrowser(url.toExternalForm());
    }
  }
 catch (  WebBrowserUrlProvider.BrowserException e1) {
    Messages.showErrorDialog(e1.getMessage(),XmlBundle.message("browser.error"));
  }
catch (  Exception e1) {
    LOG.error(e1);
  }
}
