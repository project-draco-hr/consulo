{
  CharSequence chars=myDocument.getCharsSequence();
  int startOffset=range.getStartOffset();
  boolean endsProperly=CharArrayUtil.regionMatches(chars,range.getEndOffset() - commentSuffix.length(),commentSuffix);
  TextRange start=expandRange(startOffset,startOffset + commentPrefix.length());
  TextRange end;
  if (endsProperly) {
    end=expandRange(range.getEndOffset() - commentSuffix.length(),range.getEndOffset());
  }
 else {
    end=new TextRange(range.getEndOffset(),range.getEndOffset());
  }
  return new Pair<TextRange,TextRange>(start,end);
}
