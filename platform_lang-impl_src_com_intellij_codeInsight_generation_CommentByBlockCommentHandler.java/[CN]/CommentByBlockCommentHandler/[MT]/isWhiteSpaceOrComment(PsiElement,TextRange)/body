{
  TextRange intersection=range.intersection(element.getTextRange());
  if (intersection == null) {
    return false;
  }
  intersection=TextRange.from(Math.max(intersection.getStartOffset() - element.getTextRange().getStartOffset(),0),Math.min(intersection.getEndOffset() - element.getTextRange().getStartOffset(),element.getTextRange().getLength()));
  return isWhiteSpaceOrComment(element) || intersection.substring(element.getText()).trim().length() == 0;
}
