{
  final TextRange textRange=element.getTextRange();
  TextRange intersection=range.intersection(textRange);
  if (intersection == null) {
    return false;
  }
  intersection=TextRange.create(Math.max(intersection.getStartOffset() - textRange.getStartOffset(),0),Math.min(intersection.getEndOffset() - textRange.getStartOffset(),textRange.getLength()));
  return isWhiteSpaceOrComment(element) || intersection.substring(element.getText()).trim().length() == 0;
}
