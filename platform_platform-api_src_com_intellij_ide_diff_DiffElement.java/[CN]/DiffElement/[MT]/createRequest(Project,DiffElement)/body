{
  final T src=getValue();
  if (src instanceof VirtualFile) {
    final Object trg=element.getValue();
    if (trg instanceof VirtualFile) {
      final FileDocumentManager mgr=FileDocumentManager.getInstance();
      if (mgr.getDocument((VirtualFile)src) != null && mgr.getDocument((VirtualFile)trg) != null) {
        return SimpleDiffRequest.compareFiles((VirtualFile)src,(VirtualFile)trg,project);
      }
    }
  }
  final DiffContent srcContent=createDiffContent();
  final DiffContent trgContent=element.createDiffContent();
  if (srcContent != null && trgContent != null) {
    final SimpleDiffRequest request=new SimpleDiffRequest(project,"");
    request.setContents(srcContent,trgContent);
    return request;
  }
  return null;
}
