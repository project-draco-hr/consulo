{
  ProjectLevelVcsManager vcsManager=myPlatformFacade.getVcsManager(myProject);
  Collection<VirtualFile> vcsRoots=Arrays.asList(vcsManager.getRootsUnderVcs(myPlatformFacade.getVcs(myProject)));
  Collection<VirtualFile> gitRoots=new GitRootDetector(myProject).detect().getRoots();
  Collection<GitRootError> errors=new ArrayList<GitRootError>();
  for (  VirtualFile vcsRoot : vcsRoots) {
    if (!gitRoots.contains(vcsRoot)) {
      errors.add(new GitRootError(GitRootError.Type.EXTRA_ROOT,vcsRoot));
    }
  }
  for (  VirtualFile gitRoot : gitRoots) {
    if (!vcsRoots.contains(gitRoot)) {
      errors.add(new GitRootError(GitRootError.Type.UNREGISTERED_ROOT,gitRoot));
    }
  }
  return errors;
}
