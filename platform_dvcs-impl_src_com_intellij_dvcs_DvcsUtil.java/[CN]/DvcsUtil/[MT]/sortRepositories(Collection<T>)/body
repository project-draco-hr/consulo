{
  List<T> validRepositories=ContainerUtil.filter(repositories,new Condition<T>(){
    @Override public boolean value(    T t){
      return t.getRoot().isValid();
    }
  }
);
  Collections.sort(validRepositories,REPOSITORY_COMPARATOR);
  return validRepositories;
}
