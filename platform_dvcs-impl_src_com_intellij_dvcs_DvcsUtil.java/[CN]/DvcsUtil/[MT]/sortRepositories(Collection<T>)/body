{
  List<T> repos=ContainerUtil.filter(repositories,new Condition<T>(){
    @Override public boolean value(    T t){
      return t.getRoot().isValid();
    }
  }
);
  Collections.sort(repos,REPOSITORY_COMPARATOR);
  return repos;
}
