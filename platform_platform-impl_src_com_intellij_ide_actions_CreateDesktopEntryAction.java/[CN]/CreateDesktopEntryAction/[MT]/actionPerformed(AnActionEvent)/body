{
  if (!isAvailable())   return;
  final Project project=event.getProject();
  final CreateDesktopEntryDialog dialog=new CreateDesktopEntryDialog(project);
  dialog.show();
  if (!dialog.isOK()) {
    return;
  }
  final boolean globalEntry=dialog.myGlobalEntryCheckBox.isSelected();
  ProgressManager.getInstance().run(new Task.Backgroundable(project,event.getPresentation().getText()){
    @Override public void run(    @NotNull final ProgressIndicator indicator){
      createDesktopEntry(getProject(),indicator,globalEntry);
    }
  }
);
}
