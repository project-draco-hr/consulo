{
  if (!local && !remote) {
    return;
  }
  GitSimpleHandler handler=new GitSimpleHandler(project,root,GitCommand.BRANCH);
  handler.setNoSSH(true);
  handler.setSilent(true);
  handler.addParameters("--no-color");
  if (remote && local) {
    handler.addParameters("-a");
  }
 else   if (remote) {
    handler.addParameters("-r");
  }
  if (containingCommit != null) {
    handler.addParameters("--contains");
    handler.addParameters(containingCommit);
  }
  StringScanner s=new StringScanner(handler.run());
  while (s.hasMoreData()) {
    String line=s.line();
    if (line.length() == 0 || line.endsWith(NO_BRANCH_NAME)) {
      continue;
    }
    int sp=line.indexOf(' ',2);
    if (sp != -1) {
      branches.add(line.substring(2,sp));
    }
 else {
      branches.add(line.substring(2));
    }
  }
}
