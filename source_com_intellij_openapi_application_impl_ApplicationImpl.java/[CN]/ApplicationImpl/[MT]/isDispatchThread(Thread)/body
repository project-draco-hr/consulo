{
  if (!myDispatchThreadAssertionsValid)   return EventQueue.isDispatchThread();
  if (ourDispatchThread == null && EventQueue.isDispatchThread()) {
    ourDispatchThread=Thread.currentThread();
  }
  if (ourDispatchThread == currentThread)   return true;
  if (ourDispatchThread != null && !ourDispatchThread.isAlive()) {
    ourDispatchThread=null;
    return isDispatchThread(currentThread);
  }
  return false;
}
