{
  final String error=myValidator.check(getMethodName());
  if (error != null) {
    if (ApplicationManager.getApplication().isUnitTestMode()) {
      Messages.showInfoMessage(error,RefactoringBundle.message("error.title"));
      return;
    }
    final StringBuilder builder=new StringBuilder();
    builder.append(error).append(". ").append(RefactoringBundle.message("do.you.wish.to.continue"));
    if (Messages.showOkCancelDialog(builder.toString(),RefactoringBundle.message("warning.title"),Messages.getWarningIcon()) != 0) {
      return;
    }
  }
  super.doOKAction();
}
