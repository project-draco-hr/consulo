{
  process.setText(ProjectBundle.message("maven.searching.profiles"));
  Set<String> uniqueProfiles=new LinkedHashSet<String>();
  for (  VirtualFile f : getParameters().myFiles) {
    MavenProject project=new MavenProject(f);
    process.setText2(ProjectBundle.message("maven.reading.pom",f.getPath()));
    project.readQuickly(getGeneralSettings(),Collections.EMPTY_LIST,new MavenProjectReaderProjectLocator(){
      public VirtualFile findProjectFile(      MavenId coordinates){
        return null;
      }
    }
);
    uniqueProfiles.addAll(project.getProfilesIds());
  }
  getParameters().myProfiles=new ArrayList<String>(uniqueProfiles);
}
