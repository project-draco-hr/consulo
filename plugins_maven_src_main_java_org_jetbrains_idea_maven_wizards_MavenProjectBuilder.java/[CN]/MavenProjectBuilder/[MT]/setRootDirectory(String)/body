{
  getParameters().myFiles=null;
  getParameters().myProfiles.clear();
  getParameters().myMavenProjectTree=null;
  getParameters().myImportRoot=FileFinder.refreshRecursively(root);
  if (getImportRoot() == null)   return false;
  return runConfigurationProcess(ProjectBundle.message("maven.scanning.projects"),new MavenTask(){
    public void run(    MavenProgressIndicator process) throws MavenProcessCanceledException {
      process.setText(ProjectBundle.message("maven.locating.files"));
      getParameters().myFiles=FileFinder.findPomFiles(getImportRoot().getChildren(),getImportingSettings().isLookForNested(),process.getIndicator(),new ArrayList<VirtualFile>());
      collectProfiles(process);
      if (getParameters().myProfiles.isEmpty()) {
        readMavenProjectTree(process);
      }
      process.setText("");
      process.setText2("");
    }
  }
);
}
