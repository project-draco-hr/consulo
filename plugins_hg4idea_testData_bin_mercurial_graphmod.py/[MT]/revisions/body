def revisions(repo, start, stop):
    'cset DAG generator yielding (id, CHANGESET, ctx, [parentids]) tuples\n\n    This generator function walks through the revision history from revision\n    start to revision stop (which must be less than or equal to start). It\n    returns a tuple for each node. The node and parent ids are arbitrary\n    integers which identify a node in the context of the graph returned.\n    '
    cur = start
    while (cur >= stop):
        ctx = repo[cur]
        parents = [p.rev() for p in ctx.parents() if (p.rev() != nullrev)]
        yield (cur, CHANGESET, ctx, sorted(parents))
        cur -= 1
