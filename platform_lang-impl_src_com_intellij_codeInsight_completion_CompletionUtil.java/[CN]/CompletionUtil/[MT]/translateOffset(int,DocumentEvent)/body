{
  if (event.getOffset() < offset && offset < event.getOffset() + event.getNewLength()) {
    if (event.getOldLength() == 0) {
      return event.getOffset();
    }
    return null;
  }
  return offset <= event.getOffset() ? offset : offset - event.getNewLength() + event.getOldLength();
}
