{
  final InspectionTool tool=getTool();
  try {
    if (!(newEntity instanceof RefElement) || tool instanceof DescriptorProviderInspection) {
      showEmpty();
      return;
    }
    if (tool instanceof FilteringInspectionTool) {
      if (tool instanceof DeadCodeInspection || ((FilteringInspectionTool)tool).getFilter().accepts((RefElement)newEntity)) {
        try {
          String html=generateHTML(newEntity);
          myHTMLViewer.read(new StringReader(html),null);
          myHTMLViewer.setCaretPosition(0);
        }
 catch (        Exception e) {
          showEmpty();
        }
      }
 else {
        showEmpty();
      }
    }
  }
  finally {
    myCurrentEntity=newEntity;
  }
}
