{
  UIUtil.invokeLaterIfNeeded(new Runnable(){
    @Override public void run(){
      ApplicationManager.getApplication().runWriteAction(new Runnable(){
        @Override public void run(){
          for (          final ModuleAwareContentRoot contentRoot : contentRoots) {
            GradleUtil.executeProjectChangeAction(contentRoot.getModule().getProject(),contentRoot,new Runnable(){
              @Override public void run(){
                final ModuleRootManager moduleRootManager=ModuleRootManager.getInstance(contentRoot.getModule());
                ModifiableRootModel model=moduleRootManager.getModifiableModel();
                try {
                  model.removeContentEntry(contentRoot);
                }
  finally {
                  model.commit();
                }
              }
            }
);
          }
        }
      }
);
    }
  }
);
}
