{
  if (chars == null || chars.length() == 0) {
    return ArrayUtil.EMPTY_STRING_ARRAY;
  }
  LineTokenizer tokenizer=new LineTokenizer(chars);
  List<String> lines=new ArrayList<String>();
  while (!tokenizer.atEnd()) {
    int offset=tokenizer.getOffset();
    String line;
    if (includeSeparators) {
      line=chars.subSequence(offset,offset + tokenizer.getLength() + tokenizer.getLineSeparatorLength()).toString();
    }
 else {
      line=chars.subSequence(offset,offset + tokenizer.getLength()).toString();
    }
    lines.add(line);
    tokenizer.advance();
  }
  if (!skipLastEmptyLine && stringEdnsWithSeparator(tokenizer))   lines.add("");
  return lines.toArray(new String[lines.size()]);
}
