{
  Project project=e.getData(DataKeys.PROJECT);
  Change[] changes=e.getData(DataKeys.CHANGES);
  List<FilePath> missingFiles=e.getData(ChangesListView.MISSING_FILES_DATA_KEY);
  List<VirtualFile> modifiedWithoutEditing=e.getData(ChangesListView.MODIFIED_WITHOUT_EDITING_DATA_KEY);
  e.getPresentation().setEnabled(ChangesUtil.getChangeListIfOnlyOne(project,changes) != null || (missingFiles != null && !missingFiles.isEmpty()) || (modifiedWithoutEditing != null && !modifiedWithoutEditing.isEmpty()));
}
