{
  myPresentation=presentation;
  setModel(new MyButtonModel());
  setHorizontalAlignment(LEFT);
  setFocusable(false);
  Insets margins=getMargin();
  setMargin(new Insets(margins.top,2,margins.bottom,2));
  if (isSmallVariant()) {
    setBorder(IdeBorderFactory.createEmptyBorder(0,2,0,2));
    if (!UIUtil.isUnderGTKLookAndFeel()) {
      setFont(UIUtil.getLabelFont().deriveFont(11.0f));
    }
  }
  addActionListener(new ActionListener(){
    public void actionPerformed(    ActionEvent e){
      if (!myForcePressed) {
        IdeFocusManager.getGlobalInstance().doWhenFocusSettlesDown(new Runnable(){
          public void run(){
            showPopup();
          }
        }
);
      }
    }
  }
);
  putClientProperty("Quaqua.Button.style","placard");
  addMouseListener(new MouseAdapter(){
    @Override public void mouseEntered(    MouseEvent e){
      myMouseInside=true;
      repaint();
    }
    @Override public void mouseExited(    MouseEvent e){
      myMouseInside=false;
      repaint();
    }
  }
);
}
