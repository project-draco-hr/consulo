{
  super.paint(g);
  Dimension size=getSize();
  String text=getText();
  boolean isEmpty=getIcon() == null && (text == null || text.trim().length() == 0);
  final Insets insets=super.getInsets();
  final Icon icon=isEnabled() ? ARROW_ICON : DISABLED_ARROW_ICON;
  int x=isEmpty ? (size.width - icon.getIconWidth()) / 2 : size.width - icon.getIconWidth() - insets.right + (UIUtil.isUnderNimbusLookAndFeel() ? -3 : 2);
  icon.paintIcon(null,g,x,(size.height - icon.getIconHeight()) / 2);
}
