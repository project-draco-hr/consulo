{
  match.changeSignature(myExtractedMethod);
  if (RefactoringUtil.isInStaticContext(match.getMatchStart(),myExtractedMethod.getContainingClass())) {
    myExtractedMethod.getModifierList().setModifierProperty(PsiModifier.STATIC,true);
  }
  final PsiMethodCallExpression methodCallExpression=generateMethodCall(match.getInstanceExpression());
  final PsiExpression[] expressions=methodCallExpression.getArgumentList().getExpressions();
  ArrayList<ParameterTablePanel.VariableData> datas=new ArrayList<ParameterTablePanel.VariableData>();
  for (  final ParameterTablePanel.VariableData variableData : myVariableDatum) {
    if (variableData.passAsParameter) {
      datas.add(variableData);
    }
  }
  LOG.assertTrue(expressions.length == datas.size());
  for (int i=0; i < datas.size(); i++) {
    ParameterTablePanel.VariableData data=datas.get(i);
    final PsiElement parameterValue=match.getParameterValue(data.variable);
    expressions[i].replace(parameterValue);
  }
  match.replace(methodCallExpression,myOutputVariable);
}
