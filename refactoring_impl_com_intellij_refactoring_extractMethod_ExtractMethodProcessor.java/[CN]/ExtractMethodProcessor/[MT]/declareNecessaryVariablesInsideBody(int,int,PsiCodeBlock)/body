{
  List<PsiVariable> usedVariables=ControlFlowUtil.getUsedVariables(myControlFlow,start,end);
  for (  PsiVariable variable : usedVariables) {
    boolean toDeclare=!isDeclaredInside(variable) && !myInputVariables.contains(variable);
    if (toDeclare) {
      String name=variable.getName();
      PsiDeclarationStatement statement=myElementFactory.createVariableDeclarationStatement(name,variable.getType(),null);
      body.add(statement);
    }
  }
}
