{
  ASTNode[] children=elem.getNode().getChildren(null);
  if (children.length > 0 && NESTED.contains(children[0].getElementType())) {
    addNestedChildren(children[0].getPsi(),list,alignment,wrap,settings,false);
  }
 else   if (canBeCorrectBlock(children[0])) {
    list.add(new GroovyBlock(children[0],alignment,Indent.getContinuationWithoutFirstIndent(),wrap,settings));
  }
  if (children.length > 1) {
    for (    ASTNode childNode : children) {
      if (canBeCorrectBlock(childNode) && children[0] != childNode) {
        IElementType type=childNode.getElementType();
        Indent indent=topLevel || NESTED.contains(type) || type == mIDENT ? Indent.getContinuationWithoutFirstIndent() : Indent.getNoneIndent();
        list.add(new GroovyBlock(childNode,childNode instanceof CompositeElement || type == mIDENT ? alignment : null,indent,wrap,settings));
      }
    }
  }
}
