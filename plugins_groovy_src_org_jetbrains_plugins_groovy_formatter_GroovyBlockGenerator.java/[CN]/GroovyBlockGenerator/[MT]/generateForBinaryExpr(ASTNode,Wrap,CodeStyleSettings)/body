{
  final ArrayList<Block> subBlocks=new ArrayList<Block>();
  Alignment alignment=mySettings.ALIGN_MULTILINE_BINARY_OPERATION ? Alignment.createAlignment() : null;
  GrBinaryExpression myExpr=(GrBinaryExpression)node.getPsi();
  ASTNode[] children=node.getChildren(null);
  if (myExpr.getLeftOperand() instanceof GrBinaryExpression) {
    addBinaryChildrenRecursively(myExpr.getLeftOperand(),subBlocks,Indent.getContinuationWithoutFirstIndent(),alignment,myWrap,mySettings);
  }
  for (  ASTNode childNode : children) {
    if (canBeCorrectBlock(childNode) && !(childNode.getPsi() instanceof GrBinaryExpression)) {
      subBlocks.add(new GroovyBlock(childNode,alignment,Indent.getContinuationWithoutFirstIndent(),myWrap,mySettings));
    }
  }
  if (myExpr.getRightOperand() instanceof GrBinaryExpression) {
    addBinaryChildrenRecursively(myExpr.getRightOperand(),subBlocks,Indent.getContinuationWithoutFirstIndent(),alignment,myWrap,mySettings);
  }
  return subBlocks;
}
