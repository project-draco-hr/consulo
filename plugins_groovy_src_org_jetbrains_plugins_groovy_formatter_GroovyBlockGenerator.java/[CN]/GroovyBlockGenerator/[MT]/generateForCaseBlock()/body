{
  final ArrayList<Block> subBlocks=new ArrayList<Block>();
  ASTNode children[]=myNode.getChildren(null);
  int childNumber=children.length;
  if (childNumber == 0) {
    return subBlocks;
  }
  ASTNode prevChildNode=null;
  for (  ASTNode childNode : children) {
    if (canBeCorrectBlock(childNode) && ((childNode.getPsi() instanceof GrCaseLabel) || mLCURLY.equals(childNode.getElementType()) || mRCURLY.equals(childNode.getElementType()))) {
      final Indent indent=GroovyIndentProcessor.getChildIndent(myBlock,prevChildNode,childNode);
      if (!(childNode.getPsi() instanceof GrCaseLabel)) {
        subBlocks.add(new GroovyBlock(childNode,myAlignment,indent,myWrap,mySettings));
      }
 else {
        subBlocks.add(new LargeGroovyBlock(childNode,myAlignment,indent,myWrap,mySettings));
      }
      prevChildNode=childNode;
    }
  }
  return subBlocks;
}
