{
  ASTNode[] children=elem.getNode().getChildren(null);
  if (children.length > 0 && NESTED.contains(children[0].getElementType())) {
    addNestedChildrenRecursively(children[0].getPsi(),list,myAlignment,myWrap,mySettings);
  }
 else   if (canBeCorrectBlock(children[0])) {
    list.add(new GroovyBlock(children[0],myAlignment,Indent.getContinuationWithoutFirstIndent(),myWrap,mySettings));
  }
  if (children.length > 1) {
    for (    ASTNode childNode : children) {
      if (canBeCorrectBlock(childNode) && children[0] != childNode) {
        if (elem.getNode() != null && NESTED.contains(elem.getNode().getElementType())) {
          list.add(new GroovyBlock(childNode,myAlignment,Indent.getContinuationWithoutFirstIndent(),myWrap,mySettings));
        }
 else {
          list.add(new GroovyBlock(childNode,myAlignment,Indent.getNoneIndent(),myWrap,mySettings));
        }
      }
    }
  }
}
