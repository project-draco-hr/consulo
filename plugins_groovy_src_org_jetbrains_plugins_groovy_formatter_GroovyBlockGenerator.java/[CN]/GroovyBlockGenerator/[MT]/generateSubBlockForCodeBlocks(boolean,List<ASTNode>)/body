{
  calculateAlignments(children,classLevel);
  final ArrayList<Block> subBlocks=new ArrayList<Block>();
  if (classLevel && myAlignment != null) {
    final AlignmentProvider.Aligner aligner=myAlignmentProvider.createAligner(true);
    for (    ASTNode child : children) {
      aligner.append(child.getPsi());
    }
  }
  for (  ASTNode childNode : children) {
    final Indent indent=new GroovyIndentProcessor().getChildIndent(myBlock,childNode);
    subBlocks.add(new GroovyBlock(childNode,indent,myWrap,mySettings,myGroovySettings,myAlignmentProvider));
  }
  return subBlocks;
}
