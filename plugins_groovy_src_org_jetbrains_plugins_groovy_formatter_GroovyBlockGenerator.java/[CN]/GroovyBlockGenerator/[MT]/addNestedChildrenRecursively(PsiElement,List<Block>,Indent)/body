{
  ASTNode children[]=elem.getNode().getChildren(null);
  if (children.length > 0 && children[0].getPsi() instanceof GrNested) {
    addNestedChildrenRecursively(children[0].getPsi(),list,Indent.getContinuationWithoutFirstIndent());
  }
 else   if (canBeCorrectBlock(children[0])) {
    list.add(new GroovyBlock(children[0],myAlignment,Indent.getContinuationWithoutFirstIndent(),myWrap,mySettings));
  }
  if (children.length > 1) {
    for (    ASTNode childNode : children) {
      if (canBeCorrectBlock(childNode) && children[0] != childNode) {
        if (elem instanceof GrNested) {
          list.add(new GroovyBlock(childNode,myAlignment,Indent.getContinuationWithoutFirstIndent(),myWrap,mySettings));
        }
 else {
          list.add(new GroovyBlock(childNode,myAlignment,Indent.getNoneIndent(),myWrap,mySettings));
        }
      }
    }
  }
}
