{
  if (elem == null)   return;
  if ((elem instanceof GrBinaryExpression)) {
    GrBinaryExpression myExpr=((GrBinaryExpression)elem);
    if (myExpr.getLeftOperand() instanceof GrBinaryExpression) {
      addBinaryChildrenRecursively(myExpr.getLeftOperand(),list,Indent.getContinuationWithoutFirstIndent(),alignment);
    }
    PsiElement op=((GrBinaryExpression)elem).getOperationToken();
    for (    ASTNode childNode : visibleChildren(elem.getNode())) {
      PsiElement psi=childNode.getPsi();
      if (!(psi instanceof GrBinaryExpression)) {
        Alignment alignmentToUse=op == psi ? myInnerAlignments.get(op) : alignment;
        list.add(new GroovyBlock(childNode,alignmentToUse,indent,myWrap,mySettings,myGroovySettings,myInnerAlignments));
      }
    }
    if (myExpr.getRightOperand() instanceof GrBinaryExpression) {
      addBinaryChildrenRecursively(myExpr.getRightOperand(),list,Indent.getContinuationWithoutFirstIndent(),alignment);
    }
  }
}
