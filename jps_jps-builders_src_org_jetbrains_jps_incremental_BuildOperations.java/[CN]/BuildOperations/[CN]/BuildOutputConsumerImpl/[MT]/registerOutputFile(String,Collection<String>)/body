{
  final File outputFile=new File(outputFilePath);
  for (  File outputRoot : myOutputs) {
    if (FileUtil.isAncestor(outputRoot,outputFile,false)) {
      String outputRootPath=FileUtil.toSystemIndependentName(outputRoot.getPath());
      final String relativePath=FileUtil.getRelativePath(outputRootPath,FileUtil.toSystemIndependentName(outputFilePath),'/');
      if (relativePath != null) {
        myFileGeneratedEvent.add(outputRootPath,relativePath);
      }
      break;
    }
  }
  final SourceToOutputMapping mapping=myContext.getProjectDescriptor().dataManager.getSourceToOutputMap(myTarget);
  for (  String sourceFile : sourceFiles) {
    if (myRegisteredSources.add(FileUtil.toSystemIndependentName(sourceFile))) {
      mapping.setOutput(sourceFile,outputFilePath);
    }
 else {
      mapping.appendOutput(sourceFile,outputFilePath);
    }
  }
}
