{
  final File outputFile=new File(outputFilePath);
  for (  File outputRoot : myOutputs) {
    if (FileUtil.isAncestor(outputRoot,outputFile,false)) {
      final String relativePath=FileUtil.getRelativePath(outputRoot,outputFile);
      if (relativePath != null) {
        myFileGeneratedEvent.add(FileUtil.toSystemIndependentName(outputRoot.getPath()),FileUtil.toSystemIndependentName(relativePath));
      }
      break;
    }
  }
  final SourceToOutputMapping mapping=myContext.getProjectDescriptor().dataManager.getSourceToOutputMap(myTarget);
  for (  String sourceFile : sourceFiles) {
    if (myRegisteredSources.add(FileUtil.toSystemIndependentName(sourceFile))) {
      mapping.setOutput(sourceFile,outputFilePath);
    }
 else {
      mapping.appendOutput(sourceFile,outputFilePath);
    }
  }
}
