{
  super.setUp();
  GitTestUtil.createFileStructure(myProject,myRepo,"a.txt","b.txt","dir/c.txt","dir/subdir/d.txt");
  myRepo.commit();
  myRepo.push("origin","master");
  myBrotherRepo.pull();
  myBrotherRepo.createBranch("feature");
  createFileInCommand(myBrotherRepo.getDir(),"feature.txt","feature content");
  myBrotherRepo.addCommit();
  myBrotherRepo.push("--all");
  myBrotherRepo.createBranch("eap");
  createFileInCommand(myBrotherRepo.getDir(),"eap.txt","eap content");
  myBrotherRepo.addCommit();
  myBrotherRepo.push("--all");
  myRepo.pull();
  myRepo.createBranch("my_feature");
  String[] branches=myRepo.branch("-a").getStdout().split("\n");
  myBranches=new ArrayList<TestBranch>(branches.length);
  for (  String b : branches) {
    boolean current=b.charAt(0) == '*';
    b=b.substring(2);
    final boolean remote=b.startsWith("remotes");
    if (remote) {
      b=b.substring("remotes/".length());
    }
    TestBranch branch=new TestBranch(current,!remote,b);
    if (current) {
      myFeatureBranch=branch;
    }
    myBranches.add(branch);
  }
  myDir=myRepo.getDir();
}
