{
  super.init(configuration);
  File modifiedPatternsPath=new File(PathManager.getConfigPath());
  modifiedPatternsPath=new File(modifiedPatternsPath,INCLUDES_PATH);
  try {
    Field pathsField=FileResourceLoader.class.getDeclaredField("paths");
    pathsField.setAccessible(true);
    Vector<String> paths=(Vector<String>)pathsField.get(this);
    paths.removeAllElements();
    paths.addElement(modifiedPatternsPath.getAbsolutePath());
    if (ApplicationManager.getApplication().isUnitTestMode()) {
      File file1=new File(PathManagerEx.getTestDataPath());
      File testsDir=new File(new File(file1,"ide"),"fileTemplates");
      paths.add(testsDir.getAbsolutePath());
    }
  }
 catch (  Exception e) {
    throw new RuntimeException(e);
  }
}
