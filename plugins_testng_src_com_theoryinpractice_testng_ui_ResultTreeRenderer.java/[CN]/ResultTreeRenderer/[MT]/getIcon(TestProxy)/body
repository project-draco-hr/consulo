{
  if (node.isResult()) {
    TestResultMessage result=node.getResultMessage();
switch (result.getResult()) {
case MessageHelper.PASSED_TEST:
      return PoolOfTestIcons.PASSED_ICON;
case MessageHelper.SKIPPED_TEST:
    return PoolOfTestIcons.SKIPPED_ICON;
case MessageHelper.FAILED_TEST:
  return PoolOfTestIcons.FAILED_ICON;
}
}
 else {
boolean hasFail=false;
boolean hasSkipped=false;
for (TestProxy result : node.getChildren()) {
Icon icon=getIcon(result);
if (icon == PoolOfTestIcons.FAILED_ICON) {
  hasFail=true;
}
 else if (icon == PoolOfTestIcons.SKIPPED_ICON) {
  hasSkipped=true;
}
}
if (hasFail) return PoolOfTestIcons.FAILED_ICON;
if (hasSkipped) return PoolOfTestIcons.SKIPPED_ICON;
}
return PoolOfTestIcons.PASSED_ICON;
}
