{
  final HttpClient client=new HttpClient();
  client.getParams().setConnectionManagerTimeout(3000);
  client.getParams().setSoTimeout(TaskSettings.getInstance().CONNECTION_TIMEOUT);
  client.getParams().setContentCharset("UTF-8");
  final HttpConfigurable proxySettings=HttpConfigurable.getInstance();
  if (proxySettings.USE_HTTP_PROXY) {
    client.getHostConfiguration().setProxy(proxySettings.PROXY_HOST,proxySettings.PROXY_PORT);
    if (proxySettings.PROXY_AUTHENTICATION) {
      client.getState().setProxyCredentials(AuthScope.ANY,new UsernamePasswordCredentials(proxySettings.PROXY_LOGIN,proxySettings.getPlainProxyPassword()));
    }
  }
  if (login != null && password != null) {
    client.getParams().setCredentialCharset("UTF-8");
    client.getParams().setAuthenticationPreemptive(true);
    client.getState().setCredentials(AuthScope.ANY,new UsernamePasswordCredentials(login,password));
  }
  return client;
}
