{
  System.gc();
  List<Object> list=new ArrayList<Object>();
  while (Runtime.getRuntime().freeMemory() > 10000) {
    list.add(new byte[1000]);
  }
  System.gc();
  list=null;
  System.gc();
  WeakReference<Object> weakReference=new WeakReference<Object>(new Object());
  do {
    System.gc();
  }
 while (weakReference.get() != null);
}
