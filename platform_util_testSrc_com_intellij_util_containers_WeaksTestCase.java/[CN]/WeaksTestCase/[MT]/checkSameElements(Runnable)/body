{
  checkSameNotNulls(action);
  waitFor(new Condition<Void>(){
    @Override public boolean value(    Void aVoid){
      if (action != null)       action.run();
      if (myHolder.size() != myCollection.size())       return false;
      for (int i=0; i < myHolder.size(); i++) {
        if (myHolder.get(i) != myCollection.get(i))         return false;
      }
      WeakReference[] references=myCollection.getReferences();
      for (int i=myHolder.size(); i < references.length; i++) {
        if (references[i] != null)         return false;
      }
      return true;
    }
  }
);
}
