{
  VirtualFile previous=parent;
  while ((parent != null) && (idx >= 0)) {
    if (!parent.getName().equals(parts[idx])) {
      return new Pair<VirtualFile,Integer>(parent,idx + 1);
    }
    previous=parent;
    parent=parent.getParent();
    --idx;
  }
  return new Pair<VirtualFile,Integer>(parent,idx + 1);
}
