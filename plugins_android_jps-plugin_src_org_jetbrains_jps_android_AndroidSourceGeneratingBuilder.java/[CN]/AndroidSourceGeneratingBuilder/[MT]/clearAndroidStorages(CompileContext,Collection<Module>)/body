{
  for (  Module module : modules) {
    final File dir=AndroidJpsUtil.getDirectoryForIntermediateArtifacts(context,module,false,BUILDER_NAME);
    if (dir == null) {
      return true;
    }
    if (dir.exists() && !FileUtil.delete(dir)) {
      context.processMessage(new CompilerMessage(BUILDER_NAME,BuildMessage.Kind.ERROR,AndroidJpsBundle.message("android.jps.cannot.delete",dir.getPath())));
      return false;
    }
  }
  return true;
}
