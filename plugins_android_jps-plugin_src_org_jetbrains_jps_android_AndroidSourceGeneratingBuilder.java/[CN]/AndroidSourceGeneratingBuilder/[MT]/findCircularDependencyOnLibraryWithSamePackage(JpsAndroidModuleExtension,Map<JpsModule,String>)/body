{
  final String aPackage=packageMap.get(extension.getModule());
  if (aPackage == null || aPackage.length() == 0) {
    return null;
  }
  for (  JpsAndroidModuleExtension depExtension : AndroidJpsUtil.getAllAndroidDependencies(extension.getModule(),true)) {
    if (aPackage.equals(packageMap.get(depExtension.getModule()))) {
      final List<JpsAndroidModuleExtension> depDependencies=AndroidJpsUtil.getAllAndroidDependencies(depExtension.getModule(),false);
      if (depDependencies.contains(extension)) {
        return depExtension.getModule();
      }
    }
  }
  return null;
}
