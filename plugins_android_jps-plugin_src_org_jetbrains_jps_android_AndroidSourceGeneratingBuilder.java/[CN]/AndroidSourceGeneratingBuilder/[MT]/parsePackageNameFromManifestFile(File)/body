{
  final InputStream inputStream=new BufferedInputStream(new FileInputStream(manifestFile));
  try {
    final Ref<String> packageName=new Ref<String>(null);
    FormsParsing.parse(inputStream,new FormsParsing.IXMLBuilderAdapter(){
      boolean processingManifestTagAttrs=false;
      @Override public void startElement(      String name,      String nsPrefix,      String nsURI,      String systemID,      int lineNr) throws Exception {
        if (MANIFEST_TAG.equals(name)) {
          processingManifestTagAttrs=true;
        }
      }
      @Override public void addAttribute(      String key,      String nsPrefix,      String nsURI,      String value,      String type) throws Exception {
        if (value != null && AndroidCommonUtils.PACKAGE_MANIFEST_ATTRIBUTE.equals(key)) {
          packageName.set(value.trim());
        }
      }
      @Override public void elementAttributesProcessed(      String name,      String nsPrefix,      String nsURI) throws Exception {
        stop();
      }
    }
);
    return packageName.get();
  }
  finally {
    inputStream.close();
  }
}
