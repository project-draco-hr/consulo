{
switch (event.getCode()) {
case BEFORE_CHILDREN_CHANGE:
case BEFORE_PROPERTY_CHANGE:
case BEFORE_CHILD_MOVEMENT:
case BEFORE_CHILD_REPLACEMENT:
case BEFORE_CHILD_ADDITION:
    break;
case BEFORE_CHILD_REMOVAL:
  checkAnnotation(event.getChild());
checkModifierListOwner(event.getChild());
if (event.getChild() instanceof PsiClassOwner) {
PsiClass[] classes=((PsiClassOwner)event.getChild()).getClasses();
for (PsiClass psiClass : classes) {
  checkModifierListOwner(psiClass);
}
}
break;
case CHILD_ADDED:
case CHILD_REMOVED:
case CHILD_REPLACED:
processChange(event.getParent(),event.getOldChild(),event.getChild());
break;
case CHILDREN_CHANGED:
processChange(event.getParent(),event.getParent(),null);
break;
case CHILD_MOVED:
case PROPERTY_CHANGED:
myModificationTracker.incCounter();
break;
default :
LOG.error("Unknown code:" + event.getCode());
break;
}
}
