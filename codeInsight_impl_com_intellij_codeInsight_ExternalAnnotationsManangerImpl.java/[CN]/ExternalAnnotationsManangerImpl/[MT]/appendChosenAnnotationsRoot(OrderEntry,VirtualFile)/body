{
  if (entry instanceof LibraryOrderEntry) {
    Library library=((LibraryOrderEntry)entry).getLibrary();
    LOG.assertTrue(library != null);
    final ModifiableRootModel rootModel=ModuleRootManager.getInstance(entry.getOwnerModule()).getModifiableModel();
    final Library.ModifiableModel model=library.getModifiableModel();
    model.addRoot(vFile,OrderRootType.ANNOTATIONS);
    model.commit();
    rootModel.commit();
  }
 else   if (entry instanceof ModuleSourceOrderEntry) {
    final ModifiableRootModel model=ModuleRootManager.getInstance(entry.getOwnerModule()).getModifiableModel();
    model.setAnnotationUrls(ArrayUtil.mergeArrays(model.getAnnotationUrls(),new String[]{vFile.getUrl()},String.class));
    model.commit();
  }
 else   if (entry instanceof JdkOrderEntry) {
    final SdkModificator sdkModificator=((JdkOrderEntry)entry).getJdk().getSdkModificator();
    sdkModificator.addRoot(vFile,ProjectRootType.ANNOTATIONS);
    sdkModificator.commitChanges();
  }
}
