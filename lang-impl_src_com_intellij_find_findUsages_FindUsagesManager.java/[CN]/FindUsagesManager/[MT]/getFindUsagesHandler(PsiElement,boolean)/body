{
  for (  FindUsagesHandlerFactory factory : myHandlers) {
    if (factory.canFindUsages(element)) {
      final FindUsagesHandler handler=factory.createFindUsagesHandler(element,forHighlightUsages);
      if (handler == FindUsagesHandler.NULL_HANDLER)       return null;
      if (handler != null) {
        return handler;
      }
    }
  }
  for (  FindUsagesHandlerFactory factory : Extensions.getExtensions(FindUsagesHandlerFactory.EP_NAME,myProject)) {
    if (factory.canFindUsages(element)) {
      final FindUsagesHandler handler=factory.createFindUsagesHandler(element,forHighlightUsages);
      if (handler == FindUsagesHandler.NULL_HANDLER)       return null;
      if (handler != null) {
        return handler;
      }
    }
  }
  return null;
}
