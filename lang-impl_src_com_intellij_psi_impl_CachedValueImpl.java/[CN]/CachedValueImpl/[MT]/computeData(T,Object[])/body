{
  if (dependencies == null) {
    return new Data<T>(value,null,null);
  }
  TLongArrayList timeStamps=new TLongArrayList();
  List<Object> deps=new ArrayList<Object>();
  collectDependencies(timeStamps,deps,dependencies);
  if (myTrackValue) {
    collectDependencies(timeStamps,deps,new Object[]{value});
  }
  myLastPsiTimeStamp=myManager.getModificationTracker().getModificationCount();
  return new Data<T>(value,deps.toArray(new Object[deps.size()]),timeStamps.toNativeArray());
}
