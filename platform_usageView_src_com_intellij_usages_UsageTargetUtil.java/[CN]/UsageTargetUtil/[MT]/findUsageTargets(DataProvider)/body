{
  Editor editor=PlatformDataKeys.EDITOR.getData(dataProvider);
  PsiFile file=LangDataKeys.PSI_FILE.getData(dataProvider);
  List<UsageTarget> result=new ArrayList<UsageTarget>();
  if (file != null && editor != null) {
    UsageTarget[] targets=findUsageTargets(editor,file);
    if (targets != null)     Collections.addAll(result,targets);
  }
  PsiElement psiElement=LangDataKeys.PSI_ELEMENT.getData(dataProvider);
  if (psiElement != null) {
    UsageTarget[] targets=findUsageTargets(psiElement);
    if (targets != null)     Collections.addAll(result,targets);
  }
  return result.isEmpty() ? null : result.toArray(new UsageTarget[result.size()]);
}
