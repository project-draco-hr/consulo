{
  super.visitIfStatement(statement);
  final PsiElement parent=statement.getParent();
  if (parent instanceof PsiIfStatement) {
    final PsiIfStatement parentStatement=(PsiIfStatement)parent;
    final PsiStatement elseBranch=parentStatement.getElseBranch();
    if (statement.equals(elseBranch)) {
      return;
    }
  }
  final int branches=calculateNumBranches(statement);
  if (branches <= getLimit()) {
    return;
  }
  registerStatementError(statement);
}
