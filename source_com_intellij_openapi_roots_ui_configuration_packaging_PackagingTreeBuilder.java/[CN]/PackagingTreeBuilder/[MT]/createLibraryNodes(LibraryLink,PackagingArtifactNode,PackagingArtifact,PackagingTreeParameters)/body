{
  PackagingTreeNode parent=getOrCreateParentNode(libraryLink,root,owner);
  if (parameters.isShowLibraryFiles()) {
    Library library=libraryLink.getLibrary();
    if (library != null) {
      VirtualFile[] files=library.getFiles(OrderRootType.CLASSES);
      List<PackagingTreeNode> nodes=new ArrayList<PackagingTreeNode>();
      for (      VirtualFile file : files) {
        nodes.add(PackagingTreeNodeFactory.createLibraryFileNode(file,library,libraryLink,parent,owner));
      }
      return nodes;
    }
  }
  return Collections.singletonList(PackagingTreeNodeFactory.createLibraryNode(libraryLink,parent,owner));
}
