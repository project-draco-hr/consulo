{
  if (project.isDefault()) {
    return project.getName();
  }
  String projectName=FileUtil.toSystemIndependentName(project.getLocation());
  if (projectName.endsWith("/")) {
    projectName=projectName.substring(0,projectName.length() - 1);
  }
  final int lastSlash=projectName.lastIndexOf('/');
  if (lastSlash >= 0 && (lastSlash + 1) < projectName.length()) {
    projectName=projectName.substring(lastSlash + 1);
  }
  if (StringUtil.endsWithIgnoreCase(projectName,PROJECT_FILE_EXTENSION)) {
    projectName=projectName.substring(0,projectName.length() - PROJECT_FILE_EXTENSION.length());
  }
  projectName=projectName.toLowerCase(Locale.US);
  return projectName;
}
