{
  new WriteCommandAction(myProject){
    protected void run(    Result result) throws Throwable {
      final TemplateLanguageFileViewProvider provider=getViewProvider();
      final Language newDataLanguage=provider == null ? null : provider.getTemplateDataLanguage();
      if (myBaseStructureViewDescriptor != null) {
        if (myTemplateDataLanguage == newDataLanguage)         return;
        Disposer.dispose(myBaseStructureViewDescriptor.structureView);
      }
      if (newDataLanguage != null) {
        myBaseStructureViewDescriptor=createBaseLanguageStructureView(myFileEditor,newDataLanguage);
        if (myStructureViewComposite != null) {
          myStructureViewComposite.setStructureView(myBaseLanguageViewDescriptorIndex,myBaseStructureViewDescriptor);
        }
      }
    }
  }
.execute();
}
