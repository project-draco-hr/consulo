{
  TextEditorState.CaretState caretState=new TextEditorState.CaretState();
  caretState.LINE=getLine(caretPosition);
  caretState.COLUMN=getColumn(caretPosition);
  caretState.LEAN_FORWARD=caretPosition != null && caretPosition.leansForward;
  caretState.SELECTION_START_LINE=getLine(selectionStartPosition);
  caretState.SELECTION_START_COLUMN=getColumn(selectionStartPosition);
  caretState.SELECTION_END_LINE=getLine(selectionEndPosition);
  caretState.SELECTION_END_COLUMN=getColumn(selectionEndPosition);
  return caretState;
}
