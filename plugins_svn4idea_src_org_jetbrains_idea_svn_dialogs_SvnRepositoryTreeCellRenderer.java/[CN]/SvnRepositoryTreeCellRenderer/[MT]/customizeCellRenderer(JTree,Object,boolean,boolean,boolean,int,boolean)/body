{
  if (value instanceof DefaultMutableTreeNode) {
    value=((DefaultMutableTreeNode)value).getUserObject();
  }
  if (value instanceof SVNRepository) {
    append("/",SimpleTextAttributes.REGULAR_ATTRIBUTES);
    setDirectoryIcon(expanded);
  }
 else   if (value instanceof SVNDirEntry) {
    append(((SVNDirEntry)value).getName(),SimpleTextAttributes.REGULAR_ATTRIBUTES);
    if (((SVNDirEntry)value).getKind() == SVNNodeKind.FILE) {
      setIcon(FileTypeManager.getInstance().getFileTypeByFileName(((SVNDirEntry)value).getName()).getIcon());
    }
 else {
      setDirectoryIcon(expanded);
    }
  }
 else   if (value == RepositoryTreeModel.LOADING_NODE) {
    setIcon(null);
    append(CommonBundle.getLoadingTreeNodeText(),SimpleTextAttributes.REGULAR_ATTRIBUTES);
  }
 else   if (value instanceof RepositoryTreeModel.ErrorNode) {
    setIcon(null);
    RepositoryTreeModel.ErrorNode node=(RepositoryTreeModel.ErrorNode)value;
    append(node.getMessage(),node.isError() ? SimpleTextAttributes.ERROR_ATTRIBUTES : SimpleTextAttributes.REGULAR_ATTRIBUTES);
  }
 else {
    setIcon(null);
    append(value.toString(),SimpleTextAttributes.REGULAR_ATTRIBUTES);
  }
}
