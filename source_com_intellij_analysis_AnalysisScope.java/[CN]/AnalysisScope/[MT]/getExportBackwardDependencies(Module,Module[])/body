{
  Set<Module> result=new HashSet<Module>();
  for (int i=0; i < allModules.length; i++) {
    Module module=allModules[i];
    final ModuleRootManager moduleRootManager=ModuleRootManager.getInstance(module);
    final OrderEntry[] orderEntries=moduleRootManager.getOrderEntries();
    for (int j=0; j < orderEntries.length; j++) {
      OrderEntry orderEntry=orderEntries[j];
      if (orderEntry instanceof ModuleOrderEntry && ((ModuleOrderEntry)orderEntry).isExported() && fromModule == ((ModuleOrderEntry)orderEntry).getModule()) {
        result.addAll(getDirectBackwardDependencies(module,allModules));
      }
    }
  }
  return result;
}
