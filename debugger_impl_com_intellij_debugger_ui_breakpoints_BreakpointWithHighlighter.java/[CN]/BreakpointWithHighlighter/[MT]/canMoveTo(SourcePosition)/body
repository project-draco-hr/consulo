{
  if (position == null || !position.getFile().isValid()) {
    return false;
  }
  final PsiFile psiFile=position.getFile();
  final Document document=PsiDocumentManager.getInstance(getProject()).getDocument(psiFile);
  if (document == null) {
    return false;
  }
  final int spOffset=position.getOffset();
  if (spOffset < 0) {
    return false;
  }
  final BreakpointManager breakpointManager=DebuggerManagerEx.getInstanceEx(getProject()).getBreakpointManager();
  return breakpointManager.findBreakpoint(document,spOffset,getCategory()) == null;
}
