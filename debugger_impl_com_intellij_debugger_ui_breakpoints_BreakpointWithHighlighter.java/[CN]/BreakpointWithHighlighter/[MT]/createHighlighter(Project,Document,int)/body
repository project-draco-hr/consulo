{
  if (lineIndex < 0 || lineIndex >= document.getLineCount()) {
    return null;
  }
  EditorColorsScheme scheme=EditorColorsManager.getInstance().getGlobalScheme();
  TextAttributes attributes=scheme.getAttributes(DebuggerColors.BREAKPOINT_ATTRIBUTES);
  RangeHighlighter highlighter=((MarkupModelEx)document.getMarkupModel(project)).addPersistentLineHighlighter(lineIndex,HighlighterLayer.CARET_ROW + 1,attributes);
  if (!highlighter.isValid()) {
    return null;
  }
  highlighter.setErrorStripeTooltip(DebuggerBundle.message("breakpoint.tooltip.text",lineIndex + 1));
  return highlighter;
}
