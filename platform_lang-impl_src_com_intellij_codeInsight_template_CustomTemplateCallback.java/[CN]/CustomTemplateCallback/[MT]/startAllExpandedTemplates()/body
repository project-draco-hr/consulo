{
  if (myBuilder.getText().length() == 0) {
    return;
  }
  gotoEndOffset();
  if (myOffset < myBuilder.getText().length()) {
    myBuilder.insertVariableSegment(myOffset,TemplateImpl.END);
  }
  TemplateImpl template=myBuilder.buildTemplate();
  myTemplateManager.startTemplate(myEditor,template,false,myBuilder.getPredefinedValues(),null);
  myBuilder=new LiveTemplateBuilder();
  myEndOffsetMarker=null;
  myCheckpoints.clear();
}
