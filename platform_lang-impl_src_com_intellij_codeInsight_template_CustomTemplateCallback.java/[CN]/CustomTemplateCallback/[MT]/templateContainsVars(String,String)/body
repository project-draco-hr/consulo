{
  List<TemplateImpl> templates=getMatchingTemplates(key);
  templates=filterApplicableCandidates(templates);
  if (templates.size() == 0) {
    return false;
  }
  TemplateImpl template=templates.get(0);
  Set<String> varSet=new HashSet<String>();
  for (int i=0; i < template.getVariableCount(); i++) {
    varSet.add(template.getVariableNameAt(i));
  }
  for (  String varName : varNames) {
    if (!varSet.contains(varName)) {
      return false;
    }
  }
  return true;
}
