{
  final List components=element.getChildren(COMPONENT);
  List<Element> toDelete=new ArrayList<Element>();
  for (  Object componentObj : components) {
    final Element componentElement=(Element)componentObj;
    final String nameAttr=componentElement.getAttributeValue(NAME);
    if (myRemoteVersionProvider.getVersion(nameAttr) <= myLocalVersionProvider.getVersion(nameAttr)) {
      toDelete.add(componentElement);
    }
 else {
      myLocalVersionProvider.changeVersion(nameAttr,myRemoteVersionProvider.getVersion(nameAttr));
    }
  }
  for (  Element toDeleteElement : toDelete) {
    element.removeContent(toDeleteElement);
  }
}
