{
  StorageData result=createStorageData();
  Document document=loadDocument();
  if (document != null) {
    loadState(result,document.getRootElement());
  }
  if (!myIsProjectSettings && useProvidersData) {
    for (    RoamingType roamingType : RoamingType.values()) {
      if (roamingType != RoamingType.DISABLED) {
        try {
          final Document sharedDocument=StorageUtil.loadDocument(myStreamProvider.loadContent(myFileSpec,roamingType));
          if (sharedDocument != null) {
            filterComponentsDisabledForRoaming(sharedDocument.getRootElement(),roamingType);
            loadState(result,sharedDocument.getRootElement());
          }
        }
 catch (        Exception e) {
          LOG.warn(e);
        }
      }
    }
  }
  return result;
}
