def _roots(patterns):
    r = []
    for (kind, name) in patterns:
        if (kind == 'glob'):
            root = []
            for p in name.split('/'):
                if (('[' in p) or ('{' in p) or ('*' in p) or ('?' in p)):
                    break
                root.append(p)
            r.append(('/'.join(root) or '.'))
        elif (kind in ('relpath', 'path')):
            r.append((name or '.'))
        elif (kind == 'relglob'):
            r.append('.')
    return r
