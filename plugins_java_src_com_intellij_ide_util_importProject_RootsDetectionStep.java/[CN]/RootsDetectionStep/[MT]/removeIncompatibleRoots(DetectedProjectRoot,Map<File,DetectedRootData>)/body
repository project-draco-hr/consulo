{
  DetectedRootData[] allRoots=rootData.values().toArray(new DetectedRootData[rootData.values().size()]);
  for (  DetectedRootData child : allRoots) {
    final File childDirectory=child.getDirectory();
    if (FileUtil.isAncestor(root.getDirectory(),childDirectory,true)) {
      for (      DetectedProjectRoot projectRoot : child.getAllRoots()) {
        if (!root.canContainRoot(projectRoot)) {
          child.removeRoot(projectRoot);
        }
      }
      if (child.getAllRoots().length == 0) {
        rootData.remove(childDirectory);
      }
    }
  }
}
