{
  if (type.equals(boolean.class) || type.equals(Boolean.class)) {
    return new BooleanControl(element,GET_VALUE_METHOD,SET_VALUE_METHOD);
  }
 else   if (type.equals(String.class)) {
    return new StringControl(element,GET_VALUE_METHOD,SET_VALUE_METHOD);
  }
 else   if (type.equals(PsiClass.class)) {
    return new PsiClassControl(element,GET_STRING_METHOD,SET_STRING_METHOD);
  }
 else   if (type instanceof Class && Enum.class.isAssignableFrom((Class)type)) {
    return new EnumControl(element,(Class)type,GET_STRING_METHOD,SET_STRING_METHOD);
  }
  throw new IllegalArgumentException("Not supported: " + type);
}
