{
  try {
    final Method getValueMethod=aClass.getMethod("getValue");
    final Method setValueMethod=aClass.getMethod("setValue",aClass);
    final Method getStringMethod=aClass.getMethod("getStringValue");
    final Method setStringMethod=aClass.getMethod("setStringValue",aClass);
    if (aClass.equals(boolean.class) || aClass.equals(Boolean.class)) {
      return new BooleanControl(element,getValueMethod,setValueMethod);
    }
 else     if (aClass.equals(String.class)) {
      return new StringControl(element,getValueMethod,setValueMethod);
    }
 else     if (aClass.equals(PsiClass.class)) {
      return new PsiClassControl(element,getStringMethod,setStringMethod);
    }
    throw new IllegalArgumentException("Not supported: " + aClass);
  }
 catch (  NoSuchMethodException e) {
    throw new RuntimeException(e);
  }
}
