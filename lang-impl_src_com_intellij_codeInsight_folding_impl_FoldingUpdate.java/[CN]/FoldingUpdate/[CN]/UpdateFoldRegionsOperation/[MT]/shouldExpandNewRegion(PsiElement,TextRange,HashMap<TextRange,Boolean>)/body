{
  boolean caretInside=FoldingUtil.caretInsideRange(myEditor,range);
  if (myApplyDefaultState) {
    return caretInside || !FoldingPolicy.isCollapseByDefault(element);
  }
  final Boolean oldStatus=rangeToExpandStatusMap.get(range);
  if (oldStatus != null) {
    return caretInside || oldStatus.booleanValue();
  }
  return true;
}
