{
  for (  final FoldRegion region : newRegions) {
    final Boolean expanded;
    final FoldingGroup group=region.getGroup();
    if (group != null) {
      expanded=groupExpand.get(group);
    }
 else {
      expanded=shouldExpand.get(region);
    }
    if (expanded != null) {
      region.setExpanded(expanded.booleanValue());
    }
  }
}
