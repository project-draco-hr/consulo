{
  myInjectedPsiInspectionResults=new SmartList<InjectedPsiInspectionUtil.InjectedPsiInspectionResult>();
  final Set<PsiFile> injected=new THashSet<PsiFile>();
  PsiLanguageInjectionHost.InjectedPsiVisitor injectedPsiVisitor=new PsiLanguageInjectionHost.InjectedPsiVisitor(){
    public void visit(    @NotNull PsiFile injectedPsi,    @NotNull List<PsiLanguageInjectionHost.Shred> places){
      injected.add(injectedPsi);
    }
  }
;
  for (  PsiElement element : elements) {
    InjectedLanguageUtil.enumerate(element,injectedPsiVisitor,false);
  }
  for (  PsiFile injectedPsi : injected) {
    InjectedPsiInspectionUtil.inspectInjectedPsi(injectedPsi,myInjectedPsiInspectionResults);
  }
}
