{
  final InspectionManagerEx iManager=(InspectionManagerEx)InspectionManager.getInstance(myProject);
  myDescriptors=new ArrayList<ProblemDescriptor>();
  myLevels=new ArrayList<HighlightInfoType>();
  myTools=new ArrayList<LocalInspectionTool>();
  final FileViewProvider fileViewProvider=myFile.getViewProvider();
  final Set<Language> relevantLanguages=fileViewProvider.getPrimaryLanguages();
  for (  Language language : relevantLanguages) {
    final PsiFile psiRoot=fileViewProvider.getPsi(language);
    if (HighlightUtil.shouldInspect(psiRoot)) {
      inspectRoot(psiRoot,iManager);
    }
  }
}
