{
  if (problemDescriptors == null)   return;
  InspectionProfile inspectionProfile=InspectionProjectProfileManager.getInstance(myProject).getInspectionProfile(myFile);
  final HighlightSeverity severity=inspectionProfile.getErrorLevel(HighlightDisplayKey.find(tool.getShortName())).getSeverity();
  for (  ProblemDescriptor problemDescriptor : problemDescriptors) {
    if (myProgressIndicator != null) {
      myProgressIndicator.checkCanceled();
    }
    if (!InspectionManagerEx.inspectionResultSuppressed(problemDescriptor.getPsiElement(),tool)) {
      myDescriptors.add(problemDescriptor);
      HighlightInfoType type=highlightTypeFromDescriptor(problemDescriptor,tool,severity);
      myLevels.add(type);
      myTools.add(tool);
    }
  }
}
