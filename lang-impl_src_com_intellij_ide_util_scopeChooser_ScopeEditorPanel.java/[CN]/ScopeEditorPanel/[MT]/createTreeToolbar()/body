{
  final DefaultActionGroup group=new DefaultActionGroup();
  final Runnable update=new Runnable(){
    public void run(){
      rebuild(true);
    }
  }
;
  group.add(new FlattenPackagesAction(update));
  for (  PatternDialectProvider provider : Extensions.getExtensions(PatternDialectProvider.EP_NAME)) {
    for (    AnAction action : provider.createActions(update)) {
      group.add(action);
    }
  }
  group.add(new ShowFilesAction(update));
  group.add(new ShowModulesAction(update));
  group.add(new ShowModuleGroupsAction(update));
  group.add(new FilterLegalsAction(update));
  group.add(new ChooseScopeTypeAction(update));
  ActionToolbar toolbar=ActionManager.getInstance().createActionToolbar(ActionPlaces.UNKNOWN,group,true);
  return toolbar.getComponent();
}
