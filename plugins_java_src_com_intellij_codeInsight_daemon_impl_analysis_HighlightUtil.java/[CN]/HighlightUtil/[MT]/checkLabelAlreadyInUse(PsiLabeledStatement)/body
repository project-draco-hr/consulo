{
  PsiIdentifier identifier=statement.getLabelIdentifier();
  String text=identifier.getText();
  PsiElement element=statement;
  while (element != null) {
    if (element instanceof PsiMethod || element instanceof PsiClass)     break;
    if (element instanceof PsiLabeledStatement && element != statement && Comparing.equal(((PsiLabeledStatement)element).getLabelIdentifier().getText(),text)) {
      String description=JavaErrorMessages.message("duplicate.label",text);
      return HighlightInfo.newHighlightInfo(HighlightInfoType.ERROR).range(identifier).descriptionAndTooltip(description).create();
    }
    element=element.getParent();
  }
  return null;
}
