{
  int cachedLength=myCachedLength;
  if (cachedLength >= 0)   return cachedLength;
synchronized (START_OFFSET_LOCK) {
    cachedLength=myCachedLength;
    if (cachedLength >= 0)     return cachedLength;
    ApplicationManager.getApplication().assertReadAccessAllowed();
    try {
      walkCachingLength();
    }
 catch (    AssertionError e) {
      myCachedLength=NOT_CACHED;
      LOG.error("===\n" + PerformanceWatcher.dumpThreadsToString() + "\n===\n",e);
    }
    return myCachedLength;
  }
}
