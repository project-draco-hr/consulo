{
  EditorSettings settings=myEditor.getSettings();
  if (!settings.isIndentGuidesShown())   return null;
  final int indentSize=getIndentSize();
  if (indentSize == 0)   return null;
  final LogicalPosition caretPosition=myEditor.getCaretModel().getLogicalPosition();
  int startLine=caretPosition.line;
  int endLine=startLine;
  final int caretIndent=caretPosition.column / indentSize;
  final int indents=getIndentLevel(startLine);
  if (caretIndent * indentSize != caretPosition.column)   return null;
  if (caretIndent > indents || indents == 0)   return null;
  if (caretIndent > 0 && caretPosition.column % indentSize == 0) {
    while (startLine > 0) {
      if (getIndentLevel(startLine - 1) <= caretIndent)       break;
      startLine--;
    }
    while (endLine < myEditor.getDocument().getLineCount() - 1) {
      if (getIndentLevel(endLine + 1) <= caretIndent)       break;
      endLine++;
    }
    if (startLine < endLine) {
      return new IndentGuideDescriptor(caretIndent,startLine,endLine,indentSize);
    }
  }
  return null;
}
