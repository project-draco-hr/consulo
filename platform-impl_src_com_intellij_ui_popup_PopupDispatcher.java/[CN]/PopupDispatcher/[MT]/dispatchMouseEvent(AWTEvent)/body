{
  if (event.getID() != MouseEvent.MOUSE_PRESSED) {
    return false;
  }
  if (ourShowingStep == null) {
    return false;
  }
  BasePopup eachParent=ourShowingStep;
  final MouseEvent mouseEvent=((MouseEvent)event);
  Point point=(Point)mouseEvent.getPoint().clone();
  SwingUtilities.convertPointToScreen(point,mouseEvent.getComponent());
  while (true) {
    if (!eachParent.getContainer().isShowing()) {
      getActiveRoot().cancel();
      return false;
    }
    if (eachParent.getBounds().contains(point) || !eachParent.canClose()) {
      return false;
    }
    eachParent=eachParent.getParent();
    if (eachParent == null) {
      getActiveRoot().cancel();
      return false;
    }
  }
}
