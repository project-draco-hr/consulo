{
  if (typeInfos.isEmpty())   return ExpectedTypeInfo.EMPTY;
  ExpectedTypeInfos result=new ExpectedTypeInfos(typeInfos.get(0));
  ExpectedTypeInfos acc=new ExpectedTypeInfos();
  for (int i=1; i < typeInfos.size(); i++) {
    ExpectedTypeInfo[] next=typeInfos.get(i);
    acc.clear();
    for (int j=0; j < next.length; j++) {
      ExpectedTypeInfo info=next[j];
      for (Iterator<ExpectedTypeInfo> iterator=result.iterator(); iterator.hasNext(); ) {
        ExpectedTypeInfo[] intersection=iterator.next().intersect(info);
        for (int k=0; k < intersection.length; k++) {
          acc.addInfo(intersection[k]);
        }
      }
    }
    if (acc.isEmpty()) {
      return ExpectedTypeInfo.EMPTY;
    }
    result=acc;
  }
  return result.toArray();
}
