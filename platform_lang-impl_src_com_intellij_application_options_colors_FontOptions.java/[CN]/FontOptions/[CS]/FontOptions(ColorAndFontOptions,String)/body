{
  super(new GridBagLayout());
  myOptions=options;
  myTitle=title;
  add(createEditorFontPanel(),new GridBag().weightx(1).weighty(1).fillCell().coverLine());
  add(new JLabel(ApplicationBundle.message("label.fallback.fonts.list.description"),MessageType.INFO.getDefaultIcon(),SwingConstants.LEFT),new GridBag().anchor(GridBagConstraints.WEST));
  myFontsControl.setShowButtons(JBMovePanel.ButtonType.LEFT,JBMovePanel.ButtonType.RIGHT);
  myFontsControl.setListLabels(ApplicationBundle.message("title.font.available"),ApplicationBundle.message("title.font.selected"));
  myFontsControl.setEnabled(false);
  myFontsControl.setLeftInsertionStrategy(JBMovePanel.NATURAL_ORDER);
  myOnlyMonospacedCheckBox.setSelected(EditorColorsManager.getInstance().isUseOnlyMonospacedFonts());
  new ListSpeedSearch(myAllFontsList);
  new ListSpeedSearch(mySelectedFontsList);
  myPreferredSize=new ColorAndFontDescriptionPanel().getPreferredSize();
  if (myFontNames != null) {
    onFontsInit();
  }
  initListeners();
}
