{
  genPageHeader(buf,refEntity);
  if (refEntity instanceof RefElement) {
    RefElementImpl refElement=(RefElementImpl)refEntity;
    if (refElement.isSuspicious() && !refElement.isEntry()) {
      appendHeading(buf,InspectionsBundle.message("inspection.problem.synopsis"));
      buf.append("<br>");
      appendAfterHeaderIndention(buf);
      appendProblemSynopsis(refElement,buf);
      buf.append("<br><br>");
      appendResolution(buf,myTool,refElement);
      refElement.accept(new RefJavaVisitor(){
        @Override public void visitClass(        @NotNull RefClass aClass){
          appendClassInstantiations(buf,aClass);
          myComposer.appendDerivedClasses(buf,aClass);
          myComposer.appendClassExtendsImplements(buf,aClass);
          myComposer.appendLibraryMethods(buf,aClass);
          myComposer.appendTypeReferences(buf,aClass);
        }
        @Override public void visitMethod(        @NotNull RefMethod method){
          appendElementInReferences(buf,method);
          appendElementOutReferences(buf,method);
          myComposer.appendDerivedMethods(buf,method);
          myComposer.appendSuperMethods(buf,method);
        }
        @Override public void visitField(        @NotNull RefField field){
          appendElementInReferences(buf,field);
          appendElementOutReferences(buf,field);
        }
      }
);
    }
 else {
      appendNoProblems(buf);
    }
    appendCallesList(refElement,buf,new HashSet<RefElement>(),true);
  }
}
