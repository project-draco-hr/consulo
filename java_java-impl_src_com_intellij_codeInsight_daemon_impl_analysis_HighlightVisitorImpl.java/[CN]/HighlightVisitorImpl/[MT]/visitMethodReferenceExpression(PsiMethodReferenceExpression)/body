{
  myHolder.add(HighlightUtil.checkMethodReferencesFeature(expression));
  JavaResolveResult result;
  try {
    result=expression.advancedResolve(true);
  }
 catch (  IndexNotReadyException e) {
    return;
  }
  if (myRefCountHolder != null) {
    myRefCountHolder.registerReference(expression,result);
  }
  if (result.getElement() != null && !result.isAccessible()) {
    final String accessProblem=HighlightUtil.buildProblemWithAccessDescription(expression,result);
    myHolder.add(HighlightInfo.createHighlightInfo(HighlightInfoType.ERROR,expression,accessProblem));
  }
  if (!myHolder.hasErrorResults()) {
    final PsiType functionalInterfaceType=expression.getFunctionalInterfaceType();
    if (functionalInterfaceType != null && LambdaUtil.dependsOnTypeParams(functionalInterfaceType,functionalInterfaceType,expression)) {
      myHolder.add(HighlightInfo.createHighlightInfo(HighlightInfoType.ERROR,expression,"Cyclic inference"));
    }
 else {
      final PsiElement referenceNameElement=expression.getReferenceNameElement();
      if (referenceNameElement instanceof PsiKeyword) {
        if (!PsiMethodReferenceUtil.isValidQualifier(expression)) {
          final PsiElement qualifier=expression.getQualifier();
          myHolder.add(HighlightInfo.createHighlightInfo(HighlightInfoType.ERROR,qualifier,"Cannot find class " + qualifier.getText()));
        }
      }
    }
  }
  if (!myHolder.hasErrorResults()) {
    myHolder.add(HighlightUtil.checkUnhandledExceptions(expression,expression.getTextRange()));
  }
}
