{
  final GrParameter[] parameters=new GrParameter[originalParams.length + 1];
  final PsiClassType enclosingClassType=JavaPsiFacade.getElementFactory(method.getProject()).createType(enclosingClass,PsiSubstitutor.EMPTY);
  final GrLightParameter enclosing=new GrLightParameter("enclosing",enclosingClassType,method);
  if (isOptional) {
    enclosing.setOptional(true);
    enclosing.setInitializerGroovy(GroovyPsiElementFactory.getInstance(method.getProject()).createExpressionFromText("null"));
  }
  parameters[0]=enclosing;
  System.arraycopy(originalParams,0,parameters,1,originalParams.length);
  return parameters;
}
