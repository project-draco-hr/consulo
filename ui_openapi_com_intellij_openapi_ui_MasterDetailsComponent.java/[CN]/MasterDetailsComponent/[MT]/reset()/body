{
  myHasDeletedItems=false;
  ((DefaultTreeModel)myTree.getModel()).reload();
  myTree.requestFocus();
  myState.proportions.restoreSplitterProportions(myWholePanel);
  final Enumeration enumeration=myRoot.breadthFirstEnumeration();
  boolean selected=false;
  while (enumeration.hasMoreElements()) {
    final MyNode node=(MyNode)enumeration.nextElement();
    if (node instanceof MyRootNode)     continue;
    final Object userObject=node.getUserObject();
    if (userObject instanceof Configurable) {
      final Configurable configurable=(Configurable)userObject;
      final String displayName=configurable.getDisplayName();
      if (!selected && Comparing.strEqual(displayName,myState.lastEditedConfigurable)) {
        TreeUtil.selectInTree(node,true,myTree);
        selected=true;
      }
    }
  }
  if (!selected) {
    TreeUtil.selectFirstNode(myTree);
  }
}
