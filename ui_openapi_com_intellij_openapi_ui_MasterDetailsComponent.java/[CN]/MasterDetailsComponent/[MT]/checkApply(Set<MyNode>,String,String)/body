{
  for (  MyNode rootNode : rootNodes) {
    final Set<String> names=new HashSet<String>();
    for (int i=0; i < rootNode.getChildCount(); i++) {
      final MyNode node=(MyNode)rootNode.getChildAt(i);
      final NamedConfigurable scopeConfigurable=node.getConfigurable();
      final String name=scopeConfigurable.getDisplayName();
      if (name.trim().length() == 0) {
        selectNodeInTree(node);
        throw new ConfigurationException("Name should contain non-space characters");
      }
      if (names.contains(name)) {
        final NamedConfigurable selectedConfugurable=getSelectedConfugurable();
        if (selectedConfugurable == null || !Comparing.strEqual(selectedConfugurable.getDisplayName(),name)) {
          selectNodeInTree(node);
        }
        throw new ConfigurationException(CommonBundle.message("smth.already.exist.error.message",prefix,name),title);
      }
      names.add(name);
    }
  }
}
