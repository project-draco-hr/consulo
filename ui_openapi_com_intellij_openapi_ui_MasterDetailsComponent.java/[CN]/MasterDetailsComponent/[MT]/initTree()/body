{
  ((DefaultTreeModel)myTree.getModel()).setRoot(myRoot);
  myTree.setRootVisible(false);
  myTree.setShowsRootHandles(true);
  UIUtil.setLineStyleAngled(myTree);
  TreeUtil.installActions(myTree);
  final DefaultTreeCellRenderer defaultTreeCellRenderer=new DefaultTreeCellRenderer(){
    public Component getTreeCellRendererComponent(    JTree tree,    Object value,    boolean sel,    boolean expanded,    boolean leaf,    int row,    boolean hasFocus){
      final Component rendererComponent=super.getTreeCellRendererComponent(tree,value,sel,expanded,leaf,row,hasFocus);
      if (value instanceof MyNode) {
        final MyNode node=((MyNode)value);
        setText(node.getDisplayName());
        final Icon icon=node.getConfigurable().getIcon();
        setIcon(icon);
        if (leaf) {
          setLeafIcon(icon);
        }
 else         if (expanded) {
          setOpenIcon(icon);
        }
 else {
          setClosedIcon(icon);
        }
        final Font font=getFont();
        if (node.isDisplayInBold()) {
          setFont(font.deriveFont(Font.BOLD));
        }
 else {
          setFont(font.deriveFont(Font.PLAIN));
        }
      }
      return rendererComponent;
    }
  }
;
  myTree.setCellRenderer(defaultTreeCellRenderer);
  ArrayList<AnAction> actions=createActions(true);
  if (actions != null) {
    final DefaultActionGroup group=new DefaultActionGroup();
    for (    AnAction action : actions) {
      group.add(action);
    }
    actions=getAdditionalActions();
    if (actions != null) {
      group.addSeparator();
      for (      AnAction action : actions) {
        group.add(action);
      }
    }
    PopupHandler.installPopupHandler(myTree,group,ActionPlaces.UNKNOWN,ActionManager.getInstance());
  }
}
