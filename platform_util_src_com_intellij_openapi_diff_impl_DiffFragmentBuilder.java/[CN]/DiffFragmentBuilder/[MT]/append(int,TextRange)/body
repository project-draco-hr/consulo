{
  LOG.debug("DiffFragmentBuilder.append(" + line + ","+ range+ "), modified:");
  DiffString text1=null;
  DiffString text2=null;
  int start=range.getStartOffset();
  int end=range.getEndOffset();
  if (myLastLine1 <= line) {
    text1=concatenate(mySource1,myLastLine1,line);
  }
  if (myLastLine2 < start) {
    text2=concatenate(mySource2,myLastLine2,start - 1);
  }
  if (text1 != null || text2 != null) {
    myData.add(DiffFragment.unchanged(text1,text2));
  }
  myData.add(new DiffFragment(null,concatenate(mySource2,start,end)));
  myLastLine1=line + 1;
  myLastLine2=end + 1;
}
