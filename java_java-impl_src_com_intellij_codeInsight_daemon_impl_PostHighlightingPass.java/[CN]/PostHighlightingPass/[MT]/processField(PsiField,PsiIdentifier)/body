{
  if (isImplicitUsage(field))   return null;
  if (field.hasModifierProperty(PsiModifier.PRIVATE)) {
    if (!myRefCountHolder.isReferenced(field)) {
      if (HighlightUtil.isSerializationImplicitlyUsedField(field)) {
        return null;
      }
      String message=JavaErrorMessages.message("private.field.is.not.used",identifier.getText());
      HighlightInfo highlightInfo=suggestionsToMakeFieldUsed(field,identifier,message);
      QuickFixAction.registerQuickFixAction(highlightInfo,HighlightMethodUtil.getFixRange(field),new CreateConstructorParameterFromFieldFix(field),null);
      return highlightInfo;
    }
    final boolean readReferenced=myRefCountHolder.isReferencedForRead(field);
    if (!readReferenced && !isImplicitRead(field)) {
      String message=JavaErrorMessages.message("private.field.is.not.used.for.reading",identifier.getText());
      return suggestionsToMakeFieldUsed(field,identifier,message);
    }
    if (field.hasInitializer()) {
      return null;
    }
    final boolean writeReferenced=myRefCountHolder.isReferencedForWrite(field);
    if (!writeReferenced && !isImplicitWrite(field)) {
      String message=JavaErrorMessages.message("private.field.is.not.assigned",identifier.getText());
      final HighlightInfo info=createUnusedSymbolInfo(identifier,message,HighlightInfoType.UNUSED_SYMBOL);
      QuickFixAction.registerQuickFixAction(info,new CreateGetterOrSetterFix(false,true,field),myUnusedSymbolKey);
      QuickFixAction.registerQuickFixAction(info,HighlightMethodUtil.getFixRange(field),new CreateConstructorParameterFromFieldFix(field),null);
      SpecialAnnotationsUtil.createAddToSpecialAnnotationFixes(field,new Processor<String>(){
        public boolean process(        final String annoName){
          QuickFixAction.registerQuickFixAction(info,myUnusedSymbolInspection.createQuickFix(annoName,"fields"));
          return true;
        }
      }
);
      return info;
    }
  }
 else   if (!myRefCountHolder.isReferenced(field) && weAreSureThereAreNoUsages(field)) {
    return formatUnusedSymbolHighlightInfo("field.is.not.used",field,"fields",myDeadCodeKey,myDeadCodeInfoType);
  }
  return null;
}
