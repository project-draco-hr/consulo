{
  if (myInLibrary)   return false;
  if (!myDeadCodeEnabled)   return false;
  if (myDeadCodeInspection.isEntryPoint(member))   return false;
  String name=member.getName();
  if (name == null)   return false;
  SearchScope useScope=member.getUseScope();
  if (!(useScope instanceof GlobalSearchScope))   return false;
  GlobalSearchScope scope=(GlobalSearchScope)useScope;
  if (member instanceof PsiClass)   scope=GlobalSearchScope.projectScope(myProject).uniteWith(scope);
  PsiSearchHelper.SearchCostResult cheapEnough=PsiSearchHelper.SERVICE.getInstance(myFile.getProject()).isCheapEnoughToSearch(name,scope,myFile,progress);
  if (cheapEnough == PsiSearchHelper.SearchCostResult.TOO_MANY_OCCURRENCES)   return false;
  if (cheapEnough == PsiSearchHelper.SearchCostResult.ZERO_OCCURRENCES) {
    if (member instanceof PsiEnumConstant) {
      return !isEnumValuesMethodUsed(member,progress);
    }
    if (!canBeReferencedViaWeirdNames(member))     return true;
  }
  FindUsagesManager findUsagesManager=((FindManagerImpl)FindManager.getInstance(myProject)).getFindUsagesManager();
  FindUsagesOptions findUsagesOptions;
  if (member instanceof PsiClass) {
    findUsagesOptions=new JavaClassFindUsagesOptions(myProject);
  }
 else   if (member instanceof PsiMethod) {
    findUsagesOptions=new JavaMethodFindUsagesOptions(myProject);
  }
 else   if (member instanceof PsiField) {
    findUsagesOptions=new JavaVariableFindUsagesOptions(myProject);
  }
 else {
    LOG.error("unknown member: " + member);
    return false;
  }
  findUsagesOptions.searchScope=scope;
  boolean used=findUsagesManager.isUsed(member,findUsagesOptions);
  if (!used && member instanceof PsiEnumConstant) {
    return !isEnumValuesMethodUsed(member,progress);
  }
  return !used;
}
