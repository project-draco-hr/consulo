{
  PsiIdentifier identifier=variable.getNameIdentifier();
  if (identifier == null)   return null;
  if (isImplicitUsage(variable))   return null;
  if (!myRefCountHolder.isReferenced(variable)) {
    String message=JavaErrorMessages.message("local.variable.is.never.used",identifier.getText());
    HighlightInfo highlightInfo=createUnusedSymbolInfo(identifier,message,HighlightInfoType.UNUSED_SYMBOL);
    QuickFixAction.registerQuickFixAction(highlightInfo,new RemoveUnusedVariableFix(variable),myUnusedSymbolKey);
    return highlightInfo;
  }
  boolean referenced=myRefCountHolder.isReferencedForRead(variable);
  if (!referenced && !isImplicitRead(variable)) {
    String message=JavaErrorMessages.message("local.variable.is.not.used.for.reading",identifier.getText());
    HighlightInfo highlightInfo=createUnusedSymbolInfo(identifier,message,HighlightInfoType.UNUSED_SYMBOL);
    QuickFixAction.registerQuickFixAction(highlightInfo,new RemoveUnusedVariableFix(variable),myUnusedSymbolKey);
    return highlightInfo;
  }
  if (!variable.hasInitializer()) {
    referenced=myRefCountHolder.isReferencedForWrite(variable);
    if (!referenced && !isImplicitWrite(variable)) {
      String message=JavaErrorMessages.message("local.variable.is.not.assigned",identifier.getText());
      final HighlightInfo unusedSymbolInfo=createUnusedSymbolInfo(identifier,message,HighlightInfoType.UNUSED_SYMBOL);
      QuickFixAction.registerQuickFixAction(unusedSymbolInfo,new EmptyIntentionAction(UnusedSymbolLocalInspection.DISPLAY_NAME),myUnusedSymbolKey);
      return unusedSymbolInfo;
    }
  }
  return null;
}
