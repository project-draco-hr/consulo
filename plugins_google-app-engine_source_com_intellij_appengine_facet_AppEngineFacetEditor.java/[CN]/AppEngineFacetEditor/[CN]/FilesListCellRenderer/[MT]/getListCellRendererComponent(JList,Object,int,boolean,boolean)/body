{
  final Component rendererComponent=super.getListCellRendererComponent(list,value,index,isSelected,cellHasFocus);
  if (value instanceof String) {
    final String path=(String)value;
    final VirtualFile file=LocalFileSystem.getInstance().findFileByPath(path);
    if (file == null) {
      setForeground(JBColor.RED);
      setIcon(null);
    }
 else {
      setForeground(myFilesList.getForeground());
      setIcon(file.isDirectory() ? PlatformIcons.FOLDER_ICON : VirtualFilePresentation.getIcon(file));
    }
    setText(path);
  }
  return rendererComponent;
}
