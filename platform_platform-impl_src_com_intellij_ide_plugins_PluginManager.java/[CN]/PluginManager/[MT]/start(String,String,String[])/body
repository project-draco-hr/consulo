{
  startupStart=System.nanoTime();
  try {
    ThreadGroup threadGroup=new ThreadGroup("Idea Thread Group"){
      @Override public void uncaughtException(      Thread t,      Throwable e){
        if (!(e instanceof ProcessCanceledException)) {
          getLogger().error(e);
        }
      }
    }
;
    Runnable runnable=new Runnable(){
      @Override public void run(){
        try {
          ClassloaderUtil.clearJarURLCache();
          Class aClass=Class.forName(mainClass);
          final Method method=aClass.getDeclaredMethod(methodName,ArrayUtil.EMPTY_STRING_ARRAY.getClass());
          method.setAccessible(true);
          method.invoke(null,new Object[]{args});
        }
 catch (        Exception e) {
          e.printStackTrace(System.err);
          String message="Error while accessing " + mainClass + "."+ methodName+ " with arguments: "+ Arrays.asList(args);
          if ("true".equals(System.getProperty("java.awt.headless"))) {
            System.err.println(message);
          }
 else {
            JOptionPane.showMessageDialog(null,message + ": " + e.getClass().getName()+ ": "+ e.getMessage(),"Error starting IntelliJ Platform",JOptionPane.ERROR_MESSAGE);
          }
        }
      }
    }
;
    new Thread(threadGroup,runnable,"Idea Main Thread").start();
  }
 catch (  Exception e) {
    getLogger().error(e);
  }
}
