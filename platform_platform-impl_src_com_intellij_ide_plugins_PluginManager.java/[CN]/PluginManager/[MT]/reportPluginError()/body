{
  if (myPluginError != null) {
    Notifications.Bus.notify(new Notification(IdeBundle.message("title.plugin.error"),IdeBundle.message("title.plugin.error"),myPluginError,NotificationType.ERROR,new NotificationListener(){
      @Override public void hyperlinkUpdate(      @NotNull Notification notification,      @NotNull HyperlinkEvent event){
        notification.expire();
        final String description=event.getDescription();
        if (EDIT.equals(description)) {
          final PluginManagerConfigurable configurable=new PluginManagerConfigurable(PluginManagerUISettings.getInstance());
          final Component focusOwner=IdeFocusManager.findInstance().getFocusOwner();
          ShowSettingsUtil.getInstance().editConfigurable(focusOwner,configurable);
          return;
        }
        final List<String> disabledPlugins=getDisabledPlugins();
        if (myPlugins2Disable != null && DISABLE.equals(description)) {
          for (          String pluginId : myPlugins2Disable) {
            if (!disabledPlugins.contains(pluginId)) {
              disabledPlugins.add(pluginId);
            }
          }
        }
 else         if (myPlugins2Enable != null && ENABLE.equals(description)) {
          disabledPlugins.removeAll(myPlugins2Enable);
        }
        try {
          saveDisabledPlugins(disabledPlugins,false);
        }
 catch (        IOException ignore) {
        }
        myPlugins2Enable=null;
        myPlugins2Disable=null;
      }
    }
));
    myPluginError=null;
  }
}
