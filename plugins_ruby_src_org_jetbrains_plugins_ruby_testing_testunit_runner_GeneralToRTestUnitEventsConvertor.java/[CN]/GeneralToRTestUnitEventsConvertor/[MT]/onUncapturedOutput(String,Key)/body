{
  UIUtil.addToInvokeLater(new Runnable(){
    public void run(){
      final RTestUnitTestProxy currentProxy;
      if (myRunningTestsFullNameToProxy.size() == 1) {
        currentProxy=myRunningTestsFullNameToProxy.values().iterator().next();
      }
 else {
        currentProxy=mySuitesStack.isEmpty() ? myTestsRootNode : getCurrentSuite();
      }
      if (ProcessOutputTypes.STDOUT.equals(outputType)) {
        currentProxy.addStdOutput(text);
      }
 else       if (ProcessOutputTypes.STDERR.equals(outputType)) {
        currentProxy.addStdErr(text);
      }
 else       if (ProcessOutputTypes.SYSTEM.equals(outputType)) {
        currentProxy.addSystemOutput(text);
      }
    }
  }
);
}
