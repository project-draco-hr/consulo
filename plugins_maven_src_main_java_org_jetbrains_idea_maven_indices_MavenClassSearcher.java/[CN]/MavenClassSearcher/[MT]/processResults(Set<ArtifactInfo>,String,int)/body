{
  pattern="^(.*?/" + pattern.replace(".","/").replaceAll("\\*","[^/]*?") + ")$";
  Pattern p=Pattern.compile(pattern,Pattern.CASE_INSENSITIVE | Pattern.MULTILINE);
  Map<String,MavenClassSearchResult> result=new HashMap<String,MavenClassSearchResult>();
  for (  ArtifactInfo each : infos) {
    Matcher matcher=p.matcher(each.classNames);
    while (matcher.find()) {
      String classFQName=matcher.group();
      classFQName=classFQName.replace("/",".");
      String key=makeKey(classFQName,each);
      MavenClassSearchResult classResult=result.get(key);
      if (classResult == null) {
        classResult=new MavenClassSearchResult();
        int pos=classFQName.lastIndexOf(".");
        if (pos == -1) {
          classResult.packageName="default package";
          classResult.className=classFQName;
        }
 else {
          classResult.packageName=classFQName.substring(0,pos);
          classResult.className=classFQName.substring(pos + 1);
        }
        result.put(key,classResult);
      }
      classResult.versions.add(each);
      if (result.size() > maxResult)       break;
    }
  }
  return result.values();
}
