{
  int count=myManager.getCacheManager().getTodoCount(file.getVirtualFile(),pattern);
  if (count != -1)   return count;
  TodoItem[] items=findTodoItems(file);
  count=0;
  for (int i=0; i < items.length; i++) {
    TodoItem item=items[i];
    if (item.getPattern().equals(pattern))     count++;
  }
  return count;
}
