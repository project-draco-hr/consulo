{
  SearchDescriptor descriptor=new SearchDescriptor();
  for (int i=0; i < refElements.length; i++) {
    PsiElement refElement=refElements[i];
    if (refElement instanceof PsiNamedElement) {
      String name=((PsiNamedElement)refElement).getName();
      if (name != null) {
        PsiFile[] files=myManager.getCacheManager().getFilesWithWord(name,WordInfo.IN_CODE,GlobalSearchScope.allScope(myManager.getProject()));
        descriptor.myNames.add(name);
        descriptor.myFiles.addAll(Arrays.asList(files));
        descriptor.myElements.add(refElement);
      }
    }
  }
  return descriptor;
}
