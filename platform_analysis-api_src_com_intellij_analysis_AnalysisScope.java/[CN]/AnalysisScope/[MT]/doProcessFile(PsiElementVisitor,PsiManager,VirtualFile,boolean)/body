{
  if (!vFile.isValid())   return;
  PsiFile psiFile=psiManager.findFile(vFile);
  if (psiFile == null || !shouldHighlightFile(psiFile))   return;
  psiFile.accept(visitor);
  if (clearResolveCache) {
    psiManager.dropResolveCaches();
    InjectedLanguageManager.getInstance(psiManager.getProject()).dropFileCaches(psiFile);
  }
}
