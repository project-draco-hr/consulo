{
  List<PackagingMethod> methods=null;
  for (  ContainerElement element : elements) {
    List<PackagingMethod> otherMethods=Arrays.asList(policy.getAllowedPackagingMethods(element));
    if (methods == null) {
      methods=new ArrayList<PackagingMethod>(otherMethods);
    }
 else {
      methods.retainAll(otherMethods);
    }
  }
  return methods != null ? methods.toArray(new PackagingMethod[methods.size()]) : PackagingMethod.EMPTY_ARRAY;
}
