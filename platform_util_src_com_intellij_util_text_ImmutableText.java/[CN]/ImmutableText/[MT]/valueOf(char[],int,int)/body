{
  if ((offset < 0) || (length < 0) || ((offset + length) > chars.length))   throw new IndexOutOfBoundsException();
  if (length <= BLOCK_SIZE) {
    if (offset == 0 && length == chars.length) {
      return new ImmutableText(chars);
    }
    char[] subArray=new char[length];
    System.arraycopy(chars,offset,subArray,0,length);
    return new ImmutableText(subArray);
  }
 else {
    int half=((length + BLOCK_SIZE) >> 1) & BLOCK_MASK;
    return new ImmutableText(valueOf(chars,offset,half),valueOf(chars,offset + half,length - half));
  }
}
