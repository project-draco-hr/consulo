{
  if (_data != null) {
    if ((start < 0) || (start > end) || (end > _count))     throw new IndexOutOfBoundsException();
    if ((start == 0) && (end == _count))     return this;
    if (start == end)     return EMPTY;
    int length=end - start;
    char[] chars=new char[length];
    System.arraycopy(_data,start,chars,0,length);
    return new ImmutableText(chars);
  }
 else {
    final int cesure=_head._count;
    if (end <= cesure)     return _head.subtext(start,end);
    if (start >= cesure)     return _tail.subtext(start - cesure,end - cesure);
    if ((start == 0) && (end == _count))     return this;
    return _head.subtext(start,cesure).concat(_tail.subtext(0,end - cesure));
  }
}
