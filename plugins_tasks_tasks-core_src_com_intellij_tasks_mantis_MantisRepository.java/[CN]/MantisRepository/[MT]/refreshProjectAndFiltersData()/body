{
  final MantisConnectPortType soap=createSoap();
  myProjects=new ArrayList<MantisProject>();
  ProjectData[] projectDatas=soap.mc_projects_get_user_accessible(getUsername(),getPassword());
  List<MantisProject> projects=ContainerUtil.map(projectDatas,new Function<ProjectData,MantisProject>(){
    @Override public MantisProject fun(    final ProjectData data){
      return new MantisProject(data.getId().intValue(),data.getName());
    }
  }
);
  if (allProjectsAvailable(soap)) {
    projects.add(0,MantisProject.ALL_PROJECTS);
  }
  for (  MantisProject project : projects) {
    FilterData[] filterDatas=soap.mc_filter_get(getUsername(),getPassword(),BigInteger.valueOf(project.getId()));
    List<MantisFilter> filters=new ArrayList<MantisFilter>();
    filters.add(MantisFilter.LAST_TASKS);
    filters.addAll(ContainerUtil.map(filterDatas,new Function<FilterData,MantisFilter>(){
      @Override public MantisFilter fun(      final FilterData data){
        return new MantisFilter(data.getId().intValue(),data.getName());
      }
    }
));
    project.setFilters(filters);
    myProjects.add(project);
  }
}
