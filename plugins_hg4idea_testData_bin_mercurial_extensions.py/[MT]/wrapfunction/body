def wrapfunction(container, funcname, wrapper):

    def wrap(*args, **kwargs):
        return wrapper(origfn, *args, **kwargs)
    origfn = getattr(container, funcname)
    setattr(container, funcname, wrap)
    return origfn
