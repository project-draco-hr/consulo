{
  final FilesDelta delta=getDelta(rd.module);
  final Set<File> files=delta.clearRecompile(rd.root,rd.isTestRoot);
  if (files != null) {
    for (    File file : files) {
      final long stamp=file.lastModified();
      if (stamp > compilationStartStamp) {
        delta.markRecompile(rd.root,rd.isTestRoot,file);
      }
 else {
        tsStorage.saveStamp(file,stamp);
      }
    }
  }
}
