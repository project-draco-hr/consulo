{
  final FilesDelta roundDelta=myCurrentRoundDelta;
  if (roundDelta != null) {
    if (myContextModules.contains(rd.module)) {
      roundDelta.markRecompile(rd.root,rd.isTestRoot,file);
    }
  }
  final FilesDelta mainDelta=getDelta(rd.module);
  final boolean marked=mainDelta.markRecompile(rd.root,rd.isTestRoot,file);
  if (marked && tsStorage != null) {
    tsStorage.markDirty(file);
  }
}
