{
  final Location location=event.location();
  String sourceName="Unknown Source";
  try {
    sourceName=location.sourceName();
  }
 catch (  AbsentInformationException e) {
    sourceName=getSourcePosition().getFile().getName();
  }
  final boolean printFullTrace=Registry.is("debugger.breakpoint.message.full.trace");
  StringBuilder builder=new StringBuilder();
  if (printFullTrace) {
    builder.append(DebuggerBundle.message("status.line.breakpoint.reached.full.trace",location.declaringType().name() + "." + location.method().name()));
    try {
      final List<StackFrame> frames=event.thread().frames();
      renderTrace(frames,builder);
    }
 catch (    IncompatibleThreadStateException e) {
      builder.append("Stacktrace not available: ").append(e.getMessage());
    }
  }
 else {
    builder.append(DebuggerBundle.message("status.line.breakpoint.reached",location.declaringType().name() + "." + location.method().name(),sourceName,getLineIndex() + 1));
  }
  return builder.toString();
}
