{
  boolean openAsNative=false;
  if (elt instanceof PsiFile) {
    VirtualFile virtualFile=((PsiFile)elt).getVirtualFile();
    if (virtualFile != null) {
      openAsNative=ElementBase.isNativeFileType(virtualFile.getFileType());
    }
  }
  if (searchForOpen) {
    elt.putUserData(FileEditorManager.USE_CURRENT_WINDOW,null);
  }
 else {
    elt.putUserData(FileEditorManager.USE_CURRENT_WINDOW,true);
  }
  if (openAsNative || !activatePsiElementIfOpen(elt,searchForOpen)) {
    ((NavigationItem)elt).navigate(true);
    return true;
  }
  elt.putUserData(FileEditorManager.USE_CURRENT_WINDOW,null);
  return false;
}
