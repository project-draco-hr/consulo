{
  final VcsRevisionNumber revision=myFileAnnotation.getLineRevisionNumber(actualLine);
  for (int i=actualLine; (i < (actualLine + ourVicinity)) && (!contentsLines.isLineEndsFinished()); i++) {
    if (!revision.equals(myFileAnnotation.getLineRevisionNumber(i)))     continue;
    final String lineContents=contentsLines.getLineContents(i);
    if (!StringUtil.isEmptyOrSpaces(lineContents)) {
      return new Pair<Integer,String>(i,lineContents);
    }
  }
  int bound=Math.max(actualLine - ourVicinity,0);
  for (int i=actualLine - 1; (i >= bound); --i) {
    if (!revision.equals(myFileAnnotation.getLineRevisionNumber(i)))     continue;
    final String lineContents=contentsLines.getLineContents(i);
    if (!StringUtil.isEmptyOrSpaces(lineContents)) {
      return new Pair<Integer,String>(i,lineContents);
    }
  }
  return new Pair<Integer,String>(actualLine,contentsLines.getLineContents(actualLine));
}
