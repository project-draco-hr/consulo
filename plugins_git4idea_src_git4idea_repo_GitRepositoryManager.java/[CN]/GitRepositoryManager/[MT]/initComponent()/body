{
  Disposer.register(myProject,this);
  StartupManager.getInstance(myProject).runWhenProjectIsInitialized(new Runnable(){
    @Override public void run(){
      final MessageBus messageBus=myProject.getMessageBus();
      final MyRepositoryCreationDeletionListener rootChangeListener=new MyRepositoryCreationDeletionListener();
      messageBus.connect().subscribe(VirtualFileManager.VFS_CHANGES,rootChangeListener);
      messageBus.connect().subscribe(ProjectTopics.PROJECT_ROOTS,rootChangeListener);
      updateRepositoriesCollection();
    }
  }
);
}
