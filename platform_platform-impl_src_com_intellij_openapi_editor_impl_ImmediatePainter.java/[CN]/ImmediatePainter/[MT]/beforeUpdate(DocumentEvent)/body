{
  if (isZeroLatencyTypingEnabled() && myImmediateEditingInProgress && canPaintImmediately(e)) {
    int offset=e.getOffset();
    int length=e.getOldLength();
    myOldArea=lineRectangleBetween(offset,offset + length);
    myOldTailArea=lineRectangleBetween(offset + length,getDocument().getLineEndOffset(getDocument().getLineNumber(offset)));
    if (myOldTailArea.isEmpty()) {
      myOldTailArea.width+=EditorUtil.getSpaceWidth(Font.PLAIN,myEditor);
    }
  }
}
