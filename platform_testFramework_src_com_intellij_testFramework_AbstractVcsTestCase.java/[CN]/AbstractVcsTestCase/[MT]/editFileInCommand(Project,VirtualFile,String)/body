{
  new WriteCommandAction.Simple(project){
    @Override protected void run() throws Throwable {
      try {
        final long newModTs=Math.max(System.currentTimeMillis(),file.getModificationStamp() + 1);
        final long newTs=Math.max(System.currentTimeMillis(),file.getTimeStamp() + 1);
        file.setBinaryContent(newContent.getBytes(),newModTs,newTs);
        final File file1=new File(file.getPath());
        file1.setLastModified(newModTs);
      }
 catch (      IOException ex) {
        throw new RuntimeException(ex);
      }
    }
  }
.execute();
}
