{
  final GitSimpleHandler h=new GitSimpleHandler(project,root,GitCommand.SHOW);
  final GitLogParser parser=new GitLogParser(HASH);
  h.setNoSSH(true);
  h.setStdoutSuppressed(true);
  h.addParameters("-M","--follow","--name-status",parser.getPretty(),"--encoding=UTF-8",commit);
  h.endOptions();
  h.addRelativePaths(filePath);
  parser.parseStatusBeforeName(true);
  final String output=h.run();
  final GitLogRecord record=parser.parseOneRecord(output);
  final List<Change> changes=record.coolChangesParser(project,root);
  final Change change=changes.get(0);
  if (change.isMoved() || change.isRenamed()) {
    final List<FilePath> paths=record.getFilePaths(root);
    final String message="Rename commit should have 2 paths. Commit: " + commit;
    if (!LOG.assertTrue(paths.size() == 2,message + " Output: [" + output+ "]")) {
      throw new VcsException(message);
    }
    return paths.get(0);
  }
  return null;
}
