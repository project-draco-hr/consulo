{
  final List<GitCommit> commits=new ArrayList<GitCommit>();
  final Semaphore semaphore=new Semaphore();
  semaphore.down();
  historyWithLinks(project,new FilePathImpl(root),null,new AsynchConsumer<GitCommit>(){
    @Override public void finished(){
      semaphore.up();
    }
    @Override public void consume(    GitCommit gitCommit){
      commits.add(gitCommit);
    }
  }
,null,null,parameters);
  semaphore.waitFor();
  return commits;
}
