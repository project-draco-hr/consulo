{
  final List<VcsFileRevision> rc=new ArrayList<VcsFileRevision>();
  final List<VcsException> exceptions=new ArrayList<VcsException>();
  history(project,path,root,new Consumer<GitFileRevision>(){
    @Override public void consume(    GitFileRevision gitFileRevision){
      rc.add(gitFileRevision);
    }
  }
,new Consumer<VcsException>(){
    @Override public void consume(    VcsException e){
      exceptions.add(e);
    }
  }
,parameters);
  if (!exceptions.isEmpty()) {
    throw exceptions.get(0);
  }
  return rc;
}
