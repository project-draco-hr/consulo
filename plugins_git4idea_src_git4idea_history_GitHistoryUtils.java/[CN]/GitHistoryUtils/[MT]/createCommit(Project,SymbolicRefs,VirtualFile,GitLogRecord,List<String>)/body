{
  GitCommit gitCommit;
  final Collection<String> currentRefs=record.getRefs();
  List<String> locals=new ArrayList<String>();
  List<String> remotes=new ArrayList<String>();
  List<String> tags=new ArrayList<String>();
  final String s=parseRefs(refs,currentRefs,locals,remotes,tags);
  gitCommit=new GitCommit(AbstractHash.create(record.getShortHash()),new SHAHash(record.getHash()),record.getAuthorName(),record.getCommitterName(),record.getDate(),record.getFullMessage(),new HashSet<String>(Arrays.asList(record.getParentsShortHashes())),record.getFilePaths(root),record.getAuthorEmail(),record.getCommitterEmail(),tags,locals,remotes,record.coolChangesParser(project,root),record.getAuthorTimeStamp() * 1000,branches);
  gitCommit.setCurrentBranch(s);
  return gitCommit;
}
