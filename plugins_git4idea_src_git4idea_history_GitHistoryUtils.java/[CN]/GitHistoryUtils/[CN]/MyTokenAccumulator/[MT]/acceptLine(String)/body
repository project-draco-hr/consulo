{
  final boolean lineEnd=s.startsWith(ourLineEndMark);
  if (lineEnd && (!myNotStarted)) {
    final String line=myBuffer.toString();
    myBuffer.setLength(0);
    myBuffer.append(s.substring(3));
    return processResult(line);
  }
 else {
    myBuffer.append(lineEnd ? s.substring(3) : s);
    myBuffer.append('\u0002');
  }
  myNotStarted=false;
  return null;
}
