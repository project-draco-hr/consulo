{
  ProjectLevelVcsManager.getInstance(myProject).startBackgroundVcsOperation();
  indicator.setIndeterminate(true);
  final SvnVcs vcs=SvnVcs.getInstance(myProject);
  final SVNWCClient wcClient=vcs.createWCClient();
  try {
    for (    WCInfo wcInfo : myWcInfos) {
      File path=new File(wcInfo.getPath());
      if (!wcInfo.isIsWcRoot()) {
        path=SvnUtil.getWorkingCopyRoot(path);
      }
      indicator.setText(SvnBundle.message("action.change.wcopy.format.task.progress.text",path.getAbsolutePath(),SvnUtil.formatRepresentation(wcInfo.getFormat()),SvnUtil.formatRepresentation(myNewFormat)));
      try {
        wcClient.doSetWCFormat(path,myNewFormat.getFormat());
      }
 catch (      Throwable e) {
        myExceptions.add(e);
      }
    }
  }
  finally {
    ApplicationManager.getApplication().getMessageBus().syncPublisher(SvnMapDialog.WC_CONVERTED).run();
  }
}
