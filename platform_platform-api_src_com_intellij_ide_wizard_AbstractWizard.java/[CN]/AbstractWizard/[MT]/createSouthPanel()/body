{
  JPanel panel=new JPanel(new BorderLayout());
  panel.setBorder(BorderFactory.createEmptyBorder(8,0,0,0));
  JPanel buttonPanel=new JPanel();
  buttonPanel.setLayout(new BoxLayout(buttonPanel,BoxLayout.X_AXIS));
  panel.add(buttonPanel,BorderLayout.EAST);
  if (SystemInfo.isMac) {
    myHelpButton.putClientProperty("JButton.buttonType","help");
    if (UIUtil.isUnderAquaLookAndFeel()) {
      myHelpButton.setText("");
    }
    JPanel leftPanel=new JPanel();
    if (ApplicationInfo.contextHelpAvailable()) {
      leftPanel.add(myHelpButton);
    }
    leftPanel.add(myCancelButton);
    panel.add(leftPanel,BorderLayout.WEST);
    buttonPanel.add(myFinishButton);
    if (mySteps.size() > 1) {
      buttonPanel.add(Box.createHorizontalStrut(5));
      buttonPanel.add(myPreviousButton);
      buttonPanel.add(Box.createHorizontalStrut(5));
      buttonPanel.add(myNextButton);
    }
  }
 else {
    if (mySteps.size() > 1) {
      buttonPanel.add(myPreviousButton);
      buttonPanel.add(Box.createHorizontalStrut(5));
      buttonPanel.add(myNextButton);
      buttonPanel.add(Box.createHorizontalStrut(5));
    }
    buttonPanel.add(myFinishButton);
    buttonPanel.add(Box.createHorizontalStrut(5));
    buttonPanel.add(myCancelButton);
    buttonPanel.add(Box.createHorizontalStrut(5));
    if (ApplicationInfo.contextHelpAvailable()) {
      buttonPanel.add(myHelpButton);
    }
  }
  myPreviousButton.setEnabled(false);
  myPreviousButton.addActionListener(new ActionListener(){
    public void actionPerformed(    final ActionEvent e){
      doPreviousAction();
    }
  }
);
  myNextButton.addActionListener(new ActionListener(){
    public void actionPerformed(    final ActionEvent e){
      doNextAction();
    }
  }
);
  myFinishButton.addActionListener(new ActionListener(){
    public void actionPerformed(    final ActionEvent e){
      final Step currentStep=mySteps.get(myCurrentStep);
      LOG.assertTrue(currentStep != null);
      try {
        currentStep._commit(true);
        doOKAction();
      }
 catch (      final CommitStepException exc) {
        String message=exc.getMessage();
        if (message != null) {
          Messages.showErrorDialog(myContentPanel,message);
        }
      }
    }
  }
);
  myCancelButton.addActionListener(new ActionListener(){
    public void actionPerformed(    final ActionEvent e){
      doCancelAction();
    }
  }
);
  myHelpButton.addActionListener(new ActionListener(){
    public void actionPerformed(    final ActionEvent e){
      helpAction();
    }
  }
);
  return panel;
}
