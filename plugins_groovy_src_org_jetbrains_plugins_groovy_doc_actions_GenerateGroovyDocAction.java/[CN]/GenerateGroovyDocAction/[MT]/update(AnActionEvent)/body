{
  super.update(event);
  final Presentation presentation=event.getPresentation();
  final DataContext context=event.getDataContext();
  Module module=(Module)context.getData(DataKeys.MODULE.getName());
  if (GroovyUtils.isSuitableModule(module) && ((GroovyGrailsFacetUtil.hasGrailsSupport(module) || GroovyGrailsFacetUtil.hasGroovySupport(module)))) {
    presentation.setEnabled(true);
    presentation.setVisible(true);
  }
 else {
    presentation.setEnabled(false);
    presentation.setVisible(false);
  }
}
