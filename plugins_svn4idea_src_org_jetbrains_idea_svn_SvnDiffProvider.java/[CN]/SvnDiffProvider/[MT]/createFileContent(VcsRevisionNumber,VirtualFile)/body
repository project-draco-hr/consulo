{
  final SVNRevision svnRevision=((SvnRevisionNumber)revisionNumber).getRevision();
  return new VcsFileContent(){
    private byte[] myContent;
    public void loadContent() throws VcsException {
      ByteArrayOutputStream contents=new ByteArrayOutputStream();
      File file=new File(selectedFile.getPath()).getAbsoluteFile();
      ConentLoader loader=new ConentLoader(file,contents,svnRevision);
      if (ApplicationManager.getApplication().isDispatchThread() && !svnRevision.isLocal()) {
        ProgressManager.getInstance().runProcessWithProgressSynchronously(loader,SvnBundle.message("progress.title.loading.file.content"),false,null);
      }
 else {
        loader.run();
      }
      if (loader.getException() != null) {
        throw new VcsException(loader.getException());
      }
      myContent=contents.toByteArray();
    }
    public byte[] getContent(){
      return myContent;
    }
  }
;
}
