{
  FilePath filePath=VcsContextFactory.SERVICE.getInstance().createFilePathOn(selectedFile);
  final SVNRevision svnRevision=((SvnRevisionNumber)revisionNumber).getRevision();
  if (!SVNRevision.HEAD.equals(svnRevision)) {
    if (revisionNumber.equals(getCurrentRevision(selectedFile))) {
      return SvnContentRevision.createBaseRevision(myVcs,filePath,svnRevision);
    }
  }
  final SVNStatusClient client=myVcs.createStatusClient();
  try {
    final SVNStatus svnStatus=client.doStatus(new File(selectedFile.getPresentableUrl()),false,false);
    if (svnRevision.equals(svnStatus.getRevision())) {
      return SvnContentRevision.createBaseRevision(myVcs,filePath,svnRevision);
    }
  }
 catch (  SVNException e) {
    LOG.debug(e);
  }
  return SvnContentRevision.createRemote(myVcs,filePath,svnRevision);
}
