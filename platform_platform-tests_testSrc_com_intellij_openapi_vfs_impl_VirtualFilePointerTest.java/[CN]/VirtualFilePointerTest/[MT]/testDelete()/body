{
  File tempDirectory=createTempDirectory();
  final File fileToDelete=new File(tempDirectory,"toDelete.txt");
  fileToDelete.createNewFile();
  final LoggingListener fileToDeleteListener=new LoggingListener();
  final VirtualFilePointer fileToDeletePointer=createPointerByFile(fileToDelete,fileToDeleteListener);
  assertTrue(fileToDeletePointer.isValid());
  delete(getVirtualFile(fileToDelete));
  assertFalse(fileToDeletePointer.isValid());
  assertEquals("[before:true, after:false]",fileToDeleteListener.getLog().toString());
}
