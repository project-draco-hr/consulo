{
  java.util.List<E> selection=chooser.getSelectedElements();
  chooser.clear();
  Collection<E> sorted=new TreeSet<E>(comparator);
  sorted.addAll(all);
  for (  E element : sorted) {
    chooser.addElement(element,selected.contains(element));
  }
  chooser.selectElements(selection);
}
