{
  PsiReference[] references=element.getReferences();
  for (  PsiReference reference : references) {
    if (!XmlHighlightVisitor.isUrlReference(reference)) {
      continue;
    }
    if (!needToCheckRef(reference)) {
      continue;
    }
    boolean isHtml=HtmlUtil.isHtmlTagContainingFile(element);
    if (isHtml ^ isForHtml()) {
      continue;
    }
    if (!isHtml && XmlHighlightVisitor.skipValidation(element)) {
      continue;
    }
    if (XmlHighlightVisitor.hasBadResolve(reference,false)) {
      holder.registerProblem(reference,ProblemsHolder.unresolvedReferenceMessage(reference),isHtml ? ProblemHighlightType.GENERIC_ERROR_OR_WARNING : ProblemHighlightType.LIKE_UNKNOWN_SYMBOL);
    }
  }
}
