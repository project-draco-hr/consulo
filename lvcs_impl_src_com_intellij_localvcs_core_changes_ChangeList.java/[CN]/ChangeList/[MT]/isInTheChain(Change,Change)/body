{
  List<IdPath> paths=new ArrayList<IdPath>();
  for (  Change cc : before.getChanges()) {
    if (cc instanceof StructuralChange) {
      StructuralChange sc=(StructuralChange)cc;
      Collections.addAll(paths,sc.getAffectedIdPaths());
    }
  }
  for (  Change cc : Reversed.list(getPlainChangesAfter(before))) {
    if (cc instanceof StructuralChange) {
      StructuralChange sc=(StructuralChange)cc;
      List<IdPath> newPaths=new ArrayList<IdPath>();
      for (      IdPath path1 : paths) {
        for (        IdPath path2 : sc.getAffectedIdPaths()) {
          if (path1.contains(path2.getId()) || path2.contains(path1.getId())) {
            Collections.addAll(newPaths,sc.getAffectedIdPaths());
          }
        }
      }
      paths.addAll(newPaths);
    }
  }
  if (after instanceof StructuralChange) {
    StructuralChange sc=(StructuralChange)after;
    for (    IdPath path : sc.getAffectedIdPaths()) {
      for (      IdPath path2 : paths) {
        if (path.isChildOrParentOf(path2))         return true;
      }
    }
  }
  return false;
}
