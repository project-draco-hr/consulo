{
  final ReferenceEditorComboWithBrowseButton packageChooser=new ReferenceEditorComboWithBrowseButton(null,"",PsiManager.getInstance(myProject),false,RECENTS_KEY);
  packageChooser.addActionListener(new ActionListener(){
    public void actionPerformed(    ActionEvent e){
      PackageChooserDialog chooser=new PackageChooserDialog(RefactoringBundle.message("choose.destination.package"),myProject);
      chooser.selectPackage(packageChooser.getText());
      chooser.show();
      PsiPackage aPackage=chooser.getSelectedPackage();
      if (aPackage != null) {
        packageChooser.setText(aPackage.getQualifiedName());
        validateButtons();
      }
    }
  }
);
  packageChooser.getChildComponent().getDocument().addDocumentListener(new DocumentAdapter(){
    public void documentChanged(    DocumentEvent e){
      validateButtons();
    }
  }
);
  return packageChooser;
}
