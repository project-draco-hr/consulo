{
  if (isMoveToPackage()) {
    String name=getTargetPackage().trim();
    if (name.length() == 0 || !JavaPsiFacade.getInstance(myManager.getProject()).getNameHelper().isQualifiedName(name)) {
      throw new ConfigurationException("\'" + StringUtil.last(name,10,true) + "\' is invalid destination package name");
    }
  }
 else {
    if (findTargetClass() == null)     throw new ConfigurationException("Destination class not found");
    final String validationError=getValidationError();
    if (validationError != null)     throw new ConfigurationException(validationError);
  }
}
