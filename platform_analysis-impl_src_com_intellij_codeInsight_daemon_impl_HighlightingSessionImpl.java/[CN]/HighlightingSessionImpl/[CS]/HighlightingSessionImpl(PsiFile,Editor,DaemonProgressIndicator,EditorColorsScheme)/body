{
  myPsiFile=psiFile;
  myEditor=editor;
  myProgressIndicator=progressIndicator;
  myEditorColorsScheme=editorColorsScheme;
  myProject=psiFile.getProject();
  myDocument=PsiDocumentManager.getInstance(myProject).getDocument(psiFile);
  Disposer.register(progressIndicator,this);
  if (progressIndicator.isCanceled()) {
    Disposer.dispose(progressIndicator);
  }
}
