{
  if (entity instanceof RefElement) {
    final PsiElement psiElement=((RefElement)entity).getElement();
    if (psiElement != null && element != null) {
      return PsiUtilCore.compareElementsByPosition(psiElement,element);
    }
    if (element == null)     return psiElement == null ? 0 : 1;
  }
  if (element instanceof PsiQualifiedNamedElement) {
    return StringUtil.compare(entity.getQualifiedName(),((PsiQualifiedNamedElement)element).getQualifiedName(),true);
  }
  if (element instanceof PsiNamedElement) {
    return StringUtil.compare(entity.getName(),((PsiNamedElement)element).getName(),true);
  }
  return -1;
}
