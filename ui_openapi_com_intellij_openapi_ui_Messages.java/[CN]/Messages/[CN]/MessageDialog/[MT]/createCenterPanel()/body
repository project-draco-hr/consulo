{
  JPanel panel=new JPanel(new BorderLayout(15,0));
  if (myIcon != null) {
    JLabel iconLabel=new JLabel(myIcon);
    Container container=new Container();
    container.setLayout(new BorderLayout());
    container.add(iconLabel,BorderLayout.NORTH);
    panel.add(container,BorderLayout.WEST);
  }
  if (myMessage != null) {
    JTextPane messagePane=new JTextPane();
    messagePane.setBackground(panel.getBackground());
    messagePane.setText(myMessage);
    messagePane.setEditable(false);
    messagePane.setCaretPosition(0);
    messagePane.setFont(new JLabel().getFont());
    final Dimension screenSize=Toolkit.getDefaultToolkit().getScreenSize();
    final Dimension textSize=messagePane.getPreferredSize();
    if (textSize.width > screenSize.width / 2 || textSize.height > screenSize.height / 2) {
      final JScrollPane pane=ScrollPaneFactory.createScrollPane(messagePane);
      pane.setBorder(BorderFactory.createEmptyBorder(0,0,0,0));
      pane.setVerticalScrollBarPolicy(JScrollPane.VERTICAL_SCROLLBAR_AS_NEEDED);
      pane.setHorizontalScrollBarPolicy(JScrollPane.HORIZONTAL_SCROLLBAR_AS_NEEDED);
      final Dimension preferredSize=new Dimension(Math.min(textSize.width,screenSize.width / 2),Math.min(textSize.height,screenSize.height / 2));
      pane.setPreferredSize(preferredSize);
      panel.add(pane,BorderLayout.CENTER);
    }
 else {
      panel.add(messagePane,BorderLayout.CENTER);
    }
  }
  return panel;
}
