{
  final Application application=ApplicationManager.getApplication();
  if (application.isUnitTestMode() || application.isHeadlessEnvironment()) {
    ourTestImplementation.show(title);
  }
 else {
    final JTextArea textArea=new JTextArea(10,50);
    textArea.setWrapStyleWord(true);
    textArea.setLineWrap(true);
    textArea.getDocument().addDocumentListener(new DocumentAdapter(){
      protected void textChanged(      final DocumentEvent e){
        textField.setText(textArea.getText());
      }
    }
);
    textArea.setText(textField.getText().replaceAll("[\\ ]*=[\\ ]*","=").replaceAll(" ","\n"));
    InsertPathAction.copyFromTo(textField,textArea);
    DialogBuilder builder=new DialogBuilder(textField);
    JScrollPane scrollPane=ScrollPaneFactory.createScrollPane(textArea);
    builder.setDimensionServiceKey(dimensionServiceKey);
    builder.setCenterPanel(scrollPane);
    builder.setPreferedFocusComponent(textArea);
    String rawText=title;
    if (StringUtil.endsWithChar(rawText,':')) {
      rawText=rawText.substring(0,rawText.length() - 1);
    }
    builder.setTitle(rawText);
    builder.addCloseButton();
    builder.show();
  }
}
