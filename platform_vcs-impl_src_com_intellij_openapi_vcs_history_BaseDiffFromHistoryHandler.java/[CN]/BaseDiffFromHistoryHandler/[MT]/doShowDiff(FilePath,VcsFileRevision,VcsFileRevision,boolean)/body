{
  if (!filePath.isDirectory()) {
    VcsHistoryUtil.showDifferencesInBackground(myProject,filePath,revision1,revision2,autoSort);
  }
 else   if (revision1.equals(VcsFileRevision.NULL)) {
    T right=(T)revision2;
    showAffectedChanges(filePath,right);
  }
 else   if (revision2 instanceof CurrentRevision) {
    T left=(T)revision1;
    showChangesBetweenRevisions(filePath,left,null);
  }
 else {
    T left=(T)revision1;
    T right=(T)revision2;
    if (autoSort) {
      Couple<VcsFileRevision> pair=VcsHistoryUtil.sortRevisions(revision1,revision2);
      left=(T)pair.first;
      right=(T)pair.second;
    }
    showChangesBetweenRevisions(filePath,left,right);
  }
}
