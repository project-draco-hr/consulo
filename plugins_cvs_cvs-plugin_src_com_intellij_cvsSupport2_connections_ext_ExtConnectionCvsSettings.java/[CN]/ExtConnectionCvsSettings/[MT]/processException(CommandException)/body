{
  Exception sourceException=t.getUnderlyingException();
  if (!(sourceException instanceof IOException))   return t;
  String localizedMessage=t.getLocalizedMessage();
  if (localizedMessage == null || !localizedMessage.startsWith(UNHANDLED_RESPONSE_PREFIX))   return t;
  String response=localizedMessage.substring(UNHANDLED_RESPONSE_PREFIX.length(),localizedMessage.length() - 1);
  if (StringUtil.startsWithConcatenationOf(response,USER + "@",HOST)) {
    return new IOCommandException(new IOException(CvsBundle.message("exception.text.ext.server.rejected.access")));
  }
 else {
    return new IOCommandException(new IOException(CvsBundle.message("exception.text.cannot.establish.external.connection",response)));
  }
}
