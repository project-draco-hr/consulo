{
  if (aComponent == null)   return null;
  if (aComponent instanceof JLayeredPane) {
    return (JLayeredPane)aComponent;
  }
  if (aComponent instanceof JFrame) {
    return ((JFrame)aComponent).getRootPane().getLayeredPane();
  }
  if (aComponent instanceof JDialog) {
    return ((JDialog)aComponent).getRootPane().getLayeredPane();
  }
  final Window window=SwingUtilities.getWindowAncestor(aComponent);
  if (window instanceof JFrame) {
    return ((JFrame)window).getRootPane().getLayeredPane();
  }
 else   if (window instanceof JDialog) {
    return ((JDialog)window).getRootPane().getLayeredPane();
  }
  return null;
}
