{
  if (aComponent == null)   return null;
  if (aComponent instanceof JLayeredPane) {
    return (JLayeredPane)aComponent;
  }
  if (aComponent instanceof JFrame) {
    return ((JFrame)aComponent).getRootPane().getLayeredPane();
  }
  if (aComponent instanceof JDialog) {
    return ((JDialog)aComponent).getRootPane().getLayeredPane();
  }
  final JFrame frame=((JFrame)SwingUtilities.getWindowAncestor(aComponent));
  if (frame == null) {
    return null;
  }
  return frame.getLayeredPane();
}
