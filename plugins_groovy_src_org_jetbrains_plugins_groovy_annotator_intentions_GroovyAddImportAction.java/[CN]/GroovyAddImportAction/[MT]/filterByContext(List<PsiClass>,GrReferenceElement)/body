{
  PsiElement typeElement=ref.getParent();
  if (typeElement instanceof GrTypeElement) {
    PsiElement decl=typeElement.getParent();
    if (decl instanceof GrVariableDeclaration) {
      GrVariable[] vars=((GrVariableDeclaration)decl).getVariables();
      if (vars.length == 1) {
        PsiExpression initializer=vars[0].getInitializer();
        if (initializer != null) {
          return filterAssignableFrom(initializer.getType(),candidates);
        }
      }
    }
  }
  return super.filterByContext(candidates,ref);
}
