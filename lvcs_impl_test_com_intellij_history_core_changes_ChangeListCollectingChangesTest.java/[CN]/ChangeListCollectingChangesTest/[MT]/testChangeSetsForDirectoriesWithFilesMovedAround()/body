{
  applyAndAdd(cs("1",new CreateDirectoryChange(1,"dir1"),new CreateDirectoryChange(2,"dir2")));
  applyAndAdd(cs("2",new CreateFileChange(3,"dir1/file",null,-1)));
  applyAndAdd(cs("3",new MoveChange("dir1/file","dir2")));
  List<Change> cc1=getChangesFor("dir1");
  List<Change> cc2=getChangesFor("dir2");
  assertEquals(3,cc1.size());
  assertEquals("3",cc1.get(0).getName());
  assertEquals("2",cc1.get(1).getName());
  assertEquals("1",cc1.get(2).getName());
  assertEquals(2,cc2.size());
  assertEquals("3",cc2.get(0).getName());
  assertEquals("1",cc2.get(1).getName());
}
