{
  if (parameters.getCompletionType() != CompletionType.BASIC) {
    return;
  }
  CompletionData completionData=getCompletionData(parameters);
  if (completionData == null)   return;
  final PsiElement insertedElement=parameters.getPosition();
  final CompletionResultSet result=_result.withPrefixMatcher(completionData.findPrefix(insertedElement,parameters.getOffset()));
  completeReference(parameters,result);
  final Set<LookupElement> lookupSet=new LinkedHashSet<LookupElement>();
  final Set<CompletionVariant> keywordVariants=new HashSet<CompletionVariant>();
  PsiFile file=parameters.getOriginalFile();
  completionData.addKeywordVariants(keywordVariants,insertedElement,file);
  completionData.completeKeywordsBySet(lookupSet,keywordVariants,insertedElement,result.getPrefixMatcher(),file);
  result.addAllElements(lookupSet);
}
