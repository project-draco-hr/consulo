{
  ButtonGroup group=new ButtonGroup();
  for (  final CreateTestProvider p : Extensions.getExtensions(CreateTestProvider.EXTENSION_NAME)) {
    final JRadioButton b=new JRadioButton(p.getName());
    myLibraryButtons.add(b);
    group.add(b);
    b.addActionListener(new ActionListener(){
      public void actionPerformed(      ActionEvent e){
        if (b.isSelected())         onLibrarySelected(p);
      }
    }
);
  }
  myFixLibraryButton=new JButton("Fix");
  myFixLibraryButton.addActionListener(new ActionListener(){
    public void actionPerformed(    ActionEvent e){
      ApplicationManager.getApplication().runWriteAction(new Runnable(){
        public void run(){
          OrderEntryFix.addJarToRoots(mySelectedTestProvider.getLibraryPath(),myTargetModule);
        }
      }
);
      myFixLibraryPanel.setVisible(false);
    }
  }
);
  myTargetClassNameField=new JTextField(targetClass.getName() + "Test");
  setPreferredSize(myTargetClassNameField);
  myTargetClassNameField.getDocument().addDocumentListener(new DocumentAdapter(){
    protected void textChanged(    DocumentEvent e){
      getOKAction().setEnabled(JavaPsiFacade.getInstance(myProject).getNameHelper().isIdentifier(getClassName()));
    }
  }
);
  PsiElementFactory factory=JavaPsiFacade.getInstance(myProject).getElementFactory();
  mySuperClassFieldCodeFragment=factory.createTypeCodeFragment("",targetPackage,true);
  Document document=PsiDocumentManager.getInstance(myProject).getDocument(mySuperClassFieldCodeFragment);
  mySuperClassField=new EditorTextField(document,myProject,StdFileTypes.JAVA);
  String targetPackageName=targetPackage != null ? targetPackage.getQualifiedName() : "";
  myTargetPackageField=new ReferenceEditorComboWithBrowseButton(new ActionListener(){
    public void actionPerformed(    final ActionEvent e){
      doSelectPackage();
    }
  }
,targetPackageName,PsiManager.getInstance(myProject),false,RECENTS_KEY);
  new AnAction(){
    public void actionPerformed(    AnActionEvent e){
      myTargetPackageField.getButton().doClick();
    }
  }
.registerCustomShortcutSet(new CustomShortcutSet(KeyStroke.getKeyStroke(KeyEvent.VK_ENTER,InputEvent.SHIFT_DOWN_MASK)),myTargetPackageField.getChildComponent());
  myGenerateBeforeBox=new JCheckBox("Generate 'setUp/@Before'");
  myGenerateAfterBox=new JCheckBox("Generate 'tearDown/@After'");
  myMembersTable=new MemberSelectionTable(collectMethods(),null);
}
