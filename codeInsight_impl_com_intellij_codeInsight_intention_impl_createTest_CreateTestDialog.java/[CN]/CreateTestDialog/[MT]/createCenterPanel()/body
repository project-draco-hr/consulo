{
  JPanel panel=new JPanel(new GridBagLayout());
  panel.setBorder(IdeBorderFactory.createBorder());
  GridBagConstraints constr=new GridBagConstraints();
  constr.insets=new Insets(4,8,4,8);
  constr.fill=GridBagConstraints.HORIZONTAL;
  constr.anchor=GridBagConstraints.WEST;
  JPanel librariesPanel=new JPanel();
  BoxLayout l=new BoxLayout(librariesPanel,BoxLayout.X_AXIS);
  librariesPanel.setLayout(l);
  for (  JRadioButton b : myLibraryButtons) {
    librariesPanel.add(b);
  }
  constr.gridx=0;
  constr.weightx=0;
  panel.add(new JLabel(CodeInsightBundle.message("intention.create.test.dialog.testing.library")),constr);
  constr.gridx=1;
  constr.weightx=1;
  constr.gridwidth=GridBagConstraints.REMAINDER;
  panel.add(librariesPanel,constr);
  myFixLibraryPanel=new JPanel(new BorderLayout());
  myFixLibraryLabel=new JLabel();
  myFixLibraryLabel.setIcon(Messages.getWarningIcon());
  myFixLibraryPanel.add(myFixLibraryLabel,BorderLayout.CENTER);
  myFixLibraryPanel.add(myFixLibraryButton,BorderLayout.EAST);
  constr.gridx=0;
  panel.add(myFixLibraryPanel,constr);
  constr.gridheight=1;
  constr.gridx=0;
  constr.weightx=0;
  constr.gridwidth=1;
  panel.add(new JLabel(CodeInsightBundle.message("intention.create.test.dialog.class.name")),constr);
  constr.gridx=1;
  constr.weightx=1;
  panel.add(myTargetClassNameField,constr);
  constr.gridx=0;
  constr.weightx=0;
  panel.add(new JLabel(CodeInsightBundle.message("intention.create.test.dialog.super.class")),constr);
  constr.gridx=1;
  constr.weightx=1;
  panel.add(mySuperClassField,constr);
  constr.gridx=0;
  constr.weightx=0;
  panel.add(new JLabel(CodeInsightBundle.message("dialog.create.class.destination.package.label")),constr);
  constr.gridx=1;
  constr.weightx=1;
  JPanel targetPackagePanel=new JPanel(new BorderLayout());
  targetPackagePanel.add(myTargetPackageField,BorderLayout.CENTER);
  panel.add(targetPackagePanel,constr);
  constr.gridx=0;
  constr.gridwidth=GridBagConstraints.REMAINDER;
  panel.add(myGenerateBeforeBox,constr);
  panel.add(myGenerateAfterBox,constr);
  panel.add(new JLabel(CodeInsightBundle.message("intention.create.test.dialog.select.methods")),constr);
  constr.fill=GridBagConstraints.BOTH;
  constr.weighty=1;
  panel.add(new JScrollPane(myMembersTable),constr);
  return panel;
}
