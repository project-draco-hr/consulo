{
  ApplicationManager.getApplication().assertIsDispatchThread();
  if (myHighlighter != null) {
    getDocument().removeDocumentListener(myHighlighter);
  }
  getDocument().addDocumentListener(highlighter);
  myHighlighter=highlighter;
  try {
    highlighter.setEditor(this);
    highlighter.setText(getDocument().getCharsSequence());
  }
 catch (  Exception e) {
    LOG.error(e);
  }
  if (myPanel != null) {
    reinitSettings();
  }
}
