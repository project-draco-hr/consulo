{
  if (e.getSource() == myGutterComponent) {
    myGutterComponent.mouseReleased(e);
  }
  if (getMouseEventArea(e) != EditorMouseEventArea.EDITING_AREA || e.getY() < 0 || e.getX() < 0) {
    return;
  }
  final FoldRegion region=((FoldingModelEx)getFoldingModel()).getFoldingPlaceholderAt(e.getPoint());
  if (e.getX() >= 0 && e.getY() >= 0 && region != null && region == myMouseSelectedRegion) {
    getFoldingModel().runBatchFoldingOperation(new Runnable(){
      public void run(){
        myFoldingModel.flushCaretShift();
        region.setExpanded(true);
      }
    }
);
  }
  if (myMousePressedEvent != null && myMousePressedEvent.getClickCount() == 1 && myMousePressedInsideSelection) {
    getSelectionModel().removeSelection();
  }
}
