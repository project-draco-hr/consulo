{
  ApplicationManager.getApplication().assertIsDispatchThread();
  boolean oldValue=myIsInsertMode;
  myIsInsertMode=mode;
  myPropertyChangeSupport.firePropertyChange(EditorEx.PROP_INSERT_MODE,oldValue,mode);
  LogicalPosition caretPosition=getCaretModel().getLogicalPosition();
  getCaretModel().moveToLogicalPosition(caretPosition);
}
