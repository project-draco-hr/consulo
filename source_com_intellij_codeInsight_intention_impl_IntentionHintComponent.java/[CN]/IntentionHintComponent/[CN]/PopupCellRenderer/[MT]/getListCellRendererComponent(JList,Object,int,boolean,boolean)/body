{
  IntentionActionWithTextCaching wrapped=(IntentionActionWithTextCaching)value;
  IntentionAction action=wrapped.getAction();
  myLabel.setText(" " + wrapped.getText() + " ");
  myLabel.setFont(list.getFont());
  Color bg;
  Color fg;
  if (!isSelected) {
    fg=list.getForeground();
    bg=list.getBackground();
  }
 else {
    fg=list.getSelectionForeground();
    bg=list.getSelectionBackground();
  }
  myLabel.setForeground(fg);
  myLabel.setBackground(bg);
  myButton.setBackground(list.getBackground());
  myPanel.setBackground(list.getBackground());
  if (mySettings.isShowLightBulb(action)) {
    if (myQuickFixes.contains(action)) {
      myButton.setIcon(ourQuickFixIcon);
    }
 else {
      myButton.setIcon(ourIntentionIcon);
    }
  }
 else {
    if (myQuickFixes.contains(action)) {
      myButton.setIcon(ourQuickFixOffIcon);
    }
 else {
      myButton.setIcon(ourIntentionOffIcon);
    }
  }
  myButton.setBorderPainted(false);
  myButton.getModel().setArmed(false);
  myButton.getModel().setPressed(false);
  if (myLastItemIndex == index) {
    int x=myLastMousePoint.x - myList.getInsets().left;
    if (x <= myButton.getPreferredSize().width) {
      myButton.getModel().setArmed(myMousePressed);
      myButton.getModel().setPressed(myMousePressed);
      myButton.setBorderPainted(true);
    }
  }
  return myPanel;
}
