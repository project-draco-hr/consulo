{
  myList=list;
  myPanel.setLayout(new BorderLayout());
  myPanel.add(myButton,BorderLayout.WEST);
  myPanel.add(myLabel,BorderLayout.CENTER);
  myButton.setIcon(mySmartTagIcon);
  myButton.setMargin(new Insets(0,0,0,0));
  myButton.setContentAreaFilled(false);
  myLabel.setOpaque(true);
  mySettings=IntentionManagerSettings.getInstance();
  myButton.setBorderPainted(false);
  myList.addMouseMotionListener(new MouseMotionListener(){
    public void mouseDragged(    MouseEvent e){
      updateLastPoint(e);
    }
    public void mouseMoved(    MouseEvent e){
      updateLastPoint(e);
    }
  }
);
  myList.addMouseListener(new MouseAdapter(){
    public void mouseEntered(    MouseEvent e){
      updateLastPoint(e);
    }
    public void mouseExited(    MouseEvent e){
      myLastMousePoint=null;
      myLastItemIndex=-1;
      myList.repaint();
    }
    public void mousePressed(    MouseEvent e){
      e.consume();
      myMousePressed=true;
      myList.repaint();
    }
    public void mouseClicked(    MouseEvent e){
      Point point=e.getPoint();
      if (isInButton(point)) {
        int index=myList.locationToIndex(point);
        IntentionAction action=((IntentionActionWithTextCaching)myList.getModel().getElementAt(index)).getAction();
        mySettings.setShowLightBulb(action,!mySettings.isShowLightBulb(action));
        e.consume();
        myList.repaint();
      }
    }
    public void mouseReleased(    MouseEvent e){
      e.consume();
      myMousePressed=false;
      myList.repaint();
    }
  }
);
}
