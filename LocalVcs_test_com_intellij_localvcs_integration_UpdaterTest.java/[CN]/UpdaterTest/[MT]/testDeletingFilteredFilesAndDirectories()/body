{
  TestVirtualFile root=new TestVirtualFile("root",null);
  TestVirtualFile file=new TestVirtualFile("file",null,null);
  TestVirtualFile dir=new TestVirtualFile("dir",null);
  TestVirtualFile dirFile=new TestVirtualFile("dirFile",null);
  root.addChild(dir);
  root.addChild(file);
  dir.addChild(dirFile);
  vcs.createDirectory("root",null);
  vcs.createFile("root/file",null,111L);
  vcs.createDirectory("root/dir",null);
  vcs.createFile("root/dir/dirFile",null,222L);
  vcs.apply();
  filter.setFilesNotUnderContentRoot(file,dir);
  updateWith(root);
  assertFalse(vcs.hasEntry("root/file"));
  assertFalse(vcs.hasEntry("root/dir"));
  assertFalse(vcs.hasEntry("root/dir/dirFile"));
}
