{
  TestVirtualFile root1=new TestVirtualFile("root1");
  TestVirtualFile dir1=new TestVirtualFile("dir1");
  TestVirtualFile root2=new TestVirtualFile("root2");
  TestVirtualFile dir2=new TestVirtualFile("dir2");
  TestVirtualFile root3=new TestVirtualFile("root3");
  root1.addChild(dir1);
  dir1.addChild(root2);
  root2.addChild(dir2);
  dir2.addChild(root3);
  filter.setFilesNotUnderContentRoot(dir1,dir2);
  updateWith(root3,root2,root1);
  List<Entry> rr=vcs.getRoots();
  assertEquals(3,rr.size());
  assertEquals("root1",rr.get(0).getPath());
  assertEquals("root1/dir1/root2",rr.get(1).getPath());
  assertEquals("root1/dir1/root2/dir2/root3",rr.get(2).getPath());
}
