{
  vcs.createDirectory(p("root/dir"));
  vcs.createFile(p("root/dir/file"),"content");
  vcs.apply();
  MyVirtualFile root=new MyVirtualFile("root");
  MyVirtualFile dir=new MyVirtualFile("dir");
  MyVirtualFile file=new MyVirtualFile("file","content");
  root.addChild(dir);
  dir.addChild(file);
  Updater.update(vcs,root);
  assertTrue(vcs.hasEntry(p("root/dir")));
  assertTrue(vcs.hasEntry(p("root/dir/file")));
  assertEquals("content",vcs.getEntry(p("root/dir/file")).getContent());
}
