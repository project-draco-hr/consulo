{
  final PsiStatement continuedStatement=statement.findContinuedStatement();
  PsiStatement body=null;
  if (continuedStatement instanceof PsiForeachStatement) {
    body=((PsiForeachStatement)continuedStatement).getBody();
  }
 else   if (continuedStatement instanceof PsiForStatement) {
    body=((PsiForStatement)continuedStatement).getBody();
  }
 else   if (continuedStatement instanceof PsiDoWhileStatement) {
    body=((PsiDoWhileStatement)continuedStatement).getBody();
  }
 else   if (continuedStatement instanceof PsiWhileStatement) {
    body=((PsiWhileStatement)continuedStatement).getBody();
  }
  if (body == null) {
    return;
  }
  if (body instanceof PsiBlockStatement) {
    final PsiCodeBlock block=((PsiBlockStatement)body).getCodeBlock();
    if (ControlFlowUtils.blockCompletesWithStatement(block,statement)) {
      registerStatementError(statement);
    }
  }
 else {
    if (ControlFlowUtils.statementCompletesWithStatement(body,statement)) {
      registerStatementError(statement);
    }
  }
}
