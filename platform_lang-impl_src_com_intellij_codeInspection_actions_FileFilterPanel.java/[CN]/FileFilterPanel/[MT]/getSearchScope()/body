{
  if (!myUseFileMask.isSelected())   return null;
  String text=(String)myFileMask.getSelectedItem();
  if (text == null)   return null;
  final Pattern pattern=FindInProjectUtil.createFileMaskRegExp(text);
  return new GlobalSearchScope(){
    @Override public boolean contains(    @NotNull VirtualFile file){
      return pattern == null || pattern.matcher(file.getName()).matches();
    }
    @Override public int compare(    @NotNull VirtualFile file1,    @NotNull VirtualFile file2){
      return 0;
    }
    @Override public boolean isSearchInModuleContent(    @NotNull Module aModule){
      return true;
    }
    @Override public boolean isSearchInLibraries(){
      return true;
    }
  }
;
}
