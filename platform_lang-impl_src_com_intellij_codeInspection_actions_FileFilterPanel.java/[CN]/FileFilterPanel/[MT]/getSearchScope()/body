{
  if (!myUseFileMask.isSelected())   return null;
  String text=myUseFileMask.getText();
  final Pattern pattern=FindInProjectUtil.createFileMaskRegExp(text);
  return new GlobalSearchScope(){
    @Override public boolean contains(    VirtualFile file){
      return pattern == null || pattern.matcher(file.getName()).matches();
    }
    @Override public int compare(    VirtualFile file1,    VirtualFile file2){
      return 0;
    }
    @Override public boolean isSearchInModuleContent(    @NotNull Module aModule){
      return true;
    }
    @Override public boolean isSearchInLibraries(){
      return true;
    }
  }
;
}
