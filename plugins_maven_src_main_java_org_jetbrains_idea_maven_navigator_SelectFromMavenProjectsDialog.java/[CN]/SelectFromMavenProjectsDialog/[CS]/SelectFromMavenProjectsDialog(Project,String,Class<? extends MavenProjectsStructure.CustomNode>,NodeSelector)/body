{
  super(project,false);
  myProject=project;
  mySelector=selector;
  setTitle(title);
  myTree=new SimpleTree();
  myTree.getSelectionModel().setSelectionMode(TreeSelectionModel.SINGLE_TREE_SELECTION);
  MavenProjectsStructure treeStructure=new MavenProjectsStructure(myProject,MavenProjectsManager.getInstance(myProject),MavenTasksManager.getInstance(myProject),MavenShortcutsManager.getInstance(myProject),MavenProjectsNavigator.getInstance(myProject),myTree){
    @Override protected Class<? extends CustomNode>[] getVisibleNodesClasses(){
      return new Class[]{nodeClass};
    }
    @Override protected boolean showDescriptions(){
      return false;
    }
  }
;
  treeStructure.update();
  final SimpleNode[] selection=new SimpleNode[]{null};
  treeStructure.accept(new SimpleNodeVisitor(){
    public boolean accept(    SimpleNode each){
      if (!mySelector.shouldSelect(each))       return false;
      selection[0]=each;
      return true;
    }
  }
);
  if (selection[0] != null) {
    treeStructure.select(selection[0]);
  }
  init();
}
