{
  myTargets=new HashMap<BuildTargetType<?>,List<? extends BuildTarget<?>>>();
  List<List<? extends BuildTarget<?>>> targetsByType=new ArrayList<List<? extends BuildTarget<?>>>();
  for (  BuildTargetType<?> type : BuilderRegistry.getInstance().getTargetTypes()) {
    List<? extends BuildTarget<?>> targets=type.computeAllTargets(model);
    myTargets.put(type,targets);
    targetsByType.add(targets);
  }
  myDependencies=new HashMap<BuildTarget<?>,Collection<BuildTarget<?>>>();
  myAllTargets=Collections.unmodifiableList(ContainerUtil.concat(targetsByType));
}
