{
  URLConnection connection=request.getConnection();
  StringBuilder builder=new StringBuilder();
  builder.append("Cannot download '").append(connection.getURL().toExternalForm()).append("': ").append(e.getMessage());
  if (includeHeaders) {
    builder.append("\n, headers: ").append(connection.getHeaderFields());
  }
  if (connection instanceof HttpURLConnection) {
    HttpURLConnection httpConnection=(HttpURLConnection)connection;
    builder.append("\n, response: ").append(httpConnection.getResponseCode()).append(' ').append(httpConnection.getResponseMessage());
  }
  return builder.toString();
}
