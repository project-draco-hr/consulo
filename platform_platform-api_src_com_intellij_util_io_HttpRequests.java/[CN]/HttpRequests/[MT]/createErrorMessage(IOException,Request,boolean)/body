{
  StringBuilder builder=new StringBuilder();
  builder.append("Cannot download '").append(request.getURL()).append("': ").append(e.getMessage());
  try {
    URLConnection connection=request.getConnection();
    if (includeHeaders) {
      builder.append("\n, headers: ").append(connection.getHeaderFields());
    }
    if (connection instanceof HttpURLConnection) {
      HttpURLConnection httpConnection=(HttpURLConnection)connection;
      builder.append("\n, response: ").append(httpConnection.getResponseCode()).append(' ').append(httpConnection.getResponseMessage());
    }
  }
 catch (  Throwable ignored) {
  }
  return builder.toString();
}
