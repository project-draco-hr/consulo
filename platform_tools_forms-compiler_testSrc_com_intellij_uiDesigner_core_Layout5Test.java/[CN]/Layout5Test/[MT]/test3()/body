{
  final GridLayoutManager layoutManager=new GridLayoutManager(2,3,new Insets(0,0,0,0),0,0);
  final JPanel panel=new JPanel(layoutManager);
  final JTextField label1=new JTextField();
  label1.setPreferredSize(new Dimension(10,30));
  final JTextField label2=new JTextField();
  label2.setPreferredSize(new Dimension(10,30));
  final JTextField field1=new JTextField();
  field1.setPreferredSize(new Dimension(100,30));
  final JTextField field2=new JTextField();
  field2.setPreferredSize(new Dimension(100,30));
  panel.add(field1,new GridConstraints(0,1,1,2,GridConstraints.ANCHOR_CENTER,GridConstraints.FILL_BOTH,GridConstraints.SIZEPOLICY_WANT_GROW,GridConstraints.SIZEPOLICY_FIXED,new Dimension(0,0),null,null,0));
  panel.add(field2,new GridConstraints(1,0,1,2,GridConstraints.ANCHOR_CENTER,GridConstraints.FILL_BOTH,GridConstraints.SIZEPOLICY_WANT_GROW,GridConstraints.SIZEPOLICY_FIXED,new Dimension(0,0),null,null,0));
  panel.add(label1,new GridConstraints(0,0,1,1,GridConstraints.ANCHOR_CENTER,GridConstraints.FILL_BOTH,GridConstraints.SIZEPOLICY_FIXED,GridConstraints.SIZEPOLICY_FIXED,new Dimension(0,0),null,null,0));
  panel.add(label2,new GridConstraints(1,2,1,1,GridConstraints.ANCHOR_CENTER,GridConstraints.FILL_BOTH,GridConstraints.SIZEPOLICY_FIXED,GridConstraints.SIZEPOLICY_FIXED,new Dimension(0,0),null,null,0));
  final Dimension preferredSize=panel.getPreferredSize();
  final DimensionInfo horizontalInfo=layoutManager.myHorizontalInfo;
  assertEquals(GridConstraints.SIZEPOLICY_FIXED,horizontalInfo.getCellSizePolicy(0));
  assertEquals(GridConstraints.SIZEPOLICY_WANT_GROW | GridConstraints.SIZEPOLICY_CAN_SHRINK,horizontalInfo.getCellSizePolicy(1));
  assertEquals(GridConstraints.SIZEPOLICY_FIXED,horizontalInfo.getCellSizePolicy(2));
  assertEquals(110,preferredSize.width);
  assertEquals(60,preferredSize.height);
  panel.setSize(400,100);
  panel.doLayout();
  assertEquals(390,field1.getWidth());
  assertEquals(390,field2.getWidth());
  assertEquals(10,label1.getWidth());
  assertEquals(10,label2.getWidth());
}
