{
  Set<UserFileType> modifiedUserTypes=myOriginalToEditedMap.keySet();
  for (Iterator<UserFileType> iterator=modifiedUserTypes.iterator(); iterator.hasNext(); ) {
    UserFileType oldType=iterator.next();
    UserFileType newType=myOriginalToEditedMap.get(oldType);
    oldType.copyFrom(newType);
  }
  myOriginalToEditedMap.clear();
  ApplicationManager.getApplication().runWriteAction(new Runnable(){
    public void run(){
      myManager.setExtensionMap(myTempFileTypes,myTempExtension2TypeMap);
    }
  }
);
}
