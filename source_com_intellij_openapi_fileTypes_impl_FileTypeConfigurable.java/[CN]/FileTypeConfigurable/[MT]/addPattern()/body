{
  FileType type=myRecognizedFileType.getSelectedFileType();
  if (type == null)   return;
  String text=Messages.showInputDialog(myPatterns.myAddButton,FileTypesBundle.message("filetype.edit.add.pattern.prompt"),FileTypesBundle.message("filetype.edit.add.pattern.title"),Messages.getQuestionIcon());
  if (text == null || "".equals(text))   return;
  FileType registeredFileType=addNewPattern(type,text);
  if (registeredFileType != null) {
    Messages.showMessageDialog(myPatterns.myAddButton,FileTypesBundle.message("filetype.edit.add.pattern.exists.error",registeredFileType.getDescription()),FileTypesBundle.message("filetype.edit.add.pattern.exists.title"),Messages.getErrorIcon());
  }
}
