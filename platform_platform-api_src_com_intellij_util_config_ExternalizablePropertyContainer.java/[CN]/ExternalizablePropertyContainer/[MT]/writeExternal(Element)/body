{
  List<AbstractProperty> properties=new ArrayList<AbstractProperty>(myExternalizers.keySet());
  Collections.sort(properties,AbstractProperty.NAME_COMPARATOR);
  for (  AbstractProperty property : properties) {
    final Externalizer externalizer=myExternalizers.get(property);
    if (externalizer == null) {
      continue;
    }
    final Object propValue=property.get(this);
    if (!Comparing.equal(propValue,property.getDefault(this))) {
      final Element child=new Element(property.getName());
      externalizer.writeValue(child,propValue);
      element.addContent(child);
    }
  }
}
