{
  PsiDirectory targetDirectory;
  if (element instanceof PsiDirectory) {
    targetDirectory=((PsiDirectory)element).getParentDirectory();
  }
 else {
    targetDirectory=((PsiFile)element).getContainingDirectory();
  }
  PsiElement[] elements=new PsiElement[]{element};
  CopyFilesOrDirectoriesDialog dialog=new CopyFilesOrDirectoriesDialog(elements,null,element.getProject(),true);
  dialog.show();
  if (dialog.isOK()) {
    String newName=dialog.getNewName();
    copyImpl(elements,newName,targetDirectory,true);
  }
}
