{
  final StringBuffer classPathBuffer=new StringBuffer();
  classPathBuffer.append(getDestdir().getAbsolutePath());
  final Path classpath=getClasspath();
  if (classpath != null) {
    final String[] pathElements=classpath.list();
    for (int i=0; i < pathElements.length; i++) {
      final String pathElement=pathElements[i];
      classPathBuffer.append(File.pathSeparator);
      classPathBuffer.append(pathElement);
    }
  }
  classPathBuffer.append(File.pathSeparator);
  classPathBuffer.append(getInternalClassPath());
  final String classPath=classPathBuffer.toString();
  log("classpath=" + classPath,Project.MSG_INFO);
  try {
    return createClassLoader(classPath);
  }
 catch (  MalformedURLException e) {
    fireError(e.getMessage());
    return null;
  }
}
