{
  Exception sourceException=t.getUnderlyingException();
  if (!(sourceException instanceof IOException))   return t;
  String localizedMessage=t.getLocalizedMessage();
  if (!localizedMessage.startsWith(UNCHANDLED_RESPONSE_PREFIX))   return t;
  String response=localizedMessage.substring(UNCHANDLED_RESPONSE_PREFIX.length(),localizedMessage.length() - 1);
  if (response.startsWith(USER + "@" + HOST)) {
    return new IOCommandException(new IOException(com.intellij.CvsBundle.message("exception.text.ext.server.rejected.access")));
  }
 else {
    return new IOCommandException(new IOException(com.intellij.CvsBundle.message("exception.text.cannot.establish.external.connection",response)));
  }
}
