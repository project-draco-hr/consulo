{
  if (text.length() == 0)   return Collections.emptyList();
  EditorImpl editor=view.getEditor();
  FontRenderContext fontRenderContext=view.getFontRenderContext();
  FontPreferences fontPreferences=editor.getColorsScheme().getFontPreferences();
  char[] chars=CharArrayUtil.fromSequence(text);
  List<BidiRun> runs=createRuns(editor,chars,-1);
  for (  BidiRun run : runs) {
    for (    Chunk chunk : run.getChunks()) {
      addFragments(run,chunk,chars,chunk.startOffset,chunk.endOffset,fontStyle,fontPreferences,fontRenderContext,null);
    }
  }
  return runs;
}
