{
  CompilerCacheManager.getInstance(myProject).clearCaches(context);
  FileUtil.delete(CompilerPathsEx.getZipStoreDirectory(myProject));
  dropDependencyCache(context);
  for (  Pair<IntermediateOutputCompiler,Module> pair : myGenerationCompilerModuleToOutputDirMap.keySet()) {
    final File[] outputs={new File(CompilerPaths.getGenerationOutputPath(pair.getFirst(),pair.getSecond(),false)),new File(CompilerPaths.getGenerationOutputPath(pair.getFirst(),pair.getSecond(),true))};
    for (    File output : outputs) {
      final File[] files=output.listFiles();
      if (files != null) {
        for (        final File file : files) {
          final boolean deleteOk=deleteFile(file);
          if (!deleteOk) {
            context.addMessage(CompilerMessageCategory.ERROR,CompilerBundle.message("compiler.error.failed.to.delete",file.getPath()),null,-1,-1);
          }
        }
      }
    }
  }
}
