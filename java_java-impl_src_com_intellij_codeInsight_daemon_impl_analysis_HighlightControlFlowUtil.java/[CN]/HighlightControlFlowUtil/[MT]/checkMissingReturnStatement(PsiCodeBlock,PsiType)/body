{
  if (body == null || returnType == null || PsiType.VOID.equals(returnType)) {
    return null;
  }
  try {
    final ControlFlow controlFlow=getControlFlowNoConstantEvaluate(body);
    if (!ControlFlowUtil.returnPresent(controlFlow)) {
      final PsiJavaToken rBrace=body.getRBrace();
      final PsiElement context=rBrace == null ? body.getLastChild() : rBrace;
      final HighlightInfo highlightInfo=HighlightInfo.createHighlightInfo(HighlightInfoType.ERROR,context,JavaErrorMessages.message("missing.return.statement"));
      final PsiElement parent=body.getParent();
      if (parent instanceof PsiMethod) {
        final PsiMethod method=(PsiMethod)parent;
        QuickFixAction.registerQuickFixAction(highlightInfo,new AddReturnFix(method));
        IntentionAction fix=QUICK_FIX_FACTORY.createMethodReturnFix(method,PsiType.VOID,true);
        QuickFixAction.registerQuickFixAction(highlightInfo,fix);
      }
      return highlightInfo;
    }
  }
 catch (  AnalysisCanceledException e) {
  }
  return null;
}
