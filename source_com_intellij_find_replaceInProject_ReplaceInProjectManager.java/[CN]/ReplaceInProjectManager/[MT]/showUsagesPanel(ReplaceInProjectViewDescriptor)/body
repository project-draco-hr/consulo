{
  String name="Search result";
  String stringToFind=viewDescriptor.getFindModel().getStringToFind();
  if (stringToFind != null) {
    if (stringToFind.length() > 15) {
      stringToFind=stringToFind.substring(0,15) + "...";
    }
    name="Occurrences of '" + stringToFind + "'";
    if (viewDescriptor.getFindModel().isMultipleFiles()) {
      name+=" in " + FindInProjectUtil.getTitleForScope(viewDescriptor.getFindModel());
    }
  }
  UsageView usagesPanel=UsageViewManager.getInstance(myProject).addContent(name,viewDescriptor,false,false,false,new ProgressFactory(){
    public ProgressIndicator createProgress(){
      return new FindProgressIndicator(myProject,FindInProjectUtil.getTitleForScope(viewDescriptor.getFindModel()));
    }
    public boolean continueOnCancel(){
      return true;
    }
  }
);
  usagesPanel.addButton(0,new ReplaceSelectedAction(usagesPanel,viewDescriptor));
  addReplaceAllAction(usagesPanel,viewDescriptor);
  return usagesPanel;
}
