{
  settings.LINE_SEPARATOR=getSelectedLineSeparator();
  settings.USE_SAME_INDENTS=myCbUseSameIndents.isSelected();
  myJavaIndentOptions.apply(settings,settings.JAVA_INDENT_OPTIONS);
  myJspIndentOptions.apply(settings,settings.JSP_INDENT_OPTIONS);
  myXMLIndentOptions.apply(settings,settings.XML_INDENT_OPTIONS);
  myOtherIndentOptions.apply(settings,settings.OTHER_INDENT_OPTIONS);
  for (  FileType fileType : settings.getFileTypesWithAdditionalIndentOptions()) {
    myAdditionalIndentOptions.get(fileType).apply(settings,settings.getAdditionalIndentOptions(fileType));
  }
  int rightMarginImpl=getRightMarginImpl();
  if (rightMarginImpl > 0) {
    settings.RIGHT_MARGIN=rightMarginImpl;
  }
}
