{
  final ElementManipulator<PsiElement> manipulator=ElementManipulators.getManipulator(psiElement);
  if (manipulator == null) {
    return false;
  }
  final TextRange range=manipulator.getRangeInElement(psiElement);
  final String s=range.substring(psiElement.getText());
  if (s.startsWith("http://") || s.startsWith("https://")) {
    references.add(new WebReference(psiElement,range));
  }
 else   if (s.contains("://") || s.startsWith("//") || startsWithAllowedPrefix(s)) {
    final PsiReference reference=PsiReferenceBase.createSelfReference(psiElement,psiElement);
    references.add(reference);
    return true;
  }
  return false;
}
