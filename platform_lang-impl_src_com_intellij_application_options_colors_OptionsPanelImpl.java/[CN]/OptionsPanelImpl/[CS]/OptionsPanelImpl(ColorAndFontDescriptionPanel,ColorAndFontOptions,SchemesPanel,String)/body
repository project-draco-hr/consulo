{
  super(new BorderLayout());
  myOptions=options;
  mySchemesProvider=schemesProvider;
  myCategoryName=categoryName;
  optionsPanel.setActionListener(new ActionListener(){
    @Override public void actionPerformed(    final ActionEvent e){
      myDispatcher.getMulticaster().settingsChanged();
    }
  }
);
  myOptionsList=new JBList();
  myOptionsList.addListSelectionListener(new ListSelectionListener(){
    @Override public void valueChanged(    ListSelectionEvent e){
      if (!mySchemesProvider.areSchemesLoaded())       return;
      processListValueChanged();
    }
  }
);
  myOptionsList.setCellRenderer(new DefaultListCellRenderer(){
    @Override public Component getListCellRendererComponent(    JList list,    Object value,    int index,    boolean isSelected,    boolean cellHasFocus){
      Component component=super.getListCellRendererComponent(list,value,index,isSelected,cellHasFocus);
      if (value instanceof ColorAndFontDescription) {
        setIcon(((ColorAndFontDescription)value).getIcon());
        setToolTipText(((ColorAndFontDescription)value).getToolTip());
      }
      return component;
    }
  }
);
  myOptionsList.setModel(new DefaultListModel());
  myOptionsList.setSelectionMode(ListSelectionModel.SINGLE_SELECTION);
  JScrollPane scrollPane=ScrollPaneFactory.createScrollPane(myOptionsList);
  scrollPane.setPreferredSize(new Dimension(230,60));
  JPanel north=new JPanel(new BorderLayout());
  north.add(scrollPane,BorderLayout.CENTER);
  north.add(optionsPanel,BorderLayout.EAST);
  myOptionsPanel=optionsPanel;
  add(north,BorderLayout.NORTH);
}
