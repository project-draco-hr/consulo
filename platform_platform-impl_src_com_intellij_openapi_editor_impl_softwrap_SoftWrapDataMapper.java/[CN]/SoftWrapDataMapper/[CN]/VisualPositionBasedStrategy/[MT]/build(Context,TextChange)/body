{
  if (myTargetVisual.line == context.visualLine) {
    context.softWrapColumnDiff=myTargetVisual.column - context.logicalColumn - context.foldingColumnDiff;
  }
 else {
    context.foldingColumnDiff=0;
    context.softWrapLinesCurrent+=myTargetVisual.line - context.visualLine;
    context.softWrapColumnDiff=myTargetVisual.column - context.logicalColumn;
  }
  return context.build();
}
