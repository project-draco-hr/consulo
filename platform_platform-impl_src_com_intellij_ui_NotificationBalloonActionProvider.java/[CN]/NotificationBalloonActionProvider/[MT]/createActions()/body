{
  myActions=new ArrayList<BalloonImpl.ActionButton>();
  if (!myLayoutData.showSettingButton || myDisplayGroupId == null || !NotificationsConfigurationImpl.getInstanceImpl().isRegistered(myDisplayGroupId)) {
    mySettingButton=null;
  }
 else {
    mySettingButton=myBalloon.new ActionButton(AllIcons.Ide.Notification.Gear,AllIcons.Ide.Notification.GearHover,"Configure Notification",new Consumer<MouseEvent>(){
      @Override public void consume(      MouseEvent event){
        myBalloon.runWithSmartFadeoutPause(new Runnable(){
          @Override public void run(){
            final NotificationsConfigurable configurable=new NotificationsConfigurable();
            ShowSettingsUtil.getInstance().editConfigurable(myLayoutData.project,configurable,new Runnable(){
              @Override public void run(){
                configurable.enableSearch(myDisplayGroupId).run();
              }
            }
);
          }
        }
);
      }
    }
){
      @Override public void repaint(){
        super.repaint();
        if (myRepaintPanel != null) {
          myRepaintPanel.repaint();
        }
      }
    }
;
    myActions.add(mySettingButton);
    if (myRepaintPanel != null) {
      myLayoutData.showActions=new Computable<Boolean>(){
        @Override public Boolean compute(){
          for (          BalloonImpl.ActionButton action : myActions) {
            if (!action.isShowing() || !action.hasPaint()) {
              return Boolean.FALSE;
            }
          }
          return Boolean.TRUE;
        }
      }
;
    }
  }
  myCloseButton=myBalloon.new ActionButton(AllIcons.Ide.Notification.Close,AllIcons.Ide.Notification.CloseHover,"Close Notification (Alt-Click close all notifications)",new Consumer<MouseEvent>(){
    @Override public void consume(    MouseEvent event){
      final int modifiers=event.getModifiers();
      SwingUtilities.invokeLater(new Runnable(){
        @Override public void run(){
          if ((modifiers & InputEvent.ALT_MASK) != 0) {
            myLayoutData.closeAll.run();
          }
 else {
            myBalloon.hide();
          }
        }
      }
);
    }
  }
){
    @Override protected void paintIcon(    @NotNull Graphics g,    @NotNull Icon icon){
      icon.paintIcon(this,g,CloseHoverBounds.x,CloseHoverBounds.y);
    }
  }
;
  myActions.add(myCloseButton);
  return myActions;
}
