{
  int childCount=node.getChildCount();
  List<AbstractTreeNode> result=new ArrayList<AbstractTreeNode>(childCount);
  for (int i=0; i < childCount; i++) {
    TreeNode childAt=node.getChildAt(i);
    DefaultMutableTreeNode defaultMutableTreeNode=(DefaultMutableTreeNode)childAt;
    if (defaultMutableTreeNode.getUserObject() instanceof AbstractTreeNode) {
      ProjectViewNode treeNode=(ProjectViewNode)defaultMutableTreeNode.getUserObject();
      result.add(treeNode);
    }
 else     if (defaultMutableTreeNode.getUserObject() instanceof FavoritesTreeNodeDescriptor) {
      AbstractTreeNode treeNode=((FavoritesTreeNodeDescriptor)defaultMutableTreeNode.getUserObject()).getElement();
      result.add(treeNode);
    }
  }
  return result;
}
