{
  if (psiFile instanceof XmlFile) {
    StructureViewBuilder builder=getStructureViewBuilderForExtensions(psiFile);
    if (builder != null) {
      return builder;
    }
    for (    XmlStructureViewBuilderProvider xmlStructureViewBuilderProvider : getStructureViewBuilderProviders()) {
      final StructureViewBuilder structureViewBuilder=xmlStructureViewBuilderProvider.createStructureViewBuilder((XmlFile)psiFile);
      if (structureViewBuilder != null) {
        return structureViewBuilder;
      }
    }
    return new TreeBasedStructureViewBuilder(){
      @NotNull public StructureViewModel createStructureViewModel(){
        return new XmlStructureViewTreeModel((XmlFile)psiFile);
      }
    }
;
  }
 else {
    return null;
  }
}
