{
  final VirtualFile child=prepareDirectoriesForRename();
  renameFileInCommand(child,"newchild");
  checkin();
  final ProcessOutput runResult=runSvn("log","-q","newchild/a.txt");
  verify(runResult);
  final List<String> lines=StringUtil.split(runResult.getStdout(),"\n");
  for (Iterator<String> iterator=lines.iterator(); iterator.hasNext(); ) {
    final String next=iterator.next();
    if (next.startsWith(LOG_SEPARATOR_START)) {
      iterator.remove();
    }
  }
  Assert.assertEquals(2,lines.size());
  Assert.assertTrue(lines.get(0).startsWith("r2 |"));
  Assert.assertTrue(lines.get(1).startsWith("r1 |"));
}
