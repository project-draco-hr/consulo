{
  for (Iterator<AbstractTreeNode> iterator=myFavorites.iterator(); iterator.hasNext(); ) {
    AbstractTreeNode favoritesTreeElement=iterator.next();
    Element favorite=new Element("favorite_root");
    final Object value=favoritesTreeElement.getValue();
    createUrlByElement(value instanceof SmartPsiElementPointer ? ((SmartPsiElementPointer)value).getElement() : value).write(favorite);
    favorite.setAttribute("klass",favoritesTreeElement.getClass().getName());
    element.addContent(favorite);
  }
  myFavoritesConfiguration.writeExternal(element);
}
