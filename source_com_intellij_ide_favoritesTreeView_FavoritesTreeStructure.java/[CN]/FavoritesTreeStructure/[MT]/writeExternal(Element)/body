{
  final Object[] favorites=getChildElements(myRoot);
  for (  Object favoriteElement : favorites) {
    final AbstractTreeNode favoritesTreeElement=(AbstractTreeNode)favoriteElement;
    final Element favorite=new Element(FAVORITES_ROOT);
    final Object value=favoritesTreeElement.getValue();
    if (value instanceof String) {
      continue;
    }
    final AbstractUrl url=createUrlByElement(value instanceof SmartPsiElementPointer ? ((SmartPsiElementPointer)value).getElement() : value);
    if (url != null) {
      url.write(favorite);
      favorite.setAttribute(CLASS_NAME,favoritesTreeElement.getClass().getName());
      element.addContent(favorite);
    }
  }
  myFavoritesConfiguration.writeExternal(element);
}
