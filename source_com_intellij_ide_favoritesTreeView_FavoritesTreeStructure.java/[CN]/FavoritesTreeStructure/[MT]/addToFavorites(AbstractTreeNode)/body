{
  Object elementToAdd=treeNode.getValue() instanceof SmartPsiElementPointer ? ((SmartPsiElementPointer)treeNode.getValue()).getElement() : treeNode.getValue();
  for (  AbstractTreeNode node : myFavorites) {
    Object element=node.getValue() instanceof SmartPsiElementPointer ? ((SmartPsiElementPointer)node.getValue()).getElement() : node.getValue();
    if (Comparing.equal(element,elementToAdd))     return;
  }
  myFavorites.add(treeNode);
}
