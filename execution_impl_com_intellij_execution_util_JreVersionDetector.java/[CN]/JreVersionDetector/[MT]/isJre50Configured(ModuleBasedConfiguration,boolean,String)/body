{
  if (altPathEnabled) {
    if (jrePath.equals(myLastAlternativeJrePath))     return myLastIsJre50;
    myLastAlternativeJrePath=jrePath;
    final String versionString=JavaSdkImpl.getJdkVersion(jrePath);
    myLastIsJre50=versionString != null && isJre50(versionString);
    return myLastIsJre50;
  }
 else {
    final Module module=configuration.getConfigurationModule().getModule();
    if (module != null && !module.isDisposed()) {
      final ModuleRootManager rootManager=ModuleRootManager.getInstance(module);
      final Sdk jdk=rootManager.getSdk();
      return isJre50(jdk);
    }
    final Sdk projectJdk=ProjectRootManager.getInstance(configuration.getProject()).getProjectJdk();
    return isJre50(projectJdk);
  }
}
