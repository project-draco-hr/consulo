{
  return new NameSuggestionsGenerator(){
    private final JavaCodeStyleManager myCodeStyleManager=JavaCodeStyleManager.getInstance(myProject);
    public SuggestedNameInfo getSuggestedNameInfo(    PsiType type){
      VariableKind variableKind=myWillBeDeclaredStatic ? VariableKind.STATIC_FIELD : VariableKind.FIELD;
      String propertyName=null;
      if (myIsInvokedOnDeclaration) {
        propertyName=myCodeStyleManager.variableNameToPropertyName(myLocalVariable.getName(),VariableKind.LOCAL_VARIABLE);
      }
      final SuggestedNameInfo nameInfo=myCodeStyleManager.suggestVariableName(variableKind,propertyName,myInitializerExpression,type);
      final String[] strings=JavaCompletionUtil.completeVariableNameForRefactoring(myCodeStyleManager,type,VariableKind.LOCAL_VARIABLE,nameInfo);
      return new SuggestedNameInfo.Delegate(strings,nameInfo);
    }
  }
;
}
