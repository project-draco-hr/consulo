{
  return new NameSuggestionsGenerator(){
    private final JavaCodeStyleManager myCodeStyleManager=JavaCodeStyleManager.getInstance(localVariable != null ? localVariable.getProject() : initializerExpression.getProject());
    public SuggestedNameInfo getSuggestedNameInfo(    PsiType type){
      VariableKind variableKind=willBeDeclaredStatic ? VariableKind.STATIC_FIELD : VariableKind.FIELD;
      String propertyName=null;
      if (isInvokedOnDeclaration) {
        propertyName=myCodeStyleManager.variableNameToPropertyName(localVariable.getName(),VariableKind.LOCAL_VARIABLE);
      }
      final SuggestedNameInfo nameInfo=myCodeStyleManager.suggestVariableName(variableKind,propertyName,initializerExpression,type);
      final String[] strings=JavaCompletionUtil.completeVariableNameForRefactoring(myCodeStyleManager,type,VariableKind.LOCAL_VARIABLE,nameInfo);
      return new SuggestedNameInfo.Delegate(enteredName != null ? ArrayUtil.mergeArrays(new String[]{enteredName},strings) : strings,nameInfo);
    }
  }
;
}
