{
  if (myContext.var != null) {
    myTypeComboBox=GrTypeComboBox.createTypeComboBoxWithDefType(myContext.var.getDeclaredType());
  }
 else {
    myTypeComboBox=GrTypeComboBox.createTypeComboBoxFromExpression(myContext.expression);
  }
  String[] possibleNames;
  final GrIntroduceContext introduceContext=new GrIntroduceContext(myProject,null,myContext.expression,myContext.var,PsiElement.EMPTY_ARRAY,myContext.toReplaceIn);
  final GroovyFieldValidator validator=new GroovyFieldValidator(introduceContext);
  if (myContext.expression != null) {
    possibleNames=GroovyNameSuggestionUtil.suggestVariableNames(myContext.expression,validator,true);
  }
 else {
    possibleNames=GroovyNameSuggestionUtil.suggestVariableNameByType(myContext.var.getType(),validator);
  }
  if (myContext.var != null) {
    String[] arr=new String[possibleNames.length + 1];
    arr[0]=myContext.var.getName();
    System.arraycopy(possibleNames,0,arr,1,possibleNames.length);
    possibleNames=arr;
  }
  myNameSuggestionsField=new NameSuggestionsField(possibleNames,myContext.project,GroovyFileType.GROOVY_FILE_TYPE);
}
