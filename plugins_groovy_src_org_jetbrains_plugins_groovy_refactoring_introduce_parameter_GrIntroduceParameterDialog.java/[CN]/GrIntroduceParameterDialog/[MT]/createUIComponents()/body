{
  if (myContext.getVar() != null) {
    myTypeComboBox=GrTypeComboBox.createTypeComboBoxWithDefType(myContext.getVar().getDeclaredType());
  }
 else {
    myTypeComboBox=GrTypeComboBox.createTypeComboBoxFromExpression(myContext.getExpression());
  }
  String[] possibleNames;
  final GrIntroduceContext introduceContext=new GrIntroduceContextImpl(myProject,null,myContext.getExpression(),myContext.getVar(),PsiElement.EMPTY_ARRAY,myContext.getToReplaceIn());
  final GroovyFieldValidator validator=new GroovyFieldValidator(introduceContext);
  if (myContext.getExpression() != null) {
    possibleNames=GroovyNameSuggestionUtil.suggestVariableNames(myContext.getExpression(),validator,true);
  }
 else {
    possibleNames=GroovyNameSuggestionUtil.suggestVariableNameByType(myContext.getVar().getType(),validator);
  }
  if (myContext.getVar() != null) {
    String[] arr=new String[possibleNames.length + 1];
    arr[0]=myContext.getVar().getName();
    System.arraycopy(possibleNames,0,arr,1,possibleNames.length);
    possibleNames=arr;
  }
  myNameSuggestionsField=new NameSuggestionsField(possibleNames,myContext.getProject(),GroovyFileType.GROOVY_FILE_TYPE);
}
