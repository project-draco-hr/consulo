{
  final VirtualFile vcsRoot=HgUtil.getHgRootOrThrow(myProject,filePath);
  final List<HgFileRevision> history=getHistory(filePath,vcsRoot,myProject,DEFAULT_LIMIT);
  if (history.size() == 0)   return;
  final VcsAbstractHistorySession emptySession=new VcsAbstractHistorySession(Collections.<VcsFileRevision>emptyList()){
    @Nullable protected VcsRevisionNumber calcCurrentRevisionNumber(){
      return new HgWorkingCopyRevisionsCommand(myProject).firstParent(vcsRoot);
    }
    public HistoryAsTreeProvider getHistoryAsTreeProvider(){
      return null;
    }
  }
;
  partner.reportCreatedEmptySession(emptySession);
  for (  HgFileRevision hgFileRevision : history) {
    partner.acceptRevision(hgFileRevision);
  }
  partner.finished();
}
