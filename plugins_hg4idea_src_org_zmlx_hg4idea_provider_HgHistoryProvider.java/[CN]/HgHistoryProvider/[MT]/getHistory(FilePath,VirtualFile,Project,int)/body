{
  final HgLogCommand logCommand=new HgLogCommand(project);
  logCommand.setFollowCopies(!filePath.isDirectory());
  logCommand.setIncludeRemoved(true);
  try {
    return logCommand.execute(new HgFile(vcsRoot,filePath),limit,false);
  }
 catch (  HgCommandException e) {
    new HgCommandResultNotifier(project).notifyError(null,"Mercurial log command error ",e.getMessage());
    return Collections.emptyList();
  }
}
