{
  List<OrderEntry> existingEntries=new ArrayList<OrderEntry>();
  final LibrariesContainer container=myModel.getLibrariesContainer();
  for (  OrderEntry entry : rootModel.getOrderEntries()) {
    if (!(entry instanceof LibraryOrderEntry))     continue;
    final Library library=((LibraryOrderEntry)entry).getLibrary();
    if (library == null)     continue;
    if (LibraryPresentationManager.getInstance().isLibraryOfKind(library,container,description.getSuitableLibraryKinds())) {
      existingEntries.add(entry);
    }
  }
  if (!existingEntries.isEmpty()) {
    String message;
    if (existingEntries.size() > 1) {
      message="There are already " + existingEntries.size() + " "+ myFrameworkType.getPresentableName()+ " libraries.\n Do you want to replace they?";
    }
 else {
      final String name=existingEntries.get(0).getPresentableName();
      message="There is already a " + myFrameworkType.getPresentableName() + " library '"+ name+ "'.\n Do you want to replace it?";
    }
    final int result=Messages.showYesNoCancelDialog(rootModel.getProject(),message,"Library Already Exists","&Replace","&Add","&Cancel",null);
    if (result == 0) {
      for (      OrderEntry entry : existingEntries) {
        rootModel.removeOrderEntry(entry);
      }
    }
 else     if (result != 1) {
      return false;
    }
  }
  return true;
}
