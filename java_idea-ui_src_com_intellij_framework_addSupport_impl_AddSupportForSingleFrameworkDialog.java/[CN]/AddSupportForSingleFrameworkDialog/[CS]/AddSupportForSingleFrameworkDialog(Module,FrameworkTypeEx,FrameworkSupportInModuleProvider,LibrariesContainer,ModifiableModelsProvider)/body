{
  super(module.getProject(),true);
  VirtualFile[] roots=ModuleRootManager.getInstance(module).getContentRoots();
  final VirtualFile baseDir=roots.length > 0 ? roots[0] : module.getProject().getBaseDir();
  final String baseDirectoryForLibraries=baseDir != null ? baseDir.getPath() : "";
  myFrameworkType=frameworkType;
  myModifiableModelsProvider=modifiableModelsProvider;
  setTitle(ProjectBundle.message("dialog.title.add.framework.0.support",frameworkType.getPresentableName()));
  myModule=module;
  myModel=new FrameworkSupportModelImpl(module.getProject(),baseDirectoryForLibraries,librariesContainer);
  myConfigurable=provider.createConfigurable(myModel);
  myComponent=new FrameworkSupportOptionsComponent(myModel,myModel.getLibrariesContainer(),myDisposable,myConfigurable,null);
  Disposer.register(myDisposable,myConfigurable);
  init();
}
