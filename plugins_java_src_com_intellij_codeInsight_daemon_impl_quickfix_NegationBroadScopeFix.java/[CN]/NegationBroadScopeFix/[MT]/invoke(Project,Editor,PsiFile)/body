{
  if (!FileModificationService.getInstance().preparePsiElementForWrite(myPrefixExpression))   return;
  PsiExpression operand=myPrefixExpression.getOperand();
  PsiElement unnegated=myPrefixExpression.replace(operand);
  PsiElement parent=unnegated.getParent();
  PsiElementFactory factory=JavaPsiFacade.getInstance(file.getProject()).getElementFactory();
  PsiPrefixExpression negated=(PsiPrefixExpression)factory.createExpressionFromText("!(xxx)",parent);
  PsiParenthesizedExpression parentheses=(PsiParenthesizedExpression)negated.getOperand();
  parentheses.getExpression().replace(parent.copy());
  parent.replace(negated);
}
