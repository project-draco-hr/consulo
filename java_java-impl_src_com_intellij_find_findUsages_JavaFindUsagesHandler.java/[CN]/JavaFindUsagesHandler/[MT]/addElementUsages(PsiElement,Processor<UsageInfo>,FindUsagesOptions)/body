{
  if (element instanceof PsiMethod) {
    addMethodUsages((PsiMethod)element,results,options,options.searchScope);
  }
 else {
    final ReadActionProcessor<PsiReference> consumer=new ReadActionProcessor<PsiReference>(){
      public boolean processInReadAction(      final PsiReference ref){
        return addResult(results,ref,options,element);
      }
    }
;
    if (options.fastTrack != null) {
      SearchRequestor.contributeTargets(element,options,options.fastTrack,consumer);
      return;
    }
    ReferencesSearch.search(element,options.searchScope,false).forEach(consumer);
  }
}
