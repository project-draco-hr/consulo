{
  DocumentImpl statusDoc=new DocumentImpl(true);
  statusDoc.setText(logDoc.getText());
  List<RangeMarker> statusSeparators=new ArrayList<RangeMarker>();
  for (  RangeMarker separator : lineSeparators) {
    if (separator.isValid()) {
      statusSeparators.add(statusDoc.createRangeMarker(separator.getStartOffset(),separator.getEndOffset()));
    }
  }
  removeJavaNewLines(statusDoc,statusSeparators,hasHtml);
  insertNewLineSubstitutors(statusDoc,showMore,statusSeparators);
  return statusDoc.getText();
}
