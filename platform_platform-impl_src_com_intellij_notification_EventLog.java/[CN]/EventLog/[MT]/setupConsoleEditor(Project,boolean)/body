{
  EditorEx editor=(EditorEx)EditorFactory.getInstance().createViewer(((EditorFactoryImpl)EditorFactory.getInstance()).createDocument(true),project);
  editor.setSoftWrapAppliancePlace(SoftWrapAppliancePlaces.CONSOLE);
  final EditorSettings editorSettings=editor.getSettings();
  editorSettings.setLineMarkerAreaShown(false);
  editorSettings.setIndentGuidesShown(false);
  editorSettings.setLineNumbersShown(false);
  editorSettings.setFoldingOutlineShown(foldingOutlineShown);
  editorSettings.setAdditionalPageAtBottom(false);
  editorSettings.setAdditionalColumnsCount(0);
  editorSettings.setAdditionalLinesCount(0);
  final DelegateColorScheme scheme=new DelegateColorScheme(editor.getColorsScheme()){
    @Override public Color getDefaultBackground(){
      final Color color=getColor(ConsoleViewContentType.CONSOLE_BACKGROUND_KEY);
      return color == null ? super.getDefaultBackground() : color;
    }
  }
;
  editor.setColorsScheme(scheme);
  scheme.setColor(EditorColors.CARET_ROW_COLOR,null);
  scheme.setColor(EditorColors.RIGHT_MARGIN_COLOR,null);
  return editor;
}
