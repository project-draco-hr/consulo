{
  highlightFlags=BitUtil.set(highlightFlags,flag,true);
  Integer oldSeverity=mySeverityMap == null ? null : mySeverityMap.get(key);
  if (oldSeverity != null && severity <= oldSeverity) {
    return;
  }
  if (severity != 0) {
    if (mySeverityMap == null) {
      mySeverityMap=new HashMap<String,Integer>();
    }
    mySeverityMap.put(key,severity);
  }
  if (myStyles == null) {
    myStyles=new ArrayList<StyleInfo>();
  }
  myStyles.add(new StyleInfo(key,value,tooltip,flag));
  Style style=getElement().getStyle();
  if (key.equals("textDecoration")) {
    String oldValue=style.getProperty(key);
    if (oldValue != null) {
      style.setProperty(key,oldValue + " " + value);
      return;
    }
  }
  style.setProperty(key,value);
}
