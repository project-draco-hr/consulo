{
  final AnnotateOperation operation=AnnotateOperation.createForFile(new File(file.getPath()));
  final CvsOperationExecutor executor=new CvsOperationExecutor(true,myProject,ModalityState.defaultModalityState());
  executor.performActionSync(new CommandCvsHandler("Annotate",operation),CvsOperationExecutorCallback.EMPTY);
  if (executor.getResult().hasNoErrors()) {
    return new CvsFileAnnotation(operation.getContent(),operation.getLineAnnotations(),file);
  }
 else {
    throw executor.getFirstError();
  }
}
