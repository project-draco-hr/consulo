{
  String name=helper.getOutputName();
  PsiType type=helper.getOutputType();
  GrStatement[] statements=helper.getStatements();
  GrMethodCallExpression callExpression=createMethodCallByHelper(methodName,helper);
  if ((name == null || PsiType.VOID.equals(type)) && !helper.isReturnStatement())   return callExpression;
  GroovyPsiElementFactory factory=GroovyPsiElementFactory.getInstance(helper.getProject());
  if (helper.isReturnStatement()) {
    return factory.createStatementFromText("return " + callExpression.getText());
  }
 else   if (name != null && mustAddVariableDeclaration(statements,name)) {
    return factory.createVariableDeclaration(ArrayUtil.EMPTY_STRING_ARRAY,callExpression,type.equalsToText("java.lang.Object") ? null : type,name);
  }
 else {
    return factory.createExpressionFromText(name + "= " + callExpression.getText());
  }
}
