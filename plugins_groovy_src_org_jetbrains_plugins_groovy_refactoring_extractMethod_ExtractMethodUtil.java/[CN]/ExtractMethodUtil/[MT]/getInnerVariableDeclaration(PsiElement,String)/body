{
  if (element instanceof GrReferenceExpression) {
    GrReferenceExpression expr=(GrReferenceExpression)element;
    if (name.equals(expr.getName())) {
      PsiReference ref=expr.getReference();
      if (ref != null) {
        PsiElement resolved=ref.resolve();
        if (resolved instanceof GrVariable && !(resolved instanceof GrField)) {
          return ((GrVariable)resolved);
        }
      }
      return null;
    }
 else {
      return null;
    }
  }
  for (  PsiElement child : element.getChildren()) {
    GrVariable res=getInnerVariableDeclaration(child,name);
    if (res != null)     return res;
  }
  return null;
}
