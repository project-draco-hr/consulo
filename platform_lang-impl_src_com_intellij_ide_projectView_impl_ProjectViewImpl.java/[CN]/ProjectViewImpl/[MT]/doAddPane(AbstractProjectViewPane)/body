{
  int index;
  for (index=0; index < myCombo.getItemCount(); index++) {
    Pair<String,String> ids=(Pair<String,String>)myCombo.getItemAt(index);
    String id=ids.first;
    AbstractProjectViewPane pane=myId2Pane.get(id);
    int comp=PANE_WEIGHT_COMPARATOR.compare(pane,newPane);
    if (comp == 0) {
      System.out.println("here");
    }
    LOG.assertTrue(comp != 0);
    if (comp > 0) {
      break;
    }
  }
  final String id=newPane.getId();
  myId2Pane.put(id,newPane);
  String[] subIds=newPane.getSubIds();
  subIds=ArrayUtil.mergeArrays(new String[]{null},subIds,String.class);
  for (  String subId : subIds) {
    myCombo.insertItemAt(Pair.create(id,subId),index++);
  }
  myCombo.setMaximumRowCount(myCombo.getItemCount());
  if (id.equals(mySavedPaneId)) {
    changeView(mySavedPaneId,mySavedPaneSubId);
    mySavedPaneId=null;
    mySavedPaneSubId=null;
  }
  Disposer.register(this,newPane);
}
