{
  final Project project=resource.getProject();
  final JavaPsiFacade facade=JavaPsiFacade.getInstance(project);
  final PsiClass autoCloseable=facade.findClass(CommonClassNames.JAVA_LANG_AUTO_CLOSEABLE,ProjectScope.getLibrariesScope(project));
  if (autoCloseable != null) {
    final PsiMethod[] methods=autoCloseable.findMethodsByName("close",false);
    if (methods.length == 1) {
      final MethodSignature signature=methods[0].getSignature(PsiSubstitutor.EMPTY);
      final PsiType resourceType=resource.getType();
      if (resourceType instanceof PsiClassType) {
        final PsiClass resourceClass=((PsiClassType)resourceType).resolve();
        if (resourceClass != null) {
          final PsiMethod method=MethodSignatureUtil.findMethodBySignature(resourceClass,signature,true);
          if (method != null) {
            return getUnhandledExceptions(method,resource,topElement,PsiSubstitutor.EMPTY);
          }
        }
      }
    }
  }
  return Collections.emptyList();
}
