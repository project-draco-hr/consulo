{
  final DataFlavor flavor=CopyReferenceAction.getFlavor();
  if (flavor == null) {
    return null;
  }
  Transferable transferable=null;
  Producer<Transferable> transferableProducer=(Producer<Transferable>)dataContext.getData(PasteHandler.TRANSFERABLE_PROVIDER);
  if (transferableProducer != null) {
    transferable=transferableProducer.produce();
    if (transferable == null) {
      transferable=CopyPasteManager.getInstance().getContents();
    }
  }
  if (transferable == null)   return null;
  try {
    if (flavor != null) {
      return (String)transferable.getTransferData(flavor);
    }
  }
 catch (  UnsupportedFlavorException e) {
  }
catch (  IOException e) {
  }
catch (  NoClassDefFoundError e) {
  }
  return null;
}
