{
  @SuppressWarnings("unchecked") final Producer<Transferable> transferableProducer=(Producer<Transferable>)dataContext.getData(PasteHandler.TRANSFERABLE_PROVIDER);
  if (transferableProducer == null)   return null;
  final Transferable transferable=transferableProducer.produce();
  if (transferable != null) {
    try {
      return (String)transferable.getTransferData(CopyReferenceAction.ourFlavor);
    }
 catch (    Exception ignored) {
    }
  }
  final CopyPasteManager manager=CopyPasteManager.getInstance();
  if (manager.isDataFlavorAvailable(CopyReferenceAction.ourFlavor)) {
    final Transferable contents=manager.getContents();
    if (contents != null) {
      try {
        return (String)contents.getTransferData(CopyReferenceAction.ourFlavor);
      }
 catch (      Exception ignored) {
      }
    }
  }
  return null;
}
