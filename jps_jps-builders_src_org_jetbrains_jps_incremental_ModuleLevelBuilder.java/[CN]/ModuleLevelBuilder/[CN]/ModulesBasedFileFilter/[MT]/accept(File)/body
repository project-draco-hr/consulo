{
  final RootDescriptor rd=myContext.getProjectDescriptor().rootsIndex.getModuleAndRoot(myContext,file);
  if (rd == null) {
    return true;
  }
  final JpsModule moduleOfFile=myContext.getProjectDescriptor().rootsIndex.getModuleByName(rd.module);
  if (myChunkModules.contains(moduleOfFile)) {
    return true;
  }
  Set<JpsModule> moduleOfFileWithDependencies=myCache.get(moduleOfFile);
  if (moduleOfFileWithDependencies == null) {
    moduleOfFileWithDependencies=ProjectPaths.getModulesWithDependentsRecursively(moduleOfFile,true);
    myCache.put(moduleOfFile,moduleOfFileWithDependencies);
  }
  return Utils.intersects(moduleOfFileWithDependencies,myChunkModules);
}
