{
  if (isDetached()) {
    if (myPopup != null) {
      return new ActionCallback.Done();
    }
  }
  final Content[] contents=getContents();
  myRestoreFromDetach=new CellTransform.Restore.List();
  myRestoreFromDetach.add(myPlaceholder.detach());
  myRestoreFromDetach.add(myContainer.detach(contents));
  myRestoreFromDetach.add(new CellTransform.Restore(){
    public ActionCallback restoreInGrid(){
      ensureVisible();
      return new ActionCallback.Done();
    }
  }
);
  myPopup=createPopup(dragging,requestFocus);
  myPopup.setSize(size);
  myPopup.setLocation(screenPoint);
  myPopup.show(myContext.getContentManager().getComponent());
  myContext.saveUiState();
  myTabs.updateTabActions(true);
  return new ActionCallback.Done();
}
