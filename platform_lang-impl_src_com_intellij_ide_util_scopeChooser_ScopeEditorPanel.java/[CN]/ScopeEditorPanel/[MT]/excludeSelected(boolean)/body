{
  final ArrayList<PackageSet> selected=getSelectedSets(recurse);
  if (selected == null || selected.isEmpty())   return;
  for (  PackageSet set : selected) {
    if (myCurrentScope == null) {
      myCurrentScope=new ComplementPackageSet(set);
    }
 else {
      final boolean[] append={true};
      final PackageSet simplifiedScope=processComplementaryScope(myCurrentScope,set,false,append);
      if (!append[0]) {
        myCurrentScope=simplifiedScope;
      }
 else {
        myCurrentScope=simplifiedScope != null ? new IntersectionPackageSet(simplifiedScope,new ComplementPackageSet(set)) : new ComplementPackageSet(set);
      }
    }
  }
  rebuild(true);
}
