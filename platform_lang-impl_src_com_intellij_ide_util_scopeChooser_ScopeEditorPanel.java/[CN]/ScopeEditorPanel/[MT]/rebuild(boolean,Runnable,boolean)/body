{
  myUpdateAlarm.cancelAllRequests();
  final Runnable request=new Runnable(){
    public void run(){
      ApplicationManager.getApplication().executeOnPooledThread(new Runnable(){
        public void run(){
          myIsInUpdate=true;
          if (updateText && myCurrentScope != null) {
            final String text=myCurrentScope.getText();
            SwingUtilities.invokeLater(new Runnable(){
              public void run(){
                myPatternField.setText(text);
              }
            }
);
          }
          try {
            if (!myProject.isDisposed()) {
              updateTreeModel(requestFocus);
            }
          }
 catch (          ProcessCanceledException e) {
            return;
          }
          if (runnable != null) {
            runnable.run();
          }
          myIsInUpdate=false;
        }
      }
);
    }
  }
;
  myUpdateAlarm.addRequest(request,1000);
}
