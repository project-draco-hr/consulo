{
  if (exp1 == null && exp2 == null) {
    return true;
  }
  if (exp1 == null || exp2 == null) {
    return false;
  }
  PsiExpression expToCompare1=exp1;
  while (expToCompare1 instanceof PsiParenthesizedExpression) {
    final PsiParenthesizedExpression parenthesizedExpression=(PsiParenthesizedExpression)expToCompare1;
    expToCompare1=parenthesizedExpression.getExpression();
  }
  PsiExpression expToCompare2=exp2;
  while (expToCompare2 instanceof PsiParenthesizedExpression) {
    final PsiParenthesizedExpression parenthesizedExpression=(PsiParenthesizedExpression)expToCompare2;
    expToCompare2=parenthesizedExpression.getExpression();
  }
  if (expToCompare1 == null && expToCompare2 == null) {
    return true;
  }
  if (expToCompare1 == null || expToCompare2 == null) {
    return false;
  }
  if (expToCompare1.getClass() != expToCompare2.getClass()) {
    return false;
  }
  if (expToCompare1 instanceof PsiThisExpression) {
    return true;
  }
 else   if (expToCompare1 instanceof PsiSuperExpression) {
    return true;
  }
 else   if (expToCompare1 instanceof PsiLiteralExpression) {
    final String text1=expToCompare1.getText();
    final String text2=expToCompare2.getText();
    return text1.equals(text2);
  }
 else   if (expToCompare1 instanceof PsiClassObjectAccessExpression) {
    final String text1=expToCompare1.getText();
    final String text2=expToCompare2.getText();
    return text1.equals(text2);
  }
 else   if (expToCompare1 instanceof PsiReferenceExpression) {
    return referenceExpressionsAreEquivalent((PsiReferenceExpression)expToCompare1,(PsiReferenceExpression)expToCompare2);
  }
 else   if (expToCompare1 instanceof PsiMethodCallExpression) {
    return methodCallExpressionsAreEquivalent((PsiMethodCallExpression)expToCompare1,(PsiMethodCallExpression)expToCompare2);
  }
 else   if (expToCompare1 instanceof PsiNewExpression) {
    return newExpressionsAreEquivalent((PsiNewExpression)expToCompare1,(PsiNewExpression)expToCompare2);
  }
 else   if (expToCompare1 instanceof PsiArrayInitializerExpression) {
    return arrayInitializerExpressionsAreEquivalent((PsiArrayInitializerExpression)expToCompare1,(PsiArrayInitializerExpression)expToCompare2);
  }
 else   if (expToCompare1 instanceof PsiTypeCastExpression) {
    return typecastExpressionsAreEquivalent((PsiTypeCastExpression)expToCompare1,(PsiTypeCastExpression)expToCompare2);
  }
 else   if (expToCompare1 instanceof PsiArrayAccessExpression) {
    return arrayAccessExpressionsAreEquivalent((PsiArrayAccessExpression)expToCompare2,(PsiArrayAccessExpression)expToCompare1);
  }
 else   if (expToCompare1 instanceof PsiPrefixExpression) {
    return prefixExpressionsAreEquivalent((PsiPrefixExpression)expToCompare1,(PsiPrefixExpression)expToCompare2);
  }
 else   if (expToCompare1 instanceof PsiPostfixExpression) {
    return postfixExpressionsAreEquivalent((PsiPostfixExpression)expToCompare1,(PsiPostfixExpression)expToCompare2);
  }
 else   if (expToCompare1 instanceof PsiBinaryExpression) {
    return binaryExpressionsAreEquivalent((PsiBinaryExpression)expToCompare1,(PsiBinaryExpression)expToCompare2);
  }
 else   if (expToCompare1 instanceof PsiAssignmentExpression) {
    return assignmentExpressionsAreEquivalent((PsiAssignmentExpression)expToCompare1,(PsiAssignmentExpression)expToCompare2);
  }
 else   if (expToCompare1 instanceof PsiConditionalExpression) {
    return conditionalExpressionsAreEquivalent((PsiConditionalExpression)expToCompare1,(PsiConditionalExpression)expToCompare2);
  }
 else   if (expToCompare1 instanceof PsiInstanceOfExpression) {
    return instanceofExpressionsAreEquivalent((PsiInstanceOfExpression)expToCompare1,(PsiInstanceOfExpression)expToCompare2);
  }
  return false;
}
