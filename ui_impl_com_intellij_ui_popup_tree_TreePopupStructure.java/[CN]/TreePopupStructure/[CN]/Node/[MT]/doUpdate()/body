{
  clearColoredText();
  boolean result=true;
  if (myDelegate instanceof SimpleNode) {
    SimpleNode node=(SimpleNode)myDelegate;
    result=node.update();
    ColoredFragment[] text=node.getColoredText();
    for (    ColoredFragment each : text) {
      addColoredFragment(each);
    }
    setIcons(node.getClosedIcon(),node.getOpenIcon());
  }
 else   if (myDelegate != null) {
    setPlainText(myDelegate.toString());
    NodeDescriptor descriptor=getStructure().createDescriptor(myDelegate,getParentDescriptor());
    Icon closedIcon=null;
    Icon openIcon=null;
    if (descriptor != null) {
      descriptor.update();
      closedIcon=descriptor.getClosedIcon();
      openIcon=descriptor.getOpenIcon();
    }
    setIcons(closedIcon,openIcon);
  }
  return result;
}
