{
  if (myChildrenCache == null) {
    myChildrenCache=getFileSystem().isCaseSensitive() ? new WeakValueHashMap<String,VirtualFile>() : new WeakValueHashMap<String,VirtualFile>(CaseInsensitiveStringHashingStrategy.INSTANCE);
  }
  VirtualFile child=myChildrenCache.get(name);
  if (child == null) {
    final NewVirtualFileSystem fs=VirtualFileManagement.getInstance().findFSForChild(this,name);
    child=new VFileImpl(name,this,fs,id != -1 ? id : fs.getId(this,name));
    myChildrenCache.put(name,child);
  }
  return child;
}
