{
  final Set<FilePath> filePaths=new HashSet<FilePath>();
  for (  CommittedChangeList changeList : changeLists) {
    for (    Change change : changeList.getChanges()) {
      filePaths.add(ChangesUtil.getFilePath(change));
    }
  }
  final TreeModelBuilder builder=new TreeModelBuilder(myProject,false);
  final DefaultTreeModel model=builder.buildModelFromFilePaths(filePaths);
  deleteLeafNodes((DefaultMutableTreeNode)model.getRoot());
  myStructureTree.setModel(model);
  if (!myRendererInitialized) {
    myRendererInitialized=true;
    myStructureTree.setCellRenderer(new ChangesBrowserNodeRenderer(myProject,false,false));
  }
}
