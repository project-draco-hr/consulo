{
  final Document document=myEditor.getDocument();
  final VirtualFile file=FileDocumentManager.getInstance().getFile(document);
  if (file != null) {
    final FileEditorManagerEx fileEditorManager=(FileEditorManagerEx)FileEditorManager.getInstance(project);
    final EditorWindow[] windows=fileEditorManager.getWindows();
    for (    EditorWindow window : windows) {
      final EditorWithProviderComposite composite=window.findFileComposite(file);
      if (composite == null) {
        continue;
      }
      for (      FileEditor editor : composite.getEditors()) {
        if (editor instanceof TextEditor && ((TextEditor)editor).getEditor() == myEditor) {
          return window;
        }
      }
    }
  }
  return null;
}
