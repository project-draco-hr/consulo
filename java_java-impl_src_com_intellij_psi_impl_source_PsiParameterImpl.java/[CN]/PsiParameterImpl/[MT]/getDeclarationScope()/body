{
  final PsiElement parent=getParent();
  if (parent instanceof PsiParameterList) {
    return parent.getParent();
  }
  if (parent instanceof PsiForeachStatement) {
    return parent;
  }
  if (parent instanceof PsiCatchSection) {
    return parent;
  }
  PsiElement[] children=parent.getChildren();
  for (int i=0; i < children.length; i++) {
    if (children[i].equals(this)) {
      while (!(children[i] instanceof PsiCodeBlock)) {
        i++;
      }
      return children[i];
    }
  }
  LOG.error("codeblock not found among parameter' " + this + " parents children: "+ Arrays.asList(children));
  return null;
}
