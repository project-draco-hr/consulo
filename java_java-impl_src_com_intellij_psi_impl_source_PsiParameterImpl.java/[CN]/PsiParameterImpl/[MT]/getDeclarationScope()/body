{
  final PsiElement parent=getParent();
  if (parent == null)   return this;
  if (parent instanceof PsiParameterList) {
    return parent.getParent();
  }
  if (parent instanceof PsiForeachStatement) {
    return parent;
  }
  if (parent instanceof PsiCatchSection) {
    return parent;
  }
  PsiElement[] children=parent.getChildren();
  if (children != null) {
    for (int i=0; i < children.length; i++) {
      if (children[i].equals(this)) {
        while (!(children[i] instanceof PsiCodeBlock)) {
          i++;
        }
        return children[i];
      }
    }
  }
  LOG.error("Code block not found among parameter' " + this + " parents children: "+ Arrays.asList(children));
  return null;
}
