{
  if (location.getCompletionType() != CompletionType.BASIC)   return MyResult.normal;
  if (item.getObject() instanceof PsiClass)   return MyResult.normal;
  ExpectedTypeInfo[] expectedInfos=JavaCompletionUtil.EXPECTED_TYPES.getValue(location);
  if (expectedInfos == null)   return MyResult.normal;
  PsiType itemType=JavaCompletionUtil.getLookupElementType(item);
  if (itemType == null || !itemType.isValid())   return MyResult.normal;
  for (  final ExpectedTypeInfo expectedInfo : expectedInfos) {
    final PsiType defaultType=expectedInfo.getDefaultType();
    final PsiType expectedType=expectedInfo.getType();
    if (!expectedType.isValid()) {
      return MyResult.normal;
    }
    if (defaultType != expectedType && defaultType.isAssignableFrom(itemType)) {
      return MyResult.ofDefaultType;
    }
    if (expectedType.isAssignableFrom(itemType)) {
      return MyResult.expected;
    }
  }
  return MyResult.normal;
}
