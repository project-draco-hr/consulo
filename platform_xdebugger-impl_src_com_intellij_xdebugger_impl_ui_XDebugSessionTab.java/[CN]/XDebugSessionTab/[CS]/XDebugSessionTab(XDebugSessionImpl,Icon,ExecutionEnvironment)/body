{
  super(session.getProject(),"Debug",session.getSessionName(),GlobalSearchScope.allScope(session.getProject()));
  setSession(session,environment,icon);
  myUi.addContent(createFramesContent(),0,PlaceInGrid.left,false);
  myUi.addContent(createVariablesContent(session),0,PlaceInGrid.center,false);
  myUi.addContent(createWatchesContent(session),0,PlaceInGrid.right,false);
  for (  XDebugView view : myViews) {
    Disposer.register(myRunContentDescriptor,view);
  }
  attachToSession(session);
  DefaultActionGroup focus=new DefaultActionGroup();
  focus.add(ActionManager.getInstance().getAction(XDebuggerActions.FOCUS_ON_BREAKPOINT));
  myUi.getOptions().setAdditionalFocusActions(focus);
  myUi.addListener(new ContentManagerAdapter(){
    @Override public void selectionChanged(    ContentManagerEvent event){
      Content content=event.getContent();
      XDebugSessionImpl session=mySession;
      if (session != null && content.isSelected() && DebuggerContentInfo.WATCHES_CONTENT.equals(ViewImpl.ID.get(content))) {
        myRebuildWatchesRunnable.run();
      }
    }
  }
,myRunContentDescriptor);
  rebuildViews();
}
