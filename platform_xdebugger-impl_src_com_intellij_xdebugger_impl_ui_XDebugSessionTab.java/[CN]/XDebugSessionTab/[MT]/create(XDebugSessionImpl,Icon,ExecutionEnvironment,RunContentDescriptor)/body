{
  if (contentToReuse != null && SystemProperties.getBooleanProperty("xdebugger.reuse.session.tab",false)) {
    JComponent component=contentToReuse.getComponent();
    if (component != null) {
      XDebugSessionTab oldTab=TAB_KEY.getData(DataManager.getInstance().getDataContext(component));
      if (oldTab != null) {
        oldTab.setSession(session,environment,icon);
        oldTab.attachToSession(session);
        return oldTab;
      }
    }
  }
  XDebugSessionTab tab=new XDebugSessionTab(session,icon,environment);
  tab.myRunContentDescriptor.setActivateToolWindowWhenAdded(contentToReuse == null || contentToReuse.isActivateToolWindowWhenAdded());
  return tab;
}
