{
  g.setColor(GroupedElementsRenderer.POPUP_SEPARATOR_FOREGROUND);
  if (hasCaption()) {
    final FontMetrics fm=getFontMetrics(getFont());
    final int baseline=VGAP + fm.getAscent();
    final int fontWidth=getPreferredFontSize().width;
    final int lineX=(getWidth() - fontWidth) / 2;
    final int lineY=VGAP + fm.getHeight() / 2;
    g.drawLine(0,lineY,lineX,lineY);
    g.drawLine(lineX + fontWidth,lineY,getWidth() - 1,lineY);
    final GraphicsConfig config=new GraphicsConfig(g);
    config.setAntialiasing(true);
    g.setColor(GroupedElementsRenderer.POPUP_SEPARATOR_TEXT_FOREGROUND);
    g.drawString(myCaption,lineX + HGAP,baseline);
    config.restore();
  }
 else {
    g.drawLine(0,VGAP,getWidth() - 1,VGAP);
  }
}
