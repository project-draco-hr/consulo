{
  importProject("<groupId>test</groupId>" + "<artifactId>parent</artifactId>" + "<version>1</version>"+ "<modules>"+ "  <module>m</module>"+ "</modules>");
  assertEquals(1,myProjectsTree.getRootProjects().size());
  new WriteCommandAction.Simple(myProject){
    @Override protected void run() throws Throwable {
      myProjectPom.delete(this);
    }
  }
.execute().throwException();
  waitForReadingCompletion();
  assertEquals(0,myProjectsTree.getRootProjects().size());
  createProjectPom("<groupId>test</groupId>" + "<artifactId>parent</artifactId>" + "<version>1</version>"+ "<modules>"+ "  <module>m</module>"+ "</modules>");
  waitForReadingCompletion();
  assertEquals(1,myProjectsTree.getRootProjects().size());
}
