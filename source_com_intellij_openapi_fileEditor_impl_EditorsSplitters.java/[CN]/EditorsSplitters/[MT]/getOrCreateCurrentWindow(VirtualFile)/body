{
  final EditorWindow[] windows=findWindows(file);
  if (getCurrentWindow() == null) {
    final Iterator<EditorWindow> iterator=myWindows.iterator();
    if (windows != null && windows.length > 0) {
      setCurrentWindow(windows[0],false);
    }
 else     if (iterator.hasNext()) {
      setCurrentWindow(iterator.next(),false);
    }
 else {
      createCurrentWindow();
    }
  }
 else   if (windows != null && windows.length > 0) {
    if (ArrayUtil.find(windows,getCurrentWindow()) == -1) {
      setCurrentWindow(windows[0],false);
    }
  }
  return getCurrentWindow();
}
