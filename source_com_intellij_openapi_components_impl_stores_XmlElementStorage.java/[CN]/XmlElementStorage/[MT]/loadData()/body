{
  StorageData result=createStorageData();
  final Document document=loadDocument();
  if (document != null) {
    final Element rootElement=document.getRootElement();
    if (myPathMacroSubstitutor != null) {
      myPathMacroSubstitutor.expandPaths(rootElement);
    }
    try {
      result.load(rootElement);
    }
 catch (    IOException e) {
      throw new StateStorageException(e);
    }
  }
  return result;
}
