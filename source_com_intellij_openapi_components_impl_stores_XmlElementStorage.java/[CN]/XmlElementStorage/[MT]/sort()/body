{
  final Element node=getRootElement();
  if (node == null)   return;
  final Element[] elements=JDOMUtil.getElements(node);
  for (  Element element : elements) {
    element.detach();
  }
  Arrays.sort(elements,new Comparator<Element>(){
    public int compare(    Element e1,    Element e2){
      int r=e1.getName().toLowerCase().compareTo(e2.getName().toLowerCase());
      if (r == 0) {
        final String name1=e1.getAttributeValue(ATTR_NAME);
        final String name2=e2.getAttributeValue(ATTR_NAME);
        if (name1 != null && name2 != null) {
          r=name1.compareTo(name2);
        }
      }
      return r;
    }
  }
);
  for (  Element e : elements) {
    node.addContent(e);
  }
}
