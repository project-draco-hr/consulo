{
  final Element[] elements=JDOMUtil.getElements(rootElement);
  for (  Element element : elements) {
    if (element.getName().equals(COMPONENT)) {
      final String name=element.getAttributeValue(NAME);
      if (name == null) {
        LOG.error("Broken file");
        continue;
      }
      if (OBSOLETE_COMPONENT_NAMES.contains(name))       continue;
      element.detach();
      if (element.getAttributes().size() > 1 || !element.getChildren().isEmpty()) {
        element.removeAttribute(NAME);
        myComponentStates.put(name,element);
      }
    }
  }
}
