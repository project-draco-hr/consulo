{
  Set<String> bothStates=new HashSet<String>(myComponentStates.keySet());
  bothStates.retainAll(storageData.myComponentStates.keySet());
  Set<String> diffs=new HashSet<String>();
  diffs.addAll(storageData.myComponentStates.keySet());
  diffs.addAll(myComponentStates.keySet());
  diffs.removeAll(bothStates);
  for (  String componentName : bothStates) {
    final Element e1=myComponentStates.get(componentName);
    final Element e2=storageData.myComponentStates.get(componentName);
    if (!JDOMUtil.areElementsEqual(e1,e2)) {
      diffs.add(componentName);
    }
  }
  return diffs;
}
