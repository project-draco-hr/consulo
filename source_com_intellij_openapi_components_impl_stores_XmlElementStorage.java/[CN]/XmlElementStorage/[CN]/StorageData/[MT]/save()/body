{
  Element rootElement=new Element(myRootElementName);
  for (  String componentName : myComponentStates.keySet()) {
    final Element element=myComponentStates.get(componentName);
    element.setName(COMPONENT);
    final List attributes=new ArrayList(element.getAttributes());
    for (    Object attribute : attributes) {
      Attribute attr=(Attribute)attribute;
      element.removeAttribute(attr);
    }
    element.setAttribute(NAME,componentName);
    for (    Object attribute : attributes) {
      Attribute attr=(Attribute)attribute;
      element.setAttribute(attr.getName(),attr.getValue());
    }
    rootElement.addContent((Element)element.clone());
  }
  return rootElement;
}
