{
  final Set<Module> modules=new HashSet<Module>();
  final PackagingElementResolvingContext resolvingContext=ArtifactManager.getInstance(project).getResolvingContext();
  for (  Artifact artifact : artifacts) {
    processPackagingElements(artifact,null,new Processor<PackagingElement<?>>(){
      @Override public boolean process(      PackagingElement<?> element){
        if (element instanceof ModuleOutputPackagingElement) {
          ContainerUtil.addIfNotNull(modules,((ModuleOutputPackagingElement)element).findModule(resolvingContext));
        }
        return true;
      }
    }
,resolvingContext,true);
  }
  return modules;
}
