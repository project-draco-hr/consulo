{
  final Module module=(Module)dataContext.getData(DataConstantsEx.MODULE_CONTEXT);
  int ret=Messages.showOkCancelDialog(ProjectBundle.message("module.remove.confirmation.prompt",module.getName()),ProjectBundle.message("module.remove.confirmation.title"),Messages.getQuestionIcon());
  if (ret != 0)   return;
  CommandProcessor.getInstance().executeCommand(module.getProject(),new Runnable(){
    public void run(){
      final Runnable action=new Runnable(){
        public void run(){
          removeModule(module);
        }
      }
;
      ApplicationManager.getApplication().runWriteAction(action);
    }
  }
,ProjectBundle.message("module.remove.command"),null);
}
