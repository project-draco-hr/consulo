{
  final List<FilePath> files=(List<FilePath>)e.getDataContext().getData(ChangesListView.MISSING_FILES_KEY);
  if (files == null)   return;
  ChangesUtil.processFilePathsByVcs(myProject,files,new ChangesUtil.PerVcsProcessor<FilePath>(){
    public void process(    final AbstractVcs vcs,    final List<FilePath> items){
      final CheckinEnvironment environment=vcs.getCheckinEnvironment();
      if (environment != null) {
        processFiles(environment,files);
      }
    }
  }
);
  for (  FilePath file : files) {
    VcsDirtyScopeManager.getInstance(myProject).fileDirty(file);
  }
  scheduleRefresh();
}
