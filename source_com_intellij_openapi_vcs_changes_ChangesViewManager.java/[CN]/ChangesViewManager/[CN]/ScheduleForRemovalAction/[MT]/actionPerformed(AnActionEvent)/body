{
  final java.util.List<File> files=(java.util.List<File>)e.getDataContext().getData(ChangesListView.MISSING_FILES_KEY);
  if (files == null)   return;
  ChangesUtil.processIOFilesByVcs(myProject,files,new ChangesUtil.PerVcsProcessor<File>(){
    public void process(    final AbstractVcs vcs,    final java.util.List<File> items){
      final ChangeProvider provider=vcs.getChangeProvider();
      if (provider != null) {
        provider.scheduleMissingFileForDeletion(files);
      }
    }
  }
);
  for (  File file : files) {
    FilePath path=PeerFactory.getInstance().getVcsContextFactory().createFilePathOn(file);
    VcsDirtyScopeManager.getInstance(myProject).fileDirty(path);
  }
  scheduleRefresh();
}
