{
  PsiModifierListOwner listOwner=getContainer(editor,file);
  if (listOwner != null) {
    final PsiAnnotation[] annotations=ExternalAnnotationsManager.getInstance(project).findExternalAnnotations(listOwner);
    if (annotations != null && annotations.length > 0) {
      if (annotations.length == 1) {
        myAnnotationName=annotations[0].getQualifiedName();
      }
      final VirtualFile virtualFile=annotations[0].getContainingFile().getVirtualFile();
      return virtualFile != null && (virtualFile.isWritable() || virtualFile.isInLocalFileSystem());
    }
  }
  return false;
}
