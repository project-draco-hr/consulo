{
  String outputDir=CompilerPaths.getModuleOutputPath(module,tests);
  if (outputDir == null) {
    context.addMessage(CompilerMessageCategory.ERROR,"Maven: Module '" + module.getName() + "'output is not specified",null,-1,-1);
    return;
  }
  List<Resource> resources=tests ? mavenProject.getTestResources() : mavenProject.getResources();
  for (  Resource each : resources) {
    VirtualFile dir=LocalFileSystem.getInstance().findFileByPath(each.getDirectory());
    if (dir == null)     continue;
    List<Pattern> includes=collectPatterns(each.getIncludes(),"**/*");
    List<Pattern> excludes=collectPatterns(each.getExcludes(),null);
    String targetPath=each.getTargetPath();
    String resourceOutputDir=StringUtil.isEmptyOrSpaces(targetPath) ? outputDir : (outputDir + "/" + targetPath);
    collectProcessingItems(module,dir,dir,resourceOutputDir,includes,excludes,each.isFiltering(),properties,propertiesHashCode,nonFilteredExtensions,escapeString,result,context.getProgressIndicator());
  }
}
