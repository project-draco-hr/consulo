{
  for (  VirtualFile child : file.getChildren()) {
    File newChild=new File(newFile,child.getName());
    if (child.isDirectory()) {
      if (DeletedCVSDirectoryStorage.isAdminDir(child))       continue;
      newChild.mkdir();
      copyDirectoryStructure(child,newChild);
    }
 else {
      new File(child.getPath()).renameTo(newChild);
    }
  }
}
