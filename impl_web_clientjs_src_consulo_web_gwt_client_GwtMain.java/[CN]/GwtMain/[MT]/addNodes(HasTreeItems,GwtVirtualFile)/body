{
  HorizontalPanel panel=new HorizontalPanel();
  panel.add(icon(virtualFile.getIconLayers()));
  String rightIcon=virtualFile.getRightIcon();
  if (rightIcon != null) {
    Widget rightIconWidget=icon(Arrays.asList(rightIcon));
    rightIconWidget.addStyleName("textAfterIcon16");
    panel.add(rightIconWidget);
  }
  InlineHTML span=new InlineHTML(virtualFile.getName());
  span.setStyleName("textAfterIcon18");
  panel.add(span);
  TreeItem item=new TreeItem(panel);
  item.setUserObject(virtualFile);
  for (  GwtVirtualFile child : virtualFile.getChildren()) {
    addNodes(item,child);
  }
  if (parent instanceof Tree) {
    item.setState(true);
  }
  parent.addItem(item);
}
