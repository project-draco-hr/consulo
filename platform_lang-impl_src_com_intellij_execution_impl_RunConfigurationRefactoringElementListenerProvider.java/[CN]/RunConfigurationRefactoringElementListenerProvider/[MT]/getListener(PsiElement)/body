{
  RefactoringElementListenerComposite composite=null;
  final RunConfiguration[] configurations=RunManager.getInstance(element.getProject()).getAllConfigurations();
  for (  RunConfiguration configuration : configurations) {
    if (configuration instanceof RefactoringListenerProvider) {
      final RefactoringElementListener listener;
      try {
        listener=((RefactoringListenerProvider)configuration).getRefactoringElementListener(element);
      }
 catch (      Exception e) {
        LOG.error(e);
        continue;
      }
      if (listener != null) {
        if (composite == null) {
          composite=new RefactoringElementListenerComposite();
        }
        composite.addListener(listener);
      }
    }
  }
  return composite;
}
