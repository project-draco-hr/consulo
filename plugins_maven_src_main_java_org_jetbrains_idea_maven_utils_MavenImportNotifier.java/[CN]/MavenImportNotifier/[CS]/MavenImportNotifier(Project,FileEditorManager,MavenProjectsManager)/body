{
  super(p);
  myFileEditorManager=fileEditorManager;
  myMavenProjectsManager=mavenProjectsManager;
  myUpdatesQueue=new MergingUpdateQueue(getComponentName(),500,true,MergingUpdateQueue.ANY_COMPONENT,myProject);
  myFileEditorManager.addFileEditorManagerListener(new FileEditorManagerAdapter(){
    @Override public void fileOpened(    FileEditorManager source,    VirtualFile file){
      for (      FileEditor each : source.getEditors(file)) {
        updateNotification(file,each);
      }
    }
  }
,myProject);
  myMavenProjectsManager.addManagerListener(new MavenProjectsManager.Listener(){
    public void activated(){
      scheduleUpdate();
    }
    public void scheduledImportsChanged(){
      scheduleUpdate();
    }
  }
);
}
