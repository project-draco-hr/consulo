{
  if (first.getElementType() == NAME_VALUE_PAIR && last.getElementType() == NAME_VALUE_PAIR) {
    final CharTable treeCharTab=SharedImplUtil.findCharTableByTree(this);
    ASTNode lparenth=findChildByRole(ChildRole.LPARENTH);
    if (lparenth == null) {
      LeafElement created=Factory.createSingleLeafElement(LPARENTH,"(",0,1,treeCharTab,getManager());
      super.addInternal(created,created,getFirstChildNode(),true);
    }
    ASTNode rparenth=findChildByRole(ChildRole.RPARENTH);
    if (rparenth == null) {
      LeafElement created=Factory.createSingleLeafElement(RPARENTH,")",0,1,treeCharTab,getManager());
      super.addInternal(created,created,getLastChildNode(),false);
    }
    if (anchor == null) {
      if (before == null || before.booleanValue()) {
        anchor=findChildByRole(ChildRole.LPARENTH);
        before=Boolean.FALSE;
      }
 else {
        anchor=findChildByRole(ChildRole.RPARENTH);
        before=Boolean.TRUE;
      }
    }
  }
  return super.addInternal(first,last,anchor,before);
}
