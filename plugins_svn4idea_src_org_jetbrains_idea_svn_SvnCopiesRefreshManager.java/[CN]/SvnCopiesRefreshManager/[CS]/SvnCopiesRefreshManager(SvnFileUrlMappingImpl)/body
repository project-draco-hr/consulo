{
  mySemaphore=new Semaphore();
  myMappingCallback=new Runnable(){
    @Override public void run(){
      mySemaphore.up();
    }
  }
;
  myRequestsMerger=new RequestsMerger(new Runnable(){
    @Override public void run(){
      mySemaphore.down();
      mapping.realRefresh(myMappingCallback);
      mySemaphore.waitFor();
    }
  }
,new Consumer<Runnable>(){
    public void consume(    final Runnable runnable){
      ApplicationManager.getApplication().executeOnPooledThread(runnable);
    }
  }
);
}
