{
  myProfileType=Profile.INSPECTION;
  mySampleProfile=new Computable<Profile>(){
    public Profile compute(){
      return new InspectionProfileImpl("Default");
    }
  }
;
  myRegistrar=registrar;
  mySeverityRegistrar=new SeverityRegistrar();
  myProcessor=new SchemeProcessor<InspectionProfileImpl>(){
    public InspectionProfileImpl readScheme(    final Document document) throws InvalidDataException, IOException, JDOMException {
      InspectionProfileImpl profile=new InspectionProfileImpl(getProfileName(document),myRegistrar,InspectionProfileManager.this);
      profile.load(document.getRootElement());
      return profile;
    }
    public boolean shouldBeSaved(    final InspectionProfileImpl scheme){
      return scheme.wasInitialized();
    }
    public void showWriteErrorMessage(    final Exception e,    final String schemeName,    final String filePath){
      LOG.error(e);
    }
    public Document writeScheme(    final InspectionProfileImpl scheme) throws WriteExternalException {
      return scheme.saveToDocument();
    }
    public void showReadErrorMessage(    final Exception e,    final String schemeName,    final String filePath){
      LOG.error(e);
    }
    public void initScheme(    final InspectionProfileImpl scheme){
    }
  }
;
  mySchemesManager=schemesManagerFactory.createSchemesManager(FILE_SPEC,myProcessor,RoamingType.PER_USER);
}
