{
  super.getListCellRendererComponent(list,value,index,isSelected,cellHasFocus);
  Icon icon=null;
  String actionId=(String)value;
  if (QuickList.SEPARATOR_ID.equals(actionId)) {
    setText("-------------");
  }
 else {
    AnAction action=ActionManager.getInstance().getAction(actionId);
    setText(action != null ? action.getTemplatePresentation().getText() : actionId);
    if (action != null) {
      Icon actionIcon=action.getTemplatePresentation().getIcon();
      if (actionIcon != null) {
        icon=actionIcon;
      }
    }
    if (actionId.startsWith(QuickList.QUICK_LIST_PREFIX)) {
      icon=QUICK_LIST_ICON;
    }
    LayeredIcon layeredIcon=new LayeredIcon(2);
    layeredIcon.setIcon(EMPTY_ICON,0);
    if (icon != null) {
      layeredIcon.setIcon(icon,1,(-icon.getIconWidth() + EMPTY_ICON.getIconWidth()) / 2,(EMPTY_ICON.getIconHeight() - icon.getIconHeight()) / 2);
    }
    setIcon(layeredIcon);
  }
  return this;
}
