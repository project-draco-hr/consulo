{
  node.setDelegate(nodeObject);
  myNodeObject2Node.put(nodeObject,node);
  Object[] nodeChildren=getStructure().getChildElements(nodeObject);
  for (  Object aNodeChildren : nodeChildren) {
    Node nodeChild=node.add(aNodeChildren);
    fillChildren(nodeChild,aNodeChildren);
    if (!myFilter.shouldBeShowing(aNodeChildren) && nodeChild.getChildren().length == 0) {
      node.remove(nodeChild);
    }
  }
}
