{
  checkOldLvcsEnabled();
  if (!myIsActive)   registerAll();
  if (myIsLocked)   return;
  _init();
  if (!myIsLocked)   return;
  if (!myVcsWasRebuilt && LocalHistoryConfiguration.getInstance().ADD_LABEL_ON_PROJECT_OPEN) {
    myImplementation.addLabel(LocalHistoryBundle.message("local.vcs.label.name.project.opened"),"");
  }
  if (sync) {
    resynchronizeRoots();
    setCanProvideContents(true);
  }
 else {
    synchronizeRoots();
  }
  FileStatusManager fileStatusManager=FileStatusManager.getInstance(myProject);
  if (fileStatusManager != null) {
    fileStatusManager.fileStatusesChanged();
  }
}
