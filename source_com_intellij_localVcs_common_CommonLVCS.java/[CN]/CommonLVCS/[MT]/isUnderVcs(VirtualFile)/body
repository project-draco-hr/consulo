{
  if (!(file.getFileSystem() instanceof LocalFileSystem)) {
    return false;
  }
  if (!myFileIndex.isInContent(file))   return false;
  if (file.isDirectory()) {
    return true;
  }
 else {
    final FileType type=myFileTypeManager.getFileTypeByFile(file);
    if (type == StdFileTypes.IDEA_WORKSPACE)     return false;
    if (type == StdFileTypes.IDEA_PROJECT)     return false;
    if (type == StdFileTypes.IDEA_MODULE)     return false;
    return !type.isBinary();
  }
}
