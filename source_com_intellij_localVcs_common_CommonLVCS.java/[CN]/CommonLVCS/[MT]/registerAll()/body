{
  getVirtualFileManager().registerFileContentProvider(this);
  myConnection=myProject.getMessageBus().connectStrongly();
  myConnection.subscribe(FileTypeManager.FILE_TYPES,new FileTypeListener(){
    public void beforeFileTypesChanged(    FileTypeEvent event){
    }
    public void fileTypesChanged(    FileTypeEvent event){
      resynchronizeRoots();
    }
  }
);
  ProjectRootManager.getInstance(myProject).addModuleRootListener(this);
  getVirtualFileManager().registerRefreshUpdater(myTracker.getRefreshUpdater());
  myIsActive=true;
}
