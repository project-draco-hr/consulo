{
  getVirtualFileManager().registerFileContentProvider(this);
  myFileTypeManager.addFileTypeListener(myFileTypeListener);
  ProjectRootManager.getInstance(myProject).addModuleRootListener(this);
  myRefreshRootsOperation=new DelayedSyncOperation(myProject,this,LocalVcsBundle.message("operation.name.refreshing.roots"));
  ProjectRootManagerEx.getInstanceEx(myProject).registerChangeUpdater(myRefreshRootsOperation);
  getVirtualFileManager().registerRefreshUpdater(myTracker.getRefreshUpdater());
}
