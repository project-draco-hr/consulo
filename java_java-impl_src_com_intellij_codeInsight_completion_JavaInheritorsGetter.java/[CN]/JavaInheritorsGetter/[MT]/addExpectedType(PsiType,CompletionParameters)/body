{
  if (!JavaCompletionUtil.hasAccessibleConstructor(type))   return null;
  final PsiClass psiClass=PsiUtil.resolveClassInType(type);
  if (psiClass == null)   return null;
  final PsiClass parentClass=psiClass.getContainingClass();
  if (parentClass != null && !psiClass.hasModifierProperty(PsiModifier.STATIC) && !PsiTreeUtil.isAncestor(parentClass,parameters.getPosition(),false) && !(parentClass.getContainingFile().equals(parameters.getOriginalFile()) && parentClass.getTextRange().contains(parameters.getOffset()))) {
    return null;
  }
  final LookupItem item=PsiTypeLookupItem.createLookupItem(JavaCompletionUtil.eliminateWildcards(type),parameters.getPosition());
  JavaCompletionUtil.setShowFQN(item);
  if (psiClass.isInterface() || psiClass.hasModifierProperty(PsiModifier.ABSTRACT)) {
    item.setAutoCompletionPolicy(AutoCompletionPolicy.NEVER_AUTOCOMPLETE);
    item.setAttribute(LookupItem.INDICATE_ANONYMOUS,"");
  }
  return LookupElementDecorator.withInsertHandler(item,myConstructorInsertHandler);
}
