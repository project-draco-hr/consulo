{
  if (tag == null)   return CvsUtil.HEAD;
  final String tagOnly=tag.substring(1);
  if (CvsUtil.isNonDateTag(tag)) {
    if (checkParentTag && parentTag != null && CvsUtil.isNonDateTag(parentTag)) {
      final String parentTagOnly=parentTag.substring(1);
      if (tagOnly.equals(parentTagOnly)) {
        return null;
      }
    }
    return CvsBundle.message("switched.tag.format",tagOnly);
  }
 else   if (tag.startsWith(CvsUtil.STICKY_DATE_PREFIX)) {
    try {
      final Date date=Entry.STICKY_DATE_FORMAT.parse(tagOnly);
      return CvsBundle.message("switched.date.format",date);
    }
 catch (    ParseException e) {
      return CvsBundle.message("switched.date.format",tagOnly);
    }
  }
  return null;
}
