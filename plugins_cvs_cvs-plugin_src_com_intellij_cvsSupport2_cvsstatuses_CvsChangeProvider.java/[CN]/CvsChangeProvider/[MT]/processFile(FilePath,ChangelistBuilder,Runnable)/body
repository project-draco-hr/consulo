{
  checkCanceled.run();
  final VirtualFile dir=filePath.getVirtualFileParent();
  if (dir == null)   return;
  final Entry entry=myEntriesManager.getEntryFor(dir,filePath.getName());
  final FileStatus status=CvsStatusProvider.getStatus(filePath.getVirtualFile(),entry);
  VcsRevisionNumber number=entry != null ? createRevisionNumber(entry.getRevision(),status) : VcsRevisionNumber.NULL;
  processStatus(filePath,dir.findChild(filePath.getName()),status,number,entry != null && entry.isBinary(),builder);
  checkSwitchedFile(filePath,builder,dir,entry);
}
