{
  boolean diamond=false;
  if (type instanceof PsiClassReferenceType) {
    final PsiReferenceParameterList parameterList=((PsiClassReferenceType)type).getReference().getParameterList();
    if (parameterList != null) {
      final PsiTypeElement[] typeParameterElements=parameterList.getTypeParameterElements();
      diamond=typeParameterElements.length == 1 && typeParameterElements[0].getType() instanceof PsiDiamondType;
    }
  }
  return diamond;
}
