{
  if (myDiamond) {
    return "<>";
  }
  if (getObject() instanceof PsiClass) {
    PsiClass psiClass=(PsiClass)getObject();
    PsiSubstitutor substitutor=getSubstitutor();
    StringBuilder builder=new StringBuilder();
    for (    PsiTypeParameter parameter : psiClass.getTypeParameters()) {
      PsiType substitute=substitutor.substitute(parameter);
      if (substitute == null || PsiUtil.resolveClassInType(substitute) == parameter) {
        return "";
      }
      if (builder.length() > 0) {
        builder.append(", ");
      }
      builder.append(substitute.getCanonicalText());
    }
    if (builder.length() > 0) {
      return "<" + builder + ">";
    }
  }
  return "";
}
