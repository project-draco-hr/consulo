{
  PsiPackage[] subPackages=aPackage.getSubPackages(scope);
  String qualifiedName=aPackage.getQualifiedName();
  if (qualifiedName.length() > 0) {
    if (subPackages.length == 0 || aPackage.getClasses(scope).length > 0) {
      res.add(TailTypeDecorator.withTail(LookupElementBuilder.create(qualifiedName),TailType.DOT));
    }
  }
  for (  PsiPackage subPackage : subPackages) {
    collectClassesAndPackageNames(res,subPackage,scope);
  }
}
