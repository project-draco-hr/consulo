{
  try {
    final ModalityContextImpl executor=new ModalityContextImpl(true);
    final CvsLoginWorker loginWorker=configuration.getLoginWorker(executor,project);
    final ThreeState checkResult=LoginPerformer.checkLoginWorker(loginWorker,true);
    if (ThreeState.NO.equals(checkResult)) {
      Messages.showMessageDialog(component,CvsBundle.message("test.connection.login.failed.text"),CvsBundle.message("operation.name.test.connection"),Messages.getErrorIcon());
      return;
    }
 else     if (ThreeState.UNSURE.equals(checkResult)) {
      Messages.showMessageDialog(component,"Authentication canceled",CvsBundle.message("operation.name.test.connection"),Messages.getErrorIcon());
      return;
    }
    configuration.testConnection();
    showSuccessfulConnectionMessage(component);
  }
 catch (  ProcessCanceledException processCanceledException) {
  }
catch (  Exception e) {
    showConnectionFailedMessage(e,component);
  }
}
