{
  List<LighterASTNode> result=null;
  List<LighterASTNode> children=tree.getChildren(node);
  for (int i=0, size=children.size(); i < size; ++i) {
    final LighterASTNode child=children.get(i);
    if (child.getTokenType() == type) {
      if (result == null)       result=new SmartList<LighterASTNode>();
      result.add(child);
    }
  }
  return result != null ? result : Collections.<LighterASTNode>emptyList();
}
