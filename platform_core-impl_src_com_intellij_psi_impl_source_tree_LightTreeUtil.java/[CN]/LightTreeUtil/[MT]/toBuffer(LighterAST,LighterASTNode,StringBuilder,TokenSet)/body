{
  if (skipTypes != null && skipTypes.contains(node.getTokenType()))   return;
  if (node instanceof LighterASTTokenNode) {
    buffer.append(((LighterASTTokenNode)node).getText());
    return;
  }
  if (node instanceof LighterLazyParseableNode) {
    buffer.append(((LighterLazyParseableNode)node).getText());
    return;
  }
  for (  final LighterASTNode child : tree.getChildren(node)) {
    toBuffer(tree,child,buffer,skipTypes);
  }
}
