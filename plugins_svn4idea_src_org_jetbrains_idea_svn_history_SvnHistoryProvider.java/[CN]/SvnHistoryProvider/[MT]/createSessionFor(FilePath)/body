{
  final FilePath committedPath=ChangesUtil.getCommittedPath(myVcs.getProject(),filePath);
  final List<VcsFileRevision> revisions=getRevisionsList(committedPath);
  if (revisions == null) {
    return null;
  }
  return new VcsHistorySession(revisions){
    @Nullable public VcsRevisionNumber calcCurrentRevisionNumber(){
      return getCurrentRevision(committedPath);
    }
    @Override public boolean isContentAvailable(    final VcsFileRevision revision){
      return !myDirectory;
    }
  }
;
}
