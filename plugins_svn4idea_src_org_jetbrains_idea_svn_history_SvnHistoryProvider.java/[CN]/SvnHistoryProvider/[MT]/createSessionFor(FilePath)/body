{
  final List<VcsFileRevision> revisions=getRevisionsList(filePath);
  if (revisions == null) {
    return null;
  }
  return new VcsHistorySession(revisions){
    @Nullable public VcsRevisionNumber calcCurrentRevisionNumber(){
      return getCurrentRevision(filePath);
    }
    @Override public boolean isContentAvailable(    final VcsFileRevision revision){
      return !myDirectory;
    }
  }
;
}
