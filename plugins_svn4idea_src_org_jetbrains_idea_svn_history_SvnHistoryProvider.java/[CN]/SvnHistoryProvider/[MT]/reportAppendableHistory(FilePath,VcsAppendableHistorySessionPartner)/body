{
  final FilePath committedPath=ChangesUtil.getCommittedPath(myVcs.getProject(),path);
  final Ref<Boolean> supports15Ref=new Ref<Boolean>();
  final MyHistorySession historySession=new MyHistorySession(Collections.<VcsFileRevision>emptyList(),committedPath,Boolean.TRUE.equals(supports15Ref.get()));
  final Ref<Boolean> sessionReported=new Ref<Boolean>();
  getRevisionsList(committedPath,supports15Ref,new Consumer<VcsFileRevision>(){
    public void consume(    VcsFileRevision vcsFileRevision){
      if (!Boolean.TRUE.equals(sessionReported.get())) {
        partner.reportCreatedEmptySession(historySession);
        sessionReported.set(true);
      }
      partner.acceptRevision(vcsFileRevision);
    }
  }
);
}
