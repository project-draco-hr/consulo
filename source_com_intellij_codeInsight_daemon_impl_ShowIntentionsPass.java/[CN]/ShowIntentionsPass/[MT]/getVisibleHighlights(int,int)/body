{
  HighlightInfo[] highlights=DaemonCodeAnalyzerImpl.getHighlights(myEditor.getDocument(),myProject);
  if (highlights == null)   return null;
  ArrayList<HighlightInfo> array=new ArrayList<HighlightInfo>();
  for (int i=0; i < highlights.length; i++) {
    HighlightInfo info=highlights[i];
    if (!canBeHint(info.type))     continue;
    if (startOffset <= info.startOffset && info.endOffset <= endOffset) {
      if (myEditor.getFoldingModel().isOffsetCollapsed(info.startOffset))       continue;
      array.add(info);
    }
  }
  return array.toArray(new HighlightInfo[array.size()]);
}
