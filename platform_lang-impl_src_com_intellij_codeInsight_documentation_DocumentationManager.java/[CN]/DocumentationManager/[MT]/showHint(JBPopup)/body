{
  final LookupEx lookup=LookupManager.getActiveLookup(myEditor);
  if (lookup != null && lookup.getCurrentItem() != null) {
    lookup.showItemPopup(hint);
    return;
  }
  if (myEditor != null) {
    hint.showInBestPositionFor(myEditor);
    return;
  }
  final ChooseByNamePopup chooseByNamePopup=ChooseByNamePopup.getActivePopup(myProject);
  if (chooseByNamePopup != null) {
    chooseByNamePopup.showItemPopup(hint);
    return;
  }
  if (myPreviouslyFocused != null) {
    hint.showInBestPositionFor(DataManager.getInstance().getDataContext(myPreviouslyFocused));
  }
 else {
    hint.showInBestPositionFor(DataManager.getInstance().getDataContext());
  }
}
