{
  myEditor=editor;
  final Project project=getProject(file);
  PsiDocumentManager.getInstance(project).commitAllDocuments();
  final PsiElement list=ParameterInfoController.findArgumentList(file,editor.getCaretModel().getOffset(),-1);
  PsiElement expressionList=null;
  if (list != null) {
    LookupEx lookup=LookupManager.getInstance(myProject).getActiveLookup();
    if (lookup != null) {
      expressionList=null;
    }
 else {
      expressionList=list;
    }
  }
  final PsiElement originalElement=getContextElement(editor,file);
  PsiElement element=assertSameProject(findTargetElement(editor,file));
  if (element == null && expressionList != null) {
    element=expressionList;
  }
  if (element == null && file == null)   return;
  if (element == null) {
    element=assertSameProject(originalElement);
    if (element == null)     return;
    PsiComment comment=PsiTreeUtil.getParentOfType(element,PsiComment.class);
    if (comment == null)     return;
    element=comment instanceof PsiDocCommentBase ? ((PsiDocCommentBase)comment).getOwner() : comment.getParent();
    if (element == null)     return;
  }
  final PopupUpdateProcessor updateProcessor=new PopupUpdateProcessor(project){
    @Override public void updatePopup(    Object lookupIteObject){
      if (lookupIteObject == null) {
        return;
      }
      if (lookupIteObject instanceof PsiElement) {
        doShowJavaDocInfo((PsiElement)lookupIteObject,false,this,originalElement,closeCallback);
        return;
      }
      DocumentationProvider documentationProvider=getProviderFromElement(file);
      PsiElement element=documentationProvider.getDocumentationElementForLookupItem(PsiManager.getInstance(myProject),lookupIteObject,originalElement);
      if (element == null)       return;
      if (myEditor != null) {
        final PsiFile file=element.getContainingFile();
        if (file != null) {
          Editor editor=myEditor;
          showJavaDocInfo(myEditor,file,false);
          myEditor=editor;
        }
      }
 else {
        doShowJavaDocInfo(element,false,this,originalElement,closeCallback);
      }
    }
  }
;
  doShowJavaDocInfo(element,requestFocus,updateProcessor,originalElement,closeCallback);
}
