{
  final BindingImpl binding=(BindingImpl)create();
  for (final Iterator<PsiTypeVariable> v=myBoundVariables.iterator(); v.hasNext(); ) {
    final PsiTypeVariable var=v.next();
    final Integer index=new Integer(var.getIndex());
    final PsiType type=myBindings.get(index);
    if (type != null) {
class Verifier extends PsiExtendedTypeVisitor {
        boolean myFlag=false;
        public Object visitTypeVariable(        final PsiTypeVariable var){
          if (var.getIndex() == index.intValue()) {
            myFlag=true;
          }
          return null;
        }
      }
      final Verifier verifier=new Verifier();
      type.accept(verifier);
      if (verifier.myFlag) {
        myBindings.put(index,Bottom.BOTTOM);
        binding.myBindings.put(index,Bottom.BOTTOM);
      }
 else {
        binding.myBindings.put(index,type);
      }
    }
 else {
      binding.myBindings.put(index,type);
    }
  }
  for (final Iterator<PsiTypeVariable> v=myBoundVariables.iterator(); v.hasNext(); ) {
    final PsiTypeVariable var=v.next();
    final Integer index=new Integer(var.getIndex());
    final PsiType type=myBindings.get(index);
    if (type != null) {
      myBindings.put(index,binding.apply(type));
    }
  }
  return this;
}
