{
  for (final Iterator<PsiTypeVariable> v=b.getBoundVariables().iterator(); v.hasNext(); ) {
    final PsiTypeVariable var=v.next();
    final int index=var.getIndex();
    if (myBindings[index] != null) {
      LOG.error("Oops... Binding conflict...");
    }
 else {
      final PsiType type=b.apply(var);
      final PsiClassType javaLangObject=PsiType.getJavaLangObject(PsiManager.getInstance(myProject),GlobalSearchScope.allScope(myProject));
      if (removeObject && javaLangObject.equals(type)) {
        final HashSet<PsiTypeVariable> cluster=myFactory.getClusterOf(var.getIndex());
        if (cluster != null) {
          for (final Iterator<PsiTypeVariable> w=cluster.iterator(); w.hasNext(); ) {
            final PsiTypeVariable war=(PsiTypeVariable)w.next();
            final PsiType wtype=b.apply(war);
            if (!javaLangObject.equals(wtype)) {
              myBindings[index]=type;
              break;
            }
          }
        }
      }
 else {
        myBindings[index]=type;
      }
    }
  }
}
