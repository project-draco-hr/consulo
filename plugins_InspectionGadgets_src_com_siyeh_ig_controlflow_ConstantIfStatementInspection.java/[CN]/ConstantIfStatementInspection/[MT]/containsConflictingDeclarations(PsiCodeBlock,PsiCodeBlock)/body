{
  final PsiStatement[] statements=block.getStatements();
  final Set<PsiElement> declaredVars=new HashSet<PsiElement>();
  for (  final PsiStatement statement : statements) {
    if (statement instanceof PsiDeclarationStatement) {
      final PsiDeclarationStatement declaration=(PsiDeclarationStatement)statement;
      final PsiElement[] vars=declaration.getDeclaredElements();
      for (      PsiElement var : vars) {
        if (var instanceof PsiLocalVariable) {
          declaredVars.add(var);
        }
      }
    }
  }
  for (  Object declaredVar : declaredVars) {
    final PsiLocalVariable variable=(PsiLocalVariable)declaredVar;
    final String variableName=variable.getName();
    if (conflictingDeclarationExists(variableName,parentBlock,block)) {
      return true;
    }
  }
  return false;
}
