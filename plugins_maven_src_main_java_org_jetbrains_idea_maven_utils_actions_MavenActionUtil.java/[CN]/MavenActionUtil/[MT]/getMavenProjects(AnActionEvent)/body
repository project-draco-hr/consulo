{
  Set<MavenProject> result=new LinkedHashSet<MavenProject>();
  for (  VirtualFile each : getFiles(e)) {
    MavenProject project=getProjectsManager(e).findProject(each);
    if (project != null)     result.add(project);
  }
  for (  Module each : getModules(e)) {
    MavenProject project=getProjectsManager(e).findProject(each);
    if (project != null)     result.add(project);
  }
  return new ArrayList<MavenProject>(result);
}
