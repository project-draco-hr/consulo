{
  DataContext dataContext=e.getDataContext();
  Project project=(Project)dataContext.getData(DataConstants.PROJECT);
  if (project == null)   return;
  DebuggerManagerEx debugManager=DebuggerManagerEx.getInstanceEx(project);
  if (debugManager == null)   return;
  BreakpointManager manager=debugManager.getBreakpointManager();
  PlaceInDocument place=getPlace(e);
  if (place != null) {
    Breakpoint breakpoint=manager.findMethodBreakpoint(place.getDocument(),place.getOffset());
    if (breakpoint == null) {
      int methodLine=place.getDocument().getLineNumber(place.getOffset());
      MethodBreakpoint methodBreakpoint=manager.addMethodBreakpoint(place.getDocument(),methodLine);
      if (methodBreakpoint != null) {
        RequestManagerImpl.createRequests(methodBreakpoint);
      }
    }
 else {
      manager.removeBreakpoint(breakpoint);
    }
  }
}
