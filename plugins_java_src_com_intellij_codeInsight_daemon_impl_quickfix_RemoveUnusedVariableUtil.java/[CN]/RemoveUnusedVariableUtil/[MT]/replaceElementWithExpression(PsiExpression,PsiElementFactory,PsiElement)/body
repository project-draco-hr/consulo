{
  PsiElement elementToReplace=element;
  PsiElement expressionToReplaceWith=expression;
  if (element.getParent() instanceof PsiExpressionStatement) {
    elementToReplace=element.getParent();
    expressionToReplaceWith=factory.createStatementFromText((expression == null ? "" : expression.getText()) + ";",null);
  }
 else   if (element.getParent() instanceof PsiDeclarationStatement) {
    expressionToReplaceWith=factory.createStatementFromText((expression == null ? "" : expression.getText()) + ";",null);
  }
  return elementToReplace.replace(expressionToReplaceWith);
}
