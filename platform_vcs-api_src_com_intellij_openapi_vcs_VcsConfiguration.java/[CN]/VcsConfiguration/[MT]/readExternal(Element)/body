{
  DefaultJDOMExternalizer.readExternal(this,element);
  Element child=element.getChild(CONFIRM_MOVE_TO_FAILED_COMMIT_ELEMENT);
  if (child != null) {
    MOVE_TO_FAILED_COMMIT_CHANGELIST=VcsShowConfirmationOption.Value.fromString(child.getAttributeValue(VALUE_ATTR));
  }
  child=element.getChild(CONFIRM_REMOVE_EMPTY_CHANGELIST_ELEMENT);
  if (child != null) {
    REMOVE_EMPTY_INACTIVE_CHANGELISTS=VcsShowConfirmationOption.Value.fromString(child.getAttributeValue(VALUE_ATTR));
  }
  final List messages=element.getChildren(MESSAGE_ELEMENT_NAME);
  for (  final Object message : messages) {
    saveCommitMessage(((Element)message).getAttributeValue(VALUE_ATTR));
  }
  if (ACTIVE_VCS_NAME != null && ACTIVE_VCS_NAME.length() > 0) {
    StartupManager.getInstance(myProject).registerStartupActivity(new Runnable(){
      public void run(){
        ProjectLevelVcsManager.getInstance(myProject).setDirectoryMapping("",ACTIVE_VCS_NAME);
      }
    }
);
  }
}
