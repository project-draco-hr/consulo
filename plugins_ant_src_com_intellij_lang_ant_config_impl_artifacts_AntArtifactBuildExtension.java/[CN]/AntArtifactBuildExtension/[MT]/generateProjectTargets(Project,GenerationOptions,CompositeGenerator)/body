{
  final Artifact[] artifacts=ArtifactManager.getInstance(project).getSortedArtifacts();
  Set<String> filesToImport=new LinkedHashSet<String>();
  for (  Artifact artifact : artifacts) {
    for (    Boolean value : Arrays.asList(true,false)) {
      final AntArtifactProperties properties=getProperties(artifact,value);
      if (properties != null) {
        filesToImport.add(properties.getFileUrl());
      }
    }
  }
  for (  String url : filesToImport) {
    final String path=VfsUtil.urlToPath(url);
    final String relativePath=GenerationUtils.toRelativePath(path,BuildProperties.getProjectBaseDir(project),BuildProperties.getProjectBaseDirProperty(),genOptions);
    generator.add(new Import(relativePath));
  }
}
