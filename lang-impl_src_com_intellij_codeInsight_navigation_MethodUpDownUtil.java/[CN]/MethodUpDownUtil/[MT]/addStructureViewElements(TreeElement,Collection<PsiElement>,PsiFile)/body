{
  for (  TreeElement treeElement : parent.getChildren()) {
    Object value=((StructureViewTreeElement)treeElement).getValue();
    if (value instanceof PsiElement) {
      PsiElement element=(PsiElement)value;
      if (array.contains(element) || !file.equals(element.getContainingFile()))       return;
      array.add(element);
    }
    addStructureViewElements(treeElement,array,file);
  }
}
