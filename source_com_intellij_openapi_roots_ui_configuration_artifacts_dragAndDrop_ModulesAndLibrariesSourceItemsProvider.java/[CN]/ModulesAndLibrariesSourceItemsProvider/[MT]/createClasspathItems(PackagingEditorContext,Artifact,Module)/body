{
  final List<PackagingSourceItemsGroup> items=new ArrayList<PackagingSourceItemsGroup>();
  final ModuleRootModel rootModel=editorContext.getModulesProvider().getRootModel(module);
  List<Library> libraries=new ArrayList<Library>();
  for (  OrderEntry orderEntry : rootModel.getOrderEntries()) {
    if (orderEntry instanceof LibraryOrderEntry) {
      final Library library=((LibraryOrderEntry)orderEntry).getLibrary();
      if (library != null) {
        libraries.add(library);
      }
    }
  }
  for (  Module toAdd : ModuleOutputElementType.getNotAddedModules(editorContext,artifact,module)) {
    items.add(new ModuleOutputSourceItem(toAdd));
  }
  for (  Library library : LibraryElementType.getNotAddedLibraries(editorContext,artifact,libraries)) {
    items.add(new LibrarySourceItem(library));
  }
  return items;
}
