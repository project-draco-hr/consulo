{
  super(new BorderLayout());
  myProject=project;
  myToolWindow=toolWindow;
  myToolWindow.setDecorator(this);
  myDivider=new MyDivider();
  myToggleFloatingModeAction=new ToggleFloatingModeAction();
  myToggleWindowedModeAction=new ToggleWindowedModeAction();
  myToggleSideModeAction=new ToggleSideModeAction();
  myToggleDockModeAction=new ToggleDockModeAction();
  myToggleAutoHideModeAction=new TogglePinnedModeAction();
  myToggleContentUiTypeAction=new ToggleContentUiTypeAction();
  myToggleToolbarGroup=ToggleToolbarAction.createToggleToolbarGroup(myProject,myToolWindow);
  setFocusable(false);
  setFocusTraversalPolicy(new LayoutFocusTraversalPolicy());
  myHeader=new ToolWindowHeader(toolWindow,info,new NotNullProducer<ActionGroup>(){
    @NotNull @Override public ActionGroup produce(){
      return createPopupGroup(true);
    }
  }
){
    @Override protected boolean isActive(){
      return isFocused();
    }
    @Override protected void hideToolWindow(){
      fireHidden();
    }
    @Override protected void toolWindowTypeChanged(    ToolWindowType type){
      fireTypeChanged(type);
    }
    @Override protected void sideHidden(){
      fireHiddenSide();
    }
  }
;
  init();
  apply(info);
}
