{
  enableEvents(ComponentEvent.COMPONENT_EVENT_MASK);
  myTitlePanel.addTitle(myTitleTabs);
  final JPanel buttonPanel=new JPanel(new GridLayout(1,4,2,0));
  buttonPanel.setOpaque(false);
  buttonPanel.setBorder(BorderFactory.createEmptyBorder(0,0,0,2));
  buttonPanel.add(myToggleFloatingModeButton);
  buttonPanel.add(myToggleDockModeButton);
  buttonPanel.add(myToggleAutoHideModeButton);
  buttonPanel.add(myHideButton);
  myTitlePanel.addButtons(buttonPanel,myHideSideButton);
  final JPanel contentPane=new JPanel(new BorderLayout());
  contentPane.add(myTitlePanel,BorderLayout.NORTH);
  JPanel innerPanel=new JPanel(new BorderLayout());
  JComponent toolWindowComponent=myToolWindow.getComponent();
  innerPanel.add(toolWindowComponent,BorderLayout.CENTER);
  final NonOpaquePanel inner=new NonOpaquePanel(innerPanel);
  inner.setBorder(new InnerPanelBorder(myToolWindow));
  contentPane.add(inner,BorderLayout.CENTER);
  add(contentPane,BorderLayout.CENTER);
  setBorder(new EmptyBorder(0,0,0,0));
  registerKeyboardAction(new ActionListener(){
    public void actionPerformed(    final ActionEvent e){
      ToolWindowManager.getInstance(myProject).activateEditorComponent();
    }
  }
,KeyStroke.getKeyStroke(KeyEvent.VK_ESCAPE,0),JComponent.WHEN_ANCESTOR_OF_FOCUSED_COMPONENT);
}
