{
  if (Comparing.equal(myInfo,info) || myProject == null || myProject.isDisposed()) {
    return;
  }
  myInfo=info;
  final ToolWindowAnchor anchor=myInfo.getAnchor();
  if (info.isSliding()) {
    myDivider.invalidate();
    if (ToolWindowAnchor.TOP == anchor) {
      add(myDivider,BorderLayout.SOUTH);
    }
 else     if (ToolWindowAnchor.LEFT == anchor) {
      add(myDivider,BorderLayout.EAST);
    }
 else     if (ToolWindowAnchor.BOTTOM == anchor) {
      add(myDivider,BorderLayout.NORTH);
    }
 else     if (ToolWindowAnchor.RIGHT == anchor) {
      add(myDivider,BorderLayout.WEST);
    }
    myDivider.setPreferredSize(new Dimension(DIVIDER_WIDTH,DIVIDER_WIDTH));
  }
 else {
    remove(myDivider);
  }
  if (!info.isFloating()) {
    myHideSideButton.setVisible(true);
    if (ToolWindowAnchor.TOP == anchor) {
      myHideSideButton.setIcon(ourHideSideUp,ourHideSideUpInactive);
    }
 else     if (ToolWindowAnchor.LEFT == anchor) {
      myHideSideButton.setIcon(ourHideSideLeft,ourHideSideLeftInactive);
    }
 else     if (ToolWindowAnchor.BOTTOM == anchor) {
      myHideSideButton.setIcon(ourHideSideDown,ourHideSideDownInactive);
    }
 else     if (ToolWindowAnchor.RIGHT == anchor) {
      myHideSideButton.setIcon(ourHideSideRight,ourHideSideRightInactive);
    }
  }
 else {
    myHideSideButton.setVisible(false);
  }
  validate();
  repaint();
  if (myInfo.isDocked()) {
    myToggleFloatingModeButton.setIcon(ourFloatingIcon,ourFloatingInactiveIcon);
    myToggleDockModeButton.setVisible(true);
    myToggleDockModeButton.setIcon(ourSlidingIcon,ourSlidingInactiveIcon);
    myToggleAutoHideModeButton.setVisible(true);
    myToggleAutoHideModeButton.setIcon((myInfo.isAutoHide() ? ourAuthoHideOnIcon : ourAuthoHideOffIcon),(myInfo.isAutoHide() ? ourAuthoHideOnInactiveIcon : ourAuthoHideOffInactiveIcon));
    myHideButton.setVisible(true);
  }
 else   if (myInfo.isFloating()) {
    myToggleFloatingModeButton.setIcon(ourFixIcon,ourFixInactiveIcon);
    myToggleDockModeButton.setVisible(false);
    myToggleAutoHideModeButton.setVisible(true);
    myToggleAutoHideModeButton.setIcon(myInfo.isAutoHide() ? ourAuthoHideOnIcon : ourAuthoHideOffIcon,myInfo.isAutoHide() ? ourAuthoHideOnInactiveIcon : ourAuthoHideOffInactiveIcon);
    myHideButton.setVisible(true);
  }
 else   if (myInfo.isSliding()) {
    myToggleFloatingModeButton.setIcon(ourFloatingIcon,ourFloatingInactiveIcon);
    myToggleDockModeButton.setVisible(true);
    myToggleDockModeButton.setIcon(ourDockedIcon,ourDockedInactiveIcon);
    myToggleAutoHideModeButton.setVisible(false);
    myHideButton.setVisible(true);
  }
  myHideButton.setIcon(ourHideIcon,ourHideInactiveIcon);
  updateTitle();
  updateTooltips();
  if (myInfo.isFloating() && myInfo.isVisible()) {
    final FloatingDecorator floatingDecorator=(FloatingDecorator)SwingUtilities.getAncestorOfClass(FloatingDecorator.class,this);
    if (floatingDecorator != null) {
      floatingDecorator.apply(myInfo);
    }
  }
  myToolWindow.getContentUI().setType(myInfo.getContentUiType());
}
