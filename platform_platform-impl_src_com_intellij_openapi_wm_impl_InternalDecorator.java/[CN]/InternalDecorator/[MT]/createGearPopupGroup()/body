{
  final DefaultActionGroup group=new DefaultActionGroup();
  if (myAdditionalGearActions != null) {
    addSorted(group,myAdditionalGearActions);
    group.addSeparator();
  }
  group.addAction(myToggleToolbarGroup).setAsSecondary(true);
  if (myInfo.isDocked()) {
    group.add(myToggleAutoHideModeAction);
    group.add(myToggleDockModeAction);
    group.add(myToggleFloatingModeAction);
    group.add(myToggleWindowedModeAction);
    group.add(myToggleSideModeAction);
  }
 else   if (myInfo.isFloating()) {
    group.add(myToggleAutoHideModeAction);
    group.add(myToggleFloatingModeAction);
    group.add(myToggleWindowedModeAction);
  }
 else   if (myInfo.isWindowed()) {
    group.add(myToggleFloatingModeAction);
    group.add(myToggleWindowedModeAction);
  }
 else   if (myInfo.isSliding()) {
    if (!ToolWindowId.PREVIEW.equals(myInfo.getId())) {
      group.add(myToggleDockModeAction);
    }
    group.add(myToggleFloatingModeAction);
    group.add(myToggleWindowedModeAction);
    group.add(myToggleSideModeAction);
  }
  return group;
}
