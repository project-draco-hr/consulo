{
  if (myProject == null)   return new Insets(0,0,0,0);
  ToolWindowManager toolWindowManager=ToolWindowManager.getInstance(myProject);
  if (!(toolWindowManager instanceof ToolWindowManagerImpl) || !((ToolWindowManagerImpl)toolWindowManager).isToolWindowRegistered(myInfo.getId()) || myWindow.getType() == ToolWindowType.FLOATING) {
    return new Insets(0,0,0,0);
  }
  ToolWindowAnchor anchor=myWindow.getAnchor();
  Component component=myWindow.getComponent();
  Container parent=component.getParent();
  while (parent != null) {
    if (parent instanceof Splitter) {
      Splitter splitter=(Splitter)parent;
      boolean isFirst=splitter.getFirstComponent() == component;
      boolean isVertical=splitter.isVertical();
      return new Insets(0,anchor == ToolWindowAnchor.RIGHT || (!isVertical && !isFirst) ? 1 : 0,(isVertical && isFirst) ? 1 : 0,anchor == ToolWindowAnchor.LEFT || (!isVertical && isFirst) ? 1 : 0);
    }
    component=parent;
    parent=component.getParent();
  }
  return new Insets(0,anchor == ToolWindowAnchor.RIGHT ? 1 : 0,anchor == ToolWindowAnchor.TOP ? 1 : 0,anchor == ToolWindowAnchor.LEFT ? 1 : 0);
}
