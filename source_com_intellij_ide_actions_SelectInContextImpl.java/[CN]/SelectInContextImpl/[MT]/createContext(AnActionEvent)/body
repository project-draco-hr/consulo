{
  DataContext dataContext=event.getDataContext();
  SelectInContextProvider result=createEditorContext(dataContext);
  if (result != null) {
    return result;
  }
  JComponent sourceComponent=getEventComponent(event);
  if (sourceComponent == null) {
    return null;
  }
  ComponentCenterLocation popupLocation=new ComponentCenterLocation(sourceComponent);
  SelectInContext selectInContext=((SelectInContext)dataContext.getData(SelectInContext.DATA_CONTEXT_ID));
  if (selectInContext == null) {
    selectInContext=createPsiContext(event);
  }
  if (selectInContext == null) {
    Navigatable descriptor=(Navigatable)dataContext.getData(DataConstants.NAVIGATABLE);
    if (!(descriptor instanceof OpenFileDescriptor)) {
      return null;
    }
    Project project=(Project)dataContext.getData(DataConstants.PROJECT);
    selectInContext=OpenFileDescriptorContext.create(project,((OpenFileDescriptor)descriptor).getFile());
  }
  return new SelectInContextProvider(selectInContext,popupLocation);
}
