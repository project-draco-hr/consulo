{
  final AntBuildFileGroupManager groupManager=AntBuildFileGroupManager.getInstance(e.getProject());
  String text=Messages.showInputDialog(e.getProject(),"Name: ","Enter Group Name",null,null,new InputValidator(){
    @Override public boolean checkInput(    String inputString){
      if (inputString.isEmpty()) {
        return false;
      }
      AntBuildFileGroup[] groups;
      if (myGroup == null) {
        groups=groupManager.getFirstLevelGroups();
      }
 else {
        groups=myGroup.getChildren();
      }
      for (      AntBuildFileGroup group : groups) {
        if (group.getName().equalsIgnoreCase(inputString)) {
          return false;
        }
      }
      return true;
    }
    @Override public boolean canClose(    String inputString){
      return checkInput(inputString);
    }
  }
);
  if (StringUtil.notNullize(text).isEmpty()) {
    return;
  }
  final AntBuildFileGroup group=groupManager.createGroup(myGroup,text);
  final AntBuildFile buildFile=MoveToThisGroupAction.findBuildFile(myTree);
  if (buildFile != null) {
    groupManager.moveToGroup(buildFile,group);
  }
  final AbstractTreeBuilder builder=AbstractTreeBuilder.getBuilderFor(myTree);
  if (builder != null) {
    builder.queueUpdate();
  }
}
