{
  if (request.equals(another.request)) {
    final Processor<PsiReference> myProcessor=refProcessor;
    if (myProcessor != another.refProcessor) {
      refProcessor=new Processor<PsiReference>(){
        @Override public boolean process(        PsiReference psiReference){
          if (!myProcessor.process(psiReference))           return false;
          return another.refProcessor.process(psiReference);
        }
      }
;
    }
    return true;
  }
  return false;
}
