{
  final AtomicInteger count=new AtomicInteger();
  if (!processFilesWithText(scope,UsageSearchContext.ANY,true,name,new CommonProcessors.CollectProcessor<VirtualFile>(Collections.<VirtualFile>emptyList()){
    private final VirtualFile fileToIgnoreOccurencesInVirtualFile=fileToIgnoreOccurencesIn != null ? fileToIgnoreOccurencesIn.getVirtualFile() : null;
    @Override public boolean process(    VirtualFile file){
      if (file == fileToIgnoreOccurencesInVirtualFile)       return true;
      int value=count.incrementAndGet();
      return value < 10;
    }
  }
,progress)) {
    return SearchCostResult.TOO_MANY_OCCURRENCES;
  }
  return count.get() == 0 ? SearchCostResult.ZERO_OCCURRENCES : SearchCostResult.FEW_OCCURRENCES;
}
