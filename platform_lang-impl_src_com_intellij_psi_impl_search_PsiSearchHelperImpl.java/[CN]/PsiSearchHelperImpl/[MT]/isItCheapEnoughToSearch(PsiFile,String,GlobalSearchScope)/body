{
  final int[] count={0};
  if (!processFilesWithText(scope,UsageSearchContext.ANY,true,name,new Processor<PsiFile>(){
    public boolean process(    PsiFile file){
      if (file == fileToIgnoreOccurencesIn)       return true;
synchronized (count) {
        count[0]++;
        return count[0] <= 10;
      }
    }
  }
)) {
    return Result.TOO_MANY_OCCURRENCES;
  }
synchronized (count) {
    return count[0] == 0 ? Result.ZERO_OCCURRENCES : Result.FEW_OCCURRENCES;
  }
}
