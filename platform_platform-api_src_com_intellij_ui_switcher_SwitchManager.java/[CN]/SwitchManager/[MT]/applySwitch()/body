{
  if (isSessionActive()) {
    mySession.finish().doWhenDone(new AsyncResult.Handler<SwitchTarget>(){
      public void run(      final SwitchTarget switchTarget){
        mySession=null;
        IdeFocusManager.getGlobalInstance().doWhenFocusSettlesDown(new Runnable(){
          public void run(){
            tryToInitSessionFromFocus(switchTarget);
          }
        }
);
      }
    }
);
  }
}
