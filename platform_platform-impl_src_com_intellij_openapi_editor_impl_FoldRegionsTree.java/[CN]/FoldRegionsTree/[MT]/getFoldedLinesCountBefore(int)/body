{
  CachedData snapshot=myCachedData;
  int idx=getLastTopLevelIndexBefore(snapshot,offset);
  if (idx == -1)   return 0;
  return snapshot.foldedLines[idx];
}
