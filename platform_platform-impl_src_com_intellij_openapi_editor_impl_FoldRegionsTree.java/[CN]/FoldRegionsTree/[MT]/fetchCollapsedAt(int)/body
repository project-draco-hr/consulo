{
  if (!isFoldingEnabledAndUpToDate())   return FoldRegion.EMPTY_ARRAY;
  ArrayList<FoldRegion> allCollapsed=new ArrayList<FoldRegion>();
  for (  FoldRegion region : myRegions) {
    if (!region.isExpanded() && contains(region,offset)) {
      allCollapsed.add(region);
    }
  }
  return toFoldArray(allCollapsed);
}
