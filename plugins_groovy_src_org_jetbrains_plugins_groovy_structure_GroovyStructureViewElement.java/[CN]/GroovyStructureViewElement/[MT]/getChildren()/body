{
  List<GroovyStructureViewElement> children=new ArrayList<GroovyStructureViewElement>();
  if (myElement instanceof GroovyFile) {
    GrTopStatement[] topStatements=((GroovyFile)myElement).getTopStatements();
    for (    GrTopStatement topStatement : topStatements) {
      if (topStatement instanceof GrTypeDefinition || topStatement instanceof GrMethod) {
        addNewChild(children,topStatement);
      }
 else       if (topStatement instanceof GrVariableDeclarations) {
        addVariables(children,((GrVariableDeclarations)topStatement));
      }
    }
  }
 else   if (myElement instanceof GrTypeDefinition) {
    GrStatement[] statements=((GrTypeDefinition)myElement).getStatements();
    for (    GrStatement statement : statements) {
      if (statement instanceof GrVariableDeclarations) {
        addVariables(children,(GrVariableDeclarations)statement);
      }
 else {
        addNewChild(children,statement);
      }
    }
  }
  return children.toArray(StructureViewTreeElement.EMPTY_ARRAY);
}
