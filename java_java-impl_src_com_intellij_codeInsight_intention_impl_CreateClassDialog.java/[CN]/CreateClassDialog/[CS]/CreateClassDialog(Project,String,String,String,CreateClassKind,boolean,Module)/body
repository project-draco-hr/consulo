{
  super(project,true);
  myClassNameEditable=classNameEditable;
  myModule=defaultModule;
  myClassName=targetClassName;
  myProject=project;
  final String normalizedPackageName=targetPackageName != null ? targetPackageName : "";
  myPackageComponent=new PackageNameReferenceEditorCombo(normalizedPackageName,myProject,RECENTS_KEY,CodeInsightBundle.message("dialog.create.class.package.chooser.title"));
  myPackageComponent.setTextFieldPreferredWidth(40);
  init();
  if (!myClassNameEditable) {
    setTitle(CodeInsightBundle.message("dialog.create.class.name",StringUtil.capitalize(kind.getDescription()),targetClassName));
  }
 else {
    myInformationLabel.setText(CodeInsightBundle.message("dialog.create.class.label",kind.getDescription()));
    setTitle(title);
  }
  myTfClassName.setText(myClassName);
  myDestinationCB.setData(myProject,getBaseDir(normalizedPackageName),new Pass<String>(){
    @Override public void pass(    String s){
      setErrorText(s);
    }
  }
,myPackageComponent.getChildComponent());
}
