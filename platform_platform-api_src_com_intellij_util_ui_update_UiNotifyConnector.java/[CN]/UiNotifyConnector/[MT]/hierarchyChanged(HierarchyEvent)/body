{
  if (isDisposed())   return;
  if ((e.getChangeFlags() & HierarchyEvent.SHOWING_CHANGED) > 0) {
    final Runnable runnable=new DumbAwareRunnable(){
      @Override public void run(){
        final Component c=myComponent.get();
        if (isDisposed() || c == null)         return;
        if (c.isShowing()) {
          showNotify();
        }
 else {
          hideNotify();
        }
      }
    }
;
    final Application app=ApplicationManager.getApplication();
    if (app != null && app.isDispatchThread()) {
      app.invokeLater(runnable,ModalityState.current());
    }
 else {
      SwingUtilities.invokeLater(runnable);
    }
  }
}
