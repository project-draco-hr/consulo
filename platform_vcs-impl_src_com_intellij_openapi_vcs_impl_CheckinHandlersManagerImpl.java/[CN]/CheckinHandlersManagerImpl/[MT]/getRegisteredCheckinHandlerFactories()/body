{
  final AbstractVcs[] allActiveVcss=myVcsManager.getAllActiveVcss();
  final ArrayList<BaseCheckinHandlerFactory> list=new ArrayList<BaseCheckinHandlerFactory>(myRegisteredBeforeCheckinHandlers.size() + allActiveVcss.length);
  list.addAll(myRegisteredBeforeCheckinHandlers);
  for (  AbstractVcs vcs : allActiveVcss) {
    final Collection<BaseCheckinHandlerFactory> factories=myVcsMap.get(vcs.getKeyInstanceMethod());
    if (factories != null && !factories.isEmpty()) {
      list.addAll(factories);
    }
  }
  return list;
}
