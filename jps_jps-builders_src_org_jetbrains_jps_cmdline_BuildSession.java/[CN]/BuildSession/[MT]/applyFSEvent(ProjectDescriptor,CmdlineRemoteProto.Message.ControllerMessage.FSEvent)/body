{
  if (event == null) {
    return;
  }
  if (pd != null) {
    final Timestamps timestamps=pd.timestamps.getStorage();
    for (    String deleted : event.getDeletedPathsList()) {
      final File file=new File(deleted);
      final RootDescriptor rd=pd.rootsIndex.getModuleAndRoot(null,file);
      if (rd != null) {
        if (Utils.IS_TEST_MODE) {
          LOG.info("Applying deleted path from fs event: " + file.getPath());
        }
        pd.fsState.registerDeleted(rd.module,file,rd.isTestRoot,timestamps);
      }
 else {
        if (Utils.IS_TEST_MODE) {
          LOG.info("Skipping deleted path: " + file.getPath());
        }
      }
    }
    for (    String changed : event.getChangedPathsList()) {
      final File file=new File(changed);
      final RootDescriptor rd=pd.rootsIndex.getModuleAndRoot(null,file);
      if (rd != null) {
        if (Utils.IS_TEST_MODE) {
          LOG.info("Applying dirty path from fs event: " + file.getPath());
        }
        pd.fsState.markDirty(null,file,rd,timestamps);
      }
 else {
        if (Utils.IS_TEST_MODE) {
          LOG.info("Skipping dirty path: " + file.getPath());
        }
      }
    }
  }
  myLastEventOrdinal+=1;
}
