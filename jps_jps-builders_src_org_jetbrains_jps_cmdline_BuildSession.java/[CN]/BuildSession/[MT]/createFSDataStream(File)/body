{
  if (myInitialFSDelta == null) {
    return null;
  }
  try {
    final File file=new File(dataStorageRoot,FS_STATE_FILE);
    final InputStream fs=new FileInputStream(file);
    byte[] bytes;
    try {
      bytes=FileUtil.loadBytes(fs,(int)file.length());
    }
  finally {
      fs.close();
    }
    final DataInputStream in=new DataInputStream(new ByteArrayInputStream(bytes));
    final int version=in.readInt();
    if (version != FSState.VERSION) {
      return null;
    }
    final long savedOrdinal=in.readLong();
    if (savedOrdinal + 1L != myInitialFSDelta.getOrdinal()) {
      return null;
    }
    return in;
  }
 catch (  FileNotFoundException ignored) {
  }
catch (  Throwable e) {
    LOG.error(e);
  }
  return null;
}
