{
  final boolean wasInterrupted=Thread.interrupted();
  try {
    saveFsState(dataStorageRoot,fsState);
    final ProjectDescriptor pd=myProjectDescriptor;
    if (pd != null) {
      pd.getTargetsState().save();
      pd.release();
    }
  }
  finally {
    if (wasInterrupted) {
      Thread.currentThread().interrupt();
    }
  }
}
