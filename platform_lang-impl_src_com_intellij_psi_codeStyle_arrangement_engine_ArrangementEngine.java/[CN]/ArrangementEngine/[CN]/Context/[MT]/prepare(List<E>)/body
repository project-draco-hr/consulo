{
  if (arrangedEntries.isEmpty()) {
    return;
  }
  E parent=arrangedEntries.get(0);
  if (parent == null) {
    myParentText=document.getText();
    myParentShift=0;
  }
 else {
    int endOffset=parent.getEndOffset();
    if (myExtraSizes.containsKey(parent)) {
      endOffset+=myExtraSizes.get(parent);
    }
    myParentText=document.getCharsSequence().subSequence(parent.getStartOffset(),endOffset).toString();
    myParentShift=parent.getStartOffset();
  }
}
