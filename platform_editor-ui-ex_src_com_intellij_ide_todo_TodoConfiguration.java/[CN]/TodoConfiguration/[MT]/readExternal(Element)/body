{
  List<TodoPattern> patternsList=new ArrayList<TodoPattern>();
  List<TodoFilter> filtersList=new ArrayList<TodoFilter>();
  for (  Element child : element.getChildren()) {
    if (ELEMENT_PATTERN.equals(child.getName())) {
      TodoPattern pattern=new TodoPattern(TodoAttributesUtil.createDefault());
      pattern.readExternal(child,TodoAttributesUtil.getDefaultColorSchemeTextAttributes());
      patternsList.add(pattern);
    }
 else     if (ELEMENT_FILTER.equals(child.getName())) {
      TodoPattern[] patterns=patternsList.toArray(new TodoPattern[patternsList.size()]);
      TodoFilter filter=new TodoFilter();
      filter.readExternal(child,patterns);
      filtersList.add(filter);
    }
  }
  doSetTodoPatterns(patternsList.toArray(new TodoPattern[patternsList.size()]),false);
  setTodoFilters(filtersList.toArray(new TodoFilter[filtersList.size()]));
}
