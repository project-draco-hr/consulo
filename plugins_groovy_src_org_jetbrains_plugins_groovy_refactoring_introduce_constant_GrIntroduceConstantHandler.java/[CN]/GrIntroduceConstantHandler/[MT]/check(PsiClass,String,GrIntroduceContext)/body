{
  if (targetClass != null && !GroovyFileType.GROOVY_LANGUAGE.equals(targetClass.getLanguage())) {
    return GroovyRefactoringBundle.message("class.language.is.not.groovy");
  }
  final JavaPsiFacade facade=JavaPsiFacade.getInstance(context.getProject());
  if (fieldName == null || fieldName.isEmpty()) {
    return RefactoringBundle.message("no.field.name.specified");
  }
 else   if (!facade.getNameHelper().isIdentifier(fieldName)) {
    return RefactoringMessageUtil.getIncorrectIdentifierMessage(fieldName);
  }
  if (targetClass instanceof GroovyScriptClass) {
    return GroovyRefactoringBundle.message("target.class.must.not.be.script");
  }
  return null;
}
