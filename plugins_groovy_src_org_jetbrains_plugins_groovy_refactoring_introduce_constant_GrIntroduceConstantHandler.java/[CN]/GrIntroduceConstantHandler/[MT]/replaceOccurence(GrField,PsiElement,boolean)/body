{
  final PsiElement replaced=occurence.replace(createRefExpression(field,occurence));
  if (escalateVisibility) {
    PsiUtil.escalateVisibility(field,replaced);
  }
  if (replaced instanceof GrReferenceExpression) {
    if (!PsiUtil.shortenReference((GrReferenceElement)replaced)) {
      final PsiElement qualifier=((GrReferenceElement)replaced).getQualifier();
      if (qualifier instanceof GrReferenceExpression) {
        PsiUtil.shortenReference((GrReferenceElement)qualifier);
      }
    }
  }
}
