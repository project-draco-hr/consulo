{
  final Module dep=createModule("dep");
  ModuleRootModificationUtil.addDependency(dep,createJDomLibrary(),DependencyScope.COMPILE,true);
  ModuleRootModificationUtil.addDependency(myModule,dep,DependencyScope.TEST,true);
  assertClassRoots(orderEntries(myModule).withoutSdk());
  assertClassRoots(orderEntries(myModule).withoutSdk().recursively(),getJDomJar());
  assertClassRoots(orderEntries(myModule).withoutSdk().exportedOnly().recursively(),getJDomJar());
  assertClassRoots(orderEntries(myModule).withoutSdk().productionOnly().recursively());
  assertClassRoots(ProjectRootManager.getInstance(myProject).orderEntries().withoutSdk(),getJDomJar());
  assertClassRoots(ProjectRootManager.getInstance(myProject).orderEntries().withoutSdk().productionOnly(),getJDomJar());
}
