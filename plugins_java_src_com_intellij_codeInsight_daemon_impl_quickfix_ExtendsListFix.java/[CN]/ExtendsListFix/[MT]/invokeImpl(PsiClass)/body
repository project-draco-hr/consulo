{
  if (!FileModificationService.getInstance().prepareFileForWrite(myClass.getContainingFile()))   return;
  PsiReferenceList extendsList=!(myClass instanceof PsiTypeParameter) && myClass.isInterface() != myClassToExtendFrom.isInterface() ? myClass.getImplementsList() : myClass.getExtendsList();
  PsiReferenceList otherList=extendsList == myClass.getImplementsList() ? myClass.getExtendsList() : myClass.getImplementsList();
  try {
    if (extendsList != null) {
      modifyList(extendsList,myToAdd,-1);
    }
    if (otherList != null) {
      modifyList(otherList,false,-1);
    }
  }
 catch (  IncorrectOperationException e) {
    LOG.error(e);
  }
}
