{
  if (myBuilder == null)   return null;
  if (DataConstants.PSI_ELEMENT.equals(dataId)) {
    final PsiElement selectedElement=getSelectedElement();
    return (selectedElement != null && selectedElement.isValid()) ? selectedElement : null;
  }
  if (DataConstantsEx.PSI_ELEMENT_ARRAY.equals(dataId)) {
    return filterInvalidElements(getSelectedElements());
  }
 else   if (DataConstantsEx.PASTE_TARGET_PSI_ELEMENT.equals(dataId)) {
    final Object element=myBuilder.getParentElement();
    return (element instanceof PsiElement) && ((PsiElement)element).isValid() ? element : null;
  }
 else   if (DataConstants.NAVIGATABLE.equals(dataId)) {
    return createEditSourceDescriptor();
  }
 else   if (DataConstantsEx.COPY_PROVIDER.equals(dataId)) {
    return myCopyPasteDelegator != null ? myCopyPasteDelegator.getCopyProvider() : null;
  }
 else   if (DataConstantsEx.CUT_PROVIDER.equals(dataId)) {
    return myCopyPasteDelegator != null ? myCopyPasteDelegator.getCutProvider() : null;
  }
 else   if (DataConstantsEx.PASTE_PROVIDER.equals(dataId)) {
    return myCopyPasteDelegator != null ? myCopyPasteDelegator.getPasteProvider() : null;
  }
 else   if (DataConstantsEx.IDE_VIEW.equals(dataId)) {
    return myIdeView;
  }
 else   if (DataConstantsEx.DELETE_ELEMENT_PROVIDER.equals(dataId)) {
    return myDeleteElementProvider;
  }
  return null;
}
