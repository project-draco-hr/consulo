{
  AddModuleWizard dialog=new AddModuleWizard(null,file.getPath(),new AbstractExternalProjectImportProvider(getBuilder()));
  getBuilder().prepare(wizardContext);
  getBuilder().setCurrentProjectPath(file.getPath());
  dialog.getWizardContext().setProjectBuilder(getBuilder());
  dialog.navigateToStep(new Function<Step,Boolean>(){
    @Override public Boolean fun(    Step step){
      return step instanceof SelectExternalProjectStepBase;
    }
  }
);
  dialog.doNextAction();
  if (StringUtil.isEmpty(wizardContext.getProjectName())) {
    final String projectName=dialog.getWizardContext().getProjectName();
    if (!StringUtil.isEmpty(projectName)) {
      wizardContext.setProjectName(projectName);
    }
  }
  dialog.show();
  return dialog.isOK();
}
