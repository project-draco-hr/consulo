{
  CodeStyleScheme[] schemes=CodeStyleSchemes.getInstance().getSchemes();
  ArrayList names=new ArrayList();
  for (int i=0; i < schemes.length; i++) {
    CodeStyleScheme scheme=schemes[i];
    names.add(scheme.getName());
  }
  SaveSchemeDialog saveDialog=new SaveSchemeDialog(myPanel,"Save Code Style Scheme As",names);
  saveDialog.show();
  if (saveDialog.isOK()) {
    CodeStyleScheme selectedScheme=getSelectedScheme();
    CodeStyleScheme newScheme=CodeStyleSchemes.getInstance().createNewScheme(saveDialog.getSchemeName(),selectedScheme);
    mySettingsStack.addScheme(newScheme);
    ((DefaultComboBoxModel)myCombo.getModel()).addElement(newScheme);
    myCombo.setSelectedItem(newScheme);
  }
}
