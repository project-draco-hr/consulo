{
  Integer integer=myInstanceToId.get(s);
  if (integer != null)   return integer;
synchronized (myLock) {
    integer=myInstanceToId.get(s);
    if (integer != null)     return integer;
    try {
      boolean loaded=loadFromFile();
      if (loaded) {
        integer=myInstanceToId.get(s);
        if (integer != null)         return integer;
      }
      int enumerated=myInstances.size() + 1;
      register(s,enumerated);
      saveToFile(s);
      return enumerated;
    }
 catch (    IOException e) {
      throw invalidate(e);
    }
  }
}
