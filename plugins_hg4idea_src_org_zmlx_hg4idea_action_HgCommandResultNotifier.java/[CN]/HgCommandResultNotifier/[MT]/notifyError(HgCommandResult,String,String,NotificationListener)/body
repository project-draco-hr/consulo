{
  List<String> err;
  String errorMessage;
  if (StringUtil.isEmptyOrSpaces(failureDescription)) {
    failureDescription=failureTitle;
  }
  if (result == null) {
    errorMessage=failureDescription;
  }
 else {
    err=result.getErrorLines();
    if (err.isEmpty()) {
      LOG.assertTrue(!StringUtil.isEmptyOrSpaces(failureDescription),"Failure title, failure description and errors log can not be empty at the same time");
      errorMessage=failureDescription;
    }
 else     if (failureDescription.isEmpty()) {
      errorMessage=XmlStringUtil.wrapInHtml(StringUtil.join(err,"<br>"));
    }
 else {
      errorMessage=XmlStringUtil.wrapInHtml(failureDescription + "<br>" + StringUtil.join(err,"<br>"));
    }
  }
  IMPORTANT_ERROR_NOTIFICATION.createNotification(failureTitle,errorMessage,NotificationType.ERROR,listener).notify(myProject);
}
