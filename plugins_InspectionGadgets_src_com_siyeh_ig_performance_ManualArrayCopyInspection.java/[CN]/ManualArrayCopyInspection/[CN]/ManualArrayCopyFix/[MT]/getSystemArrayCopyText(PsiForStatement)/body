{
  final PsiBinaryExpression condition=(PsiBinaryExpression)forStatement.getCondition();
  final PsiExpression limit=condition.getROperand();
  final String lengthText=limit.getText();
  final PsiExpressionStatement body=getBody(forStatement);
  final PsiAssignmentExpression assignment=(PsiAssignmentExpression)body.getExpression();
  final PsiArrayAccessExpression lhs=(PsiArrayAccessExpression)assignment.getLExpression();
  final PsiExpression lArray=lhs.getArrayExpression();
  final String toArrayText=lArray.getText();
  final PsiArrayAccessExpression rhs=(PsiArrayAccessExpression)assignment.getRExpression();
  final PsiExpression rArray=rhs.getArrayExpression();
  final String fromArrayText=rArray.getText();
  final PsiExpression rhsIndex=rhs.getIndexExpression();
  final String fromOffsetText=getOffsetText(rhsIndex);
  final PsiExpression lhsIndex=lhs.getIndexExpression();
  final String toOffsetText=getOffsetText(lhsIndex);
  final StringBuffer buffer=new StringBuffer(25 + fromArrayText.length() + toArrayText.length()+ lengthText.length());
  buffer.append("System.arraycopy(");
  buffer.append(fromArrayText);
  buffer.append(", ");
  buffer.append(fromOffsetText);
  buffer.append(", ");
  buffer.append(toArrayText);
  buffer.append(", ");
  buffer.append(toOffsetText);
  buffer.append(", ");
  buffer.append(lengthText);
  buffer.append(");");
  return buffer.toString();
}
