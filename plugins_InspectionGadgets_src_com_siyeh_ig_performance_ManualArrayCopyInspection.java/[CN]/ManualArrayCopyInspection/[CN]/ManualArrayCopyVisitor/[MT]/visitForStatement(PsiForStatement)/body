{
  super.visitForStatement(forStatement);
  final PsiStatement initialization=forStatement.getInitialization();
  if (!(initialization instanceof PsiDeclarationStatement)) {
    return;
  }
  final PsiDeclarationStatement declaration=(PsiDeclarationStatement)initialization;
  if (declaration.getDeclaredElements().length != 1) {
    return;
  }
  final PsiLocalVariable var=(PsiLocalVariable)declaration.getDeclaredElements()[0];
  final PsiExpression initialValue=var.getInitializer();
  if (initialValue != null) {
    final PsiManager manager=initialValue.getManager();
    final PsiConstantEvaluationHelper constantEvaluationHelper=manager.getConstantEvaluationHelper();
    final Object value=constantEvaluationHelper.computeConstantExpression(initialValue);
    if (!(value instanceof Integer)) {
      return;
    }
    final Integer integer=(Integer)value;
    if (integer.intValue() != 0) {
      return;
    }
  }
  final PsiExpression condition=forStatement.getCondition();
  if (condition == null || !isComparison(condition,var)) {
    return;
  }
  final PsiStatement update=forStatement.getUpdate();
  if (!isIncrement(update,var)) {
    return;
  }
  final PsiStatement body=forStatement.getBody();
  if (!bodyIsArrayMove(body,var)) {
    return;
  }
  registerStatementError(forStatement);
}
