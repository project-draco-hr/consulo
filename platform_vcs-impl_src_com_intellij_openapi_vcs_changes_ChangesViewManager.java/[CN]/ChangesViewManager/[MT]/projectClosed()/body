{
  if (myToggleDetailsAction.isSelected(null)) {
    VirtualFileManager.getInstance().removeVirtualFileListener(myFileListener);
    EditorFactory.getInstance().getEventMulticaster().removeDocumentListener(myDocumentListener);
  }
  myDiffDetails.dispose();
  myView.removeTreeSelectionListener(myTsl);
  myConnection.disconnect();
  myDisposed=true;
  myRepaintAlarm.cancelAllRequests();
}
