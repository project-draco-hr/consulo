{
  final Converter<T> converter=getConverter();
  if (converter instanceof ResolvingConverter) {
    return ((ResolvingConverter<T>)converter).resolve(o,getConvertContext());
  }
  if (o instanceof PsiElement) {
    return (PsiElement)o;
  }
  if (o instanceof DomElement) {
    DomTarget target=DomTarget.getTarget((DomElement)o);
    return target == null ? null : PomService.convertToPsi(target);
  }
  if (o instanceof MergedObject) {
    final List<T> list=((MergedObject<T>)o).getImplementations();
    for (    final T o1 : list) {
      final PsiElement psiElement=resolveInner(o1);
      if (psiElement != null) {
        return psiElement;
      }
    }
  }
  return o != null ? getElement() : null;
}
