{
  if (connectedCells.length == 0) {
    return 0;
  }
  int[] medianValues=new int[connectedCells.length];
  for (int i=0; i < connectedCells.length; i++) {
    medianValues[i]=((mxGraphAbstractHierarchyCell)connectedCells[i]).getGeneralPurposeVariable(rankValue);
  }
  Arrays.sort(medianValues);
  if (connectedCells.length % 2 == 1) {
    return medianValues[connectedCells.length / 2];
  }
 else {
    int medianPoint=connectedCells.length / 2;
    int leftMedian=medianValues[medianPoint - 1];
    int rightMedian=medianValues[medianPoint];
    return ((leftMedian + rightMedian) / 2);
  }
}
