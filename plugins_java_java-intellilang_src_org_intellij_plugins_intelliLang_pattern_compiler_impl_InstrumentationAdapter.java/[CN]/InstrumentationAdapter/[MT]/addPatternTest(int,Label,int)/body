{
  if (myInstrumenter.myInstrumentationType == Configuration.InstrumentationType.ASSERT) {
    mv.visitFieldInsn(Opcodes.GETSTATIC,myInstrumenter.myClassName,PatternValidationInstrumenter.ASSERTIONS_DISABLED_NAME,"Z");
    mv.visitJumpInsn(Opcodes.IFNE,label);
  }
  mv.visitVarInsn(Opcodes.ALOAD,varIndex);
  mv.visitJumpInsn(Opcodes.IFNULL,label);
  mv.visitFieldInsn(Opcodes.GETSTATIC,myInstrumenter.myClassName,PatternValidationInstrumenter.PATTERN_CACHE_NAME,"[Ljava/util/regex/Pattern;");
  mv.visitIntInsn(Opcodes.BIPUSH,patternIndex);
  mv.visitInsn(Opcodes.AALOAD);
  mv.visitVarInsn(Opcodes.ALOAD,varIndex);
  mv.visitMethodInsn(Opcodes.INVOKEVIRTUAL,"java/util/regex/Pattern","matcher","(Ljava/lang/CharSequence;)Ljava/util/regex/Matcher;");
  mv.visitMethodInsn(Opcodes.INVOKEVIRTUAL,"java/util/regex/Matcher","matches","()Z");
  mv.visitJumpInsn(Opcodes.IFNE,label);
}
