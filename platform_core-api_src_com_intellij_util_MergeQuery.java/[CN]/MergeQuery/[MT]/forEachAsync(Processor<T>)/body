{
  final AsyncFutureResult<Boolean> result=AsyncFutureFactory.getInstance().createAsyncFutureResult();
  final AsyncFuture<Boolean> fq=processSubQueryAsync(consumer,myQuery1);
  fq.addConsumer(SameThreadExecutor.INSTANCE,new DefaultResultConsumer<Boolean>(result){
    @Override public void onSuccess(    Boolean value){
      if (!value.booleanValue()) {
        result.set(false);
      }
 else {
        final AsyncFuture<Boolean> fq2=processSubQueryAsync(consumer,myQuery2);
        fq2.addConsumer(SameThreadExecutor.INSTANCE,new DefaultResultConsumer<Boolean>(result));
      }
    }
  }
);
  return result;
}
