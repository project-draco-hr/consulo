{
  return new ISVNCanceller(){
    @Override public void checkCancelled() throws SVNCancelException {
      final ProgressManager pm=ProgressManager.getInstance();
      final ProgressIndicator pi=pm.getProgressIndicator();
      if (pi != null) {
        if (pi.isCanceled())         throw new SVNCancelException();
      }
      ProgressIndicator indicator=ProgressManager.getInstance().getProgressIndicator();
      if (indicator != null && indicator.isCanceled()) {
        throw new SVNCancelException();
      }
    }
  }
;
}
