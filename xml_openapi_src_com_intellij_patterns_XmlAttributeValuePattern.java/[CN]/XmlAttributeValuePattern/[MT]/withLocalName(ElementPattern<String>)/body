{
  return with(new PsiNamePatternCondition<XmlAttributeValue>(namePattern){
    public String getPropertyValue(    @NotNull final Object o){
      if (o instanceof XmlAttributeValue) {
        final XmlAttributeValue value=(XmlAttributeValue)o;
        final PsiElement parent=value.getParent();
        if (parent instanceof XmlAttribute) {
          return ((XmlAttribute)parent).getLocalName();
        }
        if (parent instanceof XmlProcessingInstruction) {
          PsiElement prev=value.getPrevSibling();
          if (!(prev instanceof XmlToken) || ((XmlToken)prev).getTokenType() != XmlTokenType.XML_EQ)           return null;
          prev=prev.getPrevSibling();
          if (!(prev instanceof XmlToken) || ((XmlToken)prev).getTokenType() != XmlTokenType.XML_NAME)           return null;
          return prev.getText();
        }
      }
      return null;
    }
  }
);
}
