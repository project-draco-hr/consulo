{
  if (myAllContents.size() == 0)   return;
  String fullString=getStringRepresentationFor(myAllContents.get(getSelectedIndex()));
  fullString=StringUtil.convertLineSeparators(fullString);
  if (myViewer != null) {
    EditorFactory.getInstance().releaseEditor(myViewer);
  }
  if (myUseIdeaEditor) {
    Document doc=EditorFactory.getInstance().createDocument(fullString);
    myViewer=EditorFactory.getInstance().createViewer(doc,myProject);
    myViewer.getComponent().setPreferredSize(new Dimension(300,500));
    myViewer.getSettings().setFoldingOutlineShown(false);
    myViewer.getSettings().setLineNumbersShown(false);
    myViewer.getSettings().setLineMarkerAreaShown(false);
    myViewer.getSettings().setIndentGuidesShown(false);
    mySplitter.setSecondComponent(myViewer.getComponent());
  }
 else {
    final JTextArea textArea=new JTextArea(fullString);
    textArea.setRows(3);
    textArea.setWrapStyleWord(true);
    textArea.setLineWrap(true);
    textArea.setSelectionStart(0);
    textArea.setSelectionEnd(textArea.getText().length());
    textArea.setEditable(false);
    mySplitter.setSecondComponent(new JScrollPane(textArea));
  }
  mySplitter.revalidate();
}
