{
  if (!withChildren || domElement == null || !domElement.isValid()) {
    return getProblems(domElement,includeXmlProblems);
  }
  final List<DomElementProblemDescriptor> collection=getProblems(domElement,myCachedChildrenErrors,myDomProblemsGetter);
  if (includeXmlProblems) {
    collection.addAll(getProblems(domElement,myCachedChildrenXmlErrors,myXmlProblemsGetter));
  }
  return collection;
}
