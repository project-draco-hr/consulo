{
  Runnable runnable=new Runnable(){
    @Override public void run(){
      try {
        action.actionPerformed(e);
      }
 catch (      IndexNotReadyException e1) {
        showDumbModeWarning(e);
      }
    }
    @Override public String toString(){
      return action + " of " + action.getClass();
    }
  }
;
  if (action.startInTransaction()) {
    TransactionGuard.getInstance().submitTransactionAndWait(runnable);
  }
 else {
    runnable.run();
  }
}
