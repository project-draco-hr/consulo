{
  try {
    if (e instanceof InvocationEvent) {
      final Field field=InvocationEvent.class.getDeclaredField("runnable");
      field.setAccessible(true);
      final Object runnable=field.get(e);
      if (runnable == null) {
        throw new IllegalStateException("InvocationEvent contains null runnable: " + e);
      }
    }
  }
 catch (  final Exception exc) {
    throw new Error(exc);
  }
  super.postEvent(e);
}
