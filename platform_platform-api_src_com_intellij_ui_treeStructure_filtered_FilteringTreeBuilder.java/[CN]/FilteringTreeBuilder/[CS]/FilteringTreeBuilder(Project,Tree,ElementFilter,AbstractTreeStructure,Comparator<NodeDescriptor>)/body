{
  super(tree,(DefaultTreeModel)tree.getModel(),new FilteringTreeStructure(project,filter,structure),comparator);
  myTree=tree;
  initRootNode();
  if (filter instanceof ElementFilter.Active) {
    ((ElementFilter.Active)filter).addListener(new ElementFilter.Listener(){
      public ActionCallback update(      final Object preferredSelection,      final boolean adjustSelection,      final boolean now){
        return refilter(preferredSelection,adjustSelection,now);
      }
    }
,this);
  }
}
