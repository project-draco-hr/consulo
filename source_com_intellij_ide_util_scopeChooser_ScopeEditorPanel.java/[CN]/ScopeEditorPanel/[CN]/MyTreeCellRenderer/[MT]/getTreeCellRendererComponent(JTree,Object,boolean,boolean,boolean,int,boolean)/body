{
  super.getTreeCellRendererComponent(tree,value,sel,expanded,leaf,row,hasFocus);
  PackageDependenciesNode node=(PackageDependenciesNode)value;
  if (expanded) {
    setIcon(node.getOpenIcon());
  }
 else {
    setIcon(node.getClosedIcon());
  }
  if (!sel && node.hasMarked() && !DependencyUISettings.getInstance().UI_FILTER_LEGALS) {
    setForeground(node.hasUnmarked() ? PARTIAL_INCLUDED : WHOLE_INCLUDED);
  }
  return this;
}
