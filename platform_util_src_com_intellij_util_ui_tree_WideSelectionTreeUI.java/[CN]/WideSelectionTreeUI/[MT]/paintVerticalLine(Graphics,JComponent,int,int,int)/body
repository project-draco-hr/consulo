{
  if (tree.hasFocus() && UIUtil.isUnderAlloyIDEALookAndFeel()) {
    int y0, y1=top;
    while (y1 < bottom) {
      y0=y1;
      final int row=tree.getRowForPath(tree.getClosestPathForLocation(x,y0 + 1));
      invertLineColor=tree.isRowSelected(row);
      g.setColor(getHashColor());
      final Rectangle bounds=tree.getRowBounds(row);
      y1=bounds.y + bounds.height;
      super.paintVerticalLine(g,c,x,y0,Math.min(bottom,y1));
    }
    invertLineColor=false;
  }
 else {
    super.paintVerticalLine(g,c,x,top,bottom);
  }
}
