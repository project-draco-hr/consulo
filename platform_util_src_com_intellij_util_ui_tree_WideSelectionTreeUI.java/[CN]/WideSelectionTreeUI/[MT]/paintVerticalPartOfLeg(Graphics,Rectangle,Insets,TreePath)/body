{
  if (!UIUtil.isUnderAquaBasedLookAndFeel() && !UIUtil.isUnderDarcula() && !UIUtil.isUnderIntelliJLaF()&& shouldPaintLines()) {
    invertLineColor=UIUtil.isUnderAlloyIDEALookAndFeel() && tree.hasFocus() && tree.getSelectionModel().isPathSelected(path);
    super.paintVerticalPartOfLeg(g,clipBounds,insets,path);
    invertLineColor=false;
  }
}
