{
  super.visitAssignmentExpression(expression);
  final PsiElement parent=expression.getParent();
  if (mightBeConfusingExpression(parent)) {
    return;
  }
  final PsiExpression rhs=expression.getRExpression();
  if (!mightBeConfusingExpression(rhs)) {
    return;
  }
  if (!(rhs instanceof PsiAssignmentExpression)) {
    return;
  }
  final PsiAssignmentExpression nestedAssignment=(PsiAssignmentExpression)rhs;
  final IElementType nestedTokenType=nestedAssignment.getOperationTokenType();
  final IElementType tokenType=expression.getOperationTokenType();
  if (nestedTokenType.equals(tokenType)) {
    return;
  }
  registerError(expression);
}
