{
  if (cursorOffset < 0 || cursorOffset >= editorText.length()) {
    return null;
  }
  if (cursorOffset > 0 && !Character.isJavaIdentifierPart(editorText.charAt(cursorOffset)) && Character.isJavaIdentifierPart(editorText.charAt(cursorOffset - 1))) {
    cursorOffset--;
  }
  if (Character.isJavaIdentifierPart(editorText.charAt(cursorOffset))) {
    int start=cursorOffset;
    int end=cursorOffset + 1;
    final int textLen=editorText.length();
    while (start > 0 && Character.isJavaIdentifierPart(editorText.charAt(start - 1)) && !isWordBound(editorText,start)) {
      start--;
    }
    while (end < textLen && Character.isJavaIdentifierPart(editorText.charAt(end)) && !isWordBound(editorText,end)) {
      end++;
    }
    if (start + 1 < end) {
      return new TextRange(start,end);
    }
  }
  return null;
}
