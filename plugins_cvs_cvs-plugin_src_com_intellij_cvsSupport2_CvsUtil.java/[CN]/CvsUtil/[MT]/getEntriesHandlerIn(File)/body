{
  EntriesHandler entriesHandler=new EntriesHandler(dir);
  try {
    entriesHandler.read(CvsApplicationLevelConfiguration.getCharset());
    return entriesHandler;
  }
 catch (  Exception ex) {
    final String entries=loadFrom(dir,ENTRIES,true);
    if (entries != null) {
      ApplicationManager.getApplication().invokeLater(new Runnable(){
        public void run(){
          final String entriesFileRelativePath=CVS + File.separatorChar + ENTRIES;
          Messages.showErrorDialog(CvsBundle.message("message.error.invalid.entries",entriesFileRelativePath,dir.getAbsolutePath(),entries),CvsBundle.message("message.error.invalid.entries.title"));
        }
      }
);
    }
    return entriesHandler;
  }
}
