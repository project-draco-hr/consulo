{
  SequentialTask task=new MyFormattingTask(){
    @NotNull @Override protected FormatProcessor buildProcessor(){
      FormatProcessor processor=new FormatProcessor(model.getDocumentModel(),model.getRootBlock(),settings,indentOptions,affectedRanges,FormattingProgressCallback.EMPTY);
      processor.setJavaIndentOptions(javaIndentOptions);
      processor.format(model);
      return processor;
    }
  }
;
  execute(task);
}
