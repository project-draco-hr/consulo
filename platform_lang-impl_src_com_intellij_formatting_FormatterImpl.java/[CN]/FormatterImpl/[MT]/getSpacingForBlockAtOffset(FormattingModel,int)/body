{
  Couple<Block> blockWithParent=getBlockAtOffset(null,model.getRootBlock(),offset);
  if (blockWithParent != null) {
    Block parentBlock=blockWithParent.first;
    Block targetBlock=blockWithParent.second;
    if (parentBlock != null && targetBlock != null) {
      Block prevBlock=findPreviousSibling(parentBlock,targetBlock);
      if (prevBlock != null) {
        SpacingImpl spacing=(SpacingImpl)parentBlock.getSpacing(prevBlock,targetBlock);
        if (spacing != null) {
          int minSpaces=spacing.getMinSpaces();
          if (minSpaces > 0) {
            return minSpaces;
          }
        }
      }
    }
  }
  return 0;
}
