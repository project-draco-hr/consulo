{
  myPermanentGraphLayout=permanentGraphLayout;
  myDelegateGraph=delegateGraph;
  myIntToIntMap=ListIntToIntMap.newInstance(new BooleanFunction<Integer>(){
    @Override public boolean fun(    Integer integer){
      return delegateGraph.nodeIsVisible(integer);
    }
  }
,delegateGraph.nodesCount());
  myDelegateGraph.getListenerController().addListener(new LinearGraphWithHiddenNodes.UpdateListener(){
    @Override public void update(    int upNodeIndex,    int downNodeIndex){
      myIntToIntMap.update(upNodeIndex,downNodeIndex);
    }
  }
);
}
