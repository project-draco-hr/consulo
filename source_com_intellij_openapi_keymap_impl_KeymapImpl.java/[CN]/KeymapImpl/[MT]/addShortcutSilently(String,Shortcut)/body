{
  ArrayList list=(ArrayList)myActionId2ListOfShortcuts.get(actionId);
  if (list == null) {
    list=new ArrayList();
    myActionId2ListOfShortcuts.put(actionId,list);
    if (myParent != null) {
      Shortcut[] shortcuts=getParentShortcuts(actionId);
      for (int i=0; i < shortcuts.length; i++) {
        list.add(shortcuts[i]);
      }
    }
  }
  list.add(shortcut);
  if (myParent != null && areShortcutsEqual(getParentShortcuts(actionId),getShortcuts(actionId))) {
    myActionId2ListOfShortcuts.remove(actionId);
  }
  myKeystroke2ListOfIds=null;
  myMouseShortcut2ListOfIds=null;
}
