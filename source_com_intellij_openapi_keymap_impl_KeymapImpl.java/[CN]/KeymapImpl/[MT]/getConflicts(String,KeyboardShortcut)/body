{
  HashMap<String,ArrayList<KeyboardShortcut>> result=new HashMap<String,ArrayList<KeyboardShortcut>>();
  String[] actionIds=getActionIds(keyboardShortcut.getFirstKeyStroke());
  for (int i=0; i < actionIds.length; i++) {
    String id=actionIds[i];
    if (id.equals(actionId)) {
      continue;
    }
    if (actionId.startsWith("Editor") && id.equals("$" + actionId.substring(6))) {
      continue;
    }
    if (StringUtil.startsWithChar(actionId,'$') && id.equals("Editor" + actionId.substring(1))) {
      continue;
    }
    Shortcut[] shortcuts=getShortcuts(id);
    for (int j=0; j < shortcuts.length; j++) {
      if (!(shortcuts[j] instanceof KeyboardShortcut)) {
        continue;
      }
      KeyboardShortcut shortcut=(KeyboardShortcut)shortcuts[j];
      if (!shortcut.getFirstKeyStroke().equals(keyboardShortcut.getFirstKeyStroke())) {
        continue;
      }
      if (keyboardShortcut.getSecondKeyStroke() != null && shortcut.getSecondKeyStroke() != null && !keyboardShortcut.getSecondKeyStroke().equals(shortcut.getSecondKeyStroke())) {
        continue;
      }
      ArrayList<KeyboardShortcut> list=result.get(id);
      if (list == null) {
        list=new ArrayList<KeyboardShortcut>();
        result.put(id,list);
      }
      list.add(shortcut);
    }
  }
  return result;
}
