{
  int i, c;
  int size=classes.size();
  int numIntervalls=0;
  for (i=0; i < size; i++)   numIntervalls+=((IntCharSet)classes.elementAt(i)).numIntervalls();
  CharClassInterval[] result=new CharClassInterval[numIntervalls];
  i=0;
  c=0;
  while (i < numIntervalls) {
    int code=getClassCode((char)c);
    IntCharSet set=(IntCharSet)classes.elementAt(code);
    Interval iv=set.getNext();
    result[i++]=new CharClassInterval(iv.start,iv.end,code);
    c=iv.end + 1;
  }
  return result;
}
