{
  Editor editor=(Editor)dataProvider.getData(DataConstants.EDITOR);
  PsiFile file=(PsiFile)dataProvider.getData(DataConstants.PSI_FILE);
  List<UsageTarget> result=new ArrayList<UsageTarget>();
  if (file != null && editor != null) {
    UsageTarget[] targets=findUsageTargets(editor,file);
    if (targets != null)     Collections.addAll(result,targets);
  }
  PsiElement psiElement=(PsiElement)dataProvider.getData(DataConstants.PSI_ELEMENT);
  if (psiElement != null) {
    UsageTarget[] targets=findUsageTargets(psiElement);
    if (targets != null)     Collections.addAll(result,targets);
  }
  return result.isEmpty() ? null : result.toArray(new UsageTarget[result.size()]);
}
