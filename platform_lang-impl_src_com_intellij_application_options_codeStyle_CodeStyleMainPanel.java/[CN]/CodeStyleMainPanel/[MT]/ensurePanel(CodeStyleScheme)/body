{
  String name=scheme.getName();
  if (!mySettingsPanels.containsKey(name)) {
    NewCodeStyleSettingsPanel panel=myFactory.createPanel(scheme);
    panel.reset();
    panel.setModel(myModel);
    panel.setLanguageSelector(myLangSelector);
    mySettingsPanels.put(name,panel);
    mySettingsPanel.add(scheme.getName(),panel);
    mySchemesPanel.setCodeStyleSettingsPanel(panel);
    panel.setLanguage(myLangSelector.getLanguage());
    Language panelLanguage=panel.getSelectedLanguage();
    mySchemesPanel.setPredefinedEnabled(panelLanguage != null && hasPredefinedStyles(panelLanguage));
  }
  return mySettingsPanels.get(name);
}
