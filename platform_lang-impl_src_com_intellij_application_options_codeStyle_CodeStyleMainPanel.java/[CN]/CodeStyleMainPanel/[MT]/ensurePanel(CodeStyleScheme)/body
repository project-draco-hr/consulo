{
  String name=scheme.getName();
  if (!mySettingsPanels.containsKey(name)) {
    NewCodeStyleSettingsPanel panel=myFactory.createPanel(scheme);
    panel.reset();
    panel.setModel(myModel);
    CodeStyleAbstractPanel settingsPanel=panel.getSelectedPanel();
    if (settingsPanel instanceof TabbedLanguageCodeStylePanel) {
      TabbedLanguageCodeStylePanel tabbedPanel=(TabbedLanguageCodeStylePanel)settingsPanel;
      tabbedPanel.setListener(this);
      String currentTab=myProperties.getValue(getSelectedTabPropertyName(tabbedPanel));
      if (currentTab != null) {
        tabbedPanel.changeTab(currentTab);
      }
    }
    mySettingsPanels.put(name,panel);
    mySettingsPanel.add(scheme.getName(),panel);
  }
  return mySettingsPanels.get(name);
}
