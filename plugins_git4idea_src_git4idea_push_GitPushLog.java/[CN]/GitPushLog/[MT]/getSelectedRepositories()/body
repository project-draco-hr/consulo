{
  if (myAllRepositories.size() == 1) {
    return myAllRepositories;
  }
  Collection<GitRepository> selectedRepositories=new ArrayList<GitRepository>(myAllRepositories.size());
  for (int i=0; i < myRootNode.getChildCount(); i++) {
    TreeNode child=myRootNode.getChildAt(i);
    if (child instanceof CheckedTreeNode) {
      CheckedTreeNode node=(CheckedTreeNode)child;
      if (node.isChecked()) {
        if (node.getUserObject() instanceof GitRepository) {
          selectedRepositories.add((GitRepository)node.getUserObject());
        }
      }
    }
  }
  return selectedRepositories;
}
