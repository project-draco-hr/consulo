{
  for (PsiElement child=element.getFirstChild(); child != null; child=child.getNextSibling()) {
    decodeContextInfo(child,thisClass,thisAccessExpr);
  }
  if (element.getCopyableUserData(KEY_ENCODED) != null) {
    element.putCopyableUserData(KEY_ENCODED,null);
    final PsiManager manager=element.getManager();
    if (element instanceof GrThisReferenceExpression) {
      final PsiClass thisQualClass=element.getCopyableUserData(QUALIFIER_CLASS_KEY);
      element.putCopyableUserData(QUALIFIER_CLASS_KEY,null);
      if (!manager.areElementsEquivalent(thisClass,thisQualClass)) {
        element.replace(thisAccessExpr);
        return;
      }
    }
  }
}
