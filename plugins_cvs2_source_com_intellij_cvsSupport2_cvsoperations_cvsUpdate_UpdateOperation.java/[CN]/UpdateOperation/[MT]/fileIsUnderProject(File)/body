{
  final FilePath path=PeerFactory.getInstance().getVcsContextFactory().createFilePathOn(file);
  if (!super.fileIsUnderProject(file)) {
    return false;
  }
  final AbstractVcs vcs=ApplicationManager.getApplication().runReadAction(new Computable<AbstractVcs>(){
    @Nullable public AbstractVcs compute(){
      return myVcsManager.getVcsFor(path);
    }
  }
);
  return vcs == myVcs;
}
