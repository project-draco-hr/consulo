{
  while (!myHandler.waitFor(500)) {
    if (progressIndicator.isCanceled()) {
      myHandler.destroyProcess();
      break;
    }
  }
  if (after != null) {
    after.run();
  }
}
