{
  DataContext dc=new DataContext(){
    @Nullable public Object getData(    String id){
      if (id.equals(DataKeys.VIRTUAL_FILE.getName()))       return f;
      if (id.equals(DataKeys.EDITOR.getName()))       return editor;
      if (id.equals(DataKeys.PROJECT.getName()))       return p;
      return null;
    }
  }
;
  return new AnActionEvent(null,dc,"",a.getTemplatePresentation(),null,-1);
}
