{
  if (isProperty() && getDeclaredType() == null && getInitializer() == null) {
    CachedValue<PsiType> enhancedType=myEnhancedType;
    if (enhancedType == null) {
      myEnhancedType=enhancedType=CachedValuesManager.getManager(getManager().getProject()).createCachedValue(new CachedValueProvider<PsiType>(){
        public Result<PsiType> compute(){
          for (          PropertyEnhancer enhancer : PropertyEnhancer.EP_NAME.getExtensions()) {
            final PsiType type=enhancer.getPropertyType(GrFieldImpl.this);
            if (type != null) {
              return Result.create(type,PsiModificationTracker.OUT_OF_CODE_BLOCK_MODIFICATION_COUNT);
            }
          }
          return Result.create(null,PsiModificationTracker.OUT_OF_CODE_BLOCK_MODIFICATION_COUNT);
        }
      }
,false);
    }
    final PsiType type=enhancedType.getValue();
    if (type != null) {
      return type;
    }
  }
  return super.getTypeGroovy();
}
