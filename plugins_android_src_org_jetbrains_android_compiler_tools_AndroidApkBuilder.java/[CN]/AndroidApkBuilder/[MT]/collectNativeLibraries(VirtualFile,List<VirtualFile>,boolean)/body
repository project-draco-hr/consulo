{
  if (!file.isDirectory()) {
    String ext=file.getExtension();
    if (AndroidUtils.EXT_NATIVE_LIB.equalsIgnoreCase(ext) || (debugBuild && SdkConstants.FN_GDBSERVER.equals(file.getName()))) {
      result.add(file);
    }
  }
 else   if (JavaResourceFilter.checkFolderForPackaging(file.getName())) {
    for (    VirtualFile child : file.getChildren()) {
      collectNativeLibraries(child,result,debugBuild);
    }
  }
}
