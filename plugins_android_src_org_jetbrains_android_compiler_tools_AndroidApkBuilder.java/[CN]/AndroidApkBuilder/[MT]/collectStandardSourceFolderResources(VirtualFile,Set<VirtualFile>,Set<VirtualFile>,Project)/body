{
  visited.add(sourceFolder);
  final CompilerManager compilerManager=project != null ? CompilerManager.getInstance(project) : null;
  for (  VirtualFile child : sourceFolder.getChildren()) {
    if (child.exists()) {
      if (child.isDirectory()) {
        if (!visited.contains(child) && JavaResourceFilter.checkFolderForPackaging(child.getName()) && (compilerManager == null || !compilerManager.isExcludedFromCompilation(child))) {
          collectStandardSourceFolderResources(child,visited,result,project);
        }
      }
 else       if (checkFileForPackaging(child) && (compilerManager == null || !compilerManager.isExcludedFromCompilation(child))) {
        result.add(child);
      }
    }
  }
}
