{
  if (expression instanceof PsiReferenceExpression) {
    final PsiReferenceExpression refExpr=(PsiReferenceExpression)expression;
    if (!refExpr.isQualified()) {
      final PsiElement target=refExpr.resolve();
      if (target instanceof PsiVariable) {
        final VariableLookupItem item=new VariableLookupItem((PsiVariable)target);
        item.setSubstitutor(PsiSubstitutor.EMPTY);
        return item;
      }
    }
  }
  if (expression instanceof PsiMethodCallExpression) {
    final PsiMethodCallExpression call=(PsiMethodCallExpression)expression;
    if (!call.getMethodExpression().isQualified()) {
      final PsiMethod method=call.resolveMethod();
      if (method != null) {
        return new JavaMethodCallElement(method);
      }
    }
  }
  return new ExpressionLookupItem(expression);
}
