{
  final SmartPsiElementPointer pointer=file.getUserData(FileContextUtil.INJECTED_IN_ELEMENT);
  if (pointer == null)   return null;
  final PsiElement element=pointer.getElement();
  if (!(element instanceof XmlText))   return null;
  final XmlTag tag=((XmlText)element).getParentTag();
  final XmlTag parentTag=tag == null ? null : tag.getParentTag();
  final String parentTagName=parentTag == null ? null : parentTag.getName();
  final String name=tag == null ? null : tag.getName();
  if ("place".equals(name) && "injection".equals(parentTagName) && parentTag != null) {
    return new CachedValueProvider<List<PsiElement>>(){
      @Override public Result<List<PsiElement>> compute(){
        return new Result<List<PsiElement>>(getRootsByClassNames(file,parentTag.getAttributeValue("injector-id")),parentTag.getContainingFile());
      }
    }
;
  }
 else   if ("pattern".equals(name) && parentTag != null) {
    return new CachedValueProvider<List<PsiElement>>(){
      @Override public Result<List<PsiElement>> compute(){
        return new Result<List<PsiElement>>(getRootsByClassNames(file,tag.getAttributeValue("type")),parentTag.getContainingFile());
      }
    }
;
  }
 else   return null;
}
