{
  int line=0;
  for (  TextRange range : myLineRanges) {
    if (offset >= range.getStartOffset() && offset <= range.getEndOffset()) {
      return line;
    }
    line++;
  }
  throw new AssertionError(String.format("Can't find test document line for offset %d. Registered lines: %s",offset,myLineRanges));
}
