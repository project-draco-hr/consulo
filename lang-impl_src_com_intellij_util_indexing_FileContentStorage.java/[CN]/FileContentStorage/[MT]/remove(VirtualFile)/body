{
  final int fileId=Math.abs(FileBasedIndex.getFileId(file));
synchronized (myLock) {
    try {
      return myFileIds.contains(fileId) ? myCache.get(fileId) : null;
    }
  finally {
      if (myFileIds.remove(fileId)) {
        myKeyBeingRemoved=fileId;
        if (!myCache.remove(fileId)) {
          FileUtil.delete(getDataFile(fileId));
        }
        myKeyBeingRemoved=-1;
      }
    }
  }
}
