{
  final GroovyResolveResult resolveResult=referenceElement.advancedResolve();
  final PsiElement resolved=resolveResult.getElement();
  if (resolved == null) {
    builder.append(referenceElement.getText());
    return;
  }
  LOG.assertTrue(resolved instanceof PsiClass || resolved instanceof PsiPackage);
  if (resolved instanceof PsiClass) {
    builder.append(((PsiClass)resolved).getQualifiedName());
  }
 else {
    builder.append(((PsiPackage)resolved).getQualifiedName());
  }
  writeTypeParameters(builder,referenceElement.getTypeArguments(),referenceElement,new GeneratorClassNameProvider());
}
