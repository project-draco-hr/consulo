{
  if (mySelected && (myFocused || UIUtil.isUnderNimbusLookAndFeel())) {
    super.append(fragment,new SimpleTextAttributes(attributes.getStyle(),UIUtil.getTreeSelectionForeground()),isMainText);
  }
 else   if (mySelected && UIUtil.isUnderAquaBasedLookAndFeel()) {
    super.append(fragment,new SimpleTextAttributes(attributes.getStyle(),UIUtil.getTreeForeground()),isMainText);
  }
 else {
    super.append(fragment,attributes,isMainText);
  }
}
