{
  myElementToRename=elementToRename;
  myEditor=editor;
  myProject=project;
  if (myElementToRename != null) {
    final PsiFile containingFile=myElementToRename.getContainingFile();
    if (!notSameFile(containingFile.getVirtualFile(),containingFile)) {
      myRenameOffset=myElementToRename != null && myElementToRename.getTextRange() != null ? myEditor.getDocument().createRangeMarker(myElementToRename.getTextRange()) : null;
    }
  }
}
