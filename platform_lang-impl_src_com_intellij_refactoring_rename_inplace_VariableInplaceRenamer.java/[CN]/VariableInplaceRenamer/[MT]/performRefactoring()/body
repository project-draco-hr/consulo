{
  boolean bind=false;
  if (myInsertedName != null) {
    bind=true;
    if (!isIdentifier(myInsertedName)) {
      performOnInvalidIdentifier(myInsertedName,myNameSuggestions);
    }
 else {
      if (mySnapshot != null) {
        if (isIdentifier(myInsertedName)) {
          ApplicationManager.getApplication().runWriteAction(new Runnable(){
            public void run(){
              mySnapshot.apply(myInsertedName);
            }
          }
);
        }
      }
    }
    final Runnable runnable=new Runnable(){
      public void run(){
        performRefactoringRename(myInsertedName,myMarkAction);
        if (myBeforeRevert != null) {
          myBeforeRevert.dispose();
        }
      }
    }
;
    if (ApplicationManager.getApplication().isUnitTestMode()) {
      runnable.run();
    }
 else {
      ApplicationManager.getApplication().invokeLater(runnable,myProject.getDisposed());
    }
  }
  return bind;
}
