{
  if (reference.getElement() == selectedElement && contains(reference.getRangeInElement().shiftRight(selectedElement.getTextRange().getStartOffset()),offset)) {
    Expression expression=new MyExpression(getInitialName(),names);
    builder.replaceElement(reference,PRIMARY_VARIABLE_NAME,expression,true);
  }
 else {
    builder.replaceElement(reference,OTHER_VARIABLE_NAME,PRIMARY_VARIABLE_NAME,false);
  }
}
