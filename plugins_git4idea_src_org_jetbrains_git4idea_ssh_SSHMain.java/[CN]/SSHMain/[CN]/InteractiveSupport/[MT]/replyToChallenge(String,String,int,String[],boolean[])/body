{
  if (numPrompts == 0) {
    return ArrayUtil.EMPTY_STRING_ARRAY;
  }
  myPromptCount++;
  Vector<String> vPrompts=new Vector<String>(prompt.length);
  Collections.addAll(vPrompts,prompt);
  Vector<Boolean> vEcho=new Vector<Boolean>(prompt.length);
  for (  boolean e : echo) {
    vEcho.add(e);
  }
  final Vector<String> result=myXmlRpcClient.replyToChallenge(myHandlerNo,getUserHostString(),name,instruction,numPrompts,vPrompts,vEcho,myLastError);
  if (result == null) {
    myCancelled=true;
    String[] rc=new String[numPrompts];
    Arrays.fill(rc,"");
    return rc;
  }
 else {
    return result.toArray(new String[result.size()]);
  }
}
