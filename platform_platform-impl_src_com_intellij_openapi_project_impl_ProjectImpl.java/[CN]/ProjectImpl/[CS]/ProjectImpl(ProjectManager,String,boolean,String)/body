{
  super(ApplicationManager.getApplication(),"Project " + (projectName == null ? dirPath : projectName));
  putUserData(CREATION_TIME,System.nanoTime());
  if (ApplicationManager.getApplication().isUnitTestMode()) {
    putUserData(CREATION_TRACE,DebugUtil.currentStackTrace());
  }
  getPicoContainer().registerComponentInstance(Project.class,this);
  if (!isDefault()) {
    getStateStore().setProjectFilePath(dirPath);
  }
  myOptimiseTestLoadSpeed=isOptimiseTestLoadSpeed;
  myManager=manager;
  myName=isDefault() ? TEMPLATE_PROJECT_NAME : projectName == null ? getStateStore().getProjectName() : projectName;
  if (!isDefault() && projectName != null && getStateStore().getStorageScheme().equals(StorageScheme.DIRECTORY_BASED)) {
    myOldName="";
  }
}
