{
  Element element=new Element("state");
  final Element nameElement=new Element(ELEMENT_NAME);
  nameElement.setAttribute(ATTRIBUTE_VALUE,myName);
  element.addContent(nameElement);
  if (mySdkType != null) {
    final Element sdkType=new Element(ELEMENT_TYPE);
    sdkType.setAttribute(ATTRIBUTE_VALUE,mySdkType.getName());
    element.addContent(sdkType);
  }
  if (myVersionString != null) {
    final Element version=new Element(ELEMENT_VERSION);
    version.setAttribute(ATTRIBUTE_VALUE,myVersionString);
    element.addContent(version);
  }
  final Element home=new Element(ELEMENT_HOMEPATH);
  home.setAttribute(ATTRIBUTE_VALUE,myHomePath);
  element.addContent(home);
  element.addContent(myRootContainer.getState().setName(ELEMENT_ROOTS));
  Element additional=new Element(ELEMENT_ADDITIONAL);
  if (myAdditionalData != null) {
    SdkImpl.LOGGER.assertTrue(mySdkType != null);
    mySdkType.saveAdditionalData(myAdditionalData,additional);
  }
  element.addContent(additional);
  return element;
}
