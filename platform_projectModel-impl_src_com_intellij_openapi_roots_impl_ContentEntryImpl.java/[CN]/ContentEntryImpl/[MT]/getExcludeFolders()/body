{
  final ArrayList<ExcludeFolder> result=new ArrayList<ExcludeFolder>(myExcludeFolders);
  for (  DirectoryIndexExcludePolicy excludePolicy : Extensions.getExtensions(DirectoryIndexExcludePolicy.EP_NAME,getRootModel().getProject())) {
    final VirtualFilePointer[] files=excludePolicy.getExcludeRootsForModule(getRootModel());
    for (    VirtualFilePointer file : files) {
      addExcludeForOutputPath(file,result);
    }
  }
  return result.toArray(new ExcludeFolder[result.size()]);
}
