{
  List<ContentFolder> list=new ArrayList<ContentFolder>();
  for (  ContentFolder contentFolder : myContentFolders) {
    if (ArrayUtil.contains(contentFolder.getType(),contentFolderTypes)) {
      list.add(contentFolder);
    }
  }
  if (ArrayUtil.contains(ContentFolderType.EXCLUDED,contentFolderTypes)) {
    for (    DirectoryIndexExcludePolicy excludePolicy : Extensions.getExtensions(DirectoryIndexExcludePolicy.EP_NAME,getRootModel().getProject())) {
      final VirtualFilePointer[] files=excludePolicy.getExcludeRootsForModule(getRootModel());
      for (      VirtualFilePointer file : files) {
        ContentFolderImpl contentFolder=new ContentFolderImpl(file,ContentFolderType.EXCLUDED,this);
        contentFolder.setSynthetic();
        list.add(contentFolder);
      }
    }
  }
  return list;
}
