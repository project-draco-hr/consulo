{
  final SuspendContextImpl suspendContext=getSuspendContext();
  if (suspendContext != null) {
    mySteppingThroughThreads.remove(suspendContext.getThread());
    final BreakpointManager breakpointManager=DebuggerManagerEx.getInstanceEx(getProject()).getBreakpointManager();
    final SuspendContextCommandImpl command=myDebugProcess.createResumeCommand(suspendContext);
    resumeAction(new SuspendContextCommandImpl(suspendContext){
      public void contextAction() throws Exception {
        breakpointManager.applyThreadFilter(getProcess(),null);
        command.contextAction();
      }
    }
,EVENT_RESUME);
  }
}
