{
  String tooltipText=ApplicationBundle.message("quickdoc.tooltip.font.size.by.wheel");
  final JPanel fontSizePanel=new JPanel(new FlowLayout(FlowLayout.RIGHT));
  fontSizePanel.add(new JLabel(ApplicationBundle.message("label.font.size")));
  myFontSizeSlider=new JSlider(JSlider.HORIZONTAL,0,FontSize.values().length - 1,3);
  myFontSizeSlider.setMinorTickSpacing(1);
  myFontSizeSlider.setPaintTicks(true);
  myFontSizeSlider.setSnapToTicks(true);
  fontSizePanel.add(myFontSizeSlider);
  myFontSizeSlider.addChangeListener(new ChangeListener(){
    @Override public void stateChanged(    ChangeEvent e){
      if (myIgnoreFontSizeSliderChange) {
        return;
      }
      EditorColorsManager colorsManager=EditorColorsManager.getInstance();
      EditorColorsScheme scheme=colorsManager.getGlobalScheme();
      scheme.setQuickDocFontSize(FontSize.values()[myFontSizeSlider.getValue()]);
      applyFontSize();
    }
  }
);
  Presentation presentation=new Presentation();
  presentation.setIcon(IconLoader.getIcon("/general/secondaryGroup.png"));
  final Ref<JComponent> ref=new Ref<JComponent>();
  ActionButton result=new ActionButton(new AnAction(){
    @Override public void actionPerformed(    AnActionEvent e){
      EditorColorsManager colorsManager=EditorColorsManager.getInstance();
      EditorColorsScheme scheme=colorsManager.getGlobalScheme();
      setFontSizeSliderSize(scheme.getQuickDocFontSize());
      mySettingsPopup=JBPopupFactory.getInstance().createComponentPopupBuilder(fontSizePanel,DocumentationComponent.this).setFocusable(false).setBelongsToGlobalPopupStack(false).setCancelCallback(new Computable<Boolean>(){
        @Override public Boolean compute(){
          mySettingsPopup=null;
          return true;
        }
      }
).createPopup();
      mySettingsPopup.showUnderneathOf(ref.get());
    }
  }
,presentation,ActionPlaces.JAVADOC_INPLACE_SETTINGS,ActionToolbar.DEFAULT_MINIMUM_BUTTON_SIZE);
  ref.set(result);
  fontSizePanel.setToolTipText(tooltipText);
  myFontSizeSlider.setToolTipText(tooltipText);
  return result;
}
