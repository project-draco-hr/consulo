{
  SmartExpander.installOn(myTree);
  SelectionSaver.installOn(myTree);
  refreshTree();
  myTree.addTreeSelectionListener(new TreeSelectionListener(){
    public void valueChanged(    TreeSelectionEvent e){
      AbstractTreeNode treeNode=(AbstractTreeNode)e.getPath().getLastPathComponent();
      if (treeNode instanceof FileTreeNode) {
        mySelectedFile=((FileTreeNode)treeNode).getFilePointer().getFile();
      }
 else {
        mySelectedFile=null;
      }
    }
  }
);
  myTree.setCellRenderer(new UpdateTreeCellRenderer());
  TreeUIHelper.getInstance().installToolTipHandler(myTree);
  TreeUtil.installActions(myTree);
  myTree.addMouseListener(new PopupHandler(){
    public void invokePopup(    Component comp,    int x,    int y){
      final DefaultActionGroup group=(DefaultActionGroup)ActionManager.getInstance().getAction("UpdateActionGroup");
      if (group != null) {
        ActionPopupMenu popupMenu=ActionManager.getInstance().createActionPopupMenu(ActionPlaces.UPDATE_POPUP,group);
        popupMenu.getComponent().show(comp,x,y);
      }
    }
  }
);
  EditSourceOnDoubleClickHandler.install(myTree);
  EditSourceOnEnterKeyHandler.install(myTree);
  myTree.setSelectionRow(0);
}
