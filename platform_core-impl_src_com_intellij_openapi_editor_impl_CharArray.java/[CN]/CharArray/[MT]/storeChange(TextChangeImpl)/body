{
  if (!change.isWithinBounds(length())) {
    LOG.error(String.format("Invalid change attempt detected - given change bounds are not within the current char array. Change: %d:%d-%d",change.getText().length(),change.getStart(),change.getEnd()),dumpState());
    return;
  }
  TextChangesStorage storage=myDeferredChangesStorage.get();
  storage.getLock().lock();
  try {
    doStoreChange(change);
  }
  finally {
    storage.getLock().unlock();
  }
}
