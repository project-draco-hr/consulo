{
  myOriginalSequence=chars;
  myArray=null;
  myCount=chars.length();
  myStringRef=null;
  TextChangesStorage storage=myDeferredChangesStorage.get();
  storage.getLock().lock();
  try {
    if (isSubSequence()) {
      myDeferredChangesStorage.set(new TextChangesStorage());
      myStart=0;
      myEnd=-1;
    }
 else {
      storage.clear();
    }
  }
  finally {
    storage.getLock().unlock();
  }
  if (subj != null) {
    trimToSize(subj);
  }
  if (myDebugDeferredProcessing) {
    myDebugArray.setText(subj,chars);
    myDebugDeferredChanges.clear();
  }
}
