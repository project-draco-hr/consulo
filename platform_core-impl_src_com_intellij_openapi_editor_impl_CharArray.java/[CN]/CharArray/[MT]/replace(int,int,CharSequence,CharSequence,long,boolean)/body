{
  final DocumentEvent event=startChange(startOffset,toDelete,newString,wholeTextReplaced);
  startOffset+=myStart;
  endOffset+=myStart;
  doReplace(startOffset,endOffset,newString);
  afterChangedUpdate(event,newModificationStamp);
  assertConsistency();
}
