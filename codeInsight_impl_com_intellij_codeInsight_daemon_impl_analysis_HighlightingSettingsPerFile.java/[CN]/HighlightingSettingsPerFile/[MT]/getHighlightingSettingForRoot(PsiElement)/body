{
  final PsiFile containingFile=root.getContainingFile();
  final VirtualFile virtualFile=containingFile.getVirtualFile();
  FileHighlighingSetting[] fileHighlighingSettings=myHighlightSettings.get(virtualFile);
  final int index=PsiUtil.getRootIndex(root);
  if (fileHighlighingSettings == null || fileHighlighingSettings.length <= index) {
    fileHighlighingSettings=getDefaults(containingFile);
  }
  return fileHighlighingSettings[index];
}
