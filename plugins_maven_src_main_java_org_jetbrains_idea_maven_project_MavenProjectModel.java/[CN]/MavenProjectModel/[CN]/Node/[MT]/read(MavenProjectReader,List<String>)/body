{
  myProfiles=profiles;
  myMavenProjectHolder=r.readProject(myPomFile.getPath(),myProfiles);
  try {
    CustomWagonManager wagonManager=(CustomWagonManager)r.getEmbedder().getPlexusContainer().lookup(WagonManager.ROLE);
    myUnresolvedArtifacts=wagonManager.getUnresolvedArtifacts();
    wagonManager.resetUnresolvedArtifacts();
  }
 catch (  ComponentLookupException e) {
    myUnresolvedArtifacts=new HashSet<Artifact>();
    MavenLog.LOG.info(e);
  }
}
