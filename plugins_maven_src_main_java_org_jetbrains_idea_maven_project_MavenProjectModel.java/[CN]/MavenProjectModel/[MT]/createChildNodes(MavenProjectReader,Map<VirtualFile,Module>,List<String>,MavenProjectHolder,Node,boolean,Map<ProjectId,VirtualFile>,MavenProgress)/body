{
  for (  String modulePath : mavenProject.getModulePaths(profiles)) {
    p.checkCanceled();
    VirtualFile childFile=LocalFileSystem.getInstance().findFileByPath(modulePath);
    if (childFile == null) {
      MavenLog.LOG.info("Cannot find maven module " + modulePath);
      continue;
    }
    Node existingRoot=findExistingRoot(childFile);
    if (existingRoot != null) {
      myRootProjects.remove(existingRoot);
      parentNode.mySubProjects.add(existingRoot);
    }
 else {
      Node module=createMavenTree(reader,childFile,existingModules,profiles,isExistingModuleTree,mapping,p);
      parentNode.mySubProjects.add(module);
    }
  }
}
