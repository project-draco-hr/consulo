{
  try {
    visit(new MavenProjectVisitorPlain(){
      public void visit(      Node node){
        try {
          p.checkCanceled();
          p.setText(ProjectBundle.message("maven.resolving.pom",FileUtil.toSystemDependentName(node.getPath())));
          node.resolve(projectReader,profiles);
        }
 catch (        Exception e) {
          throw new RuntimeException(e);
        }
      }
    }
);
  }
 catch (  RuntimeException e) {
    if (e.getCause() instanceof MavenException)     throw (MavenException)e.getCause();
    if (e.getCause() instanceof CanceledException)     throw (CanceledException)e.getCause();
    throw e;
  }
}
