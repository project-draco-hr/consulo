{
  final MavenException[] mavenEx=new MavenException[1];
  final CanceledException[] canceledEx=new CanceledException[1];
  visit(new MavenProjectVisitorPlain(){
    public void visit(    Node node){
      try {
        p.checkCanceled();
        p.setText(ProjectBundle.message("maven.resolving",FileUtil.toSystemDependentName(node.getPath())));
        node.resolve(projectReader,profiles);
      }
 catch (      MavenException e) {
        mavenEx[0]=e;
      }
catch (      CanceledException e) {
        canceledEx[0]=e;
      }
    }
  }
);
  if (mavenEx[0] != null)   throw mavenEx[0];
  if (canceledEx[0] != null)   throw canceledEx[0];
}
