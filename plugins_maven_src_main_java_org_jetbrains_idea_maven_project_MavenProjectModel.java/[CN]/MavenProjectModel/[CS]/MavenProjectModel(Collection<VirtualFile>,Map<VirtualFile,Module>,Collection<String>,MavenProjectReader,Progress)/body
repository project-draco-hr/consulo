{
  Map<VirtualFile,Module> fileToModule=new HashMap<VirtualFile,Module>();
  for (  Map.Entry<VirtualFile,Module> entry : existingModules.entrySet()) {
    fileToModule.put(entry.getKey(),entry.getValue());
  }
  for (  VirtualFile file : filesToImport) {
    fileToModule.put(file,null);
  }
  while (fileToModule.size() != 0) {
    p.check();
    MavenProjectModel.Node node=createMavenTree(projectReader,fileToModule.keySet().iterator().next(),profiles,fileToModule,true,p);
    if (node != null)     rootProjects.add(node);
  }
}
