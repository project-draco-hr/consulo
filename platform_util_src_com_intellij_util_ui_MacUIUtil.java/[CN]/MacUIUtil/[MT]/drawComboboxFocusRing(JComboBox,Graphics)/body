{
  if (SystemInfo.isMac && combobox.isEnabled() && combobox.isEditable()&& UIUtil.isUnderAquaLookAndFeel()) {
    final Component focusOwner=KeyboardFocusManager.getCurrentKeyboardFocusManager().getFocusOwner();
    if (focusOwner != null) {
      final Container ancestor=SwingUtilities.getAncestorOfClass(JComboBox.class,focusOwner);
      if (ancestor == combobox) {
        paintComboboxFocusRing((Graphics2D)g,combobox.getBounds());
      }
    }
  }
}
