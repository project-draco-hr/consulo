{
  Set<Integer> result=ContainerUtil.newHashSet();
  Set<CommitId> matchedIds=ContainerUtil.newHashSet();
  for (int i=0; i < myCommitIdIndexes.size(); i++) {
    CommitId commitId=myCommitIdIndexes.get(i);
    if (commitIds.contains(commitId)) {
      result.add(i);
      matchedIds.add(commitId);
    }
  }
  if (reportNotFound) {
    Collection<CommitId> unmatchedIds=ContainerUtil.subtract(commitIds,matchedIds);
    if (!unmatchedIds.isEmpty()) {
      LOG.warn("Unmatched commit ids " + unmatchedIds);
    }
  }
  for (  Map.Entry<Integer,CommitId> entry : myNotLoadCommits.entrySet()) {
    if (commitIds.contains(entry.getValue()))     result.add(entry.getKey());
  }
  return result;
}
