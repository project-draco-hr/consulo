{
  List<String> expectedMessages=Arrays.asList(messages.split("-----"));
  final String RECORD_SEPARATOR="@";
  String output=git("log -%s --pretty=%%B%s",String.valueOf(commitNum),RECORD_SEPARATOR);
  List<String> actualMessages=Arrays.asList(output.split("@"));
  for (int i=0; i < expectedMessages.size(); i++) {
    String expectedMessage=expectedMessages.get(i).trim();
    String actualMessage=actualMessages.get(i).trim();
    expectedMessage=virtualCommits.replaceVirtualHashes(expectedMessage);
    assertEquals("Commit doesn't match",expectedMessage,trimHash(actualMessage));
  }
}
