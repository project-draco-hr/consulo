{
  return new DataIndexer<String,Void,FileContent>(){
    @NotNull public Map<String,Void> map(    final FileContent inputData){
      final Collection<String> tags=XsdTagNameBuilder.computeTagNames(new ByteArrayInputStream(inputData.getContent()));
      if (ApplicationManager.getApplication().isUnitTestMode()) {
        final VirtualFile file=inputData.getFile();
        System.out.println("TagNameIndex: " + file.getPath() + "; id="+ ((VirtualFileWithId)file).getId());
        System.out.println("Result: " + tags);
      }
      if (tags != null && !tags.isEmpty()) {
        final HashMap<String,Void> map=new HashMap<String,Void>(tags.size());
        for (        String tag : tags) {
          map.put(tag,null);
        }
        return map;
      }
 else {
        return Collections.emptyMap();
      }
    }
  }
;
}
