{
  final PsiFile psiFile=(PsiFile)value;
  final ProjectFileIndex fileIndex=ProjectRootManager.getInstance(psiFile.getProject()).getFileIndex();
  VirtualFile file=psiFile.getOriginalFile().getVirtualFile();
  if (file != null) {
    VirtualFile root=fileIndex.getSourceRootForFile(file);
    if (root == null) {
      root=fileIndex.getContentRootForFile(file);
    }
    if (root != null) {
      return VfsUtil.getRelativePath(file,root,'/');
    }
  }
  return null;
}
