{
  if (myMagnification != 0) {
    Magnificator magnificator=((ZoomableViewport)myViewportComponent).getMagnificator();
    if (magnificator != null) {
      Point inContent=convertToContentCoordinates(myMagnificationPoint);
      final Point inContentScaled=magnificator.magnify(magnificationToScale(magnification),inContent);
      int voffset=inContentScaled.y - myMagnificationPoint.y;
      int hoffset=inContentScaled.x - myMagnificationPoint.x;
      myViewportComponent.repaint();
      myViewportComponent.validate();
      scrollTo(voffset,hoffset);
    }
  }
  myMagnificationPoint=null;
  myMagnification=0;
  myCachedImage=null;
}
