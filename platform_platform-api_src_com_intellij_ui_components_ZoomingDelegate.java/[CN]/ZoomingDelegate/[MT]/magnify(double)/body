{
  if (myMagnification != magnification) {
    myMagnification=magnification;
    if (myCachedImage == null) {
      Rectangle bounds=myViewportComponent.getBounds();
      BufferedImage image=new BufferedImage(bounds.width,bounds.height,BufferedImage.TYPE_INT_RGB);
      Graphics graphics=image.getGraphics();
      graphics.setClip(0,0,bounds.width,bounds.height);
      myViewportComponent.paint(graphics);
      myCachedImage=image;
    }
  }
  myViewportComponent.repaint();
}
