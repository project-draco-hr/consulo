{
  if (myEditor.getFoldingModel().isOffsetCollapsed(offset))   return;
  if (myEditor.getDocument().getTextLength() <= offset)   return;
  HighlighterIterator iterator=getEditorHighlighter().createIterator(offset);
  final CharSequence chars=myDocument.getCharsSequence();
  if (!BraceMatchingUtil.isStructuralBraceToken(myFileType,iterator,chars)) {
  }
 else {
    if (BraceMatchingUtil.isRBraceToken(iterator,chars,myFileType) || BraceMatchingUtil.isLBraceToken(iterator,chars,myFileType))     return;
  }
  if (!BraceMatchingUtil.findStructuralLeftBrace(myFileType,iterator,chars)) {
    removeLineMarkers();
    return;
  }
  highlightLeftBrace(iterator,true);
}
