{
  myStatusBar=(StatusBarEx)WindowManager.getInstance().getStatusBar(myProject);
  myTogglePopupHintsPanel=new TogglePopupHintsPanel(myStatusBar);
  myStatusBar.addFileStatusComponent(myTogglePopupHintsPanel);
  Disposer.register(myProject,new Disposable(){
    public void dispose(){
      myStatusBar.removeFileStatusComponent(myTogglePopupHintsPanel);
    }
  }
);
  StartupManager.getInstance(myProject).registerPostStartupActivity(new Runnable(){
    public void run(){
      final Set<Profile> profiles=new HashSet<Profile>();
      profiles.add(getProjectProfileImpl());
      profiles.addAll(getProfiles());
      profiles.addAll(InspectionProfileManager.getInstance().getProfiles());
      final Application app=ApplicationManager.getApplication();
      Runnable initInspectionProfilesRunnable=new Runnable(){
        public void run(){
          for (          Profile profile : profiles) {
            initProfileWrapper(profile);
          }
        }
      }
;
      if (app.isUnitTestMode() || app.isHeadlessEnvironment()) {
        initInspectionProfilesRunnable.run();
      }
 else {
        app.executeOnPooledThread(initInspectionProfilesRunnable);
      }
    }
  }
);
}
