{
  myUsageInfo=usageInfo;
  PsiElement element=myUsageInfo.getElement();
  myPsiFile=element.getContainingFile();
  Project project=element.getProject();
  myDocument=PsiDocumentManager.getInstance(project).getDocument(myPsiFile);
  final PsiElement psiElement=usageInfo.getElement();
  TextRange range=element.getTextRange();
  int startOffset=range.getStartOffset() + usageInfo.startOffset;
  int endOffset=range.getStartOffset() + usageInfo.endOffset;
  myLineNumber=myDocument.getLineNumber(startOffset);
  int lineStartOffset=myDocument.getLineStartOffset(myLineNumber);
  myColumnNumber=startOffset - lineStartOffset;
  if (endOffset > myDocument.getTextLength()) {
    LOG.assertTrue(false,"Invalid usage info, psiElement:" + psiElement + " end offset: "+ endOffset+ " psiFile: "+ myPsiFile.getName());
  }
  myRangeMarkers.add(myDocument.createRangeMarker(startOffset,endOffset));
  if (element instanceof PsiFile) {
    myIcon=null;
  }
 else {
    myIcon=element.getIcon(0);
  }
  initChunks();
}
