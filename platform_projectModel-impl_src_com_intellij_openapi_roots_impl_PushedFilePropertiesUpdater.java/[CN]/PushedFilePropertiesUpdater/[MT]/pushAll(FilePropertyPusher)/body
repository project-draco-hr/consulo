{
  ProgressIndicator indicator=ProgressManager.getInstance().getProgressIndicator();
  if (indicator != null) {
    indicator.pushState();
    indicator.setText("Initializing file system cache...");
  }
  Module[] modules=ModuleManager.getInstance(myProject).getModules();
  for (int i1=0; i1 < modules.length; i1++) {
    if (indicator != null) {
      indicator.setFraction((double)i1 / modules.length);
    }
    Module module=modules[i1];
    final Object[] moduleValues=new Object[pushers.length];
    for (int i=0; i < moduleValues.length; i++) {
      moduleValues[i]=pushers[i].getImmediateValue(module);
    }
    final ModuleRootManager rootManager=ModuleRootManager.getInstance(module);
    final ModuleFileIndex index=rootManager.getFileIndex();
    for (    VirtualFile root : rootManager.getContentRoots()) {
      index.iterateContentUnderDirectory(root,new ContentIterator(){
        @Override public boolean processFile(        final VirtualFile fileOrDir){
          applyPushersToFile(fileOrDir,pushers,moduleValues);
          return true;
        }
      }
);
    }
  }
  if (indicator != null) {
    indicator.popState();
  }
}
