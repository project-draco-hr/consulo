{
  if (GraphicsEnvironment.isHeadless()) {
    return;
  }
  configureFromFileText(getTestName(false) + ".java",text);
  Pair<String,String> parseResult=parse();
  killRegion();
  if (parseResult.first != null) {
    Transferable contents=CopyPasteManager.getInstance().getContents();
    assertTrue(contents instanceof KillRingTransferable);
    assertEquals(parseResult.first,contents.getTransferData(DataFlavor.stringFlavor));
  }
  assertEquals(parseResult.second,myEditor.getDocument().getText());
}
