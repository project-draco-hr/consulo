{
  @NonNls Element config=new Element("options");
  try {
    tool.writeExternal(config);
  }
 catch (  WriteExternalException e) {
    LOG.error(e);
  }
  myConfig=config;
  myText=tool.getDisplayName();
  myGroup=tool.getGroupDisplayName() != null && tool.getGroupDisplayName().length() == 0 ? GroupNames.GENERAL_GROUP_NAME : tool.getGroupDisplayName();
  myDescriptorFileName=tool.getDescriptionFileName();
  myKey=HighlightDisplayKey.find(tool.getShortName());
  if (myKey == null) {
    if (tool instanceof LocalInspectionToolWrapper) {
      myKey=HighlightDisplayKey.register(tool.getShortName(),tool.getDisplayName(),((LocalInspectionToolWrapper)tool).getTool().getID());
    }
 else {
      myKey=HighlightDisplayKey.register(tool.getShortName());
    }
  }
  myLevel=inspectionProfile.getErrorLevel(myKey);
  myEnabled=inspectionProfile.isToolEnabled(myKey);
  myTool=tool;
}
