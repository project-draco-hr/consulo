{
  myProject=project;
  myName=name;
  myLock=new Object();
  mySemaphore=new Semaphore();
  myStopper=new Runnable(){
    public void run(){
synchronized (myLock) {
        myDisposeStarted=true;
        taskFinished();
      }
    }
  }
;
  myAtomicSectionsAware=new AtomicSectionsAware(){
    public void checkShouldExit() throws ProcessCanceledException {
      if (myDisposeStarted) {
        throw new ProcessCanceledException();
      }
    }
    public void enter(){
    }
    public void exit(){
    }
    public boolean shouldExitAsap(){
      return myDisposeStarted;
    }
  }
;
  myDisposeStarted=!PeriodicalTasksCloser.getInstance(myProject).register(myName,myStopper);
}
