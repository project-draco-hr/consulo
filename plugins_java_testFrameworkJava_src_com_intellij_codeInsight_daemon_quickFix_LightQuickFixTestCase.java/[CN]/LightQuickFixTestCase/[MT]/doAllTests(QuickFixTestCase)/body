{
  assertNotNull("getBasePath() should not return null!",testCase.getBasePath());
  final String testDirPath=testCase.getTestDataPath().replace(File.separatorChar,'/') + testCase.getBasePath();
  File testDir=new File(testDirPath);
  final File[] files=testDir.listFiles(new FilenameFilter(){
    @Override public boolean accept(    File dir,    @NonNls String name){
      return name.startsWith(BEFORE_PREFIX);
    }
  }
);
  if (files == null) {
    fail("Test files not found in " + testDirPath);
  }
  for (  File file : files) {
    final String testName=file.getName().substring(BEFORE_PREFIX.length());
    doTestFor(testName,testCase);
  }
  assertTrue("Test files not found in " + testDirPath,files.length != 0);
}
