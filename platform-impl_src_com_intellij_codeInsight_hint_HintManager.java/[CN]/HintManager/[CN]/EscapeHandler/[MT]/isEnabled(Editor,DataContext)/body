{
  LOG.assertTrue(SwingUtilities.isEventDispatchThread());
  Project project=DataKeys.PROJECT.getData(dataContext);
  if (project != null) {
    HintManager hintManager=getInstance();
    for (int i=hintManager.myHintsStack.size() - 1; i >= 0; i--) {
      final HintInfo info=hintManager.myHintsStack.get(i);
      if (!info.hint.isVisible()) {
        hintManager.myHintsStack.remove(i);
        continue;
      }
      if ((info.flags & (HIDE_BY_ESCAPE | HIDE_BY_ANY_KEY)) != 0) {
        return true;
      }
    }
  }
  return myOriginalHandler.isEnabled(editor,dataContext);
}
