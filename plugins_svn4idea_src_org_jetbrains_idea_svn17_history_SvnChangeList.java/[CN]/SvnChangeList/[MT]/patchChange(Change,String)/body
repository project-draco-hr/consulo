{
  final SVNURL becameUrl;
  SVNURL wasUrl;
  try {
    becameUrl=SVNURL.parseURIEncoded(SVNPathUtil.append(myRepositoryRoot,path));
    wasUrl=becameUrl;
    if (change instanceof ExternallyRenamedChange && change.getBeforeRevision() != null) {
      final ExternallyRenamedChange renamedChange=(ExternallyRenamedChange)change;
      final String originUrl=renamedChange.getOriginUrl();
      if (originUrl != null) {
        wasUrl=SVNURL.parseURIEncoded(SVNPathUtil.append(myRepositoryRoot,originUrl));
      }
    }
  }
 catch (  SVNException e) {
    LOG.info(e);
    return;
  }
  final FilePath filePath=ChangesUtil.getFilePath(change);
  final Change additional=new Change(change.getBeforeRevision() == null ? null : new SvnLazyPropertyContentRevision(filePath,change.getBeforeRevision().getRevisionNumber(),myVcs.getProject(),wasUrl),change.getAfterRevision() == null ? null : new SvnLazyPropertyContentRevision(filePath,change.getAfterRevision().getRevisionNumber(),myVcs.getProject(),becameUrl));
  change.addAdditionalLayerElement(SvnChangeProvider.PROPERTY_LAYER,additional);
}
