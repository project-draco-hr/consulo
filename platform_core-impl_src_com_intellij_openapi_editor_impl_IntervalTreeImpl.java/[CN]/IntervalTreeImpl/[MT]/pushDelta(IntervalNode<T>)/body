{
  if (root == null || !root.isValid())   return true;
  IntervalNode<T> parent=root.getParent();
  assertAllDeltasAreNull(parent);
  int delta=root.delta;
  root.modCount=0;
  if (delta != 0) {
    root.setIntervalStart(root.intervalStart() + delta);
    root.setIntervalEnd(root.intervalEnd() + delta);
    root.maxEnd+=delta;
    root.delta=0;
    return incDelta(root.getLeft(),delta) & incDelta(root.getRight(),delta);
  }
  root.setCachedOffsetsAtomically(0,true,modCount);
  return true;
}
