{
  myDirectory=aDirectory;
  myDirName=aDirectory.getName();
  myCompactPackages=compactPackages;
  if (showFQName) {
    final ProjectFileIndex index=ProjectRootManager.getInstance(myDirectory.getProject()).getFileIndex();
    final VirtualFile directory=myDirectory.getVirtualFile();
    final VirtualFile contentRoot=index.getContentRootForFile(directory);
    if (contentRoot != null) {
      myFQName=VfsUtil.getRelativePath(directory,contentRoot.getParent(),File.separatorChar);
    }
  }
}
