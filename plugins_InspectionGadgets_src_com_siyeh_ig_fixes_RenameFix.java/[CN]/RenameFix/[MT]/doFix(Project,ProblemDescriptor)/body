{
  final PsiElement nameIdentifier=descriptor.getPsiElement();
  final PsiElement elementToRename=nameIdentifier.getParent();
  if (m_targetName == null) {
    final RefactoringActionHandlerFactory factory=RefactoringActionHandlerFactory.getInstance();
    final RefactoringActionHandler renameHandler=factory.createRenameHandler();
    final DataManager dataManager=DataManager.getInstance();
    final DataContext dataContext=dataManager.getDataContext();
    renameHandler.invoke(project,new PsiElement[]{elementToRename},dataContext);
  }
 else {
    final RefactoringFactory factory=RefactoringFactory.getInstance(project);
    final RenameRefactoring renameRefactoring=factory.createRename(elementToRename,m_targetName);
    renameRefactoring.run();
  }
}
