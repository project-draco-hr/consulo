{
  while (notAtEnd()) {
    int begin=myIndex;
    skipToEOL();
    int endIndex=myIndex;
    boolean appendNewLine=false;
    if (notAtEnd() && isAtEOL()) {
      if (charAt(endIndex) == '\n') {
        endIndex++;
      }
 else {
        appendNewLine=true;
      }
      skipEOL();
    }
    addLine(lines,begin,endIndex,appendNewLine);
  }
}
