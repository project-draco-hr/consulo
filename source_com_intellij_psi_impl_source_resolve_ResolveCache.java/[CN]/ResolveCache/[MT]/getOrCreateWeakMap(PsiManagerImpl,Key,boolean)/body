{
  MapPair pair=(MapPair)manager.getUserData(key);
  if (pair == null) {
    pair=new MapPair();
    manager.putUserData(key,pair);
    final MapPair _pair=pair;
    manager.registerRunnableToRunOnChange(new Runnable(){
      public void run(){
        _pair.physicalMap.clear();
      }
    }
);
    manager.registerRunnableToRunOnAnyChange(new Runnable(){
      public void run(){
        _pair.nonPhysicalMap.clear();
      }
    }
);
  }
  return forPhysical ? pair.physicalMap : pair.nonPhysicalMap;
}
