{
  Component toolbar=parent.getComponent(0);
  Dimension toolbarSize=toolbar.isVisible() ? getSize.fun(toolbar) : new Dimension();
  Dimension contentSize=getSize.fun(parent.getComponent(1));
  int extraWidth=0;
  JComponent jParent=(JComponent)parent;
  if (jParent.getClientProperty(LightToolWindow.LEFT_MIN_KEY) != null) {
    extraWidth+=LightToolWindow.MINIMIZE_WIDTH;
  }
  if (jParent.getClientProperty(LightToolWindow.RIGHT_MIN_KEY) != null) {
    extraWidth+=LightToolWindow.MINIMIZE_WIDTH;
  }
  return new Dimension(Math.max(toolbarSize.width,contentSize.width + extraWidth),toolbarSize.height + contentSize.height);
}
