{
  final TextAttributes attributes=EditorColorsManager.getInstance().getGlobalScheme().getAttributes(EditorColors.SEARCH_RESULT_ATTRIBUTES);
  final int variableNameLength=getVariable().getName().length();
  if (isReplaceAllOccurences()) {
    for (    RangeMarker marker : getOccurrenceMarkers()) {
      final int startOffset=marker.getStartOffset();
      highlightManager.addOccurrenceHighlight(editor,startOffset,startOffset + variableNameLength,attributes,0,highlighters,null);
    }
  }
 else   if (myExpr != null) {
    final int startOffset=myExprMarker.getStartOffset();
    highlightManager.addOccurrenceHighlight(editor,startOffset,startOffset + variableNameLength,attributes,0,highlighters,null);
  }
  super.addHighlights(ranges,editor,highlighters,highlightManager);
}
