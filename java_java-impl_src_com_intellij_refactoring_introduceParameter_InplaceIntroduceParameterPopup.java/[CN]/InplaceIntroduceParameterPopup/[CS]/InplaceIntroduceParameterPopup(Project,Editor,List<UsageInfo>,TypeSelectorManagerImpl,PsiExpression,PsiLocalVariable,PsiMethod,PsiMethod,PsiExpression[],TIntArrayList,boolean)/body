{
  super(project,editor,expr,localVar,occurrences,typeSelectorManager,IntroduceParameterHandler.REFACTORING_NAME);
  myMethod=method;
  myMethodToSearchFor=methodToSearchFor;
  myMustBeFinal=mustBeFinal;
  myWholePanel.add(getPreviewComponent(),new GridBagConstraints(0,GridBagConstraints.RELATIVE,2,1,1,0,GridBagConstraints.NORTHWEST,GridBagConstraints.HORIZONTAL,new Insets(0,5,0,5),0,0));
  myPanel=new InplaceIntroduceParameterUI(project,localVar,expr,method,parametersToRemove,typeSelectorManager,myOccurrences){
    @Override protected PsiParameter getParameter(){
      return InplaceIntroduceParameterPopup.this.getParameter();
    }
    @Override protected void updateControls(    JCheckBox[] removeParamsCb){
      super.updateControls(removeParamsCb);
      if (myParameterIndex < 0)       return;
      restartInplaceIntroduceTemplate();
    }
    protected TIntArrayList getParametersToRemove(){
      TIntArrayList parameters=new TIntArrayList();
      for (int i=0; i < myParametersToRemove.length; i++) {
        if (myParametersToRemove[i] != null) {
          parameters.add(i);
        }
      }
      return parameters;
    }
  }
;
  myPanel.appendOccurrencesDelegate(myWholePanel);
}
