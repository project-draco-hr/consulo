{
  super(project,editor,expr,localVar,occurrences,typeSelectorManager,IntroduceParameterHandler.REFACTORING_NAME);
  myMethod=method;
  myMethodToSearchFor=methodToSearchFor;
  myMustBeFinal=mustBeFinal;
  myWholePanel=new JPanel(new GridBagLayout());
  myWholePanel.setBorder(null);
  myWholePanel.add(myLabel,new GridBagConstraints(0,GridBagConstraints.RELATIVE,2,1,1,0,GridBagConstraints.NORTHWEST,GridBagConstraints.HORIZONTAL,new Insets(0,5,0,5),0,0));
  myPanel=new InplaceIntroduceParameterUI(project,localVar,expr,method,parametersToRemove,typeSelectorManager,myEditor,myOccurrences,classMemberRefs,myMustBeFinal){
    @Override protected PsiParameter getParameter(){
      return InplaceIntroduceParameterPopup.this.getParameter();
    }
    @Override protected void updateControls(    JCheckBox[] removeParamsCb){
      super.updateControls(removeParamsCb);
      if (myParameterIndex < 0)       return;
      restartInplaceIntroduceTemplate();
    }
    @Override protected Balloon getBalloon(){
      return myBalloon;
    }
  }
;
  myPanel.append2MainPanel(myWholePanel);
  JComponent typeChooser=typeComponent();
  if (typeChooser != null) {
    myWholePanel.add(typeChooser,new GridBagConstraints(0,GridBagConstraints.RELATIVE,2,1,1,0,GridBagConstraints.NORTHWEST,GridBagConstraints.HORIZONTAL,new Insets(0,5,0,5),0,0));
  }
}
