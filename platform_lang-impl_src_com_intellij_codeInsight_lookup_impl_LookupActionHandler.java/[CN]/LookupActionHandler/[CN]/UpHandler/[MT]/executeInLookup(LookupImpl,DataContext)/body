{
  if (!lookup.isFocused()) {
    if (!lookup.isPositionedAboveCaret()) {
      myOriginalHandler.execute(lookup.getEditor(),context);
      return;
    }
    lookup.setFocused(true);
    final int index=ApplicationManager.getApplication().isUnitTestMode() ? lookup.getItems().size() - 1 : lookup.getList().getLastVisibleIndex();
    lookup.getList().setSelectedIndex(index);
    lookup.refreshUi();
    return;
  }
  ListScrollingUtil.moveUp(lookup.getList(),0);
}
