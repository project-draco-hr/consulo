{
  LookupImpl lookup=(LookupImpl)LookupManager.getActiveLookup(editor);
  if (lookup == null || myRequireFocusedLookup && !lookup.isFocused()) {
    myOriginalHandler.execute(editor,dataContext);
    return;
  }
  lookup.markDirty();
  executeInLookup(lookup);
}
