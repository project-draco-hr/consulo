{
  LookupImpl lookup=(LookupImpl)LookupManager.getActiveLookup(editor);
  if (lookup == null || myRequireFocusedLookup && !lookup.isFocused()) {
    LookupManager.getInstance(editor.getProject()).hideActiveLookup();
    myOriginalHandler.execute(editor,dataContext);
    return;
  }
  lookup.markDirty();
  executeInLookup(lookup);
}
