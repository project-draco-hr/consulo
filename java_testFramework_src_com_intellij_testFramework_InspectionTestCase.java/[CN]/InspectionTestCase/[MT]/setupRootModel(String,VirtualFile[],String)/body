{
  VirtualFile projectDir=LocalFileSystem.getInstance().refreshAndFindFileByIoFile(new File(testDir));
  assertNotNull("could not find project dir " + testDir,projectDir);
  sourceDir[0]=projectDir.findChild("src");
  if (sourceDir[0] == null) {
    sourceDir[0]=projectDir;
  }
  PsiTestUtil.removeAllRoots(myModule,getTestProjectSdk());
  PsiTestUtil.addContentRoot(myModule,projectDir);
  PsiTestUtil.addSourceRoot(myModule,sourceDir[0]);
  ext_src=LocalFileSystem.getInstance().refreshAndFindFileByIoFile(new File(testDir + "/ext_src"));
  if (ext_src != null) {
    PsiTestUtil.addSourceRoot(myModule,ext_src);
  }
}
