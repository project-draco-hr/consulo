{
  super.setUp();
  ExtensionPoint<UnusedCodeExtension> point=Extensions.getRootArea().getExtensionPoint(ExtensionPoints.DEAD_CODE_TOOL);
  myUnusedCodeExtension=new UnusedCodeExtension(){
    @NotNull @Override public String getDisplayName(){
      return "duh";
    }
    @Override public boolean isEntryPoint(    RefElement refElement){
      return isEntryPoint(refElement.getElement());
    }
    @Override public boolean isEntryPoint(    PsiElement psiElement){
      return ext_src != null && VfsUtil.isAncestor(ext_src,PsiUtil.getVirtualFile(psiElement),false);
    }
    @Override public boolean isSelected(){
      return false;
    }
    @Override public void setSelected(    boolean selected){
    }
    public void readExternal(    Element element){
    }
    public void writeExternal(    Element element){
    }
  }
;
  point.registerExtension(myUnusedCodeExtension);
}
