{
  final GitLineHandlerPasswordRequestAware h=new GitLineHandlerPasswordRequestAware(myProject,root,GitCommand.FETCH);
  h.addParameters(remote.getName());
  final GitTask fetchTask=new GitTask(myProject,h,"Fetching...");
  fetchTask.setProgressIndicator(myProgressIndicator);
  fetchTask.setProgressAnalyzer(new GitStandardProgressAnalyzer());
  final AtomicReference<GitFetchResult> result=new AtomicReference<GitFetchResult>();
  fetchTask.execute(true,false,new GitTaskResultHandlerAdapter(){
    @Override protected void onSuccess(){
      result.set(GitFetchResult.success());
    }
    @Override protected void onCancel(){
      LOG.info("Cancelled fetch.");
      result.set(GitFetchResult.cancel());
    }
    @Override protected void onFailure(){
      LOG.info("Error fetching: " + h.errors());
      if (!h.hadAuthRequest()) {
        myErrors.addAll(h.errors());
      }
 else {
        myErrors.add(new VcsException("Authentication failed"));
      }
      result.set(GitFetchResult.error(myErrors));
    }
  }
);
  return result.get();
}
