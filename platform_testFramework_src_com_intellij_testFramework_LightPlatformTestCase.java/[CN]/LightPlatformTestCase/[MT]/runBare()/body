{
  final Throwable[] throwables=new Throwable[1];
  SwingUtilities.invokeAndWait(new Runnable(){
    public void run(){
      try {
        ourTestThread=Thread.currentThread();
        startRunAndTear();
      }
 catch (      Throwable throwable) {
        throwables[0]=throwable;
      }
 finally {
        ourTestThread=null;
        try {
          PlatformTestCase.cleanupApplicationCaches(ourProject);
          resetAllFields();
        }
 catch (        Throwable e) {
          e.printStackTrace();
        }
      }
    }
  }
);
  if (throwables[0] != null) {
    throw throwables[0];
  }
  SwingUtilities.invokeAndWait(EmptyRunnable.getInstance());
  if (IdeaLogger.ourErrorsOccurred != null) {
    throw IdeaLogger.ourErrorsOccurred;
  }
}
