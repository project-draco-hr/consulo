{
  final Ref<Map<DebuggerSession,Map<String,HotSwapFile>>> modifiedClasses=Ref.create(null);
  ProgressManager.getInstance().runProcess(new Runnable(){
    public void run(){
      modifiedClasses.set(HotSwapManager.getModifiedClasses(sessions,swapProgress));
      swapProgress.finished();
    }
  }
,swapProgress.getProgressIndicator());
  return modifiedClasses.get();
}
