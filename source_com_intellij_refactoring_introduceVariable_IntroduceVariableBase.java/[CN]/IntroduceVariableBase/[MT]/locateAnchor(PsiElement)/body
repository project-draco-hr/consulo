{
  while (child != null) {
    PsiElement prev=child.getPrevSibling();
    if (prev instanceof PsiStatement)     break;
    if (prev instanceof PsiJavaToken && ((PsiJavaToken)prev).getTokenType() == JavaTokenType.LBRACE)     break;
    if (prev instanceof JspToken && ((JspToken)prev).getTokenType() == JspTokenType.JSP_SCRIPTLET_START)     break;
    child=prev;
    if (child instanceof JspToken && ((JspToken)child).getTokenType() == JspTokenType.JSP_SCRIPTLET_END)     break;
  }
  if (!(child instanceof JspToken && ((JspToken)child).getTokenType() == JspTokenType.JSP_SCRIPTLET_END)) {
    while (true) {
      if (!(child instanceof PsiWhiteSpace) && !(child instanceof PsiComment) && !(child instanceof JspExpression)&& !(child instanceof JspToken)) {
        break;
      }
      child=child.getNextSibling();
    }
  }
  return child;
}
