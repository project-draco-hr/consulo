{
  if (toRemove.isEmpty()) {
    return;
  }
  Map<DataNode<ModuleData>,Collection<DataNode<ModuleDependencyData>>> byModule=ExternalSystemApiUtil.groupBy(toRemove,MODULE);
  for (  Map.Entry<DataNode<ModuleData>,Collection<DataNode<ModuleDependencyData>>> entry : byModule.entrySet()) {
    Module module=myProjectStructureHelper.findIdeModule(entry.getKey().getData(),project);
    if (module == null) {
      continue;
    }
    List<ExportableOrderEntry> dependencies=ContainerUtilRt.newArrayList();
    for (    DataNode<ModuleDependencyData> node : entry.getValue()) {
      ModuleOrderEntry dependency=myProjectStructureHelper.findIdeModuleDependency(module.getName(),node.getData().getName(),project);
      if (dependency != null) {
        dependencies.add(dependency);
      }
    }
    removeData(dependencies,module,synchronous);
  }
}
