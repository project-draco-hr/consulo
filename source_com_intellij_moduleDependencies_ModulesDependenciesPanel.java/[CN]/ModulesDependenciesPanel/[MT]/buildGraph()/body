{
  final Graph<Module> graph=GraphGenerator.create(CachingSemiGraph.create(new GraphGenerator.SemiGraph<Module>(){
    public Collection<Module> getNodes(){
      return Arrays.asList(myModules);
    }
    public Iterator<Module> getIn(    Module module){
      final HashSet<Module> depModules=new HashSet<Module>(Arrays.asList(ModuleRootManager.getInstance(module).getDependencies()));
      depModules.retainAll(Arrays.asList(myModules));
      return depModules.iterator();
    }
  }
));
  return graph;
}
