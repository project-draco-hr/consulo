{
  PackageElement result=null;
  final DefaultMutableTreeNode selectedNode=getSelectedNode();
  if (selectedNode != null) {
    Object o=selectedNode.getUserObject();
    if (o instanceof AbstractTreeNode) {
      Object selected=((AbstractTreeNode)o).getValue();
      result=selected instanceof PackageElement ? (PackageElement)selected : null;
    }
  }
  return result;
}
