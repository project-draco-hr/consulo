{
  final PsiElement element=node.getPsi();
  if (!(element instanceof TypoScriptFile)) {
    return FoldingDescriptor.EMPTY;
  }
  final TypoScriptFile file=(TypoScriptFile)element;
  final PsiElement[] children=file.getChildren();
  Collection<FoldingDescriptor> result=new LinkedList<FoldingDescriptor>();
  for (  PsiElement child : children) {
    if (child != null && (child instanceof CodeBlock || child instanceof MultilineValueAssignment || child instanceof PsiComment)) {
      List<FoldingDescriptor> descriptors=new ArrayList<FoldingDescriptor>();
      addFoldingDescriptors(descriptors,child,document);
      result.addAll(descriptors);
    }
  }
  return result.toArray(new FoldingDescriptor[result.size()]);
}
