{
  if (ourTopDirs != null) {
    return ourTopDirs;
  }
  Set<VirtualFile> dirList=new HashSet<VirtualFile>();
  appendDefaultTemplatesFromClassloader(FileTemplateManagerImpl.class.getClassLoader(),dirList);
  PluginDescriptor[] plugins=PluginManager.getPlugins();
  for (int i=0; i < plugins.length; i++) {
    PluginDescriptor plugin=plugins[i];
    appendDefaultTemplatesFromClassloader(plugin.getLoader(),dirList);
  }
  ourTopDirs=dirList.toArray(new VirtualFile[dirList.size()]);
  return ourTopDirs;
}
