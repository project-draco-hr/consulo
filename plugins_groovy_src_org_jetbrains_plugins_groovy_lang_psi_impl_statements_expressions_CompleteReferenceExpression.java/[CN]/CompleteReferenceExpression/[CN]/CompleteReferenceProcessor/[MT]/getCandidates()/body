{
  if (!hasCandidates())   return GroovyResolveResult.EMPTY_ARRAY;
  final GroovyResolveResult[] results=ResolveUtil.filterSameSignatureCandidates(getCandidatesInternal());
  List<GroovyResolveResult> list=new ArrayList<GroovyResolveResult>(results.length);
  myPropertyNames.removeAll(myPreferredFieldNames);
  Set<String> usedFields=ContainerUtil.newHashSet();
  for (  GroovyResolveResult result : results) {
    final PsiElement element=result.getElement();
    if (element instanceof PsiField) {
      final String name=((PsiField)element).getName();
      if (myPropertyNames.contains(name) || myLocalVars.contains(name) || usedFields.contains(name)) {
        continue;
      }
 else {
        usedFields.add(name);
      }
    }
    list.add(result);
  }
  return list.toArray(new GroovyResolveResult[list.size()]);
}
