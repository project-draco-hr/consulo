{
  final PsiStatement continuedStatement=statement.findContinuedStatement();
  PsiStatement body=null;
  if (continuedStatement instanceof PsiForeachStatement) {
    final PsiForeachStatement foreachStatement=(PsiForeachStatement)continuedStatement;
    body=foreachStatement.getBody();
  }
 else   if (continuedStatement instanceof PsiForStatement) {
    final PsiForStatement forStatement=(PsiForStatement)continuedStatement;
    body=forStatement.getBody();
  }
 else   if (continuedStatement instanceof PsiDoWhileStatement) {
    final PsiDoWhileStatement doWhileStatement=(PsiDoWhileStatement)continuedStatement;
    body=doWhileStatement.getBody();
  }
 else   if (continuedStatement instanceof PsiWhileStatement) {
    final PsiWhileStatement whileStatement=(PsiWhileStatement)continuedStatement;
    body=whileStatement.getBody();
  }
  if (body == null) {
    return;
  }
  if (ignoreInThenBranch && isInThenBranch(statement)) {
    return;
  }
  if (body instanceof PsiBlockStatement) {
    final PsiBlockStatement blockStatement=(PsiBlockStatement)body;
    final PsiCodeBlock block=blockStatement.getCodeBlock();
    if (ControlFlowUtils.blockCompletesWithStatement(block,statement)) {
      registerStatementError(statement);
    }
  }
 else   if (ControlFlowUtils.statementCompletesWithStatement(body,statement)) {
    registerStatementError(statement);
  }
}
