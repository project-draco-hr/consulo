{
  super(project,NAME);
  myCvsHistoryProvider=new CvsHistoryProvider(project);
  myCvsCheckinEnvironment=new CvsCheckinEnvironment(getProject());
  myCvsCheckoutProvider=new CvsCheckoutProvider();
  myCvsStandardOperationsProvider=new CvsStandardOperationsProvider(project);
  myCvsUpdateEnvironment=new CvsUpdateEnvironment(project);
  myCvsStatusEnvironment=new CvsStatusEnvironment(myProject);
  myConfigurable=new Cvs2Configurable(getProject());
  myStorageComponent=cvsStorageComponent;
  myCvsAnnotationProvider=new CvsAnnotationProvider(myProject,myCvsHistoryProvider);
  myDiffProvider=new CvsDiffProvider(myProject);
  myCommittedChangesProvider=new CvsCommittedChangesProvider(myProject);
  final ProjectLevelVcsManager vcsManager=ProjectLevelVcsManager.getInstance(myProject);
  myAddOptions=vcsManager.getStandardOption(VcsConfiguration.StandardOption.ADD,this);
  myRemoveOptions=vcsManager.getStandardOption(VcsConfiguration.StandardOption.ADD,this);
  myCheckoutOptions=vcsManager.getStandardOption(VcsConfiguration.StandardOption.CHECKOUT,this);
  myEditOption=vcsManager.getStandardOption(VcsConfiguration.StandardOption.EDIT,this);
  myAddConfirmation=vcsManager.getStandardConfirmation(VcsConfiguration.StandardConfirmation.ADD,this);
  myRemoveConfirmation=vcsManager.getStandardConfirmation(VcsConfiguration.StandardConfirmation.REMOVE,this);
  myCvsEntriesListener=new CvsEntriesListener(){
    @Override public void entriesChanged(    VirtualFile parent){
      VirtualFile[] children=parent.getChildren();
      if (children == null)       return;
      for (      VirtualFile child : children) {
        fireFileStatusChanged(child);
      }
      VcsDirtyScopeManager.getInstance(getProject()).fileDirty(parent);
    }
    @Override public void entryChanged(    VirtualFile file){
      if (myProject.isDisposed())       return;
      fireFileStatusChanged(file);
      VcsDirtyScopeManager.getInstance(getProject()).fileDirty(file);
    }
  }
;
}
