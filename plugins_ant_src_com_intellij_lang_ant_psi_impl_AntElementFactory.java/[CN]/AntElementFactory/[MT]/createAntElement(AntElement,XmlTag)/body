{
  instantiate();
  String className=null;
  final Pair<String,String> taskId=new Pair<String,String>(tag.getName(),tag.getNamespace());
  if (parent instanceof AntTask) {
    final AntTaskDefinition def=((AntTask)parent).getTaskDefinition();
    if (def != null) {
      className=def.getNestedClassName(taskId);
    }
  }
 else {
    for (    AntTaskDefinition def : parent.getAntProject().getBaseTaskDefinitions()) {
      if (taskId.equals(def.getTaskId())) {
        className=def.getClassName();
        break;
      }
    }
  }
  return createAntTask(tag,parent,className);
}
