{
synchronized (PsiLock.LOCK) {
    if (ourAntTypeToKnownAntElementCreatorMap == null) {
      ourAntTypeToKnownAntElementCreatorMap=new HashMap<String,AntElementCreator>();
      final AntElementCreator targetCreator=new AntElementCreator(){
        public AntStructuredElement create(        final AntElement parent,        final XmlTag tag){
          return new AntTargetImpl(parent,tag);
        }
      }
;
      ourAntTypeToKnownAntElementCreatorMap.put(Target.class.getName(),targetCreator);
      ourAntTypeToKnownAntElementCreatorMap.put(Ant.TargetElement.class.getName(),targetCreator);
      ourAntTypeToKnownAntElementCreatorMap.put(Property.class.getName(),new AntElementCreator(){
        public AntStructuredElement create(        final AntElement parent,        final XmlTag tag){
          return new AntPropertyImpl(parent,tag,parent.getAntFile().getBaseTypeDefinition(Property.class.getName()));
        }
      }
);
      ourAntTypeToKnownAntElementCreatorMap.put(Tstamp.class.getName(),new AntElementCreator(){
        public AntStructuredElement create(        final AntElement parent,        final XmlTag tag){
          return new AntPropertyImpl(parent,tag,parent.getAntFile().getBaseTypeDefinition(Tstamp.class.getName()));
        }
      }
);
      ourAntTypeToKnownAntElementCreatorMap.put(Checksum.class.getName(),new AntElementCreator(){
        public AntStructuredElement create(        final AntElement parent,        final XmlTag tag){
          final AntTypeDefinition checksumDef=parent.getAntFile().getBaseTypeDefinition(Checksum.class.getName());
          if (tag.getAttributeValue(TOTAL_PROPERTY) != null) {
            return new AntPropertyImpl(parent,tag,checksumDef,TOTAL_PROPERTY);
          }
          return new AntPropertyImpl(parent,tag,checksumDef,AntFileImpl.PROPERTY);
        }
      }
);
      ourAntTypeToKnownAntElementCreatorMap.put(ExecTask.class.getName(),new AntElementCreator(){
        public AntStructuredElement create(        final AntElement parent,        final XmlTag tag){
          final AntTypeDefinition execDef=parent.getAntFile().getBaseTypeDefinition(ExecTask.class.getName());
          if (tag.getAttributeValue(RESULT_PROPERTY) != null) {
            return new AntPropertyImpl(parent,tag,execDef,RESULT_PROPERTY);
          }
          return new AntPropertyImpl(parent,tag,execDef,"outputproperty");
        }
      }
);
      ourAntTypeToKnownAntElementCreatorMap.put(Java.class.getName(),new AntElementCreator(){
        public AntStructuredElement create(        final AntElement parent,        final XmlTag tag){
          final AntTypeDefinition execDef=parent.getAntFile().getBaseTypeDefinition(Java.class.getName());
          return new AntPropertyImpl(parent,tag,execDef,RESULT_PROPERTY);
        }
      }
);
      ourAntTypeToKnownAntElementCreatorMap.put(Input.class.getName(),new AntElementCreator(){
        public AntStructuredElement create(        final AntElement parent,        final XmlTag tag){
          final AntTypeDefinition execDef=parent.getAntFile().getBaseTypeDefinition(Input.class.getName());
          return new AntPropertyImpl(parent,tag,execDef,"addproperty");
        }
      }
);
      for (      final String clazz : PROPERTY_CLASSES) {
        addPropertyCreator(clazz);
      }
      for (      final String clazz : ALL_TASKS_CONTAINER_CLASSES) {
        addAllTasksContainerCreator(clazz);
      }
      ourAntTypeToKnownAntElementCreatorMap.put(CallTarget.class.getName(),new AntElementCreator(){
        public AntStructuredElement create(        final AntElement parent,        final XmlTag tag){
          return new AntCallImpl(parent,tag,parent.getAntFile().getBaseTypeDefinition(CallTarget.class.getName()));
        }
      }
);
      ourAntTypeToKnownAntElementCreatorMap.put(Taskdef.class.getName(),new AntElementCreator(){
        public AntStructuredElement create(        final AntElement parent,        final XmlTag tag){
          return new AntTypeDefImpl(parent,tag,parent.getAntFile().getBaseTypeDefinition(Taskdef.class.getName()));
        }
      }
);
      ourAntTypeToKnownAntElementCreatorMap.put(Typedef.class.getName(),new AntElementCreator(){
        public AntStructuredElement create(        final AntElement parent,        final XmlTag tag){
          return new AntTypeDefImpl(parent,tag,parent.getAntFile().getBaseTypeDefinition(Typedef.class.getName()));
        }
      }
);
      ourAntTypeToKnownAntElementCreatorMap.put(MacroDef.class.getName(),new AntElementCreator(){
        public AntStructuredElement create(        final AntElement parent,        final XmlTag tag){
          return new AntMacroDefImpl((AntStructuredElement)parent,tag,parent.getAntFile().getBaseTypeDefinition(MacroDef.class.getName()));
        }
      }
);
      ourAntTypeToKnownAntElementCreatorMap.put(PreSetDef.class.getName(),new AntElementCreator(){
        public AntStructuredElement create(        final AntElement parent,        final XmlTag tag){
          return new AntPresetDefImpl((AntStructuredElement)parent,tag,parent.getAntFile().getBaseTypeDefinition(PreSetDef.class.getName()));
        }
      }
);
      ourAntTypeToKnownAntElementCreatorMap.put(ImportTask.class.getName(),new AntElementCreator(){
        public AntStructuredElement create(        final AntElement parent,        final XmlTag tag){
          return new AntImportImpl(parent,tag,parent.getAntFile().getBaseTypeDefinition(ImportTask.class.getName()));
        }
      }
);
      ourAntTypeToKnownAntElementCreatorMap.put(Ant.class.getName(),new AntElementCreator(){
        public AntStructuredElement create(        final AntElement parent,        final XmlTag tag){
          return new AntAntImpl(parent,tag,parent.getAntFile().getBaseTypeDefinition(Ant.class.getName()));
        }
      }
);
      ourAntTypeToKnownAntElementCreatorMap.put(BuildNumber.class.getName(),new AntElementCreator(){
        public AntStructuredElement create(        final AntElement parent,        final XmlTag tag){
          return new AntBuildNumberImpl(parent,tag,parent.getAntFile().getBaseTypeDefinition(BuildNumber.class.getName()));
        }
      }
);
      ourAntTypeToKnownAntElementCreatorMap.put(DirSet.class.getName(),new AntElementCreator(){
        public AntStructuredElement create(        final AntElement parent,        final XmlTag tag){
          return new AntDirSetImpl(parent,tag,parent.getAntFile().getBaseTypeDefinition(DirSet.class.getName()));
        }
      }
);
      ourAntTypeToKnownAntElementCreatorMap.put(FileList.class.getName(),new AntElementCreator(){
        public AntStructuredElement create(        final AntElement parent,        final XmlTag tag){
          return new AntFileListImpl(parent,tag,parent.getAntFile().getBaseTypeDefinition(FileList.class.getName()));
        }
      }
);
      ourAntTypeToKnownAntElementCreatorMap.put(FileSet.class.getName(),new AntElementCreator(){
        public AntStructuredElement create(        final AntElement parent,        final XmlTag tag){
          return new AntFileSetImpl(parent,tag,parent.getAntFile().getBaseTypeDefinition(FileSet.class.getName()));
        }
      }
);
      ourAntTypeToKnownAntElementCreatorMap.put(Path.class.getName(),new AntElementCreator(){
        public AntStructuredElement create(        final AntElement parent,        final XmlTag tag){
          return new AntPathImpl(parent,tag,parent.getAntFile().getBaseTypeDefinition(Path.class.getName()));
        }
      }
);
      ourAntTypeToKnownAntElementCreatorMap.put(Path.PathElement.class.getName(),new AntElementCreator(){
        public AntStructuredElement create(        final AntElement parent,        final XmlTag tag){
          return new AntPathImpl(parent,tag,parent.getAntFile().getBaseTypeDefinition(Path.PathElement.class.getName()));
        }
      }
);
    }
  }
}
