{
  String path=message.getFileAbsolutePath();
  VirtualFile virtualFile=getVirtualFileFor(path);
  FileGroup collection=getCollectionFor(message.getType(),virtualFile);
  LOG.assertTrue(collection != null,String.valueOf(message.getType()));
  final CvsRevisionNumber revision=message.getRevision();
  if (revision != null) {
    collection.add(path,CvsVcs2.getInstance(myProject),revision);
  }
 else {
    collection.add(path);
  }
}
