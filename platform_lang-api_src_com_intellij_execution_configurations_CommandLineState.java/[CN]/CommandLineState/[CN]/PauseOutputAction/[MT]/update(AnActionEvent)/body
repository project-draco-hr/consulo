{
  super.update(event);
  final Presentation presentation=event.getPresentation();
  final boolean isRunning=myProcessHandler != null && !myProcessHandler.isProcessTerminated();
  if (isRunning) {
    presentation.setEnabled(true);
  }
 else {
    if (!myConsole.canPause()) {
      presentation.setEnabled(false);
      return;
    }
    if (!myConsole.hasDeferredOutput()) {
      presentation.setEnabled(false);
    }
 else {
      presentation.setEnabled(true);
      myConsole.performWhenNoDeferredOutput(new Runnable(){
        @Override public void run(){
          update(event);
        }
      }
);
    }
  }
}
