{
  String qualifiedName=aClass.getQualifiedName();
  if (qualifiedName == null) {
    showJspOrLocalClassMessage();
    return;
  }
  if (!checkAbstractClassOrInterfaceMessage(aClass))   return;
  final PsiMethod[] constructors=aClass.getConstructors();
  if (constructors.length > 0) {
    String message="Class " + aClass.getQualifiedName() + " does not have implicit default consructor.";
    RefactoringMessageUtil.showErrorMessage(REFACTORING_NAME,message,null,myProject);
    return;
  }
  final int answer=Messages.showYesNoCancelDialog(myProject,"Would you like to replace default constructor of " + aClass.getQualifiedName() + " with factory method?",REFACTORING_NAME,Messages.getQuestionIcon());
  if (answer != 0)   return;
  if (!aClass.isWritable()) {
    if (!RefactoringMessageUtil.checkReadOnlyStatus(myProject,aClass))     return;
  }
  new ReplaceConstructorWithFactoryDialog(myProject,null,aClass).show();
}
