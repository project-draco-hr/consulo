{
  JPanel panel=new JPanel(new GridBagLayout());
  GridBagConstraints constr=new GridBagConstraints();
  constr.fill=GridBagConstraints.HORIZONTAL;
  constr.anchor=GridBagConstraints.WEST;
  JPanel librariesPanel=new JPanel();
  BoxLayout l=new BoxLayout(librariesPanel,BoxLayout.X_AXIS);
  librariesPanel.setLayout(l);
  for (  JRadioButton b : myLibraryButtons) {
    librariesPanel.add(b);
  }
  int gridy=1;
  constr.insets=insets(4);
  constr.gridy=gridy++;
  constr.gridx=0;
  constr.weightx=0;
  panel.add(new JLabel(CodeInsightBundle.message("intention.create.test.dialog.testing.library")),constr);
  constr.gridx=1;
  constr.weightx=1;
  constr.gridwidth=GridBagConstraints.REMAINDER;
  panel.add(librariesPanel,constr);
  myFixLibraryPanel=new JPanel(new BorderLayout());
  myFixLibraryLabel=new JLabel();
  myFixLibraryLabel.setIcon(AllIcons.Actions.IntentionBulb);
  myFixLibraryPanel.add(myFixLibraryLabel,BorderLayout.CENTER);
  myFixLibraryPanel.add(myFixLibraryButton,BorderLayout.EAST);
  constr.insets=insets(1);
  constr.gridy=gridy++;
  constr.gridx=0;
  panel.add(myFixLibraryPanel,constr);
  constr.gridheight=1;
  constr.insets=insets(6);
  constr.gridy=gridy++;
  constr.gridx=0;
  constr.weightx=0;
  constr.gridwidth=1;
  panel.add(new JLabel(CodeInsightBundle.message("intention.create.test.dialog.class.name")),constr);
  constr.gridx=1;
  constr.weightx=1;
  panel.add(myTargetClassNameField,constr);
  constr.insets=insets(1);
  constr.gridy=gridy++;
  constr.gridx=0;
  constr.weightx=0;
  panel.add(new JLabel(CodeInsightBundle.message("intention.create.test.dialog.super.class")),constr);
  constr.gridx=1;
  constr.weightx=1;
  panel.add(mySuperClassField,constr);
  constr.insets=insets(1);
  constr.gridy=gridy++;
  constr.gridx=0;
  constr.weightx=0;
  panel.add(new JLabel(CodeInsightBundle.message("dialog.create.class.destination.package.label")),constr);
  constr.gridx=1;
  constr.weightx=1;
  JPanel targetPackagePanel=new JPanel(new BorderLayout());
  targetPackagePanel.add(myTargetPackageField,BorderLayout.CENTER);
  panel.add(targetPackagePanel,constr);
  constr.insets=insets(6);
  constr.gridy=gridy++;
  constr.gridx=0;
  constr.weightx=0;
  panel.add(new JLabel(CodeInsightBundle.message("intention.create.test.dialog.generate")),constr);
  constr.gridx=1;
  constr.weightx=1;
  panel.add(myGenerateBeforeBox,constr);
  constr.insets=insets(1);
  constr.gridy=gridy++;
  panel.add(myGenerateAfterBox,constr);
  constr.insets=insets(6);
  constr.gridy=gridy++;
  constr.gridx=0;
  constr.weightx=0;
  panel.add(new JLabel(CodeInsightBundle.message("intention.create.test.dialog.select.methods")),constr);
  constr.gridx=1;
  constr.weightx=1;
  panel.add(myShowInheritedMethodsBox,constr);
  constr.insets=insets(1,8);
  constr.gridy=gridy++;
  constr.gridx=0;
  constr.gridwidth=GridBagConstraints.REMAINDER;
  constr.fill=GridBagConstraints.BOTH;
  constr.weighty=1;
  panel.add(ScrollPaneFactory.createScrollPane(myMethodsTable),constr);
  return panel;
}
