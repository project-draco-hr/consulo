{
  doTest(new PerformAction(){
    public void performAction(    VirtualFile rootDir,    VirtualFile rootAfter) throws Exception {
      final JavaPsiFacade manager=getJavaFacade();
      final PsiClass aClass=manager.findClass(className,GlobalSearchScope.moduleScope(myModule));
      assertNotNull(aClass);
      final PsiMethod methodBySignature=aClass.findMethodBySignature(manager.getElementFactory().createMethodFromText(methodSignature + "{}",null),false);
      assertNotNull(methodBySignature);
      final RenameProcessor renameProcessor=new RenameProcessor(myProject,methodBySignature,newName,false,false);
      renameProcessor.run();
      FileDocumentManager.getInstance().saveAllDocuments();
    }
  }
);
}
