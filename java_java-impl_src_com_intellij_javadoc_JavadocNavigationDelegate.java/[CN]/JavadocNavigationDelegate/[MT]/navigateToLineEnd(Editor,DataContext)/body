{
  if (!CodeInsightSettings.getInstance().SMART_END_ACTION) {
    return Result.CONTINUE;
  }
  final Project project=PlatformDataKeys.PROJECT.getData(dataContext);
  if (project == null) {
    return Result.CONTINUE;
  }
  final Document document=editor.getDocument();
  PsiFile psiFile=LangDataKeys.PSI_FILE.getData(dataContext);
  if (psiFile == null) {
    psiFile=PsiDocumentManager.getInstance(project).getPsiFile(document);
  }
  if (psiFile == null) {
    return Result.CONTINUE;
  }
  return navigateToLineEnd(editor,project,psiFile);
}
