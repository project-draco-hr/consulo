{
  while (elem != null) {
    final PsiElement parent=elem.getParent();
    if (elem instanceof PsiMethod) {
      final PsiMethod method=(PsiMethod)elem;
      if (!myReadySet.contains(method)) {
        myReadySet.add(method);
        final PsiReference[] refs=myHelper.findReferencesIncludingOverriding(method,myOptions.searchScope,true);
        for (int i=0; i != refs.length; ++i)         scanCatches(refs[i].getElement());
      }
      return;
    }
 else     if (elem instanceof PsiTryStatement) {
      final PsiTryStatement aTry=(PsiTryStatement)elem;
      final PsiParameter[] catches=aTry.getCatchBlockParameters();
      for (int i=0; i != catches.length; ++i) {
        if (!processExn(catches[i])) {
          return;
        }
      }
    }
 else     if (parent instanceof PsiTryStatement) {
      final PsiTryStatement tryStmt=(PsiTryStatement)parent;
      if (elem != tryStmt.getTryBlock()) {
        elem=parent.getParent();
        continue;
      }
    }
    elem=parent;
  }
}
