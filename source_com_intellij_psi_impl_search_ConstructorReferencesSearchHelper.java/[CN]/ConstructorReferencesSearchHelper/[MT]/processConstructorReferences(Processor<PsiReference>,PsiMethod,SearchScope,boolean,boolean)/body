{
  PsiClass aClass=constructor.getContainingClass();
  if (aClass == null)   return true;
  if (aClass.isEnum()) {
    PsiField[] fields=aClass.getFields();
    for (    PsiField field : fields) {
      if (field instanceof PsiEnumConstant) {
        PsiReference reference=field.getReference();
        if (reference != null && reference.isReferenceTo(constructor)) {
          if (!processor.process(reference))           return false;
        }
      }
    }
  }
  Processor<PsiReference> processor1=new Processor<PsiReference>(){
    public boolean process(    final PsiReference reference){
      PsiElement parent=reference.getElement().getParent();
      if (parent instanceof PsiAnonymousClass) {
        parent=parent.getParent();
      }
      if (parent instanceof PsiNewExpression) {
        PsiMethod constructor1=((PsiNewExpression)parent).resolveConstructor();
        if (constructor1 != null) {
          if (isStrictSignatureSearch) {
            if (myManager.areElementsEquivalent(constructor,constructor1)) {
              return processor.process(reference);
            }
          }
 else {
            if (myManager.areElementsEquivalent(constructor.getContainingClass(),constructor1.getContainingClass())) {
              return processor.process(reference);
            }
          }
        }
      }
      return true;
    }
  }
;
  if (!ReferencesSearch.search(aClass,searchScope,ignoreAccessScope).forEach(processor1))   return false;
  if (!processConstructorReferencesViaSuperOrThis(processor,aClass,constructor,searchScope,isStrictSignatureSearch,PsiKeyword.THIS)) {
    return false;
  }
  Processor<PsiClass> processor2=new Processor<PsiClass>(){
    public boolean process(    PsiClass inheritor){
      return processConstructorReferencesViaSuperOrThis(processor,inheritor,constructor,searchScope,isStrictSignatureSearch,PsiKeyword.SUPER);
    }
  }
;
  return ClassInheritorsSearch.search(aClass,searchScope,false).forEach(processor2);
}
