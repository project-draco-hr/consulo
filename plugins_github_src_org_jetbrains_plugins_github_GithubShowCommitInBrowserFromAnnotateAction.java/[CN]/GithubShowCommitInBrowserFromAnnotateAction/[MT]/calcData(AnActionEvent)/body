{
  Project project=e.getData(PlatformDataKeys.PROJECT);
  VirtualFile virtualFile=e.getData(PlatformDataKeys.VIRTUAL_FILE);
  if (project == null || virtualFile == null) {
    return null;
  }
  GitRepository repository=GitUtil.getRepositoryManager(project).getRepositoryForFile(virtualFile);
  if (repository == null) {
    return null;
  }
  return new EventData(project,repository);
}
