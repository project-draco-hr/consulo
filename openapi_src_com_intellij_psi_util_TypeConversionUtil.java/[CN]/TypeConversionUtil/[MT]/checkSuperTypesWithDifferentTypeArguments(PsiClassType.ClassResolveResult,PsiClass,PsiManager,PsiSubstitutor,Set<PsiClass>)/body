{
  if (visited.contains(derived))   return true;
  visited.add(derived);
  if (manager.getEffectiveLanguageLevel().compareTo(LanguageLevel.JDK_1_5) < 0)   return true;
  PsiClass base=baseResult.getElement();
  PsiClass[] supers=derived.getSupers();
  if (manager.areElementsEquivalent(base,derived)) {
    derivedSubstitutor=getSuperClassSubstitutor(derived,derived,derivedSubstitutor);
    return !areDistinctArgumentTypes(derived,baseResult.getSubstitutor(),derivedSubstitutor);
  }
 else   if (base.isInheritor(derived,true)) {
    derivedSubstitutor=getSuperClassSubstitutor(derived,derived,derivedSubstitutor);
    PsiSubstitutor baseSubstitutor=getSuperClassSubstitutor(derived,base,baseResult.getSubstitutor());
    if (areDistinctArgumentTypes(derived,baseSubstitutor,derivedSubstitutor))     return false;
  }
  for (  PsiClass aSuper : supers) {
    PsiSubstitutor s=getSuperClassSubstitutor(aSuper,derived,derivedSubstitutor);
    if (!checkSuperTypesWithDifferentTypeArguments(baseResult,aSuper,manager,s,visited))     return false;
  }
  return true;
}
