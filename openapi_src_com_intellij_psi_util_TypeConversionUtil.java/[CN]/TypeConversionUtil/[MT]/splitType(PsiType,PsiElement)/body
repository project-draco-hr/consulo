{
  if (type instanceof PsiArrayType) {
    LanguageLevel languageLevel=PsiUtil.getLanguageLevel(place);
    final PsiClass arrayClass=JavaPsiFacade.getInstance(place.getProject()).getElementFactory().getArrayClass(languageLevel);
    final PsiTypeParameter[] arrayTypeParameters=arrayClass.getTypeParameters();
    if (arrayTypeParameters.length > 0) {
      return new ClassCandidateInfo(arrayClass,PsiSubstitutor.EMPTY.put(arrayTypeParameters[0],((PsiArrayType)type).getComponentType()));
    }
    return new ClassCandidateInfo(arrayClass,PsiSubstitutor.EMPTY);
  }
  final JavaResolveResult result=PsiUtil.resolveGenericsClassInType(type);
  final PsiClass clazz=(PsiClass)result.getElement();
  if (clazz == null) {
    return null;
  }
  return new ClassCandidateInfo(clazz,result.getSubstitutor());
}
