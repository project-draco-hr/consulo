{
  if (superClassCandidate.getManager().areElementsEquivalent(superClassCandidate,derivedClassCandidate)) {
    PsiTypeParameter[] baseParams=superClassCandidate.getTypeParameters();
    PsiTypeParameter[] derivedParams=derivedClassCandidate.getTypeParameters();
    if (baseParams.length > 0 && derivedParams.length == 0) {
      return JavaPsiFacade.getInstance(superClassCandidate.getProject()).getElementFactory().createRawSubstitutor(superClassCandidate);
    }
    return derivedSubstitutor;
  }
  if (!derivedClassCandidate.isInheritor(superClassCandidate,true))   return null;
  return getSuperClassSubstitutor(superClassCandidate,derivedClassCandidate,derivedSubstitutor);
}
