{
  if (fromType == toType)   return true;
  final boolean fromIsPrimitive=isPrimitiveAndNotNull(fromType);
  final boolean toIsPrimitive=isPrimitiveAndNotNull(toType);
  if (fromIsPrimitive || toIsPrimitive) {
    if (isVoidType(fromType) || isVoidType(toType))     return false;
    final int fromTypeRank=getTypeRank(fromType);
    final int toTypeRank=getTypeRank(toType);
    if (!toIsPrimitive)     return fromTypeRank == toTypeRank;
    if (!fromIsPrimitive) {
      if (fromTypeRank == toTypeRank)       return true;
      return fromTypeRank <= MAX_NUMERIC_RANK && toTypeRank <= MAX_NUMERIC_RANK && fromTypeRank < toTypeRank;
    }
    return fromTypeRank == toTypeRank || fromTypeRank <= MAX_NUMERIC_RANK && toTypeRank <= MAX_NUMERIC_RANK;
  }
  if (isAssignable(toType,fromType))   return true;
  if (isNullType(fromType) || isNullType(toType))   return true;
  return isNarrowingReferenceConversionAllowed(fromType,toType);
}
