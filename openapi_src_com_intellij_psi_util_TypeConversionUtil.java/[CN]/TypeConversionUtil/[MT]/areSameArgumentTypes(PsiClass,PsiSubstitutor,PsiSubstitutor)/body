{
  Iterator<PsiTypeParameter> iterator=PsiUtil.typeParametersIterator(aClass);
  while (iterator.hasNext()) {
    PsiTypeParameter typeParam=iterator.next();
    PsiType typeArg1=substitutor1.substitute(typeParam);
    PsiType typeArg2=substitutor2.substitute(typeParam);
    if (typeArg1 == null || typeArg2 == null)     return true;
    if (typeArg1 instanceof PsiWildcardType || typeArg2 instanceof PsiWildcardType)     return true;
    if (typeArg1 instanceof PsiCapturedWildcardType || typeArg2 instanceof PsiCapturedWildcardType)     return true;
    if (typeArg1 instanceof PsiClassType && ((PsiClassType)typeArg1).resolve() instanceof PsiTypeParameter)     return true;
    if (typeArg2 instanceof PsiClassType && ((PsiClassType)typeArg2).resolve() instanceof PsiTypeParameter)     return true;
    if (!typeArg1.equals(typeArg2))     return false;
  }
  return true;
}
