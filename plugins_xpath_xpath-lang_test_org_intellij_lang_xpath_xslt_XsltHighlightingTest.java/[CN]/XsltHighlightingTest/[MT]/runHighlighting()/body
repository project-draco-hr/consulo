{
  final Project project=myFixture.getProject();
  PsiDocumentManager.getInstance(project).commitAllDocuments();
  return ApplicationManager.getApplication().runReadAction(new Computable<Long>(){
    public Long compute(){
      final long l=System.currentTimeMillis();
      List<TextEditorHighlightingPass> passes=TextEditorHighlightingPassRegistrarEx.getInstanceEx(myFixture.getProject()).instantiatePasses(myFixture.getFile(),myFixture.getEditor(),ArrayUtil.EMPTY_INT_ARRAY);
      ProgressIndicator progress=new DaemonProgressIndicator();
      for (      TextEditorHighlightingPass pass : passes) {
        pass.collectInformation(progress);
      }
      return System.currentTimeMillis() - l;
    }
  }
);
}
