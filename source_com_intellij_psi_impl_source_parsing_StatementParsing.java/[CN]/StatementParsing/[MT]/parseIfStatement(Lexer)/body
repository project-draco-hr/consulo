{
  LOG.assertTrue(lexer.getTokenType() == IF_KEYWORD);
  CompositeElement element=ASTFactory.composite(IF_STATEMENT);
  element.rawAddChildren(ParseUtil.createTokenElement(lexer,myContext.getCharTable()));
  lexer.advance();
  if (!processExpressionInParens(lexer,element)) {
    return element;
  }
  TreeElement thenStatement=parseStatement(lexer);
  if (thenStatement == null) {
    element.rawAddChildren(Factory.createErrorElement(JavaErrorMessages.message("expected.statement")));
    return element;
  }
  element.rawAddChildren(thenStatement);
  if (lexer.getTokenType() != ELSE_KEYWORD) {
    return element;
  }
  element.rawAddChildren(ParseUtil.createTokenElement(lexer,myContext.getCharTable()));
  lexer.advance();
  TreeElement elseStatement=parseStatement(lexer);
  if (elseStatement == null) {
    element.rawAddChildren(Factory.createErrorElement(JavaErrorMessages.message("expected.statement")));
    return element;
  }
  element.rawAddChildren(elseStatement);
  return element;
}
