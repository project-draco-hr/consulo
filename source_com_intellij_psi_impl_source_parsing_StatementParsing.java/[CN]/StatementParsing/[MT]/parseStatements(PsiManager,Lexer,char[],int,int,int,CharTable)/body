{
  if (lexer == null) {
    lexer=new JavaLexer(manager.getEffectiveLanguageLevel());
  }
  final ParsingContext context=new ParsingContext(table);
  final FilterLexer filterLexer=new FilterLexer(lexer,new FilterLexer.SetFilter(WHITE_SPACE_OR_COMMENT_BIT_SET));
  if (state < 0)   filterLexer.start(buffer,startOffset,endOffset);
 else   filterLexer.start(buffer,startOffset,endOffset,state);
  final FileElement dummyRoot=new DummyHolder(manager,null,table).getTreeElement();
  context.getStatementParsing().parseStatements(dummyRoot,filterLexer,RBRACE_IS_ERROR);
  ParseUtil.insertMissingTokens(dummyRoot,lexer,startOffset,endOffset,state,ParseUtil.WhiteSpaceAndCommentsProcessor.INSTANCE,context);
  return dummyRoot.firstChild;
}
