{
  @SuppressWarnings("unchecked") final List<Element> children=(List<Element>)element.getChildren();
  for (  Element child : children) {
    if (KEY_MAP.equals(child.getName())) {
      String keymapName=child.getAttributeValue(NAME_ATTRIBUTE);
      DefaultKeymapImpl keymap=keymapName.startsWith(KeymapManager.MAC_OS_X_KEYMAP) ? new MacOSDefaultKeymap() : new DefaultKeymapImpl();
      keymap.readExternal(child,myKeymaps.toArray(new Keymap[myKeymaps.size()]));
      keymap.setName(keymapName);
      myKeymaps.add(keymap);
    }
  }
}
