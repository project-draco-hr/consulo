{
  if (root == null) {
    return null;
  }
  if (!RENDERER_TAG.equals(root.getName())) {
    throw new InvalidDataException("Cannot read renderer - tag name is not '" + RENDERER_TAG + "'");
  }
  final String rendererId=root.getAttributeValue(RENDERER_ID);
  if (rendererId == null) {
    throw new InvalidDataException("unknown renderer ID: " + rendererId);
  }
  final Renderer renderer=createRenderer(rendererId);
  if (renderer == null) {
    throw new InvalidDataException("unknown renderer ID: " + rendererId);
  }
  renderer.readExternal(root);
  return renderer;
}
