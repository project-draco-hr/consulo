{
  Dimension preferredSize=null;
  JPanel result=new JPanel(new BorderLayout());
  final JPanel tabPlace=new JPanel();
  ;
  ButtonGroup buttonGroup=new ButtonGroup();
  Box buttonBox=Box.createHorizontalBox();
  for (Iterator iterator=myTabs.iterator(); iterator.hasNext(); ) {
    final Tab tab=(Tab)iterator.next();
    tab.button=new JRadioButton(tab.name);
    tab.button.addActionListener(new ActionListener(){
      public void actionPerformed(      ActionEvent e){
        tabPlace.removeAll();
        tabPlace.add(tab.contents);
        tabPlace.validate();
        tabPlace.repaint();
        myActiveTab=tab;
      }
    }
);
    buttonGroup.add(tab.button);
    buttonBox.add(tab.button);
    if (preferredSize == null) {
      preferredSize=tab.contents.getPreferredSize();
    }
 else {
      Dimension contentsSize=tab.contents.getPreferredSize();
      if (preferredSize.height < contentsSize.height)       preferredSize.height=contentsSize.height;
      if (preferredSize.width < contentsSize.width)       preferredSize.width=contentsSize.width;
    }
  }
  result.add(buttonBox,BorderLayout.NORTH);
  result.add(tabPlace,BorderLayout.WEST);
  tabPlace.setPreferredSize(preferredSize);
  return result;
}
