{
  if (myChildrenMap != null) {
    return myChildrenMap;
  }
  final List<AbstractIntrospector> contexts=getContexts();
  Map<String,Class> names=null;
  for (  AbstractIntrospector context : contexts) {
    if (context.isContainer()) {
      continue;
    }
    final Set<String> set=new HashSet<String>();
    for (Iterator<String> it=context.getNestedElementsIterator(); it.hasNext(); ) {
      final String name=it.next();
      set.add(name);
    }
    if (names == null) {
      names=new HashMap<String,Class>();
      for (      String s : set) {
        names.put(s,context.getNestedElementType(s));
      }
    }
 else {
      names.keySet().retainAll(set);
    }
  }
  final Map<String,Class> result=names == null ? Collections.<String,Class>emptyMap() : names;
  return myChildrenMap=result;
}
