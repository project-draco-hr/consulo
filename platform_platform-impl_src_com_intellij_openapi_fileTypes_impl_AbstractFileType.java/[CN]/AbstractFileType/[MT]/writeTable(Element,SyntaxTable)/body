{
  Element highlightingElement=new Element(ELEMENT_HIGHLIGHTING);
  Element optionsElement=new Element(ELEMENT_OPTIONS);
  Element lineComment=new Element(ELEMENT_OPTION);
  lineComment.setAttribute(ATTRIBUTE_NAME,VALUE_LINE_COMMENT);
  lineComment.setAttribute(ATTRIBUTE_VALUE,table.getLineComment());
  optionsElement.addContent(lineComment);
  String commentStart=table.getStartComment();
  if (commentStart != null) {
    Element commentStartElement=new Element(ELEMENT_OPTION);
    commentStartElement.setAttribute(ATTRIBUTE_NAME,VALUE_COMMENT_START);
    commentStartElement.setAttribute(ATTRIBUTE_VALUE,commentStart);
    optionsElement.addContent(commentStartElement);
  }
  String endComment=table.getEndComment();
  if (endComment != null) {
    Element commentEndElement=new Element(ELEMENT_OPTION);
    commentEndElement.setAttribute(ATTRIBUTE_NAME,VALUE_COMMENT_END);
    commentEndElement.setAttribute(ATTRIBUTE_VALUE,endComment);
    optionsElement.addContent(commentEndElement);
  }
  String prefix=table.getHexPrefix();
  if (prefix != null) {
    Element hexPrefix=new Element(ELEMENT_OPTION);
    hexPrefix.setAttribute(ATTRIBUTE_NAME,VALUE_HEX_PREFIX);
    hexPrefix.setAttribute(ATTRIBUTE_VALUE,prefix);
    optionsElement.addContent(hexPrefix);
  }
  String chars=table.getNumPostfixChars();
  if (chars != null) {
    Element numPostfixes=new Element(ELEMENT_OPTION);
    numPostfixes.setAttribute(ATTRIBUTE_NAME,VALUE_NUM_POSTFIXES);
    numPostfixes.setAttribute(ATTRIBUTE_VALUE,chars);
    optionsElement.addContent(numPostfixes);
  }
  addElementOption(optionsElement,VALUE_HAS_BRACES,table.isHasBraces());
  addElementOption(optionsElement,VALUE_HAS_BRACKETS,table.isHasBrackets());
  addElementOption(optionsElement,VALUE_HAS_PARENS,table.isHasParens());
  addElementOption(optionsElement,VALUE_HAS_STRING_ESCAPES,table.isHasStringEscapes());
  addElementOption(optionsElement,VALUE_LINE_COMMENT_AT_START,table.lineCommentOnlyAtStart);
  highlightingElement.addContent(optionsElement);
  writeKeywords(table.getKeywords1(),ELEMENT_KEYWORDS,highlightingElement).setAttribute(ATTRIBUTE_IGNORE_CASE,String.valueOf(table.isIgnoreCase()));
  writeKeywords(table.getKeywords2(),ELEMENT_KEYWORDS2,highlightingElement);
  writeKeywords(table.getKeywords3(),ELEMENT_KEYWORDS3,highlightingElement);
  writeKeywords(table.getKeywords4(),ELEMENT_KEYWORDS4,highlightingElement);
  element.addContent(highlightingElement);
}
