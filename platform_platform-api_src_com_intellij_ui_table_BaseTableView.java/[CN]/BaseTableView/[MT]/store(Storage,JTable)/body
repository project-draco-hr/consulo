{
  final TableColumnModel model=table.getTableHeader().getColumnModel();
  final int columnCount=model.getColumnCount();
  final boolean[] storedColumns=new boolean[columnCount];
  Arrays.fill(storedColumns,false);
  for (int i=0; i < columnCount; i++) {
    final TableColumn column=model.getColumn(i);
    storage.put(widthPropertyName(i),String.valueOf(column.getWidth()));
    final int modelIndex=column.getModelIndex();
    storage.put(orderPropertyName(i),String.valueOf(modelIndex));
    if (storedColumns[modelIndex]) {
      LOG.error("columnCount: " + columnCount + " current: "+ i+ " modelINdex: "+ modelIndex);
    }
    storedColumns[modelIndex]=true;
  }
}
