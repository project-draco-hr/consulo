{
  final IdeaTestFixtureFactory fixtureFactory=IdeaTestFixtureFactory.getFixtureFactory();
  final TestFixtureBuilder<IdeaProjectTestFixture> testFixtureBuilder=fixtureFactory.createFixtureBuilder(getName());
  myFixture=JavaTestFixtureFactory.getFixtureFactory().createCodeInsightFixture(testFixtureBuilder.getFixture());
  myFixture.setTestDataPath(dataPath);
  final JavaModuleFixtureBuilder builder=testFixtureBuilder.addModule(JavaModuleFixtureBuilder.class);
  builder.addContentRoot(myFixture.getTempDirPath()).addSourceRoot("");
  builder.setMockJdkLevel(JavaModuleFixtureBuilder.MockJdkLevel.jdk15);
  myFixture.setUp();
}
