{
  final Document document=editor.getDocument();
  final int prevSymbolOffset=editor.getCaretModel().getOffset() - 1;
  if (prevSymbolOffset < 0) {
    return;
  }
  final SelectionModel selectionModel=editor.getSelectionModel();
  final CharSequence text=document.getCharsSequence();
  final char c=text.charAt(prevSymbolOffset);
  final boolean doHungryCheck=!selectionModel.hasSelection() && !selectionModel.hasBlockSelection() && StringUtil.isWhiteSpace(c);
  final EditorActionHandler handler=EditorActionManager.getInstance().getActionHandler(IdeActions.ACTION_EDITOR_BACKSPACE);
  handler.execute(editor,dataContext);
  if (!doHungryCheck) {
    return;
  }
  final int endOffset=prevSymbolOffset;
  if (endOffset > document.getTextLength()) {
    return;
  }
  int startOffset=CharArrayUtil.shiftBackward(text,endOffset - 1,"\t \n");
  if (startOffset < 0) {
    startOffset=0;
  }
 else {
    startOffset++;
  }
  if (startOffset >= endOffset) {
    return;
  }
  document.deleteString(startOffset,endOffset);
}
