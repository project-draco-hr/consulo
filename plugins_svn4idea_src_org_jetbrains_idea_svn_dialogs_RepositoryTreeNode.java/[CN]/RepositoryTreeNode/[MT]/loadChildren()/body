{
  Runnable loader=new Runnable(){
    public void run(){
      final Collection<SVNDirEntry> entries=new TreeSet<SVNDirEntry>();
      try {
        myRepository.getDir(myPath,-1,null,new ISVNDirEntryHandler(){
          public void handleDirEntry(          final SVNDirEntry dirEntry) throws SVNException {
            entries.add(dirEntry);
          }
        }
);
      }
 catch (      SVNException e) {
        final SVNErrorMessage err=e.getErrorMessage();
        SwingUtilities.invokeLater(new Runnable(){
          public void run(){
            if (myChildren != null) {
              myChildren.clear();
              myChildren.add(new DefaultMutableTreeNode(err));
            }
            myModel.reload(RepositoryTreeNode.this);
          }
        }
);
        return;
      }
      final List<TreeNode> nodes=new ArrayList<TreeNode>();
      for (      final SVNDirEntry entry : entries) {
        if (!myModel.isShowFiles() && entry.getKind() != SVNNodeKind.DIR) {
          continue;
        }
        nodes.add(new RepositoryTreeNode(myModel,RepositoryTreeNode.this,myRepository,entry.getURL(),entry));
      }
      SwingUtilities.invokeLater(new Runnable(){
        public void run(){
          if (myChildren != null) {
            myChildren.clear();
            myChildren.addAll(nodes);
          }
          myModel.reload(RepositoryTreeNode.this);
        }
      }
);
    }
  }
;
  ApplicationManager.getApplication().executeOnPooledThread(loader);
}
