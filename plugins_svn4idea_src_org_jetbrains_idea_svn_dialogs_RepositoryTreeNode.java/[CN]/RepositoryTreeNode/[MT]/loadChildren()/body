{
  Runnable loader=new Runnable(){
    public void run(){
      Collection entries=new TreeSet();
      try {
        entries=myRepository.getDir(myPath,-1,null,entries);
      }
 catch (      SVNException e) {
        final SVNErrorMessage err=e.getErrorMessage();
        SwingUtilities.invokeLater(new Runnable(){
          public void run(){
            if (myChildren != null) {
              myChildren.clear();
              myChildren.add(new DefaultMutableTreeNode(err));
            }
            myModel.reload(RepositoryTreeNode.this);
          }
        }
);
        return;
      }
      final List nodes=new ArrayList();
      for (Iterator iter=entries.iterator(); iter.hasNext(); ) {
        SVNDirEntry entry=(SVNDirEntry)iter.next();
        if (!myModel.isShowFiles() && entry.getKind() != SVNNodeKind.DIR) {
          continue;
        }
        nodes.add(new RepositoryTreeNode(myModel,RepositoryTreeNode.this,myRepository,entry.getURL(),entry));
      }
      SwingUtilities.invokeLater(new Runnable(){
        public void run(){
          if (myChildren != null) {
            myChildren.clear();
            myChildren.addAll(nodes);
          }
          myModel.reload(RepositoryTreeNode.this);
        }
      }
);
    }
  }
;
  ApplicationManager.getApplication().executeOnPooledThread(loader);
}
