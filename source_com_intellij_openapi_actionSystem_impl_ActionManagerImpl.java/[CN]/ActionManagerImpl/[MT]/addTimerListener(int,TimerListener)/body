{
  Timer timer=new Timer(delay,new ActionListener(){
    public void actionPerformed(    ActionEvent e){
      if (myLastTimeEditorWasTypedIn + UPDATE_DELAY_AFTER_TYPING > System.currentTimeMillis())       return;
      ModalityState modalityState=listener.getModalityState();
      if (modalityState == null)       return;
      if (!ModalityState.current().dominates(modalityState)) {
        listener.run();
      }
    }
  }
);
synchronized (myRunnable2Timer) {
    myRunnable2Timer.put(listener,timer);
  }
  timer.setRepeats(true);
  timer.start();
}
