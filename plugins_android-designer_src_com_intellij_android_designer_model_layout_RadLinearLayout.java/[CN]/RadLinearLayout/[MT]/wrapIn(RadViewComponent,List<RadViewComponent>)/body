{
  final boolean horizontal=isHorizontal();
  RadViewComponent firstComponent=components.get(0);
  boolean single=components.size() == 1;
  String layoutWidth=single ? firstComponent.getTag().getAttributeValue("android:layout_width") : "wrap_content";
  String layoutHeight=single ? firstComponent.getTag().getAttributeValue("android:layout_height") : "wrap_content";
  String layoutGravity=firstComponent.getTag().getAttributeValue("android:layout_gravity");
  if (horizontal) {
    for (    RadViewComponent component : components.subList(1,components.size())) {
      String height=component.getTag().getAttributeValue("android:layout_height");
      if ("fill_parent".equals(height) || "match_parent".equals(height)) {
        layoutHeight="fill_parent";
        layoutGravity=null;
      }
      if (layoutGravity != null && layoutGravity.equals(component.getTag().getAttributeValue("android:layout_gravity"))) {
      }
    }
  }
 else {
  }
  if (newParent.getLayout() instanceof RadLinearLayout) {
    RadLinearLayout layout=(RadLinearLayout)newParent.getLayout();
    if (horizontal != layout.isHorizontal()) {
      ApplicationManager.getApplication().runWriteAction(new Runnable(){
        @Override public void run(){
          newParent.getTag().setAttribute("android:orientation",horizontal ? "horizontal" : "vertical");
        }
      }
);
    }
  }
 else {
    ApplicationManager.getApplication().runWriteAction(new Runnable(){
      @Override public void run(){
        for (        RadViewComponent component : components) {
          ModelParser.deleteAttribute(component.getTag(),"android:layout_gravity");
        }
      }
    }
);
  }
}
