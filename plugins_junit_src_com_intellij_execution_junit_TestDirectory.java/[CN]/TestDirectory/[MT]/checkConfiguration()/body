{
  if (myConfiguration.isAlternativeJrePathEnabled()) {
    if (myConfiguration.getAlternativeJrePath() == null || myConfiguration.getAlternativeJrePath().length() == 0 || !JavaSdk.checkForJre(myConfiguration.getAlternativeJrePath())) {
      throw new RuntimeConfigurationWarning(ExecutionBundle.message("jre.path.is.not.valid.jre.home.error.mesage",myConfiguration.getAlternativeJrePath()));
    }
  }
  final String dirName=myConfiguration.getPersistentData().getDirName();
  if (dirName == null || dirName.isEmpty()) {
    throw new RuntimeConfigurationError("Directory is not specified");
  }
  final VirtualFile file=LocalFileSystem.getInstance().findFileByPath(FileUtil.toSystemIndependentName(dirName));
  if (file == null) {
    throw new RuntimeConfigurationWarning("Directory \'" + dirName + "\' is not found");
  }
  final Module module=myConfiguration.getConfigurationModule().getModule();
  if (module == null) {
    throw new RuntimeConfigurationError("Module to choose classpath from is not specified");
  }
}
