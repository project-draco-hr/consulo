{
  T result=buildIfExceeds(position,foldRegion);
  if (result != null) {
    return result;
  }
  Document document=myEditor.getDocument();
  int endOffsetLogicalLine=document.getLineNumber(foldRegion.getEndOffset());
  if (position.logicalLine != endOffsetLogicalLine) {
    position.softWrapColumnDiff=0;
    position.softWrapLinesBefore+=position.softWrapLinesCurrent;
    position.softWrapLinesCurrent=0;
  }
  int collapsedSymbolsWidthInColumns=-1;
  FoldingData foldingData=getFoldRegionData(foldRegion);
  if (foldingData != null) {
    collapsedSymbolsWidthInColumns=foldingData.getCollapsedSymbolsWidthInColumns();
  }
  position.advance(foldRegion,collapsedSymbolsWidthInColumns);
  return null;
}
