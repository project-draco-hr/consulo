{
  final JPanel stringPanel=new JPanel(new GridBagLayout());
  final Constraints constraints=new Constraints();
  constraints.weightedLastRow();
  final JCheckBox enableBox=new JCheckBox("whose " + attributeDisplayName);
  stringPanel.add(enableBox,constraints.firstCol());
  final JComboBox invertBox=new JComboBox(new Object[]{"match","do not match"});
  invertBox.setSelectedIndex(isInvert() ? 1 : 0);
  final JTextField patternField=new JTextField(20);
  stringPanel.add(invertBox,constraints.nextCol());
  stringPanel.add(patternField,constraints.weightedLastCol());
  enableBox.setSelected(isMatch());
  invertBox.setEnabled(isMatch());
  patternField.setEnabled(isMatch());
  patternField.setText(getExpression());
  enableBox.addActionListener(new ActionListener(){
    public void actionPerformed(    final ActionEvent e){
      setMatch(enableBox.isSelected());
      invertBox.setEnabled(enableBox.isSelected());
      patternField.setEnabled(enableBox.isSelected());
    }
  }
);
  invertBox.addActionListener(new ActionListener(){
    public void actionPerformed(    final ActionEvent e){
      setInvert(invertBox.getSelectedIndex() == 1);
    }
  }
);
  patternField.getDocument().addDocumentListener(new DocumentListener(){
    public void changedUpdate(    final DocumentEvent e){
      setExpression(patternField.getText());
    }
    public void insertUpdate(    final DocumentEvent e){
      setExpression(patternField.getText());
    }
    public void removeUpdate(    final DocumentEvent e){
      setExpression(patternField.getText());
    }
  }
);
  return stringPanel;
}
