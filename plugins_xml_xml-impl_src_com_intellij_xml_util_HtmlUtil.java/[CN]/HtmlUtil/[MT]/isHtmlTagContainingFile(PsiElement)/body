{
  if (element == null) {
    return false;
  }
  final PsiFile containingFile=element.getContainingFile();
  if (containingFile != null) {
    final XmlTag tag=PsiTreeUtil.getParentOfType(element,XmlTag.class,false);
    if (tag instanceof HtmlTag) {
      return true;
    }
    final XmlDocument document=PsiTreeUtil.getParentOfType(element,XmlDocument.class,false);
    if (document instanceof HtmlDocumentImpl) {
      return true;
    }
    final FileViewProvider provider=containingFile.getViewProvider();
    Language language;
    if (provider instanceof TemplateLanguageFileViewProvider) {
      language=((TemplateLanguageFileViewProvider)provider).getTemplateDataLanguage();
    }
 else {
      language=provider.getBaseLanguage();
    }
    return language == XHTMLLanguage.INSTANCE;
  }
  return false;
}
