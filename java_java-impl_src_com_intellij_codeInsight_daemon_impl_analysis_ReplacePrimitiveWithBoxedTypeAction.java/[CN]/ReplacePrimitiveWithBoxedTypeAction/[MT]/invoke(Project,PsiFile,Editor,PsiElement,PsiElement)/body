{
  final PsiType type=((PsiTypeElement)startElement).getType();
  PsiType boxedType;
  if (type instanceof PsiPrimitiveType) {
    boxedType=((PsiPrimitiveType)type).getBoxedType(startElement);
  }
 else {
    LOG.assertTrue(type instanceof PsiWildcardType);
    final PsiWildcardType wildcardType=(PsiWildcardType)type;
    final PsiClassType boxedBound=((PsiPrimitiveType)wildcardType.getBound()).getBoxedType(startElement);
    LOG.assertTrue(boxedBound != null);
    boxedType=wildcardType.isExtends() ? PsiWildcardType.createExtends(startElement.getManager(),boxedBound) : PsiWildcardType.createSuper(startElement.getManager(),boxedBound);
  }
  LOG.assertTrue(boxedType != null);
  startElement.replace(JavaPsiFacade.getElementFactory(project).createTypeElement(boxedType));
}
