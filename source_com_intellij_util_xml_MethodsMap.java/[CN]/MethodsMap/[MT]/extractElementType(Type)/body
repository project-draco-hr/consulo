{
  if (returnType instanceof ParameterizedType) {
    ParameterizedType parameterizedType=(ParameterizedType)returnType;
    final Type rawType=parameterizedType.getRawType();
    if (rawType instanceof Class) {
      final Class<?> rawClass=(Class<?>)rawType;
      if (List.class.isAssignableFrom(rawClass) || Collection.class.equals(rawClass)) {
        final Type[] arguments=parameterizedType.getActualTypeArguments();
        if (arguments.length == 1) {
          final Type argument=arguments[0];
          if (argument instanceof WildcardType) {
            final Type[] upperBounds=((WildcardType)argument).getUpperBounds();
            if (upperBounds.length == 1 && isDomElement(upperBounds[0])) {
              return (Class<? extends DomElement>)upperBounds[0];
            }
          }
 else           if (isDomElement(argument)) {
            return (Class<? extends DomElement>)argument;
          }
        }
      }
    }
  }
  return null;
}
