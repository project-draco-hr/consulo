{
  if (!isBoolean(expression)) {
    return 1;
  }
  if (expression instanceof PsiPolyadicExpression) {
    final PsiPolyadicExpression polyadicExpression=(PsiPolyadicExpression)expression;
    final PsiExpression[] operands=polyadicExpression.getOperands();
    int count=0;
    for (    PsiExpression operand : operands) {
      count+=countTerms(operand);
    }
    return count;
  }
 else   if (expression instanceof PsiPrefixExpression) {
    final PsiPrefixExpression prefixExpression=(PsiPrefixExpression)expression;
    return countTerms(prefixExpression.getOperand());
  }
 else   if (expression instanceof PsiParenthesizedExpression) {
    final PsiParenthesizedExpression parenthesizedExpression=(PsiParenthesizedExpression)expression;
    return countTerms(parenthesizedExpression.getExpression());
  }
  return 1;
}
