{
  if (!CommonRefactoringUtil.checkReadOnlyStatus(project,method))   return;
  if (method instanceof GrReflectedMethod)   method=((GrReflectedMethod)method).getBaseMethod();
  PsiMethod newMethod=SuperMethodWarningUtil.checkSuperMethod(method,RefactoringBundle.message("to.refactor"));
  if (newMethod == null)   return;
  if (!newMethod.equals(method)) {
    ChangeSignatureUtil.invokeChangeSignatureOn(method,project);
    return;
  }
  if (!CommonRefactoringUtil.checkReadOnlyStatus(project,method))   return;
  if (!(method instanceof GrMethod))   return;
  final GrChangeSignatureDialog dialog=new GrChangeSignatureDialog(project,new GrMethodDescriptor((GrMethod)method),true,null);
  dialog.show();
}
