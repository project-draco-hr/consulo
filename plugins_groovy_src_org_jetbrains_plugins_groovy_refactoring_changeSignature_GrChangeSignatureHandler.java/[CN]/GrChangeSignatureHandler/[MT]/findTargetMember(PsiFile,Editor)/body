{
  final PsiElement element=file.findElementAt(editor.getCaretModel().getOffset());
  final GrParameterList parameterList=PsiTreeUtil.getParentOfType(element,GrParameterList.class);
  if (parameterList != null) {
    final PsiElement parent=parameterList.getParent();
    if (parent instanceof PsiMethod)     return (PsiMethod)parent;
  }
  final GrMethodCallExpression expression=PsiTreeUtil.getParentOfType(element,GrMethodCallExpression.class);
  if (expression == null)   return null;
  return expression.resolveMethod();
}
