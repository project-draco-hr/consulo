{
  Lexer originalLexer=new JavaLexer(JavaProjectExtension.getInstance(manager.getProject()).getLanguageLevel());
  FilterLexer lexer=new FilterLexer(originalLexer,new FilterLexer.SetFilter(StdTokenSets.WHITE_SPACE_OR_COMMENT_BIT_SET));
  lexer.start(buffer,startOffset,endOffset,0);
  final JavaParsingContext context=new JavaParsingContext(table,JavaProjectExtension.getInstance(manager.getProject()).getLanguageLevel());
  CompositeElement type=context.getStatementParsing().parseTypeWithEllipsis(lexer);
  if (type == null)   return null;
  if (lexer.getTokenType() != null)   return null;
  final FileElement dummyRoot=new JavaDummyHolder(manager,null,table).getTreeElement();
  TreeUtil.addChildren(dummyRoot,type);
  ParseUtil.insertMissingTokens(dummyRoot,originalLexer,startOffset,endOffset,-1,ParseUtil.WhiteSpaceAndCommentsProcessor.INSTANCE,context);
  return type;
}
