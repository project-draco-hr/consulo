{
  if (expression instanceof PsiPolyadicExpression) {
    buildSimplifiedPolyadicExpression((PsiPolyadicExpression)expression,out);
  }
 else   if (expression instanceof PsiPrefixExpression) {
    buildSimplifiedPrefixExpression((PsiPrefixExpression)expression,out);
  }
 else   if (expression instanceof PsiParenthesizedExpression) {
    final PsiParenthesizedExpression parenthesizedExpression=(PsiParenthesizedExpression)expression;
    final PsiExpression expression1=parenthesizedExpression.getExpression();
    out.append('(');
    buildSimplifiedExpression(expression1,out);
    out.append(')');
  }
 else   if (expression != null) {
    out.append(expression.getText());
  }
  return out;
}
