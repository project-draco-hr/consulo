{
  if (clazz.isInterface())   return;
  if (classes.add(clazz)) {
    final List<PsiMethod> methods;
    if (clazz instanceof GrTypeDefinition) {
      methods=new ArrayList<PsiMethod>();
      final GrTypeDefinitionBody body=((GrTypeDefinition)clazz).getBody();
      if (body != null) {
        GrClassImplUtil.collectMethodsFromBody(body,methods);
      }
    }
 else {
      methods=Arrays.asList(clazz.getMethods());
    }
    for (    PsiMethod method : methods) {
      addMethodChecked(signatures,method,substitutor,null);
    }
    for (    PsiClassType type : PsiClassImplUtil.getSuperTypes(clazz)) {
      final PsiClassType.ClassResolveResult result=type.resolveGenerics();
      final PsiClass superClass=result.getElement();
      if (superClass == null)       continue;
      final PsiSubstitutor superClassSubstitutor=TypeConversionUtil.getSuperClassSubstitutor(superClass,clazz,substitutor);
      initializeSignatures(superClass,superClassSubstitutor,signatures,classes);
    }
  }
}
