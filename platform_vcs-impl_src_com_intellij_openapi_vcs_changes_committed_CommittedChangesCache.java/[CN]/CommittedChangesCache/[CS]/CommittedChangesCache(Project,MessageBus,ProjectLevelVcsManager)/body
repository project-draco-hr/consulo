{
  myProject=project;
  myBus=bus;
  myLocationCache=new RepositoryLocationCache(project);
  myCachesHolder=new CachesHolder(project,myLocationCache);
  myTaskQueue=new ProgressManagerQueue(project,VcsBundle.message("committed.changes.refresh.progress"));
  ((ProjectLevelVcsManagerImpl)vcsManager).addInitializationRequest(VcsInitObject.COMMITTED_CHANGES_CACHE,new Runnable(){
    @Override public void run(){
      myTaskQueue.start();
    }
  }
);
  myVcsManager=vcsManager;
  Disposer.register(project,new Disposable(){
    public void dispose(){
      cancelRefreshTimer();
    }
  }
);
  myExternallyLoadedChangeLists=new ConcurrentHashMap<String,Pair<Long,List<CommittedChangeList>>>();
}
