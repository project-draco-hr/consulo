{
  final AbstractVcs[] vcss=myVcsManager.getAllActiveVcss();
  List<AbstractVcs> vcsWithProviders=new ArrayList<AbstractVcs>();
  for (  AbstractVcs vcs : vcss) {
    if (vcs.getCommittedChangesProvider() != null) {
      vcsWithProviders.add(vcs);
    }
  }
  if (vcsWithProviders.isEmpty()) {
    return null;
  }
  if (vcsWithProviders.size() == 1) {
    return vcsWithProviders.get(0).getCommittedChangesProvider();
  }
  return new CompositeCommittedChangesProvider(myProject,vcsWithProviders.toArray(new AbstractVcs[vcsWithProviders.size()]));
}
