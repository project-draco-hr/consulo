{
  for (  CommittedChangeList changeList : newChanges) {
    changeList.getChanges();
  }
  final Ref<IOException> ref=new Ref<IOException>();
  final List<CommittedChangeList> savedChanges=ApplicationManager.getApplication().runReadAction(new Computable<List<CommittedChangeList>>(){
    @Override public List<CommittedChangeList> compute(){
      try {
        return cacheFile.writeChanges(newChanges);
      }
 catch (      IOException e) {
        ref.set(e);
        return null;
      }
    }
  }
);
  if (!ref.isNull()) {
    throw ref.get();
  }
  return savedChanges;
}
