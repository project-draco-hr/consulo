{
  ChangesCacheFile cacheFile=myCachesHolder.getCacheFile(vcs,root,location);
  if (cacheFile.isEmpty()) {
    return true;
  }
  if (settings.USE_DATE_BEFORE_FILTER && !settings.USE_DATE_AFTER_FILTER) {
    return cacheFile.hasCompleteHistory();
  }
  if (settings.USE_CHANGE_BEFORE_FILTER && !settings.USE_CHANGE_AFTER_FILTER) {
    return cacheFile.hasCompleteHistory();
  }
  boolean hasDateFilter=settings.USE_DATE_AFTER_FILTER || settings.USE_DATE_BEFORE_FILTER || settings.USE_CHANGE_AFTER_FILTER|| settings.USE_CHANGE_BEFORE_FILTER;
  boolean hasNonDateFilter=settings.isNonDateFilterSpecified();
  if (!hasDateFilter && hasNonDateFilter) {
    return cacheFile.hasCompleteHistory();
  }
  if (settings.USE_DATE_AFTER_FILTER && settings.getDateAfter().getTime() < cacheFile.getFirstCachedDate().getTime()) {
    return cacheFile.hasCompleteHistory();
  }
  if (settings.USE_CHANGE_AFTER_FILTER && settings.getChangeAfterFilter().longValue() < cacheFile.getFirstCachedChangelist()) {
    return cacheFile.hasCompleteHistory();
  }
  return true;
}
