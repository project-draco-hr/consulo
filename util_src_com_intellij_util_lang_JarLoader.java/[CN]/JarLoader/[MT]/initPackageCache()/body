{
  if (myDirectories != null || !myUseCache)   return;
  myDirectories=new HashMap<String,Boolean>();
  myDirectories.put("",Boolean.FALSE);
  final ZipFile zipFile=getZipFile();
  if (zipFile == null)   return;
  final Enumeration<? extends ZipEntry> entries=zipFile.entries();
  while (entries.hasMoreElements()) {
    ZipEntry zipEntry=entries.nextElement();
    final String name=zipEntry.getName();
    final int i=name.lastIndexOf("/");
    String packageName=i > 0 ? name.substring(0,i) : "";
    if (name.endsWith(UrlClassLoader.CLASS_EXTENSION)) {
      myDirectories.put(packageName,Boolean.TRUE);
    }
 else {
      final Boolean status=myDirectories.get(packageName);
      myDirectories.put(packageName,status != Boolean.TRUE ? Boolean.FALSE : Boolean.TRUE);
    }
  }
  releaseZipFile(zipFile);
}
