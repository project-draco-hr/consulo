{
  if (myPackages != null || !myUseCache)   return;
  myPackages=new TObjectIntHashMap<String>();
  myPackages.put("",0);
  final ZipFile zipFile=getZipFile();
  if (zipFile == null)   return;
  final Enumeration<? extends ZipEntry> entries=zipFile.entries();
  while (entries.hasMoreElements()) {
    ZipEntry zipEntry=entries.nextElement();
    final String name=zipEntry.getName();
    final int i=name.lastIndexOf("/");
    String packageName=i > 0 ? name.substring(0,i) : "";
    if (name.endsWith(UrlClassLoader.CLASS_EXTENSION)) {
      myPackages.put(packageName,1);
    }
 else {
      if (!myPackages.containsKey(packageName)) {
        myPackages.put(packageName,0);
      }
    }
  }
  releaseZipFile(zipFile);
}
