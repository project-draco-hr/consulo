{
  List<? extends CustomNode> children=getStructuralChildren();
  if (children.isEmpty())   return EMPTY_NODES_ARRAY;
  List<CustomNode> result=new ArrayList<CustomNode>();
  for (  CustomNode each : children) {
    if (each.isVisible())     result.add(each);
  }
  return result.toArray(new CustomNode[result.size()]);
}
