{
  Collection<Pair<String,MavenProfileState>> profiles=myProjectsManager.getProfilesWithStates();
  List<ProfileNode> newNodes=new ArrayList<ProfileNode>(profiles.size());
  for (  Pair<String,MavenProfileState> each : profiles) {
    ProfileNode node=findOrCreateNodeFor(each.first);
    node.setState(each.second);
    newNodes.add(node);
  }
  myProfileNodes=newNodes;
  sort(myProfileNodes);
  childrenChanged();
}
