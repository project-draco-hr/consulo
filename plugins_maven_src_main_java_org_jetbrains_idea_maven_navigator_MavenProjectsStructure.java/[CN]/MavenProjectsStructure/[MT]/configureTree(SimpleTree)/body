{
  tree.setRootVisible(false);
  tree.setShowsRootHandles(true);
  MavenUIUtil.installCheckboxRenderer(tree,new MavenUIUtil.CheckboxHandler(){
    public void toggle(    TreePath treePath,    InputEvent e){
      SimpleNode node=tree.getNodeFor(treePath);
      if (node != null) {
        node.handleDoubleClickOrEnter(tree,e);
      }
    }
    public boolean isVisible(    Object userObject){
      return userObject instanceof ProfileNode;
    }
    public MavenUIUtil.CheckBoxState getState(    Object userObject){
      MavenProfileState state=((ProfileNode)userObject).getState();
switch (state) {
case NONE:
        return MavenUIUtil.CheckBoxState.UNCHECKED;
case EXPLICIT:
      return MavenUIUtil.CheckBoxState.CHECKED;
case IMPLICIT:
    return MavenUIUtil.CheckBoxState.PARTIAL;
}
MavenLog.LOG.error("unknown profile state: " + state);
return MavenUIUtil.CheckBoxState.UNCHECKED;
}
}
);
}
