{
  Producer<Transferable> producer=(Producer<Transferable>)dataContext.getData(TRANSFERABLE_PROVIDER);
  if (editor.isColumnMode() || editor.getSelectionModel().hasBlockSelection()) {
    EditorModificationUtil.pasteTransferableAsBlock(editor,producer == null ? null : producer.produce());
  }
 else {
    editor.putUserData(EditorEx.LAST_PASTED_REGION,producer == null ? EditorModificationUtil.pasteFromClipboard(editor) : EditorModificationUtil.pasteFromTransferrable(producer.produce(),editor));
  }
}
