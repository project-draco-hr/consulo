{
  super.visitBinaryExpression(expression);
  final IElementType operationTokenType=expression.getOperationTokenType();
  final PsiExpression lhs=ParenthesesUtils.stripParentheses(expression.getLOperand());
  final PsiExpression rhs=ParenthesesUtils.stripParentheses(expression.getROperand());
  final PsiBinaryExpression binaryExpression;
  final PsiExpression possibleInstanceofExpression;
  if (operationTokenType.equals(JavaTokenType.ANDAND)) {
    if (lhs instanceof PsiBinaryExpression) {
      binaryExpression=(PsiBinaryExpression)lhs;
      possibleInstanceofExpression=rhs;
    }
 else     if (rhs instanceof PsiBinaryExpression) {
      binaryExpression=(PsiBinaryExpression)rhs;
      possibleInstanceofExpression=lhs;
    }
 else {
      return;
    }
    final IElementType tokenType=binaryExpression.getOperationTokenType();
    if (!tokenType.equals(JavaTokenType.NE)) {
      return;
    }
  }
 else   if (operationTokenType.equals(JavaTokenType.OROR)) {
    if (lhs instanceof PsiBinaryExpression && rhs instanceof PsiPrefixExpression) {
      final PsiPrefixExpression prefixExpression=(PsiPrefixExpression)rhs;
      final IElementType prefixTokenType=prefixExpression.getOperationTokenType();
      if (!JavaTokenType.EXCL.equals(prefixTokenType)) {
        return;
      }
      binaryExpression=(PsiBinaryExpression)lhs;
      possibleInstanceofExpression=ParenthesesUtils.stripParentheses(prefixExpression.getOperand());
    }
 else     if (rhs instanceof PsiBinaryExpression && lhs instanceof PsiPrefixExpression) {
      final PsiPrefixExpression prefixExpression=(PsiPrefixExpression)lhs;
      final IElementType prefixTokenType=prefixExpression.getOperationTokenType();
      if (!JavaTokenType.EXCL.equals(prefixTokenType)) {
        return;
      }
      binaryExpression=(PsiBinaryExpression)rhs;
      possibleInstanceofExpression=ParenthesesUtils.stripParentheses(prefixExpression.getOperand());
    }
 else {
      return;
    }
    final IElementType tokenType=binaryExpression.getOperationTokenType();
    if (!tokenType.equals(JavaTokenType.EQEQ)) {
      return;
    }
  }
 else {
    return;
  }
  final PsiReferenceExpression referenceExpression1=getReferenceFromNullCheck(binaryExpression);
  if (referenceExpression1 == null) {
    return;
  }
  final PsiReferenceExpression referenceExpression2=getReferenceFromInstanceofExpression(possibleInstanceofExpression);
  if (!referencesEqual(referenceExpression1,referenceExpression2)) {
    return;
  }
  registerError(binaryExpression,binaryExpression);
}
