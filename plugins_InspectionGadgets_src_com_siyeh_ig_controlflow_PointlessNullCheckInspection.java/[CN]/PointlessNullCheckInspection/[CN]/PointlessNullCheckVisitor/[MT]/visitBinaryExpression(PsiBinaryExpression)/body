{
  super.visitBinaryExpression(expression);
  final IElementType operationTokenType=expression.getOperationTokenType();
  final PsiExpression lhs=ParenthesesUtils.stripParentheses(expression.getLOperand());
  final PsiExpression rhs=ParenthesesUtils.stripParentheses(expression.getROperand());
  final PsiBinaryExpression binaryExpression;
  final PsiInstanceOfExpression instanceofExpression;
  if (operationTokenType.equals(JavaTokenType.ANDAND)) {
    if (lhs instanceof PsiBinaryExpression && rhs instanceof PsiInstanceOfExpression) {
      binaryExpression=(PsiBinaryExpression)lhs;
      instanceofExpression=(PsiInstanceOfExpression)rhs;
    }
 else     if (rhs instanceof PsiBinaryExpression && lhs instanceof PsiInstanceOfExpression) {
      binaryExpression=(PsiBinaryExpression)rhs;
      instanceofExpression=(PsiInstanceOfExpression)lhs;
    }
 else {
      return;
    }
    final IElementType tokenType=binaryExpression.getOperationTokenType();
    if (!tokenType.equals(JavaTokenType.NE)) {
      return;
    }
  }
 else   if (operationTokenType.equals(JavaTokenType.OROR)) {
    if (lhs instanceof PsiBinaryExpression && rhs instanceof PsiPrefixExpression) {
      final PsiPrefixExpression prefixExpression=(PsiPrefixExpression)rhs;
      final IElementType prefixTokenType=prefixExpression.getOperationTokenType();
      if (!JavaTokenType.EXCL.equals(prefixTokenType)) {
        return;
      }
      final PsiExpression operand=ParenthesesUtils.stripParentheses(prefixExpression.getOperand());
      if (!(operand instanceof PsiInstanceOfExpression)) {
        return;
      }
      binaryExpression=(PsiBinaryExpression)lhs;
      instanceofExpression=(PsiInstanceOfExpression)operand;
    }
 else     if (rhs instanceof PsiBinaryExpression && lhs instanceof PsiPrefixExpression) {
      final PsiPrefixExpression prefixExpression=(PsiPrefixExpression)lhs;
      final IElementType prefixTokenType=prefixExpression.getOperationTokenType();
      if (!JavaTokenType.EXCL.equals(prefixTokenType)) {
        return;
      }
      final PsiExpression operand=ParenthesesUtils.stripParentheses(prefixExpression.getOperand());
      if (!(operand instanceof PsiInstanceOfExpression)) {
        return;
      }
      binaryExpression=(PsiBinaryExpression)rhs;
      instanceofExpression=(PsiInstanceOfExpression)operand;
    }
 else {
      return;
    }
    final IElementType tokenType=binaryExpression.getOperationTokenType();
    if (!tokenType.equals(JavaTokenType.EQEQ)) {
      return;
    }
  }
 else {
    return;
  }
  final PsiReferenceExpression referenceExpression1=getReferenceFromNullCheck(binaryExpression);
  if (referenceExpression1 == null) {
    return;
  }
  final PsiExpression operand=ParenthesesUtils.stripParentheses(instanceofExpression.getOperand());
  if (!(operand instanceof PsiReferenceExpression)) {
    return;
  }
  final PsiReferenceExpression referenceExpression2=(PsiReferenceExpression)operand;
  final PsiElement target1=referenceExpression1.resolve();
  final PsiElement target2=referenceExpression2.resolve();
  if (target1 == null || !target1.equals(target2)) {
    return;
  }
  registerError(binaryExpression);
}
