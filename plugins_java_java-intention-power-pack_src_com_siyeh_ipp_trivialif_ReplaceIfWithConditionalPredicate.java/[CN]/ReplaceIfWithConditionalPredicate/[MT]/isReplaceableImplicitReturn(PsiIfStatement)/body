{
  if (ifStatement.getElseBranch() != null) {
    return false;
  }
  PsiStatement thenBranch=ifStatement.getThenBranch();
  thenBranch=ConditionalUtils.stripBraces(thenBranch);
  if (!(thenBranch instanceof PsiReturnStatement)) {
    return false;
  }
  final PsiReturnStatement thenReturnStatement=(PsiReturnStatement)thenBranch;
  final PsiExpression thenReturn=thenReturnStatement.getReturnValue();
  if (thenReturn == null) {
    return false;
  }
  final PsiType thenType=thenReturn.getType();
  if (thenType == null) {
    return false;
  }
  final PsiElement nextStatement=PsiTreeUtil.skipSiblingsForward(ifStatement,PsiWhiteSpace.class);
  if (!(nextStatement instanceof PsiReturnStatement)) {
    return false;
  }
  final PsiReturnStatement elseReturnStatement=(PsiReturnStatement)nextStatement;
  final PsiExpression elseReturn=elseReturnStatement.getReturnValue();
  if (elseReturn == null) {
    return false;
  }
  final PsiType elseType=elseReturn.getType();
  if (elseType == null) {
    return false;
  }
  return thenType.isAssignableFrom(elseType) || elseType.isAssignableFrom(thenType);
}
