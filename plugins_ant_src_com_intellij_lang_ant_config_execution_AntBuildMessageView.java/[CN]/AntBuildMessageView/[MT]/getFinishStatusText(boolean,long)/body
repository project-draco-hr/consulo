{
  int errors=getErrorCount();
  int warnings=getWarningCount();
  final String theDateAsString=DateFormatUtil.formatDateTime(Clock.getTime());
  String formattedBuildTime=formatBuildTime(buildTimeInMilliseconds / 1000);
  if (isAborted) {
    return AntBundle.message("build.finished.status.ant.build.aborted",formattedBuildTime,theDateAsString);
  }
 else   if (errors == 0 && warnings == 0) {
    return AntBundle.message("build.finished.status.ant.build.completed.successfully",formattedBuildTime,theDateAsString);
  }
 else   if (errors == 0) {
    return AntBundle.message("build.finished.status.ant.build.completed.with.warnings",warnings,formattedBuildTime,theDateAsString);
  }
 else {
    return AntBundle.message("build.finished.status.ant.build.completed.with.errors.warnings",errors,warnings,formattedBuildTime,theDateAsString);
  }
}
