{
  if (text.startsWith(FILE_PREFIX)) {
    text=text.substring(FILE_PREFIX.length());
  }
  int afterLineNumberIndex=text.indexOf(": ");
  if (afterLineNumberIndex != -1) {
    String fileAndLineNumber=text.substring(0,afterLineNumberIndex);
    int index=fileAndLineNumber.lastIndexOf(':');
    if (index != -1) {
      String fileName=fileAndLineNumber.substring(0,index);
      String lineNumberStr=fileAndLineNumber.substring(index + 1,fileAndLineNumber.length()).trim();
      try {
        int line=Integer.parseInt(lineNumberStr);
        final File file=new File(fileName);
        final VirtualFile result=ApplicationManager.getApplication().runReadAction(new Computable<VirtualFile>(){
          public VirtualFile compute(){
            String url=VirtualFileManager.constructUrl(LocalFileSystem.PROTOCOL,file.getAbsolutePath().replace(File.separatorChar,'/'));
            return VirtualFileManager.getInstance().findFileByUrl(url);
          }
        }
);
        text=fileName.replace('/',File.separatorChar) + ':' + line+ text.substring(afterLineNumberIndex);
        return new AntMessage(type,priority,text,result,line,1);
      }
 catch (      NumberFormatException e) {
      }
    }
  }
  return new AntMessage(type,priority,text,null,0,0);
}
