{
  while (true) {
    final int slashIndex=path.indexOf('/',idx);
    final String name=slashIndex < idx ? path.substring(idx) : path.substring(idx,slashIndex);
    node=node.getChild(name);
    if (node == null) {
      return null;
    }
    if (node.isOutputRoot()) {
      if (node.hasChildren() && slashIndex > idx) {
        final String candidate=findOutputPath(path,slashIndex + 1,node);
        if (candidate != null) {
          return candidate;
        }
      }
      return node.getData();
    }
    if (slashIndex < 0) {
      return null;
    }
    idx=slashIndex + 1;
  }
}
