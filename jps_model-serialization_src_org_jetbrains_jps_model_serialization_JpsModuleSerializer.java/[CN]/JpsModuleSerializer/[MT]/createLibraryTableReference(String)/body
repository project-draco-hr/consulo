{
  JpsElementFactory elementFactory=JpsElementFactory.getInstance();
  if (level.equals(PROJECT_LEVEL)) {
    return elementFactory.createProjectReference();
  }
  if (level.equals(APPLICATION_LEVEL)) {
    return elementFactory.createGlobalReference();
  }
  for (  JpsModelSerializerExtension extension : JpsModelSerializerExtension.getExtensions()) {
    final JpsElementReference<? extends JpsCompositeElement> reference=extension.createLibraryTableReference(level);
    if (reference != null) {
      return reference;
    }
  }
  throw new UnsupportedOperationException();
}
