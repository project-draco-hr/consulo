{
  if (!checkBases) {
    Map<String,PsiMethod[]> cachedMethods=myCachedMethodsMap;
    if (cachedMethods == null) {
      cachedMethods=new THashMap<String,PsiMethod[]>();
      Map<String,List<PsiMethod>> cachedMethodsMap=new THashMap<String,List<PsiMethod>>();
      final PsiMethod[] methods=getMethods();
      for (      final PsiMethod method : methods) {
        List<PsiMethod> list=cachedMethodsMap.get(method.getName());
        if (list == null) {
          list=new ArrayList<PsiMethod>(1);
          cachedMethodsMap.put(method.getName(),list);
        }
        list.add(method);
      }
      for (      final String methodName : cachedMethodsMap.keySet()) {
        List<PsiMethod> cached=cachedMethodsMap.get(methodName);
        cachedMethods.put(methodName,cached.toArray(new PsiMethod[cached.size()]));
      }
      myCachedMethodsMap=cachedMethods;
    }
    final PsiMethod[] psiMethods=cachedMethods.get(name);
    return psiMethods != null ? psiMethods : PsiMethod.EMPTY_ARRAY;
  }
  return PsiClassImplUtil.findMethodsByName(this,name,checkBases);
}
