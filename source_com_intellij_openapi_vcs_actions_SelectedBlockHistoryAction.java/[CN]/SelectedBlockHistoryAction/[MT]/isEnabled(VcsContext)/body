{
  if (!super.isEnabled(context))   return false;
  VcsSelection selection=VcsUtil.getSelection(context);
  if (selection == null) {
    return false;
  }
  VirtualFile file=FileDocumentManager.getInstance().getFile(selection.getDocument());
  AbstractVcs activeVcs=ProjectLevelVcsManager.getInstance(context.getProject()).getVcsFor(file);
  if (activeVcs == null)   return false;
  VcsHistoryProvider provider=getProvider(activeVcs);
  if (provider == null)   return false;
  return activeVcs.fileExistsInVcs(new FilePathImpl(file));
}
