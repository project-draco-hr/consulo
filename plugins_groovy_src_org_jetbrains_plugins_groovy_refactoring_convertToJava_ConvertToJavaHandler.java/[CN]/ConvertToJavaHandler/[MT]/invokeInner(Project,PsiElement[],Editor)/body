{
  Set<GroovyFile> files=ContainerUtil.newHashSet();
  for (  PsiElement element : elements) {
    if (!(element instanceof PsiFile)) {
      element=element.getContainingFile();
    }
    if (element instanceof GroovyFile) {
      files.add((GroovyFile)element);
    }
 else {
      if (!ApplicationManager.getApplication().isUnitTestMode()) {
        CommonRefactoringUtil.showErrorHint(project,editor,GroovyRefactoringBundle.message("convert.to.java.can.work.only.with.groovy"),REFACTORING_NAME,null);
        return;
      }
    }
  }
  new ConvertToJavaProcessor(project,files.toArray(new GroovyFile[files.size()])).run();
}
