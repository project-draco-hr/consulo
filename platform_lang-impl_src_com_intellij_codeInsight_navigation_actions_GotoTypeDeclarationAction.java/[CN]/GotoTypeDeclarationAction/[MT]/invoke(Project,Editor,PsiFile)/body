{
  PsiDocumentManager.getInstance(project).commitAllDocuments();
  int offset=editor.getCaretModel().getOffset();
  try {
    PsiElement[] symbolTypes=findSymbolTypes(editor,offset);
    if (symbolTypes == null || symbolTypes.length == 0)     return;
    if (symbolTypes.length == 1) {
      navigate(project,symbolTypes[0]);
    }
 else {
      NavigationUtil.getPsiElementPopup(symbolTypes,CodeInsightBundle.message("choose.type.popup.title")).showInBestPositionFor(editor);
    }
  }
 catch (  IndexNotReadyException e) {
    DumbService.getInstance(project).showDumbModeNotification("Type information is not available during index update");
  }
}
