{
  final LinkedList<RefClass> pendingClasses=new LinkedList<RefClass>();
  final Set<RefClass> processedClasses=new HashSet<RefClass>();
  pendingClasses.addLast(refClass);
  while (!pendingClasses.isEmpty()) {
    final RefClass classToProcess=pendingClasses.removeFirst();
    newDependents.add(classToProcess);
    processedClasses.add(classToProcess);
    final Set<RefClass> dependents=calculateDependentsForClass(classToProcess);
    for (    RefClass dependent : dependents) {
      if (!pendingClasses.contains(dependent) && !processedClasses.contains(dependent)) {
        pendingClasses.addLast(dependent);
      }
    }
  }
  newDependents.remove(refClass);
}
