{
  final ShowSettingsUtil settingsUtil=ShowSettingsUtil.getInstance();
  if (!canChooseDifferentProfile) {
    @NonNls final String dimensionServiceKey="#Errors";
    return settingsUtil.editConfigurable(project,dimensionServiceKey,new IDEInspectionToolsConfigurable(selectedToolShortName,InspectionProfileManager.getInstance()));
  }
 else {
    final ErrorsConfigurable errorsConfigurable=ProjectInspectionToolsConfigurable.getInstance(project);
    return settingsUtil.editConfigurable(project,errorsConfigurable,new Runnable(){
      public void run(){
        errorsConfigurable.selectProfile(inspectionProfile.getName());
        SwingUtilities.invokeLater(new Runnable(){
          public void run(){
            errorsConfigurable.selectInspectionTool(selectedToolShortName);
          }
        }
);
      }
    }
);
  }
}
