{
  for (  VirtualFile f : dir.getChildren()) {
    if (!myFilter.isFileAllowed(f))     return;
    Entry e=myVcs.findEntry(f.getPath());
    if (!areOfTheSameKind(e,f)) {
      if (f.isDirectory()) {
        myVcs.createDirectory(f.getPath(),f.getTimeStamp());
        createNewFiles(f);
      }
 else {
        myVcs.createFile(f.getPath(),f.contentsToByteArray(),f.getTimeStamp());
      }
    }
  }
}
