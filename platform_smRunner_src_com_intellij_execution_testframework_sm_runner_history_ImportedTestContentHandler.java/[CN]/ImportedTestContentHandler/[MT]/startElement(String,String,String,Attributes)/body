{
  if (TestResultsXmlFormatter.ELEM_SUITE.equals(qName)) {
    final String suiteName=StringUtil.unescapeXml(attributes.getValue(TestResultsXmlFormatter.ATTR_NAME));
    myProcessor.onSuiteStarted(new TestSuiteStartedEvent(suiteName,StringUtil.unescapeXml(attributes.getValue(TestResultsXmlFormatter.ATTR_LOCATION))));
    mySuites.push(suiteName);
  }
 else   if (TestResultsXmlFormatter.ELEM_TEST.equals(qName)) {
    final String name=StringUtil.unescapeXml(attributes.getValue(TestResultsXmlFormatter.ATTR_NAME));
    myCurrentTest=name;
    myDuration=attributes.getValue(TestResultsXmlFormatter.ATTR_DURATION);
    myStatus=attributes.getValue(TestResultsXmlFormatter.ATTR_STATUS);
    final String isConfig=attributes.getValue(TestResultsXmlFormatter.ATTR_CONFIG);
    final TestStartedEvent startedEvent=new TestStartedEvent(name,StringUtil.unescapeXml(attributes.getValue(TestResultsXmlFormatter.ATTR_LOCATION)));
    if (isConfig != null && Boolean.valueOf(isConfig)) {
      startedEvent.setConfig(true);
    }
    myProcessor.onTestStarted(startedEvent);
    currentValue.setLength(0);
  }
 else   if (TestResultsXmlFormatter.ELEM_OUTPUT.equals(qName)) {
    myErrorOutput=Comparing.equal(attributes.getValue(TestResultsXmlFormatter.ATTR_OUTPUT_TYPE),"stderr");
    currentValue.setLength(0);
  }
 else   if (TestResultsXmlFormatter.ROOT_ELEM.equals(qName)) {
    myProcessor.onRootPresentationAdded(attributes.getValue("name"),attributes.getValue("comment"),attributes.getValue("location"));
  }
}
