{
  addLibrary();
  myFixture.configureByFiles("lib/p/TestPrimitive.java","content/anno/p/annotations.xml");
  myFixture.configureByFiles("lib/p/Test.java");
  final Project project=myFixture.getProject();
  final PsiFile file=myFixture.getFile();
  final Editor editor=myFixture.getEditor();
  final IntentionAction fix=myFixture.findSingleIntention("Annotate method 'get' as @NotNull");
  assertTrue(fix.isAvailable(project,editor,file));
  new WriteCommandAction(project){
    @Override protected void run(    final Result result) throws Throwable {
      fix.invoke(project,editor,file);
    }
  }
.execute();
  FileDocumentManager.getInstance().saveAllDocuments();
  final PsiElement psiElement=file.findElementAt(editor.getCaretModel().getOffset());
  assertNotNull(psiElement);
  final PsiModifierListOwner listOwner=PsiTreeUtil.getParentOfType(psiElement,PsiModifierListOwner.class);
  assertNotNull(listOwner);
  assertNotNull(ExternalAnnotationsManager.getInstance(project).findExternalAnnotation(listOwner,AnnotationUtil.NOT_NULL));
}
