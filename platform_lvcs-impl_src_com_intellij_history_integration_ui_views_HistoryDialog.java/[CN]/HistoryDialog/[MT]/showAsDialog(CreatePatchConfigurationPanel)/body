{
  final DialogBuilder b=new DialogBuilder(myGateway.getProject());
  b.setTitle(message("create.patch.dialog.title"));
  b.setCenterPanel(p.getPanel());
  p.installOkEnabledListener(new Consumer<Boolean>(){
    public void consume(    final Boolean aBoolean){
      b.setOkActionEnabled(aBoolean);
    }
  }
);
  return b.show() == OK_EXIT_CODE;
}
