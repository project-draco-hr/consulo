{
  myUpdateQueue.queue(new Update(HistoryDialog.this,id){
    @Override public boolean canEat(    Update update1){
      return getPriority() >= update1.getPriority();
    }
    public void run(){
      try {
        invokeAndWait(new Runnable(){
          public void run(){
            isUpdating=true;
            updateActions();
            myDiffView.startUpdating();
          }
        }
);
        final Runnable apply=update.compute();
        invokeAndWait(new Runnable(){
          public void run(){
            if (isDisposed())             return;
            isUpdating=false;
            if (apply != null)             apply.run();
            updateActions();
            myDiffView.finishUpdating();
          }
        }
);
      }
 catch (      Exception e) {
        throw new RuntimeException(e);
      }
    }
  }
);
}
