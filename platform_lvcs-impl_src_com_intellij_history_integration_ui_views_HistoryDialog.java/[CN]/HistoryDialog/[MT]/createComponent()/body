{
  JPanel root=new JPanel(new BorderLayout());
  Pair<JComponent,Dimension> diffAndToolbarSize=createDiffPanel(root);
  myDiffView=new MyDiffContainer(diffAndToolbarSize.first);
  Disposer.register(this,myDiffView);
  if (showRevisionsList()) {
    mySplitter=new Splitter(false,0.3f);
    mySplitter.setFirstComponent(createRevisionsSide(diffAndToolbarSize.second));
    mySplitter.setSecondComponent(myDiffView);
    mySplitter.setPreferredSize(getInitialSize());
    restoreSplitterProportion();
    root.add(mySplitter);
    setDiffBorder(IdeBorderFactory.createSimpleBorder(1,1,0,0));
  }
 else {
    setDiffBorder(IdeBorderFactory.createSimpleBorder(1,0,1,0));
    root.add(myDiffView);
  }
  return root;
}
