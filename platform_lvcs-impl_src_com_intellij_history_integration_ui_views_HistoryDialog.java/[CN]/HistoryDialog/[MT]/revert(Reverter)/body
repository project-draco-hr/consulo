{
  try {
    if (!askForProceeding(r))     return;
    List<String> errors=r.checkCanRevert();
    if (!errors.isEmpty()) {
      showError(message("message.cannot.revert.because",formatErrors(errors)));
      return;
    }
    r.revert();
    showNotification(r.getCommandName());
  }
 catch (  IOException e) {
    showError(message("message.error.during.revert",e));
  }
}
