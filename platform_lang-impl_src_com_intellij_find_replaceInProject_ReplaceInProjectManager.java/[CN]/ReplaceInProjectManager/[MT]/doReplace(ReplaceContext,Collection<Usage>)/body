{
  boolean success=true;
  int replacedCount=0;
  ensureUsagesWritable(usages);
  for (  final Usage usage : usages) {
    try {
      doReplace(usage,replaceContext.getFindModel(),replaceContext.getExcludedSet(),false);
      replaceContext.getUsageView().removeUsage(usage);
      replacedCount++;
    }
 catch (    FindManager.MalformedReplacementStringException e) {
      markAsMalformedReplacement(replaceContext,usage);
      success=false;
    }
  }
  reportNumberReplacedOccurrences(myProject,replacedCount);
  return success;
}
