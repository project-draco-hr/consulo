{
  return new PsiBuilderAdapter(builder){
    @Override public IElementType getTokenType(){
      final Pair<IElementType,String> input=Pair.create(builder.getTokenType(),builder.getTokenText());
      return condition.value(input) ? null : super.getTokenType();
    }
    @Override public boolean eof(){
      final Pair<IElementType,String> input=Pair.create(builder.getTokenType(),builder.getTokenText());
      return condition.value(input) || super.eof();
    }
  }
;
}
