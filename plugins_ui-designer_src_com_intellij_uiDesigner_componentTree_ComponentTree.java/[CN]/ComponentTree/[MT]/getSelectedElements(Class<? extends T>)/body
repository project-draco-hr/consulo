{
  final TreePath[] paths=getSelectionPaths();
  if (paths == null) {
    return Collections.emptyList();
  }
  final ArrayList<T> result=new ArrayList<T>(paths.length);
  for (  TreePath path : paths) {
    final DefaultMutableTreeNode node=(DefaultMutableTreeNode)path.getLastPathComponent();
    Object userObject=node.getUserObject();
    if (userObject instanceof NodeDescriptor && elementClass.isInstance(((NodeDescriptor)userObject).getElement())) {
      result.add((T)((NodeDescriptor)node.getUserObject()).getElement());
    }
  }
  return result;
}
