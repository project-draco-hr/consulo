{
  if (value instanceof DfaBoxedValue) {
    return ((DfaBoxedValue)value).getWrappedValue();
  }
  if (value instanceof DfaConstValue) {
    if (value == value.myFactory.getConstFactory().getNull())     return DfaUnknownValue.getInstance();
    return value;
  }
  if (value instanceof DfaVariableValue) {
    DfaVariableValue var=(DfaVariableValue)value;
    DfaUnboxedValue result=cachedUnboxedValues.get(var);
    if (result == null) {
      cachedUnboxedValues.put(var,result=new DfaUnboxedValue(var,myFactory));
    }
    return result;
  }
  return DfaUnknownValue.getInstance();
}
