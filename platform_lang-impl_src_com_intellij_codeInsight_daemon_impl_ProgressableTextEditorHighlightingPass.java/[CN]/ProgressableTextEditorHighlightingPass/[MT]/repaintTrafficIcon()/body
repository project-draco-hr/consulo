{
  if (ApplicationManager.getApplication().isCommandLine())   return;
  if (repaintIconAlarm.getActiveRequestCount() == 0 || getProgressCount() >= getProgressLimit()) {
    repaintIconAlarm.addRequest(new Runnable(){
      public void run(){
        if (myProject.isDisposed())         return;
        Editor editor=getEditorForFile(myFile);
        if (editor == null || editor.isDisposed())         return;
        EditorMarkupModelImpl markup=(EditorMarkupModelImpl)editor.getMarkupModel();
        markup.repaintTrafficLightIcon();
      }
    }
,50,null);
  }
}
