{
  if (!(psiFile instanceof GroovyFileBase)) {
    return super.checkFile(psiFile,inspectionManager,isOnTheFly);
  }
  final GroovyFileBase groovyFile=(GroovyFileBase)psiFile;
  final ProblemsHolder problemsHolder=new ProblemsHolder(inspectionManager,psiFile,isOnTheFly);
  final BaseInspectionVisitor visitor=buildGroovyVisitor(problemsHolder,isOnTheFly);
  groovyFile.accept(visitor);
  return problemsHolder.getResultsArray();
}
