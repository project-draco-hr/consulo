{
  if (!file.isDirectory()) {
    if (myUpgradeExtension && !DirectoryStorageData.DEFAULT_EXT.equals(mySchemeExtension) && DirectoryStorageData.isStorageFile(file)) {
      return myDir.findChild(file.getNameSequence() + mySchemeExtension) == null;
    }
 else     if (StringUtilRt.endsWithIgnoreCase(file.getNameSequence(),mySchemeExtension)) {
      return true;
    }
  }
  return false;
}
