{
  if (inputString.length() == 0) {
    return super.canClose(inputString);
  }
  final PsiDirectory psiDirectory=getDirectory();
  final Project project=psiDirectory.getProject();
  final boolean[] result={false};
  DumbService.allowStartingDumbModeInside(DumbModePermission.MAY_START_BACKGROUND,new Runnable(){
    @Override public void run(){
      final FileType type=FileTypeChooser.getKnownFileTypeOrAssociate(new FakeVirtualFile(psiDirectory.getVirtualFile(),getFileName(inputString)),project);
      result[0]=type != null && MyValidator.super.canClose(getFileName(inputString));
    }
  }
);
  return result[0];
}
