{
  ResourceBundle resourceBundle;
  if (file instanceof ResourceBundleAsVirtualFile) {
    resourceBundle=((ResourceBundleAsVirtualFile)file).getResourceBundle();
  }
 else {
    PropertiesFile psiFile=(PropertiesFile)PsiManager.getInstance(project).findFile(file);
    if (psiFile == null) {
      throw new IllegalArgumentException("psifile cannot be null");
    }
    resourceBundle=psiFile.getResourceBundle();
  }
  return new ResourceBundleEditor(project,resourceBundle);
}
