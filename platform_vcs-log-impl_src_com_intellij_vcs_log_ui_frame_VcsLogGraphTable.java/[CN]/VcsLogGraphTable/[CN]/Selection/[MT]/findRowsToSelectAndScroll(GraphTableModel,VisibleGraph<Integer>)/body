{
  TIntHashSet rowsToSelect=new TIntHashSet();
  if (model.getRowCount() == 0) {
    return Pair.create(rowsToSelect,null);
  }
  Integer rowToScroll=null;
  for (int row=0; row < visibleGraph.getVisibleCommitCount() && (rowsToSelect.size() < mySelectedCommits.size() || rowToScroll == null); row++) {
    int commit=visibleGraph.getRowInfo(row).getCommit();
    if (mySelectedCommits.contains(commit)) {
      rowsToSelect.add(row);
    }
    if (myVisibleSelectedCommit != null && myVisibleSelectedCommit == commit) {
      rowToScroll=row;
    }
  }
  return Pair.create(rowsToSelect,rowToScroll);
}
