{
  boolean sizeCalculated=false;
  Font tableFont=UIManager.getFont("Table.font");
  for (int i=0; i < getColumnCount(); i++) {
    TableColumn column=getColumnModel().getColumn(i);
    if (i == GraphTableModel.ROOT_COLUMN) {
      setRootColumnSize(column);
    }
 else     if (i == GraphTableModel.AUTHOR_COLUMN) {
      int maxRowsToCheck=Math.min(MAX_ROWS_TO_CALC_WIDTH,getRowCount() - MAX_ROWS_TO_CALC_OFFSET);
      if (maxRowsToCheck < 0) {
        maxRowsToCheck=getRowCount();
      }
      int maxWidth=0;
      for (int row=0; row < maxRowsToCheck; row++) {
        String value=getModel().getValueAt(row,i).toString();
        maxWidth=Math.max(getFontMetrics(tableFont.deriveFont(Font.BOLD)).stringWidth(value),maxWidth);
        if (!value.isEmpty())         sizeCalculated=true;
      }
      int min=Math.min(maxWidth + UIUtil.DEFAULT_HGAP,MAX_DEFAULT_AUTHOR_COLUMN_WIDTH);
      column.setPreferredWidth(min);
    }
 else     if (i == GraphTableModel.DATE_COLUMN) {
      int min=getFontMetrics(tableFont.deriveFont(Font.BOLD)).stringWidth("mm" + DateFormatUtil.formatDateTime(new Date()));
      column.setPreferredWidth(min);
    }
  }
  updateCommitColumnWidth();
  return sizeCalculated;
}
