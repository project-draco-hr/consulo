{
  if (myContext == null)   return -1;
  Module contextModule=ModuleUtil.findModuleForPsiElement(myContext);
  if (contextModule == null)   return -1;
  if (!element.isPhysical())   return -1;
  final PsiElement context=PsiTreeUtil.findCommonContext(myContext,element);
  if (PsiTreeUtil.getParentOfType(context,PsiMethod.class,false) != null)   return 0;
  if (PsiTreeUtil.getParentOfType(context,PsiClass.class,false) != null)   return 1;
  VirtualFile virtualFile=PsiUtil.getVirtualFile(element);
  if (isOpenedInEditor(virtualFile))   return 2;
  Module elementModule=ModuleUtil.findModuleForPsiElement(element);
  if (contextModule == elementModule)   return 3;
  if (elementModule != null) {
    return elementModule.getProject() == contextModule.getProject() ? 4 : 5;
  }
  ProjectFileIndex fileIndex=ProjectRootManager.getInstance(myProject).getFileIndex();
  List<OrderEntry> orderEntries=virtualFile == null ? Collections.<OrderEntry>emptyList() : fileIndex.getOrderEntriesForFile(virtualFile);
  if (orderEntries.isEmpty())   return 8;
  OrderEntry orderEntry=orderEntries.get(0);
  return orderEntry instanceof JdkOrderEntry ? 7 : 6;
}
