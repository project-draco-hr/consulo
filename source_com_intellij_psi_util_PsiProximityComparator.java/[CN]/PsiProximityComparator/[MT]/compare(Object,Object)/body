{
  PsiElement element1=o1 instanceof PsiElement ? (PsiElement)o1 : null;
  PsiElement element2=o2 instanceof PsiElement ? (PsiElement)o2 : null;
  if (element1 == null)   return element2 == null ? 0 : 1;
  if (element2 == null)   return -1;
  final PsiProximity proximity1=getProximity(element1);
  final PsiProximity proximity2=getProximity(element2);
  return proximity1 != null && proximity2 != null ? proximity1.compareTo(proximity2) : 0;
}
