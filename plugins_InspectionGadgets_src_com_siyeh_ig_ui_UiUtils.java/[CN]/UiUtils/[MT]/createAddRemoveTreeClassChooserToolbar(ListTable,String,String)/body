{
  final TreeClassChooser.ClassFilter filter;
  if (ancestorClasses.length == 0) {
    filter=TreeClassChooser.ClassFilter.ALL;
  }
 else {
    filter=new SubclassFilter(ancestorClasses);
  }
  final AnAction addAction=new TreeClassChooserAction(table,chooserTitle,filter);
  final AnAction removeAction=new RemoveAction(table);
  final ActionGroup group=new DefaultActionGroup(addAction,removeAction);
  final ActionManager actionManager=ActionManager.getInstance();
  return actionManager.createActionToolbar(ActionPlaces.UNKNOWN,group,true);
}
