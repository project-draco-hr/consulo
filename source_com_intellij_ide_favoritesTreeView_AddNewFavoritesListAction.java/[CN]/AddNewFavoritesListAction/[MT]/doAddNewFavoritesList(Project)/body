{
  final String s=Messages.showInputDialog(project,"Input new favorites list name","Add New Favorites List",Messages.getInformationIcon(),"new",new InputValidator(){
    public boolean checkInput(    String inputString){
      return inputString != null && inputString.trim().length() > 0;
    }
    public boolean canClose(    String inputString){
      final boolean alreadyContains=ArrayUtil.find(FavoritesViewImpl.getInstance(project).getAvailableFavoritesLists(),inputString.trim()) == -1;
      return inputString != null && inputString.trim().length() > 0 && alreadyContains;
    }
  }
);
  final FavoritesViewImpl favoritesView=FavoritesViewImpl.getInstance(project);
  return favoritesView.addNewFavoritesList(s);
}
