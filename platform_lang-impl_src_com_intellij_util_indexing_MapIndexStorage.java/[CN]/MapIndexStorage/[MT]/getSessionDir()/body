{
  File sessionDirectory=mySessionDirectory;
  if (sessionDirectory == null) {
synchronized (MapIndexStorage.class) {
      sessionDirectory=mySessionDirectory;
      if (sessionDirectory == null) {
        try {
          mySessionDirectory=sessionDirectory=FileUtil.createTempDirectory(new File(PathManager.getTempPath()),Long.toString(System.currentTimeMillis()),"",true);
        }
 catch (        IOException ex) {
          throw new RuntimeException("Can not create temp directory",ex);
        }
      }
    }
  }
  return sessionDirectory;
}
