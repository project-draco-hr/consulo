{
  List<GenerationInfo> members=new ArrayList<GenerationInfo>();
  final PsiMethod method=TestIntegrationUtils.createDummyMethod(file);
  final PsiMethod[] result=new PsiMethod[1];
  members.add(new GenerationInfoBase(){
    @NotNull public PsiMember getPsiMember(){
      return method;
    }
    public void insert(    PsiClass aClass,    PsiElement anchor,    boolean before) throws IncorrectOperationException {
      result[0]=(PsiMethod)GenerateMembersUtil.insert(aClass,method,anchor,before);
    }
  }
);
  int offset=findOffsetToInsertMethodTo(editor,file);
  GenerateMembersUtil.insertMembersAtOffset(file,offset,members);
  return result[0] != null ? CodeInsightUtilBase.forcePsiPostprocessAndRestoreElement(result[0]) : null;
}
