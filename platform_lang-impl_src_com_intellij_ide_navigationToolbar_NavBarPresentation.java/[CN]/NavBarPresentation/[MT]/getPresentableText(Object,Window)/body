{
  if (!NavBarModel.isValid(object))   return IdeBundle.message("node.structureview.invalid");
  for (  NavBarModelExtension modelExtension : Extensions.getExtensions(NavBarModelExtension.EP_NAME)) {
    String text=modelExtension.getPresentableText(object);
    if (text != null) {
      boolean truncated=false;
      if (window != null) {
        Rectangle wndBounds=window.getBounds();
        Rectangle rec=ScreenUtil.getScreenRectangle(wndBounds.x,wndBounds.y);
        final int windowWidth=rec.width;
        while (window.getFontMetrics(window.getFont()).stringWidth(text) + 100 > windowWidth && text.length() > 10) {
          text=text.substring(0,text.length() - 10);
          truncated=true;
        }
      }
      return text + (truncated ? "..." : "");
    }
  }
  return object.toString();
}
