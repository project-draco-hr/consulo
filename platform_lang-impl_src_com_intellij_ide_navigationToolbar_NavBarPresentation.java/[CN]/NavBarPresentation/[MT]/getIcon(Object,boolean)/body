{
  if (!NavBarModel.isValid(object))   return null;
  if (object instanceof Project)   return PROJECT_ICON;
  if (object instanceof Module)   return ((Module)object).getModuleType().getNodeIcon(false);
  try {
    if (object instanceof PsiElement) {
      return ApplicationManager.getApplication().runReadAction(new Computable<Icon>(){
        public Icon compute(){
          return ((PsiElement)object).isValid() ? ((PsiElement)object).getIcon(open ? Iconable.ICON_FLAG_OPEN : Iconable.ICON_FLAG_CLOSED) : null;
        }
      }
);
    }
  }
 catch (  IndexNotReadyException e) {
    return null;
  }
  if (object instanceof JdkOrderEntry)   return ((JdkOrderEntry)object).getJdk().getSdkType().getIcon();
  if (object instanceof LibraryOrderEntry)   return IconLoader.getIcon("/nodes/ppLibClosed.png");
  if (object instanceof ModuleOrderEntry)   return ((ModuleOrderEntry)object).getModule().getModuleType().getNodeIcon(false);
  return null;
}
