{
  final Color[] colors=new Color[baseColors.length];
  final Color tagBackground=myEditor instanceof EditorEx ? ((EditorEx)myEditor).getBackgroundColor() : null;
  final double transparency=0.1;
  for (int i=0; i < colors.length; i++) {
    final Color color=baseColors[i];
    if (tagBackground == null) {
      colors[i]=color;
    }
 else {
      int r=(int)(tagBackground.getRed() * (1 - transparency) + color.getRed() * transparency);
      int g=(int)(tagBackground.getGreen() * (1 - transparency) + color.getGreen() * transparency);
      int b=(int)(tagBackground.getBlue() * (1 - transparency) + color.getBlue() * transparency);
      colors[i]=new Color(r,g,b);
    }
  }
  return colors;
}
