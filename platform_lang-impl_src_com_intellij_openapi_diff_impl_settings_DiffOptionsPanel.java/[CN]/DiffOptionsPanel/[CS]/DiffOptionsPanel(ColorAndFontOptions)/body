{
  myOptions=options;
  myOptionsList.setCellRenderer(new OptionsReneder());
  myOptionsList.setModel(myOptionsModel);
  ListSelectionModel selectionModel=myOptionsList.getSelectionModel();
  selectionModel.setSelectionMode(ListSelectionModel.SINGLE_SELECTION);
  selectionModel.addListSelectionListener(new ListSelectionListener(){
    @Override public void valueChanged(    ListSelectionEvent e){
      TextDiffType selection=getSelectedOption();
      ColorPanel background=getBackgroundColorPanel();
      ColorPanel stripeMark=getStripeMarkColorPanel();
      if (selection == null) {
        background.setEnabled(false);
        stripeMark.setEnabled(false);
      }
 else {
        background.setEnabled(true);
        stripeMark.setEnabled(true);
        MyColorAndFontDescription description=getSelectedDescription();
        if (description != null) {
          background.setSelectedColor(description.getBackgroundColor());
          stripeMark.setSelectedColor(description.getStripeMarkColor());
        }
      }
      myDispatcher.getMulticaster().selectedOptionChanged(selection);
    }
  }
);
  getBackgroundColorPanel().addActionListener(new ActionListener(){
    @Override public void actionPerformed(    ActionEvent e){
      MyColorAndFontDescription selectedDescription=getSelectedDescription();
      ColorPanel colorPanel=getBackgroundColorPanel();
      if (!checkModifiableScheme()) {
        colorPanel.setSelectedColor(selectedDescription.getBackgroundColor());
        return;
      }
      selectedDescription.setBackgroundColor(colorPanel.getSelectedColor());
      myDispatcher.getMulticaster().settingsChanged();
    }
  }
);
  getStripeMarkColorPanel().addActionListener(new ActionListener(){
    @Override public void actionPerformed(    ActionEvent e){
      MyColorAndFontDescription selectedDescription=getSelectedDescription();
      ColorPanel colorPanel=getStripeMarkColorPanel();
      if (!checkModifiableScheme()) {
        colorPanel.setSelectedColor(selectedDescription.getStripeMarkColor());
        return;
      }
      selectedDescription.setStripeMarkColor(colorPanel.getSelectedColor());
      myDispatcher.getMulticaster().settingsChanged();
    }
  }
);
}
