{
  for (  BundledColorSchemesProvider provider : BundledColorSchemesProvider.EP_NAME.getExtensions()) {
    final String[] schemesPaths=provider.getBundledSchemesRelativePaths();
    for (    final String schemePath : schemesPaths) {
      try {
        final InputStream inputStream=DecodeDefaultsUtil.getDefaultsInputStream(provider,schemePath);
        if (inputStream == null) {
          LOG.error("Cannot read scheme from " + schemePath);
          continue;
        }
        final Document document;
        try {
          document=JDOMUtil.loadDocument(inputStream);
        }
 catch (        JDOMException e) {
          LOG.info("Error reading scheme from  " + schemePath + ": "+ e.getLocalizedMessage());
          throw e;
        }
        final EditorColorsSchemeImpl scheme=loadSchemeFromDocument(document,false);
        mySchemesManager.addNewScheme(scheme,false);
      }
 catch (      final Exception e) {
        ApplicationManager.getApplication().invokeLater(new Runnable(){
          public void run(){
            LOG.error("Cannot read scheme from " + schemePath + ": "+ e.getLocalizedMessage(),e);
          }
        }
);
      }
    }
  }
}
