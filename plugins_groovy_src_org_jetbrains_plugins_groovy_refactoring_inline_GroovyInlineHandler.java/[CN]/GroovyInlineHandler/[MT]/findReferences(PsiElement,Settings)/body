{
  if (element instanceof GrVariable && GroovyRefactoringUtil.isLocalVariable((GrVariable)element)) {
    if (settings instanceof InlineLocalVarSettings) {
      return ((InlineLocalVarSettings)settings).getRefs();
    }
  }
 else   if (element instanceof GrAccessorMethod || element instanceof GrField) {
    if (element instanceof GrAccessorMethod) {
      element=((GrAccessorMethod)element).getProperty();
    }
    LOG.assertTrue(((GrField)element).getSetter() == null);
    Collection<PsiReference> result=new ArrayList<PsiReference>();
    result.addAll(ReferencesSearch.search(element).findAll());
    for (    GrAccessorMethod getter : ((GrField)element).getGetters()) {
      result.addAll(MethodReferencesSearch.search(getter).findAll());
    }
    return result;
  }
  return ReferencesSearch.search(element).findAll();
}
