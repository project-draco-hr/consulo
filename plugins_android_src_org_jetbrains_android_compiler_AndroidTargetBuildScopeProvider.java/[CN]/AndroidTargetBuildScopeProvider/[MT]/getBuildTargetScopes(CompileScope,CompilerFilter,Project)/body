{
  if (!AndroidCompileUtil.isFullBuild(baseScope) || !ProjectFacetManager.getInstance(project).hasFacets(AndroidFacet.ID)) {
    return Collections.emptyList();
  }
  final List<String> targetIds=new ArrayList<String>();
  for (  Module module : baseScope.getAffectedModules()) {
    final AndroidFacet facet=AndroidFacet.getInstance(module);
    if (facet != null && !facet.getConfiguration().LIBRARY_PROJECT) {
      targetIds.add(module.getName());
    }
  }
  if (targetIds.isEmpty()) {
    return Collections.emptyList();
  }
  final List<TargetTypeBuildScope> result=new ArrayList<TargetTypeBuildScope>();
  final List<String> typeIds=Arrays.asList(AndroidCommonUtils.DEX_BUILD_TARGET_TYPE_ID,AndroidCommonUtils.PACKAGING_BUILD_TARGET_TYPE_ID);
  addAllTargetScopes(typeIds,targetIds,result);
  return result;
}
