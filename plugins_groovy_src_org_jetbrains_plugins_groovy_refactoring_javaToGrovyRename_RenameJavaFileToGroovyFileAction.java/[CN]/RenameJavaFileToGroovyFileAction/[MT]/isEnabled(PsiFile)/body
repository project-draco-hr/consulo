{
  if (file == null) {
    return false;
  }
  final Language language=file.getLanguage();
  if (language == GroovyFileType.GROOVY_LANGUAGE) {
    if (((GroovyFile)file).isScript()) {
      final GroovyScriptType type=GroovyScriptTypeDetector.getScriptType((GroovyFile)file);
      if (type != GroovyScriptTypeDetector.DEFAULT_TYPE) {
        return false;
      }
    }
    return true;
  }
  if (!(language == StdLanguages.JAVA)) {
    return false;
  }
  final Module module=ModuleUtil.findModuleForPsiElement(file);
  return module != null && LibrariesUtil.hasGroovySdk(module);
}
