{
  String text=myNameTextField.getText().trim();
  if (text.length() == 0) {
    setError("Empty configuration name is not allowed.");
    return;
  }
 else   if (myTarget != null && text.equals(myTarget.getName())) {
  }
 else   if (myExistingConfigNames.contains(text)) {
    setError("There is another configuration with the same name");
    return;
  }
  for (  BranchDescriptor d : myBranches) {
switch (d.status) {
case BRANCH_NAME_EXISTS:
      setError("Duplicate branch name for root " + d.getRoot());
    return;
case INVALID_BRANCH_NAME:
  setError("Invalid branch name for root " + d.getRoot());
return;
case BAD_REVISION:
setError("Invalid revision for root " + d.getRoot());
return;
case MISSING_REVISION:
setError("The revision must be specified for root " + d.getRoot());
return;
case CHECKOUT_NEEDED:
case NO_ACTION:
case REMOVED_ROOT:
break;
default :
throw new RuntimeException("Unexpected status: " + d.status);
}
}
setError(null);
}
