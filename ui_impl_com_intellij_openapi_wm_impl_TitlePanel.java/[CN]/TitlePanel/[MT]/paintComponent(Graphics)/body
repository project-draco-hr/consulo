{
  super.paintComponent(g);
  final Graphics2D g2d=(Graphics2D)g;
  g2d.setPaint(new GradientPaint(0,0,myBndColor,0,getHeight(),myCntColor));
  if (mySideButtons.isVisible()) {
    final Rectangle sideRec=SwingUtilities.convertRectangle(mySideButtonsComponent.getParent(),mySideButtonsComponent.getBounds(),this);
    g2d.fillRect(0,0,getWidth() - sideRec.width,getHeight());
    g2d.setColor(BUTTON_SEPARATOR_COLOR);
    g2d.drawLine(sideRec.x,0,sideRec.x,getHeight());
    g2d.setColor(myActive ? new Color(78,94,121) : ActivatableLineBorder.INACTIVE_COLOR);
    UIUtil.drawLine(g,sideRec.x + 1,sideRec.y,sideRec.x + 1,getHeight());
    UIUtil.drawLine(g,(int)sideRec.getMaxX() - 1,sideRec.y,(int)sideRec.getMaxX() - 1,getHeight());
    UIUtil.drawLine(g,sideRec.x + 1,getHeight() - 1,(int)sideRec.getMaxX() - 1,getHeight() - 1);
    final Color buttonInnerColor=myActive ? new Color(179,197,231) : new Color(200,200,200);
    g2d.setPaint(new GradientPaint(sideRec.x,sideRec.y + 1,Color.white,sideRec.x,(int)sideRec.getMaxY() - 1,buttonInnerColor));
    g2d.fillRect(sideRec.x + 2,sideRec.y + 1,sideRec.width - 3,sideRec.height - 2);
  }
 else {
    g2d.fillRect(0,0,getWidth(),getHeight());
  }
}
