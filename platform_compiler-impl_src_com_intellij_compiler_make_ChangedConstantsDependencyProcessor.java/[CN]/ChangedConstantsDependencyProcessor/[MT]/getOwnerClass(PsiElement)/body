{
  while (!(element instanceof PsiFile)) {
    if (element instanceof PsiClass && element.getParent() instanceof PsiJavaFile) {
      final PsiClass psiClass=(PsiClass)element;
      if (JspPsiUtil.isInJspFile(psiClass)) {
        return null;
      }
      final PsiFile containingFile=psiClass.getContainingFile();
      if (containingFile == null) {
        return null;
      }
      return StdLanguages.JAVA.equals(containingFile.getLanguage()) ? psiClass : null;
    }
    element=element.getParent();
  }
  return null;
}
