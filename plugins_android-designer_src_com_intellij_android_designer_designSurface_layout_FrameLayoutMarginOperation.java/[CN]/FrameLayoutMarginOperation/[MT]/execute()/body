{
  ApplicationManager.getApplication().runWriteAction(new Runnable(){
    @Override public void run(){
      XmlTag tag=myComponent.getTag();
      XmlAttribute margin=tag.getAttribute("android:layout_margin");
      if (margin != null) {
        String value=margin.getValue();
        margin.delete();
        if (!StringUtil.isEmpty(value)) {
          tag.setAttribute("android:layout_marginLeft",value);
          tag.setAttribute("android:layout_marginRight",value);
          tag.setAttribute("android:layout_marginTop",value);
          tag.setAttribute("android:layout_marginBottom",value);
        }
      }
      Point moveDelta=myContext.getMoveDelta();
      Dimension sizeDelta=myContext.getSizeDelta();
      int direction=myContext.getResizeDirection();
      if (direction == Position.WEST) {
        setValue(tag,"android:layout_marginLeft",myMargins.x - moveDelta.x);
      }
 else       if (direction == Position.EAST) {
        setValue(tag,"android:layout_marginRight",myMargins.width + sizeDelta.width);
      }
 else       if (direction == Position.NORTH) {
        setValue(tag,"android:layout_marginTop",myMargins.y - moveDelta.y);
      }
 else       if (direction == Position.SOUTH) {
        setValue(tag,"android:layout_marginBottom",myMargins.height + sizeDelta.height);
      }
    }
  }
);
}
