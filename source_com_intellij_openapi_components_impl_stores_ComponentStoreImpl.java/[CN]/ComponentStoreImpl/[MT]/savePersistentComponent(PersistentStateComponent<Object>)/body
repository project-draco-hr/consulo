{
  try {
    Storage storageSpec=getComponentStorage(persistentStateComponent,StateStorageOperation.WRITE);
    StateStorage stateStorage=getStateStorage(storageSpec);
    if (stateStorage == null)     return;
    final Object state=persistentStateComponent.getState();
    stateStorage.setState(persistentStateComponent,getComponentName(persistentStateComponent),state);
  }
 catch (  StateStorage.StateStorageException e) {
    LOG.error(e);
  }
}
