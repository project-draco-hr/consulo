{
  try {
    Storage storageSpec=getComponentStorage(persistentStateComponent);
    StateStorage stateStorage=getStateStorage(storageSpec);
    if (stateStorage == null)     return;
    org.w3c.dom.Element elementState=XmlSerializer.serialize(persistentStateComponent.getState(),DOMUtil.createDocument(),mySerializationFilter);
    stateStorage.setState(persistentStateComponent,getComponentName(persistentStateComponent),elementState);
  }
 catch (  ParserConfigurationException e) {
    LOG.error(e);
  }
catch (  StateStorage.StateStorageException e) {
    LOG.error(e);
  }
}
