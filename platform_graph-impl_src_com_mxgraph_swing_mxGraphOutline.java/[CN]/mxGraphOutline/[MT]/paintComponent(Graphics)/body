{
  super.paintComponent(g);
  paintBackground(g);
  if (graphComponent != null) {
    if (tripleBuffered) {
      checkTripleBuffer();
    }
 else     if (tripleBuffer != null) {
      destroyTripleBuffer();
    }
    if (tripleBuffer != null) {
      if (repaintBuffer) {
        repaintTripleBuffer(null);
      }
 else       if (repaintClip != null) {
        repaintClip.grow(1 / scale);
        repaintClip.setX(repaintClip.getX() * scale + translate.x);
        repaintClip.setY(repaintClip.getY() * scale + translate.y);
        repaintClip.setWidth(repaintClip.getWidth() * scale);
        repaintClip.setHeight(repaintClip.getHeight() * scale);
        repaintTripleBuffer(repaintClip.getRectangle());
      }
      mxUtils.drawImageClip(g,tripleBuffer,this);
    }
 else {
      paintGraph(g);
    }
    paintForeground(g);
  }
}
