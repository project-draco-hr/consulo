{
  final PsiElement psiElement=element.getElement();
  if (psiElement != null) {
    if (myContext != null) {
      final Set<Pair<InspectionTool,NamedScope>> tools=myContext.getTools().get(getShortName());
      if (tools != null) {
        for (        Pair<InspectionTool,NamedScope> pair : tools) {
          if (pair.first == this) {
            return myContext.getCurrentProfile().getErrorLevel(HighlightDisplayKey.find(getShortName()),psiElement).getSeverity();
          }
        }
      }
      final InspectionProfile profile=InspectionProjectProfileManager.getInstance(getContext().getProject()).getInspectionProfile();
      final HighlightDisplayLevel level=profile.getErrorLevel(HighlightDisplayKey.find(getShortName()),psiElement);
      return level.getSeverity();
    }
  }
  return null;
}
