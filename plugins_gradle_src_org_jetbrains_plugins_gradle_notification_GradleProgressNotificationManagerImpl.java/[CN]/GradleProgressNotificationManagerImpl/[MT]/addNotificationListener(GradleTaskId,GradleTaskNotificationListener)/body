{
  Set<GradleTaskId> ids=null;
  while (ids == null) {
    if (myListeners.containsKey(listener)) {
      ids=myListeners.get(listener);
    }
 else {
      ids=myListeners.putIfAbsent(listener,new ConcurrentHashSet<GradleTaskId>());
    }
  }
  return ids.add(taskId);
}
