{
  super(project,false);
  DefaultListModel model=new DefaultListModel();
  for (  DocumentReference file : files) {
    final VirtualFile vFile=file.getFile();
    if (vFile != null) {
      model.add(0,vFile.getPresentableUrl());
    }
 else {
      model.add(0,"<unknown file>");
    }
  }
  myProblemFilesList.setModel(model);
  setTitle(CommonBundle.message("cannot.undo.dialog.title"));
  myProblemMessageLabel.setText(problemText);
  myProblemMessageLabel.setIcon(Messages.getErrorIcon());
  init();
}
