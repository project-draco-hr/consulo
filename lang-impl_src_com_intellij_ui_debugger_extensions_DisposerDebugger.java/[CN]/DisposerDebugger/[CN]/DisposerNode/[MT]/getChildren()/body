{
  final ObjectNode value=getValue();
  if (value != null) {
    final Collection subnodes=value.getChildren();
    final ArrayList<DisposerNode> children=new ArrayList<DisposerNode>(subnodes.size());
    for (Iterator iterator=subnodes.iterator(); iterator.hasNext(); ) {
      children.add(new DisposerNode(myTree,(ObjectNode)iterator.next()));
    }
    return children;
  }
 else {
    final ObjectTree<Disposable> tree=Disposer.getTree();
    final THashSet<Disposable> root=tree.getRootObjects();
    ArrayList<DisposerNode> children=new ArrayList<DisposerNode>(root.size());
    for (    Disposable each : root) {
      children.add(new DisposerNode(myTree,tree.getNode(each)));
    }
    return children;
  }
}
