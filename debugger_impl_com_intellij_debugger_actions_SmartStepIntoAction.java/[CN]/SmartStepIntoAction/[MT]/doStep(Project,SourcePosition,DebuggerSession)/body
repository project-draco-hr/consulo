{
  final FileEditor fileEditor=FileEditorManager.getInstance(project).getSelectedEditor(position.getFile().getVirtualFile());
  if (fileEditor instanceof TextEditor) {
    final List<PsiMethod> methods=findReferencedMethods(position);
    if (methods.size() > 1) {
      final PsiMethodListPopupStep popupStep=new PsiMethodListPopupStep(methods,new PsiMethodListPopupStep.OnChooseRunnable(){
        public void execute(        PsiMethod chosenMethod){
          final String hintMethodSignature=createSteppingHintMethodSignature(chosenMethod,session.getProcess());
          session.stepInto(false,hintMethodSignature);
        }
      }
);
      final Editor editor=((TextEditor)fileEditor).getEditor();
      JBPopupFactory.getInstance().createListPopup(popupStep).show(calcPopupLocation(editor,position));
      return;
    }
  }
  session.stepInto(false,null);
}
