{
  myVisiblePackBuilder=new VisiblePackBuilder(providers,hashMap,topCommitsDetailsCache,detailsGetter);
  myFilters=new VcsLogFilterCollectionImpl(null,null,null,null,null,null,null);
  mySortType=initialSortType;
  myTaskController=new SingleTaskController<Request,VisiblePack>(visiblePackConsumer){
    @Override protected void startNewBackgroundTask(){
      UIUtil.invokeLaterIfNeeded(new Runnable(){
        @Override public void run(){
          ProgressManagerImpl.runProcessWithProgressAsynchronously(new MyTask(project,"Applying filters..."));
        }
      }
);
    }
  }
;
}
