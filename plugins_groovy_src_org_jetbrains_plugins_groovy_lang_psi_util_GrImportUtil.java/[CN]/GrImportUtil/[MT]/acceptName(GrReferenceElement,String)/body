{
  final String actual=ref.getReferenceName();
  if (expected.equals(actual))   return true;
  if (ref.getQualifier() != null)   return false;
  final PsiFile file=ref.getContainingFile();
  if (file instanceof GroovyFile) {
    MultiMapBasedOnSet<String,String> data=KEY.getCachedValue(file);
    if (data == null) {
      data=collectAliases((GroovyFile)file);
      KEY.putCachedValue(file,data);
    }
    final Collection<String> aliases=data.get(expected);
    return aliases.contains(actual);
  }
  return false;
}
