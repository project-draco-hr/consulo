{
  final Map map=logEntry.getChangedPaths();
  for (  Object o : map.values()) {
    final SVNLogEntryPath path=(SVNLogEntryPath)o;
    final String localPath=path.getPath();
    final String copyPath=path.getCopyPath();
    if (LOG.isDebugEnabled()) {
      LOG.debug("localPath: " + localPath + " copy path: "+ copyPath);
    }
    if ('A' == path.getType()) {
      if ((myBranchUrl.equals(localPath) || SVNPathUtil.isAncestor(localPath,myBranchUrl)) && ((myTrunkUrl.equals(copyPath)) || SVNPathUtil.isAncestor(copyPath,myTrunkUrl))) {
        result.consume(new CopyData(path.getCopyRevision(),logEntry.getRevision(),true));
      }
 else {
        if ((myBranchUrl.equals(copyPath) || SVNPathUtil.isAncestor(copyPath,myBranchUrl)) && ((myTrunkUrl.equals(localPath)) || SVNPathUtil.isAncestor(localPath,myTrunkUrl))) {
          result.consume(new CopyData(path.getCopyRevision(),logEntry.getRevision(),false));
        }
      }
    }
  }
}
