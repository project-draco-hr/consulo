{
  final Pair<VirtualFilePointer,FileStatus> pair=myVfIterator.next();
  final VirtualFilePointer pointer=pair.getFirst();
  MyCheckpointContentRevision before=new MyCheckpointContentRevision(pointer,myBeforeLoader,true);
  MyCheckpointContentRevision after=new MyCheckpointContentRevision(pointer,myAfterLoader,false);
  if (FileStatus.ADDED.equals(pair.getSecond())) {
    before=null;
  }
 else   if (FileStatus.DELETED.equals(pair.getSecond())) {
    after=null;
  }
  return new Change(before,after,pair.getSecond());
}
