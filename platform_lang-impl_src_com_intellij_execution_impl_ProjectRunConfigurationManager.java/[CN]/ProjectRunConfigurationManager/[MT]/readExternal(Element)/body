{
  myUnloadedElements=null;
  final Set<String> existing=new HashSet<String>();
  final List children=element.getChildren();
  for (  final Object child : children) {
    final RunnerAndConfigurationSettings configuration=myManager.loadConfiguration((Element)child,true);
    if (configuration == null && Comparing.strEqual(element.getName(),RunManagerImpl.CONFIGURATION)) {
      if (myUnloadedElements == null)       myUnloadedElements=new ArrayList<Element>(2);
      myUnloadedElements.add(element);
    }
    if (configuration != null) {
      existing.add(RunManagerImpl.getUniqueName(configuration));
    }
  }
  myManager.removeNotExistingSharedConfigurations(existing);
  if (myManager.getSelectedConfiguration() == null) {
    final RunConfiguration[] allConfigurations=myManager.getAllConfigurations();
    for (    final RunConfiguration configuration : allConfigurations) {
      final RunnerAndConfigurationSettings settings=myManager.getSettings(allConfigurations[0]);
      if (!(configuration instanceof UnknownRunConfiguration)) {
        myManager.setSelectedConfiguration(settings);
        break;
      }
    }
  }
  myManager.setOrdered(false);
  myManager.getSortedConfigurations();
}
