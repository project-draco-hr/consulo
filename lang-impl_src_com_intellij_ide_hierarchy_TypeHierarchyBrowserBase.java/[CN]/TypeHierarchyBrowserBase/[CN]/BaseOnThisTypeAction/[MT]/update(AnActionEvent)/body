{
  final Presentation presentation=event.getPresentation();
  registerCustomShortcutSet(ActionManager.getInstance().getAction(IdeActions.ACTION_TYPE_HIERARCHY).getShortcutSet(),null);
  final DataContext dataContext=event.getDataContext();
  final TypeHierarchyBrowserBase browser=(TypeHierarchyBrowserBase)dataContext.getData(TYPE_HIERARCHY_BROWSER_DATA_CONSTANT);
  if (browser == null) {
    presentation.setVisible(false);
    presentation.setEnabled(false);
    return;
  }
  presentation.setVisible(true);
  final PsiElement selectedClass=browser.getSelectedElement();
  if (isEnabled(browser,selectedClass)) {
    presentation.setText(browser.isInterface(selectedClass) ? IdeBundle.message("action.base.on.this.interface") : IdeBundle.message("action.base.on.this.class"));
    presentation.setEnabled(true);
  }
 else {
    presentation.setEnabled(false);
  }
}
