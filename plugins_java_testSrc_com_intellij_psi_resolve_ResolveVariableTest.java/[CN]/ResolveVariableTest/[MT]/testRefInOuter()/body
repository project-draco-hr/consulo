{
  final PsiJavaReference ref=(PsiJavaReference)configureByFile("var/RefInOuter.java");
  final JavaResolveResult resolveResult=ref.advancedResolve(false);
  assertTrue(resolveResult.isValidResult());
  PsiElement currentFileResolveScope=resolveResult.getCurrentFileResolveScope();
  assertTrue(currentFileResolveScope instanceof PsiClass);
  assertEquals("Outer",((PsiClass)currentFileResolveScope).getName());
  PsiElement element=resolveResult.getElement();
  assertTrue(element instanceof PsiField);
  assertEquals("i",((PsiField)element).getName());
}
