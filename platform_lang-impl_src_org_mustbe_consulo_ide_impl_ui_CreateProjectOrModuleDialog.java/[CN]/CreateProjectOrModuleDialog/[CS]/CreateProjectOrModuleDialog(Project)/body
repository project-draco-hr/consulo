{
  super(project);
  setTitle(project == null ? IdeBundle.message("title.new.project") : IdeBundle.message("title.add.module"));
  DListItem root=DListItem.builder().withItems(DListItem.builder().withName("Java").withIcon(AllIcons.Nodes.Static).withItems(DListItem.builder().withName("Hello World").withIcon(AllIcons.Nodes.Class)),DListItem.builder().withName("C#").withIcon(AllIcons.Nodes.TypeAlias).withItems(DListItem.builder().withName("ASP").withIcon(AllIcons.Nodes.Artifact)),DListItem.builder().withName("Empty").withIcon(AllIcons.FileTypes.Text)).create();
  mySplitter=new JBSplitter(0.3f);
  mySplitter.setSplitterProportionKey("#CreateProjectOrModuleDialog.Splitter");
  DListWithChildren list=new DListWithChildren();
  list.select(root);
  mySplitter.setFirstComponent(new JBScrollPane(list));
  final JPanel panel=new JPanel(new VerticalFlowLayout());
  JTextField nameTextField=new JTextField();
  TextFieldWithBrowseButton locationTextField=new TextFieldWithBrowseButton();
  panel.add(LabeledComponent.create(nameTextField,"Name").setLabelLocation(BorderLayout.WEST));
  panel.add(LabeledComponent.create(locationTextField,"Path").setLabelLocation(BorderLayout.WEST));
  panel.add(new SeparatorComponent());
  new LocationNameFieldsBinding(project,locationTextField,nameTextField,ProjectUtil.getBaseDir(),"Select Directory");
  final JPanel nullPanel=new JPanel(new BorderLayout());
  mySplitter.setSecondComponent(nullPanel);
  list.setConsumer(new Consumer<DListItem>(){
    @Override public void consume(    DListItem dListItem){
      if (dListItem != null) {
        mySplitter.setSecondComponent(panel);
      }
 else {
        mySplitter.setSecondComponent(nullPanel);
      }
      mySplitter.invalidate();
    }
  }
);
  setSize(800,600);
  init();
}
