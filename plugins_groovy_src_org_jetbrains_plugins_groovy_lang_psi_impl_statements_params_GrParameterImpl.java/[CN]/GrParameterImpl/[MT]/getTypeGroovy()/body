{
  GrTypeElement typeElement=getTypeElementGroovy();
  if (typeElement != null) {
    PsiType type=typeElement.getType();
    if (!isVarArgs()) {
      return type;
    }
 else {
      return new PsiEllipsisType(type);
    }
  }
  if (isVarArgs()) {
    PsiClassType type=TypesUtil.getJavaLangObject(this);
    return new PsiEllipsisType(type);
  }
  PsiElement parent=getParent();
  if (parent instanceof GrForInClause) {
    GrExpression iteratedExpression=((GrForInClause)parent).getIteratedExpression();
    PsiType result=ClosureParameterEnhancer.findTypeForIteration(iteratedExpression,this);
    if (result != null) {
      return result;
    }
  }
 else   if (parent instanceof GrCatchClause) {
    return TypesUtil.createTypeByFQClassName(CommonClassNames.JAVA_LANG_THROWABLE,this);
  }
  return GrVariableEnhancer.getEnhancedType(this);
}
